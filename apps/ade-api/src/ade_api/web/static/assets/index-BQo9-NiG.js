(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function uv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var af={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function j1(){if(ux)return wl;ux=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return wl.Fragment=n,wl.jsx=a,wl.jsxs=a,wl}var dx;function E1(){return dx||(dx=1,af.exports=j1()),af.exports}var l=E1(),rf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function N1(){if(fx)return Ie;fx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function U(A,Y,O){this.props=A,this.context=Y,this.refs=R,this.updater=O||k}U.prototype.isReactComponent={},U.prototype.setState=function(A,Y){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Y,"setState")},U.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=U.prototype;function T(A,Y,O){this.props=A,this.context=Y,this.refs=R,this.updater=O||k}var W=T.prototype=new j;W.constructor=T,N(W,U.prototype),W.isPureReactComponent=!0;var q=Array.isArray;function X(){}var H={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function Q(A,Y,O){var z=O.ref;return{$$typeof:e,type:A,key:Y,ref:z!==void 0?z:null,props:O}}function ne(A,Y){return Q(A.type,Y,A.props)}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function ue(A){var Y={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(O){return Y[O]})}var me=/\/+/g;function pe(A,Y){return typeof A=="object"&&A!==null&&A.key!=null?ue(""+A.key):Y.toString(36)}function Se(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(X,X):(A.status="pending",A.then(function(Y){A.status==="pending"&&(A.status="fulfilled",A.value=Y)},function(Y){A.status==="pending"&&(A.status="rejected",A.reason=Y)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,Y,O,z,I){var V=typeof A;(V==="undefined"||V==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(V){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case e:case n:oe=!0;break;case b:return oe=A._init,B(oe(A._payload),Y,O,z,I)}}if(oe)return I=I(A),oe=z===""?"."+pe(A,0):z,q(I)?(O="",oe!=null&&(O=oe.replace(me,"$&/")+"/"),B(I,Y,O,"",function(G){return G})):I!=null&&(re(I)&&(I=ne(I,O+(I.key==null||A&&A.key===I.key?"":(""+I.key).replace(me,"$&/")+"/")+oe)),Y.push(I)),1;oe=0;var ve=z===""?".":z+":";if(q(A))for(var Ee=0;Ee<A.length;Ee++)z=A[Ee],V=ve+pe(z,Ee),oe+=B(z,Y,O,V,I);else if(Ee=E(A),typeof Ee=="function")for(A=Ee.call(A),Ee=0;!(z=A.next()).done;)z=z.value,V=ve+pe(z,Ee++),oe+=B(z,Y,O,V,I);else if(V==="object"){if(typeof A.then=="function")return B(Se(A),Y,O,z,I);throw Y=String(A),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return oe}function J(A,Y,O){if(A==null)return A;var z=[],I=0;return B(A,z,"","",function(V){return Y.call(O,V,I++)}),z}function ge(A){if(A._status===-1){var Y=A._result;Y=Y(),Y.then(function(O){(A._status===0||A._status===-1)&&(A._status=1,A._result=O)},function(O){(A._status===0||A._status===-1)&&(A._status=2,A._result=O)}),A._status===-1&&(A._status=0,A._result=Y)}if(A._status===1)return A._result.default;throw A._result}var be=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},we={map:J,forEach:function(A,Y,O){J(A,function(){Y.apply(this,arguments)},O)},count:function(A){var Y=0;return J(A,function(){Y++}),Y},toArray:function(A){return J(A,function(Y){return Y})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ie.Activity=y,Ie.Children=we,Ie.Component=U,Ie.Fragment=a,Ie.Profiler=c,Ie.PureComponent=T,Ie.StrictMode=i,Ie.Suspense=x,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(A){return H.H.useMemoCache(A)}},Ie.cache=function(A){return function(){return A.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(A,Y,O){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var z=N({},A.props),I=A.key;if(Y!=null)for(V in Y.key!==void 0&&(I=""+Y.key),Y)!F.call(Y,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&Y.ref===void 0||(z[V]=Y[V]);var V=arguments.length-2;if(V===1)z.children=O;else if(1<V){for(var oe=Array(V),ve=0;ve<V;ve++)oe[ve]=arguments[ve+2];z.children=oe}return Q(A.type,I,z)},Ie.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Ie.createElement=function(A,Y,O){var z,I={},V=null;if(Y!=null)for(z in Y.key!==void 0&&(V=""+Y.key),Y)F.call(Y,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(I[z]=Y[z]);var oe=arguments.length-2;if(oe===1)I.children=O;else if(1<oe){for(var ve=Array(oe),Ee=0;Ee<oe;Ee++)ve[Ee]=arguments[Ee+2];I.children=ve}if(A&&A.defaultProps)for(z in oe=A.defaultProps,oe)I[z]===void 0&&(I[z]=oe[z]);return Q(A,V,I)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(A){return{$$typeof:m,render:A}},Ie.isValidElement=re,Ie.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:ge}},Ie.memo=function(A,Y){return{$$typeof:g,type:A,compare:Y===void 0?null:Y}},Ie.startTransition=function(A){var Y=H.T,O={};H.T=O;try{var z=A(),I=H.S;I!==null&&I(O,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(X,be)}catch(V){be(V)}finally{Y!==null&&O.types!==null&&(Y.types=O.types),H.T=Y}},Ie.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ie.use=function(A){return H.H.use(A)},Ie.useActionState=function(A,Y,O){return H.H.useActionState(A,Y,O)},Ie.useCallback=function(A,Y){return H.H.useCallback(A,Y)},Ie.useContext=function(A){return H.H.useContext(A)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(A,Y){return H.H.useDeferredValue(A,Y)},Ie.useEffect=function(A,Y){return H.H.useEffect(A,Y)},Ie.useEffectEvent=function(A){return H.H.useEffectEvent(A)},Ie.useId=function(){return H.H.useId()},Ie.useImperativeHandle=function(A,Y,O){return H.H.useImperativeHandle(A,Y,O)},Ie.useInsertionEffect=function(A,Y){return H.H.useInsertionEffect(A,Y)},Ie.useLayoutEffect=function(A,Y){return H.H.useLayoutEffect(A,Y)},Ie.useMemo=function(A,Y){return H.H.useMemo(A,Y)},Ie.useOptimistic=function(A,Y){return H.H.useOptimistic(A,Y)},Ie.useReducer=function(A,Y,O){return H.H.useReducer(A,Y,O)},Ie.useRef=function(A){return H.H.useRef(A)},Ie.useState=function(A){return H.H.useState(A)},Ie.useSyncExternalStore=function(A,Y,O){return H.H.useSyncExternalStore(A,Y,O)},Ie.useTransition=function(){return H.H.useTransition()},Ie.version="19.2.0",Ie}var hx;function Jf(){return hx||(hx=1,rf.exports=N1()),rf.exports}var p=Jf();const bt=uv(p);var lf={exports:{}},Sl={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function _1(){return mx||(mx=1,(function(e){function n(B,J){var ge=B.length;B.push(J);e:for(;0<ge;){var be=ge-1>>>1,we=B[be];if(0<c(we,J))B[be]=J,B[ge]=we,ge=be;else break e}}function a(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],ge=B.pop();if(ge!==J){B[0]=ge;e:for(var be=0,we=B.length,A=we>>>1;be<A;){var Y=2*(be+1)-1,O=B[Y],z=Y+1,I=B[z];if(0>c(O,ge))z<we&&0>c(I,O)?(B[be]=I,B[z]=ge,be=z):(B[be]=O,B[Y]=ge,be=Y);else if(z<we&&0>c(I,ge))B[be]=I,B[z]=ge,be=z;else break e}}return J}function c(B,J){var ge=B.sortIndex-J.sortIndex;return ge!==0?ge:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var x=[],g=[],b=1,y=null,w=3,E=!1,k=!1,N=!1,R=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function W(B){for(var J=a(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=B)i(g),J.sortIndex=J.expirationTime,n(x,J);else break;J=a(g)}}function q(B){if(N=!1,W(B),!k)if(a(x)!==null)k=!0,X||(X=!0,ue());else{var J=a(g);J!==null&&Se(q,J.startTime-B)}}var X=!1,H=-1,F=5,Q=-1;function ne(){return R?!0:!(e.unstable_now()-Q<F)}function re(){if(R=!1,X){var B=e.unstable_now();Q=B;var J=!0;try{e:{k=!1,N&&(N=!1,j(H),H=-1),E=!0;var ge=w;try{t:{for(W(B),y=a(x);y!==null&&!(y.expirationTime>B&&ne());){var be=y.callback;if(typeof be=="function"){y.callback=null,w=y.priorityLevel;var we=be(y.expirationTime<=B);if(B=e.unstable_now(),typeof we=="function"){y.callback=we,W(B),J=!0;break t}y===a(x)&&i(x),W(B)}else i(x);y=a(x)}if(y!==null)J=!0;else{var A=a(g);A!==null&&Se(q,A.startTime-B),J=!1}}break e}finally{y=null,w=ge,E=!1}J=void 0}}finally{J?ue():X=!1}}}var ue;if(typeof T=="function")ue=function(){T(re)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,pe=me.port2;me.port1.onmessage=re,ue=function(){pe.postMessage(null)}}else ue=function(){U(re,0)};function Se(B,J){H=U(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ge=w;w=J;try{return B()}finally{w=ge}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ge=w;w=B;try{return J()}finally{w=ge}},e.unstable_scheduleCallback=function(B,J,ge){var be=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?be+ge:be):ge=be,B){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ge+we,B={id:b++,callback:J,priorityLevel:B,startTime:ge,expirationTime:we,sortIndex:-1},ge>be?(B.sortIndex=ge,n(g,B),a(x)===null&&B===a(g)&&(N?(j(H),H=-1):N=!0,Se(q,ge-be))):(B.sortIndex=we,n(x,B),k||E||(k=!0,X||(X=!0,ue()))),B},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(B){var J=w;return function(){var ge=w;w=J;try{return B.apply(this,arguments)}finally{w=ge}}}})(cf)),cf}var px;function C1(){return px||(px=1,of.exports=_1()),of.exports}var uf={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function k1(){if(gx)return Cn;gx=1;var e=Jf();function n(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(x,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:x,containerInfo:g,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(x,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(x,g,null,b)},Cn.flushSync=function(x){var g=f.T,b=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=g,i.p=b,i.d.f()}},Cn.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(x,g))},Cn.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},Cn.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(x,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);i.d.M(x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(x)},Cn.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin);i.d.L(x,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(x,g){if(typeof x=="string")if(g){var b=m(g.as,g.crossOrigin);i.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(x)},Cn.requestFormReset=function(x){i.d.r(x)},Cn.unstable_batchedUpdates=function(x,g){return x(g)},Cn.useFormState=function(x,g,b){return f.H.useFormState(x,g,b)},Cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var xx;function dv(){if(xx)return uf.exports;xx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),uf.exports=k1(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function T1(){if(vx)return Sl;vx=1;var e=C1(),n=Jf(),a=dv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(i(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return x(d),t;if(h===o)return x(d),s;h=h.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=h;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,o=h;break}if(S===o){v=!0,o=d,r=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===r){v=!0,r=h,o=d;break}if(S===o){v=!0,o=h,r=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),T=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case U:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case T:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case W:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case F:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var Se=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},be=[],we=-1;function A(t){return{current:t}}function Y(t){0>we||(t.current=be[we],be[we]=null,we--)}function O(t,s){we++,be[we]=t.current,t.current=s}var z=A(null),I=A(null),V=A(null),oe=A(null);function ve(t,s){switch(O(V,s),O(I,t),O(z,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Rg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Rg(s),t=zg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(z),O(z,t)}function Ee(){Y(z),Y(I),Y(V)}function G(t){t.memoizedState!==null&&O(oe,t);var s=z.current,r=zg(s,t.type);s!==r&&(O(I,t),O(z,r))}function Ne(t){I.current===t&&(Y(z),Y(I)),oe.current===t&&(Y(oe),xl._currentValue=ge)}var Ce,Be;function Oe(t){if(Ce===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",Be=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Be}var Ae=!1;function Qe(t,s){if(!t||Ae)return"";Ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var ee=se}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(se){ee=se}t.call(fe.prototype)}}else{try{throw Error()}catch(se){ee=se}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var D=v.split(`
`),P=S.split(`
`);for(d=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(o===D.length||d===P.length)for(o=D.length-1,d=P.length-1;1<=o&&0<=d&&D[o]!==P[d];)d--;for(;1<=o&&0<=d;o--,d--)if(D[o]!==P[d]){if(o!==1||d!==1)do if(o--,d--,0>d||D[o]!==P[d]){var le=`
`+D[o].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=o&&0<=d);break}}}finally{Ae=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Oe(r):""}function at(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Qe(t.type,!1);case 11:return Qe(t.type.render,!1);case 1:return Qe(t.type,!0);case 31:return Oe("Activity");default:return""}}function rt(t){try{var s="",r=null;do s+=at(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Kt=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,_=e.unstable_cancelCallback,C=e.unstable_shouldYield,ie=e.unstable_requestPaint,te=e.unstable_now,ce=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,jt=e.unstable_LowPriority,ye=e.unstable_IdlePriority,Te=e.log,Ze=e.unstable_setDisableYieldValue,Ke=null,it=null;function Et(t){if(typeof Te=="function"&&Ze(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ke,t)}catch{}}var pt=Math.clz32?Math.clz32:Ai,Gn=Math.log,Ws=Math.LN2;function Ai(t){return t>>>=0,t===0?32:31-(Gn(t)/Ws|0)|0}var Os=256,Ls=262144,Mt=4194304;function _e(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ht(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?d=_e(o):(v&=S,v!==0?d=_e(v):r||(r=S&~t,r!==0&&(d=_e(r))))):(S=o&~h,S!==0?d=_e(S):v!==0?d=_e(v):r||(r=o&~t,r!==0&&(d=_e(r)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,r=s&-s,h>=r||h===32&&(r&4194048)!==0)?s:d}function vn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Nn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function _n(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Dt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rt(t,s,r,o,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(r=v&~r;0<r;){var le=31-pt(r),fe=1<<le;S[le]=0,D[le]=-1;var ee=P[le];if(ee!==null)for(P[le]=null,le=0;le<ee.length;le++){var se=ee[le];se!==null&&(se.lane&=-536870913)}r&=~fe}o!==0&&Wn(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function Wn(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-pt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Vt(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-pt(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function ln(t,s){var r=s&-s;return r=(r&42)!==0?1:ls(r),(r&(t.suspendedLanes|s))!==0?0:r}function ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:sx(t.type))}function Es(t,s){var r=J.p;try{return J.p=t,s()}finally{J.p=r}}var dt=Math.random().toString(36).slice(2),on="__reactFiber$"+dt,Ft="__reactProps$"+dt,Yn="__reactContainer$"+dt,Dr="__reactEvents$"+dt,Rr="__reactListeners$"+dt,bn="__reactHandles$"+dt,Ns="__reactResources$"+dt,Rn="__reactMarker$"+dt;function Ys(t){delete t[on],delete t[Ft],delete t[Dr],delete t[Rr],delete t[bn]}function Us(t){var s=t[on];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Yn]||r[on]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Zg(t);t!==null;){if(r=t[on])return r;t=Zg(t)}return s}t=r,r=t.parentNode}return null}function _s(t){if(t=t[on]||t[Yn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Bs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function cs(t){var s=t[Ns];return s||(s=t[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(t){t[Rn]=!0}var Kn=new Set,eu={};function Ks(t,s){ba(t,s),ba(t+"Capture",s)}function ba(t,s){for(eu[t]=s,t=0;t<s.length;t++)Kn.add(s[t])}var zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Ja={};function tu(t){return Kt.call(Ja,t)?!0:Kt.call(Wl,t)?!1:zr.test(t)?Ja[t]=!0:(Wl[t]=!0,!1)}function Or(t,s,r){if(tu(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function us(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function ds(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function An(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mi(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Di(t){if(!t._valueTracker){var s=Yl(t)?"checked":"value";t._valueTracker=Mi(t,s,""+t[s])}}function Kl(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=Yl(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nu=/[\n"\\]/g;function zn(t){return t.replace(nu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ur(t,s,r,o,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+An(s)):t.value!==""+An(s)&&(t.value=""+An(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?er(t,v,An(s)):r!=null?er(t,v,An(r)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+An(S):t.removeAttribute("name")}function Pl(t,s,r,o,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Di(t);return}r=r!=null?""+An(r):"",s=s!=null?""+An(s):r,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Di(t)}function er(t,s,r){s==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ya(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+An(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Xl(t,s,r){if(s!=null&&(s=""+An(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+An(r):""}function Jl(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(Se(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=An(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Di(t)}function qs(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||su.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function to(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&eo(t,d,o)}else for(var h in s)s.hasOwnProperty(h)&&eo(t,h,s[h])}function Ri(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return ru.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var zi=null;function Oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sa=null,ja=null;function no(t){var s=_s(t);if(s&&(t=s.stateNode)){var r=t[Ft]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ur(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[Ft]||null;if(!d)throw Error(i(90));Ur(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&Kl(o)}break e;case"textarea":Xl(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&ya(t,!!r.multiple,s,!1)}}}var Z=!1;function ae(t,s,r){if(Z)return t(s,r);Z=!0;try{var o=t(s);return o}finally{if(Z=!1,(Sa!==null||ja!==null)&&(Zo(),Sa&&(s=Sa,t=ja,ja=Sa=null,no(s),t)))for(s=0;s<t.length;s++)no(t[s])}}function ke(t,s){var r=t.stateNode;if(r===null)return null;var o=r[Ft]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var He=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nt=!1;if(He)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){nt=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{nt=!1}var Fe=null,Ps=null,Ea=null;function Br(){if(Ea)return Ea;var t,s=Ps,r=s.length,o,d="value"in Fe?Fe.value:Fe.textContent,h=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(o=1;o<=v&&s[r-o]===d[h-o];o++);return Ea=d.slice(t,1<o?1-o:void 0)}function Pt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Lt(){return!0}function Ut(){return!1}function On(t){function s(r,o,d,h,v){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Lt:Ut,this.isPropagationStopped=Ut,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lt)},persist:function(){},isPersistent:Lt}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=On(tr),Li=y({},tr,{view:0,detail:0}),wy=On(Li),iu,lu,Ui,ao=y({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(iu=t.screenX-Ui.screenX,lu=t.screenY-Ui.screenY):lu=iu=0,Ui=t),iu)},movementY:function(t){return"movementY"in t?t.movementY:lu}}),Lh=On(ao),Sy=y({},ao,{dataTransfer:0}),jy=On(Sy),Ey=y({},Li,{relatedTarget:0}),ou=On(Ey),Ny=y({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=On(Ny),Cy=y({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ky=On(Cy),Ty=y({},tr,{data:0}),Uh=On(Ty),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Dy[t])?!!s[t]:!1}function cu(){return Ry}var zy=y({},Li,{key:function(t){if(t.key){var s=Ay[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?My[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(t){return t.type==="keypress"?Pt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oy=On(zy),Ly=y({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=On(Ly),Uy=y({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),By=On(Uy),qy=y({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=On(qy),Zy=y({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=On(Zy),Vy=y({},tr,{newState:0,oldState:0}),Fy=On(Vy),Qy=[9,13,27,32],uu=He&&"CompositionEvent"in window,Bi=null;He&&"documentMode"in document&&(Bi=document.documentMode);var Iy=He&&"TextEvent"in window&&!Bi,qh=He&&(!uu||Bi&&8<Bi&&11>=Bi),$h=" ",Zh=!1;function Hh(t,s){switch(t){case"keyup":return Qy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function Gy(t,s){switch(t){case"compositionend":return Vh(s);case"keypress":return s.which!==32?null:(Zh=!0,$h);case"textInput":return t=s.data,t===$h&&Zh?null:t;default:return null}}function Wy(t,s){if(qr)return t==="compositionend"||!uu&&Hh(t,s)?(t=Br(),Ea=Ps=Fe=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qh&&s.locale!=="ko"?null:s.data;default:return null}}var Yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Yy[t.type]:s==="textarea"}function Qh(t,s,r,o){Sa?ja?ja.push(o):ja=[o]:Sa=o,s=Wo(s,"onChange"),0<s.length&&(r=new so("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var qi=null,$i=null;function Ky(t){Cg(t,0)}function ro(t){var s=Bs(t);if(Kl(s))return t}function Ih(t,s){if(t==="change")return s}var Gh=!1;if(He){var du;if(He){var fu="oninput"in document;if(!fu){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),fu=typeof Wh.oninput=="function"}du=fu}else du=!1;Gh=du&&(!document.documentMode||9<document.documentMode)}function Yh(){qi&&(qi.detachEvent("onpropertychange",Kh),$i=qi=null)}function Kh(t){if(t.propertyName==="value"&&ro($i)){var s=[];Qh(s,$i,t,Oi(t)),ae(Ky,s)}}function Py(t,s,r){t==="focusin"?(Yh(),qi=s,$i=r,qi.attachEvent("onpropertychange",Kh)):t==="focusout"&&Yh()}function Xy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro($i)}function Jy(t,s){if(t==="click")return ro(s)}function ew(t,s){if(t==="input"||t==="change")return ro(s)}function tw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xn=typeof Object.is=="function"?Object.is:tw;function Zi(t,s){if(Xn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Kt.call(s,d)||!Xn(t[d],s[d]))return!1}return!0}function Ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xh(t,s){var r=Ph(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ph(r)}}function Jh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Jh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Lr(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Lr(t.document)}return s}function hu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var nw=He&&"documentMode"in document&&11>=document.documentMode,$r=null,mu=null,Hi=null,pu=!1;function tm(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pu||$r==null||$r!==Lr(o)||(o=$r,"selectionStart"in o&&hu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Hi&&Zi(Hi,o)||(Hi=o,o=Wo(mu,"onSelect"),0<o.length&&(s=new so("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=$r)))}function nr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Zr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},gu={},nm={};He&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function sr(t){if(gu[t])return gu[t];if(!Zr[t])return t;var s=Zr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in nm)return gu[t]=s[r];return t}var sm=sr("animationend"),am=sr("animationiteration"),rm=sr("animationstart"),sw=sr("transitionrun"),aw=sr("transitionstart"),rw=sr("transitioncancel"),im=sr("transitionend"),lm=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Cs(t,s){lm.set(t,s),Ks(s,[t])}var io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fs=[],Hr=0,vu=0;function lo(){for(var t=Hr,s=vu=Hr=0;s<t;){var r=fs[s];fs[s++]=null;var o=fs[s];fs[s++]=null;var d=fs[s];fs[s++]=null;var h=fs[s];if(fs[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}h!==0&&om(r,d,h)}}function oo(t,s,r,o){fs[Hr++]=t,fs[Hr++]=s,fs[Hr++]=r,fs[Hr++]=o,vu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function bu(t,s,r,o){return oo(t,s,r,o),co(t)}function ar(t,s){return oo(t,null,null,s),co(t)}function om(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-pt(r),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),h):null}function co(t){if(50<ul)throw ul=0,kd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Vr={};function iw(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,s,r,o){return new iw(t,s,r,o)}function yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var r=t.alternate;return r===null?(r=Jn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function cm(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function uo(t,s,r,o,d,h){var v=0;if(o=t,typeof t=="function")yu(t)&&(v=1);else if(typeof t=="string")v=d1(t,r,z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=Jn(31,r,s,d),t.elementType=Q,t.lanes=h,t;case N:return rr(r.children,d,h,s);case R:v=8,d|=24;break;case U:return t=Jn(12,r,s,d|2),t.elementType=U,t.lanes=h,t;case q:return t=Jn(13,r,s,d),t.elementType=q,t.lanes=h,t;case X:return t=Jn(19,r,s,d),t.elementType=X,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:v=10;break e;case j:v=9;break e;case W:v=11;break e;case H:v=14;break e;case F:v=16,o=null;break e}v=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=Jn(v,r,s,d),s.elementType=t,s.type=o,s.lanes=h,s}function rr(t,s,r,o){return t=Jn(7,t,o,s),t.lanes=r,t}function wu(t,s,r){return t=Jn(6,t,null,s),t.lanes=r,t}function um(t){var s=Jn(18,null,null,0);return s.stateNode=t,s}function Su(t,s,r){return s=Jn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var dm=new WeakMap;function hs(t,s){if(typeof t=="object"&&t!==null){var r=dm.get(t);return r!==void 0?r:(s={value:t,source:s,stack:rt(s)},dm.set(t,s),s)}return{value:t,source:s,stack:rt(s)}}var Fr=[],Qr=0,fo=null,Vi=0,ms=[],ps=0,Na=null,$s=1,Zs="";function Js(t,s){Fr[Qr++]=Vi,Fr[Qr++]=fo,fo=t,Vi=s}function fm(t,s,r){ms[ps++]=$s,ms[ps++]=Zs,ms[ps++]=Na,Na=t;var o=$s;t=Zs;var d=32-pt(o)-1;o&=~(1<<d),r+=1;var h=32-pt(s)+d;if(30<h){var v=d-d%5;h=(o&(1<<v)-1).toString(32),o>>=v,d-=v,$s=1<<32-pt(s)+d|r<<d|o,Zs=h+t}else $s=1<<h|r<<d|o,Zs=t}function ju(t){t.return!==null&&(Js(t,1),fm(t,1,0))}function Eu(t){for(;t===fo;)fo=Fr[--Qr],Fr[Qr]=null,Vi=Fr[--Qr],Fr[Qr]=null;for(;t===Na;)Na=ms[--ps],ms[ps]=null,Zs=ms[--ps],ms[ps]=null,$s=ms[--ps],ms[ps]=null}function hm(t,s){ms[ps++]=$s,ms[ps++]=Zs,ms[ps++]=Na,$s=s.id,Zs=s.overflow,Na=t}var yn=null,Nt=null,st=!1,_a=null,gs=!1,Nu=Error(i(519));function Ca(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fi(hs(s,t)),Nu}function mm(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[on]=t,s[Ft]=o,r){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(r=0;r<fl.length;r++)Je(fl[r],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Pl(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Jl(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||Mg(s.textContent,r)?(o.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),o.onScroll!=null&&Je("scroll",s),o.onScrollEnd!=null&&Je("scrollend",s),o.onClick!=null&&(s.onclick=Pn),s=!0):s=!1,s||Ca(t,!0)}function pm(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:yn=yn.return}}function Ir(t){if(t!==yn)return!1;if(!st)return pm(t),st=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Vd(t.type,t.memoizedProps)),r=!r),r&&Nt&&Ca(t),pm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Nt=$g(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Nt=$g(t)}else s===27?(s=Nt,Za(t.type)?(t=Wd,Wd=null,Nt=t):Nt=s):Nt=yn?vs(t.stateNode.nextSibling):null;return!0}function ir(){Nt=yn=null,st=!1}function _u(){var t=_a;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),_a=null),t}function Fi(t){_a===null?_a=[t]:_a.push(t)}var Cu=A(null),lr=null,ea=null;function ka(t,s,r){O(Cu,s._currentValue),s._currentValue=r}function ta(t){t._currentValue=Cu.current,Y(Cu)}function ku(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Tu(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var D=0;D<s.length;D++)if(S.context===s[D]){h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),ku(h.return,r,t),o||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),ku(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Gr(t,s,r,o){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;Xn(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===oe.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}d=d.return}t!==null&&Tu(s,t,r,o),s.flags|=262144}function ho(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function or(t){lr=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return gm(lr,t)}function mo(t,s){return lr===null&&or(t),gm(t,s)}function gm(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},ea===null){if(t===null)throw Error(i(308));ea=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ea=ea.next=s;return r}var lw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},ow=e.unstable_scheduleCallback,cw=e.unstable_NormalPriority,Xt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new lw,data:new Map,refCount:0}}function Qi(t){t.refCount--,t.refCount===0&&ow(cw,function(){t.controller.abort()})}var Ii=null,Mu=0,Wr=0,Yr=null;function uw(t,s){if(Ii===null){var r=Ii=[];Mu=0,Wr=zd(),Yr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Mu++,s.then(xm,xm),s}function xm(){if(--Mu===0&&Ii!==null){Yr!==null&&(Yr.status="fulfilled");var t=Ii;Ii=null,Wr=0,Yr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function dw(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var vm=B.S;B.S=function(t,s){tg=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&uw(t,s),vm!==null&&vm(t,s)};var cr=A(null);function Du(){var t=cr.current;return t!==null?t:yt.pooledCache}function po(t,s){s===null?O(cr,cr.current):O(cr,s.pool)}function bm(){var t=Du();return t===null?null:{parent:Xt._currentValue,pool:t}}var Kr=Error(i(460)),Ru=Error(i(474)),go=Error(i(542)),xo={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wm(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Pn,Pn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,jm(t),t;default:if(typeof s.status=="string")s.then(Pn,Pn);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,jm(t),t}throw dr=s,Kr}}function ur(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(dr=r,Kr):r}}var dr=null;function Sm(){if(dr===null)throw Error(i(459));var t=dr;return dr=null,t}function jm(t){if(t===Kr||t===go)throw Error(i(483))}var Pr=null,Gi=0;function vo(t){var s=Gi;return Gi+=1,Pr===null&&(Pr=[]),wm(Pr,t,s)}function Wi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function bo(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Em(t){function s($,L){if(t){var K=$.deletions;K===null?($.deletions=[L],$.flags|=16):K.push(L)}}function r($,L){if(!t)return null;for(;L!==null;)s($,L),L=L.sibling;return null}function o($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function d($,L){return $=Xs($,L),$.index=0,$.sibling=null,$}function h($,L,K){return $.index=K,t?(K=$.alternate,K!==null?(K=K.index,K<L?($.flags|=67108866,L):K):($.flags|=67108866,L)):($.flags|=1048576,L)}function v($){return t&&$.alternate===null&&($.flags|=67108866),$}function S($,L,K,de){return L===null||L.tag!==6?(L=wu(K,$.mode,de),L.return=$,L):(L=d(L,K),L.return=$,L)}function D($,L,K,de){var Le=K.type;return Le===N?le($,L,K.props.children,de,K.key):L!==null&&(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===F&&ur(Le)===L.type)?(L=d(L,K.props),Wi(L,K),L.return=$,L):(L=uo(K.type,K.key,K.props,null,$.mode,de),Wi(L,K),L.return=$,L)}function P($,L,K,de){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Su(K,$.mode,de),L.return=$,L):(L=d(L,K.children||[]),L.return=$,L)}function le($,L,K,de,Le){return L===null||L.tag!==7?(L=rr(K,$.mode,de,Le),L.return=$,L):(L=d(L,K),L.return=$,L)}function fe($,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=wu(""+L,$.mode,K),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return K=uo(L.type,L.key,L.props,null,$.mode,K),Wi(K,L),K.return=$,K;case k:return L=Su(L,$.mode,K),L.return=$,L;case F:return L=ur(L),fe($,L,K)}if(Se(L)||ue(L))return L=rr(L,$.mode,K,null),L.return=$,L;if(typeof L.then=="function")return fe($,vo(L),K);if(L.$$typeof===T)return fe($,mo($,L),K);bo($,L)}return null}function ee($,L,K,de){var Le=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Le!==null?null:S($,L,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===Le?D($,L,K,de):null;case k:return K.key===Le?P($,L,K,de):null;case F:return K=ur(K),ee($,L,K,de)}if(Se(K)||ue(K))return Le!==null?null:le($,L,K,de,null);if(typeof K.then=="function")return ee($,L,vo(K),de);if(K.$$typeof===T)return ee($,L,mo($,K),de);bo($,K)}return null}function se($,L,K,de,Le){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return $=$.get(K)||null,S(L,$,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return $=$.get(de.key===null?K:de.key)||null,D(L,$,de,Le);case k:return $=$.get(de.key===null?K:de.key)||null,P(L,$,de,Le);case F:return de=ur(de),se($,L,K,de,Le)}if(Se(de)||ue(de))return $=$.get(K)||null,le(L,$,de,Le,null);if(typeof de.then=="function")return se($,L,K,vo(de),Le);if(de.$$typeof===T)return se($,L,K,mo(L,de),Le);bo(L,de)}return null}function Me($,L,K,de){for(var Le=null,lt=null,Re=L,Ye=L=0,tt=null;Re!==null&&Ye<K.length;Ye++){Re.index>Ye?(tt=Re,Re=null):tt=Re.sibling;var ot=ee($,Re,K[Ye],de);if(ot===null){Re===null&&(Re=tt);break}t&&Re&&ot.alternate===null&&s($,Re),L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot,Re=tt}if(Ye===K.length)return r($,Re),st&&Js($,Ye),Le;if(Re===null){for(;Ye<K.length;Ye++)Re=fe($,K[Ye],de),Re!==null&&(L=h(Re,L,Ye),lt===null?Le=Re:lt.sibling=Re,lt=Re);return st&&Js($,Ye),Le}for(Re=o(Re);Ye<K.length;Ye++)tt=se(Re,$,Ye,K[Ye],de),tt!==null&&(t&&tt.alternate!==null&&Re.delete(tt.key===null?Ye:tt.key),L=h(tt,L,Ye),lt===null?Le=tt:lt.sibling=tt,lt=tt);return t&&Re.forEach(function(Ia){return s($,Ia)}),st&&Js($,Ye),Le}function $e($,L,K,de){if(K==null)throw Error(i(151));for(var Le=null,lt=null,Re=L,Ye=L=0,tt=null,ot=K.next();Re!==null&&!ot.done;Ye++,ot=K.next()){Re.index>Ye?(tt=Re,Re=null):tt=Re.sibling;var Ia=ee($,Re,ot.value,de);if(Ia===null){Re===null&&(Re=tt);break}t&&Re&&Ia.alternate===null&&s($,Re),L=h(Ia,L,Ye),lt===null?Le=Ia:lt.sibling=Ia,lt=Ia,Re=tt}if(ot.done)return r($,Re),st&&Js($,Ye),Le;if(Re===null){for(;!ot.done;Ye++,ot=K.next())ot=fe($,ot.value,de),ot!==null&&(L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot);return st&&Js($,Ye),Le}for(Re=o(Re);!ot.done;Ye++,ot=K.next())ot=se(Re,$,Ye,ot.value,de),ot!==null&&(t&&ot.alternate!==null&&Re.delete(ot.key===null?Ye:ot.key),L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot);return t&&Re.forEach(function(S1){return s($,S1)}),st&&Js($,Ye),Le}function vt($,L,K,de){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var Le=K.key;L!==null;){if(L.key===Le){if(Le=K.type,Le===N){if(L.tag===7){r($,L.sibling),de=d(L,K.props.children),de.return=$,$=de;break e}}else if(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===F&&ur(Le)===L.type){r($,L.sibling),de=d(L,K.props),Wi(de,K),de.return=$,$=de;break e}r($,L);break}else s($,L);L=L.sibling}K.type===N?(de=rr(K.props.children,$.mode,de,K.key),de.return=$,$=de):(de=uo(K.type,K.key,K.props,null,$.mode,de),Wi(de,K),de.return=$,$=de)}return v($);case k:e:{for(Le=K.key;L!==null;){if(L.key===Le)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){r($,L.sibling),de=d(L,K.children||[]),de.return=$,$=de;break e}else{r($,L);break}else s($,L);L=L.sibling}de=Su(K,$.mode,de),de.return=$,$=de}return v($);case F:return K=ur(K),vt($,L,K,de)}if(Se(K))return Me($,L,K,de);if(ue(K)){if(Le=ue(K),typeof Le!="function")throw Error(i(150));return K=Le.call(K),$e($,L,K,de)}if(typeof K.then=="function")return vt($,L,vo(K),de);if(K.$$typeof===T)return vt($,L,mo($,K),de);bo($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(r($,L.sibling),de=d(L,K),de.return=$,$=de):(r($,L),de=wu(K,$.mode,de),de.return=$,$=de),v($)):r($,L)}return function($,L,K,de){try{Gi=0;var Le=vt($,L,K,de);return Pr=null,Le}catch(Re){if(Re===Kr||Re===go)throw Re;var lt=Jn(29,Re,null,$.mode);return lt.lanes=de,lt.return=$,lt}finally{}}}var fr=Em(!0),Nm=Em(!1),Ta=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ou(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ct&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=co(t),om(t,null,r),s}return oo(t,o,s,r),co(t)}function Yi(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Vt(t,r)}}function Lu(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=s:h=h.next=s}else d=h=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var Uu=!1;function Ki(){if(Uu){var t=Yr;if(t!==null)throw t}}function Pi(t,s,r,o){Uu=!1;var d=t.updateQueue;Ta=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,P=D.next;D.next=null,v===null?h=P:v.next=P,v=D;var le=t.alternate;le!==null&&(le=le.updateQueue,S=le.lastBaseUpdate,S!==v&&(S===null?le.firstBaseUpdate=P:S.next=P,le.lastBaseUpdate=D))}if(h!==null){var fe=d.baseState;v=0,le=P=D=null,S=h;do{var ee=S.lane&-536870913,se=ee!==S.lane;if(se?(et&ee)===ee:(o&ee)===ee){ee!==0&&ee===Wr&&(Uu=!0),le!==null&&(le=le.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,$e=S;ee=s;var vt=r;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){fe=Me.call(vt,fe,ee);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,ee=typeof Me=="function"?Me.call(vt,fe,ee):Me,ee==null)break e;fe=y({},fe,ee);break e;case 2:Ta=!0}}ee=S.callback,ee!==null&&(t.flags|=64,se&&(t.flags|=8192),se=d.callbacks,se===null?d.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},le===null?(P=le=se,D=fe):le=le.next=se,v|=ee;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;se=S,S=se.next,se.next=null,d.lastBaseUpdate=se,d.shared.pending=null}}while(!0);le===null&&(D=fe),d.baseState=D,d.firstBaseUpdate=P,d.lastBaseUpdate=le,h===null&&(d.shared.lanes=0),La|=v,t.lanes=v,t.memoizedState=fe}}function _m(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Cm(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)_m(r[t],s)}var Xr=A(null),yo=A(0);function km(t,s){t=ua,O(yo,t),O(Xr,s),ua=t|s.baseLanes}function Bu(){O(yo,ua),O(Xr,Xr.current)}function qu(){ua=yo.current,Y(Xr),Y(yo)}var es=A(null),xs=null;function Da(t){var s=t.alternate;O(Qt,Qt.current&1),O(es,t),xs===null&&(s===null||Xr.current!==null||s.memoizedState!==null)&&(xs=t)}function $u(t){O(Qt,Qt.current),O(es,t),xs===null&&(xs=t)}function Tm(t){t.tag===22?(O(Qt,Qt.current),O(es,t),xs===null&&(xs=t)):Ra()}function Ra(){O(Qt,Qt.current),O(es,es.current)}function ts(t){Y(es),xs===t&&(xs=null),Y(Qt)}var Qt=A(0);function wo(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||Gd(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var na=0,Ge=null,gt=null,Jt=null,So=!1,Jr=!1,hr=!1,jo=0,Xi=0,ei=null,fw=0;function Bt(){throw Error(i(321))}function Zu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Xn(t[r],s[r]))return!1;return!0}function Hu(t,s,r,o,d,h){return na=h,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=t===null||t.memoizedState===null?fp:sd,hr=!1,h=r(o,d),hr=!1,Jr&&(h=Mm(s,r,o,d)),Am(t),h}function Am(t){B.H=tl;var s=gt!==null&&gt.next!==null;if(na=0,Jt=gt=Ge=null,So=!1,Xi=0,ei=null,s)throw Error(i(300));t===null||en||(t=t.dependencies,t!==null&&ho(t)&&(en=!0))}function Mm(t,s,r,o){Ge=t;var d=0;do{if(Jr&&(ei=null),Xi=0,Jr=!1,25<=d)throw Error(i(301));if(d+=1,Jt=gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=hp,h=s(r,o)}while(Jr);return h}function hw(){var t=B.H,s=t.useState()[0];return s=typeof s.then=="function"?Ji(s):s,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Ge.flags|=1024),s}function Vu(){var t=jo!==0;return jo=0,t}function Fu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Qu(t){if(So){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}So=!1}na=0,Jt=gt=Ge=null,Jr=!1,Xi=jo=0,ei=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ge.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function It(){if(gt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var s=Jt===null?Ge.memoizedState:Jt.next;if(s!==null)Jt=s,gt=t;else{if(t===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Jt===null?Ge.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ji(t){var s=Xi;return Xi+=1,ei===null&&(ei=[]),t=wm(ei,t,s),s=Ge,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?fp:sd),t}function No(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ji(t);if(t.$$typeof===T)return wn(t)}throw Error(i(438,String(t)))}function Iu(t){var s=null,r=Ge.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=Ge.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Eo(),Ge.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=ne;return s.index++,r}function sa(t,s){return typeof s=="function"?s(t):s}function _o(t){var s=It();return Gu(s,gt,t)}function Gu(t,s,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,D=null,P=s,le=!1;do{var fe=P.lane&-536870913;if(fe!==P.lane?(et&fe)===fe:(na&fe)===fe){var ee=P.revertLane;if(ee===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),fe===Wr&&(le=!0);else if((na&ee)===ee){P=P.next,ee===Wr&&(le=!0);continue}else fe={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(S=D=fe,v=h):D=D.next=fe,Ge.lanes|=ee,La|=ee;fe=P.action,hr&&r(h,fe),h=P.hasEagerState?P.eagerState:r(h,fe)}else ee={lane:fe,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(S=D=ee,v=h):D=D.next=ee,Ge.lanes|=fe,La|=fe;P=P.next}while(P!==null&&P!==s);if(D===null?v=h:D.next=S,!Xn(h,t.memoizedState)&&(en=!0,le&&(r=Yr,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=D,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Wu(t){var s=It(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,h=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);Xn(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),r.lastRenderedState=h}return[h,o]}function Dm(t,s,r){var o=Ge,d=It(),h=st;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=s();var v=!Xn((gt||d).memoizedState,r);if(v&&(d.memoizedState=r,en=!0),d=d.queue,Pu(Om.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,ti(9,{destroy:void 0},zm.bind(null,o,d,r,s),null),yt===null)throw Error(i(349));h||(na&127)!==0||Rm(o,s,r)}return r}function Rm(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ge.updateQueue,s===null?(s=Eo(),Ge.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function zm(t,s,r,o){s.value=r,s.getSnapshot=o,Lm(s)&&Um(t)}function Om(t,s,r){return r(function(){Lm(s)&&Um(t)})}function Lm(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Xn(t,r)}catch{return!0}}function Um(t){var s=ar(t,2);s!==null&&$n(s,t,2)}function Yu(t){var s=Mn();if(typeof t=="function"){var r=t;if(t=r(),hr){Et(!0);try{r()}finally{Et(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},s}function Bm(t,s,r,o){return t.baseState=r,Gu(t,gt,typeof o=="function"?o:sa)}function mw(t,s,r,o,d){if(To(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};B.T!==null?r(!0):h.isTransition=!1,o(h),r=s.pending,r===null?(h.next=s.pending=h,qm(s,h)):(h.next=r.next,s.pending=r.next=h)}}function qm(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var h=B.T,v={};B.T=v;try{var S=r(d,o),D=B.S;D!==null&&D(v,S),$m(t,s,S)}catch(P){Ku(t,s,P)}finally{h!==null&&v.types!==null&&(h.types=v.types),B.T=h}}else try{h=r(d,o),$m(t,s,h)}catch(P){Ku(t,s,P)}}function $m(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Zm(t,s,o)},function(o){return Ku(t,s,o)}):Zm(t,s,r)}function Zm(t,s,r){s.status="fulfilled",s.value=r,Hm(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,qm(t,r)))}function Ku(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,Hm(s),s=s.next;while(s!==o)}t.action=null}function Hm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Vm(t,s){return s}function Fm(t,s){if(st){var r=yt.formState;if(r!==null){e:{var o=Ge;if(st){if(Nt){t:{for(var d=Nt,h=gs;d.nodeType!==8;){if(!h){d=null;break t}if(d=vs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Nt=vs(d.nextSibling),o=d.data==="F!";break e}}Ca(o)}o=!1}o&&(s=r[0])}}return r=Mn(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:s},r.queue=o,r=cp.bind(null,Ge,o),o.dispatch=r,o=Yu(!1),h=nd.bind(null,Ge,!1,o.queue),o=Mn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=mw.bind(null,Ge,d,h,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function Qm(t){var s=It();return Im(s,gt,t)}function Im(t,s,r){if(s=Gu(t,s,Vm)[0],t=_o(sa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Ji(s)}catch(v){throw v===Kr?go:v}else o=s;s=It();var d=s.queue,h=d.dispatch;return r!==s.memoizedState&&(Ge.flags|=2048,ti(9,{destroy:void 0},pw.bind(null,d,r),null)),[o,h,t]}function pw(t,s){t.action=s}function Gm(t){var s=It(),r=gt;if(r!==null)return Im(s,r,t);It(),s=s.memoizedState,r=It();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function ti(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Eo(),Ge.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function Wm(){return It().memoizedState}function Co(t,s,r,o){var d=Mn();Ge.flags|=t,d.memoizedState=ti(1|s,{destroy:void 0},r,o===void 0?null:o)}function ko(t,s,r,o){var d=It();o=o===void 0?null:o;var h=d.memoizedState.inst;gt!==null&&o!==null&&Zu(o,gt.memoizedState.deps)?d.memoizedState=ti(s,h,r,o):(Ge.flags|=t,d.memoizedState=ti(1|s,h,r,o))}function Ym(t,s){Co(8390656,8,t,s)}function Pu(t,s){ko(2048,8,t,s)}function gw(t){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=Eo(),Ge.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Km(t){var s=It().memoizedState;return gw({ref:s,nextImpl:t}),function(){if((ct&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Pm(t,s){return ko(4,2,t,s)}function Xm(t,s){return ko(4,4,t,s)}function Jm(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function ep(t,s,r){r=r!=null?r.concat([t]):null,ko(4,4,Jm.bind(null,s,t),r)}function Xu(){}function tp(t,s){var r=It();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&Zu(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function np(t,s){var r=It();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&Zu(s,o[1]))return o[0];if(o=t(),hr){Et(!0);try{t()}finally{Et(!1)}}return r.memoizedState=[o,s],o}function Ju(t,s,r){return r===void 0||(na&1073741824)!==0&&(et&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=sg(),Ge.lanes|=t,La|=t,r)}function sp(t,s,r,o){return Xn(r,s)?r:Xr.current!==null?(t=Ju(t,r,o),Xn(t,s)||(en=!0),t):(na&42)===0||(na&1073741824)!==0&&(et&261930)===0?(en=!0,t.memoizedState=r):(t=sg(),Ge.lanes|=t,La|=t,s)}function ap(t,s,r,o,d){var h=J.p;J.p=h!==0&&8>h?h:8;var v=B.T,S={};B.T=S,nd(t,!1,s,r);try{var D=d(),P=B.S;if(P!==null&&P(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var le=dw(D,o);el(t,s,le,as(t))}else el(t,s,o,as(t))}catch(fe){el(t,s,{then:function(){},status:"rejected",reason:fe},as())}finally{J.p=h,v!==null&&S.types!==null&&(v.types=S.types),B.T=v}}function xw(){}function ed(t,s,r,o){if(t.tag!==5)throw Error(i(476));var d=rp(t).queue;ap(t,d,s,ge,r===null?xw:function(){return ip(t),r(o)})}function rp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ge},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function ip(t){var s=rp(t);s.next===null&&(s=t.alternate.memoizedState),el(t,s.next.queue,{},as())}function td(){return wn(xl)}function lp(){return It().memoizedState}function op(){return It().memoizedState}function vw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=as();t=Aa(r);var o=Ma(s,t,r);o!==null&&($n(o,s,r),Yi(o,s,r)),s={cache:Au()},t.payload=s;return}s=s.return}}function bw(t,s,r){var o=as();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},To(t)?up(s,r):(r=bu(t,s,r,o),r!==null&&($n(r,t,o),dp(r,s,o)))}function cp(t,s,r){var o=as();el(t,s,r,o)}function el(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(To(t))up(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,r);if(d.hasEagerState=!0,d.eagerState=S,Xn(S,v))return oo(t,s,d,0),yt===null&&lo(),!1}catch{}finally{}if(r=bu(t,s,d,o),r!==null)return $n(r,t,o),dp(r,s,o),!0}return!1}function nd(t,s,r,o){if(o={lane:2,revertLane:zd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},To(t)){if(s)throw Error(i(479))}else s=bu(t,r,o,2),s!==null&&$n(s,t,2)}function To(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function up(t,s){Jr=So=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function dp(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Vt(t,r)}}var tl={readContext:wn,use:No,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};tl.useEffectEvent=Bt;var fp={readContext:wn,use:No,useCallback:function(t,s){return Mn().memoizedState=[t,s===void 0?null:s],t},useContext:wn,useEffect:Ym,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,Co(4194308,4,Jm.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Co(4194308,4,t,s)},useInsertionEffect:function(t,s){Co(4,2,t,s)},useMemo:function(t,s){var r=Mn();s=s===void 0?null:s;var o=t();if(hr){Et(!0);try{t()}finally{Et(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Mn();if(r!==void 0){var d=r(s);if(hr){Et(!0);try{r(s)}finally{Et(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=bw.bind(null,Ge,t),[o.memoizedState,t]},useRef:function(t){var s=Mn();return t={current:t},s.memoizedState=t},useState:function(t){t=Yu(t);var s=t.queue,r=cp.bind(null,Ge,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Xu,useDeferredValue:function(t,s){var r=Mn();return Ju(r,t,s)},useTransition:function(){var t=Yu(!1);return t=ap.bind(null,Ge,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=Ge,d=Mn();if(st){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),yt===null)throw Error(i(349));(et&127)!==0||Rm(o,s,r)}d.memoizedState=r;var h={value:r,getSnapshot:s};return d.queue=h,Ym(Om.bind(null,o,h,t),[t]),o.flags|=2048,ti(9,{destroy:void 0},zm.bind(null,o,h,r,s),null),r},useId:function(){var t=Mn(),s=yt.identifierPrefix;if(st){var r=Zs,o=$s;r=(o&~(1<<32-pt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=jo++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=fw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:td,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var s=Mn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=nd.bind(null,Ge,!0,r),r.dispatch=s,[t,s]},useMemoCache:Iu,useCacheRefresh:function(){return Mn().memoizedState=vw.bind(null,Ge)},useEffectEvent:function(t){var s=Mn(),r={impl:t};return s.memoizedState=r,function(){if((ct&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},sd={readContext:wn,use:No,useCallback:tp,useContext:wn,useEffect:Pu,useImperativeHandle:ep,useInsertionEffect:Pm,useLayoutEffect:Xm,useMemo:np,useReducer:_o,useRef:Wm,useState:function(){return _o(sa)},useDebugValue:Xu,useDeferredValue:function(t,s){var r=It();return sp(r,gt.memoizedState,t,s)},useTransition:function(){var t=_o(sa)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Ji(t),s]},useSyncExternalStore:Dm,useId:lp,useHostTransitionStatus:td,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,s){var r=It();return Bm(r,gt,t,s)},useMemoCache:Iu,useCacheRefresh:op};sd.useEffectEvent=Km;var hp={readContext:wn,use:No,useCallback:tp,useContext:wn,useEffect:Pu,useImperativeHandle:ep,useInsertionEffect:Pm,useLayoutEffect:Xm,useMemo:np,useReducer:Wu,useRef:Wm,useState:function(){return Wu(sa)},useDebugValue:Xu,useDeferredValue:function(t,s){var r=It();return gt===null?Ju(r,t,s):sp(r,gt.memoizedState,t,s)},useTransition:function(){var t=Wu(sa)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Ji(t),s]},useSyncExternalStore:Dm,useId:lp,useHostTransitionStatus:td,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,s){var r=It();return gt!==null?Bm(r,gt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Iu,useCacheRefresh:op};hp.useEffectEvent=Km;function ad(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:y({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rd={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=as(),d=Aa(o);d.payload=s,r!=null&&(d.callback=r),s=Ma(t,d,o),s!==null&&($n(s,t,o),Yi(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=as(),d=Aa(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Ma(t,d,o),s!==null&&($n(s,t,o),Yi(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=as(),o=Aa(r);o.tag=2,s!=null&&(o.callback=s),s=Ma(t,o,r),s!==null&&($n(s,t,r),Yi(s,t,r))}};function mp(t,s,r,o,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!Zi(r,o)||!Zi(d,h):!0}function pp(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&rd.enqueueReplaceState(s,s.state,null)}function mr(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=y({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function gp(t){io(t)}function xp(t){console.error(t)}function vp(t){io(t)}function Ao(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function bp(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function id(t,s,r){return r=Aa(r),r.tag=3,r.payload={element:null},r.callback=function(){Ao(t,s)},r}function yp(t){return t=Aa(t),t.tag=3,t}function wp(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){bp(s,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){bp(s,r,o),typeof d!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function yw(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&Gr(s,r,d,!0),r=es.current,r!==null){switch(r.tag){case 31:case 13:return xs===null?Ho():r.alternate===null&&qt===0&&(qt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===xo?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),Md(t,o,d)),!1;case 22:return r.flags|=65536,o===xo?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),Md(t,o,d)),!1}throw Error(i(435,r.tag))}return Md(t,o,d),Ho(),!1}if(st)return s=es.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Nu&&(t=Error(i(422),{cause:o}),Fi(hs(t,r)))):(o!==Nu&&(s=Error(i(423),{cause:o}),Fi(hs(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=hs(o,r),d=id(t.stateNode,o,d),Lu(t,d),qt!==4&&(qt=2)),!1;var h=Error(i(520),{cause:o});if(h=hs(h,r),cl===null?cl=[h]:cl.push(h),qt!==4&&(qt=2),s===null)return!0;o=hs(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=id(r.stateNode,o,t),Lu(r,t),!1;case 1:if(s=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ua===null||!Ua.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=yp(d),wp(d,t,r,o),Lu(r,d),!1}r=r.return}while(r!==null);return!1}var ld=Error(i(461)),en=!1;function Sn(t,s,r,o){s.child=t===null?Nm(s,null,r,o):fr(s,t.child,r,o)}function Sp(t,s,r,o,d){r=r.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return or(s),o=Hu(t,s,r,v,h,d),S=Vu(),t!==null&&!en?(Fu(t,s,d),aa(t,s,d)):(st&&S&&ju(s),s.flags|=1,Sn(t,s,o,d),s.child)}function jp(t,s,r,o,d){if(t===null){var h=r.type;return typeof h=="function"&&!yu(h)&&h.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=h,Ep(t,s,h,o,d)):(t=uo(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!pd(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Zi,r(v,o)&&t.ref===s.ref)return aa(t,s,d)}return s.flags|=1,t=Xs(h,o),t.ref=s.ref,t.return=s,s.child=t}function Ep(t,s,r,o,d){if(t!==null){var h=t.memoizedProps;if(Zi(h,o)&&t.ref===s.ref)if(en=!1,s.pendingProps=o=h,pd(t,d))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,aa(t,s,d)}return od(t,s,r,o,d)}function Np(t,s,r,o){var d=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,s.child=null;return _p(t,s,h,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&po(s,h!==null?h.cachePool:null),h!==null?km(s,h):Bu(),Tm(s);else return o=s.lanes=536870912,_p(t,s,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(po(s,h.cachePool),km(s,h),Ra(),s.memoizedState=null):(t!==null&&po(s,null),Bu(),Ra());return Sn(t,s,d,r),s.child}function nl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _p(t,s,r,o,d){var h=Du();return h=h===null?null:{parent:Xt._currentValue,pool:h},s.memoizedState={baseLanes:r,cachePool:h},t!==null&&po(s,null),Bu(),Tm(s),t!==null&&Gr(t,s,o,!0),s.childLanes=d,null}function Mo(t,s){return s=Ro({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Cp(t,s,r){return fr(s,t.child,null,r),t=Mo(s,s.pendingProps),t.flags|=2,ts(s),s.memoizedState=null,t}function ww(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(st){if(o.mode==="hidden")return t=Mo(s,o),s.lanes=536870912,nl(null,t);if($u(s),(t=Nt)?(t=qg(t,gs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Na!==null?{id:$s,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},r=um(t),r.return=s,s.child=r,yn=s,Nt=null)):t=null,t===null)throw Ca(s);return s.lanes=536870912,null}return Mo(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if($u(s),d)if(s.flags&256)s.flags&=-257,s=Cp(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(en||Gr(t,s,r,!1),d=(r&t.childLanes)!==0,en||d){if(o=yt,o!==null&&(v=ln(o,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,ar(t,v),$n(o,t,v),ld;Ho(),s=Cp(t,s,r)}else t=h.treeContext,Nt=vs(v.nextSibling),yn=s,st=!0,_a=null,gs=!1,t!==null&&hm(s,t),s=Mo(s,o),s.flags|=4096;return s}return t=Xs(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Do(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function od(t,s,r,o,d){return or(s),r=Hu(t,s,r,o,void 0,d),o=Vu(),t!==null&&!en?(Fu(t,s,d),aa(t,s,d)):(st&&o&&ju(s),s.flags|=1,Sn(t,s,r,d),s.child)}function kp(t,s,r,o,d,h){return or(s),s.updateQueue=null,r=Mm(s,o,r,d),Am(t),o=Vu(),t!==null&&!en?(Fu(t,s,h),aa(t,s,h)):(st&&o&&ju(s),s.flags|=1,Sn(t,s,r,h),s.child)}function Tp(t,s,r,o,d){if(or(s),s.stateNode===null){var h=Vr,v=r.contextType;typeof v=="object"&&v!==null&&(h=wn(v)),h=new r(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rd,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},zu(s),v=r.contextType,h.context=typeof v=="object"&&v!==null?wn(v):Vr,h.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(ad(s,r,v,o),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&rd.enqueueReplaceState(h,h.state,null),Pi(s,o,h,d),Ki(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,D=mr(r,S);h.props=D;var P=h.context,le=r.contextType;v=Vr,typeof le=="object"&&le!==null&&(v=wn(le));var fe=r.getDerivedStateFromProps;le=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||P!==v)&&pp(s,h,o,v),Ta=!1;var ee=s.memoizedState;h.state=ee,Pi(s,o,h,d),Ki(),P=s.memoizedState,S||ee!==P||Ta?(typeof fe=="function"&&(ad(s,r,fe,o),P=s.memoizedState),(D=Ta||mp(s,r,D,o,ee,P,v))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=P),h.props=o,h.state=P,h.context=v,o=D):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,Ou(t,s),v=s.memoizedProps,le=mr(r,v),h.props=le,fe=s.pendingProps,ee=h.context,P=r.contextType,D=Vr,typeof P=="object"&&P!==null&&(D=wn(P)),S=r.getDerivedStateFromProps,(P=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||ee!==D)&&pp(s,h,o,D),Ta=!1,ee=s.memoizedState,h.state=ee,Pi(s,o,h,d),Ki();var se=s.memoizedState;v!==fe||ee!==se||Ta||t!==null&&t.dependencies!==null&&ho(t.dependencies)?(typeof S=="function"&&(ad(s,r,S,o),se=s.memoizedState),(le=Ta||mp(s,r,le,o,ee,se,D)||t!==null&&t.dependencies!==null&&ho(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,se,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,se,D)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=se),h.props=o,h.state=se,h.context=D,o=le):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,Do(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=fr(s,t.child,null,d),s.child=fr(s,null,r,d)):Sn(t,s,r,d),s.memoizedState=h.state,t=s.child):t=aa(t,s,d),t}function Ap(t,s,r,o){return ir(),s.flags|=256,Sn(t,s,r,o),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:bm()}}function dd(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=ss),t}function Mp(t,s,r){var o=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(st){if(d?Da(s):Ra(),(t=Nt)?(t=qg(t,gs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Na!==null?{id:$s,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},r=um(t),r.return=s,s.child=r,yn=s,Nt=null)):t=null,t===null)throw Ca(s);return Gd(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,d?(Ra(),d=s.mode,S=Ro({mode:"hidden",children:S},d),o=rr(o,d,r,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=ud(r),o.childLanes=dd(t,v,r),s.memoizedState=cd,nl(null,o)):(Da(s),fd(s,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(h)s.flags&256?(Da(s),s.flags&=-257,s=hd(t,s,r)):s.memoizedState!==null?(Ra(),s.child=t.child,s.flags|=128,s=null):(Ra(),S=o.fallback,d=s.mode,o=Ro({mode:"visible",children:o.children},d),S=rr(S,d,r,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,fr(s,t.child,null,r),o=s.child,o.memoizedState=ud(r),o.childLanes=dd(t,v,r),s.memoizedState=cd,s=nl(null,o));else if(Da(s),Gd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,o=Error(i(419)),o.stack="",o.digest=v,Fi({value:o,source:null,stack:null}),s=hd(t,s,r)}else if(en||Gr(t,s,r,!1),v=(r&t.childLanes)!==0,en||v){if(v=yt,v!==null&&(o=ln(v,r),o!==0&&o!==D.retryLane))throw D.retryLane=o,ar(t,o),$n(v,t,o),ld;Id(S)||Ho(),s=hd(t,s,r)}else Id(S)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,Nt=vs(S.nextSibling),yn=s,st=!0,_a=null,gs=!1,t!==null&&hm(s,t),s=fd(s,o.children),s.flags|=4096);return s}return d?(Ra(),S=o.fallback,d=s.mode,D=t.child,P=D.sibling,o=Xs(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,P!==null?S=Xs(P,S):(S=rr(S,d,r,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,nl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=ud(r):(d=S.cachePool,d!==null?(D=Xt._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=bm(),S={baseLanes:S.baseLanes|r,cachePool:d}),o.memoizedState=S,o.childLanes=dd(t,v,r),s.memoizedState=cd,nl(t.child,o)):(Da(s),r=t.child,t=r.sibling,r=Xs(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function fd(t,s){return s=Ro({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ro(t,s){return t=Jn(22,t,null,s),t.lanes=0,t}function hd(t,s,r){return fr(s,t.child,null,r),t=fd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Dp(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),ku(t.return,s,r)}function md(t,s,r,o,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Rp(t,s,r){var o=s.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var v=Qt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,O(Qt,v),Sn(t,s,o,r),o=st?Vi:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dp(t,r,s);else if(t.tag===19)Dp(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&wo(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),md(s,!1,d,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&wo(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}md(s,!0,r,null,h,o);break;case"together":md(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function aa(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),La|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Gr(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Xs(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Xs(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function pd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ho(t)))}function Sw(t,s,r){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),ka(s,Xt,t.memoizedState.cache),ir();break;case 27:case 5:G(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:ka(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,$u(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Da(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Mp(t,s,r):(Da(s),t=aa(t,s,r),t!==null?t.sibling:null);Da(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(Gr(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return Rp(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),O(Qt,Qt.current),o)break;return null;case 22:return s.lanes=0,Np(t,s,r,s.pendingProps);case 24:ka(s,Xt,t.memoizedState.cache)}return aa(t,s,r)}function zp(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!pd(t,r)&&(s.flags&128)===0)return en=!1,Sw(t,s,r);en=(t.flags&131072)!==0}else en=!1,st&&(s.flags&1048576)!==0&&fm(s,Vi,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=ur(s.elementType),s.type=t,typeof t=="function")yu(t)?(o=mr(t,o),s.tag=1,s=Tp(null,s,t,o,r)):(s.tag=0,s=od(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===W){s.tag=11,s=Sp(null,s,t,o,r);break e}else if(d===H){s.tag=14,s=jp(null,s,t,o,r);break e}}throw s=pe(t)||t,Error(i(306,s,""))}}return s;case 0:return od(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=mr(o,s.pendingProps),Tp(t,s,o,d,r);case 3:e:{if(ve(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;d=h.element,Ou(t,s),Pi(s,o,null,r);var v=s.memoizedState;if(o=v.cache,ka(s,Xt,o),o!==h.cache&&Tu(s,[Xt],r,!0),Ki(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Ap(t,s,o,r);break e}else if(o!==d){d=hs(Error(i(424)),s),Fi(d),s=Ap(t,s,o,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=vs(t.firstChild),yn=s,st=!0,_a=null,gs=!0,r=Nm(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ir(),o===d){s=aa(t,s,r);break e}Sn(t,s,o,r)}s=s.child}return s;case 26:return Do(t,s),t===null?(r=Qg(s.type,null,s.pendingProps,null))?s.memoizedState=r:st||(r=s.type,t=s.pendingProps,o=Yo(V.current).createElement(r),o[on]=s,o[Ft]=t,jn(o,r,t),Ot(o),s.stateNode=o):s.memoizedState=Qg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return G(s),t===null&&st&&(o=s.stateNode=Hg(s.type,s.pendingProps,V.current),yn=s,gs=!0,d=Nt,Za(s.type)?(Wd=d,Nt=vs(o.firstChild)):Nt=d),Sn(t,s,s.pendingProps.children,r),Do(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&st&&((d=o=Nt)&&(o=Xw(o,s.type,s.pendingProps,gs),o!==null?(s.stateNode=o,yn=s,Nt=vs(o.firstChild),gs=!1,d=!0):d=!1),d||Ca(s)),G(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Vd(d,h)?o=null:v!==null&&Vd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Hu(t,s,hw,null,null,r),xl._currentValue=d),Do(t,s),Sn(t,s,o,r),s.child;case 6:return t===null&&st&&((t=r=Nt)&&(r=Jw(r,s.pendingProps,gs),r!==null?(s.stateNode=r,yn=s,Nt=null,t=!0):t=!1),t||Ca(s)),null;case 13:return Mp(t,s,r);case 4:return ve(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=fr(s,null,o,r):Sn(t,s,o,r),s.child;case 11:return Sp(t,s,s.type,s.pendingProps,r);case 7:return Sn(t,s,s.pendingProps,r),s.child;case 8:return Sn(t,s,s.pendingProps.children,r),s.child;case 12:return Sn(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,ka(s,s.type,o.value),Sn(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,or(s),d=wn(d),o=o(d),s.flags|=1,Sn(t,s,o,r),s.child;case 14:return jp(t,s,s.type,s.pendingProps,r);case 15:return Ep(t,s,s.type,s.pendingProps,r);case 19:return Rp(t,s,r);case 31:return ww(t,s,r);case 22:return Np(t,s,r,s.pendingProps);case 24:return or(s),o=wn(Xt),t===null?(d=Du(),d===null&&(d=yt,h=Au(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),s.memoizedState={parent:o,cache:d},zu(s),ka(s,Xt,d)):((t.lanes&r)!==0&&(Ou(t,s),Pi(s,null,null,r),Ki()),d=t.memoizedState,h=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ka(s,Xt,o)):(o=h.cache,ka(s,Xt,o),o!==d.cache&&Tu(s,[Xt],r,!0))),Sn(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ra(t){t.flags|=4}function gd(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(lg())t.flags|=8192;else throw dr=xo,Ru}else t.flags&=-16777217}function Op(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kg(s))if(lg())t.flags|=8192;else throw dr=xo,Ru}function zo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?hn():536870912,t.lanes|=s,ri|=s)}function sl(t,s){if(!st)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _t(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function jw(t,s,r){var o=s.pendingProps;switch(Eu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ta(Xt),Ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ir(s)?ra(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_u())),_t(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?(ra(s),h!==null?(_t(s),Op(s,h)):(_t(s),gd(s,d,null,o,r))):h?h!==t.memoizedState?(ra(s),_t(s),Op(s,h)):(_t(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ra(s),_t(s),gd(s,d,t,o,r)),null;case 27:if(Ne(s),r=V.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return _t(s),null}t=z.current,Ir(s)?mm(s):(t=Hg(d,o,r),s.stateNode=t,ra(s))}return _t(s),null;case 5:if(Ne(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(h=z.current,Ir(s))mm(s);else{var v=Yo(V.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}h[on]=s,h[Ft]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(jn(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ra(s)}}return _t(s),gd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=V.current,Ir(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=yn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[on]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Mg(t.nodeValue,r)),t||Ca(s,!0)}else t=Yo(t).createTextNode(o),t[on]=s,s.stateNode=t}return _t(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ir(s),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[on]=s}else ir(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),t=!1}else r=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ts(s),s):(ts(s),null);if((s.flags&128)!==0)throw Error(i(558))}return _t(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ir(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[on]=s}else ir(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),d=!1}else d=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ts(s),s):(ts(s),null)}return ts(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),zo(s,s.updateQueue),_t(s),null);case 4:return Ee(),t===null&&Bd(s.stateNode.containerInfo),_t(s),null;case 10:return ta(s.type),_t(s),null;case 19:if(Y(Qt),o=s.memoizedState,o===null)return _t(s),null;if(d=(s.flags&128)!==0,h=o.rendering,h===null)if(d)sl(o,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=wo(t),h!==null){for(s.flags|=128,sl(o,!1),t=h.updateQueue,s.updateQueue=t,zo(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)cm(r,t),r=r.sibling;return O(Qt,Qt.current&1|2),st&&Js(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&te()>qo&&(s.flags|=128,d=!0,sl(o,!1),s.lanes=4194304)}else{if(!d)if(t=wo(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,zo(s,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!st)return _t(s),null}else 2*te()-o.renderingStartTime>qo&&r!==536870912&&(s.flags|=128,d=!0,sl(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,r=Qt.current,O(Qt,d?r&1|2:r&1),st&&Js(s,o.treeForkCount),t):(_t(s),null);case 22:case 23:return ts(s),qu(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),r=s.updateQueue,r!==null&&zo(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&Y(cr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),ta(Xt),_t(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Ew(t,s){switch(Eu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ta(Xt),Ee(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(ts(s),s.alternate===null)throw Error(i(340));ir()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ir()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(Qt),null;case 4:return Ee(),null;case 10:return ta(s.type),null;case 22:case 23:return ts(s),qu(),t!==null&&Y(cr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ta(Xt),null;case 25:return null;default:return null}}function Lp(t,s){switch(Eu(s),s.tag){case 3:ta(Xt),Ee();break;case 26:case 27:case 5:Ne(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&ts(s);break;case 13:ts(s);break;case 19:Y(Qt);break;case 10:ta(s.type);break;case 22:case 23:ts(s),qu(),t!==null&&Y(cr);break;case 24:ta(Xt)}}function al(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var h=r.create,v=r.inst;o=h(),v.destroy=o}r=r.next}while(r!==d)}}catch(S){ht(s,s.return,S)}}function za(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var D=r,P=S;try{P()}catch(le){ht(d,D,le)}}}o=o.next}while(o!==h)}}catch(le){ht(s,s.return,le)}}function Up(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{Cm(s,r)}catch(o){ht(t,t.return,o)}}}function Bp(t,s,r){r.props=mr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ht(t,s,o)}}function rl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){ht(t,s,d)}}function Hs(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){ht(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){ht(t,s,d)}else r.current=null}function qp(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){ht(t,t.return,d)}}function xd(t,s,r){try{var o=t.stateNode;Iw(o,t.type,r,s),o[Ft]=s}catch(d){ht(t,t.return,d)}}function $p(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Za(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Za(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Pn));else if(o!==4&&(o===27&&Za(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(bd(t,s,r),t=t.sibling;t!==null;)bd(t,s,r),t=t.sibling}function Oo(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&Za(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Oo(t,s,r),t=t.sibling;t!==null;)Oo(t,s,r),t=t.sibling}function Zp(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);jn(s,o,r),s[on]=t,s[Ft]=r}catch(h){ht(t,t.return,h)}}var ia=!1,tn=!1,yd=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Nw(t,s){if(t=t.containerInfo,Zd=nc,t=em(t),hu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,S=-1,D=-1,P=0,le=0,fe=t,ee=null;t:for(;;){for(var se;fe!==r||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||o!==0&&fe.nodeType!==3||(D=v+o),fe.nodeType===3&&(v+=fe.nodeValue.length),(se=fe.firstChild)!==null;)ee=fe,fe=se;for(;;){if(fe===t)break t;if(ee===r&&++P===d&&(S=v),ee===h&&++le===o&&(D=v),(se=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=se}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hd={focusedElem:t,selectionRange:r},nc=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=s,d=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var Me=mr(r.type,d);t=o.getSnapshotBeforeUpdate(Me,h),o.__reactInternalSnapshotBeforeUpdate=t}catch($e){ht(r,r.return,$e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Qd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function Vp(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:oa(t,r),o&4&&al(5,r);break;case 1:if(oa(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){ht(r,r.return,v)}else{var d=mr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(r,r.return,v)}}o&64&&Up(r),o&512&&rl(r,r.return);break;case 3:if(oa(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Cm(t,s)}catch(v){ht(r,r.return,v)}}break;case 27:s===null&&o&4&&Zp(r);case 26:case 5:oa(t,r),s===null&&o&4&&qp(r),o&512&&rl(r,r.return);break;case 12:oa(t,r);break;case 31:oa(t,r),o&4&&Ip(t,r);break;case 13:oa(t,r),o&4&&Gp(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=zw.bind(null,r),e1(t,r))));break;case 22:if(o=r.memoizedState!==null||ia,!o){s=s!==null&&s.memoizedState!==null||tn,d=ia;var h=tn;ia=o,(tn=s)&&!h?ca(t,r,(r.subtreeFlags&8772)!==0):oa(t,r),ia=d,tn=h}break;case 30:break;default:oa(t,r)}}function Fp(t){var s=t.alternate;s!==null&&(t.alternate=null,Fp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ys(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,Ln=!1;function la(t,s,r){for(r=r.child;r!==null;)Qp(t,s,r),r=r.sibling}function Qp(t,s,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ke,r)}catch{}switch(r.tag){case 26:tn||Hs(r,s),la(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:tn||Hs(r,s);var o=kt,d=Ln;Za(r.type)&&(kt=r.stateNode,Ln=!1),la(t,s,r),ml(r.stateNode),kt=o,Ln=d;break;case 5:tn||Hs(r,s);case 6:if(o=kt,d=Ln,kt=null,la(t,s,r),kt=o,Ln=d,kt!==null)if(Ln)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(r.stateNode)}catch(h){ht(r,s,h)}else try{kt.removeChild(r.stateNode)}catch(h){ht(r,s,h)}break;case 18:kt!==null&&(Ln?(t=kt,Ug(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),hi(t)):Ug(kt,r.stateNode));break;case 4:o=kt,d=Ln,kt=r.stateNode.containerInfo,Ln=!0,la(t,s,r),kt=o,Ln=d;break;case 0:case 11:case 14:case 15:za(2,r,s),tn||za(4,r,s),la(t,s,r);break;case 1:tn||(Hs(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Bp(r,s,o)),la(t,s,r);break;case 21:la(t,s,r);break;case 22:tn=(o=tn)||r.memoizedState!==null,la(t,s,r),tn=o;break;default:la(t,s,r)}}function Ip(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hi(t)}catch(r){ht(s,s.return,r)}}}function Gp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hi(t)}catch(r){ht(s,s.return,r)}}function _w(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Hp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Hp),s;default:throw Error(i(435,t.tag))}}function Lo(t,s){var r=_w(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=Ow.bind(null,t,o);o.then(d,d)}})}function Un(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Za(S.type)){kt=S.stateNode,Ln=!1;break e}break;case 5:kt=S.stateNode,Ln=!1;break e;case 3:case 4:kt=S.stateNode.containerInfo,Ln=!0;break e}S=S.return}if(kt===null)throw Error(i(160));Qp(h,v,d),kt=null,Ln=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Wp(s,t),s=s.sibling}var ks=null;function Wp(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(s,t),Bn(t),o&4&&(za(3,t,t.return),al(3,t),za(5,t,t.return));break;case 1:Un(s,t),Bn(t),o&512&&(tn||r===null||Hs(r,r.return)),o&64&&ia&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=ks;if(Un(s,t),Bn(t),o&512&&(tn||r===null||Hs(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Rn]||h[on]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),jn(h,o,r),h[on]=t,Ot(h),o=h;break e;case"link":var v=Wg("link","href",d).get(o+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(o),jn(h,o,r),d.head.appendChild(h);break;case"meta":if(v=Wg("meta","content",d).get(o+(r.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}h=d.createElement(o),jn(h,o,r),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[on]=t,Ot(h),o=h}t.stateNode=o}else Yg(d,t.type,t.stateNode);else t.stateNode=Gg(d,o,t.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?Yg(d,t.type,t.stateNode):Gg(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&xd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Un(s,t),Bn(t),o&512&&(tn||r===null||Hs(r,r.return)),r!==null&&o&4&&xd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Un(s,t),Bn(t),o&512&&(tn||r===null||Hs(r,r.return)),t.flags&32){d=t.stateNode;try{qs(d,"")}catch(Me){ht(t,t.return,Me)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,xd(t,d,r!==null?r.memoizedProps:d)),o&1024&&(yd=!0);break;case 6:if(Un(s,t),Bn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Me){ht(t,t.return,Me)}}break;case 3:if(Xo=null,d=ks,ks=Ko(s.containerInfo),Un(s,t),ks=d,Bn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hi(s.containerInfo)}catch(Me){ht(t,t.return,Me)}yd&&(yd=!1,Yp(t));break;case 4:o=ks,ks=Ko(t.stateNode.containerInfo),Un(s,t),Bn(t),ks=o;break;case 12:Un(s,t),Bn(t);break;case 31:Un(s,t),Bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lo(t,o)));break;case 13:Un(s,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bo=te()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lo(t,o)));break;case 22:d=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,P=ia,le=tn;if(ia=P||d,tn=le||D,Un(s,t),tn=le,ia=P,Bn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||D||ia||tn||pr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){D=r=s;try{if(h=D.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=D.stateNode;var fe=D.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Me){ht(D,D.return,Me)}}}else if(s.tag===6){if(r===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(Me){ht(D,D.return,Me)}}}else if(s.tag===18){if(r===null){D=s;try{var se=D.stateNode;d?Bg(se,!0):Bg(D.stateNode,!1)}catch(Me){ht(D,D.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Lo(t,r))));break;case 19:Un(s,t),Bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lo(t,o)));break;case 30:break;case 21:break;default:Un(s,t),Bn(t)}}function Bn(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if($p(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=vd(t);Oo(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(qs(v,""),r.flags&=-33);var S=vd(t);Oo(t,S,v);break;case 3:case 4:var D=r.stateNode.containerInfo,P=vd(t);bd(t,P,D);break;default:throw Error(i(161))}}catch(le){ht(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Yp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Yp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function oa(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vp(t,s.alternate,s),s=s.sibling}function pr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),pr(s);break;case 1:Hs(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Bp(s,s.return,r),pr(s);break;case 27:ml(s.stateNode);case 26:case 5:Hs(s,s.return),pr(s);break;case 22:s.memoizedState===null&&pr(s);break;case 30:pr(s);break;default:pr(s)}t=t.sibling}}function ca(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:ca(d,h,r),al(4,h);break;case 1:if(ca(d,h,r),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){ht(o,o.return,P)}if(o=h,d=o.updateQueue,d!==null){var S=o.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)_m(D[d],S)}catch(P){ht(o,o.return,P)}}r&&v&64&&Up(h),rl(h,h.return);break;case 27:Zp(h);case 26:case 5:ca(d,h,r),r&&o===null&&v&4&&qp(h),rl(h,h.return);break;case 12:ca(d,h,r);break;case 31:ca(d,h,r),r&&v&4&&Ip(d,h);break;case 13:ca(d,h,r),r&&v&4&&Gp(d,h);break;case 22:h.memoizedState===null&&ca(d,h,r),rl(h,h.return);break;case 30:break;default:ca(d,h,r)}s=s.sibling}}function wd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Qi(r))}function Sd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Qi(t))}function Ts(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kp(t,s,r,o),s=s.sibling}function Kp(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(t,s,r,o),d&2048&&al(9,s);break;case 1:Ts(t,s,r,o);break;case 3:Ts(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Qi(t)));break;case 12:if(d&2048){Ts(t,s,r,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ht(s,s.return,D)}}else Ts(t,s,r,o);break;case 31:Ts(t,s,r,o);break;case 13:Ts(t,s,r,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?Ts(t,s,r,o):il(t,s):h._visibility&2?Ts(t,s,r,o):(h._visibility|=2,ni(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&wd(v,s);break;case 24:Ts(t,s,r,o),d&2048&&Sd(s.alternate,s);break;default:Ts(t,s,r,o)}}function ni(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=r,D=o,P=v.flags;switch(v.tag){case 0:case 11:case 15:ni(h,v,S,D,d),al(8,v);break;case 23:break;case 22:var le=v.stateNode;v.memoizedState!==null?le._visibility&2?ni(h,v,S,D,d):il(h,v):(le._visibility|=2,ni(h,v,S,D,d)),d&&P&2048&&wd(v.alternate,v);break;case 24:ni(h,v,S,D,d),d&&P&2048&&Sd(v.alternate,v);break;default:ni(h,v,S,D,d)}s=s.sibling}}function il(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:il(r,o),d&2048&&wd(o.alternate,o);break;case 24:il(r,o),d&2048&&Sd(o.alternate,o);break;default:il(r,o)}s=s.sibling}}var ll=8192;function si(t,s,r){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Pp(t,s,r),t=t.sibling}function Pp(t,s,r){switch(t.tag){case 26:si(t,s,r),t.flags&ll&&t.memoizedState!==null&&f1(r,ks,t.memoizedState,t.memoizedProps);break;case 5:si(t,s,r);break;case 3:case 4:var o=ks;ks=Ko(t.stateNode.containerInfo),si(t,s,r),ks=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,si(t,s,r),ll=o):si(t,s,r));break;default:si(t,s,r)}}function Xp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ol(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];mn=o,eg(o,t)}Xp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jp(t),t=t.sibling}function Jp(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&za(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Uo(t)):ol(t);break;default:ol(t)}}function Uo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];mn=o,eg(o,t)}Xp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:za(8,s,s.return),Uo(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Uo(s));break;default:Uo(s)}t=t.sibling}}function eg(t,s){for(;mn!==null;){var r=mn;switch(r.tag){case 0:case 11:case 15:za(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qi(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,mn=o;else e:for(r=t;mn!==null;){o=mn;var d=o.sibling,h=o.return;if(Fp(o),o===r){mn=null;break e}if(d!==null){d.return=h,mn=d;break e}mn=h}}}var Cw={getCacheForType:function(t){var s=wn(Xt),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return wn(Xt).controller.signal}},kw=typeof WeakMap=="function"?WeakMap:Map,ct=0,yt=null,Xe=null,et=0,ft=0,ns=null,Oa=!1,ai=!1,jd=!1,ua=0,qt=0,La=0,gr=0,Ed=0,ss=0,ri=0,cl=null,qn=null,Nd=!1,Bo=0,tg=0,qo=1/0,$o=null,Ua=null,cn=0,Ba=null,ii=null,da=0,_d=0,Cd=null,ng=null,ul=0,kd=null;function as(){return(ct&2)!==0&&et!==0?et&-et:B.T!==null?zd():Tn()}function sg(){if(ss===0)if((et&536870912)===0||st){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),ss=t}else ss=536870912;return t=es.current,t!==null&&(t.flags|=32),ss}function $n(t,s,r){(t===yt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(li(t,0),qa(t,et,ss,!1)),Dt(t,r),((ct&2)===0||t!==yt)&&(t===yt&&((ct&2)===0&&(gr|=r),qt===4&&qa(t,et,ss,!1)),Vs(t))}function ag(t,s,r){if((ct&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||vn(t,s),d=o?Mw(t,s):Ad(t,s,!0),h=o;do{if(d===0){ai&&!o&&qa(t,s,0,!1);break}else{if(r=t.current.alternate,h&&!Tw(r)){d=Ad(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=cl;var D=S.current.memoizedState.isDehydrated;if(D&&(li(S,v).flags|=256),v=Ad(S,v,!1),v!==2){if(jd&&!D){S.errorRecoveryDisabledLanes|=h,gr|=h,d=4;break e}h=qn,qn=d,h!==null&&(qn===null?qn=h:qn.push.apply(qn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){li(t,0),qa(t,s,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:qa(o,s,ss,!Oa);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Bo+300-te(),10<d)){if(qa(o,s,ss,!Oa),Ht(o,0,!0)!==0)break e;da=s,o.timeoutHandle=Og(rg.bind(null,o,r,qn,$o,Nd,s,ss,gr,ri,Oa,h,"Throttled",-0,0),d);break e}rg(o,r,qn,$o,Nd,s,ss,gr,ri,Oa,h,null,-0,0)}}break}while(!0);Vs(t)}function rg(t,s,r,o,d,h,v,S,D,P,le,fe,ee,se){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Pp(s,h,fe);var Me=(h&62914560)===h?Bo-te():(h&4194048)===h?tg-te():0;if(Me=h1(fe,Me),Me!==null){da=h,t.cancelPendingCommit=Me(hg.bind(null,t,s,h,r,o,d,v,S,D,le,fe,null,ee,se)),qa(t,h,v,!P);return}}hg(t,s,h,r,o,d,v,S,D)}function Tw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],h=d.getSnapshot;d=d.value;try{if(!Xn(h(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qa(t,s,r,o){s&=~Ed,s&=~gr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var h=31-pt(d),v=1<<h;o[h]=-1,d&=~v}r!==0&&Wn(t,r,s)}function Zo(){return(ct&6)===0?(dl(0),!1):!0}function Td(){if(Xe!==null){if(ft===0)var t=Xe.return;else t=Xe,ea=lr=null,Qu(t),Pr=null,Gi=0,t=Xe;for(;t!==null;)Lp(t.alternate,t),t=t.return;Xe=null}}function li(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Yw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),da=0,Td(),yt=t,Xe=r=Xs(t.current,null),et=s,ft=0,ns=null,Oa=!1,ai=vn(t,s),jd=!1,ri=ss=Ed=gr=La=qt=0,qn=cl=null,Nd=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-pt(o),h=1<<d;s|=t[d],o&=~h}return ua=s,lo(),r}function ig(t,s){Ge=null,B.H=tl,s===Kr||s===go?(s=Sm(),ft=3):s===Ru?(s=Sm(),ft=4):ft=s===ld?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ns=s,Xe===null&&(qt=1,Ao(t,hs(s,t.current)))}function lg(){var t=es.current;return t===null?!0:(et&4194048)===et?xs===null:(et&62914560)===et||(et&536870912)!==0?t===xs:!1}function og(){var t=B.H;return B.H=tl,t===null?tl:t}function cg(){var t=B.A;return B.A=Cw,t}function Ho(){qt=4,Oa||(et&4194048)!==et&&es.current!==null||(ai=!0),(La&134217727)===0&&(gr&134217727)===0||yt===null||qa(yt,et,ss,!1)}function Ad(t,s,r){var o=ct;ct|=2;var d=og(),h=cg();(yt!==t||et!==s)&&($o=null,li(t,s)),s=!1;var v=qt;e:do try{if(ft!==0&&Xe!==null){var S=Xe,D=ns;switch(ft){case 8:Td(),v=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(s=!0);var P=ft;if(ft=0,ns=null,oi(t,S,D,P),r&&ai){v=0;break e}break;default:P=ft,ft=0,ns=null,oi(t,S,D,P)}}Aw(),v=qt;break}catch(le){ig(t,le)}while(!0);return s&&t.shellSuspendCounter++,ea=lr=null,ct=o,B.H=d,B.A=h,Xe===null&&(yt=null,et=0,lo()),v}function Aw(){for(;Xe!==null;)ug(Xe)}function Mw(t,s){var r=ct;ct|=2;var o=og(),d=cg();yt!==t||et!==s?($o=null,qo=te()+500,li(t,s)):ai=vn(t,s);e:do try{if(ft!==0&&Xe!==null){s=Xe;var h=ns;t:switch(ft){case 1:ft=0,ns=null,oi(t,s,h,1);break;case 2:case 9:if(ym(h)){ft=0,ns=null,dg(s);break}s=function(){ft!==2&&ft!==9||yt!==t||(ft=7),Vs(t)},h.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:ym(h)?(ft=0,ns=null,dg(s)):(ft=0,ns=null,oi(t,s,h,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var S=Xe;if(v?Kg(v):S.stateNode.complete){ft=0,ns=null;var D=S.sibling;if(D!==null)Xe=D;else{var P=S.return;P!==null?(Xe=P,Vo(P)):Xe=null}break t}}ft=0,ns=null,oi(t,s,h,5);break;case 6:ft=0,ns=null,oi(t,s,h,6);break;case 8:Td(),qt=6;break e;default:throw Error(i(462))}}Dw();break}catch(le){ig(t,le)}while(!0);return ea=lr=null,B.H=o,B.A=d,ct=r,Xe!==null?0:(yt=null,et=0,lo(),qt)}function Dw(){for(;Xe!==null&&!C();)ug(Xe)}function ug(t){var s=zp(t.alternate,t,ua);t.memoizedProps=t.pendingProps,s===null?Vo(t):Xe=s}function dg(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=kp(r,s,s.pendingProps,s.type,void 0,et);break;case 11:s=kp(r,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:Qu(s);default:Lp(r,s),s=Xe=cm(s,ua),s=zp(r,s,ua)}t.memoizedProps=t.pendingProps,s===null?Vo(t):Xe=s}function oi(t,s,r,o){ea=lr=null,Qu(s),Pr=null,Gi=0;var d=s.return;try{if(yw(t,d,s,r,et)){qt=1,Ao(t,hs(r,t.current)),Xe=null;return}}catch(h){if(d!==null)throw Xe=d,h;qt=1,Ao(t,hs(r,t.current)),Xe=null;return}s.flags&32768?(st||o===1?t=!0:ai||(et&536870912)!==0?t=!1:(Oa=t=!0,(o===2||o===9||o===3||o===6)&&(o=es.current,o!==null&&o.tag===13&&(o.flags|=16384))),fg(s,t)):Vo(s)}function Vo(t){var s=t;do{if((s.flags&32768)!==0){fg(s,Oa);return}t=s.return;var r=jw(s.alternate,s,ua);if(r!==null){Xe=r;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=t}while(s!==null);qt===0&&(qt=5)}function fg(t,s){do{var r=Ew(t.alternate,t);if(r!==null){r.flags&=32767,Xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=r}while(t!==null);qt=6,Xe=null}function hg(t,s,r,o,d,h,v,S,D){t.cancelPendingCommit=null;do Fo();while(cn!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=vu,Rt(t,r,h,v,S,D),t===yt&&(Xe=yt=null,et=0),ii=s,Ba=t,da=r,_d=h,Cd=d,ng=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lw(Ve,function(){return vg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=J.p,J.p=2,v=ct,ct|=4;try{Nw(t,s,r)}finally{ct=v,J.p=d,B.T=o}}cn=1,mg(),pg(),gg()}}function mg(){if(cn===1){cn=0;var t=Ba,s=ii,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var o=J.p;J.p=2;var d=ct;ct|=4;try{Wp(s,t);var h=Hd,v=em(t.containerInfo),S=h.focusedElem,D=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Jh(S.ownerDocument.documentElement,S)){if(D!==null&&hu(S)){var P=D.start,le=D.end;if(le===void 0&&(le=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(le,S.value.length);else{var fe=S.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),Me=S.textContent.length,$e=Math.min(D.start,Me),vt=D.end===void 0?$e:Math.min(D.end,Me);!se.extend&&$e>vt&&(v=vt,vt=$e,$e=v);var $=Xh(S,$e),L=Xh(S,vt);if($&&L&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==L.node||se.focusOffset!==L.offset)){var K=fe.createRange();K.setStart($.node,$.offset),se.removeAllRanges(),$e>vt?(se.addRange(K),se.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),se.addRange(K))}}}}for(fe=[],se=S;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var de=fe[S];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}nc=!!Zd,Hd=Zd=null}finally{ct=d,J.p=o,B.T=r}}t.current=s,cn=2}}function pg(){if(cn===2){cn=0;var t=Ba,s=ii,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var o=J.p;J.p=2;var d=ct;ct|=4;try{Vp(t,s.alternate,s)}finally{ct=d,J.p=o,B.T=r}}cn=3}}function gg(){if(cn===4||cn===3){cn=0,ie();var t=Ba,s=ii,r=da,o=ng;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,ii=Ba=null,xg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ua=null),os(r),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ke,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=B.T,d=J.p,J.p=2,B.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{B.T=s,J.p=d}}(da&3)!==0&&Fo(),Vs(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===kd?ul++:(ul=0,kd=t):ul=0,dl(0)}}function xg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Qi(s)))}function Fo(){return mg(),pg(),gg(),vg()}function vg(){if(cn!==5)return!1;var t=Ba,s=_d;_d=0;var r=os(da),o=B.T,d=J.p;try{J.p=32>r?32:r,B.T=null,r=Cd,Cd=null;var h=Ba,v=da;if(cn=0,ii=Ba=null,da=0,(ct&6)!==0)throw Error(i(331));var S=ct;if(ct|=4,Jp(h.current),Kp(h,h.current,v,r),ct=S,dl(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ke,h)}catch{}return!0}finally{J.p=d,B.T=o,xg(t,s)}}function bg(t,s,r){s=hs(r,s),s=id(t.stateNode,s,2),t=Ma(t,s,2),t!==null&&(Dt(t,2),Vs(t))}function ht(t,s,r){if(t.tag===3)bg(t,t,r);else for(;s!==null;){if(s.tag===3){bg(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ua===null||!Ua.has(o))){t=hs(r,t),r=yp(2),o=Ma(s,r,2),o!==null&&(wp(r,o,s,t),Dt(o,2),Vs(o));break}}s=s.return}}function Md(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new kw;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(jd=!0,d.add(r),t=Rw.bind(null,t,s,r),s.then(t,t))}function Rw(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,yt===t&&(et&r)===r&&(qt===4||qt===3&&(et&62914560)===et&&300>te()-Bo?(ct&2)===0&&li(t,0):Ed|=r,ri===et&&(ri=0)),Vs(t)}function yg(t,s){s===0&&(s=hn()),t=ar(t,s),t!==null&&(Dt(t,s),Vs(t))}function zw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),yg(t,r)}function Ow(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),yg(t,r)}function Lw(t,s){return M(t,s)}var Qo=null,ci=null,Dd=!1,Io=!1,Rd=!1,$a=0;function Vs(t){t!==ci&&t.next===null&&(ci===null?Qo=ci=t:ci=ci.next=t),Io=!0,Dd||(Dd=!0,Bw())}function dl(t,s){if(!Rd&&Io){Rd=!0;do for(var r=!1,o=Qo;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-pt(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Eg(o,h))}else h=et,h=Ht(o,o===yt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||vn(o,h)||(r=!0,Eg(o,h));o=o.next}while(r);Rd=!1}}function Uw(){wg()}function wg(){Io=Dd=!1;var t=0;$a!==0&&Ww()&&(t=$a);for(var s=te(),r=null,o=Qo;o!==null;){var d=o.next,h=Sg(o,s);h===0?(o.next=null,r===null?Qo=d:r.next=d,d===null&&(ci=r)):(r=o,(t!==0||(h&3)!==0)&&(Io=!0)),o=d}cn!==0&&cn!==5||dl(t),$a!==0&&($a=0)}function Sg(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-pt(h),S=1<<v,D=d[v];D===-1?((S&r)===0||(S&o)!==0)&&(d[v]=Nn(S,s)):D<=s&&(t.expiredLanes|=S),h&=~S}if(s=yt,r=et,r=Ht(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||vn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&_(o),os(r)){case 2:case 8:r=qe;break;case 32:r=Ve;break;case 268435456:r=ye;break;default:r=Ve}return o=jg.bind(null,t),r=M(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&_(o),t.callbackPriority=2,t.callbackNode=null,2}function jg(t,s){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Fo()&&t.callbackNode!==r)return null;var o=et;return o=Ht(t,t===yt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ag(t,o,s),Sg(t,te()),t.callbackNode!=null&&t.callbackNode===r?jg.bind(null,t):null)}function Eg(t,s){if(Fo())return null;ag(t,s,!0)}function Bw(){Kw(function(){(ct&6)!==0?M(je,Uw):wg()})}function zd(){if($a===0){var t=Wr;t===0&&(t=Os,Os<<=1,(Os&261888)===0&&(Os=256)),$a=t}return $a}function Ng(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function _g(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function qw(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var h=Ng((d[Ft]||null).action),v=o.submitter;v&&(s=(s=v[Ft]||null)?Ng(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new so("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($a!==0){var D=v?_g(d,v):new FormData(d);ed(r,{pending:!0,data:D,method:d.method,action:h},null,D)}}else typeof h=="function"&&(S.preventDefault(),D=v?_g(d,v):new FormData(d),ed(r,{pending:!0,data:D,method:d.method,action:h},h,D))},currentTarget:d}]})}}for(var Od=0;Od<xu.length;Od++){var Ld=xu[Od],$w=Ld.toLowerCase(),Zw=Ld[0].toUpperCase()+Ld.slice(1);Cs($w,"on"+Zw)}Cs(sm,"onAnimationEnd"),Cs(am,"onAnimationIteration"),Cs(rm,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(sw,"onTransitionRun"),Cs(aw,"onTransitionStart"),Cs(rw,"onTransitionCancel"),Cs(im,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Cg(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],D=S.instance,P=S.currentTarget;if(S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=P;try{h(d)}catch(le){io(le)}d.currentTarget=null,h=D}else for(v=0;v<o.length;v++){if(S=o[v],D=S.instance,P=S.currentTarget,S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=P;try{h(d)}catch(le){io(le)}d.currentTarget=null,h=D}}}}function Je(t,s){var r=s[Dr];r===void 0&&(r=s[Dr]=new Set);var o=t+"__bubble";r.has(o)||(kg(s,t,2,!1),r.add(o))}function Ud(t,s,r){var o=0;s&&(o|=4),kg(r,t,o,s)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Go]){t[Go]=!0,Kn.forEach(function(r){r!=="selectionchange"&&(Hw.has(r)||Ud(r,!1,t),Ud(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Go]||(s[Go]=!0,Ud("selectionchange",!1,s))}}function kg(t,s,r,o){switch(sx(s)){case 2:var d=g1;break;case 8:d=x1;break;default:d=Jd}r=d.bind(null,s,r,t),d=void 0,!nt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function qd(t,s,r,o,d){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Us(S),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=h=v;continue e}S=S.parentNode}}o=o.return}ae(function(){var P=h,le=Oi(r),fe=[];e:{var ee=lm.get(t);if(ee!==void 0){var se=so,Me=t;switch(t){case"keypress":if(Pt(r)===0)break e;case"keydown":case"keyup":se=Oy;break;case"focusin":Me="focus",se=ou;break;case"focusout":Me="blur",se=ou;break;case"beforeblur":case"afterblur":se=ou;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=By;break;case sm:case am:case rm:se=_y;break;case im:se=$y;break;case"scroll":case"scrollend":se=wy;break;case"wheel":se=Hy;break;case"copy":case"cut":case"paste":se=ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Bh;break;case"toggle":case"beforetoggle":se=Fy}var $e=(s&4)!==0,vt=!$e&&(t==="scroll"||t==="scrollend"),$=$e?ee!==null?ee+"Capture":null:ee;$e=[];for(var L=P,K;L!==null;){var de=L;if(K=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||K===null||$===null||(de=ke(L,$),de!=null&&$e.push(hl(L,de,K))),vt)break;L=L.return}0<$e.length&&(ee=new se(ee,Me,null,r,le),fe.push({event:ee,listeners:$e}))}}if((s&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",ee&&r!==zi&&(Me=r.relatedTarget||r.fromElement)&&(Us(Me)||Me[Yn]))break e;if((se||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(Me=r.relatedTarget||r.toElement,se=P,Me=Me?Us(Me):null,Me!==null&&(vt=u(Me),$e=Me.tag,Me!==vt||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(se=null,Me=P),se!==Me)){if($e=Lh,de="onMouseLeave",$="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&($e=Bh,de="onPointerLeave",$="onPointerEnter",L="pointer"),vt=se==null?ee:Bs(se),K=Me==null?ee:Bs(Me),ee=new $e(de,L+"leave",se,r,le),ee.target=vt,ee.relatedTarget=K,de=null,Us(le)===P&&($e=new $e($,L+"enter",Me,r,le),$e.target=K,$e.relatedTarget=vt,de=$e),vt=de,se&&Me)t:{for($e=Vw,$=se,L=Me,K=0,de=$;de;de=$e(de))K++;de=0;for(var Le=L;Le;Le=$e(Le))de++;for(;0<K-de;)$=$e($),K--;for(;0<de-K;)L=$e(L),de--;for(;K--;){if($===L||L!==null&&$===L.alternate){$e=$;break t}$=$e($),L=$e(L)}$e=null}else $e=null;se!==null&&Tg(fe,ee,se,$e,!1),Me!==null&&vt!==null&&Tg(fe,vt,Me,$e,!0)}}e:{if(ee=P?Bs(P):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var lt=Ih;else if(Fh(ee))if(Gh)lt=ew;else{lt=Xy;var Re=Py}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?P&&Ri(P.elementType)&&(lt=Ih):lt=Jy;if(lt&&(lt=lt(t,P))){Qh(fe,lt,r,le);break e}Re&&Re(t,ee,P),t==="focusout"&&P&&ee.type==="number"&&P.memoizedProps.value!=null&&er(ee,"number",ee.value)}switch(Re=P?Bs(P):window,t){case"focusin":(Fh(Re)||Re.contentEditable==="true")&&($r=Re,mu=P,Hi=null);break;case"focusout":Hi=mu=$r=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,tm(fe,r,le);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":tm(fe,r,le)}var Ye;if(uu)e:{switch(t){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else qr?Hh(t,r)&&(tt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(tt="onCompositionStart");tt&&(qh&&r.locale!=="ko"&&(qr||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&qr&&(Ye=Br()):(Fe=le,Ps="value"in Fe?Fe.value:Fe.textContent,qr=!0)),Re=Wo(P,tt),0<Re.length&&(tt=new Uh(tt,t,null,r,le),fe.push({event:tt,listeners:Re}),Ye?tt.data=Ye:(Ye=Vh(r),Ye!==null&&(tt.data=Ye)))),(Ye=Iy?Gy(t,r):Wy(t,r))&&(tt=Wo(P,"onBeforeInput"),0<tt.length&&(Re=new Uh("onBeforeInput","beforeinput",null,r,le),fe.push({event:Re,listeners:tt}),Re.data=Ye)),qw(fe,t,P,r,le)}Cg(fe,s)})}function hl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Wo(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ke(t,r),d!=null&&o.unshift(hl(t,d,h)),d=ke(t,s),d!=null&&o.push(hl(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Vw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tg(t,s,r,o,d){for(var h=s._reactName,v=[];r!==null&&r!==o;){var S=r,D=S.alternate,P=S.stateNode;if(S=S.tag,D!==null&&D===o)break;S!==5&&S!==26&&S!==27||P===null||(D=P,d?(P=ke(r,h),P!=null&&v.unshift(hl(r,P,D))):d||(P=ke(r,h),P!=null&&v.push(hl(r,P,D)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var Fw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function Ag(t){return(typeof t=="string"?t:""+t).replace(Fw,`
`).replace(Qw,"")}function Mg(t,s){return s=Ag(s),Ag(t)===s}function xt(t,s,r,o,d,h){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||qs(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&qs(t,""+o);break;case"className":us(t,"class",o);break;case"tabIndex":us(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,r,o);break;case"style":to(t,o,h);break;case"data":if(s!=="object"){us(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(s!=="input"&&xt(t,s,"name",d.name,d,null),xt(t,s,"formEncType",d.formEncType,d,null),xt(t,s,"formMethod",d.formMethod,d,null),xt(t,s,"formTarget",d.formTarget,d,null)):(xt(t,s,"encType",d.encType,d,null),xt(t,s,"method",d.method,d,null),xt(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Je("beforetoggle",t),Je("toggle",t),Or(t,"popover",o);break;case"xlinkActuate":ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ds(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ds(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ds(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ds(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Or(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,Or(t,r,o))}}function $d(t,s,r,o,d,h){switch(r){case"style":to(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?qs(t,o):(typeof o=="number"||typeof o=="bigint")&&qs(t,""+o);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),h=t[Ft]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Or(t,r,o)}}}function jn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var o=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,h,v,r,null)}}d&&xt(t,s,"srcSet",r.srcSet,r,null),o&&xt(t,s,"src",r.src,r,null);return;case"input":Je("invalid",t);var S=h=v=d=null,D=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var le=r[o];if(le!=null)switch(o){case"name":d=le;break;case"type":v=le;break;case"checked":D=le;break;case"defaultChecked":P=le;break;case"value":h=le;break;case"defaultValue":S=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:xt(t,s,o,le,r,null)}}Pl(t,h,S,D,P,v,d,!1);return;case"select":Je("invalid",t),o=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:xt(t,s,d,S,r,null)}s=h,r=v,t.multiple=!!o,s!=null?ya(t,!!o,s,!1):r!=null&&ya(t,!!o,r,!0);return;case"textarea":Je("invalid",t),h=d=o=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:xt(t,s,v,S,r,null)}Jl(t,o,d,h);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(o=r[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:xt(t,s,D,o,r,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(o=0;o<fl.length;o++)Je(fl[o],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,P,o,r,null)}return;default:if(Ri(s)){for(le in r)r.hasOwnProperty(le)&&(o=r[le],o!==void 0&&$d(t,s,le,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&xt(t,s,S,o,r,null))}function Iw(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,D=null,P=null,le=null;for(se in r){var fe=r[se];if(r.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":D=fe;default:o.hasOwnProperty(se)||xt(t,s,se,null,o,fe)}}for(var ee in o){var se=o[ee];if(fe=r[ee],o.hasOwnProperty(ee)&&(se!=null||fe!=null))switch(ee){case"type":h=se;break;case"name":d=se;break;case"checked":P=se;break;case"defaultChecked":le=se;break;case"value":v=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:se!==fe&&xt(t,s,ee,se,o,fe)}}Ur(t,v,S,D,P,le,h,d);return;case"select":se=v=S=ee=null;for(h in r)if(D=r[h],r.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":se=D;default:o.hasOwnProperty(h)||xt(t,s,h,null,o,D)}for(d in o)if(h=o[d],D=r[d],o.hasOwnProperty(d)&&(h!=null||D!=null))switch(d){case"value":ee=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==D&&xt(t,s,d,h,o,D)}s=S,r=v,o=se,ee!=null?ya(t,!!r,ee,!1):!!o!=!!r&&(s!=null?ya(t,!!r,s,!0):ya(t,!!r,r?[]:"",!1));return;case"textarea":se=ee=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:xt(t,s,S,null,o,d)}for(v in o)if(d=o[v],h=r[v],o.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":ee=d;break;case"defaultValue":se=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&xt(t,s,v,d,o,h)}Xl(t,ee,se);return;case"option":for(var Me in r)if(ee=r[Me],r.hasOwnProperty(Me)&&ee!=null&&!o.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:xt(t,s,Me,null,o,ee)}for(D in o)if(ee=o[D],se=r[D],o.hasOwnProperty(D)&&ee!==se&&(ee!=null||se!=null))switch(D){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:xt(t,s,D,ee,o,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in r)ee=r[$e],r.hasOwnProperty($e)&&ee!=null&&!o.hasOwnProperty($e)&&xt(t,s,$e,null,o,ee);for(P in o)if(ee=o[P],se=r[P],o.hasOwnProperty(P)&&ee!==se&&(ee!=null||se!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:xt(t,s,P,ee,o,se)}return;default:if(Ri(s)){for(var vt in r)ee=r[vt],r.hasOwnProperty(vt)&&ee!==void 0&&!o.hasOwnProperty(vt)&&$d(t,s,vt,void 0,o,ee);for(le in o)ee=o[le],se=r[le],!o.hasOwnProperty(le)||ee===se||ee===void 0&&se===void 0||$d(t,s,le,ee,o,se);return}}for(var $ in r)ee=r[$],r.hasOwnProperty($)&&ee!=null&&!o.hasOwnProperty($)&&xt(t,s,$,null,o,ee);for(fe in o)ee=o[fe],se=r[fe],!o.hasOwnProperty(fe)||ee===se||ee==null&&se==null||xt(t,s,fe,ee,o,se)}function Dg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&Dg(v)){for(v=0,S=d.responseEnd,o+=1;o<r.length;o++){var D=r[o],P=D.startTime;if(P>S)break;var le=D.transferSize,fe=D.initiatorType;le&&Dg(fe)&&(D=D.responseEnd,v+=le*(D<S?1:(S-P)/(D-P)))}if(--o,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,Hd=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function Rg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fd=null;function Ww(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(Pw)}:Og;function Pw(t){setTimeout(function(){throw t})}function Za(t){return t==="head"}function Ug(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),hi(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ml(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ml(r);for(var h=r.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[Rn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&ml(t.ownerDocument.body);r=d}while(r);hi(s)}function Bg(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Qd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qd(r),Ys(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Xw(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Rn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function Jw(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=vs(t.nextSibling),t===null))return null;return t}function qg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vs(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function e1(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Wd=null;function $g(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return vs(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Zg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Hg(t,s,r){switch(s=Yo(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function ml(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ys(t)}var bs=new Map,Vg=new Set;function Ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=J.d;J.d={f:t1,r:n1,D:s1,C:a1,L:r1,m:i1,X:o1,S:l1,M:c1};function t1(){var t=fa.f(),s=Zo();return t||s}function n1(t){var s=_s(t);s!==null&&s.tag===5&&s.type==="form"?ip(s):fa.r(t)}var ui=typeof document>"u"?null:document;function Fg(t,s,r){var o=ui;if(o&&typeof s=="string"&&s){var d=zn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Vg.has(d)||(Vg.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),jn(s,"link",t),Ot(s),o.head.appendChild(s)))}}function s1(t){fa.D(t),Fg("dns-prefetch",t,null)}function a1(t,s){fa.C(t,s),Fg("preconnect",t,s)}function r1(t,s,r){fa.L(t,s,r);var o=ui;if(o&&t&&s){var d='link[rel="preload"][as="'+zn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+zn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+zn(r.imageSizes)+'"]')):d+='[href="'+zn(t)+'"]';var h=d;switch(s){case"style":h=di(t);break;case"script":h=fi(t)}bs.has(h)||(t=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),bs.set(h,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(pl(h))||s==="script"&&o.querySelector(gl(h))||(s=o.createElement("link"),jn(s,"link",t),Ot(s),o.head.appendChild(s)))}}function i1(t,s){fa.m(t,s);var r=ui;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+zn(o)+'"][href="'+zn(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=fi(t)}if(!bs.has(h)&&(t=y({rel:"modulepreload",href:t},s),bs.set(h,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gl(h)))return}o=r.createElement("link"),jn(o,"link",t),Ot(o),r.head.appendChild(o)}}}function l1(t,s,r){fa.S(t,s,r);var o=ui;if(o&&t){var d=cs(o).hoistableStyles,h=di(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(pl(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},r),(r=bs.get(h))&&Yd(t,r);var D=v=o.createElement("link");Ot(D),jn(D,"link",t),D._p=new Promise(function(P,le){D.onload=P,D.onerror=le}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Po(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function o1(t,s){fa.X(t,s);var r=ui;if(r&&t){var o=cs(r).hoistableScripts,d=fi(t),h=o.get(d);h||(h=r.querySelector(gl(d)),h||(t=y({src:t,async:!0},s),(s=bs.get(d))&&Kd(t,s),h=r.createElement("script"),Ot(h),jn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function c1(t,s){fa.M(t,s);var r=ui;if(r&&t){var o=cs(r).hoistableScripts,d=fi(t),h=o.get(d);h||(h=r.querySelector(gl(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=bs.get(d))&&Kd(t,s),h=r.createElement("script"),Ot(h),jn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Qg(t,s,r,o){var d=(d=V.current)?Ko(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=di(r.href),r=cs(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=di(r.href);var h=cs(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(pl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),bs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bs.set(t,r),h||u1(d,t,r,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fi(r),r=cs(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function di(t){return'href="'+zn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Ig(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),jn(s,"link",r),Ot(s),t.head.appendChild(s))}function fi(t){return'[src="'+zn(t)+'"]'}function gl(t){return"script[async]"+t}function Gg(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+zn(r.href)+'"]');if(o)return s.instance=o,Ot(o),o;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),jn(o,"style",d),Po(o,r.precedence,t),s.instance=o;case"stylesheet":d=di(r.href);var h=t.querySelector(pl(d));if(h)return s.state.loading|=4,s.instance=h,Ot(h),h;o=Ig(r),(d=bs.get(d))&&Yd(o,d),h=(t.ownerDocument||t).createElement("link"),Ot(h);var v=h;return v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),jn(h,"link",o),s.state.loading|=4,Po(h,r.precedence,t),s.instance=h;case"script":return h=fi(r.src),(d=t.querySelector(gl(h)))?(s.instance=d,Ot(d),d):(o=r,(d=bs.get(h))&&(o=y({},r),Kd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ot(d),jn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Po(o,r.precedence,t));return s.instance}function Po(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Yd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Kd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Xo=null;function Wg(t,s,r){if(Xo===null){var o=new Map,d=Xo=new Map;d.set(r,o)}else d=Xo,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[Rn]||h[on]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function Yg(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function d1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function f1(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=di(o.href),h=s.querySelector(pl(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Jo.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=h,Ot(h);return}h=s.ownerDocument||s,o=Ig(o),(d=bs.get(d))&&Yd(o,d),h=h.createElement("link"),Ot(h);var v=h;v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),jn(h,"link",o),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Jo.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Pd=0;function h1(t,s){return t.stylesheets&&t.count===0&&tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&tc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&Pd===0&&(Pd=62500*Gw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&tc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Pd?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function tc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,s.forEach(m1,t),ec=null,Jo.call(t))}function m1(t,s){if(!(s.state.loading&4)){var r=ec.get(t);if(r)var o=r.get(null);else{r=new Map,ec.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||o,h===o&&r.set(null,d),r.set(v,d),this.count++,o=Jo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var xl={$$typeof:T,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function p1(t,s,r,o,d,h,v,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Pg(t,s,r,o,d,h,v,S,D,P,le,fe){return t=new p1(t,s,r,v,D,P,le,fe,S),s=1,h===!0&&(s|=24),h=Jn(3,null,null,s),t.current=h,h.stateNode=t,s=Au(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:s},zu(h),t}function Xg(t){return t?(t=Vr,t):Vr}function Jg(t,s,r,o,d,h){d=Xg(d),o.context===null?o.context=d:o.pendingContext=d,o=Aa(s),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=Ma(t,o,s),r!==null&&($n(r,t,s),Yi(r,t,s))}function ex(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Xd(t,s){ex(t,s),(t=t.alternate)&&ex(t,s)}function tx(t){if(t.tag===13||t.tag===31){var s=ar(t,67108864);s!==null&&$n(s,t,67108864),Xd(t,67108864)}}function nx(t){if(t.tag===13||t.tag===31){var s=as();s=ls(s);var r=ar(t,s);r!==null&&$n(r,t,s),Xd(t,s)}}var nc=!0;function g1(t,s,r,o){var d=B.T;B.T=null;var h=J.p;try{J.p=2,Jd(t,s,r,o)}finally{J.p=h,B.T=d}}function x1(t,s,r,o){var d=B.T;B.T=null;var h=J.p;try{J.p=8,Jd(t,s,r,o)}finally{J.p=h,B.T=d}}function Jd(t,s,r,o){if(nc){var d=ef(o);if(d===null)qd(t,s,o,sc,r),ax(t,o);else if(b1(d,t,s,r,o))o.stopPropagation();else if(ax(t,o),s&4&&-1<v1.indexOf(t)){for(;d!==null;){var h=_s(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=_e(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var D=1<<31-pt(v);S.entanglements[1]|=D,v&=~D}Vs(h),(ct&6)===0&&(qo=te()+500,dl(0))}}break;case 31:case 13:S=ar(h,2),S!==null&&$n(S,h,2),Zo(),Xd(h,2)}if(h=ef(o),h===null&&qd(t,s,o,sc,r),h===d)break;d=h}d!==null&&o.stopPropagation()}else qd(t,s,o,null,r)}}function ef(t){return t=Oi(t),tf(t)}var sc=null;function tf(t){if(sc=null,t=Us(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return sc=t,null}function sx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case je:return 2;case qe:return 8;case Ve:case jt:return 32;case ye:return 268435456;default:return 32}default:return 32}}var nf=!1,Ha=null,Va=null,Fa=null,vl=new Map,bl=new Map,Qa=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(t,s){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(s.pointerId)}}function yl(t,s,r,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},s!==null&&(s=_s(s),s!==null&&tx(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function b1(t,s,r,o,d){switch(s){case"focusin":return Ha=yl(Ha,t,s,r,o,d),!0;case"dragenter":return Va=yl(Va,t,s,r,o,d),!0;case"mouseover":return Fa=yl(Fa,t,s,r,o,d),!0;case"pointerover":var h=d.pointerId;return vl.set(h,yl(vl.get(h)||null,t,s,r,o,d)),!0;case"gotpointercapture":return h=d.pointerId,bl.set(h,yl(bl.get(h)||null,t,s,r,o,d)),!0}return!1}function rx(t){var s=Us(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,Es(t.priority,function(){nx(r)});return}}else if(s===31){if(s=m(r),s!==null){t.blockedOn=s,Es(t.priority,function(){nx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=ef(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);zi=o,r.target.dispatchEvent(o),zi=null}else return s=_s(r),s!==null&&tx(s),t.blockedOn=r,!1;s.shift()}return!0}function ix(t,s,r){ac(t)&&r.delete(s)}function y1(){nf=!1,Ha!==null&&ac(Ha)&&(Ha=null),Va!==null&&ac(Va)&&(Va=null),Fa!==null&&ac(Fa)&&(Fa=null),vl.forEach(ix),bl.forEach(ix)}function rc(t,s){t.blockedOn===s&&(t.blockedOn=null,nf||(nf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y1)))}var ic=null;function lx(t){ic!==t&&(ic=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ic===t&&(ic=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(tf(o||r)===null)continue;break}var h=_s(r);h!==null&&(t.splice(s,3),s-=3,ed(h,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function hi(t){function s(D){return rc(D,t)}Ha!==null&&rc(Ha,t),Va!==null&&rc(Va,t),Fa!==null&&rc(Fa,t),vl.forEach(s),bl.forEach(s);for(var r=0;r<Qa.length;r++){var o=Qa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Qa.length&&(r=Qa[0],r.blockedOn===null);)rx(r),r.blockedOn===null&&Qa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],h=r[o+1],v=d[Ft]||null;if(typeof h=="function")v||lx(r);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Ft]||null)S=v.formAction;else if(tf(d)!==null)continue}else S=v.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),lx(r)}}}function ox(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function sf(t){this._internalRoot=t}lc.prototype.render=sf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=as();Jg(r,o,t,s,null,null)},lc.prototype.unmount=sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Jg(t.current,2,null,t,null,null),Zo(),s[Yn]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tn();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Qa.length&&s!==0&&s<Qa[r].priority;r++);Qa.splice(r,0,t),r===0&&rx(t)}};var cx=n.version;if(cx!=="19.2.0")throw Error(i(527,cx,"19.2.0"));J.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var w1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Ke=oc.inject(w1),it=oc}catch{}}return Sl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,o="",d=gp,h=xp,v=vp;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Pg(t,1,!1,null,null,r,o,null,d,h,v,ox),t[Yn]=s.current,Bd(t),new sf(s)},Sl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var o=!1,d="",h=gp,v=xp,S=vp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),s=Pg(t,1,!0,s,r??null,o,d,D,h,v,S,ox),s.context=Xg(null),r=s.current,o=as(),o=ls(o),d=Aa(o),d.callback=null,Ma(r,d,o),r=o,s.current.lanes=r,Dt(s,r),Vs(s),t[Yn]=s.current,Bd(t),new lc(s)},Sl.version="19.2.0",Sl}var bx;function A1(){if(bx)return lf.exports;bx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),lf.exports=T1(),lf.exports}var M1=A1();const D1=uv(M1),qc=p.createContext(null);function R1({children:e}){const[n,a]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(g=>{for(const b of i.current)if(b(g)===!1)return!1;return!0},[]);p.useEffect(()=>{const g=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const E=c.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}a(b)};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[u]);const f=p.useCallback(g=>(i.current.add(g),()=>{i.current.delete(g)}),[]),m=p.useCallback((g,b)=>{const y=new URL(g,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},E=`${w.pathname}${w.search}${w.hash}`,k=b?.replace?"replace":"push";u({kind:k,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),x=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return l.jsx(qc.Provider,{value:x,children:e})}function Ss(){const e=p.useContext(qc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function En(){const e=p.useContext(qc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function z1(e,n=!0){const a=p.useContext(qc);if(!a)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return a.registerBlocker(e)},[e,a,n])}var _i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},O1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},L1=class{#e=O1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},wr=new L1;function U1(e){setTimeout(e,0)}var Nr=typeof window>"u"||"Deno"in globalThis;function Dn(){}function B1(e,n){return typeof e=="function"?e(n):e}function Af(e){return typeof e=="number"&&e>=0&&e!==1/0}function fv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ya(e,n){return typeof e=="function"?e(n):e}function ys(e,n){return typeof e=="function"?e(n):e}function yx(e,n){const{type:a="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==eh(f,n.options))return!1}else if(!Dl(n.queryKey,f))return!1}if(a!=="all"){const x=n.isActive();if(a==="active"&&!x||a==="inactive"&&x)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function wx(e,n){const{exact:a,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(a){if(_r(n.options.mutationKey)!==_r(u))return!1}else if(!Dl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function eh(e,n){return(n?.queryKeyHashFn||_r)(e)}function _r(e){return JSON.stringify(e,(n,a)=>Mf(a)?Object.keys(a).sort().reduce((i,c)=>(i[c]=a[c],i),{}):a)}function Dl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>Dl(e[a],n[a])):!1}var q1=Object.prototype.hasOwnProperty;function hv(e,n){if(e===n)return e;const a=Sx(e)&&Sx(n);if(!a&&!(Mf(e)&&Mf(n)))return n;const c=(a?e:Object.keys(e)).length,u=a?n:Object.keys(n),f=u.length,m=a?new Array(f):{};let x=0;for(let g=0;g<f;g++){const b=a?g:u[g],y=e[b],w=n[b];if(y===w){m[b]=y,(a?g<c:q1.call(e,b))&&x++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const E=hv(y,w);m[b]=E,E===y&&x++}return c===f&&x===c?e:m}function Sc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function Sx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mf(e){if(!jx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!jx(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jx(e){return Object.prototype.toString.call(e)==="[object Object]"}function $1(e){return new Promise(n=>{wr.setTimeout(n,e)})}function Df(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?hv(e,n):n}function Z1(e,n,a=0){const i=[...e,n];return a&&i.length>a?i.slice(1):i}function H1(e,n,a=0){const i=[n,...e];return a&&i.length>a?i.slice(0,-1):i}var th=Symbol();function mv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===th?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function pv(e,n){return typeof e=="function"?e(...n):!!e}var V1=class extends _i{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Nr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nh=new V1;function Rf(){let e,n;const a=new Promise((c,u)=>{e=c,n=u});a.status="pending",a.catch(()=>{});function i(c){Object.assign(a,c),delete a.resolve,delete a.reject}return a.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},a.reject=c=>{i({status:"rejected",reason:c}),n(c)},a}var F1=U1;function Q1(){let e=[],n=0,a=m=>{m()},i=m=>{m()},c=F1;const u=m=>{n?e.push(m):c(()=>{a(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(x=>{a(x)})})})};return{batch:m=>{let x;n++;try{x=m()}finally{n--,n||f()}return x},batchCalls:m=>(...x)=>{u(()=>{m(...x)})},schedule:u,setNotifyFunction:m=>{a=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var dn=Q1(),I1=class extends _i{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Nr&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},jc=new I1;function G1(e){return Math.min(1e3*2**e,3e4)}function gv(e){return(e??"online")==="online"?jc.isOnline():!0}var zf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function xv(e){let n=!1,a=0,i;const c=Rf(),u=()=>c.status!=="pending",f=N=>{if(!u()){const R=new zf(N);w(R),e.onCancel?.(R)}},m=()=>{n=!0},x=()=>{n=!1},g=()=>nh.isFocused()&&(e.networkMode==="always"||jc.isOnline())&&e.canRun(),b=()=>gv(e.networkMode)&&e.canRun(),y=N=>{u()||(i?.(),c.resolve(N))},w=N=>{u()||(i?.(),c.reject(N))},E=()=>new Promise(N=>{i=R=>{(u()||g())&&N(R)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),k=()=>{if(u())return;let N;const R=a===0?e.initialPromise:void 0;try{N=R??e.fn()}catch(U){N=Promise.reject(U)}Promise.resolve(N).then(y).catch(U=>{if(u())return;const j=e.retry??(Nr?0:3),T=e.retryDelay??G1,W=typeof T=="function"?T(a,U):T,q=j===!0||typeof j=="number"&&a<j||typeof j=="function"&&j(a,U);if(n||!q){w(U);return}a++,e.onFail?.(a,U),$1(W).then(()=>g()?void 0:E()).then(()=>{n?w(U):k()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:x,canStart:b,start:()=>(b()?k():E().then(k),c)}}var vv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Af(this.gcTime)&&(this.#e=wr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(wr.clearTimeout(this.#e),this.#e=void 0)}},W1=class extends vv{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ex(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ex(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const a=Df(this.state.data,e,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===th||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ya(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},c=()=>{const m=mv(this.options,n),g=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,g,this):m(g)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=xv({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof zf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(m,x)=>{this.#r({type:"failed",failureCount:m,error:x})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof zf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...bv(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),dn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function bv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ex(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var yv=class extends _i{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=Rf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Nx(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Of(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Of(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!Sc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&_x(this.#t,a,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||Ya(this.options.staleTime,this.#t)!==Ya(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return K1(this,a)&&(this.#a=a,this.#i=this.options,this.#s=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Dn)),n}#g(){this.#y();const e=Ya(this.options.staleTime,this.#t);if(Nr||this.#a.isStale||!Af(e))return;const a=fv(this.#a.dataUpdatedAt,e)+1;this.#c=wr.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(Nr||ys(this.options.enabled,this.#t)===!1||!Af(this.#o)||this.#o===0)&&(this.#u=wr.setInterval(()=>{(this.options.refetchIntervalInBackground||nh.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(wr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(wr.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const a=this.#t,i=this.options,c=this.#a,u=this.#s,f=this.#i,x=e!==a?e.state:this.#n,{state:g}=e;let b={...g},y=!1,w;if(n._optimisticResults){const F=this.hasListeners(),Q=!F&&Nx(e,n),ne=F&&_x(e,a,n,i);(Q||ne)&&(b={...b,...bv(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:k,status:N}=b;w=b.data;let R=!1;if(n.placeholderData!==void 0&&w===void 0&&N==="pending"){let F;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(F=c.data,R=!0):F=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,F!==void 0&&(N="success",w=Df(c?.data,F,n),y=!0)}if(n.select&&w!==void 0&&!R)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Df(c?.data,w,n),this.#f=w,this.#r=null}catch(F){this.#r=F}this.#r&&(E=this.#r,w=this.#f,k=Date.now(),N="error");const U=b.fetchStatus==="fetching",j=N==="pending",T=N==="error",W=j&&U,q=w!==void 0,H={status:N,fetchStatus:b.fetchStatus,isPending:j,isSuccess:N==="success",isError:T,isInitialLoading:W,isLoading:W,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:k,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>x.dataUpdateCount||b.errorUpdateCount>x.errorUpdateCount,isFetching:U,isRefetching:U&&!j,isLoadingError:T&&!q,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&q,isStale:sh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:ys(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=re=>{H.status==="error"?re.reject(H.error):H.data!==void 0&&re.resolve(H.data)},Q=()=>{const re=this.#l=H.promise=Rf();F(re)},ne=this.#l;switch(ne.status){case"pending":e.queryHash===a.queryHash&&F(ne);break;case"fulfilled":(H.status==="error"||H.data!==ne.value)&&Q();break;case"rejected":(H.status!=="error"||H.error!==ne.reason)&&Q();break}}return H}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Sc(n,e))return;this.#a=n;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#j({listeners:a()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Y1(e,n){return ys(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Nx(e,n){return Y1(e,n)||e.state.data!==void 0&&Of(e,n,n.refetchOnMount)}function Of(e,n,a){if(ys(n.enabled,e)!==!1&&Ya(n.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&sh(e,n)}return!1}function _x(e,n,a,i){return(e!==n||ys(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&sh(e,a)}function sh(e,n){return ys(n.enabled,e)!==!1&&e.isStaleByTime(Ya(n.staleTime,e))}function K1(e,n){return!Sc(e.getCurrentResult(),n)}function Ec(e){return{onFetch:(n,a)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let b=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=mv(n.options,n.fetchOptions),E=async(k,N,R)=>{if(b)return Promise.reject();if(N==null&&k.pages.length)return Promise.resolve(k);const j=(()=>{const X={client:n.client,queryKey:n.queryKey,pageParam:N,direction:R?"backward":"forward",meta:n.options.meta};return y(X),X})(),T=await w(j),{maxPages:W}=n.options,q=R?H1:Z1;return{pages:q(k.pages,T,W),pageParams:q(k.pageParams,N,W)}};if(c&&u.length){const k=c==="backward",N=k?wv:Lf,R={pages:u,pageParams:f},U=N(i,R);m=await E(R,U,k)}else{const k=e??u.length;do{const N=x===0?f[0]??i.initialPageParam:Lf(i,m);if(x>0&&N==null)break;m=await E(m,N),x++}while(x<k)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(g,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a):n.fetchFn=g}}}function Lf(e,{pages:n,pageParams:a}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,a[i],a):void 0}function wv(e,{pages:n,pageParams:a}){return n.length>0?e.getPreviousPageParam?.(n[0],n,a[0],a):void 0}function P1(e,n){return n?Lf(e,n)!=null:!1}function X1(e,n){return!n||!e.getPreviousPageParam?!1:wv(e,n)!=null}var J1=class extends yv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Ec()})}getOptimisticResult(e){return e.behavior=Ec(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:a}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,x=a.fetchMeta?.fetchMore?.direction,g=f&&x==="forward",b=c&&x==="forward",y=f&&x==="backward",w=c&&x==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:P1(n,a.data),hasPreviousPage:X1(n,a.data),isFetchNextPageError:g,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!g&&!y,isRefetching:u&&!b&&!w}}},eS=class extends vv{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Sv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=xv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,a);const f=await this.options.onMutate?.(e,a);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,a),await this.options.onError?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,e,this.state.context,a),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Sv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tS=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,a){const i=new eS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:a});return this.add(i),i}add(e){this.#e.add(e);const n=cc(e);if(typeof n=="string"){const a=this.#t.get(n);a?a.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=cc(e);if(typeof n=="string"){const a=this.#t.get(n);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=cc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=cc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(a=>wx(n,a))}findAll(e={}){return this.getAll().filter(n=>wx(e,n))}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}};function cc(e){return e.options.scope?.id}var nS=class extends _i{#e;#t=void 0;#n;#a;constructor(n,a){super(),this.#e=n,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=this.#e.defaultMutationOptions(n),Sc(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&_r(a.mutationKey)!==_r(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Sv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){dn.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,a,i,c),this.#a.onSettled?.(n.data,null,a,i,c)):n?.type==="error"&&(this.#a.onError?.(n.error,a,i,c),this.#a.onSettled?.(void 0,n.error,a,i,c))}this.listeners.forEach(a=>{a(this.#t)})})}},sS=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,a){const i=n.queryKey,c=n.queryHash??eh(i,n);let u=this.get(c);return u||(u=new W1({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>yx(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>yx(e,a)):n}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},aS=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new sS,this.#t=e.mutationCache||new tS,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=nh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=jc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=this.#e.build(this,n),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Ya(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=B1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...a,manual:!0})}setQueriesData(e,n,a){return dn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;dn.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=this.#e;return dn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},i=dn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(a)));return Promise.all(i).then(Dn).catch(Dn)}invalidateQueries(e,n={}){return dn.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},i=dn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,a);return a.throwOnError||(u=u.catch(Dn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Dn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=this.#e.build(this,n);return a.isStaleByTime(Ya(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dn).catch(Dn)}fetchInfiniteQuery(e){return e.behavior=Ec(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dn).catch(Dn)}ensureInfiniteQueryData(e){return e.behavior=Ec(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(_r(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],a={};return n.forEach(i=>{Dl(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,n){this.#s.set(_r(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],a={};return n.forEach(i=>{Dl(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=eh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===th&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jv=p.createContext(void 0),Tt=e=>{const n=p.useContext(jv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},rS=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(jv.Provider,{value:e,children:n})),Ev=p.createContext(!1),iS=()=>p.useContext(Ev);Ev.Provider;function lS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oS=p.createContext(lS()),cS=()=>p.useContext(oS),uS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},dS=e=>{p.useEffect(()=>{e.clearReset()},[e])},fS=({result:e,errorResetBoundary:n,throwOnError:a,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||pv(a,[e.error,i])),hS=e=>{if(e.suspense){const a=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>a(i(...c)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mS=(e,n)=>e.isLoading&&e.isFetching&&!n,pS=(e,n)=>e?.suspense&&n.isPending,Cx=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function Nv(e,n,a){const i=iS(),c=cS(),u=Tt(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",hS(f),uS(f,c),dS(c);const m=!u.getQueryCache().get(f.queryHash),[x]=p.useState(()=>new n(u,f)),g=x.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?x.subscribe(dn.batchCalls(y)):Dn;return x.updateResult(),w},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),p.useEffect(()=>{x.setOptions(f)},[f,x]),pS(f,g))throw Cx(f,x,c);if(fS({result:g,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!Nr&&mS(g,i)&&(m?Cx(f,x,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(Dn).finally(()=>{x.updateResult()}),f.notifyOnChangeProps?g:x.trackResult(g)}function fn(e,n){return Nv(e,yv)}function kn(e,n){const a=Tt(),[i]=p.useState(()=>new nS(a,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(dn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch(Dn)},[i]);if(c.error&&pv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function ah(e,n){return Nv(e,J1)}const gS="modulepreload",xS=function(e){return"/"+e},kx={},vS=function(n,a,i){let c=Promise.resolve();if(a&&a.length>0){let x=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=x(a.map(g=>{if(g=xS(g),g in kx)return;kx[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":gS,b||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((E,k)=>{w.addEventListener("load",E),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function bS({children:e}){const[n]=p.useState(()=>new aS({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(rS,{client:n,children:[e,null]})}const yS=["ade_csrf","backend_app_csrf"];function wS(){return yS}function SS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,a=e.split(";");for(const i of a){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function rh(){const e=SS();if(!e)return null;for(const n of wS()){const a=e.get(n);if(a)return a}return null}const _v="/api/v1",jS=new Set(["GET","HEAD","OPTIONS"]);class is extends Error{status;problem;constructor(n,a,i){super(n),this.name="ApiError",this.status=a,this.problem=i}}class ES{baseUrl;constructor(n=_v){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,a={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:x,...g}=a,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!jS.has(b)&&!w.has("X-CSRF-Token")){const N=rh();N&&w.set("X-CSRF-Token",N)}const E=await fetch(y,{...g,method:b,headers:w,body:f,credentials:x??"include"});if(!E.ok){const N=await this.tryParseProblem(E),R=N?.title??`Request failed with status ${E.status}`;throw new is(R,E.status,N)}if(c)return E;if(!i||E.status===204)return;const k=await E.text();return k?JSON.parse(k):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,a){if(a){if(a instanceof Headers){a.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(a)){a.forEach(([i,c])=>n.set(i,c));return}Object.entries(a).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const Cv=new ES(_v);function NS(e,n){return Cv.request(e,{...n,method:"GET"})}function ih(e,n,a){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return Cv.request(e,{...a,method:"POST",body:i})}const _S=/\{[^{}]+\}/g,CS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function kS(){return Math.random().toString(36).slice(2,11)}function TS(e){let{baseUrl:n="",Request:a=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...x}={...e};m=CS()?m:void 0,n=Mx(n);const g=[];async function b(y,w){const{baseUrl:E,fetch:k=i,Request:N=a,headers:R,params:U={},parseAs:j="json",querySerializer:T,bodySerializer:W=u??MS,body:q,middleware:X=[],...H}=w||{};let F=n;E&&(F=Mx(E)??n);let Q=typeof c=="function"?c:Tx(c);T&&(Q=typeof T=="function"?T:Tx({...typeof c=="object"?c:{},...T}));const ne=q===void 0?void 0:W(q,Ax(f,R,U.header)),re=Ax(ne===void 0||ne instanceof FormData?{}:{"Content-Type":"application/json"},f,R,U.header),ue=[...g,...X],me={redirect:"follow",...x,...H,body:ne,headers:re};let pe,Se,B=new N(DS(y,{baseUrl:F,params:U,querySerializer:Q}),me),J;for(const be in H)be in B||(B[be]=H[be]);if(ue.length){pe=kS(),Se=Object.freeze({baseUrl:F,fetch:k,parseAs:j,querySerializer:Q,bodySerializer:W});for(const be of ue)if(be&&typeof be=="object"&&typeof be.onRequest=="function"){const we=await be.onRequest({request:B,schemaPath:y,params:U,options:Se,id:pe});if(we)if(we instanceof N)B=we;else if(we instanceof Response){J=we;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!J){try{J=await k(B,m)}catch(be){let we=be;if(ue.length)for(let A=ue.length-1;A>=0;A--){const Y=ue[A];if(Y&&typeof Y=="object"&&typeof Y.onError=="function"){const O=await Y.onError({request:B,error:we,schemaPath:y,params:U,options:Se,id:pe});if(O){if(O instanceof Response){we=void 0,J=O;break}if(O instanceof Error){we=O;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(we)throw we}if(ue.length)for(let be=ue.length-1;be>=0;be--){const we=ue[be];if(we&&typeof we=="object"&&typeof we.onResponse=="function"){const A=await we.onResponse({request:B,response:J,schemaPath:y,params:U,options:Se,id:pe});if(A){if(!(A instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");J=A}}}}if(J.status===204||B.method==="HEAD"||J.headers.get("Content-Length")==="0")return J.ok?{data:void 0,response:J}:{error:void 0,response:J};if(J.ok)return j==="stream"?{data:J.body,response:J}:{data:await J[j](),response:J};let ge=await J.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:J}}return{request(y,w,E){return b(w,{...E,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");g.push(w)}},eject(...y){for(const w of y){const E=g.indexOf(w);E!==-1&&g.splice(E,1)}}}}function $c(e,n,a){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${a?.allowReserved===!0?n:encodeURIComponent(n)}`}function kv(e,n,a){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const m in n)i.push(m,a.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(a.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=a.style==="deepObject"?`${e}[${f}]`:f;i.push($c(m,n[f],a))}const u=i.join(c);return a.style==="label"||a.style==="matrix"?`${c}${u}`:u}function Tv(e,n,a){if(!Array.isArray(n))return"";if(a.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",f=(a.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(a.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[a.style]||"&",c=[];for(const u of n)a.style==="simple"||a.style==="label"?c.push(a.allowReserved===!0?u:encodeURIComponent(u)):c.push($c(e,u,a));return a.style==="label"||a.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function Tx(e){return function(a){const i=[];if(a&&typeof a=="object")for(const c in a){const u=a[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(Tv(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(kv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push($c(c,u,e))}}return i.join("&")}}function AS(e,n){let a=e;for(const i of e.match(_S)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){a=a.replace(i,Tv(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){a=a.replace(i,kv(c,m,{style:f,explode:u}));continue}if(f==="matrix"){a=a.replace(i,`;${$c(c,m)}`);continue}a=a.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return a}function MS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function DS(e,n){let a=`${n.baseUrl}${e}`;n.params?.path&&(a=AS(a,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+=`?${i}`),a}function Ax(...e){const n=new Headers;for(const a of e){if(!a||typeof a!="object")continue;const i=a instanceof Headers?a.entries():Object.entries(a);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function Mx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Av=new Set(["GET","HEAD","OPTIONS","TRACE"]),df="",Nc=df.endsWith("/api/v1")?df.slice(0,-7):df;function RS(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Nc.length>0?`${Nc}${e}`:e}async function zS(e,n={}){const a=RS(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!Av.has(c)){const f=rh();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(a,{credentials:"include",...n,headers:i})}const We=TS({baseUrl:Nc.length>0?Nc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),OS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Av.has(n)){const a=rh();a&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",a)}return e}},LS={async onResponse({response:e}){if(e.ok)return e;const n=await US(e),a=n?.title??`Request failed with status ${e.status}`;throw new is(a,e.status,n)}};We.use(OS);We.use(LS);async function US(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Rs={root:["auth"],detail:()=>[...Rs.root,"session"],providers:()=>[...Rs.root,"providers"],setupStatus:()=>[...Rs.root,"setup-status"]};async function BS(e={}){try{const{data:n}=await We.GET("/api/v1/auth/session",{signal:e.signal});return HS(n)}catch(n){if(n instanceof is&&(n.status===401||n.status===403))return null;throw n}}async function qS(e={}){try{const{data:n}=await We.GET("/api/v1/auth/providers",{signal:e.signal});return QS(n)}catch(n){if(n instanceof is&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function $S(e,n={}){const{data:a}=await We.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!a)throw new Error("Expected session payload.");return Si(a)}async function ZS(e={}){const{data:n}=await We.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return Si(n)}function Si(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}function HS(e){if(!e)return null;if(VS(e))return e.session?Si(e.session):null;if(FS(e))return Si(e);throw new Error("Unexpected session payload shape returned by the server.")}function VS(e){if(!e||typeof e!="object")return!1;const n=e;return"session"in n&&"providers"in n&&Array.isArray(n.providers)&&"force_sso"in n}function FS(e){return!e||typeof e!="object"?!1:!!e.user}function QS(e){return IS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function IS(e){return!Mv(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every(GS)}function GS(e){return!Mv(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function Mv(e){return typeof e=="object"&&e!==null}const Dv=p.createContext(void 0);function uc(e){return e instanceof Error?e:new Error(String(e))}function Dx({session:e,refetch:n,children:a}){return KS(e,n),l.jsx(Dv.Provider,{value:{session:e,refetch:n},children:a})}function WS(){const e=p.useContext(Dv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Tr(){return WS().session}const YS=6e4;function KS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const a=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(a)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(g=>{console.warn("Failed to refetch session after refresh expiry",uc(g))});return}const u=Math.min(a,i)-YS,f=Math.max(u-c,0);let m=!1;const x=window.setTimeout(async()=>{try{if(await ZS(),m)return;await n().catch(g=>{console.warn("Failed to refetch session after refresh",uc(g))})}catch(g){if(m)return;console.warn("Failed to refresh session",uc(g)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",uc(b))})}},f);return()=>{m=!0,window.clearTimeout(x)}},[n,e.expires_at,e.refresh_expires_at])}function Rv(e={}){const n=Tt(),a=fn({queryKey:Rs.detail(),queryFn:({signal:c})=>BS({signal:c}),enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=a.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Rs.providers(),exact:!1})},[n,i]),{...a,session:i}}async function PS(e={}){try{const{data:n}=await We.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof is&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function XS(e){const{data:n}=await We.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return Si(n)}function lh(e=!0){return fn({queryKey:Rs.setupStatus(),queryFn:({signal:n})=>PS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const Zl="/workspaces",JS=new Set(["/","/login","/setup","/logout"]);function ej(e){if(!e)return!0;const n=nj(e);return!!(JS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function tj(e){return`${e.pathname}${e.search}${e.hash}`}function Rx(e){const n=tj(e)||"/";return _c(n)??Zl}function _c(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?Zl:ej(n)?null:n}function Rl(e){return _c(e)??Zl}function zv(e){return Lv("/login",e)}function Ov(e){return Lv("/setup",e)}function Lv(e,n){const a=Rl(n),i=new URLSearchParams;a!==Zl&&i.set("redirectTo",a);const c=i.toString();return c?`${e}?${c}`:e}function Cc(e,n){const a=_c(e);if(a)return a;const i=_c(n);return i||Zl}function nj(e){let n=e;const a=n.indexOf("#");a>=0&&(n=n.slice(0,a));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Zc({children:e}){const n=Ss(),a=En(),i=Rv(),{session:c,isLoading:u,isError:f,refetch:m}=i,x=!c&&!u&&!f,{data:g,isPending:b,isError:y,isSuccess:w,refetch:E}=lh(x);return p.useEffect(()=>{if(c||u||f)return;if(x){if(b||y)return;if(w&&g?.requires_setup){const N=Rx(n);a(Ov(N),{replace:!0});return}}const k=Rx(n);a(zv(k),{replace:!0})},[f,u,y,b,w,n,a,c,g?.requires_setup,x]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):f?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx(Dx,{session:c,refetch:m,children:e}):l.jsx(Dx,{session:c,refetch:m,children:e??null}):x&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):x&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const sj=100,aj=100,rj=100,ij=200;async function lj(e={}){const{page:n,pageSize:a,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof a=="number"&&a>0&&(u.page_size=a),i&&(u.include_total=!0);const{data:f}=await We.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((x,g)=>x.name.localeCompare(g.name));return{...f,items:m}}async function oj(e){const{data:n}=await We.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function cj(e,n){const{data:a}=await We.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace payload.");return a}async function uj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function dj(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace member payload.");return a}async function fj(e,n,a){const{data:i}=await We.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:a});if(!i)throw new Error("Expected workspace member payload.");return i}async function hj(e,n){await We.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function mj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function pj(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected role payload.");return a}async function gj(e,n,a){const{data:i}=await We.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:a});if(!i)throw new Error("Expected role payload.");return i}async function xj(e,n){await We.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function vj(e={}){const{scope:n="global",workspaceId:a,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};a&&(m.workspace_id=a),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:x}=await We.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!x)throw new Error("Expected permission page payload.");return x}const Er={page:1,pageSize:sj,includeTotal:!1},bj={page:1,pageSize:aj,includeTotal:!1},yj={page:1,pageSize:rj,includeTotal:!1},wj={scope:"global",page:1,pageSize:ij,includeTotal:!1},sn={all:()=>["workspaces"],list:(e=Er)=>[...sn.all(),"list",{...e}],detail:e=>[...sn.all(),"detail",e],members:(e,n=bj)=>[...sn.detail(e),"members",{...n}],roles:(e,n=yj)=>[...sn.detail(e),"roles",{...n}],permissions:(e=wj)=>["permissions",{...e}]};function Sj(e={}){const n=e.page??Er.page,a=e.pageSize??Er.pageSize,i=e.includeTotal??Er.includeTotal;return{queryKey:sn.list({page:n,pageSize:a,includeTotal:i}),queryFn:({signal:c})=>lj({page:n,pageSize:a,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function Hc(e={}){return fn(Sj(e))}const Uv={page:Er.page,pageSize:Er.pageSize,includeTotal:Er.includeTotal};function ff(e){return e instanceof Error?e:new Error(String(e))}function Pa(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",ff(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.warn("Failed to write to storage",ff(a))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",ff(n))}}}}const jj="backend.app.active_workspace",Uf=Pa(jj);function Ej(){return Uf.get()}function Nj(e){if(!e){Uf.clear();return}Uf.set(e.id)}function Bv(e){var n,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(a=Bv(e[n]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function xe(){for(var e,n,a=0,i="",c=arguments.length;a<c;a++)(e=arguments[a])&&(n=Bv(e))&&(i&&(i+=" "),i+=n);return i}const qv=p.createContext(void 0);function _j({workspace:e,workspaces:n,children:a}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return l.jsx(qv.Provider,{value:i,children:a})}function ga(){const e=p.useContext(qv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var ma=dv();const Cj=[{id:"explorer",label:"Explorer",icon:l.jsx(Tj,{})},{id:"search",label:"Search",icon:l.jsx(Aj,{})},{id:"scm",label:"Source Control",icon:l.jsx(Mj,{})},{id:"extensions",label:"Extensions",icon:l.jsx(Dj,{})}];function kj({activeView:e,onSelectView:n,onOpenSettings:a,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:xe("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:Cj.map(u=>{const f=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:xe("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:xe(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?l.jsx("span",{className:xe("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:a,className:xe("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(Rj,{})})})]})}function Tj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function Aj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Mj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Dj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function Rj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const oh=p.createContext(null);function ch({value:e,onValueChange:n,children:a}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),x=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),g=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:x,getValues:g}),[e,n,i,f,m,x,g]);return l.jsx(oh.Provider,{value:b,children:a})}function uh({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function kc({value:e,children:n,className:a,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(oh);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:x,unregisterValue:g,focusValue:b,getValues:y}=m,w=m.value===e,E=`${m.baseId}-tab-${e}`,k=`${m.baseId}-panel-${e}`,N=p.useCallback(U=>{x(e,U)},[x,e]);p.useLayoutEffect(()=>()=>g(e),[g,e]);const R=U=>{if(c?.(U),U.defaultPrevented)return;const j=y(),T=j.indexOf(e);if(T===-1||j.length===0)return;let W=T;U.key==="ArrowRight"?(U.preventDefault(),W=(T+1)%j.length):U.key==="ArrowLeft"?(U.preventDefault(),W=(T-1+j.length)%j.length):U.key==="Home"?(U.preventDefault(),W=0):U.key==="End"&&(U.preventDefault(),W=j.length-1);const q=j[W];q&&q!==m.value&&m.setValue(q),b(q)};return l.jsx("button",{...f,ref:N,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":k,tabIndex:w?0:-1,className:a,disabled:u,onKeyDown:R,onClick:U=>{i?.(U),!U.defaultPrevented&&!u&&m.setValue(e)},children:n})}function bi({value:e,children:n,className:a,...i}){const c=p.useContext(oh);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:a,hidden:!u,tabIndex:0,children:n})}function $v({artifact:e}){return e.tables.length?l.jsx("div",{className:"space-y-3",children:e.tables.map(n=>l.jsxs("div",{className:"rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:[n.source_file,n.source_sheet?`  ${n.source_sheet}`:"",n.table_index>1?` (table ${n.table_index})`:""]}),l.jsxs("p",{className:"text-[11px] text-slate-500",children:["Header row ",n.header.row_index,", ",n.header.cells.length," columns"]})]}),l.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded border border-emerald-100 bg-emerald-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-600",children:"Mapped columns"}),n.mapped_columns.length?l.jsx("ul",{className:"mt-1 space-y-0.5 text-xs text-emerald-700",children:n.mapped_columns.map(a=>l.jsxs("li",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-emerald-700",children:a.field}),l.jsxs("span",{className:"truncate",children:[" ",a.header]})]},`${a.field}-${a.source_column_index}`))}):l.jsx("p",{className:"text-[11px] text-emerald-700",children:"None mapped"})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Unmapped columns"}),n.unmapped_columns.length?l.jsx("ul",{className:"mt-1 space-y-0.5 text-xs text-slate-700",children:n.unmapped_columns.map(a=>l.jsxs("li",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-slate-700",children:a.output_header}),l.jsxs("span",{className:"truncate",children:["from column ",a.source_column_index]})]},`${a.output_header}-${a.source_column_index}`))}):l.jsx("p",{className:"text-[11px] text-slate-600",children:"No unmapped columns"})]}),l.jsxs("div",{className:"rounded border border-amber-100 bg-amber-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-amber-700",children:"Validation issues"}),n.validation_issues.length?l.jsxs("ul",{className:"mt-1 space-y-0.5 text-xs text-amber-800",children:[n.validation_issues.slice(0,4).map((a,i)=>l.jsxs("li",{className:"flex flex-wrap items-center gap-1",children:[l.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-amber-700",children:a.severity}),l.jsxs("span",{className:"truncate",children:["Row ",a.row_index,", ",a.field,": ",a.code]})]},`${a.field}-${a.row_index}-${i}`)),n.validation_issues.length>4?l.jsxs("li",{className:"text-[11px] text-amber-700",children:["+",n.validation_issues.length-4," more validation issues"]}):null]}):l.jsx("p",{className:"text-[11px] text-amber-700",children:"No validation issues"})]})]})]},`${n.source_file}-${n.source_sheet??""}-${n.table_index}`))}):l.jsx("p",{className:"text-xs text-slate-500",children:"No tables recorded in the artifact."})}function Zv({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=c.event.level??"info";return i[u]=(i[u]??0)+1,i},{}),a=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:a.map(i=>l.jsxs("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.event.event}),l.jsx("span",{className:"text-[11px] text-slate-500",children:zj(i.timestamp)})]}),l.jsxs("p",{className:"text-[11px] text-slate-600",children:["Level: ",i.event.level]})]},`${i.timestamp}-${i.event.event}`))})]})}function zj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Oj({height:e,consoleLines:n,validation:a,activePane:i,onPaneChange:c,latestRun:u}){const f=n.length>0,m=Hj(a),x=Qj(a);return l.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:l.jsxs(ch,{value:i,onValueChange:g=>c(g),children:[l.jsx("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-2",children:l.jsxs(uh,{className:"flex items-center gap-2",children:[l.jsx(kc,{value:"console",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Console"}),l.jsx(kc,{value:"validation",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Validation"})]})}),l.jsx(bi,{value:"console",className:"flex min-h-0 flex-1 flex-col",children:l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[l.jsxs("div",{className:"flex flex-none items-center gap-3 border-b border-white/5 bg-slate-950/80 px-4 py-2 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[l.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),l.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"})]}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[u?l.jsx(Lj,{summary:u}):null,f?l.jsx("ul",{className:"divide-y divide-white/5",children:n.map((g,b)=>l.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-2",children:[l.jsx("span",{className:"text-[11px] text-slate-500 tabular-nums whitespace-nowrap",children:Fj(g.timestamp)}),l.jsx("span",{className:xe("text-[11px] uppercase tracking-[0.3em]",qj(g.level)),children:$j(g.level)}),l.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[l.jsx("span",{className:xe("text-sm",Uj(g.level)),children:"$"}),l.jsx("span",{className:xe("flex-1 whitespace-pre-wrap break-words",Bj(g.level)),children:g.message})]})]},`${g.timestamp??b}-${g.message}`))}):l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Start a build or run validation to stream live logs in this terminal window."})]})]})]})}),l.jsx(bi,{value:"validation",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:m}),a.lastRunAt?l.jsxs("span",{children:["Last run ",Vj(a.lastRunAt)]}):null]}),a.messages.length>0?l.jsx("ul",{className:"space-y-2",children:a.messages.map((g,b)=>l.jsxs("li",{className:Zj(g.level),children:[g.path?l.jsx("span",{className:"block text-xs font-medium uppercase tracking-wide text-slate-500",children:g.path}):null,l.jsx("span",{children:g.message})]},`${g.level}-${g.path??b}-${b}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:x})]})})]})})}function Lj({summary:e}){const n=e.status.charAt(0).toUpperCase()+e.status.slice(1);return l.jsxs("section",{className:"border-b border-white/5 bg-slate-900/60 px-4 py-3 text-[13px] text-slate-100",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-50",title:e.runId,children:["Run ",e.runId]}),l.jsxs("p",{className:"text-xs text-slate-400",children:["Status: ",n]}),e.documentName?l.jsxs("p",{className:"text-xs text-slate-400",children:["Document: ",e.documentName]}):null,e.sheetNames?l.jsxs("p",{className:"text-xs text-slate-400",children:["Worksheets:",e.sheetNames.length===0?" All worksheets":` ${e.sheetNames.join(", ")}`]}):null]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("a",{href:`${e.downloadBase}/artifact`,className:"inline-flex items-center rounded border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-100 hover:bg-slate-800",children:"Download artifact"}),l.jsx("a",{href:`${e.downloadBase}/logfile`,className:"inline-flex items-center rounded border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-100 hover:bg-slate-800",children:"Download telemetry"})]})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Output files"}),e.error?l.jsx("p",{className:"text-xs text-rose-300",children:e.error}):e.outputsLoaded?e.outputs.length>0?l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-100",children:e.outputs.map(a=>l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-white/10 px-2 py-1",children:[l.jsx("a",{href:`${e.downloadBase}/outputs/${a.path.split("/").map(encodeURIComponent).join("/")}`,className:"text-emerald-400 hover:underline",children:a.path}),l.jsxs("span",{className:"text-[11px] text-slate-400",children:[a.byte_size.toLocaleString()," bytes"]})]},a.path))}):l.jsx("p",{className:"text-xs text-slate-400",children:"No output files were generated."}):l.jsx("p",{className:"text-xs text-slate-400",children:"Loading outputs"})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Artifact summary"}),e.artifactError?l.jsx("p",{className:"text-xs text-rose-300",children:e.artifactError}):e.artifactLoaded?e.artifact?l.jsx($v,{artifact:e.artifact}):l.jsx("p",{className:"text-xs text-slate-400",children:"Artifact not available."}):l.jsx("p",{className:"text-xs text-slate-400",children:"Loading artifact"})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Telemetry summary"}),e.telemetryError?l.jsx("p",{className:"text-xs text-rose-300",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?l.jsx(Zv,{events:[...e.telemetry]}):l.jsx("p",{className:"text-xs text-slate-400",children:"No telemetry events captured."}):l.jsx("p",{className:"text-xs text-slate-400",children:"Loading telemetry"})]})]})}const zx={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},Ox={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},Lx={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},Ux={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function Uj(e){return zx[e]??zx.info}function Bj(e){return Ox[e]??Ox.info}function qj(e){return Lx[e]??Lx.info}function $j(e){return Ux[e]??Ux.info}function Zj(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function Hj(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function Vj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Fj(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),a=Date.parse(n);return!Number.isNaN(a)&&n.includes("T")?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function Qj(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function Ij(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Vc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ci(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function dh(e){return"nodeType"in e}function Qn(e){var n,a;return e?Ci(e)?e:dh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function fh(e){const{Document:n}=Qn(e);return e instanceof n}function Hl(e){return Ci(e)?!1:e instanceof Qn(e).HTMLElement}function Hv(e){return e instanceof Qn(e).SVGElement}function ki(e){return e?Ci(e)?e.document:dh(e)?fh(e)?e:Hl(e)||Hv(e)?e.ownerDocument:document:document:document}const Is=Vc?p.useLayoutEffect:p.useEffect;function hh(e){const n=p.useRef(e);return Is(()=>{n.current=e}),p.useCallback(function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function Gj(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function zl(e,n){n===void 0&&(n=[e]);const a=p.useRef(e);return Is(()=>{a.current!==e&&(a.current=e)},n),a}function Vl(e,n){const a=p.useRef();return p.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function Tc(e){const n=hh(e),a=p.useRef(null),i=p.useCallback(c=>{c!==a.current&&n?.(c,a.current),a.current=c},[]);return[a,i]}function Bf(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let hf={};function Fl(e,n){return p.useMemo(()=>{if(n)return n;const a=hf[e]==null?0:hf[e]+1;return hf[e]=a,e+"-"+a},[e,n])}function Vv(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[x,g]of m){const b=u[x];b!=null&&(u[x]=b+e*g)}return u},{...n})}}const yi=Vv(1),Ac=Vv(-1);function Wj(e){return"clientX"in e&&"clientY"in e}function mh(e){if(!e)return!1;const{KeyboardEvent:n}=Qn(e.target);return n&&e instanceof n}function Yj(e){if(!e)return!1;const{TouchEvent:n}=Qn(e.target);return n&&e instanceof n}function qf(e){if(Yj(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return Wj(e)?{x:e.clientX,y:e.clientY}:null}const Ol=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Ol.Translate.toString(e),Ol.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Bx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Kj(e){return e.matches(Bx)?e:e.querySelector(Bx)}const Pj={display:"none"};function Xj(e){let{id:n,value:a}=e;return bt.createElement("div",{id:n,style:Pj},a)}function Jj(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return bt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},a)}function eE(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Fv=p.createContext(null);function tE(e){const n=p.useContext(Fv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function nE(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const sE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aE={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function rE(e){let{announcements:n=aE,container:a,hiddenTextDescribedById:i,screenReaderInstructions:c=sE}=e;const{announce:u,announcement:f}=eE(),m=Fl("DndLiveRegion"),[x,g]=p.useState(!1);if(p.useEffect(()=>{g(!0)},[]),tE(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:E}=y;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(y){let{active:w,over:E}=y;u(n.onDragOver({active:w,over:E}))},onDragEnd(y){let{active:w,over:E}=y;u(n.onDragEnd({active:w,over:E}))},onDragCancel(y){let{active:w,over:E}=y;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!x)return null;const b=bt.createElement(bt.Fragment,null,bt.createElement(Xj,{id:i,value:c.draggable}),bt.createElement(Jj,{id:m,announcement:f}));return a?ma.createPortal(b,a):b}var un;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function Mc(){}function iE(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function lE(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const zs=Object.freeze({x:0,y:0});function oE(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function cE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return a-i}function uE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function dE(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function qx(e,n,a){return n===void 0&&(n=e.left),a===void 0&&(a=e.top),{x:n+e.width*.5,y:a+e.height*.5}}const fE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=qx(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,x=a.get(m);if(x){const g=oE(qx(x),c);u.push({id:m,data:{droppableContainer:f,value:g}})}}return u.sort(cE)};function hE(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-a;if(i<c&&a<u){const x=n.width*n.height,g=e.width*e.height,b=f*m,y=b/(x+g-b);return Number(y.toFixed(4))}return 0}const mE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=a.get(f);if(m){const x=hE(m,n);x>0&&c.push({id:f,data:{droppableContainer:u,value:x}})}}return c.sort(uE)};function pE(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function Qv(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:zs}function gE(e){return function(a){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...a})}}const xE=gE(1);function vE(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function bE(e,n,a){const i=vE(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,x=e.left-f-(1-c)*parseFloat(a),g=e.top-m-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:g,right:x+b,bottom:g+y,left:x}}const yE={ignoreTransform:!1};function Ti(e,n){n===void 0&&(n=yE);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:b}=Qn(e).getComputedStyle(e);g&&(a=bE(a,g,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:x}=a;return{top:i,left:c,width:u,height:f,bottom:m,right:x}}function $x(e){return Ti(e,{ignoreTransform:!0})}function wE(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function SE(e,n){return n===void 0&&(n=Qn(e).getComputedStyle(e)),n.position==="fixed"}function jE(e,n){n===void 0&&(n=Qn(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?a.test(u):!1})}function ph(e,n){const a=[];function i(c){if(n!=null&&a.length>=n||!c)return a;if(fh(c)&&c.scrollingElement!=null&&!a.includes(c.scrollingElement))return a.push(c.scrollingElement),a;if(!Hl(c)||Hv(c)||a.includes(c))return a;const u=Qn(e).getComputedStyle(c);return c!==e&&jE(c,u)&&a.push(c),SE(c,u)?a:i(c.parentNode)}return e?i(e):a}function Iv(e){const[n]=ph(e,1);return n??null}function mf(e){return!Vc||!e?null:Ci(e)?e:dh(e)?fh(e)||e===ki(e).scrollingElement?window:Hl(e)?e:null:null}function Gv(e){return Ci(e)?e.scrollX:e.scrollLeft}function Wv(e){return Ci(e)?e.scrollY:e.scrollTop}function $f(e){return{x:Gv(e),y:Wv(e)}}var xn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(xn||(xn={}));function Yv(e){return!Vc||!e?!1:e===document.scrollingElement}function Kv(e){const n={x:0,y:0},a=Yv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const EE={x:.2,y:.2};function NE(e,n,a,i,c){let{top:u,left:f,right:m,bottom:x}=a;i===void 0&&(i=10),c===void 0&&(c=EE);const{isTop:g,isBottom:b,isLeft:y,isRight:w}=Kv(e),E={x:0,y:0},k={x:0,y:0},N={height:n.height*c.y,width:n.width*c.x};return!g&&u<=n.top+N.height?(E.y=xn.Backward,k.y=i*Math.abs((n.top+N.height-u)/N.height)):!b&&x>=n.bottom-N.height&&(E.y=xn.Forward,k.y=i*Math.abs((n.bottom-N.height-x)/N.height)),!w&&m>=n.right-N.width?(E.x=xn.Forward,k.x=i*Math.abs((n.right-N.width-m)/N.width)):!y&&f<=n.left+N.width&&(E.x=xn.Backward,k.x=i*Math.abs((n.left+N.width-f)/N.width)),{direction:E,speed:k}}function _E(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:a,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function Pv(e){return e.reduce((n,a)=>yi(n,$f(a)),zs)}function CE(e){return e.reduce((n,a)=>n+Gv(a),0)}function kE(e){return e.reduce((n,a)=>n+Wv(a),0)}function TE(e,n){if(n===void 0&&(n=Ti),!e)return;const{top:a,left:i,bottom:c,right:u}=n(e);Iv(e)&&(c<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const AE=[["x",["left","right"],CE],["y",["top","bottom"],kE]];class gh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=ph(a),c=Pv(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of AE)for(const x of f)Object.defineProperty(this,x,{get:()=>{const g=m(i),b=c[u]-g;return this.rect[x]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Nl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var c;(c=this.target)==null||c.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function ME(e){const{EventTarget:n}=Qn(e);return e instanceof n?e:ki(e)}function pf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function Zx(e){e.preventDefault()}function DE(e){e.stopPropagation()}var ut;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ut||(ut={}));const Xv={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},RE=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case ut.Right:return{...a,x:a.x+25};case ut.Left:return{...a,x:a.x-25};case ut.Down:return{...a,y:a.y+25};case ut.Up:return{...a,y:a.y-25}}};class Jv{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new Nl(ki(a)),this.windowListeners=new Nl(Qn(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&TE(i),a(zs)}handleKeyDown(n){if(mh(n)){const{active:a,context:i,options:c}=this.props,{keyboardCodes:u=Xv,coordinateGetter:f=RE,scrollBehavior:m="smooth"}=c,{code:x}=n;if(u.end.includes(x)){this.handleEnd(n);return}if(u.cancel.includes(x)){this.handleCancel(n);return}const{collisionRect:g}=i.current,b=g?{x:g.left,y:g.top}:zs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:a,context:i.current,currentCoordinates:b});if(y){const w=Ac(y,b),E={x:0,y:0},{scrollableAncestors:k}=i.current;for(const N of k){const R=n.code,{isTop:U,isRight:j,isLeft:T,isBottom:W,maxScroll:q,minScroll:X}=Kv(N),H=_E(N),F={x:Math.min(R===ut.Right?H.right-H.width/2:H.right,Math.max(R===ut.Right?H.left:H.left+H.width/2,y.x)),y:Math.min(R===ut.Down?H.bottom-H.height/2:H.bottom,Math.max(R===ut.Down?H.top:H.top+H.height/2,y.y))},Q=R===ut.Right&&!j||R===ut.Left&&!T,ne=R===ut.Down&&!W||R===ut.Up&&!U;if(Q&&F.x!==y.x){const re=N.scrollLeft+w.x,ue=R===ut.Right&&re<=q.x||R===ut.Left&&re>=X.x;if(ue&&!w.y){N.scrollTo({left:re,behavior:m});return}ue?E.x=N.scrollLeft-re:E.x=R===ut.Right?N.scrollLeft-q.x:N.scrollLeft-X.x,E.x&&N.scrollBy({left:-E.x,behavior:m});break}else if(ne&&F.y!==y.y){const re=N.scrollTop+w.y,ue=R===ut.Down&&re<=q.y||R===ut.Up&&re>=X.y;if(ue&&!w.x){N.scrollTo({top:re,behavior:m});return}ue?E.y=N.scrollTop-re:E.y=R===ut.Down?N.scrollTop-q.y:N.scrollTop-X.y,E.y&&N.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(n,yi(Ac(y,this.referenceCoordinates),E))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Jv.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=Xv,onActivation:c}=n,{active:u}=a;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function Hx(e){return!!(e&&"distance"in e)}function Vx(e){return!!(e&&"delay"in e)}class xh{constructor(n,a,i){var c;i===void 0&&(i=ME(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:f}=u;this.props=n,this.events=a,this.document=ki(f),this.documentListeners=new Nl(this.document),this.listeners=new Nl(i),this.windowListeners=new Nl(Qn(f)),this.initialCoordinates=(c=qf(u))!=null?c:zs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,Zx),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,Zx),this.documentListeners.add(ws.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vx(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Hx(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(ws.Click,DE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const x=(a=qf(n))!=null?a:zs,g=Ac(c,x);if(!i&&m){if(Hx(m)){if(m.tolerance!=null&&pf(g,m.tolerance))return this.handleCancel();if(pf(g,m.distance))return this.handleStart()}if(Vx(m)&&pf(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}n.cancelable&&n.preventDefault(),f(x)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const zE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vh extends xh{constructor(n){const{event:a}=n,i=ki(a.target);super(n,zE,i)}}vh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const OE={move:{name:"mousemove"},end:{name:"mouseup"}};var Zf;(function(e){e[e.RightClick=2]="RightClick"})(Zf||(Zf={}));class LE extends xh{constructor(n){super(n,OE,ki(n.event.target))}}LE.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Zf.RightClick?!1:(i?.({event:a}),!0)}}];const gf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class UE extends xh{constructor(n){super(n,gf)}static setup(){return window.addEventListener(gf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(gf.move.name,n)};function n(){}}}UE.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:c}=a;return c.length>1?!1:(i?.({event:a}),!0)}}];var _l;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_l||(_l={}));var Dc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Dc||(Dc={}));function BE(e){let{acceleration:n,activator:a=_l.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=Dc.TreeOrder,pointerCoordinates:x,scrollableAncestors:g,scrollableAncestorRects:b,delta:y,threshold:w}=e;const E=$E({delta:y,disabled:!u}),[k,N]=Gj(),R=p.useRef({x:0,y:0}),U=p.useRef({x:0,y:0}),j=p.useMemo(()=>{switch(a){case _l.Pointer:return x?{top:x.y,bottom:x.y,left:x.x,right:x.x}:null;case _l.DraggableRect:return c}},[a,c,x]),T=p.useRef(null),W=p.useCallback(()=>{const X=T.current;if(!X)return;const H=R.current.x*U.current.x,F=R.current.y*U.current.y;X.scrollBy(H,F)},[]),q=p.useMemo(()=>m===Dc.TreeOrder?[...g].reverse():g,[m,g]);p.useEffect(()=>{if(!u||!g.length||!j){N();return}for(const X of q){if(i?.(X)===!1)continue;const H=g.indexOf(X),F=b[H];if(!F)continue;const{direction:Q,speed:ne}=NE(X,F,j,n,w);for(const re of["x","y"])E[re][Q[re]]||(ne[re]=0,Q[re]=0);if(ne.x>0||ne.y>0){N(),T.current=X,k(W,f),R.current=ne,U.current=Q;return}}R.current={x:0,y:0},U.current={x:0,y:0},N()},[n,W,i,N,u,f,JSON.stringify(j),JSON.stringify(E),k,g,q,b,JSON.stringify(w)])}const qE={x:{[xn.Backward]:!1,[xn.Forward]:!1},y:{[xn.Backward]:!1,[xn.Forward]:!1}};function $E(e){let{delta:n,disabled:a}=e;const i=Bf(n);return Vl(c=>{if(a||!i||!c)return qE;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[xn.Backward]:c.x[xn.Backward]||u.x===-1,[xn.Forward]:c.x[xn.Forward]||u.x===1},y:{[xn.Backward]:c.y[xn.Backward]||u.y===-1,[xn.Forward]:c.y[xn.Forward]||u.y===1}}},[a,n,i])}function ZE(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Vl(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function HE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...a,...u]},[]),[e,n])}var Ll;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ll||(Ll={}));var Hf;(function(e){e.Optimized="optimized"})(Hf||(Hf={}));const Fx=new Map;function VE(e,n){let{dragging:a,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:x,strategy:g}=c,b=p.useRef(e),y=R(),w=zl(y),E=p.useCallback(function(U){U===void 0&&(U=[]),!w.current&&f(j=>j===null?U:j.concat(U.filter(T=>!j.includes(T))))},[w]),k=p.useRef(null),N=Vl(U=>{if(y&&!a)return Fx;if(!U||U===Fx||b.current!==e||u!=null){const j=new Map;for(let T of e){if(!T)continue;if(u&&u.length>0&&!u.includes(T.id)&&T.rect.current){j.set(T.id,T.rect.current);continue}const W=T.node.current,q=W?new gh(x(W),W):null;T.rect.current=q,q&&j.set(T.id,q)}return j}return U},[e,u,a,y,x]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||E()},[a,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||k.current!==null||(k.current=setTimeout(()=>{E(),k.current=null},m))},[m,y,E,...i]),{droppableRects:N,measureDroppableContainers:E,measuringScheduled:u!=null};function R(){switch(g){case Ll.Always:return!1;case Ll.BeforeDragging:return a;default:return!a}}}function eb(e,n){return Vl(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function FE(e,n){return eb(e,n)}function QE(e){let{callback:n,disabled:a}=e;const i=hh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function Fc(e){let{callback:n,disabled:a}=e;const i=hh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function IE(e){return new gh(Ti(e),e)}function Qx(e,n,a){n===void 0&&(n=IE);const[i,c]=p.useState(null);function u(){c(x=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=x??a)!=null?g:null}const b=n(e);return JSON.stringify(x)===JSON.stringify(b)?x:b})}const f=QE({callback(x){if(e)for(const g of x){const{type:b,target:y}=g;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=Fc({callback:u});return Is(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function GE(e){const n=eb(e);return Qv(e,n)}const Ix=[];function WE(e){const n=p.useRef(e),a=Vl(i=>e?i&&i!==Ix&&e&&n.current&&e.parentNode===n.current.parentNode?i:ph(e):Ix,[e]);return p.useEffect(()=>{n.current=e},[e]),a}function YE(e){const[n,a]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=mf(u.target);f&&a(m=>m?(m.set(f,$f(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(x=>{const g=mf(x);return g?(g.addEventListener("scroll",c,{passive:!0}),[g,$f(g)]):null}).filter(x=>x!=null);a(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(x=>{const g=mf(x);g?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>yi(u,f),zs):Pv(e):zs,[e,n])}function Gx(e,n){n===void 0&&(n=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},n),p.useEffect(()=>{const i=e!==zs;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Ac(e,a.current):zs}function KE(e){p.useEffect(()=>{if(!Vc)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function PE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{let{eventName:c,handler:u}=i;return a[c]=f=>{u(f,n)},a},{}),[e,n])}function tb(e){return p.useMemo(()=>e?wE(e):null,[e])}const Wx=[];function XE(e,n){n===void 0&&(n=Ti);const[a]=e,i=tb(a?Qn(a):null),[c,u]=p.useState(Wx);function f(){u(()=>e.length?e.map(x=>Yv(x)?i:new gh(n(x),x)):Wx)}const m=Fc({callback:f});return Is(()=>{m?.disconnect(),f(),e.forEach(x=>m?.observe(x))},[e]),c}function JE(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Hl(n)?n:e}function eN(e){let{measure:n}=e;const[a,i]=p.useState(null),c=p.useCallback(g=>{for(const{target:b}of g)if(Hl(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Fc({callback:c}),f=p.useCallback(g=>{const b=JE(g);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,x]=Tc(f);return p.useMemo(()=>({nodeRef:m,rect:a,setRef:x}),[a,m,x])}const tN=[{sensor:vh,options:{}},{sensor:Jv,options:{}}],nN={current:{}},wc={draggable:{measure:$x},droppable:{measure:$x,strategy:Ll.WhileDragging,frequency:Hf.Optimized},dragOverlay:{measure:Ti}};class Cl extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const sN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Mc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wc,measureDroppableContainers:Mc,windowRect:null,measuringScheduled:!1},aN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Mc,draggableNodes:new Map,over:null,measureDroppableContainers:Mc},Qc=p.createContext(aN),nb=p.createContext(sN);function rN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cl}}}function iN(e,n){switch(n.type){case un.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case un.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:a}=n,{id:i}=a,c=new Cl(e.droppable.containers);return c.set(i,a),{...e,droppable:{...e.droppable,containers:c}}}case un.SetDroppableDisabled:{const{id:a,key:i,disabled:c}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const f=new Cl(e.droppable.containers);return f.set(a,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case un.UnregisterDroppable:{const{id:a,key:i}=n,c=e.droppable.containers.get(a);if(!c||i!==c.key)return e;const u=new Cl(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function lN(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:c}=p.useContext(Qc),u=Bf(i),f=Bf(a?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!mh(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:x,node:g}=m;if(!x.current&&!g.current)return;requestAnimationFrame(()=>{for(const b of[x.current,g.current]){if(!b)continue;const y=Kj(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function oN(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),a):a}function cN(e){return p.useMemo(()=>({draggable:{...wc.draggable,...e?.draggable},droppable:{...wc.droppable,...e?.droppable},dragOverlay:{...wc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function uN(e){let{activeNode:n,measure:a,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Is(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const b=a(g),y=Qv(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Iv(g);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,a])}const sb=p.createContext({...zs,scaleX:1,scaleY:1});var Ga;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ga||(Ga={}));const dN=p.memo(function(n){var a,i,c,u;let{id:f,accessibility:m,autoScroll:x=!0,children:g,sensors:b=tN,collisionDetection:y=mE,measuring:w,modifiers:E,...k}=n;const N=p.useReducer(iN,void 0,rN),[R,U]=N,[j,T]=nE(),[W,q]=p.useState(Ga.Uninitialized),X=W===Ga.Initialized,{draggable:{active:H,nodes:F,translate:Q},droppable:{containers:ne}}=R,re=H!=null?F.get(H):null,ue=p.useRef({initial:null,translated:null}),me=p.useMemo(()=>{var Mt;return H!=null?{id:H,data:(Mt=re?.data)!=null?Mt:nN,rect:ue}:null},[H,re]),pe=p.useRef(null),[Se,B]=p.useState(null),[J,ge]=p.useState(null),be=zl(k,Object.values(k)),we=Fl("DndDescribedBy",f),A=p.useMemo(()=>ne.getEnabled(),[ne]),Y=cN(w),{droppableRects:O,measureDroppableContainers:z,measuringScheduled:I}=VE(A,{dragging:X,dependencies:[Q.x,Q.y],config:Y.droppable}),V=ZE(F,H),oe=p.useMemo(()=>J?qf(J):null,[J]),ve=Ls(),Ee=FE(V,Y.draggable.measure);uN({activeNode:H!=null?F.get(H):null,config:ve.layoutShiftCompensation,initialRect:Ee,measure:Y.draggable.measure});const G=Qx(V,Y.draggable.measure,Ee),Ne=Qx(V?V.parentElement:null),Ce=p.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:ne,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=ne.getNodeFor((a=Ce.current.over)==null?void 0:a.id),Oe=eN({measure:Y.dragOverlay.measure}),Ae=(i=Oe.nodeRef.current)!=null?i:V,Qe=X?(c=Oe.rect)!=null?c:G:null,at=!!(Oe.nodeRef.current&&Oe.rect),rt=GE(at?null:G),Kt=tb(Ae?Qn(Ae):null),M=WE(X?Be??V:null),_=XE(M),C=oN(E,{transform:{x:Q.x-rt.x,y:Q.y-rt.y,scaleX:1,scaleY:1},activatorEvent:J,active:me,activeNodeRect:G,containerNodeRect:Ne,draggingNodeRect:Qe,over:Ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:M,scrollableAncestorRects:_,windowRect:Kt}),ie=oe?yi(oe,Q):null,te=YE(M),ce=Gx(te),je=Gx(te,[G]),qe=yi(C,ce),Ve=Qe?xE(Qe,C):null,jt=me&&Ve?y({active:me,collisionRect:Ve,droppableRects:O,droppableContainers:A,pointerCoordinates:ie}):null,ye=dE(jt,"id"),[Te,Ze]=p.useState(null),Ke=at?C:yi(C,je),it=pE(Ke,(u=Te?.rect)!=null?u:null,G),Et=p.useRef(null),pt=p.useCallback((Mt,_e)=>{let{sensor:Ht,options:vn}=_e;if(pe.current==null)return;const Nn=F.get(pe.current);if(!Nn)return;const hn=Mt.nativeEvent,_n=new Ht({active:pe.current,activeNode:Nn,event:hn,options:vn,context:Ce,onAbort(Rt){if(!F.get(Rt))return;const{onDragAbort:Vt}=be.current,ln={id:Rt};Vt?.(ln),j({type:"onDragAbort",event:ln})},onPending(Rt,Wn,Vt,ln){if(!F.get(Rt))return;const{onDragPending:os}=be.current,Tn={id:Rt,constraint:Wn,initialCoordinates:Vt,offset:ln};os?.(Tn),j({type:"onDragPending",event:Tn})},onStart(Rt){const Wn=pe.current;if(Wn==null)return;const Vt=F.get(Wn);if(!Vt)return;const{onDragStart:ln}=be.current,ls={activatorEvent:hn,active:{id:Wn,data:Vt.data,rect:ue}};ma.unstable_batchedUpdates(()=>{ln?.(ls),q(Ga.Initializing),U({type:un.DragStart,initialCoordinates:Rt,active:Wn}),j({type:"onDragStart",event:ls}),B(Et.current),ge(hn)})},onMove(Rt){U({type:un.DragMove,coordinates:Rt})},onEnd:Dt(un.DragEnd),onCancel:Dt(un.DragCancel)});Et.current=_n;function Dt(Rt){return async function(){const{active:Vt,collisions:ln,over:ls,scrollAdjustedTranslate:os}=Ce.current;let Tn=null;if(Vt&&os){const{cancelDrop:Es}=be.current;Tn={activatorEvent:hn,active:Vt,collisions:ln,delta:os,over:ls},Rt===un.DragEnd&&typeof Es=="function"&&await Promise.resolve(Es(Tn))&&(Rt=un.DragCancel)}pe.current=null,ma.unstable_batchedUpdates(()=>{U({type:Rt}),q(Ga.Uninitialized),Ze(null),B(null),ge(null),Et.current=null;const Es=Rt===un.DragEnd?"onDragEnd":"onDragCancel";if(Tn){const dt=be.current[Es];dt?.(Tn),j({type:Es,event:Tn})}})}}},[F]),Gn=p.useCallback((Mt,_e)=>(Ht,vn)=>{const Nn=Ht.nativeEvent,hn=F.get(vn);if(pe.current!==null||!hn||Nn.dndKit||Nn.defaultPrevented)return;const _n={active:hn};Mt(Ht,_e.options,_n)===!0&&(Nn.dndKit={capturedBy:_e.sensor},pe.current=vn,pt(Ht,_e))},[F,pt]),Ws=HE(b,Gn);KE(b),Is(()=>{G&&W===Ga.Initializing&&q(Ga.Initialized)},[G,W]),p.useEffect(()=>{const{onDragMove:Mt}=be.current,{active:_e,activatorEvent:Ht,collisions:vn,over:Nn}=Ce.current;if(!_e||!Ht)return;const hn={active:_e,activatorEvent:Ht,collisions:vn,delta:{x:qe.x,y:qe.y},over:Nn};ma.unstable_batchedUpdates(()=>{Mt?.(hn),j({type:"onDragMove",event:hn})})},[qe.x,qe.y]),p.useEffect(()=>{const{active:Mt,activatorEvent:_e,collisions:Ht,droppableContainers:vn,scrollAdjustedTranslate:Nn}=Ce.current;if(!Mt||pe.current==null||!_e||!Nn)return;const{onDragOver:hn}=be.current,_n=vn.get(ye),Dt=_n&&_n.rect.current?{id:_n.id,rect:_n.rect.current,data:_n.data,disabled:_n.disabled}:null,Rt={active:Mt,activatorEvent:_e,collisions:Ht,delta:{x:Nn.x,y:Nn.y},over:Dt};ma.unstable_batchedUpdates(()=>{Ze(Dt),hn?.(Rt),j({type:"onDragOver",event:Rt})})},[ye]),Is(()=>{Ce.current={activatorEvent:J,active:me,activeNode:V,collisionRect:Ve,collisions:jt,droppableRects:O,draggableNodes:F,draggingNode:Ae,draggingNodeRect:Qe,droppableContainers:ne,over:Te,scrollableAncestors:M,scrollAdjustedTranslate:qe},ue.current={initial:Qe,translated:Ve}},[me,V,jt,Ve,F,Ae,Qe,O,ne,Te,M,qe]),BE({...ve,delta:Q,draggingRect:Ve,pointerCoordinates:ie,scrollableAncestors:M,scrollableAncestorRects:_});const Ai=p.useMemo(()=>({active:me,activeNode:V,activeNodeRect:G,activatorEvent:J,collisions:jt,containerNodeRect:Ne,dragOverlay:Oe,draggableNodes:F,droppableContainers:ne,droppableRects:O,over:Te,measureDroppableContainers:z,scrollableAncestors:M,scrollableAncestorRects:_,measuringConfiguration:Y,measuringScheduled:I,windowRect:Kt}),[me,V,G,J,jt,Ne,Oe,F,ne,O,Te,z,M,_,Y,I,Kt]),Os=p.useMemo(()=>({activatorEvent:J,activators:Ws,active:me,activeNodeRect:G,ariaDescribedById:{draggable:we},dispatch:U,draggableNodes:F,over:Te,measureDroppableContainers:z}),[J,Ws,me,G,U,we,F,Te,z]);return bt.createElement(Fv.Provider,{value:T},bt.createElement(Qc.Provider,{value:Os},bt.createElement(nb.Provider,{value:Ai},bt.createElement(sb.Provider,{value:it},g)),bt.createElement(lN,{disabled:m?.restoreFocus===!1})),bt.createElement(rE,{...m,hiddenTextDescribedById:we}));function Ls(){const Mt=Se?.autoScrollEnabled===!1,_e=typeof x=="object"?x.enabled===!1:x===!1,Ht=X&&!Mt&&!_e;return typeof x=="object"?{...x,enabled:Ht}:{enabled:Ht}}}),fN=p.createContext(null),Yx="button",hN="Draggable";function mN(e){let{id:n,data:a,disabled:i=!1,attributes:c}=e;const u=Fl(hN),{activators:f,activatorEvent:m,active:x,activeNodeRect:g,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(Qc),{role:E=Yx,roleDescription:k="draggable",tabIndex:N=0}=c??{},R=x?.id===n,U=p.useContext(R?sb:fN),[j,T]=Tc(),[W,q]=Tc(),X=PE(f,n),H=zl(a);Is(()=>(y.set(n,{id:n,key:u,node:j,activatorNode:W,data:H}),()=>{const Q=y.get(n);Q&&Q.key===u&&y.delete(n)}),[y,n]);const F=p.useMemo(()=>({role:E,tabIndex:N,"aria-disabled":i,"aria-pressed":R&&E===Yx?!0:void 0,"aria-roledescription":k,"aria-describedby":b.draggable}),[i,E,N,R,k,b.draggable]);return{active:x,activatorEvent:m,activeNodeRect:g,attributes:F,isDragging:R,listeners:i?void 0:X,node:j,over:w,setNodeRef:T,setActivatorNodeRef:q,transform:U}}function pN(){return p.useContext(nb)}const gN="Droppable",xN={timeout:25};function vN(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:c}=e;const u=Fl(gN),{active:f,dispatch:m,over:x,measureDroppableContainers:g}=p.useContext(Qc),b=p.useRef({disabled:a}),y=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:k,updateMeasurementsFor:N,timeout:R}={...xN,...c},U=zl(N??i),j=p.useCallback(()=>{if(!y.current){y.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{g(Array.isArray(U.current)?U.current:[U.current]),E.current=null},R)},[R]),T=Fc({callback:j,disabled:k||!f}),W=p.useCallback((F,Q)=>{T&&(Q&&(T.unobserve(Q),y.current=!1),F&&T.observe(F))},[T]),[q,X]=Tc(W),H=zl(n);return p.useEffect(()=>{!T||!q.current||(T.disconnect(),y.current=!1,T.observe(q.current))},[q,T]),p.useEffect(()=>(m({type:un.RegisterDroppable,element:{id:i,key:u,disabled:a,node:q,rect:w,data:H}}),()=>m({type:un.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{a!==b.current.disabled&&(m({type:un.SetDroppableDisabled,id:i,key:u,disabled:a}),b.current.disabled=a)},[i,u,a,m]),{active:f,rect:w,isOver:x?.id===i,node:q,over:x,setNodeRef:X}}function ab(e,n,a){const i=e.slice();return i.splice(a<0?i.length+a:a,0,i.splice(n,1)[0]),i}function bN(e,n){return e.reduce((a,i,c)=>{const u=n.get(i);return u&&(a[c]=u),a},Array(e.length))}function dc(e){return e!==null&&e>=0}function yN(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}function wN(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const fc={scaleX:1,scaleY:1},SN=e=>{var n;let{rects:a,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=a[c])!=null?n:i;if(!m)return null;const x=jN(a,f,c);if(f===c){const g=a[u];return g?{x:c<u?g.left+g.width-(m.left+m.width):g.left-m.left,y:0,...fc}:null}return f>c&&f<=u?{x:-m.width-x,y:0,...fc}:f<c&&f>=u?{x:m.width+x,y:0,...fc}:{x:0,y:0,...fc}};function jN(e,n,a){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:a<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const rb=e=>{let{rects:n,activeIndex:a,overIndex:i,index:c}=e;const u=ab(n,i,a),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},ib="Sortable",lb=bt.createContext({activeIndex:-1,containerId:ib,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rb,disabled:{draggable:!1,droppable:!1}});function EN(e){let{children:n,id:a,items:i,strategy:c=rb,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:x,over:g,measureDroppableContainers:b}=pN(),y=Fl(ib,a),w=m.rect!==null,E=p.useMemo(()=>i.map(X=>typeof X=="object"&&"id"in X?X.id:X),[i]),k=f!=null,N=f?E.indexOf(f.id):-1,R=g?E.indexOf(g.id):-1,U=p.useRef(E),j=!yN(E,U.current),T=R!==-1&&N===-1||j,W=wN(u);Is(()=>{j&&k&&b(E)},[j,E,k,b]),p.useEffect(()=>{U.current=E},[E]);const q=p.useMemo(()=>({activeIndex:N,containerId:y,disabled:W,disableTransforms:T,items:E,overIndex:R,useDragOverlay:w,sortedRects:bN(E,x),strategy:c}),[N,y,W.draggable,W.droppable,T,E,R,x,w,c]);return bt.createElement(lb.Provider,{value:q},n)}const NN=e=>{let{id:n,items:a,activeIndex:i,overIndex:c}=e;return ab(a,i,c).indexOf(n)},_N=e=>{let{containerId:n,isSorting:a,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:x,transition:g}=e;return!g||!i||m!==u&&c===f?!1:a?!0:f!==c&&n===x},CN={duration:200,easing:"ease"},ob="transform",kN=Ol.Transition.toString({property:ob,duration:0,easing:"linear"}),TN={roleDescription:"sortable"};function AN(e){let{disabled:n,index:a,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(a);return Is(()=>{if(!n&&a!==m.current&&i.current){const x=c.current;if(x){const g=Ti(i.current,{ignoreTransform:!0}),b={x:x.left-g.left,y:x.top-g.top,scaleX:x.width/g.width,scaleY:x.height/g.height};(b.x||b.y)&&f(b)}}a!==m.current&&(m.current=a)},[n,a,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function MN(e){let{animateLayoutChanges:n=_N,attributes:a,disabled:i,data:c,getNewIndex:u=NN,id:f,strategy:m,resizeObserverConfig:x,transition:g=CN}=e;const{items:b,containerId:y,activeIndex:w,disabled:E,disableTransforms:k,sortedRects:N,overIndex:R,useDragOverlay:U,strategy:j}=p.useContext(lb),T=DN(i,E),W=b.indexOf(f),q=p.useMemo(()=>({sortable:{containerId:y,index:W,items:b},...c}),[y,c,W,b]),X=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:H,node:F,isOver:Q,setNodeRef:ne}=vN({id:f,data:q,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:X,...x}}),{active:re,activatorEvent:ue,activeNodeRect:me,attributes:pe,setNodeRef:Se,listeners:B,isDragging:J,over:ge,setActivatorNodeRef:be,transform:we}=mN({id:f,data:q,attributes:{...TN,...a},disabled:T.draggable}),A=Ij(ne,Se),Y=!!re,O=Y&&!k&&dc(w)&&dc(R),z=!U&&J,I=z&&O?we:null,oe=O?I??(m??j)({rects:N,activeNodeRect:me,activeIndex:w,overIndex:R,index:W}):null,ve=dc(w)&&dc(R)?u({id:f,items:b,activeIndex:w,overIndex:R}):W,Ee=re?.id,G=p.useRef({activeId:Ee,items:b,newIndex:ve,containerId:y}),Ne=b!==G.current.items,Ce=n({active:re,containerId:y,isDragging:J,isSorting:Y,id:f,index:W,items:b,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:g,wasDragging:G.current.activeId!=null}),Be=AN({disabled:!Ce,index:W,node:F,rect:H});return p.useEffect(()=>{Y&&G.current.newIndex!==ve&&(G.current.newIndex=ve),y!==G.current.containerId&&(G.current.containerId=y),b!==G.current.items&&(G.current.items=b)},[Y,ve,y,b]),p.useEffect(()=>{if(Ee===G.current.activeId)return;if(Ee!=null&&G.current.activeId==null){G.current.activeId=Ee;return}const Ae=setTimeout(()=>{G.current.activeId=Ee},50);return()=>clearTimeout(Ae)},[Ee]),{active:re,activeIndex:w,attributes:pe,data:q,rect:H,index:W,newIndex:ve,items:b,isOver:Q,isSorting:Y,isDragging:J,listeners:B,node:F,overIndex:R,over:ge,setNodeRef:A,setActivatorNodeRef:be,setDroppableNodeRef:ne,setDraggableNodeRef:Se,transform:Be??oe,transition:Oe()};function Oe(){if(Be||Ne&&G.current.newIndex===W)return kN;if(!(z&&!mh(ue)||!g)&&(Y||Ce))return Ol.Transition.toString({...g,property:ob})}}function DN(e,n){var a,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ut.Down,ut.Right,ut.Up,ut.Left;const RN=p.lazy(()=>vS(()=>import("./MonacoCodeEditor-DJmhCoZ0.js"),[])),zN=p.forwardRef(function(n,a){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:xe("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(RN,{...c,ref:a,className:i})})}),ON=232,LN=30,xr=6;function Ul({open:e,position:n,onClose:a,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,x]=p.useState(null),g=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,y]=p.useState(()=>g>=0?g:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){x(null);return}const E=i.length*LN+xr*2,k=Math.max(xr,(window.innerWidth||0)-ON-xr),N=Math.max(xr,(window.innerHeight||0)-E-xr),R=Math.min(Math.max(n.x,xr),k),U=Math.min(Math.max(n.y,xr),N);x({x:R,y:U})},[e,n,i.length]),p.useEffect(()=>{e&&y(g>=0?g:0)},[e,g]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=R=>{u.current&&(u.current.contains(R.target)||a())},k=R=>{if(u.current){if(u.current.contains(R.target)){R.preventDefault();return}a()}},N=R=>{if(R.key==="Escape"){R.preventDefault(),a();return}if(R.key==="ArrowDown"||R.key==="ArrowUp"){R.preventDefault();const U=R.key==="ArrowDown"?1:-1;y(j=>{if(i.length===0)return j;let T=j;for(let W=0;W<i.length;W+=1)if(T=(T+U+i.length)%i.length,!i[T]?.disabled)return T;return j});return}if(R.key==="Enter"||R.key===" "){R.preventDefault();const U=i[b];U&&!U.disabled&&(U.onSelect(),a())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",k),window.addEventListener("keydown",N),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",k),window.removeEventListener("keydown",N)}},[e,a,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return ma.createPortal(l.jsx("div",{ref:u,role:"menu",className:xe("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((E,k)=>{const N=!!E.disabled,R=!!E.danger;return l.jsxs(p.Fragment,{children:[E.dividerAbove?l.jsx("li",{role:"separator",className:xe("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:U=>{f.current[k]=U},type:"button",role:"menuitem",className:xe("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,N&&w.disabled,R&&!N&&w.danger,N&&"cursor-default"),onClick:U=>{U.stopPropagation(),!N&&(E.onSelect(),a())},onMouseEnter:()=>{N||y(k)},disabled:N,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?l.jsx("span",{className:"text-base opacity-80",children:E.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?l.jsx("span",{className:xe("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const Kx=220,Px=64,UN=14;function Xx({tabs:e,activeTabId:n,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:x,onUnpinTab:g,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:k,menuAppearance:N,canSaveFiles:R=!1,minHeight:U}){const j=e.length>0,[T,W]=p.useState(null),[q,X]=p.useState(null),[H,F]=p.useState(null),[Q,ne]=p.useState({left:!1,right:!1}),[re,ue]=p.useState(0),me=p.useRef(null),pe=p.useRef(null),Se=p.useMemo(()=>e.find(G=>G.id===n)??e[0]??null,[e,n]),B=p.useMemo(()=>e.filter(G=>G.pinned),[e]),J=p.useMemo(()=>e.filter(G=>!G.pinned),[e]),ge=p.useMemo(()=>e.slice().sort((G,Ne)=>G.id.localeCompare(Ne.id)),[e]),we=p.useMemo(()=>e.filter(G=>G.status==="ready"&&G.content!==G.initialContent),[e]).length>0,A=lE(iE(vh,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!j)return;const G=Ne=>{if(!(Ne.ctrlKey||Ne.metaKey))return;if(Ne.key.toLowerCase()==="w"){if(!n)return;Ne.preventDefault(),i(n);return}if(Ne.key==="Tab"){if(e.length<2)return;Ne.preventDefault(),E(Ne.shiftKey?"backward":"forward");return}const Ce=Be=>{if(e.length<2)return;const Oe=e.findIndex(rt=>rt.id===n),Qe=((Oe>=0?Oe:0)+Be+e.length)%e.length,at=e[Qe];at&&a(at.id)};if(Ne.key==="PageUp"){Ne.preventDefault(),Ce(-1);return}Ne.key==="PageDown"&&(Ne.preventDefault(),Ce(1))};return window.addEventListener("keydown",G),()=>{window.removeEventListener("keydown",G)}},[j,e,n,i,a,E]),p.useEffect(()=>{T&&(e.some(G=>G.id===T.tabId)||W(null))},[T,e]);const Y=G=>{F(String(G.active.id))},O=G=>{const Ne=G.active.id,Ce=G.over?.id;if(!Ce){F(null);return}if(Ne!==Ce){const Be=e.findIndex(Ae=>Ae.id===Ne),Oe=e.findIndex(Ae=>Ae.id===Ce);if(Be!==-1&&Oe!==-1){const Ae=Be<Oe?Oe+1:Oe,at=e[Oe]?.pinned?"pinned":"regular";m(String(Ne),Ae,{zone:at})}}F(null)},z=()=>{F(null)},I=p.useCallback(()=>{const G=me.current;if(!G){ne({left:!1,right:!1});return}const{scrollLeft:Ne,scrollWidth:Ce,clientWidth:Be}=G;ne({left:Ne>2,right:Ne+Be<Ce-2})},[]);p.useEffect(()=>{const G=me.current;if(!G){ne({left:!1,right:!1});return}I();const Ne=()=>I();G.addEventListener("scroll",Ne),window.addEventListener("resize",I);const Ce=typeof ResizeObserver<"u"?new ResizeObserver(I):null;return Ce?.observe(G),()=>{G.removeEventListener("scroll",Ne),window.removeEventListener("resize",I),Ce?.disconnect()}},[e.length,I]),p.useEffect(()=>{if(!H){ue(0);return}const G=Ne=>{const Ce=me.current;if(!Ce){ue(0);return}const Be=Ce.getBoundingClientRect();Ne.clientX<Be.left+Px?ue(-1):Ne.clientX>Be.right-Px?ue(1):ue(0)};return window.addEventListener("pointermove",G),()=>{window.removeEventListener("pointermove",G),ue(0)}},[H]),p.useEffect(()=>{if(!H||re===0)return;let G;const Ne=()=>{const Ce=me.current;Ce&&(Ce.scrollBy({left:re*UN}),G=window.requestAnimationFrame(Ne))};return G=window.requestAnimationFrame(Ne),()=>{window.cancelAnimationFrame(G)}},[re,H]),p.useEffect(()=>{if(!n)return;const G=me.current;if(!G)return;const Ne=`[data-tab-id="${XN(n)}"]`;G.querySelector(Ne)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const V=p.useMemo(()=>{if(!T)return[];const G=e.find(rt=>rt.id===T.tabId);if(!G)return[];const Ne=e.findIndex(rt=>rt.id===T.tabId),Ce=Ne>=0&&Ne<e.length-1,Be=e.length>1,Oe=G.status==="ready"&&G.content!==G.initialContent,Ae=!!y&&R&&Oe&&!G.saving,Qe=!!w&&R&&we,at={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:G.saving?"Saving":"Save",icon:l.jsx(ZN,{}),disabled:!Ae,shortcut:at.save,onSelect:()=>y?.(G.id)},{id:"save-all",label:"Save All",icon:l.jsx(HN,{}),disabled:!Qe,shortcut:at.saveAll,onSelect:()=>w?.()},{id:"pin",label:G.pinned?"Unpin":"Pin",icon:G.pinned?l.jsx(GN,{}):l.jsx(t0,{}),dividerAbove:!0,onSelect:()=>G.pinned?g(G.id):x(G.id)},{id:"close",label:"Close",icon:l.jsx(VN,{}),dividerAbove:!0,shortcut:at.close,onSelect:()=>i(G.id)},{id:"close-others",label:"Close Others",icon:l.jsx(FN,{}),disabled:!Be,shortcut:at.closeOthers,onSelect:()=>c(G.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(QN,{}),disabled:!Ce,shortcut:at.closeRight,onSelect:()=>u(G.id)},{id:"close-all",label:"Close All",icon:l.jsx(IN,{}),dividerAbove:!0,disabled:e.length===0,shortcut:at.closeAll,onSelect:()=>f()}]},[T,e,we,R,x,g,i,c,u,f,y,w]),oe=p.useMemo(()=>{if(!j)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const G=[],Ne=(Ce,Be)=>{G.push({id:`switch-${Ce.id}`,label:Ce.name,icon:Ce.pinned?l.jsx(t0,{}):l.jsx(WN,{}),shortcut:Ce.id===n?"Active":void 0,dividerAbove:Be,onSelect:()=>a(Ce.id)})};return B.forEach(Ce=>Ne(Ce,!1)),J.forEach((Ce,Be)=>Ne(Ce,Be===0&&B.length>0)),G},[j,B,J,n,a]),ve=G=>{me.current?.scrollBy({left:G,behavior:"smooth"})},Ee=()=>{if(typeof window>"u")return;const G=pe.current?.getBoundingClientRect();G&&X({x:G.left,y:G.bottom+6})};return!j||!Se?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:U?{minHeight:U}:void 0,children:[l.jsxs(ch,{value:Se.id,onValueChange:a,children:[l.jsx(dN,{sensors:A,collisionDetection:fE,onDragStart:Y,onDragEnd:O,onDragCancel:z,children:l.jsx(EN,{items:e.map(G=>G.id),strategy:SN,children:l.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[l.jsx(Jx,{direction:"left",disabled:!Q.left,onClick:()=>ve(-Kx)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[Q.left?l.jsx(e0,{position:"left"}):null,Q.right?l.jsx(e0,{position:"right"}):null,l.jsx("div",{ref:me,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:G=>{Math.abs(G.deltaY)>Math.abs(G.deltaX)&&(G.preventDefault(),me.current?.scrollBy({left:G.deltaY}))},children:l.jsx(uh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(G=>{const Ne=G.status==="ready"&&G.content!==G.initialContent,Ce=G.id===Se.id;return l.jsx(BN,{tab:G,isActive:Ce,isDirty:Ne,draggingId:H,onContextMenu:Be=>{Be.preventDefault(),W({tabId:G.id,x:Be.clientX,y:Be.clientY})},onCloseTab:i},G.id)})})})]}),l.jsx(Jx,{direction:"right",disabled:!Q.right,onClick:()=>ve(Kx)}),l.jsx("button",{ref:pe,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:Ee,children:l.jsx(PN,{})})]})})}),ge.map(G=>l.jsx(bi,{value:G.id,className:"flex min-h-0 min-w-0 flex-1",children:G.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",G.name,""]}):G.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:G.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>a(G.id),children:"Retry loading"})]}):l.jsx("div",{className:xe("flex min-h-0 min-w-0 flex-1",H&&"pointer-events-none select-none"),children:l.jsx(zN,{value:G.content,language:G.language??"plaintext",path:G.id,theme:k,onChange:Ne=>b(G.id,Ne??""),onSaveShortcut:()=>{R&&y?.(G.id)}})})},G.id))]}),l.jsx(Ul,{open:!!T,position:T&&{x:T.x,y:T.y},onClose:()=>W(null),items:V,appearance:N}),l.jsx(Ul,{open:!!q,position:q,onClose:()=>X(null),items:oe,appearance:N})]})}function BN({tab:e,isActive:n,isDirty:a,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:x,transform:g,transition:b,isDragging:y}=MN({id:e.id}),w={transform:Ol.Transform.toString(g),transition:b},E=y||i===e.id,k=!!e.pinned;return l.jsxs("div",{ref:x,style:w,className:xe("group relative mr-1 flex min-w-0 items-stretch",E&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:N=>{N.button===1&&(N.preventDefault(),u(e.id))},...f,...m,children:[l.jsxs(kc,{value:e.id,"data-tab-id":e.id,title:e.id,className:xe("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",k?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[k?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(qN,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx($N,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,a?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:xe("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:N=>{N.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function Jx({direction:e,disabled:n,onClick:a}){return l.jsx("button",{type:"button",className:xe("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:a,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?l.jsx(YN,{}):l.jsx(KN,{})})}function e0({position:e}){return l.jsx("div",{className:xe("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function qN({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const xa="h-4 w-4 text-current opacity-80";function $N(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function ZN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function HN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function VN(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function FN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function QN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function IN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function t0(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function GN(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function WN(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function YN(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function KN(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function PN(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function XN(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const JN={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},e2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function n0(e){const n=new Set,a=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&a(c)})};return a(e),n}function t2({width:e,tree:n,activeFileId:a,openFileIds:i,onSelectFile:c,theme:u,onCloseFile:f,onCloseOtherFiles:m,onCloseTabsToRight:x,onCloseAllFiles:g,onHide:b}){const[y,w]=p.useState(()=>n0(n)),[E,k]=p.useState(null);p.useEffect(()=>{w(n0(n))},[n]);const N=p.useCallback(Q=>{w(ne=>{const re=new Set(ne);return re.has(Q)?re.delete(Q):re.add(Q),re})},[]),R=p.useCallback((Q,ne)=>{w(re=>{const ue=new Set(re);return ne?ue.add(Q):Q!==n.id&&ue.delete(Q),ue.has(n.id)||ue.add(n.id),ue})},[n.id]),U=p.useCallback(()=>{w(new Set([n.id]))},[n.id]),j=p.useMemo(()=>n.children??[],[n]),T=u==="dark"?"dark":"light",W=p.useCallback((Q,ne)=>{Q.preventDefault(),k({node:ne,position:{x:Q.clientX,y:Q.clientY}})},[]),q=p.useCallback(async Q=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(Q);return}catch{}if(typeof document>"u")return;const ne=document.createElement("textarea");ne.value=Q,ne.setAttribute("readonly","true"),ne.style.position="absolute",ne.style.left="-9999px",document.body.appendChild(ne),ne.select(),document.execCommand("copy"),document.body.removeChild(ne)},[]),X=p.useMemo(()=>{if(!E)return[];const Q=E.node,ne={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0"};if(Q.kind==="file"){const ue=i.includes(Q.id),me=i.length,pe=i.indexOf(Q.id),Se=pe>=0&&pe<me-1;return[{id:"open-file",label:"Open",icon:l.jsx(l2,{}),shortcut:ne.open,onSelect:()=>c(Q.id)},{id:"close-file",label:"Close",icon:l.jsx(d2,{}),disabled:!ue,shortcut:ne.close,onSelect:()=>f(Q.id)},{id:"close-file-others",label:"Close Others",icon:l.jsx(f2,{}),disabled:!ue||me<=1,shortcut:ne.closeOthers,onSelect:()=>m(Q.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:l.jsx(h2,{}),disabled:!ue||!Se,shortcut:ne.closeRight,onSelect:()=>x(Q.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:me===0,icon:l.jsx(m2,{}),shortcut:ne.closeAll,onSelect:()=>g()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(a0,{}),shortcut:ne.copyPath,onSelect:()=>{q(Q.id)}}]}const re=y.has(Q.id);return[{id:"toggle-folder",label:re?"Collapse Folder":"Expand Folder",icon:re?l.jsx(o2,{}):l.jsx(c2,{}),onSelect:()=>R(Q.id,!re)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(u2,{}),shortcut:ne.collapseAll,dividerAbove:!0,onSelect:()=>U()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(a0,{}),shortcut:ne.copyPath,onSelect:()=>{q(Q.id)}}]},[E,i,c,f,m,x,g,q,y,R,U]),H=JN[u],F=e2[u];return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:H.surface,borderColor:H.border,color:H.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:H.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:H.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:b,"aria-label":"Hide explorer",className:xe("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(i2,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsx("ul",{className:"space-y-0.5",children:j.map(Q=>l.jsx(cb,{node:Q,depth:0,expanded:y,activeFileId:a,openFileIds:i,onToggleFolder:N,onSelectFile:c,tokens:H,focusRingClass:F,onContextMenu:W},Q.id))})})]}),l.jsx(Ul,{open:!!E,position:E&&E.position,onClose:()=>k(null),items:X,appearance:T})]})}function cb({node:e,depth:n,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g}){const y={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const R=a.has(e.id),U={...y,color:R?m.textPrimary:m.textMuted};return R&&m.folderActiveBg!=="transparent"&&(U.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:j=>g(j,e),className:xe("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x),style:U,"aria-expanded":R,children:[l.jsx(s2,{open:R,tokens:m}),l.jsx(a2,{open:R,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),R&&e.children?.length?l.jsx("ul",{className:"mt-0.5 space-y-0.5",children:e.children.map(j=>l.jsx(cb,{node:j,depth:n+1,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g},j.id))}):null]})}const w=i===e.id,E=c.includes(e.id),k=n2(e.name,e.language),N={...y,color:m.textPrimary};return w&&(N.backgroundColor=m.selectionBg,N.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:R=>g(R,e),className:xe("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,w&&"shadow-inner shadow-[#00000033]"),style:N,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(r2,{className:k})}),l.jsx("span",{className:"flex-1 truncate",children:e.name}),w?l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):E?l.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const s0={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function n2(e,n){if(n==="python")return"text-sky-300";const a=e.toLowerCase().split("."),i=a.length>1?a.pop()??"":"";return i&&s0[i]?s0[i]:"text-slate-400"}function s2({open:e,tokens:n}){return l.jsx("svg",{className:xe("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function a2({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function r2({className:e}){return l.jsxs("svg",{className:xe("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function i2(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const va="h-4 w-4 text-current opacity-80";function l2(){return l.jsx("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function a0(){return l.jsxs("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function o2(){return l.jsx("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function c2(){return l.jsx("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function u2(){return l.jsxs("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function d2(){return l.jsx("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function f2(){return l.jsxs("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function h2(){return l.jsxs("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function m2(){return l.jsxs("svg",{className:va,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function p2({width:e,file:n}){if(!n)return null;const a=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return l.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[l.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:l.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),l.jsx("dd",{className:"text-slate-700",children:n.name})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),l.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),l.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),l.jsx("dd",{className:"text-slate-700",children:g2(i?.size)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),l.jsx("dd",{className:"text-slate-700",children:x2(i?.modifiedAt)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),l.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),l.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),l.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),l.jsx("dd",{className:"text-slate-700",children:a?"Yes":"No"})]})]})]}),l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function g2(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a.toFixed(a>=10?0:1)} ${n[i]}`}function x2(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function xf({orientation:e,onPointerDown:n}){const a=e==="vertical";return l.jsx("div",{role:"separator","aria-orientation":e,className:a?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",style:{touchAction:"none"},onPointerDown:n,children:l.jsx("span",{className:"sr-only",children:"Resize panel"})})}const v2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function b2(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",a=e.entries.length>0;if(!n&&!a)return null;const i=kl(n),c={id:n,name:r0(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=x=>{if(x.length===0)return c;const g=kl(x),b=g===i?n:g,y=u.get(b);if(y)return y;const w={id:b,name:r0(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":S2(b)??n,k=f(E);return vf(k,w),w},m=[...e.entries].sort((x,g)=>x.depth!==g.depth?x.depth-g.depth:x.path.localeCompare(g.path));for(const x of m){const g=x.parent&&x.parent.length>0?kl(x.parent):n,b=f(g);if(x.kind==="dir"){const w=f(x.path);w.name=x.name,w.metadata={size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag},w!==b&&vf(b,w);continue}const y={id:x.path,name:x.name,kind:"file",language:w2(x.path),metadata:{size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag}};u.set(x.path,y),vf(b,y)}return c}function vf(e,n){const a=e.children??[],i=a.some(c=>c.id===n.id)?a.map(c=>c.id===n.id?n:c):[...a,n];e.children=i.sort(y2)}function y2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function w2(e){const n=e.toLowerCase(),a=n.lastIndexOf(".");if(a===-1)return;const i=n.slice(a+1);return v2[i]}function r0(e){const n=kl(e);if(!n)return"";const a=n.lastIndexOf("/");return a>=0?n.slice(a+1):n}function S2(e){const n=kl(e);if(!n)return;const a=n.lastIndexOf("/");return a===-1?"":n.slice(0,a)}function kl(e){return e?e.replace(/\/+$/,""):""}function br(e,n){if(e.id===n)return e;if(!e.children)return null;for(const a of e.children){const i=br(a,n);if(i)return i}return null}function ub(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const a=ub(n);if(a)return a}return null}function j2({tree:e,initialActiveFileId:n,loadFile:a,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[x,g]=p.useState([]),[b,y]=p.useState(()=>!i),[w,E]=p.useState(!1),k=p.useRef(new Set),N=p.useRef([]),R=p.useRef(""),U=p.useRef([]),j=p.useCallback(O=>{m(z=>z===O?z:O),g(z=>{const I=z.filter(oe=>N.current.some(ve=>ve.id===oe));if(!O)return I;const V=I.filter(oe=>oe!==O);return[O,...V]})},[]);p.useEffect(()=>{R.current=f},[f]),p.useEffect(()=>{U.current=x},[x]),p.useEffect(()=>{if(!e){u([]),m(""),g([]);return}u(z=>z.filter(I=>!!br(e,I.id)).map(I=>{const V=br(e,I.id);return!V||V.kind!=="file"?I:{...I,name:V.name,language:V.language,metadata:V.metadata}}));const O=R.current;(!O||!br(e,O))&&j("")},[e,j]);const T=p.useMemo(()=>c.find(O=>O.id===f)??c[0]??null,[f,c]),W=p.useCallback(async O=>{if(!N.current.some(I=>I.id===O))return;let z=!1;if(u(I=>I.map(V=>V.id!==O?V:V.status==="ready"?(z=!0,V):{...V,status:"loading",error:null})),!z)try{const I=await a(O);u(V=>V.map(oe=>oe.id===O?{...oe,initialContent:I.content,content:I.content,status:"ready",error:null,etag:I.etag??null,saving:!1,saveError:null}:oe))}catch(I){const V=I instanceof Error?I.message:"Unable to load file.";u(oe=>oe.map(ve=>ve.id===O?{...ve,status:"error",error:V}:ve))}},[a]),q=p.useCallback((O,z)=>{if(!e)return;const I=br(e,O);!I||I.kind!=="file"||(u(V=>{if(V.some(ve=>ve.id===O))return V;const oe={id:I.id,name:I.name,language:I.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:I.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...V,oe]}),(z?.activate??!0)&&j(O))},[e,j]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const O=i.get(),I=(O?.openTabs??[]).map(V=>typeof V=="string"?{id:V,pinned:!1}:V).filter(V=>!!(V&&V.id));if(I.length>0){const V=[];for(const oe of I){const ve=br(e,oe.id);!ve||ve.kind!=="file"||V.push({id:ve.id,name:ve.name,language:ve.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:ve.metadata,pinned:!!oe.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(V.length>0){u(V);const oe=(O?.activeTabId&&V.some(G=>G.id===O.activeTabId)?O.activeTabId:V[0]?.id)??"";m(oe);const Ee=(O?.mru&&O.mru.length>0?O.mru:V.map(G=>G.id)).filter(G=>V.some(Ne=>Ne.id===G));g(Ee),E(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||E(!0);return}if(w)return;const O=n&&br(e,n)||ub(e);if(!O){E(!0);return}q(O.id),E(!0)},[e,n,q,b,c.length,w]);const X=p.useCallback(O=>{q(O)},[q]),H=p.useCallback(O=>{j(O),u(z=>z.map(I=>I.id===O&&I.status==="error"?{...I,status:"loading",error:null}:I))},[j]),F=p.useCallback(O=>{u(z=>{const I=z.filter(ve=>ve.id!==O),V=R.current,oe=V===O?I[I.length-1]?.id??"":I.some(ve=>ve.id===V)?V:I[I.length-1]?.id??"";return j(oe),I})},[j]),Q=p.useCallback(O=>{u(z=>!z.some(I=>I.id===O)||z.length<=1?z:(j(O),z.filter(I=>I.id===O)))},[j]),ne=p.useCallback(O=>{u(z=>{const I=z.findIndex(ve=>ve.id===O);if(I===-1||I===z.length-1)return z;const V=z.slice(0,I+1),oe=V.some(ve=>ve.id===R.current)?R.current:O;return j(oe),V})},[j]),re=p.useCallback(()=>{u([]),m(""),g([])},[]),ue=p.useCallback((O,z,I)=>{u(V=>{if(V.length<=1)return V;const oe=V.findIndex(Oe=>Oe.id===O);if(oe===-1)return V;const ve=Math.max(0,Math.min(z,V.length));let Ee=ve;oe<ve&&(Ee-=1);const G=[],Ne=[];let Ce=null;if(V.forEach((Oe,Ae)=>{if(Ae===oe){Ce=Oe;return}Oe.pinned?G.push(Oe):Ne.push(Oe)}),!Ce)return V;if((I?.zone??(Ee<=G.length?"pinned":"regular"))==="pinned"){const Oe=Math.max(0,Math.min(Ee,G.length));G.splice(Oe,0,{...Ce,pinned:!0})}else{const Oe=Math.max(0,Math.min(Ee-G.length,Ne.length));Ne.splice(Oe,0,{...Ce,pinned:!1})}return[...G,...Ne]})},[]),me=p.useCallback(O=>{u(z=>{const I=[],V=[];let oe=null;for(const Ee of z){if(Ee.id===O){oe=Ee;continue}Ee.pinned?I.push(Ee):V.push(Ee)}if(!oe||oe.pinned)return z;const ve={...oe,pinned:!0};return[...I,ve,...V]})},[]),pe=p.useCallback(O=>{u(z=>{const I=[],V=[];let oe=null;for(const Ee of z){if(Ee.id===O){oe=Ee;continue}Ee.pinned?I.push(Ee):V.push(Ee)}if(!oe||!oe.pinned)return z;const ve={...oe,pinned:!1};return[...I,ve,...V]})},[]),Se=p.useCallback((O,z)=>{z?me(O):pe(O)},[me,pe]),B=p.useCallback(O=>{const z=U.current.filter(Ne=>N.current.some(Ce=>Ce.id===Ne));if(z.length<=1)return;const I=R.current||z[0],V=z.indexOf(I),Ee=((V>=0?V:0)+(O==="forward"?1:-1)+z.length)%z.length,G=z[Ee];G&&G!==I&&j(G)},[j]),J=p.useCallback((O,z)=>{u(I=>I.map(V=>V.id===O?{...V,content:z,status:V.status==="ready"?V.status:"ready",error:null,saveError:null}:V))},[]),ge=p.useCallback(O=>{u(z=>z.map(I=>I.id===O?{...I,saving:!0,saveError:null}:I))},[]),be=p.useCallback((O,z)=>{u(I=>I.map(V=>{if(V.id!==O)return V;const oe=z?.metadata??V.metadata??null,ve=z?.etag??V.etag??null;return{...V,saving:!1,saveError:null,initialContent:V.content,etag:ve,metadata:oe&&{...oe,etag:oe.etag??ve??null},lastSavedAt:new Date().toISOString()}}))},[]),we=p.useCallback((O,z)=>{u(I=>I.map(V=>V.id===O?{...V,saving:!1,saveError:z}:V))},[]),A=p.useCallback((O,z)=>{u(I=>I.map(V=>V.id!==O?V:{...V,content:z.content,initialContent:z.content,status:"ready",error:null,saving:!1,saveError:null,etag:z.etag??V.etag??null,metadata:z.metadata??V.metadata}))},[]),Y=p.useMemo(()=>c.some(O=>O.status==="ready"&&O.content!==O.initialContent),[c]);return p.useEffect(()=>{N.current=c},[c]),p.useEffect(()=>{g(O=>{const z=O.filter(I=>c.some(V=>V.id===I));return z.length===O.length?O:z})},[c]),p.useEffect(()=>{const O=new Set(c.map(z=>z.id));for(const z of k.current)O.has(z)||k.current.delete(z);for(const z of c){if(z.status!=="loading"||k.current.has(z.id))continue;k.current.add(z.id),W(z.id).finally(()=>{k.current.delete(z.id)})}},[c,W]),p.useEffect(()=>{if(!i||!b)return;const O=[f,...x].filter(z=>!!z).filter((z,I,V)=>V.indexOf(z)===I).filter(z=>c.some(I=>I.id===z));i.set({openTabs:c.map(z=>({id:z.id,pinned:!!z.pinned})),activeTabId:f||null,mru:O})},[i,c,f,x,b]),{tree:e,tabs:c,activeTabId:f,activeTab:T,openFile:X,selectTab:H,closeTab:F,closeOtherTabs:Q,closeTabsToRight:ne,closeAllTabs:re,moveTab:ue,pinTab:me,unpinTab:pe,toggleTabPin:Se,selectRecentTab:B,updateContent:J,beginSavingTab:ge,completeSavingTab:be,failSavingTab:we,replaceTabContent:A,isDirty:Y}}function db(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[a,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(a,String(u))}return n}const fb=p.createContext(null);function E2({value:e,children:n}){return p.createElement(fb.Provider,{value:e},n)}function bh(){const e=p.useContext(fb),n=Ss(),a=En(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,g=db(m).toString(),b=`${n.pathname}${g?`?${g}`:""}${n.hash}`;a(b,{replace:f?.replace})},[n.hash,n.pathname,a,i]);return[e?.params??i,e?.setSearchParams??c]}const yr={tab:"editor",pane:"console",console:"closed",view:"editor"},N2=["tab","pane","console","view","file","path"];function _2(e){return e==="open"?"open":"closed"}function C2(e){return e==="validation"||e==="problems"?"validation":"console"}function k2(e){return e==="split"||e==="zen"?e:"editor"}function hb(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),a=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:a==="editor"?"editor":yr.tab,pane:C2(i),console:_2(c),view:k2(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function bf(e,n){const a=hb(e),i={...yr,...a,...n},c=new URLSearchParams(e);for(const u of N2)c.delete(u);return i.tab!==yr.tab&&c.set("tab",i.tab),i.pane!==yr.pane&&c.set("pane",i.pane),i.console!==yr.console&&c.set("console",i.console),i.view!==yr.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function T2(){const[e,n]=bh(),a=p.useMemo(()=>hb(e),[e]),i=p.useCallback(f=>{a.file===f||!f&&!a.present.file||n(m=>bf(m,{file:f??void 0}),{replace:!0})},[n,a.file,a.present.file]),c=p.useCallback(f=>{a.pane!==f&&n(m=>bf(m,{pane:f}),{replace:!0})},[n,a.pane]),u=p.useCallback(f=>{a.console!==f&&n(m=>bf(m,{console:f}),{replace:!0})},[n,a.console]);return{fileId:a.file??yr.file,pane:a.pane,console:a.console,consoleExplicit:a.present.console,setFileId:i,setPane:c,setConsole:u}}const A2="You have unsaved changes in the config editor. Are you sure you want to leave?";function M2({isDirty:e,confirm:n=window.confirm,message:a=A2,shouldBypassNavigation:i}){const c=Ss(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(a),[n,e,c.pathname,a,i]);z1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=a,a);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,a])}const i0="(prefers-color-scheme: dark)";function l0(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function D2(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function R2(e){const n=p.useMemo(()=>Pa(e),[e]),[a,i]=p.useState(()=>{const x=n.get();return l0(x)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(i0).matches);p.useEffect(()=>{const x=l0(n.get());i(g=>g===x?g:x)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const x=window.matchMedia(i0),g=b=>{u(b.matches)};return typeof x.addEventListener=="function"?x.addEventListener("change",g):typeof x.addListener=="function"&&x.addListener(g),u(x.matches),()=>{typeof x.removeEventListener=="function"?x.removeEventListener("change",g):typeof x.removeListener=="function"&&x.removeListener(g)}},[]),p.useEffect(()=>{n.set(a)},[a,n]);const f=p.useMemo(()=>D2(a,c),[a,c]),m=p.useCallback(x=>{i(x)},[]);return{preference:a,resolvedTheme:f,setPreference:m}}function Zn(e,n,a){return Math.min(Math.max(e,n),a)}function yf(e,n){const{onMove:a,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,f=e.currentTarget,m=document.body.style.cursor,x=document.body.style.userSelect;let g=null,b=null,y=!0;const w=R=>{if(y){if(y=!1,g!==null&&(cancelAnimationFrame(g),g=null),document.body.style.cursor=m,document.body.style.userSelect=x,window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",k),window.removeEventListener("pointercancel",k),f.removeEventListener("lostpointercapture",N),f.hasPointerCapture?.(u))try{f.releasePointerCapture(u)}catch{}i&&i(R)}},E=R=>{!y||R.pointerId!==u||(b=R,g===null&&(g=window.requestAnimationFrame(()=>{g=null,b&&a(b)})))},k=R=>{R.pointerId===u&&w(R)},N=R=>{R.pointerId===u&&w(R)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{f.setPointerCapture(u)}catch{}window.addEventListener("pointermove",E),window.addEventListener("pointerup",k),window.addEventListener("pointercancel",k),f.addEventListener("lostpointercapture",N)}const z2="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",O2="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function L2({label:e,icon:n,disabled:a,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:x,menuAriaLabel:g="Open menu",menuIcon:b=l.jsx(U2,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:E}){const k=p.useRef(null),N=!!(a||i),R=U=>{if(N)return;U.preventDefault();const j=k.current?.getBoundingClientRect();if(j){w?.({x:j.left,y:j.bottom});return}w?.({x:U.clientX,y:U.clientY})};return l.jsxs("div",{role:"group",className:xe("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[l.jsxs("button",{type:"button",title:x,disabled:N,className:xe(z2,f),onClick:U=>{N||y?.(U)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:k,type:"button","aria-label":g,"aria-haspopup":"menu","aria-expanded":"false",disabled:N,className:xe(O2,m),onClick:R,children:b})]})}function U2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const B2={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function Ct({title:e,description:n,action:a,variant:i="empty",className:c}){return l.jsxs("div",{className:xe("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:xe("mb-4 h-8 w-8 rounded-full border-current",B2[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,a?l.jsx("div",{className:"mt-4",children:a}):null]})}const q2=new TextEncoder;async function $2(e,n={}){const{signal:a,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:a});if(!m)throw new Error("Expected configuration page payload.");return m}async function Z2(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}",{params:{path:{workspace_id:e,config_id:n}},signal:a});return i??null}async function H2(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/validate",{params:{path:{workspace_id:e,config_id:n}}});if(!a)throw new Error("Expected validation payload.");return a}async function V2(e,n,a={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:x,sort:g,order:b,signal:y}=a,{data:w}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files",{params:{path:{workspace_id:e,config_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:x??void 0,sort:g,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function o0(e,n,a,i){const{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files/{file_path}",{params:{path:{workspace_id:e,config_id:n,file_path:a}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function F2(e,n,a){const i=K2(a.path),c=a.parents?"?parents=1":"",u=await zS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:q2.encode(a.content),headers:{"Content-Type":"application/octet-stream",...a.create?{"If-None-Match":"*"}:a.etag?{"If-Match":a.etag}:{}}});if(!u.ok){const m=await P2(u),x=m?.title??`Request failed with status ${u.status}`;throw new is(x,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}function Q2(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",config_id:e.configId.trim()}}async function I2(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:Q2(n.source)}});if(!a)throw new Error("Expected configuration payload.");return a}async function G2(e,n,a={}){const{signal:i}=a,{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/versions",{params:{path:{workspace_id:e,config_id:n}},signal:i});return c??[]}function W2(e){return e.find(n=>n.status==="active"||n.activated_at)??null}function Y2(e){return e.filter(a=>a.status!=="active"&&!a.deleted_at).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime())[0]??null}function K2(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function P2(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const gn={root:e=>["workspaces",e,"configs"],list:(e,n={})=>[...gn.root(e),"list",{...n}],detail:(e,n)=>[...gn.root(e),"detail",n],versions:(e,n)=>[...gn.detail(e,n),"versions"],version:(e,n,a)=>[...gn.detail(e,n),"version",a],scripts:(e,n,a)=>[...gn.version(e,n,a),"scripts"],script:(e,n,a,i)=>[...gn.scripts(e,n,a),"script",i],manifest:(e,n,a)=>[...gn.version(e,n,a),"manifest"],files:(e,n)=>[...gn.detail(e,n),"files"],file:(e,n,a)=>[...gn.files(e,n),"file",a]};function X2({workspaceId:e,configId:n,enabled:a=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:x,pageToken:g,sort:b="path",order:y="asc"}=i;return fn({queryKey:[...gn.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",x??"",g??"",b,y],queryFn:({signal:w})=>V2(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:x,pageToken:g,sort:b,order:y,signal:w}),enabled:a&&e.length>0&&n.length>0,staleTime:5e3})}function J2(e,n){const a=Tt();return kn({mutationFn:i=>F2(e,n,i),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:gn.files(e,n)}),a.invalidateQueries({queryKey:gn.file(e,n,c.path)})])}})}function e_(e,n){return kn({mutationFn:()=>H2(e,n)})}const t_=/\r?\n/,c0=new TextDecoder;async function*mb(e){const n=e.body;if(!n)throw new Error("Response body is not a readable stream.");const a=n.getReader();let i="";try{for(;;){const{value:u,done:f}=await a.read();if(f)break;for(i+=c0.decode(u,{stream:!0});;){const m=i.search(t_);if(m===-1)break;const x=i.slice(0,m);i=i.slice(m+(i[m]==="\r"?2:1));const g=x.trim();g&&(yield JSON.parse(g))}}i+=c0.decode();const c=i.trim();c&&(yield JSON.parse(c))}finally{a.releaseLock()}}async function*n_(e,n,a={},i){const c=`/workspaces/${encodeURIComponent(e)}/configs/${encodeURIComponent(n)}/builds`,u=await ih(c,{stream:!0,options:a},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:i});for await(const f of mb(u))yield f}async function*s_(e,n={},a){const i=`/configs/${encodeURIComponent(e)}/runs`,c=await ih(i,{stream:!0,options:n},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:a});for await(const u of mb(c))yield u}async function a_(e,n){const{data:a}=await We.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run outputs unavailable");return a}async function r_(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/artifact`,{headers:{Accept:"application/json"},signal:n});if(!a.ok)throw new Error("Run artifact unavailable");return await a.json()}async function i_(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/logfile`,{headers:{Accept:"application/x-ndjson"},signal:n});if(!a.ok)throw new Error("Run telemetry unavailable");return(await a.text()).split(/\r?\n/).filter(Boolean).map(c=>{try{return JSON.parse(c)}catch(u){return console.warn("Skipping invalid telemetry line",{error:u,line:c}),null}}).filter(c=>!!c)}const l_={schema:{}},o_={properties:l_},c_=o_.properties?.schema?.const??"ade.telemetry/run-event.v1";function pb(e){return e.schema===c_}async function gb(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:a});return i??[]}const u_={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Fn(e){const n=typeof e=="number"?new Date(e*1e3):e;return Number.isNaN(n.getTime())?"":n.toLocaleTimeString([],u_)}function d_(e){switch(e.type){case"build.created":return{level:"info",message:`Build ${e.build_id} created (status: ${e.status}).`,timestamp:Fn(e.created)};case"build.step":return p_(e);case"build.log":return x_(e);case"build.completed":return v_(e);default:return{level:"info",message:JSON.stringify(e),timestamp:Fn(e.created)}}}function f_(e){if(pb(e))return h_(e);switch(e.type){case"run.created":return{level:"info",message:`Run ${e.run_id} created (status: ${e.status}).`,timestamp:Fn(e.created)};case"run.started":return{level:"info",message:"Run started.",timestamp:Fn(e.created)};case"run.log":return b_(e);case"run.completed":return y_(e);default:return{level:"info",message:JSON.stringify(e),timestamp:""}}}function h_(e){const{event:n,timestamp:a}=e,{event:i,level:c,...u}=n,f=m_(c),m=Object.keys(u).length>0?` ${JSON.stringify(u)}`:"";return{level:f,message:m?`Telemetry: ${i}${m}`:`Telemetry: ${i}`,timestamp:Fn(new Date(a))}}function m_(e){switch(e){case"warning":return"warning";case"error":case"critical":return"error";default:return"info"}}function p_(e){const n=g_[e.step]??e.step.replaceAll("_"," ");return{level:"info",message:e.message?.trim()?e.message:n,timestamp:Fn(e.created)}}const g_={create_venv:"Creating virtual environment",upgrade_pip:"Upgrading pip inside the build environment",install_engine:"Installing ade_engine package",install_config:"Installing configuration package",verify_imports:"Verifying ADE imports",collect_metadata:"Collecting build metadata"};function x_(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Fn(e.created)}}function v_(e){const n=Fn(e.created);if(e.status==="active")return{level:"success",message:e.summary?.trim()||"Build completed successfully.",timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Build was canceled before completion.",timestamp:n};const a=e.error_message?.trim()||"Build failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${a}${i}`,timestamp:n}}function b_(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Fn(e.created)}}function y_(e){const n=Fn(e.created);if(e.status==="succeeded")return{level:"success",message:`Run completed successfully${typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:""}.`,timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Run was canceled before completion.",timestamp:n};const a=e.error_message?.trim()||"Run failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${a}${i}`,timestamp:n}}const xb=p.createContext(null),w_=6e3,S_=7e3,u0=4;function j_({children:e}){const[n,a]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{a(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??d0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?w_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return a(w=>{const k=[...y.persistKey?w.filter(N=>N.persistKey!==y.persistKey):w,y];return k.length>u0?k.slice(k.length-u0):k}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??d0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:S_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(k=>k.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),x=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&a(w=>w.filter(E=>E.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(E=>E.scope!==b)))},[]),g=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:x}),[n,i,f,m,u,x]);return l.jsxs(xb.Provider,{value:g,children:[e,l.jsx(E_,{})]})}function vb(){const e=p.useContext(xb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function E_(){const{toasts:e,banners:n,dismiss:a}=vb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:ma.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(__,{banner:u,onDismiss:a},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(N_,{toast:u,onDismiss:a},u.id))})]}),document.body)}function N_({toast:e,onDismiss:n}){const a=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=C_[e.intent];return l.jsxs("div",{className:xe("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:xe("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??yb(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>l.jsx(bb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(wb,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:xe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function __({banner:e,onDismiss:n}){const a=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=k_[e.intent];return l.jsxs("div",{className:xe("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:xe("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??yb(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>l.jsx(bb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:xe("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(wb,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:xe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function bb({action:e,onPress:n,appearance:a}){const i=e.variant??"secondary",c=a==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:xe("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function yb(e){switch(e){case"success":return l.jsx(A_,{});case"warning":return l.jsx(M_,{});case"danger":return l.jsx(D_,{});default:return l.jsx(T_,{})}}const C_={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},k_={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function d0(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function T_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function A_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function M_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function D_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function wb(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function R_(){const e=vb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,a)=>e.clearScope(n,a)}),[e])}const z_="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Gs=p.forwardRef(({className:e,...n},a)=>l.jsx("select",{ref:a,className:xe(z_,e),...n}));Gs.displayName="Select";const O_={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},L_={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ze=p.forwardRef(({type:e="button",variant:n="primary",size:a="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},x)=>{const g=f||i;return l.jsxs("button",{ref:x,type:e,disabled:g,"aria-busy":i||void 0,className:xe("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",O_[n],L_[a],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});ze.displayName="Button";const U_={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function mt({tone:e="info",heading:n,icon:a,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:xe("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",U_[e],i),...u,children:[a?l.jsx("span",{"aria-hidden":"true",children:a}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}const B_={min:200,max:420},q_={min:260,max:420},$_={max:420},mi=320,wf=140,Z_=220,hc=400,jl=4,H_=56,f0="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",V_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.tabs`,F_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.console`,Q_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.editor-theme`,I_=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],G_={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function Sb({workspaceId:e,configId:n,configName:a,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:x,shouldBypassUnsavedGuard:g}){const b=Tt(),{fileId:y,pane:w,console:E,consoleExplicit:k,setFileId:N,setPane:R,setConsole:U}=T2(),j=!!i,T=X2({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!j}),W=p.useMemo(()=>i?i.tree:T.data?b2(T.data):null,[i,T.data]),[q,X]=p.useState(()=>i?.console?i.console.slice(-hc):[]);p.useEffect(()=>{i?.console&&X(i.console.slice(-hc))},[i?.console]);const[H,F]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),Q=p.useRef(null),ne=p.useRef(!0),[re,ue]=p.useState(null),[me,pe]=p.useState(null),[Se,B]=p.useState(!1),J=p.useCallback(Z=>{if(!ne.current)return;const ae=Fn(new Date);X([{level:"info",message:Z,timestamp:ae}])},[X]),ge=p.useCallback(Z=>{ne.current&&X(ae=>{const ke=[...ae,Z];return ke.length>hc?ke.slice(ke.length-hc):ke})},[X]);p.useEffect(()=>{i?.validation&&F({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(ne.current=!0,()=>{ne.current=!1,Q.current?.abort()}),[]);const be=e_(e,n),we=p.useMemo(()=>i?null:Pa(V_(e,n)),[e,n,i]),A=p.useMemo(()=>i?null:Pa(F_(e,n)),[e,n,i]),Y=p.useRef(null);!Y.current&&A&&(Y.current=A.get()??null);const O=R2(Q_(e,n)),z=O.resolvedTheme==="vs-light"?"light":"dark",I=H.lastRunAt?`Last run ${cC(H.lastRunAt)}`:void 0,[V,oe]=p.useState({collapsed:!1,fraction:280/1200}),[ve,Ee]=p.useState({collapsed:!1,fraction:300/1200}),[G,Ne]=p.useState(null),[Ce,Be]=p.useState(!1),[Oe,Ae]=p.useState({width:0,height:0}),[Qe,at]=p.useState(null),[rt,Kt]=p.useState("explorer"),[M,_]=p.useState(null),[C,ie]=p.useState(null),[te,ce]=p.useState(!1),[je,qe]=p.useState(!1),[Ve,jt]=p.useState(!1),{notifyBanner:ye,dismissScope:Te}=R_(),Ze=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Ke=p.useCallback((Z,ae)=>{ye({title:Z,intent:ae?.intent??"info",duration:ae?.duration??6e3,dismissible:!0,scope:Ze,persistKey:Ze})},[ye,Ze]),it=p.useCallback(()=>{Te(Ze,"banner")},[Te,Ze]),Et=p.useCallback(Z=>{if(!ne.current)return;const ae=oC(Z);ge({level:"error",message:ae,timestamp:Fn(new Date)}),Ke(ae,{intent:"danger",duration:null})},[ge,Ke]),pt=c==="maximized",Gn=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Ws=p.useCallback(()=>{x()},[x]),Ai=p.useCallback(Z=>{ie(Z)},[]),Os=p.useCallback(()=>ie(null),[]),Ls=!V.collapsed,Mt=p.useCallback(async Z=>{if(i)return{content:i.content[Z]??"",etag:null};const ae=await b.fetchQuery({queryKey:gn.file(e,n,Z),queryFn:({signal:ke})=>o0(e,n,Z,ke)});if(!ae)throw new Error("File could not be loaded.");return{content:p0(ae),etag:ae.etag??null}},[i,b,e,n]),_e=j2({tree:W,initialActiveFileId:y,loadFile:Mt,persistence:we??void 0}),Ht=J2(e,n),vn=p.useCallback(async Z=>{if(j)return null;const ae=await b.fetchQuery({queryKey:gn.file(e,n,Z),queryFn:({signal:He})=>o0(e,n,Z,He)}),ke=p0(ae);return _e.replaceTabContent(Z,{content:ke,etag:ae.etag??null,metadata:{size:ae.size??null,modifiedAt:ae.mtime??null,contentType:ae.content_type??_e.tabs.find(He=>He.id===Z)?.metadata?.contentType??null,etag:ae.etag??null}}),ae},[j,b,e,n,_e]);M2({isDirty:_e.isDirty,shouldBypassNavigation:g});const Nn=p.useCallback(()=>{u()},[u]),hn=p.useCallback(()=>{pt?m():f()},[pt,f,m]),_n=p.useCallback(()=>{ce(Z=>!Z)},[]),Dt=E!=="open",Rt=p.useMemo(()=>_e.tabs.filter(Z=>Z.status==="ready"&&Z.content!==Z.initialContent),[_e.tabs]),Wn=_e.tabs.some(Z=>Z.saving),Vt=!j&&Rt.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[V.collapsed,V.fraction,ve.collapsed,ve.fraction,Dt,G,pt]);const ln=p.useCallback(async Z=>{if(j)return!1;const ae=_e.tabs.find(ke=>ke.id===Z);if(!ae||ae.status!=="ready"||ae.content===ae.initialContent||ae.saving)return!1;_e.beginSavingTab(Z);try{const ke=await Ht.mutateAsync({path:ae.id,content:ae.content,etag:ae.etag??void 0,create:!ae.etag,parents:!0}),He={size:ke.size??ae.metadata?.size??null,modifiedAt:ke.mtime??ae.metadata?.modifiedAt??null,contentType:ae.metadata?.contentType??null,etag:ke.etag??ae.metadata?.etag??null};return _e.completeSavingTab(Z,{etag:ke.etag??ae.etag??null,metadata:He}),Ke(`Saved ${ae.name}`,{intent:"success",duration:4e3}),!0}catch(ke){const He=ke instanceof is&&ke.status===412,nt=He?new Error("Save blocked because this file changed on the server. Reloading latest version."):ke;if(_e.failSavingTab(Z,nt instanceof Error?nt.message:String(nt)),He)try{await vn(Z),Ke("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Pe){Et(Pe)}return Et(nt),!1}},[j,_e,Ht,Ke,vn,Et]),ls=p.useCallback(async Z=>{const ae=[];for(const ke of Z)await ln(ke)&&ae.push(ke);return ae},[ln]),os=p.useCallback(Z=>{ln(Z)},[ln]),Tn=p.useCallback(()=>{_e.activeTab&&ln(_e.activeTab.id)},[_e.activeTab,ln]),Es=p.useCallback(()=>{if(!Vt)return;const Z=Rt.map(ae=>ae.id);(async()=>{const ae=await ls(Z);ae.length>1&&Ke(`Saved ${ae.length} files`,{intent:"success",duration:5e3})})()},[Vt,Rt,ls,Ke]);p.useEffect(()=>{const Z=Qe;if(!Z||typeof window>"u")return;const ae=()=>{const He=Z.getBoundingClientRect(),nt=He.width,Pe=He.height;Ae({width:nt,height:Pe}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(ae(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae);const ke=new window.ResizeObserver(()=>ae());return ke.observe(Z),()=>ke.disconnect()},[Qe]);const dt=p.useMemo(()=>{const Z=Math.max(0,Oe.height),ae=Math.min($_.max,Math.max(0,Z-mi-jl)),ke=Math.min(wf,ae);return{container:Z,minPx:ke,maxPx:ae}},[Oe.height]),on=p.useCallback((Z,ae=dt)=>Zn(Z,ae.minPx,ae.maxPx),[dt]),Ft=p.useCallback(()=>{const Z=Y.current;return Z&&"version"in Z&&Z.version===2&&typeof Z.fraction=="number"?Zn(Z.fraction,0,1):Z&&"height"in Z&&typeof Z.height=="number"&&dt.container>0?Zn(Z.height/dt.container,0,1):.25},[dt.container]);p.useEffect(()=>{G===null&&dt.container>0&&Ne(Ft())},[G,dt.container,Ft]),p.useEffect(()=>{if(typeof window>"u")return;const Z=ke=>{qe(ke.shiftKey||ke.altKey)},ae=()=>qe(!1);return window.addEventListener("keydown",Z),window.addEventListener("keyup",Z),window.addEventListener("blur",ae),()=>{window.removeEventListener("keydown",Z),window.removeEventListener("keyup",Z),window.removeEventListener("blur",ae)}},[]);const Yn=p.useCallback(()=>dt.container>0&&dt.maxPx<wf?(U("closed"),Ke(f0,{intent:"warning",duration:1e4}),!1):(it(),U("open"),Ne(Z=>Z!==null?Zn(Z,0,1):Ft()),!0),[dt,U,Ke,it,Ft]),Dr=p.useCallback(()=>{U("closed"),it()},[U,it]);p.useEffect(()=>{if(Ce)return;const Z=Y.current?.state;if(k||!Z){Be(!0);return}(Z==="open"||Z==="closed")&&Z!==E&&U(Z),Be(!0)},[k,E,U,Ce]),p.useEffect(()=>{!A||Ve||G===null||A.set({version:2,fraction:Zn(G,0,1),state:E})},[A,G,E,Ve]),p.useEffect(()=>{if(!(E!=="open"||!dt.container)){if(dt.maxPx<wf){U("closed"),Ke(f0,{intent:"warning",duration:1e4});return}Ne(Z=>Z===null?Ft():Zn(Z,0,1))}},[E,dt,U,Ke,Ft]);const Rr=p.useCallback((Z,ae)=>{if(Z<=0)return{minPx:ae.min,maxPx:ae.max,minFrac:0,maxFrac:1};const ke=Math.min(ae.min,Z),He=Math.min(ae.max,Z);return{minPx:ke,maxPx:He,minFrac:ke/Z,maxFrac:He/Z}},[]),bn=Math.max(0,Oe.width-H_),Ns=p.useMemo(()=>Rr(bn,B_),[bn,Rr]),Rn=p.useMemo(()=>Rr(bn,q_),[bn,Rr]),Ys=p.useCallback((Z,ae)=>Zn(Z,ae.minFrac,ae.maxFrac),[]);p.useEffect(()=>{bn<=0||(oe(Z=>{if(Z.collapsed)return Z;const ae=Ys(Z.fraction,Ns);return ae===Z.fraction?Z:{...Z,fraction:ae}}),Ee(Z=>{if(Z.collapsed)return Z;const ae=Ys(Z.fraction,Rn);return ae===Z.fraction?Z:{...Z,fraction:ae}}))},[bn,Ns,Rn,Ys]);const Us=!ve.collapsed&&!!_e.activeTab,_s=V.collapsed?0:Zn(V.fraction,Ns.minFrac,Ns.maxFrac)*bn,Bs=Us?Zn(ve.fraction,Rn.minFrac,Rn.maxFrac)*bn:0;let cs=_s,Ot=Bs;if(bn>0){const Z=(Ls?jl:0)+(Us?jl:0),ae=_s+Bs+Z;if(ae>bn){const ke=ae-bn,He=Math.min(ke,Math.max(0,Bs-Rn.minPx));Ot=Bs-He;const nt=ke-He;if(nt>0){const Pe=Math.min(nt,Math.max(0,_s-Ns.minPx));cs=_s-Pe}}}const Kn=Math.max(0,dt.container),Ks=G??(Kn>0?Zn(Z_/Kn,0,1):.25),ba=Dt?0:Ks*Kn,zr=Dt?0:Kn>0?on(ba):0,Wl=Kn>0?Math.max(mi,Kn-jl-zr):mi;p.useEffect(()=>{const Z=_e.activeTabId;if(!Z){N(void 0);return}N(Z)},[_e.activeTabId,N]);const Ja=p.useCallback((Z,ae)=>{if(j||!W||T.isLoading||T.isError||re!==null||ae.mode==="validation"&&be.isPending||!Yn())return null;const He=new Date().toISOString();R("console"),J(ae.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction"),ae.mode==="validation"?F(Pe=>({...Pe,status:"running",lastRunAt:He,error:null})):pe(null);const nt=new AbortController;return Q.current?.abort(),Q.current=nt,ue({kind:"run",startedAt:He,metadata:ae}),(async()=>{let Pe=null;try{for await(const Fe of s_(n,Z,nt.signal)){if(ge(f_(Fe)),!ne.current)return;if(!pb(Fe)&&(Fe.type==="run.created"&&(Pe=Fe.run_id),Fe.type==="run.completed")){const Ps=Fe.status==="succeeded"?"ADE run completed successfully.":Fe.status==="canceled"?"ADE run canceled.":Fe.error_message?.trim()||"ADE run failed.",Ea=Fe.status==="succeeded"?"success":Fe.status==="canceled"?"info":"danger";if(Ke(Ps,{intent:Ea}),ae.mode==="extraction"&&Pe){const Br=`/api/v1/runs/${encodeURIComponent(Pe)}`;pe({runId:Pe,status:Fe.status,downloadBase:Br,documentName:ae.documentName,sheetNames:ae.sheetNames??[],outputs:[],outputsLoaded:!1,artifact:null,artifactLoaded:!1,artifactError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:null});try{const Pt=await a_(Pe),Lt=Array.isArray(Pt.files)?Pt.files:[];pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,outputs:Lt,outputsLoaded:!0}:Ut)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run outputs.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,outputsLoaded:!0,error:Lt}:Ut)}try{const Pt=await r_(Pe);pe(Lt=>Lt&&Lt.runId===Pe?{...Lt,artifact:Pt,artifactLoaded:!0}:Lt)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run artifact.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,artifactLoaded:!0,artifactError:Lt}:Ut)}try{const Pt=await i_(Pe);pe(Lt=>Lt&&Lt.runId===Pe?{...Lt,telemetry:Pt,telemetryLoaded:!0}:Lt)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run telemetry.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,telemetryLoaded:!0,telemetryError:Lt}:Ut)}}}}}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="AbortError")return;Et(Fe)}finally{Q.current===nt&&(Q.current=null),ne.current&&ue(null)}})(),He},[j,W,T.isLoading,T.isError,re,be.isPending,Yn,R,J,F,pe,Q,ue,n,ge,Ke,Et]),tu=p.useCallback(()=>{const Z=Ja({validate_only:!0},{mode:"validation"});Z&&be.mutate(void 0,{onSuccess(ae){const He=(ae.issues??[]).map(nt=>({level:"error",message:nt.message,path:nt.path}));F({status:"success",messages:He,lastRunAt:Z,error:null,digest:ae.content_digest??null})},onError(ae){const ke=ae instanceof Error?ae.message:"Validation failed.";F({status:"error",messages:[{level:"error",message:ke}],lastRunAt:Z,error:ke,digest:null})}})},[Ja,be,F]),Or=p.useCallback(Z=>{const ae=Array.from(new Set((Z.sheetNames??[]).filter(Boolean)));Ja({input_document_id:Z.documentId,input_sheet_names:ae.length?ae:void 0,input_sheet_name:ae.length===1?ae[0]:void 0},{mode:"extraction",documentId:Z.documentId,documentName:Z.documentName,sheetNames:ae})&&B(!1)},[Ja]),us=p.useCallback(Z=>{if(Os(),j||!W||T.isLoading||T.isError||re!==null||!Yn())return;const ae=typeof Z?.force=="boolean"?Z.force:je,ke=!!Z?.wait,He=new Date().toISOString();R("console"),J(ae?"Force rebuilding environment":"Starting configuration build");const nt=Fn(new Date);ae?ge({level:"warning",message:"Force rebuild requested. ADE will recreate the environment from scratch.",timestamp:nt}):ke&&ge({level:"info",message:"Waiting for any running build to finish before starting.",timestamp:nt});const Pe=new AbortController;Q.current?.abort(),Q.current=Pe,ue({kind:"build",startedAt:He,metadata:{force:ae,wait:ke}}),(async()=>{try{for await(const Fe of n_(e,n,{force:ae,wait:ke},Pe.signal)){if(ge(d_(Fe)),!ne.current)return;if(Fe.type==="build.completed"){const Ps=Fe.summary?.trim();if(Ps&&/reused/i.test(Ps))ge({level:"info",message:"Environment reused. Hold Shift or open the build menu to force a rebuild.",timestamp:Fn(new Date)}),Ke("Environment already up to date. Hold Shift or use the menu to force rebuild.",{intent:"info"});else{const Ea=Fe.status==="active"?Ps||"Build completed successfully.":Fe.status==="canceled"?"Build canceled.":Fe.error_message?.trim()||"Build failed.",Br=Fe.status==="active"?"success":Fe.status==="canceled"?"info":"danger";Ke(Ea,{intent:Br})}}}}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="AbortError")return;Et(Fe)}finally{Q.current===Pe&&(Q.current=null),ne.current&&ue(null)}})()},[j,W,T.isLoading,T.isError,re,Os,Yn,je,R,J,ge,Q,ue,e,n,Et,Ke]);p.useEffect(()=>{if(typeof window>"u")return;const Z=ae=>{if(!(Gn?ae.metaKey:ae.ctrlKey)||ae.altKey||ae.key.toLowerCase()!=="b")return;const He=ae.target;if(He){const nt=He.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||He.isContentEditable)return}ae.preventDefault(),us({force:ae.shiftKey,source:"shortcut"})};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[us,Gn]),p.useEffect(()=>{if(typeof window>"u")return;const Z=ae=>{if(!(Gn?ae.metaKey:ae.ctrlKey)||ae.altKey||ae.key.toLowerCase()!=="s")return;const He=ae.target;if(He){const nt=He.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||He.isContentEditable)return}Vt&&(ae.preventDefault(),Tn())};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[Gn,Vt,Tn]);const ds=re?.kind==="run"?re.metadata:void 0,An=re?.kind==="run",Yl=re?.kind==="build",Mi=re!==null,Di=An&&ds?.mode==="extraction",Kl=An&&ds?.mode!=="extraction",Lr=H.status==="running"||be.isPending||Kl,nu=!j&&!!W&&!T.isLoading&&!T.isError&&!Mi&&!be.isPending&&H.status!=="running",zn=Di,Ur=!j&&!!W&&!T.isLoading&&!T.isError&&!Mi,Pl=Yl,er=!j&&!!W&&!T.isLoading&&!T.isError&&!Mi,ya=p.useCallback(Z=>{Kt(Z),Z==="explorer"&&oe(ae=>({...ae,collapsed:!1}))},[]),Xl=p.useCallback(Z=>{Z.preventDefault();const ae=Z.currentTarget.getBoundingClientRect();_({x:ae.right+8,y:ae.top})},[]),Jl=p.useCallback(()=>_(null),[]),qs=p.useCallback(()=>{Dt?Yn():Dr()},[Dt,Yn,Dr]),su=p.useCallback(()=>{oe(Z=>({...Z,collapsed:!Z.collapsed}))},[]),eo=p.useCallback(()=>{oe(Z=>({...Z,collapsed:!0}))},[]),to=p.useCallback(()=>{Ee(Z=>({...Z,collapsed:!Z.collapsed}))},[]),Ri=p.useMemo(()=>{const Z=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),ae=I_.map(ke=>({id:`theme-${ke.value}`,label:`${ke.label} theme`,icon:O.preference===ke.value?l.jsx(mc,{}):Z,onSelect:()=>O.setPreference(ke.value)}));return ae.push({id:"toggle-explorer",label:V.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:V.collapsed?Z:l.jsx(mc,{}),onSelect:()=>oe(ke=>({...ke,collapsed:!ke.collapsed}))},{id:"toggle-inspector",label:ve.collapsed?"Show Inspector":"Hide Inspector",icon:ve.collapsed?Z:l.jsx(mc,{}),onSelect:()=>Ee(ke=>({...ke,collapsed:!ke.collapsed}))},{id:"toggle-console",label:Dt?"Show Console":"Hide Console",icon:Dt?Z:l.jsx(mc,{}),onSelect:qs}),ae},[O,V.collapsed,ve.collapsed,Dt,qs]);p.useEffect(()=>{if(typeof document>"u"||!pt)return;const Z=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=Z||""}},[pt]);const au=uC(e),ru=Gn?"S":"Ctrl+S",wa=Gn?"B":"Ctrl+B",Pn=Gn?"B":"Ctrl+Shift+B",zi=p.useMemo(()=>{const Z=!er;return[{id:"build-default",label:"Build / reuse environment",shortcut:wa,disabled:Z,onSelect:()=>us()},{id:"build-force",label:"Force rebuild now",shortcut:Pn,disabled:Z,onSelect:()=>us({force:!0})},{id:"build-force-wait",label:"Force rebuild after current build",disabled:Z,onSelect:()=>us({force:!0,wait:!0})}]},[wa,Pn,er,us]);if(!i&&T.isLoading)return l.jsx(Ct,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&T.isError)return l.jsx(Ct,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!W)return l.jsx(Ct,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Oi=pt?z==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":z==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",Sa=z==="dark"?"#1b1f27":"#ffffff",ja=z==="dark"?"#f5f6fb":"#0f172a",no=pt?xe("fixed inset-0 z-[90] flex flex-col",z==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):xe("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",z==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return l.jsxs("div",{className:xe("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Oi),children:[pt?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:no,children:[l.jsx(Y_,{configName:a,workspaceLabel:au,validationLabel:I,canSaveFiles:Vt,isSavingFiles:Wn,onSaveFile:Tn,saveShortcutLabel:ru,canBuildEnvironment:er,isBuildingEnvironment:Pl,onBuildEnvironment:us,onOpenBuildMenu:Ai,forceModifierActive:je,buildShortcutLabel:wa,forceShortcutLabel:Pn,canRunValidation:nu,isRunningValidation:Lr,onRunValidation:tu,canRunExtraction:Ur,isRunningExtraction:zn,onRunExtraction:()=>{Ur&&B(!0)},explorerVisible:Ls,onToggleExplorer:su,consoleOpen:!Dt,onToggleConsole:qs,inspectorCollapsed:ve.collapsed,onToggleInspector:to,appearance:z,forceNextBuild:te,onToggleForceNextBuild:_n,windowState:c,onMinimizeWindow:Nn,onToggleMaximize:hn,onCloseWindow:Ws}),l.jsxs("div",{ref:at,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(kj,{activeView:rt,onSelectView:ya,onOpenSettings:Xl,appearance:z}),Ls?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:cs},children:rt==="explorer"&&_e.tree?l.jsx(t2,{width:cs,tree:_e.tree,activeFileId:_e.activeTab?.id??"",openFileIds:_e.tabs.map(Z=>Z.id),onSelectFile:Z=>{_e.openFile(Z),N(Z)},theme:z,onCloseFile:_e.closeTab,onCloseOtherFiles:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllFiles:_e.closeAllTabs,onHide:eo}):l.jsx(W_,{width:cs,view:rt})}),l.jsx(xf,{orientation:"vertical",onPointerDown:Z=>{const ae=Z.clientX,ke=cs;yf(Z,{cursor:"col-resize",onMove:He=>{const nt=He.clientX-ae,Pe=Zn(ke+nt,Ns.minPx,Ns.maxPx);oe(Fe=>Fe.collapsed||bn<=0?Fe:{...Fe,fraction:Ys(Pe/bn,Ns)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:Sa,color:ja},children:Dt?l.jsx(Xx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:Z=>{_e.selectTab(Z),N(Z)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:os,onSaveAllTabs:Es,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:O.resolvedTheme,menuAppearance:z,canSaveFiles:Vt,minHeight:mi}):l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Kn>0?`${Kn}px`:void 0,gridTemplateRows:`${Math.max(mi,Wl)}px ${jl}px ${Math.max(0,zr)}px`},children:[l.jsx(Xx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:Z=>{_e.selectTab(Z),N(Z)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:os,onSaveAllTabs:Es,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:O.resolvedTheme,menuAppearance:z,canSaveFiles:Vt,minHeight:mi}),l.jsx(xf,{orientation:"horizontal",onPointerDown:Z=>{jt(!0);const ae=Z.clientY,ke=zr;yf(Z,{cursor:"row-resize",onMove:He=>{if(dt.maxPx<=0||Kn<=0)return;const nt=ae-He.clientY,Pe=Zn(ke+nt,dt.minPx,dt.maxPx);Ne(Zn(Pe/Kn,0,1))},onEnd:()=>{jt(!1)}})}}),l.jsx(Oj,{height:Math.max(0,zr),consoleLines:q,validation:H,activePane:w,onPaneChange:R,latestRun:me})]})}),Us?l.jsxs(l.Fragment,{children:[l.jsx(xf,{orientation:"vertical",onPointerDown:Z=>{const ae=Z.clientX,ke=Ot;yf(Z,{cursor:"col-resize",onMove:He=>{const nt=ae-He.clientX,Pe=Zn(ke+nt,Rn.minPx,Rn.maxPx);Ee(Fe=>Fe.collapsed||bn<=0?Fe:{...Fe,fraction:Ys(Pe/bn,Rn)})}})}}),l.jsx(p2,{width:Ot,file:_e.activeTab??null})]}):null]})]}),Se?l.jsx(K_,{open:Se,workspaceId:e,onClose:()=>B(!1),onRun:Or}):null,l.jsx(Ul,{open:!!C,position:C,onClose:Os,items:zi,appearance:z}),l.jsx(Ul,{open:!!M,position:M,onClose:Jl,items:Ri,appearance:z})]})}function W_({width:e,view:n}){const a=G_[n]||"Coming soon";return l.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:a})}function mc(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function Y_({configName:e,workspaceLabel:n,validationLabel:a,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:f,canBuildEnvironment:m,isBuildingEnvironment:x,onBuildEnvironment:g,onOpenBuildMenu:b,forceNextBuild:y,forceModifierActive:w,buildShortcutLabel:E,forceShortcutLabel:k,canRunValidation:N,isRunningValidation:R,onRunValidation:U,canRunExtraction:j,isRunningExtraction:T,onRunExtraction:W,explorerVisible:q,onToggleExplorer:X,consoleOpen:H,onToggleConsole:F,inspectorCollapsed:Q,onToggleInspector:ne,appearance:re,onToggleForceNextBuild:ue,windowState:me,onMinimizeWindow:pe,onToggleMaximize:Se,onCloseWindow:B}){const J=re==="dark",ge=J?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",be=J?"text-white/60":"text-slate-500",we=J?"bg-white/10 text-white hover:bg-white/20 disabled:bg-white/10 disabled:text-white/40":"bg-slate-100 text-slate-900 hover:bg-slate-200 disabled:bg-slate-50 disabled:text-slate-400",A=J?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",Y=J?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",O=me==="maximized",z=y||w,I=x?"Building":z?"Force rebuild":"Build environment",V=z?`Force rebuild (Shift+Click  ${k})`:`Build environment (${E})`;return l.jsxs("div",{className:xe("flex items-center justify-between border-b px-4 py-2",ge),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(J_,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:xe("text-[10px] font-semibold uppercase tracking-[0.35em]",be),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:xe("text-[11px]",be),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[a?l.jsx("span",{className:xe("text-xs",be),children:a}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:xe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",A),title:`Save (${f})`,children:[c?l.jsx(pc,{}):l.jsx(lC,{}),c?"Saving":"Save"]}),l.jsx(L2,{label:I,icon:x?l.jsx(pc,{}):l.jsx(h0,{}),disabled:!m,isLoading:x,highlight:z&&!x,title:V,primaryClassName:xe(we,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:xe(we,"rounded-l-none px-2",J?"border-white/20":"border-slate-300"),menuAriaLabel:"Open build options",onPrimaryClick:oe=>g({force:oe.shiftKey||oe.altKey||w}),onOpenMenu:oe=>b({x:oe.x,y:oe.y}),onContextMenu:oe=>{oe.preventDefault(),b({x:oe.clientX,y:oe.clientY})}}),l.jsxs("button",{type:"button",onClick:U,disabled:!N,className:xe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",Y),children:[R?l.jsx(pc,{}):l.jsx(m0,{}),R?"Running":"Run validation"]}),l.jsxs("button",{type:"button",onClick:W,disabled:!j,className:xe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",Y),children:[T?l.jsx(pc,{}):l.jsx(m0,{}),T?"Running":"Run extraction"]}),l.jsx(vr,{ariaLabel:y?"Force rebuild enabled for next run":"Force next rebuild",onClick:ue,appearance:re,active:y,icon:l.jsx(h0,{})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vr,{ariaLabel:q?"Hide explorer":"Show explorer",onClick:X,appearance:re,active:q,icon:l.jsx(eC,{active:q})}),l.jsx(vr,{ariaLabel:Q?"Show inspector":"Hide inspector",onClick:ne,appearance:re,active:!Q,icon:l.jsx(nC,{})}),l.jsx(vr,{ariaLabel:H?"Hide console":"Show console",onClick:F,appearance:re,active:H,icon:l.jsx(tC,{})})]}),l.jsxs("div",{className:xe("flex items-center gap-2 border-l pl-3",re==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(vr,{ariaLabel:"Minimize workbench",onClick:pe,appearance:re,icon:l.jsx(rC,{})}),l.jsx(vr,{ariaLabel:O?"Restore workbench":"Maximize workbench",onClick:Se,appearance:re,active:O,icon:O?l.jsx(aC,{}):l.jsx(sC,{})}),l.jsx(vr,{ariaLabel:"Close workbench",onClick:B,appearance:re,icon:l.jsx(iC,{})})]})]})]})}function K_({open:e,workspaceId:n,onClose:a,onRun:i}){const c=p.useRef(null),u=fn({queryKey:["builder-documents",n],queryFn:({signal:T})=>P_(n,T),staleTime:6e4}),f=p.useMemo(()=>u.data??[],[u.data]),[m,x]=p.useState("");p.useEffect(()=>{if(!f.length){x("");return}x(T=>T&&f.some(W=>W.id===T)?T:f[0]?.id??"")},[f]);const g=f.find(T=>T.id===m)??null,b=fn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:T})=>gb(n,m,T),enabled:!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,E]=p.useState([]);p.useEffect(()=>{if(!y.length){E([]);return}E(T=>T.filter(W=>y.some(q=>q.name===W)))},[y]);const k=p.useMemo(()=>Array.from(new Set(w.filter(T=>y.some(W=>W.name===T)))),[w,y]),N=p.useCallback(T=>{E(W=>W.includes(T)?W.filter(q=>q!==T):[...W,T])},[]);if(!e)return null;const R=!g||u.isLoading||u.isError,U=y.length>0,j=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running the extractor."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),u.isError?l.jsx(mt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):f.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(Gs,{id:"builder-run-document-select",value:m,onChange:T=>x(T.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:f.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))}),g?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",X_(g.created_at)," "," ",(g.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(mt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]})]})}):U?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:k.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${k.length.toLocaleString()} worksheet${k.length===1?"":"s"} selected.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(T=>{const W=k.includes(T.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:W,onChange:()=>N(T.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[T.name,T.is_active?" (active)":""]})]},`${T.index}-${T.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(ze,{variant:"ghost",onClick:a,children:"Cancel"}),l.jsx(ze,{onClick:()=>{g&&i({documentId:g.id,documentName:g.name,sheetNames:k.length>0?k:void 0})},disabled:R,children:"Run extraction"})]})]})});return typeof document>"u"?null:ma.createPortal(j,document.body)}async function P_(e,n){const{data:a}=await We.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return a?.items??[]}function X_(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function vr({ariaLabel:e,onClick:n,icon:a,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:xe("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:a})}function J_(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function eC({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function tC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function nC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function sC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function aC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function rC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function iC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function pc(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function h0(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M11 2.5a2.5 2.5 0 0 0-2.62 3.04L4 9.92 6.08 12l4.58-4.38A2.5 2.5 0 0 0 13.5 5 2.5 2.5 0 0 0 11 2.5Z",fill:"currentColor"}),l.jsx("path",{d:"M4 10l2 2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function m0(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function lC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function oC(e){return e instanceof is?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function cC(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function uC(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function p0(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function dC(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const jb=p.createContext(null);function Eb(){const e=p.useContext(jb);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function fC({workspaceId:e,children:n}){const a=En(),i=Ss(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),x=p.useRef(0),g=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Pa(dC(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>vC(i.pathname,e),[i.pathname,e]),k=!!E;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{k||y.set(`${i.pathname}${i.search}${i.hash}`)},[k,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){g.current=null;return}const ne=g.current;if(k&&E===c.configId){if(ne==="dock"){g.current=null,m("minimized");return}ne&&(g.current=null);return}if(ne==="dock"){g.current=null;return}if(ne==="close"){g.current=null;return}u(null),m("restored"),g.current=null},[c,k,E,f]),p.useEffect(()=>{if(!c||!k||E!==c.configId)return;const ne=x0(i.search);ne!==c.editorSearch&&u(re=>!re||re.instanceId!==c.instanceId?re:{...re,editorSearch:ne})},[c,k,E,i.search]);const N=p.useCallback(()=>y.get()??w,[y,w]),R=p.useCallback(ne=>{u(re=>{if(!re)return re;const ue=new URLSearchParams(re.editorSearch),me=typeof ne=="function"?ne(new URLSearchParams(ue)):ne,Se=db(me).toString();return Se===re.editorSearch?re:{...re,editorSearch:Se}})},[]),U=p.useCallback(ne=>{const re=x0(ne.editorSearch??i.search);let ue=f==="minimized";u(me=>{if(me&&me.workspaceId===ne.workspaceId&&me.configId===ne.configId){const pe=ne.seed??me.seed,Se=ne.editorSearch!==void 0?re:me.editorSearch;return me.configName===ne.configName&&me.seed===pe&&me.editorSearch===Se?me:{...me,configName:ne.configName,seed:pe,editorSearch:Se}}return ue=!0,x.current+=1,{...ne,editorSearch:re,instanceId:`${ne.workspaceId}:${ne.configId}:${x.current}`}}),ue&&m("restored")},[i.search,f]),j=p.useCallback(()=>{c&&(u(null),m("restored"),g.current="close",a(N()))},[c,a,N]),T=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),g.current="dock",a(N()))},[c,a,N]),W=p.useCallback(()=>{if(!c)return;m("restored");const ne=bC(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==ne&&a(ne)},[c,a,i.pathname,i.search]),q=p.useCallback(()=>{c&&m("maximized")},[c]),X=p.useCallback(()=>{const ne=b.current;return b.current=!1,ne},[]),H=p.useMemo(()=>({session:c,windowState:f,openSession:U,closeSession:j,minimizeWindow:T,maximizeWindow:q,restoreWindow:W,shouldBypassUnsavedGuard:X}),[c,f,U,j,T,q,W,X]),F=!!c&&(!k||E!==c?.configId),Q=p.useMemo(()=>F&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:R}:null,[F,c,R]);return l.jsxs(jb.Provider,{value:H,children:[n,l.jsx(E2,{value:Q,children:l.jsx(hC,{session:c,windowState:f,onClose:j,onMinimize:T,onMaximize:q,onRestore:W,shouldBypassUnsavedGuard:X})}),c&&f==="minimized"?l.jsx(mC,{configName:c.configName,onRestore:W,onDismiss:j}):null]})}function hC({session:e,windowState:n,onClose:a,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Sb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:a,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function mC({configName:e,onRestore:n,onDismiss:a}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(pC,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(g0,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(gC,{})}),l.jsx(g0,{ariaLabel:"Close minimized workbench",onClick:a,destructive:!0,children:l.jsx(xC,{})})]})]})})})}function g0({ariaLabel:e,onClick:n,children:a,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:xe("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:a})}function pC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function gC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function xC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function vC(e,n){const a=`/workspaces/${n}/config-builder/`;if(!e.startsWith(a))return null;const i=e.slice(a.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function bC(e,n,a){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return a.length>0?`${i}?${a}`:i}function x0(e){return e?e.startsWith("?")?e.slice(1):e:""}function Nb({id:e,value:n,defaultValue:a="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:x,leadingIcon:g,trailingIcon:b,className:y,variant:w="default",isLoading:E=!1,loadingLabel:k="Loading suggestions",filters:N,onSelectFilter:R,emptyState:U,onChange:j,onSubmit:T,onClear:W,onFocus:q,onBlur:X,suggestions:H=[],onSelectSuggestion:F,renderSuggestion:Q}){const ne=p.useId(),re=e??ne,ue=`${ne}-suggestions`,me=p.useRef(null),pe=n!==void 0,[Se,B]=p.useState(a),[J,ge]=p.useState(!1),[be,we]=p.useState(0),A=pe?n??"":Se,Y=H.length>0,O=!!N?.length,z=J&&(Y||E||!!U||O),I=J&&!Y&&!E&&!!U,V=!!(W||!pe),oe=u||"K",ve=c??i;p.useEffect(()=>{pe||B(a)},[a,pe]),p.useEffect(()=>{we(0)},[H.length,A]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Ae=Qe=>{(Qe.metaKey||Qe.ctrlKey)&&Qe.key.toLowerCase()===f.toLowerCase()&&(Qe.preventDefault(),me.current?.focus())};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[m,f]);const Ee=Ae=>{Ae.preventDefault();const Qe=A.trim();!Qe&&!T||T?.(Qe)},G=Ae=>{pe||B(Ae),j?.(Ae)},Ne=()=>{A&&(pe||B(""),j?.(""),W?.(),me.current?.focus())},Ce=Ae=>{Ae&&(F?.(Ae),Ae.action?.(),ge(!1),me.current?.blur())},Be=Ae=>{if(!z||!Y){Ae.key==="Escape"&&(ge(!1),Ae.currentTarget.blur());return}if(Ae.key==="ArrowDown"){Ae.preventDefault(),we(Qe=>(Qe+1)%H.length);return}if(Ae.key==="ArrowUp"){Ae.preventDefault(),we(Qe=>(Qe-1+H.length)%H.length);return}if(Ae.key==="Enter"){Ae.preventDefault(),Ce(H[be]);return}Ae.key==="Escape"&&(Ae.preventDefault(),ge(!1),Ae.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:xe("relative",y),children:[l.jsx("div",{className:xe("group/search overflow-hidden",Oe,z&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":ve,onSubmit:Ee,children:[l.jsx("label",{htmlFor:re,className:"sr-only",children:ve}),g??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(wC,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[x?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:x}):null,l.jsx("input",{ref:me,id:re,type:"search",value:A,onChange:Ae=>G(Ae.target.value),onFocus:()=>{ge(!0),q?.(),Y||we(0)},onBlur:()=>{ge(!1),X?.()},onKeyDown:Be,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":z,"aria-controls":z?ue:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[V&&A?l.jsx("button",{type:"button",onClick:Ne,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(SC,{className:"h-3.5 w-3.5"})}):null,E?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":k,children:l.jsx(jC,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:oe})]})]})}),z?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[Y?l.jsx("ul",{id:ue,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:H.map((Ae,Qe)=>{const at=Qe===be,rt=Q?.({suggestion:Ae,active:at})??l.jsx(yC,{suggestion:Ae,active:at});return l.jsx("li",{children:l.jsx("button",{type:"button",role:"option","aria-selected":at,onMouseEnter:()=>we(Qe),onMouseDown:Kt=>Kt.preventDefault(),onClick:()=>Ce(Ae),className:xe("flex w-full px-5 py-3 text-left transition",at?"bg-brand-50/60":"hover:bg-slate-50/80"),children:rt})},Ae.id)})}):null,I?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:U}):null,O?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),N?.map(Ae=>l.jsx("button",{type:"button",onMouseDown:Qe=>Qe.preventDefault(),onClick:()=>R?.(Ae),className:xe("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ae.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ae.label},Ae.id))]})}):null]}):null]})}function yC({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:xe("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function wC({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function SC({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function jC({className:e="h-4 w-4"}){return l.jsxs("svg",{className:xe("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function _b({brand:e,leading:n,actions:a,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:xe("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:xe("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(Nb,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[a,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Cb({displayName:e,email:n,actions:a=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),x=p.useRef(null),g=En(),b=p.useMemo(()=>EC(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const k=R=>{const U=R.target;U&&(x.current?.contains(U)||m.current?.contains(U)||y())},N=R=>{R.key==="Escape"&&y()};return window.addEventListener("mousedown",k),window.addEventListener("touchstart",k,{passive:!0}),window.addEventListener("keydown",N),()=>{window.removeEventListener("mousedown",k),window.removeEventListener("touchstart",k),window.removeEventListener("keydown",N)}},[y,i]),p.useEffect(()=>{if(!i)return;x.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(k=>{y(),k()},[y]),E=p.useCallback(async()=>{u||(y(),f(!0),g("/logout",{replace:!0}))},[y,u,g]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(k=>!k),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(_C,{className:xe("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:x,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:a.map(k=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(k.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:k.icon??k.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:k.label}),k.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:k.description}):null]})]})},k.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(NC,{}):null]})})]}):null]})}function EC(e){const n=e.split(" ").map(a=>a.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function NC(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function _C({className:e}){return l.jsx("svg",{className:xe("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Rc({to:e,replace:n,className:a,title:i,children:c,onClick:u}){const f=En();return l.jsx("a",{href:e,className:a,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),f(e,{replace:n}))},children:c})}function CC({to:e,end:n,className:a,children:i,title:c,onClick:u}){const{pathname:f}=Ss(),m=n?f===e:f===e||f.startsWith(`${e}/`),x=typeof a=="function"?a({isActive:m}):a,g=typeof i=="function"?i({isActive:m}):i;return l.jsx(Rc,{to:e,className:x,title:c,onClick:u,children:g})}function Ql(e){return function({title:a,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":a?void 0:!0,role:a?"img":"presentation",...i,children:[a?l.jsx("title",{children:a}):null,l.jsx("path",{d:e})]})}}const kC=Ql("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),TC=Ql("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),AC=Ql("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),MC=Ql("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),DC=Ql("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),kb=[{id:"documents",path:"documents",label:"Documents",icon:kC},{id:"jobs",path:"jobs",label:"Jobs",icon:TC},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:AC},{id:"settings",path:"settings",label:"Workspace Settings",icon:MC}],Ka=kb[0];function Tb(e){return kb.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const RC="4.25rem",zC="18.75rem";function OC({workspace:e,collapsed:n,onToggleCollapse:a,items:i,onGoToWorkspaces:c}){const u=i??Tb(e),f=BC(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?RC:zC},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:l.jsxs("div",{className:xe("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:xe("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:xe("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?l.jsx(UC,{}):l.jsx(LC,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Ab,{items:u,collapsed:n})})]})})}function Ab({items:e,collapsed:n=!1,onNavigate:a,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:xe("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(CC,{to:u.href,end:!0,title:n?u.label:void 0,onClick:a,className:({isActive:f})=>xe("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:xe("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:xe("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:xe("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:xe("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function LC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function UC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function BC(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}async function qC(e={}){const{data:n}=await We.GET("/api/v1/system/safe-mode",{signal:e.signal}),a=n??{},i=!!a.enabled,c=typeof a.detail=="string"&&a.detail.trim().length>0?a.detail.trim():Ds;return{enabled:i,detail:c}}async function $C(e,n={}){const{data:a}=await We.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),i=a??{};return{enabled:!!i.enabled,detail:typeof i.detail=="string"&&i.detail.trim().length>0?i.detail.trim():Ds}}const Ds="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.",Mb=["system","safe-mode"];function yh(){return fn({queryKey:Mb,queryFn:({signal:e})=>qC({signal:e}),staleTime:3e4,refetchInterval:6e4})}function ZC(){const e=Tt();return kn({mutationFn:n=>$C(n),onSuccess:()=>{e.invalidateQueries({queryKey:Mb})}})}const HC="K",VC="Ctrl+K";function Db({macLabel:e=HC,windowsLabel:n=VC}={}){const[a,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),a}function FC(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const QC=100;function wh({workspaceId:e,enabled:n=!0,page:a=1,pageSize:i=QC}){return fn({queryKey:gn.list(e,{page:a,pageSize:i}),queryFn:({signal:c})=>$2(e,{page:a,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function IC({workspaceId:e,configId:n,enabled:a=!0}){return fn({queryKey:gn.detail(e,n??""),queryFn:({signal:i})=>n?Z2(e,n,i):Promise.resolve(null),enabled:a&&e.length>0&&!!n,staleTime:1e4})}function GC({workspaceId:e,configId:n,enabled:a=!0}){return fn({queryKey:gn.versions(e,n),queryFn:({signal:i})=>G2(e,n,{signal:i}),enabled:a&&e.length>0&&n.length>0,placeholderData:i=>i??[],staleTime:15e3})}function WC(e){const n=Tt();return kn({mutationFn:a=>I2(e,a),async onSuccess(){await n.invalidateQueries({queryKey:gn.root(e)})}})}function he(e,n,a){function i(m,x){var g;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(g=m._zod).traits??(g.traits=new Set),m._zod.traits.add(e),n(m,x);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=x}const c=a?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var x;const g=a?.Parent?new u:this;i(g,m),(x=g._zod).deferred??(x.deferred=[]);for(const b of g._zod.deferred)b();return g}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>a?.Parent&&m instanceof a.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class wi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Rb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const zb={};function Cr(e){return zb}function YC(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function Vf(e,n){return typeof n=="bigint"?n.toString():n}function Sh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function jh(e){return e==null}function Eh(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}function KC(e,n){const a=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const x=i.match(/\d?e-(\d?)/);x?.[1]&&(c=Number.parseInt(x[1]))}const u=a>c?a:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const v0=Symbol("evaluating");function St(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==v0)return i===void 0&&(i=v0,i=a()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function Ar(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function Mr(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function b0(e){return JSON.stringify(e)}const Ob="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function zc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const PC=Sh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Bl(e){if(zc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(zc(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Lb(e){return Bl(e)?{...e}:Array.isArray(e)?[...e]:e}const XC=new Set(["string","number","symbol"]);function ji(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xa(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a?.parent)&&(i._zod.parent=e),i}function Ue(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function JC(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const ek={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tk(e,n){const a=e._zod.def,i=Mr(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=a.shape[u])}return Ar(this,"shape",c),c},checks:[]});return Xa(e,i)}function nk(e,n){const a=e._zod.def,i=Mr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return Ar(this,"shape",c),c},checks:[]});return Xa(e,i)}function sk(e,n){if(!Bl(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Mr(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Ar(this,"shape",u),u},checks:[]});return Xa(e,c)}function ak(e,n){if(!Bl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Ar(this,"shape",i),i},checks:e._zod.def.checks};return Xa(e,a)}function rk(e,n){const a=Mr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Ar(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Xa(e,a)}function ik(e,n,a){const i=Mr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return Ar(this,"shape",u),u},checks:[]});return Xa(n,i)}function lk(e,n,a){const i=Mr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return Ar(this,"shape",u),u},checks:[]});return Xa(n,i)}function vi(e,n=0){if(e.aborted===!0)return!0;for(let a=n;a<e.issues.length;a++)if(e.issues[a]?.continue!==!0)return!0;return!1}function Ub(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function gc(e){return typeof e=="string"?e:e?.message}function kr(e,n,a){const i={...e,path:e.path??[]};if(!e.message){const c=gc(e.inst?._zod.def?.error?.(e))??gc(n?.error?.(e))??gc(a.customError?.(e))??gc(a.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Nh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ql(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const Bb=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Vf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},_h=he("$ZodError",Bb),Ic=he("$ZodError",Bb,{Parent:Error});function ok(e,n=a=>a.message){const a={},i=[];for(const c of e.issues)c.path.length>0?(a[c.path[0]]=a[c.path[0]]||[],a[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:a}}function ck(e,n=a=>a.message){const a={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let f=a,m=0;for(;m<u.path.length;){const x=u.path[m];m===u.path.length-1?(f[x]=f[x]||{_errors:[]},f[x]._errors.push(n(u))):f[x]=f[x]||{_errors:[]},f=f[x],m++}}};return i(e),a}const Gc=e=>(n,a,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise)throw new wi;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>kr(x,u,Cr())));throw Ob(m,c?.callee),m}return f.value},uk=Gc(Ic),Wc=e=>async(n,a,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>kr(x,u,Cr())));throw Ob(m,c?.callee),m}return f.value},dk=Wc(Ic),Yc=e=>(n,a,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise)throw new wi;return u.issues.length?{success:!1,error:new(e??_h)(u.issues.map(f=>kr(f,c,Cr())))}:{success:!0,data:u.value}},fk=Yc(Ic),Kc=e=>async(n,a,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>kr(f,c,Cr())))}:{success:!0,data:u.value}},hk=Kc(Ic),mk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gc(e)(n,a,c)},pk=e=>(n,a,i)=>Gc(e)(n,a,i),gk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wc(e)(n,a,c)},xk=e=>async(n,a,i)=>Wc(e)(n,a,i),vk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Yc(e)(n,a,c)},bk=e=>(n,a,i)=>Yc(e)(n,a,i),yk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Kc(e)(n,a,c)},wk=e=>async(n,a,i)=>Kc(e)(n,a,i),Sk=/^[cC][^\s-]{8,}$/,jk=/^[0-9a-z]+$/,Ek=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Nk=/^[0-9a-vA-V]{20}$/,_k=/^[A-Za-z0-9]{27}$/,Ck=/^[a-zA-Z0-9_-]{21}$/,kk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Tk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Ak=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Mk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Dk(){return new RegExp(Mk,"u")}const Rk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Ok=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Lk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Uk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qb=/^[A-Za-z0-9_-]*$/,Bk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,qk=/^\+(?:[0-9]){6,14}[0-9]$/,$b="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$k=new RegExp(`^${$b}$`);function Zb(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Zk(e){return new RegExp(`^${Zb(e)}$`)}function Hk(e){const n=Zb({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${$b}T(?:${i})$`)}const Vk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},Fk=/^-?\d+$/,Qk=/^-?\d+(?:\.\d+)?/,Ik=/^(?:true|false)$/i,Gk=/^[^A-Z]*$/,Wk=/^[^a-z]*$/,In=he("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),Hb={number:"number",bigint:"bigint",object:"date"},Vb=he("$ZodCheckLessThan",(e,n)=>{In.init(e,n);const a=Hb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Fb=he("$ZodCheckGreaterThan",(e,n)=>{In.init(e,n);const a=Hb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Yk=he("$ZodCheckMultipleOf",(e,n)=>{In.init(e,n),e._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):KC(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:e,continue:!n.abort})}}),Kk=he("$ZodCheckNumberFormat",(e,n)=>{In.init(e,n),n.format=n.format||"float64";const a=n.format?.includes("int"),i=a?"int":"number",[c,u]=ek[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,a&&(m.pattern=Fk)}),e._zod.check=f=>{const m=f.value;if(a){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),Pk=he("$ZodCheckMaxLength",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!jh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=Nh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Xk=he("$ZodCheckMinLength",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!jh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=Nh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Jk=he("$ZodCheckLengthEquals",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!jh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=Nh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),Pc=he("$ZodCheckStringFormat",(e,n)=>{var a,i;In.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),eT=he("$ZodCheckRegex",(e,n)=>{Pc.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),tT=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=Gk),Pc.init(e,n)}),nT=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=Wk),Pc.init(e,n)}),sT=he("$ZodCheckIncludes",(e,n)=>{In.init(e,n);const a=ji(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),aT=he("$ZodCheckStartsWith",(e,n)=>{In.init(e,n);const a=new RegExp(`^${ji(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),rT=he("$ZodCheckEndsWith",(e,n)=>{In.init(e,n);const a=new RegExp(`.*${ji(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),iT=he("$ZodCheckOverwrite",(e,n)=>{In.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class lT{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,a=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...a,c.join(`
`))}}const oT={major:4,minor:1,patch:12},Zt=he("$ZodType",(e,n)=>{var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=oT;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,x)=>{let g=vi(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(g)continue;const w=f.issues.length,E=y._zod.check(f);if(E instanceof Promise&&x?.async===!1)throw new wi;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,f.issues.length!==w&&(g||(g=vi(f,w)))});else{if(f.issues.length===w)continue;g||(g=vi(f,w))}}return b?b.then(()=>f):f},u=(f,m,x)=>{if(vi(f))return f.aborted=!0,f;const g=c(m,i,x);if(g instanceof Promise){if(x.async===!1)throw new wi;return g.then(b=>e._zod.parse(b,x))}return e._zod.parse(g,x)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const g=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return g instanceof Promise?g.then(b=>u(b,f,m)):u(g,f,m)}const x=e._zod.parse(f,m);if(x instanceof Promise){if(m.async===!1)throw new wi;return x.then(g=>c(g,i,m))}return c(x,i,m)}}e["~standard"]={validate:c=>{try{const u=fk(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return hk(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),Ch=he("$ZodString",(e,n)=>{Zt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Vk(e._zod.bag),e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),At=he("$ZodStringFormat",(e,n)=>{Pc.init(e,n),Ch.init(e,n)}),cT=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=Tk),At.init(e,n)}),uT=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=y0(i))}else n.pattern??(n.pattern=y0());At.init(e,n)}),dT=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=Ak),At.init(e,n)}),fT=he("$ZodURL",(e,n)=>{At.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Bk.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=c.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),hT=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=Dk()),At.init(e,n)}),mT=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=Ck),At.init(e,n)}),pT=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=Sk),At.init(e,n)}),gT=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=jk),At.init(e,n)}),xT=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=Ek),At.init(e,n)}),vT=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=Nk),At.init(e,n)}),bT=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=_k),At.init(e,n)}),yT=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Hk(n)),At.init(e,n)}),wT=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=$k),At.init(e,n)}),ST=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=Zk(n)),At.init(e,n)}),jT=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=kk),At.init(e,n)}),ET=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=Rk),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv4"})}),NT=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=zk),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),_T=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=Ok),At.init(e,n)}),CT=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=Lk),At.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function Qb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const kT=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=Uk),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{Qb(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function TT(e){if(!qb.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return Qb(a)}const AT=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=qb),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{TT(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),MT=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=qk),At.init(e,n)});function DT(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const RT=he("$ZodJWT",(e,n)=>{At.init(e,n),e._zod.check=a=>{DT(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),Ib=he("$ZodNumber",(e,n)=>{Zt.init(e,n),e._zod.pattern=e._zod.bag.pattern??Qk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const c=a.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return a;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),a}}),zT=he("$ZodNumber",(e,n)=>{Kk.init(e,n),Ib.init(e,n)}),OT=he("$ZodBoolean",(e,n)=>{Zt.init(e,n),e._zod.pattern=Ik,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const c=a.value;return typeof c=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),a}}),LT=he("$ZodUnknown",(e,n)=>{Zt.init(e,n),e._zod.parse=a=>a}),UT=he("$ZodNever",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function w0(e,n,a){e.issues.length&&n.issues.push(...Ub(a,e.issues)),n.value[a]=e.value}const BT=he("$ZodArray",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value;if(!Array.isArray(c))return a.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),a;a.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],x=n.element._zod.run({value:m,issues:[]},i);x instanceof Promise?u.push(x.then(g=>w0(g,a,f))):w0(x,a,f)}return u.length?Promise.all(u).then(()=>a):a}});function Oc(e,n,a,i){e.issues.length&&n.issues.push(...Ub(a,e.issues)),e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function Gb(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const a=JC(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function Wb(e,n,a,i,c,u){const f=[],m=c.keySet,x=c.catchall._zod,g=x.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(g==="never"){f.push(b);continue}const y=x.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>Oc(w,a,b,n))):Oc(y,a,b,n)}return f.length&&a.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const qT=he("$ZodObject",(e,n)=>{if(Zt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const x={...m};return Object.defineProperty(n,"shape",{value:x}),x}})}const i=Sh(()=>Gb(n));St(e._zod,"propValues",()=>{const m=n.shape,x={};for(const g in m){const b=m[g]._zod;if(b.values){x[g]??(x[g]=new Set);for(const y of b.values)x[g].add(y)}}return x});const c=zc,u=n.catchall;let f;e._zod.parse=(m,x)=>{f??(f=i.value);const g=m.value;if(!c(g))return m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const k=y[w]._zod.run({value:g[w],issues:[]},x);k instanceof Promise?b.push(k.then(N=>Oc(N,m,w,g))):Oc(k,m,w,g)}return u?Wb(b,g,m,x,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),$T=he("$ZodObjectJIT",(e,n)=>{qT.init(e,n);const a=e._zod.parse,i=Sh(()=>Gb(n)),c=w=>{const E=new lT(["shape","payload","ctx"]),k=i.value,N=T=>{const W=b0(T);return`shape[${W}]._zod.run({ value: input[${W}], issues: [] }, ctx)`};E.write("const input = payload.value;");const R=Object.create(null);let U=0;for(const T of k.keys)R[T]=`key_${U++}`;E.write("const newResult = {};");for(const T of k.keys){const W=R[T],q=b0(T);E.write(`const ${W} = ${N(T)};`),E.write(`
        if (${W}.issues.length) {
          payload.issues = payload.issues.concat(${W}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        
        if (${W}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${W}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const j=E.compile();return(T,W)=>j(w,T,W)};let u;const f=zc,m=!zb.jitless,g=m&&PC.value,b=n.catchall;let y;e._zod.parse=(w,E)=>{y??(y=i.value);const k=w.value;return f(k)?m&&g&&E?.async===!1&&E.jitless!==!0?(u||(u=c(n.shape)),w=u(w,E),b?Wb([],k,w,E,y,e):w):a(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),w)}});function S0(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!vi(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(f=>kr(f,i,Cr())))}),n)}const ZT=he("$ZodUnion",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),St(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),St(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),St(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>Eh(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(a)return i(c,u);let f=!1;const m=[];for(const x of n.options){const g=x._zod.run({value:c.value,issues:[]},u);if(g instanceof Promise)m.push(g),f=!0;else{if(g.issues.length===0)return g;m.push(g)}}return f?Promise.all(m).then(x=>S0(x,c,e,u)):S0(m,c,e,u)}}),HT=he("$ZodIntersection",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([x,g])=>j0(a,x,g)):j0(a,u,f)}});function Ff(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Bl(e)&&Bl(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=Ff(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=Ff(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};a.push(f.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function j0(e,n,a){if(n.issues.length&&e.issues.push(...n.issues),a.issues.length&&e.issues.push(...a.issues),vi(e))return e;const i=Ff(n.value,a.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const VT=he("$ZodEnum",(e,n)=>{Zt.init(e,n);const a=YC(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(c=>XC.has(typeof c)).map(c=>typeof c=="string"?ji(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:a,input:f,inst:e}),c}}),FT=he("$ZodLiteral",(e,n)=>{if(Zt.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(a=>typeof a=="string"?ji(a):a?ji(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,i)=>{const c=a.value;return e._zod.values.has(c)||a.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),a}}),QT=he("$ZodTransform",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Rb(e.constructor.name);const c=n.transform(a.value,a);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(a.value=f,a));if(c instanceof Promise)throw new wi;return a.value=c,a}});function E0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const IT=he("$ZodOptional",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",St(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),St(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Eh(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>E0(u,a.value)):E0(c,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),GT=he("$ZodNullable",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),St(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Eh(a.source)}|null)$`):void 0}),St(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),WT=he("$ZodDefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>N0(u,n)):N0(c,n)}});function N0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const YT=he("$ZodPrefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),KT=he("$ZodNonOptional",(e,n)=>{Zt.init(e,n),St(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>_0(u,e)):_0(c,e)}});function _0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const PT=he("$ZodCatch",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(f=>kr(f,i,Cr()))},input:a.value}),a.issues=[]),a)):(a.value=c.value,c.issues.length&&(a.value=n.catchValue({...a,error:{issues:c.issues.map(u=>kr(u,i,Cr()))},input:a.value}),a.issues=[]),a)}}),XT=he("$ZodPipe",(e,n)=>{Zt.init(e,n),St(e._zod,"values",()=>n.in._zod.values),St(e._zod,"optin",()=>n.in._zod.optin),St(e._zod,"optout",()=>n.out._zod.optout),St(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(f=>xc(f,n.in,i)):xc(u,n.in,i)}const c=n.in._zod.run(a,i);return c instanceof Promise?c.then(u=>xc(u,n.out,i)):xc(c,n.out,i)}});function xc(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const JT=he("$ZodReadonly",(e,n)=>{Zt.init(e,n),St(e._zod,"propValues",()=>n.innerType._zod.propValues),St(e._zod,"values",()=>n.innerType._zod.values),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(C0):C0(c)}});function C0(e){return e.value=Object.freeze(e.value),e}const e5=he("$ZodCustom",(e,n)=>{In.init(e,n),Zt.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>k0(u,a,i,e));k0(c,a,i,e)}});function k0(e,n,a,i){if(!e){const c={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(ql(c))}}class t5{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function n5(){return new t5}const vc=n5();function s5(e,n){return new e({type:"string",...Ue(n)})}function a5(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ue(n)})}function T0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ue(n)})}function r5(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ue(n)})}function i5(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ue(n)})}function l5(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ue(n)})}function o5(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ue(n)})}function c5(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ue(n)})}function u5(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ue(n)})}function d5(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ue(n)})}function f5(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ue(n)})}function h5(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ue(n)})}function m5(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ue(n)})}function p5(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ue(n)})}function g5(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ue(n)})}function x5(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ue(n)})}function v5(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ue(n)})}function b5(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ue(n)})}function y5(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ue(n)})}function w5(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ue(n)})}function S5(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ue(n)})}function j5(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ue(n)})}function E5(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ue(n)})}function N5(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ue(n)})}function _5(e,n){return new e({type:"string",format:"date",check:"string_format",...Ue(n)})}function C5(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ue(n)})}function k5(e,n){return new e({type:"string",format:"duration",check:"string_format",...Ue(n)})}function T5(e,n){return new e({type:"number",checks:[],...Ue(n)})}function A5(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ue(n)})}function M5(e,n){return new e({type:"boolean",...Ue(n)})}function D5(e){return new e({type:"unknown"})}function R5(e,n){return new e({type:"never",...Ue(n)})}function A0(e,n){return new Vb({check:"less_than",...Ue(n),value:e,inclusive:!1})}function Sf(e,n){return new Vb({check:"less_than",...Ue(n),value:e,inclusive:!0})}function M0(e,n){return new Fb({check:"greater_than",...Ue(n),value:e,inclusive:!1})}function jf(e,n){return new Fb({check:"greater_than",...Ue(n),value:e,inclusive:!0})}function D0(e,n){return new Yk({check:"multiple_of",...Ue(n),value:e})}function Yb(e,n){return new Pk({check:"max_length",...Ue(n),maximum:e})}function Lc(e,n){return new Xk({check:"min_length",...Ue(n),minimum:e})}function Kb(e,n){return new Jk({check:"length_equals",...Ue(n),length:e})}function z5(e,n){return new eT({check:"string_format",format:"regex",...Ue(n),pattern:e})}function O5(e){return new tT({check:"string_format",format:"lowercase",...Ue(e)})}function L5(e){return new nT({check:"string_format",format:"uppercase",...Ue(e)})}function U5(e,n){return new sT({check:"string_format",format:"includes",...Ue(n),includes:e})}function B5(e,n){return new aT({check:"string_format",format:"starts_with",...Ue(n),prefix:e})}function q5(e,n){return new rT({check:"string_format",format:"ends_with",...Ue(n),suffix:e})}function Il(e){return new iT({check:"overwrite",tx:e})}function $5(e){return Il(n=>n.normalize(e))}function Z5(){return Il(e=>e.trim())}function H5(){return Il(e=>e.toLowerCase())}function V5(){return Il(e=>e.toUpperCase())}function F5(e,n,a){return new e({type:"array",element:n,...Ue(a)})}function Q5(e,n,a){return new e({type:"custom",check:"custom",fn:n,...Ue(a)})}function I5(e){const n=G5(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(ql(i,a.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=a.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),a.issues.push(ql(c))}},e(a.value,a)));return n}function G5(e,n){const a=new In({check:"custom",...Ue(n)});return a._zod.check=e,a}const W5=he("ZodISODateTime",(e,n)=>{yT.init(e,n),zt.init(e,n)});function Y5(e){return N5(W5,e)}const K5=he("ZodISODate",(e,n)=>{wT.init(e,n),zt.init(e,n)});function P5(e){return _5(K5,e)}const X5=he("ZodISOTime",(e,n)=>{ST.init(e,n),zt.init(e,n)});function J5(e){return C5(X5,e)}const eA=he("ZodISODuration",(e,n)=>{jT.init(e,n),zt.init(e,n)});function tA(e){return k5(eA,e)}const nA=(e,n)=>{_h.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>ck(e,a)},flatten:{value:a=>ok(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,Vf,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,Vf,2)}},isEmpty:{get(){return e.issues.length===0}}})},js=he("ZodError",nA,{Parent:Error}),sA=Gc(js),aA=Wc(js),rA=Yc(js),iA=Kc(js),lA=mk(js),oA=pk(js),cA=gk(js),uA=xk(js),dA=vk(js),fA=bk(js),hA=yk(js),mA=wk(js),Yt=he("ZodType",(e,n)=>(Zt.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(Mr(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(a,i)=>Xa(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>sA(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>rA(e,a,i),e.parseAsync=async(a,i)=>aA(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>iA(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>lA(e,a,i),e.decode=(a,i)=>oA(e,a,i),e.encodeAsync=async(a,i)=>cA(e,a,i),e.decodeAsync=async(a,i)=>uA(e,a,i),e.safeEncode=(a,i)=>dA(e,a,i),e.safeDecode=(a,i)=>fA(e,a,i),e.safeEncodeAsync=async(a,i)=>hA(e,a,i),e.safeDecodeAsync=async(a,i)=>mA(e,a,i),e.refine=(a,i)=>e.check(l4(a,i)),e.superRefine=a=>e.check(o4(a)),e.overwrite=a=>e.check(Il(a)),e.optional=()=>B0(e),e.nullable=()=>q0(e),e.nullish=()=>B0(q0(e)),e.nonoptional=a=>e4(e,a),e.array=()=>Xc(e),e.or=a=>HA([e,a]),e.and=a=>FA(e,a),e.transform=a=>$0(e,WA(a)),e.default=a=>PA(e,a),e.prefault=a=>JA(e,a),e.catch=a=>n4(e,a),e.pipe=a=>$0(e,a),e.readonly=()=>r4(e),e.describe=a=>{const i=e.clone();return vc.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){return vc.get(e)?.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return vc.get(e);const i=e.clone();return vc.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Pb=he("_ZodString",(e,n)=>{Ch.init(e,n),Yt.init(e,n);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(z5(...i)),e.includes=(...i)=>e.check(U5(...i)),e.startsWith=(...i)=>e.check(B5(...i)),e.endsWith=(...i)=>e.check(q5(...i)),e.min=(...i)=>e.check(Lc(...i)),e.max=(...i)=>e.check(Yb(...i)),e.length=(...i)=>e.check(Kb(...i)),e.nonempty=(...i)=>e.check(Lc(1,...i)),e.lowercase=i=>e.check(O5(i)),e.uppercase=i=>e.check(L5(i)),e.trim=()=>e.check(Z5()),e.normalize=(...i)=>e.check($5(...i)),e.toLowerCase=()=>e.check(H5()),e.toUpperCase=()=>e.check(V5())}),pA=he("ZodString",(e,n)=>{Ch.init(e,n),Pb.init(e,n),e.email=a=>e.check(a5(gA,a)),e.url=a=>e.check(c5(xA,a)),e.jwt=a=>e.check(E5(DA,a)),e.emoji=a=>e.check(u5(vA,a)),e.guid=a=>e.check(T0(R0,a)),e.uuid=a=>e.check(r5(bc,a)),e.uuidv4=a=>e.check(i5(bc,a)),e.uuidv6=a=>e.check(l5(bc,a)),e.uuidv7=a=>e.check(o5(bc,a)),e.nanoid=a=>e.check(d5(bA,a)),e.guid=a=>e.check(T0(R0,a)),e.cuid=a=>e.check(f5(yA,a)),e.cuid2=a=>e.check(h5(wA,a)),e.ulid=a=>e.check(m5(SA,a)),e.base64=a=>e.check(w5(TA,a)),e.base64url=a=>e.check(S5(AA,a)),e.xid=a=>e.check(p5(jA,a)),e.ksuid=a=>e.check(g5(EA,a)),e.ipv4=a=>e.check(x5(NA,a)),e.ipv6=a=>e.check(v5(_A,a)),e.cidrv4=a=>e.check(b5(CA,a)),e.cidrv6=a=>e.check(y5(kA,a)),e.e164=a=>e.check(j5(MA,a)),e.datetime=a=>e.check(Y5(a)),e.date=a=>e.check(P5(a)),e.time=a=>e.check(J5(a)),e.duration=a=>e.check(tA(a))});function $t(e){return s5(pA,e)}const zt=he("ZodStringFormat",(e,n)=>{At.init(e,n),Pb.init(e,n)}),gA=he("ZodEmail",(e,n)=>{dT.init(e,n),zt.init(e,n)}),R0=he("ZodGUID",(e,n)=>{cT.init(e,n),zt.init(e,n)}),bc=he("ZodUUID",(e,n)=>{uT.init(e,n),zt.init(e,n)}),xA=he("ZodURL",(e,n)=>{fT.init(e,n),zt.init(e,n)}),vA=he("ZodEmoji",(e,n)=>{hT.init(e,n),zt.init(e,n)}),bA=he("ZodNanoID",(e,n)=>{mT.init(e,n),zt.init(e,n)}),yA=he("ZodCUID",(e,n)=>{pT.init(e,n),zt.init(e,n)}),wA=he("ZodCUID2",(e,n)=>{gT.init(e,n),zt.init(e,n)}),SA=he("ZodULID",(e,n)=>{xT.init(e,n),zt.init(e,n)}),jA=he("ZodXID",(e,n)=>{vT.init(e,n),zt.init(e,n)}),EA=he("ZodKSUID",(e,n)=>{bT.init(e,n),zt.init(e,n)}),NA=he("ZodIPv4",(e,n)=>{ET.init(e,n),zt.init(e,n)}),_A=he("ZodIPv6",(e,n)=>{NT.init(e,n),zt.init(e,n)}),CA=he("ZodCIDRv4",(e,n)=>{_T.init(e,n),zt.init(e,n)}),kA=he("ZodCIDRv6",(e,n)=>{CT.init(e,n),zt.init(e,n)}),TA=he("ZodBase64",(e,n)=>{kT.init(e,n),zt.init(e,n)}),AA=he("ZodBase64URL",(e,n)=>{AT.init(e,n),zt.init(e,n)}),MA=he("ZodE164",(e,n)=>{MT.init(e,n),zt.init(e,n)}),DA=he("ZodJWT",(e,n)=>{RT.init(e,n),zt.init(e,n)}),Xb=he("ZodNumber",(e,n)=>{Ib.init(e,n),Yt.init(e,n),e.gt=(i,c)=>e.check(M0(i,c)),e.gte=(i,c)=>e.check(jf(i,c)),e.min=(i,c)=>e.check(jf(i,c)),e.lt=(i,c)=>e.check(A0(i,c)),e.lte=(i,c)=>e.check(Sf(i,c)),e.max=(i,c)=>e.check(Sf(i,c)),e.int=i=>e.check(z0(i)),e.safe=i=>e.check(z0(i)),e.positive=i=>e.check(M0(0,i)),e.nonnegative=i=>e.check(jf(0,i)),e.negative=i=>e.check(A0(0,i)),e.nonpositive=i=>e.check(Sf(0,i)),e.multipleOf=(i,c)=>e.check(D0(i,c)),e.step=(i,c)=>e.check(D0(i,c)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});function RA(e){return T5(Xb,e)}const zA=he("ZodNumberFormat",(e,n)=>{zT.init(e,n),Xb.init(e,n)});function z0(e){return A5(zA,e)}const OA=he("ZodBoolean",(e,n)=>{OT.init(e,n),Yt.init(e,n)});function O0(e){return M5(OA,e)}const LA=he("ZodUnknown",(e,n)=>{LT.init(e,n),Yt.init(e,n)});function L0(){return D5(LA)}const UA=he("ZodNever",(e,n)=>{UT.init(e,n),Yt.init(e,n)});function BA(e){return R5(UA,e)}const qA=he("ZodArray",(e,n)=>{BT.init(e,n),Yt.init(e,n),e.element=n.element,e.min=(a,i)=>e.check(Lc(a,i)),e.nonempty=a=>e.check(Lc(1,a)),e.max=(a,i)=>e.check(Yb(a,i)),e.length=(a,i)=>e.check(Kb(a,i)),e.unwrap=()=>e.element});function Xc(e,n){return F5(qA,e,n)}const $A=he("ZodObject",(e,n)=>{$T.init(e,n),Yt.init(e,n),St(e,"shape",()=>n.shape),e.keyof=()=>QA(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:L0()}),e.loose=()=>e.clone({...e._zod.def,catchall:L0()}),e.strict=()=>e.clone({...e._zod.def,catchall:BA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>sk(e,a),e.safeExtend=a=>ak(e,a),e.merge=a=>rk(e,a),e.pick=a=>tk(e,a),e.omit=a=>nk(e,a),e.partial=(...a)=>ik(Jb,e,a[0]),e.required=(...a)=>lk(ey,e,a[0])});function pa(e,n){const a={type:"object",shape:e??{},...Ue(n)};return new $A(a)}const ZA=he("ZodUnion",(e,n)=>{ZT.init(e,n),Yt.init(e,n),e.options=n.options});function HA(e,n){return new ZA({type:"union",options:e,...Ue(n)})}const VA=he("ZodIntersection",(e,n)=>{HT.init(e,n),Yt.init(e,n)});function FA(e,n){return new VA({type:"intersection",left:e,right:n})}const Qf=he("ZodEnum",(e,n)=>{VT.init(e,n),Yt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(a.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Qf({...n,checks:[],...Ue(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(a.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new Qf({...n,checks:[],...Ue(c),entries:u})}});function QA(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Qf({type:"enum",entries:a,...Ue(n)})}const IA=he("ZodLiteral",(e,n)=>{FT.init(e,n),Yt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function U0(e,n){return new IA({type:"literal",values:Array.isArray(e)?e:[e],...Ue(n)})}const GA=he("ZodTransform",(e,n)=>{QT.init(e,n),Yt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Rb(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(ql(u,a.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=a.value),f.inst??(f.inst=e),a.issues.push(ql(f))}};const c=n.transform(a.value,a);return c instanceof Promise?c.then(u=>(a.value=u,a)):(a.value=c,a)}});function WA(e){return new GA({type:"transform",transform:e})}const Jb=he("ZodOptional",(e,n)=>{IT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function B0(e){return new Jb({type:"optional",innerType:e})}const YA=he("ZodNullable",(e,n)=>{GT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function q0(e){return new YA({type:"nullable",innerType:e})}const KA=he("ZodDefault",(e,n)=>{WT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function PA(e,n){return new KA({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Lb(n)}})}const XA=he("ZodPrefault",(e,n)=>{YT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function JA(e,n){return new XA({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Lb(n)}})}const ey=he("ZodNonOptional",(e,n)=>{KT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function e4(e,n){return new ey({type:"nonoptional",innerType:e,...Ue(n)})}const t4=he("ZodCatch",(e,n)=>{PT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function n4(e,n){return new t4({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const s4=he("ZodPipe",(e,n)=>{XT.init(e,n),Yt.init(e,n),e.in=n.in,e.out=n.out});function $0(e,n){return new s4({type:"pipe",in:e,out:n})}const a4=he("ZodReadonly",(e,n)=>{JT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function r4(e){return new a4({type:"readonly",innerType:e})}const i4=he("ZodCustom",(e,n)=>{e5.init(e,n),Yt.init(e,n)});function l4(e,n={}){return Q5(i4,e,n)}function o4(e){return I5(e)}const c4=pa({key:$t(),label:$t(),path:$t(),ordinal:RA().int(),required:O0().optional(),enabled:O0().optional(),depends_on:Xc($t()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),Z0=pa({path:$t()}).strict();pa({name:$t(),files_hash:$t().default(""),columns:Xc(c4).default([]),table:pa({transform:Z0.nullable().optional(),validators:Z0.nullable().optional()}).partial().optional()}).passthrough();function ty(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const a=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),x=i.get(m);if(x===void 0){i.set(m,a.length),a.push(f);continue}a[x]=f}}return a},[e,n])}async function u4(e,n,a){const i={};n.status&&n.status!=="all"&&(i.status=n.status),n.inputDocumentId&&(i.input_document_id=n.inputDocumentId),typeof n.limit=="number"&&(i.limit=n.limit),typeof n.offset=="number"&&(i.offset=n.offset);const{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/jobs",{params:{path:{workspace_id:e},query:i},signal:a});return c??[]}async function d4(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/jobs/{job_id}",{params:{path:{workspace_id:e,job_id:n}},signal:a});if(!i)throw new Error("Job not found");return i}async function f4(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/jobs/{job_id}/outputs",{params:{path:{workspace_id:e,job_id:n}},signal:a});if(!i)throw new Error("Job outputs unavailable");return i}async function h4(e,n,a){const i=await fetch(`/api/v1/workspaces/${encodeURIComponent(e)}/jobs/${encodeURIComponent(n)}/artifact`,{headers:{Accept:"application/json"},signal:a});if(!i.ok)throw new Error("Job artifact unavailable");return await i.json()}async function m4(e,n,a){const i=await fetch(`/api/v1/workspaces/${encodeURIComponent(e)}/jobs/${encodeURIComponent(n)}/logs`,{headers:{Accept:"application/x-ndjson"},signal:a});if(!i.ok)throw new Error("Job telemetry unavailable");return(await i.text()).split(/\r?\n/).filter(Boolean).map(u=>{try{return JSON.parse(u)}catch(f){return console.warn("Skipping invalid job telemetry line",{error:f,line:u}),null}}).filter(u=>!!u)}const ny={all:e=>["workspace-jobs",e],list:(e,n)=>[...ny.all(e),"list",n]},sy={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},p4=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Tl="mine",Sr={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function g4(e){return e&&Object.keys(Sr).includes(e)?e:Tl}function x4(e){if(!e)return new Set;const a=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(a)}function v4(e){return new Set(p4).has(e??"")?e:"-created_at"}const ay=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ei={all:()=>["documents"],workspace:e=>[...Ei.all(),e],list:(e,n,a)=>[...Ei.workspace(e),"list",{sort:n,uploader:a}]},ry=50;function b4(){const{workspace:e}=ga(),n=Tr(),[a,i]=bh(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=g4(a.get("view")),[f,m]=p.useState(u),[x,g]=p.useState(()=>{const ye=a.get("status");if(ye)return x4(ye);const Te=Sr[u].presetStatuses??[];return new Set(Te)}),[b,y]=p.useState(()=>{const ye=a.get("sort");return ye?v4(ye):Sr[u].presetSort??"-created_at"}),[w,E]=p.useState(a.get("q")??""),[k,N]=p.useState(w.trim()),R=p.useMemo(()=>Array.from(x),[x]),j=Sr[f].uploader??null,T=p.useRef(null),[W,q]=p.useState(new Set),X=p.useMemo(()=>new Set(W),[W]),H=p.useMemo(()=>Array.from(X),[X]),F=X.size,Q=w4(e.id),ne=S4(e.id),re=yh(),ue=re.data?.enabled??!1,me=re.data?.detail??Ds,pe=re.isPending,[Se,B]=p.useState(null),[J,ge]=p.useState(null),[be,we]=p.useState(null),A=Q.isPending,Y=ne.isPending,O=y4(e.id,{sort:b,uploader:j}),{refetch:z}=O,I=p.useCallback(ye=>ye.id,[]),V=ty(O.data?.pages,I),oe=p.useMemo(()=>{const ye=k.toLowerCase(),Te=j==="me"?n.user.id:null,Ze=j==="me"?n.user.email??null:null;return V.filter(Ke=>{if(R.length>0&&!R.includes(Ke.status))return!1;if(j==="me"){const it=Ke.uploader_id??Ke.uploader?.id??null,Et=Ke.uploader?.email??null;if(Te&&it&&it!==Te||!it&&Ze&&Et&&Et!==Ze)return!1}return!(ye&&!`${Ke.name??""} ${Ke.source??""}`.toLowerCase().includes(ye))})},[k,V,n.user.email,n.user.id,R,j]),ve=O.isFetchingNextPage,Ee=O.isFetching&&!ve,G=oe.length;p.useEffect(()=>{const ye=a.get("q")??"";E(Ze=>Ze===ye?Ze:ye);const Te=ye.trim();N(Ze=>Ze===Te?Ze:Te)},[a]),p.useEffect(()=>{const ye=new URLSearchParams;x.size>0&&ye.set("status",Array.from(x).join(",")),b!=="-created_at"&&ye.set("sort",b),k&&ye.set("q",k),f!==Tl&&ye.set("view",f),c.current(ye,{replace:!0})},[x,b,k,f]),p.useEffect(()=>{const ye=window.setTimeout(()=>N(w.trim()),250);return()=>window.clearTimeout(ye)},[w]),p.useEffect(()=>{q(ye=>{if(ye.size===0)return ye;const Te=new Set,Ze=new Set(oe.map(it=>it.id));let Ke=!1;for(const it of ye)Ze.has(it)?Te.add(it):Ke=!0;return Ke?Te:ye})},[oe]);const Ne=p.useMemo(()=>{for(const ye of oe)if(X.has(ye.id))return ye;return null},[oe,X]),Ce=p.useCallback(ye=>{const Te=Sr[ye];m(ye),g(new Set(Te.presetStatuses??[])),y(Te.presetSort??"-created_at"),E(""),N("")},[]),Be=p.useCallback(ye=>{g(Te=>{const Ze=new Set(Te);return Ze.has(ye)?Ze.delete(ye):Ze.add(ye),Ze})},[]),Oe=p.useCallback(()=>{g(new Set)},[]);p.useEffect(()=>{const ye=Te=>{if((Te.metaKey||Te.ctrlKey)&&Te.key.toLowerCase()==="u"){Te.preventDefault(),T.current?.click();return}(Te.key==="Delete"||Te.key==="Backspace")&&F>0&&(Te.preventDefault(),C())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[F]);const Ae=p.useCallback(ye=>sy[ye]??ye,[]),Qe=p.useCallback(ye=>l.jsx(I4,{document:ye}),[]),at=p.useCallback(()=>{T.current?.click()},[]),rt=p.useCallback(async ye=>{if(ye.length){B(null);try{await Q.mutateAsync({files:ye})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to upload documents.";B({tone:"error",message:Ze})}}},[Q]),Kt=async ye=>{const Te=Array.from(ye.target.files??[]);await rt(Te),ye.target.value=""},M=ye=>{q(Te=>{const Ze=new Set(Te);return Ze.has(ye)?Ze.delete(ye):Ze.add(ye),Ze})},_=()=>{q(ye=>{if(oe.length===0)return new Set;const Te=oe.map(Ze=>Ze.id);return ye.size===oe.length&&Te.every(Ze=>ye.has(Ze))?new Set:new Set(Te)})},C=p.useCallback(async()=>{const ye=H;if(ye.length){B(null);try{await ne.mutateAsync({documentIds:ye}),q(new Set)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete documents.";B({tone:"error",message:Ze})}}},[ne,H]),ie=p.useCallback(async ye=>{B(null);try{await ne.mutateAsync({documentIds:[ye.id]}),q(Te=>{const Ze=new Set(Te);return Ze.delete(ye.id),Ze})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete document.";B({tone:"error",message:Ze})}},[ne]),te=p.useCallback(async ye=>{try{ge(ye.id);const{blob:Te,filename:Ze}=await _4(e.id,ye.id);K4(Te,Ze??ye.name)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to download document.";B({tone:"error",message:Ze})}finally{ge(null)}},[e.id]),ce=p.useCallback(ye=>{we(ye)},[]),je=p.useCallback(()=>{z()},[z]),qe=p.useCallback(ye=>{B({tone:"error",message:ye})},[]),Ve=()=>{m(Tl),E(""),N(""),g(new Set),y("-created_at")},jt=f===Tl&&x.size===0&&b==="-created_at"&&!k;return l.jsxs(l.Fragment,{children:[l.jsx(H4,{workspaceName:e.name??void 0,disabled:A,onFiles:async ye=>{await rt(ye)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:T,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Kt}),l.jsx(k4,{workspaceName:e.name,totalDocuments:G,view:f,onChangeView:Ce,sort:b,onSort:y,onReset:Ve,isFetching:O.isFetching,isDefault:jt,onUploadClick:at,uploadDisabled:A,selectedStatuses:x,onToggleStatus:Be,onClearStatuses:Oe}),Se?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:Se.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:O.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(V4,{})}):O.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):oe.length===0?l.jsx("div",{className:"p-6",children:l.jsx(Q4,{onUploadClick:at})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(M4,{documents:oe,selectedIds:X,onToggleDocument:M,onToggleAll:_,disableSelection:Ee||Y||Q.isPending,disableRowActions:ne.isPending,formatStatusLabel:Ae,onDeleteDocument:ie,onDownloadDocument:te,onRunDocument:ce,downloadingId:J,renderJobStatus:Qe,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe})}),O.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>O.fetchNextPage(),disabled:ve,children:ve?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(F4,{count:F,onClear:()=>q(new Set),onRun:()=>{Ne&&!ue&&!pe&&ce(Ne)},onDelete:C,busy:Y,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe}),l.jsx($4,{open:!!be,workspaceId:e.id,documentRecord:be,onClose:()=>we(null),onRunSuccess:je,onRunError:qe,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe})]})}function y4(e,n){const a=n.sort.trim()||null;return ah({queryKey:Ei.list(e,a,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>N4(e,{sort:a,page:typeof i=="number"?i:1,pageSize:ry},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function w4(e){const n=Tt();return kn({mutationFn:async({files:a})=>{const i=Array.from(a);for(const c of i)await We.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ei.workspace(e)})}})}function S4(e){const n=Tt();return kn({mutationFn:async({documentIds:a})=>{await Promise.all(a.map(i=>We.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ei.workspace(e)})}})}function j4(e){const n=Tt();return kn({mutationFn:async a=>{const{data:i}=await We.POST("/api/v1/workspaces/{workspace_id}/jobs",{params:{path:{workspace_id:e}},body:a});if(!i)throw new Error("Expected job payload.");return i},onSuccess:()=>{n.invalidateQueries({queryKey:Ei.workspace(e)})}})}function E4(e,n){const a=p.useMemo(()=>Pa(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>H0(a,n));p.useEffect(()=>{c(H0(a,n))},[a,n]);const u=p.useCallback(f=>{c(f);const m=a.get()??{};a.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId,sheetNames:f.sheetNames&&f.sheetNames.length>0?[...f.sheetNames]:null}})},[a,n]);return{preferences:i,setPreferences:u}}async function N4(e,n,a){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:ry,include_total:!1},{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:a});if(!c)throw new Error("Expected document page payload.");return c}async function _4(e,n){const{data:a,response:i}=await We.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected document download payload.");const c=C4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:a,filename:c}}function C4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function H0(e,n){const a=e.get();if(a&&typeof a=="object"&&n in a){const i=a[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const f=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,configVersionId:i.configVersionId??null,sheetNames:f}}}return{configId:null,configVersionId:null,sheetNames:null}}function k4({workspaceName:e,totalDocuments:n,view:a,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:x,onUploadClick:g,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}){const k=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:k})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:f,disabled:x,className:xe("rounded border border-transparent px-3 py-1 text-sm font-medium",x?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(ze,{className:"shrink-0",onClick:g,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(T4,{view:a,onChange:i}),l.jsx(A4,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}),l.jsxs(Gs,{value:c,onChange:N=>u(N.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:xe("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function T4({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Sr).map(a=>{const i=Sr[a],c=a===e;return l.jsx("button",{type:"button",onClick:()=>n(a),className:xe("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},a)})})}function A4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:a}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(sy),m=e.size>0,x=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const g=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",g),()=>window.removeEventListener("mousedown",g)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(g=>!g),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",x,l.jsx(B4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{a(),c(!1)},className:xe("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([g,b])=>{const y=e.has(g);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(g),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},g)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function M4({documents:e,selectedIds:n,onToggleDocument:a,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:x,onRunDocument:g,downloadingId:b=null,renderJobStatus:y,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:k=!1}){const N=p.useRef(null),{allSelected:R,someSelected:U}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const j=e.reduce((T,W)=>n.has(W.id)?T+1:T,0);return{allSelected:j===e.length,someSelected:j>0&&j<e.length}},[e,n]);return p.useEffect(()=>{N.current&&(N.current.indeterminate=U)},[U]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:N,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:R,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(j=>{const T=n.has(j.id);return l.jsxs("tr",{className:xe("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",T?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:T,onChange:()=>a(j.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:j.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:j.name,children:j.name}),l.jsx("div",{className:"text-xs text-slate-500",children:R4(j)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:j.created_at,className:"block text-xs text-slate-600",title:ay.format(new Date(j.created_at)),children:U4(j)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:j.uploader?.name??j.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(j):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:xe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",L4(j.status)),children:f?f(j.status):j.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(D4,{document:j,onDownload:x,onDelete:m,onRun:g,disabled:u,downloading:b===j.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:k})})]},j.id)})})]})})}function D4({document:e,onDownload:n,onDelete:a,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=c||!i||f||x,b=f?m??Ds:x?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(ze,{type:"button",size:"sm",variant:"primary",onClick:()=>{g||i?.(e)},disabled:g,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:xe("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>a?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function R4(e){const n=[];return e.content_type&&n.push(z4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(O4(e.byte_size)),n.join("  ")||"Unknown type"}function z4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function O4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a>=10?Math.round(a):Math.round(a*10)/10} ${n[i]}`}function L4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function U4(e){return ay.format(new Date(e.created_at))}function B4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function q4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:xe("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function $4({open:e,workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?g.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(g.current?.focus(),g.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!a?null:ma.createPortal(l.jsx(Z4,{workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:x}),window.document.body)}function Z4({workspaceId:e,documentRecord:n,onClose:a,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const x=p.useRef(null),g=p.useId(),b=p.useId(),y=wh({workspaceId:e}),[w,E]=p.useState(""),[k,N]=p.useState(""),R=j4(e),{preferences:U,setPreferences:j}=E4(e,n.id),[T,W]=p.useState(n.last_run?.job_id??null);p.useEffect(()=>{W(n.last_run?.job_id??null)},[n.id,n.last_run?.job_id]);const q=p.useMemo(()=>y.data?.items??[],[y.data]),X=p.useMemo(()=>q.filter(_=>!("deleted_at"in _&&_.deleted_at)),[q]),H=p.useMemo(()=>{if(U.configId){const _=X.find(C=>C.config_id===U.configId);if(_)return _.config_id}return X[0]?.config_id??""},[U.configId,X]);p.useEffect(()=>{E(H)},[H]);const F=GC({workspaceId:e,configId:w,enabled:!!w}),Q=p.useMemo(()=>F.data??[],[F.data]),ne=p.useMemo(()=>X.find(_=>_.config_id===w)??null,[X,w]),re=p.useMemo(()=>Q.find(_=>_.config_version_id===k)??null,[Q,k]),ue=p.useMemo(()=>W2(Q),[Q]),me=p.useMemo(()=>Y2(Q),[Q]),pe=p.useMemo(()=>{if(!w)return"";if(U.configId===w&&U.configVersionId){const _=Q.find(C=>C.config_version_id===U.configVersionId);if(_)return _.config_version_id}return ue?ue.config_version_id:me?me.config_version_id:Q[0]?.config_version_id??""},[ue,me,U.configId,U.configVersionId,w,Q]);p.useEffect(()=>{N(pe)},[pe]);const Se=p.useCallback(_=>{const C=typeof _.status=="string"?_.status:"draft";return`${_.title??_.display_name??"Untitled configuration"} (${C.charAt(0).toUpperCase()}${C.slice(1)})`},[]),B=p.useCallback(_=>{const C=_.status==="active"?"Active":_.status==="published"?"Published":_.status==="inactive"?"Inactive":"Draft";return`v${_.semver??""} (${C})`},[]),[J,ge]=p.useState(null),be=f??Ds,we=fn({queryKey:["job",e,T],queryFn:({signal:_})=>T?d4(e,T,_):Promise.reject(new Error("No job selected")),enabled:!!T,refetchInterval:_=>{const C=_.state.data?.status;return C==="running"||C==="queued"?2e3:!1}}),A=fn({queryKey:["job-outputs",e,T],queryFn:({signal:_})=>T?f4(e,T,_):Promise.reject(new Error("No job selected")),enabled:!!T&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),Y=fn({queryKey:["job-artifact",e,T],queryFn:({signal:_})=>T?h4(e,T,_):Promise.reject(new Error("No job selected")),enabled:!!T&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),O=fn({queryKey:["job-telemetry",e,T],queryFn:({signal:_})=>T?m4(e,T,_):Promise.reject(new Error("No job selected")),enabled:!!T&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),z=fn({queryKey:["document-sheets",e,n.id],queryFn:({signal:_})=>gb(e,n.id,_),staleTime:6e4}),I=p.useMemo(()=>z.data??[],[z.data]),[V,oe]=p.useState([]);p.useEffect(()=>{if(!I.length){oe([]);return}const _=(U.sheetNames??[]).filter(ie=>I.some(te=>te.name===ie)),C=Array.from(new Set(_));oe(C)},[I,U.sheetNames]);const ve=p.useMemo(()=>Array.from(new Set(V.filter(_=>I.some(C=>C.name===_)))),[V,I]);p.useEffect(()=>{!ne||!k||j({configId:ne.config_id,configVersionId:k,sheetNames:ve.length?ve:null})},[ve,ne,k,j]);const Ee=p.useCallback(_=>{oe(C=>C.includes(_)?C.filter(ie=>ie!==_):[...C,_])},[]),Ne=(we.data??null)?.status??null,Ce=Ne==="running"||Ne==="queued",Be=T?`/api/v1/workspaces/${encodeURIComponent(e)}/jobs/${encodeURIComponent(T)}`:null,Oe=A.data?.files??[],Ae=Y.data??null,Qe=O.data??[];p.useEffect(()=>{const _=x.current;if(!_)return;(V0(_)[0]??_).focus();const ie=te=>{if(te.key==="Escape"){te.preventDefault(),a();return}if(te.key!=="Tab")return;const ce=V0(_);if(ce.length===0){te.preventDefault();return}const je=ce[0],qe=ce[ce.length-1],Ve=window.document.activeElement;if(te.shiftKey){(!_.contains(Ve)||Ve===je)&&(te.preventDefault(),qe.focus());return}Ve===qe&&(te.preventDefault(),je.focus())};return _.addEventListener("keydown",ie),()=>_.removeEventListener("keydown",ie)},[a]);const at=X.length>0,rt=R.isPending||Ce||m||u||!at||!k,Kt=u?be:m?"Checking ADE safe mode status...":void 0,M=()=>{if(u||m)return;if(!ne||!re||!k){ge("Select a configuration before running the extractor.");return}ge(null),W(null);const _=ve,C=_.length>0?{dry_run:!1,validate_only:!1,input_sheet_names:_}:{dry_run:!1,validate_only:!1};R.mutate({input_document_id:n.id,config_version_id:k,options:C},{onSuccess:ie=>{j({configId:ne.config_id,configVersionId:k,sheetNames:_.length?_:null}),i?.(ie),W(ie.id)},onError:ie=>{const te=ie instanceof Error?ie.message:"Unable to submit extraction job.";ge(te),c?.(te)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:a}),l.jsxs("aside",{ref:x,role:"dialog","aria-modal":"true","aria-labelledby":g,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:g,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing job."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,disabled:R.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(mt,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):at?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Gs,{value:w,onChange:_=>{const C=_.target.value;E(C),N("")},disabled:R.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),X.map(_=>l.jsx("option",{value:_.config_id,children:Se(_)},_.config_id))]}),w?F.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading versions"}):F.isError?l.jsxs(mt,{tone:"danger",children:["Unable to load configuration versions."," ",F.error instanceof Error?F.error.message:"Try again later."]}):Q.length>0?l.jsxs(Gs,{value:k,onChange:_=>N(_.target.value),disabled:R.isPending,children:[l.jsx("option",{value:"",children:"Select version"}),Q.map(_=>l.jsx("option",{value:_.config_version_id,children:B(_)},_.config_version_id))]}):l.jsx(mt,{tone:"info",children:"No versions available for this configuration."}):null]}):l.jsx(mt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),z.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):z.isError?l.jsx(mt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>z.refetch(),disabled:z.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>oe([]),disabled:R.isPending,children:"Use all worksheets"})]})]})}):I.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:ve.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${ve.length.toLocaleString()} worksheet${ve.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>oe([]),disabled:R.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:I.map(_=>{const C=ve.includes(_.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:C,onChange:()=>Ee(_.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[_.name,_.is_active?" (active)":""]})]},`${_.index}-${_.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),T?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:T,children:["Job ",T]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",Ne??"loading"]})]}),Ce?l.jsx(q4,{className:"h-4 w-4 text-slate-500"}):null]}),l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[l.jsx("a",{href:Be?`${Be}/artifact`:void 0,className:xe("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Be&&!Ce?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":Ce||!Be,children:"Download artifact"}),l.jsx("a",{href:Be?`${Be}/logs`:void 0,className:xe("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Be?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":!Be,children:"Download telemetry"})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),A.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):Oe.length>0?l.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:Oe.map(_=>l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:Be?`${Be}/outputs/${_.path.split("/").map(encodeURIComponent).join("/")}`:void 0,className:"text-emerald-700 hover:underline","aria-disabled":!Be,children:_.path}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[_.byte_size.toLocaleString()," bytes"]})]},_.path))}):l.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Artifact summary"}),Y.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading artifact"}):Y.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load artifact."}):Ae?l.jsx($v,{artifact:Ae}):l.jsx("p",{className:"text-xs text-slate-500",children:"Artifact not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),O.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):O.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):Qe.length>0?l.jsx(Zv,{events:Qe}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(mt,{tone:"warning",children:be}):null,J?l.jsx(mt,{tone:"danger",children:J}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:a,disabled:R.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",onClick:M,isLoading:R.isPending,disabled:rt,title:Kt,children:"Run extraction"})]})]})]})}function H4({onFiles:e,disabled:n,workspaceName:a}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},x=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},g=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",x),window.addEventListener("drop",g),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",x),window.removeEventListener("drop",g)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:xe("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:a??"this workspace"})]})]})]})})})]})}function V4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function F4({count:e,onClear:n,onRun:a,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const x=c||u||m,g=u?f??Ds:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(ze,{size:"sm",onClick:()=>!x&&a(),disabled:x,title:g,children:"Run extraction"}),l.jsx(ze,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function Q4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(ze,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function I4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:xe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",G4(n.status)),children:[W4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:Y4(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function G4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function W4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function Y4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const a=n.getTime()-Date.now(),i=Math.round(a/1e3);if(Math.abs(i)<60)return pi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return pi.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return pi.format(m,"hour");const g=Math.round(m/24);if(Math.abs(g)<30)return pi.format(g,"day");const b=Math.round(g/30);if(Math.abs(b)<12)return pi.format(b,"month");const y=Math.round(g/365);return pi.format(y,"year")}function K4(e,n){const a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(a),1e3)}function V0(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(a=>!a.hasAttribute("disabled")&&a.getAttribute("aria-hidden")!=="true")}function P4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}const If={succeeded:"Succeeded",failed:"Failed",running:"Running",queued:"Queued",cancelled:"Cancelled"},X4={succeeded:"bg-success-100 text-success-700",failed:"bg-rose-100 text-rose-700",running:"bg-brand-50 text-brand-700",queued:"bg-slate-100 text-slate-700",cancelled:"bg-slate-200 text-slate-700"},F0=[{value:"24h",label:"Last 24 hours",durationMs:1440*60*1e3},{value:"7d",label:"Last 7 days",durationMs:10080*60*1e3},{value:"30d",label:"Last 30 days",durationMs:720*60*60*1e3},{value:"all",label:"All time",durationMs:null},{value:"custom",label:"Custom range",durationMs:null}],J4=[{value:"recent",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"duration_desc",label:"Longest duration"}],Ef=100;function eM(){const{workspace:e}=ga(),[n,a]=p.useState(new Set),[i,c]=p.useState("7d"),[u,f]=p.useState("recent"),[m,x]=p.useState(""),[g,b]=p.useState({start:"",end:""}),y=n.size===1?Array.from(n)[0]:null,w=ah({queryKey:ny.list(e.id,{status:y??"all"}),initialPageParam:0,queryFn:({pageParam:j,signal:T})=>u4(e.id,{status:y,limit:Ef,offset:j},T),getNextPageParam:(j,T)=>j.length===Ef?T.length*Ef:void 0,enabled:!!e.id,staleTime:3e4}),E=p.useMemo(()=>(w.data?.pages??[]).flat(),[w.data?.pages]),k=p.useMemo(()=>{const j=Date.now(),T=m.trim().toLowerCase(),W=F0.find(F=>F.value===i),q=W?.value==="custom"?null:W?.durationMs??null;let X=g.start?new Date(g.start).getTime():null,H=g.end?new Date(g.end).getTime():null;return X&&H&&X>H&&([X,H]=[H,X]),E.filter(F=>{if(n.size>0&&!n.has(F.status))return!1;if(i==="custom"){const Q=Fs(F);if(X&&Q<X||H&&Q>H)return!1}else if(q){const Q=Fs(F);if(j-Q>q)return!1}return!(T&&!nM(F).includes(T))}).sort((F,Q)=>{switch(u){case"oldest":return Fs(F)-Fs(Q);case"duration_desc":return yc(Q)-yc(F);case"recent":default:return Fs(Q)-Fs(F)}})},[E,n,i,u,m,g]),N=j=>{a(T=>{const W=new Set(T);return W.has(j)?W.delete(j):W.add(j),W})},R=()=>{a(new Set),c("7d"),f("recent"),x(""),b({start:"",end:""})},U=()=>{if(k.length===0)return;const j=k.map(F=>[F.id,Gf(F)??"",Wf(F),Yf(F)??"",F.status,Nf(Fs(F)),Nf(iy(F)),(yc(F)/1e3).toFixed(1),F.error_message??""]),W=[["Job ID","Document","Config","Triggered by","Status","Started","Finished","Duration (s)","Error message"],...j].map(F=>F.map(Q=>`"${String(Q).replace(/"/g,'""')}"`).join(",")).join(`
`),q=new Blob([W],{type:"text/csv"}),X=URL.createObjectURL(q),H=document.createElement("a");H.href=X,H.download=`jobs-${new Date().toISOString()}.csv`,H.click(),setTimeout(()=>URL.revokeObjectURL(X),1e3)};return l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Jobs"}),l.jsxs("h1",{className:"text-lg font-semibold text-slate-900 sm:text-xl",children:[e.name??"Workspace"," jobs"]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Review previous runs, filter by status, and export job history."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:U,disabled:k.length===0,children:"Export CSV"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:R,children:"Reset filters"})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[l.jsx(tM,{selected:n,onToggle:N}),l.jsx(Gs,{value:i,onChange:j=>c(j.target.value),className:"w-48",children:F0.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),i==="custom"?l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:[l.jsxs("label",{className:"flex flex-col gap-1",children:["Start",l.jsx("input",{type:"datetime-local",value:g.start,onChange:j=>b(T=>({...T,start:j.target.value})),className:"rounded-lg border border-slate-200 px-2 py-1 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),l.jsxs("label",{className:"flex flex-col gap-1",children:["End",l.jsx("input",{type:"datetime-local",value:g.end,onChange:j=>b(T=>({...T,end:j.target.value})),className:"rounded-lg border border-slate-200 px-2 py-1 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})]})]}):null,l.jsx(Gs,{value:u,onChange:j=>f(j.target.value),className:"w-48",children:J4.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),l.jsx("div",{className:"flex-1 min-w-[220px]",children:l.jsx("input",{type:"search",placeholder:"Search jobs by ID, document, or config",value:m,onChange:j=>x(j.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})})]})]}),l.jsx("div",{className:"rounded-xl border border-slate-200 bg-white",children:w.isError?l.jsx("div",{className:"py-16",children:l.jsx(Ct,{variant:"error",title:"Unable to load jobs",description:"We couldnt fetch job history right now. Try reloading the page."})}):w.isLoading?l.jsx("div",{className:"py-16 text-center text-sm text-slate-500",children:"Loading jobs"}):k.length===0?l.jsx("div",{className:"py-16 text-center",children:l.jsx("p",{className:"text-sm text-slate-500",children:"No jobs match the current filters."})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"bg-slate-50 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left",children:"Job ID"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Document"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Config"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Triggered by"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Started"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Duration"}),l.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),l.jsx("tbody",{children:k.map(j=>{const T=Gf(j),W=Wf(j),q=Yf(j),X=j.status;return l.jsxs("tr",{className:"border-t border-slate-100",children:[l.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-500",children:j.id}),l.jsxs("td",{className:"px-3 py-2",children:[l.jsx("p",{className:"truncate font-semibold text-slate-900",children:T??""}),l.jsx("p",{className:"text-xs text-slate-500",children:Array.isArray(j.input_documents)?`${j.input_documents?.length??0} document(s)`:""})]}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("p",{className:"truncate text-slate-800",children:W})}),l.jsx("td",{className:"px-3 py-2 text-slate-600",children:q??""}),l.jsx("td",{className:"px-3 py-2 text-slate-600",children:l.jsx("time",{dateTime:new Date(Fs(j)).toISOString(),children:Nf(Fs(j))})}),l.jsx("td",{className:"px-3 py-2 text-slate-600",children:sM(yc(j))}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("span",{className:xe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",X4[X]??"bg-slate-200 text-slate-700"),children:If[X]??X})})]},j.id)})})]})}),w.hasNextPage?l.jsx("div",{className:"border-t border-slate-200 bg-slate-50/60 px-3 py-2 text-center",children:l.jsx(ze,{variant:"ghost",onClick:()=>w.fetchNextPage(),disabled:w.isFetchingNextPage,isLoading:w.isFetchingNextPage,children:"Load more jobs"})}):null]})})]})}function tM({selected:e,onToggle:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(If).map(a=>{const i=e.has(a);return l.jsx("button",{type:"button",onClick:()=>n(a),className:xe("rounded-full px-3 py-1 text-xs font-medium",i?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),children:If[a]},a)})})}function Gf(e){const n=e.input_documents;if(!Array.isArray(n)||n.length===0)return null;const a=n[0];return a?a.display_name??a.name??a.original_filename??a.id??null:null}function Wf(e){const n=e.config_version;return n?n.title??n.semver??n.config_version_id??"":e.config_title??e.config_id??""}function Yf(e){const n=e.submitted_by_user;return n?n.display_name??n.email??null:e.submitted_by??null}function nM(e){return[e.id,Gf(e),Wf(e),Yf(e),e.status,e.error_message,e.summary].filter(Boolean).join(" ").toLowerCase()}function Fs(e){const n=e.started_at??e.queued_at??e.created_at??(e.created?e.created*1e3:null);return typeof n=="string"?new Date(n).getTime():typeof n=="number"?n:Date.now()}function iy(e){const n=e.completed_at??e.cancelled_at??e.updated_at;return typeof n=="string"?new Date(n).getTime():typeof n=="number"?n:Date.now()}function yc(e){const n=Fs(e),a=iy(e);return!n||!a?0:Math.max(0,a-n)}function sM(e){if(e<=0)return"";const n=Math.round(e/100)/10;if(n<60)return`${n.toFixed(1)}s`;const a=Math.floor(n/60),i=Math.round(n%60);return`${a}m ${i}s`}function Nf(e){return e?new Date(e).toLocaleString():""}function Wt({label:e,hint:n,error:a,required:i=!1,children:c,className:u}){const f=p.useId(),m=p.isValidElement(c)?c.props??{}:{},x=m.id??f,g=n?`${x}-hint`:void 0,b=a?`${x}-error`:void 0,y=[g,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:xe("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:x,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:x,required:i||m.required,"aria-describedby":y,"aria-invalid":a?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:g,className:"text-xs text-slate-500",children:n}):null,a?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:a}):null]})}const ly="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",an=p.forwardRef(({className:e,invalid:n=!1,...a},i)=>l.jsx("input",{ref:i,className:xe(ly,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...a}));an.displayName="Input";const oy=p.forwardRef(({className:e,invalid:n=!1,rows:a=4,...i},c)=>l.jsx("textarea",{ref:c,rows:a,className:xe(ly,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));oy.displayName="TextArea";const _f=[{value:"default",label:"Default template"}],aM=e=>`ade.ui.workspace.${e}.config-builder.last`,Cf=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function rM(){const{workspace:e}=ga(),n=En(),a=p.useMemo(()=>Pa(aM(e.id)),[e.id]),i=wh({workspaceId:e.id}),c=WC(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,x]=p.useState(_f[0]?.value??"default"),[g,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(j=>!("deleted_at"in j&&j.deleted_at)),[i.data]),w=p.useMemo(()=>a.get(),[a]),E=j=>{a.set({configId:j}),n(Cf(e.id,j))},k=j=>{a.set({configId:j}),n(`${Cf(e.id,j)}/editor`)},N=j=>{j.preventDefault();const T=u.trim();if(!T){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:T,source:{type:"template",templateId:m}},{onSuccess(W){a.set({configId:W.config_id}),n(Cf(e.id,W.config_id))}})},R=g??(c.error instanceof Error?c.error.message:null),U=u.trim().length>0&&!c.isPending;return i.isLoading?l.jsx(Ct,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?l.jsx(Ct,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?l.jsx(Ct,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("form",{onSubmit:N,className:"space-y-4 text-left",children:[l.jsx(Wt,{label:"Configuration name",required:!0,children:l.jsx(an,{value:u,onChange:j=>f(j.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),l.jsx(Wt,{label:"Template",children:l.jsx(Gs,{value:m,onChange:j=>x(j.target.value),disabled:c.isPending,children:_f.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})}),R?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>E(w.configId),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(j=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:j.display_name}),l.jsx(iM,{status:j.status}),w?.configId===j.config_id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(j.updated_at).toLocaleString(),"  Active version"," ",("active_version"in j?j.active_version:null)??j.config_version??""]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>E(j.config_id),children:"View details"}),l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>k(j.config_id),children:"Open editor"})]})]},j.config_id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsx(Wt,{label:"Configuration name",required:!0,children:l.jsx(an,{value:u,onChange:j=>f(j.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),l.jsx(Wt,{label:"Template",children:l.jsx(Gs,{value:m,onChange:j=>x(j.target.value),disabled:c.isPending,children:_f.map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})}),R?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})]})]})}function iM({status:e}){const n=e.toLowerCase(),a=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${a}`,children:e})}function lM({params:e}={}){const{workspace:n}=ga(),a=En(),i=e?.configId,c=wh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.config_id===i),[c.data,i]);return i?c.isLoading?l.jsx(Ct,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),l.jsx(ze,{variant:"secondary",onClick:()=>a(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.config_id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:u.config_id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),l.jsx("dd",{className:"text-sm text-slate-700",children:("active_version"in u?u.active_version:null)??u.config_version??""})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(Ct,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(Ct,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function oM({params:e}={}){const{workspace:n}=ga(),{session:a,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:x,shouldBypassUnsavedGuard:g}=Eb(),b=e?.configId,y=IC({workspaceId:n.id,configId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const R=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${R}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return l.jsx(Ct,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=a&&a.configId===b?a:null,E=!!(w&&i==="minimized"),k=!!(w&&i==="restored"),N=!!(w&&i==="maximized");return k&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Sb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:x,onCloseWorkbench:u,shouldBypassUnsavedGuard:g})}):N?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Ct,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Ct,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Ct,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var Gl=e=>e.type==="checkbox",jr=e=>e instanceof Date,Vn=e=>e==null;const cy=e=>typeof e=="object";var rn=e=>!Vn(e)&&!Array.isArray(e)&&cy(e)&&!jr(e),cM=e=>rn(e)&&e.target?Gl(e.target)?e.target.checked:e.target.value:e,uM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dM=(e,n)=>e.has(uM(n)),fM=e=>{const n=e.constructor&&e.constructor.prototype;return rn(n)&&n.hasOwnProperty("isPrototypeOf")},kh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(kh&&(e instanceof Blob||i))&&(a||rn(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!fM(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=pn(e[c]));else return e;return n}var Jc=e=>/^\w*$/.test(e),Gt=e=>e===void 0,Th=e=>Array.isArray(e)?e.filter(Boolean):[],Ah=e=>Th(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,n,a)=>{if(!n||!rn(e))return a;const i=(Jc(n)?[n]:Ah(n)).reduce((c,u)=>Vn(c)?c:c[u],e);return Gt(i)||i===e?Gt(e[n])?a:e[n]:i},Qs=e=>typeof e=="boolean",wt=(e,n,a)=>{let i=-1;const c=Jc(n)?[n]:Ah(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let x=a;if(i!==f){const g=e[m];x=rn(g)||Array.isArray(g)?g:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const Q0={BLUR:"blur",FOCUS_OUT:"focusout"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hM=bt.createContext(null);hM.displayName="HookFormContext";var mM=(e,n,a,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==As.all&&(n._proxyFormState[f]=!i||As.all),e[f]}});return c};const pM=typeof window<"u"?bt.useLayoutEffect:bt.useEffect;var rs=e=>typeof e=="string",gM=(e,n,a,i,c)=>rs(e)?(i&&n.watch.add(e),De(a,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),De(a,u))):(i&&(n.watchAll=!0),a),Kf=e=>Vn(e)||!cy(e);function Wa(e,n,a=new WeakSet){if(Kf(e)||Kf(n))return e===n;if(jr(e)&&jr(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(jr(f)&&jr(m)||rn(f)&&rn(m)||Array.isArray(f)&&Array.isArray(m)?!Wa(f,m,a):f!==m)return!1}}return!0}var Mh=(e,n,a,i,c)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:c||!0}}:{},Al=e=>Array.isArray(e)?e:[e],I0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function uy(e,n){const a={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&rn(c)&&u){const f=uy(c,u);rn(f)&&(a[i]=f)}else e[i]&&(a[i]=u)}return a}var Hn=e=>rn(e)&&!Object.keys(e).length,Dh=e=>e.type==="file",Ms=e=>typeof e=="function",Uc=e=>{if(!kh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},dy=e=>e.type==="select-multiple",Rh=e=>e.type==="radio",xM=e=>Rh(e)||Gl(e),kf=e=>Uc(e)&&e.isConnected;function vM(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Gt(e)?i++:e[n[i++]];return e}function bM(e){for(const n in e)if(e.hasOwnProperty(n)&&!Gt(e[n]))return!1;return!0}function nn(e,n){const a=Array.isArray(n)?n:Jc(n)?[n]:Ah(n),i=a.length===1?e:vM(e,a),c=a.length-1,u=a[c];return i&&delete i[u],c!==0&&(rn(i)&&Hn(i)||Array.isArray(i)&&bM(i))&&nn(e,a.slice(0,-1)),e}var yM=e=>{for(const n in e)if(Ms(e[n]))return!0;return!1};function fy(e){return Array.isArray(e)||rn(e)&&!yM(e)}function Pf(e,n={}){for(const a in e)fy(e[a])?(n[a]=Array.isArray(e[a])?[]:{},Pf(e[a],n[a])):Gt(e[a])||(n[a]=!0);return n}function xi(e,n,a){a||(a=Pf(n));for(const i in e)fy(e[i])?Gt(n)||Kf(a[i])?a[i]=Pf(e[i],Array.isArray(e[i])?[]:{}):xi(e[i],Vn(n)?{}:n[i],a[i]):a[i]=!Wa(e[i],n[i]);return a}const G0={value:!1,isValid:!1},W0={value:!0,isValid:!0};var hy=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?W0:{value:e[0].value,isValid:!0}:W0:G0}return G0},my=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Gt(e)?e:n?e===""?NaN:e&&+e:a&&rs(e)?new Date(e):i?i(e):e;const Y0={isValid:!1,value:null};var py=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,Y0):Y0;function K0(e){const n=e.ref;return Dh(n)?n.files:Rh(n)?py(e.refs).value:dy(n)?[...n.selectedOptions].map(({value:a})=>a):Gl(n)?hy(e.refs).value:my(Gt(n.value)?e.ref.value:n.value,e)}var wM=(e,n,a,i)=>{const c={};for(const u of e){const f=De(n,u);f&&wt(c,u,f._f)}return{criteriaMode:a,names:[...e],fields:c,shouldUseNativeValidation:i}},Bc=e=>e instanceof RegExp,El=e=>Gt(e)?e:Bc(e)?e.source:rn(e)?Bc(e.value)?e.value.source:e.value:e,P0=e=>({isOnSubmit:!e||e===As.onSubmit,isOnBlur:e===As.onBlur,isOnChange:e===As.onChange,isOnAll:e===As.all,isOnTouch:e===As.onTouched});const X0="AsyncFunction";var SM=e=>!!e&&!!e.validate&&!!(Ms(e.validate)&&e.validate.constructor.name===X0||rn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===X0)),jM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),J0=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ml=(e,n,a,i)=>{for(const c of a||Object.keys(e)){const u=De(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(Ml(m,n))break}else if(rn(m)&&Ml(m,n))break}}};function ev(e,n,a){const i=De(e,a);if(i||Jc(a))return{error:i,name:a};const c=a.split(".");for(;c.length;){const u=c.join("."),f=De(n,u),m=De(e,u);if(f&&!Array.isArray(f)&&a!==u)return{name:a};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:a}}var EM=(e,n,a,i)=>{a(e);const{name:c,...u}=e;return Hn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||As.all))},NM=(e,n,a)=>!e||!n||e===n||Al(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),_M=(e,n,a,i,c)=>c.isOnAll?!1:!a&&c.isOnTouch?!(n||e):(a?i.isOnBlur:c.isOnBlur)?!e:(a?i.isOnChange:c.isOnChange)?e:!0,CM=(e,n)=>!Th(De(e,n)).length&&nn(e,n),kM=(e,n,a)=>{const i=Al(De(e,a));return wt(i,"root",n[a]),wt(e,a,i),e};function tv(e,n,a="validate"){if(rs(e)||Array.isArray(e)&&e.every(rs)||Qs(e)&&!e)return{type:a,message:rs(e)?e:"",ref:n}}var gi=e=>rn(e)&&!Bc(e)?e:{value:e,message:""},nv=async(e,n,a,i,c,u)=>{const{ref:f,refs:m,required:x,maxLength:g,minLength:b,min:y,max:w,pattern:E,validate:k,name:N,valueAsNumber:R,mount:U}=e._f,j=De(a,N);if(!U||n.has(N))return{};const T=m?m[0]:f,W=ue=>{c&&T.reportValidity&&(T.setCustomValidity(Qs(ue)?"":ue||""),T.reportValidity())},q={},X=Rh(f),H=Gl(f),F=X||H,Q=(R||Dh(f))&&Gt(f.value)&&Gt(j)||Uc(f)&&f.value===""||j===""||Array.isArray(j)&&!j.length,ne=Mh.bind(null,N,i,q),re=(ue,me,pe,Se=ha.maxLength,B=ha.minLength)=>{const J=ue?me:pe;q[N]={type:ue?Se:B,message:J,ref:f,...ne(ue?Se:B,J)}};if(u?!Array.isArray(j)||!j.length:x&&(!F&&(Q||Vn(j))||Qs(j)&&!j||H&&!hy(m).isValid||X&&!py(m).isValid)){const{value:ue,message:me}=rs(x)?{value:!!x,message:x}:gi(x);if(ue&&(q[N]={type:ha.required,message:me,ref:T,...ne(ha.required,me)},!i))return W(me),q}if(!Q&&(!Vn(y)||!Vn(w))){let ue,me;const pe=gi(w),Se=gi(y);if(!Vn(j)&&!isNaN(j)){const B=f.valueAsNumber||j&&+j;Vn(pe.value)||(ue=B>pe.value),Vn(Se.value)||(me=B<Se.value)}else{const B=f.valueAsDate||new Date(j),J=we=>new Date(new Date().toDateString()+" "+we),ge=f.type=="time",be=f.type=="week";rs(pe.value)&&j&&(ue=ge?J(j)>J(pe.value):be?j>pe.value:B>new Date(pe.value)),rs(Se.value)&&j&&(me=ge?J(j)<J(Se.value):be?j<Se.value:B<new Date(Se.value))}if((ue||me)&&(re(!!ue,pe.message,Se.message,ha.max,ha.min),!i))return W(q[N].message),q}if((g||b)&&!Q&&(rs(j)||u&&Array.isArray(j))){const ue=gi(g),me=gi(b),pe=!Vn(ue.value)&&j.length>+ue.value,Se=!Vn(me.value)&&j.length<+me.value;if((pe||Se)&&(re(pe,ue.message,me.message),!i))return W(q[N].message),q}if(E&&!Q&&rs(j)){const{value:ue,message:me}=gi(E);if(Bc(ue)&&!j.match(ue)&&(q[N]={type:ha.pattern,message:me,ref:f,...ne(ha.pattern,me)},!i))return W(me),q}if(k){if(Ms(k)){const ue=await k(j,a),me=tv(ue,T);if(me&&(q[N]={...me,...ne(ha.validate,me.message)},!i))return W(me.message),q}else if(rn(k)){let ue={};for(const me in k){if(!Hn(ue)&&!i)break;const pe=tv(await k[me](j,a),T,me);pe&&(ue={...pe,...ne(me,pe.message)},W(pe.message),i&&(q[N]=ue))}if(!Hn(ue)&&(q[N]={ref:T,...ue},!i))return q}}return W(!0),q};const TM={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function AM(e={}){let n={...TM,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ms(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=rn(n.defaultValues)||rn(n.values)?pn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:pn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,g=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:I0(),state:I0()},E=n.criteriaMode===As.all,k=M=>_=>{clearTimeout(g),g=setTimeout(M,_)},N=async M=>{if(!n.disabled&&(b.isValid||y.isValid||M)){const _=n.resolver?Hn((await H()).errors):await Q(i,!0);_!==a.isValid&&w.state.next({isValid:_})}},R=(M,_)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((M||Array.from(m.mount)).forEach(C=>{C&&(_?wt(a.validatingFields,C,_):nn(a.validatingFields,C))}),w.state.next({validatingFields:a.validatingFields,isValidating:!Hn(a.validatingFields)}))},U=(M,_=[],C,ie,te=!0,ce=!0)=>{if(ie&&C&&!n.disabled){if(f.action=!0,ce&&Array.isArray(De(i,M))){const je=C(De(i,M),ie.argA,ie.argB);te&&wt(i,M,je)}if(ce&&Array.isArray(De(a.errors,M))){const je=C(De(a.errors,M),ie.argA,ie.argB);te&&wt(a.errors,M,je),CM(a.errors,M)}if((b.touchedFields||y.touchedFields)&&ce&&Array.isArray(De(a.touchedFields,M))){const je=C(De(a.touchedFields,M),ie.argA,ie.argB);te&&wt(a.touchedFields,M,je)}(b.dirtyFields||y.dirtyFields)&&(a.dirtyFields=xi(c,u)),w.state.next({name:M,isDirty:re(M,_),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else wt(u,M,_)},j=(M,_)=>{wt(a.errors,M,_),w.state.next({errors:a.errors})},T=M=>{a.errors=M,w.state.next({errors:a.errors,isValid:!1})},W=(M,_,C,ie)=>{const te=De(i,M);if(te){const ce=De(u,M,Gt(C)?De(c,M):C);Gt(ce)||ie&&ie.defaultChecked||_?wt(u,M,_?ce:K0(te._f)):pe(M,ce),f.mount&&N()}},q=(M,_,C,ie,te)=>{let ce=!1,je=!1;const qe={name:M};if(!n.disabled){if(!C||ie){(b.isDirty||y.isDirty)&&(je=a.isDirty,a.isDirty=qe.isDirty=re(),ce=je!==qe.isDirty);const Ve=Wa(De(c,M),_);je=!!De(a.dirtyFields,M),Ve?nn(a.dirtyFields,M):wt(a.dirtyFields,M,!0),qe.dirtyFields=a.dirtyFields,ce=ce||(b.dirtyFields||y.dirtyFields)&&je!==!Ve}if(C){const Ve=De(a.touchedFields,M);Ve||(wt(a.touchedFields,M,C),qe.touchedFields=a.touchedFields,ce=ce||(b.touchedFields||y.touchedFields)&&Ve!==C)}ce&&te&&w.state.next(qe)}return ce?qe:{}},X=(M,_,C,ie)=>{const te=De(a.errors,M),ce=(b.isValid||y.isValid)&&Qs(_)&&a.isValid!==_;if(n.delayError&&C?(x=k(()=>j(M,C)),x(n.delayError)):(clearTimeout(g),x=null,C?wt(a.errors,M,C):nn(a.errors,M)),(C?!Wa(te,C):te)||!Hn(ie)||ce){const je={...ie,...ce&&Qs(_)?{isValid:_}:{},errors:a.errors,name:M};a={...a,...je},w.state.next(je)}},H=async M=>{R(M,!0);const _=await n.resolver(u,n.context,wM(M||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return R(M),_},F=async M=>{const{errors:_}=await H(M);if(M)for(const C of M){const ie=De(_,C);ie?wt(a.errors,C,ie):nn(a.errors,C)}else a.errors=_;return _},Q=async(M,_,C={valid:!0})=>{for(const ie in M){const te=M[ie];if(te){const{_f:ce,...je}=te;if(ce){const qe=m.array.has(ce.name),Ve=te._f&&SM(te._f);Ve&&b.validatingFields&&R([ce.name],!0);const jt=await nv(te,m.disabled,u,E,n.shouldUseNativeValidation&&!_,qe);if(Ve&&b.validatingFields&&R([ce.name]),jt[ce.name]&&(C.valid=!1,_))break;!_&&(De(jt,ce.name)?qe?kM(a.errors,jt,ce.name):wt(a.errors,ce.name,jt[ce.name]):nn(a.errors,ce.name))}!Hn(je)&&await Q(je,_,C)}}return C.valid},ne=()=>{for(const M of m.unMount){const _=De(i,M);_&&(_._f.refs?_._f.refs.every(C=>!kf(C)):!kf(_._f.ref))&&oe(M)}m.unMount=new Set},re=(M,_)=>!n.disabled&&(M&&_&&wt(u,M,_),!Wa(we(),c)),ue=(M,_,C)=>gM(M,m,{...f.mount?u:Gt(_)?c:rs(M)?{[M]:_}:_},C,_),me=M=>Th(De(f.mount?u:c,M,n.shouldUnregister?De(c,M,[]):[])),pe=(M,_,C={})=>{const ie=De(i,M);let te=_;if(ie){const ce=ie._f;ce&&(!ce.disabled&&wt(u,M,my(_,ce)),te=Uc(ce.ref)&&Vn(_)?"":_,dy(ce.ref)?[...ce.ref.options].forEach(je=>je.selected=te.includes(je.value)):ce.refs?Gl(ce.ref)?ce.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(te)?je.checked=!!te.find(qe=>qe===je.value):je.checked=te===je.value||!!te)}):ce.refs.forEach(je=>je.checked=je.value===te):Dh(ce.ref)?ce.ref.value="":(ce.ref.value=te,ce.ref.type||w.state.next({name:M,values:pn(u)})))}(C.shouldDirty||C.shouldTouch)&&q(M,te,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&be(M)},Se=(M,_,C)=>{for(const ie in _){if(!_.hasOwnProperty(ie))return;const te=_[ie],ce=M+"."+ie,je=De(i,ce);(m.array.has(M)||rn(te)||je&&!je._f)&&!jr(te)?Se(ce,te,C):pe(ce,te,C)}},B=(M,_,C={})=>{const ie=De(i,M),te=m.array.has(M),ce=pn(_);wt(u,M,ce),te?(w.array.next({name:M,values:pn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&C.shouldDirty&&w.state.next({name:M,dirtyFields:xi(c,u),isDirty:re(M,ce)})):ie&&!ie._f&&!Vn(ce)?Se(M,ce,C):pe(M,ce,C),J0(M,m)&&w.state.next({...a,name:M}),w.state.next({name:f.mount?M:void 0,values:pn(u)})},J=async M=>{f.mount=!0;const _=M.target;let C=_.name,ie=!0;const te=De(i,C),ce=Ve=>{ie=Number.isNaN(Ve)||jr(Ve)&&isNaN(Ve.getTime())||Wa(Ve,De(u,C,Ve))},je=P0(n.mode),qe=P0(n.reValidateMode);if(te){let Ve,jt;const ye=_.type?K0(te._f):cM(M),Te=M.type===Q0.BLUR||M.type===Q0.FOCUS_OUT,Ze=!jM(te._f)&&!n.resolver&&!De(a.errors,C)&&!te._f.deps||_M(Te,De(a.touchedFields,C),a.isSubmitted,qe,je),Ke=J0(C,m,Te);wt(u,C,ye),Te?(!_||!_.readOnly)&&(te._f.onBlur&&te._f.onBlur(M),x&&x(0)):te._f.onChange&&te._f.onChange(M);const it=q(C,ye,Te),Et=!Hn(it)||Ke;if(!Te&&w.state.next({name:C,type:M.type,values:pn(u)}),Ze)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?Te&&N():Te||N()),Et&&w.state.next({name:C,...Ke?{}:it});if(!Te&&Ke&&w.state.next({...a}),n.resolver){const{errors:pt}=await H([C]);if(ce(ye),ie){const Gn=ev(a.errors,i,C),Ws=ev(pt,i,Gn.name||C);Ve=Ws.error,C=Ws.name,jt=Hn(pt)}}else R([C],!0),Ve=(await nv(te,m.disabled,u,E,n.shouldUseNativeValidation))[C],R([C]),ce(ye),ie&&(Ve?jt=!1:(b.isValid||y.isValid)&&(jt=await Q(i,!0)));ie&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&be(te._f.deps),X(C,jt,Ve,it))}},ge=(M,_)=>{if(De(a.errors,_)&&M.focus)return M.focus(),1},be=async(M,_={})=>{let C,ie;const te=Al(M);if(n.resolver){const ce=await F(Gt(M)?M:te);C=Hn(ce),ie=M?!te.some(je=>De(ce,je)):C}else M?(ie=(await Promise.all(te.map(async ce=>{const je=De(i,ce);return await Q(je&&je._f?{[ce]:je}:je)}))).every(Boolean),!(!ie&&!a.isValid)&&N()):ie=C=await Q(i);return w.state.next({...!rs(M)||(b.isValid||y.isValid)&&C!==a.isValid?{}:{name:M},...n.resolver||!M?{isValid:C}:{},errors:a.errors}),_.shouldFocus&&!ie&&Ml(i,ge,M?te:m.mount),ie},we=(M,_)=>{let C={...f.mount?u:c};return _&&(C=uy(_.dirtyFields?a.dirtyFields:a.touchedFields,C)),Gt(M)?C:rs(M)?De(C,M):M.map(ie=>De(C,ie))},A=(M,_)=>({invalid:!!De((_||a).errors,M),isDirty:!!De((_||a).dirtyFields,M),error:De((_||a).errors,M),isValidating:!!De(a.validatingFields,M),isTouched:!!De((_||a).touchedFields,M)}),Y=M=>{M&&Al(M).forEach(_=>nn(a.errors,_)),w.state.next({errors:M?a.errors:{}})},O=(M,_,C)=>{const ie=(De(i,M,{_f:{}})._f||{}).ref,te=De(a.errors,M)||{},{ref:ce,message:je,type:qe,...Ve}=te;wt(a.errors,M,{...Ve,..._,ref:ie}),w.state.next({name:M,errors:a.errors,isValid:!1}),C&&C.shouldFocus&&ie&&ie.focus&&ie.focus()},z=(M,_)=>Ms(M)?w.state.subscribe({next:C=>"values"in C&&M(ue(void 0,_),C)}):ue(M,_,!0),I=M=>w.state.subscribe({next:_=>{NM(M.name,_.name,M.exact)&&EM(_,M.formState||b,at,M.reRenderRoot)&&M.callback({values:{...u},...a,..._,defaultValues:c})}}).unsubscribe,V=M=>(f.mount=!0,y={...y,...M.formState},I({...M,formState:y})),oe=(M,_={})=>{for(const C of M?Al(M):m.mount)m.mount.delete(C),m.array.delete(C),_.keepValue||(nn(i,C),nn(u,C)),!_.keepError&&nn(a.errors,C),!_.keepDirty&&nn(a.dirtyFields,C),!_.keepTouched&&nn(a.touchedFields,C),!_.keepIsValidating&&nn(a.validatingFields,C),!n.shouldUnregister&&!_.keepDefaultValue&&nn(c,C);w.state.next({values:pn(u)}),w.state.next({...a,..._.keepDirty?{isDirty:re()}:{}}),!_.keepIsValid&&N()},ve=({disabled:M,name:_})=>{(Qs(M)&&f.mount||M||m.disabled.has(_))&&(M?m.disabled.add(_):m.disabled.delete(_))},Ee=(M,_={})=>{let C=De(i,M);const ie=Qs(_.disabled)||Qs(n.disabled);return wt(i,M,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:M}},name:M,mount:!0,..._}}),m.mount.add(M),C?ve({disabled:Qs(_.disabled)?_.disabled:n.disabled,name:M}):W(M,!0,_.value),{...ie?{disabled:_.disabled||n.disabled}:{},...n.progressive?{required:!!_.required,min:El(_.min),max:El(_.max),minLength:El(_.minLength),maxLength:El(_.maxLength),pattern:El(_.pattern)}:{},name:M,onChange:J,onBlur:J,ref:te=>{if(te){Ee(M,_),C=De(i,M);const ce=Gt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,je=xM(ce),qe=C._f.refs||[];if(je?qe.find(Ve=>Ve===ce):ce===C._f.ref)return;wt(i,M,{_f:{...C._f,...je?{refs:[...qe.filter(kf),ce,...Array.isArray(De(c,M))?[{}]:[]],ref:{type:ce.type,name:M}}:{ref:ce}}}),W(M,!1,void 0,ce)}else C=De(i,M,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||_.shouldUnregister)&&!(dM(m.array,M)&&f.action)&&m.unMount.add(M)}}},G=()=>n.shouldFocusError&&Ml(i,ge,m.mount),Ne=M=>{Qs(M)&&(w.state.next({disabled:M}),Ml(i,(_,C)=>{const ie=De(i,C);ie&&(_.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(te=>{te.disabled=ie._f.disabled||M}))},0,!1))},Ce=(M,_)=>async C=>{let ie;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let te=pn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ce,values:je}=await H();a.errors=ce,te=pn(je)}else await Q(i);if(m.disabled.size)for(const ce of m.disabled)nn(te,ce);if(nn(a.errors,"root"),Hn(a.errors)){w.state.next({errors:{}});try{await M(te,C)}catch(ce){ie=ce}}else _&&await _({...a.errors},C),G(),setTimeout(G);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(a.errors)&&!ie,submitCount:a.submitCount+1,errors:a.errors}),ie)throw ie},Be=(M,_={})=>{De(i,M)&&(Gt(_.defaultValue)?B(M,pn(De(c,M))):(B(M,_.defaultValue),wt(c,M,pn(_.defaultValue))),_.keepTouched||nn(a.touchedFields,M),_.keepDirty||(nn(a.dirtyFields,M),a.isDirty=_.defaultValue?re(M,pn(De(c,M))):re()),_.keepError||(nn(a.errors,M),b.isValid&&N()),w.state.next({...a}))},Oe=(M,_={})=>{const C=M?pn(M):c,ie=pn(C),te=Hn(M),ce=te?c:ie;if(_.keepDefaultValues||(c=C),!_.keepValues){if(_.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(xi(c,u))]);for(const qe of Array.from(je))De(a.dirtyFields,qe)?wt(ce,qe,De(u,qe)):B(qe,De(ce,qe))}else{if(kh&&Gt(M))for(const je of m.mount){const qe=De(i,je);if(qe&&qe._f){const Ve=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Uc(Ve)){const jt=Ve.closest("form");if(jt){jt.reset();break}}}}if(_.keepFieldsRef)for(const je of m.mount)B(je,De(ce,je));else i={}}u=n.shouldUnregister?_.keepDefaultValues?pn(c):{}:pn(ce),w.array.next({values:{...ce}}),w.state.next({values:{...ce}})}m={mount:_.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!_.keepIsValid||!!_.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:_.keepSubmitCount?a.submitCount:0,isDirty:te?!1:_.keepDirty?a.isDirty:!!(_.keepDefaultValues&&!Wa(M,c)),isSubmitted:_.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:te?{}:_.keepDirtyValues?_.keepDefaultValues&&u?xi(c,u):a.dirtyFields:_.keepDefaultValues&&M?xi(c,M):_.keepDirty?a.dirtyFields:{},touchedFields:_.keepTouched?a.touchedFields:{},errors:_.keepErrors?a.errors:{},isSubmitSuccessful:_.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Ae=(M,_)=>Oe(Ms(M)?M(u):M,_),Qe=(M,_={})=>{const C=De(i,M),ie=C&&C._f;if(ie){const te=ie.refs?ie.refs[0]:ie.ref;te.focus&&(te.focus(),_.shouldSelect&&Ms(te.select)&&te.select())}},at=M=>{a={...a,...M}},Kt={control:{register:Ee,unregister:oe,getFieldState:A,handleSubmit:Ce,setError:O,_subscribe:I,_runSchema:H,_focusError:G,_getWatch:ue,_getDirty:re,_setValid:N,_setFieldArray:U,_setDisabledField:ve,_setErrors:T,_getFieldArray:me,_reset:Oe,_resetDefaultValues:()=>Ms(n.defaultValues)&&n.defaultValues().then(M=>{Ae(M,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Ne,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(M){f=M},get _defaultValues(){return c},get _names(){return m},set _names(M){m=M},get _formState(){return a},get _options(){return n},set _options(M){n={...n,...M}}},subscribe:V,trigger:be,register:Ee,handleSubmit:Ce,watch:z,setValue:B,getValues:we,reset:Ae,resetField:Be,clearErrors:Y,unregister:oe,setError:O,setFocus:Qe,getFieldState:A};return{...Kt,formControl:Kt}}function zh(e={}){const n=bt.useRef(void 0),a=bt.useRef(void 0),[i,c]=bt.useState({isDirty:!1,isValidating:!1,isLoading:Ms(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ms(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ms(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=AM(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,pM(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),bt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),bt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),bt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),bt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),bt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),bt.useEffect(()=>{e.values&&!Wa(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),bt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=mM(i,u),n.current}const sv=(e,n,a)=>{if(e&&"reportValidity"in e){const i=De(a,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Xf=(e,n)=>{for(const a in n.fields){const i=n.fields[a];i&&i.ref&&"reportValidity"in i.ref?sv(i.ref,a,e):i&&i.refs&&i.refs.forEach(c=>sv(c,a,e))}},av=(e,n)=>{n.shouldUseNativeValidation&&Xf(e,n);const a={};for(const i in e){const c=De(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(MM(n.names||Object.keys(e),i)){const f=Object.assign({},De(a,i));wt(f,"root",u),wt(a,i,f)}else wt(a,i,u)}return a},MM=(e,n)=>{const a=rv(n);return e.some(i=>rv(i).match(`^${a}\\.\\d+`))};function rv(e){return e.replace(/\]|\[/g,"")}function iv(e,n){try{var a=e()}catch(i){return n(i)}return a&&a.then?a.then(void 0,n):a}function DM(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var x=a[f].types,g=x&&x[i.code];a[f]=Mh(f,n,a,c,g?[].concat(g,i.message):i.message)}e.shift()}return a}function RM(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var x=a[f].types,g=x&&x[i.code];a[f]=Mh(f,n,a,c,g?[].concat(g,i.message):i.message)}e.shift()}return a}function Oh(e,n,a){if(a===void 0&&(a={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(iv(function(){return Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&Xf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:av(DM(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(iv(function(){return Promise.resolve((a.mode==="sync"?uk:dk)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&Xf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof _h})(f))return{values:{},errors:av(RM(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function zM(e){const n=Tt();return kn({mutationFn:a=>cj(e,a),onSuccess:a=>{n.setQueryData(sn.list(Uv),i=>i&&{...i,items:i.items.map(c=>c.id===a.id?a:c)}),n.invalidateQueries({queryKey:sn.detail(e),exact:!1})}})}async function OM(e={}){const{page:n,pageSize:a,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof a=="number"&&a>0&&(f.page_size=a),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:x}=await We.GET("/api/v1/users",{params:{query:f},signal:u});if(!x)throw new Error("Expected user page payload.");return x}function LM(e){return ih("/users/invitations",e)}function gy(e={}){const{enabled:n=!0,search:a="",pageSize:i}=e,c=a.trim(),u=c.length>=2?c:"",f=ah({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:g,signal:b})=>OM(UM({page:typeof g=="number"?g:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:g=>g.has_next?g.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(g=>g.id,[]),x=ty(f.data?.pages,m);return{...f,users:x}}function UM(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function BM(){const e=Tt();return kn({mutationFn:({email:n,displayName:a})=>LM({email:n,display_name:a?.trim()?a.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const $l=200;function qM(e){const n={page:1,pageSize:$l};return fn({queryKey:sn.members(e,n),queryFn:({signal:a})=>uj(e,{signal:a,pageSize:$l,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function $M(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:$l});return kn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return dj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(a,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function ZM(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:$l});return kn({mutationFn:({membershipId:i,roleIds:c})=>fj(e,i,VM(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function HM(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:$l});return kn({mutationFn:i=>hj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function VM(e){return{role_ids:Array.from(e)}}const Ni=200,lv=200;function xy(e){const n={page:1,pageSize:Ni};return fn({queryKey:sn.roles(e,n),queryFn:({signal:a})=>mj(e,{signal:a,pageSize:Ni,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function FM(){const e={scope:"global",page:1,pageSize:lv};return fn({queryKey:sn.permissions(e),queryFn:({signal:n})=>vj({signal:n,scope:"global",pageSize:lv}),staleTime:6e4,placeholderData:n=>n})}function QM(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ni});return kn({mutationFn:i=>pj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(a,f=>ov(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:ov(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function IM(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ni});return kn({mutationFn:({roleId:i,payload:c})=>gj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function GM(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ni});return kn({mutationFn:i=>xj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function ov(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:Ni,has_next:!1,has_previous:!1,total:1}}const WM={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function YM(e,n){if(e&&e.trim().length>0){const a=e.trim().split(/\s+/u),i=a[0]?.[0],c=a[a.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function KM({name:e,email:n,size:a="md",className:i}){const c=p.useMemo(()=>YM(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:xe("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",WM[a],i),children:c})}function PM(){const{workspace:e,hasPermission:n}=ga(),a=n("Workspace.Members.ReadWrite"),i=qM(e.id),c=xy(e.id),u=$M(e.id),f=ZM(e.id),m=HM(e.id),x=BM(),[g,b]=p.useState(null),[y,w]=p.useState([]),[E,k]=p.useState(""),[N,R]=p.useState([]),[U,j]=p.useState(""),[T,W]=p.useState(""),[q,X]=p.useState("existing"),[H,F]=p.useState(""),[Q,ne]=p.useState(""),[re,ue]=p.useState(""),[me,pe]=p.useState(null);p.useEffect(()=>{const C=window.setTimeout(()=>{W(U.trim())},250);return()=>window.clearTimeout(C)},[U]);const Se=gy({enabled:a,search:T,pageSize:50}),B=p.useMemo(()=>{const C=new Map;for(const ie of c.data?.items??[])C.set(ie.id,ie);return C},[c.data]),J=p.useMemo(()=>{const C=i.data?.items??[],ie=new Intl.Collator("en",{sensitivity:"base"});return Array.from(C).sort((te,ce)=>{const je=te.user.display_name??te.user.email,qe=ce.user.display_name??ce.user.email;return ie.compare(je??"",qe??"")})},[i.data]),ge=p.useMemo(()=>new Set(J.map(C=>C.user.id)),[J]),be=re.trim().toLowerCase(),we=p.useMemo(()=>be?J.filter(C=>{const ie=C.user.display_name??"",te=C.user.email??"";return ie.toLowerCase().includes(be)||te.toLowerCase().includes(be)||C.id.toLowerCase().includes(be)}):J,[J,be]),A=Se.isPending&&Se.users.length===0,Y=Se.isFetchingNextPage,O=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return Se.users.filter(ie=>!ge.has(ie.id)).sort((ie,te)=>{const ce=ie.display_name??ie.email,je=te.display_name??te.email;return C.compare(ce??"",je??"")})},[ge,Se.users]),z=U.trim().toLowerCase(),V=T.trim().toLowerCase().length>=2,oe=q==="existing"&&U.trim().length>0&&U.trim().length<2,ve=p.useMemo(()=>!z||V?O:O.filter(C=>(C.display_name??"").toLowerCase().includes(z)||C.email.toLowerCase().includes(z)),[O,z,V]),Ee=p.useMemo(()=>q==="existing"?O.find(C=>C.id===E):void 0,[O,q,E]),G=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(ie=>ie.scope_type==="workspace").sort((ie,te)=>C.compare(ie.name,te.name))},[c.data]),Ne=(C,ie)=>{w(te=>ie?te.includes(C)?te:[...te,C]:te.filter(ce=>ce!==C))},Ce=(C,ie)=>{R(te=>ie?te.includes(C)?te:[...te,C]:te.filter(ce=>ce!==C))},Be=C=>{b(C.id),w(C.roles),pe(null)},Oe=()=>{b(null),w([])},Ae=()=>{g&&(pe(null),f.mutate({membershipId:g,roleIds:y},{onSuccess:()=>{pe({tone:"success",message:"Member roles updated."}),Oe()},onError:C=>{const ie=C instanceof Error?C.message:"Unable to update member roles.";pe({tone:"danger",message:ie})}}))},Qe=C=>{!a||!window.confirm(`Remove ${C.user.display_name??C.user.email} from the workspace?`)||(pe(null),m.mutate(C.id,{onSuccess:()=>{pe({tone:"success",message:"Member removed."})},onError:te=>{const ce=te instanceof Error?te.message:"Unable to remove member.";pe({tone:"danger",message:ce})}}))},at=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,rt=u.isPending||x.isPending,Kt=q==="existing"?!!E:at.test(H.trim()),M=async C=>{C.preventDefault(),pe(null);try{if(q==="existing"){if(!E){pe({tone:"danger",message:"Select a user to invite."});return}const ce=O.find(je=>je.id===E);if(!ce){pe({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:ce,roleIds:N}),k(""),R([]),j(""),pe({tone:"success",message:`${ce.display_name??ce.email} added to the workspace.`});return}const ie=H.trim().toLowerCase();if(!ie||!at.test(ie)){pe({tone:"danger",message:"Enter a valid email address to send an invite."});return}const te=await x.mutateAsync({email:ie,displayName:Q.trim()||void 0});await u.mutateAsync({user:te,roleIds:N}),F(""),ne(""),R([]),pe({tone:"success",message:`Invitation sent to ${te.display_name??te.email}.`})}catch(ie){const te=ie instanceof Error?ie.message:"Unable to invite member.";pe({tone:"danger",message:te})}};p.useEffect(()=>{q!=="existing"||!Ee||ve.some(C=>C.id===Ee.id)||j("")},[ve,q,Ee]),p.useEffect(()=>{if(pe(null),q==="existing"){F(""),ne("");return}k(""),j("")},[q]);const _=()=>{q==="existing"?(k(""),j("")):(F(""),ne("")),R([])};return l.jsxs("div",{className:"space-y-6",children:[me?l.jsx(mt,{tone:me.tone,children:me.message}):null,i.isError?l.jsx(mt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?l.jsx(mt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,a?l.jsxs("form",{onSubmit:M,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),Se.isError?l.jsx(mt,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${q==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:q==="existing",onChange:()=>X("existing"),disabled:rt,className:"h-4 w-4"}),l.jsx("span",{children:"Existing teammate"})]}),l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${q==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:q==="new",onChange:()=>X("new"),disabled:rt,className:"h-4 w-4"}),l.jsx("span",{children:"Invite by email"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx("div",{className:"space-y-4",children:q==="existing"?l.jsxs(l.Fragment,{children:[l.jsx(Wt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:l.jsx(an,{value:U,onChange:C=>j(C.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:rt||A})}),oe?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,Se.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,l.jsx(Wt,{label:"User",required:!0,children:l.jsxs(Gs,{value:E,onChange:C=>{k(C.target.value),C.target.value&&j("")},disabled:rt||A,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),Ee&&!ve.some(C=>C.id===Ee.id)?l.jsx("option",{value:Ee.id,children:Ee.display_name?`${Ee.display_name} (${Ee.email})`:Ee.email}):null,ve.map(C=>l.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email},C.id))]})}),ve.length===0&&U?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',U,'". Clear the search to see everyone.']}):null,Se.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>Se.fetchNextPage(),disabled:A||Y,children:Y?"Loading more users":"Load more users"})}):null]}):l.jsxs(l.Fragment,{children:[l.jsx(Wt,{label:"Email",required:!0,children:l.jsx(an,{type:"email",value:H,onChange:C=>F(C.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:rt,required:!0})}),l.jsx(Wt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:l.jsx(an,{value:Q,onChange:C=>ne(C.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:rt})}),l.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:G.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):G.map(C=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:N.includes(C.id),onChange:ie=>Ce(C.id,ie.target.checked),disabled:rt}),l.jsx("span",{children:C.name})]},C.id))}),N.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[N.length," role(s) selected."]}):null]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[(q==="existing"?E||U||N.length>0:H||Q||N.length>0)?l.jsx(ze,{type:"button",variant:"ghost",onClick:_,disabled:rt,children:"Clear"}):null,l.jsx(ze,{type:"submit",isLoading:rt,disabled:!Kt||rt,children:q==="existing"?"Add member":"Send invite"})]})]}):l.jsx(mt,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${J.length} member${J.length===1?"":"s"}`})]}),l.jsx(Wt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(an,{value:re,onChange:C=>ue(C.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):J.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):we.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',re,'".']}):l.jsx("ul",{className:"space-y-4",role:"list",children:we.map(C=>{const ie=C.user.display_name??C.user.email,te=C.roles.map(je=>B.get(je)?.name??je),ce=g===C.id;return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(KM,{name:C.user.display_name,email:C.user.email,size:"sm"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:ie}),l.jsx("p",{className:"text-sm text-slate-500",children:C.user.email}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[C.is_default?l.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,l.jsxs("span",{children:["ID: ",C.id]})]})]})]}),a?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>ce?Oe():Be(C),disabled:f.isPending||m.isPending||ce&&f.isPending,children:ce?"Cancel":"Manage roles"}),l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Qe(C),disabled:m.isPending,children:"Remove"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:te.length>0?te.map(je=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${C.id}-${je}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),ce?l.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(je=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:qe=>Ne(je.id,qe.target.checked),disabled:f.isPending}),l.jsx("span",{children:je.name})]},je.id))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:Oe,disabled:f.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",size:"sm",onClick:Ae,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},C.id)})})]})]})}const XM=pa({name:$t().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:$t().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(U0("")),description:$t().max(500,"Keep the description concise.").optional().or(U0("")),permissions:Xc($t())});function JM(){const{workspace:e,hasPermission:n}=ga(),a=n("Workspace.Roles.ReadWrite"),i=xy(e.id),c=FM(),u=QM(e.id),f=IM(e.id),m=GM(e.id),[x,g]=p.useState(!1),[b,y]=p.useState(null),[w,E]=p.useState(null),k=p.useMemo(()=>(c.data?.items??[]).filter(X=>X.scope_type==="workspace"),[c.data]),N=p.useMemo(()=>{const X=new Map;for(const H of k)X.set(H.key,H);return X},[k]),R=i.data?.items??[],U=()=>{E(null),g(!0),y(null)},j=()=>{g(!1)},T=X=>{E(null),y(X.id),g(!1)},W=()=>{y(null)},q=X=>{!a||X.built_in||!window.confirm(`Delete the role "${X.name}"? This action cannot be undone.`)||(E(null),m.mutate(X.id,{onSuccess:()=>{E({tone:"success",message:"Role deleted."})},onError:F=>{const Q=F instanceof Error?F.message:"Unable to delete role.";E({tone:"danger",message:Q})}}))};return l.jsxs("div",{className:"space-y-6",children:[w?l.jsx(mt,{tone:w.tone,children:w.message}):null,i.isError?l.jsx(mt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?l.jsx(mt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,a?l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),l.jsx(ze,{type:"button",variant:x?"ghost":"primary",onClick:()=>x?j():U(),children:x?"Hide form":"New role"})]}),x?l.jsx("div",{className:"mt-4",children:l.jsx(cv,{availablePermissions:k,allowSlugEdit:!0,onCancel:j,onSubmit:X=>{E(null),u.mutate({name:X.name.trim(),slug:X.slug?X.slug.trim():void 0,description:X.description?.trim()?X.description.trim():void 0,permissions:X.permissions},{onSuccess:()=>{E({tone:"success",message:"Role created."}),j()},onError:H=>{const F=H instanceof Error?H.message:"Unable to create role.";E({tone:"danger",message:F})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${R.length} role${R.length===1?"":"s"}`})]})}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):R.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):l.jsx("ul",{className:"space-y-4",role:"list",children:R.map(X=>{const H=b===X.id,F=X.permissions.map(Q=>N.get(Q)?.label??Q);return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:X.name}),X.built_in?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,X.editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",X.slug]}),X.description?l.jsx("p",{className:"text-sm text-slate-600",children:X.description}):null]}),a&&X.editable?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>H?W():T(X),disabled:f.isPending||m.isPending,children:H?"Cancel":"Edit"}),X.built_in?null:l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(X),disabled:m.isPending,children:"Delete"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:F.length>0?F.map(Q=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:Q},`${X.id}-${Q}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),H?l.jsx("div",{className:"mt-4",children:l.jsx(cv,{availablePermissions:k,initialValues:{name:X.name,slug:X.slug,description:X.description??"",permissions:X.permissions},allowSlugEdit:!1,onCancel:W,onSubmit:Q=>{E(null),f.mutate({roleId:X.id,payload:{name:Q.name.trim(),description:Q.description?.trim()?Q.description.trim():void 0,permissions:Q.permissions}},{onSuccess:()=>{E({tone:"success",message:"Role updated."}),W()},onError:ne=>{const re=ne instanceof Error?ne.message:"Unable to update role.";E({tone:"danger",message:re})}})},isSubmitting:f.isPending},X.id)}):null]},X.id)})})]})]})}function cv({availablePermissions:e,initialValues:n,onSubmit:a,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:x,setValue:g,formState:{errors:b},reset:y}=zh({resolver:Oh(XM),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=x("permissions"),E=(N,R)=>{g("permissions",R?Array.from(new Set([...w??[],N])):(w??[]).filter(U=>U!==N))},k=m(N=>{const R={name:N.name.trim(),slug:u?N.slug?.trim()??"":n?.slug??"",description:N.description?.trim()??"",permissions:N.permissions??[]};a(R)});return l.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:k,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",l.jsx(an,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",l.jsx(an,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),l.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",l.jsx(an,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(N=>l.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(N.key)??!1,onChange:R=>E(N.key,R.target.checked),disabled:c}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:N.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:N.description})]})]},N.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[i?l.jsx(ze,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,l.jsx(ze,{type:"submit",isLoading:c,children:"Save role"})]})]})}function vy(){const e=Tr(),n=yh(),a=ZC(),[i,c]=p.useState(Ds),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const f=p.useMemo(()=>(e.user.permissions??[]).includes("System.Settings.ReadWrite"),[e.user.permissions]),m=n.isFetching||a.isPending,x=i.trim()||Ds,g=b=>{a.mutate({enabled:b,detail:x},{onSuccess:y=>{c(y.detail)}})};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?l.jsx(mt,{tone:"danger",children:"Unable to load safe mode status."}):null,f?null:l.jsxs(mt,{tone:"warning",children:["You need the ",l.jsx("strong",{children:"System.Settings.ReadWrite"})," permission to change safe mode."]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),l.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Ds})]}),l.jsx(Wt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:l.jsx(oy,{value:i,onChange:b=>c(b.target.value),disabled:!f||m})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Ds),disabled:!f||m,children:"Reset message"}),l.jsx(ze,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>g(!u?.enabled),isLoading:a.isPending,disabled:!f,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}vy.displayName="SafeModeControls";const by=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],eD=new Set(by.map(e=>e.id)),Tf=e=>!!(e&&eD.has(e));function tD(){ga();const[e,n]=bh(),a=e.get("view"),i=Tf(a)?a:"general";p.useEffect(()=>{if(a&&!Tf(a)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[a,e,n]);const c=u=>{if(!Tf(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return l.jsx(ch,{value:i,onValueChange:c,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(uh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:by.map(u=>{const f=u.id===i;return l.jsx(kc,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),l.jsx(bi,{value:"general","aria-live":"polite",children:i==="general"?l.jsx(sD,{}):null}),l.jsx(bi,{value:"members","aria-live":"polite",children:i==="members"?l.jsx(PM,{}):null}),l.jsx(bi,{value:"roles","aria-live":"polite",children:i==="roles"?l.jsx(JM,{}):null})]})})}const nD=pa({name:$t().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function sD(){const{workspace:e}=ga(),n=zM(e.id),[a,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:x}=zh({resolver:Oh(nD),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const g=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:g,noValidate:!0,children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),a?l.jsx(mt,{tone:"success",children:a}):null,n.isError?l.jsx(mt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Wt,{label:"Workspace name",required:!0,error:f.name?.message,children:l.jsx(an,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),l.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:l.jsx(an,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>{x(),i(null)},disabled:n.isPending||!m,children:"Reset"}),l.jsx(ze,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),l.jsx(vy,{})]})}function aD(){return l.jsx(Zc,{children:l.jsx(rD,{})})}function rD(){const e=Ss(),n=En(),a=Tt(),i=Hc(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=oD(e.pathname),f=p.useMemo(()=>uD(c,u),[c,u]);return p.useEffect(()=>{i.data&&a.setQueryData(sn.list(Uv),i.data)},[a,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${Ka.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=dD(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&Nj(f)},[f]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Ct,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(Ct,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?l.jsx(_j,{workspace:f,workspaces:c,children:l.jsx(iD,{workspace:f})}):null}function iD({workspace:e}){return l.jsx(j_,{children:l.jsx(fC,{workspaceId:e.id,children:l.jsx(lD,{workspace:e})})})}function lD({workspace:e}){const n=Tr(),a=En(),i=Ss(),{session:c,windowState:u}=Eb(),f=yh(),m=f.data?.enabled??!1,x=f.data?.detail??Ds,g=Db(),b=p.useMemo(()=>Tb(e),[e]),[y,w]=p.useState(""),[E,k]=p.useState(!1),N=y.trim().toLowerCase(),R=!!(c&&u==="maximized"),U=p.useMemo(()=>b.map(z=>({id:z.id,label:z.label,description:`Jump to ${z.label}`,icon:l.jsx(z.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),j=p.useMemo(()=>Pa(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[T,W]=p.useState(()=>{const z=j.get();return typeof z=="boolean"?z:!1});p.useEffect(()=>{const z=j.get();W(typeof z=="boolean"?z:!1)},[j]),p.useEffect(()=>{j.set(T)},[T,j]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const z=()=>{window.innerWidth>=1024&&k(!1)};return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),p.useEffect(()=>{if(typeof document>"u")return;const z=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=z||"",()=>{document.body.style.overflow=z}},[E]),p.useEffect(()=>{R&&k(!1)},[R]);const q=p.useCallback(()=>{if(!N)return;const z=b.find(I=>I.label.toLowerCase().includes(N))??b.find(I=>I.id.toLowerCase().includes(N));z&&a(z.href)},[N,b,a]),X=p.useCallback(z=>{const I=b.find(V=>V.id===z.id);I&&(a(I.href),w(""))},[b,a]),H=p.useCallback(()=>k(!0),[]),F=p.useCallback(()=>k(!1),[]),Q=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:H,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(fD,{})})}),ne=n.user.display_name||n.user.email||"Signed in",re=n.user.email??"",ue=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Cb,{displayName:ne,email:re})}),me={value:y,onChange:w,onSubmit:q,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:g,scopeLabel:e.name,suggestions:U,onSelectSuggestion:X},pe=cD(i.pathname,e.id),Se=mD(e.id,pe,i.search,i.hash),B=Se?.kind==="content"&&Se.key.startsWith("documents"),J=B?new URLSearchParams(i.search).get("q")??"":"",ge=p.useCallback(z=>{if(!B)return;const I=new URLSearchParams(i.search);z?I.set("q",z):I.delete("q");const V=I.toString();a(`${i.pathname}${V?`?${V}`:""}${i.hash}`,{replace:!0})},[B,i.hash,i.pathname,i.search,a]),be=p.useCallback(z=>{ge(z)},[ge]),we=p.useCallback(()=>{ge("")},[ge]),Y=(B?{value:J,onChange:ge,onSubmit:be,onClear:we,placeholder:"Search documents",shortcutHint:g,scopeLabel:"Documents",enableShortcut:!0}:void 0)??me;if(p.useEffect(()=>{Se?.kind==="redirect"&&a(Se.to,{replace:!0})},[Se,a]),!Se||Se.kind==="redirect")return null;const O=Se.fullHeight??!1;return l.jsxs("div",{className:xe("flex min-w-0 bg-slate-50 text-slate-900",O?"h-screen overflow-hidden":"min-h-screen"),children:[R?null:l.jsx(OC,{workspace:e,items:b,collapsed:T,onToggleCollapse:()=>W(z=>!z),onGoToWorkspaces:()=>a("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[R?null:l.jsx(_b,{brand:Q,trailing:ue,search:Y}),!R&&E?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:F}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:F,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(hD,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Ab,{items:b,onNavigate:F,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:xe("relative flex-1 min-w-0",O?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:xe(O?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:xe("mb-4",O?"px-6 pt-4":""),children:l.jsx(mt,{tone:"warning",heading:"Safe mode active",children:x})}):null,l.jsx("div",{className:xe(O?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:Se.element})]})})},`section-${Se.key}`)]})]})}function oD(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function cD(e,n){const a=`/workspaces/${n}`;return e.startsWith(a)?e.slice(a.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function uD(e,n){return n?e.find(a=>a.id===n)??e.find(a=>a.slug===n)??e[0]??null:e[0]??null}function dD(e,n,a,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${Ka.path}`;return`/workspaces/${a}${f}${n}`}function fD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function hD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function mD(e,n,a,i){const c=`${a}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Ka.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(FC,{})};case Ka.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:l.jsx(P4,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:l.jsx(b4,{})};case"jobs":return{kind:"content",key:"jobs",element:l.jsx(eM,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:l.jsx(pD,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:l.jsx(lM,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:l.jsx(rM,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:l.jsx(tD,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(Ct,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function pD({configId:e}){return l.jsx(oM,{params:{configId:e}})}function gD(e){return`/workspaces/${e}/${Ka.path}`}function xD(){return l.jsx(Zc,{children:l.jsx(vD,{})})}function vD(){const e=Ss(),n=En(),a=Tr(),i=Hc(),c=i.data?.items??[],m=[Ej(),a.user.preferred_workspace_id].filter(x=>!!x).map(x=>c.find(g=>g.id===x)).find(x=>!!x)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const x=gD(m.id);e.pathname+e.search!==x&&n(x,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(Ct,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(Ct,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function bD(){return fn({queryKey:Rs.providers(),queryFn:({signal:e})=>qS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const yD=pa({email:$t().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:$t().min(1,"Enter your password.")});function wD(){const e=Ss(),n=En(),a=Tt(),i=Rv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,x=lh(m),g=bD(),b=g.data?.providers??[],y=g.data?.force_sso??!1,w=g.isError&&!g.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const q=new URLSearchParams(e.search);return Rl(q.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Cc(c.return_to,E),{replace:!0})},[n,E,c]),p.useEffect(()=>{m&&(x.isPending||x.isError||x.data?.requires_setup&&n(Ov(E),{replace:!0}))},[n,E,x.data?.requires_setup,x.isError,x.isPending,m]);const[k,N]=p.useState(null),[R,U]=p.useState(!1);if(p.useEffect(()=>{N(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(x.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(x.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(ze,{variant:"secondary",onClick:()=>x.refetch(),children:"Try again"})]});const j=async q=>{q.preventDefault(),N(null);const X=new FormData(q.currentTarget),H=Object.fromEntries(X.entries()),F=yD.safeParse(H);if(!F.success){const me=F.error.issues[0]?.message??"Invalid input.";N(me);return}const{email:Q,password:ne}=F.data,re=typeof H.redirectTo=="string"?H.redirectTo:null,ue=Rl(re);U(!0);try{const me=await $S({email:Q,password:ne});a.setQueryData(Rs.detail(),me),n(Cc(me.return_to,ue),{replace:!0})}catch(me){if(me instanceof is){const pe=me.problem?.detail??me.message??"Unable to sign in.";N(pe)}else me instanceof Error?N(me.message):N("Unable to sign in.")}finally{U(!1)}},T=!!k&&!R,W=g.isLoading||g.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(mt,{tone:"warning",className:"mt-6",children:w}):null,W?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(q=>l.jsxs("a",{href:q.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",q.label]},q.id))}):null,y?l.jsx(mt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:j,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:E}),l.jsx(Wt,{label:"Email address",required:!0,children:l.jsx(an,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:R})}),l.jsx(Wt,{label:"Password",required:!0,children:l.jsx(an,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:R})}),T?l.jsx(mt,{tone:"danger",children:k}):null,l.jsx(ze,{type:"submit",className:"w-full justify-center",isLoading:R,disabled:R,children:R?"Signing in":"Continue"})]})]})})}function SD(){const e=En(),n=Ss(),a=Tt(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),x=f.get("state");if(!m||!x){c("Missing authorization details from the identity provider.");return}async function g(){try{const b=f.toString(),y=await NS(`/auth/sso/callback?${b}`);if(u)return;const w=Si(y);a.setQueryData(Rs.detail(),w);const E=Cc(w.return_to,f.get("next"));e(E,{replace:!0})}catch(b){if(u)return;b instanceof is?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return g(),()=>{u=!0}},[n.search,e,a]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Ct,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Ct,{title:"Finishing sign-in",variant:"loading"})})}const jD=pa({displayName:$t().min(1,"Display name is required."),email:$t().min(1,"Email is required.").email("Enter a valid email address."),password:$t().min(12,"Use at least 12 characters."),confirmPassword:$t().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function ED(){const e=Ss(),n=En(),a=Tt(),i=lh(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Rl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(zv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,x]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const g=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),E=jD.safeParse(w);if(!E.success){const N=E.error.issues[0]?.message??"Invalid input.";f(N);return}x(!0);const k=Rl(w.redirectTo);try{const N=await XS({display_name:E.data.displayName,email:E.data.email,password:E.data.password});a.setQueryData(Rs.detail(),N),n(Cc(N.return_to,k),{replace:!0})}catch(N){if(N instanceof is){const R=N.problem?.detail??N.message??"Setup failed. Try again.";f(R)}else N instanceof Error?f(N.message):f("Setup failed. Try again.")}finally{x(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?l.jsx(mt,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Wt,{label:"Display name",required:!0,children:l.jsx(an,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(Wt,{label:"Email",required:!0,children:l.jsx(an,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(Wt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(an,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(Wt,{label:"Confirm password",required:!0,children:l.jsx(an,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(mt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(ze,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function yy({children:e,sidePanel:n,actions:a,search:i}){const c=Tr(),u=En(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(_b,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(DC,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:a?l.jsx("div",{className:"flex items-center gap-2",children:a}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Cb,{displayName:f,email:m})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function ND(){return l.jsx(Zc,{children:l.jsx(_D,{})})}function _D(){const e=En(),n=Tr(),a=Hc(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=Db(),x=a.data,g=p.useMemo(()=>x?.items??[],[x?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?g.filter(q=>{const X=q.name.toLowerCase(),H=q.slug?.toLowerCase()??"";return X.includes(b)||H.includes(b)}):g,[g,b]),w=c?l.jsx(ze,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,E=p.useCallback(()=>{if(!b)return;const q=y[0];q&&e(`/workspaces/${q.id}/${Ka.path}`)},[y,b,e]),k=p.useCallback(()=>f(""),[]),R=(b?y:g).slice(0,5).map(q=>({id:q.id,label:q.name,description:q.slug?`Slug  ${q.slug}`:"Workspace"})),U=p.useCallback(q=>{f(""),e(`/workspaces/${q.id}/${Ka.path}`)},[e]),j={value:u,onChange:f,onSubmit:E,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:R,onSelectSuggestion:U,onClear:k},T={...j,shortcutHint:void 0,onClear:k,enableShortcut:!1,variant:"minimal"};if(a.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Ct,{title:"Loading workspaces",variant:"loading"})});if(a.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Ct,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>a.refetch(),children:"Retry"})})});const W=g.length===0?c?l.jsx(kD,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(Ct,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(Ct,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(ze,{variant:"secondary",onClick:k,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),l.jsx(Nb,{...T,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map(q=>l.jsxs(Rc,{to:`/workspaces/${q.id}/${Ka.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:q.name}),q.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),l.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",q.slug]}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:q.permissions.length>0?q.permissions.join(", "):"None"})]},q.id))})]});return l.jsx(yy,{actions:w,search:j,sidePanel:l.jsx(CD,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:W})}function CD({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(ze,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function kD({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(ze,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function TD(){const e=Tt();return kn({mutationFn:oj,onSuccess(n){e.setQueryData(sn.detail(n.id),n),e.getQueriesData({queryKey:sn.all()}).forEach(([a,i])=>{if(!Array.isArray(a)||a[0]!=="workspaces"||a[1]!=="list"||!i)return;const c=i.items.findIndex(x=>x.id===n.id),f=[...c>=0?i.items.map(x=>x.id===n.id?n:x):[...i.items,n]].sort((x,g)=>x.name.localeCompare(g.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(a,{...i,items:f,total:m})}),e.invalidateQueries({queryKey:sn.all()})}})}const AD=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,MD=pa({name:$t().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(AD,"Use lowercase letters, numbers, and dashes."),ownerUserId:$t().optional()});function DD(){return l.jsx(Zc,{children:l.jsx(RD,{})})}function RD(){const e=En(),n=Tr(),a=Hc(),i=TD(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=gy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter(F=>F.id!==n.user.id):f,[f,n.user.id]),{register:x,handleSubmit:g,watch:b,setValue:y,setError:w,clearErrors:E,formState:{errors:k,dirtyFields:N}}=zh({resolver:Oh(MD),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),R=b("name"),U=b("slug");p.useEffect(()=>{if(N.slug)return;const F=zD(R);F!==U&&y("slug",F,{shouldValidate:!!F})},[N.slug,R,y,U]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const j=i.isPending,T=u.isPending&&u.users.length===0,W=j||T||!c,q=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,X=x("ownerUserId"),H=g(F=>{if(E("root"),c&&!F.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:F.name.trim(),slug:F.slug.trim(),owner_user_id:c&&F.ownerUserId||void 0},{onSuccess(Q){a.refetch(),e(`/workspaces/${Q.id}`)},onError(Q){if(Q instanceof is){const ne=Q.problem?.detail??Q.message,re=Q.problem?.errors??{};w("root",{type:"server",message:ne}),re.name?.[0]&&w("name",{type:"server",message:re.name[0]}),re.slug?.[0]&&w("slug",{type:"server",message:re.slug[0]}),re.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:re.owner_user_id[0]});return}w("root",{type:"server",message:Q instanceof Error?Q.message:"Workspace creation failed."})}})});return l.jsx(yy,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:H,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(Wt,{label:"Workspace name",required:!0,error:k.name?.message,children:l.jsx(an,{id:"workspaceName",placeholder:"Finance Operations",...x("name"),invalid:!!k.name,disabled:j})}),l.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:k.slug?.message,children:l.jsx(an,{id:"workspaceSlug",placeholder:"finance-ops",...x("slug"),invalid:!!k.slug,disabled:j})})]}),c?l.jsxs(Wt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:k.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...X,onChange:F=>{X.onChange(F),E("ownerUserId")},disabled:W,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:q}),m.map(F=>l.jsx("option",{value:F.id,children:F.display_name?`${F.display_name} (${F.email})`:F.email},F.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,k.root?l.jsx(mt,{tone:"danger",children:k.root.message}):null,c&&u.isError?l.jsx(mt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:j,children:"Cancel"}),l.jsx(ze,{type:"submit",isLoading:j,children:j?"Creating workspace":"Create workspace"})]})]})]})})}function zD(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function OD({signal:e}={}){try{await We.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof is&&(n.status===401||n.status===403))return}}function LD(){const e=En(),n=Tt();return p.useEffect(()=>{let a=!1;const i=new AbortController;return(async()=>{try{await OD({signal:i.signal})}finally{a||(n.removeQueries({queryKey:Rs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{a||e("/login",{replace:!0})}),()=>{a=!0,i.abort()}},[e,n]),null}function UD(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(Rc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(Rc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function BD(){return l.jsx(R1,{children:l.jsx(bS,{children:l.jsx(qD,{})})})}function qD(){const e=Ss(),a=$D(e.pathname).split("/").filter(Boolean);if(a.length===0)return l.jsx(xD,{});const[i,c]=a;switch(i){case"login":return l.jsx(wD,{});case"logout":return l.jsx(LD,{});case"auth":if(c==="callback")return l.jsx(SD,{});break;case"setup":return l.jsx(ED,{});case"workspaces":return c?c==="new"?l.jsx(DD,{}):l.jsx(aD,{}):l.jsx(ND,{})}return l.jsx(UD,{})}function $D(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}D1.createRoot(document.getElementById("root")).render(l.jsx(bt.StrictMode,{children:l.jsx(BD,{})}));export{bt as W,xe as c,l as j,p as r};
