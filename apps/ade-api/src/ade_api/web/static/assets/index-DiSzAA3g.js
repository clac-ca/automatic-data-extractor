function pO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ex={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function gO(){if(jC)return ju;jC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:l}}return ju.Fragment=t,ju.jsx=n,ju.jsxs=n,ju}var EC;function xO(){return EC||(EC=1,Ex.exports=gO()),Ex.exports}var i=xO(),Nx={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function bO(){if(NC)return it;NC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function E(B,U,ne){this.props=B,this.context=U,this.refs=j,this.updater=ne||S}E.prototype.isReactComponent={},E.prototype.setState=function(B,U){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,U,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=E.prototype;function _(B,U,ne){this.props=B,this.context=U,this.refs=j,this.updater=ne||S}var R=_.prototype=new N;R.constructor=_,C(R,E.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function A(){}var M={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(B,U,ne){var K=ne.ref;return{$$typeof:e,type:B,key:U,ref:K!==void 0?K:null,props:ne}}function T(B,U){return L(B.type,U,B.props)}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function P(B){var U={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return U[ne]})}var $=/\/+/g;function W(B,U){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):U.toString(36)}function ce(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(A,A):(B.status="pending",B.then(function(U){B.status==="pending"&&(B.status="fulfilled",B.value=U)},function(U){B.status==="pending"&&(B.status="rejected",B.reason=U)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function z(B,U,ne,K,H){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var V=!1;if(B===null)V=!0;else switch(Y){case"bigint":case"string":case"number":V=!0;break;case"object":switch(B.$$typeof){case e:case t:V=!0;break;case g:return V=B._init,z(V(B._payload),U,ne,K,H)}}if(V)return H=H(B),V=K===""?"."+W(B,0):K,D(H)?(ne="",V!=null&&(ne=V.replace($,"$&/")+"/"),z(H,U,ne,"",function(oe){return oe})):H!=null&&(G(H)&&(H=T(H,ne+(H.key==null||B&&B.key===H.key?"":(""+H.key).replace($,"$&/")+"/")+V)),U.push(H)),1;V=0;var te=K===""?".":K+":";if(D(B))for(var se=0;se<B.length;se++)K=B[se],Y=te+W(K,se),V+=z(K,U,ne,Y,H);else if(se=y(B),typeof se=="function")for(B=se.call(B),se=0;!(K=B.next()).done;)K=K.value,Y=te+W(K,se++),V+=z(K,U,ne,Y,H);else if(Y==="object"){if(typeof B.then=="function")return z(ce(B),U,ne,K,H);throw U=String(B),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return V}function q(B,U,ne){if(B==null)return B;var K=[],H=0;return z(B,K,"","",function(Y){return U.call(ne,Y,H++)}),K}function Z(B){if(B._status===-1){var U=B._result;U=U(),U.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=U)}if(B._status===1)return B._result.default;throw B._result}var F=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ae={map:q,forEach:function(B,U,ne){q(B,function(){U.apply(this,arguments)},ne)},count:function(B){var U=0;return q(B,function(){U++}),U},toArray:function(B){return q(B,function(U){return U})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return it.Activity=x,it.Children=ae,it.Component=E,it.Fragment=n,it.Profiler=o,it.PureComponent=_,it.StrictMode=r,it.Suspense=f,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,it.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},it.cache=function(B){return function(){return B.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(B,U,ne){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var K=C({},B.props),H=B.key;if(U!=null)for(Y in U.key!==void 0&&(H=""+U.key),U)!O.call(U,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&U.ref===void 0||(K[Y]=U[Y]);var Y=arguments.length-2;if(Y===1)K.children=ne;else if(1<Y){for(var V=Array(Y),te=0;te<Y;te++)V[te]=arguments[te+2];K.children=V}return L(B.type,H,K)},it.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},it.createElement=function(B,U,ne){var K,H={},Y=null;if(U!=null)for(K in U.key!==void 0&&(Y=""+U.key),U)O.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(H[K]=U[K]);var V=arguments.length-2;if(V===1)H.children=ne;else if(1<V){for(var te=Array(V),se=0;se<V;se++)te[se]=arguments[se+2];H.children=te}if(B&&B.defaultProps)for(K in V=B.defaultProps,V)H[K]===void 0&&(H[K]=V[K]);return L(B,Y,H)},it.createRef=function(){return{current:null}},it.forwardRef=function(B){return{$$typeof:d,render:B}},it.isValidElement=G,it.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Z}},it.memo=function(B,U){return{$$typeof:p,type:B,compare:U===void 0?null:U}},it.startTransition=function(B){var U=M.T,ne={};M.T=ne;try{var K=B(),H=M.S;H!==null&&H(ne,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(A,F)}catch(Y){F(Y)}finally{U!==null&&ne.types!==null&&(U.types=ne.types),M.T=U}},it.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},it.use=function(B){return M.H.use(B)},it.useActionState=function(B,U,ne){return M.H.useActionState(B,U,ne)},it.useCallback=function(B,U){return M.H.useCallback(B,U)},it.useContext=function(B){return M.H.useContext(B)},it.useDebugValue=function(){},it.useDeferredValue=function(B,U){return M.H.useDeferredValue(B,U)},it.useEffect=function(B,U){return M.H.useEffect(B,U)},it.useEffectEvent=function(B){return M.H.useEffectEvent(B)},it.useId=function(){return M.H.useId()},it.useImperativeHandle=function(B,U,ne){return M.H.useImperativeHandle(B,U,ne)},it.useInsertionEffect=function(B,U){return M.H.useInsertionEffect(B,U)},it.useLayoutEffect=function(B,U){return M.H.useLayoutEffect(B,U)},it.useMemo=function(B,U){return M.H.useMemo(B,U)},it.useOptimistic=function(B,U){return M.H.useOptimistic(B,U)},it.useReducer=function(B,U,ne){return M.H.useReducer(B,U,ne)},it.useRef=function(B){return M.H.useRef(B)},it.useState=function(B){return M.H.useState(B)},it.useSyncExternalStore=function(B,U,ne){return M.H.useSyncExternalStore(B,U,ne)},it.useTransition=function(){return M.H.useTransition()},it.version="19.2.0",it}var _C;function wv(){return _C||(_C=1,Nx.exports=bO()),Nx.exports}var h=wv();const Ee=yv(h),Sv=pO({__proto__:null,default:Ee},[h]);var _x={exports:{}},Eu={},kx={exports:{}},Rx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function vO(){return kC||(kC=1,(function(e){function t(z,q){var Z=z.length;z.push(q);e:for(;0<Z;){var F=Z-1>>>1,ae=z[F];if(0<o(ae,q))z[F]=q,z[Z]=ae,Z=F;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],Z=z.pop();if(Z!==q){z[0]=Z;e:for(var F=0,ae=z.length,B=ae>>>1;F<B;){var U=2*(F+1)-1,ne=z[U],K=U+1,H=z[K];if(0>o(ne,Z))K<ae&&0>o(H,ne)?(z[F]=H,z[K]=Z,F=K):(z[F]=ne,z[U]=Z,F=U);else if(K<ae&&0>o(H,Z))z[F]=H,z[K]=Z,F=K;else break e}}return q}function o(z,q){var Z=z.sortIndex-q.sortIndex;return Z!==0?Z:z.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,x=null,v=3,y=!1,S=!1,C=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=z)r(p),q.sortIndex=q.expirationTime,t(f,q);else break;q=n(p)}}function D(z){if(C=!1,R(z),!S)if(n(f)!==null)S=!0,A||(A=!0,P());else{var q=n(p);q!==null&&ce(D,q.startTime-z)}}var A=!1,M=-1,O=5,L=-1;function T(){return j?!0:!(e.unstable_now()-L<O)}function G(){if(j=!1,A){var z=e.unstable_now();L=z;var q=!0;try{e:{S=!1,C&&(C=!1,N(M),M=-1),y=!0;var Z=v;try{t:{for(R(z),x=n(f);x!==null&&!(x.expirationTime>z&&T());){var F=x.callback;if(typeof F=="function"){x.callback=null,v=x.priorityLevel;var ae=F(x.expirationTime<=z);if(z=e.unstable_now(),typeof ae=="function"){x.callback=ae,R(z),q=!0;break t}x===n(f)&&r(f),R(z)}else r(f);x=n(f)}if(x!==null)q=!0;else{var B=n(p);B!==null&&ce(D,B.startTime-z),q=!1}}break e}finally{x=null,v=Z,y=!1}q=void 0}}finally{q?P():A=!1}}}var P;if(typeof _=="function")P=function(){_(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=G,P=function(){W.postMessage(null)}}else P=function(){E(G,0)};function ce(z,q){M=E(function(){z(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var Z=v;v=q;try{return z()}finally{v=Z}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=v;v=z;try{return q()}finally{v=Z}},e.unstable_scheduleCallback=function(z,q,Z){var F=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,z={id:g++,callback:q,priorityLevel:z,startTime:Z,expirationTime:ae,sortIndex:-1},Z>F?(z.sortIndex=Z,t(p,z),n(f)===null&&z===n(p)&&(C?(N(M),M=-1):C=!0,ce(D,Z-F))):(z.sortIndex=ae,t(f,z),S||y||(S=!0,A||(A=!0,P()))),z},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(z){var q=v;return function(){var Z=v;v=q;try{return z.apply(this,arguments)}finally{v=Z}}}})(Rx)),Rx}var RC;function yO(){return RC||(RC=1,kx.exports=vO()),kx.exports}var Mx={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function wO(){if(MC)return ur;MC=1;var e=wv();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:f,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},ur.flushSync=function(f){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=g,r.d.f()}},ur.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},ur.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ur.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:y}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ur.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},ur.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ur.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},ur.requestFormReset=function(f){r.d.r(f)},ur.unstable_batchedUpdates=function(f,p){return f(p)},ur.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},ur.useFormStatus=function(){return c.H.useHostTransitionStatus()},ur.version="19.2.0",ur}var DC;function YE(){if(DC)return Mx.exports;DC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mx.exports=wO(),Mx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function SO(){if(AC)return Eu;AC=1;var e=yO(),t=wv(),n=YE();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(r(188))}function p(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,m=a;;){var b=u.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===u)return f(b),s;if(w===m)return f(b),a;w=w.sibling}throw Error(r(188))}if(u.return!==m.return)u=b,m=w;else{for(var k=!1,I=b.child;I;){if(I===u){k=!0,u=b,m=w;break}if(I===m){k=!0,m=b,u=w;break}I=I.sibling}if(!k){for(I=w.child;I;){if(I===u){k=!0,u=w,m=b;break}if(I===m){k=!0,m=w,u=b;break}I=I.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case _:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case R:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:W(s.type)||"Memo";case O:a=s._payload,s=s._init;try{return W(s(a))}catch{}}return null}var ce=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},F=[],ae=-1;function B(s){return{current:s}}function U(s){0>ae||(s.current=F[ae],F[ae]=null,ae--)}function ne(s,a){ae++,F[ae]=s.current,s.current=a}var K=B(null),H=B(null),Y=B(null),V=B(null);function te(s,a){switch(ne(Y,a),ne(H,s),ne(K,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?GS(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=GS(a),s=YS(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}U(K),ne(K,s)}function se(){U(K),U(H),U(Y)}function oe(s){s.memoizedState!==null&&ne(V,s);var a=K.current,u=YS(a,s.type);a!==u&&(ne(H,s),ne(K,u))}function fe(s){H.current===s&&(U(K),U(H)),V.current===s&&(U(V),yu._currentValue=Z)}var Se,Ae;function De(s){if(Se===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Se=a&&a[1]||"",Ae=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+s+Ae}var st=!1;function pt(s,a){if(!s||st)return"";st=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(be){var pe=be}Reflect.construct(s,[],je)}else{try{je.call()}catch(be){pe=be}s.call(je.prototype)}}else{try{throw Error()}catch(be){pe=be}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(be){if(be&&pe&&typeof be.stack=="string")return[be.stack,pe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),k=w[0],I=w[1];if(k&&I){var J=k.split(`
`),he=I.split(`
`);for(b=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;b<he.length&&!he[b].includes("DetermineComponentFrameRoot");)b++;if(m===J.length||b===he.length)for(m=J.length-1,b=he.length-1;1<=m&&0<=b&&J[m]!==he[b];)b--;for(;1<=m&&0<=b;m--,b--)if(J[m]!==he[b]){if(m!==1||b!==1)do if(m--,b--,0>b||J[m]!==he[b]){var ye=`
`+J[m].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=m&&0<=b);break}}}finally{st=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?De(u):""}function ut(s,a){switch(s.tag){case 26:case 27:case 5:return De(s.type);case 16:return De("Lazy");case 13:return s.child!==a&&a!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return pt(s.type,!1);case 11:return pt(s.type.render,!1);case 1:return pt(s.type,!0);case 31:return De("Activity");default:return""}}function fn(s){try{var a="",u=null;do a+=ut(s,u),u=s,s=s.return;while(s);return a}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Mt=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,ue=e.unstable_shouldYield,Re=e.unstable_requestPaint,Ce=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,ve=e.unstable_UserBlockingPriority,_e=e.unstable_NormalPriority,$e=e.unstable_LowPriority,bt=e.unstable_IdlePriority,Et=e.log,Jn=e.unstable_setDisableYieldValue,nn=null,Ut=null;function Bt(s){if(typeof Et=="function"&&Jn(s),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(nn,s)}catch{}}var Vt=Math.clz32?Math.clz32:le,lr=Math.log,br=Math.LN2;function le(s){return s>>>=0,s===0?32:31-(lr(s)/br|0)|0}var Me=256,Oe=262144,Pe=4194304;function ot(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ve(s,a,u){var m=s.pendingLanes;if(m===0)return 0;var b=0,w=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var I=m&134217727;return I!==0?(m=I&~w,m!==0?b=ot(m):(k&=I,k!==0?b=ot(k):u||(u=I&~s,u!==0&&(b=ot(u))))):(I=m&~w,I!==0?b=ot(I):k!==0?b=ot(k):u||(u=m&~s,u!==0&&(b=ot(u)))),b===0?0:a!==0&&a!==b&&(a&w)===0&&(w=b&-b,u=a&-a,w>=u||w===32&&(u&4194048)!==0)?a:b}function mn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function yn(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var s=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),s}function hn(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function kn(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Sn(s,a,u,m,b,w){var k=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var I=s.entanglements,J=s.expirationTimes,he=s.hiddenUpdates;for(u=k&~u;0<u;){var ye=31-Vt(u),je=1<<ye;I[ye]=0,J[ye]=-1;var pe=he[ye];if(pe!==null)for(he[ye]=null,ye=0;ye<pe.length;ye++){var be=pe[ye];be!==null&&(be.lane&=-536870913)}u&=~je}m!==0&&Nr(s,m,0),w!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=w&~(k&~a))}function Nr(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var m=31-Vt(a);s.entangledLanes|=a,s.entanglements[m]=s.entanglements[m]|1073741824|u&261930}function vr(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var m=31-Vt(u),b=1<<m;b&a|s[m]&a&&(s[m]|=a),u&=~b}}function cr(s,a){var u=a&-a;return u=(u&42)!==0?1:js(u),(u&(s.suspendedLanes|a))!==0?0:u}function js(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ns(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _r(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:xC(s.type))}function Es(s,a){var u=q.p;try{return q.p=s,a()}finally{q.p=u}}var er=Math.random().toString(36).slice(2),Rn="__reactFiber$"+er,tr="__reactProps$"+er,Xo="__reactContainer$"+er,ni="__reactEvents$"+er,gp="__reactListeners$"+er,Ud="__reactHandles$"+er,Dt="__reactResources$"+er,Ys="__reactMarker$"+er;function rs(s){delete s[Rn],delete s[tr],delete s[ni],delete s[gp],delete s[Ud]}function bo(s){var a=s[Rn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Xo]||u[Rn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=tC(s);s!==null;){if(u=s[Rn])return u;s=tC(s)}return a}s=u,u=s.parentNode}return null}function ss(s){if(s=s[Rn]||s[Xo]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function os(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Jo(s){var a=s[Dt];return a||(a=s[Dt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pn(s){s[Ys]=!0}var Bd=new Set,nl={};function as(s,a){vo(s,a),vo(s+"Capture",a)}function vo(s,a){for(nl[s]=a,s=0;s<a.length;s++)Bd.add(a[s])}var an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Fn={};function Dc(s){return Mt.call(Fn,s)?!0:Mt.call(ea,s)?!1:an.test(s)?Fn[s]=!0:(ea[s]=!0,!1)}function ta(s,a,u){if(Dc(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function na(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function ft(s,a,u,m){if(m===null)s.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+m)}}function nr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gn(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vd(s,a,u){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,w=m.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return b.call(this)},set:function(k){u=""+k,w.call(this,k)}}),Object.defineProperty(s,a,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ri(s){if(!s._valueTracker){var a=Gn(s)?"checked":"value";s._valueTracker=Vd(s,a,""+s[a])}}function Hd(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return s&&(m=Gn(s)?s.checked?"true":"false":s.value),s=m,s!==u?(a.setValue(s),!0):!1}function ra(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var si=/[\n"\\]/g;function kr(s){return s.replace(si,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function is(s,a,u,m,b,w,k,I){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),a!=null?k==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+nr(a)):s.value!==""+nr(a)&&(s.value=""+nr(a)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),a!=null?Ac(s,k,nr(a)):u!=null?Ac(s,k,nr(u)):m!=null&&s.removeAttribute("value"),b==null&&w!=null&&(s.defaultChecked=!!w),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+nr(I):s.removeAttribute("name")}function yo(s,a,u,m,b,w,k,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),a!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){ri(s);return}u=u!=null?""+nr(u):"",a=a!=null?""+nr(a):u,I||a===s.value||(s.value=a),s.defaultValue=a}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=I?s.checked:!!m,s.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),ri(s)}function Ac(s,a,u){a==="number"&&ra(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function wo(s,a,u,m){if(s=s.options,a){a={};for(var b=0;b<u.length;b++)a["$"+u[b]]=!0;for(u=0;u<s.length;u++)b=a.hasOwnProperty("$"+s[u].value),s[u].selected!==b&&(s[u].selected=b),b&&m&&(s[u].defaultSelected=!0)}else{for(u=""+nr(u),a=null,b=0;b<s.length;b++){if(s[b].value===u){s[b].selected=!0,m&&(s[b].defaultSelected=!0);return}a!==null||s[b].disabled||(a=s[b])}a!==null&&(a.selected=!0)}}function qd(s,a,u){if(a!=null&&(a=""+nr(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+nr(u):""}function Je(s,a,u,m){if(a==null){if(m!=null){if(u!=null)throw Error(r(92));if(ce(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),a=u}u=nr(a),s.defaultValue=u,m=s.textContent,m===u&&m!==""&&m!==null&&(s.value=m),ri(s)}function sa(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oi(s,a,u){var m=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":m?s.setProperty(a,u):typeof u!="number"||u===0||oa.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Wd(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var b in a)m=a[b],a.hasOwnProperty(b)&&u[b]!==m&&oi(s,b,m)}else for(var w in a)a.hasOwnProperty(w)&&oi(s,w,a[w])}function Oc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),So=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(s){return So.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Yn(){}var Ks=null;function aa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ns=null,ia=null;function sl(s){var a=ss(s);if(a&&(s=a.stateNode)){var u=s[tr]||null;e:switch(s=a.stateNode,a.type){case"input":if(is(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+kr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==s&&m.form===s.form){var b=m[tr]||null;if(!b)throw Error(r(90));is(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<u.length;a++)m=u[a],m.form===s.form&&Hd(m)}break e;case"textarea":qd(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&wo(s,!!u.multiple,a,!1)}}}var Tc=!1;function Co(s,a,u){if(Tc)return s(a,u);Tc=!0;try{var m=s(a);return m}finally{if(Tc=!1,(Ns!==null||ia!==null)&&(If(),Ns&&(a=Ns,s=ia,ia=Ns=null,sl(a),s)))for(a=0;a<s.length;a++)sl(s[a])}}function ln(s,a){var u=s.stateNode;if(u===null)return null;var m=u[tr]||null;if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(_s)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Zs=!1}var cs=null,ol=null,Rr=null;function Qs(){if(Rr)return Rr;var s,a=ol,u=a.length,m,b="value"in cs?cs.value:cs.textContent,w=b.length;for(s=0;s<u&&a[s]===b[s];s++);var k=u-s;for(m=1;m<=k&&a[u-m]===b[w-m];m++);return Rr=b.slice(s,1<m?1-m:void 0)}function la(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ai(){return!0}function ii(){return!1}function Jt(s){function a(u,m,b,w,k){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(u=s[I],this[I]=u?u(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ai:ii,this.isPropagationStopped=ii,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),a}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=Jt(ca),li=x({},ca,{view:0,detail:0}),Pc=Jt(li),al,il,ci,jo=x({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ci&&(ci&&s.type==="mousemove"?(al=s.screenX-ci.screenX,il=s.screenY-ci.screenY):il=al=0,ci=s),al)},movementY:function(s){return"movementY"in s?s.movementY:il}}),Gd=Jt(jo),xp=x({},jo,{dataTransfer:0}),Yd=Jt(xp),ll=x({},li,{relatedTarget:0}),Ic=Jt(ll),bp=x({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=Jt(bp),cl=x({},ca,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ks=Jt(cl),Lc=x({},ca,{data:0}),ul=Jt(Lc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ua={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ui[s])?!!a[s]:!1}function Fc(){return yp}var wp=x({},li,{key:function(s){if(s.key){var a=$c[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=la(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ua[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(s){return s.type==="keypress"?la(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?la(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sp=Jt(wp),Rs=x({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Jt(Rs),Cp=x({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),jp=Jt(Cp),Ep=x({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=Jt(Ep),dl=x({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Jt(dl),kp=x({},ca,{newState:0,oldState:0}),Rp=Jt(kp),Mp=[9,13,27,32],Uc=_s&&"CompositionEvent"in window,da=null;_s&&"documentMode"in document&&(da=document.documentMode);var Dp=_s&&"TextEvent"in window&&!da,Zd=_s&&(!Uc||da&&8<da&&11>=da),Qd=" ",Xd=!1;function Jd(s,a){switch(s){case"keyup":return Mp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fa=!1;function Ap(s,a){switch(s){case"compositionend":return ef(a);case"keypress":return a.which!==32?null:(Xd=!0,Qd);case"textInput":return s=a.data,s===Qd&&Xd?null:s;default:return null}}function Op(s,a){if(fa)return s==="compositionend"||!Uc&&Jd(s,a)?(s=Qs(),Rr=ol=cs=null,fa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zd&&a.locale!=="ko"?null:a.data;default:return null}}var Bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ee(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Bc[s.type]:a==="textarea"}function xe(s,a,u,m){Ns?ia?ia.push(m):ia=[m]:Ns=m,a=Hf(a,"onChange"),0<a.length&&(u=new zc("onChange","change",null,u,m),s.push({event:u,listeners:a}))}var Ie=null,Te=null;function Qe(s){US(s,0)}function gt(s){var a=os(s);if(Hd(a))return s}function xt(s,a){if(s==="change")return a}var cn=!1;if(_s){var Eo;if(_s){var Un="oninput"in document;if(!Un){var Qt=document.createElement("div");Qt.setAttribute("oninput","return;"),Un=typeof Qt.oninput=="function"}Eo=Un}else Eo=!1;cn=Eo&&(!document.documentMode||9<document.documentMode)}function Yt(){Ie&&(Ie.detachEvent("onpropertychange",Ms),Te=Ie=null)}function Ms(s){if(s.propertyName==="value"&&gt(Te)){var a=[];xe(a,Te,s,aa(s)),Co(Qe,a)}}function di(s,a,u){s==="focusin"?(Yt(),Ie=a,Te=u,Ie.attachEvent("onpropertychange",Ms)):s==="focusout"&&Yt()}function tf(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gt(Te)}function Vc(s,a){if(s==="click")return gt(a)}function WD(s,a){if(s==="input"||s==="change")return gt(a)}function GD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ir=typeof Object.is=="function"?Object.is:GD;function Hc(s,a){if(Ir(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Mt.call(a,b)||!Ir(s[b],a[b]))return!1}return!0}function dw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fw(s,a){var u=dw(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=a&&m>=a)return{node:u,offset:a-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=dw(u)}}function mw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?mw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function hw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ra(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ra(s.document)}return a}function Tp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var YD=_s&&"documentMode"in document&&11>=document.documentMode,fl=null,zp=null,qc=null,Pp=!1;function pw(s,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Pp||fl==null||fl!==ra(m)||(m=fl,"selectionStart"in m&&Tp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),qc&&Hc(qc,m)||(qc=m,m=Hf(zp,"onSelect"),0<m.length&&(a=new zc("onSelect","select",null,a,u),s.push({event:a,listeners:m}),a.target=fl)))}function fi(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ml={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},Ip={},gw={};_s&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function mi(s){if(Ip[s])return Ip[s];if(!ml[s])return s;var a=ml[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in gw)return Ip[s]=a[u];return s}var xw=mi("animationend"),bw=mi("animationiteration"),vw=mi("animationstart"),KD=mi("transitionrun"),ZD=mi("transitionstart"),QD=mi("transitioncancel"),yw=mi("transitionend"),ww=new Map,Lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lp.push("scrollEnd");function Ds(s,a){ww.set(s,a),as(a,[s])}var nf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},us=[],hl=0,$p=0;function rf(){for(var s=hl,a=$p=hl=0;a<s;){var u=us[a];us[a++]=null;var m=us[a];us[a++]=null;var b=us[a];us[a++]=null;var w=us[a];if(us[a++]=null,m!==null&&b!==null){var k=m.pending;k===null?b.next=b:(b.next=k.next,k.next=b),m.pending=b}w!==0&&Sw(u,b,w)}}function sf(s,a,u,m){us[hl++]=s,us[hl++]=a,us[hl++]=u,us[hl++]=m,$p|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Fp(s,a,u,m){return sf(s,a,u,m),of(s)}function hi(s,a){return sf(s,null,null,a),of(s)}function Sw(s,a,u){s.lanes|=u;var m=s.alternate;m!==null&&(m.lanes|=u);for(var b=!1,w=s.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(b=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,b&&a!==null&&(b=31-Vt(u),s=w.hiddenUpdates,m=s[b],m===null?s[b]=[a]:m.push(a),a.lane=u|536870912),w):null}function of(s){if(50<mu)throw mu=0,Kg=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var pl={};function XD(s,a,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,a,u,m){return new XD(s,a,u,m)}function Up(s){return s=s.prototype,!(!s||!s.isReactComponent)}function No(s,a){var u=s.alternate;return u===null?(u=Lr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Cw(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function af(s,a,u,m,b,w){var k=0;if(m=s,typeof s=="function")Up(s)&&(k=1);else if(typeof s=="string")k=rO(s,u,K.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Lr(31,u,a,b),s.elementType=L,s.lanes=w,s;case C:return pi(u.children,b,w,a);case j:k=8,b|=24;break;case E:return s=Lr(12,u,a,b|2),s.elementType=E,s.lanes=w,s;case D:return s=Lr(13,u,a,b),s.elementType=D,s.lanes=w,s;case A:return s=Lr(19,u,a,b),s.elementType=A,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:k=10;break e;case N:k=9;break e;case R:k=11;break e;case M:k=14;break e;case O:k=16,m=null;break e}k=29,u=Error(r(130,s===null?"null":typeof s,"")),m=null}return a=Lr(k,u,a,b),a.elementType=s,a.type=m,a.lanes=w,a}function pi(s,a,u,m){return s=Lr(7,s,m,a),s.lanes=u,s}function Bp(s,a,u){return s=Lr(6,s,null,a),s.lanes=u,s}function jw(s){var a=Lr(18,null,null,0);return a.stateNode=s,a}function Vp(s,a,u){return a=Lr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ew=new WeakMap;function ds(s,a){if(typeof s=="object"&&s!==null){var u=Ew.get(s);return u!==void 0?u:(a={value:s,source:a,stack:fn(a)},Ew.set(s,a),a)}return{value:s,source:a,stack:fn(a)}}var gl=[],xl=0,lf=null,Wc=0,fs=[],ms=0,ma=null,Xs=1,Js="";function _o(s,a){gl[xl++]=Wc,gl[xl++]=lf,lf=s,Wc=a}function Nw(s,a,u){fs[ms++]=Xs,fs[ms++]=Js,fs[ms++]=ma,ma=s;var m=Xs;s=Js;var b=32-Vt(m)-1;m&=~(1<<b),u+=1;var w=32-Vt(a)+b;if(30<w){var k=b-b%5;w=(m&(1<<k)-1).toString(32),m>>=k,b-=k,Xs=1<<32-Vt(a)+b|u<<b|m,Js=w+s}else Xs=1<<w|u<<b|m,Js=s}function Hp(s){s.return!==null&&(_o(s,1),Nw(s,1,0))}function qp(s){for(;s===lf;)lf=gl[--xl],gl[xl]=null,Wc=gl[--xl],gl[xl]=null;for(;s===ma;)ma=fs[--ms],fs[ms]=null,Js=fs[--ms],fs[ms]=null,Xs=fs[--ms],fs[ms]=null}function _w(s,a){fs[ms++]=Xs,fs[ms++]=Js,fs[ms++]=ma,Xs=a.id,Js=a.overflow,ma=s}var rr=null,en=null,Ct=!1,ha=null,hs=!1,Wp=Error(r(519));function pa(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gc(ds(a,s)),Wp}function kw(s){var a=s.stateNode,u=s.type,m=s.memoizedProps;switch(a[Rn]=s,a[tr]=m,u){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(u=0;u<pu.length;u++)yt(pu[u],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":yt("invalid",a),yo(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":yt("invalid",a);break;case"textarea":yt("invalid",a),Je(a,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||m.suppressHydrationWarning===!0||qS(a.textContent,u)?(m.popover!=null&&(yt("beforetoggle",a),yt("toggle",a)),m.onScroll!=null&&yt("scroll",a),m.onScrollEnd!=null&&yt("scrollend",a),m.onClick!=null&&(a.onclick=Yn),a=!0):a=!1,a||pa(s,!0)}function Rw(s){for(rr=s.return;rr;)switch(rr.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:rr=rr.return}}function bl(s){if(s!==rr)return!1;if(!Ct)return Rw(s),Ct=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||ux(s.type,s.memoizedProps)),u=!u),u&&en&&pa(s),Rw(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));en=eC(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));en=eC(s)}else a===27?(a=en,Ra(s.type)?(s=px,px=null,en=s):en=a):en=rr?gs(s.stateNode.nextSibling):null;return!0}function gi(){en=rr=null,Ct=!1}function Gp(){var s=ha;return s!==null&&(Or===null?Or=s:Or.push.apply(Or,s),ha=null),s}function Gc(s){ha===null?ha=[s]:ha.push(s)}var Yp=B(null),xi=null,ko=null;function ga(s,a,u){ne(Yp,a._currentValue),a._currentValue=u}function Ro(s){s._currentValue=Yp.current,U(Yp)}function Kp(s,a,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===u)break;s=s.return}}function Zp(s,a,u,m){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var w=b.dependencies;if(w!==null){var k=b.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=b;for(var J=0;J<a.length;J++)if(I.context===a[J]){w.lanes|=u,I=w.alternate,I!==null&&(I.lanes|=u),Kp(w.return,u,s),m||(k=null);break e}w=I.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(r(341));k.lanes|=u,w=k.alternate,w!==null&&(w.lanes|=u),Kp(k,u,s),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===s){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function vl(s,a,u,m){s=null;for(var b=a,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var I=b.type;Ir(b.pendingProps.value,k.value)||(s!==null?s.push(I):s=[I])}}else if(b===V.current){if(k=b.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(yu):s=[yu])}b=b.return}s!==null&&Zp(a,s,u,m),a.flags|=262144}function cf(s){for(s=s.firstContext;s!==null;){if(!Ir(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function bi(s){xi=s,ko=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function sr(s){return Mw(xi,s)}function uf(s,a){return xi===null&&bi(s),Mw(s,a)}function Mw(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},ko===null){if(s===null)throw Error(r(308));ko=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ko=ko.next=a;return u}var JD=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,m){s.push(m)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},eA=e.unstable_scheduleCallback,tA=e.unstable_NormalPriority,Mn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qp(){return{controller:new JD,data:new Map,refCount:0}}function Yc(s){s.refCount--,s.refCount===0&&eA(tA,function(){s.controller.abort()})}var Kc=null,Xp=0,yl=0,wl=null;function nA(s,a){if(Kc===null){var u=Kc=[];Xp=0,yl=tx(),wl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Xp++,a.then(Dw,Dw),a}function Dw(){if(--Xp===0&&Kc!==null){wl!==null&&(wl.status="fulfilled");var s=Kc;Kc=null,yl=0,wl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rA(s,a){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return s.then(function(){m.status="fulfilled",m.value=a;for(var b=0;b<u.length;b++)(0,u[b])(a)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var Aw=z.S;z.S=function(s,a){pS=Ce(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nA(s,a),Aw!==null&&Aw(s,a)};var vi=B(null);function Jp(){var s=vi.current;return s!==null?s:Kt.pooledCache}function df(s,a){a===null?ne(vi,vi.current):ne(vi,a.pool)}function Ow(){var s=Jp();return s===null?null:{parent:Mn._currentValue,pool:s}}var Sl=Error(r(460)),eg=Error(r(474)),ff=Error(r(542)),mf={then:function(){}};function Tw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zw(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Yn,Yn),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Iw(s),s;default:if(typeof a.status=="string")a.then(Yn,Yn);else{if(s=Kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(m){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=m}},function(m){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Iw(s),s}throw wi=a,Sl}}function yi(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(wi=u,Sl):u}}var wi=null;function Pw(){if(wi===null)throw Error(r(459));var s=wi;return wi=null,s}function Iw(s){if(s===Sl||s===ff)throw Error(r(483))}var Cl=null,Zc=0;function hf(s){var a=Zc;return Zc+=1,Cl===null&&(Cl=[]),zw(Cl,s,a)}function Qc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function pf(s,a){throw a.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Lw(s){function a(ie,re){if(s){var me=ie.deletions;me===null?(ie.deletions=[re],ie.flags|=16):me.push(re)}}function u(ie,re){if(!s)return null;for(;re!==null;)a(ie,re),re=re.sibling;return null}function m(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function b(ie,re){return ie=No(ie,re),ie.index=0,ie.sibling=null,ie}function w(ie,re,me){return ie.index=me,s?(me=ie.alternate,me!==null?(me=me.index,me<re?(ie.flags|=67108866,re):me):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function k(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function I(ie,re,me,we){return re===null||re.tag!==6?(re=Bp(me,ie.mode,we),re.return=ie,re):(re=b(re,me),re.return=ie,re)}function J(ie,re,me,we){var Ze=me.type;return Ze===C?ye(ie,re,me.props.children,we,me.key):re!==null&&(re.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===O&&yi(Ze)===re.type)?(re=b(re,me.props),Qc(re,me),re.return=ie,re):(re=af(me.type,me.key,me.props,null,ie.mode,we),Qc(re,me),re.return=ie,re)}function he(ie,re,me,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==me.containerInfo||re.stateNode.implementation!==me.implementation?(re=Vp(me,ie.mode,we),re.return=ie,re):(re=b(re,me.children||[]),re.return=ie,re)}function ye(ie,re,me,we,Ze){return re===null||re.tag!==7?(re=pi(me,ie.mode,we,Ze),re.return=ie,re):(re=b(re,me),re.return=ie,re)}function je(ie,re,me){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Bp(""+re,ie.mode,me),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return me=af(re.type,re.key,re.props,null,ie.mode,me),Qc(me,re),me.return=ie,me;case S:return re=Vp(re,ie.mode,me),re.return=ie,re;case O:return re=yi(re),je(ie,re,me)}if(ce(re)||P(re))return re=pi(re,ie.mode,me,null),re.return=ie,re;if(typeof re.then=="function")return je(ie,hf(re),me);if(re.$$typeof===_)return je(ie,uf(ie,re),me);pf(ie,re)}return null}function pe(ie,re,me,we){var Ze=re!==null?re.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Ze!==null?null:I(ie,re,""+me,we);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return me.key===Ze?J(ie,re,me,we):null;case S:return me.key===Ze?he(ie,re,me,we):null;case O:return me=yi(me),pe(ie,re,me,we)}if(ce(me)||P(me))return Ze!==null?null:ye(ie,re,me,we,null);if(typeof me.then=="function")return pe(ie,re,hf(me),we);if(me.$$typeof===_)return pe(ie,re,uf(ie,me),we);pf(ie,me)}return null}function be(ie,re,me,we,Ze){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(me)||null,I(re,ie,""+we,Ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return ie=ie.get(we.key===null?me:we.key)||null,J(re,ie,we,Ze);case S:return ie=ie.get(we.key===null?me:we.key)||null,he(re,ie,we,Ze);case O:return we=yi(we),be(ie,re,me,we,Ze)}if(ce(we)||P(we))return ie=ie.get(me)||null,ye(re,ie,we,Ze,null);if(typeof we.then=="function")return be(ie,re,me,hf(we),Ze);if(we.$$typeof===_)return be(ie,re,me,uf(re,we),Ze);pf(re,we)}return null}function Le(ie,re,me,we){for(var Ze=null,Nt=null,qe=re,mt=re=0,St=null;qe!==null&&mt<me.length;mt++){qe.index>mt?(St=qe,qe=null):St=qe.sibling;var _t=pe(ie,qe,me[mt],we);if(_t===null){qe===null&&(qe=St);break}s&&qe&&_t.alternate===null&&a(ie,qe),re=w(_t,re,mt),Nt===null?Ze=_t:Nt.sibling=_t,Nt=_t,qe=St}if(mt===me.length)return u(ie,qe),Ct&&_o(ie,mt),Ze;if(qe===null){for(;mt<me.length;mt++)qe=je(ie,me[mt],we),qe!==null&&(re=w(qe,re,mt),Nt===null?Ze=qe:Nt.sibling=qe,Nt=qe);return Ct&&_o(ie,mt),Ze}for(qe=m(qe);mt<me.length;mt++)St=be(qe,ie,mt,me[mt],we),St!==null&&(s&&St.alternate!==null&&qe.delete(St.key===null?mt:St.key),re=w(St,re,mt),Nt===null?Ze=St:Nt.sibling=St,Nt=St);return s&&qe.forEach(function(Ta){return a(ie,Ta)}),Ct&&_o(ie,mt),Ze}function nt(ie,re,me,we){if(me==null)throw Error(r(151));for(var Ze=null,Nt=null,qe=re,mt=re=0,St=null,_t=me.next();qe!==null&&!_t.done;mt++,_t=me.next()){qe.index>mt?(St=qe,qe=null):St=qe.sibling;var Ta=pe(ie,qe,_t.value,we);if(Ta===null){qe===null&&(qe=St);break}s&&qe&&Ta.alternate===null&&a(ie,qe),re=w(Ta,re,mt),Nt===null?Ze=Ta:Nt.sibling=Ta,Nt=Ta,qe=St}if(_t.done)return u(ie,qe),Ct&&_o(ie,mt),Ze;if(qe===null){for(;!_t.done;mt++,_t=me.next())_t=je(ie,_t.value,we),_t!==null&&(re=w(_t,re,mt),Nt===null?Ze=_t:Nt.sibling=_t,Nt=_t);return Ct&&_o(ie,mt),Ze}for(qe=m(qe);!_t.done;mt++,_t=me.next())_t=be(qe,ie,mt,_t.value,we),_t!==null&&(s&&_t.alternate!==null&&qe.delete(_t.key===null?mt:_t.key),re=w(_t,re,mt),Nt===null?Ze=_t:Nt.sibling=_t,Nt=_t);return s&&qe.forEach(function(hO){return a(ie,hO)}),Ct&&_o(ie,mt),Ze}function Wt(ie,re,me,we){if(typeof me=="object"&&me!==null&&me.type===C&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case y:e:{for(var Ze=me.key;re!==null;){if(re.key===Ze){if(Ze=me.type,Ze===C){if(re.tag===7){u(ie,re.sibling),we=b(re,me.props.children),we.return=ie,ie=we;break e}}else if(re.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===O&&yi(Ze)===re.type){u(ie,re.sibling),we=b(re,me.props),Qc(we,me),we.return=ie,ie=we;break e}u(ie,re);break}else a(ie,re);re=re.sibling}me.type===C?(we=pi(me.props.children,ie.mode,we,me.key),we.return=ie,ie=we):(we=af(me.type,me.key,me.props,null,ie.mode,we),Qc(we,me),we.return=ie,ie=we)}return k(ie);case S:e:{for(Ze=me.key;re!==null;){if(re.key===Ze)if(re.tag===4&&re.stateNode.containerInfo===me.containerInfo&&re.stateNode.implementation===me.implementation){u(ie,re.sibling),we=b(re,me.children||[]),we.return=ie,ie=we;break e}else{u(ie,re);break}else a(ie,re);re=re.sibling}we=Vp(me,ie.mode,we),we.return=ie,ie=we}return k(ie);case O:return me=yi(me),Wt(ie,re,me,we)}if(ce(me))return Le(ie,re,me,we);if(P(me)){if(Ze=P(me),typeof Ze!="function")throw Error(r(150));return me=Ze.call(me),nt(ie,re,me,we)}if(typeof me.then=="function")return Wt(ie,re,hf(me),we);if(me.$$typeof===_)return Wt(ie,re,uf(ie,me),we);pf(ie,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,re!==null&&re.tag===6?(u(ie,re.sibling),we=b(re,me),we.return=ie,ie=we):(u(ie,re),we=Bp(me,ie.mode,we),we.return=ie,ie=we),k(ie)):u(ie,re)}return function(ie,re,me,we){try{Zc=0;var Ze=Wt(ie,re,me,we);return Cl=null,Ze}catch(qe){if(qe===Sl||qe===ff)throw qe;var Nt=Lr(29,qe,null,ie.mode);return Nt.lanes=we,Nt.return=ie,Nt}finally{}}}var Si=Lw(!0),$w=Lw(!1),xa=!1;function tg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ng(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ba(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function va(s,a,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(At&2)!==0){var b=m.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),m.pending=a,a=of(s),Sw(s,null,u),a}return sf(s,m,a,u),of(s)}function Xc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,vr(s,u)}}function rg(s,a){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?b=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?b=w=a:w=w.next=a}else b=w=a;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var sg=!1;function Jc(){if(sg){var s=wl;if(s!==null)throw s}}function eu(s,a,u,m){sg=!1;var b=s.updateQueue;xa=!1;var w=b.firstBaseUpdate,k=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var J=I,he=J.next;J.next=null,k===null?w=he:k.next=he,k=J;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,I=ye.lastBaseUpdate,I!==k&&(I===null?ye.firstBaseUpdate=he:I.next=he,ye.lastBaseUpdate=J))}if(w!==null){var je=b.baseState;k=0,ye=he=J=null,I=w;do{var pe=I.lane&-536870913,be=pe!==I.lane;if(be?(wt&pe)===pe:(m&pe)===pe){pe!==0&&pe===yl&&(sg=!0),ye!==null&&(ye=ye.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Le=s,nt=I;pe=a;var Wt=u;switch(nt.tag){case 1:if(Le=nt.payload,typeof Le=="function"){je=Le.call(Wt,je,pe);break e}je=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=nt.payload,pe=typeof Le=="function"?Le.call(Wt,je,pe):Le,pe==null)break e;je=x({},je,pe);break e;case 2:xa=!0}}pe=I.callback,pe!==null&&(s.flags|=64,be&&(s.flags|=8192),be=b.callbacks,be===null?b.callbacks=[pe]:be.push(pe))}else be={lane:pe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ye===null?(he=ye=be,J=je):ye=ye.next=be,k|=pe;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;be=I,I=be.next,be.next=null,b.lastBaseUpdate=be,b.shared.pending=null}}while(!0);ye===null&&(J=je),b.baseState=J,b.firstBaseUpdate=he,b.lastBaseUpdate=ye,w===null&&(b.shared.lanes=0),ja|=k,s.lanes=k,s.memoizedState=je}}function Fw(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Uw(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Fw(u[s],a)}var jl=B(null),gf=B(0);function Bw(s,a){s=Lo,ne(gf,s),ne(jl,a),Lo=s|a.baseLanes}function og(){ne(gf,Lo),ne(jl,jl.current)}function ag(){Lo=gf.current,U(jl),U(gf)}var $r=B(null),ps=null;function ya(s){var a=s.alternate;ne(Cn,Cn.current&1),ne($r,s),ps===null&&(a===null||jl.current!==null||a.memoizedState!==null)&&(ps=s)}function ig(s){ne(Cn,Cn.current),ne($r,s),ps===null&&(ps=s)}function Vw(s){s.tag===22?(ne(Cn,Cn.current),ne($r,s),ps===null&&(ps=s)):wa()}function wa(){ne(Cn,Cn.current),ne($r,$r.current)}function Fr(s){U($r),ps===s&&(ps=null),U(Cn)}var Cn=B(0);function xf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||mx(u)||hx(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mo=0,dt=null,Ht=null,Dn=null,bf=!1,El=!1,Ci=!1,vf=0,tu=0,Nl=null,sA=0;function gn(){throw Error(r(321))}function lg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Ir(s[u],a[u]))return!1;return!0}function cg(s,a,u,m,b,w){return Mo=w,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?N0:jg,Ci=!1,w=u(m,b),Ci=!1,El&&(w=qw(a,u,m,b)),Hw(s),w}function Hw(s){z.H=su;var a=Ht!==null&&Ht.next!==null;if(Mo=0,Dn=Ht=dt=null,bf=!1,tu=0,Nl=null,a)throw Error(r(300));s===null||An||(s=s.dependencies,s!==null&&cf(s)&&(An=!0))}function qw(s,a,u,m){dt=s;var b=0;do{if(El&&(Nl=null),tu=0,El=!1,25<=b)throw Error(r(301));if(b+=1,Dn=Ht=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}z.H=_0,w=a(u,m)}while(El);return w}function oA(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?nu(a):a,s=s.useState()[0],(Ht!==null?Ht.memoizedState:null)!==s&&(dt.flags|=1024),a}function ug(){var s=vf!==0;return vf=0,s}function dg(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function fg(s){if(bf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}bf=!1}Mo=0,Dn=Ht=dt=null,El=!1,tu=vf=0,Nl=null}function wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?dt.memoizedState=Dn=s:Dn=Dn.next=s,Dn}function jn(){if(Ht===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var a=Dn===null?dt.memoizedState:Dn.next;if(a!==null)Dn=a,Ht=s;else{if(s===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Dn===null?dt.memoizedState=Dn=s:Dn=Dn.next=s}return Dn}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(s){var a=tu;return tu+=1,Nl===null&&(Nl=[]),s=zw(Nl,s,a),a=dt,(Dn===null?a.memoizedState:Dn.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?N0:jg),s}function wf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nu(s);if(s.$$typeof===_)return sr(s)}throw Error(r(438,String(s)))}function mg(s){var a=null,u=dt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var m=dt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=yf(),dt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),m=0;m<s;m++)u[m]=T;return a.index++,u}function Do(s,a){return typeof a=="function"?a(s):a}function Sf(s){var a=jn();return hg(a,Ht,s)}function hg(s,a,u){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var b=s.baseQueue,w=m.pending;if(w!==null){if(b!==null){var k=b.next;b.next=w.next,w.next=k}a.baseQueue=b=w,m.pending=null}if(w=s.baseState,b===null)s.memoizedState=w;else{a=b.next;var I=k=null,J=null,he=a,ye=!1;do{var je=he.lane&-536870913;if(je!==he.lane?(wt&je)===je:(Mo&je)===je){var pe=he.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),je===yl&&(ye=!0);else if((Mo&pe)===pe){he=he.next,pe===yl&&(ye=!0);continue}else je={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(I=J=je,k=w):J=J.next=je,dt.lanes|=pe,ja|=pe;je=he.action,Ci&&u(w,je),w=he.hasEagerState?he.eagerState:u(w,je)}else pe={lane:je,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(I=J=pe,k=w):J=J.next=pe,dt.lanes|=je,ja|=je;he=he.next}while(he!==null&&he!==a);if(J===null?k=w:J.next=I,!Ir(w,s.memoizedState)&&(An=!0,ye&&(u=wl,u!==null)))throw u;s.memoizedState=w,s.baseState=k,s.baseQueue=J,m.lastRenderedState=w}return b===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function pg(s){var a=jn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var m=u.dispatch,b=u.pending,w=a.memoizedState;if(b!==null){u.pending=null;var k=b=b.next;do w=s(w,k.action),k=k.next;while(k!==b);Ir(w,a.memoizedState)||(An=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,m]}function Ww(s,a,u){var m=dt,b=jn(),w=Ct;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=a();var k=!Ir((Ht||b).memoizedState,u);if(k&&(b.memoizedState=u,An=!0),b=b.queue,bg(Kw.bind(null,m,b,s),[s]),b.getSnapshot!==a||k||Dn!==null&&Dn.memoizedState.tag&1){if(m.flags|=2048,_l(9,{destroy:void 0},Yw.bind(null,m,b,u,a),null),Kt===null)throw Error(r(349));w||(Mo&127)!==0||Gw(m,a,u)}return u}function Gw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=dt.updateQueue,a===null?(a=yf(),dt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Yw(s,a,u,m){a.value=u,a.getSnapshot=m,Zw(a)&&Qw(s)}function Kw(s,a,u){return u(function(){Zw(a)&&Qw(s)})}function Zw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Ir(s,u)}catch{return!0}}function Qw(s){var a=hi(s,2);a!==null&&Tr(a,s,2)}function gg(s){var a=wr();if(typeof s=="function"){var u=s;if(s=u(),Ci){Bt(!0);try{u()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:s},a}function Xw(s,a,u,m){return s.baseState=u,hg(s,Ht,typeof m=="function"?m:Do)}function aA(s,a,u,m,b){if(Ef(s))throw Error(r(485));if(s=a.action,s!==null){var w={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};z.T!==null?u(!0):w.isTransition=!1,m(w),u=a.pending,u===null?(w.next=a.pending=w,Jw(a,w)):(w.next=u.next,a.pending=u.next=w)}}function Jw(s,a){var u=a.action,m=a.payload,b=s.state;if(a.isTransition){var w=z.T,k={};z.T=k;try{var I=u(b,m),J=z.S;J!==null&&J(k,I),e0(s,a,I)}catch(he){xg(s,a,he)}finally{w!==null&&k.types!==null&&(w.types=k.types),z.T=w}}else try{w=u(b,m),e0(s,a,w)}catch(he){xg(s,a,he)}}function e0(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){t0(s,a,m)},function(m){return xg(s,a,m)}):t0(s,a,u)}function t0(s,a,u){a.status="fulfilled",a.value=u,n0(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Jw(s,u)))}function xg(s,a,u){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=u,n0(a),a=a.next;while(a!==m)}s.action=null}function n0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function r0(s,a){return a}function s0(s,a){if(Ct){var u=Kt.formState;if(u!==null){e:{var m=dt;if(Ct){if(en){t:{for(var b=en,w=hs;b.nodeType!==8;){if(!w){b=null;break t}if(b=gs(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){en=gs(b.nextSibling),m=b.data==="F!";break e}}pa(m)}m=!1}m&&(a=u[0])}}return u=wr(),u.memoizedState=u.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:a},u.queue=m,u=C0.bind(null,dt,m),m.dispatch=u,m=gg(!1),w=Cg.bind(null,dt,!1,m.queue),m=wr(),b={state:a,dispatch:null,action:s,pending:null},m.queue=b,u=aA.bind(null,dt,b,w,u),b.dispatch=u,m.memoizedState=s,[a,u,!1]}function o0(s){var a=jn();return a0(a,Ht,s)}function a0(s,a,u){if(a=hg(s,a,r0)[0],s=Sf(Do)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var m=nu(a)}catch(k){throw k===Sl?ff:k}else m=a;a=jn();var b=a.queue,w=b.dispatch;return u!==a.memoizedState&&(dt.flags|=2048,_l(9,{destroy:void 0},iA.bind(null,b,u),null)),[m,w,s]}function iA(s,a){s.action=a}function i0(s){var a=jn(),u=Ht;if(u!==null)return a0(a,u,s);jn(),a=a.memoizedState,u=jn();var m=u.queue.dispatch;return u.memoizedState=s,[a,m,!1]}function _l(s,a,u,m){return s={tag:s,create:u,deps:m,inst:a,next:null},a=dt.updateQueue,a===null&&(a=yf(),dt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,a.lastEffect=s),s}function l0(){return jn().memoizedState}function Cf(s,a,u,m){var b=wr();dt.flags|=s,b.memoizedState=_l(1|a,{destroy:void 0},u,m===void 0?null:m)}function jf(s,a,u,m){var b=jn();m=m===void 0?null:m;var w=b.memoizedState.inst;Ht!==null&&m!==null&&lg(m,Ht.memoizedState.deps)?b.memoizedState=_l(a,w,u,m):(dt.flags|=s,b.memoizedState=_l(1|a,w,u,m))}function c0(s,a){Cf(8390656,8,s,a)}function bg(s,a){jf(2048,8,s,a)}function lA(s){dt.flags|=4;var a=dt.updateQueue;if(a===null)a=yf(),dt.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function u0(s){var a=jn().memoizedState;return lA({ref:a,nextImpl:s}),function(){if((At&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function d0(s,a){return jf(4,2,s,a)}function f0(s,a){return jf(4,4,s,a)}function m0(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function h0(s,a,u){u=u!=null?u.concat([s]):null,jf(4,4,m0.bind(null,a,s),u)}function vg(){}function p0(s,a){var u=jn();a=a===void 0?null:a;var m=u.memoizedState;return a!==null&&lg(a,m[1])?m[0]:(u.memoizedState=[s,a],s)}function g0(s,a){var u=jn();a=a===void 0?null:a;var m=u.memoizedState;if(a!==null&&lg(a,m[1]))return m[0];if(m=s(),Ci){Bt(!0);try{s()}finally{Bt(!1)}}return u.memoizedState=[m,a],m}function yg(s,a,u){return u===void 0||(Mo&1073741824)!==0&&(wt&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=xS(),dt.lanes|=s,ja|=s,u)}function x0(s,a,u,m){return Ir(u,a)?u:jl.current!==null?(s=yg(s,u,m),Ir(s,a)||(An=!0),s):(Mo&42)===0||(Mo&1073741824)!==0&&(wt&261930)===0?(An=!0,s.memoizedState=u):(s=xS(),dt.lanes|=s,ja|=s,a)}function b0(s,a,u,m,b){var w=q.p;q.p=w!==0&&8>w?w:8;var k=z.T,I={};z.T=I,Cg(s,!1,a,u);try{var J=b(),he=z.S;if(he!==null&&he(I,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ye=rA(J,m);ru(s,a,ye,Vr(s))}else ru(s,a,m,Vr(s))}catch(je){ru(s,a,{then:function(){},status:"rejected",reason:je},Vr())}finally{q.p=w,k!==null&&I.types!==null&&(k.types=I.types),z.T=k}}function cA(){}function wg(s,a,u,m){if(s.tag!==5)throw Error(r(476));var b=v0(s).queue;b0(s,b,a,Z,u===null?cA:function(){return y0(s),u(m)})}function v0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:Z},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function y0(s){var a=v0(s);a.next===null&&(a=s.alternate.memoizedState),ru(s,a.next.queue,{},Vr())}function Sg(){return sr(yu)}function w0(){return jn().memoizedState}function S0(){return jn().memoizedState}function uA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Vr();s=ba(u);var m=va(a,s,u);m!==null&&(Tr(m,a,u),Xc(m,a,u)),a={cache:Qp()},s.payload=a;return}a=a.return}}function dA(s,a,u){var m=Vr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ef(s)?j0(a,u):(u=Fp(s,a,u,m),u!==null&&(Tr(u,s,m),E0(u,a,m)))}function C0(s,a,u){var m=Vr();ru(s,a,u,m)}function ru(s,a,u,m){var b={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ef(s))j0(a,b);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var k=a.lastRenderedState,I=w(k,u);if(b.hasEagerState=!0,b.eagerState=I,Ir(I,k))return sf(s,a,b,0),Kt===null&&rf(),!1}catch{}finally{}if(u=Fp(s,a,b,m),u!==null)return Tr(u,s,m),E0(u,a,m),!0}return!1}function Cg(s,a,u,m){if(m={lane:2,revertLane:tx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ef(s)){if(a)throw Error(r(479))}else a=Fp(s,u,m,2),a!==null&&Tr(a,s,2)}function Ef(s){var a=s.alternate;return s===dt||a!==null&&a===dt}function j0(s,a){El=bf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function E0(s,a,u){if((u&4194048)!==0){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,vr(s,u)}}var su={readContext:sr,use:wf,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};su.useEffectEvent=gn;var N0={readContext:sr,use:wf,useCallback:function(s,a){return wr().memoizedState=[s,a===void 0?null:a],s},useContext:sr,useEffect:c0,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Cf(4194308,4,m0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cf(4194308,4,s,a)},useInsertionEffect:function(s,a){Cf(4,2,s,a)},useMemo:function(s,a){var u=wr();a=a===void 0?null:a;var m=s();if(Ci){Bt(!0);try{s()}finally{Bt(!1)}}return u.memoizedState=[m,a],m},useReducer:function(s,a,u){var m=wr();if(u!==void 0){var b=u(a);if(Ci){Bt(!0);try{u(a)}finally{Bt(!1)}}}else b=a;return m.memoizedState=m.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},m.queue=s,s=s.dispatch=dA.bind(null,dt,s),[m.memoizedState,s]},useRef:function(s){var a=wr();return s={current:s},a.memoizedState=s},useState:function(s){s=gg(s);var a=s.queue,u=C0.bind(null,dt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:vg,useDeferredValue:function(s,a){var u=wr();return yg(u,s,a)},useTransition:function(){var s=gg(!1);return s=b0.bind(null,dt,s.queue,!0,!1),wr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var m=dt,b=wr();if(Ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Kt===null)throw Error(r(349));(wt&127)!==0||Gw(m,a,u)}b.memoizedState=u;var w={value:u,getSnapshot:a};return b.queue=w,c0(Kw.bind(null,m,w,s),[s]),m.flags|=2048,_l(9,{destroy:void 0},Yw.bind(null,m,w,u,a),null),u},useId:function(){var s=wr(),a=Kt.identifierPrefix;if(Ct){var u=Js,m=Xs;u=(m&~(1<<32-Vt(m)-1)).toString(32)+u,a="_"+a+"R_"+u,u=vf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=sA++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Sg,useFormState:s0,useActionState:s0,useOptimistic:function(s){var a=wr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Cg.bind(null,dt,!0,u),u.dispatch=a,[s,a]},useMemoCache:mg,useCacheRefresh:function(){return wr().memoizedState=uA.bind(null,dt)},useEffectEvent:function(s){var a=wr(),u={impl:s};return a.memoizedState=u,function(){if((At&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},jg={readContext:sr,use:wf,useCallback:p0,useContext:sr,useEffect:bg,useImperativeHandle:h0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:g0,useReducer:Sf,useRef:l0,useState:function(){return Sf(Do)},useDebugValue:vg,useDeferredValue:function(s,a){var u=jn();return x0(u,Ht.memoizedState,s,a)},useTransition:function(){var s=Sf(Do)[0],a=jn().memoizedState;return[typeof s=="boolean"?s:nu(s),a]},useSyncExternalStore:Ww,useId:w0,useHostTransitionStatus:Sg,useFormState:o0,useActionState:o0,useOptimistic:function(s,a){var u=jn();return Xw(u,Ht,s,a)},useMemoCache:mg,useCacheRefresh:S0};jg.useEffectEvent=u0;var _0={readContext:sr,use:wf,useCallback:p0,useContext:sr,useEffect:bg,useImperativeHandle:h0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:g0,useReducer:pg,useRef:l0,useState:function(){return pg(Do)},useDebugValue:vg,useDeferredValue:function(s,a){var u=jn();return Ht===null?yg(u,s,a):x0(u,Ht.memoizedState,s,a)},useTransition:function(){var s=pg(Do)[0],a=jn().memoizedState;return[typeof s=="boolean"?s:nu(s),a]},useSyncExternalStore:Ww,useId:w0,useHostTransitionStatus:Sg,useFormState:i0,useActionState:i0,useOptimistic:function(s,a){var u=jn();return Ht!==null?Xw(u,Ht,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:mg,useCacheRefresh:S0};_0.useEffectEvent=u0;function Eg(s,a,u,m){a=s.memoizedState,u=u(m,a),u=u==null?a:x({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ng={enqueueSetState:function(s,a,u){s=s._reactInternals;var m=Vr(),b=ba(m);b.payload=a,u!=null&&(b.callback=u),a=va(s,b,m),a!==null&&(Tr(a,s,m),Xc(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var m=Vr(),b=ba(m);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=va(s,b,m),a!==null&&(Tr(a,s,m),Xc(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Vr(),m=ba(u);m.tag=2,a!=null&&(m.callback=a),a=va(s,m,u),a!==null&&(Tr(a,s,u),Xc(a,s,u))}};function k0(s,a,u,m,b,w,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,k):a.prototype&&a.prototype.isPureReactComponent?!Hc(u,m)||!Hc(b,w):!0}function R0(s,a,u,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==s&&Ng.enqueueReplaceState(a,a.state,null)}function ji(s,a){var u=a;if("ref"in a){u={};for(var m in a)m!=="ref"&&(u[m]=a[m])}if(s=s.defaultProps){u===a&&(u=x({},u));for(var b in s)u[b]===void 0&&(u[b]=s[b])}return u}function M0(s){nf(s)}function D0(s){console.error(s)}function A0(s){nf(s)}function Nf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function O0(s,a,u){try{var m=s.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function _g(s,a,u){return u=ba(u),u.tag=3,u.payload={element:null},u.callback=function(){Nf(s,a)},u}function T0(s){return s=ba(s),s.tag=3,s}function z0(s,a,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var w=m.value;s.payload=function(){return b(w)},s.callback=function(){O0(a,u,m)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){O0(a,u,m),typeof b!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function fA(s,a,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=u.alternate,a!==null&&vl(a,u,b,!0),u=$r.current,u!==null){switch(u.tag){case 31:case 13:return ps===null?Lf():u.alternate===null&&xn===0&&(xn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===mf?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([m]):a.add(m),Xg(s,m,b)),!1;case 22:return u.flags|=65536,m===mf?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([m]):u.add(m)),Xg(s,m,b)),!1}throw Error(r(435,u.tag))}return Xg(s,m,b),Lf(),!1}if(Ct)return a=$r.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,m!==Wp&&(s=Error(r(422),{cause:m}),Gc(ds(s,u)))):(m!==Wp&&(a=Error(r(423),{cause:m}),Gc(ds(a,u))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,m=ds(m,u),b=_g(s.stateNode,m,b),rg(s,b),xn!==4&&(xn=2)),!1;var w=Error(r(520),{cause:m});if(w=ds(w,u),fu===null?fu=[w]:fu.push(w),xn!==4&&(xn=2),a===null)return!0;m=ds(m,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=b&-b,u.lanes|=s,s=_g(u.stateNode,m,s),rg(u,s),!1;case 1:if(a=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w))))return u.flags|=65536,b&=-b,u.lanes|=b,b=T0(b),z0(b,s,u,m),rg(u,b),!1}u=u.return}while(u!==null);return!1}var kg=Error(r(461)),An=!1;function or(s,a,u,m){a.child=s===null?$w(a,null,u,m):Si(a,s.child,u,m)}function P0(s,a,u,m,b){u=u.render;var w=a.ref;if("ref"in m){var k={};for(var I in m)I!=="ref"&&(k[I]=m[I])}else k=m;return bi(a),m=cg(s,a,u,k,w,b),I=ug(),s!==null&&!An?(dg(s,a,b),Ao(s,a,b)):(Ct&&I&&Hp(a),a.flags|=1,or(s,a,m,b),a.child)}function I0(s,a,u,m,b){if(s===null){var w=u.type;return typeof w=="function"&&!Up(w)&&w.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=w,L0(s,a,w,m,b)):(s=af(u.type,null,m,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!Pg(s,b)){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:Hc,u(k,m)&&s.ref===a.ref)return Ao(s,a,b)}return a.flags|=1,s=No(w,m),s.ref=a.ref,s.return=a,a.child=s}function L0(s,a,u,m,b){if(s!==null){var w=s.memoizedProps;if(Hc(w,m)&&s.ref===a.ref)if(An=!1,a.pendingProps=m=w,Pg(s,b))(s.flags&131072)!==0&&(An=!0);else return a.lanes=s.lanes,Ao(s,a,b)}return Rg(s,a,u,m,b)}function $0(s,a,u,m){var b=m.children,w=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,s!==null){for(m=a.child=s.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~w}else m=0,a.child=null;return F0(s,a,w,u,m)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&df(a,w!==null?w.cachePool:null),w!==null?Bw(a,w):og(),Vw(a);else return m=a.lanes=536870912,F0(s,a,w!==null?w.baseLanes|u:u,u,m)}else w!==null?(df(a,w.cachePool),Bw(a,w),wa(),a.memoizedState=null):(s!==null&&df(a,null),og(),wa());return or(s,a,b,u),a.child}function ou(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function F0(s,a,u,m,b){var w=Jp();return w=w===null?null:{parent:Mn._currentValue,pool:w},a.memoizedState={baseLanes:u,cachePool:w},s!==null&&df(a,null),og(),Vw(a),s!==null&&vl(s,a,m,!0),a.childLanes=b,null}function _f(s,a){return a=Rf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function U0(s,a,u){return Si(a,s.child,null,u),s=_f(a,a.pendingProps),s.flags|=2,Fr(a),a.memoizedState=null,s}function mA(s,a,u){var m=a.pendingProps,b=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ct){if(m.mode==="hidden")return s=_f(a,m),a.lanes=536870912,ou(null,s);if(ig(a),(s=en)?(s=JS(s,hs),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ma!==null?{id:Xs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},u=jw(s),u.return=a,a.child=u,rr=a,en=null)):s=null,s===null)throw pa(a);return a.lanes=536870912,null}return _f(a,m)}var w=s.memoizedState;if(w!==null){var k=w.dehydrated;if(ig(a),b)if(a.flags&256)a.flags&=-257,a=U0(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(An||vl(s,a,u,!1),b=(u&s.childLanes)!==0,An||b){if(m=Kt,m!==null&&(k=cr(m,u),k!==0&&k!==w.retryLane))throw w.retryLane=k,hi(s,k),Tr(m,s,k),kg;Lf(),a=U0(s,a,u)}else s=w.treeContext,en=gs(k.nextSibling),rr=a,Ct=!0,ha=null,hs=!1,s!==null&&_w(a,s),a=_f(a,m),a.flags|=4096;return a}return s=No(s.child,{mode:m.mode,children:m.children}),s.ref=a.ref,a.child=s,s.return=a,s}function kf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Rg(s,a,u,m,b){return bi(a),u=cg(s,a,u,m,void 0,b),m=ug(),s!==null&&!An?(dg(s,a,b),Ao(s,a,b)):(Ct&&m&&Hp(a),a.flags|=1,or(s,a,u,b),a.child)}function B0(s,a,u,m,b,w){return bi(a),a.updateQueue=null,u=qw(a,m,u,b),Hw(s),m=ug(),s!==null&&!An?(dg(s,a,w),Ao(s,a,w)):(Ct&&m&&Hp(a),a.flags|=1,or(s,a,u,w),a.child)}function V0(s,a,u,m,b){if(bi(a),a.stateNode===null){var w=pl,k=u.contextType;typeof k=="object"&&k!==null&&(w=sr(k)),w=new u(m,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ng,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=m,w.state=a.memoizedState,w.refs={},tg(a),k=u.contextType,w.context=typeof k=="object"&&k!==null?sr(k):pl,w.state=a.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Eg(a,u,k,m),w.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&Ng.enqueueReplaceState(w,w.state,null),eu(a,m,w,b),Jc(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(s===null){w=a.stateNode;var I=a.memoizedProps,J=ji(u,I);w.props=J;var he=w.context,ye=u.contextType;k=pl,typeof ye=="object"&&ye!==null&&(k=sr(ye));var je=u.getDerivedStateFromProps;ye=typeof je=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ye||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||he!==k)&&R0(a,w,m,k),xa=!1;var pe=a.memoizedState;w.state=pe,eu(a,m,w,b),Jc(),he=a.memoizedState,I||pe!==he||xa?(typeof je=="function"&&(Eg(a,u,je,m),he=a.memoizedState),(J=xa||k0(a,u,J,m,pe,he,k))?(ye||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=he),w.props=m,w.state=he,w.context=k,m=J):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{w=a.stateNode,ng(s,a),k=a.memoizedProps,ye=ji(u,k),w.props=ye,je=a.pendingProps,pe=w.context,he=u.contextType,J=pl,typeof he=="object"&&he!==null&&(J=sr(he)),I=u.getDerivedStateFromProps,(he=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==je||pe!==J)&&R0(a,w,m,J),xa=!1,pe=a.memoizedState,w.state=pe,eu(a,m,w,b),Jc();var be=a.memoizedState;k!==je||pe!==be||xa||s!==null&&s.dependencies!==null&&cf(s.dependencies)?(typeof I=="function"&&(Eg(a,u,I,m),be=a.memoizedState),(ye=xa||k0(a,u,ye,m,pe,be,J)||s!==null&&s.dependencies!==null&&cf(s.dependencies))?(he||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,be,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,be,J)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=be),w.props=m,w.state=be,w.context=J,m=ye):(typeof w.componentDidUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),m=!1)}return w=m,kf(s,a),m=(a.flags&128)!==0,w||m?(w=a.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,s!==null&&m?(a.child=Si(a,s.child,null,b),a.child=Si(a,null,u,b)):or(s,a,u,b),a.memoizedState=w.state,s=a.child):s=Ao(s,a,b),s}function H0(s,a,u,m){return gi(),a.flags|=256,or(s,a,u,m),a.child}var Mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dg(s){return{baseLanes:s,cachePool:Ow()}}function Ag(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Br),s}function q0(s,a,u){var m=a.pendingProps,b=!1,w=(a.flags&128)!==0,k;if((k=w)||(k=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),k&&(b=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ct){if(b?ya(a):wa(),(s=en)?(s=JS(s,hs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ma!==null?{id:Xs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},u=jw(s),u.return=a,a.child=u,rr=a,en=null)):s=null,s===null)throw pa(a);return hx(s)?a.lanes=32:a.lanes=536870912,null}var I=m.children;return m=m.fallback,b?(wa(),b=a.mode,I=Rf({mode:"hidden",children:I},b),m=pi(m,b,u,null),I.return=a,m.return=a,I.sibling=m,a.child=I,m=a.child,m.memoizedState=Dg(u),m.childLanes=Ag(s,k,u),a.memoizedState=Mg,ou(null,m)):(ya(a),Og(a,I))}var J=s.memoizedState;if(J!==null&&(I=J.dehydrated,I!==null)){if(w)a.flags&256?(ya(a),a.flags&=-257,a=Tg(s,a,u)):a.memoizedState!==null?(wa(),a.child=s.child,a.flags|=128,a=null):(wa(),I=m.fallback,b=a.mode,m=Rf({mode:"visible",children:m.children},b),I=pi(I,b,u,null),I.flags|=2,m.return=a,I.return=a,m.sibling=I,a.child=m,Si(a,s.child,null,u),m=a.child,m.memoizedState=Dg(u),m.childLanes=Ag(s,k,u),a.memoizedState=Mg,a=ou(null,m));else if(ya(a),hx(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var he=k.dgst;k=he,m=Error(r(419)),m.stack="",m.digest=k,Gc({value:m,source:null,stack:null}),a=Tg(s,a,u)}else if(An||vl(s,a,u,!1),k=(u&s.childLanes)!==0,An||k){if(k=Kt,k!==null&&(m=cr(k,u),m!==0&&m!==J.retryLane))throw J.retryLane=m,hi(s,m),Tr(k,s,m),kg;mx(I)||Lf(),a=Tg(s,a,u)}else mx(I)?(a.flags|=192,a.child=s.child,a=null):(s=J.treeContext,en=gs(I.nextSibling),rr=a,Ct=!0,ha=null,hs=!1,s!==null&&_w(a,s),a=Og(a,m.children),a.flags|=4096);return a}return b?(wa(),I=m.fallback,b=a.mode,J=s.child,he=J.sibling,m=No(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,he!==null?I=No(he,I):(I=pi(I,b,u,null),I.flags|=2),I.return=a,m.return=a,m.sibling=I,a.child=m,ou(null,m),m=a.child,I=s.child.memoizedState,I===null?I=Dg(u):(b=I.cachePool,b!==null?(J=Mn._currentValue,b=b.parent!==J?{parent:J,pool:J}:b):b=Ow(),I={baseLanes:I.baseLanes|u,cachePool:b}),m.memoizedState=I,m.childLanes=Ag(s,k,u),a.memoizedState=Mg,ou(s.child,m)):(ya(a),u=s.child,s=u.sibling,u=No(u,{mode:"visible",children:m.children}),u.return=a,u.sibling=null,s!==null&&(k=a.deletions,k===null?(a.deletions=[s],a.flags|=16):k.push(s)),a.child=u,a.memoizedState=null,u)}function Og(s,a){return a=Rf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Rf(s,a){return s=Lr(22,s,null,a),s.lanes=0,s}function Tg(s,a,u){return Si(a,s.child,null,u),s=Og(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function W0(s,a,u){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Kp(s.return,a,u)}function zg(s,a,u,m,b,w){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b,treeForkCount:w}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=u,k.tailMode=b,k.treeForkCount=w)}function G0(s,a,u){var m=a.pendingProps,b=m.revealOrder,w=m.tail;m=m.children;var k=Cn.current,I=(k&2)!==0;if(I?(k=k&1|2,a.flags|=128):k&=1,ne(Cn,k),or(s,a,m,u),m=Ct?Wc:0,!I&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&W0(s,u,a);else if(s.tag===19)W0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(u=a.child,b=null;u!==null;)s=u.alternate,s!==null&&xf(s)===null&&(b=u),u=u.sibling;u=b,u===null?(b=a.child,a.child=null):(b=u.sibling,u.sibling=null),zg(a,!1,b,u,w,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&xf(s)===null){a.child=b;break}s=b.sibling,b.sibling=u,u=b,b=s}zg(a,!0,u,null,w,m);break;case"together":zg(a,!1,null,null,void 0,m);break;default:a.memoizedState=null}return a.child}function Ao(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ja|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(vl(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=No(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=No(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Pg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&cf(s)))}function hA(s,a,u){switch(a.tag){case 3:te(a,a.stateNode.containerInfo),ga(a,Mn,s.memoizedState.cache),gi();break;case 27:case 5:oe(a);break;case 4:te(a,a.stateNode.containerInfo);break;case 10:ga(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ig(a),null;break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(ya(a),a.flags|=128,null):(u&a.child.childLanes)!==0?q0(s,a,u):(ya(a),s=Ao(s,a,u),s!==null?s.sibling:null);ya(a);break;case 19:var b=(s.flags&128)!==0;if(m=(u&a.childLanes)!==0,m||(vl(s,a,u,!1),m=(u&a.childLanes)!==0),b){if(m)return G0(s,a,u);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ne(Cn,Cn.current),m)break;return null;case 22:return a.lanes=0,$0(s,a,u,a.pendingProps);case 24:ga(a,Mn,s.memoizedState.cache)}return Ao(s,a,u)}function Y0(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)An=!0;else{if(!Pg(s,u)&&(a.flags&128)===0)return An=!1,hA(s,a,u);An=(s.flags&131072)!==0}else An=!1,Ct&&(a.flags&1048576)!==0&&Nw(a,Wc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var m=a.pendingProps;if(s=yi(a.elementType),a.type=s,typeof s=="function")Up(s)?(m=ji(s,m),a.tag=1,a=V0(null,a,s,m,u)):(a.tag=0,a=Rg(null,a,s,m,u));else{if(s!=null){var b=s.$$typeof;if(b===R){a.tag=11,a=P0(null,a,s,m,u);break e}else if(b===M){a.tag=14,a=I0(null,a,s,m,u);break e}}throw a=W(s)||s,Error(r(306,a,""))}}return a;case 0:return Rg(s,a,a.type,a.pendingProps,u);case 1:return m=a.type,b=ji(m,a.pendingProps),V0(s,a,m,b,u);case 3:e:{if(te(a,a.stateNode.containerInfo),s===null)throw Error(r(387));m=a.pendingProps;var w=a.memoizedState;b=w.element,ng(s,a),eu(a,m,null,u);var k=a.memoizedState;if(m=k.cache,ga(a,Mn,m),m!==w.cache&&Zp(a,[Mn],u,!0),Jc(),m=k.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=H0(s,a,m,u);break e}else if(m!==b){b=ds(Error(r(424)),a),Gc(b),a=H0(s,a,m,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(en=gs(s.firstChild),rr=a,Ct=!0,ha=null,hs=!0,u=$w(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(gi(),m===b){a=Ao(s,a,u);break e}or(s,a,m,u)}a=a.child}return a;case 26:return kf(s,a),s===null?(u=oC(a.type,null,a.pendingProps,null))?a.memoizedState=u:Ct||(u=a.type,s=a.pendingProps,m=qf(Y.current).createElement(u),m[Rn]=a,m[tr]=s,ar(m,u,s),pn(m),a.stateNode=m):a.memoizedState=oC(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return oe(a),s===null&&Ct&&(m=a.stateNode=nC(a.type,a.pendingProps,Y.current),rr=a,hs=!0,b=en,Ra(a.type)?(px=b,en=gs(m.firstChild)):en=b),or(s,a,a.pendingProps.children,u),kf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ct&&((b=m=en)&&(m=HA(m,a.type,a.pendingProps,hs),m!==null?(a.stateNode=m,rr=a,en=gs(m.firstChild),hs=!1,b=!0):b=!1),b||pa(a)),oe(a),b=a.type,w=a.pendingProps,k=s!==null?s.memoizedProps:null,m=w.children,ux(b,w)?m=null:k!==null&&ux(b,k)&&(a.flags|=32),a.memoizedState!==null&&(b=cg(s,a,oA,null,null,u),yu._currentValue=b),kf(s,a),or(s,a,m,u),a.child;case 6:return s===null&&Ct&&((s=u=en)&&(u=qA(u,a.pendingProps,hs),u!==null?(a.stateNode=u,rr=a,en=null,s=!0):s=!1),s||pa(a)),null;case 13:return q0(s,a,u);case 4:return te(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Si(a,null,m,u):or(s,a,m,u),a.child;case 11:return P0(s,a,a.type,a.pendingProps,u);case 7:return or(s,a,a.pendingProps,u),a.child;case 8:return or(s,a,a.pendingProps.children,u),a.child;case 12:return or(s,a,a.pendingProps.children,u),a.child;case 10:return m=a.pendingProps,ga(a,a.type,m.value),or(s,a,m.children,u),a.child;case 9:return b=a.type._context,m=a.pendingProps.children,bi(a),b=sr(b),m=m(b),a.flags|=1,or(s,a,m,u),a.child;case 14:return I0(s,a,a.type,a.pendingProps,u);case 15:return L0(s,a,a.type,a.pendingProps,u);case 19:return G0(s,a,u);case 31:return mA(s,a,u);case 22:return $0(s,a,u,a.pendingProps);case 24:return bi(a),m=sr(Mn),s===null?(b=Jp(),b===null&&(b=Kt,w=Qp(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=u),b=w),a.memoizedState={parent:m,cache:b},tg(a),ga(a,Mn,b)):((s.lanes&u)!==0&&(ng(s,a),eu(a,null,null,u),Jc()),b=s.memoizedState,w=a.memoizedState,b.parent!==m?(b={parent:m,cache:m},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),ga(a,Mn,m)):(m=w.cache,ga(a,Mn,m),m!==b.cache&&Zp(a,[Mn],u,!0))),or(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Oo(s){s.flags|=4}function Ig(s,a,u,m,b){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(wS())s.flags|=8192;else throw wi=mf,eg}else s.flags&=-16777217}function K0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uC(a))if(wS())s.flags|=8192;else throw wi=mf,eg}function Mf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?wn():536870912,s.lanes|=a,Dl|=a)}function au(s,a){if(!Ct)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function tn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(a)for(var b=s.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=m,s.childLanes=u,a}function pA(s,a,u){var m=a.pendingProps;switch(qp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return tn(a),null;case 3:return u=a.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),Ro(Mn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(bl(a)?Oo(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gp())),tn(a),null;case 26:var b=a.type,w=a.memoizedState;return s===null?(Oo(a),w!==null?(tn(a),K0(a,w)):(tn(a),Ig(a,b,null,m,u))):w?w!==s.memoizedState?(Oo(a),tn(a),K0(a,w)):(tn(a),a.flags&=-16777217):(s=s.memoizedProps,s!==m&&Oo(a),tn(a),Ig(a,b,s,m,u)),null;case 27:if(fe(a),u=Y.current,b=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==m&&Oo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return tn(a),null}s=K.current,bl(a)?kw(a):(s=nC(b,m,u),a.stateNode=s,Oo(a))}return tn(a),null;case 5:if(fe(a),b=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==m&&Oo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return tn(a),null}if(w=K.current,bl(a))kw(a);else{var k=qf(Y.current);switch(w){case 1:w=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=k.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?k.createElement(b,{is:m.is}):k.createElement(b)}}w[Rn]=a,w[tr]=m;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)w.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=w;e:switch(ar(w,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Oo(a)}}return tn(a),Ig(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==m&&Oo(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(r(166));if(s=Y.current,bl(a)){if(s=a.stateNode,u=a.memoizedProps,m=null,b=rr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}s[Rn]=a,s=!!(s.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||qS(s.nodeValue,u)),s||pa(a,!0)}else s=qf(s).createTextNode(m),s[Rn]=a,a.stateNode=s}return tn(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(m=bl(a),u!==null){if(s===null){if(!m)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Rn]=a}else gi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),s=!1}else u=Gp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(Fr(a),a):(Fr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return tn(a),null;case 13:if(m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=bl(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Rn]=a}else gi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),b=!1}else b=Gp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Fr(a),a):(Fr(a),null)}return Fr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=m!==null,s=s!==null&&s.memoizedState!==null,u&&(m=a.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==b&&(m.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Mf(a,a.updateQueue),tn(a),null);case 4:return se(),s===null&&ox(a.stateNode.containerInfo),tn(a),null;case 10:return Ro(a.type),tn(a),null;case 19:if(U(Cn),m=a.memoizedState,m===null)return tn(a),null;if(b=(a.flags&128)!==0,w=m.rendering,w===null)if(b)au(m,!1);else{if(xn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(w=xf(s),w!==null){for(a.flags|=128,au(m,!1),s=w.updateQueue,a.updateQueue=s,Mf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)Cw(u,s),u=u.sibling;return ne(Cn,Cn.current&1|2),Ct&&_o(a,m.treeForkCount),a.child}s=s.sibling}m.tail!==null&&Ce()>zf&&(a.flags|=128,b=!0,au(m,!1),a.lanes=4194304)}else{if(!b)if(s=xf(w),s!==null){if(a.flags|=128,b=!0,s=s.updateQueue,a.updateQueue=s,Mf(a,s),au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ct)return tn(a),null}else 2*Ce()-m.renderingStartTime>zf&&u!==536870912&&(a.flags|=128,b=!0,au(m,!1),a.lanes=4194304);m.isBackwards?(w.sibling=a.child,a.child=w):(s=m.last,s!==null?s.sibling=w:a.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ce(),s.sibling=null,u=Cn.current,ne(Cn,b?u&1|2:u&1),Ct&&_o(a,m.treeForkCount),s):(tn(a),null);case 22:case 23:return Fr(a),ag(),m=a.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?(u&536870912)!==0&&(a.flags&128)===0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),u=a.updateQueue,u!==null&&Mf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==u&&(a.flags|=2048),s!==null&&U(vi),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ro(Mn),tn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function gA(s,a){switch(qp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ro(Mn),se(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return fe(a),null;case 31:if(a.memoizedState!==null){if(Fr(a),a.alternate===null)throw Error(r(340));gi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Fr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));gi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return U(Cn),null;case 4:return se(),null;case 10:return Ro(a.type),null;case 22:case 23:return Fr(a),ag(),s!==null&&U(vi),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ro(Mn),null;case 25:return null;default:return null}}function Z0(s,a){switch(qp(a),a.tag){case 3:Ro(Mn),se();break;case 26:case 27:case 5:fe(a);break;case 4:se();break;case 31:a.memoizedState!==null&&Fr(a);break;case 13:Fr(a);break;case 19:U(Cn);break;case 10:Ro(a.type);break;case 22:case 23:Fr(a),ag(),s!==null&&U(vi);break;case 24:Ro(Mn)}}function iu(s,a){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&s)===s){m=void 0;var w=u.create,k=u.inst;m=w(),k.destroy=m}u=u.next}while(u!==b)}}catch(I){Lt(a,a.return,I)}}function Sa(s,a,u){try{var m=a.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&s)===s){var k=m.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,b=a;var J=u,he=I;try{he()}catch(ye){Lt(b,J,ye)}}}m=m.next}while(m!==w)}}catch(ye){Lt(a,a.return,ye)}}function Q0(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{Uw(a,u)}catch(m){Lt(s,s.return,m)}}}function X0(s,a,u){u.props=ji(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(m){Lt(s,a,m)}}function lu(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof u=="function"?s.refCleanup=u(m):u.current=m}}catch(b){Lt(s,a,b)}}function eo(s,a){var u=s.ref,m=s.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Lt(s,a,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Lt(s,a,b)}else u.current=null}function J0(s){var a=s.type,u=s.memoizedProps,m=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Lt(s,s.return,b)}}function Lg(s,a,u){try{var m=s.stateNode;LA(m,s.type,u,a),m[tr]=a}catch(b){Lt(s,s.return,b)}}function eS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ra(s.type)||s.tag===4}function $g(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||eS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ra(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fg(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Yn));else if(m!==4&&(m===27&&Ra(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Fg(s,a,u),s=s.sibling;s!==null;)Fg(s,a,u),s=s.sibling}function Df(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(m!==4&&(m===27&&Ra(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Df(s,a,u),s=s.sibling;s!==null;)Df(s,a,u),s=s.sibling}function tS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var m=s.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);ar(a,m,u),a[Rn]=s,a[tr]=u}catch(w){Lt(s,s.return,w)}}var To=!1,On=!1,Ug=!1,nS=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function xA(s,a){if(s=s.containerInfo,lx=Xf,s=hw(s),Tp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,I=-1,J=-1,he=0,ye=0,je=s,pe=null;t:for(;;){for(var be;je!==u||b!==0&&je.nodeType!==3||(I=k+b),je!==w||m!==0&&je.nodeType!==3||(J=k+m),je.nodeType===3&&(k+=je.nodeValue.length),(be=je.firstChild)!==null;)pe=je,je=be;for(;;){if(je===s)break t;if(pe===u&&++he===b&&(I=k),pe===w&&++ye===m&&(J=k),(be=je.nextSibling)!==null)break;je=pe,pe=je.parentNode}je=be}u=I===-1||J===-1?null:{start:I,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(cx={focusedElem:s,selectionRange:u},Xf=!1,Kn=a;Kn!==null;)if(a=Kn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Kn=s;else for(;Kn!==null;){switch(a=Kn,w=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)b=s[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=a,b=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var Le=ji(u.type,b);s=m.getSnapshotBeforeUpdate(Le,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(nt){Lt(u,u.return,nt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)fx(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":fx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Kn=s;break}Kn=a.return}}function rS(s,a,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Po(s,u),m&4&&iu(5,u);break;case 1:if(Po(s,u),m&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(k){Lt(u,u.return,k)}else{var b=ji(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(b,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){Lt(u,u.return,k)}}m&64&&Q0(u),m&512&&lu(u,u.return);break;case 3:if(Po(s,u),m&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Uw(s,a)}catch(k){Lt(u,u.return,k)}}break;case 27:a===null&&m&4&&tS(u);case 26:case 5:Po(s,u),a===null&&m&4&&J0(u),m&512&&lu(u,u.return);break;case 12:Po(s,u);break;case 31:Po(s,u),m&4&&aS(s,u);break;case 13:Po(s,u),m&4&&iS(s,u),m&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=NA.bind(null,u),WA(s,u))));break;case 22:if(m=u.memoizedState!==null||To,!m){a=a!==null&&a.memoizedState!==null||On,b=To;var w=On;To=m,(On=a)&&!w?Io(s,u,(u.subtreeFlags&8772)!==0):Po(s,u),To=b,On=w}break;case 30:break;default:Po(s,u)}}function sS(s){var a=s.alternate;a!==null&&(s.alternate=null,sS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&rs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,Mr=!1;function zo(s,a,u){for(u=u.child;u!==null;)oS(s,a,u),u=u.sibling}function oS(s,a,u){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(nn,u)}catch{}switch(u.tag){case 26:On||eo(u,a),zo(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||eo(u,a);var m=rn,b=Mr;Ra(u.type)&&(rn=u.stateNode,Mr=!1),zo(s,a,u),xu(u.stateNode),rn=m,Mr=b;break;case 5:On||eo(u,a);case 6:if(m=rn,b=Mr,rn=null,zo(s,a,u),rn=m,Mr=b,rn!==null)if(Mr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(u.stateNode)}catch(w){Lt(u,a,w)}else try{rn.removeChild(u.stateNode)}catch(w){Lt(u,a,w)}break;case 18:rn!==null&&(Mr?(s=rn,QS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),$l(s)):QS(rn,u.stateNode));break;case 4:m=rn,b=Mr,rn=u.stateNode.containerInfo,Mr=!0,zo(s,a,u),rn=m,Mr=b;break;case 0:case 11:case 14:case 15:Sa(2,u,a),On||Sa(4,u,a),zo(s,a,u);break;case 1:On||(eo(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"&&X0(u,a,m)),zo(s,a,u);break;case 21:zo(s,a,u);break;case 22:On=(m=On)||u.memoizedState!==null,zo(s,a,u),On=m;break;default:zo(s,a,u)}}function aS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{$l(s)}catch(u){Lt(a,a.return,u)}}}function iS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$l(s)}catch(u){Lt(a,a.return,u)}}function bA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new nS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new nS),a;default:throw Error(r(435,s.tag))}}function Af(s,a){var u=bA(s);a.forEach(function(m){if(!u.has(m)){u.add(m);var b=_A.bind(null,s,m);m.then(b,b)}})}function Dr(s,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],w=s,k=a,I=k;e:for(;I!==null;){switch(I.tag){case 27:if(Ra(I.type)){rn=I.stateNode,Mr=!1;break e}break;case 5:rn=I.stateNode,Mr=!1;break e;case 3:case 4:rn=I.stateNode.containerInfo,Mr=!0;break e}I=I.return}if(rn===null)throw Error(r(160));oS(w,k,b),rn=null,Mr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lS(a,s),a=a.sibling}var As=null;function lS(s,a){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dr(a,s),Ar(s),m&4&&(Sa(3,s,s.return),iu(3,s),Sa(5,s,s.return));break;case 1:Dr(a,s),Ar(s),m&512&&(On||u===null||eo(u,u.return)),m&64&&To&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=As;if(Dr(a,s),Ar(s),m&512&&(On||u===null||eo(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=s.memoizedState,u===null)if(m===null)if(s.stateNode===null){e:{m=s.type,u=s.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Ys]||w[Rn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(m),b.head.insertBefore(w,b.querySelector("head > title"))),ar(w,m,u),w[Rn]=s,pn(w),m=w;break e;case"link":var k=lC("link","href",b).get(m+(u.href||""));if(k){for(var I=0;I<k.length;I++)if(w=k[I],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(I,1);break t}}w=b.createElement(m),ar(w,m,u),b.head.appendChild(w);break;case"meta":if(k=lC("meta","content",b).get(m+(u.content||""))){for(I=0;I<k.length;I++)if(w=k[I],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(I,1);break t}}w=b.createElement(m),ar(w,m,u),b.head.appendChild(w);break;default:throw Error(r(468,m))}w[Rn]=s,pn(w),m=w}s.stateNode=m}else cC(b,s.type,s.stateNode);else s.stateNode=iC(b,m,s.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?cC(b,s.type,s.stateNode):iC(b,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Lg(s,s.memoizedProps,u.memoizedProps)}break;case 27:Dr(a,s),Ar(s),m&512&&(On||u===null||eo(u,u.return)),u!==null&&m&4&&Lg(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Dr(a,s),Ar(s),m&512&&(On||u===null||eo(u,u.return)),s.flags&32){b=s.stateNode;try{sa(b,"")}catch(Le){Lt(s,s.return,Le)}}m&4&&s.stateNode!=null&&(b=s.memoizedProps,Lg(s,b,u!==null?u.memoizedProps:b)),m&1024&&(Ug=!0);break;case 6:if(Dr(a,s),Ar(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,u=s.stateNode;try{u.nodeValue=m}catch(Le){Lt(s,s.return,Le)}}break;case 3:if(Yf=null,b=As,As=Wf(a.containerInfo),Dr(a,s),As=b,Ar(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$l(a.containerInfo)}catch(Le){Lt(s,s.return,Le)}Ug&&(Ug=!1,cS(s));break;case 4:m=As,As=Wf(s.stateNode.containerInfo),Dr(a,s),Ar(s),As=m;break;case 12:Dr(a,s),Ar(s);break;case 31:Dr(a,s),Ar(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Af(s,m)));break;case 13:Dr(a,s),Ar(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Tf=Ce()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Af(s,m)));break;case 22:b=s.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,he=To,ye=On;if(To=he||b,On=ye||J,Dr(a,s),On=ye,To=he,Ar(s),m&8192)e:for(a=s.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(u===null||J||To||On||Ei(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){J=u=a;try{if(w=J.stateNode,b)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=J.stateNode;var je=J.memoizedProps.style,pe=je!=null&&je.hasOwnProperty("display")?je.display:null;I.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Le){Lt(J,J.return,Le)}}}else if(a.tag===6){if(u===null){J=a;try{J.stateNode.nodeValue=b?"":J.memoizedProps}catch(Le){Lt(J,J.return,Le)}}}else if(a.tag===18){if(u===null){J=a;try{var be=J.stateNode;b?XS(be,!0):XS(J.stateNode,!1)}catch(Le){Lt(J,J.return,Le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=s.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Af(s,u))));break;case 19:Dr(a,s),Ar(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Af(s,m)));break;case 30:break;case 21:break;default:Dr(a,s),Ar(s)}}function Ar(s){var a=s.flags;if(a&2){try{for(var u,m=s.return;m!==null;){if(eS(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,w=$g(s);Df(s,w,b);break;case 5:var k=u.stateNode;u.flags&32&&(sa(k,""),u.flags&=-33);var I=$g(s);Df(s,I,k);break;case 3:case 4:var J=u.stateNode.containerInfo,he=$g(s);Fg(s,he,J);break;default:throw Error(r(161))}}catch(ye){Lt(s,s.return,ye)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;cS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Po(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rS(s,a.alternate,a),a=a.sibling}function Ei(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Sa(4,a,a.return),Ei(a);break;case 1:eo(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&X0(a,a.return,u),Ei(a);break;case 27:xu(a.stateNode);case 26:case 5:eo(a,a.return),Ei(a);break;case 22:a.memoizedState===null&&Ei(a);break;case 30:Ei(a);break;default:Ei(a)}s=s.sibling}}function Io(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,b=s,w=a,k=w.flags;switch(w.tag){case 0:case 11:case 15:Io(b,w,u),iu(4,w);break;case 1:if(Io(b,w,u),m=w,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(he){Lt(m,m.return,he)}if(m=w,b=m.updateQueue,b!==null){var I=m.stateNode;try{var J=b.shared.hiddenCallbacks;if(J!==null)for(b.shared.hiddenCallbacks=null,b=0;b<J.length;b++)Fw(J[b],I)}catch(he){Lt(m,m.return,he)}}u&&k&64&&Q0(w),lu(w,w.return);break;case 27:tS(w);case 26:case 5:Io(b,w,u),u&&m===null&&k&4&&J0(w),lu(w,w.return);break;case 12:Io(b,w,u);break;case 31:Io(b,w,u),u&&k&4&&aS(b,w);break;case 13:Io(b,w,u),u&&k&4&&iS(b,w);break;case 22:w.memoizedState===null&&Io(b,w,u),lu(w,w.return);break;case 30:break;default:Io(b,w,u)}a=a.sibling}}function Bg(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Yc(u))}function Vg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Yc(s))}function Os(s,a,u,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uS(s,a,u,m),a=a.sibling}function uS(s,a,u,m){var b=a.flags;switch(a.tag){case 0:case 11:case 15:Os(s,a,u,m),b&2048&&iu(9,a);break;case 1:Os(s,a,u,m);break;case 3:Os(s,a,u,m),b&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Yc(s)));break;case 12:if(b&2048){Os(s,a,u,m),s=a.stateNode;try{var w=a.memoizedProps,k=w.id,I=w.onPostCommit;typeof I=="function"&&I(k,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(J){Lt(a,a.return,J)}}else Os(s,a,u,m);break;case 31:Os(s,a,u,m);break;case 13:Os(s,a,u,m);break;case 23:break;case 22:w=a.stateNode,k=a.alternate,a.memoizedState!==null?w._visibility&2?Os(s,a,u,m):cu(s,a):w._visibility&2?Os(s,a,u,m):(w._visibility|=2,kl(s,a,u,m,(a.subtreeFlags&10256)!==0||!1)),b&2048&&Bg(k,a);break;case 24:Os(s,a,u,m),b&2048&&Vg(a.alternate,a);break;default:Os(s,a,u,m)}}function kl(s,a,u,m,b){for(b=b&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=s,k=a,I=u,J=m,he=k.flags;switch(k.tag){case 0:case 11:case 15:kl(w,k,I,J,b),iu(8,k);break;case 23:break;case 22:var ye=k.stateNode;k.memoizedState!==null?ye._visibility&2?kl(w,k,I,J,b):cu(w,k):(ye._visibility|=2,kl(w,k,I,J,b)),b&&he&2048&&Bg(k.alternate,k);break;case 24:kl(w,k,I,J,b),b&&he&2048&&Vg(k.alternate,k);break;default:kl(w,k,I,J,b)}a=a.sibling}}function cu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,m=a,b=m.flags;switch(m.tag){case 22:cu(u,m),b&2048&&Bg(m.alternate,m);break;case 24:cu(u,m),b&2048&&Vg(m.alternate,m);break;default:cu(u,m)}a=a.sibling}}var uu=8192;function Rl(s,a,u){if(s.subtreeFlags&uu)for(s=s.child;s!==null;)dS(s,a,u),s=s.sibling}function dS(s,a,u){switch(s.tag){case 26:Rl(s,a,u),s.flags&uu&&s.memoizedState!==null&&sO(u,As,s.memoizedState,s.memoizedProps);break;case 5:Rl(s,a,u);break;case 3:case 4:var m=As;As=Wf(s.stateNode.containerInfo),Rl(s,a,u),As=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=uu,uu=16777216,Rl(s,a,u),uu=m):Rl(s,a,u));break;default:Rl(s,a,u)}}function fS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function du(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var m=a[u];Kn=m,hS(m,s)}fS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mS(s),s=s.sibling}function mS(s){switch(s.tag){case 0:case 11:case 15:du(s),s.flags&2048&&Sa(9,s,s.return);break;case 3:du(s);break;case 12:du(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Of(s)):du(s);break;default:du(s)}}function Of(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var m=a[u];Kn=m,hS(m,s)}fS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Sa(8,a,a.return),Of(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Of(a));break;default:Of(a)}s=s.sibling}}function hS(s,a){for(;Kn!==null;){var u=Kn;switch(u.tag){case 0:case 11:case 15:Sa(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Yc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Kn=m;else e:for(u=s;Kn!==null;){m=Kn;var b=m.sibling,w=m.return;if(sS(m),m===u){Kn=null;break e}if(b!==null){b.return=w,Kn=b;break e}Kn=w}}}var vA={getCacheForType:function(s){var a=sr(Mn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return sr(Mn).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,At=0,Kt=null,vt=null,wt=0,It=0,Ur=null,Ca=!1,Ml=!1,Hg=!1,Lo=0,xn=0,ja=0,Ni=0,qg=0,Br=0,Dl=0,fu=null,Or=null,Wg=!1,Tf=0,pS=0,zf=1/0,Pf=null,Ea=null,Bn=0,Na=null,Al=null,$o=0,Gg=0,Yg=null,gS=null,mu=0,Kg=null;function Vr(){return(At&2)!==0&&wt!==0?wt&-wt:z.T!==null?tx():_r()}function xS(){if(Br===0)if((wt&536870912)===0||Ct){var s=Oe;Oe<<=1,(Oe&3932160)===0&&(Oe=262144),Br=s}else Br=536870912;return s=$r.current,s!==null&&(s.flags|=32),Br}function Tr(s,a,u){(s===Kt&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(Ol(s,0),_a(s,wt,Br,!1)),kn(s,u),((At&2)===0||s!==Kt)&&(s===Kt&&((At&2)===0&&(Ni|=u),xn===4&&_a(s,wt,Br,!1)),to(s))}function bS(s,a,u){if((At&6)!==0)throw Error(r(327));var m=!u&&(a&127)===0&&(a&s.expiredLanes)===0||mn(s,a),b=m?CA(s,a):Qg(s,a,!0),w=m;do{if(b===0){Ml&&!m&&_a(s,a,0,!1);break}else{if(u=s.current.alternate,w&&!wA(u)){b=Qg(s,a,!1),w=!1;continue}if(b===2){if(w=a,s.errorRecoveryDisabledLanes&w)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var I=s;b=fu;var J=I.current.memoizedState.isDehydrated;if(J&&(Ol(I,k).flags|=256),k=Qg(I,k,!1),k!==2){if(Hg&&!J){I.errorRecoveryDisabledLanes|=w,Ni|=w,b=4;break e}w=Or,Or=b,w!==null&&(Or===null?Or=w:Or.push.apply(Or,w))}b=k}if(w=!1,b!==2)continue}}if(b===1){Ol(s,0),_a(s,a,0,!0);break}e:{switch(m=s,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_a(m,a,Br,!Ca);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(b=Tf+300-Ce(),10<b)){if(_a(m,a,Br,!Ca),Ve(m,0,!0)!==0)break e;$o=a,m.timeoutHandle=KS(vS.bind(null,m,u,Or,Pf,Wg,a,Br,Ni,Dl,Ca,w,"Throttled",-0,0),b);break e}vS(m,u,Or,Pf,Wg,a,Br,Ni,Dl,Ca,w,null,-0,0)}}break}while(!0);to(s)}function vS(s,a,u,m,b,w,k,I,J,he,ye,je,pe,be){if(s.timeoutHandle=-1,je=a.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},dS(a,w,je);var Le=(w&62914560)===w?Tf-Ce():(w&4194048)===w?pS-Ce():0;if(Le=oO(je,Le),Le!==null){$o=w,s.cancelPendingCommit=Le(_S.bind(null,s,a,w,u,m,b,k,I,J,ye,je,null,pe,be)),_a(s,w,k,!he);return}}_S(s,a,w,u,m,b,k,I,J)}function wA(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],w=b.getSnapshot;b=b.value;try{if(!Ir(w(),b))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(s,a,u,m){a&=~qg,a&=~Ni,s.suspendedLanes|=a,s.pingedLanes&=~a,m&&(s.warmLanes|=a),m=s.expirationTimes;for(var b=a;0<b;){var w=31-Vt(b),k=1<<w;m[w]=-1,b&=~k}u!==0&&Nr(s,u,a)}function If(){return(At&6)===0?(hu(0),!1):!0}function Zg(){if(vt!==null){if(It===0)var s=vt.return;else s=vt,ko=xi=null,fg(s),Cl=null,Zc=0,s=vt;for(;s!==null;)Z0(s.alternate,s),s=s.return;vt=null}}function Ol(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,UA(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),$o=0,Zg(),Kt=s,vt=u=No(s.current,null),wt=a,It=0,Ur=null,Ca=!1,Ml=mn(s,a),Hg=!1,Dl=Br=qg=Ni=ja=xn=0,Or=fu=null,Wg=!1,(a&8)!==0&&(a|=a&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=a;0<m;){var b=31-Vt(m),w=1<<b;a|=s[b],m&=~w}return Lo=a,rf(),u}function yS(s,a){dt=null,z.H=su,a===Sl||a===ff?(a=Pw(),It=3):a===eg?(a=Pw(),It=4):It=a===kg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ur=a,vt===null&&(xn=1,Nf(s,ds(a,s.current)))}function wS(){var s=$r.current;return s===null?!0:(wt&4194048)===wt?ps===null:(wt&62914560)===wt||(wt&536870912)!==0?s===ps:!1}function SS(){var s=z.H;return z.H=su,s===null?su:s}function CS(){var s=z.A;return z.A=vA,s}function Lf(){xn=4,Ca||(wt&4194048)!==wt&&$r.current!==null||(Ml=!0),(ja&134217727)===0&&(Ni&134217727)===0||Kt===null||_a(Kt,wt,Br,!1)}function Qg(s,a,u){var m=At;At|=2;var b=SS(),w=CS();(Kt!==s||wt!==a)&&(Pf=null,Ol(s,a)),a=!1;var k=xn;e:do try{if(It!==0&&vt!==null){var I=vt,J=Ur;switch(It){case 8:Zg(),k=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(a=!0);var he=It;if(It=0,Ur=null,Tl(s,I,J,he),u&&Ml){k=0;break e}break;default:he=It,It=0,Ur=null,Tl(s,I,J,he)}}SA(),k=xn;break}catch(ye){yS(s,ye)}while(!0);return a&&s.shellSuspendCounter++,ko=xi=null,At=m,z.H=b,z.A=w,vt===null&&(Kt=null,wt=0,rf()),k}function SA(){for(;vt!==null;)jS(vt)}function CA(s,a){var u=At;At|=2;var m=SS(),b=CS();Kt!==s||wt!==a?(Pf=null,zf=Ce()+500,Ol(s,a)):Ml=mn(s,a);e:do try{if(It!==0&&vt!==null){a=vt;var w=Ur;t:switch(It){case 1:It=0,Ur=null,Tl(s,a,w,1);break;case 2:case 9:if(Tw(w)){It=0,Ur=null,ES(a);break}a=function(){It!==2&&It!==9||Kt!==s||(It=7),to(s)},w.then(a,a);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:Tw(w)?(It=0,Ur=null,ES(a)):(It=0,Ur=null,Tl(s,a,w,7));break;case 5:var k=null;switch(vt.tag){case 26:k=vt.memoizedState;case 5:case 27:var I=vt;if(k?uC(k):I.stateNode.complete){It=0,Ur=null;var J=I.sibling;if(J!==null)vt=J;else{var he=I.return;he!==null?(vt=he,$f(he)):vt=null}break t}}It=0,Ur=null,Tl(s,a,w,5);break;case 6:It=0,Ur=null,Tl(s,a,w,6);break;case 8:Zg(),xn=6;break e;default:throw Error(r(462))}}jA();break}catch(ye){yS(s,ye)}while(!0);return ko=xi=null,z.H=m,z.A=b,At=u,vt!==null?0:(Kt=null,wt=0,rf(),xn)}function jA(){for(;vt!==null&&!ue();)jS(vt)}function jS(s){var a=Y0(s.alternate,s,Lo);s.memoizedProps=s.pendingProps,a===null?$f(s):vt=a}function ES(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=B0(u,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=B0(u,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:fg(a);default:Z0(u,a),a=vt=Cw(a,Lo),a=Y0(u,a,Lo)}s.memoizedProps=s.pendingProps,a===null?$f(s):vt=a}function Tl(s,a,u,m){ko=xi=null,fg(a),Cl=null,Zc=0;var b=a.return;try{if(fA(s,b,a,u,wt)){xn=1,Nf(s,ds(u,s.current)),vt=null;return}}catch(w){if(b!==null)throw vt=b,w;xn=1,Nf(s,ds(u,s.current)),vt=null;return}a.flags&32768?(Ct||m===1?s=!0:Ml||(wt&536870912)!==0?s=!1:(Ca=s=!0,(m===2||m===9||m===3||m===6)&&(m=$r.current,m!==null&&m.tag===13&&(m.flags|=16384))),NS(a,s)):$f(a)}function $f(s){var a=s;do{if((a.flags&32768)!==0){NS(a,Ca);return}s=a.return;var u=pA(a.alternate,a,Lo);if(u!==null){vt=u;return}if(a=a.sibling,a!==null){vt=a;return}vt=a=s}while(a!==null);xn===0&&(xn=5)}function NS(s,a){do{var u=gA(s.alternate,s);if(u!==null){u.flags&=32767,vt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){vt=s;return}vt=s=u}while(s!==null);xn=6,vt=null}function _S(s,a,u,m,b,w,k,I,J){s.cancelPendingCommit=null;do Ff();while(Bn!==0);if((At&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=$p,Sn(s,u,w,k,I,J),s===Kt&&(vt=Kt=null,wt=0),Al=a,Na=s,$o=u,Gg=w,Yg=b,gS=m,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,kA(_e,function(){return AS(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,b=q.p,q.p=2,k=At,At|=4;try{xA(s,a,u)}finally{At=k,q.p=b,z.T=m}}Bn=1,kS(),RS(),MS()}}function kS(){if(Bn===1){Bn=0;var s=Na,a=Al,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var m=q.p;q.p=2;var b=At;At|=4;try{lS(a,s);var w=cx,k=hw(s.containerInfo),I=w.focusedElem,J=w.selectionRange;if(k!==I&&I&&I.ownerDocument&&mw(I.ownerDocument.documentElement,I)){if(J!==null&&Tp(I)){var he=J.start,ye=J.end;if(ye===void 0&&(ye=he),"selectionStart"in I)I.selectionStart=he,I.selectionEnd=Math.min(ye,I.value.length);else{var je=I.ownerDocument||document,pe=je&&je.defaultView||window;if(pe.getSelection){var be=pe.getSelection(),Le=I.textContent.length,nt=Math.min(J.start,Le),Wt=J.end===void 0?nt:Math.min(J.end,Le);!be.extend&&nt>Wt&&(k=Wt,Wt=nt,nt=k);var ie=fw(I,nt),re=fw(I,Wt);if(ie&&re&&(be.rangeCount!==1||be.anchorNode!==ie.node||be.anchorOffset!==ie.offset||be.focusNode!==re.node||be.focusOffset!==re.offset)){var me=je.createRange();me.setStart(ie.node,ie.offset),be.removeAllRanges(),nt>Wt?(be.addRange(me),be.extend(re.node,re.offset)):(me.setEnd(re.node,re.offset),be.addRange(me))}}}}for(je=[],be=I;be=be.parentNode;)be.nodeType===1&&je.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<je.length;I++){var we=je[I];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Xf=!!lx,cx=lx=null}finally{At=b,q.p=m,z.T=u}}s.current=a,Bn=2}}function RS(){if(Bn===2){Bn=0;var s=Na,a=Al,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var m=q.p;q.p=2;var b=At;At|=4;try{rS(s,a.alternate,a)}finally{At=b,q.p=m,z.T=u}}Bn=3}}function MS(){if(Bn===4||Bn===3){Bn=0,Re();var s=Na,a=Al,u=$o,m=gS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bn=5:(Bn=0,Al=Na=null,DS(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Ea=null),ns(u),a=a.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(nn,a,void 0,(a.current.flags&128)===128)}catch{}if(m!==null){a=z.T,b=q.p,q.p=2,z.T=null;try{for(var w=s.onRecoverableError,k=0;k<m.length;k++){var I=m[k];w(I.value,{componentStack:I.stack})}}finally{z.T=a,q.p=b}}($o&3)!==0&&Ff(),to(s),b=s.pendingLanes,(u&261930)!==0&&(b&42)!==0?s===Kg?mu++:(mu=0,Kg=s):mu=0,hu(0)}}function DS(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Yc(a)))}function Ff(){return kS(),RS(),MS(),AS()}function AS(){if(Bn!==5)return!1;var s=Na,a=Gg;Gg=0;var u=ns($o),m=z.T,b=q.p;try{q.p=32>u?32:u,z.T=null,u=Yg,Yg=null;var w=Na,k=$o;if(Bn=0,Al=Na=null,$o=0,(At&6)!==0)throw Error(r(331));var I=At;if(At|=4,mS(w.current),uS(w,w.current,k,u),At=I,hu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(nn,w)}catch{}return!0}finally{q.p=b,z.T=m,DS(s,a)}}function OS(s,a,u){a=ds(u,a),a=_g(s.stateNode,a,2),s=va(s,a,2),s!==null&&(kn(s,2),to(s))}function Lt(s,a,u){if(s.tag===3)OS(s,s,u);else for(;a!==null;){if(a.tag===3){OS(a,s,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ea===null||!Ea.has(m))){s=ds(u,s),u=T0(2),m=va(a,u,2),m!==null&&(z0(u,m,a,s),kn(m,2),to(m));break}}a=a.return}}function Xg(s,a,u){var m=s.pingCache;if(m===null){m=s.pingCache=new yA;var b=new Set;m.set(a,b)}else b=m.get(a),b===void 0&&(b=new Set,m.set(a,b));b.has(u)||(Hg=!0,b.add(u),s=EA.bind(null,s,a,u),a.then(s,s))}function EA(s,a,u){var m=s.pingCache;m!==null&&m.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Kt===s&&(wt&u)===u&&(xn===4||xn===3&&(wt&62914560)===wt&&300>Ce()-Tf?(At&2)===0&&Ol(s,0):qg|=u,Dl===wt&&(Dl=0)),to(s)}function TS(s,a){a===0&&(a=wn()),s=hi(s,a),s!==null&&(kn(s,a),to(s))}function NA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),TS(s,u)}function _A(s,a){var u=0;switch(s.tag){case 31:case 13:var m=s.stateNode,b=s.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(a),TS(s,u)}function kA(s,a){return Q(s,a)}var Uf=null,zl=null,Jg=!1,Bf=!1,ex=!1,ka=0;function to(s){s!==zl&&s.next===null&&(zl===null?Uf=zl=s:zl=zl.next=s),Bf=!0,Jg||(Jg=!0,MA())}function hu(s,a){if(!ex&&Bf){ex=!0;do for(var u=!1,m=Uf;m!==null;){if(s!==0){var b=m.pendingLanes;if(b===0)var w=0;else{var k=m.suspendedLanes,I=m.pingedLanes;w=(1<<31-Vt(42|s)+1)-1,w&=b&~(k&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,LS(m,w))}else w=wt,w=Ve(m,m===Kt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||mn(m,w)||(u=!0,LS(m,w));m=m.next}while(u);ex=!1}}function RA(){zS()}function zS(){Bf=Jg=!1;var s=0;ka!==0&&FA()&&(s=ka);for(var a=Ce(),u=null,m=Uf;m!==null;){var b=m.next,w=PS(m,a);w===0?(m.next=null,u===null?Uf=b:u.next=b,b===null&&(zl=u)):(u=m,(s!==0||(w&3)!==0)&&(Bf=!0)),m=b}Bn!==0&&Bn!==5||hu(s),ka!==0&&(ka=0)}function PS(s,a){for(var u=s.suspendedLanes,m=s.pingedLanes,b=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var k=31-Vt(w),I=1<<k,J=b[k];J===-1?((I&u)===0||(I&m)!==0)&&(b[k]=yn(I,a)):J<=a&&(s.expiredLanes|=I),w&=~I}if(a=Kt,u=wt,u=Ve(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,u===0||s===a&&(It===2||It===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&X(m),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||mn(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(m!==null&&X(m),ns(u)){case 2:case 8:u=ve;break;case 32:u=_e;break;case 268435456:u=bt;break;default:u=_e}return m=IS.bind(null,s),u=Q(u,m),s.callbackPriority=a,s.callbackNode=u,a}return m!==null&&m!==null&&X(m),s.callbackPriority=2,s.callbackNode=null,2}function IS(s,a){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Ff()&&s.callbackNode!==u)return null;var m=wt;return m=Ve(s,s===Kt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(bS(s,m,a),PS(s,Ce()),s.callbackNode!=null&&s.callbackNode===u?IS.bind(null,s):null)}function LS(s,a){if(Ff())return null;bS(s,a,!0)}function MA(){BA(function(){(At&6)!==0?Q(ke,RA):zS()})}function tx(){if(ka===0){var s=yl;s===0&&(s=Me,Me<<=1,(Me&261888)===0&&(Me=256)),ka=s}return ka}function $S(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rl(""+s)}function FS(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function DA(s,a,u,m,b){if(a==="submit"&&u&&u.stateNode===b){var w=$S((b[tr]||null).action),k=m.submitter;k&&(a=(a=k[tr]||null)?$S(a.formAction):k.getAttribute("formAction"),a!==null&&(w=a,k=null));var I=new zc("action","action",null,m,b);s.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ka!==0){var J=k?FS(b,k):new FormData(b);wg(u,{pending:!0,data:J,method:b.method,action:w},null,J)}}else typeof w=="function"&&(I.preventDefault(),J=k?FS(b,k):new FormData(b),wg(u,{pending:!0,data:J,method:b.method,action:w},w,J))},currentTarget:b}]})}}for(var nx=0;nx<Lp.length;nx++){var rx=Lp[nx],AA=rx.toLowerCase(),OA=rx[0].toUpperCase()+rx.slice(1);Ds(AA,"on"+OA)}Ds(xw,"onAnimationEnd"),Ds(bw,"onAnimationIteration"),Ds(vw,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(KD,"onTransitionRun"),Ds(ZD,"onTransitionStart"),Ds(QD,"onTransitionCancel"),Ds(yw,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function US(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],b=m.event;m=m.listeners;e:{var w=void 0;if(a)for(var k=m.length-1;0<=k;k--){var I=m[k],J=I.instance,he=I.currentTarget;if(I=I.listener,J!==w&&b.isPropagationStopped())break e;w=I,b.currentTarget=he;try{w(b)}catch(ye){nf(ye)}b.currentTarget=null,w=J}else for(k=0;k<m.length;k++){if(I=m[k],J=I.instance,he=I.currentTarget,I=I.listener,J!==w&&b.isPropagationStopped())break e;w=I,b.currentTarget=he;try{w(b)}catch(ye){nf(ye)}b.currentTarget=null,w=J}}}}function yt(s,a){var u=a[ni];u===void 0&&(u=a[ni]=new Set);var m=s+"__bubble";u.has(m)||(BS(a,s,2,!1),u.add(m))}function sx(s,a,u){var m=0;a&&(m|=4),BS(u,s,m,a)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function ox(s){if(!s[Vf]){s[Vf]=!0,Bd.forEach(function(u){u!=="selectionchange"&&(TA.has(u)||sx(u,!1,s),sx(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Vf]||(a[Vf]=!0,sx("selectionchange",!1,a))}}function BS(s,a,u,m){switch(xC(a)){case 2:var b=lO;break;case 8:b=cO;break;default:b=yx}u=b.bind(null,a,u,s),b=void 0,!Zs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),m?b!==void 0?s.addEventListener(a,u,{capture:!0,passive:b}):s.addEventListener(a,u,!0):b!==void 0?s.addEventListener(a,u,{passive:b}):s.addEventListener(a,u,!1)}function ax(s,a,u,m,b){var w=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var I=m.stateNode.containerInfo;if(I===b)break;if(k===4)for(k=m.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;I!==null;){if(k=bo(I),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){m=w=k;continue e}I=I.parentNode}}m=m.return}Co(function(){var he=w,ye=aa(u),je=[];e:{var pe=ww.get(s);if(pe!==void 0){var be=zc,Le=s;switch(s){case"keypress":if(la(u)===0)break e;case"keydown":case"keyup":be=Sp;break;case"focusin":Le="focus",be=Ic;break;case"focusout":Le="blur",be=Ic;break;case"beforeblur":case"afterblur":be=Ic;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=jp;break;case xw:case bw:case vw:be=vp;break;case yw:be=Np;break;case"scroll":case"scrollend":be=Pc;break;case"wheel":be=_p;break;case"copy":case"cut":case"paste":be=ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Kd;break;case"toggle":case"beforetoggle":be=Rp}var nt=(a&4)!==0,Wt=!nt&&(s==="scroll"||s==="scrollend"),ie=nt?pe!==null?pe+"Capture":null:pe;nt=[];for(var re=he,me;re!==null;){var we=re;if(me=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||me===null||ie===null||(we=ln(re,ie),we!=null&&nt.push(gu(re,we,me))),Wt)break;re=re.return}0<nt.length&&(pe=new be(pe,Le,null,u,ye),je.push({event:pe,listeners:nt}))}}if((a&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",pe&&u!==Ks&&(Le=u.relatedTarget||u.fromElement)&&(bo(Le)||Le[Xo]))break e;if((be||pe)&&(pe=ye.window===ye?ye:(pe=ye.ownerDocument)?pe.defaultView||pe.parentWindow:window,be?(Le=u.relatedTarget||u.toElement,be=he,Le=Le?bo(Le):null,Le!==null&&(Wt=l(Le),nt=Le.tag,Le!==Wt||nt!==5&&nt!==27&&nt!==6)&&(Le=null)):(be=null,Le=he),be!==Le)){if(nt=Gd,we="onMouseLeave",ie="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(nt=Kd,we="onPointerLeave",ie="onPointerEnter",re="pointer"),Wt=be==null?pe:os(be),me=Le==null?pe:os(Le),pe=new nt(we,re+"leave",be,u,ye),pe.target=Wt,pe.relatedTarget=me,we=null,bo(ye)===he&&(nt=new nt(ie,re+"enter",Le,u,ye),nt.target=me,nt.relatedTarget=Wt,we=nt),Wt=we,be&&Le)t:{for(nt=zA,ie=be,re=Le,me=0,we=ie;we;we=nt(we))me++;we=0;for(var Ze=re;Ze;Ze=nt(Ze))we++;for(;0<me-we;)ie=nt(ie),me--;for(;0<we-me;)re=nt(re),we--;for(;me--;){if(ie===re||re!==null&&ie===re.alternate){nt=ie;break t}ie=nt(ie),re=nt(re)}nt=null}else nt=null;be!==null&&VS(je,pe,be,nt,!1),Le!==null&&Wt!==null&&VS(je,Wt,Le,nt,!0)}}e:{if(pe=he?os(he):window,be=pe.nodeName&&pe.nodeName.toLowerCase(),be==="select"||be==="input"&&pe.type==="file")var Nt=xt;else if(ee(pe))if(cn)Nt=WD;else{Nt=tf;var qe=di}else be=pe.nodeName,!be||be.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Oc(he.elementType)&&(Nt=xt):Nt=Vc;if(Nt&&(Nt=Nt(s,he))){xe(je,Nt,u,ye);break e}qe&&qe(s,pe,he),s==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&Ac(pe,"number",pe.value)}switch(qe=he?os(he):window,s){case"focusin":(ee(qe)||qe.contentEditable==="true")&&(fl=qe,zp=he,qc=null);break;case"focusout":qc=zp=fl=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,pw(je,u,ye);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":pw(je,u,ye)}var mt;if(Uc)e:{switch(s){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else fa?Jd(s,u)&&(St="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(St="onCompositionStart");St&&(Zd&&u.locale!=="ko"&&(fa||St!=="onCompositionStart"?St==="onCompositionEnd"&&fa&&(mt=Qs()):(cs=ye,ol="value"in cs?cs.value:cs.textContent,fa=!0)),qe=Hf(he,St),0<qe.length&&(St=new ul(St,s,null,u,ye),je.push({event:St,listeners:qe}),mt?St.data=mt:(mt=ef(u),mt!==null&&(St.data=mt)))),(mt=Dp?Ap(s,u):Op(s,u))&&(St=Hf(he,"onBeforeInput"),0<St.length&&(qe=new ul("onBeforeInput","beforeinput",null,u,ye),je.push({event:qe,listeners:St}),qe.data=mt)),DA(je,s,he,u,ye)}US(je,a)})}function gu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Hf(s,a){for(var u=a+"Capture",m=[];s!==null;){var b=s,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=ln(s,u),b!=null&&m.unshift(gu(s,b,w)),b=ln(s,a),b!=null&&m.push(gu(s,b,w))),s.tag===3)return m;s=s.return}return[]}function zA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function VS(s,a,u,m,b){for(var w=a._reactName,k=[];u!==null&&u!==m;){var I=u,J=I.alternate,he=I.stateNode;if(I=I.tag,J!==null&&J===m)break;I!==5&&I!==26&&I!==27||he===null||(J=he,b?(he=ln(u,w),he!=null&&k.unshift(gu(u,he,J))):b||(he=ln(u,w),he!=null&&k.push(gu(u,he,J)))),u=u.return}k.length!==0&&s.push({event:a,listeners:k})}var PA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function HS(s){return(typeof s=="string"?s:""+s).replace(PA,`
`).replace(IA,"")}function qS(s,a){return a=HS(a),HS(s)===a}function qt(s,a,u,m,b,w){switch(u){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||sa(s,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&sa(s,""+m);break;case"className":na(s,"class",m);break;case"tabIndex":na(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":na(s,u,m);break;case"style":Wd(s,m,w);break;case"data":if(a!=="object"){na(s,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=rl(""+m),s.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(a!=="input"&&qt(s,a,"name",b.name,b,null),qt(s,a,"formEncType",b.formEncType,b,null),qt(s,a,"formMethod",b.formMethod,b,null),qt(s,a,"formTarget",b.formTarget,b,null)):(qt(s,a,"encType",b.encType,b,null),qt(s,a,"method",b.method,b,null),qt(s,a,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=rl(""+m),s.setAttribute(u,m);break;case"onClick":m!=null&&(s.onclick=Yn);break;case"onScroll":m!=null&&yt("scroll",s);break;case"onScrollEnd":m!=null&&yt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}u=rl(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""+m):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":m===!0?s.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,m):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(u,m):s.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(u):s.setAttribute(u,m);break;case"popover":yt("beforetoggle",s),yt("toggle",s),ta(s,"popover",m);break;case"xlinkActuate":ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ft(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ft(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ft(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ft(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ta(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=yr.get(u)||u,ta(s,u,m))}}function ix(s,a,u,m,b,w){switch(u){case"style":Wd(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof m=="string"?sa(s,m):(typeof m=="number"||typeof m=="bigint")&&sa(s,""+m);break;case"onScroll":m!=null&&yt("scroll",s);break;case"onScrollEnd":m!=null&&yt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),a=u.slice(2,b?u.length-7:void 0),w=s[tr]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(a,w,b),typeof m=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,m,b);break e}u in s?s[u]=m:m===!0?s.setAttribute(u,""):ta(s,u,m)}}}function ar(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",s),yt("load",s);var m=!1,b=!1,w;for(w in u)if(u.hasOwnProperty(w)){var k=u[w];if(k!=null)switch(w){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:qt(s,a,w,k,u,null)}}b&&qt(s,a,"srcSet",u.srcSet,u,null),m&&qt(s,a,"src",u.src,u,null);return;case"input":yt("invalid",s);var I=w=k=b=null,J=null,he=null;for(m in u)if(u.hasOwnProperty(m)){var ye=u[m];if(ye!=null)switch(m){case"name":b=ye;break;case"type":k=ye;break;case"checked":J=ye;break;case"defaultChecked":he=ye;break;case"value":w=ye;break;case"defaultValue":I=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,a));break;default:qt(s,a,m,ye,u,null)}}yo(s,w,I,J,he,k,b,!1);return;case"select":yt("invalid",s),m=k=w=null;for(b in u)if(u.hasOwnProperty(b)&&(I=u[b],I!=null))switch(b){case"value":w=I;break;case"defaultValue":k=I;break;case"multiple":m=I;default:qt(s,a,b,I,u,null)}a=w,u=k,s.multiple=!!m,a!=null?wo(s,!!m,a,!1):u!=null&&wo(s,!!m,u,!0);return;case"textarea":yt("invalid",s),w=b=m=null;for(k in u)if(u.hasOwnProperty(k)&&(I=u[k],I!=null))switch(k){case"value":m=I;break;case"defaultValue":b=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:qt(s,a,k,I,u,null)}Je(s,m,b,w);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(m=u[J],m!=null))switch(J){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:qt(s,a,J,m,u,null)}return;case"dialog":yt("beforetoggle",s),yt("toggle",s),yt("cancel",s),yt("close",s);break;case"iframe":case"object":yt("load",s);break;case"video":case"audio":for(m=0;m<pu.length;m++)yt(pu[m],s);break;case"image":yt("error",s),yt("load",s);break;case"details":yt("toggle",s);break;case"embed":case"source":case"link":yt("error",s),yt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(m=u[he],m!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:qt(s,a,he,m,u,null)}return;default:if(Oc(a)){for(ye in u)u.hasOwnProperty(ye)&&(m=u[ye],m!==void 0&&ix(s,a,ye,m,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(m=u[I],m!=null&&qt(s,a,I,m,u,null))}function LA(s,a,u,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,k=null,I=null,J=null,he=null,ye=null;for(be in u){var je=u[be];if(u.hasOwnProperty(be)&&je!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":J=je;default:m.hasOwnProperty(be)||qt(s,a,be,null,m,je)}}for(var pe in m){var be=m[pe];if(je=u[pe],m.hasOwnProperty(pe)&&(be!=null||je!=null))switch(pe){case"type":w=be;break;case"name":b=be;break;case"checked":he=be;break;case"defaultChecked":ye=be;break;case"value":k=be;break;case"defaultValue":I=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:be!==je&&qt(s,a,pe,be,m,je)}}is(s,k,I,J,he,ye,w,b);return;case"select":be=k=I=pe=null;for(w in u)if(J=u[w],u.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":be=J;default:m.hasOwnProperty(w)||qt(s,a,w,null,m,J)}for(b in m)if(w=m[b],J=u[b],m.hasOwnProperty(b)&&(w!=null||J!=null))switch(b){case"value":pe=w;break;case"defaultValue":I=w;break;case"multiple":k=w;default:w!==J&&qt(s,a,b,w,m,J)}a=I,u=k,m=be,pe!=null?wo(s,!!u,pe,!1):!!m!=!!u&&(a!=null?wo(s,!!u,a,!0):wo(s,!!u,u?[]:"",!1));return;case"textarea":be=pe=null;for(I in u)if(b=u[I],u.hasOwnProperty(I)&&b!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:qt(s,a,I,null,m,b)}for(k in m)if(b=m[k],w=u[k],m.hasOwnProperty(k)&&(b!=null||w!=null))switch(k){case"value":pe=b;break;case"defaultValue":be=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&qt(s,a,k,b,m,w)}qd(s,pe,be);return;case"option":for(var Le in u)if(pe=u[Le],u.hasOwnProperty(Le)&&pe!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":s.selected=!1;break;default:qt(s,a,Le,null,m,pe)}for(J in m)if(pe=m[J],be=u[J],m.hasOwnProperty(J)&&pe!==be&&(pe!=null||be!=null))switch(J){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:qt(s,a,J,pe,m,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in u)pe=u[nt],u.hasOwnProperty(nt)&&pe!=null&&!m.hasOwnProperty(nt)&&qt(s,a,nt,null,m,pe);for(he in m)if(pe=m[he],be=u[he],m.hasOwnProperty(he)&&pe!==be&&(pe!=null||be!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,a));break;default:qt(s,a,he,pe,m,be)}return;default:if(Oc(a)){for(var Wt in u)pe=u[Wt],u.hasOwnProperty(Wt)&&pe!==void 0&&!m.hasOwnProperty(Wt)&&ix(s,a,Wt,void 0,m,pe);for(ye in m)pe=m[ye],be=u[ye],!m.hasOwnProperty(ye)||pe===be||pe===void 0&&be===void 0||ix(s,a,ye,pe,m,be);return}}for(var ie in u)pe=u[ie],u.hasOwnProperty(ie)&&pe!=null&&!m.hasOwnProperty(ie)&&qt(s,a,ie,null,m,pe);for(je in m)pe=m[je],be=u[je],!m.hasOwnProperty(je)||pe===be||pe==null&&be==null||qt(s,a,je,pe,m,be)}function WS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $A(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var b=u[m],w=b.transferSize,k=b.initiatorType,I=b.duration;if(w&&I&&WS(k)){for(k=0,I=b.responseEnd,m+=1;m<u.length;m++){var J=u[m],he=J.startTime;if(he>I)break;var ye=J.transferSize,je=J.initiatorType;ye&&WS(je)&&(J=J.responseEnd,k+=ye*(J<I?1:(I-he)/(J-he)))}if(--m,a+=8*(w+k)/(b.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var lx=null,cx=null;function qf(s){return s.nodeType===9?s:s.ownerDocument}function GS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YS(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ux(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var dx=null;function FA(){var s=window.event;return s&&s.type==="popstate"?s===dx?!1:(dx=s,!0):(dx=null,!1)}var KS=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,ZS=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof ZS<"u"?function(s){return ZS.resolve(null).then(s).catch(VA)}:KS;function VA(s){setTimeout(function(){throw s})}function Ra(s){return s==="head"}function QS(s,a){var u=a,m=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(m===0){s.removeChild(b),$l(a);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")xu(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,xu(u);for(var w=u.firstChild;w;){var k=w.nextSibling,I=w.nodeName;w[Ys]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=k}}else u==="body"&&xu(s.ownerDocument.body);u=b}while(u);$l(a)}function XS(s,a){var u=s;s=0;do{var m=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=m}while(u)}function fx(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":fx(u),rs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function HA(s,a,u,m){for(;s.nodeType===1;){var b=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Ys])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=gs(s.nextSibling),s===null)break}return null}function qA(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=gs(s.nextSibling),s===null))return null;return s}function JS(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=gs(s.nextSibling),s===null))return null;return s}function mx(s){return s.data==="$?"||s.data==="$~"}function hx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WA(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var m=function(){a(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function gs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var px=null;function eC(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return gs(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function tC(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function nC(s,a,u){switch(a=qf(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function xu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);rs(s)}var xs=new Map,rC=new Set;function Wf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fo=q.d;q.d={f:GA,r:YA,D:KA,C:ZA,L:QA,m:XA,X:eO,S:JA,M:tO};function GA(){var s=Fo.f(),a=If();return s||a}function YA(s){var a=ss(s);a!==null&&a.tag===5&&a.type==="form"?y0(a):Fo.r(s)}var Pl=typeof document>"u"?null:document;function sC(s,a,u){var m=Pl;if(m&&typeof a=="string"&&a){var b=kr(a);b='link[rel="'+s+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),rC.has(b)||(rC.add(b),s={rel:s,crossOrigin:u,href:a},m.querySelector(b)===null&&(a=m.createElement("link"),ar(a,"link",s),pn(a),m.head.appendChild(a)))}}function KA(s){Fo.D(s),sC("dns-prefetch",s,null)}function ZA(s,a){Fo.C(s,a),sC("preconnect",s,a)}function QA(s,a,u){Fo.L(s,a,u);var m=Pl;if(m&&s&&a){var b='link[rel="preload"][as="'+kr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+kr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+kr(u.imageSizes)+'"]')):b+='[href="'+kr(s)+'"]';var w=b;switch(a){case"style":w=Il(s);break;case"script":w=Ll(s)}xs.has(w)||(s=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),xs.set(w,s),m.querySelector(b)!==null||a==="style"&&m.querySelector(bu(w))||a==="script"&&m.querySelector(vu(w))||(a=m.createElement("link"),ar(a,"link",s),pn(a),m.head.appendChild(a)))}}function XA(s,a){Fo.m(s,a);var u=Pl;if(u&&s){var m=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+kr(m)+'"][href="'+kr(s)+'"]',w=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ll(s)}if(!xs.has(w)&&(s=x({rel:"modulepreload",href:s},a),xs.set(w,s),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(vu(w)))return}m=u.createElement("link"),ar(m,"link",s),pn(m),u.head.appendChild(m)}}}function JA(s,a,u){Fo.S(s,a,u);var m=Pl;if(m&&s){var b=Jo(m).hoistableStyles,w=Il(s);a=a||"default";var k=b.get(w);if(!k){var I={loading:0,preload:null};if(k=m.querySelector(bu(w)))I.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":a},u),(u=xs.get(w))&&gx(s,u);var J=k=m.createElement("link");pn(J),ar(J,"link",s),J._p=new Promise(function(he,ye){J.onload=he,J.onerror=ye}),J.addEventListener("load",function(){I.loading|=1}),J.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Gf(k,a,m)}k={type:"stylesheet",instance:k,count:1,state:I},b.set(w,k)}}}function eO(s,a){Fo.X(s,a);var u=Pl;if(u&&s){var m=Jo(u).hoistableScripts,b=Ll(s),w=m.get(b);w||(w=u.querySelector(vu(b)),w||(s=x({src:s,async:!0},a),(a=xs.get(b))&&xx(s,a),w=u.createElement("script"),pn(w),ar(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function tO(s,a){Fo.M(s,a);var u=Pl;if(u&&s){var m=Jo(u).hoistableScripts,b=Ll(s),w=m.get(b);w||(w=u.querySelector(vu(b)),w||(s=x({src:s,async:!0,type:"module"},a),(a=xs.get(b))&&xx(s,a),w=u.createElement("script"),pn(w),ar(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function oC(s,a,u,m){var b=(b=Y.current)?Wf(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Il(u.href),u=Jo(b).hoistableStyles,m=u.get(a),m||(m={type:"style",instance:null,count:0,state:null},u.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Il(u.href);var w=Jo(b).hoistableStyles,k=w.get(s);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,k),(w=b.querySelector(bu(s)))&&!w._p&&(k.instance=w,k.state.loading=5),xs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xs.set(s,u),w||nO(b,s,u,k.state))),a&&m===null)throw Error(r(528,""));return k}if(a&&m!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ll(u),u=Jo(b).hoistableScripts,m=u.get(a),m||(m={type:"script",instance:null,count:0,state:null},u.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Il(s){return'href="'+kr(s)+'"'}function bu(s){return'link[rel="stylesheet"]['+s+"]"}function aC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function nO(s,a,u,m){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=s.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),ar(a,"link",u),pn(a),s.head.appendChild(a))}function Ll(s){return'[src="'+kr(s)+'"]'}function vu(s){return"script[async]"+s}function iC(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var m=s.querySelector('style[data-href~="'+kr(u.href)+'"]');if(m)return a.instance=m,pn(m),m;var b=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),pn(m),ar(m,"style",b),Gf(m,u.precedence,s),a.instance=m;case"stylesheet":b=Il(u.href);var w=s.querySelector(bu(b));if(w)return a.state.loading|=4,a.instance=w,pn(w),w;m=aC(u),(b=xs.get(b))&&gx(m,b),w=(s.ownerDocument||s).createElement("link"),pn(w);var k=w;return k._p=new Promise(function(I,J){k.onload=I,k.onerror=J}),ar(w,"link",m),a.state.loading|=4,Gf(w,u.precedence,s),a.instance=w;case"script":return w=Ll(u.src),(b=s.querySelector(vu(w)))?(a.instance=b,pn(b),b):(m=u,(b=xs.get(w))&&(m=x({},u),xx(m,b)),s=s.ownerDocument||s,b=s.createElement("script"),pn(b),ar(b,"link",m),s.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(m=a.instance,a.state.loading|=4,Gf(m,u.precedence,s));return a.instance}function Gf(s,a,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,w=b,k=0;k<m.length;k++){var I=m[k];if(I.dataset.precedence===a)w=I;else if(w!==b)break}w?w.parentNode.insertBefore(s,w.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function gx(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function xx(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Yf=null;function lC(s,a,u){if(Yf===null){var m=new Map,b=Yf=new Map;b.set(u,m)}else b=Yf,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(s))return m;for(m.set(s,null),u=u.getElementsByTagName(s),b=0;b<u.length;b++){var w=u[b];if(!(w[Ys]||w[Rn]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(a)||"";k=s+k;var I=m.get(k);I?I.push(w):m.set(k,[w])}}return m}function cC(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function rO(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sO(s,a,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Il(m.href),w=a.querySelector(bu(b));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Kf.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=w,pn(w);return}w=a.ownerDocument||a,m=aC(m),(b=xs.get(b))&&gx(m,b),w=w.createElement("link"),pn(w);var k=w;k._p=new Promise(function(I,J){k.onload=I,k.onerror=J}),ar(w,"link",m),u.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Kf.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var bx=0;function oO(s,a){return s.stylesheets&&s.count===0&&Qf(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var m=setTimeout(function(){if(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+a);0<s.imgBytes&&bx===0&&(bx=62500*$A());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>bx?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function Kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zf=null;function Qf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zf=new Map,a.forEach(aO,s),Zf=null,Kf.call(s))}function aO(s,a){if(!(a.state.loading&4)){var u=Zf.get(s);if(u)var m=u.get(null);else{u=new Map,Zf.set(s,u);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var k=b[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),m=k)}m&&u.set(null,m)}b=a.instance,k=b.getAttribute("data-precedence"),w=u.get(k)||m,w===m&&u.set(null,b),u.set(k,b),this.count++,m=Kf.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),w?w.parentNode.insertBefore(b,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),a.state.loading|=4}}var yu={$$typeof:_,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function iO(s,a,u,m,b,w,k,I,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hn(0),this.hiddenUpdates=hn(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function dC(s,a,u,m,b,w,k,I,J,he,ye,je){return s=new iO(s,a,u,k,J,he,ye,je,I),a=1,w===!0&&(a|=24),w=Lr(3,null,null,a),s.current=w,w.stateNode=s,a=Qp(),a.refCount++,s.pooledCache=a,a.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:a},tg(w),s}function fC(s){return s?(s=pl,s):pl}function mC(s,a,u,m,b,w){b=fC(b),m.context===null?m.context=b:m.pendingContext=b,m=ba(a),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=va(s,m,a),u!==null&&(Tr(u,s,a),Xc(u,s,a))}function hC(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function vx(s,a){hC(s,a),(s=s.alternate)&&hC(s,a)}function pC(s){if(s.tag===13||s.tag===31){var a=hi(s,67108864);a!==null&&Tr(a,s,67108864),vx(s,67108864)}}function gC(s){if(s.tag===13||s.tag===31){var a=Vr();a=js(a);var u=hi(s,a);u!==null&&Tr(u,s,a),vx(s,a)}}var Xf=!0;function lO(s,a,u,m){var b=z.T;z.T=null;var w=q.p;try{q.p=2,yx(s,a,u,m)}finally{q.p=w,z.T=b}}function cO(s,a,u,m){var b=z.T;z.T=null;var w=q.p;try{q.p=8,yx(s,a,u,m)}finally{q.p=w,z.T=b}}function yx(s,a,u,m){if(Xf){var b=wx(m);if(b===null)ax(s,a,m,Jf,u),bC(s,m);else if(dO(b,s,a,u,m))m.stopPropagation();else if(bC(s,m),a&4&&-1<uO.indexOf(s)){for(;b!==null;){var w=ss(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=ot(w.pendingLanes);if(k!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var J=1<<31-Vt(k);I.entanglements[1]|=J,k&=~J}to(w),(At&6)===0&&(zf=Ce()+500,hu(0))}}break;case 31:case 13:I=hi(w,2),I!==null&&Tr(I,w,2),If(),vx(w,2)}if(w=wx(m),w===null&&ax(s,a,m,Jf,u),w===b)break;b=w}b!==null&&m.stopPropagation()}else ax(s,a,m,null,u)}}function wx(s){return s=aa(s),Sx(s)}var Jf=null;function Sx(s){if(Jf=null,s=bo(s),s!==null){var a=l(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=c(a),s!==null)return s;s=null}else if(u===31){if(s=d(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Jf=s,null}function xC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case ke:return 2;case ve:return 8;case _e:case $e:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Cx=!1,Ma=null,Da=null,Aa=null,wu=new Map,Su=new Map,Oa=[],uO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bC(s,a){switch(s){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":wu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(a.pointerId)}}function Cu(s,a,u,m,b,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},a!==null&&(a=ss(a),a!==null&&pC(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),s)}function dO(s,a,u,m,b){switch(a){case"focusin":return Ma=Cu(Ma,s,a,u,m,b),!0;case"dragenter":return Da=Cu(Da,s,a,u,m,b),!0;case"mouseover":return Aa=Cu(Aa,s,a,u,m,b),!0;case"pointerover":var w=b.pointerId;return wu.set(w,Cu(wu.get(w)||null,s,a,u,m,b)),!0;case"gotpointercapture":return w=b.pointerId,Su.set(w,Cu(Su.get(w)||null,s,a,u,m,b)),!0}return!1}function vC(s){var a=bo(s.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){s.blockedOn=a,Es(s.priority,function(){gC(u)});return}}else if(a===31){if(a=d(u),a!==null){s.blockedOn=a,Es(s.priority,function(){gC(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function em(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=wx(s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);Ks=m,u.target.dispatchEvent(m),Ks=null}else return a=ss(u),a!==null&&pC(a),s.blockedOn=u,!1;a.shift()}return!0}function yC(s,a,u){em(s)&&u.delete(a)}function fO(){Cx=!1,Ma!==null&&em(Ma)&&(Ma=null),Da!==null&&em(Da)&&(Da=null),Aa!==null&&em(Aa)&&(Aa=null),wu.forEach(yC),Su.forEach(yC)}function tm(s,a){s.blockedOn===a&&(s.blockedOn=null,Cx||(Cx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fO)))}var nm=null;function wC(s){nm!==s&&(nm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nm===s&&(nm=null);for(var a=0;a<s.length;a+=3){var u=s[a],m=s[a+1],b=s[a+2];if(typeof m!="function"){if(Sx(m||u)===null)continue;break}var w=ss(u);w!==null&&(s.splice(a,3),a-=3,wg(w,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function $l(s){function a(J){return tm(J,s)}Ma!==null&&tm(Ma,s),Da!==null&&tm(Da,s),Aa!==null&&tm(Aa,s),wu.forEach(a),Su.forEach(a);for(var u=0;u<Oa.length;u++){var m=Oa[u];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Oa.length&&(u=Oa[0],u.blockedOn===null);)vC(u),u.blockedOn===null&&Oa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],w=u[m+1],k=b[tr]||null;if(typeof w=="function")k||wC(u);else if(k){var I=null;if(w&&w.hasAttribute("formAction")){if(b=w,k=w[tr]||null)I=k.formAction;else if(Sx(b)!==null)continue}else I=k.action;typeof I=="function"?u[m+1]=I:(u.splice(m,3),m-=3),wC(u)}}}function SC(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function a(){b!==null&&(b(),b=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),b!==null&&(b(),b=null)}}}function jx(s){this._internalRoot=s}rm.prototype.render=jx.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,m=Vr();mC(u,m,s,a,null,null)},rm.prototype.unmount=jx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mC(s.current,2,null,s,null,null),If(),a[Xo]=null}};function rm(s){this._internalRoot=s}rm.prototype.unstable_scheduleHydration=function(s){if(s){var a=_r();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Oa.length&&a!==0&&a<Oa[u].priority;u++);Oa.splice(u,0,s),u===0&&vC(s)}};var CC=t.version;if(CC!=="19.2.0")throw Error(r(527,CC,"19.2.0"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var mO={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{nn=sm.inject(mO),Ut=sm}catch{}}return Eu.createRoot=function(s,a){if(!o(s))throw Error(r(299));var u=!1,m="",b=M0,w=D0,k=A0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=dC(s,1,!1,null,null,u,m,null,b,w,k,SC),s[Xo]=a.current,ox(s),new jx(a)},Eu.hydrateRoot=function(s,a,u){if(!o(s))throw Error(r(299));var m=!1,b="",w=M0,k=D0,I=A0,J=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.formState!==void 0&&(J=u.formState)),a=dC(s,1,!0,a,u??null,m,b,J,w,k,I,SC),a.context=fC(null),u=a.current,m=Vr(),m=js(m),b=ba(m),b.callback=null,va(u,b,m),u=m,a.current.lanes=u,kn(a,u),to(a),s[Xo]=a.current,ox(s),new rm(a)},Eu.version="19.2.0",Eu}var OC;function CO(){if(OC)return _x.exports;OC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_x.exports=SO(),_x.exports}var jO=CO();const EO=yv(jO),xh=h.createContext(null);function NO({children:e}){const[t,n]=h.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),r=h.useRef(new Set),o=h.useRef(t);h.useEffect(()=>{o.current=t},[t]);const l=h.useCallback(p=>{for(const g of r.current)if(g(p)===!1)return!1;return!0},[]);h.useEffect(()=>{const p=()=>{const g={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},x=`${g.pathname}${g.search}${g.hash}`;if(!l({kind:"pop",to:x,location:g})){const y=o.current;window.history.pushState(null,"",`${y.pathname}${y.search}${y.hash}`);return}n(g)};return window.addEventListener("popstate",p),()=>window.removeEventListener("popstate",p)},[l]);const c=h.useCallback(p=>(r.current.add(p),()=>{r.current.delete(p)}),[]),d=h.useCallback((p,g)=>{const x=new URL(p,window.location.origin),v={pathname:x.pathname,search:x.search,hash:x.hash},y=`${v.pathname}${v.search}${v.hash}`,S=g?.replace?"replace":"push";l({kind:S,to:y,location:v})&&(g?.replace?window.history.replaceState(null,"",y):window.history.pushState(null,"",y),window.dispatchEvent(new PopStateEvent("popstate")))},[l]),f=h.useMemo(()=>({location:t,navigate:d,registerBlocker:c}),[t,d,c]);return i.jsx(xh.Provider,{value:f,children:e})}function xr(){const e=h.useContext(xh);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function sn(){const e=h.useContext(xh);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function KE(e,t=!0){const n=h.useContext(xh);if(!n)throw new Error("useNavigationBlocker must be used within NavProvider");h.useEffect(()=>{if(t)return n.registerBlocker(e)},[e,n,t])}function ZE(e){let t=e||"/";const n=t.indexOf("#");n>=0&&(t=t.slice(0,n));const r=t.indexOf("?");return r>=0&&(t=t.slice(0,r)),t?(t.startsWith("/")||(t=`/${t}`),t.replace(/\/+$/,"")||"/"):"/"}var gc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_O={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kO=class{#e=_O;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Di=new kO;function RO(e){setTimeout(e,0)}var Pi=typeof window>"u"||"Deno"in globalThis;function Sr(){}function MO(e,t){return typeof e=="function"?e(t):e}function jb(e){return typeof e=="number"&&e>=0&&e!==1/0}function QE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ha(e,t){return typeof e=="function"?e(t):e}function ys(e,t){return typeof e=="function"?e(t):e}function TC(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:c,stale:d}=e;if(c){if(r){if(t.queryHash!==Cv(c,t.options))return!1}else if(!Zu(t.queryKey,c))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function zC(e,t){const{exact:n,status:r,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Ii(t.options.mutationKey)!==Ii(l))return!1}else if(!Zu(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Cv(e,t){return(t?.queryKeyHashFn||Ii)(e)}function Ii(e){return JSON.stringify(e,(t,n)=>Eb(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Zu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Zu(e[n],t[n])):!1}var DO=Object.prototype.hasOwnProperty;function XE(e,t){if(e===t)return e;const n=PC(e)&&PC(t);if(!n&&!(Eb(e)&&Eb(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),c=l.length,d=n?new Array(c):{};let f=0;for(let p=0;p<c;p++){const g=n?p:l[p],x=e[g],v=t[g];if(x===v){d[g]=x,(n?p<o:DO.call(e,g))&&f++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[g]=v;continue}const y=XE(x,v);d[g]=y,y===x&&f++}return o===c&&f===o?e:d}function Fm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function PC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eb(e){if(!IC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!IC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function IC(e){return Object.prototype.toString.call(e)==="[object Object]"}function AO(e){return new Promise(t=>{Di.setTimeout(t,e)})}function Nb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?XE(e,t):t}function OO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function TO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var jv=Symbol();function JE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===jv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eN(e,t){return typeof e=="function"?e(...t):!!e}var zO=class extends gc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Pi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ev=new zO;function _b(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}var PO=RO;function IO(){let e=[],t=0,n=d=>{d()},r=d=>{d()},o=PO;const l=d=>{t?e.push(d):o(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&o(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var qn=IO(),LO=class extends gc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Pi&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Um=new LO;function $O(e){return Math.min(1e3*2**e,3e4)}function tN(e){return(e??"online")==="online"?Um.isOnline():!0}var kb=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nN(e){let t=!1,n=0,r;const o=_b(),l=()=>o.status!=="pending",c=C=>{if(!l()){const j=new kb(C);v(j),e.onCancel?.(j)}},d=()=>{t=!0},f=()=>{t=!1},p=()=>Ev.isFocused()&&(e.networkMode==="always"||Um.isOnline())&&e.canRun(),g=()=>tN(e.networkMode)&&e.canRun(),x=C=>{l()||(r?.(),o.resolve(C))},v=C=>{l()||(r?.(),o.reject(C))},y=()=>new Promise(C=>{r=j=>{(l()||p())&&C(j)},e.onPause?.()}).then(()=>{r=void 0,l()||e.onContinue?.()}),S=()=>{if(l())return;let C;const j=n===0?e.initialPromise:void 0;try{C=j??e.fn()}catch(E){C=Promise.reject(E)}Promise.resolve(C).then(x).catch(E=>{if(l())return;const N=e.retry??(Pi?0:3),_=e.retryDelay??$O,R=typeof _=="function"?_(n,E):_,D=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(t||!D){v(E);return}n++,e.onFail?.(n,E),AO(R).then(()=>p()?void 0:y()).then(()=>{t?v(E):S()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(r?.(),o),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():y().then(S),o)}}var rN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jb(this.gcTime)&&(this.#e=Di.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Di.clearTimeout(this.#e),this.#e=void 0)}},FO=class extends rN{#e;#t;#n;#s;#r;#a;#i;constructor(e){super(),this.#i=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=LC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=LC(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Nb(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ha(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!QE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},o=()=>{const d=JE(this.options,t),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#i=!1,this.options.persister?this.options.persister(d,p,this):d(p)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#o({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=nN({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof kb&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof kb){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sN(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),qn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function sN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var oN=class extends gc{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#i=_b(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#i;#o;#p;#f;#m;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$C(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Fm(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&FC(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||ys(this.options.enabled,this.#t)!==ys(t.enabled,this.#t)||Ha(this.options.staleTime,this.#t)!==Ha(t.staleTime,this.#t))&&this.#g();const o=this.#x();r&&(this.#t!==n||ys(this.options.enabled,this.#t)!==ys(t.enabled,this.#t)||o!==this.#l)&&this.#b(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return BO(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Sr)),t}#g(){this.#y();const e=Ha(this.options.staleTime,this.#t);if(Pi||this.#s.isStale||!jb(e))return;const n=QE(this.#s.dataUpdatedAt,e)+1;this.#c=Di.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#l=e,!(Pi||ys(this.options.enabled,this.#t)===!1||!jb(this.#l)||this.#l===0)&&(this.#u=Di.setInterval(()=>{(this.options.refetchIntervalInBackground||Ev.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Di.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Di.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,o=this.#s,l=this.#r,c=this.#a,f=e!==n?e.state:this.#n,{state:p}=e;let g={...p},x=!1,v;if(t._optimisticResults){const O=this.hasListeners(),L=!O&&$C(e,t),T=O&&FC(e,n,t,r);(L||T)&&(g={...g,...sN(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:y,errorUpdatedAt:S,status:C}=g;v=g.data;let j=!1;if(t.placeholderData!==void 0&&v===void 0&&C==="pending"){let O;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(O=o.data,j=!0):O=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,O!==void 0&&(C="success",v=Nb(o?.data,O,t),x=!0)}if(t.select&&v!==void 0&&!j)if(o&&v===l?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=Nb(o?.data,v,t),this.#f=v,this.#o=null}catch(O){this.#o=O}this.#o&&(y=this.#o,v=this.#f,S=Date.now(),C="error");const E=g.fetchStatus==="fetching",N=C==="pending",_=C==="error",R=N&&E,D=v!==void 0,M={status:C,fetchStatus:g.fetchStatus,isPending:N,isSuccess:C==="success",isError:_,isInitialLoading:R,isLoading:R,data:v,dataUpdatedAt:g.dataUpdatedAt,error:y,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!N,isLoadingError:_&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:_&&D,isStale:Nv(e,t),refetch:this.refetch,promise:this.#i,isEnabled:ys(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=G=>{M.status==="error"?G.reject(M.error):M.data!==void 0&&G.resolve(M.data)},L=()=>{const G=this.#i=M.promise=_b();O(G)},T=this.#i;switch(T.status){case"pending":e.queryHash===n.queryHash&&O(T);break;case"fulfilled":(M.status==="error"||M.data!==T.value)&&L();break;case"rejected":(M.status!=="error"||M.error!==T.reason)&&L();break}}return M}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#m=this.#t),Fm(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#h.size)return!0;const l=new Set(o??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#s).some(c=>{const d=c;return this.#s[d]!==e[d]&&l.has(d)})};this.#C({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(e){qn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UO(e,t){return ys(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $C(e,t){return UO(e,t)||e.state.data!==void 0&&Rb(e,t,t.refetchOnMount)}function Rb(e,t,n){if(ys(t.enabled,e)!==!1&&Ha(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Nv(e,t)}return!1}function FC(e,t,n,r){return(e!==t||ys(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Nv(e,n)}function Nv(e,t){return ys(t.enabled,e)!==!1&&e.isStaleByTime(Ha(t.staleTime,e))}function BO(e,t){return!Fm(e.getCurrentResult(),t)}function Bm(e){return{onFetch:(t,n)=>{const r=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=JE(t.options,t.fetchOptions),y=async(S,C,j)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:C,direction:j?"backward":"forward",meta:t.options.meta};return x(A),A})(),_=await v(N),{maxPages:R}=t.options,D=j?TO:OO;return{pages:D(S.pages,_,R),pageParams:D(S.pageParams,C,R)}};if(o&&l.length){const S=o==="backward",C=S?aN:Mb,j={pages:l,pageParams:c},E=C(r,j);d=await y(j,E,S)}else{const S=e??l.length;do{const C=f===0?c[0]??r.initialPageParam:Mb(r,d);if(f>0&&C==null)break;d=await y(d,C),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=p}}}function Mb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function aN(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function VO(e,t){return t?Mb(e,t)!=null:!1}function HO(e,t){return!t||!e.getPreviousPageParam?!1:aN(e,t)!=null}var qO=class extends oN{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Bm()})}getOptimisticResult(e){return e.behavior=Bm(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:o,isRefetching:l,isError:c,isRefetchError:d}=r,f=n.fetchMeta?.fetchMore?.direction,p=c&&f==="forward",g=o&&f==="forward",x=c&&f==="backward",v=o&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:VO(t,n.data),hasPreviousPage:HO(t,n.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:x,isFetchingPreviousPage:v,isRefetchError:d&&!p&&!x,isRefetching:l&&!g&&!v}}},WO=class extends rN{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||iN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=nN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",o=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,n);const c=await this.options.onMutate?.(e,n);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,n),await this.options.onSuccess?.(l,e,this.state.context,n),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(l,null,e,this.state.context,n),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,n),await this.options.onError?.(l,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,l,e,this.state.context,n),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),qn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function iN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GO=class extends gc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new WO({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=om(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=om(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=om(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=om(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){qn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>zC(t,n))}findAll(e={}){return this.getAll().filter(t=>zC(e,t))}notify(e){qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Sr))))}};function om(e){return e.options.scope?.id}var YO=class extends gc{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Fm(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ii(n.mutationKey)!==Ii(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??iN();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){qn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,n,r,o),this.#s.onSettled?.(t.data,null,n,r,o)):t?.type==="error"&&(this.#s.onError?.(t.error,n,r,o),this.#s.onSettled?.(void 0,t.error,n,r,o))}this.listeners.forEach(n=>{n(this.#t)})})}},KO=class extends gc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,o=t.queryHash??Cv(r,t);let l=this.get(o);return l||(l=new FO({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>TC(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>TC(e,n)):t}notify(e){qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ZO=class{#e;#t;#n;#s;#r;#a;#i;#o;constructor(e={}){this.#e=e.queryCache||new KO,this.#t=e.mutationCache||new GO,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=Ev.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Um.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ha(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(r.queryHash)?.state.data,c=MO(t,l);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return qn.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;qn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return qn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Sr).catch(Sr)}invalidateQueries(e,t={}){return qn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Sr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ha(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sr).catch(Sr)}fetchInfiniteQuery(e){return e.behavior=Bm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sr).catch(Sr)}ensureInfiniteQueryData(e){return e.behavior=Bm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Um.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Ii(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{Zu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Ii(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Zu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Cv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},lN=h.createContext(void 0),Tt=e=>{const t=h.useContext(lN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},QO=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(lN.Provider,{value:e,children:t})),cN=h.createContext(!1),XO=()=>h.useContext(cN);cN.Provider;function JO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var eT=h.createContext(JO()),tT=()=>h.useContext(eT),nT=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},rT=e=>{h.useEffect(()=>{e.clearReset()},[e])},sT=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||eN(n,[e.error,r])),oT=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},aT=(e,t)=>e.isLoading&&e.isFetching&&!t,iT=(e,t)=>e?.suspense&&t.isPending,UC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function uN(e,t,n){const r=XO(),o=tT(),l=Tt(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",oT(c),nT(c,o),rT(o);const d=!l.getQueryCache().get(c.queryHash),[f]=h.useState(()=>new t(l,c)),p=f.getOptimisticResult(c),g=!r&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(x=>{const v=g?f.subscribe(qn.batchCalls(x)):Sr;return f.updateResult(),v},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),h.useEffect(()=>{f.setOptions(c)},[c,f]),iT(c,p))throw UC(c,f,o);if(sT({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,p),c.experimental_prefetchInRender&&!Pi&&aT(p,r)&&(d?UC(c,f,o):l.getQueryCache().get(c.queryHash)?.promise)?.catch(Sr).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?p:f.trackResult(p)}function _n(e,t){return uN(e,oN)}function Ln(e,t){const n=Tt(),[r]=h.useState(()=>new YO(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const o=h.useSyncExternalStore(h.useCallback(c=>r.subscribe(qn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=h.useCallback((c,d)=>{r.mutate(c,d).catch(Sr)},[r]);if(o.error&&eN(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function _v(e,t){return uN(e,qO)}const lT="modulepreload",cT=function(e){return"/"+e},BC={},dN=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=f(n.map(p=>{if(p=cT(p),p in BC)return;BC[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":lT,g||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((y,S)=>{v.addEventListener("load",y),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},uT=[{id:"default",label:"Default",description:"Slate neutrals + indigo accent.",kind:"accent"},{id:"ocean",label:"Ocean",description:"Cyan accent on slate neutrals.",kind:"accent"},{id:"forest",label:"Forest",description:"Emerald accent on slate neutrals.",kind:"accent"},{id:"sunset",label:"Sunset",description:"Orange accent on slate neutrals.",kind:"accent"},{id:"rose",label:"Rose",description:"Rose accent on slate neutrals.",kind:"accent"},{id:"grape",label:"Grape",description:"Violet accent on slate neutrals.",kind:"accent"},{id:"sand",label:"Sand",description:"Stone neutrals + teal accent.",kind:"full"},{id:"carbon",label:"Carbon",description:"Zinc neutrals + blue accent.",kind:"full"}],kv="ade.mode",Rv="ade.theme";function fN(e){if(typeof window>"u")return null;try{return window.localStorage.getItem(e)}catch(t){return console.warn("Failed to read theme preference",t),null}}function dT(){const e=fN(kv);return e==="light"||e==="dark"||e==="system"?e:null}function fT(){const e=fN(Rv);return typeof e=="string"&&e.length>0?e:null}function mT(e){if(!(typeof window>"u"))try{window.localStorage.setItem(kv,e)}catch(t){console.warn("Failed to persist theme mode",t)}}function hT(e){if(!(typeof window>"u"))try{window.localStorage.setItem(Rv,e)}catch(t){console.warn("Failed to persist theme name",t)}}const mN=h.createContext(null),VC="(prefers-color-scheme: dark)";function pT({children:e}){const t=h.useMemo(()=>dT(),[]),n=h.useMemo(()=>fT(),[]),[r,o]=h.useState(t??"system"),[l,c]=h.useState(n??HC),[d,f]=h.useState(null),[p,g]=h.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(VC).matches);h.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const E=window.matchMedia(VC),N=_=>{g(_.matches)};return typeof E.addEventListener=="function"?E.addEventListener("change",N):typeof E.addListener=="function"&&E.addListener(N),g(E.matches),()=>{typeof E.removeEventListener=="function"?E.removeEventListener("change",N):typeof E.removeListener=="function"&&E.removeListener(N)}},[]);const x=h.useMemo(()=>gT(r,p),[r,p]),v=d??l;h.useEffect(()=>{xT(v,x)},[v,x]),h.useEffect(()=>{hT(l)},[l]),h.useEffect(()=>{mT(r)},[r]),h.useEffect(()=>{if(typeof window>"u")return;const E=N=>{if(N.key===kv){const _=N.newValue;_==="light"||_==="dark"||_==="system"?o(_):_===null&&o("system");return}if(N.key===Rv){const _=N.newValue;typeof _=="string"&&_.length>0?(c(_),f(null)):_===null&&(c(HC),f(null))}};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[]);const y=h.useCallback(E=>{c(E),f(null)},[]),S=h.useCallback(E=>{f(E)},[]),C=h.useCallback(E=>{o(E)},[]),j=h.useMemo(()=>({theme:l,modePreference:r,resolvedMode:x,systemPrefersDark:p,setTheme:y,setPreviewTheme:S,setModePreference:C}),[r,x,C,S,y,p,l]);return i.jsx(mN.Provider,{value:j,children:e})}function Mv(){const e=h.useContext(mN);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}const HC="default",hN=[{value:"system",label:"System",description:"Match your device"},{value:"light",label:"Light",description:"Bright and clear"},{value:"dark",label:"Dark",description:"Low-light friendly"}],pN=uT;function gN(e){return e==="dark"}function gT(e,t){return e==="system"?t?"dark":"light":e}function xT(e,t){if(typeof document>"u")return;const n=document.documentElement;n.dataset.theme=e,n.dataset.mode=t,n.style.colorScheme=gN(t)?"dark":"light"}var zn=YE();const bT=yv(zn);function xN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=xN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=xN(e))&&(r&&(r+=" "),r+=t);return r}function He({title:e,children:t,viewBox:n="0 0 20 20",fill:r="none",stroke:o="currentColor",strokeWidth:l=1.6,strokeLinecap:c="round",strokeLinejoin:d="round",...f}){const p=f["aria-label"],g=f["aria-labelledby"],x=!!(e||p||g),v=f["aria-hidden"]??(x?void 0:!0),y=f.role??(x?"img":"presentation"),S=f.focusable??!1;return i.jsxs("svg",{viewBox:n,fill:r,stroke:o,strokeWidth:l,strokeLinecap:c,strokeLinejoin:d,"aria-hidden":v,role:y,focusable:S,...f,children:[e?i.jsx("title",{children:e}):null,t]})}const Ye={viewBox:"0 0 24 24",strokeWidth:2},vT={viewBox:"0 0 16 16",strokeWidth:1.4},yT={viewBox:"0 0 10 10",strokeWidth:1.5};function wT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),i.jsx("path",{d:"M10 9H8"}),i.jsx("path",{d:"M16 13H8"}),i.jsx("path",{d:"M16 17H8"})]})}function bh(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:11,cy:11,r:8}),i.jsx("path",{d:"m21 21-4.3-4.3"})]})}function vh(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"17 8 12 3 7 8"}),i.jsx("line",{x1:12,x2:12,y1:3,y2:15})]})}function ST(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:12,x2:12,y1:15,y2:3})]})}function CT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:3,y:3,width:7,height:7,rx:1}),i.jsx("rect",{x:14,y:3,width:7,height:7,rx:1}),i.jsx("rect",{x:14,y:14,width:7,height:7,rx:1}),i.jsx("rect",{x:3,y:14,width:7,height:7,rx:1})]})}function mo(e){return i.jsxs(He,{...Ye,...e,strokeWidth:2.25,children:[i.jsx("path",{d:"M18 6 6 18"}),i.jsx("path",{d:"m6 6 12 12"})]})}function jT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),i.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),i.jsx("line",{x1:10,x2:10,y1:11,y2:17}),i.jsx("line",{x1:14,x2:14,y1:11,y2:17})]})}function ET(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),i.jsx("path",{d:"M21 3v5h-5"}),i.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),i.jsx("path",{d:"M8 16H3v5"})]})}function NT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("line",{x1:21,x2:14,y1:4,y2:4}),i.jsx("line",{x1:10,x2:3,y1:4,y2:4}),i.jsx("line",{x1:21,x2:12,y1:12,y2:12}),i.jsx("line",{x1:8,x2:3,y1:12,y2:12}),i.jsx("line",{x1:21,x2:16,y1:20,y2:20}),i.jsx("line",{x1:12,x2:3,y1:20,y2:20}),i.jsx("line",{x1:14,x2:14,y1:2,y2:6}),i.jsx("line",{x1:8,x2:8,y1:10,y2:14}),i.jsx("line",{x1:16,x2:16,y1:18,y2:22})]})}function Gi(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m6 9 6 6 6-6"})})}function _T(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m15 18-6-6 6-6"})})}function kT(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m9 18 6-6-6-6"})})}function qa(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"M20 6 9 17l-5-5"})})}function RT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),i.jsx("path",{d:"M12 9v4"}),i.jsx("path",{d:"M12 17h.01"})]})}function MT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10}),i.jsx("polyline",{points:"12 6 12 12 16 14"})]})}function DT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),i.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}function AT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("line",{x1:4,x2:20,y1:12,y2:12}),i.jsx("line",{x1:4,x2:20,y1:6,y2:6}),i.jsx("line",{x1:4,x2:20,y1:18,y2:18})]})}function Dv(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"}),i.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}),i.jsx("path",{d:"M12 2v2"}),i.jsx("path",{d:"M12 22v-2"}),i.jsx("path",{d:"m17 20.66-1-1.73"}),i.jsx("path",{d:"M11 10.27 7 3.34"}),i.jsx("path",{d:"m20.66 17-1.73-1"}),i.jsx("path",{d:"m3.34 7 1.73 1"}),i.jsx("path",{d:"M14 12h8"}),i.jsx("path",{d:"M2 12h2"}),i.jsx("path",{d:"m20.66 7-1.73 1"}),i.jsx("path",{d:"m3.34 17 1.73-1"}),i.jsx("path",{d:"m17 3.34-1 1.73"}),i.jsx("path",{d:"m11 13.73-4 6.93"})]})}function Av(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"})]})}function bN(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"}),i.jsx("path",{d:"m2 2 20 20"}),i.jsx("path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"})]})}function OT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M3 12h.01"}),i.jsx("path",{d:"M3 18h.01"}),i.jsx("path",{d:"M3 6h.01"}),i.jsx("path",{d:"M8 12h13"}),i.jsx("path",{d:"M8 18h13"}),i.jsx("path",{d:"M8 6h13"})]})}function TT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M20 7h-9"}),i.jsx("path",{d:"M14 17H5"}),i.jsx("circle",{cx:17,cy:17,r:3}),i.jsx("circle",{cx:7,cy:7,r:3})]})}function zT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"M12 16v-4"}),i.jsx("path",{d:"M12 8h.01"})]})}function PT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"m9 12 2 2 4-4"})]})}function IT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("line",{x1:12,x2:12,y1:8,y2:12}),i.jsx("line",{x1:12,x2:12.01,y1:16,y2:16})]})}function LT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function $T(e){return i.jsx(He,{...Ye,...e,stroke:"none",children:i.jsx("path",{d:"M17.5 0h-9L7 1.5V6H2.5L1 7.5v15.07L2.5 24h12.07L16 22.57V18h4.7l1.3-1.43V4.5L17.5 0zm0 2.12l2.38 2.38H17.5V2.12zm-3 20.38h-12v-15H7v9.07L8.5 18h6v4.5zm6-6h-12v-15H16V6h4.5v10.5z",fill:"currentColor"})})}function FT(e){return i.jsx(He,{...Ye,...e,stroke:"none",children:i.jsx("path",{d:"M21.007 8.222A3.738 3.738 0 0 0 15.045 5.2a3.737 3.737 0 0 0 1.156 6.583 2.988 2.988 0 0 1-2.668 1.67h-2.99a4.456 4.456 0 0 0-2.989 1.165V7.4a3.737 3.737 0 1 0-1.494 0v9.117a3.776 3.776 0 1 0 1.816.099 2.99 2.99 0 0 1 2.668-1.667h2.99a4.484 4.484 0 0 0 4.223-3.039 3.736 3.736 0 0 0 3.25-3.687zM4.565 3.738a2.242 2.242 0 1 1 4.484 0 2.242 2.242 0 0 1-4.484 0zm4.484 16.441a2.242 2.242 0 1 1-4.484 0 2.242 2.242 0 0 1 4.484 0zm8.221-9.715a2.242 2.242 0 1 1 0-4.485 2.242 2.242 0 0 1 0 4.485z",fill:"currentColor"})})}function UT(e){return i.jsx(He,{...Ye,...e,children:i.jsx("path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z"})})}function BT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2}),i.jsx("path",{d:"M9 3v18"})]})}function vN(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}function VT(e){return i.jsx(He,{...Ye,...e,children:i.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"})})}function HT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2}),i.jsx("path",{d:"M9 3v18"}),i.jsx("path",{d:"m16 15-3-3 3-3"})]})}function qT(e){return i.jsx(He,{...Ye,...e,children:i.jsx("path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"})})}function qC(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function WT(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m6 9 6 6 6-6"})})}function GT(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m18 15-6-6-6 6"})})}function yN(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),i.jsx("path",{d:"M9 15h6"}),i.jsx("path",{d:"M12 18v-6"})]})}function Db(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 10v6"}),i.jsx("path",{d:"M9 13h6"}),i.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"})]})}function YT(e){return i.jsxs(He,{viewBox:"0 0 16 16",strokeWidth:0,...e,stroke:"none",children:[i.jsx("path",{d:"M9 9H4v1h5V9z",fill:"currentColor"}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3l1-1h7l1 1v7l-1 1h-2v2l-1 1H3l-1-1V6l1-1h2V3zm1 2h4l1 1v4h2V3H6v2zm4 1H3v7h7V6z",fill:"currentColor"})]})}function WC(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),i.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),i.jsx("line",{x1:10,x2:10,y1:11,y2:17}),i.jsx("line",{x1:14,x2:14,y1:11,y2:17})]})}function KT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M13 12h8"}),i.jsx("path",{d:"M13 18h8"}),i.jsx("path",{d:"M13 6h8"}),i.jsx("path",{d:"M3 12h1"}),i.jsx("path",{d:"M3 18h1"}),i.jsx("path",{d:"M3 6h1"}),i.jsx("path",{d:"M8 12h1"}),i.jsx("path",{d:"M8 18h1"}),i.jsx("path",{d:"M8 6h1"})]})}function ZT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 17V3"}),i.jsx("path",{d:"m6 11 6 6 6-6"}),i.jsx("path",{d:"M19 21H5"})]})}function QT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("polyline",{points:"4 17 10 11 4 5"}),i.jsx("line",{x1:12,x2:20,y1:19,y2:19})]})}function XT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),i.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),i.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),i.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]})}function JT(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function ez(e){return i.jsx(He,{...Ye,...e,strokeWidth:2.25,children:i.jsx("path",{d:"M5 12h14"})})}function wN(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),i.jsx("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),i.jsx("path",{d:"M7 3v4a1 1 0 0 0 1 1h7"})]})}function tz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M10 2v3a1 1 0 0 0 1 1h5"}),i.jsx("path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6"}),i.jsx("path",{d:"M18 22H4a2 2 0 0 1-2-2V6"}),i.jsx("path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z"})]})}function nz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("line",{x1:12,x2:18,y1:12,y2:18}),i.jsx("line",{x1:12,x2:18,y1:18,y2:12}),i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function rz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M3 5v14"}),i.jsx("path",{d:"M21 12H7"}),i.jsx("path",{d:"m15 18 6-6-6-6"})]})}function sz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function oz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12 3v18"}),i.jsx("path",{d:"M3 12h18"}),i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2})]})}function az(e){return i.jsx(He,{...Ye,...e,children:i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2})})}function iz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function lz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("circle",{cx:12,cy:12,r:1}),i.jsx("circle",{cx:19,cy:12,r:1}),i.jsx("circle",{cx:5,cy:12,r:1})]})}function Uu(e){return i.jsxs(He,{...e,viewBox:"0 0 24 24",strokeWidth:2.4,children:[i.jsx("circle",{cx:12,cy:12,r:9,opacity:.2}),i.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})]})}function cz(e){return i.jsxs(He,{...vT,...e,strokeWidth:1.6,children:[i.jsx("circle",{cx:8,cy:8,r:6,opacity:.3}),i.jsx("path",{d:"M14 8a6 6 0 0 0-6-6"})]})}function GC(e){return i.jsx(He,{...Ye,...e,stroke:"none",children:i.jsx("polygon",{points:"6 3 20 12 6 21 6 3",fill:"currentColor"})})}function uz({filled:e,className:t}){const n={viewBox:"0 0 24 24",strokeWidth:2.1};return i.jsx(He,{...n,className:t,stroke:e?"none":void 0,children:e?i.jsxs("g",{children:[i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",fill:"currentColor"}),i.jsx("rect",{x:"11.1",y:"17",width:"1.8",height:"5",rx:"0.9",fill:"currentColor"})]}):i.jsxs("g",{children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"})]})})}function dz(e){return i.jsx(He,{...yT,...e,children:i.jsx("path",{d:"M3 1l4 4-4 4"})})}function fz(e){return i.jsxs(He,{...Ye,...e,children:[i.jsx("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),i.jsx("circle",{cx:7.5,cy:7.5,r:".5",fill:"currentColor"})]})}const SN=h.createContext(null),mz=6e3,hz=7e3,YC=4;function pz({children:e}){const[t,n]=h.useState([]),[r,o]=h.useState([]),l=h.useCallback(g=>{n(x=>x.filter(v=>v.id!==g)),o(x=>x.filter(v=>v.id!==g))},[]),c=h.useCallback(g=>{const x={kind:"toast",id:g.id??KC(),title:g.title,description:g.description,intent:g.intent??"info",actions:g.actions??[],duration:g.duration===void 0?mz:g.duration,dismissible:g.dismissible??!0,scope:g.scope,persistKey:g.persistKey,icon:g.icon,createdAt:Date.now()};return n(v=>{const S=[...x.persistKey?v.filter(C=>C.persistKey!==x.persistKey):v,x];return S.length>YC?S.slice(S.length-YC):S}),typeof window<"u"&&x.duration&&x.duration>0&&window.setTimeout(()=>l(x.id),x.duration+50),x.id},[l]),d=h.useCallback(g=>{const x={kind:"banner",id:g.id??KC(),title:g.title,description:g.description,intent:g.intent??"info",actions:g.actions??[],duration:g.duration===void 0?g.sticky?null:hz:g.duration,dismissible:g.dismissible??!0,scope:g.scope,persistKey:g.persistKey,icon:g.icon,sticky:g.sticky??!1,createdAt:Date.now()};return o(v=>[...x.persistKey?v.filter(S=>S.persistKey!==x.persistKey):v,x]),typeof window<"u"&&x.duration&&x.duration>0&&window.setTimeout(()=>l(x.id),x.duration+50),x.id},[l]),f=h.useCallback((g,x)=>{g&&((!x||x==="toast")&&n(v=>v.filter(y=>y.scope!==g)),(!x||x==="banner")&&o(v=>v.filter(y=>y.scope!==g)))},[]),p=h.useMemo(()=>({toasts:t,banners:r,pushToast:c,pushBanner:d,dismiss:l,clearScope:f}),[t,r,c,d,l,f]);return i.jsxs(SN.Provider,{value:p,children:[e,i.jsx(gz,{})]})}function CN(){const e=h.useContext(SN);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function gz(){const{toasts:e,banners:t,dismiss:n}=CN(),[r,o]=h.useState(!1);return h.useEffect(()=>o(!0),[]),!r||typeof document>"u"?null:zn.createPortal(i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:t.slice().sort((l,c)=>l.createdAt-c.createdAt).map(l=>i.jsx(bz,{banner:l,onDismiss:n},l.id))}),i.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((l,c)=>l.createdAt-c.createdAt).map(l=>i.jsx(xz,{toast:l,onDismiss:n},l.id))})]}),document.body)}function xz({toast:e,onDismiss:t}){const n=e.duration!==null&&e.duration>0,[r,o]=h.useState(100);h.useEffect(()=>{if(!n||!e.duration)return;o(100);const c=requestAnimationFrame(()=>o(0)),d=window.setTimeout(()=>t(e.id),e.duration);return()=>{window.cancelAnimationFrame(c),window.clearTimeout(d)}},[n,e.duration,e.id,t]);const l=vz[e.intent];return i.jsxs("div",{className:de("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl",l.container,l.border),children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:de("mt-1 flex h-8 w-8 items-center justify-center rounded-full",l.icon),children:e.icon??EN(e.intent)}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[i.jsx("p",{className:"text-sm font-semibold leading-snug text-foreground",children:e.title}),e.description?i.jsx("p",{className:"mt-1 text-xs leading-relaxed text-muted-foreground",children:e.description}):null,e.actions.length>0?i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(c=>i.jsx(jN,{action:c,onPress:()=>{c.onSelect(),t(e.id)}},c.label))}):null]}),e.dismissible?i.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition hover:bg-muted hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40","aria-label":"Dismiss notification",onClick:()=>t(e.id),children:i.jsx(mo,{className:"h-4 w-4"})}):null]}),n&&e.duration?i.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-foreground/10",children:i.jsx("div",{className:de("h-full rounded-full",l.progress),style:{width:`${r}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function bz({banner:e,onDismiss:t}){const n=!e.sticky&&e.duration!==null&&e.duration>0,[r,o]=h.useState(100);h.useEffect(()=>{if(!n||!e.duration)return;o(100);const c=requestAnimationFrame(()=>o(0)),d=window.setTimeout(()=>t(e.id),e.duration);return()=>{window.cancelAnimationFrame(c),window.clearTimeout(d)}},[n,e.duration,e.id,t]);const l=yz[e.intent];return i.jsxs("div",{className:de("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-[0_16px_32px_rgb(var(--sys-color-shadow)/0.35)] sm:min-w-[300px]",l.container,l.border),children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:de("flex h-7 w-7 items-center justify-center rounded-full text-base",l.icon),children:e.icon??EN(e.intent)}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[i.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?i.jsx("p",{className:"text-[12px] leading-relaxed text-muted-foreground",children:e.description}):null,e.actions.length>0?i.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(c=>i.jsx(jN,{action:c,onPress:()=>{c.onSelect(),e.sticky||t(e.id)}},c.label))}):null]}),e.dismissible?i.jsx("button",{type:"button",className:de("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-muted-foreground transition hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40",l.dismiss),"aria-label":"Dismiss notification",onClick:()=>t(e.id),children:i.jsx(mo,{className:"h-4 w-4"})}):null]}),n&&e.duration?i.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-foreground/10",children:i.jsx("div",{className:de("h-full rounded-full",l.progress),style:{width:`${r}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function jN({action:e,onPress:t}){const n=e.variant??"secondary";return i.jsx("button",{type:"button",className:de("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",n==="primary"?"bg-foreground text-background hover:bg-foreground/90 focus-visible:ring-ring/50":"border-border/60 text-foreground hover:bg-muted focus-visible:ring-ring/40"),onClick:t,children:e.label})}function EN(e){switch(e){case"success":return i.jsx(PT,{className:"h-5 w-5"});case"warning":return i.jsx(IT,{className:"h-5 w-5"});case"danger":return i.jsx(LT,{className:"h-5 w-5"});default:return i.jsx(zT,{className:"h-5 w-5"})}}const vz={info:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-info-500/15 text-info-500",progress:"bg-gradient-to-r from-info-500 to-info-400"},success:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-success-500/15 text-success-500",progress:"bg-gradient-to-r from-success-500 to-success-400"},warning:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-warning-400/20 text-warning-500",progress:"bg-gradient-to-r from-warning-400 to-warning-300"},danger:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-danger-500/15 text-danger-500",progress:"bg-gradient-to-r from-danger-500 to-danger-400"}},yz={info:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-info-500/15 text-info-500",progress:"bg-gradient-to-r from-info-500 to-info-400",dismiss:"hover:bg-muted"},success:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-success-500/15 text-success-500",progress:"bg-gradient-to-r from-success-500 to-success-400",dismiss:"hover:bg-muted"},warning:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-warning-500/15 text-warning-500",progress:"bg-gradient-to-r from-warning-400 to-warning-300",dismiss:"hover:bg-muted"},danger:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-danger-500/15 text-danger-500",progress:"bg-gradient-to-r from-danger-500 to-danger-400",dismiss:"hover:bg-muted"}};function KC(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function pd(){const e=CN();return h.useMemo(()=>({notifyToast:t=>e.pushToast(t),notifyBanner:t=>e.pushBanner(t),dismissNotification:t=>e.dismiss(t),dismissScope:(t,n)=>e.clearScope(t,n)}),[e])}function wz({children:e}){const[t]=h.useState(()=>new ZO({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return i.jsx(pT,{children:i.jsx(pz,{children:i.jsxs(QO,{client:t,children:[e,null]})})})}function Sz(e){const t={};if(!e)return t;for(const n of e){const r=n.path?.trim();r&&(t[r]||(t[r]=[]),t[r].push(n.message))}return t}function NN(e){return e.includes("application/problem+json")||e.includes("application/json")}async function xc(e){const t=e.headers.get("content-type")??"";if(NN(t))try{return await e.clone().json()}catch{return}}class Pt extends Error{status;problem;constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.problem=r}}const Cz=/\{[^{}]+\}/g,jz=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function Ez(){return Math.random().toString(36).slice(2,11)}function Nz(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:o,bodySerializer:l,headers:c,requestInitExt:d=void 0,...f}={...e};d=jz()?d:void 0,t=XC(t);const p=[];async function g(x,v){const{baseUrl:y,fetch:S=r,Request:C=n,headers:j,params:E={},parseAs:N="json",querySerializer:_,bodySerializer:R=l??kz,body:D,middleware:A=[],...M}=v||{};let O=t;y&&(O=XC(y)??t);let L=typeof o=="function"?o:ZC(o);_&&(L=typeof _=="function"?_:ZC({...typeof o=="object"?o:{},..._}));const T=D===void 0?void 0:R(D,QC(c,j,E.header)),G=QC(T===void 0||T instanceof FormData?{}:{"Content-Type":"application/json"},c,j,E.header),P=[...p,...A],$={redirect:"follow",...f,...M,body:T,headers:G};let W,ce,z=new C(Rz(x,{baseUrl:O,params:E,querySerializer:L}),$),q;for(const F in M)F in z||(z[F]=M[F]);if(P.length){W=Ez(),ce=Object.freeze({baseUrl:O,fetch:S,parseAs:N,querySerializer:L,bodySerializer:R});for(const F of P)if(F&&typeof F=="object"&&typeof F.onRequest=="function"){const ae=await F.onRequest({request:z,schemaPath:x,params:E,options:ce,id:W});if(ae)if(ae instanceof C)z=ae;else if(ae instanceof Response){q=ae;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!q){try{q=await S(z,d)}catch(F){let ae=F;if(P.length)for(let B=P.length-1;B>=0;B--){const U=P[B];if(U&&typeof U=="object"&&typeof U.onError=="function"){const ne=await U.onError({request:z,error:ae,schemaPath:x,params:E,options:ce,id:W});if(ne){if(ne instanceof Response){ae=void 0,q=ne;break}if(ne instanceof Error){ae=ne;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ae)throw ae}if(P.length)for(let F=P.length-1;F>=0;F--){const ae=P[F];if(ae&&typeof ae=="object"&&typeof ae.onResponse=="function"){const B=await ae.onResponse({request:z,response:q,schemaPath:x,params:E,options:ce,id:W});if(B){if(!(B instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");q=B}}}}if(q.status===204||z.method==="HEAD"||q.headers.get("Content-Length")==="0")return q.ok?{data:void 0,response:q}:{error:void 0,response:q};if(q.ok)return N==="stream"?{data:q.body,response:q}:{data:await q[N](),response:q};let Z=await q.text();try{Z=JSON.parse(Z)}catch{}return{error:Z,response:q}}return{request(x,v,y){return g(v,{...y,method:x.toUpperCase()})},GET(x,v){return g(x,{...v,method:"GET"})},PUT(x,v){return g(x,{...v,method:"PUT"})},POST(x,v){return g(x,{...v,method:"POST"})},DELETE(x,v){return g(x,{...v,method:"DELETE"})},OPTIONS(x,v){return g(x,{...v,method:"OPTIONS"})},HEAD(x,v){return g(x,{...v,method:"HEAD"})},PATCH(x,v){return g(x,{...v,method:"PATCH"})},TRACE(x,v){return g(x,{...v,method:"TRACE"})},use(...x){for(const v of x)if(v){if(typeof v!="object"||!("onRequest"in v||"onResponse"in v||"onError"in v))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");p.push(v)}},eject(...x){for(const v of x){const y=p.indexOf(v);y!==-1&&p.splice(y,1)}}}}function yh(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${n?.allowReserved===!0?t:encodeURIComponent(t)}`}function _N(e,t,n){if(!t||typeof t!="object")return"";const r=[],o={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const d in t)r.push(d,n.allowReserved===!0?t[d]:encodeURIComponent(t[d]));const c=r.join(",");switch(n.style){case"form":return`${e}=${c}`;case"label":return`.${c}`;case"matrix":return`;${e}=${c}`;default:return c}}for(const c in t){const d=n.style==="deepObject"?`${e}[${c}]`:c;r.push(yh(d,t[c],n))}const l=r.join(o);return n.style==="label"||n.style==="matrix"?`${o}${l}`:l}function kN(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const l={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",c=(n.allowReserved===!0?t:t.map(d=>encodeURIComponent(d))).join(l);switch(n.style){case"simple":return c;case"label":return`.${c}`;case"matrix":return`;${e}=${c}`;default:return`${e}=${c}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",o=[];for(const l of t)n.style==="simple"||n.style==="label"?o.push(n.allowReserved===!0?l:encodeURIComponent(l)):o.push(yh(e,l,n));return n.style==="label"||n.style==="matrix"?`${r}${o.join(r)}`:o.join(r)}function ZC(e){return function(n){const r=[];if(n&&typeof n=="object")for(const o in n){const l=n[o];if(l!=null){if(Array.isArray(l)){if(l.length===0)continue;r.push(kN(o,l,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof l=="object"){r.push(_N(o,l,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(yh(o,l,e))}}return r.join("&")}}function _z(e,t){let n=e;for(const r of e.match(Cz)??[]){let o=r.substring(1,r.length-1),l=!1,c="simple";if(o.endsWith("*")&&(l=!0,o=o.substring(0,o.length-1)),o.startsWith(".")?(c="label",o=o.substring(1)):o.startsWith(";")&&(c="matrix",o=o.substring(1)),!t||t[o]===void 0||t[o]===null)continue;const d=t[o];if(Array.isArray(d)){n=n.replace(r,kN(o,d,{style:c,explode:l}));continue}if(typeof d=="object"){n=n.replace(r,_N(o,d,{style:c,explode:l}));continue}if(c==="matrix"){n=n.replace(r,`;${yh(o,d)}`);continue}n=n.replace(r,c==="label"?`.${encodeURIComponent(d)}`:encodeURIComponent(d))}return n}function kz(e,t){return e instanceof FormData?e:t&&(t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function Rz(e,t){let n=`${t.baseUrl}${e}`;t.params?.path&&(n=_z(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function QC(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[o,l]of r)if(l===null)t.delete(o);else if(Array.isArray(l))for(const c of l)t.append(o,c);else l!==void 0&&t.set(o,l)}return t}function XC(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Mz=["ade_csrf","backend_app_csrf"];function Dz(){return Mz}function Az(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const t=new Map,n=e.split(";");for(const r of n){const[o,...l]=r.trim().split("=");o&&t.set(o,decodeURIComponent(l.join("=")))}return t}function RN(){const e=Az();if(!e)return null;for(const t of Dz()){const n=e.get(t);if(n)return n}return null}const MN=new Set(["GET","HEAD","OPTIONS","TRACE"]),Dx="",Vm=Dx.endsWith("/api/v1")?Dx.slice(0,-7):Dx;function Yi(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Vm.length>0?`${Vm}${e}`:e}function Ov(e,t){const n=new Headers(t??{});n.set("X-Requested-With","fetch");const r=e.toUpperCase();if(!MN.has(r)){const o=RN();o&&!n.has("X-CSRF-Token")&&n.set("X-CSRF-Token",o)}return n}async function wh(e,t={}){const n=Yi(e),r=t.method??"GET",o=Ov(r,t.headers);return await fetch(n,{credentials:"include",...t,headers:o})}const Xe=Nz({baseUrl:Vm.length>0?Vm:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),Oz={onRequest({request:e}){const t=e.method?.toUpperCase()??"GET";if(!MN.has(t)){const n=RN();n&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",n)}return e}},Tz={async onResponse({response:e}){if(e.ok)return e;const t=await xc(e),n=t?.title??`Request failed with status ${e.status}`;throw new Pt(n,e.status,t)}};Xe.use(Oz);Xe.use(Tz);const Fs={root:["auth"],detail:()=>[...Fs.root,"session"],providers:()=>[...Fs.root,"providers"],setupStatus:()=>[...Fs.root,"setup-status"]};async function zz(e={}){try{const{data:t}=await Xe.GET("/api/v1/auth/providers",{signal:e.signal});return t?Vz(t):{providers:[],force_sso:!1}}catch(t){if(t instanceof Pt&&t.status===404)return{providers:[],force_sso:!1};throw t}}async function Pz(e={}){const t=await DN(e.signal);return t?AN(t,null):null}async function Iz(e,t={}){return await Fz(e,t.signal),Tv(t.signal,null)}async function Lz(e={}){return Tv(e.signal,null)}async function $z(e={}){try{await Xe.POST("/api/v1/auth/cookie/logout",{signal:e.signal,body:void 0})}catch(t){!(t instanceof Pt)||t.status!==401&&t.status}}async function Tv(e,t=null){const n=await DN(e);if(!n)throw new Error("Unable to load session after authentication.");return AN(n,t)}async function DN(e){const t="/api/v1/me/bootstrap";try{const{data:n}=await Xe.GET(t,{signal:e});return n??null}catch(n){if(n instanceof Pt&&(n.status===401||n.status===403))return null;throw n}}async function Fz(e,t){const n=new URLSearchParams;n.set("username",e.email),n.set("password",e.password);const r=await wh("/api/v1/auth/cookie/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n,signal:t});if(r.ok)return;const o=await xc(r),l=o?.detail??o?.title??`Request failed with status ${r.status}`;throw new Pt(l,r.status,o)}function Uz(e){const t=e.find(n=>n.is_default);return t?t.id:null}function JC(e){return Array.isArray(e)?e.filter(t=>typeof t=="string"):[]}function Bz(e){return Array.isArray(e)?e:[]}function AN(e,t=null){const n=JC(e.roles),r=JC(e.permissions),o=Bz(e.workspaces);return{user:{...e.user,roles:n,permissions:r,preferred_workspace_id:Uz(o)??null},workspaces:o,roles:n,permissions:r,return_to:t}}function Vz(e){return{providers:(e.providers??[]).map(Hz),force_sso:!!e.force_sso}}function Hz(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}function ON(e={}){const t=Tt(),n=_n({queryKey:Fs.detail(),queryFn:async({signal:o})=>{const l=await Pz({signal:o});return l||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),r=n.data??null;return h.useEffect(()=>{r||t.removeQueries({queryKey:Fs.providers(),exact:!1})},[t,r]),{...n,session:r}}async function qz(e={}){try{const{data:t}=await Xe.GET("/api/v1/auth/setup",{signal:e.signal});if(!t)throw new Error("Expected setup status payload.");return t}catch(t){if(t instanceof Pt&&t.status===404)return{setup_required:!1,registration_mode:"closed",oidc_configured:!1,providers:[]};throw t}}async function Wz(e){return await Xe.POST("/api/v1/auth/setup",{body:e}),Tv()}function zv(e=!0){return _n({queryKey:Fs.setupStatus(),queryFn:({signal:t})=>qz({signal:t}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const gd="/workspaces",Gz=new Set(["/","/login","/setup","/logout"]);function Yz(e){if(!e)return!0;const t=ZE(e);return!!(Gz.has(t)||t==="/auth"||t.startsWith("/auth/"))}function Kz(e){return`${e.pathname}${e.search}${e.hash}`}function e1(e){const t=Kz(e)||"/";return Hm(t)??gd}function Hm(e){if(!e)return null;const t=e.trim();return!t.startsWith("/")||t.startsWith("//")?null:t==="/"?gd:Yz(t)?null:t}function cc(e){return Hm(e)??gd}function TN(e){return PN("/login",e)}function zN(e){return PN("/setup",e)}function PN(e,t){const n=cc(t),r=new URLSearchParams;n!==gd&&r.set("redirectTo",n);const o=r.toString();return o?`${e}?${o}`:e}function qm(e,t){const n=Hm(e);if(n)return n;const r=Hm(t);return r||gd}const Zz={primary:"bg-brand-600 text-on-brand hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-card text-muted-foreground border border-border hover:bg-muted focus-visible:ring-ring disabled:text-muted-foreground",ghost:"bg-transparent text-muted-foreground hover:bg-muted focus-visible:ring-ring",danger:"bg-danger-600 text-on-danger hover:bg-danger-700 focus-visible:ring-danger-500 disabled:bg-danger-300"},Qz={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},Ge=h.forwardRef(({type:e="button",variant:t="primary",size:n="md",isLoading:r=!1,className:o,children:l,disabled:c,...d},f)=>{const p=c||r;return i.jsxs("button",{ref:f,type:e,disabled:p,"aria-busy":r||void 0,className:de("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed",Zz[t],Qz[n],o),...d,children:[r?i.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,i.jsx("span",{children:l})]})});Ge.displayName="Button";const IN=h.createContext(void 0);function Xz({session:e,refetch:t,children:n}){return i.jsx(IN.Provider,{value:{session:e,refetch:t},children:n})}function Jz(){const e=h.useContext(IN);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function bc(){return Jz().session}function eP({children:e}){const t=xr(),n=sn(),r=ON(),{session:o,isLoading:l,isError:c,refetch:d}=r,f=!o&&!l&&!c,{data:p,isPending:g,isError:x,isSuccess:v,refetch:y}=zv(f);return h.useEffect(()=>{if(o||l||c)return;if(f){if(g||x)return;if(v&&p?.setup_required){const C=e1(t);n(zN(C),{replace:!0});return}}const S=e1(t);n(TN(S),{replace:!0})},[c,l,x,g,v,t,n,o,p?.setup_required,f]),l?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-sm text-muted-foreground",children:i.jsx("p",{children:"Loading your workspace"})}):c?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"We were unable to confirm your session."}),i.jsx(Ge,{variant:"secondary",size:"sm",onClick:()=>d(),children:"Try again"})]}):o?i.jsx(Xz,{session:o,refetch:d,children:e??null}):f&&g?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-sm text-muted-foreground",children:i.jsx("p",{children:"Preparing initial setup"})}):f&&x?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"We were unable to check whether ADE is ready."}),i.jsx(Ge,{variant:"secondary",size:"sm",onClick:()=>y(),children:"Try again"})]}):null}function Sh(e){if(!(!e||e.length===0))return JSON.stringify(e)}function xd(e){const t={};typeof e.page=="number"&&e.page>0&&(t.page=e.page),typeof e.perPage=="number"&&e.perPage>0&&(t.perPage=e.perPage),e.sort&&(t.sort=e.sort);const n=Sh(e.filters);return n&&(t.filters=n,e.joinOperator&&(t.joinOperator=e.joinOperator)),e.q&&(t.q=e.q),t}const bd=200,Pv=50;function Ch(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,bd)}async function LN(e,t={}){const{maxPages:n=50}=t,r=[];let o=[],l;for(let f=1;f<=n;f+=1){const p=await e(f);if(r.push(p),o=o.concat(p.items??[]),l===void 0&&(l=p.total),p.pageCount===0||f>=p.pageCount)break}const c=r.at(-1),d=r.at(0);if(!c||!d)throw new Error("No pages were returned while collecting pagination results.");return{...c,items:o,page:1,perPage:d.perPage,pageCount:1,total:l??c.total,changesCursor:c.changesCursor}}function $N(e,t){return h.useMemo(()=>{if(!e||e.length===0)return[];const n=[],r=new Map;for(const o of e){const l=Array.isArray(o.items)?o.items:[];for(const c of l){const d=t(c),f=r.get(d);if(f===void 0){r.set(d,n.length),n.push(c);continue}n[f]=c}}return n},[e,t])}const FN=bd,UN=Pv,BN=Pv,VN=Pv,HN="workspace";async function tP(e={}){const{page:t,pageSize:n,sort:r,q:o,filters:l,joinOperator:c,signal:d}=e,f=Ch(n??FN),p=xd({page:t,perPage:f,sort:r??null,q:o,filters:l,joinOperator:c}),{data:g}=await Xe.GET("/api/v1/workspaces",{params:{query:p},signal:d});if(!g)throw new Error("Expected workspace page payload.");return g}async function nP(e){const{data:t}=await Xe.POST("/api/v1/workspaces",{body:e});if(!t)throw new Error("Expected workspace payload.");return t}async function rP(e,t){const{data:n}=await Xe.PATCH("/api/v1/workspaces/{workspaceId}",{params:{path:{workspaceId:e}},body:t});if(!n)throw new Error("Expected workspace payload.");return n}async function sP(e){await Xe.DELETE("/api/v1/workspaces/{workspaceId}",{params:{path:{workspaceId:e}}})}async function qN(e,t={}){const{page:n,pageSize:r,sort:o,q:l,filters:c,joinOperator:d,signal:f}=t,p=Ch(r??UN),g=xd({page:n,perPage:p,sort:o??null,q:l,filters:c,joinOperator:d}),{data:x}=await Xe.GET("/api/v1/workspaces/{workspaceId}/members",{params:{path:{workspaceId:e},query:g},signal:f});if(!x)throw new Error("Expected workspace member page payload.");return x}async function oP(e,t){const{data:n}=await Xe.POST("/api/v1/workspaces/{workspaceId}/members",{params:{path:{workspaceId:e}},body:t});if(!n)throw new Error("Expected workspace member payload.");return n}async function aP(e,t,n){const{data:r}=await Xe.PUT("/api/v1/workspaces/{workspaceId}/members/{userId}",{params:{path:{workspaceId:e,userId:t}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function iP(e,t){await Xe.DELETE("/api/v1/workspaces/{workspaceId}/members/{userId}",{params:{path:{workspaceId:e,userId:t}}})}async function lP(e={}){const{page:t,pageSize:n,sort:r,q:o,joinOperator:l,signal:c}=e,d=Ch(n??BN),p=xd({page:t,perPage:d,sort:r??null,q:o,filters:[{id:"scopeType",operator:"eq",value:HN}],joinOperator:l}),{data:g}=await Xe.GET("/api/v1/roles",{params:{query:p},signal:c});if(!g)throw new Error("Expected workspace role page payload.");return g}async function cP(e,t){const{data:n}=await Xe.POST("/api/v1/roles",{body:t});if(!n)throw new Error("Expected role payload.");return n}async function uP(e,t,n,r={}){const{data:o}=await Xe.PATCH("/api/v1/roles/{roleId}",{params:{path:{roleId:t}},body:n,headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0});if(!o)throw new Error("Expected role payload.");return o}async function dP(e,t,n={}){await Xe.DELETE("/api/v1/roles/{roleId}",{params:{path:{roleId:t}},headers:n.ifMatch?{"If-Match":n.ifMatch}:void 0})}async function fP(e={}){const{scope:t=HN,page:n,pageSize:r,sort:o,q:l,joinOperator:c,signal:d}=e,f=Ch(r??VN),g=xd({page:n,perPage:f,sort:o??null,q:l,filters:[{id:"scopeType",operator:"eq",value:t}],joinOperator:c}),{data:x}=await Xe.GET("/api/v1/permissions",{params:{query:g},signal:d});if(!x)throw new Error("Expected permission page payload.");return x}const mP="/api/v1/workspaces/{workspaceId}/default";async function hP(e){await Xe.PUT(mP,{params:{path:{workspaceId:e}}})}const pP="workspace",Ab={page:1,pageSize:FN},gP={page:1,pageSize:UN},xP={page:1,pageSize:BN},bP={scope:pP,page:1,pageSize:VN},bn={all:()=>["workspaces"],list:(e=Ab)=>[...bn.all(),"list",{...e}],detail:e=>[...bn.all(),"detail",e],members:(e,t=gP)=>[...bn.detail(e),"members",{...t}],roles:(e,t=xP)=>[...bn.detail(e),"roles",{...t}],permissions:(e=bP)=>["permissions",{...e}]},Ob={page:Ab.page,pageSize:Ab.pageSize};function vP(){const e=Tt();return Ln({mutationFn:nP,onSuccess(t){e.setQueryData(bn.detail(t.id),t),e.getQueriesData({queryKey:bn.all()}).forEach(([n,r])=>{if(!Array.isArray(n)||n[0]!=="workspaces"||n[1]!=="list"||!r)return;const o=r.items.findIndex(f=>f.id===t.id),c=[...o>=0?r.items.map(f=>f.id===t.id?t:f):[...r.items,t]].sort((f,p)=>f.name.localeCompare(p.name)),d=typeof r.total=="number"&&o===-1?r.total+1:r.total;e.setQueryData(n,{...r,items:c,total:d})}),e.invalidateQueries({queryKey:bn.all()})}})}function yP(e,t){if(!e||typeof e!="object")return e;if("items"in e){const n=e;if(!Array.isArray(n.items))return e;const r=n.items.map(o=>({...o,is_default:o.id===t}));return{...n,items:r}}if("id"in e&&"is_default"in e){const n=e;return{...n,is_default:n.id===t}}return e}function WN(){const e=Tt();return Ln({mutationFn:t=>hP(t),onSuccess:(t,n)=>{e.setQueriesData({queryKey:bn.all()},r=>yP(r,n))}})}function GN(e){const t=Tt();return Ln({mutationFn:n=>rP(e,n),onSuccess:n=>{t.setQueryData(bn.detail(n.id),n),t.getQueriesData({queryKey:bn.all()}).forEach(([r,o])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!o)return;const c=[...o.items.map(d=>d.id===n.id?n:d)].sort((d,f)=>d.name.localeCompare(f.name));t.setQueryData(r,{...o,items:c})})}})}function wP(e={}){const t=e.page??Ob.page,n=e.pageSize??Ob.pageSize;return{queryKey:bn.list({page:t,pageSize:n}),queryFn:({signal:r})=>tP({page:t,pageSize:n,signal:r}),staleTime:6e4,enabled:e.enabled??!0}}function Iv(e={}){const t=Tt(),n=wP(e),r=t.getQueryData(n.queryKey);return _n({...n,initialData:r})}const YN="documents";function Lv(e){return`/workspaces/${e}/${YN}`}function Ax(e){return e instanceof Error?e:new Error(String(e))}function Wo(e){return{get(){if(typeof window>"u")return null;try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read from storage",Ax(t)),null}},set(t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to write to storage",Ax(n))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(t){console.warn("Failed to clear storage",Ax(t))}}}}const SP="backend.app.active_workspace",Tb=Wo(SP);function CP(){return Tb.get()}function KN(e){if(!e){Tb.clear();return}Tb.set(e)}const jP={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-border",error:"bg-danger-500"};function kt({title:e,description:t,action:n,variant:r="empty",className:o}){return i.jsxs("div",{className:de("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-border bg-card/70 px-6 py-12 text-center text-sm text-muted-foreground",o),children:[i.jsx("span",{"aria-hidden":"true",className:de("mb-4 h-8 w-8 rounded-full border-current",jP[r])}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e}),t?i.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:t}):null,n?i.jsx("div",{className:"mt-4",children:n}):null]})}function EP(){return i.jsx(NP,{})}function NP(){const e=xr(),t=sn(),n=bc(),r=Iv(),o=r.data?.items??[],d=[CP(),n.user.preferred_workspace_id].filter(f=>!!f).map(f=>o.find(p=>p.id===f)).find(f=>!!f)??o[0]??null;return h.useEffect(()=>{if(r.isLoading||r.isError)return;if(!d){e.pathname!=="/workspaces"&&t("/workspaces",{replace:!0});return}const f=Lv(d.id);e.pathname+e.search!==f&&t(f,{replace:!0})},[e.pathname,e.search,t,d,r.isError,r.isLoading]),r.isLoading?i.jsx(kt,{title:"Loading workspaces",variant:"loading"}):r.isError?i.jsx(kt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:i.jsx(Ge,{variant:"secondary",onClick:()=>r.refetch(),children:"Try again"})}):null}function Ne(e,t,n){function r(d,f){var p;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(p=d._zod).traits??(p.traits=new Set),d._zod.traits.add(e),t(d,f);for(const g in c.prototype)g in d||Object.defineProperty(d,g,{value:c.prototype[g].bind(d)});d._zod.constr=c,d._zod.def=f}const o=n?.Parent??Object;class l extends o{}Object.defineProperty(l,"name",{value:e});function c(d){var f;const p=n?.Parent?new l:this;r(p,d),(f=p._zod).deferred??(f.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(e)}),Object.defineProperty(c,"name",{value:e}),c}class rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ZN extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const QN={};function Li(e){return QN}function _P(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function zb(e,t){return typeof t=="bigint"?t.toString():t}function $v(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Fv(e){return e==null}function Uv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const t1=Symbol("evaluating");function Xt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==t1)return r===void 0&&(r=t1,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Ki(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function n1(e){return JSON.stringify(e)}const XN="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Wm(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const kP=$v(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Qu(e){if(Wm(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Wm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function JN(e){return Qu(e)?{...e}:Array.isArray(e)?[...e]:e}const RP=new Set(["string","number","symbol"]);function jh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qa(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function at(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function MP(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function DP(e,t){const n=e._zod.def,r=Zi(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Ki(this,"shape",o),o},checks:[]});return Qa(e,r)}function AP(e,t){const n=e._zod.def,r=Zi(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Ki(this,"shape",o),o},checks:[]});return Qa(e,r)}function OP(e,t){if(!Qu(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Zi(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Ki(this,"shape",l),l},checks:[]});return Qa(e,o)}function TP(e,t){if(!Qu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Ki(this,"shape",r),r},checks:e._zod.def.checks};return Qa(e,n)}function zP(e,t){const n=Zi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ki(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Qa(e,n)}function PP(e,t,n){const r=Zi(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)l[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return Ki(this,"shape",l),l},checks:[]});return Qa(t,r)}function IP(e,t,n){const r=Zi(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:o[c]}))}else for(const c in o)l[c]=new e({type:"nonoptional",innerType:o[c]});return Ki(this,"shape",l),l},checks:[]});return Qa(t,r)}function tc(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function e_(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function am(e){return typeof e=="string"?e:e?.message}function $i(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=am(e.inst?._zod.def?.error?.(e))??am(t?.error?.(e))??am(n.customError?.(e))??am(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Bv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Xu(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const t_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,zb,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Vv=Ne("$ZodError",t_),Eh=Ne("$ZodError",t_,{Parent:Error});function LP(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function $P(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return r(e),n}const Nh=e=>(t,n,r,o)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new rc;if(c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>$i(f,l,Li())));throw XN(d,o?.callee),d}return c.value},FP=Nh(Eh),_h=e=>async(t,n,r,o)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>$i(f,l,Li())));throw XN(d,o?.callee),d}return c.value},UP=_h(Eh),kh=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new rc;return l.issues.length?{success:!1,error:new(e??Vv)(l.issues.map(c=>$i(c,o,Li())))}:{success:!0,data:l.value}},BP=kh(Eh),Rh=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>$i(c,o,Li())))}:{success:!0,data:l.value}},VP=Rh(Eh),HP=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nh(e)(t,n,o)},qP=e=>(t,n,r)=>Nh(e)(t,n,r),WP=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _h(e)(t,n,o)},GP=e=>async(t,n,r)=>_h(e)(t,n,r),YP=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kh(e)(t,n,o)},KP=e=>(t,n,r)=>kh(e)(t,n,r),ZP=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rh(e)(t,n,o)},QP=e=>async(t,n,r)=>Rh(e)(t,n,r),XP=/^[cC][^\s-]{8,}$/,JP=/^[0-9a-z]+$/,eI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tI=/^[0-9a-vA-V]{20}$/,nI=/^[A-Za-z0-9]{27}$/,rI=/^[a-zA-Z0-9_-]{21}$/,sI=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,oI=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,r1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,aI=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lI(){return new RegExp(iI,"u")}const cI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dI=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,fI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mI=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,n_=/^[A-Za-z0-9_-]*$/,hI=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,pI=/^\+(?:[0-9]){6,14}[0-9]$/,r_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gI=new RegExp(`^${r_}$`);function s_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xI(e){return new RegExp(`^${s_(e)}$`)}function bI(e){const t=s_({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${r_}T(?:${r})$`)}const vI=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},yI=/^(?:true|false)$/i,wI=/^[^A-Z]*$/,SI=/^[^a-z]*$/,ho=Ne("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),CI=Ne("$ZodCheckMaxLength",(e,t)=>{var n;ho.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Fv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const c=Bv(o);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),jI=Ne("$ZodCheckMinLength",(e,t)=>{var n;ho.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Fv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const c=Bv(o);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),EI=Ne("$ZodCheckLengthEquals",(e,t)=>{var n;ho.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Fv(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,l=o.length;if(l===t.length)return;const c=Bv(o),d=l>t.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Mh=Ne("$ZodCheckStringFormat",(e,t)=>{var n,r;ho.init(e,t),e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),NI=Ne("$ZodCheckRegex",(e,t)=>{Mh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),_I=Ne("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=wI),Mh.init(e,t)}),kI=Ne("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=SI),Mh.init(e,t)}),RI=Ne("$ZodCheckIncludes",(e,t)=>{ho.init(e,t);const n=jh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const l=o._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),MI=Ne("$ZodCheckStartsWith",(e,t)=>{ho.init(e,t);const n=new RegExp(`^${jh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),DI=Ne("$ZodCheckEndsWith",(e,t)=>{ho.init(e,t);const n=new RegExp(`.*${jh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),AI=Ne("$ZodCheckOverwrite",(e,t)=>{ho.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class OI{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),o=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,o.join(`
`))}}const TI={major:4,minor:1,patch:12},$n=Ne("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=TI;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const l of o._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(c,d,f)=>{let p=tc(c),g;for(const x of d){if(x._zod.def.when){if(!x._zod.def.when(c))continue}else if(p)continue;const v=c.issues.length,y=x._zod.check(c);if(y instanceof Promise&&f?.async===!1)throw new rc;if(g||y instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await y,c.issues.length!==v&&(p||(p=tc(c,v)))});else{if(c.issues.length===v)continue;p||(p=tc(c,v))}}return g?g.then(()=>c):c},l=(c,d,f)=>{if(tc(c))return c.aborted=!0,c;const p=o(d,r,f);if(p instanceof Promise){if(f.async===!1)throw new rc;return p.then(g=>e._zod.parse(g,f))}return e._zod.parse(p,f)};e._zod.run=(c,d)=>{if(d.skipChecks)return e._zod.parse(c,d);if(d.direction==="backward"){const p=e._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>l(g,c,d)):l(p,c,d)}const f=e._zod.parse(c,d);if(f instanceof Promise){if(d.async===!1)throw new rc;return f.then(p=>o(p,r,d))}return o(f,r,d)}}e["~standard"]={validate:o=>{try{const l=BP(e,o);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return VP(e,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),Hv=Ne("$ZodString",(e,t)=>{$n.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??vI(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),on=Ne("$ZodStringFormat",(e,t)=>{Mh.init(e,t),Hv.init(e,t)}),zI=Ne("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=oI),on.init(e,t)}),PI=Ne("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=r1(r))}else t.pattern??(t.pattern=r1());on.init(e,t)}),II=Ne("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=aI),on.init(e,t)}),LI=Ne("$ZodURL",(e,t)=>{on.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:hI.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),$I=Ne("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=lI()),on.init(e,t)}),FI=Ne("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=rI),on.init(e,t)}),UI=Ne("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=XP),on.init(e,t)}),BI=Ne("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=JP),on.init(e,t)}),VI=Ne("$ZodULID",(e,t)=>{t.pattern??(t.pattern=eI),on.init(e,t)}),HI=Ne("$ZodXID",(e,t)=>{t.pattern??(t.pattern=tI),on.init(e,t)}),qI=Ne("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=nI),on.init(e,t)}),WI=Ne("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=bI(t)),on.init(e,t)}),GI=Ne("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=gI),on.init(e,t)}),YI=Ne("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=xI(t)),on.init(e,t)}),KI=Ne("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=sI),on.init(e,t)}),ZI=Ne("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=cI),on.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),QI=Ne("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=uI),on.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),XI=Ne("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=dI),on.init(e,t)}),JI=Ne("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=fI),on.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function o_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const e4=Ne("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=mI),on.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{o_(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function t4(e){if(!n_.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return o_(n)}const n4=Ne("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=n_),on.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{t4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),r4=Ne("$ZodE164",(e,t)=>{t.pattern??(t.pattern=pI),on.init(e,t)});function s4(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const o4=Ne("$ZodJWT",(e,t)=>{on.init(e,t),e._zod.check=n=>{s4(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),a4=Ne("$ZodBoolean",(e,t)=>{$n.init(e,t),e._zod.pattern=yI,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),i4=Ne("$ZodUnknown",(e,t)=>{$n.init(e,t),e._zod.parse=n=>n}),l4=Ne("$ZodNever",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function s1(e,t,n){e.issues.length&&t.issues.push(...e_(n,e.issues)),t.value[n]=e.value}const c4=Ne("$ZodArray",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const l=[];for(let c=0;c<o.length;c++){const d=o[c],f=t.element._zod.run({value:d,issues:[]},r);f instanceof Promise?l.push(f.then(p=>s1(p,n,c))):s1(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Gm(e,t,n,r){e.issues.length&&t.issues.push(...e_(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function a_(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=MP(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function i_(e,t,n,r,o,l){const c=[],d=o.keySet,f=o.catchall._zod,p=f.def.type;for(const g of Object.keys(t)){if(d.has(g))continue;if(p==="never"){c.push(g);continue}const x=f.run({value:t[g],issues:[]},r);x instanceof Promise?e.push(x.then(v=>Gm(v,n,g,t))):Gm(x,n,g,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const u4=Ne("$ZodObject",(e,t)=>{if($n.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...d};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=$v(()=>a_(t));Xt(e._zod,"propValues",()=>{const d=t.shape,f={};for(const p in d){const g=d[p]._zod;if(g.values){f[p]??(f[p]=new Set);for(const x of g.values)f[p].add(x)}}return f});const o=Wm,l=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=r.value);const p=d.value;if(!o(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),d;d.value={};const g=[],x=c.shape;for(const v of c.keys){const S=x[v]._zod.run({value:p[v],issues:[]},f);S instanceof Promise?g.push(S.then(C=>Gm(C,d,v,p))):Gm(S,d,v,p)}return l?i_(g,p,d,f,r.value,e):g.length?Promise.all(g).then(()=>d):d}}),d4=Ne("$ZodObjectJIT",(e,t)=>{u4.init(e,t);const n=e._zod.parse,r=$v(()=>a_(t)),o=v=>{const y=new OI(["shape","payload","ctx"]),S=r.value,C=_=>{const R=n1(_);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};y.write("const input = payload.value;");const j=Object.create(null);let E=0;for(const _ of S.keys)j[_]=`key_${E++}`;y.write("const newResult = {};");for(const _ of S.keys){const R=j[_],D=n1(_);y.write(`const ${R} = ${C(_)};`),y.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${R}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const N=y.compile();return(_,R)=>N(v,_,R)};let l;const c=Wm,d=!QN.jitless,p=d&&kP.value,g=t.catchall;let x;e._zod.parse=(v,y)=>{x??(x=r.value);const S=v.value;return c(S)?d&&p&&y?.async===!1&&y.jitless!==!0?(l||(l=o(t.shape)),v=l(v,y),g?i_([],S,v,y,x,e):v):n(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),v)}});function o1(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const o=e.filter(l=>!tc(l));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>$i(c,r,Li())))}),t)}const f4=Ne("$ZodUnion",(e,t)=>{$n.init(e,t),Xt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Xt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Xt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Xt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${o.map(l=>Uv(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,l)=>{if(n)return r(o,l);let c=!1;const d=[];for(const f of t.options){const p=f._zod.run({value:o.value,issues:[]},l);if(p instanceof Promise)d.push(p),c=!0;else{if(p.issues.length===0)return p;d.push(p)}}return c?Promise.all(d).then(f=>o1(f,o,e,l)):o1(d,o,e,l)}}),m4=Ne("$ZodIntersection",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,l=t.left._zod.run({value:o,issues:[]},r),c=t.right._zod.run({value:o,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,p])=>a1(n,f,p)):a1(n,l,c)}});function Pb(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Qu(e)&&Qu(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of r){const c=Pb(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};o[l]=c.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],l=t[r],c=Pb(o,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function a1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),tc(e))return e;const r=Pb(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const h4=Ne("$ZodEnum",(e,t)=>{$n.init(e,t);const n=_P(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>RP.has(typeof o)).map(o=>typeof o=="string"?jh(o):o.toString()).join("|")})$`),e._zod.parse=(o,l)=>{const c=o.value;return r.has(c)||o.issues.push({code:"invalid_value",values:n,input:c,inst:e}),o}}),p4=Ne("$ZodTransform",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ZN(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(n.value=c,n));if(o instanceof Promise)throw new rc;return n.value=o,n}});function i1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const g4=Ne("$ZodOptional",(e,t)=>{$n.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Xt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Uv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>i1(l,n.value)):i1(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),x4=Ne("$ZodNullable",(e,t)=>{$n.init(e,t),Xt(e._zod,"optin",()=>t.innerType._zod.optin),Xt(e._zod,"optout",()=>t.innerType._zod.optout),Xt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Uv(n.source)}|null)$`):void 0}),Xt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),b4=Ne("$ZodDefault",(e,t)=>{$n.init(e,t),e._zod.optin="optional",Xt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>l1(l,t)):l1(o,t)}});function l1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const v4=Ne("$ZodPrefault",(e,t)=>{$n.init(e,t),e._zod.optin="optional",Xt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),y4=Ne("$ZodNonOptional",(e,t)=>{$n.init(e,t),Xt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>c1(l,e)):c1(o,e)}});function c1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const w4=Ne("$ZodCatch",(e,t)=>{$n.init(e,t),Xt(e._zod,"optin",()=>t.innerType._zod.optin),Xt(e._zod,"optout",()=>t.innerType._zod.optout),Xt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>$i(c,r,Li()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>$i(l,r,Li()))},input:n.value}),n.issues=[]),n)}}),S4=Ne("$ZodPipe",(e,t)=>{$n.init(e,t),Xt(e._zod,"values",()=>t.in._zod.values),Xt(e._zod,"optin",()=>t.in._zod.optin),Xt(e._zod,"optout",()=>t.out._zod.optout),Xt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>im(c,t.in,r)):im(l,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(l=>im(l,t.out,r)):im(o,t.out,r)}});function im(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const C4=Ne("$ZodReadonly",(e,t)=>{$n.init(e,t),Xt(e._zod,"propValues",()=>t.innerType._zod.propValues),Xt(e._zod,"values",()=>t.innerType._zod.values),Xt(e._zod,"optin",()=>t.innerType._zod.optin),Xt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(u1):u1(o)}});function u1(e){return e.value=Object.freeze(e.value),e}const j4=Ne("$ZodCustom",(e,t)=>{ho.init(e,t),$n.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(l=>d1(l,n,r,e));d1(o,n,r,e)}});function d1(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Xu(o))}}class E4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function N4(){return new E4}const lm=N4();function _4(e,t){return new e({type:"string",...at(t)})}function k4(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...at(t)})}function f1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...at(t)})}function R4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...at(t)})}function M4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(t)})}function D4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(t)})}function A4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(t)})}function O4(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...at(t)})}function T4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...at(t)})}function z4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(t)})}function P4(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...at(t)})}function I4(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(t)})}function L4(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...at(t)})}function $4(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...at(t)})}function F4(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(t)})}function U4(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(t)})}function B4(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(t)})}function V4(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(t)})}function H4(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(t)})}function q4(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...at(t)})}function W4(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...at(t)})}function G4(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...at(t)})}function Y4(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...at(t)})}function K4(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(t)})}function Z4(e,t){return new e({type:"string",format:"date",check:"string_format",...at(t)})}function Q4(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...at(t)})}function X4(e,t){return new e({type:"string",format:"duration",check:"string_format",...at(t)})}function J4(e,t){return new e({type:"boolean",...at(t)})}function eL(e){return new e({type:"unknown"})}function tL(e,t){return new e({type:"never",...at(t)})}function l_(e,t){return new CI({check:"max_length",...at(t),maximum:e})}function Ym(e,t){return new jI({check:"min_length",...at(t),minimum:e})}function c_(e,t){return new EI({check:"length_equals",...at(t),length:e})}function nL(e,t){return new NI({check:"string_format",format:"regex",...at(t),pattern:e})}function rL(e){return new _I({check:"string_format",format:"lowercase",...at(e)})}function sL(e){return new kI({check:"string_format",format:"uppercase",...at(e)})}function oL(e,t){return new RI({check:"string_format",format:"includes",...at(t),includes:e})}function aL(e,t){return new MI({check:"string_format",format:"starts_with",...at(t),prefix:e})}function iL(e,t){return new DI({check:"string_format",format:"ends_with",...at(t),suffix:e})}function vd(e){return new AI({check:"overwrite",tx:e})}function lL(e){return vd(t=>t.normalize(e))}function cL(){return vd(e=>e.trim())}function uL(){return vd(e=>e.toLowerCase())}function dL(){return vd(e=>e.toUpperCase())}function fL(e,t,n){return new e({type:"array",element:t,...at(n)})}function mL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...at(n)})}function hL(e){const t=pL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Xu(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Xu(o))}},e(n.value,n)));return t}function pL(e,t){const n=new ho({check:"custom",...at(t)});return n._zod.check=e,n}const gL=Ne("ZodISODateTime",(e,t)=>{WI.init(e,t),dn.init(e,t)});function xL(e){return K4(gL,e)}const bL=Ne("ZodISODate",(e,t)=>{GI.init(e,t),dn.init(e,t)});function vL(e){return Z4(bL,e)}const yL=Ne("ZodISOTime",(e,t)=>{YI.init(e,t),dn.init(e,t)});function wL(e){return Q4(yL,e)}const SL=Ne("ZodISODuration",(e,t)=>{KI.init(e,t),dn.init(e,t)});function CL(e){return X4(SL,e)}const jL=(e,t)=>{Vv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>$P(e,n)},flatten:{value:n=>LP(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,zb,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,zb,2)}},isEmpty:{get(){return e.issues.length===0}}})},Cs=Ne("ZodError",jL,{Parent:Error}),EL=Nh(Cs),NL=_h(Cs),_L=kh(Cs),kL=Rh(Cs),RL=HP(Cs),ML=qP(Cs),DL=WP(Cs),AL=GP(Cs),OL=YP(Cs),TL=KP(Cs),zL=ZP(Cs),PL=QP(Cs),Wn=Ne("ZodType",(e,t)=>($n.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Zi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Qa(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>EL(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>_L(e,n,r),e.parseAsync=async(n,r)=>NL(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>kL(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>RL(e,n,r),e.decode=(n,r)=>ML(e,n,r),e.encodeAsync=async(n,r)=>DL(e,n,r),e.decodeAsync=async(n,r)=>AL(e,n,r),e.safeEncode=(n,r)=>OL(e,n,r),e.safeDecode=(n,r)=>TL(e,n,r),e.safeEncodeAsync=async(n,r)=>zL(e,n,r),e.safeDecodeAsync=async(n,r)=>PL(e,n,r),e.refine=(n,r)=>e.check(E3(n,r)),e.superRefine=n=>e.check(N3(n)),e.overwrite=n=>e.check(vd(n)),e.optional=()=>p1(e),e.nullable=()=>g1(e),e.nullish=()=>p1(g1(e)),e.nonoptional=n=>b3(e,n),e.array=()=>Dh(e),e.or=n=>d_([e,n]),e.and=n=>u3(e,n),e.transform=n=>x1(e,f3(n)),e.default=n=>p3(e,n),e.prefault=n=>x3(e,n),e.catch=n=>y3(e,n),e.pipe=n=>x1(e,n),e.readonly=()=>C3(e),e.describe=n=>{const r=e.clone();return lm.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return lm.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return lm.get(e);const r=e.clone();return lm.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),u_=Ne("_ZodString",(e,t)=>{Hv.init(e,t),Wn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(nL(...r)),e.includes=(...r)=>e.check(oL(...r)),e.startsWith=(...r)=>e.check(aL(...r)),e.endsWith=(...r)=>e.check(iL(...r)),e.min=(...r)=>e.check(Ym(...r)),e.max=(...r)=>e.check(l_(...r)),e.length=(...r)=>e.check(c_(...r)),e.nonempty=(...r)=>e.check(Ym(1,...r)),e.lowercase=r=>e.check(rL(r)),e.uppercase=r=>e.check(sL(r)),e.trim=()=>e.check(cL()),e.normalize=(...r)=>e.check(lL(...r)),e.toLowerCase=()=>e.check(uL()),e.toUpperCase=()=>e.check(dL())}),IL=Ne("ZodString",(e,t)=>{Hv.init(e,t),u_.init(e,t),e.email=n=>e.check(k4(LL,n)),e.url=n=>e.check(O4($L,n)),e.jwt=n=>e.check(Y4(e3,n)),e.emoji=n=>e.check(T4(FL,n)),e.guid=n=>e.check(f1(m1,n)),e.uuid=n=>e.check(R4(cm,n)),e.uuidv4=n=>e.check(M4(cm,n)),e.uuidv6=n=>e.check(D4(cm,n)),e.uuidv7=n=>e.check(A4(cm,n)),e.nanoid=n=>e.check(z4(UL,n)),e.guid=n=>e.check(f1(m1,n)),e.cuid=n=>e.check(P4(BL,n)),e.cuid2=n=>e.check(I4(VL,n)),e.ulid=n=>e.check(L4(HL,n)),e.base64=n=>e.check(q4(QL,n)),e.base64url=n=>e.check(W4(XL,n)),e.xid=n=>e.check($4(qL,n)),e.ksuid=n=>e.check(F4(WL,n)),e.ipv4=n=>e.check(U4(GL,n)),e.ipv6=n=>e.check(B4(YL,n)),e.cidrv4=n=>e.check(V4(KL,n)),e.cidrv6=n=>e.check(H4(ZL,n)),e.e164=n=>e.check(G4(JL,n)),e.datetime=n=>e.check(xL(n)),e.date=n=>e.check(vL(n)),e.time=n=>e.check(wL(n)),e.duration=n=>e.check(CL(n))});function hr(e){return _4(IL,e)}const dn=Ne("ZodStringFormat",(e,t)=>{on.init(e,t),u_.init(e,t)}),LL=Ne("ZodEmail",(e,t)=>{II.init(e,t),dn.init(e,t)}),m1=Ne("ZodGUID",(e,t)=>{zI.init(e,t),dn.init(e,t)}),cm=Ne("ZodUUID",(e,t)=>{PI.init(e,t),dn.init(e,t)}),$L=Ne("ZodURL",(e,t)=>{LI.init(e,t),dn.init(e,t)}),FL=Ne("ZodEmoji",(e,t)=>{$I.init(e,t),dn.init(e,t)}),UL=Ne("ZodNanoID",(e,t)=>{FI.init(e,t),dn.init(e,t)}),BL=Ne("ZodCUID",(e,t)=>{UI.init(e,t),dn.init(e,t)}),VL=Ne("ZodCUID2",(e,t)=>{BI.init(e,t),dn.init(e,t)}),HL=Ne("ZodULID",(e,t)=>{VI.init(e,t),dn.init(e,t)}),qL=Ne("ZodXID",(e,t)=>{HI.init(e,t),dn.init(e,t)}),WL=Ne("ZodKSUID",(e,t)=>{qI.init(e,t),dn.init(e,t)}),GL=Ne("ZodIPv4",(e,t)=>{ZI.init(e,t),dn.init(e,t)}),YL=Ne("ZodIPv6",(e,t)=>{QI.init(e,t),dn.init(e,t)}),KL=Ne("ZodCIDRv4",(e,t)=>{XI.init(e,t),dn.init(e,t)}),ZL=Ne("ZodCIDRv6",(e,t)=>{JI.init(e,t),dn.init(e,t)}),QL=Ne("ZodBase64",(e,t)=>{e4.init(e,t),dn.init(e,t)}),XL=Ne("ZodBase64URL",(e,t)=>{n4.init(e,t),dn.init(e,t)}),JL=Ne("ZodE164",(e,t)=>{r4.init(e,t),dn.init(e,t)}),e3=Ne("ZodJWT",(e,t)=>{o4.init(e,t),dn.init(e,t)}),t3=Ne("ZodBoolean",(e,t)=>{a4.init(e,t),Wn.init(e,t)});function n3(e){return J4(t3,e)}const r3=Ne("ZodUnknown",(e,t)=>{i4.init(e,t),Wn.init(e,t)});function h1(){return eL(r3)}const s3=Ne("ZodNever",(e,t)=>{l4.init(e,t),Wn.init(e,t)});function o3(e){return tL(s3,e)}const a3=Ne("ZodArray",(e,t)=>{c4.init(e,t),Wn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Ym(n,r)),e.nonempty=n=>e.check(Ym(1,n)),e.max=(n,r)=>e.check(l_(n,r)),e.length=(n,r)=>e.check(c_(n,r)),e.unwrap=()=>e.element});function Dh(e,t){return fL(a3,e,t)}const i3=Ne("ZodObject",(e,t)=>{d4.init(e,t),Wn.init(e,t),Xt(e,"shape",()=>t.shape),e.keyof=()=>Lb(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:h1()}),e.loose=()=>e.clone({...e._zod.def,catchall:h1()}),e.strict=()=>e.clone({...e._zod.def,catchall:o3()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>OP(e,n),e.safeExtend=n=>TP(e,n),e.merge=n=>zP(e,n),e.pick=n=>DP(e,n),e.omit=n=>AP(e,n),e.partial=(...n)=>PP(f_,e,n[0]),e.required=(...n)=>IP(m_,e,n[0])});function vc(e,t){const n={type:"object",shape:e??{},...at(t)};return new i3(n)}const l3=Ne("ZodUnion",(e,t)=>{f4.init(e,t),Wn.init(e,t),e.options=t.options});function d_(e,t){return new l3({type:"union",options:e,...at(t)})}const c3=Ne("ZodIntersection",(e,t)=>{m4.init(e,t),Wn.init(e,t)});function u3(e,t){return new c3({type:"intersection",left:e,right:t})}const Ib=Ne("ZodEnum",(e,t)=>{h4.init(e,t),Wn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Ib({...t,checks:[],...at(o),entries:l})},e.exclude=(r,o)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Ib({...t,checks:[],...at(o),entries:l})}});function Lb(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ib({type:"enum",entries:n,...at(t)})}const d3=Ne("ZodTransform",(e,t)=>{p4.init(e,t),Wn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ZN(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Xu(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(Xu(c))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(l=>(n.value=l,n)):(n.value=o,n)}});function f3(e){return new d3({type:"transform",transform:e})}const f_=Ne("ZodOptional",(e,t)=>{g4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function p1(e){return new f_({type:"optional",innerType:e})}const m3=Ne("ZodNullable",(e,t)=>{x4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function g1(e){return new m3({type:"nullable",innerType:e})}const h3=Ne("ZodDefault",(e,t)=>{b4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function p3(e,t){return new h3({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():JN(t)}})}const g3=Ne("ZodPrefault",(e,t)=>{v4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function x3(e,t){return new g3({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():JN(t)}})}const m_=Ne("ZodNonOptional",(e,t)=>{y4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function b3(e,t){return new m_({type:"nonoptional",innerType:e,...at(t)})}const v3=Ne("ZodCatch",(e,t)=>{w4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function y3(e,t){return new v3({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const w3=Ne("ZodPipe",(e,t)=>{S4.init(e,t),Wn.init(e,t),e.in=t.in,e.out=t.out});function x1(e,t){return new w3({type:"pipe",in:e,out:t})}const S3=Ne("ZodReadonly",(e,t)=>{C4.init(e,t),Wn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function C3(e){return new S3({type:"readonly",innerType:e})}const j3=Ne("ZodCustom",(e,t)=>{j4.init(e,t),Wn.init(e,t)});function E3(e,t={}){return mL(j3,e,t)}function N3(e){return hL(e)}function _3(){return _n({queryKey:Fs.providers(),queryFn:({signal:e})=>zz({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const k3={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function Rt({tone:e="info",heading:t,icon:n,className:r,children:o,...l}){return i.jsxs("div",{role:"status",className:de("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",k3[e],r),...l,children:[n?i.jsx("span",{"aria-hidden":"true",children:n}):null,i.jsxs("div",{className:"space-y-1",children:[t?i.jsx("p",{className:"font-semibold",children:t}):null,o?i.jsx("p",{className:"leading-relaxed",children:o}):null]})]})}function Ot({label:e,hint:t,error:n,required:r=!1,children:o,className:l}){const c=h.useId(),d=h.isValidElement(o)?o.props??{}:{},f=d.id??c,p=t?`${f}-hint`:void 0,g=n?`${f}-error`:void 0,x=[p,g,d["aria-describedby"]].filter(Boolean).join(" ")||void 0;return i.jsxs("div",{className:de("space-y-2",l),children:[e?i.jsxs("label",{htmlFor:f,className:"text-sm font-medium text-foreground","aria-required":r||void 0,children:[e,r?i.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,h.isValidElement(o)?h.cloneElement(o,{id:f,required:r||d.required,"aria-describedby":x,"aria-invalid":n?!0:d["aria-invalid"]}):o,t?i.jsx("p",{id:p,className:"text-xs text-muted-foreground",children:t}):null,n?i.jsx("p",{id:g,className:"text-xs font-medium text-danger-600",children:n}):null]})}const h_="block w-full rounded-lg border border-border bg-card px-3 py-2 text-sm text-foreground shadow-sm transition placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground",En=h.forwardRef(({className:e,invalid:t=!1,...n},r)=>i.jsx("input",{ref:r,className:de(h_,t&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":t||void 0,...n}));En.displayName="Input";const R3=h.forwardRef(({className:e,invalid:t=!1,rows:n=4,...r},o)=>i.jsx("textarea",{ref:o,rows:n,className:de(h_,"resize-y",t&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":t||void 0,...r}));R3.displayName="TextArea";const M3=vc({email:hr().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:hr().min(1,"Enter your password.")});function D3(e,t){const n=(e??"").trim();if(!n)return"#";if(!t)return n;const r=n.includes("?")?"&":"?";return`${n}${r}return_to=${encodeURIComponent(t)}`}function A3(){const e=xr(),t=sn(),n=Tt(),r=ON(),{session:o,isLoading:l,isError:c}=r,d=!o&&!l&&!c,f=zv(d),p=_3(),x=(p.data?.providers??[]).filter(A=>A.type!=="password"),v=p.data?.force_sso??!1,y=p.isError&&!p.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,S=h.useMemo(()=>{const A=new URLSearchParams(e.search);return cc(A.get("redirectTo"))},[e.search]);h.useEffect(()=>{o&&t(qm(o.return_to,S),{replace:!0})},[t,S,o]),h.useEffect(()=>{d&&(f.isPending||f.isError||f.data?.setup_required&&t(zN(S),{replace:!0}))},[t,S,f.data?.setup_required,f.isError,f.isPending,d]);const[C,j]=h.useState(null),[E,N]=h.useState(!1);if(h.useEffect(()=>{j(null)},[e.search]),l)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session"})});if(c)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We were unable to verify your session. Refresh the page to try again."}),i.jsx(Ge,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})]});if(f.isPending&&d)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing initial setup"})});if(f.isError&&d)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We were unable to check whether ADE is ready."}),i.jsx(Ge,{variant:"secondary",onClick:()=>f.refetch(),children:"Try again"})]});const _=async A=>{A.preventDefault(),j(null);const M=new FormData(A.currentTarget),O=Object.fromEntries(M.entries()),L=M3.safeParse(O);if(!L.success){const W=L.error.issues[0]?.message??"Invalid input.";j(W);return}const{email:T,password:G}=L.data,P=typeof O.redirectTo=="string"?O.redirectTo:null,$=cc(P);N(!0);try{const W=await Iz({email:T,password:G});n.setQueryData(Fs.detail(),W),t(qm(W.return_to,$),{replace:!0})}catch(W){if(W instanceof Pt){const ce=W.problem?.detail??W.message??"Unable to sign in.";j(ce)}else W instanceof Error?j(W.message):j("Unable to sign in.")}finally{N(!1)}},R=!!C&&!E,D=p.isLoading||p.isFetching;return i.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-background px-6 py-16",children:i.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-border bg-card p-10 shadow-soft",children:[i.jsxs("header",{className:"space-y-2 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Sign in to ADE"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and password or continue with a connected provider."})]}),y?i.jsx(Rt,{tone:"warning",className:"mt-6",children:y}):null,D?i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-muted"}),i.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-muted"})]}):x.length>0?i.jsx("div",{className:"mt-6 space-y-3",children:x.map(A=>i.jsxs("a",{href:D3(A.start_url,S),className:"flex w-full items-center justify-center rounded-lg border border-border-strong bg-card px-4 py-2 text-sm font-semibold text-foreground transition hover:bg-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:["Continue with ",A.label]},A.id))}):null,v?i.jsx(Rt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):i.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:_,children:[i.jsx("input",{type:"hidden",name:"redirectTo",value:S}),i.jsx(Ot,{label:"Email address",required:!0,children:i.jsx(En,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:E})}),i.jsx(Ot,{label:"Password",required:!0,children:i.jsx(En,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:E})}),R?i.jsx(Rt,{tone:"danger",children:C}):null,i.jsx(Ge,{type:"submit",className:"w-full justify-center",isLoading:E,disabled:E,children:E?"Signing in":"Continue"})]})]})})}function O3(){const e=sn(),t=xr(),n=Tt(),[r,o]=h.useState(null);return h.useEffect(()=>{let l=!1;const c=new URLSearchParams(t.search),d=cc(c.get("return_to")??c.get("redirectTo")??c.get("next"));async function f(){try{const p=await Lz();if(l)return;n.setQueryData(Fs.detail(),p);const g=qm(null,d);e(g,{replace:!0})}catch(p){if(l)return;p instanceof Pt?o(p.problem?.detail??p.message):p instanceof Error?o(p.message):o("Unexpected callback error.")}}return f(),()=>{l=!0}},[t.search,e,n]),r?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(kt,{title:"Unable to finish sign-in",description:r,variant:"error",action:i.jsx(Ge,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(kt,{title:"Finishing sign-in",variant:"loading"})})}const T3=vc({displayName:hr().min(1,"Display name is required."),email:hr().min(1,"Email is required.").email("Enter a valid email address."),password:hr().min(12,"Use at least 12 characters."),confirmPassword:hr().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function z3(){const e=xr(),t=sn(),n=Tt(),r=zv(!0),o=h.useMemo(()=>{const g=new URLSearchParams(e.search);return cc(g.get("redirectTo"))},[e.search]);h.useEffect(()=>{r.isPending||r.isError||r.data?.setup_required||t(TN(o),{replace:!0})},[t,o,r.data?.setup_required,r.isError,r.isPending]);const[l,c]=h.useState(null),[d,f]=h.useState(!1);if(r.isPending)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading setup status"})});if(r.isError)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We couldn't check whether ADE requires initial setup."}),i.jsx(Ge,{variant:"secondary",onClick:()=>r.refetch(),children:"Try again"})]});if(!r.data?.setup_required)return null;const p=async g=>{g.preventDefault(),c(null);const x=new FormData(g.currentTarget),v=Object.fromEntries(x.entries()),y=T3.safeParse(v);if(!y.success){const C=y.error.issues[0]?.message??"Invalid input.";c(C);return}f(!0);const S=cc(v.redirectTo);try{const C=await Wz({display_name:y.data.displayName,email:y.data.email,password:y.data.password});n.setQueryData(Fs.detail(),C),t(qm(C.return_to,S),{replace:!0})}catch(C){if(C instanceof Pt){const j=C.problem?.detail??C.message??"Setup failed. Try again.";c(j)}else C instanceof Error?c(C.message):c("Setup failed. Try again.")}finally{f(!1)}};return i.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-background px-6 py-16",children:i.jsxs("div",{className:"rounded-2xl border border-border bg-card p-10 shadow-soft",children:[i.jsxs("header",{className:"space-y-3 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Create the first administrator"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i.jsx("input",{type:"hidden",name:"redirectTo",value:o}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(Ot,{label:"Display name",required:!0,children:i.jsx(En,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:d})}),i.jsx(Ot,{label:"Email",required:!0,children:i.jsx(En,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:d})})]}),i.jsx(Ot,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:i.jsx(En,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:d})}),i.jsx(Ot,{label:"Confirm password",required:!0,children:i.jsx(En,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:d})}),l?i.jsx(Rt,{tone:"danger",children:l}):null,i.jsx("div",{className:"flex justify-end",children:i.jsx(Ge,{type:"submit",isLoading:d,disabled:d,children:d?"Creating administrator":"Create administrator"})})]})]})})}const P3=232,I3=30,_i=6;function Go({open:e,position:t,onClose:n,items:r,appearance:o="dark",onPointerLeave:l}){const c=h.useRef(null),d=h.useRef([]),[f,p]=h.useState(null),g=h.useMemo(()=>r.findIndex(S=>!S.disabled),[r]),[x,v]=h.useState(()=>g>=0?g:0);if(h.useEffect(()=>{if(!e||!t||typeof window>"u"){p(null);return}const S=r.length*I3+_i*2,C=Math.max(_i,(window.innerWidth||0)-P3-_i),j=Math.max(_i,(window.innerHeight||0)-S-_i),E=Math.min(Math.max(t.x,_i),C),N=Math.min(Math.max(t.y,_i),j);p({x:E,y:N})},[e,t,r.length]),h.useEffect(()=>{e&&v(g>=0?g:0)},[e,g]),h.useEffect(()=>{if(!e)return;d.current[x]?.focus()},[e,x]),h.useEffect(()=>{if(!e||typeof window>"u")return;const S=E=>{c.current&&(c.current.contains(E.target)||n())},C=E=>{if(c.current){if(c.current.contains(E.target)){E.preventDefault();return}n()}},j=E=>{if(E.key==="Escape"){E.preventDefault(),n();return}if(E.key==="ArrowDown"||E.key==="ArrowUp"){E.preventDefault();const N=E.key==="ArrowDown"?1:-1;v(_=>{if(r.length===0)return _;let R=_;for(let D=0;D<r.length;D+=1)if(R=(R+N+r.length)%r.length,!r[R]?.disabled)return R;return _});return}if(E.key==="Enter"||E.key===" "){E.preventDefault();const N=r[x];N&&!N.disabled&&(N.onSelect(),n())}};return window.addEventListener("mousedown",S),window.addEventListener("contextmenu",C),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",S),window.removeEventListener("contextmenu",C),window.removeEventListener("keydown",j)}},[e,n,r,x]),!e||!t||typeof window>"u"||!f)return null;const y=o==="dark"?{bg:"bg-popover text-foreground",border:"border-border/70",shadow:"shadow-[0_12px_28px_rgb(var(--sys-color-shadow)/0.5)]",item:"hover:bg-muted focus-visible:bg-muted",disabled:"text-muted-foreground",danger:"text-danger-300 hover:text-on-danger hover:bg-danger-600 focus-visible:bg-danger-600",shortcut:"text-muted-foreground",separator:"border-border/60"}:{bg:"bg-popover text-foreground",border:"border-border/80",shadow:"shadow-[0_12px_28px_rgb(var(--sys-color-shadow)/0.18)]",item:"hover:bg-muted focus-visible:bg-muted",disabled:"text-muted-foreground",danger:"text-danger-600 hover:text-on-danger hover:bg-danger-600 focus-visible:bg-danger-600",shortcut:"text-muted-foreground",separator:"border-border/70"};return zn.createPortal(i.jsx("div",{ref:c,role:"menu",className:de("z-[60] min-w-[200px] rounded-sm border",y.bg,y.border,y.shadow),style:{top:f.y,left:f.x,position:"fixed"},onPointerLeave:l,children:i.jsx("ul",{className:"py-1",role:"none",children:r.map((S,C)=>{const j=!!S.disabled,E=!!S.danger;return i.jsxs(h.Fragment,{children:[S.dividerAbove?i.jsx("li",{role:"separator",className:de("mx-2 my-1 border-t",y.separator)}):null,i.jsx("li",{role:"none",children:i.jsxs("button",{ref:N=>{d.current[C]=N},type:"button",role:"menuitem",className:de("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",y.item,j&&y.disabled,E&&!j&&y.danger,j&&"cursor-default"),onClick:N=>{N.stopPropagation(),!j&&(S.onSelect(),n())},onMouseEnter:()=>{j||(v(C),S.onHover?.())},disabled:j,children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[S.icon?i.jsx("span",{className:"text-base opacity-80",children:S.icon}):i.jsx("span",{className:"inline-block h-4 w-4"}),i.jsx("span",{className:"truncate",children:S.label})]}),S.shortcut?i.jsx("span",{className:de("text-[11px] uppercase tracking-wide",y.shortcut),children:S.shortcut}):null]})})]},S.id)})})}),window.document.body)}const L3=8;function p_({className:e,tone:t="default"}){const{theme:n,modePreference:r,resolvedMode:o,setModePreference:l,setPreviewTheme:c,setTheme:d}=Mv(),f=h.useRef(null),[p,g]=h.useState(!1),[x,v]=h.useState(null),y=t==="header",S=h.useCallback(()=>{if(!f.current)return;const E=f.current.getBoundingClientRect();v({x:E.left,y:E.bottom+L3})},[]),C=h.useCallback(()=>{g(!1),c(null)},[c]);h.useEffect(()=>{if(!p){c(null);return}S();const E=()=>S();return window.addEventListener("resize",E),window.addEventListener("scroll",E,!0),()=>{window.removeEventListener("resize",E),window.removeEventListener("scroll",E,!0)}},[p,c,S]);const j=h.useMemo(()=>{const E=hN.map(_=>({id:`mode-${_.value}`,label:`${_.label} mode`,onSelect:()=>{l(_.value),C()},icon:r===_.value?i.jsx(qa,{className:"h-3.5 w-3.5 text-brand-500"}):void 0})),N=pN.map((_,R)=>({id:`theme-${_.id}`,label:_.label,onSelect:()=>{d(_.id),C()},onHover:()=>c(_.id),icon:n===_.id?i.jsx(qa,{className:"h-3.5 w-3.5 text-brand-500"}):void 0,dividerAbove:R===0}));return[...E,...N]},[C,r,l,c,d,n]);return i.jsxs("div",{className:de("relative",e),children:[i.jsxs("button",{ref:f,type:"button","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Appearance settings",title:"Appearance",className:de("focus-ring inline-flex h-9 items-center gap-2 rounded-xl border px-2.5 text-xs transition",y?"border-header-border/40 bg-header/25 text-header-foreground shadow-none hover:border-header-border/70 hover:bg-header/30":"border-border/80 bg-card text-muted-foreground shadow-sm hover:border-border-strong hover:text-foreground",p&&(y?"border-header-ring ring-2 ring-header-ring/30":"border-brand-400 ring-2 ring-brand-500/10 text-foreground")),onClick:()=>g(E=>!E),onKeyDown:E=>{(E.key==="ArrowDown"||E.key==="Enter"||E.key===" ")&&(E.preventDefault(),g(!0))},children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"rgb(var(--sys-color-accent))"},"aria-hidden":!0}),i.jsx(NT,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden xl:inline",children:"Appearance"}),i.jsx(Gi,{className:de("h-3.5 w-3.5 transition",p&&"rotate-180")})]}),i.jsx(Go,{open:p,position:x,onClose:C,items:j,appearance:o,onPointerLeave:()=>c(null)})]})}function g_({id:e,value:t,defaultValue:n="",placeholder:r="Search",ariaLabel:o,shortcutHint:l="K",shortcutKey:c="k",enableShortcut:d=!0,scopeLabel:f,leadingIcon:p,trailingIcon:g,className:x,variant:v="default",isLoading:y=!1,loadingLabel:S="Loading suggestions",filters:C,onSelectFilter:j,emptyState:E,onChange:N,onSubmit:_,onClear:R,onFocus:D,onBlur:A,suggestions:M=[],onSelectSuggestion:O,renderSuggestion:L}){const T=h.useId(),G=e??T,P=`${T}-suggestions`,$=h.useRef(null),W=h.useRef(null),ce=t!==void 0,[z,q]=h.useState(n),[Z,F]=h.useState(!1),ae=h.useRef(!1),[B,U]=h.useState(0),ne=ce?t??"":z,K=M.length>0,H=!!C?.length,Y=Z&&(K||y||!!E||H),V=Z&&!K&&!y&&!!E,te=!!(R||!ce),se=l||"K",oe=o??r,fe=()=>{ae.current&&(ae.current=!1,F(!1),A?.())};h.useEffect(()=>{ce||q(n)},[n,ce]),h.useEffect(()=>{U(0)},[M.length,ne]),h.useEffect(()=>{if(!d||typeof window>"u")return;const ge=ke=>{if((ke.metaKey||ke.ctrlKey)&&ke.key.toLowerCase()===c.toLowerCase()){const ve=ke.target;if(!!!(ve&&ve instanceof Node&&$.current?.contains(ve))&&F3(ve))return;ke.preventDefault(),W.current?.focus({preventScroll:!0})}};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[d,c]);const Se=ge=>{ge.preventDefault();const ke=ne.trim();!ke&&!_||_?.(ke)},Ae=ge=>{ce||q(ge),N?.(ge)},De=()=>{ne&&(ce||q(""),N?.(""),R?.(),W.current?.focus({preventScroll:!0}))},st=ge=>{if(!ge)return;O?.(ge),ge.action?.(),fe();const ke=document.activeElement;ke&&$.current?.contains(ke)&&ke.blur()},pt=ge=>{if(ge.key==="Escape"){ge.preventDefault(),fe(),ge.currentTarget.blur();return}if(!(!Y||!K)){if(ge.key==="ArrowDown"){ge.preventDefault(),U(ke=>(ke+1)%M.length);return}if(ge.key==="ArrowUp"){ge.preventDefault(),U(ke=>(ke-1+M.length)%M.length);return}ge.key==="Enter"&&(ge.preventDefault(),st(M[B]))}},ut=v==="header",fn=ut?de("rounded-2xl border border-header-border/40 bg-header/20 text-header-foreground backdrop-blur-sm","shadow-none ring-1 ring-inset ring-header-border/30 transition","focus-within:border-header-ring focus-within:bg-header/30 focus-within:ring-header-ring/40"):v==="minimal"?de("rounded-xl border border-border bg-card/90 shadow-sm ring-1 ring-inset ring-border/40","transition focus-within:border-brand-400 focus-within:shadow-[0_18px_45px_-35px_rgb(var(--sys-color-shadow)/0.4)]"):de("rounded-xl border border-border/70 bg-gradient-to-r from-card/95 via-muted/80 to-card/95","shadow-[0_20px_45px_-30px_rgb(var(--sys-color-shadow)/0.6)] ring-1 ring-inset ring-border/30 transition","focus-within:border-brand-400 focus-within:shadow-[0_25px_55px_-35px_rgb(var(--sys-color-shadow)/0.55)] sm:rounded-2xl"),Mt=ut?"text-header-muted":"text-muted-foreground",Q=ut?"text-header-foreground placeholder:text-header-muted":"text-foreground placeholder:text-muted-foreground",X=ut?"border-header-border/40 bg-header/30 text-header-foreground":"border-border/70 bg-card/80 text-muted-foreground",ue=ut?"lg:inline-flex":"md:inline-flex",Re=ut?"text-header-muted hover:border-header-border/50 hover:bg-header/20":"text-muted-foreground hover:border-border hover:bg-card",Ce=ut?"bg-header/30 text-header-foreground ring-header-border/40":"bg-card text-brand-600 ring-border/40";return i.jsxs("div",{ref:$,className:de("relative",x),onFocusCapture:()=>{ae.current||(ae.current=!0,F(!0),D?.())},onBlurCapture:()=>{requestAnimationFrame(()=>{const ge=$.current,ke=document.activeElement;!!(ge&&ke&&ge.contains(ke))||fe()})},onKeyDownCapture:ge=>{if(ge.key==="Escape"){ge.preventDefault(),fe();const ke=document.activeElement;ke&&$.current?.contains(ke)&&ke.blur()}},children:[i.jsx("div",{className:de("group/search overflow-hidden",fn,Y&&v==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgb(var(--sys-color-shadow)/0.55)]"),children:i.jsxs("form",{className:de("flex w-full items-center gap-3 px-4 py-2 text-sm sm:px-5 sm:py-2.5",Mt),role:"search","aria-label":oe,onSubmit:Se,children:[i.jsx("label",{htmlFor:G,className:"sr-only",children:oe}),p??i.jsx("span",{className:de("inline-flex h-9 w-9 items-center justify-center rounded-xl shadow-inner shadow-white/10 ring-1 ring-inset sm:h-10 sm:w-10",Ce),children:i.jsx(bh,{className:de("h-4 w-4 flex-shrink-0",ut?"text-header-foreground":"text-brand-600")})}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[f?i.jsx("span",{className:de("text-[0.6rem] font-semibold uppercase tracking-wide sm:text-[0.65rem]",ut?"text-header-muted":"text-muted-foreground"),children:f}):null,i.jsx("input",{ref:W,id:G,type:"search",value:ne,onChange:ge=>Ae(ge.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onKeyDown:pt,placeholder:r,className:de("w-full border-0 bg-transparent text-base font-medium focus:outline-none",Q),"aria-expanded":Y,"aria-controls":Y?P:void 0,"aria-activedescendant":Y&&K?`${P}-option-${B}`:void 0})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[te&&ne?i.jsx("button",{type:"button",onClick:De,"aria-label":"Clear search",className:de("focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent",Re),children:i.jsx(mo,{className:"h-3.5 w-3.5"})}):null,y?i.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":S,children:i.jsx(Uu,{className:"h-4 w-4 animate-spin text-brand-600"})}):null,g,i.jsx("span",{className:de("hidden items-center gap-1 rounded-full border px-2 py-1 text-xs font-semibold shadow-inner shadow-white/10",X,ue),children:se})]})]})}),Y?i.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-border/70 bg-popover shadow-[0_35px_80px_-40px_rgb(var(--sys-color-shadow)/0.55)] ring-1 ring-inset ring-border/30",children:[K?i.jsx("ul",{id:P,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-border/60",children:M.map((ge,ke)=>{const ve=ke===B,_e=L?.({suggestion:ge,active:ve})??i.jsx($3,{suggestion:ge,active:ve});return i.jsx("li",{children:i.jsx("button",{id:`${P}-option-${ke}`,type:"button",role:"option","aria-selected":ve,onMouseEnter:()=>U(ke),onClick:()=>st(ge),className:de("flex w-full px-5 py-3 text-left transition",ve?"bg-brand-500/10":"hover:bg-muted"),children:_e})},ge.id)})}):null,V?i.jsx("div",{className:"px-5 py-4 text-sm text-muted-foreground",role:"status",children:E}):null,H?i.jsx("div",{className:"border-t border-border/60 bg-muted/60 px-4 py-2.5",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-muted-foreground",children:[i.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-muted-foreground",children:"Filters:"}),C?.map(ge=>i.jsx("button",{type:"button",onClick:()=>j?.(ge),className:de("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",ge.active?"border-brand-400 bg-brand-500/10 text-brand-600":"border-border bg-card text-muted-foreground hover:border-border-strong"),children:ge.label},ge.id))]})}):null]}):null]})}function $3({suggestion:e,active:t}){return i.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?i.jsx("span",{className:"mt-0.5 text-muted-foreground",children:e.icon}):i.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-border","aria-hidden":!0}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground",children:e.label}),e.shortcutHint?i.jsx("span",{className:"rounded border border-border bg-card px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-muted-foreground",children:e.shortcutHint}):null]}),e.description?i.jsx("span",{className:de("text-xs",t?"text-brand-600":"text-muted-foreground"),children:e.description}):null]})]})}function F3(e){if(!e||!(e instanceof HTMLElement))return!1;const t=e.tagName.toLowerCase();return!!(t==="input"||t==="textarea"||t==="select"||e.isContentEditable||e.closest?.("[contenteditable='true']"))}function x_({brand:e,leading:t,actions:n,trailing:r,search:o,secondaryContent:l,scrollContainer:c}){const[d,f]=h.useState(!1);h.useEffect(()=>{if(typeof window>"u")return;let x=!1;const v=c??window,y=()=>v===window?window.scrollY:v.scrollTop,S=()=>{x=!1;const j=y()>0;f(E=>E===j?E:j)},C=()=>{x||(x=!0,window.requestAnimationFrame(S))};return S(),v.addEventListener("scroll",C,{passive:!0}),()=>v.removeEventListener("scroll",C)},[c]);const p=!!o,g=o?{...o,variant:o.variant??"header",className:de("w-full col-span-2 row-start-2 xl:col-span-1 xl:row-start-1 xl:col-start-2 xl:justify-self-center xl:max-w-[42rem]",o.className)}:void 0;return i.jsxs("header",{className:de("sticky top-0 z-50","border-b border-header-border","bg-header text-header-foreground","transition-shadow duration-200 motion-reduce:transition-none",d?"shadow-[0_12px_40px_-30px_rgb(var(--sys-color-shadow)/0.45)]":"shadow-none"),style:{"--focus-ring-offset":"rgb(var(--sys-color-header-bg) / 1)"},role:"banner",children:[i.jsx("a",{href:"#main-content",className:de("sr-only","focus:not-sr-only focus:absolute focus:left-4 focus:top-3 focus:z-[60]","rounded-lg border border-header-border bg-card px-3 py-2 text-sm font-semibold text-foreground shadow","focus:outline-none focus:ring-2 focus:ring-header-ring focus:ring-offset-2 focus:ring-offset-header"),children:"Skip to content"}),i.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[i.jsxs("div",{className:de("grid min-h-[3.5rem] w-full items-center gap-3 sm:gap-4",p?"grid-cols-[minmax(0,1fr)_auto] xl:grid-cols-[auto_minmax(0,1fr)_auto] xl:gap-8":"grid-cols-[minmax(0,1fr)_auto]"),children:[i.jsxs("div",{className:"col-start-1 row-start-1 flex w-full min-w-0 items-center gap-3",children:[e,t]}),g?i.jsx(g_,{...g}):null,i.jsxs("div",{className:de("col-start-2 row-start-1 flex flex-wrap items-center justify-end gap-2",p&&"xl:col-start-3 xl:row-start-1"),children:[n,r]})]}),l?i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l}):null]})]})}const U3=140,B3=288,V3=8,Fl=12;function b_({displayName:e,email:t,actions:n=[],tone:r="default"}){const o=h.useId(),[l,c]=h.useState(!1),[d,f]=h.useState(!1),[p,g]=h.useState(!1),[x,v]=h.useState(null),[y,S]=h.useState(!1),C=h.useRef(null),j=h.useRef(null),E=sn(),N=h.useMemo(()=>H3(e||t),[e,t]),_=r==="header",R=h.useCallback(T=>{c(!1),T?.restoreFocus&&requestAnimationFrame(()=>C.current?.focus({preventScroll:!0}))},[]),D=h.useCallback(()=>{if(typeof window>"u"||!C.current)return;const T=C.current.getBoundingClientRect(),G=j.current?.offsetWidth??B3,P=j.current?.offsetHeight??0,$=Math.max(Fl,window.innerWidth-G-Fl),W=Math.max(Fl,window.innerHeight-P-Fl);let ce=T.right-G,z=T.bottom+V3;ce=Math.min(Math.max(ce,Fl),$),z=Math.min(Math.max(z,Fl),W),v({top:z,left:ce})},[]);h.useEffect(()=>{if(l){f(!0);const G=window.requestAnimationFrame(()=>{D(),g(!0)});return()=>window.cancelAnimationFrame(G)}g(!1),v(null);const T=window.setTimeout(()=>f(!1),U3);return()=>window.clearTimeout(T)},[l,D]),h.useEffect(()=>{if(!l)return;const T=()=>D();return window.addEventListener("resize",T),window.addEventListener("scroll",T,!0),()=>{window.removeEventListener("resize",T),window.removeEventListener("scroll",T,!0)}},[l,D]),h.useEffect(()=>{if(!l)return;const T=P=>{const $=P.target;$&&(j.current?.contains($)||C.current?.contains($)||R())},G=P=>{P.key==="Escape"&&R({restoreFocus:!0})};return window.addEventListener("pointerdown",T,{passive:!0}),window.addEventListener("keydown",G),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("keydown",G)}},[R,l]),h.useEffect(()=>{l&&requestAnimationFrame(()=>{j.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})})},[l]);const A=h.useCallback(T=>{R(),T()},[R]),M=h.useCallback(async()=>{y||(R(),S(!0),E("/logout",{replace:!0}))},[R,y,E]),O=T=>{const G=Array.from(j.current?.querySelectorAll("button[data-menu-item]")??[]);if(G.length===0)return;const P=(T%G.length+G.length)%G.length;G[P]?.focus({preventScroll:!0})},L=T=>{const G=Array.from(j.current?.querySelectorAll("button[data-menu-item]")??[]);if(G.length===0)return;const P=document.activeElement,$=P?G.indexOf(P):-1,W=$===-1?0:$+T;O(W)};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{ref:C,type:"button",className:de("focus-ring inline-flex items-center gap-3 rounded-xl border px-2.5 py-1.5 text-left text-sm font-semibold transition",_?"border-header-border/40 bg-header/25 text-header-foreground shadow-none hover:border-header-border/70 hover:bg-header/30":"border-border bg-card text-muted-foreground shadow-sm hover:border-border-strong hover:text-foreground",l&&(_?"border-header-ring ring-2 ring-header-ring/30":"border-brand-400 ring-2 ring-brand-500/10")),"aria-haspopup":"menu","aria-controls":o,"aria-expanded":l,onClick:()=>c(T=>!T),onKeyDown:T=>{(T.key==="ArrowDown"||T.key==="Enter"||T.key===" ")&&(T.preventDefault(),c(!0))},children:[i.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-on-brand shadow-sm",children:N}),i.jsxs("span",{className:"hidden min-w-0 flex-col xl:flex",children:[i.jsx("span",{className:de("truncate text-sm font-semibold",_?"text-header-foreground":"text-foreground"),children:e}),i.jsx("span",{className:de("truncate text-xs",_?"text-header-muted":"text-muted-foreground"),children:t})]}),i.jsx(Gi,{className:de("h-4 w-4 transition-transform duration-150",_?"text-header-muted":"text-muted-foreground",l&&"rotate-180")})]}),d&&typeof document<"u"?zn.createPortal(i.jsxs("div",{ref:j,id:o,role:"menu",tabIndex:-1,className:de("fixed w-72 origin-top-right rounded-xl border border-border bg-popover p-2 text-sm shadow-2xl ring-1 ring-border/50","isolate","transition-[opacity,transform] duration-150 ease-out motion-reduce:transition-none",p?"opacity-100 translate-y-0 scale-100":"pointer-events-none opacity-0 -translate-y-1 scale-[0.98]"),style:x?{top:x.top,left:x.left,position:"fixed",zIndex:90,backgroundColor:"rgb(var(--sys-color-surface-elevated))"}:{top:0,left:0,visibility:"hidden"},onKeyDown:T=>{if(T.key==="ArrowDown"){T.preventDefault(),L(1);return}if(T.key==="ArrowUp"){T.preventDefault(),L(-1);return}if(T.key==="Home"){T.preventDefault(),O(0);return}if(T.key==="End"){T.preventDefault(),O(Number.MAX_SAFE_INTEGER);return}T.key==="Escape"&&(T.preventDefault(),R({restoreFocus:!0}))},children:[i.jsxs("div",{className:"px-2 pb-2",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Signed in as"}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:t})]}),i.jsx("ul",{className:"space-y-1",role:"none",children:n.map(T=>i.jsx("li",{role:"none",children:i.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-muted-foreground transition hover:bg-muted hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",onClick:()=>A(T.onSelect),children:[i.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-muted text-xs font-semibold text-muted-foreground",children:T.icon??T.label.charAt(0).toUpperCase()}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate",children:T.label}),T.description?i.jsx("span",{className:"truncate text-xs font-normal text-muted-foreground",children:T.description}):null]})]})},T.id))}),i.jsx("div",{className:"mt-3 border-t border-border pt-3",children:i.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-2 text-sm font-semibold text-muted-foreground transition hover:border-brand-400 hover:text-brand-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:M,disabled:y,children:[i.jsx("span",{children:"Sign out"}),y?i.jsx(Uu,{className:"h-4 w-4 animate-spin text-brand-600"}):null]})})]}),document.body):null]})}function H3(e){const t=e.split(" ").map(n=>n.trim()).filter(Boolean);return t.length===0?"":t.length===1?t[0].charAt(0).toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase()}async function q3(e={}){const{data:t}=await Xe.GET("/api/v1/system/safemode",{signal:e.signal}),n=t??{},r=!!n.enabled,o=typeof n.detail=="string"&&n.detail.trim().length>0?n.detail.trim():v_;return{enabled:r,detail:o}}async function W3(e={}){const{data:t}=await Xe.GET("/api/v1/meta/versions",{signal:e.signal}),n=t??{};return{ade_api:b1(n.ade_api),ade_engine:b1(n.ade_engine)}}const v_="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function b1(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const v1=["system","safeMode"],y1=["system","versions"];function G3(){const t=Tt().getQueryData(v1);return _n({queryKey:v1,queryFn:({signal:n})=>q3({signal:n}),initialData:t,staleTime:3e4,refetchInterval:6e4})}function Y3(e={}){const n=Tt().getQueryData(y1);return _n({queryKey:y1,queryFn:({signal:r})=>W3({signal:r}),initialData:n,staleTime:300*1e3,enabled:e.enabled??!0})}const K3="1.6.4";function y_({open:e,onClose:t}){const n=h.useRef(null),r=Y3({enabled:e}),o=r.isError,l=r.data?.ade_api??(r.isPending?"Loading...":"unknown"),c=r.data?.ade_engine??(r.isPending?"Loading...":"unknown");if(h.useEffect(()=>{if(!e)return;const f=p=>{p.key==="Escape"&&t()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,t]),h.useEffect(()=>{if(!e)return;const{body:f}=document,p=f.style.overflow;return f.style.overflow="hidden",()=>{f.style.overflow=p}},[e]),h.useEffect(()=>{e&&n.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const d=i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",role:"presentation",onMouseDown:f=>{f.target===f.currentTarget&&t()},children:i.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-border/80 bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"About"}),i.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-foreground",children:"ADE versions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),i.jsx(Ge,{ref:n,variant:"ghost",size:"sm",onClick:t,children:"Close"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ox,{label:"ade-web",value:K3,hint:"Frontend build"}),i.jsx(Ox,{label:"ade-api",value:l,hint:"Backend service"}),i.jsx(Ox,{label:"ade-engine",value:c,hint:"Engine runtime"})]}),o?i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Rt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),i.jsx(Ge,{size:"sm",variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})]}):null]})});return zn.createPortal(d,document.body)}function Ox({label:e,value:t,hint:n}){return i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-border/70 bg-muted px-4 py-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("code",{className:"rounded bg-foreground px-2.5 py-1 text-xs font-mono text-background shadow-sm",children:t})})]})}function w_({children:e,sidePanel:t,actions:n,search:r}){const o=bc(),l=sn(),[c,d]=h.useState(!1),f=o.user.display_name||o.user.email||"Signed in",p=o.user.email??"";return i.jsxs(i.Fragment,{children:[i.jsx(y_,{open:c,onClose:()=>d(!1)}),i.jsxs("div",{className:"flex min-h-screen flex-col bg-background text-foreground",children:[i.jsx(x_,{brand:i.jsxs("button",{type:"button",onClick:()=>l("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-header-border/40 bg-header/20 px-3 py-2 text-left text-sm font-semibold text-header-foreground transition hover:border-header-border/70 hover:bg-header/30",children:[i.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-on-brand shadow-sm",children:i.jsx(DT,{className:"h-5 w-5","aria-hidden":!0})}),i.jsxs("span",{className:"flex flex-col leading-tight",children:[i.jsx("span",{className:"text-sm font-semibold text-header-foreground",children:"Workspace directory"}),i.jsx("span",{className:"text-xs text-header-muted",children:"Automatic Data Extractor"})]})]}),search:r,actions:n?i.jsx("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:n}):void 0,trailing:i.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:[i.jsx(p_,{tone:"header"}),i.jsx(b_,{displayName:f,email:p,tone:"header",actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>d(!0)}]})]})}),i.jsx("main",{id:"main-content",tabIndex:-1,className:"flex flex-1 overflow-y-auto",children:i.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:i.jsxs("div",{className:`grid gap-6 ${t?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[i.jsx("div",{children:e}),t?i.jsx("aside",{className:"space-y-6",children:t}):null]})})})]})]})}const Z3="K",Q3="Ctrl+K";function S_({macLabel:e=Z3,windowsLabel:t=Q3}={}){const[n,r]=h.useState(e);return h.useEffect(()=>{if(typeof window>"u")return;const o=window.navigator.platform??"",l=/Mac|iPhone|iPad|Macintosh/.test(o);r(l?e:t)},[e,t]),n}function X3(){return i.jsx(J3,{})}function J3(){const e=sn(),t=bc(),n=Iv(),r=WN(),[o,l]=h.useState(null),[c,d]=h.useState(null),f=h.useMemo(()=>(t.user.permissions??[]).map(P=>P.toLowerCase()),[t.user.permissions]),p=f.includes("workspaces.create")||f.includes("workspaces.manage_all"),[g,x]=h.useState(""),v=S_(),y=n.data,S=h.useMemo(()=>y?.items??[],[y?.items]),C=g.trim().toLowerCase(),j=h.useMemo(()=>C?S.filter(P=>{const $=P.name.toLowerCase(),W=P.slug?.toLowerCase()??"";return $.includes(C)||W.includes(C)}):S,[S,C]),E=h.useCallback(P=>e(Lv(P)),[e]),N=p?i.jsx(Ge,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,_=h.useCallback(()=>{if(!C)return;const P=j[0];P&&E(P.id)},[j,C,E]),R=h.useCallback(()=>x(""),[]),A=(C?j:S).slice(0,5).map(P=>({id:P.id,label:P.name,description:P.slug?`Slug  ${P.slug}`:"Workspace"})),M=h.useCallback(P=>{x(""),E(P.id)},[E]),O=h.useCallback(async P=>{d(null),l(P.id);try{await r.mutateAsync(P.id),KN(P.id)}catch($){console.warn("workspaces.set_default.failed",$),d("Unable to set the default workspace. Please try again.")}finally{l(null)}},[r]),L={value:g,onChange:x,onSubmit:_,placeholder:"Search workspaces or jump to one instantly",shortcutHint:v,scopeLabel:"Workspace directory",suggestions:A,onSelectSuggestion:M,onClear:R},T={...L,shortcutHint:void 0,onClear:R,enableShortcut:!1,variant:"minimal"};if(n.isLoading)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(kt,{title:"Loading workspaces",variant:"loading"})});if(n.isError)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(kt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:i.jsx(Ge,{variant:"secondary",onClick:()=>n.refetch(),children:"Retry"})})});const G=S.length===0?p?i.jsx(t$,{onCreate:()=>e("/workspaces/new")}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),i.jsx(kt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):j.length===0?i.jsx("div",{className:"space-y-4",children:i.jsx(kt,{title:`No workspaces matching "${g}"`,description:"Try searching by another workspace name or slug.",action:i.jsx(Ge,{variant:"secondary",onClick:R,children:"Clear search"})})}):i.jsxs("div",{className:"space-y-6 rounded-2xl border border-border bg-card p-6 shadow-soft",children:[i.jsxs("header",{children:[i.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-foreground",children:"Workspaces"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Select a workspace to jump straight into documents."})]}),c?i.jsx(Rt,{tone:"danger",heading:"We couldn't update your default workspace",children:c}):null,i.jsx(g_,{...T,className:"w-full"}),i.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:j.map(P=>{const $=r.isPending&&o===P.id;return i.jsxs("div",{className:"group relative rounded-xl border border-border bg-card p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-background",children:[i.jsxs("button",{type:"button",onClick:()=>E(P.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${P.name}`,children:[i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"space-y-1 pr-24",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:P.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",P.slug]})]})}),i.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Permissions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:P.permissions.length>0?P.permissions.join(", "):"None"})]}),i.jsx("div",{className:"absolute right-5 top-5",children:P.is_default?i.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):i.jsx(Ge,{variant:"secondary",size:"sm",isLoading:$,disabled:$,onClick:()=>void O(P),children:"Set as default"})})]},P.id)})})]});return i.jsx(w_,{actions:N,search:L,sidePanel:i.jsx(e$,{canCreate:p,onCreate:()=>e("/workspaces/new")}),children:G})}function e$({canCreate:e,onCreate:t}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-5 shadow-soft",children:[i.jsxs("header",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Workspace tips"}),i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Why multiple workspaces?"})]}),i.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?i.jsx(Ge,{variant:"secondary",onClick:t,className:"w-full",children:"New workspace"}):null]}),i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-5 shadow-soft",children:[i.jsxs("header",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Need a hand?"}),i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Workspace setup checklist"})]}),i.jsxs("ul",{className:"space-y-2 text-xs text-muted-foreground",children:[i.jsx("li",{children:"Add at least one additional administrator."}),i.jsx("li",{children:"Review configurations before uploading production files."}),i.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function t$({onCreate:e}){return i.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-border-strong bg-card p-10 text-center shadow-soft",children:[i.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-foreground",children:"No workspaces yet"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Create your first workspace to start uploading configuration sets and documents."}),i.jsx(Ge,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var yd=e=>e.type==="checkbox",Ai=e=>e instanceof Date,Pr=e=>e==null;const C_=e=>typeof e=="object";var Pn=e=>!Pr(e)&&!Array.isArray(e)&&C_(e)&&!Ai(e),n$=e=>Pn(e)&&e.target?yd(e.target)?e.target.checked:e.target.value:e,r$=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,s$=(e,t)=>e.has(r$(t)),o$=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},qv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(qv&&(e instanceof Blob||r))&&(n||Pn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!o$(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Qn(e[o]));else return e;return t}var Ah=e=>/^\w*$/.test(e),Nn=e=>e===void 0,Wv=e=>Array.isArray(e)?e.filter(Boolean):[],Gv=e=>Wv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(e,t,n)=>{if(!t||!Pn(e))return n;const r=(Ah(t)?[t]:Gv(t)).reduce((o,l)=>Pr(o)?o:o[l],e);return Nn(r)||r===e?Nn(e[t])?n:e[t]:r},so=e=>typeof e=="boolean",Zt=(e,t,n)=>{let r=-1;const o=Ah(t)?[t]:Gv(t),l=o.length,c=l-1;for(;++r<l;){const d=o[r];let f=n;if(r!==c){const p=e[d];f=Pn(p)||Array.isArray(p)?p:isNaN(+o[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const w1={BLUR:"blur",FOCUS_OUT:"focusout"},Ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Uo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a$=Ee.createContext(null);a$.displayName="HookFormContext";var i$=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Ps.all&&(t._proxyFormState[c]=!r||Ps.all),e[c]}});return o};const l$=typeof window<"u"?Ee.useLayoutEffect:Ee.useEffect;var Qr=e=>typeof e=="string",c$=(e,t,n,r,o)=>Qr(e)?(r&&t.watch.add(e),Be(n,e,o)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),Be(n,l))):(r&&(t.watchAll=!0),n),$b=e=>Pr(e)||!C_(e);function $a(e,t,n=new WeakSet){if($b(e)||$b(t))return e===t;if(Ai(e)&&Ai(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of r){const c=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=t[l];if(Ai(c)&&Ai(d)||Pn(c)&&Pn(d)||Array.isArray(c)&&Array.isArray(d)?!$a(c,d,n):c!==d)return!1}}return!0}var Yv=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Bu=e=>Array.isArray(e)?e:[e],S1=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function j_(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],l=t[r];if(o&&Pn(o)&&l){const c=j_(o,l);Pn(c)&&(n[r]=c)}else e[r]&&(n[r]=l)}return n}var zr=e=>Pn(e)&&!Object.keys(e).length,Kv=e=>e.type==="file",Is=e=>typeof e=="function",Km=e=>{if(!qv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},E_=e=>e.type==="select-multiple",Zv=e=>e.type==="radio",u$=e=>Zv(e)||yd(e),Tx=e=>Km(e)&&e.isConnected;function d$(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Nn(e)?r++:e[t[r++]];return e}function f$(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nn(e[t]))return!1;return!0}function Tn(e,t){const n=Array.isArray(t)?t:Ah(t)?[t]:Gv(t),r=n.length===1?e:d$(e,n),o=n.length-1,l=n[o];return r&&delete r[l],o!==0&&(Pn(r)&&zr(r)||Array.isArray(r)&&f$(r))&&Tn(e,n.slice(0,-1)),e}var m$=e=>{for(const t in e)if(Is(e[t]))return!0;return!1};function N_(e){return Array.isArray(e)||Pn(e)&&!m$(e)}function Fb(e,t={}){for(const n in e)N_(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fb(e[n],t[n])):Nn(e[n])||(t[n]=!0);return t}function Ql(e,t,n){n||(n=Fb(t));for(const r in e)N_(e[r])?Nn(t)||$b(n[r])?n[r]=Fb(e[r],Array.isArray(e[r])?[]:{}):Ql(e[r],Pr(t)?{}:t[r],n[r]):n[r]=!$a(e[r],t[r]);return n}const C1={value:!1,isValid:!1},j1={value:!0,isValid:!0};var __=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nn(e[0].attributes.value)?Nn(e[0].value)||e[0].value===""?j1:{value:e[0].value,isValid:!0}:j1:C1}return C1},k_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Nn(e)?e:t?e===""?NaN:e&&+e:n&&Qr(e)?new Date(e):r?r(e):e;const E1={isValid:!1,value:null};var R_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,E1):E1;function N1(e){const t=e.ref;return Kv(t)?t.files:Zv(t)?R_(e.refs).value:E_(t)?[...t.selectedOptions].map(({value:n})=>n):yd(t)?__(e.refs).value:k_(Nn(t.value)?e.ref.value:t.value,e)}var h$=(e,t,n,r)=>{const o={};for(const l of e){const c=Be(t,l);c&&Zt(o,l,c._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Zm=e=>e instanceof RegExp,Nu=e=>Nn(e)?e:Zm(e)?e.source:Pn(e)?Zm(e.value)?e.value.source:e.value:e,_1=e=>({isOnSubmit:!e||e===Ps.onSubmit,isOnBlur:e===Ps.onBlur,isOnChange:e===Ps.onChange,isOnAll:e===Ps.all,isOnTouch:e===Ps.onTouched});const k1="AsyncFunction";var p$=e=>!!e&&!!e.validate&&!!(Is(e.validate)&&e.validate.constructor.name===k1||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===k1)),g$=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),R1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Vu=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const l=Be(e,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(Vu(d,t))break}else if(Pn(d)&&Vu(d,t))break}}};function M1(e,t,n){const r=Be(e,n);if(r||Ah(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),c=Be(t,l),d=Be(e,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:n}}var x$=(e,t,n,r)=>{n(e);const{name:o,...l}=e;return zr(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!r||Ps.all))},b$=(e,t,n)=>!e||!t||e===t||Bu(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),v$=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,y$=(e,t)=>!Wv(Be(e,t)).length&&Tn(e,t),w$=(e,t,n)=>{const r=Bu(Be(e,n));return Zt(r,"root",t[n]),Zt(e,n,r),e};function D1(e,t,n="validate"){if(Qr(e)||Array.isArray(e)&&e.every(Qr)||so(e)&&!e)return{type:n,message:Qr(e)?e:"",ref:t}}var Ul=e=>Pn(e)&&!Zm(e)?e:{value:e,message:""},A1=async(e,t,n,r,o,l)=>{const{ref:c,refs:d,required:f,maxLength:p,minLength:g,min:x,max:v,pattern:y,validate:S,name:C,valueAsNumber:j,mount:E}=e._f,N=Be(n,C);if(!E||t.has(C))return{};const _=d?d[0]:c,R=P=>{o&&_.reportValidity&&(_.setCustomValidity(so(P)?"":P||""),_.reportValidity())},D={},A=Zv(c),M=yd(c),O=A||M,L=(j||Kv(c))&&Nn(c.value)&&Nn(N)||Km(c)&&c.value===""||N===""||Array.isArray(N)&&!N.length,T=Yv.bind(null,C,r,D),G=(P,$,W,ce=Uo.maxLength,z=Uo.minLength)=>{const q=P?$:W;D[C]={type:P?ce:z,message:q,ref:c,...T(P?ce:z,q)}};if(l?!Array.isArray(N)||!N.length:f&&(!O&&(L||Pr(N))||so(N)&&!N||M&&!__(d).isValid||A&&!R_(d).isValid)){const{value:P,message:$}=Qr(f)?{value:!!f,message:f}:Ul(f);if(P&&(D[C]={type:Uo.required,message:$,ref:_,...T(Uo.required,$)},!r))return R($),D}if(!L&&(!Pr(x)||!Pr(v))){let P,$;const W=Ul(v),ce=Ul(x);if(!Pr(N)&&!isNaN(N)){const z=c.valueAsNumber||N&&+N;Pr(W.value)||(P=z>W.value),Pr(ce.value)||($=z<ce.value)}else{const z=c.valueAsDate||new Date(N),q=ae=>new Date(new Date().toDateString()+" "+ae),Z=c.type=="time",F=c.type=="week";Qr(W.value)&&N&&(P=Z?q(N)>q(W.value):F?N>W.value:z>new Date(W.value)),Qr(ce.value)&&N&&($=Z?q(N)<q(ce.value):F?N<ce.value:z<new Date(ce.value))}if((P||$)&&(G(!!P,W.message,ce.message,Uo.max,Uo.min),!r))return R(D[C].message),D}if((p||g)&&!L&&(Qr(N)||l&&Array.isArray(N))){const P=Ul(p),$=Ul(g),W=!Pr(P.value)&&N.length>+P.value,ce=!Pr($.value)&&N.length<+$.value;if((W||ce)&&(G(W,P.message,$.message),!r))return R(D[C].message),D}if(y&&!L&&Qr(N)){const{value:P,message:$}=Ul(y);if(Zm(P)&&!N.match(P)&&(D[C]={type:Uo.pattern,message:$,ref:c,...T(Uo.pattern,$)},!r))return R($),D}if(S){if(Is(S)){const P=await S(N,n),$=D1(P,_);if($&&(D[C]={...$,...T(Uo.validate,$.message)},!r))return R($.message),D}else if(Pn(S)){let P={};for(const $ in S){if(!zr(P)&&!r)break;const W=D1(await S[$](N,n),_,$);W&&(P={...W,...T($,W.message)},R(W.message),r&&(D[C]=P))}if(!zr(P)&&(D[C]={ref:_,...P},!r))return D}}return R(!0),D};const S$={mode:Ps.onSubmit,reValidateMode:Ps.onChange,shouldFocusError:!0};function C$(e={}){let t={...S$,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Is(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=Pn(t.defaultValues)||Pn(t.values)?Qn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Qn(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...g};const v={array:S1(),state:S1()},y=t.criteriaMode===Ps.all,S=Q=>X=>{clearTimeout(p),p=setTimeout(Q,X)},C=async Q=>{if(!t.disabled&&(g.isValid||x.isValid||Q)){const X=t.resolver?zr((await M()).errors):await L(r,!0);X!==n.isValid&&v.state.next({isValid:X})}},j=(Q,X)=>{!t.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((Q||Array.from(d.mount)).forEach(ue=>{ue&&(X?Zt(n.validatingFields,ue,X):Tn(n.validatingFields,ue))}),v.state.next({validatingFields:n.validatingFields,isValidating:!zr(n.validatingFields)}))},E=(Q,X=[],ue,Re,Ce=!0,ge=!0)=>{if(Re&&ue&&!t.disabled){if(c.action=!0,ge&&Array.isArray(Be(r,Q))){const ke=ue(Be(r,Q),Re.argA,Re.argB);Ce&&Zt(r,Q,ke)}if(ge&&Array.isArray(Be(n.errors,Q))){const ke=ue(Be(n.errors,Q),Re.argA,Re.argB);Ce&&Zt(n.errors,Q,ke),y$(n.errors,Q)}if((g.touchedFields||x.touchedFields)&&ge&&Array.isArray(Be(n.touchedFields,Q))){const ke=ue(Be(n.touchedFields,Q),Re.argA,Re.argB);Ce&&Zt(n.touchedFields,Q,ke)}(g.dirtyFields||x.dirtyFields)&&(n.dirtyFields=Ql(o,l)),v.state.next({name:Q,isDirty:G(Q,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Zt(l,Q,X)},N=(Q,X)=>{Zt(n.errors,Q,X),v.state.next({errors:n.errors})},_=Q=>{n.errors=Q,v.state.next({errors:n.errors,isValid:!1})},R=(Q,X,ue,Re)=>{const Ce=Be(r,Q);if(Ce){const ge=Be(l,Q,Nn(ue)?Be(o,Q):ue);Nn(ge)||Re&&Re.defaultChecked||X?Zt(l,Q,X?ge:N1(Ce._f)):W(Q,ge),c.mount&&C()}},D=(Q,X,ue,Re,Ce)=>{let ge=!1,ke=!1;const ve={name:Q};if(!t.disabled){if(!ue||Re){(g.isDirty||x.isDirty)&&(ke=n.isDirty,n.isDirty=ve.isDirty=G(),ge=ke!==ve.isDirty);const _e=$a(Be(o,Q),X);ke=!!Be(n.dirtyFields,Q),_e?Tn(n.dirtyFields,Q):Zt(n.dirtyFields,Q,!0),ve.dirtyFields=n.dirtyFields,ge=ge||(g.dirtyFields||x.dirtyFields)&&ke!==!_e}if(ue){const _e=Be(n.touchedFields,Q);_e||(Zt(n.touchedFields,Q,ue),ve.touchedFields=n.touchedFields,ge=ge||(g.touchedFields||x.touchedFields)&&_e!==ue)}ge&&Ce&&v.state.next(ve)}return ge?ve:{}},A=(Q,X,ue,Re)=>{const Ce=Be(n.errors,Q),ge=(g.isValid||x.isValid)&&so(X)&&n.isValid!==X;if(t.delayError&&ue?(f=S(()=>N(Q,ue)),f(t.delayError)):(clearTimeout(p),f=null,ue?Zt(n.errors,Q,ue):Tn(n.errors,Q)),(ue?!$a(Ce,ue):Ce)||!zr(Re)||ge){const ke={...Re,...ge&&so(X)?{isValid:X}:{},errors:n.errors,name:Q};n={...n,...ke},v.state.next(ke)}},M=async Q=>{j(Q,!0);const X=await t.resolver(l,t.context,h$(Q||d.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return j(Q),X},O=async Q=>{const{errors:X}=await M(Q);if(Q)for(const ue of Q){const Re=Be(X,ue);Re?Zt(n.errors,ue,Re):Tn(n.errors,ue)}else n.errors=X;return X},L=async(Q,X,ue={valid:!0})=>{for(const Re in Q){const Ce=Q[Re];if(Ce){const{_f:ge,...ke}=Ce;if(ge){const ve=d.array.has(ge.name),_e=Ce._f&&p$(Ce._f);_e&&g.validatingFields&&j([ge.name],!0);const $e=await A1(Ce,d.disabled,l,y,t.shouldUseNativeValidation&&!X,ve);if(_e&&g.validatingFields&&j([ge.name]),$e[ge.name]&&(ue.valid=!1,X))break;!X&&(Be($e,ge.name)?ve?w$(n.errors,$e,ge.name):Zt(n.errors,ge.name,$e[ge.name]):Tn(n.errors,ge.name))}!zr(ke)&&await L(ke,X,ue)}}return ue.valid},T=()=>{for(const Q of d.unMount){const X=Be(r,Q);X&&(X._f.refs?X._f.refs.every(ue=>!Tx(ue)):!Tx(X._f.ref))&&V(Q)}d.unMount=new Set},G=(Q,X)=>!t.disabled&&(Q&&X&&Zt(l,Q,X),!$a(ae(),o)),P=(Q,X,ue)=>c$(Q,d,{...c.mount?l:Nn(X)?o:Qr(Q)?{[Q]:X}:X},ue,X),$=Q=>Wv(Be(c.mount?l:o,Q,t.shouldUnregister?Be(o,Q,[]):[])),W=(Q,X,ue={})=>{const Re=Be(r,Q);let Ce=X;if(Re){const ge=Re._f;ge&&(!ge.disabled&&Zt(l,Q,k_(X,ge)),Ce=Km(ge.ref)&&Pr(X)?"":X,E_(ge.ref)?[...ge.ref.options].forEach(ke=>ke.selected=Ce.includes(ke.value)):ge.refs?yd(ge.ref)?ge.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(Ce)?ke.checked=!!Ce.find(ve=>ve===ke.value):ke.checked=Ce===ke.value||!!Ce)}):ge.refs.forEach(ke=>ke.checked=ke.value===Ce):Kv(ge.ref)?ge.ref.value="":(ge.ref.value=Ce,ge.ref.type||v.state.next({name:Q,values:Qn(l)})))}(ue.shouldDirty||ue.shouldTouch)&&D(Q,Ce,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&F(Q)},ce=(Q,X,ue)=>{for(const Re in X){if(!X.hasOwnProperty(Re))return;const Ce=X[Re],ge=Q+"."+Re,ke=Be(r,ge);(d.array.has(Q)||Pn(Ce)||ke&&!ke._f)&&!Ai(Ce)?ce(ge,Ce,ue):W(ge,Ce,ue)}},z=(Q,X,ue={})=>{const Re=Be(r,Q),Ce=d.array.has(Q),ge=Qn(X);Zt(l,Q,ge),Ce?(v.array.next({name:Q,values:Qn(l)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&ue.shouldDirty&&v.state.next({name:Q,dirtyFields:Ql(o,l),isDirty:G(Q,ge)})):Re&&!Re._f&&!Pr(ge)?ce(Q,ge,ue):W(Q,ge,ue),R1(Q,d)&&v.state.next({...n,name:Q}),v.state.next({name:c.mount?Q:void 0,values:Qn(l)})},q=async Q=>{c.mount=!0;const X=Q.target;let ue=X.name,Re=!0;const Ce=Be(r,ue),ge=_e=>{Re=Number.isNaN(_e)||Ai(_e)&&isNaN(_e.getTime())||$a(_e,Be(l,ue,_e))},ke=_1(t.mode),ve=_1(t.reValidateMode);if(Ce){let _e,$e;const bt=X.type?N1(Ce._f):n$(Q),Et=Q.type===w1.BLUR||Q.type===w1.FOCUS_OUT,Jn=!g$(Ce._f)&&!t.resolver&&!Be(n.errors,ue)&&!Ce._f.deps||v$(Et,Be(n.touchedFields,ue),n.isSubmitted,ve,ke),nn=R1(ue,d,Et);Zt(l,ue,bt),Et?(!X||!X.readOnly)&&(Ce._f.onBlur&&Ce._f.onBlur(Q),f&&f(0)):Ce._f.onChange&&Ce._f.onChange(Q);const Ut=D(ue,bt,Et),Bt=!zr(Ut)||nn;if(!Et&&v.state.next({name:ue,type:Q.type,values:Qn(l)}),Jn)return(g.isValid||x.isValid)&&(t.mode==="onBlur"?Et&&C():Et||C()),Bt&&v.state.next({name:ue,...nn?{}:Ut});if(!Et&&nn&&v.state.next({...n}),t.resolver){const{errors:Vt}=await M([ue]);if(ge(bt),Re){const lr=M1(n.errors,r,ue),br=M1(Vt,r,lr.name||ue);_e=br.error,ue=br.name,$e=zr(Vt)}}else j([ue],!0),_e=(await A1(Ce,d.disabled,l,y,t.shouldUseNativeValidation))[ue],j([ue]),ge(bt),Re&&(_e?$e=!1:(g.isValid||x.isValid)&&($e=await L(r,!0)));Re&&(Ce._f.deps&&(!Array.isArray(Ce._f.deps)||Ce._f.deps.length>0)&&F(Ce._f.deps),A(ue,$e,_e,Ut))}},Z=(Q,X)=>{if(Be(n.errors,X)&&Q.focus)return Q.focus(),1},F=async(Q,X={})=>{let ue,Re;const Ce=Bu(Q);if(t.resolver){const ge=await O(Nn(Q)?Q:Ce);ue=zr(ge),Re=Q?!Ce.some(ke=>Be(ge,ke)):ue}else Q?(Re=(await Promise.all(Ce.map(async ge=>{const ke=Be(r,ge);return await L(ke&&ke._f?{[ge]:ke}:ke)}))).every(Boolean),!(!Re&&!n.isValid)&&C()):Re=ue=await L(r);return v.state.next({...!Qr(Q)||(g.isValid||x.isValid)&&ue!==n.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ue}:{},errors:n.errors}),X.shouldFocus&&!Re&&Vu(r,Z,Q?Ce:d.mount),Re},ae=(Q,X)=>{let ue={...c.mount?l:o};return X&&(ue=j_(X.dirtyFields?n.dirtyFields:n.touchedFields,ue)),Nn(Q)?ue:Qr(Q)?Be(ue,Q):Q.map(Re=>Be(ue,Re))},B=(Q,X)=>({invalid:!!Be((X||n).errors,Q),isDirty:!!Be((X||n).dirtyFields,Q),error:Be((X||n).errors,Q),isValidating:!!Be(n.validatingFields,Q),isTouched:!!Be((X||n).touchedFields,Q)}),U=Q=>{Q&&Bu(Q).forEach(X=>Tn(n.errors,X)),v.state.next({errors:Q?n.errors:{}})},ne=(Q,X,ue)=>{const Re=(Be(r,Q,{_f:{}})._f||{}).ref,Ce=Be(n.errors,Q)||{},{ref:ge,message:ke,type:ve,..._e}=Ce;Zt(n.errors,Q,{..._e,...X,ref:Re}),v.state.next({name:Q,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&Re&&Re.focus&&Re.focus()},K=(Q,X)=>Is(Q)?v.state.subscribe({next:ue=>"values"in ue&&Q(P(void 0,X),ue)}):P(Q,X,!0),H=Q=>v.state.subscribe({next:X=>{b$(Q.name,X.name,Q.exact)&&x$(X,Q.formState||g,ut,Q.reRenderRoot)&&Q.callback({values:{...l},...n,...X,defaultValues:o})}}).unsubscribe,Y=Q=>(c.mount=!0,x={...x,...Q.formState},H({...Q,formState:x})),V=(Q,X={})=>{for(const ue of Q?Bu(Q):d.mount)d.mount.delete(ue),d.array.delete(ue),X.keepValue||(Tn(r,ue),Tn(l,ue)),!X.keepError&&Tn(n.errors,ue),!X.keepDirty&&Tn(n.dirtyFields,ue),!X.keepTouched&&Tn(n.touchedFields,ue),!X.keepIsValidating&&Tn(n.validatingFields,ue),!t.shouldUnregister&&!X.keepDefaultValue&&Tn(o,ue);v.state.next({values:Qn(l)}),v.state.next({...n,...X.keepDirty?{isDirty:G()}:{}}),!X.keepIsValid&&C()},te=({disabled:Q,name:X})=>{(so(Q)&&c.mount||Q||d.disabled.has(X))&&(Q?d.disabled.add(X):d.disabled.delete(X))},se=(Q,X={})=>{let ue=Be(r,Q);const Re=so(X.disabled)||so(t.disabled);return Zt(r,Q,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:Q}},name:Q,mount:!0,...X}}),d.mount.add(Q),ue?te({disabled:so(X.disabled)?X.disabled:t.disabled,name:Q}):R(Q,!0,X.value),{...Re?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:Nu(X.min),max:Nu(X.max),minLength:Nu(X.minLength),maxLength:Nu(X.maxLength),pattern:Nu(X.pattern)}:{},name:Q,onChange:q,onBlur:q,ref:Ce=>{if(Ce){se(Q,X),ue=Be(r,Q);const ge=Nn(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,ke=u$(ge),ve=ue._f.refs||[];if(ke?ve.find(_e=>_e===ge):ge===ue._f.ref)return;Zt(r,Q,{_f:{...ue._f,...ke?{refs:[...ve.filter(Tx),ge,...Array.isArray(Be(o,Q))?[{}]:[]],ref:{type:ge.type,name:Q}}:{ref:ge}}}),R(Q,!1,void 0,ge)}else ue=Be(r,Q,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(s$(d.array,Q)&&c.action)&&d.unMount.add(Q)}}},oe=()=>t.shouldFocusError&&Vu(r,Z,d.mount),fe=Q=>{so(Q)&&(v.state.next({disabled:Q}),Vu(r,(X,ue)=>{const Re=Be(r,ue);Re&&(X.disabled=Re._f.disabled||Q,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Ce=>{Ce.disabled=Re._f.disabled||Q}))},0,!1))},Se=(Q,X)=>async ue=>{let Re;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Ce=Qn(l);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:ke}=await M();n.errors=ge,Ce=Qn(ke)}else await L(r);if(d.disabled.size)for(const ge of d.disabled)Tn(Ce,ge);if(Tn(n.errors,"root"),zr(n.errors)){v.state.next({errors:{}});try{await Q(Ce,ue)}catch(ge){Re=ge}}else X&&await X({...n.errors},ue),oe(),setTimeout(oe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zr(n.errors)&&!Re,submitCount:n.submitCount+1,errors:n.errors}),Re)throw Re},Ae=(Q,X={})=>{Be(r,Q)&&(Nn(X.defaultValue)?z(Q,Qn(Be(o,Q))):(z(Q,X.defaultValue),Zt(o,Q,Qn(X.defaultValue))),X.keepTouched||Tn(n.touchedFields,Q),X.keepDirty||(Tn(n.dirtyFields,Q),n.isDirty=X.defaultValue?G(Q,Qn(Be(o,Q))):G()),X.keepError||(Tn(n.errors,Q),g.isValid&&C()),v.state.next({...n}))},De=(Q,X={})=>{const ue=Q?Qn(Q):o,Re=Qn(ue),Ce=zr(Q),ge=Ce?o:Re;if(X.keepDefaultValues||(o=ue),!X.keepValues){if(X.keepDirtyValues){const ke=new Set([...d.mount,...Object.keys(Ql(o,l))]);for(const ve of Array.from(ke))Be(n.dirtyFields,ve)?Zt(ge,ve,Be(l,ve)):z(ve,Be(ge,ve))}else{if(qv&&Nn(Q))for(const ke of d.mount){const ve=Be(r,ke);if(ve&&ve._f){const _e=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(Km(_e)){const $e=_e.closest("form");if($e){$e.reset();break}}}}if(X.keepFieldsRef)for(const ke of d.mount)z(ke,Be(ge,ke));else r={}}l=t.shouldUnregister?X.keepDefaultValues?Qn(o):{}:Qn(ge),v.array.next({values:{...ge}}),v.state.next({values:{...ge}})}d={mount:X.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!X.keepIsValid||!!X.keepDirtyValues,c.watch=!!t.shouldUnregister,v.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:Ce?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!$a(Q,o)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ce?{}:X.keepDirtyValues?X.keepDefaultValues&&l?Ql(o,l):n.dirtyFields:X.keepDefaultValues&&Q?Ql(o,Q):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},st=(Q,X)=>De(Is(Q)?Q(l):Q,X),pt=(Q,X={})=>{const ue=Be(r,Q),Re=ue&&ue._f;if(Re){const Ce=Re.refs?Re.refs[0]:Re.ref;Ce.focus&&(Ce.focus(),X.shouldSelect&&Is(Ce.select)&&Ce.select())}},ut=Q=>{n={...n,...Q}},Mt={control:{register:se,unregister:V,getFieldState:B,handleSubmit:Se,setError:ne,_subscribe:H,_runSchema:M,_focusError:oe,_getWatch:P,_getDirty:G,_setValid:C,_setFieldArray:E,_setDisabledField:te,_setErrors:_,_getFieldArray:$,_reset:De,_resetDefaultValues:()=>Is(t.defaultValues)&&t.defaultValues().then(Q=>{st(Q,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:fe,_subjects:v,_proxyFormState:g,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(Q){c=Q},get _defaultValues(){return o},get _names(){return d},set _names(Q){d=Q},get _formState(){return n},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:Y,trigger:F,register:se,handleSubmit:Se,watch:K,setValue:z,getValues:ae,reset:st,resetField:Ae,clearErrors:U,unregister:V,setError:ne,setFocus:pt,getFieldState:B};return{...Mt,formControl:Mt}}function M_(e={}){const t=Ee.useRef(void 0),n=Ee.useRef(void 0),[r,o]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Is(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Is(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Is(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=C$(e);t.current={...d,formState:r}}const l=t.current.control;return l._options=e,l$(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Ee.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Ee.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),Ee.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),Ee.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),Ee.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),Ee.useEffect(()=>{e.values&&!$a(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=e.values,o(c=>({...c}))):l._resetDefaultValues()},[l,e.values]),Ee.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=i$(r,l),t.current}const O1=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Be(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Ub=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?O1(r.ref,n,e):r&&r.refs&&r.refs.forEach(o=>O1(o,n,e))}},T1=(e,t)=>{t.shouldUseNativeValidation&&Ub(e,t);const n={};for(const r in e){const o=Be(t.fields,r),l=Object.assign(e[r]||{},{ref:o&&o.ref});if(j$(t.names||Object.keys(e),r)){const c=Object.assign({},Be(n,r));Zt(c,"root",l),Zt(n,r,c)}else Zt(n,r,l)}return n},j$=(e,t)=>{const n=z1(t);return e.some(r=>z1(r).match(`^${n}\\.\\d+`))};function z1(e){return e.replace(/\]|\[/g,"")}function P1(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function E$(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,c=r.path.join(".");if(!n[c])if("unionErrors"in r){var d=r.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(x){return e.push(x)})}),t){var f=n[c].types,p=f&&f[r.code];n[c]=Yv(c,t,n,o,p?[].concat(p,r.message):r.message)}e.shift()}return n}function N$(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,c=r.path.join(".");if(!n[c])if(r.code==="invalid_union"&&r.errors.length>0){var d=r.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if(r.code==="invalid_union"&&r.errors.forEach(function(g){return g.forEach(function(x){return e.push(x)})}),t){var f=n[c].types,p=f&&f[r.code];n[c]=Yv(c,t,n,o,p?[].concat(p,r.message):r.message)}e.shift()}return n}function D_(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,o,l){try{return Promise.resolve(P1(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return l.shouldUseNativeValidation&&Ub({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:T1(E$(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,o,l){try{return Promise.resolve(P1(function(){return Promise.resolve((n.mode==="sync"?FP:UP)(e,r,t)).then(function(c){return l.shouldUseNativeValidation&&Ub({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(d){return d instanceof Vv})(c))return{values:{},errors:T1(N$(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}async function _$(e={}){const{page:t,pageSize:n,search:r,signal:o}=e,l=r?.trim(),c=xd({page:t,perPage:n,sort:e.sort??null,q:l??null}),{data:d}=await Xe.GET("/api/v1/users",{params:{query:c},signal:o});if(!d)throw new Error("Expected user page payload.");return d}function A_(e={}){const{enabled:t=!0,search:n="",pageSize:r}=e,o=n.trim(),l=o.length>=2?o:"",c=_v({queryKey:["users","all",{search:o,pageSize:r}],initialPageParam:1,queryFn:({pageParam:p,signal:g})=>_$(k$({page:typeof p=="number"?p:1,pageSize:r,search:l||void 0,signal:g})),getNextPageParam:p=>p.page<p.pageCount?p.page+1:void 0,enabled:t,staleTime:6e4}),d=h.useCallback(p=>p.id,[]),f=$N(c.data?.pages,d);return{...c,users:f}}function k$(e){const t=!e.page||e.page<1?1:e.page;return{...e,page:t}}const R$=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,M$=vc({name:hr().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:hr().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(R$,"Use lowercase letters, numbers, and dashes."),ownerUserId:hr().optional()});function D$(){return i.jsx(A$,{})}function A$(){const e=sn(),t=bc(),n=vP(),o=h.useMemo(()=>(t.user.permissions??[]).map(O=>O.toLowerCase()),[t.user.permissions]).includes("users.read_all"),l=A_({enabled:o,pageSize:50}),c=h.useMemo(()=>l.users,[l.users]),d=h.useMemo(()=>t.user.id?c.filter(O=>O.id!==t.user.id):c,[c,t.user.id]),{register:f,handleSubmit:p,watch:g,setValue:x,setError:v,clearErrors:y,formState:{errors:S,dirtyFields:C}}=M_({resolver:D_(M$),defaultValues:{name:"",slug:"",ownerUserId:t.user.id??""}}),j=g("name"),E=g("slug");h.useEffect(()=>{if(C.slug)return;const O=O$(j);O!==E&&x("slug",O,{shouldValidate:!!O})},[C.slug,j,x,E]),h.useEffect(()=>{!o&&t.user.id&&x("ownerUserId",t.user.id,{shouldDirty:!1})},[o,t.user.id,x]);const N=n.isPending,_=l.isPending&&l.users.length===0,R=N||_||!o,D=t.user.display_name?`${t.user.display_name} (you)`:`${t.user.email??"Current user"} (you)`,A=f("ownerUserId"),M=p(O=>{if(y("root"),o&&!O.ownerUserId){v("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}n.mutate({name:O.name.trim(),slug:O.slug.trim(),owner_user_id:o&&O.ownerUserId||void 0},{onSuccess(L){e(Lv(L.id))},onError(L){if(L instanceof Pt){const T=L.problem?.detail??L.message,G=Sz(L.problem?.errors);v("root",{type:"server",message:T});const P=G.name?.[0];P&&v("name",{type:"server",message:P});const $=G.slug?.[0];$&&v("slug",{type:"server",message:$});const W=G.owner_user_id?.[0];W&&v("ownerUserId",{type:"server",message:W});return}v("root",{type:"server",message:L instanceof Error?L.message:"Workspace creation failed."})}})});return i.jsx(w_,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Create a workspace"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),i.jsxs("form",{className:"space-y-6 rounded-2xl border border-border bg-card p-6 shadow-soft",onSubmit:M,children:[i.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[i.jsx(Ot,{label:"Workspace name",required:!0,error:S.name?.message,children:i.jsx(En,{id:"workspaceName",placeholder:"Finance Operations",...f("name"),invalid:!!S.name,disabled:N})}),i.jsx(Ot,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:S.slug?.message,children:i.jsx(En,{id:"workspaceSlug",placeholder:"finance-ops",...f("slug"),invalid:!!S.slug,disabled:N})})]}),o?i.jsxs(Ot,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:S.ownerUserId?.message,children:[i.jsxs("select",{id:"workspaceOwner",...A,onChange:O=>{A.onChange(O),y("ownerUserId")},disabled:R,className:"rounded-lg border border-border-strong bg-card px-3 py-2 text-sm text-foreground shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground",children:[i.jsx("option",{value:t.user.id??"",children:D}),d.map(O=>i.jsx("option",{value:O.id,children:O.display_name?`${O.display_name} (${O.email})`:O.email},O.id))]}),l.hasNextPage?i.jsx("div",{className:"pt-2",children:i.jsx(Ge,{type:"button",variant:"ghost",onClick:()=>l.fetchNextPage(),disabled:l.isFetchingNextPage,children:l.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,S.root?i.jsx(Rt,{tone:"danger",children:S.root.message}):null,o&&l.isError?i.jsx(Rt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsx(Ge,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:N,children:"Cancel"}),i.jsx(Ge,{type:"submit",isLoading:N,children:N?"Creating workspace":"Create workspace"})]})]})]})})}function O$(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const O_=h.createContext(void 0);function T$({workspace:e,workspaces:t,children:n}){const r=h.useMemo(()=>{const o=e.permissions;return{workspace:e,workspaces:t,permissions:o,hasPermission(l){const c=l.toLowerCase();return o.includes(l)||o.includes(c)}}},[e,t]);return i.jsx(O_.Provider,{value:r,children:n})}function Ws(){const e=h.useContext(O_);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const z$=[{id:"explorer",label:"Explorer",icon:i.jsx($T,{className:"h-5 w-5"})},{id:"search",label:"Search",icon:i.jsx(bh,{className:"h-5 w-5"})},{id:"scm",label:"Source Control",icon:i.jsx(FT,{className:"h-5 w-5"})},{id:"extensions",label:"Extensions",icon:i.jsx(UT,{className:"h-5 w-5"})}];function P$({activeView:e,onSelectView:t,onOpenSettings:n,appearance:r}){const o={bg:"bg-card",border:"border-border",iconIdle:"text-muted-foreground",iconActive:"text-brand-400",hover:"hover:text-foreground hover:bg-muted focus-visible:text-foreground",indicator:"bg-brand-500"};return i.jsxs("aside",{className:de("flex h-full w-14 flex-col items-center justify-between border-r",o.bg,o.border,o.iconIdle),"aria-label":"Workbench navigation",children:[i.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:z$.map(l=>{const c=e===l.id;return i.jsxs("button",{type:"button",onClick:()=>t(l.id),className:de("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c?o.iconActive:de(o.iconIdle,o.hover)),"aria-label":l.label,"aria-pressed":c,children:[c?i.jsx("span",{className:de("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",o.indicator)}):null,l.icon]},l.id)})}),i.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:i.jsx("button",{type:"button",onClick:n,className:de("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",o.iconIdle,o.hover),"aria-label":"Open settings",children:i.jsx(Dv,{className:"h-5 w-5"})})})]})}const Qv=h.createContext(null);function Xv({value:e,onValueChange:t,children:n}){const r=h.useId(),o=h.useRef([]),l=h.useRef(new Map),c=h.useCallback((x,v)=>{o.current.includes(x)||o.current.push(x),l.current.set(x,v)},[]),d=h.useCallback(x=>{o.current=o.current.filter(v=>v!==x),l.current.delete(x)},[]),f=h.useCallback(x=>{x&&l.current.get(x)?.focus()},[]),p=h.useCallback(()=>o.current.slice(),[]),g=h.useMemo(()=>({value:e,setValue:t,baseId:r,registerValue:c,unregisterValue:d,focusValue:f,getValues:p}),[e,t,r,c,d,f,p]);return i.jsx(Qv.Provider,{value:g,children:n})}function Jv({children:e,...t}){return i.jsx("div",{role:"tablist",...t,children:e})}function Qm({value:e,children:t,className:n,onClick:r,onKeyDown:o,disabled:l,...c}){const d=h.useContext(Qv);if(!d)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:f,unregisterValue:p,focusValue:g,getValues:x}=d,v=d.value===e,y=`${d.baseId}-tab-${e}`,S=`${d.baseId}-panel-${e}`,C=h.useCallback(E=>{f(e,E)},[f,e]);h.useLayoutEffect(()=>()=>p(e),[p,e]);const j=E=>{if(o?.(E),E.defaultPrevented)return;const N=x(),_=N.indexOf(e);if(_===-1||N.length===0)return;let R=_;E.key==="ArrowRight"?(E.preventDefault(),R=(_+1)%N.length):E.key==="ArrowLeft"?(E.preventDefault(),R=(_-1+N.length)%N.length):E.key==="Home"?(E.preventDefault(),R=0):E.key==="End"&&(E.preventDefault(),R=N.length-1);const D=N[R];D&&D!==d.value&&d.setValue(D),g(D)};return i.jsx("button",{...c,ref:C,type:"button",role:"tab",id:y,"aria-selected":v,"aria-controls":S,tabIndex:v?0:-1,className:n,disabled:l,onKeyDown:j,onClick:E=>{r?.(E),!E.defaultPrevented&&!l&&d.setValue(e)},children:t})}function Oi({value:e,children:t,className:n,...r}){const o=h.useContext(Qv);if(!o)throw new Error("TabsContent must be used within a TabsRoot");const l=o.value===e,c=`${o.baseId}-panel-${e}`,d=`${o.baseId}-tab-${e}`;return i.jsx("div",{...r,role:"tabpanel",id:c,"aria-labelledby":d,className:n,hidden:!l,tabIndex:0,children:t})}function Bl(e,t,n){let r=n.initialDeps??[],o,l=!0;function c(){var d,f,p;let g;n.key&&((d=n.debug)!=null&&d.call(n))&&(g=Date.now());const x=e();if(!(x.length!==r.length||x.some((S,C)=>r[C]!==S)))return o;r=x;let y;if(n.key&&((f=n.debug)!=null&&f.call(n))&&(y=Date.now()),o=t(...x),n.key&&((p=n.debug)!=null&&p.call(n))){const S=Math.round((Date.now()-g)*100)/100,C=Math.round((Date.now()-y)*100)/100,j=C/16,E=(N,_)=>{for(N=String(N);N.length<_;)N=" "+N;return N};console.info(`%c ${E(C,5)} /${E(S,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*j,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(l&&n.skipInitialOnChange)&&n.onChange(o),l=!1,o}return c.updateDeps=d=>{r=d},c}function I1(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const I$=(e,t)=>Math.abs(e-t)<1.01,L$=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},L1=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},$$=e=>e,F$=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},U$=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=c=>{const{width:d,height:f}=c;t({width:Math.round(d),height:Math.round(f)})};if(o(L1(n)),!r.ResizeObserver)return()=>{};const l=new r.ResizeObserver(c=>{const d=()=>{const f=c[0];if(f?.borderBoxSize){const p=f.borderBoxSize[0];if(p){o({width:p.inlineSize,height:p.blockSize});return}}o(L1(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()});return l.observe(n,{box:"border-box"}),()=>{l.unobserve(n)}},$1={passive:!0},F1=typeof window>"u"?!0:"onscrollend"in window,B$=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const l=e.options.useScrollendEvent&&F1?()=>{}:L$(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),c=g=>()=>{const{horizontal:x,isRtl:v}=e.options;o=x?n.scrollLeft*(v&&-1||1):n.scrollTop,l(),t(o,g)},d=c(!0),f=c(!1);f(),n.addEventListener("scroll",d,$1);const p=e.options.useScrollendEvent&&F1;return p&&n.addEventListener("scrollend",f,$1),()=>{n.removeEventListener("scroll",d),p&&n.removeEventListener("scrollend",f)}},V$=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},H$=(e,{adjustments:t=0,behavior:n},r)=>{var o,l;const c=e+t;(l=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[r.options.horizontal?"left":"top"]:c,behavior:n})};class q${constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(l=>{const c=()=>{this._measureElement(l.target,l)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var l;return(l=r())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:o=>{var l;return(l=r())==null?void 0:l.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$$,rangeExtractor:F$,onChange:()=>{},measureElement:V$,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Bl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,l=new Map;for(let c=r-1;c>=0;c--){const d=n[c];if(o.has(d.lane))continue;const f=l.get(d.lane);if(f==null||d.end>f.end?l.set(d.lane,d):d.end<f.end&&o.set(d.lane,!0),o.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((c,d)=>c.end===d.end?c.index-d.index:c.end-d.end)[0]:void 0},this.getMeasurementOptions=Bl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,o,l,c,d)=>(this.prevLanes!==void 0&&this.prevLanes!==d&&(this.lanesChangedFlag=!0),this.prevLanes=d,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:l,enabled:c,lanes:d}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Bl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:l,enabled:c,lanes:d},f)=>{if(!c)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const v of this.laneAssignments.keys())v>=n&&this.laneAssignments.delete(v);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const p=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,p),x=new Array(d).fill(void 0);for(let v=0;v<p;v++){const y=g[v];y&&(x[y.lane]=v)}for(let v=p;v<n;v++){const y=l(v),S=this.laneAssignments.get(v);let C,j;if(S!==void 0&&this.options.lanes>1){C=S;const R=x[C],D=R!==void 0?g[R]:void 0;j=D?D.end+this.options.gap:r+o}else{const R=this.options.lanes===1?g[v-1]:this.getFurthestMeasurement(g,v);j=R?R.end+this.options.gap:r+o,C=R?R.lane:v%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(v,C)}const E=f.get(y),N=typeof E=="number"?E:this.options.estimateSize(v),_=j+N;g[v]={index:v,start:j,size:N,end:_,key:y,lane:C},x[C]=v}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Bl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,l)=>this.range=n.length>0&&r>0?W$({measurements:n,outerSize:r,scrollOffset:o,lanes:l}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Bl(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,l,c)=>l===null||c===null?[]:n({startIndex:l,endIndex:c,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),l=this.measurementsCache[o];if(!l)return;const c=l.key,d=this.elementsCache.get(c);d!==n&&(d&&this.observer.unobserve(d),this.observer.observe(n),this.elementsCache.set(c,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const l=this.itemSizeCache.get(o.key)??o.size,c=r-l;c!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,c,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=c,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Bl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let l=0,c=n.length;l<c;l++){const d=n[l],f=r[d];o.push(f)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return I1(r[T_(0,r.length-1,o=>I1(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const l=this.getSize(),c=this.getScrollOffset();r==="auto"&&(r=n>=c+l?"end":"start"),r==="center"?n+=(o-l)/2:r==="end"&&(n-=l);const d=this.getTotalSize()+this.options.scrollMargin-l;return Math.max(Math.min(d,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const l=this.getSize(),c=this.getScrollOffset();if(r==="auto")if(o.end>=c+l-this.options.scrollPaddingEnd)r="end";else if(o.start<=c+this.options.scrollPaddingStart)r="start";else return[c,r];const d=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(d,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let l=0;const c=10,d=p=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,p);if(!g){console.warn("Failed to get offset for index:",n);return}const[x,v]=g;this._scrollToOffset(x,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),S=this.getOffsetForIndex(n,v);if(!S){console.warn("Failed to get offset for index:",n);return}I$(S[0],y)||f(v)})},f=p=>{this.targetWindow&&(l++,l<c?this.targetWindow.requestAnimationFrame(()=>d(p)):console.warn(`Failed to scroll to index ${n} after ${c} attempts.`))};d(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const l=Array(this.options.lanes).fill(null);let c=r.length-1;for(;c>=0&&l.some(d=>d===null);){const d=r[c];l[d.lane]===null&&(l[d.lane]=d.end),c--}o=Math.max(...l.filter(d=>d!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const T_=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,l=n(o);if(l<r)e=o+1;else if(l>r)t=o-1;else return o}return e>0?e-1:0};function W$({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,l=f=>e[f].start;if(e.length<=r)return{startIndex:0,endIndex:o};let c=T_(0,o,l,n),d=c;if(r===1)for(;d<o&&e[d].end<n+t;)d++;else if(r>1){const f=Array(r).fill(0);for(;d<o&&f.some(g=>g<n+t);){const g=e[d];f[g.lane]=g.end,d++}const p=Array(r).fill(n+t);for(;c>=0&&p.some(g=>g>=n);){const g=e[c];p[g.lane]=g.start,c--}c=Math.max(0,c-c%r),d=Math.min(o,d+(r-1-d%r))}return{startIndex:c,endIndex:d}}const U1=typeof document<"u"?h.useLayoutEffect:h.useEffect;function G$(e){const t=h.useReducer(()=>({}),{})[1],n={...e,onChange:(o,l)=>{var c;l?zn.flushSync(t):t(),(c=e.onChange)==null||c.call(e,o,l)}},[r]=h.useState(()=>new q$(n));return r.setOptions(n),U1(()=>r._didMount(),[]),U1(()=>r._willUpdate()),r}function Y$(e){return G$({observeElementRect:U$,observeElementOffset:B$,scrollToFn:H$,...e})}function B1(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function K$(e){const t=e.raw;if(t&&typeof t=="object"){const n=J$(t);if(n)return n}return Q$(e.message)}function z_(e){const t=e.raw;if(!t||typeof t!="object")return null;try{return JSON.stringify(t)}catch{return null}}function Z$(e){try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return null}return null}function Q$(e){if(e.includes(`
`)){const r=e.split(/\r?\n/),[o,...l]=r;return i.jsxs("div",{className:"flex flex-col gap-[2px]",children:[i.jsx("span",{className:"break-words",children:o||" "}),l.length>0?i.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-border pl-3 text-[12px] leading-snug text-muted-foreground",children:l.join(`
`)}):null]})}const t=Z$(e);if(!t)return e;const n=JSON.stringify(t,null,2);return i.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-foreground",children:X$(n)})}function X$(e){const t=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,n=[];let r=0,o,l=0;for(;(o=t.exec(e))!==null;){o.index>r&&n.push(e.slice(r,o.index));const c=o[0],d=o[1]?"text-info-300":o[2]?"text-warning-300":"text-danger-300";n.push(i.jsx("span",{className:d,children:c},`json-${l++}`)),r=t.lastIndex}return r<e.length&&n.push(e.slice(r)),n}function J$(e){const t=typeof e.event=="string"?e.event:"";if(!t)return null;const n=typeof e.level=="string"?e.level.toLowerCase():"",r=typeof e.message=="string"?e.message:"",o=e.data&&typeof e.data=="object"?e.data:{};if(t==="console.line"){const l=typeof o.message=="string"?o.message:r;return i.jsx("span",{className:"break-words",children:l||" "})}if(t==="engine.log"){const l=rF(r);return i.jsx("span",{className:"break-words",children:l.text||" "})}if(t.startsWith("build.")||t.startsWith("run.")){const l=typeof o.status=="string"?o.status:void 0,c=typeof o.reason=="string"?o.reason:void 0,d=typeof o.phase=="string"?o.phase:void 0,f=typeof o.message=="string"?o.message:void 0,p=g=>{if(!g||g<0)return"";if(g<1e3)return`${Math.round(g)} ms`;if(g<6e4)return`${(g/1e3).toFixed(1)} s`;const x=Math.floor(g/6e4),v=Math.round(g%6e4/1e3);return`${x}m ${v}s`};if(t==="build.phase.start")return i.jsx("span",{className:"break-words",children:f||(d?`Build: ${d}`:"Build phase started")});if(t==="build.start")return i.jsx("span",{className:"break-words",children:`Build started${c?` (${c})`:""}`});if(t==="build.queued")return i.jsx("span",{className:"break-words",children:`Build queued${c?` (${c})`:""}`});if(t==="build.complete")return i.jsx("span",{className:"break-words",children:`Build ${l??"completed"}`});if(t==="run.queued"){const g=typeof o.mode=="string"?o.mode:void 0;return i.jsx("span",{className:"break-words",children:`Run queued${g?` (${g})`:""}`})}if(t==="run.start"){const g=typeof o.mode=="string"?o.mode:void 0;return i.jsx("span",{className:"break-words",children:`Run started${g?` (${g})`:""}`})}if(t==="run.complete"){const g=o.execution&&typeof o.execution=="object"?o.execution:{},x=typeof g.duration_ms=="number"?g.duration_ms:void 0,v=x?`  ${p(x)}`:"";return i.jsx("span",{className:"break-words",children:`Run ${l??"completed"}${v}`})}return r.trim()?i.jsx("span",{className:"break-words",children:r}):t.startsWith("build.")?i.jsx("span",{className:"break-words",children:f||d||l||t}):i.jsx("span",{className:"break-words",children:l||t})}if(t==="engine.config.loaded"){const l=zt(o.config_package)??zt(o.config_package_name),c=zt(o.entrypoint),d=Array.isArray(o.fields)?o.fields.length:void 0,f=bs(o.settings),p=zt(f?.log_format),g=typeof f?.log_level=="number"?f.log_level:void 0,x=l?Mi(l):void 0,v=["Config loaded",c?`entry=${c}`:null,typeof d=="number"?`fields=${d}`:null,p?`log=${p}${typeof g=="number"?`(${g})`:""}`:null,x&&x!=="src"?x:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:v.join("  ")})}if(t==="engine.settings.effective"){const l=bs(o.settings);if(!l)return i.jsx("span",{className:"break-words",children:"Settings (effective)"});const c=zt(l.log_format),d=typeof l.log_level=="number"?l.log_level:void 0,f=typeof l.max_empty_rows_run=="number"?l.max_empty_rows_run:void 0,p=typeof l.max_empty_cols_run=="number"?l.max_empty_cols_run:void 0,g=zt(l.unmapped_prefix),x=["Settings",c?`log=${c}${typeof d=="number"?`(${d})`:""}`:null,g?`unmapped=${g}`:null,typeof f=="number"?`maxEmptyRows=${f}`:null,typeof p=="number"?`maxEmptyCols=${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.hook.start"||t==="engine.hook.end"){const l=zt(o.hook_name)??zt(o.hook),c=t.endsWith(".start")?"start":"end";return i.jsx("span",{className:"break-words",children:l?`Hook ${l}  ${c}`:`Hook  ${c}`})}if(t==="engine.run.started"){const l=zt(o.input_file),c=zt(o.config_package),d=["Run started",l?Mi(l):null,c?`config=${Mi(c)}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.run.planned"){const l=zt(o.output_file),c=zt(o.logs_file),d=["Run planned",l?`output=${Mi(l)}`:null,c?`logs=${Mi(c)}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.run.completed"){const l=bs(o.execution)??{},c=bs(o.evaluation)??{},d=bs(o.counts)??{},f=zt(l.status),p=zt(c.outcome),g=typeof l.duration_ms=="number"?l.duration_ms:void 0,x=typeof d.tables=="number"?d.tables:void 0,v=["Run completed",f||null,p?`outcome=${p}`:null,typeof x=="number"?`tables=${x}`:null,typeof g=="number"?`${Math.round(g)}ms`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:v.join("  ")})}if(t==="engine.workbook.started"){const l=typeof o.sheet_count=="number"?o.sheet_count:void 0;return i.jsx("span",{className:"break-words",children:`Workbook start${typeof l=="number"?`  sheets=${l}`:""}`})}if(t==="engine.sheet.started"){const l=zt(o.sheet_name),c=typeof o.sheet_index=="number"?o.sheet_index+1:void 0,d=["Sheet start",l||null,typeof c=="number"?`#${c}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.sheet.tables_detected"){const l=zt(o.sheet_name),c=typeof o.table_count=="number"?o.table_count:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=[l||"Sheet",typeof c=="number"?`tables=${c}`:null,typeof d=="number"?`rows=${d}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:f.join("  ")})}if(t==="engine.table.detected"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.column_count=="number"?o.column_count:void 0,p=[l||null,typeof c=="number"?`Table ${c}`:"Table","detected",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`cols=${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:p.join("  ")})}if(t==="engine.table.extracted"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.col_count=="number"?o.col_count:void 0,p=[l||null,typeof c=="number"?`Table ${c}`:"Table","extracted",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`cols=${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:p.join("  ")})}if(t==="engine.table.mapped"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.detected_fields=="number"?o.detected_fields:void 0,f=typeof o.expected_fields=="number"?o.expected_fields:void 0,p=typeof o.not_detected_fields=="number"?o.not_detected_fields:void 0,g=[l||null,typeof c=="number"?`Table ${c}`:"Table","mapped",typeof d=="number"&&typeof f=="number"?`detected=${d}/${f}`:null,typeof p=="number"?`not_detected=${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.table.mapping_patched"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=[l||null,typeof c=="number"?`Table ${c}`:"Table","mapping patched"].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.table.normalized"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.issue_count=="number"?o.issue_count:void 0,p=bs(o.issues_by_severity),g=p?tF(p,2):null,x=[l||null,typeof c=="number"?`Table ${c}`:"Table","normalized",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`issues=${f}`:null,g||null].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.table.written"){const l=zt(o.sheet_name),c=typeof o.table_index=="number"?o.table_index:void 0,d=zt(o.output_range),f=nF(r),p=[l||null,typeof c=="number"?`Table ${c+1}`:null,"written",d||null,f?`mapped=${f.mapped} unmapped=${f.unmapped}`:null].filter(Boolean).join("  ");return i.jsx("span",{className:"break-words",children:p||"Table written"})}if(t==="engine.validation.result"){const l=typeof o.validator=="string"?o.validator:void 0,c=typeof o.field=="string"?o.field:void 0,d=typeof o.issues_found=="number"?o.issues_found:void 0,f=typeof o.column_index=="number"?o.column_index:void 0,p=Array.isArray(o.results_sample)?o.results_sample:[],g=typeof d=="number"&&d>0&&p.length>0?`sample=${V1(JSON.stringify(p[0]),80)}`:null,x=["Validate",c??null,typeof f=="number"?`Col ${um(f)}`:null,l?`via ${l}`:null,typeof d=="number"?`issues=${d}`:null,g].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.validation.summary"){const l=typeof o.issues_total=="number"?o.issues_total:void 0;return i.jsx("span",{className:"break-words",children:`Validation summary${typeof l=="number"?`  issues=${l}`:""}`})}if(t==="engine.transform.result"){const l=typeof o.transform=="string"?o.transform:void 0,c=typeof o.field=="string"?o.field:void 0,d=typeof o.input_len=="number"?o.input_len:void 0,f=typeof o.output_len=="number"?o.output_len:void 0,p=typeof o.row_count=="number"?o.row_count:void 0,g=[l?`Transform ${l}`:"Transform",c??null,typeof p=="number"?`rows=${p}`:null,typeof d=="number"&&typeof f=="number"?`${d}${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.transform.derived_merge"){const l=zt(o.field),c=zt(o.mode),d=["Derived merge",l??null,c?`mode=${c}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.column_detector.candidate"){const l=typeof o.column_index=="number"?o.column_index:void 0,c=typeof o.header=="string"?o.header:void 0,d=typeof o.best_field=="string"?o.best_field:void 0,f=typeof o.best_score=="number"?o.best_score:void 0,p=bs(o.scores),g=p?_u(p,3):null,x=bs(o.contributions),v=x?_u(x,2):null,y=[typeof l=="number"?`Col ${um(l)}`:null,c?`"${V1(c,32)}"`:null,d?`suggested=${d}`:null,typeof f=="number"?`(${f.toFixed(3)})`:null,g?`why: ${g}`:null,v?`signals: ${v}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:y.join("  ")})}if(t==="engine.column_detector.summary"){const l=Array.isArray(o.mapped)?o.mapped:[],c=typeof o.total_columns=="number"?o.total_columns:void 0,d=Array.isArray(o.unmapped_indices)?o.unmapped_indices.length:void 0,f=["Columns",typeof c=="number"?`total=${c}`:null,`mapped=${l.length}`,typeof d=="number"?`unmapped=${d}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:f.join("  ")})}if(t==="engine.row_detector.summary"){const l=zt(o.sheet_name),c=typeof o.header_row_index=="number"?o.header_row_index+1:void 0,d=typeof o.header_score=="number"?o.header_score:void 0,f=typeof o.data_start_index=="number"?o.data_start_index+1:void 0,p=typeof o.data_end_index=="number"?o.data_end_index+1:void 0,g=[l?`${l}`:"Rows",typeof c=="number"?`headerRow=${c}`:null,typeof d=="number"?`score=${d.toFixed(3)}`:null,typeof f=="number"&&typeof p=="number"?`dataRows=${f}..${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.detector.column_result"||t==="engine.detector.row_result"){const l=typeof o.sheet_name=="string"?o.sheet_name:void 0,c=typeof o.column_index=="number"?o.column_index:void 0,d=typeof o.row_index=="number"?o.row_index:void 0,f=o.detector&&typeof o.detector=="object"?o.detector:{},p=typeof f.name=="string"?f.name:void 0,g=typeof f.duration_ms=="number"?f.duration_ms:void 0,x=f.scores&&typeof f.scores=="object"?f.scores:null,v=x?_u(x,2):null;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Col ${um(c)}`:null,typeof d=="number"?`Row ${d+1}`:null,p?`ran ${p}`:"ran detector",typeof g=="number"?eF(g):null,v?`scores: ${v}`:null].filter(Boolean).join("  ")})}if(t==="engine.row_classification"){const l=zt(o.sheet_name),c=typeof o.row_index=="number"?o.row_index+1:void 0,d=bs(o.scores),f=d?_u(d,2):null,p=bs(o.classification),g=zt(p?.row_kind),x=typeof p?.score=="number"?p.score:void 0,v=Array.isArray(p?.considered_row_kinds)?p?.considered_row_kinds.length:void 0;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Row ${c}`:"Row",g?`label=${g}`:null,typeof x=="number"?`(${x.toFixed(3)})`:null,typeof v=="number"?`considered=${v}`:null,f?`why: ${f}`:null].filter(Boolean).join("  ")})}if(t==="engine.column_classification"){const l=zt(o.sheet_name),c=typeof o.column_index=="number"?o.column_index:void 0,d=bs(o.scores),f=d?_u(d,2):null,p=bs(o.classification),g=zt(p?.field),x=typeof p?.score=="number"?p.score:void 0,v=Array.isArray(p?.considered_fields)?p?.considered_fields.length:void 0;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Col ${um(c)}`:"Col",g?`label=${g}`:null,typeof x=="number"?`(${x.toFixed(3)})`:null,typeof v=="number"?`considered=${v}`:null,f?`why: ${f}`:null].filter(Boolean).join("  ")})}return r&&r!==t?i.jsx("span",{className:"break-words",children:r}):Object.keys(o).length?n==="debug"&&t.startsWith("engine.")?i.jsx("span",{className:"break-words",children:t}):i.jsx("span",{className:"break-words",children:t}):null}function zt(e){return typeof e=="string"&&e.trim().length?e:null}function bs(e){return!e||typeof e!="object"?null:e}function Mi(e){const t=e.trim();if(!t)return"";const n=t.split(/[\\/]/).filter(Boolean);return n[n.length-1]??t}function V1(e,t){return e.length<=t?e:e.slice(0,Math.max(0,t-1))+""}function um(e){let t=Math.floor(e);if(!Number.isFinite(t)||t<0)return String(e);let n="";for(;t>=0;)n=String.fromCharCode(t%26+65)+n,t=Math.floor(t/26)-1;return n}function eF(e){return!Number.isFinite(e)||e<0?`${e}ms`:e<1?`${e.toFixed(3)}ms`:e<10?`${e.toFixed(2)}ms`:e<100?`${e.toFixed(1)}ms`:e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}function _u(e,t){const n=[];for(const[r,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&n.push([r,o]);return n.length?(n.sort((r,o)=>o[1]-r[1]),n.slice(0,Math.max(1,t)).map(([r,o])=>`${r}=${o.toFixed(3)}`).join(" ")):null}function tF(e,t){const n=[];for(const[r,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&n.push([r,o]);return n.length?(n.sort((r,o)=>o[1]-r[1]),n.slice(0,Math.max(1,t)).map(([r,o])=>`${r}=${Math.round(o)}`).join(" ")):null}function nF(e){const t=e.match(/Rendered table with\s+(\d+)\s+\w+\s+columns?\s+and\s+(\d+)\s+unmapped/i);if(!t)return null;const n=Number(t[1]),r=Number(t[2]);return!Number.isFinite(n)||!Number.isFinite(r)?null:{mapped:n,unmapped:r}}function rF(e){const t=(e||"").trim();if(!t)return{text:""};const n="Config hook:",r=t.startsWith(n)?t.slice(n.length).trim():t,o=r.match(/^workbook start\s*\((.+)\)\s*$/i);if(o){const g=o[1];return{text:`Workbook start  ${Mi(g)}`,title:g}}const l=r.match(/^workbook before save\s*\((.+)\)\s*$/i);if(l){const g=l[1];return{text:`Workbook save  ${Mi(g)}`,title:g}}const c=r.match(/^sheet start\s*\((.+)\)\s*$/i);if(c)return{text:`Sheet start  ${c[1]}`};const d=r.match(/^table detected\s*\((.+)\)\s*$/i);if(d)return{text:`Table detected  ${d[1].replace(/\s*,\s*/g,"  ")}`};const f=r.match(/^table mapped\s*\((.+)\)\s*$/i);if(f){const g=f[1],x=g.match(/detected_fields=\[(.*)\]/i);return x?{text:`Table mapped  detected=${x[1].split(",").map(y=>y.trim()).filter(Boolean).length}`,title:g}:{text:`Table mapped  ${g}`}}const p=r.match(/^table written\s*\((.+)\)\s*$/i);return p?{text:`Table written  ${p[1].replace(/\s*,\s*/g,"  ")}`}:{text:t}}const H1="ade.ui.workbench.console.levelFilter.v1";function sF({console:e,latestRun:t,onClearConsole:n,runStatus:r}){const[o,l]=h.useState(()=>{const L={origin:"all",level:"info"};if(typeof window>"u")return L;try{const T=window.localStorage.getItem(H1);if(T==="all"||T==="debug"||T==="info"||T==="warning"||T==="error"||T==="success")return{...L,level:T}}catch{}return L}),[c,d]=h.useState(!0),[f,p]=h.useState(!1),[g,x]=h.useState("parsed"),v=h.useRef(null),y=h.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),S=y.length,C=h.useMemo(()=>{const L=B1(o.level),T=[];for(let G=0;G<y.length;G+=1){const P=e.getLine(G);if(!P)continue;const $=o.origin==="all"||(P.origin??"run")===o.origin,W=B1(P.level),ce=o.level==="all"||W>=L;$&&ce&&T.push(G)}return T},[e,y,o]),j=C.length>0,E=S>0,N=r&&r!=="idle"?r:null,_=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",R=Y$({count:C.length,getScrollElement:()=>v.current,estimateSize:()=>22,overscan:16});h.useEffect(()=>{c&&C.length!==0&&R.scrollToIndex(C.length-1,{align:"end"})},[c,C.length,y,R]),h.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(H1,o.level)}catch{}},[o.level]);const D=L=>{const T=L.currentTarget,P=T.scrollHeight-T.scrollTop-T.clientHeight<16;!P&&c?d(!1):P&&!c&&d(!0)},A=()=>{d(!0),R.scrollToIndex(C.length-1,{align:"end"})},M=h.useCallback(async L=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(L),!0}catch{}if(typeof document>"u")return!1;try{const T=document.createElement("textarea");T.value=L,T.setAttribute("readonly","true"),T.style.position="fixed",T.style.left="-9999px",document.body.appendChild(T),T.select();const G=document.execCommand("copy");return document.body.removeChild(T),G}catch{return!1}},[]),O=async()=>{if(!j)return;const L=[];for(const G of C){const P=e.getLine(G);P&&L.push(fF(P,g))}const T=await M(L.join(`
`));p(T),T&&window.setTimeout(()=>p(!1),1500)};return i.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-terminal-border bg-terminal font-mono text-[13px] leading-relaxed text-terminal-foreground shadow-[0_8px_24px_rgb(var(--sys-color-shadow)/0.25)]",children:[i.jsxs("div",{className:"flex flex-col border-b border-terminal-border bg-gradient-to-r from-terminal/95 via-terminal/80 to-terminal/95",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-terminal-muted",children:[i.jsx("span",{className:"font-semibold tracking-[0.3em] text-terminal-foreground",children:"ADE"}),i.jsx("span",{className:"text-terminal-muted",children:"Terminal"}),N?i.jsx("span",{className:"rounded border border-terminal-border bg-terminal/70 px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-terminal-foreground/80",children:N}):null]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-terminal-muted",children:[i.jsxs("label",{className:"flex items-center gap-1 text-terminal-muted",title:"Filter logs by scope",children:["Origin",i.jsxs("select",{value:o.origin,onChange:L=>l(T=>({...T,origin:L.target.value})),className:"rounded border border-terminal-border bg-terminal/80 px-2 py-1 text-[11px] text-terminal-foreground shadow-sm focus:border-ring focus:outline-none",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"run",children:"Run"}),i.jsx("option",{value:"build",children:"Build"})]})]}),i.jsxs("label",{className:"flex items-center gap-1 text-terminal-muted",title:"Filter by severity",children:["Level",i.jsxs("select",{value:o.level,onChange:L=>l(T=>({...T,level:L.target.value})),className:"rounded border border-terminal-border bg-terminal/80 px-2 py-1 text-[11px] text-terminal-foreground shadow-sm focus:border-ring focus:outline-none",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"debug",children:"Debug"}),i.jsx("option",{value:"info",children:"Info"}),i.jsx("option",{value:"warning",children:"Warning"}),i.jsx("option",{value:"error",children:"Error"}),i.jsx("option",{value:"success",children:"Success"})]})]}),i.jsx("button",{type:"button",onClick:()=>c?d(!1):A(),className:de("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",c?"border border-success-500/60 bg-success-500/10 text-success-500":"border border-terminal-border bg-transparent text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),title:"Auto-scroll to newest logs",children:c?"Following":"Follow"}),i.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-terminal-muted",children:"View"}),i.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",role:"radio","aria-checked":g==="parsed",onClick:()=>x("parsed"),className:de("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-ring",g==="parsed"?"border-success-500/70 bg-success-500/10 text-success-500":"border-terminal-border text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),children:"Parsed"}),i.jsx("button",{type:"button",role:"radio","aria-checked":g==="ndjson",onClick:()=>x("ndjson"),className:de("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-ring",g==="ndjson"?"border-success-500/70 bg-success-500/10 text-success-500":"border-terminal-border text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),children:"NDJSON"})]})]}),i.jsx("button",{type:"button",onClick:O,className:de("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",f?"border border-success-500/60 bg-success-500/10 text-success-500":"border border-terminal-border bg-transparent text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),disabled:!j,title:_?"Copy visible console output":"Copy may be blocked by browser permissions",children:f?"Copied":"Copy"}),i.jsx("button",{type:"button",onClick:()=>n?.(),className:"rounded border border-terminal-border bg-terminal/70 px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-terminal-muted transition hover:border-terminal-border/80 hover:text-terminal-foreground",title:"Clear console output",children:"Clear"})]})]}),t?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-terminal-border bg-terminal/80 px-4 py-1.5 text-[11px] text-terminal-muted",children:[i.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[i.jsx(oF,{status:t.status}),i.jsxs("span",{className:"truncate",title:t.runId,children:["Run ",t.runId]}),i.jsxs("span",{className:"truncate text-terminal-muted",children:[t.documentName??"Document not recorded",W1(t.sheetNames)?`  ${W1(t.sheetNames)}`:""]}),t.durationMs!=null?i.jsxs("span",{className:"text-terminal-muted",children:[" ",mF(t.durationMs)]}):null]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-terminal-muted",children:"Downloads"}),i.jsx(zx,{href:t.outputUrl,label:t.outputFilename?`Output (${t.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),i.jsx(zx,{href:t.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),i.jsx(zx,{href:t.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),i.jsx("div",{ref:v,onScroll:D,className:"flex-1 overflow-auto bg-terminal",children:j?i.jsx("div",{style:{height:R.getTotalSize(),position:"relative"},children:R.getVirtualItems().map(L=>{const T=C[L.index],G=typeof T=="number"?e.getLine(T):void 0;if(!G)return null;const P=G.id??`${G.timestamp??"tbd"}-${G.origin??"run"}-${T}`,$=g==="ndjson"?i.jsx("span",{className:"whitespace-pre-wrap break-words",children:z_(G)??G.message}):K$(G);return i.jsx("div",{"data-index":L.index,ref:R.measureElement,className:"group flex items-start gap-3 border-b border-terminal-border/60 px-3 py-[2px] transition hover:bg-terminal/70 last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${L.start}px)`},children:i.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[cF(G.timestamp),i.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-terminal-muted/70",children:P_(G.origin)}),i.jsx("span",{className:de("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",dF(G.level)),children:uF(G.level)}),i.jsx("div",{className:de("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",aF(G.level)),children:$})]})},P)})}):E?i.jsx(q1,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):i.jsx(q1,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})})]})}function q1({title:e,description:t}){return i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-terminal-muted",children:[i.jsx("p",{className:"tracking-wide text-terminal-muted",children:e}),i.jsx("p",{className:"text-[12px] leading-relaxed text-terminal-muted",children:t})]})}function oF({status:e}){const t=lF(e),n=e==="succeeded"?"bg-success-500":e==="running"||e==="queued"?"bg-warning-400":t?"bg-terminal-muted":"bg-danger-500";return i.jsx("span",{className:de("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}function aF(e){switch(e){case"warning":return"text-warning-500";case"error":return"text-danger-500";case"success":return"text-success-500";default:return"text-terminal-foreground"}}function iF(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function lF(e){return e==="cancelled"}function P_(e){return e==="build"?"[build]":"[run]"}function cF(e){const t=I_(e);return t?i.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-terminal-muted/80",children:["[",t,"]"]}):i.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-terminal-muted/70","aria-hidden":!0,children:""})}function uF(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function dF(e){switch(e){case"warning":return"text-warning-500";case"error":return"text-danger-500";case"success":return"text-success-500";default:return"text-terminal-muted/70"}}function I_(e){if(!e)return"";const t=new Date(e);if(!Number.isNaN(t.getTime()))return t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const n=e.trim();return n.length>0?n:""}function fF(e,t){const n=I_(e.timestamp),r=P_(e.origin),o=iF(e.level).toLowerCase(),l=t==="ndjson"?z_(e)??e.message??"":e.message??"";return`${n?`[${n}] `:""}${r} ${o} ${l}`.trim()}function W1(e){return e?e.length===0?"All worksheets":e.join(", "):null}function mF(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const t=Math.floor(e/6e4),n=Math.round(e%6e4/1e3);return`${t}m ${n}s`}function zx({href:e,label:t,disabledLabel:n,disabledReason:r}){const o=typeof e=="string"&&e.trim().length>0,l="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",c="border-terminal-border bg-terminal/70 text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground",d="border-terminal-border bg-terminal/60 text-terminal-muted/60 cursor-not-allowed";return o?i.jsxs("a",{className:de(l,c),href:e,title:t,children:[i.jsx(ST,{className:"h-3.5 w-3.5 text-terminal-muted"}),i.jsx("span",{className:"truncate",children:t})]}):i.jsx("span",{className:de(l,d),title:r,children:n})}function hF({validation:e}){const t=gF(e),n=xF(e);return i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:t}),e.lastRunAt?i.jsxs("span",{children:["Last run ",bF(e.lastRunAt)]}):null]}),e.messages.length>0?i.jsx("ul",{className:"space-y-1.5",children:e.messages.map((r,o)=>i.jsxs("li",{className:pF(r.level),children:[r.path?i.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:r.path}):null,i.jsx("span",{className:"text-[13px]",children:r.message})]},`${r.level}-${r.path??o}-${o}`))}):i.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:n})]})}function pF(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-warning-600";default:return"text-muted-foreground"}}function gF(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const t=e.messages.length;return`Validation completed with ${t} ${t===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function xF(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function bF(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function vF({height:e,console:t,validation:n,activePane:r,onPaneChange:o,latestRun:l,onClearConsole:c,runStatus:d,onToggleCollapse:f,appearance:p="light"}){const g=n.messages.length>0,x=p==="dark"?{surface:"border-border bg-card text-foreground",header:"border-border bg-card",hideButton:"border-border-strong bg-popover text-foreground hover:border-border-strong hover:bg-muted"}:{surface:"border-border bg-muted text-foreground",header:"border-border bg-muted",hideButton:"border-border-strong bg-card text-foreground hover:border-border-strong hover:bg-muted"};return i.jsx("section",{className:de("flex min-h-0 flex-col overflow-hidden border-t",x.surface),style:{height:e},children:i.jsxs(Xv,{value:r,onValueChange:v=>o(v),children:[i.jsxs("div",{className:de("flex flex-none items-center justify-between border-b px-3 py-1.5",x.header),onDoubleClick:f,title:f?"Double-click to hide console":void 0,children:[i.jsxs(Jv,{className:"flex items-center gap-3 text-[11px] font-medium",children:[i.jsx(Qm,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),i.jsxs(Qm,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",g?i.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-danger-600 px-1 text-[10px] font-semibold text-on-danger",children:n.messages.length}):null]})]}),f?i.jsx("button",{type:"button",onClick:f,className:de("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",x.hideButton),title:"Hide console",children:"Hide"}):null]}),i.jsx(Oi,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:i.jsx(sF,{console:t,latestRun:l,onClearConsole:c,runStatus:d})}),i.jsx(Oi,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:i.jsx(hF,{validation:n})})]})})}function yF({containerRef:e,tabs:t,activeTabId:n,onCloseTab:r,onSelectRecentTab:o,onSelectTab:l}){return h.useEffect(()=>{if(!t.length)return;const c=f=>{const p=e.current;if(!p)return!1;const g=f.target;if(g instanceof Node&&p.contains(g))return!0;const x=document.activeElement;return!!(x&&p.contains(x))},d=f=>{if(!(f.ctrlKey||f.metaKey)||!c(f))return;if(f.key.toLowerCase()==="w"){if(!n)return;f.preventDefault(),r(n);return}if(f.key==="Tab"){if(t.length<2)return;f.preventDefault(),o(f.shiftKey?"backward":"forward");return}const p=g=>{if(t.length<2)return;const x=t.findIndex(C=>C.id===n),y=((x>=0?x:0)+g+t.length)%t.length,S=t[y];S&&l(S.id)};if(f.key==="PageUp"){f.preventDefault(),p(-1);return}f.key==="PageDown"&&(f.preventDefault(),p(1))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,n,r,o,l,e]),null}const wF=h.lazy(()=>dN(()=>import("./MonacoCodeEditor-BmQ-LKCA.js"),[])),SF=h.forwardRef(function(t,n){const{className:r,...o}=t;return i.jsx(h.Suspense,{fallback:i.jsx("div",{className:de("relative h-full w-full",r),children:i.jsx("div",{className:"flex h-full items-center justify-center text-xs text-muted-foreground",children:"Loading editor"})}),children:i.jsx(wF,{...o,ref:n,className:r})})});function CF({tabs:e,activeTabId:t,editorTheme:n,onContentChange:r,onSaveTab:o,canSaveFiles:l=!1,readOnly:c=!1,onRetryTabLoad:d,onSelectTab:f,isTabDragging:p=!1}){return h.useMemo(()=>e.find(x=>x.id===t)??null,[e,t])?i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(x=>i.jsx(Oi,{value:x.id,className:"flex min-h-0 min-w-0 flex-1",children:x.status==="loading"?i.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:["Loading ",x.name,""]}):x.status==="error"?i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:x.error??"Unable to load the file."}),i.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-on-brand hover:bg-brand-500",onClick:()=>d?d(x.id):f(x.id),children:"Retry loading"})]}):i.jsx("div",{className:de("flex min-h-0 min-w-0 flex-1",p&&"pointer-events-none select-none"),children:i.jsx(SF,{value:x.content,language:x.language??"plaintext",path:x.id,theme:n,readOnly:c,onChange:v=>r(x.id,v??""),onSaveShortcut:()=>{l&&o?.(x.id)}})})},x.id))}):i.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:"Select a file from the explorer to begin editing."})}function jF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ey(e){return"nodeType"in e}function jr(e){var t,n;return e?yc(e)?e:ey(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ty(e){const{Document:t}=jr(e);return e instanceof t}function wd(e){return yc(e)?!1:e instanceof jr(e).HTMLElement}function L_(e){return e instanceof jr(e).SVGElement}function wc(e){return e?yc(e)?e.document:ey(e)?ty(e)?e:wd(e)||L_(e)?e.ownerDocument:document:document:document}const Bs=Oh?h.useLayoutEffect:h.useEffect;function Th(e){const t=h.useRef(e);return Bs(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function EF(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ju(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Bs(()=>{n.current!==e&&(n.current=e)},t),n}function Sd(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Xm(e){const t=Th(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Jm(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Px={};function Cd(e,t){return h.useMemo(()=>{if(t)return t;const n=Px[e]==null?0:Px[e]+1;return Px[e]=n,e+"-"+n},[e,t])}function $_(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((l,c)=>{const d=Object.entries(c);for(const[f,p]of d){const g=l[f];g!=null&&(l[f]=g+e*p)}return l},{...t})}}const sc=$_(1),ed=$_(-1);function NF(e){return"clientX"in e&&"clientY"in e}function zh(e){if(!e)return!1;const{KeyboardEvent:t}=jr(e.target);return t&&e instanceof t}function _F(e){if(!e)return!1;const{TouchEvent:t}=jr(e.target);return t&&e instanceof t}function eh(e){if(_F(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return NF(e)?{x:e.clientX,y:e.clientY}:null}const Yo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Yo.Translate.toString(e),Yo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),G1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kF(e){return e.matches(G1)?e:e.querySelector(G1)}const RF={display:"none"};function MF(e){let{id:t,value:n}=e;return Ee.createElement("div",{id:t,style:RF},n)}function DF(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ee.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function AF(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const F_=h.createContext(null);function OF(e){const t=h.useContext(F_);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function TF(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:l}=r;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,l)})},[e]),t]}const zF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PF={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function IF(e){let{announcements:t=PF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=zF}=e;const{announce:l,announcement:c}=AF(),d=Cd("DndLiveRegion"),[f,p]=h.useState(!1);if(h.useEffect(()=>{p(!0)},[]),OF(h.useMemo(()=>({onDragStart(x){let{active:v}=x;l(t.onDragStart({active:v}))},onDragMove(x){let{active:v,over:y}=x;t.onDragMove&&l(t.onDragMove({active:v,over:y}))},onDragOver(x){let{active:v,over:y}=x;l(t.onDragOver({active:v,over:y}))},onDragEnd(x){let{active:v,over:y}=x;l(t.onDragEnd({active:v,over:y}))},onDragCancel(x){let{active:v,over:y}=x;l(t.onDragCancel({active:v,over:y}))}}),[l,t])),!f)return null;const g=Ee.createElement(Ee.Fragment,null,Ee.createElement(MF,{id:r,value:o.draggable}),Ee.createElement(DF,{id:d,announcement:c}));return n?zn.createPortal(g,n):g}var Hn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Hn||(Hn={}));function th(){}function km(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function U_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Vs=Object.freeze({x:0,y:0});function B_(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LF(e,t){const n=eh(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function V_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function $F(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Y1(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function H_(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function K1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Bb=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=K1(t,t.left,t.top),l=[];for(const c of r){const{id:d}=c,f=n.get(d);if(f){const p=B_(K1(f),o);l.push({id:d,data:{droppableContainer:c,value:p}})}}return l.sort(V_)},q_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Y1(t),l=[];for(const c of r){const{id:d}=c,f=n.get(d);if(f){const p=Y1(f),g=o.reduce((v,y,S)=>v+B_(p[S],y),0),x=Number((g/4).toFixed(4));l.push({id:d,data:{droppableContainer:c,value:x}})}}return l.sort(V_)};function FF(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),c=o-r,d=l-n;if(r<o&&n<l){const f=t.width*t.height,p=e.width*e.height,g=c*d,x=g/(f+p-g);return Number(x.toFixed(4))}return 0}const UF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const f=FF(d,t);f>0&&o.push({id:c,data:{droppableContainer:l,value:f}})}}return o.sort($F)};function BF(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function W_(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vs}function VF(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const HF=VF(1);function G_(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function qF(e,t,n){const r=G_(t);if(!r)return e;const{scaleX:o,scaleY:l,x:c,y:d}=r,f=e.left-c-(1-o)*parseFloat(n),p=e.top-d-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=o?e.width/o:e.width,x=l?e.height/l:e.height;return{width:g,height:x,top:p,right:f+g,bottom:p+x,left:f}}const WF={ignoreTransform:!1};function Sc(e,t){t===void 0&&(t=WF);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:g}=jr(e).getComputedStyle(e);p&&(n=qF(n,p,g))}const{top:r,left:o,width:l,height:c,bottom:d,right:f}=n;return{top:r,left:o,width:l,height:c,bottom:d,right:f}}function Z1(e){return Sc(e,{ignoreTransform:!0})}function GF(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function YF(e,t){return t===void 0&&(t=jr(e).getComputedStyle(e)),t.position==="fixed"}function KF(e,t){t===void 0&&(t=jr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=t[o];return typeof l=="string"?n.test(l):!1})}function Ph(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(ty(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!wd(o)||L_(o)||n.includes(o))return n;const l=jr(e).getComputedStyle(o);return o!==e&&KF(o,l)&&n.push(o),YF(o,l)?n:r(o.parentNode)}return e?r(e):n}function Y_(e){const[t]=Ph(e,1);return t??null}function Ix(e){return!Oh||!e?null:yc(e)?e:ey(e)?ty(e)||e===wc(e).scrollingElement?window:wd(e)?e:null:null}function K_(e){return yc(e)?e.scrollX:e.scrollLeft}function Z_(e){return yc(e)?e.scrollY:e.scrollTop}function Vb(e){return{x:K_(e),y:Z_(e)}}var Xn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xn||(Xn={}));function Q_(e){return!Oh||!e?!1:e===document.scrollingElement}function X_(e){const t={x:0,y:0},n=Q_(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:o,isLeft:l,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const ZF={x:.2,y:.2};function QF(e,t,n,r,o){let{top:l,left:c,right:d,bottom:f}=n;r===void 0&&(r=10),o===void 0&&(o=ZF);const{isTop:p,isBottom:g,isLeft:x,isRight:v}=X_(e),y={x:0,y:0},S={x:0,y:0},C={height:t.height*o.y,width:t.width*o.x};return!p&&l<=t.top+C.height?(y.y=Xn.Backward,S.y=r*Math.abs((t.top+C.height-l)/C.height)):!g&&f>=t.bottom-C.height&&(y.y=Xn.Forward,S.y=r*Math.abs((t.bottom-C.height-f)/C.height)),!v&&d>=t.right-C.width?(y.x=Xn.Forward,S.x=r*Math.abs((t.right-C.width-d)/C.width)):!x&&c<=t.left+C.width&&(y.x=Xn.Backward,S.x=r*Math.abs((t.left+C.width-c)/C.width)),{direction:y,speed:S}}function XF(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function J_(e){return e.reduce((t,n)=>sc(t,Vb(n)),Vs)}function JF(e){return e.reduce((t,n)=>t+K_(n),0)}function e5(e){return e.reduce((t,n)=>t+Z_(n),0)}function ek(e,t){if(t===void 0&&(t=Sc),!e)return;const{top:n,left:r,bottom:o,right:l}=t(e);Y_(e)&&(o<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const t5=[["x",["left","right"],JF],["y",["top","bottom"],e5]];class ny{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ph(n),o=J_(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,d]of t5)for(const f of c)Object.defineProperty(this,f,{get:()=>{const p=d(r),g=o[l]-p;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function n5(e){const{EventTarget:t}=jr(e);return e instanceof t?e:wc(e)}function Lx(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function Q1(e){e.preventDefault()}function r5(e){e.stopPropagation()}var jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(jt||(jt={}));const tk={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},s5=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case jt.Right:return{...n,x:n.x+25};case jt.Left:return{...n,x:n.x-25};case jt.Down:return{...n,y:n.y+25};case jt.Up:return{...n,y:n.y-25}}};class ry{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Hu(wc(n)),this.windowListeners=new Hu(jr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ek(r),n(Vs)}handleKeyDown(t){if(zh(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:l=tk,coordinateGetter:c=s5,scrollBehavior:d="smooth"}=o,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:Vs;this.referenceCoordinates||(this.referenceCoordinates=g);const x=c(t,{active:n,context:r.current,currentCoordinates:g});if(x){const v=ed(x,g),y={x:0,y:0},{scrollableAncestors:S}=r.current;for(const C of S){const j=t.code,{isTop:E,isRight:N,isLeft:_,isBottom:R,maxScroll:D,minScroll:A}=X_(C),M=XF(C),O={x:Math.min(j===jt.Right?M.right-M.width/2:M.right,Math.max(j===jt.Right?M.left:M.left+M.width/2,x.x)),y:Math.min(j===jt.Down?M.bottom-M.height/2:M.bottom,Math.max(j===jt.Down?M.top:M.top+M.height/2,x.y))},L=j===jt.Right&&!N||j===jt.Left&&!_,T=j===jt.Down&&!R||j===jt.Up&&!E;if(L&&O.x!==x.x){const G=C.scrollLeft+v.x,P=j===jt.Right&&G<=D.x||j===jt.Left&&G>=A.x;if(P&&!v.y){C.scrollTo({left:G,behavior:d});return}P?y.x=C.scrollLeft-G:y.x=j===jt.Right?C.scrollLeft-D.x:C.scrollLeft-A.x,y.x&&C.scrollBy({left:-y.x,behavior:d});break}else if(T&&O.y!==x.y){const G=C.scrollTop+v.y,P=j===jt.Down&&G<=D.y||j===jt.Up&&G>=A.y;if(P&&!v.x){C.scrollTo({top:G,behavior:d});return}P?y.y=C.scrollTop-G:y.y=j===jt.Down?C.scrollTop-D.y:C.scrollTop-A.y,y.y&&C.scrollBy({top:-y.y,behavior:d});break}}this.handleMove(t,sc(ed(x,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ry.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=tk,onActivation:o}=t,{active:l}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function X1(e){return!!(e&&"distance"in e)}function J1(e){return!!(e&&"delay"in e)}class sy{constructor(t,n,r){var o;r===void 0&&(r=n5(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:c}=l;this.props=t,this.events=n,this.document=wc(c),this.documentListeners=new Hu(this.document),this.listeners=new Hu(r),this.windowListeners=new Hu(jr(c)),this.initialCoordinates=(o=eh(l))!=null?o:Vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,Q1),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,Q1),this.documentListeners.add(ws.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(J1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(X1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ws.Click,r5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:l}=this,{onMove:c,options:{activationConstraint:d}}=l;if(!o)return;const f=(n=eh(t))!=null?n:Vs,p=ed(o,f);if(!r&&d){if(X1(d)){if(d.tolerance!=null&&Lx(p,d.tolerance))return this.handleCancel();if(Lx(p,d.distance))return this.handleStart()}if(J1(d)&&Lx(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}t.cancelable&&t.preventDefault(),c(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const o5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class oy extends sy{constructor(t){const{event:n}=t,r=wc(n.target);super(t,o5,r)}}oy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const a5={move:{name:"mousemove"},end:{name:"mouseup"}};var Hb;(function(e){e[e.RightClick=2]="RightClick"})(Hb||(Hb={}));class nk extends sy{constructor(t){super(t,a5,wc(t.event.target))}}nk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Hb.RightClick?!1:(r?.({event:n}),!0)}}];const $x={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rk extends sy{constructor(t){super(t,$x)}static setup(){return window.addEventListener($x.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener($x.move.name,t)};function t(){}}}rk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var qu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qu||(qu={}));var nh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(nh||(nh={}));function i5(e){let{acceleration:t,activator:n=qu.Pointer,canScroll:r,draggingRect:o,enabled:l,interval:c=5,order:d=nh.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:g,delta:x,threshold:v}=e;const y=c5({delta:x,disabled:!l}),[S,C]=EF(),j=h.useRef({x:0,y:0}),E=h.useRef({x:0,y:0}),N=h.useMemo(()=>{switch(n){case qu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case qu.DraggableRect:return o}},[n,o,f]),_=h.useRef(null),R=h.useCallback(()=>{const A=_.current;if(!A)return;const M=j.current.x*E.current.x,O=j.current.y*E.current.y;A.scrollBy(M,O)},[]),D=h.useMemo(()=>d===nh.TreeOrder?[...p].reverse():p,[d,p]);h.useEffect(()=>{if(!l||!p.length||!N){C();return}for(const A of D){if(r?.(A)===!1)continue;const M=p.indexOf(A),O=g[M];if(!O)continue;const{direction:L,speed:T}=QF(A,O,N,t,v);for(const G of["x","y"])y[G][L[G]]||(T[G]=0,L[G]=0);if(T.x>0||T.y>0){C(),_.current=A,S(R,c),j.current=T,E.current=L;return}}j.current={x:0,y:0},E.current={x:0,y:0},C()},[t,R,r,C,l,c,JSON.stringify(N),JSON.stringify(y),S,p,D,g,JSON.stringify(v)])}const l5={x:{[Xn.Backward]:!1,[Xn.Forward]:!1},y:{[Xn.Backward]:!1,[Xn.Forward]:!1}};function c5(e){let{delta:t,disabled:n}=e;const r=Jm(t);return Sd(o=>{if(n||!r||!o)return l5;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Xn.Backward]:o.x[Xn.Backward]||l.x===-1,[Xn.Forward]:o.x[Xn.Forward]||l.x===1},y:{[Xn.Backward]:o.y[Xn.Backward]||l.y===-1,[Xn.Forward]:o.y[Xn.Forward]||l.y===1}}},[n,t,r])}function u5(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Sd(o=>{var l;return t==null?null:(l=r??o)!=null?l:null},[r,t])}function d5(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,l=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...l]},[]),[e,t])}var td;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(td||(td={}));var qb;(function(e){e.Optimized="optimized"})(qb||(qb={}));const ej=new Map;function f5(e,t){let{dragging:n,dependencies:r,config:o}=t;const[l,c]=h.useState(null),{frequency:d,measure:f,strategy:p}=o,g=h.useRef(e),x=j(),v=Ju(x),y=h.useCallback(function(E){E===void 0&&(E=[]),!v.current&&c(N=>N===null?E:N.concat(E.filter(_=>!N.includes(_))))},[v]),S=h.useRef(null),C=Sd(E=>{if(x&&!n)return ej;if(!E||E===ej||g.current!==e||l!=null){const N=new Map;for(let _ of e){if(!_)continue;if(l&&l.length>0&&!l.includes(_.id)&&_.rect.current){N.set(_.id,_.rect.current);continue}const R=_.node.current,D=R?new ny(f(R),R):null;_.rect.current=D,D&&N.set(_.id,D)}return N}return E},[e,l,n,x,f]);return h.useEffect(()=>{g.current=e},[e]),h.useEffect(()=>{x||y()},[n,x]),h.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),h.useEffect(()=>{x||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},d))},[d,x,y,...r]),{droppableRects:C,measureDroppableContainers:y,measuringScheduled:l!=null};function j(){switch(p){case td.Always:return!1;case td.BeforeDragging:return n;default:return!n}}}function ay(e,t){return Sd(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function m5(e,t){return ay(e,t)}function h5(e){let{callback:t,disabled:n}=e;const r=Th(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return h.useEffect(()=>()=>o?.disconnect(),[o]),o}function Ih(e){let{callback:t,disabled:n}=e;const r=Th(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return h.useEffect(()=>()=>o?.disconnect(),[o]),o}function p5(e){return new ny(Sc(e),e)}function tj(e,t,n){t===void 0&&(t=p5);const[r,o]=h.useState(null);function l(){o(f=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=f??n)!=null?p:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const c=h5({callback(f){if(e)for(const p of f){const{type:g,target:x}=p;if(g==="childList"&&x instanceof HTMLElement&&x.contains(e)){l();break}}}}),d=Ih({callback:l});return Bs(()=>{l(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function g5(e){const t=ay(e);return W_(e,t)}const nj=[];function x5(e){const t=h.useRef(e),n=Sd(r=>e?r&&r!==nj&&e&&t.current&&e.parentNode===t.current.parentNode?r:Ph(e):nj,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function b5(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(l=>{const c=Ix(l.target);c&&n(d=>d?(d.set(c,Vb(c)),new Map(d)):null)},[]);return h.useEffect(()=>{const l=r.current;if(e!==l){c(l);const d=e.map(f=>{const p=Ix(f);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,Vb(p)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(l)};function c(d){d.forEach(f=>{const p=Ix(f);p?.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,c)=>sc(l,c),Vs):J_(e):Vs,[e,t])}function rj(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Vs;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ed(e,n.current):Vs}function v5(e){h.useEffect(()=>{if(!Oh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function y5(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:l}=r;return n[o]=c=>{l(c,t)},n},{}),[e,t])}function sk(e){return h.useMemo(()=>e?GF(e):null,[e])}const sj=[];function w5(e,t){t===void 0&&(t=Sc);const[n]=e,r=sk(n?jr(n):null),[o,l]=h.useState(sj);function c(){l(()=>e.length?e.map(f=>Q_(f)?r:new ny(t(f),f)):sj)}const d=Ih({callback:c});return Bs(()=>{d?.disconnect(),c(),e.forEach(f=>d?.observe(f))},[e]),o}function ok(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wd(t)?t:e}function S5(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(p=>{for(const{target:g}of p)if(wd(g)){r(x=>{const v=t(g);return x?{...x,width:v.width,height:v.height}:v});break}},[t]),l=Ih({callback:o}),c=h.useCallback(p=>{const g=ok(p);l?.disconnect(),g&&l?.observe(g),r(g?t(g):null)},[t,l]),[d,f]=Xm(c);return h.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const C5=[{sensor:oy,options:{}},{sensor:ry,options:{}}],j5={current:{}},Rm={draggable:{measure:Z1},droppable:{measure:Z1,strategy:td.WhileDragging,frequency:qb.Optimized},dragOverlay:{measure:Sc}};class Wu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const E5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:th},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rm,measureDroppableContainers:th,windowRect:null,measuringScheduled:!1},ak={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:th,draggableNodes:new Map,over:null,measureDroppableContainers:th},jd=h.createContext(ak),ik=h.createContext(E5);function N5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wu}}}function _5(e,t){switch(t.type){case Hn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Hn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Hn.DragEnd:case Hn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hn.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Wu(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Hn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const c=new Wu(e.droppable.containers);return c.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Hn.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Wu(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function k5(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(jd),l=Jm(r),c=Jm(n?.id);return h.useEffect(()=>{if(!t&&!r&&l&&c!=null){if(!zh(l)||document.activeElement===l.target)return;const d=o.get(c);if(!d)return;const{activatorNode:f,node:p}=d;if(!f.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[f.current,p.current]){if(!g)continue;const x=kF(g);if(x){x.focus();break}}})}},[r,t,o,c,l]),null}function lk(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...r}),n):n}function R5(e){return h.useMemo(()=>({draggable:{...Rm.draggable,...e?.draggable},droppable:{...Rm.droppable,...e?.droppable},dragOverlay:{...Rm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function M5(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const l=h.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Bs(()=>{if(!c&&!d||!t){l.current=!1;return}if(l.current||!r)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),x=W_(g,r);if(c||(x.x=0),d||(x.y=0),l.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const v=Y_(p);v&&v.scrollBy({top:x.y,left:x.x})}},[t,c,d,r,n])}const Lh=h.createContext({...Vs,scaleX:1,scaleY:1});var La;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(La||(La={}));const ck=h.memo(function(t){var n,r,o,l;let{id:c,accessibility:d,autoScroll:f=!0,children:p,sensors:g=C5,collisionDetection:x=UF,measuring:v,modifiers:y,...S}=t;const C=h.useReducer(_5,void 0,N5),[j,E]=C,[N,_]=TF(),[R,D]=h.useState(La.Uninitialized),A=R===La.Initialized,{draggable:{active:M,nodes:O,translate:L},droppable:{containers:T}}=j,G=M!=null?O.get(M):null,P=h.useRef({initial:null,translated:null}),$=h.useMemo(()=>{var Pe;return M!=null?{id:M,data:(Pe=G?.data)!=null?Pe:j5,rect:P}:null},[M,G]),W=h.useRef(null),[ce,z]=h.useState(null),[q,Z]=h.useState(null),F=Ju(S,Object.values(S)),ae=Cd("DndDescribedBy",c),B=h.useMemo(()=>T.getEnabled(),[T]),U=R5(v),{droppableRects:ne,measureDroppableContainers:K,measuringScheduled:H}=f5(B,{dragging:A,dependencies:[L.x,L.y],config:U.droppable}),Y=u5(O,M),V=h.useMemo(()=>q?eh(q):null,[q]),te=Oe(),se=m5(Y,U.draggable.measure);M5({activeNode:M!=null?O.get(M):null,config:te.layoutShiftCompensation,initialRect:se,measure:U.draggable.measure});const oe=tj(Y,U.draggable.measure,se),fe=tj(Y?Y.parentElement:null),Se=h.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=T.getNodeFor((n=Se.current.over)==null?void 0:n.id),De=S5({measure:U.dragOverlay.measure}),st=(r=De.nodeRef.current)!=null?r:Y,pt=A?(o=De.rect)!=null?o:oe:null,ut=!!(De.nodeRef.current&&De.rect),fn=g5(ut?null:oe),Mt=sk(st?jr(st):null),Q=x5(A?Ae??Y:null),X=w5(Q),ue=lk(y,{transform:{x:L.x-fn.x,y:L.y-fn.y,scaleX:1,scaleY:1},activatorEvent:q,active:$,activeNodeRect:oe,containerNodeRect:fe,draggingNodeRect:pt,over:Se.current.over,overlayNodeRect:De.rect,scrollableAncestors:Q,scrollableAncestorRects:X,windowRect:Mt}),Re=V?sc(V,L):null,Ce=b5(Q),ge=rj(Ce),ke=rj(Ce,[oe]),ve=sc(ue,ge),_e=pt?HF(pt,ue):null,$e=$&&_e?x({active:$,collisionRect:_e,droppableRects:ne,droppableContainers:B,pointerCoordinates:Re}):null,bt=H_($e,"id"),[Et,Jn]=h.useState(null),nn=ut?ue:sc(ue,ke),Ut=BF(nn,(l=Et?.rect)!=null?l:null,oe),Bt=h.useRef(null),Vt=h.useCallback((Pe,ot)=>{let{sensor:Ve,options:mn}=ot;if(W.current==null)return;const yn=O.get(W.current);if(!yn)return;const wn=Pe.nativeEvent,hn=new Ve({active:W.current,activeNode:yn,event:wn,options:mn,context:Se,onAbort(Sn){if(!O.get(Sn))return;const{onDragAbort:vr}=F.current,cr={id:Sn};vr?.(cr),N({type:"onDragAbort",event:cr})},onPending(Sn,Nr,vr,cr){if(!O.get(Sn))return;const{onDragPending:ns}=F.current,_r={id:Sn,constraint:Nr,initialCoordinates:vr,offset:cr};ns?.(_r),N({type:"onDragPending",event:_r})},onStart(Sn){const Nr=W.current;if(Nr==null)return;const vr=O.get(Nr);if(!vr)return;const{onDragStart:cr}=F.current,js={activatorEvent:wn,active:{id:Nr,data:vr.data,rect:P}};zn.unstable_batchedUpdates(()=>{cr?.(js),D(La.Initializing),E({type:Hn.DragStart,initialCoordinates:Sn,active:Nr}),N({type:"onDragStart",event:js}),z(Bt.current),Z(wn)})},onMove(Sn){E({type:Hn.DragMove,coordinates:Sn})},onEnd:kn(Hn.DragEnd),onCancel:kn(Hn.DragCancel)});Bt.current=hn;function kn(Sn){return async function(){const{active:vr,collisions:cr,over:js,scrollAdjustedTranslate:ns}=Se.current;let _r=null;if(vr&&ns){const{cancelDrop:Es}=F.current;_r={activatorEvent:wn,active:vr,collisions:cr,delta:ns,over:js},Sn===Hn.DragEnd&&typeof Es=="function"&&await Promise.resolve(Es(_r))&&(Sn=Hn.DragCancel)}W.current=null,zn.unstable_batchedUpdates(()=>{E({type:Sn}),D(La.Uninitialized),Jn(null),z(null),Z(null),Bt.current=null;const Es=Sn===Hn.DragEnd?"onDragEnd":"onDragCancel";if(_r){const er=F.current[Es];er?.(_r),N({type:Es,event:_r})}})}}},[O]),lr=h.useCallback((Pe,ot)=>(Ve,mn)=>{const yn=Ve.nativeEvent,wn=O.get(mn);if(W.current!==null||!wn||yn.dndKit||yn.defaultPrevented)return;const hn={active:wn};Pe(Ve,ot.options,hn)===!0&&(yn.dndKit={capturedBy:ot.sensor},W.current=mn,Vt(Ve,ot))},[O,Vt]),br=d5(g,lr);v5(g),Bs(()=>{oe&&R===La.Initializing&&D(La.Initialized)},[oe,R]),h.useEffect(()=>{const{onDragMove:Pe}=F.current,{active:ot,activatorEvent:Ve,collisions:mn,over:yn}=Se.current;if(!ot||!Ve)return;const wn={active:ot,activatorEvent:Ve,collisions:mn,delta:{x:ve.x,y:ve.y},over:yn};zn.unstable_batchedUpdates(()=>{Pe?.(wn),N({type:"onDragMove",event:wn})})},[ve.x,ve.y]),h.useEffect(()=>{const{active:Pe,activatorEvent:ot,collisions:Ve,droppableContainers:mn,scrollAdjustedTranslate:yn}=Se.current;if(!Pe||W.current==null||!ot||!yn)return;const{onDragOver:wn}=F.current,hn=mn.get(bt),kn=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,Sn={active:Pe,activatorEvent:ot,collisions:Ve,delta:{x:yn.x,y:yn.y},over:kn};zn.unstable_batchedUpdates(()=>{Jn(kn),wn?.(Sn),N({type:"onDragOver",event:Sn})})},[bt]),Bs(()=>{Se.current={activatorEvent:q,active:$,activeNode:Y,collisionRect:_e,collisions:$e,droppableRects:ne,draggableNodes:O,draggingNode:st,draggingNodeRect:pt,droppableContainers:T,over:Et,scrollableAncestors:Q,scrollAdjustedTranslate:ve},P.current={initial:pt,translated:_e}},[$,Y,$e,_e,O,st,pt,ne,T,Et,Q,ve]),i5({...te,delta:L,draggingRect:_e,pointerCoordinates:Re,scrollableAncestors:Q,scrollableAncestorRects:X});const le=h.useMemo(()=>({active:$,activeNode:Y,activeNodeRect:oe,activatorEvent:q,collisions:$e,containerNodeRect:fe,dragOverlay:De,draggableNodes:O,droppableContainers:T,droppableRects:ne,over:Et,measureDroppableContainers:K,scrollableAncestors:Q,scrollableAncestorRects:X,measuringConfiguration:U,measuringScheduled:H,windowRect:Mt}),[$,Y,oe,q,$e,fe,De,O,T,ne,Et,K,Q,X,U,H,Mt]),Me=h.useMemo(()=>({activatorEvent:q,activators:br,active:$,activeNodeRect:oe,ariaDescribedById:{draggable:ae},dispatch:E,draggableNodes:O,over:Et,measureDroppableContainers:K}),[q,br,$,oe,E,ae,O,Et,K]);return Ee.createElement(F_.Provider,{value:_},Ee.createElement(jd.Provider,{value:Me},Ee.createElement(ik.Provider,{value:le},Ee.createElement(Lh.Provider,{value:Ut},p)),Ee.createElement(k5,{disabled:d?.restoreFocus===!1})),Ee.createElement(IF,{...d,hiddenTextDescribedById:ae}));function Oe(){const Pe=ce?.autoScrollEnabled===!1,ot=typeof f=="object"?f.enabled===!1:f===!1,Ve=A&&!Pe&&!ot;return typeof f=="object"?{...f,enabled:Ve}:{enabled:Ve}}}),D5=h.createContext(null),oj="button",A5="Draggable";function O5(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const l=Cd(A5),{activators:c,activatorEvent:d,active:f,activeNodeRect:p,ariaDescribedById:g,draggableNodes:x,over:v}=h.useContext(jd),{role:y=oj,roleDescription:S="draggable",tabIndex:C=0}=o??{},j=f?.id===t,E=h.useContext(j?Lh:D5),[N,_]=Xm(),[R,D]=Xm(),A=y5(c,t),M=Ju(n);Bs(()=>(x.set(t,{id:t,key:l,node:N,activatorNode:R,data:M}),()=>{const L=x.get(t);L&&L.key===l&&x.delete(t)}),[x,t]);const O=h.useMemo(()=>({role:y,tabIndex:C,"aria-disabled":r,"aria-pressed":j&&y===oj?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[r,y,C,j,S,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:p,attributes:O,isDragging:j,listeners:r?void 0:A,node:N,over:v,setNodeRef:_,setActivatorNodeRef:D,transform:E}}function uk(){return h.useContext(ik)}const T5="Droppable",z5={timeout:25};function P5(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const l=Cd(T5),{active:c,dispatch:d,over:f,measureDroppableContainers:p}=h.useContext(jd),g=h.useRef({disabled:n}),x=h.useRef(!1),v=h.useRef(null),y=h.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:j}={...z5,...o},E=Ju(C??r),N=h.useCallback(()=>{if(!x.current){x.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{p(Array.isArray(E.current)?E.current:[E.current]),y.current=null},j)},[j]),_=Ih({callback:N,disabled:S||!c}),R=h.useCallback((O,L)=>{_&&(L&&(_.unobserve(L),x.current=!1),O&&_.observe(O))},[_]),[D,A]=Xm(R),M=Ju(t);return h.useEffect(()=>{!_||!D.current||(_.disconnect(),x.current=!1,_.observe(D.current))},[D,_]),h.useEffect(()=>(d({type:Hn.RegisterDroppable,element:{id:r,key:l,disabled:n,node:D,rect:v,data:M}}),()=>d({type:Hn.UnregisterDroppable,key:l,id:r})),[r]),h.useEffect(()=>{n!==g.current.disabled&&(d({type:Hn.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,d]),{active:c,rect:v,isOver:f?.id===r,node:D,over:f,setNodeRef:A}}function I5(e){let{animation:t,children:n}=e;const[r,o]=h.useState(null),[l,c]=h.useState(null),d=Jm(n);return!n&&!r&&d&&o(d),Bs(()=>{if(!l)return;const f=r?.key,p=r?.props.id;if(f==null||p==null){o(null);return}Promise.resolve(t(p,l)).then(()=>{o(null)})},[t,r,l]),Ee.createElement(Ee.Fragment,null,n,r?h.cloneElement(r,{ref:c}):null)}const L5={x:0,y:0,scaleX:1,scaleY:1};function $5(e){let{children:t}=e;return Ee.createElement(jd.Provider,{value:ak},Ee.createElement(Lh.Provider,{value:L5},t))}const F5={position:"fixed",touchAction:"none"},U5=e=>zh(e)?"transform 250ms ease":void 0,B5=h.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:l,className:c,rect:d,style:f,transform:p,transition:g=U5}=e;if(!d)return null;const x=o?p:{...p,scaleX:1,scaleY:1},v={...F5,width:d.width,height:d.height,top:d.top,left:d.left,transform:Yo.Transform.toString(x),transformOrigin:o&&r?LF(r,d):void 0,transition:typeof g=="function"?g(r):g,...f};return Ee.createElement(n,{className:c,style:v,ref:t},l)}),dk=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:l,className:c}=e;if(l!=null&&l.active)for(const[d,f]of Object.entries(l.active))f!==void 0&&(o[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,f));if(l!=null&&l.dragOverlay)for(const[d,f]of Object.entries(l.dragOverlay))f!==void 0&&r.node.style.setProperty(d,f);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[f,p]of Object.entries(o))n.node.style.setProperty(f,p);c!=null&&c.active&&n.node.classList.remove(c.active)}},V5=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Yo.Transform.toString(t)},{transform:Yo.Transform.toString(n)}]},H5={duration:250,easing:"ease",keyframes:V5,sideEffects:dk({styles:{active:{opacity:"0"}}})};function q5(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Th((l,c)=>{if(t===null)return;const d=n.get(l);if(!d)return;const f=d.node.current;if(!f)return;const p=ok(c);if(!p)return;const{transform:g}=jr(c).getComputedStyle(c),x=G_(g);if(!x)return;const v=typeof t=="function"?t:W5(t);return ek(f,o.draggable.measure),v({active:{id:l,data:d.data,node:f,rect:o.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:c,rect:o.dragOverlay.measure(p)},droppableContainers:r,measuringConfiguration:o,transform:x})})}function W5(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...H5,...e};return l=>{let{active:c,dragOverlay:d,transform:f,...p}=l;if(!t)return;const g={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},x={scaleX:f.scaleX!==1?c.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?c.rect.height*f.scaleY/d.rect.height:1},v={x:f.x-g.x,y:f.y-g.y,...x},y=o({...p,active:c,dragOverlay:d,transform:{initial:f,final:v}}),[S]=y,C=y[y.length-1];if(JSON.stringify(S)===JSON.stringify(C))return;const j=r?.({active:c,dragOverlay:d,...p}),E=d.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{E.onfinish=()=>{j?.(),N()}})}}let aj=0;function G5(e){return h.useMemo(()=>{if(e!=null)return aj++,aj},[e])}const Y5=Ee.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:l,modifiers:c,wrapperElement:d="div",className:f,zIndex:p=999}=e;const{activatorEvent:g,active:x,activeNodeRect:v,containerNodeRect:y,draggableNodes:S,droppableContainers:C,dragOverlay:j,over:E,measuringConfiguration:N,scrollableAncestors:_,scrollableAncestorRects:R,windowRect:D}=uk(),A=h.useContext(Lh),M=G5(x?.id),O=lk(c,{activatorEvent:g,active:x,activeNodeRect:v,containerNodeRect:y,draggingNodeRect:j.rect,over:E,overlayNodeRect:j.rect,scrollableAncestors:_,scrollableAncestorRects:R,transform:A,windowRect:D}),L=ay(v),T=q5({config:r,draggableNodes:S,droppableContainers:C,measuringConfiguration:N}),G=L?j.setRef:void 0;return Ee.createElement($5,null,Ee.createElement(I5,{animation:T},x&&M?Ee.createElement(B5,{key:M,id:x.id,ref:G,as:d,activatorEvent:g,adjustScale:t,className:f,transition:l,rect:L,style:{zIndex:p,...o},transform:O},n):null))});function iy(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function K5(e,t){return e.reduce((n,r,o)=>{const l=t.get(r);return l&&(n[o]=l),n},Array(e.length))}function dm(e){return e!==null&&e>=0}function Z5(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Q5(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const fm={scaleX:1,scaleY:1},fk=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:l,index:c}=e;const d=(t=n[o])!=null?t:r;if(!d)return null;const f=X5(n,c,o);if(c===o){const p=n[l];return p?{x:o<l?p.left+p.width-(d.left+d.width):p.left-d.left,y:0,...fm}:null}return c>o&&c<=l?{x:-d.width-f,y:0,...fm}:c<o&&c>=l?{x:d.width+f,y:0,...fm}:{x:0,y:0,...fm}};function X5(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return!r||!o&&!l?0:n<t?o?r.left-(o.left+o.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(o.left+o.width)}const mk=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const l=iy(t,r,n),c=t[o],d=l[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},mm={scaleX:1,scaleY:1},J5=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:l,overIndex:c}=e;const d=(t=l[n])!=null?t:r;if(!d)return null;if(o===n){const p=l[c];return p?{x:0,y:n<c?p.top+p.height-(d.top+d.height):p.top-d.top,...mm}:null}const f=e6(l,o,n);return o>n&&o<=c?{x:0,y:-d.height-f,...mm}:o<n&&o>=c?{x:0,y:d.height+f,...mm}:{x:0,y:0,...mm}};function e6(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return r?n<t?o?r.top-(o.top+o.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const hk="Sortable",pk=Ee.createContext({activeIndex:-1,containerId:hk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mk,disabled:{draggable:!1,droppable:!1}});function gk(e){let{children:t,id:n,items:r,strategy:o=mk,disabled:l=!1}=e;const{active:c,dragOverlay:d,droppableRects:f,over:p,measureDroppableContainers:g}=uk(),x=Cd(hk,n),v=d.rect!==null,y=h.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),S=c!=null,C=c?y.indexOf(c.id):-1,j=p?y.indexOf(p.id):-1,E=h.useRef(y),N=!Z5(y,E.current),_=j!==-1&&C===-1||N,R=Q5(l);Bs(()=>{N&&S&&g(y)},[N,y,S,g]),h.useEffect(()=>{E.current=y},[y]);const D=h.useMemo(()=>({activeIndex:C,containerId:x,disabled:R,disableTransforms:_,items:y,overIndex:j,useDragOverlay:v,sortedRects:K5(y,f),strategy:o}),[C,x,R.draggable,R.droppable,_,y,j,f,v,o]);return Ee.createElement(pk.Provider,{value:D},t)}const t6=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return iy(n,r,o).indexOf(t)},n6=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:l,newIndex:c,previousItems:d,previousContainerId:f,transition:p}=e;return!p||!r||d!==l&&o===c?!1:n?!0:c!==o&&t===f},r6={duration:200,easing:"ease"},xk="transform",s6=Yo.Transition.toString({property:xk,duration:0,easing:"linear"}),o6={roleDescription:"sortable"};function a6(e){let{disabled:t,index:n,node:r,rect:o}=e;const[l,c]=h.useState(null),d=h.useRef(n);return Bs(()=>{if(!t&&n!==d.current&&r.current){const f=o.current;if(f){const p=Sc(r.current,{ignoreTransform:!0}),g={x:f.left-p.left,y:f.top-p.top,scaleX:f.width/p.width,scaleY:f.height/p.height};(g.x||g.y)&&c(g)}}n!==d.current&&(d.current=n)},[t,n,r,o]),h.useEffect(()=>{l&&c(null)},[l]),l}function bk(e){let{animateLayoutChanges:t=n6,attributes:n,disabled:r,data:o,getNewIndex:l=t6,id:c,strategy:d,resizeObserverConfig:f,transition:p=r6}=e;const{items:g,containerId:x,activeIndex:v,disabled:y,disableTransforms:S,sortedRects:C,overIndex:j,useDragOverlay:E,strategy:N}=h.useContext(pk),_=i6(r,y),R=g.indexOf(c),D=h.useMemo(()=>({sortable:{containerId:x,index:R,items:g},...o}),[x,o,R,g]),A=h.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:M,node:O,isOver:L,setNodeRef:T}=P5({id:c,data:D,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...f}}),{active:G,activatorEvent:P,activeNodeRect:$,attributes:W,setNodeRef:ce,listeners:z,isDragging:q,over:Z,setActivatorNodeRef:F,transform:ae}=O5({id:c,data:D,attributes:{...o6,...n},disabled:_.draggable}),B=jF(T,ce),U=!!G,ne=U&&!S&&dm(v)&&dm(j),K=!E&&q,H=K&&ne?ae:null,V=ne?H??(d??N)({rects:C,activeNodeRect:$,activeIndex:v,overIndex:j,index:R}):null,te=dm(v)&&dm(j)?l({id:c,items:g,activeIndex:v,overIndex:j}):R,se=G?.id,oe=h.useRef({activeId:se,items:g,newIndex:te,containerId:x}),fe=g!==oe.current.items,Se=t({active:G,containerId:x,isDragging:q,isSorting:U,id:c,index:R,items:g,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:p,wasDragging:oe.current.activeId!=null}),Ae=a6({disabled:!Se,index:R,node:O,rect:M});return h.useEffect(()=>{U&&oe.current.newIndex!==te&&(oe.current.newIndex=te),x!==oe.current.containerId&&(oe.current.containerId=x),g!==oe.current.items&&(oe.current.items=g)},[U,te,x,g]),h.useEffect(()=>{if(se===oe.current.activeId)return;if(se!=null&&oe.current.activeId==null){oe.current.activeId=se;return}const st=setTimeout(()=>{oe.current.activeId=se},50);return()=>clearTimeout(st)},[se]),{active:G,activeIndex:v,attributes:W,data:D,rect:M,index:R,newIndex:te,items:g,isOver:L,isSorting:U,isDragging:q,listeners:z,node:O,overIndex:j,over:Z,setNodeRef:B,setActivatorNodeRef:F,setDroppableNodeRef:T,setDraggableNodeRef:ce,transform:Ae??V,transition:De()};function De(){if(Ae||fe&&oe.current.newIndex===R)return s6;if(!(K&&!zh(P)||!p)&&(U||Se))return Yo.Transition.toString({...p,property:xk})}}function i6(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function rh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const l6=[jt.Down,jt.Right,jt.Up,jt.Left],c6=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:l,over:c,scrollableAncestors:d}}=t;if(l6.includes(e.code)){if(e.preventDefault(),!n||!r)return;const f=[];l.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const v=o.get(x.id);if(v)switch(e.code){case jt.Down:r.top<v.top&&f.push(x);break;case jt.Up:r.top>v.top&&f.push(x);break;case jt.Left:r.left>v.left&&f.push(x);break;case jt.Right:r.left<v.left&&f.push(x);break}});const p=q_({collisionRect:r,droppableRects:o,droppableContainers:f});let g=H_(p,"id");if(g===c?.id&&p.length>1&&(g=p[1].id),g!=null){const x=l.get(n.id),v=l.get(g),y=v?o.get(v.id):null,S=v?.node.current;if(S&&y&&x&&v){const j=Ph(S).some((A,M)=>d[M]!==A),E=vk(x,v),N=u6(x,v),_=j||!E?{x:0,y:0}:{x:N?r.width-y.width:0,y:N?r.height-y.height:0},R={x:y.left,y:y.top};return _.x&&_.y?R:ed(R,_)}}}};function vk(e,t){return!rh(e)||!rh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function u6(e,t){return!rh(e)||!rh(t)||!vk(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function d6({tab:e,isActive:t,isDirty:n,draggingId:r,onContextMenu:o,onCloseTab:l,setTabNode:c}){const{attributes:d,listeners:f,setNodeRef:p,transform:g,transition:x,isDragging:v}=bk({id:e.id}),y={transform:Yo.Transform.toString(g),transition:x},S=v||r===e.id,C=!!e.pinned;return i.jsxs("div",{ref:j=>{p(j),c(e.id,j)},style:y,className:de("group relative mr-1 flex min-w-0 items-stretch",S&&"opacity-60"),"data-editor-tab":"true",...d,...f,children:[i.jsxs(Qm,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:o,onMouseDown:j=>{j.button===1&&(j.preventDefault(),l(e.id))},className:de("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",t?"border-border border-b-card bg-card text-foreground shadow-[0_1px_0_rgb(var(--sys-color-shadow)/0.08)]":"border-transparent border-b-border text-muted-foreground hover:border-border hover:bg-card/70 hover:text-foreground",C?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[C?i.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:i.jsx(uz,{filled:t})}):null,i.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-muted-foreground","aria-label":"Loading",children:""}):null,e.status==="error"?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?i.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:i.jsx(cz,{})}):null,e.saveError?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,n?i.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),i.jsx("button",{type:"button",className:de("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-background",t?"text-muted-foreground hover:bg-muted hover:text-foreground":"text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-muted hover:text-foreground"),onClick:j=>{j.stopPropagation(),l(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}const no="h-4 w-4 text-current opacity-80";function f6({currentTab:e,tabs:t,canSaveFiles:n,hasDirtyTabs:r,onCloseTab:o,onCloseOtherTabs:l,onCloseTabsToRight:c,onCloseAllTabs:d,onPinTab:f,onUnpinTab:p,onSaveTab:g,onSaveAllTabs:x}){const v=t.findIndex(_=>_.id===e.id),y=v>=0&&v<t.length-1,S=t.length>1,C=e.status==="ready"&&e.content!==e.initialContent,j=!!g&&n&&C&&!e.saving,E=!!x&&n&&r,N={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:i.jsx(wN,{className:no}),disabled:!j,shortcut:N.save,onSelect:()=>g?.(e.id)},{id:"save-all",label:"Save All",icon:i.jsx(tz,{className:no}),disabled:!E,shortcut:N.saveAll,onSelect:()=>x?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?i.jsx(bN,{className:no}):i.jsx(Av,{className:no}),dividerAbove:!0,onSelect:()=>e.pinned?p(e.id):f(e.id)},{id:"close",label:"Close",icon:i.jsx(mo,{className:no}),dividerAbove:!0,shortcut:N.close,onSelect:()=>o(e.id)},{id:"close-others",label:"Close Others",icon:i.jsx(nz,{className:no}),disabled:!S,shortcut:N.closeOthers,onSelect:()=>l(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:i.jsx(rz,{className:no}),disabled:!y,shortcut:N.closeRight,onSelect:()=>c(e.id)},{id:"close-all",label:"Close All",icon:i.jsx(sz,{className:no}),dividerAbove:!0,disabled:t.length===0,shortcut:N.closeAll,onSelect:()=>d()}]}function m6({pinnedTabs:e,regularTabs:t,activeTabId:n,onSelectTab:r}){if(e.length===0&&t.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const o=[],l=(c,d)=>{const f=c.status==="ready"&&c.content!==c.initialContent,p=[];c.id===n&&p.push("Active"),c.saving?p.push("Saving"):f&&p.push("Unsaved"),o.push({id:`switch-${c.id}`,label:`${c.saving?" ":f?" ":""}${c.name}`,icon:c.pinned?i.jsx(Av,{className:no}):i.jsx(vN,{className:no}),shortcut:p.length>0?p.join("  "):void 0,dividerAbove:d,onSelect:()=>r(c.id)})};return e.forEach(c=>l(c,!1)),t.forEach((c,d)=>l(c,d===0&&e.length>0)),o}const ij=220,lj=64,h6=14;function p6({tabs:e,activeTabId:t,menuAppearance:n,canSaveFiles:r=!1,onSelectTab:o,onCloseTab:l,onCloseOtherTabs:c,onCloseTabsToRight:d,onCloseAllTabs:f,onMoveTab:p,onPinTab:g,onUnpinTab:x,onSaveTab:v,onSaveAllTabs:y,onTabDragStateChange:S}){const[C,j]=h.useState(null),[E,N]=h.useState(null),[_,R]=h.useState(null),[D,A]=h.useState({left:!1,right:!1}),[M,O]=h.useState(0),L=h.useRef(null),T=h.useRef(null),G=h.useRef(new Map),P=h.useMemo(()=>e.filter(te=>te.pinned),[e]),$=h.useMemo(()=>e.filter(te=>!te.pinned),[e]),ce=h.useMemo(()=>e.filter(te=>te.status==="ready"&&te.content!==te.initialContent),[e]).length>0,z=U_(km(oy,{activationConstraint:{distance:5}})),q="border-border bg-card",Z="text-muted-foreground hover:bg-muted hover:text-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",F=h.useCallback((te,se)=>{const oe=G.current;se?oe.set(te,se):oe.delete(te)},[]);h.useEffect(()=>{C&&!e.some(te=>te.id===C.tabId)&&j(null),e.length||N(null)},[C,e]);const ae=h.useCallback(te=>{R(String(te.active.id)),S?.(!0)},[S]),B=h.useCallback(te=>{const se=te.active.id,oe=te.over?.id;if(oe&&se!==oe){const fe=e.findIndex(Ae=>Ae.id===se),Se=e.findIndex(Ae=>Ae.id===oe);if(fe!==-1&&Se!==-1){const Ae=fe<Se?Se+1:Se;p(String(se),Ae)}}R(null),S?.(!1)},[p,S,e]),U=h.useCallback(()=>{R(null),S?.(!1)},[S]),ne=h.useCallback(()=>{const te=L.current;if(!te){A({left:!1,right:!1});return}const{scrollLeft:se,scrollWidth:oe,clientWidth:fe}=te;A({left:se>2,right:se+fe<oe-2})},[]);h.useEffect(()=>{const te=L.current;if(!te){A({left:!1,right:!1});return}ne();const se=()=>ne();te.addEventListener("scroll",se),window.addEventListener("resize",ne);const oe=typeof ResizeObserver<"u"?new ResizeObserver(ne):null;return oe?.observe(te),()=>{te.removeEventListener("scroll",se),window.removeEventListener("resize",ne),oe?.disconnect()}},[e.length,ne]),h.useEffect(()=>{if(!_){O(0);return}const te=se=>{const oe=L.current;if(!oe){O(0);return}const fe=oe.getBoundingClientRect();se.clientX<fe.left+lj?O(-1):se.clientX>fe.right-lj?O(1):O(0)};return window.addEventListener("pointermove",te),()=>{window.removeEventListener("pointermove",te),O(0)}},[_]),h.useEffect(()=>{if(!_||M===0)return;let te;const se=()=>{const oe=L.current;oe&&(oe.scrollBy({left:M*h6}),te=window.requestAnimationFrame(se))};return te=window.requestAnimationFrame(se),()=>window.cancelAnimationFrame(te)},[M,_]),h.useEffect(()=>{G.current.get(t)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[t,e.length]);const K=h.useMemo(()=>{if(!C)return[];const te=e.find(se=>se.id===C.tabId);return te?f6({currentTab:te,tabs:e,canSaveFiles:r,hasDirtyTabs:ce,onCloseTab:l,onCloseOtherTabs:c,onCloseTabsToRight:d,onCloseAllTabs:f,onPinTab:g,onUnpinTab:x,onSaveTab:v,onSaveAllTabs:y}):[]},[r,C,ce,f,c,l,d,g,y,v,x,e]),H=h.useMemo(()=>m6({pinnedTabs:P,regularTabs:$,activeTabId:t,onSelectTab:o}),[P,$,t,o]),Y=h.useCallback(te=>{L.current?.scrollBy({left:te,behavior:"smooth"})},[]),V=h.useCallback(()=>{const te=T.current?.getBoundingClientRect();te&&N({x:te.left,y:te.bottom+6})},[]);return i.jsxs(i.Fragment,{children:[i.jsx(ck,{sensors:z,collisionDetection:Bb,onDragStart:ae,onDragEnd:B,onDragCancel:U,children:i.jsx(gk,{items:e.map(te=>te.id),strategy:fk,children:i.jsxs("div",{className:de("flex items-center gap-1 px-1",q,"border-b"),children:[i.jsx(cj,{appearance:n,direction:"left",disabled:!D.left,onClick:()=>Y(-ij)}),i.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[D.left?i.jsx(uj,{position:"left",appearance:n}):null,D.right?i.jsx(uj,{position:"right",appearance:n}):null,i.jsx("div",{ref:L,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:te=>{Math.abs(te.deltaY)>Math.abs(te.deltaX)&&(te.preventDefault(),L.current?.scrollBy({left:te.deltaY}))},children:i.jsx(Jv,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(te=>{const se=te.status==="ready"&&te.content!==te.initialContent,oe=te.id===t;return i.jsx(d6,{tab:te,isActive:oe,isDirty:se,draggingId:_,setTabNode:F,onContextMenu:fe=>{fe.preventDefault(),j({tabId:te.id,x:fe.clientX,y:fe.clientY})},onCloseTab:l},te.id)})})})]}),i.jsx(cj,{appearance:n,direction:"right",disabled:!D.right,onClick:()=>Y(ij)}),i.jsx("button",{ref:T,type:"button",className:de("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",Z),"aria-label":"Open editors list",onClick:V,children:i.jsx(Gi,{className:"h-4 w-4"})})]})})}),i.jsx(Go,{open:!!C,position:C&&{x:C.x,y:C.y},onClose:()=>j(null),items:K,appearance:n}),i.jsx(Go,{open:!!E,position:E,onClose:()=>N(null),items:H,appearance:n})]})}function cj({appearance:e,direction:t,disabled:n,onClick:r}){return i.jsx("button",{type:"button",className:de("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none","text-muted-foreground",n?"cursor-default opacity-30":"hover:bg-muted hover:text-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card"),onClick:r,disabled:n,"aria-label":t==="left"?"Scroll tabs left":"Scroll tabs right",children:t==="left"?i.jsx(_T,{className:"h-4 w-4"}):i.jsx(kT,{className:"h-4 w-4"})})}function uj({position:e,appearance:t}){const n=e==="left"?"left-0 bg-gradient-to-r from-card via-card/80 to-transparent":"right-0 bg-gradient-to-l from-card via-card/80 to-transparent";return i.jsx("div",{className:de("pointer-events-none absolute top-0 bottom-0 w-8",n)})}function g6({tabs:e,activeTabId:t,onSelectTab:n,onCloseTab:r,onCloseOtherTabs:o,onCloseTabsToRight:l,onCloseAllTabs:c,onMoveTab:d,onPinTab:f,onUnpinTab:p,onContentChange:g,onSaveTab:x,onSaveAllTabs:v,onSelectRecentTab:y,editorTheme:S,menuAppearance:C,canSaveFiles:j=!1,readOnly:E=!1,minHeight:N,onRetryTabLoad:_}){const R=e.length>0,D=h.useRef(null),[A,M]=h.useState(!1),O=h.useMemo(()=>e.find(L=>L.id===t)??null,[e,t]);return!R||!O?i.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:"Select a file from the explorer to begin editing."}):i.jsxs("div",{ref:D,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:N?{minHeight:N}:void 0,"data-editor-area":!0,children:[i.jsx(yF,{containerRef:D,tabs:e,activeTabId:t,onCloseTab:r,onSelectTab:n,onSelectRecentTab:y}),i.jsxs(Xv,{value:O.id,onValueChange:n,children:[i.jsx(p6,{tabs:e,activeTabId:O.id,menuAppearance:C,canSaveFiles:j,onSelectTab:n,onCloseTab:r,onCloseOtherTabs:o,onCloseTabsToRight:l,onCloseAllTabs:c,onMoveTab:d,onPinTab:f,onUnpinTab:p,onSaveTab:x,onSaveAllTabs:v,onTabDragStateChange:M}),i.jsx(CF,{tabs:e,activeTabId:O.id,editorTheme:S,onContentChange:g,onSaveTab:x,canSaveFiles:j,readOnly:E,onRetryTabLoad:_,onSelectTab:n,isTabDragging:A})]})]})}function Fi(e){return(e||"").trim().replace(/\\/g,"/").replace(/\/+/g,"/").replace(/^\/+/,"").replace(/\/+$/,"")}function x6(e,t){const n=Fi(e),r=Fi(t);return n?r?`${n}/${r}`.replace(/\/+/g,"/"):n:r}function b6(e){const t=Fi(e);return t?t.split("/").every(r=>r.length>0&&r!=="."&&r!==".."):!1}function v6(e){const t=Fi(e);return t==="assets"||t.startsWith("assets/")}function Gu(e){return e?Array.from(e.types??[]).includes("Files"):!1}async function y6(e){const n=Array.from(e.items??[]).filter(r=>r.kind==="file").map(r=>r.webkitGetAsEntry?.()??null).filter(r=>!!r);return n.length>0?(await Promise.all(n.map(o=>yk(o)))).flat():Array.from(e.files??[]).filter(r=>!!r).map(r=>({file:r,relativePath:r.name}))}async function yk(e){if(e.isFile)try{const o=await new Promise((c,d)=>{if(!e.file){d(new Error("Dropped file entry is missing a file() reader."));return}e.file(c,d)}),l=S6(e.fullPath||o.name);return l?[{file:o,relativePath:l}]:[]}catch{return[]}if(!e.isDirectory||!e.createReader)return[];const t=e.createReader(),n=await w6(t);return(await Promise.all(n.map(o=>yk(o)))).flat()}async function w6(e){const t=[];for(;;){const n=await new Promise((r,o)=>e.readEntries(r,o));if(!n.length)break;t.push(...n)}return t}function S6(e){return Fi(e)}const dj={surface:"rgb(var(--sys-color-surface))",border:"rgb(var(--sys-color-border))",heading:"rgb(var(--sys-color-fg))",label:"rgb(var(--sys-color-fg-muted))",textPrimary:"rgb(var(--sys-color-fg))",textMuted:"rgb(var(--sys-color-fg-muted))",rowHover:"rgb(var(--sys-color-surface-muted))",folderActiveBg:"transparent",selectionBg:"rgb(var(--sys-color-surface-muted))",selectionText:"rgb(var(--sys-color-fg))",badgeActive:"rgb(var(--sys-color-ring))",badgeOpen:"rgb(var(--sys-color-fg-muted))",folderIcon:"rgb(var(--sys-color-ring))",folderIconActive:"rgb(var(--sys-color-ring))",chevronIdle:"rgb(var(--sys-color-fg-muted))",chevronActive:"rgb(var(--sys-color-fg))"},C6={dark:dj,light:dj},j6="focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card";function E6(e){const t=new Set,n=r=>{r.kind==="folder"&&(t.add(r.id),r.children?.forEach(n))};return n(e),t}function Fx(e,t,n){const r=new Set;for(const o of e)t.has(o)&&r.add(o);return r.add(n),r}function fj(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function N6({width:e,tree:t,activeFileId:n="",openFileIds:r=[],onSelectFile:o,theme:l,canUploadFiles:c=!1,onUploadFiles:d,isUploadingFiles:f=!1,canCreateFile:p=!1,canCreateFolder:g=!1,isCreatingEntry:x=!1,onCreateFile:v,onCreateFolder:y,canDeleteFile:S=!1,deletingFilePath:C=null,canDeleteFolder:j=!1,deletingFolderPath:E=null,onDeleteFile:N,onDeleteFolder:_,expandedStorageKey:R,onHide:D}){const A=h.useMemo(()=>R?Wo(R):null,[R]),M=h.useMemo(()=>E6(t),[t]),O=h.useMemo(()=>{const ve=new Map,_e=$e=>{ve.set($e.id,$e),$e.children?.forEach(_e)};return _e(t),ve},[t]),[L,T]=h.useState(()=>{const ve=A?.get()??null,_e=ve?new Set(ve):new Set([t.id]);return Fx(_e,M,t.id)}),[G,P]=h.useState(null),[$,W]=h.useState(null),[ce,z]=h.useState(null),[q,Z]=h.useState(!1),[F,ae]=h.useState(null),B=h.useRef(0),U=h.useRef(null),ne=h.useRef(null);h.useEffect(()=>{W(null),z(null),ae(null),Z(!1),B.current=0,ne.current=null,U.current&&(clearTimeout(U.current),U.current=null)},[t.id]),h.useEffect(()=>{T(ve=>{const _e=Fx(ve,M,t.id);return fj(ve,_e)?ve:_e})},[M,t.id]),h.useEffect(()=>{if(!A)return;const ve=A.get();if(!ve)return;const _e=Fx(new Set(ve),M,t.id);T($e=>fj($e,_e)?$e:_e)},[A,M,t.id]),h.useEffect(()=>{if(!A)return;const ve=Array.from(L).filter(_e=>_e!==t.id&&M.has(_e));A.set(ve)},[L,A,M,t.id]);const K=h.useCallback(ve=>{T(_e=>{const $e=new Set(_e);return $e.has(ve)?$e.delete(ve):$e.add(ve),$e.add(t.id),$e})},[t.id]),H=h.useCallback((ve,_e)=>{T($e=>{const bt=new Set($e);return _e?bt.add(ve):ve!==t.id&&bt.delete(ve),bt.add(t.id),bt})},[t.id]),Y=h.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null),ne.current=null},[]),V=h.useCallback(ve=>{const _e=ve?.closest?.("[data-explorer-drop-row]"),$e=_e?.dataset.explorerDropPath??"",bt=_e?.dataset.explorerDropRow??t.id;return{folderPath:$e===t.id?"":$e,rowId:bt}},[t.id]),te=h.useCallback(ve=>{Gu(ve.dataTransfer)&&(B.current+=1,Z(!0))},[]),se=h.useCallback(ve=>{q&&(B.current=Math.max(0,B.current-1),B.current===0&&(Z(!1),ae(null),Y()))},[Y,q]),oe=h.useCallback(ve=>{if(!Gu(ve.dataTransfer))return;ve.preventDefault(),ve.dataTransfer.dropEffect=c&&d&&!f?"copy":"none",q||Z(!0);const _e=V(ve.target);ae(bt=>bt?.rowId===_e.rowId&&bt.folderPath===_e.folderPath?bt:_e);const $e=O.get(_e.rowId);if(!$e||$e.kind!=="folder"){Y();return}if(L.has($e.id)){Y();return}ne.current===$e.id&&U.current||(Y(),ne.current=$e.id,U.current=setTimeout(()=>{H($e.id,!0),Y()},650))},[c,Y,q,L,f,O,d,V,H]),fe=h.useCallback(async ve=>{if(!Gu(ve.dataTransfer))return;ve.preventDefault(),ve.stopPropagation(),Z(!1),ae(null),B.current=0,Y();const _e=await y6(ve.dataTransfer);if(!c||!d||f||_e.length===0)return;const $e=V(ve.target);d($e.folderPath,_e)},[c,Y,f,d,V]),Se=h.useCallback(()=>{T(new Set([t.id]))},[t.id]),Ae=h.useCallback((ve,_e)=>{z(null),T($e=>{const bt=new Set($e);return bt.add(t.id),bt.add(ve),bt}),W({parentId:ve,kind:_e})},[t.id]),De=h.useCallback(async(ve,_e,$e)=>{const bt=_e.trim();if(!bt){z("Name cannot be empty.");return}const Et=$e==="folder"?y:v;if(Et)try{z(null),await Et(ve===t.id?"":ve,bt),W(null)}catch(Jn){const nn=Jn instanceof Error?Jn.message:"Unable to create entry.";z(nn)}},[v,y,t.id]),st=h.useCallback(()=>{W(null),z(null)},[]),pt=h.useCallback((ve,_e)=>{ve.preventDefault(),P({node:_e,position:{x:ve.clientX,y:ve.clientY}})},[]),ut=h.useCallback(async ve=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(ve);return}catch{}if(typeof document>"u")return;const _e=document.createElement("textarea");_e.value=ve,_e.setAttribute("readonly","true"),_e.style.position="absolute",_e.style.left="-9999px",document.body.appendChild(_e),_e.select(),document.execCommand("copy"),document.body.removeChild(_e)},[]),fn=h.useCallback(ve=>{N&&(N(ve),P(null))},[N]),Mt=h.useCallback(ve=>{_&&(_(ve),P(null))},[_]),Q=h.useMemo(()=>{if(!G)return[];const{node:ve}=G,_e={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(ve.kind==="file")return[{id:"open-file",label:"Open",icon:i.jsx(qT,{className:qr}),shortcut:_e.open,onSelect:()=>o(ve.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:i.jsx(qC,{className:qr}),shortcut:_e.copyPath,onSelect:()=>{ut(ve.id)}},{id:"delete-file",label:"Delete",icon:i.jsx(WC,{className:qr}),shortcut:_e.delete,disabled:!S||!N,onSelect:()=>fn(ve.id)}];const $e=L.has(ve.id);return[{id:"new-file",label:"New File",icon:i.jsx(yN,{className:qr}),shortcut:_e.newFile,disabled:!p||!v,onSelect:()=>{!p||!v||(Ae(ve.id,"file"),P(null))}},{id:"new-folder",label:"New Folder",icon:i.jsx(Db,{className:qr}),shortcut:_e.newFolder,disabled:!g||!y,onSelect:()=>{!g||!y||(Ae(ve.id,"folder"),P(null))}},{id:"toggle-folder",label:$e?"Collapse Folder":"Expand Folder",icon:$e?i.jsx(WT,{className:qr}):i.jsx(GT,{className:qr}),onSelect:()=>H(ve.id,!$e)},{id:"collapse-all",label:"Collapse All",icon:i.jsx(YT,{className:qr}),shortcut:_e.collapseAll,dividerAbove:!0,onSelect:()=>Se()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:i.jsx(qC,{className:qr}),shortcut:_e.copyPath,onSelect:()=>{ut(ve.id)}},{id:"delete-folder",label:"Delete Folder",icon:i.jsx(WC,{className:qr}),shortcut:_e.delete,disabled:!j||!_,onSelect:()=>Mt(ve.id)}]},[G,o,ut,S,N,L,H,Se,p,g,v,y,Ae,j,_,Mt,fn]),X=C6[l],ue=j6,Re=h.useMemo(()=>t.children??[],[t]),Ce=l==="dark"?"dark":"light",ge=h.useMemo(()=>{if(!q)return null;const ve=F?.folderPath??"";return ve||"root"},[q,F?.folderPath]),ke=c&&!!d&&!f;return i.jsxs(i.Fragment,{children:[i.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:X.surface,borderColor:X.border,color:X.textPrimary},"aria-label":"Config files explorer",children:[i.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:X.border,backgroundColor:X.rowHover},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:X.heading},children:"Explorer"}),f?i.jsxs("div",{className:"flex items-center gap-1 text-[11px]",style:{color:X.label},children:[i.jsx("span",{className:"inline-flex h-2.5 w-2.5 animate-spin rounded-full border border-current border-t-transparent","aria-hidden":!0}),i.jsx("span",{className:"font-medium",children:"Uploading"})]}):null]}),i.jsx("button",{type:"button",onClick:D,"aria-label":"Hide explorer",className:de("flex h-7 w-7 items-center justify-center rounded-md text-muted-foreground transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","hover:bg-muted hover:text-foreground"),children:i.jsx(HT,{className:"h-3.5 w-3.5"})})]}),i.jsxs("nav",{className:"relative flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",onDragEnter:te,onDragLeave:se,onDragOver:oe,onDrop:fe,children:[i.jsxs("ul",{className:"space-y-0.5",children:[Re.map(ve=>i.jsx(wk,{node:ve,parentId:t.id,depth:0,expanded:L,activeFileId:n,openFileIds:r,onToggleFolder:K,onSelectFile:o,tokens:X,theme:l,focusRingClass:ue,onContextMenu:pt,editing:$,onSubmitCreateEntry:De,onCancelCreateEntry:st,createError:ce,isCreatingEntry:x,deletingFilePath:C,deletingFolderPath:E,onClearCreateError:()=>z(null),dropActive:q,dropTargetRowId:F?.rowId??null},ve.id)),$?.parentId===t.id?i.jsx("li",{className:"pl-2",children:i.jsx(Sk,{appearance:l,icon:$.kind==="folder"?i.jsx(Db,{className:qr}):void 0,placeholder:$.kind==="folder"?"new_folder":"new_file.py",onSubmit:ve=>De(t.id,ve,$.kind),onCancel:st,onChange:()=>z(null),isSubmitting:x,error:ce})}):null]}),q?i.jsx("div",{className:de("pointer-events-none absolute inset-2 rounded-xl border border-dashed p-3 transition",ke?"opacity-100":"opacity-90"),style:{borderColor:X.badgeActive,backgroundColor:"rgb(var(--sys-color-surface) / 0.85)"},"aria-hidden":!q,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:de("inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/60 bg-card/80"),style:{color:X.badgeActive},children:i.jsx(vh,{className:"h-4 w-4"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[13px] font-semibold",style:{color:X.textPrimary},children:ke?"Drop to upload":"Upload disabled"}),i.jsx("p",{className:"mt-0.5 text-[12px]",style:{color:X.textMuted},children:ke?i.jsxs(i.Fragment,{children:["Upload to ",i.jsx("span",{className:"font-semibold",children:ge})]}):f?"Uploads are in progress.":"Uploads arent available right now."})]})]})}):null]})]}),i.jsx(Go,{open:!!G,position:G?G.position:null,onClose:()=>P(null),items:Q,appearance:Ce})]})}function wk({node:e,parentId:t,depth:n,expanded:r,activeFileId:o,openFileIds:l,onToggleFolder:c,onSelectFile:d,tokens:f,theme:p,focusRingClass:g,onContextMenu:x,editing:v,onSubmitCreateEntry:y,onCancelCreateEntry:S,createError:C,isCreatingEntry:j,deletingFilePath:E,deletingFolderPath:N,onClearCreateError:_,dropActive:R,dropTargetRowId:D}){const M={paddingLeft:8+n*16,"--tree-hover-bg":f.rowHover},O=R&&D===e.id;if(e.kind==="folder"){const W=r.has(e.id),ce=N===e.id,z=v?.parentId===e.id,q={...M,color:W?f.textPrimary:f.textMuted};return W&&f.folderActiveBg!=="transparent"&&(q.backgroundColor=f.folderActiveBg),O&&(q.outline=`1px dashed ${f.badgeActive}`,q.outlineOffset=-1,q.backgroundColor=f.rowHover),i.jsxs("li",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>c(e.id),onContextMenu:Z=>x(Z,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":e.id,className:de("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",g,ce&&"opacity-60"),style:q,"aria-expanded":W,disabled:ce,children:[i.jsx(dz,{className:de("h-3 w-3 flex-shrink-0 transition-transform duration-150",W?"rotate-90":void 0),stroke:W?f.chevronActive:f.chevronIdle}),i.jsx(VT,{className:"h-4 w-4 flex-shrink-0 transition-colors",stroke:W?f.folderIconActive:f.folderIcon,fill:W?f.folderIconActive:"none",opacity:W?.25:1}),i.jsx("span",{className:"truncate",children:e.name})]}),W?i.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(Z=>i.jsx(wk,{node:Z,parentId:e.id,depth:n+1,expanded:r,activeFileId:o,openFileIds:l,onToggleFolder:c,onSelectFile:d,tokens:f,theme:p,focusRingClass:g,onContextMenu:x,editing:v,onSubmitCreateEntry:y,onCancelCreateEntry:S,createError:C,isCreatingEntry:j,deletingFilePath:E,deletingFolderPath:N,onClearCreateError:_,dropActive:R,dropTargetRowId:D},Z.id)),z?i.jsx("li",{className:"pl-2",children:i.jsx(Sk,{appearance:p,icon:v?.kind==="folder"?i.jsx(Db,{className:qr}):void 0,placeholder:v?.kind==="folder"?"new_folder":"new_file.py",onSubmit:Z=>{v&&y(e.id,Z,v.kind)},onCancel:S,onChange:_,isSubmitting:j,error:C})}):null]}):null]})}const L=o===e.id,T=l.includes(e.id),G=E===e.id,P=_6(e.name,e.language),$={...M,color:f.textPrimary};return L&&($.backgroundColor=f.selectionBg,$.color=f.selectionText),O&&($.outline=`1px dashed ${f.badgeActive}`,$.outlineOffset=-1,L||($.backgroundColor=f.rowHover)),i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:W=>x(W,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":t,className:de("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",g,L&&"shadow-inner shadow-black/10",G&&"opacity-60"),style:$,disabled:G,children:[i.jsx("span",{className:"inline-flex w-4 justify-center",children:i.jsx(vN,{className:de("h-4 w-4 flex-shrink-0",P,T&&!L&&"opacity-90",!T&&!L&&"opacity-75")})}),i.jsx("span",{className:de("flex-1 truncate",L&&"font-semibold"),children:e.name}),T&&!L?i.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:f.badgeOpen}}):null]})})}const mj={json:"text-filetype-json",py:"text-filetype-py",ts:"text-filetype-ts",tsx:"text-filetype-tsx",js:"text-filetype-js",jsx:"text-filetype-jsx",md:"text-filetype-md",env:"text-filetype-env",txt:"text-filetype-txt",lock:"text-filetype-lock"};function _6(e,t){if(t==="python")return"text-filetype-py";const n=e.toLowerCase().split("."),r=n.length>1?n.pop()??"":"";return r&&mj[r]?mj[r]:"text-muted-foreground"}const qr="h-4 w-4 text-current opacity-80";function Sk({appearance:e,onSubmit:t,onCancel:n,onChange:r,isSubmitting:o,error:l,placeholder:c="new_file.py",icon:d}){const[f,p]=h.useState(""),g=h.useRef(null);h.useEffect(()=>{g.current?.focus(),g.current?.select()},[]);const x=h.useCallback(()=>{t(f.trim())},[t,f]);return i.jsxs("div",{className:"rounded-md border border-border bg-muted px-2 py-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-flex w-4 justify-center text-brand-500",children:d??i.jsx(yN,{className:qr})}),i.jsx("input",{ref:g,value:f,onChange:y=>{p(y.target.value),r?.()},onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),x()),y.key==="Escape"&&(y.preventDefault(),n())},className:"flex-1 rounded-sm border border-transparent bg-card/80 px-2 py-1 text-[13px] text-foreground outline-none focus:border-ring",placeholder:c,disabled:o}),i.jsx("button",{type:"button",className:de("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",o?"cursor-wait bg-muted text-muted-foreground":"bg-brand-600 text-on-brand hover:bg-brand-500"),onClick:x,disabled:o,children:o?"Creating":"Create"}),i.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-muted-foreground transition hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:n,disabled:o,children:"Cancel"})]}),i.jsx("div",{className:de("mt-1 text-[11px]","text-muted-foreground"),children:"Enter a name and press Enter. Escape to cancel."}),l?i.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:l}):null]})}function hj({orientation:e,onPointerDown:t,onDoubleClick:n,onToggle:r,collapsed:o}){const l=e==="vertical",c=l?"":o?"":"";return i.jsxs("div",{role:"separator","aria-orientation":e,className:de("relative select-none bg-transparent group",l?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:t,onDoubleClick:n,title:l?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[i.jsx("span",{className:"sr-only",children:"Resize panel"}),i.jsx("div",{className:de("absolute inset-0 flex items-center justify-center",l?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:i.jsx("div",{className:de(l?"h-full w-px":"h-px w-full","bg-muted-foreground/50")})}),r&&!l?i.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),r()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-foreground/70 text-[10px] text-background opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":o?"Show console":"Hide console",title:o?"Show console":"Hide console",children:c}):null]})}const k6={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function pj(e){const t=e.root||e.prefix||e.entries[0]?.parent||"",n=e.entries.length>0;if(!t&&!n)return null;const r=Yu(t),o={id:t,name:gj(t),kind:"folder",children:[]},l=new Map([[t,o]]),c=f=>{if(f.length===0)return o;const p=Yu(f),g=p===r?t:p,x=l.get(g);if(x)return x;const v={id:g,name:gj(g),kind:"folder",children:[]};l.set(g,v);const y=g===t?"":D6(g)??t,S=c(y);return Ux(S,v),v},d=[...e.entries].sort((f,p)=>f.depth!==p.depth?f.depth-p.depth:f.path.localeCompare(p.path));for(const f of d){const p=f.parent&&f.parent.length>0?Yu(f.parent):t,g=c(p);if(f.kind==="dir"){const v=c(f.path);v.name=f.name,v.metadata={size:f.size??null,modifiedAt:f.mtime,contentType:f.content_type,etag:f.etag},v!==g&&Ux(g,v);continue}const x={id:f.path,name:f.name,kind:"file",language:M6(f.path),metadata:{size:f.size??null,modifiedAt:f.mtime,contentType:f.content_type,etag:f.etag}};l.set(f.path,x),Ux(g,x)}return o}function Ux(e,t){const n=e.children??[],r=n.some(o=>o.id===t.id)?n.map(o=>o.id===t.id?t:o):[...n,t];e.children=r.sort(R6)}function R6(e,t){return e.kind!==t.kind?e.kind==="folder"?-1:1:e.name.localeCompare(t.name)}function M6(e){const t=e.toLowerCase(),n=t.lastIndexOf(".");if(n===-1)return;const r=t.slice(n+1);return k6[r]}function gj(e){const t=Yu(e);if(!t)return"";const n=t.lastIndexOf("/");return n>=0?t.slice(n+1):t}function D6(e){const t=Yu(e);if(!t)return;const n=t.lastIndexOf("/");return n===-1?"":t.slice(0,n)}function Yu(e){return e?e.replace(/\/+$/,""):""}function Kr(e,t){if(e.id===t)return e;if(!e.children)return null;for(const n of e.children){const r=Kr(n,t);if(r)return r}return null}function ly(e){if(e.kind==="file")return e;if(!e.children)return null;for(const t of e.children){const n=ly(t);if(n)return n}return null}function A6({tree:e,initialActiveFileId:t,loadFile:n,persistence:r}){const[o,l]=h.useState([]),[c,d]=h.useState(""),[f,p]=h.useState([]),[g,x]=h.useState(()=>!r),[v,y]=h.useState(!1),S=h.useRef(new Set),C=h.useRef([]),j=h.useRef(""),E=h.useRef([]),N=h.useCallback(K=>{d(H=>H===K?H:K),p(H=>{const Y=H.filter(te=>C.current.some(se=>se.id===te));if(!K)return Y;const V=Y.filter(te=>te!==K);return[K,...V]})},[]);h.useEffect(()=>{j.current=c},[c]),h.useEffect(()=>{E.current=f},[f]),h.useEffect(()=>{if(!e){l([]),d(""),p([]);return}l(H=>H.filter(Y=>!!Kr(e,Y.id)).map(Y=>{const V=Kr(e,Y.id);return!V||V.kind!=="file"?Y:{...Y,name:V.name,language:V.language,metadata:V.metadata}}));const K=j.current;(!K||!Kr(e,K))&&N("")},[e,N]);const _=h.useMemo(()=>o.find(K=>K.id===c)??o[0]??null,[c,o]),R=h.useCallback(async K=>{if(!C.current.some(Y=>Y.id===K))return;let H=!1;if(l(Y=>Y.map(V=>V.id!==K?V:V.status==="ready"?(H=!0,V):{...V,status:"loading",error:null})),!H)try{const Y=await n(K);l(V=>V.map(te=>te.id===K?{...te,initialContent:Y.content,content:Y.content,status:"ready",error:null,etag:Y.etag??null,saving:!1,saveError:null}:te))}catch(Y){const V=Y instanceof Error?Y.message:"Unable to load file.";l(te=>te.map(se=>se.id===K?{...se,status:"error",error:V}:se))}},[n]),D=h.useCallback((K,H)=>{if(!e)return;const Y=Kr(e,K);!Y||Y.kind!=="file"||(l(V=>{if(V.some(se=>se.id===K))return V;const te={id:Y.id,name:Y.name,language:Y.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:Y.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...V,te]}),(H?.activate??!0)&&N(K))},[e,N]);h.useEffect(()=>{if(g||!r||!e){r||x(!0);return}const K=r.get(),Y=(K?.openTabs??[]).map(V=>typeof V=="string"?{id:V,pinned:!1}:V).filter(V=>!!(V&&V.id));if(Y.length>0){const V=[];for(const te of Y){const se=Kr(e,te.id);!se||se.kind!=="file"||V.push({id:se.id,name:se.name,language:se.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:se.metadata,pinned:!!te.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(V.length>0){l(V);const te=(K?.activeTabId&&V.some(fe=>fe.id===K.activeTabId)?K.activeTabId:V[0]?.id)??"";d(te);const oe=(K?.mru&&K.mru.length>0?K.mru:V.map(fe=>fe.id)).filter(fe=>V.some(Se=>Se.id===fe));p(oe),y(!0)}}x(!0)},[g,r,e]),h.useEffect(()=>{if(!e||!g)return;if(o.length>0){v||y(!0);return}if(v)return;const K=t&&Kr(e,t)||ly(e);if(!K){y(!0);return}D(K.id),y(!0)},[e,t,D,g,o.length,v]);const A=h.useCallback(K=>{D(K)},[D]),M=h.useCallback(K=>{N(K),l(H=>H.map(Y=>Y.id===K&&Y.status==="error"?{...Y,status:"loading",error:null}:Y))},[N]),O=h.useCallback(K=>{l(H=>{const Y=H.filter(se=>se.id!==K),V=j.current,te=V===K?Y[Y.length-1]?.id??"":Y.some(se=>se.id===V)?V:Y[Y.length-1]?.id??"";return N(te),Y})},[N]),L=h.useCallback(K=>{l(H=>!H.some(Y=>Y.id===K)||H.length<=1?H:(N(K),H.filter(Y=>Y.id===K)))},[N]),T=h.useCallback(K=>{l(H=>{const Y=H.findIndex(se=>se.id===K);if(Y===-1||Y===H.length-1)return H;const V=H.slice(0,Y+1),te=V.some(se=>se.id===j.current)?j.current:K;return N(te),V})},[N]),G=h.useCallback(()=>{l([]),d(""),p([])},[]),P=h.useCallback((K,H)=>{l(Y=>{if(Y.length<=1)return Y;const V=Y.findIndex(De=>De.id===K);if(V===-1)return Y;const te=Y.filter((De,st)=>st!==V),se=Math.max(0,Math.min(H,te.length)),oe=[],fe=[],Se=Y[V];if(te.forEach(De=>{De.pinned?oe.push(De):fe.push(De)}),(se<=oe.length?"pinned":"regular")==="pinned"){const De=Math.max(0,Math.min(se,oe.length));oe.splice(De,0,{...Se,pinned:!0})}else{const De=Math.max(0,Math.min(se-oe.length,fe.length));fe.splice(De,0,{...Se,pinned:!1})}return[...oe,...fe]})},[]),$=h.useCallback(K=>{if(S.current.has(K))return;let H=!1;l(Y=>Y.map(V=>V.id!==K?V:(H=!0,{...V,status:"loading",error:null}))),H&&(S.current.add(K),R(K).finally(()=>{S.current.delete(K)}))},[R]),W=h.useCallback(K=>{l(H=>{const Y=[],V=[];let te=null;for(const oe of H){if(oe.id===K){te=oe;continue}oe.pinned?Y.push(oe):V.push(oe)}if(!te||te.pinned)return H;const se={...te,pinned:!0};return[...Y,se,...V]})},[]),ce=h.useCallback(K=>{l(H=>{const Y=[],V=[];let te=null;for(const oe of H){if(oe.id===K){te=oe;continue}oe.pinned?Y.push(oe):V.push(oe)}if(!te||!te.pinned)return H;const se={...te,pinned:!1};return[...Y,se,...V]})},[]),z=h.useCallback((K,H)=>{H?W(K):ce(K)},[W,ce]),q=h.useCallback(K=>{const H=E.current.filter(Se=>C.current.some(Ae=>Ae.id===Se));if(H.length<=1)return;const Y=j.current||H[0],V=H.indexOf(Y),oe=((V>=0?V:0)+(K==="forward"?1:-1)+H.length)%H.length,fe=H[oe];fe&&fe!==Y&&N(fe)},[N]),Z=h.useCallback((K,H)=>{l(Y=>Y.map(V=>V.id===K?{...V,content:H,status:V.status==="ready"?V.status:"ready",error:null,saveError:null}:V))},[]),F=h.useCallback(K=>{l(H=>H.map(Y=>Y.id===K?{...Y,saving:!0,saveError:null}:Y))},[]),ae=h.useCallback((K,H)=>{l(Y=>Y.map(V=>{if(V.id!==K)return V;const te=H?.metadata??V.metadata??null,se=H?.etag??V.etag??null,oe=H?.savedContent??V.content;return{...V,saving:!1,saveError:null,initialContent:oe,etag:se,metadata:te&&{...te,etag:te.etag??se??null},lastSavedAt:new Date().toISOString()}}))},[]),B=h.useCallback((K,H)=>{l(Y=>Y.map(V=>V.id===K?{...V,saving:!1,saveError:H}:V))},[]),U=h.useCallback((K,H)=>{l(Y=>Y.map(V=>V.id!==K?V:{...V,content:H.content,initialContent:H.content,status:"ready",error:null,saving:!1,saveError:null,etag:H.etag??V.etag??null,metadata:H.metadata??V.metadata}))},[]),ne=h.useMemo(()=>o.some(K=>K.status==="ready"&&K.content!==K.initialContent),[o]);return h.useEffect(()=>{C.current=o},[o]),h.useEffect(()=>{p(K=>{const H=K.filter(Y=>o.some(V=>V.id===Y));return H.length===K.length?K:H})},[o]),h.useEffect(()=>{const K=new Set(o.map(H=>H.id));for(const H of S.current)K.has(H)||S.current.delete(H);for(const H of o){if(H.status!=="loading"||S.current.has(H.id))continue;S.current.add(H.id),R(H.id).finally(()=>{S.current.delete(H.id)})}},[o,R]),h.useEffect(()=>{if(!r||!g)return;const K=[c,...f].filter(H=>!!H).filter((H,Y,V)=>V.indexOf(H)===Y).filter(H=>o.some(Y=>Y.id===H));r.set({openTabs:o.map(H=>({id:H.id,pinned:!!H.pinned})),activeTabId:c||null,mru:K})},[r,o,c,f,g]),{tree:e,tabs:o,activeTabId:c,activeTab:_,openFile:A,selectTab:M,closeTab:O,closeOtherTabs:L,closeTabsToRight:T,closeAllTabs:G,moveTab:P,reloadTab:$,pinTab:W,unpinTab:ce,toggleTabPin:z,selectRecentTab:q,updateContent:Z,beginSavingTab:F,completeSavingTab:ae,failSavingTab:B,replaceTabContent:U,isDirty:ne}}function Ck(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const t=new URLSearchParams;for(const[n,r]of Object.entries(e)){if(r==null)continue;const o=Array.isArray(r)?r:[r];for(const l of o)l!=null&&t.append(n,String(l))}return t}const jk=h.createContext(null);function O6({value:e,children:t}){return h.createElement(jk.Provider,{value:e},t)}function Ed(){const e=h.useContext(jk),t=xr(),n=sn(),r=h.useMemo(()=>new URLSearchParams(t.search),[t.search]),o=h.useCallback((l,c)=>{const d=typeof l=="function"?l(new URLSearchParams(r)):l,p=Ck(d).toString(),g=`${t.pathname}${p?`?${p}`:""}${t.hash}`;n(g,{replace:c?.replace})},[t.hash,t.pathname,n,r]);return[e?.params??r,e?.setSearchParams??o]}const Mm={pane:"terminal",console:"closed"},T6=["pane","console","file"];function z6(e){return e==="open"?"open":"closed"}function P6(e){return e==="problems"?"problems":"terminal"}function Ek(e){const t=e instanceof URLSearchParams?e:new URLSearchParams(e),n=t.get("pane"),r=t.get("console"),o=t.get("file");return{...{pane:P6(n),console:z6(r),fileId:o??void 0},present:{pane:t.has("pane"),console:t.has("console"),fileId:t.has("file")}}}function Bx(e,t){const n=Ek(e),r={...Mm,...n,...t},o=new URLSearchParams(e);for(const l of T6)o.delete(l);return r.pane!==Mm.pane&&o.set("pane",r.pane),r.console!==Mm.console&&o.set("console",r.console),r.fileId&&r.fileId.length>0&&o.set("file",r.fileId),o}function I6(){const[e,t]=Ed(),n=h.useMemo(()=>Ek(e),[e]),r=h.useCallback(c=>{n.fileId===c||!c&&!n.present.fileId||t(d=>Bx(d,{fileId:c??void 0}),{replace:!0})},[t,n.fileId,n.present.fileId]),o=h.useCallback(c=>{n.pane!==c&&t(d=>Bx(d,{pane:c}),{replace:!0})},[t,n.pane]),l=h.useCallback(c=>{n.console!==c&&t(d=>Bx(d,{console:c}),{replace:!0})},[t,n.console]);return{fileId:n.fileId??Mm.fileId,pane:n.pane,console:n.console,consoleExplicit:n.present.console,setFileId:r,setPane:o,setConsole:l}}const L6="You have unsaved changes in the config editor. Are you sure you want to leave?";function $6({isDirty:e,confirm:t=window.confirm,message:n=L6,shouldBypassNavigation:r}){const o=xr(),l=h.useCallback(c=>!e||r?.()||c.location.pathname===o.pathname?!0:t(n),[t,e,o.pathname,n,r]);KE(l,e),h.useEffect(()=>{if(!e)return;const c=d=>(d.preventDefault(),d.returnValue=n,n);return window.addEventListener("beforeunload",c),()=>{window.removeEventListener("beforeunload",c)}},[e,n])}function Hr(e,t,n){return Math.min(Math.max(e,t),n)}function xj(e,t){const{onMove:n,onEnd:r,cursor:o}=t;if(typeof window>"u")return;e.preventDefault();const l=e.pointerId,c=e.currentTarget,d=document.body.style.cursor,f=document.body.style.userSelect;let p=null,g=null,x=!0;const v=j=>{if(x){if(x=!1,p!==null&&(cancelAnimationFrame(p),p=null),document.body.style.cursor=d,document.body.style.userSelect=f,window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),c.removeEventListener("lostpointercapture",C),c.hasPointerCapture?.(l))try{c.releasePointerCapture(l)}catch{}r&&r(j)}},y=j=>{!x||j.pointerId!==l||(g=j,p===null&&(p=window.requestAnimationFrame(()=>{p=null,g&&n(g)})))},S=j=>{j.pointerId===l&&v(j)},C=j=>{j.pointerId===l&&v(j)};o&&(document.body.style.cursor=o),document.body.style.userSelect="none";try{c.setPointerCapture(l)}catch{}window.addEventListener("pointermove",y),window.addEventListener("pointerup",S),window.addEventListener("pointercancel",S),c.addEventListener("lostpointercapture",C)}function Xr({open:e,title:t,description:n,confirmLabel:r="Confirm",cancelLabel:o="Cancel",onConfirm:l,onCancel:c,isConfirming:d,children:f,confirmDisabled:p,tone:g="default"}){const x=h.useRef(null);if(h.useEffect(()=>{if(!e)return;const y=C=>{if(C.key==="Escape"&&c(),C.key==="Tab"){const j=x.current;if(!j)return;const E=Array.from(j.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(R=>!R.hasAttribute("disabled"));if(E.length===0)return;const N=E.indexOf(document.activeElement),_=C.shiftKey?N<=0?E.length-1:N-1:N===E.length-1?0:N+1;E[_]?.focus(),C.preventDefault()}};return window.addEventListener("keydown",y),x.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",y)},[c,e]),!e)return null;const v=g==="danger"?{badge:"bg-danger-500/15 text-danger-400",confirmVariant:"danger"}:{badge:"bg-brand-500/10 text-brand-500",confirmVariant:"primary"};return zn.createPortal(i.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[i.jsx("button",{type:"button",className:"absolute inset-0 bg-overlay/50",onClick:c,"aria-label":"Close dialog"}),i.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:i.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":t,className:"w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl",ref:x,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:de("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",v.badge),children:"Confirm"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:t}),n?i.jsx("p",{className:"text-sm text-muted-foreground",children:n}):null]}),f?i.jsx("div",{className:"mt-4 space-y-3",children:f}):null,i.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[i.jsx(Ge,{type:"button",variant:"ghost",onClick:c,disabled:d,children:o}),i.jsx(Ge,{type:"button",variant:v.confirmVariant,onClick:l,isLoading:d,disabled:p||d,className:g==="danger"?"hover:bg-danger-600":void 0,children:r})]})]})})]}),document.body)}const F6="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",U6="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function B6({label:e,icon:t,disabled:n,isLoading:r,highlight:o,className:l,primaryClassName:c,menuClassName:d,title:f,menuAriaLabel:p="Open menu",menuIcon:g=i.jsx(Gi,{className:"h-4 w-4"}),onPrimaryClick:x,onOpenMenu:v,onContextMenu:y}){const S=h.useRef(null),C=!!(n||r),j=E=>{if(C)return;E.preventDefault();const N=S.current?.getBoundingClientRect();if(N){v?.({x:N.left,y:N.bottom});return}v?.({x:E.clientX,y:E.clientY})};return i.jsxs("div",{role:"group",className:de("inline-flex items-stretch rounded-md shadow-sm",o&&"ring-2 ring-brand-300/70 ring-offset-2 ring-offset-transparent",l),onContextMenu:y,children:[i.jsxs("button",{type:"button",title:f,disabled:C,className:de(F6,c),onClick:E=>{C||x?.(E)},children:[t,i.jsx("span",{className:"whitespace-nowrap",children:e})]}),i.jsx("button",{ref:S,type:"button","aria-label":p,"aria-haspopup":"menu","aria-expanded":"false",disabled:C,className:de(U6,d),onClick:j,children:g})]})}async function V6(e,t={}){const{signal:n,page:r,pageSize:o,sort:l}=t,c={};typeof r=="number"&&r>0&&(c.page=r),typeof o=="number"&&o>0&&(c.perPage=o),l&&(c.sort=l);const{data:d}=await Xe.GET("/api/v1/workspaces/{workspaceId}/configurations",{params:{path:{workspaceId:e},query:c},signal:n});if(!d)throw new Error("Expected configuration page payload.");return d}async function H6(e,t,n){const{data:r}=await Xe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}",{params:{path:{workspaceId:e,configurationId:t}},signal:n});return r??null}async function cy(e,t){const{data:n}=await Xe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/validate",{params:{path:{workspaceId:e,configurationId:t}}});if(!n)throw new Error("Expected validation payload.");return n}async function q6(e,t){const{data:n}=await Xe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/publish",{params:{path:{workspaceId:e,configurationId:t}},body:null});if(!n)throw new Error("Expected configuration payload.");return n}async function W6(e,t){const{data:n}=await Xe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/archive",{params:{path:{workspaceId:e,configurationId:t}}});if(!n)throw new Error("Expected configuration payload.");return n}async function G6(e,t,n={}){const{prefix:r,depth:o,include:l,exclude:c,limit:d,cursor:f,sort:p,order:g,signal:x}=n,{data:v}=await Xe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files",{params:{path:{workspaceId:e,configurationId:t},query:{prefix:r??"",depth:o??"infinity",include:l?.length?[...l]:void 0,exclude:c?.length?[...c]:void 0,limit:d,cursor:f??void 0,sort:p,order:g}},signal:x,requestInitExt:{cache:"no-store"}});if(!v)throw new Error("Expected file listing payload.");return v}async function bj(e,t,n,r){const{data:o}=await Xe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files/{filePath}",{params:{path:{workspaceId:e,configurationId:t,filePath:n}},headers:{Accept:"application/json"},signal:r,requestInitExt:{cache:"no-store"}});if(!o)throw new Error("Expected file payload.");return o}async function uy(e,t){const{data:n,response:r}=await Xe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/export",{params:{path:{workspaceId:e,configurationId:t}},parseAs:"blob"});if(!n)throw new Error("Expected configuration archive payload.");const c=(r?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:n,filename:c??void 0}}async function Y6(e,t,n){const r=tU(n.path),o=n.parents?{parents:!0}:{},l=new URLSearchParams;o.parents&&l.set("parents","true");const c=l.toString(),d=n.content,f=n.contentType??(typeof Blob<"u"&&n.content instanceof Blob&&n.content.type?n.content.type:"application/octet-stream"),p=await wh(`/api/v1/workspaces/${e}/configurations/${t}/files/${r}${c?`?${c}`:""}`,{method:"PUT",body:d,headers:{"Content-Type":f,...n.create?{"If-None-Match":"*"}:n.etag?{"If-Match":n.etag}:{}}});if(!p.ok){const x=await xc(p),v=x?.title??`Request failed with status ${p.status}`;throw new Pt(v,p.status,x)}const g=await p.json().catch(()=>({}));if(!g||!g.path)throw new Error("Expected write response payload.");return g}async function K6(e,t,n,r={}){await Xe.DELETE("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files/{filePath}",{params:{path:{workspaceId:e,configurationId:t,filePath:n}},headers:r.etag?{"If-Match":r.etag}:void 0})}async function Z6(e,t,n){const{data:r}=await Xe.PUT("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/directories/{directoryPath}",{params:{path:{workspaceId:e,configurationId:t,directoryPath:n}}});if(!r)throw new Error("Expected directory response payload.");return r}async function Q6(e,t,n,r={}){const o={};r.recursive&&(o.recursive=!0),await Xe.DELETE("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/directories/{directoryPath}",{params:{path:{workspaceId:e,configurationId:t,directoryPath:n},query:o}})}async function X6(e,t){const n=new FormData;n.append("display_name",t.displayName),n.append("file",t.file);const{data:r}=await Xe.POST("/api/v1/workspaces/{workspaceId}/configurations/import",{params:{path:{workspaceId:e}},body:n,bodySerializer:()=>n});if(!r)throw new Error("Expected configuration payload.");return r}async function J6(e,t,n){const r=new FormData;r.append("file",n.file);const{data:o}=await Xe.PUT("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/import",{params:{path:{workspaceId:e,configurationId:t}},headers:n.ifMatch?{"If-Match":n.ifMatch}:void 0,body:r,bodySerializer:()=>r});if(!o)throw new Error("Expected configuration payload.");return o}function eU(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function Nk(e,t){const{data:n}=await Xe.POST("/api/v1/workspaces/{workspaceId}/configurations",{params:{path:{workspaceId:e}},body:{display_name:t.displayName.trim(),source:eU(t.source)}});if(!n)throw new Error("Expected configuration payload.");return n}function tU(e){return e.split("/").map(t=>encodeURIComponent(t)).join("/")}const vn={root:e=>["workspaces",e,"configurations"],list:(e,t={})=>[...vn.root(e),"list",{...t}],detail:(e,t)=>[...vn.root(e),"detail",t],files:(e,t)=>[...vn.detail(e,t),"files"],file:(e,t,n)=>[...vn.files(e,t),"file",n]};function nU({workspaceId:e,configId:t,enabled:n=!0,...r}){const{prefix:o="",depth:l="infinity",include:c,exclude:d,limit:f,cursor:p,sort:g="path",order:x="asc"}=r;return _n({queryKey:[...vn.files(e,t),o,l,c?.join("|")??"",d?.join("|")??"",f??"",p??"",g,x],queryFn:({signal:v})=>G6(e,t,{prefix:o,depth:l,include:c,exclude:d,limit:f,cursor:p,sort:g,order:x,signal:v}),enabled:n&&e.length>0&&t.length>0,staleTime:5e3})}function rU(e,t){const n=Tt();return Ln({mutationFn:r=>Y6(e,t,r),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:vn.files(e,t)}),n.invalidateQueries({queryKey:vn.file(e,t,o.path)})])}})}function sU(e,t){const n=Tt();return Ln({mutationFn:r=>K6(e,t,r.path,{etag:r.etag}),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:vn.files(e,t)}),n.invalidateQueries({queryKey:vn.file(e,t,o.path)})])}})}function oU(e,t){const n=Tt();return Ln({mutationFn:r=>Z6(e,t,r.path),async onSuccess(){await n.invalidateQueries({queryKey:vn.files(e,t)})}})}function aU(e,t){const n=Tt();return Ln({mutationFn:r=>Q6(e,t,r.path,{recursive:r.recursive}),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:vn.files(e,t)}),n.invalidateQueries({queryKey:vn.file(e,t,o.path)})])}})}function iU(e){return Ln({mutationFn:t=>X6(e,t)})}function lU(e,t){return Ln({mutationFn:n=>J6(e,t,n)})}function dy(e){const t=Tt();return Ln({mutationFn:({configurationId:n})=>q6(e,n),async onSuccess(){await t.invalidateQueries({queryKey:vn.root(e)})}})}function _k(e){const t=Tt();return Ln({mutationFn:({configurationId:n})=>W6(e,n),async onSuccess(){await t.invalidateQueries({queryKey:vn.root(e)})}})}function fy(e){const t=Tt();return Ln({mutationFn:({sourceConfigurationId:n,displayName:r})=>Nk(e,{displayName:r,source:{type:"clone",configurationId:n}}),async onSuccess(){await t.invalidateQueries({queryKey:vn.root(e)})}})}const cU=100;function $h({workspaceId:e,enabled:t=!0,page:n=1,pageSize:r=cU}){return _n({queryKey:vn.list(e,{page:n,pageSize:r}),queryFn:({signal:o})=>V6(e,{page:n,pageSize:r,signal:o}),enabled:t&&e.length>0,staleTime:15e3,placeholderData:o=>o})}function kk({workspaceId:e,configurationId:t,enabled:n=!0}){return _n({queryKey:vn.detail(e,t??""),queryFn:({signal:r})=>t?H6(e,t,r):Promise.resolve(null),enabled:n&&e.length>0&&!!t,staleTime:1e4})}function uU(e){const t=Tt();return Ln({mutationFn:n=>Nk(e,n),async onSuccess(){await t.invalidateQueries({queryKey:vn.root(e)})}})}const dU=50;async function fU(e,t,n){const{data:r}=await Xe.GET("/api/v1/workspaces/{workspaceId}/documents/{documentId}/sheets",{params:{path:{workspaceId:e,documentId:t}},signal:n});return r??[]}async function mU(e,t,n){const r={sort:t.sort??void 0,page:t.page>0?t.page:1,perPage:t.perPage>0?t.perPage:dU,q:t.q??void 0,filters:Sh(t.filters),joinOperator:t.joinOperator},{data:o,response:l}=await Xe.GET("/api/v1/workspaces/{workspaceId}/documents",{params:{path:{workspaceId:e},query:r},signal:n});if(!o)throw new Error("Expected document page payload.");const c=l?.headers?.get("x-ade-changes-cursor");return{...o,changesCursorHeader:c}}async function hU(e,t,n,r={}){const o={};"assigneeId"in n&&(o.assigneeId=n.assigneeId??null),"metadata"in n&&(o.metadata=n.metadata??null);const{data:l}=await Xe.PATCH("/api/v1/workspaces/{workspaceId}/documents/{documentId}",{params:{path:{workspaceId:e,documentId:t}},body:o,headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0});if(!l)throw new Error("Expected updated document record.");return l}function my(e="idem"){return typeof crypto<"u"&&"randomUUID"in crypto?`${e}_${crypto.randomUUID()}`:`${e}_${Date.now()}_${Math.random().toString(36).slice(2,10)}`}const pU=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"});function gU(e,t,n={}){const{method:r="POST",headers:o,onProgress:l,signal:c}=n,d=Yi(e),f=new XMLHttpRequest,p=new Promise((x,v)=>{f.open(r,d),f.withCredentials=!0,Ov(r,o).forEach((S,C)=>{f.setRequestHeader(C,S)}),f.upload.onprogress=S=>{const C=S.lengthComputable?S.total:null,j=C&&C>0?Math.round(S.loaded/C*100):null;l?.({loaded:S.loaded,total:C,percent:j})},f.onload=()=>{const S=f.status,C=f.getResponseHeader("Content-Type")??"",j=f.responseText??"",E=xU(j,C);if(S>=200&&S<300){x({data:E,status:S});return}const N=bU(j,C),_=N?.title??N?.detail??`Request failed with status ${S}`;v(new Pt(_,S,N))},f.onerror=()=>{v(new Pt("Upload failed due to a network error.",f.status||0))},f.onabort=()=>{v(pU)},f.send(t)}),g=()=>{f.abort()};return c&&(c.aborted?f.abort():(c.addEventListener("abort",g),p.finally(()=>c.removeEventListener("abort",g)))),{promise:p,abort:()=>f.abort()}}function xU(e,t){if(!e||!t.includes("application/json"))return null;try{return JSON.parse(e)}catch{return null}}function bU(e,t){if(!(!e||!NN(t)))try{return JSON.parse(e)}catch{return}}function vU(e,t,n={}){const r=new FormData;return r.append("file",t),n.runOptions&&r.append("run_options",JSON.stringify(n.runOptions)),gU(`/api/v1/workspaces/${e}/documents`,r,{headers:{"Idempotency-Key":n.idempotencyKey??my("document-upload")},onProgress:n.onProgress})}async function yU(e,t,n){const{data:r}=await Xe.POST("/api/v1/workspaces/{workspaceId}/documents/uploadsessions",{params:{path:{workspaceId:e}},body:t,signal:n});if(!r)throw new Error("Expected upload session response.");return r}async function wU(e,t,n){const r=await wh(`/api/v1/workspaces/${e}/documents/uploadsessions/${t}`,{method:"PUT",body:n.body,headers:{"Content-Range":`bytes ${n.start}-${n.end}/${n.total}`,"Content-Type":"application/octet-stream"},signal:n.signal});if(!r.ok){const l=await xc(r),c=l?.title??`Request failed with status ${r.status}`;throw new Pt(c,r.status,l)}const o=await r.json().catch(()=>null);if(!o)throw new Error("Expected upload range response.");return o}async function SU(e,t,n){const{data:r}=await Xe.GET("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}",{params:{path:{workspaceId:e,uploadSessionId:t}},signal:n});if(!r)throw new Error("Expected upload session status response.");return r}async function CU(e,t,n,r){const{data:o}=await Xe.POST("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}/commit",{params:{path:{workspaceId:e,uploadSessionId:t}},headers:{"Idempotency-Key":n??my("document-commit")},signal:r});if(!o)throw new Error("Expected upload commit response.");return o}async function jU(e,t,n){await Xe.DELETE("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}",{params:{path:{workspaceId:e,uploadSessionId:t}},signal:n})}async function EU(e,t,n,r){const o={add:n.add?[...n.add]:n.add,remove:n.remove?[...n.remove]:n.remove},{data:l}=await Xe.PATCH("/api/v1/workspaces/{workspaceId}/documents/{documentId}/tags",{params:{path:{workspaceId:e,documentId:t}},body:o,signal:r});if(!l)throw new Error("Expected document payload.");return l}async function Rk(e,t={},n){const{data:r}=await Xe.GET("/api/v1/workspaces/{workspaceId}/documents/tags",{params:{path:{workspaceId:e},query:t},signal:n});if(!r)throw new Error("Expected tag catalog payload.");return r}function NU(e,t={}){const n=new URLSearchParams;t.cursor&&n.set("cursor",t.cursor),typeof t.limit=="number"&&n.set("limit",String(t.limit)),t.sort&&n.set("sort",t.sort),t.q&&n.set("q",t.q),t.joinOperator&&n.set("joinOperator",t.joinOperator);const r=Sh(t.filters);r&&n.set("filters",r);const o=n.toString();return Yi(`/api/v1/workspaces/${e}/documents/changes/stream${o?`?${o}`:""}`)}async function*_U(e,t){const n=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),r=new AbortController,o=()=>r.abort();let l=null;t?.aborted?r.abort():t&&t.addEventListener("abort",o);try{const c=Ov("GET",{Accept:"text/event-stream"}),d=await fetch(e,{method:"GET",credentials:"include",headers:c,signal:r.signal});if(!d.ok){const g=await xc(d),x=g?.title??`Request failed with status ${d.status}`;throw new Pt(x,d.status,g)}if(!d.body)throw new Error("Document change stream unavailable.");l=d.body.getReader();const f=new TextDecoder;let p="";for(;;){const{value:g,done:x}=await l.read();for(p+=f.decode(g??new Uint8Array,{stream:!x});;){const v=p.match(/\r?\n\r?\n/);if(!v||v.index===void 0)break;const y=p.slice(0,v.index);p=p.slice(v.index+v[0].length);const S=vj(y);S&&(yield S)}if(x){const v=vj(p);v&&(yield v);return}}}catch(c){throw r.signal.aborted?n:c}finally{if(t&&t.removeEventListener("abort",o),l)try{await l.cancel()}catch{}r.signal.aborted||r.abort()}}function vj(e){const t=[];for(const r of e.split(/\r?\n/))if(r.startsWith("data:")){const o=r.slice(5);t.push(o.startsWith(" ")?o.slice(1):o)}if(!t.length)return null;const n=t.join(`
`);if(!n.trim())return null;try{const r=JSON.parse(n);return!r||typeof r!="object"||typeof r.type!="string"||typeof r.cursor!="string"?null:r}catch(r){return console.warn("Skipping malformed document change event",r,n),null}}const kU="block w-full rounded-lg border border-border bg-card px-3 py-2 text-sm font-medium text-foreground shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground",sh=h.forwardRef(({className:e,...t},n)=>i.jsx("select",{ref:n,className:de(kU,e),...t}));sh.displayName="Select";class RU{constructor(t){if(this.capacity=t,!Number.isFinite(t)||t<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(t)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(t){if(this._length<this.capacity){const n=(this.start+this._length)%this.capacity;this.buffer[n]=t,this._length+=1;return}this.buffer[this.start]=t,this.start=(this.start+1)%this.capacity}get(t){if(t<0||t>=this._length)return;const n=(this.start+t)%this.capacity;return this.buffer[n]}toArray(){const t=[];for(let n=0;n<this._length;n+=1){const r=this.get(n);r!==void 0&&t.push(r)}return t}}class MU{constructor(t,n){this.capacity=t,this.buffer=new RU(t),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},n?.length&&this.appendMany(n)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(t){return this.buffer.get(t)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(t){this.buffer.push(yj(t,this.nextId++)),this.scheduleNotify()}appendMany(t){for(const n of t)this.buffer.push(yj(n,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const t of this.listeners)t()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const t=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(t);return}setTimeout(t,0)}}function yj(e,t){if(e.id)return e;const n=e.origin??"run",r=e.timestamp??"ts";return{...e,id:`console-${n}-${r}-${t}`}}const DU=50,AU={dry_run:!1,validate_only:!1,force_rebuild:!1,log_level:"INFO",active_sheet_only:!1};async function OU(e,t,n){const r={page:t.page,perPage:t.perPage,sort:t.sort??void 0,q:t.q??void 0,joinOperator:t.joinOperator,filters:Sh(t.filters)},{data:o}=await Xe.GET("/api/v1/workspaces/{workspaceId}/runs",{params:{path:{workspaceId:e},query:r},signal:n});if(!o)throw new Error("Expected run page payload.");return o}async function TU(e,t){try{const{data:n}=await Xe.GET("/api/v1/runs/{runId}/metrics",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Expected run metrics payload.");return n}catch(n){if(n instanceof Pt&&n.status===404)return null;throw n}}async function zU(e,t){try{const{data:n}=await Xe.GET("/api/v1/runs/{runId}/fields",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Expected run fields payload.");return n}catch(n){if(n instanceof Pt&&n.status===404)return null;throw n}}async function PU(e,t,n){try{const{data:r}=await Xe.GET("/api/v1/runs/{runId}/columns",{params:{path:{runId:e},query:t??void 0},signal:n});if(!r)throw new Error("Expected run columns payload.");return r}catch(r){if(r instanceof Pt&&r.status===404)return null;throw r}}async function IU(e,t,n,r){const o={workspaceId:e},{input_document_id:l,configuration_id:c,...d}=t,f={...AU,...d};if(!l)throw new Error("input_document_id is required to start a run.");const p={input_document_id:l,configuration_id:c??void 0,options:f},{data:g}=await Xe.POST("/api/v1/workspaces/{workspaceId}/runs",{params:{path:o},headers:{"Idempotency-Key":my("run")},body:p,signal:n});if(!g)throw new Error("Expected run creation response.");return g}async function*LU(e,t){yield*$U(e,t)}async function*$U(e,t){const n=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),r=new AbortController,o=()=>r.abort();let l=null;t?.aborted?r.abort():t&&t.addEventListener("abort",o);try{const c=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:r.signal});if(!c.body||!c.ok)throw new Error("Run event stream unavailable.");l=c.body.getReader();const d=new TextDecoder;let f="",p=!1;for(;;){const{value:g,done:x}=await l.read();f+=d.decode(g??new Uint8Array,{stream:!x});const v=f.split(`

`);f=v.pop()??"";for(const y of v){const S=wj(y);if(S&&(yield S,S.event==="run.complete")){p=!0;break}}if(x||p){const y=wj(f);y&&(yield y);return}}}catch(c){throw r.signal.aborted?n:c}finally{if(t&&t.removeEventListener("abort",o),l)try{await l.cancel()}catch{}r.signal.aborted||r.abort()}}function wj(e){const t=[];for(const r of e.split(/\n/))if(r.startsWith("data:")){const o=r.slice(5);t.push(o.startsWith(" ")?o.slice(1):o);continue}if(!t.length)return null;const n=t.join(`
`);if(!n.trim())return null;try{const r=JSON.parse(n);return!r||typeof r!="object"||typeof r.event!="string"||r.event.trim().length===0||!("timestamp"in r)?null:(r._raw=n,r)}catch(r){return console.warn("Skipping malformed run event",r,n),null}}function FU(e,t){const n=e.events_stream_url??e.links?.events_stream;if(!n)return null;const r=[];if(Number.isFinite(t.afterSequence)){const l=Math.max(0,Math.floor(t.afterSequence));r.push(`after_sequence=${l}`)}const o=r.length?r.join("&"):void 0;return qU(n,{appendQuery:o})}async function*UU(e,t){const n=typeof e=="string"?await Mk(e,t?.signal):e,r=FU(n,{afterSequence:t?.afterSequence});if(!r)throw new Error("Run events link unavailable.");for await(const o of LU(r,t?.signal))yield o}async function Mk(e,t){const{data:n}=await Xe.GET("/api/v1/runs/{runId}",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Run not found");return n}function BU(e){const t=e.output,n=t?.ready,r=t?.download_url??e.links?.output_download??e.links?.output;return n===!1||!r?null:Yi(r)}function VU(e){const t=e.events_download_url??e.links?.events_download;return t?Yi(t):null}function HU(e){const t=e.links?.input_download??e.links?.input;return t?Yi(t):null}function qU(e,t){const n=e.includes("?"),r=t?.appendQuery?`${e}${n?"&":"?"}${t.appendQuery}`:e;return Yi(r)}function WU(e){const t=new Date(e.timestamp);return Number.isNaN(t.getTime())?new Date().toISOString():t.toISOString()}function Sj(e){return e.event.toString()}function GU(e){const t=e.data;return t&&typeof t=="object"?t:{}}function YU({workspaceId:e,configId:t,onJobIdChange:n,seed:r,maxConsoleLines:o=2e3,onError:l}){const c=h.useRef(new MU(o,r?.console?[...r.console].slice(-o):void 0)),d=h.useRef(null),f=h.useRef(!1),[p,g]=h.useState(null),[x,v]=h.useState(null),[y,S]=h.useState("idle"),[C,j]=h.useState(null),E=y==="running",N=h.useCallback(()=>{const M=d.current;M&&(M.abort(),d.current=null)},[]);h.useEffect(()=>()=>{N()},[N]);const _=h.useCallback(()=>{c.current.clear()},[]),R=h.useCallback(M=>{l&&l(M)},[l]),D=h.useCallback(M=>{const O=Sj(M),L=GU(M),G=(O.startsWith("build.")?"build":O==="console.line"&&typeof L.scope=="string"?L.scope:"run")==="build"?"build":"run",P=typeof M.level=="string"?M.level.toLowerCase():"info",$=P==="debug"||P==="warning"||P==="error"||P==="success"?P:"info",W=typeof M.message=="string"?M.message:"",ce=W.trim()?W:O,z={id:typeof M.event_id=="string"?M.event_id:void 0,level:$,message:ce,timestamp:WU(M),origin:G,raw:M};if(c.current.append(z),O==="run.complete"){j(L);const q=typeof L.status=="string"?L.status.toLowerCase():"";S(q==="succeeded"||q==="success"?"succeeded":q==="cancelled"||q==="canceled"?"cancelled":"failed")}},[]),A=h.useCallback(async(M,O,L)=>{if(f.current||E||L?.prepare&&L.prepare()===!1)return null;N(),_(),j(null),v(O.mode),S("running"),g(null),n?.(null);const T=new Date().toISOString(),G=new AbortController;d.current=G,f.current=!0;let P=null;try{const $=await IU(e,{...M,configuration_id:t},G.signal);P=$.id,g($.id),n?.($.id);for await(const W of UU($,{afterSequence:0,signal:G.signal}))if(D(W),Sj(W)==="run.complete")break;if(!P)throw new Error("Run creation response missing run id.");return{jobId:P,startedAt:T}}catch($){return G.signal.aborted||(S("failed"),R($)),null}finally{f.current=!1,d.current===G&&(d.current=null)}},[_,t,E,n,R,D,N,e]);return h.useMemo(()=>({console:c.current,jobId:p,jobMode:x,jobStatus:y,jobInProgress:E,completedDetails:C,clearConsole:_,startJob:A}),[p,x,y,E,C,_,A])}function KU(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function ZU(e){const t=(e??"").toLowerCase();return t==="succeeded"||t==="failed"||t==="cancelled"?t:t==="success"?"succeeded":"failed"}function QU({workspaceId:e,configId:t,runId:n,seed:r,maxConsoleLines:o,onRunIdChange:l,onRunComplete:c}){const d=h.useRef(null),{console:f,jobId:p,jobMode:g,jobStatus:x,jobInProgress:v,completedDetails:y,clearConsole:S,startJob:C}=YU({workspaceId:e,configId:t,onJobIdChange:l,seed:r?{console:r.console}:void 0,maxConsoleLines:o}),j=p??n,E=g??null,[N,_]=h.useState(null),R=h.useRef(null),D=h.useMemo(()=>({status:v&&E==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[v,E]);h.useEffect(()=>{if(!j||!KU(x)||R.current===j)return;R.current=j;const O=ZU(typeof y?.status=="string"?y.status:null),L=E??"extraction",T=y?.execution??{},G=typeof T.started_at=="string"?T.started_at:null,P=typeof T.completed_at=="string"?T.completed_at:new Date().toISOString(),$=typeof T.duration_ms=="number"?T.duration_ms:null;if(c?.({runId:j,status:O,mode:L,startedAt:G,completedAt:P,durationMs:$,payload:y}),L==="validation")return;const W=d.current,ce=y?.artifacts??{},z=typeof ce.output_path=="string"?ce.output_path:null,q=typeof ce.processed_file=="string"?ce.processed_file:null;_({runId:j,status:O,outputUrl:void 0,inputUrl:void 0,outputReady:z?!0:void 0,outputFilename:z?XU(z):null,outputPath:z,logsUrl:void 0,processedFile:q,outputLoaded:!1,documentName:W?.documentName,sheetNames:W?.sheetNames??[],error:null,startedAt:G,completedAt:P,durationMs:$}),(async()=>{try{const Z=await Mk(j),F=BU(Z)??void 0,ae=VU(Z)??void 0,B=HU(Z)??void 0;_(U=>U&&U.runId===j?{...U,outputUrl:F??U.outputUrl,outputReady:F?!0:U.outputReady,logsUrl:ae??U.logsUrl,inputUrl:B??U.inputUrl,outputLoaded:!0}:U)}catch{_(Z=>Z&&Z.runId===j?{...Z,outputLoaded:!0}:Z)}})()},[j,x,y,c,E]);const A=h.useCallback(async(O,L,T)=>{d.current=L;const G=T?.forceRebuild?{...O,force_rebuild:!0}:O,P=await C(G,L,{prepare:T?.prepare});return P&&L.mode==="extraction"&&_(null),P?{runId:P.jobId,startedAt:P.startedAt}:null},[C]),M=x;return h.useMemo(()=>({runStatus:M,runMode:E??void 0,runInProgress:v,validation:D,console:f,latestRun:N,clearConsole:S,startRun:A}),[M,E,v,D,f,N,S,A])}function XU(e){const t=e.trim();if(!t)return"";const n=t.split("/");return n[n.length-1]||t}const Dk=e=>`ade.ui.workspace.${e}.config-builder.last`;function hy(e){return Wo(Dk(e))}function py(e,t){if(t){const n={configId:t};return e.set(n),n}return e.clear(),null}function oc(e){return e?typeof e=="string"?e.toLowerCase():String(e).toLowerCase():""}function Cj(e,t){const n=e?new Date(e).getTime():0;return(t?new Date(t).getTime():0)-n}function gy(e,t){const n=`Copy of ${e}`.trim();if(!t.has(n.toLowerCase()))return n;for(let r=2;r<100;r+=1){const o=`${n} (${r})`;if(!t.has(o.toLowerCase()))return o}return`${n} (${Date.now()})`}const JU={min:200,max:420},eB=320,tB=120,Vx=140,nB=220,rB=40,sB=2e3,jj=10,oB=56,Ej="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",aB=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.tabs`,iB=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.console`,lB=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.explorer.expanded`,cB=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.layout`,uB={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"},dB=[{value:"DEBUG",label:"Debug"},{value:"INFO",label:"Info"},{value:"WARNING",label:"Warning"},{value:"ERROR",label:"Error"}];function Ak({workspaceId:e,configId:t,configName:n,configDisplayName:r,seed:o,windowState:l,onMinimizeWindow:c,onMaximizeWindow:d,onRestoreWindow:f,onCloseWorkbench:p,shouldBypassUnsavedGuard:g}){const x=Tt(),v=sn(),{fileId:y,pane:S,console:C,consoleExplicit:j,setFileId:E,setPane:N,setConsole:_}=I6(),[R,D]=h.useState(null),A=!!o,M=nU({workspaceId:e,configId:t,depth:"infinity",sort:"path",order:"asc",enabled:!A}),O=M.data?.fileset_hash??null,L=M.data?.status==="draft",T=M.data?.capabilities,G=A||!!T?.editable,P=!G,$=h.useMemo(()=>hy(e),[e]),W=$h({workspaceId:e,enabled:!A}),ce=h.useMemo(()=>{const ee=W.data?.items??[];return new Set(ee.map(xe=>xe.display_name.trim().toLowerCase()))},[W.data?.items]),z=h.useMemo(()=>{const ee=W.data?.items??[];for(const xe of ee)if(oc(xe.status)==="active")return xe;return null},[W.data?.items]),q=fy(e),Z=dy(e),[F,ae]=h.useState(!1),[B,U]=h.useState(""),[ne,K]=h.useState(null),[H,Y]=h.useState(!1),[V,te]=h.useState(null),se=h.useMemo(()=>o?o.tree:M.data?pj(M.data):null,[o,M.data]);h.useEffect(()=>{t&&(A||M.isSuccess)&&py($,t)},[t,A,M.isSuccess,$]);const oe=h.useCallback(()=>{q.reset(),K(null),U(gy(r,ce)),ae(!0)},[r,q,ce]);h.useEffect(()=>{if(!H||!L||A)return;let ee=!1;return te({stage:"checking"}),cy(e,t).then(xe=>{if(!ee){if(Array.isArray(xe.issues)&&xe.issues.length>0){te({stage:"issues",issues:xe.issues});return}te({stage:"confirm"})}}).catch(xe=>{if(ee)return;const Ie=xe instanceof Error?xe.message:"Unable to validate configuration.";te({stage:"error",message:Ie})}),()=>{ee=!0}},[t,L,H,A,e]);const[fe,Se]=h.useState(null),Ae=h.useCallback(ee=>{Se(ee)},[]),De=lU(e,t),st=h.useRef(null),[pt,ut]=h.useState(null),[fn,Mt]=h.useState(!1),[Q,X]=h.useState(!1),{runStatus:ue,runMode:Re,runInProgress:Ce,validation:ge,console:ke,latestRun:ve,clearConsole:_e,startRun:$e}=QU({workspaceId:e,configId:t,runId:R,seed:o,maxConsoleLines:sB,onRunIdChange:D,onRunComplete:Ae}),[bt,Et]=h.useState(!1),[Jn,nn]=h.useState(!1),Ut=h.useMemo(()=>o?null:Wo(aB(e,t)),[e,t,o]),Bt=h.useMemo(()=>o?null:Wo(iB(e,t)),[e,t,o]),Vt=h.useMemo(()=>Wo(cB(e,t)),[e,t]),lr=h.useRef(null),br=Mv(),le=gN(br.resolvedMode)?"dark":"light",Me=br.resolvedMode==="light"?"vs-light":"ade-dark",Oe=ge.lastRunAt?`Last run ${xB(ge.lastRunAt)}`:void 0,[Pe,ot]=h.useState(()=>{const ee=Vt.get();return ee?.explorer?{collapsed:!!ee.explorer.collapsed,fraction:ee.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[Ve,mn]=h.useState(null),yn=h.useRef(null),[wn,hn]=h.useState(!1);h.useEffect(()=>{Bt?lr.current=Bt.get()??null:lr.current=null,yn.current=null,mn(null),hn(!1)},[Bt]);const[kn,Sn]=h.useState({width:0,height:0}),[Nr,vr]=h.useState(null),[cr,js]=h.useState("explorer"),[ns,_r]=h.useState(null),[Es,er]=h.useState(null),[Rn,tr]=h.useState(!1),[Xo,ni]=h.useState(!1),[gp,Ud]=h.useState(!1),[Dt,Ys]=h.useState(null),[rs,bo]=h.useState(!1),[ss,os]=h.useState(null),[Jo,pn]=h.useState(null),[Bd,nl]=h.useState(null),{notifyBanner:as,dismissScope:vo,notifyToast:an}=pd(),ea=h.useMemo(()=>`workbench-console:${e}:${t}`,[e,t]),Fn=h.useMemo(()=>`workbench-upload:${e}:${t}`,[e,t]),Dc=sU(e,t),ta=oU(e,t),na=aU(e,t),ft=h.useCallback((ee,xe)=>{as({title:ee,intent:xe?.intent??"info",duration:xe?.duration??6e3,dismissible:!0,scope:ea,persistKey:ea})},[as,ea]),nr=h.useCallback(()=>{vo(ea,"banner")},[vo,ea]),Gn=h.useCallback(ee=>{const xe=Hx(ee);ft(xe,{intent:"danger",duration:null})},[ft]),Vd=h.useCallback(async()=>{Mt(!0);try{const ee=await uy(e,t),xe=ee.filename??`${t}.zip`,Ie=URL.createObjectURL(ee.blob),Te=document.createElement("a");Te.href=Ie,Te.download=xe,Te.click(),URL.revokeObjectURL(Ie),ft(`Exported ${xe}`,{intent:"success",duration:4e3})}catch(ee){Gn(ee),ft("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{Mt(!1)}},[e,t,ft,Gn]),ri=h.useCallback(()=>{ae(!1),K(null)},[]),Hd=h.useCallback(()=>{const ee=B.trim();if(!ee){K("Enter a name for the new draft configuration.");return}K(null),q.mutate({sourceConfigurationId:t,displayName:ee},{onSuccess(xe){an({title:"Draft created.",intent:"success",duration:3500}),ri(),v(`/workspaces/${e}/config-builder/${encodeURIComponent(xe.id)}/editor`)},onError(xe){K(xe instanceof Error?xe.message:"Unable to duplicate configuration.")}})},[ri,t,B,q,v,an,e]),ra=h.useCallback(()=>{Z.reset(),te({stage:"checking"}),Y(!0)},[Z]),si=h.useCallback(()=>{Y(!1),te(null)},[]),kr=h.useCallback(()=>{Z.mutate({configurationId:t},{async onSuccess(){an({title:"Configuration is now active and locked.",description:"Duplicate it to make further edits.",intent:"success",duration:5e3}),si(),await Promise.all([x.invalidateQueries({queryKey:vn.files(e,t)}),x.invalidateQueries({queryKey:vn.root(e)})])},onError(ee){const xe=ee instanceof Error?ee.message:"Unable to make configuration active.";te({stage:"error",message:xe})}})},[si,t,Z,an,x,e]);h.useEffect(()=>{if(!fe)return;const{runId:ee,status:xe,payload:Ie}=fe,Te=Ie?.failure??void 0,gt=(typeof Te?.message=="string"?Te.message.trim():null)||"ADE run failed.",xt=xe==="cancelled";ft(xe==="succeeded"?"ADE run completed successfully.":xt?"ADE run cancelled.":gt,{intent:xe==="succeeded"?"success":xt?"info":"danger"}),Se(Un=>Un&&Un.runId===ee?null:Un)},[fe,ft,Se]);const is=l==="maximized",yo=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Ac=h.useCallback(()=>{p()},[p]),wo=!Pe.collapsed,qd=h.useCallback(async ee=>{if(o)return{content:o.content[ee]??"",etag:null};const xe=await x.fetchQuery({queryKey:vn.file(e,t,ee),queryFn:({signal:Ie})=>bj(e,t,ee,Ie)});if(!xe)throw new Error("File could not be loaded.");return{content:Nj(xe),etag:xe.etag??null}},[o,x,e,t]),Je=A6({tree:se,initialActiveFileId:y,loadFile:qd,persistence:Ut??void 0}),sa=h.useCallback((ee,xe)=>{Je.updateContent(ee,xe)},[Je]),oa=rU(e,t),oi=h.useCallback(async ee=>{if(A)return null;const xe=await x.fetchQuery({queryKey:vn.file(e,t,ee),queryFn:({signal:Te})=>bj(e,t,ee,Te)}),Ie=Nj(xe);return Je.replaceTabContent(ee,{content:Ie,etag:xe.etag??null,metadata:{size:xe.size??null,modifiedAt:xe.mtime??null,contentType:xe.content_type??Je.tabs.find(Te=>Te.id===ee)?.metadata?.contentType??null,etag:xe.etag??null}}),xe},[A,x,e,t,Je]);$6({isDirty:Je.isDirty,shouldBypassNavigation:g});const Wd=h.useCallback(()=>{c()},[c]),Oc=h.useCallback(()=>{is?f():d()},[is,d,f]),yr=C!=="open",So=h.useMemo(()=>Je.tabs.filter(ee=>ee.status==="ready"&&ee.content!==ee.initialContent),[Je.tabs]),rl=Je.tabs.some(ee=>ee.saving),Yn=!A&&G&&So.length>0;h.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[Pe.collapsed,Pe.fraction,yr,Ve,is,S]);const Ks=h.useCallback(async ee=>{if(A)return!1;const xe=Je.tabs.find(Qe=>Qe.id===ee);if(!xe||xe.status!=="ready"||xe.content===xe.initialContent||xe.saving)return!1;const Ie=xe.content,Te=xe.etag??void 0;Je.beginSavingTab(ee);try{const Qe=await oa.mutateAsync({path:xe.id,content:Ie,etag:Te,create:!Te,parents:!0}),gt={size:Qe.size??xe.metadata?.size??null,modifiedAt:Qe.mtime??xe.metadata?.modifiedAt??null,contentType:xe.metadata?.contentType??null,etag:Qe.etag??xe.metadata?.etag??null};return Je.completeSavingTab(ee,{etag:Qe.etag??xe.etag??null,metadata:gt,savedContent:Ie}),ft(`Saved ${xe.name}`,{intent:"success",duration:4e3}),!0}catch(Qe){const gt=Qe instanceof Pt&&Qe.status===412,xt=gt?new Error("Save blocked because this file changed on the server. Reloading latest version."):Qe;if(Je.failSavingTab(ee,xt instanceof Error?xt.message:String(xt)),gt)try{await oi(ee),ft("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(cn){Gn(cn)}return Gn(xt),!1}},[A,Je,oa,ft,oi,Gn]),aa=h.useCallback(async ee=>{const xe=[];for(const Ie of ee)await Ks(Ie)&&xe.push(Ie);return xe},[Ks]),Ns=h.useCallback(async()=>{if(!Yn||So.length===0)return!0;const xe=(await aa(So.map(Ie=>Ie.id))).length===So.length;return xe||ft("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),xe},[Yn,So,aa,ft]),ia=h.useCallback(ee=>{Ks(ee)},[Ks]),sl=h.useCallback(()=>{Je.activeTab&&Ks(Je.activeTab.id)},[Je.activeTab,Ks]),Tc=h.useCallback(()=>{if(!Yn)return;const ee=So.map(xe=>xe.id);(async()=>{const xe=await aa(ee);xe.length>1&&ft(`Saved ${xe.length} files`,{intent:"success",duration:5e3})})()},[Yn,So,aa,ft]);h.useEffect(()=>{const ee=Nr;if(!ee||typeof window>"u")return;const xe=()=>{const Te=ee.getBoundingClientRect(),Qe=Te.width,gt=Te.height;Sn({width:Qe,height:gt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(xe(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe);const Ie=new window.ResizeObserver(()=>xe());return Ie.observe(ee),()=>Ie.disconnect()},[Nr]);const Co=yr?eB:tB,ln=h.useMemo(()=>{const ee=Math.max(0,kn.height),Ie=Math.max(0,ee-Co-jj),Te=Math.min(Vx,Ie);return{container:ee,minPx:Te,maxPx:Ie}},[kn.height,Co]),_s=h.useCallback((ee,xe=ln)=>Hr(ee,xe.minPx,xe.maxPx),[ln]),Zs=h.useCallback(()=>{const ee=lr.current;return ee&&"version"in ee&&ee.version===2&&typeof ee.fraction=="number"?Hr(ee.fraction,0,1):ee&&"height"in ee&&typeof ee.height=="number"&&ln.container>0?Hr(ee.height/ln.container,0,1):.25},[ln.container]);h.useEffect(()=>{Ve===null&&ln.container>0&&mn(Zs())},[Ve,ln.container,Zs]);const ls=h.useCallback(()=>ln.container>0&&ln.maxPx<Vx?(_("closed"),ft(Ej,{intent:"warning",duration:1e4}),!1):(nr(),_("open"),mn(ee=>ee!==null?Hr(ee,0,1):yn.current!==null?Hr(yn.current,0,1):Zs()),!0),[ln,_,ft,nr,Zs]),cs=h.useCallback(()=>{yn.current=Ve,_("closed"),nr()},[Ve,_,nr]);h.useEffect(()=>{if(wn)return;const ee=lr.current?.state;if(j||!ee){hn(!0);return}(ee==="open"||ee==="closed")&&ee!==C&&_(ee),hn(!0)},[j,C,_,wn]),h.useEffect(()=>{!Bt||Rn||Ve===null||Bt.set({version:2,fraction:Hr(Ve,0,1),state:C})},[Bt,Ve,C,Rn]),h.useEffect(()=>{if(!(C!=="open"||!ln.container)){if(ln.maxPx<Vx){_("closed"),ft(Ej,{intent:"warning",duration:1e4});return}mn(ee=>ee===null?Zs():Hr(ee,0,1))}},[C,ln,_,ft,Zs]);const ol=h.useCallback((ee,xe)=>{if(ee<=0)return{minPx:xe.min,maxPx:xe.max,minFrac:0,maxFrac:1};const Ie=Math.min(xe.min,ee),Te=Math.min(xe.max,ee);return{minPx:Ie,maxPx:Te,minFrac:Ie/ee,maxFrac:Te/ee}},[]),Rr=Math.max(0,kn.width-oB),Qs=h.useMemo(()=>ol(Rr,JU),[Rr,ol]),la=h.useCallback((ee,xe)=>Hr(ee,xe.minFrac,xe.maxFrac),[]);h.useEffect(()=>{Rr<=0||ot(ee=>{if(ee.collapsed)return ee;const xe=la(ee.fraction,Qs);return xe===ee.fraction?ee:{...ee,fraction:xe}})},[Rr,Qs,la]),h.useEffect(()=>{Vt.set({version:2,explorer:{collapsed:Pe.collapsed,fraction:Pe.fraction}})},[Vt,Pe]);const ai=Pe.collapsed?0:Hr(Pe.fraction,Qs.minFrac,Qs.maxFrac)*Rr,ii=Rr>0?Math.min(ai,Rr):ai,Jt=Math.max(0,ln.container),li=(Ve??(Jt>0?Hr(nB/Jt,0,1):.25))*Jt,Pc=Jt>0?_s(li):0,al=jj,il=yr?rB:Pc,ci=Jt>0?Math.max(Co,Jt-al-il):Co;h.useEffect(()=>{const ee=Je.activeTabId;if(!ee){E(void 0);return}E(ee)},[Je.activeTabId,E]),h.useEffect(()=>{!ss||!se||Kr(se,ss)&&(Je.openFile(ss),E(ss),os(null))},[ss,se,Je,E]);const jo=h.useCallback(()=>ls()?(N("terminal"),!0):!1,[ls,N]),Gd=h.useCallback(async()=>{if(A||!se||M.isLoading||M.isError||!await Ns())return;let xe=null;try{xe=(await Ok(e))[0]??null}catch(Ie){an({title:"Unable to load documents for validation.",description:Hx(Ie),intent:"warning",duration:5e3});return}if(!xe){an({title:"Upload a document to run validation.",intent:"warning",duration:5e3});return}await $e({validate_only:!0,input_document_id:xe.id},{mode:"validation",documentId:xe.id,documentName:xe.name},{prepare:jo})},[A,se,M.isLoading,M.isError,Ns,$e,jo,e,an]),xp=h.useCallback(async ee=>{if(Et(!1),nn(!1),A||!se||M.isLoading||M.isError||!await Ns())return;const Ie=Array.from(new Set((ee.sheetNames??[]).filter(Boolean)));$e({input_document_id:ee.documentId,input_sheet_names:Ie.length?Ie:void 0,log_level:ee.logLevel},{mode:"extraction",documentId:ee.documentId,documentName:ee.documentName,sheetNames:Ie},{forceRebuild:Jn,prepare:jo})},[A,se,M.isLoading,M.isError,$e,Jn,jo,Ns]);h.useEffect(()=>{if(typeof window>"u")return;const ee=xe=>{if(!(yo?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key.toLowerCase()!=="s")return;const Te=xe.target;if(Te){const Qe=Te.tagName;if(Qe==="INPUT"||Qe==="TEXTAREA"||Te.isContentEditable)return}Yn&&(xe.preventDefault(),sl())};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[yo,Yn,sl]);const Yd=Re??(Ce?"extraction":void 0),ll=Ce,Ic=ge.status==="running"||ll&&Yd==="validation",bp=!A&&!!se&&!M.isLoading&&!M.isError&&!ll&&ge.status!=="running",vp=ll&&Yd!=="validation",cl=!A&&!!se&&!M.isLoading&&!M.isError&&!ll,ks=!A&&!M.isLoading&&!M.isError&&!!T?.can_create,Lc=ks&&!Dc.isPending&&!!T?.can_delete,ul=ks&&!ta.isPending,$c=ks&&!na.isPending&&!!T?.can_delete,ua=L&&!A&&!De.isPending&&!!O,ui=L&&!A&&!Je.isDirty&&!Z.isPending,yp=h.useCallback(ee=>{js(ee),ee==="explorer"&&ot(xe=>({...xe,collapsed:!1}))},[]),Fc=h.useCallback(ee=>{ee.preventDefault();const xe=ee.currentTarget.getBoundingClientRect();_r({x:xe.right+8,y:xe.top})},[]),wp=h.useCallback(ee=>{ut(ee)},[]),Sp=h.useCallback(()=>_r(null),[]),Rs=h.useCallback(()=>{yr?ls():cs()},[yr,ls,cs]);h.useEffect(()=>{if(typeof window>"u")return;const ee=xe=>{if(!(yo?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key?.toLowerCase()!=="`"&&xe.code!=="Backquote")return;const Qe=xe.target;if(Qe&&!(typeof Qe.closest=="function"?Qe.closest("[data-editor-area]"):null)){const xt=Qe.tagName,cn=Qe.getAttribute("role");if(xt==="INPUT"||xt==="TEXTAREA"||cn==="textbox"||Qe.isContentEditable)return}xe.preventDefault(),Rs()};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[yo,Rs]);const Kd=h.useCallback(()=>{_e()},[_e]),Cp=h.useCallback(()=>{ot(ee=>({...ee,collapsed:!ee.collapsed}))},[]),jp=h.useCallback(()=>{ot(ee=>({...ee,collapsed:!0}))},[]),Ep=h.useCallback(ee=>{Gu(ee.dataTransfer)&&ee.preventDefault()},[]),Np=h.useCallback(ee=>{ee.defaultPrevented||!Gu(ee.dataTransfer)||(ee.preventDefault(),an({title:"Drop files into the Explorer to upload.",description:"Open the Explorer pane, then drop into a folder in the file tree.",intent:"info",duration:7e3,persistKey:Fn,actions:[{label:"Show Explorer",variant:"secondary",onSelect:()=>ot(xe=>({...xe,collapsed:!1}))}]}))},[an,Fn,ot]),dl=h.useCallback(async(ee,xe)=>{if(A){an({title:"Uploads arent available in demo mode.",intent:"warning",duration:6e3,persistKey:Fn});return}if(P){an({title:"This configuration is read-only.",description:"Duplicate it to upload files.",intent:"warning",duration:7e3,persistKey:Fn});return}if(!ks){an({title:"Files are still loading.",description:"Wait for the explorer to finish syncing and try again.",intent:"info",duration:6e3,persistKey:Fn});return}if(rs){an({title:"Upload already in progress.",description:"Wait for the current upload to finish before starting another.",intent:"info",duration:6e3,persistKey:Fn});return}const Ie=ee.items.length;if(Ie===0){an({title:"No files to upload.",intent:"warning",duration:5e3,persistKey:Fn});return}bo(!0),an({title:`Uploading ${Ie} file${Ie===1?"":"s"}`,description:ee.folderPath?`Destination: ${ee.folderPath}`:"Destination: root",intent:"info",duration:null,dismissible:!1,persistKey:Fn});const Te=[],Qe=[];try{for(const Qt of ee.items)if(!(Qt.exists&&!xe.overwriteExisting))try{await oa.mutateAsync({path:Qt.targetPath,content:Qt.file,parents:!0,create:!Qt.exists,etag:Qt.exists?Qt.etag??void 0:void 0,contentType:Qt.file.type||void 0}),Te.push(Qt.targetPath)}catch(Yt){const Ms=Yt instanceof Pt&&Yt.status===412?"Upload blocked because the file changed on the server. Refresh and try again.":Yt instanceof Pt&&Yt.status===428?"Upload blocked: refresh the file list and try again.":Yt instanceof Pt&&Yt.status===413?Yt.problem?.detail||"File is larger than the allowed limit.":Hx(Yt);Qe.push({path:Qt.targetPath,message:Ms})}try{await M.refetch()}catch{}for(const Qt of Te){const Yt=Je.tabs.find(di=>di.id===Qt);if(!(!Yt||Yt.status!=="ready"||Yt.content!==Yt.initialContent))try{await oi(Qt)}catch{}}}finally{bo(!1)}const gt=ee.skipped.length,xt=Te.length,cn=Qe.length,Eo=cn>0?xt>0?"warning":"danger":gt>0?"warning":"success",Un=[];xt>0&&Un.push(`${xt} uploaded`),gt>0&&Un.push(`${gt} skipped`),cn>0&&Un.push(`${cn} failed`),an({title:cn>0?"Upload finished with issues.":gt>0?"Upload finished.":"Upload complete.",description:Un.join("  "),intent:Eo,duration:8e3,dismissible:!0,persistKey:Fn,actions:Qe.length>0?[{label:"Show errors",variant:"secondary",onSelect:()=>{const Qt=Qe.slice(0,6).map(Yt=>`${Yt.path}: ${Yt.message}`).join("  ");as({title:"Upload errors",description:Qt||"Upload errors occurred.",intent:"danger",duration:null,dismissible:!0,scope:Fn,persistKey:`${Fn}:errors`})}}]:void 0})},[ks,M,P,rs,as,an,oi,oa,Fn,A,Je.tabs]),_p=h.useCallback(async(ee,xe)=>{if(rs){an({title:"Upload already in progress.",description:"Wait for the current upload to finish before dropping more files.",intent:"info",duration:6e3,persistKey:Fn});return}if(Dt){an({title:"Resolve the overwrite prompt first.",description:"Choose whether to overwrite existing files, then try again.",intent:"info",duration:6e3,persistKey:Fn});return}if(!se)return;const Ie=Fi(ee),Te=M.data?.limits??null,Qe=[],gt=[],xt=new Set;for(const Un of xe){const Qt=Fi(Un.relativePath);if(!Qt){gt.push({relativePath:Un.relativePath,reason:"Missing file name."});continue}const Yt=x6(Ie,Qt);if(!Yt||!b6(Yt)){gt.push({relativePath:Qt,reason:"Invalid path."});continue}if(xt.has(Yt)){gt.push({relativePath:Qt,reason:"Duplicate path in drop payload."});continue}xt.add(Yt);const Ms=Kr(se,Yt);if(Ms&&Ms.kind==="folder"){gt.push({relativePath:Qt,reason:"A folder with this name already exists."});continue}const di=!!(Ms&&Ms.kind==="file"),tf=di?Ms?.metadata?.etag??null:null;if(di&&!tf){gt.push({relativePath:Qt,reason:"Missing file version. Refresh and try again."});continue}const Vc=Te&&typeof Te.code_max_bytes=="number"&&typeof Te.asset_max_bytes=="number"?v6(Yt)?Te.asset_max_bytes:Te.code_max_bytes:null;if(typeof Vc=="number"&&Un.file.size>Vc){gt.push({relativePath:Qt,reason:`File exceeds ${Vc} bytes.`});continue}Qe.push({file:Un.file,relativePath:Qt,targetPath:Yt,exists:di,etag:tf})}if(Qe.length===0){an({title:"No uploadable files.",description:gt.length?`${gt.length} item${gt.length===1?"":"s"} skipped.`:void 0,intent:"warning",duration:7e3,persistKey:Fn});return}const cn=Qe.filter(Un=>Un.exists),Eo={folderPath:Ie,items:Qe,conflicts:cn,skipped:gt};if(cn.length>0){Ys(Eo);return}await dl(Eo,{overwriteExisting:!1})},[M.data?.limits,rs,an,dl,se,Dt,Fn]),kp=h.useCallback(async(ee,xe)=>{const Ie=xe.trim();if(!Ie)throw new Error("Enter a file name.");if(Ie.includes(".."))throw new Error("File name cannot include '..'.");if(P)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!ks)throw new Error("Files are still loading.");const Te=ee.replace(/\/+$/,""),Qe=Ie.replace(/^\/+/,"").replace(/\/+/g,"/"),xt=(Te?`${Te}/${Qe}`:Qe).replace(/\/+/g,"/");if(!xt||xt.endsWith("/"))throw new Error("Enter a valid file name.");if(se&&Kr(se,xt))throw new Error("A file or folder with that name already exists.");ni(!0);try{await oa.mutateAsync({path:xt,content:"",parents:!0,create:!0}),os(xt),await M.refetch(),ft(`Created ${xt}`,{intent:"success",duration:4e3})}catch(cn){throw Gn(cn),cn instanceof Error?cn:new Error("Unable to create file.")}finally{ni(!1)}},[ks,P,se,oa,M,ft,Gn]),Rp=h.useCallback(async(ee,xe)=>{const Ie=xe.trim();if(!Ie)throw new Error("Enter a folder name.");if(Ie.includes(".."))throw new Error("Folder name cannot include '..'.");if(P)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!ul)throw new Error("Files are still loading.");const Te=ee.replace(/\/+$/,""),Qe=Ie.replace(/^\/+/,"").replace(/\/+/g,"/"),xt=(Te?`${Te}/${Qe}`:Qe).replace(/\/+/g,"/").replace(/\/$/,"");if(!xt)throw new Error("Enter a valid folder name.");if(se&&Kr(se,xt))throw new Error("A file or folder with that name already exists.");Ud(!0);try{await ta.mutateAsync({path:xt}),await M.refetch(),ft(`Folder ready: ${xt}`,{intent:"success",duration:4e3})}catch(cn){throw Gn(cn),cn instanceof Error?cn:new Error("Unable to create folder.")}finally{Ud(!1)}},[ul,P,se,ta,M,ft,Gn]),Mp=h.useCallback(async ee=>{if(P)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!Lc)throw new Error("Files are still loading.");const xe=se?Kr(se,ee):null;if(!se||!xe)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${ee}? This cannot be undone.`)){ni(!1),pn(ee);try{await Dc.mutateAsync({path:ee,etag:xe.metadata?.etag}),Je.closeTab(ee),os(Te=>Te===ee?null:Te),await M.refetch(),ft(`Deleted ${ee}`,{intent:"info",duration:4e3})}catch(Te){const Qe=Te instanceof Pt&&Te.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Te instanceof Error?Te.message:"Unable to delete file.";throw Gn(Qe),new Error(Qe)}finally{pn(Te=>Te===ee?null:Te)}}},[Lc,P,se,Dc,Je,M,ft,Gn,pn]),Uc=h.useCallback(async ee=>{if(P)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!$c)throw new Error("Files are still loading.");const xe=se?Kr(se,ee):null;if(!se||!xe||xe.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${ee} and all contents? This cannot be undone.`)){nl(ee);try{await na.mutateAsync({path:ee,recursive:!0}),os(Te=>Te===ee?null:Te),Je.closeTab(ee),await M.refetch(),ft(`Deleted folder ${ee}`,{intent:"info",duration:4e3})}catch(Te){const Qe=Te instanceof Error?Te.message:"Unable to delete folder.";throw Gn(Qe),new Error(Qe)}finally{nl(Te=>Te===ee?null:Te)}}},[$c,P,se,na,Je,M,ft,Gn,nl]),da=h.useCallback(()=>{if(!ua){ft("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),ut(null);return}ut(null),X(!0)},[ua,ft]),Dp=h.useCallback(async ee=>{const xe=ee.target.files?.[0]??null;if(ee.target.value="",!!xe)try{await De.mutateAsync({file:xe,ifMatch:O}),Ut?.clear?.(),Je.closeAllTabs(),E(void 0);const Te=(await M.refetch()).data??M.data??null,Qe=Te?pj(Te):null,gt=Qe?ly(Qe):null;os(gt?.id??null),ft("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(Ie){const Te=Ie instanceof Pt&&Ie.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":Ie instanceof Pt&&Ie.status===428?"Replace blocked: refresh the file list and try again.":Ie instanceof Error?Ie.message:"Unable to replace configuration.";Gn(Te),ft(Te,{intent:"danger",duration:6e3})}},[De,O,Ut,Je,M,E,os,ft,Gn]),Zd=h.useMemo(()=>{const ee=i.jsx("span",{className:"inline-block h-4 w-4 opacity-0"});return[{id:"toggle-explorer",label:Pe.collapsed?"Show Explorer":"Hide Explorer",icon:Pe.collapsed?ee:i.jsx(qa,{className:"h-4 w-4 text-brand-400"}),onSelect:()=>ot(xe=>({...xe,collapsed:!xe.collapsed}))},{id:"toggle-console",label:yr?"Show Console":"Hide Console",icon:yr?ee:i.jsx(qa,{className:"h-4 w-4 text-brand-400"}),onSelect:Rs}]},[Pe.collapsed,yr,Rs]),Qd=h.useMemo(()=>{const ee=[];return L&&ee.push({id:"make-active",label:"Make active",disabled:!ui,onSelect:()=>{ut(null),ra()}}),ee.push({id:"duplicate",label:"Duplicate to edit",onSelect:()=>{ut(null),oe()}}),ee.push({id:"export",label:fn?"Exporting":"Export (.zip)",disabled:fn,dividerAbove:!0,onSelect:()=>{ut(null),Vd()}},{id:"replace",label:"Import from zip",disabled:!ua,onSelect:da}),ee},[ui,ua,Vd,da,L,fn,oe,ra]);h.useEffect(()=>{if(typeof document>"u"||!is)return;const ee=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=ee||""}},[is]);const Xd=bB(e),Jd=yo?"S":"Ctrl+S",ef=yo?"`":"Ctrl+`",fa=h.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!cl,onSelect:()=>{nn(!0),Et(!0),er(null)}}],[cl,nn,Et,er]);if(!o&&M.isLoading)return i.jsx(kt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!o&&M.isError)return i.jsx(kt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!se)return i.jsx(kt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Ap=is?"bg-background text-foreground":"bg-transparent text-foreground",Op=is?"fixed inset-0 z-[90] flex flex-col bg-background text-foreground":"flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden bg-card text-foreground",Bc={bar:"border-border bg-card text-foreground",hint:"text-muted-foreground",button:"border-border-strong bg-popover text-foreground hover:border-border-strong hover:bg-muted"};return i.jsxs("div",{className:de("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Ap),onDragOver:Ep,onDrop:Np,children:[is?i.jsx("div",{className:"fixed inset-0 z-40 bg-overlay/60"}):null,i.jsxs("div",{className:Op,children:[i.jsx(mB,{configName:n,workspaceLabel:Xd,validationLabel:Oe,canSaveFiles:Yn,isSavingFiles:rl,onSaveFile:sl,saveShortcutLabel:Jd,onOpenTestMenu:ee=>er(ee),onOpenActionsMenu:wp,canRunValidation:bp,isRunningValidation:Ic,onRunValidation:Gd,canRunExtraction:cl,isRunningExtraction:vp,onRunExtraction:ee=>{cl&&(nn(ee),Et(!0))},explorerVisible:wo,onToggleExplorer:Cp,consoleOpen:!yr,onToggleConsole:Rs,appearance:le,windowState:l,onMinimizeWindow:Wd,onToggleMaximize:Oc,onCloseWindow:Ac,actionsBusy:fn||De.isPending}),A?null:i.jsx("div",{className:"border-b border-border bg-card px-4 py-3 text-foreground",role:"status","aria-live":"polite",children:P?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Read-only configuration"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.data?.status==="active"?"Active configurations cant be edited. Duplicate this configuration to create a draft you can change.":"Archived configurations cant be edited. Duplicate this configuration to create a draft you can change."})]}),i.jsx(Ge,{size:"sm",onClick:oe,children:"Duplicate to edit"})]}):i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Draft configuration"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Make this draft active to use it for extraction runs.",z?` The current active configuration ${z.display_name} will be archived.`:""]}),!ui&&Je.isDirty?i.jsx("p",{className:"text-xs font-medium text-warning-500",children:"Save changes before making active."}):null]}),i.jsx(Ge,{size:"sm",variant:"secondary",onClick:ra,disabled:!ui,title:!ui&&Je.isDirty?"Save changes before making active.":void 0,children:"Make active"})]})}),i.jsxs("div",{ref:vr,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[i.jsx(P$,{activeView:cr,onSelectView:yp,onOpenSettings:Fc,appearance:le}),wo?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex min-h-0",style:{width:ii},children:cr==="explorer"&&Je.tree?i.jsx(N6,{width:ii,tree:Je.tree,activeFileId:Je.activeTab?.id??"",openFileIds:Je.tabs.map(ee=>ee.id),onSelectFile:ee=>{Je.openFile(ee),E(ee)},theme:le,canUploadFiles:ks,onUploadFiles:_p,isUploadingFiles:rs,canCreateFile:ks,canCreateFolder:ul,isCreatingEntry:Xo||gp,onCreateFile:kp,onCreateFolder:Rp,canDeleteFile:Lc,canDeleteFolder:$c,deletingFilePath:Jo,deletingFolderPath:Bd,onDeleteFile:Mp,onDeleteFolder:Uc,expandedStorageKey:lB(e,t),onHide:jp}):i.jsx(fB,{width:ii,view:cr,appearance:le})}),i.jsx(hj,{orientation:"vertical",onPointerDown:ee=>{const xe=ee.clientX,Ie=ii;xj(ee,{cursor:"col-resize",onMove:Te=>{const Qe=Te.clientX-xe,gt=Hr(Ie+Qe,Qs.minPx,Qs.maxPx);ot(xt=>xt.collapsed||Rr<=0?xt:{...xt,fraction:la(gt/Rr,Qs)})}})}})]}):null,i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-card text-card-foreground",children:i.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Jt>0?`${Jt}px`:void 0,gridTemplateRows:`${Math.max(Co,ci)}px ${al}px ${Math.max(0,il)}px`},children:[i.jsx(g6,{tabs:Je.tabs,activeTabId:Je.activeTab?.id??"",onSelectTab:ee=>{Je.selectTab(ee),E(ee)},onCloseTab:Je.closeTab,onCloseOtherTabs:Je.closeOtherTabs,onCloseTabsToRight:Je.closeTabsToRight,onCloseAllTabs:Je.closeAllTabs,onContentChange:sa,onSaveTab:ia,onSaveAllTabs:Tc,onMoveTab:Je.moveTab,onRetryTabLoad:Je.reloadTab,onPinTab:Je.pinTab,onUnpinTab:Je.unpinTab,onSelectRecentTab:Je.selectRecentTab,editorTheme:Me,menuAppearance:le,canSaveFiles:Yn,readOnly:P,minHeight:Co}),i.jsx(hj,{orientation:"horizontal",onPointerDown:ee=>{tr(!0);const xe=ee.clientY,Ie=Pc;let Te=!1;xj(ee,{cursor:"row-resize",onMove:Qe=>{if(yr&&!Te&&(ls(),Te=!0),ln.maxPx<=0||Jt<=0)return;const gt=xe-Qe.clientY,xt=Hr(Ie+gt,ln.minPx,ln.maxPx);mn(Hr(xt/Jt,0,1))},onEnd:()=>{tr(!1)}})},onDoubleClick:()=>{yr?ls():cs()},onToggle:Rs,collapsed:yr}),yr?i.jsxs("div",{className:de("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Bc.bar),onDoubleClick:Rs,title:"Double-click to show console",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-semibold",children:"Console hidden"}),i.jsxs("span",{className:de("text-[11px]",Bc.hint),children:["(double-click gutter or ",ef,")"]})]}),i.jsx("button",{type:"button",onClick:Rs,className:de("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Bc.button),title:"Show console",children:"Show console"})]}):i.jsx(vF,{height:Math.max(0,Pc),console:ke,validation:ge,activePane:S,onPaneChange:N,latestRun:ve,onClearConsole:Kd,runStatus:ue,onToggleCollapse:Rs,appearance:le})]})})]})]}),bt?i.jsx(hB,{open:bt,workspaceId:e,onClose:()=>{Et(!1),nn(!1)},onRun:xp}):null,i.jsx("input",{ref:st,type:"file",accept:".zip",onChange:Dp,className:"hidden"}),Q?i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-card p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-foreground",children:"Import from zip"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),ua?null:i.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),Je.isDirty?i.jsx("p",{className:"text-sm font-medium text-warning-700",children:"You have unsaved changes that will be lost."}):null]}),i.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[i.jsx(Ge,{variant:"secondary",onClick:()=>X(!1),disabled:De.isPending,children:"Cancel"}),i.jsx(Ge,{onClick:()=>{X(!1),st.current?.click()},disabled:!ua||De.isPending,isLoading:De.isPending,children:"Continue"})]})]})}):null,i.jsxs(Xr,{open:F,title:"Duplicate configuration",description:`Create a new draft based on ${r}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:ri,onConfirm:Hd,isConfirming:q.isPending,confirmDisabled:q.isPending||B.trim().length===0,children:[i.jsx(Ot,{label:"New configuration name",required:!0,children:i.jsx(En,{value:B,onChange:ee=>U(ee.target.value),placeholder:"Copy of My Config",disabled:q.isPending})}),ne?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:ne}):null]}),i.jsx(Xr,{open:H,title:V?.stage==="checking"?"Checking configuration":V?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:V?.stage==="checking"?"Running validation before activation.":V?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":z?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${z.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:V?.stage==="issues"?"Continue editing":V?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:si,onConfirm:()=>{if(V?.stage==="issues"){si();return}if(V?.stage==="error"){si();return}kr()},isConfirming:Z.isPending,confirmDisabled:V?.stage==="checking"||Z.isPending,children:V?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):V?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-muted p-3 text-xs text-foreground",children:V.issues.map(ee=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:ee.path}),i.jsx("p",{className:"text-muted-foreground",children:ee.message})]},`${ee.path}:${ee.message}`))})]}):V?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:V.message}):null}),i.jsx(Xr,{open:!!Dt,title:Dt&&Dt.conflicts.length===1?"Overwrite existing file?":"Overwrite existing files?",description:Dt?`${Dt.conflicts.length} file${Dt.conflicts.length===1?"":"s"} already exist${Dt.folderPath?` in ${Dt.folderPath}.`:" in the configuration root."} Overwrite to replace them.`:void 0,confirmLabel:Dt?`Overwrite ${Dt.conflicts.length} file${Dt.conflicts.length===1?"":"s"}`:"Overwrite",cancelLabel:"Cancel",onCancel:()=>Ys(null),onConfirm:()=>{const ee=Dt;Ys(null),ee&&dl(ee,{overwriteExisting:!0})},isConfirming:rs,confirmDisabled:!Dt||Dt.conflicts.length===0||rs,tone:"danger",children:Dt?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"max-h-56 overflow-auto rounded-lg border border-border bg-muted p-3 text-xs text-foreground",children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Will overwrite:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:Dt.conflicts.slice(0,20).map(ee=>i.jsx("li",{className:"break-all",children:ee.targetPath},ee.targetPath))}),Dt.conflicts.length>20?i.jsxs("p",{className:"mt-2 text-[11px] text-muted-foreground",children:["And ",Dt.conflicts.length-20," more"]}):null]}),Dt.skipped.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Dt.skipped.length," item",Dt.skipped.length===1?"":"s"," will be skipped due to invalid paths or size limits."]}):null,Dt.items.length>Dt.conflicts.length?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-2 text-xs text-foreground",children:[i.jsx("p",{className:"font-medium",children:"Prefer not to overwrite?"}),i.jsxs(Ge,{size:"sm",variant:"secondary",disabled:rs,onClick:()=>{const ee=Dt;Ys(null),dl(ee,{overwriteExisting:!1})},children:["Upload new only (",Dt.items.length-Dt.conflicts.length,")"]})]}):null]}):null}),i.jsx(Go,{open:!!pt,position:pt,onClose:()=>ut(null),items:Qd,appearance:le}),i.jsx(Go,{open:!!Es,position:Es,onClose:()=>er(null),items:fa,appearance:le}),i.jsx(Go,{open:!!ns,position:ns,onClose:Sp,items:Zd,appearance:le})]})}function fB({width:e,view:t,appearance:n}){const r=uB[t]||"Coming soon";return i.jsx("div",{className:de("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide","border-border bg-muted text-muted-foreground"),style:{width:e},"aria-live":"polite",children:r})}function mB({configName:e,workspaceLabel:t,validationLabel:n,canSaveFiles:r,isSavingFiles:o,onSaveFile:l,saveShortcutLabel:c,onOpenTestMenu:d,onOpenActionsMenu:f,canRunValidation:p,isRunningValidation:g,onRunValidation:x,canRunExtraction:v,isRunningExtraction:y,onRunExtraction:S,explorerVisible:C,onToggleExplorer:j,consoleOpen:E,onToggleConsole:N,appearance:_,windowState:R,onMinimizeWindow:D,onToggleMaximize:A,onCloseWindow:M,actionsBusy:O=!1}){const L="border-border bg-card text-foreground",T="text-muted-foreground",G="bg-success-600 text-on-success hover:bg-success-500 disabled:bg-muted disabled:text-muted-foreground",P="bg-brand-600 text-on-brand hover:bg-brand-500 disabled:bg-muted disabled:text-muted-foreground",$=R==="maximized";return i.jsxs("div",{className:de("flex items-center justify-between border-b px-4 py-2",L),children:[i.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[i.jsx(gB,{}),i.jsxs("div",{className:"min-w-0 leading-tight",children:[i.jsx("div",{className:de("text-[10px] font-semibold uppercase tracking-[0.35em]",T),children:"Config Workbench"}),i.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),i.jsxs("div",{className:de("text-[11px]",T),title:t,children:["Workspace  ",t]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[n?i.jsx("span",{className:de("text-xs",T),children:n}):null,i.jsxs("button",{type:"button",onClick:l,disabled:!r,className:de("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",G),title:`Save (${c})`,children:[o?i.jsx(Uu,{className:"h-4 w-4 animate-spin"}):i.jsx(wN,{className:"h-4 w-4"}),o?"Saving":"Save"]}),i.jsxs("button",{type:"button",onClick:x,disabled:!p,className:de("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",P),children:[g?i.jsx(Uu,{className:"h-4 w-4 animate-spin"}):i.jsx(GC,{className:"h-4 w-4"}),g?"Running":"Run validation"]}),i.jsx(B6,{label:y?"Running":"Test run",icon:y?i.jsx(Uu,{className:"h-4 w-4 animate-spin"}):i.jsx(GC,{className:"h-4 w-4"}),disabled:!v,isLoading:y,title:"Run test run",primaryClassName:de(P,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:de(P,"rounded-l-none px-2","border-border-strong"),menuAriaLabel:"Open test options",onPrimaryClick:()=>S(!1),onOpenMenu:W=>d(W),onContextMenu:W=>{W.preventDefault(),d({x:W.clientX,y:W.clientY})}}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vl,{ariaLabel:C?"Hide explorer":"Show explorer",onClick:j,appearance:_,active:C,icon:i.jsx(BT,{className:de("h-4 w-4",!C&&"opacity-60")})}),i.jsx(Vl,{ariaLabel:E?"Hide console":"Show console",onClick:N,appearance:_,active:E,icon:i.jsx(QT,{className:"h-3.5 w-3.5"})})]}),i.jsx(Vl,{ariaLabel:"Configuration actions",onClick:W=>{const ce=W.currentTarget.getBoundingClientRect();f({x:ce.right+8,y:ce.bottom})},appearance:_,disabled:O,icon:i.jsx(lz,{className:"h-4 w-4"})}),i.jsxs("div",{className:de("flex items-center gap-2 border-l pl-3","border-border/70"),children:[i.jsx(Vl,{ariaLabel:"Minimize workbench",onClick:D,appearance:_,icon:i.jsx(ez,{className:"h-3.5 w-3.5"})}),i.jsx(Vl,{ariaLabel:$?"Restore workbench":"Maximize workbench",onClick:A,appearance:_,active:$,icon:$?i.jsx(JT,{className:"h-3.5 w-3.5"}):i.jsx(XT,{className:"h-3.5 w-3.5"})}),i.jsx(Vl,{ariaLabel:"Close workbench",onClick:M,appearance:_,icon:i.jsx(mo,{className:"h-3.5 w-3.5"})})]})]})]})}function hB({open:e,workspaceId:t,onClose:n,onRun:r}){const o=h.useRef(null),l=_n({queryKey:["builder-documents",t],queryFn:({signal:D})=>Ok(t,D),staleTime:6e4,enabled:e}),c=h.useMemo(()=>l.data??[],[l.data]),[d,f]=h.useState("");h.useEffect(()=>{if(e){if(!c.length){f("");return}f(D=>D&&c.some(A=>A.id===D)?D:c[0]?.id??"")}},[c,e]);const p=c.find(D=>D.id===d)??null,g=_n({queryKey:["builder-document-sheets",t,d],queryFn:({signal:D})=>fU(t,d,D),enabled:e&&!!d,staleTime:6e4}),x=h.useMemo(()=>g.data??[],[g.data]),[v,y]=h.useState([]),[S,C]=h.useState("INFO");h.useEffect(()=>{if(e){if(!x.length){y([]);return}y(D=>D.filter(A=>x.some(M=>M.name===A)))}},[e,x]);const j=h.useMemo(()=>Array.from(new Set(v.filter(D=>x.some(A=>A.name===D)))),[v,x]),E=h.useCallback(D=>{y(A=>A.includes(D)?A.filter(M=>M!==D):[...A,D])},[]);if(!e)return null;const N=!p||l.isLoading||l.isError,_=x.length>0,R=i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",children:i.jsxs("div",{ref:o,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-border bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Select a document"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a workspace document and optional worksheet before running a test."})]}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.isError?i.jsx(Rt,{tone:"danger",children:"Unable to load documents. Try again later."}):l.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents"}):c.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a document in the workspace to run the extractor."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"builder-run-document-select",children:"Document"}),i.jsx(sh,{id:"builder-run-document-select",value:d,onChange:D=>f(D.target.value),className:"w-full",children:c.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))}),p?i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploaded ",pB(p.createdAt)," "," ",(p.byteSize??0).toLocaleString()," bytes"]}):null]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"builder-run-log-level-select",children:"Log level"}),i.jsx(sh,{id:"builder-run-log-level-select",value:S,onChange:D=>C(D.target.value),className:"w-full",children:dB.map(D=>i.jsx("option",{value:D.value,children:D.label},D.value))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls the engine runtime verbosity for this run."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Worksheet"}),g.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading worksheets"}):g.isError?i.jsx(Rt,{tone:"warning",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ge,{variant:"secondary",size:"sm",onClick:()=>g.refetch(),disabled:g.isFetching,children:"Retry loading"}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>y([]),children:"Use all worksheets"})]})]})}):_?i.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Worksheets"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:j.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${j.length.toLocaleString()} worksheet${j.length===1?"":"s"} selected.`})]}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>y([]),children:"Use all worksheets"})]}),i.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-border p-2",children:x.map(D=>{const A=j.includes(D.name);return i.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-foreground hover:bg-muted",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-success-600 focus:ring-success-500",checked:A,onChange:()=>E(D.name)}),i.jsxs("span",{className:"flex-1 truncate",children:[D.name,D.is_active?" (active)":""]})]},`${D.index}-${D.name}`)})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"This file will be ingested directly."})]})]}),i.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[i.jsx(Ge,{variant:"ghost",onClick:n,children:"Cancel"}),i.jsx(Ge,{onClick:()=>{p&&r({documentId:p.id,documentName:p.name,sheetNames:j.length>0?j:void 0,logLevel:S})},disabled:N,children:"Start test run"})]})]})});return typeof document>"u"?null:zn.createPortal(R,document.body)}async function Ok(e,t){const{data:n}=await Xe.GET("/api/v1/workspaces/{workspaceId}/documents",{params:{path:{workspaceId:e},query:{sort:"-createdAt",perPage:50}},signal:t});return n?.items??[]}function pB(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Vl({ariaLabel:e,onClick:t,icon:n,appearance:r,active:o=!1,disabled:l=!1}){return i.jsx("button",{type:"button","aria-label":e,onClick:t,disabled:l,className:de("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2","text-muted-foreground hover:text-foreground hover:bg-muted hover:border-border-strong focus-visible:ring-ring/40",o&&"text-foreground border-border-strong bg-muted",l&&"cursor-not-allowed opacity-50"),title:e,children:n})}function gB(){return i.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-400 via-brand-500 to-brand-600 text-on-brand shadow-[0_12px_24px_rgb(var(--sys-color-shadow)/0.35)]",children:i.jsx(CT,{className:"h-4 w-4"})})}function Hx(e){return e instanceof Pt?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function xB(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function bB(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function Nj(e){if(e.encoding==="base64"){const t=globalThis.Buffer;if(t)return t.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const n=atob(e.content),r=new Uint8Array(n.length);for(let l=0;l<n.length;l+=1)r[l]=n.charCodeAt(l);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(r);let o="";for(let l=0;l<r.length;l+=1)o+=String.fromCharCode(r[l]);return o}catch{}}return e.content}function vB(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Tk=h.createContext(null);function zk(){const e=h.useContext(Tk);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function yB({workspaceId:e,children:t}){const n=sn(),r=xr(),[o,l]=h.useState(null),[c,d]=h.useState("restored"),f=h.useRef(0),p=h.useRef(null),g=h.useRef(!1),x=h.useMemo(()=>Wo(vB(e)),[e]),v=h.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),y=h.useMemo(()=>CB(r.pathname,e),[r.pathname,e]),S=!!y;h.useEffect(()=>{x.get()||x.set(v)},[x,v]),h.useEffect(()=>{S||x.set(`${r.pathname}${r.search}${r.hash}`)},[S,r.pathname,r.search,r.hash,x]),h.useEffect(()=>{if(!o){p.current=null;return}const T=p.current;if(S&&y===o.configId){if(T==="dock"){p.current=null,d("minimized");return}T&&(p.current=null);return}if(T==="dock"){p.current=null;return}if(T==="close"){p.current=null;return}l(null),d("restored"),p.current=null},[o,S,y,c]),h.useEffect(()=>{if(!o||!S||y!==o.configId)return;const T=kj(r.search);T!==o.editorSearch&&l(G=>!G||G.instanceId!==o.instanceId?G:{...G,editorSearch:T})},[o,S,y,r.search]);const C=h.useCallback(()=>x.get()??v,[x,v]),j=h.useCallback(T=>{l(G=>{if(!G)return G;const P=new URLSearchParams(G.editorSearch),$=typeof T=="function"?T(new URLSearchParams(P)):T,ce=Ck($).toString();return ce===G.editorSearch?G:{...G,editorSearch:ce}})},[]),E=h.useCallback(T=>{const G=kj(T.editorSearch??r.search);let P=c==="minimized";l($=>{if($&&$.workspaceId===T.workspaceId&&$.configId===T.configId){const W=T.seed??$.seed,ce=T.editorSearch!==void 0?G:$.editorSearch;return $.configName===T.configName&&$.configDisplayName===T.configDisplayName&&$.seed===W&&$.editorSearch===ce?$:{...$,configName:T.configName,configDisplayName:T.configDisplayName,seed:W,editorSearch:ce}}return P=!0,f.current+=1,{...T,editorSearch:G,instanceId:`${T.workspaceId}:${T.configId}:${f.current}`}}),P&&d("restored")},[r.search,c]),N=h.useCallback(()=>{o&&(l(null),d("restored"),p.current="close",n(C()))},[o,n,C]),_=h.useCallback(()=>{o&&(g.current=!0,d("minimized"),p.current="dock",n(C()))},[o,n,C]),R=h.useCallback(()=>{if(!o)return;d("restored");const T=jB(o.workspaceId,o.configId,o.editorSearch);`${r.pathname}${r.search}`!==T&&n(T)},[o,n,r.pathname,r.search]),D=h.useCallback(()=>{o&&d("maximized")},[o]),A=h.useCallback(()=>{const T=g.current;return g.current=!1,T},[]),M=h.useMemo(()=>({session:o,windowState:c,openSession:E,closeSession:N,minimizeWindow:_,maximizeWindow:D,restoreWindow:R,shouldBypassUnsavedGuard:A}),[o,c,E,N,_,D,R,A]),O=!!o&&(!S||y!==o?.configId),L=h.useMemo(()=>O&&o?{params:new URLSearchParams(o.editorSearch),setSearchParams:j}:null,[O,o,j]);return i.jsxs(Tk.Provider,{value:M,children:[t,i.jsx(O6,{value:L,children:i.jsx(wB,{session:o,windowState:c,onClose:N,onMinimize:_,onMaximize:D,onRestore:R,shouldBypassUnsavedGuard:A})}),o&&c==="minimized"?i.jsx(SB,{configName:o.configName,onRestore:R,onDismiss:N}):null]})}function wB({session:e,windowState:t,onClose:n,onMinimize:r,onMaximize:o,onRestore:l,shouldBypassUnsavedGuard:c}){return!e||t!=="maximized"?null:i.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-background",children:i.jsx(Ak,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,configDisplayName:e.configDisplayName,seed:e.seed,windowState:"maximized",onCloseWorkbench:n,onMinimizeWindow:r,onMaximizeWindow:o,onRestoreWindow:l,shouldBypassUnsavedGuard:c},e.instanceId)})}function SB({configName:e,onRestore:t,onDismiss:n}){return i.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:i.jsx("div",{className:"pointer-events-auto border-t border-border bg-card/95 shadow-[0_-12px_40px_rgb(var(--sys-color-shadow)/0.15)] backdrop-blur",children:i.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-foreground",children:[i.jsxs("button",{type:"button",onClick:t,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[i.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-border bg-background text-brand-600 shadow-inner",children:i.jsx(oz,{className:"h-4 w-4"})}),i.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-muted-foreground",children:"Config workbench"}),i.jsx("span",{className:"truncate text-sm font-semibold text-foreground",title:e,children:e})]}),i.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-border bg-card px-2 py-0.5 text-[11px] font-medium text-muted-foreground transition group-hover:border-border-strong group-hover:bg-background",children:"Restore"})]}),i.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-border bg-card text-muted-foreground",children:[i.jsx(_j,{ariaLabel:"Restore minimized workbench",onClick:t,destructive:!1,children:i.jsx(az,{className:"h-3.5 w-3.5"})}),i.jsx(_j,{ariaLabel:"Close minimized workbench",onClick:n,destructive:!0,children:i.jsx(iz,{className:"h-3.5 w-3.5"})})]})]})})})}function _j({ariaLabel:e,onClick:t,children:n,destructive:r=!1}){return i.jsx("button",{type:"button","aria-label":e,onClick:t,className:de("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",r?"text-danger-600 hover:bg-danger-50":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:n})}function CB(e,t){const n=`/workspaces/${t}/config-builder/`;if(!e.startsWith(n))return null;const r=e.slice(n.length).split("/").filter(Boolean);if(r.length>=2&&r[1]==="editor")try{return decodeURIComponent(r[0])}catch{return r[0]}return null}function jB(e,t,n){const r=`/workspaces/${e}/config-builder/${encodeURIComponent(t)}/editor`;return n.length>0?`${r}?${n}`:r}function kj(e){return e?e.startsWith("?")?e.slice(1):e:""}function nd({to:e,replace:t,className:n,title:r,children:o,onClick:l,ariaCurrent:c}){const d=sn();return i.jsx("a",{href:e,className:n,title:r,"aria-current":c,onClick:f=>{l?.(f),!(f.defaultPrevented||f.metaKey||f.ctrlKey||f.shiftKey||f.altKey)&&(f.preventDefault(),d(e,{replace:t}))},children:o})}function xy({to:e,end:t,className:n,children:r,title:o,onClick:l}){const{pathname:c}=xr(),d=t?c===e:c===e||c.startsWith(`${e}/`),f=typeof n=="function"?n({isActive:d}):n,p=typeof r=="function"?r({isActive:d}):r,g=d?"page":void 0;return i.jsx(nd,{to:e,className:f,title:o,onClick:l,ariaCurrent:g,children:p})}const Pk=[{id:"documents",path:YN,label:"Documents",icon:wT},{id:"runs",path:"runs",label:"Runs",icon:OT},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:TT},{id:"settings",path:"settings",label:"Workspace Settings",icon:Dv,matchPrefix:!0}],oh=Pk[0];function Ik(e){return Pk.map(t=>({id:t.id,label:t.label,href:`/workspaces/${e.id}/${t.path}`,icon:t.icon,matchPrefix:t.matchPrefix}))}const Rj="4.5rem",Mj="16rem",EB=70,NB=140;function _B({workspace:e,isPinned:t,onTogglePinned:n,items:r}){const o=r??Ik(e),l=DB(o),c=l?o.filter(M=>M.id!==l.id):o,[d,f]=h.useState("pointer"),[p,g]=h.useState(!1),[x,v]=h.useState(!1),[y,S]=h.useState(!1),C=h.useRef(null),j=h.useRef(null),E=h.useCallback(()=>{C.current&&(window.clearTimeout(C.current),C.current=null),j.current&&(window.clearTimeout(j.current),j.current=null)},[]),N=!t&&(p||x&&d==="keyboard");h.useEffect(()=>{if(t){E(),S(!1);return}if(!(N&&y)&&!(!N&&!y))if(E(),N){if(x&&d==="keyboard"){S(!0);return}C.current=window.setTimeout(()=>S(!0),EB)}else j.current=window.setTimeout(()=>S(!1),NB)},[E,d,x,p,y,t,N]),h.useEffect(()=>E,[E]),h.useEffect(()=>{const M=O=>{const L=O.key.toLowerCase();(L==="tab"||L.startsWith("arrow"))&&f("keyboard")};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[]);const _=t||y,R=t?Mj:Rj,D=_?Mj:Rj;return i.jsx("aside",{className:de("relative hidden min-h-0 flex-shrink-0 bg-sidebar text-sidebar-foreground lg:flex","border-r border-sidebar-border","transition-[width] duration-200 ease-out motion-reduce:transition-none"),style:{width:R,height:"calc(100vh - var(--workspace-topbar-height, 0px))",willChange:"width"},"aria-label":"Primary workspace navigation","data-pinned":t?"true":"false","data-expanded":_?"true":"false",children:i.jsx("div",{className:de("absolute inset-y-0 left-0 z-40 flex min-h-0 flex-col bg-sidebar text-sidebar-foreground","border-r border-sidebar-border","transition-[width,box-shadow] duration-200 ease-out motion-reduce:transition-none",!t&&_&&"shadow-xl"),style:{width:D,willChange:"width"},onMouseEnter:()=>{t||g(!0)},onMouseLeave:()=>{t||g(!1)},onPointerDownCapture:()=>f("pointer"),onKeyDownCapture:M=>{const O=M.key.toLowerCase();(O==="tab"||O.startsWith("arrow"))&&f("keyboard")},onFocusCapture:()=>v(!0),onBlurCapture:()=>{requestAnimationFrame(()=>{const M=document.activeElement,O=document.querySelector("[data-workspace-nav-panel='true']");O&&M&&O.contains(M)||v(!1)})},"data-workspace-nav-panel":"true",children:i.jsx(kB,{items:c,settingsItem:l,expanded:_,isPinned:t,onTogglePinned:n})})})}function kB({items:e,settingsItem:t,expanded:n,isPinned:r,onTogglePinned:o}){const l=n?"drawer":"rail";return i.jsxs(i.Fragment,{children:[i.jsx("nav",{className:de("flex-1 overflow-y-auto","overflow-x-hidden",n?"px-3 py-4":"px-2 py-3"),"aria-label":"Workspace sections",children:i.jsx(Lk,{items:e,variant:l})}),i.jsx("div",{className:de("border-t border-sidebar-border",n?"px-3 py-3":"px-2 py-2"),children:i.jsxs("div",{className:de("flex flex-col",n?"gap-1.5":"gap-2"),children:[t?i.jsx(RB,{item:t,expanded:n}):null,i.jsx(MB,{isPinned:r,expanded:n,onToggle:o})]})})]})}function Lk({items:e,variant:t="drawer",onNavigate:n,className:r,showHeading:o=!0}){const l=t==="drawer";return i.jsxs(i.Fragment,{children:[o&&l?i.jsx("p",{className:"mb-3 px-2 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-sidebar-foreground",children:"Workspace"}):null,i.jsx("ul",{className:de("flex flex-col",l?"gap-1.5":"gap-2",r),children:e.map(c=>i.jsx("li",{className:"w-full",children:i.jsx(xy,{to:c.href,end:!(c.matchPrefix??!1),title:l?void 0:c.label,"aria-label":l?void 0:c.label,onClick:d=>{if($k(d)&&d.currentTarget.getAttribute("aria-current")==="page"){d.preventDefault();return}n?.()},className:({isActive:d})=>de("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",l?"px-3 py-2":"justify-center px-2 py-2",d?"bg-sidebar-item-active text-sidebar-foreground":"text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:({isActive:d})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:de("flex h-10 w-10 items-center justify-center rounded-xl","transition-colors duration-150 motion-reduce:transition-none",d?"bg-sidebar-item-active text-sidebar-foreground":"bg-sidebar-item-hover/70 text-sidebar-foreground group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),children:i.jsx(c.icon,{className:de("h-5 w-5 transition-colors duration-150","text-sidebar-foreground"),"aria-hidden":!0})}),i.jsx("span",{className:de("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",l?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-sm font-semibold text-sidebar-foreground"),"aria-hidden":!l,children:c.label})]})})},c.id))})]})}function RB({item:e,expanded:t}){const n=e.label||"Workspace settings";return i.jsx(xy,{to:e.href,end:!(e.matchPrefix??!1),title:t?void 0:n,onClick:r=>{$k(r)&&r.currentTarget.getAttribute("aria-current")==="page"&&r.preventDefault()},className:({isActive:r})=>de("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",t?"px-2 py-2":"justify-center px-2 py-2",r?"bg-sidebar-item-active text-sidebar-foreground":"text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:({isActive:r})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:de("flex h-10 w-10 items-center justify-center rounded-xl","transition-colors duration-150 motion-reduce:transition-none",r?"bg-sidebar-item-active text-sidebar-foreground":"bg-sidebar-item-hover/70 text-sidebar-foreground group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),"aria-hidden":!0,children:i.jsx(Dv,{className:"h-5 w-5"})}),i.jsx("span",{className:de("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",t?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-xs font-semibold text-sidebar-foreground"),"aria-hidden":!t,children:"Settings"})]})})}function MB({isPinned:e,expanded:t,onToggle:n}){const r=e?"Unpin sidebar":"Pin sidebar";return i.jsxs("button",{type:"button",onClick:n,"aria-label":r,"aria-pressed":e,title:r,className:de("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",t?"px-2 py-2":"justify-center px-2 py-2","text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:[i.jsx("span",{className:de("flex h-10 w-10 items-center justify-center rounded-xl bg-sidebar-item-hover/70 text-sidebar-foreground transition-colors duration-150 group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),"aria-hidden":!0,children:e?i.jsx(bN,{className:"h-4 w-4"}):i.jsx(Av,{className:"h-4 w-4"})}),i.jsx("span",{className:de("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",t?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-xs font-semibold text-sidebar-foreground"),"aria-hidden":!t,children:e?"Pinned":"Pin sidebar"})]})}function $k(e){return e.button===0&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function DB(e){const t=new Set(["settings","workspace-settings","workspacesettings","preferences"]),n=e.find(c=>t.has(c.id.toLowerCase()));if(n)return n;const r=e.find(c=>c.id.toLowerCase().includes("settings"));if(r)return r;const o=e.find(c=>/settings|preferences/i.test(c.href));return o||e.find(c=>/settings|preferences/i.test(c.label))}function Dj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cr(...e){return t=>{let n=!1;const r=e.map(o=>{const l=Dj(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():Dj(e[o],null)}}}}function Ft(...e){return h.useCallback(Cr(...e),e)}var AB=Symbol.for("react.lazy"),ah=Sv[" use ".trim().toString()];function OB(e){return typeof e=="object"&&e!==null&&"then"in e}function Fk(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===AB&&"_payload"in e&&OB(e._payload)}function TB(e){const t=zB(e),n=h.forwardRef((r,o)=>{let{children:l,...c}=r;Fk(l)&&typeof ah=="function"&&(l=ah(l._payload));const d=h.Children.toArray(l),f=d.find(IB);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var Nd=TB("Slot");function zB(e){const t=h.forwardRef((n,r)=>{let{children:o,...l}=n;if(Fk(o)&&typeof ah=="function"&&(o=ah(o._payload)),h.isValidElement(o)){const c=$B(o),d=LB(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PB=Symbol("radix.slottable");function IB(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PB}function LB(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function $B(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Aj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Oj=de,Uk=(e,t)=>n=>{var r;if(t?.variants==null)return Oj(e,n?.class,n?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(p=>{const g=n?.[p],x=l?.[p];if(g===null)return null;const v=Aj(g)||Aj(x);return o[p][v]}),d=n&&Object.entries(n).reduce((p,g)=>{let[x,v]=g;return v===void 0||(p[x]=v),p},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:x,className:v,...y}=g;return Object.entries(y).every(S=>{let[C,j]=S;return Array.isArray(j)?j.includes({...l,...d}[C]):{...l,...d}[C]===j})?[...p,x,v]:p},[]);return Oj(e,c,f,n?.class,n?.className)},FB=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},UB=(e,t)=>({classGroupId:e,validator:t}),Bk=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ih="-",Tj=[],BB="arbitrary..",VB=e=>{const t=qB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return HB(c);const d=c.split(ih),f=d[0]===""&&d.length>1?1:0;return Vk(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=r[c],p=n[c];return f?p?FB(p,f):f:p||Tj}return n[c]||Tj}}},Vk=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],l=n.nextPart.get(o);if(l){const p=Vk(e,t+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=t===0?e.join(ih):e.slice(t).join(ih),f=c.length;for(let p=0;p<f;p++){const g=c[p];if(g.validator(d))return g.classGroupId}},HB=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?BB+r:void 0})(),qB=e=>{const{theme:t,classGroups:n}=e;return WB(n,t)},WB=(e,t)=>{const n=Bk();for(const r in e){const o=e[r];by(o,n,r,t)}return n},by=(e,t,n,r)=>{const o=e.length;for(let l=0;l<o;l++){const c=e[l];GB(c,t,n,r)}},GB=(e,t,n,r)=>{if(typeof e=="string"){YB(e,t,n);return}if(typeof e=="function"){KB(e,t,n,r);return}ZB(e,t,n,r)},YB=(e,t,n)=>{const r=e===""?t:Hk(t,e);r.classGroupId=n},KB=(e,t,n,r)=>{if(QB(e)){by(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(UB(n,e))},ZB=(e,t,n,r)=>{const o=Object.entries(e),l=o.length;for(let c=0;c<l;c++){const[d,f]=o[c];by(f,Hk(t,d),n,r)}},Hk=(e,t)=>{let n=e;const r=t.split(ih),o=r.length;for(let l=0;l<o;l++){const c=r[l];let d=n.nextPart.get(c);d||(d=Bk(),n.nextPart.set(c,d)),n=d}return n},QB=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,XB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(l,c)=>{n[l]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return o(l,c),c},set(l,c){l in n?n[l]=c:o(l,c)}}},Wb="!",zj=":",JB=[],Pj=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),eV=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const l=[];let c=0,d=0,f=0,p;const g=o.length;for(let C=0;C<g;C++){const j=o[C];if(c===0&&d===0){if(j===zj){l.push(o.slice(f,C)),f=C+1;continue}if(j==="/"){p=C;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const x=l.length===0?o:o.slice(f);let v=x,y=!1;x.endsWith(Wb)?(v=x.slice(0,-1),y=!0):x.startsWith(Wb)&&(v=x.slice(1),y=!0);const S=p&&p>f?p-f:void 0;return Pj(l,y,v,S)};if(t){const o=t+zj,l=r;r=c=>c.startsWith(o)?l(c.slice(o.length)):Pj(JB,!1,c,void 0,!0)}if(n){const o=r;r=l=>n({className:l,parseClassName:o})}return r},tV=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=t.has(c);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},nV=e=>({cache:XB(e.cacheSize),parseClassName:eV(e),sortModifiers:tV(e),...VB(e)}),rV=/\s+/,sV=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],d=e.trim().split(rV);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:x,modifiers:v,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:C}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let j=!!C,E=r(j?S.substring(0,C):S);if(!E){if(!j){f=g+(f.length>0?" "+f:f);continue}if(E=r(S),!E){f=g+(f.length>0?" "+f:f);continue}j=!1}const N=v.length===0?"":v.length===1?v[0]:l(v).join(":"),_=y?N+Wb:N,R=_+E;if(c.indexOf(R)>-1)continue;c.push(R);const D=o(E,j);for(let A=0;A<D.length;++A){const M=D[A];c.push(_+M)}f=g+(f.length>0?" "+f:f)}return f},oV=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=qk(n))&&(o&&(o+=" "),o+=r);return o},qk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qk(e[r]))&&(n&&(n+=" "),n+=t);return n},aV=(e,...t)=>{let n,r,o,l;const c=f=>{const p=t.reduce((g,x)=>x(g),e());return n=nV(p),r=n.cache.get,o=n.cache.set,l=d,d(f)},d=f=>{const p=r(f);if(p)return p;const g=sV(f,n);return o(f,g),g};return l=c,(...f)=>l(oV(...f))},iV=[],Vn=e=>{const t=n=>n[e]||iV;return t.isThemeGetter=!0,t},Wk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lV=/^\d+\/\d+$/,cV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hl=e=>lV.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),za=e=>!!e&&Number.isInteger(Number(e)),qx=e=>e.endsWith("%")&&ht(e.slice(0,-1)),Bo=e=>cV.test(e),hV=()=>!0,pV=e=>uV.test(e)&&!dV.test(e),Yk=()=>!1,gV=e=>fV.test(e),xV=e=>mV.test(e),bV=e=>!Fe(e)&&!Ue(e),vV=e=>Cc(e,Qk,Yk),Fe=e=>Wk.test(e),ki=e=>Cc(e,Xk,pV),Wx=e=>Cc(e,jV,ht),Ij=e=>Cc(e,Kk,Yk),yV=e=>Cc(e,Zk,xV),hm=e=>Cc(e,Jk,gV),Ue=e=>Gk.test(e),ku=e=>jc(e,Xk),wV=e=>jc(e,EV),Lj=e=>jc(e,Kk),SV=e=>jc(e,Qk),CV=e=>jc(e,Zk),pm=e=>jc(e,Jk,!0),Cc=(e,t,n)=>{const r=Wk.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},jc=(e,t,n=!1)=>{const r=Gk.exec(e);return r?r[1]?t(r[1]):n:!1},Kk=e=>e==="position"||e==="percentage",Zk=e=>e==="image"||e==="url",Qk=e=>e==="length"||e==="size"||e==="bg-size",Xk=e=>e==="length",jV=e=>e==="number",EV=e=>e==="family-name",Jk=e=>e==="shadow",NV=()=>{const e=Vn("color"),t=Vn("font"),n=Vn("text"),r=Vn("font-weight"),o=Vn("tracking"),l=Vn("leading"),c=Vn("breakpoint"),d=Vn("container"),f=Vn("spacing"),p=Vn("radius"),g=Vn("shadow"),x=Vn("inset-shadow"),v=Vn("text-shadow"),y=Vn("drop-shadow"),S=Vn("blur"),C=Vn("perspective"),j=Vn("aspect"),E=Vn("ease"),N=Vn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...R(),Ue,Fe],A=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],O=()=>[Ue,Fe,f],L=()=>[Hl,"full","auto",...O()],T=()=>[za,"none","subgrid",Ue,Fe],G=()=>["auto",{span:["full",za,Ue,Fe]},za,Ue,Fe],P=()=>[za,"auto",Ue,Fe],$=()=>["auto","min","max","fr",Ue,Fe],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...O()],q=()=>[Hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],Z=()=>[e,Ue,Fe],F=()=>[...R(),Lj,Ij,{position:[Ue,Fe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",SV,vV,{size:[Ue,Fe]}],U=()=>[qx,ku,ki],ne=()=>["","none","full",p,Ue,Fe],K=()=>["",ht,ku,ki],H=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[ht,qx,Lj,Ij],te=()=>["","none",S,Ue,Fe],se=()=>["none",ht,Ue,Fe],oe=()=>["none",ht,Ue,Fe],fe=()=>[ht,Ue,Fe],Se=()=>[Hl,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[hV],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[bV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:["px",ht],text:[Bo],"text-shadow":[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hl,Fe,Ue,j]}],container:["container"],columns:[{columns:[ht,Fe,Ue,d]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[za,"auto",Ue,Fe]}],basis:[{basis:[Hl,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Hl,"auto","initial","none",Fe]}],grow:[{grow:["",ht,Ue,Fe]}],shrink:[{shrink:["",ht,Ue,Fe]}],order:[{order:[za,"first","last","none",Ue,Fe]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[d,"screen",...q()]}],"min-w":[{"min-w":[d,"screen","none",...q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,ku,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ue,Wx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qx,Fe]}],"font-family":[{font:[wV,Fe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ue,Fe]}],"line-clamp":[{"line-clamp":[ht,"none",Ue,Wx]}],leading:[{leading:[l,...O()]}],"list-image":[{"list-image":["none",Ue,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ue,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",Ue,ki]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[ht,"auto",Ue,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},za,Ue,Fe],radial:["",Ue,Fe],conic:[za,Ue,Fe]},CV,yV]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,Ue,Fe]}],"outline-w":[{outline:["",ht,ku,ki]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",g,pm,hm]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",x,pm,hm]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[ht,ki]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",v,pm,hm]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[ht,Ue,Fe]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Ue,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ue,Fe]}],filter:[{filter:["","none",Ue,Fe]}],blur:[{blur:te()}],brightness:[{brightness:[ht,Ue,Fe]}],contrast:[{contrast:[ht,Ue,Fe]}],"drop-shadow":[{"drop-shadow":["","none",y,pm,hm]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",ht,Ue,Fe]}],"hue-rotate":[{"hue-rotate":[ht,Ue,Fe]}],invert:[{invert:["",ht,Ue,Fe]}],saturate:[{saturate:[ht,Ue,Fe]}],sepia:[{sepia:["",ht,Ue,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ue,Fe]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[ht,Ue,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ht,Ue,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,Ue,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,Ue,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ht,Ue,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ht,Ue,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ht,Ue,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,Ue,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ue,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",Ue,Fe]}],ease:[{ease:["linear","initial",E,Ue,Fe]}],delay:[{delay:[ht,Ue,Fe]}],animate:[{animate:["none",N,Ue,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ue,Fe]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[Ue,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue,Fe]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[ht,ku,ki,Wx]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_V=aV(NV);function ze(...e){return _V(de(e))}const Gb=Uk("inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function rt({className:e,variant:t,size:n,asChild:r=!1,...o}){const l=r?Nd:"button";return i.jsx(l,{"data-slot":"button",className:ze(Gb({variant:t,size:n,className:e})),...o})}const kV=3,RV=10*1024*1024,MV=5*1024*1024;function DV({workspaceId:e,concurrency:t=kV,sessionThresholdBytes:n=RV}){const[r,o]=h.useState([]),l=h.useRef(new Set),c=h.useRef(new Map),d=h.useRef(new Map),f=h.useCallback(E=>{if(!E.length)return[];const N=Date.now(),_=E.map((R,D)=>({id:zV(N,D),file:R.file,status:"queued",runOptions:R.runOptions,progress:{loaded:0,total:Math.max(R.file.size,0),percent:0}}));return o(R=>[...R,..._]),_},[]),p=h.useCallback(E=>{d.current.set(E,"pause");const N=c.current.get(E);N&&N(),o(_=>_.map(R=>R.id===E&&R.status==="uploading"?{...R,status:"paused"}:R))},[]),g=h.useCallback(E=>{o(N=>N.map(_=>_.id!==E||_.status!=="paused"?_:_.mode==="simple"?{..._,status:"queued",progress:lh(_.file)}:{..._,status:"queued"}))},[]),x=h.useCallback(E=>{o(N=>N.map(_=>_.id!==E||_.status!=="failed"?_:_.mode==="simple"?{..._,status:"queued",progress:lh(_.file),error:void 0,response:void 0}:{..._,status:"queued",error:void 0}))},[]),v=h.useCallback(E=>{d.current.set(E,"cancel");const N=c.current.get(E);N&&N(),o(R=>R.map(D=>D.id===E&&D.status!=="succeeded"?{...D,status:"cancelled"}:D));const _=r.find(R=>R.id===E);_?.sessionId&&jU(e,_.sessionId).catch(()=>null)},[r,e]),y=h.useCallback(E=>{v(E),o(N=>N.filter(_=>_.id!==E))},[v]),S=h.useCallback(()=>{o(E=>E.filter(N=>!TV(N.status)))},[]),C=h.useCallback((E,N)=>{o(_=>_.map(R=>R.id===E?{...R,response:N}:R))},[]);h.useEffect(()=>{if(!e)return;const E=r.filter(R=>R.status==="uploading").length;if(E>=t)return;const N=t-E,_=r.filter(R=>R.status==="queued").slice(0,N);for(const R of _){if(l.current.has(R.id))continue;l.current.add(R.id);const D=R.mode??(R.file.size>=n?"session":"simple");o(O=>O.map(L=>L.id===R.id?{...L,status:"uploading",mode:D}:L));const A=new AbortController;c.current.set(R.id,()=>A.abort()),(D==="session"?IV(R,{workspaceId:e,controller:A,updateItem:O=>o(L=>L.map(T=>T.id===R.id?{...T,...O}:T))}):PV(R,{workspaceId:e,controller:A,onProgress:O=>o(L=>L.map(T=>T.id===R.id?{...T,progress:AV(T.file,O)}:T))})).then(O=>{o(L=>L.map(T=>T.id===R.id?{...T,status:"succeeded",progress:OV(T.file),response:O,error:void 0}:T))}).catch(O=>{const L=d.current.get(R.id),G=(O instanceof Error?O.name:"")==="AbortError";if(G&&L)return;const P=O instanceof Error?O.message:"Upload failed.";o($=>$.map(W=>W.id===R.id?{...W,status:G?"cancelled":"failed",error:P}:W))}).finally(()=>{l.current.delete(R.id),c.current.delete(R.id),d.current.delete(R.id)})}},[t,r,n,e]);const j=h.useMemo(()=>{let E=0,N=0,_=0,R=0,D=0,A=0,M=0,O=0;for(const P of r)switch(E+=Math.max(P.file.size,0),N+=P.progress.loaded,P.status){case"queued":_+=1;break;case"uploading":R+=1;break;case"paused":D+=1;break;case"succeeded":A+=1;break;case"failed":M+=1;break;case"cancelled":O+=1;break}const L=A+M+O,T=_+R+D,G=E>0?Math.min(100,Math.round(N/E*100)):0;return{totalCount:r.length,queuedCount:_,uploadingCount:R,pausedCount:D,succeededCount:A,failedCount:M,cancelledCount:O,completedCount:L,totalBytes:E,uploadedBytes:N,percent:G,inFlightCount:T}},[r]);return{items:r,summary:j,enqueue:f,pause:p,resume:g,retry:x,cancel:v,remove:y,clearCompleted:S,updateResponse:C}}function AV(e,t){const n=t.total??Math.max(e.size,0),r=Math.max(t.loaded,0),o=n>0?Math.min(100,Math.round(r/n*100)):0;return{loaded:r,total:n,percent:o}}function lh(e){const t=Math.max(e.size,0);return{loaded:0,total:t,percent:(t>0,0)}}function OV(e){const t=Math.max(e.size,0);return{loaded:t,total:t,percent:t>0?100:0}}function TV(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function zV(e,t){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`upload-${e}-${t}-${Math.random().toString(36).slice(2,9)}`}async function PV(e,t){const n=vU(t.workspaceId,e.file,{onProgress:t.onProgress,idempotencyKey:e.id,runOptions:e.runOptions});t.controller.signal.addEventListener("abort",()=>n.abort(),{once:!0});const r=await n.promise;if(!r.data)throw new Error("Expected upload response.");return r.data}async function IV(e,t){const n=Math.max(e.file.size,0);let r=e.sessionId,o=e.chunkSizeBytes??MV,l=Math.min(e.progress.loaded,n);if(r)try{const d=await SU(t.workspaceId,r,t.controller.signal);l=Math.min(d.received_bytes??l,n),t.updateItem({sessionId:d.upload_session_id,nextExpectedRanges:d.next_expected_ranges,progress:{loaded:l,total:n,percent:n>0?Math.min(100,Math.round(l/n*100)):0}})}catch(d){if(d instanceof Pt&&(d.status===404||d.status===410))r=void 0,l=0,t.updateItem({sessionId:void 0,nextExpectedRanges:void 0,progress:lh(e.file)});else throw d}if(!r){const d=await yU(t.workspaceId,{filename:e.file.name,byte_size:n,content_type:e.file.type||void 0,conflict_behavior:"rename",run_options:e.runOptions},t.controller.signal);r=d.upload_session_id,o=d.chunk_size_bytes??o,l=0,t.updateItem({sessionId:r,chunkSizeBytes:o,nextExpectedRanges:d.next_expected_ranges,progress:lh(e.file)})}if(!r)throw new Error("Upload session id was not initialized.");for(;l<n;){if(t.controller.signal.aborted)throw new DOMException("Aborted","AbortError");const d=Math.min(l+o-1,n-1),f=e.file.slice(l,d+1),p=await wU(t.workspaceId,r,{start:l,end:d,total:n,body:f,signal:t.controller.signal});l=d+1,t.updateItem({nextExpectedRanges:p.next_expected_ranges,progress:{loaded:l,total:n,percent:n>0?Math.min(100,Math.round(l/n*100)):0}})}return await CU(t.workspaceId,r,e.id,t.controller.signal)}function ac(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],r=Math.min(Math.floor(Math.log(e)/Math.log(t)),n.length-1),o=e/Math.pow(t,r);return`${o.toFixed(o>=10||r===0?0:1)} ${n[r]}`}function LV(e){let t="",n=e+1;for(;n>0;){const r=(n-1)%26;t=String.fromCharCode(65+r)+t,n=Math.floor((n-1)/26)}return`Column ${t}`}function Yb(e,t=8){return e?e.slice(0,Math.max(4,t)):""}function Kb(e){switch(e){case"xlsx":return"XLSX";case"xls":return"XLS";case"csv":return"CSV";case"pdf":return"PDF";default:return"File"}}function $V(e){return e.toLowerCase().match(/\.([a-z0-9]+)$/)?.[1]??""}function FV(e,t){const n=$V(e);if(n==="xlsx")return"xlsx";if(n==="xls")return"xls";if(n==="csv")return"csv";if(n==="pdf")return"pdf";const r=(t??"").toLowerCase();return r.includes("spreadsheetml")?"xlsx":r.includes("ms-excel")?"xls":r.includes("csv")?"csv":r.includes("pdf")?"pdf":"unknown"}function UV(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`id_${Math.random().toString(16).slice(2)}_${Date.now()}`}function BV({upload:e}){const t=Math.max(0,Math.min(100,e.progress.percent??0)),n=VV(e.status,t);return i.jsxs("div",{className:"flex flex-col gap-1 text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:n}),e.status==="uploading"?i.jsxs("span",{className:"tabular-nums",children:[t,"%"]}):null]}),i.jsx("div",{className:"h-1.5 w-full rounded-full bg-muted",children:i.jsx("div",{className:de("h-1.5 rounded-full",HV(e.status)),style:{width:`${t}%`}})})]})}function VV(e,t){switch(e){case"uploading":return`Uploading (${t}%)`;case"succeeded":return"Complete";case"paused":return"Upload paused";case"failed":return"Upload failed";case"cancelled":return"Upload cancelled";case"queued":return"Queued";default:return"Uploading"}}function HV(e){switch(e){case"failed":return"bg-danger-500";case"paused":return"bg-warning-500";case"cancelled":return"bg-muted-foreground";case"succeeded":return"bg-success-500";default:return"bg-brand-500"}}function qV({items:e,summary:t,onPause:n,onResume:r,onRetry:o,onCancel:l,onRemove:c,onClearCompleted:d}){const f=h.useRef(null),[p,g]=h.useState(!1),x=t.totalCount>0,v=t.completedCount;h.useEffect(()=>{function S(C){if(!p)return;const j=C.target;f.current&&j&&!f.current.contains(j)&&g(!1)}return window.addEventListener("mousedown",S),()=>window.removeEventListener("mousedown",S)},[p]);const y=h.useMemo(()=>{if(!x)return"Uploads";const S=t.uploadingCount+t.queuedCount+t.pausedCount;return S>0?`${S} in progress`:`${t.succeededCount} completed`},[x,t]);return x?i.jsxs("div",{ref:f,className:"relative",children:[i.jsxs(rt,{type:"button",variant:"outline",size:"sm",onClick:()=>g(S=>!S),className:de("rounded-full px-3 py-1.5 text-xs font-semibold",p?"text-foreground":"text-muted-foreground hover:text-foreground"),"aria-haspopup":"dialog","aria-expanded":p,children:[i.jsx(vh,{className:"h-4 w-4"}),y,i.jsx("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground",children:t.totalCount})]}),p?i.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-[22rem] rounded-2xl border border-border bg-card p-4 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Upload manager"}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:t.uploadingCount>0?`${t.uploadingCount} uploading`:"All uploads paused or complete"})]}),v>0?i.jsx(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(),className:"h-7 px-2 text-[11px]",children:"Clear completed"}):null]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("span",{children:[t.uploadedBytes>0?ac(t.uploadedBytes):"0 B"," /"," ",t.totalBytes>0?ac(t.totalBytes):"0 B"]}),i.jsxs("span",{className:"tabular-nums",children:[t.percent,"%"]})]}),i.jsx("div",{className:"mt-1 h-1.5 w-full rounded-full bg-muted",children:i.jsx("div",{className:"h-1.5 rounded-full bg-brand-500",style:{width:`${Math.max(0,Math.min(100,t.percent))}%`}})}),i.jsx("div",{className:"mt-4 max-h-[18rem] space-y-3 overflow-y-auto pr-1",children:e.map(S=>i.jsxs("div",{className:"rounded-xl border border-border bg-background px-3 py-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate text-xs font-semibold text-foreground",children:S.file.name}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:ac(S.file.size)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[S.status==="uploading"?i.jsx(Ru,{label:"Pause",onClick:()=>n(S.id),children:"Pause"}):null,S.status==="paused"?i.jsx(Ru,{label:"Resume",onClick:()=>r(S.id),children:"Resume"}):null,S.status==="failed"?i.jsx(Ru,{label:"Retry",onClick:()=>o(S.id),children:i.jsx(ET,{className:"h-3 w-3"})}):null,S.status==="uploading"||S.status==="queued"||S.status==="paused"?i.jsx(Ru,{label:"Cancel",onClick:()=>l(S.id),children:i.jsx(mo,{className:"h-3 w-3"})}):null,S.status==="failed"||S.status==="cancelled"||S.status==="succeeded"?i.jsx(Ru,{label:"Remove",onClick:()=>c(S.id),children:"Remove"}):null]})]}),i.jsx("div",{className:"mt-2",children:i.jsx(BV,{upload:S})}),S.error?i.jsx("p",{className:"mt-2 text-[10px] font-semibold text-danger-500",children:S.error}):null]},S.id))})]}):null]}):null}function Ru({label:e,onClick:t,children:n}){return i.jsx(rt,{type:"button",variant:"outline",size:"sm",onClick:t,className:"h-7 px-2 text-[10px] text-muted-foreground hover:text-foreground","aria-label":e,title:e,children:n})}function WV({open:e,files:t,onConfirm:n,onCancel:r,processingPaused:o,configMissing:l}){const c=h.useRef(null),[d,f]=h.useState([]),[p,g]=h.useState({}),[x,v]=h.useState("active"),[y,S]=h.useState([]),[C,j]=h.useState(!1);h.useEffect(()=>{if(!e){f([]);return}f(t.map($=>({id:UV(),file:$,type:FV($.name,$.type)})))},[t,e]),h.useEffect(()=>{e&&(v("active"),S([]),j(!1),g({}))},[e,d.length]),h.useEffect(()=>{if(!e||d.length===0)return;if(d.length!==1){g({});return}const $=d[0];if(!gm($.type)){g({[$.id]:{status:"ready",names:[],activeName:null}});return}let W=!1;return g({[$.id]:{status:"loading",names:[],activeName:null}}),(async()=>{try{const z=await GV($.file);if(W)return;g({[$.id]:{status:"ready",names:z.names,activeName:z.activeName}})}catch(z){if(W)return;g({[$.id]:{status:"error",names:[],activeName:null,error:z instanceof Error?z.message:"Unable to read worksheets."}})}})(),()=>{W=!0}},[d,e]),h.useEffect(()=>{if(!e)return;const $=W=>{if(W.key==="Escape"&&r(),W.key==="Tab"){const ce=c.current;if(!ce)return;const z=Array.from(ce.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(F=>!F.hasAttribute("disabled"));if(z.length===0)return;const q=z.indexOf(document.activeElement),Z=W.shiftKey?q<=0?z.length-1:q-1:q===z.length-1?0:q+1;z[Z]?.focus(),W.preventDefault()}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[r,e]),h.useEffect(()=>{if(!e)return;const{body:$}=document,W=$.style.overflow;return $.style.overflow="hidden",()=>{$.style.overflow=W}},[e]),h.useEffect(()=>{if(!e)return;c.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus({preventScroll:!0})},[e]);const E=d.length===1,N=d.filter($=>gm($.type)).length,_=E?d[0]:null,R=_?p[_.id]:null,D=R?.activeName??null,A=R?.names??[],M=R?.status??"idle",O=!!(_&&gm(_.type));h.useEffect(()=>{e&&x==="custom"&&(y.length>0||D&&S([D]))},[D,e,y.length,x]);const L=h.useMemo(()=>d.length===0?!0:E?!O||x==="all"?!1:x==="custom"?y.length===0:!D||M!=="ready":!1,[D,O,E,d.length,y.length,x,M]),T=h.useMemo(()=>o?"Processing is paused. Uploads will be stored until processing resumes.":l?"No active configuration yet. Uploads will process once one is enabled.":"Uploads will process automatically after they finish.",[l,o]);if(!e||typeof document>"u")return null;const G=()=>{if(L||d.length===0)return;const $=d.map(W=>gm(W.type)?E?x==="custom"&&y.length>0?{file:W.file,runOptions:{input_sheet_names:y,active_sheet_only:!1}}:x==="active"&&D?{file:W.file,runOptions:{active_sheet_only:!0}}:{file:W.file}:C?{file:W.file,runOptions:{active_sheet_only:!0}}:{file:W.file}:{file:W.file});n($)},P=i.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-overlay/60 px-4 py-6",role:"presentation",onMouseDown:$=>{$.target===$.currentTarget&&r()},children:i.jsxs("div",{ref:c,role:"dialog","aria-modal":"true","aria-labelledby":"upload-preflight-title",className:"flex w-full max-w-2xl max-h-[90vh] flex-col overflow-hidden rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Upload"}),i.jsx("h2",{id:"upload-preflight-title",className:"text-xl font-semibold text-foreground",children:"Choose sheets before upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:E?"Pick the sheets to process for this file.":"Batch uploads use a shared sheet rule."})]}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:r,"aria-label":"Close dialog",children:i.jsx(mo,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"mt-6 flex min-h-0 flex-1 flex-col gap-6",children:[i.jsxs("section",{className:"flex min-h-0 flex-1 flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-semibold text-foreground",children:[d.length," file",d.length===1?"":"s"," ready"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total size ",ac(d.reduce(($,W)=>$+W.file.size,0))]})]}),i.jsx("div",{className:"flex-1 min-h-0 space-y-2 overflow-auto pr-1",children:d.map($=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/80 bg-muted/30 px-3 py-2",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg border border-border bg-card text-[10px] font-semibold text-muted-foreground",children:Kb($.type)}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium text-foreground",children:$.file.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:ac($.file.size)})]}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>f(W=>W.filter(ce=>ce.id!==$.id)),"aria-label":`Remove ${$.file.name}`,children:i.jsx(jT,{className:"h-4 w-4"})})]},$.id))})]}),i.jsx("section",{className:"space-y-4",children:E?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Sheet selection"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:O?"Active sheet is recommended for most uploads.":"Sheet selection is not available for this file type."})]}),O&&M==="loading"?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent"}),"Reading worksheet names..."]}):null,O&&M==="error"?i.jsx(Rt,{tone:"warning",heading:"Worksheet metadata unavailable",children:R?.error??"We could not read worksheets from this file."}):null,O?i.jsxs(i.Fragment,{children:[i.jsxs("fieldset",{className:"space-y-2","aria-label":"Sheet selection mode",children:[i.jsx("legend",{className:"sr-only",children:"Sheet selection mode"}),[{value:"active",title:"Active sheet",description:D?`Active sheet: ${D}`:"Active sheet not detected",disabled:M!=="ready"||!D},{value:"all",title:"All sheets",description:"Process every sheet in the workbook.",disabled:!1},{value:"custom",title:"Choose sheets",description:"Select specific sheets from the list.",disabled:M==="error"||A.length===0}].map($=>i.jsxs("label",{className:de("flex cursor-pointer items-start gap-3 rounded-xl border p-3 transition",x===$.value?"border-brand-500 bg-brand-500/10":"border-border bg-card hover:border-muted-foreground/40",$.disabled&&"cursor-not-allowed opacity-60"),children:[i.jsx("input",{type:"radio",name:"sheet-mode",className:"mt-1 h-4 w-4 border-border text-brand-600 focus:ring-brand-500",checked:x===$.value,onChange:()=>v($.value),disabled:$.disabled}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:$.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:$.description})]})]},$.value))]}),x==="custom"?i.jsxs("div",{className:"rounded-xl border border-border bg-muted/30 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:y.length===0?"Select at least one sheet.":`${y.length} sheet${y.length===1?"":"s"} selected`}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>S(A),disabled:A.length===0,children:"Select all"}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>S([]),children:"Clear"})]})]}),i.jsx("div",{className:"mt-3 max-h-48 space-y-1 overflow-auto rounded-lg border border-border bg-card/60 p-2",children:A.map($=>{const W=y.includes($),ce=D===$;return i.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-foreground hover:bg-muted",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-brand-600 focus:ring-brand-500",checked:W,onChange:()=>S(z=>z.includes($)?z.filter(q=>q!==$):[...z,$])}),i.jsxs("span",{className:"flex-1 truncate",children:[$,ce?" (active)":""]})]},$)})})]}):null]}):i.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/40 p-3 text-xs text-muted-foreground",children:"This file will be processed as a single sheet."})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Batch rules"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sheet-by-sheet selection is only available for single uploads."})]}),i.jsxs("label",{className:de("flex items-center justify-between gap-4 rounded-xl border border-border bg-card px-4 py-3",N===0&&"opacity-60"),children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Process only the active sheet"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Applies to Excel files in this upload."})]}),i.jsxs("span",{className:"relative inline-flex items-center",children:[i.jsx("input",{type:"checkbox",className:"peer sr-only",checked:C,disabled:N===0,onChange:$=>j($.target.checked)}),i.jsx("span",{className:"h-5 w-9 rounded-full bg-muted transition peer-checked:bg-brand-600 peer-disabled:cursor-not-allowed"}),i.jsx("span",{className:"absolute left-0.5 h-4 w-4 rounded-full bg-white transition peer-checked:translate-x-4"})]})]}),C?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active sheet selection is resolved during processing."}):null]})})]}),i.jsxs("footer",{className:"mt-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:T}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(Ge,{variant:"ghost",onClick:r,children:"Cancel"}),i.jsxs(Ge,{onClick:G,disabled:L,className:"gap-2",children:[i.jsx(vh,{className:"h-4 w-4"}),"Upload ",d.length===1?"file":"files"]})]})]})]})});return zn.createPortal(P,document.body)}function gm(e){return e==="xlsx"||e==="xls"}async function GV(e){const t=await e.arrayBuffer(),r=(await dN(()=>import("./xlsx-DGuHH-KN.js"),[])).read(t,{type:"array"}),o=r.SheetNames??[],l=YV(r,o);return{names:o,activeName:l}}function YV(e,t){const n=e.Workbook?.Views?.[0]?.activeTab;return typeof n=="number"&&n>=0&&n<t.length?t[n]:t[0]??null}function KV(e,t){const n=t.documentId??t.row?.id;if(!n)return{data:e,updatesAvailable:!1,applied:!1};let r=!1,o=!!t.requiresRefresh,l=!1;const c=e.pages.map(d=>{if(!d.items?.length)return d;const f=d.items.findIndex(p=>p.id===n);if(f===-1)return d;if(r=!0,t.type==="document.deleted")return l=!0,{...d,items:d.items.filter(p=>p.id!==n)};if(t.type==="document.upsert"&&t.row){const p=t.row;if(t.matchesFilters===!1)return l=!0,o=!0,{...d,items:d.items.filter(x=>x.id!==n)};const g=d.items.slice();return g[f]=p,l=!0,{...d,items:g}}return d});return!r&&t.type==="document.upsert"&&t.row&&t.matchesFilters&&(o=!0),!r&&!l?{data:e,updatesAvailable:o,applied:!1}:{data:{...e,pages:c},updatesAvailable:o,applied:l}}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Fa(e,t){return typeof e=="function"?e(t):e}function es(e,t){return n=>{t.setState(r=>({...r,[e]:Fa(n,r[e])}))}}function Fh(e){return e instanceof Function}function ZV(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function QV(e,t){const n=[],r=o=>{o.forEach(l=>{n.push(l);const c=t(l);c!=null&&c.length&&r(c)})};return r(e),n}function et(e,t,n){let r=[],o;return l=>{let c;n.key&&n.debug&&(c=Date.now());const d=e(l);if(!(d.length!==r.length||d.some((g,x)=>r[x]!==g)))return o;r=d;let p;if(n.key&&n.debug&&(p=Date.now()),o=t(...d),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-c)*100)/100,x=Math.round((Date.now()-p)*100)/100,v=x/16,y=(S,C)=>{for(S=String(S);S.length<C;)S=" "+S;return S};console.info(`%c ${y(x,5)} /${y(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n?.key)}return o}}function tt(e,t,n,r){return{debug:()=>{var o;return(o=e?.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function XV(e,t,n,r){const o=()=>{var c;return(c=l.getValue())!=null?c:e.options.renderFallbackValue},l={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:et(()=>[e,n,t,l],(c,d,f,p)=>({table:c,column:d,row:f,cell:p,getValue:p.getValue,renderValue:p.renderValue}),tt(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(l,n,t,e)},{}),l}function JV(e,t,n,r){var o,l;const d={...e._getDefaultColumnDef(),...t},f=d.accessorKey;let p=(o=(l=d.id)!=null?l:f?typeof String.prototype.replaceAll=="function"?f.replaceAll(".","_"):f.replace(/\./g,"_"):void 0)!=null?o:typeof d.header=="string"?d.header:void 0,g;if(d.accessorFn?g=d.accessorFn:f&&(f.includes(".")?g=v=>{let y=v;for(const C of f.split(".")){var S;y=(S=y)==null?void 0:S[C]}return y}:g=v=>v[d.accessorKey]),!p)throw new Error;let x={id:`${String(p)}`,accessorFn:g,parent:r,depth:n,columnDef:d,columns:[],getFlatColumns:et(()=>[!0],()=>{var v;return[x,...(v=x.columns)==null?void 0:v.flatMap(y=>y.getFlatColumns())]},tt(e.options,"debugColumns")),getLeafColumns:et(()=>[e._getOrderColumnsFn()],v=>{var y;if((y=x.columns)!=null&&y.length){let S=x.columns.flatMap(C=>C.getLeafColumns());return v(S)}return[x]},tt(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(x,e);return x}const dr="debugHeaders";function $j(e,t,n){var r;let l={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=f=>{f.subHeaders&&f.subHeaders.length&&f.subHeaders.map(d),c.push(f)};return d(l),c},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(l,e)}),l}const e8={createTable:e=>{e.getHeaderGroups=et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var l,c;const d=(l=r?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?l:[],f=(c=o?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?c:[],p=n.filter(x=>!(r!=null&&r.includes(x.id))&&!(o!=null&&o.includes(x.id)));return xm(t,[...d,...p,...f],e)},tt(e.options,dr)),e.getCenterHeaderGroups=et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(o!=null&&o.includes(l.id))),xm(t,n,e,"center")),tt(e.options,dr)),e.getLeftHeaderGroups=et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const l=(o=r?.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?o:[];return xm(t,l,e,"left")},tt(e.options,dr)),e.getRightHeaderGroups=et(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const l=(o=r?.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?o:[];return xm(t,l,e,"right")},tt(e.options,dr)),e.getFooterGroups=et(()=>[e.getHeaderGroups()],t=>[...t].reverse(),tt(e.options,dr)),e.getLeftFooterGroups=et(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),tt(e.options,dr)),e.getCenterFooterGroups=et(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),tt(e.options,dr)),e.getRightFooterGroups=et(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),tt(e.options,dr)),e.getFlatHeaders=et(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),tt(e.options,dr)),e.getLeftFlatHeaders=et(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),tt(e.options,dr)),e.getCenterFlatHeaders=et(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),tt(e.options,dr)),e.getRightFlatHeaders=et(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),tt(e.options,dr)),e.getCenterLeafHeaders=et(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),tt(e.options,dr)),e.getLeftLeafHeaders=et(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),tt(e.options,dr)),e.getRightLeafHeaders=et(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),tt(e.options,dr)),e.getLeafHeaders=et(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,l,c,d,f,p;return[...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=n[0])==null?void 0:d.headers)!=null?c:[],...(f=(p=r[0])==null?void 0:p.headers)!=null?f:[]].map(g=>g.getLeafHeaders()).flat()},tt(e.options,dr))}};function xm(e,t,n,r){var o,l;let c=0;const d=function(v,y){y===void 0&&(y=1),c=Math.max(c,y),v.filter(S=>S.getIsVisible()).forEach(S=>{var C;(C=S.columns)!=null&&C.length&&d(S.columns,y+1)},0)};d(e);let f=[];const p=(v,y)=>{const S={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},C=[];v.forEach(j=>{const E=[...C].reverse()[0],N=j.column.depth===S.depth;let _,R=!1;if(N&&j.column.parent?_=j.column.parent:(_=j.column,R=!0),E&&E?.column===_)E.subHeaders.push(j);else{const D=$j(n,_,{id:[r,y,_.id,j?.id].filter(Boolean).join("_"),isPlaceholder:R,placeholderId:R?`${C.filter(A=>A.column===_).length}`:void 0,depth:y,index:C.length});D.subHeaders.push(j),C.push(D)}S.headers.push(j),j.headerGroup=S}),f.push(S),y>0&&p(C,y-1)},g=t.map((v,y)=>$j(n,v,{depth:c,index:y}));p(g,c-1),f.reverse();const x=v=>v.filter(S=>S.column.getIsVisible()).map(S=>{let C=0,j=0,E=[0];S.subHeaders&&S.subHeaders.length?(E=[],x(S.subHeaders).forEach(_=>{let{colSpan:R,rowSpan:D}=_;C+=R,E.push(D)})):C=1;const N=Math.min(...E);return j=j+N,S.colSpan=C,S.rowSpan=j,{colSpan:C,rowSpan:j}});return x((o=(l=f[0])==null?void 0:l.headers)!=null?o:[]),f}const vy=(e,t,n,r,o,l,c)=>{let d={id:t,index:r,original:n,depth:o,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:f=>{if(d._valuesCache.hasOwnProperty(f))return d._valuesCache[f];const p=e.getColumn(f);if(p!=null&&p.accessorFn)return d._valuesCache[f]=p.accessorFn(d.original,r),d._valuesCache[f]},getUniqueValues:f=>{if(d._uniqueValuesCache.hasOwnProperty(f))return d._uniqueValuesCache[f];const p=e.getColumn(f);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(d._uniqueValuesCache[f]=p.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[f]):(d._uniqueValuesCache[f]=[d.getValue(f)],d._uniqueValuesCache[f])},renderValue:f=>{var p;return(p=d.getValue(f))!=null?p:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>QV(d.subRows,f=>f.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let f=[],p=d;for(;;){const g=p.getParentRow();if(!g)break;f.push(g),p=g}return f.reverse()},getAllCells:et(()=>[e.getAllLeafColumns()],f=>f.map(p=>XV(e,d,p,p.id)),tt(e.options,"debugRows")),_getAllCellsByColumnId:et(()=>[d.getAllCells()],f=>f.reduce((p,g)=>(p[g.column.id]=g,p),{}),tt(e.options,"debugRows"))};for(let f=0;f<e._features.length;f++){const p=e._features[f];p==null||p.createRow==null||p.createRow(d,e)}return d},t8={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},eR=(e,t,n)=>{var r,o;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(l))};eR.autoRemove=e=>Us(e);const tR=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};tR.autoRemove=e=>Us(e);const nR=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};nR.autoRemove=e=>Us(e);const rR=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};rR.autoRemove=e=>Us(e);const sR=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});sR.autoRemove=e=>Us(e)||!(e!=null&&e.length);const oR=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});oR.autoRemove=e=>Us(e)||!(e!=null&&e.length);const aR=(e,t,n)=>e.getValue(t)===n;aR.autoRemove=e=>Us(e);const iR=(e,t,n)=>e.getValue(t)==n;iR.autoRemove=e=>Us(e);const yy=(e,t,n)=>{let[r,o]=n;const l=e.getValue(t);return l>=r&&l<=o};yy.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,l=t===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(o)?1/0:o;if(l>c){const d=l;l=c,c=d}return[l,c]};yy.autoRemove=e=>Us(e)||Us(e[0])&&Us(e[1]);const Vo={includesString:eR,includesStringSensitive:tR,equalsString:nR,arrIncludes:rR,arrIncludesAll:sR,arrIncludesSome:oR,equals:aR,weakEquals:iR,inNumberRange:yy};function Us(e){return e==null||e===""}const n8={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:es("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Vo.includesString:typeof r=="number"?Vo.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vo.equals:Array.isArray(r)?Vo.arrIncludes:Vo.weakEquals},e.getFilterFn=()=>{var n,r;return Fh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Vo[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),l=r?.find(g=>g.id===e.id),c=Fa(n,l?l.value:void 0);if(Fj(o,c,e)){var d;return(d=r?.filter(g=>g.id!==e.id))!=null?d:[]}const f={id:e.id,value:c};if(l){var p;return(p=r?.map(g=>g.id===e.id?f:g))!=null?p:[]}return r!=null&&r.length?[...r,f]:[f]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var l;return(l=Fa(t,o))==null?void 0:l.filter(c=>{const d=n.find(f=>f.id===c.id);if(d){const f=d.getFilterFn();if(Fj(f,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Fj(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const r8=(e,t,n)=>n.reduce((r,o)=>{const l=o.getValue(e);return r+(typeof l=="number"?l:0)},0),s8=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},o8=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},a8=(e,t,n)=>{let r,o;return n.forEach(l=>{const c=l.getValue(e);c!=null&&(r===void 0?c>=c&&(r=o=c):(r>c&&(r=c),o<c&&(o=c)))}),[r,o]},i8=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let l=o.getValue(e);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},l8=(e,t)=>{if(!t.length)return;const n=t.map(l=>l.getValue(e));if(!ZV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((l,c)=>l-c);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},c8=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),u8=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,d8=(e,t)=>t.length,Gx={sum:r8,min:s8,max:o8,extent:a8,mean:i8,median:l8,unique:c8,uniqueCount:u8,count:d8},f8={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:es("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return Gx.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Gx.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Fh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Gx[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function m8(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(l=>!t.includes(l.id));return n==="remove"?r:[...t.map(l=>e.find(c=>c.id===l)).filter(Boolean),...r]}const h8={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:es("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=et(n=>[Ku(t,n)],n=>n.findIndex(r=>r.id===e.id),tt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Ku(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Ku(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=et(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let l=[];if(!(t!=null&&t.length))l=o;else{const c=[...t],d=[...o];for(;d.length&&c.length;){const f=c.shift(),p=d.findIndex(g=>g.id===f);p>-1&&l.push(d.splice(p,1)[0])}l=[...l,...d]}return m8(l,n,r)},tt(e.options,"debugTable"))}},Yx=()=>({left:[],right:[]}),p8={getInitialState:e=>({columnPinning:Yx(),...e}),getDefaultOptions:e=>({onColumnPinningChange:es("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var l,c;if(n==="right"){var d,f;return{left:((d=o?.left)!=null?d:[]).filter(x=>!(r!=null&&r.includes(x))),right:[...((f=o?.right)!=null?f:[]).filter(x=>!(r!=null&&r.includes(x))),...r]}}if(n==="left"){var p,g;return{left:[...((p=o?.left)!=null?p:[]).filter(x=>!(r!=null&&r.includes(x))),...r],right:((g=o?.right)!=null?g:[]).filter(x=>!(r!=null&&r.includes(x)))}}return{left:((l=o?.left)!=null?l:[]).filter(x=>!(r!=null&&r.includes(x))),right:((c=o?.right)!=null?c:[]).filter(x=>!(r!=null&&r.includes(x)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,l,c;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((l=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(d=>d.id),{left:r,right:o}=t.getState().columnPinning,l=n.some(d=>r?.includes(d)),c=n.some(d=>o?.includes(d));return l?"left":c?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const l=[...r??[],...o??[]];return n.filter(c=>!l.includes(c.column.id))},tt(t.options,"debugRows")),e.getLeftVisibleCells=et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),tt(t.options,"debugRows")),e.getRightVisibleCells=et(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),tt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Yx():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Yx())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,l;return!!((o=r.left)!=null&&o.length||(l=r.right)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),tt(e.options,"debugColumns")),e.getRightLeafColumns=et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),tt(e.options,"debugColumns")),e.getCenterLeafColumns=et(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(l=>!o.includes(l.id))},tt(e.options,"debugColumns"))}};function g8(e){return e||(typeof document<"u"?document:null)}const bm={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Kx=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),x8={getDefaultColumnDef:()=>bm,getInitialState:e=>({columnSizing:{},columnSizingInfo:Kx(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:es("columnSizing",e),onColumnSizingInfoChange:es("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:bm.minSize,(r=l??e.columnDef.size)!=null?r:bm.size),(o=e.columnDef.maxSize)!=null?o:bm.maxSize)},e.getStart=et(n=>[n,Ku(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,l)=>o+l.getSize(),0),tt(t.options,"debugColumns")),e.getAfter=et(n=>[n,Ku(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,l)=>o+l.getSize(),0),tt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var l;n+=(l=o.column.getSize())!=null?l:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r?.getCanResize();return l=>{if(!r||!o||(l.persist==null||l.persist(),Zx(l)&&l.touches&&l.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(E=>[E.column.id,E.column.getSize()]):[[r.id,r.getSize()]],f=Zx(l)?Math.round(l.touches[0].clientX):l.clientX,p={},g=(E,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(_=>{var R,D;const A=t.options.columnResizeDirection==="rtl"?-1:1,M=(N-((R=_?.startOffset)!=null?R:0))*A,O=Math.max(M/((D=_?.startSize)!=null?D:0),-.999999);return _.columnSizingStart.forEach(L=>{let[T,G]=L;p[T]=Math.round(Math.max(G+G*O,0)*100)/100}),{..._,deltaOffset:M,deltaPercentage:O}}),(t.options.columnResizeMode==="onChange"||E==="end")&&t.setColumnSizing(_=>({..._,...p})))},x=E=>g("move",E),v=E=>{g("end",E),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=g8(n),S={moveHandler:E=>x(E.clientX),upHandler:E=>{y?.removeEventListener("mousemove",S.moveHandler),y?.removeEventListener("mouseup",S.upHandler),v(E.clientX)}},C={moveHandler:E=>(E.cancelable&&(E.preventDefault(),E.stopPropagation()),x(E.touches[0].clientX),!1),upHandler:E=>{var N;y?.removeEventListener("touchmove",C.moveHandler),y?.removeEventListener("touchend",C.upHandler),E.cancelable&&(E.preventDefault(),E.stopPropagation()),v((N=E.touches[0])==null?void 0:N.clientX)}},j=b8()?{passive:!1}:!1;Zx(l)?(y?.addEventListener("touchmove",C.moveHandler,j),y?.addEventListener("touchend",C.upHandler,j)):(y?.addEventListener("mousemove",S.moveHandler,j),y?.addEventListener("mouseup",S.upHandler,j)),t.setColumnSizingInfo(E=>({...E,startOffset:f,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Kx():(n=e.initialState.columnSizingInfo)!=null?n:Kx())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let vm=null;function b8(){if(typeof vm=="boolean")return vm;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return vm=e,vm}function Zx(e){return e.type==="touchstart"}const v8={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:es("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=et(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),tt(t.options,"debugRows")),e.getVisibleCells=et(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],tt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>et(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),tt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,l)=>({...o,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ku(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const y8={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},w8={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:es("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,l;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Vo.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Fh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Vo[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},S8={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:es("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,l;e.setExpanded(r?{}:(o=(l=e.initialState)==null?void 0:l.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const l=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,n=(o=n)!=null?o:!l,!l&&n)return{...c,[e.id]:!0};if(l&&!n){const{[e.id]:d,...f}=c;return f}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Zb=0,Qb=10,Qx=()=>({pageIndex:Zb,pageSize:Qb}),C8={getInitialState:e=>({...e,pagination:{...Qx(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:es("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=l=>Fa(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Qx():(o=e.initialState.pagination)!=null?o:Qx())},e.setPageIndex=r=>{e.setPagination(o=>{let l=Fa(r,o.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...o,pageIndex:l}})},e.resetPageIndex=r=>{var o,l;e.setPageIndex(r?Zb:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?o:Zb)},e.resetPageSize=r=>{var o,l;e.setPageSize(r?Qb:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?o:Qb)},e.setPageSize=r=>{e.setPagination(o=>{const l=Math.max(1,Fa(r,o.pageSize)),c=o.pageSize*o.pageIndex,d=Math.floor(c/l);return{...o,pageIndex:d,pageSize:l}})},e.setPageCount=r=>e.setPagination(o=>{var l;let c=Fa(r,(l=e.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...o,pageCount:c}}),e.getPageOptions=et(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((l,c)=>c)),o},tt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Xx=()=>({top:[],bottom:[]}),j8={getInitialState:e=>({rowPinning:Xx(),...e}),getDefaultOptions:e=>({onRowPinningChange:es("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const l=r?e.getLeafRows().map(f=>{let{id:p}=f;return p}):[],c=o?e.getParentRows().map(f=>{let{id:p}=f;return p}):[],d=new Set([...c,e.id,...l]);t.setRowPinning(f=>{var p,g;if(n==="bottom"){var x,v;return{top:((x=f?.top)!=null?x:[]).filter(C=>!(d!=null&&d.has(C))),bottom:[...((v=f?.bottom)!=null?v:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)]}}if(n==="top"){var y,S;return{top:[...((y=f?.top)!=null?y:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)],bottom:((S=f?.bottom)!=null?S:[]).filter(C=>!(d!=null&&d.has(C)))}}return{top:((p=f?.top)!=null?p:[]).filter(C=>!(d!=null&&d.has(C))),bottom:((g=f?.bottom)!=null?g:[]).filter(C=>!(d!=null&&d.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,l=n.some(d=>r?.includes(d)),c=n.some(d=>o?.includes(d));return l?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const l=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(c=>{let{id:d}=c;return d});return(r=l?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Xx():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Xx())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,l;return!!((o=r.top)!=null&&o.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(n??[]).map(c=>t.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=et(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),tt(e.options,"debugRows")),e.getBottomRows=et(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),tt(e.options,"debugRows")),e.getCenterRows=et(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(l=>!o.has(l.id))},tt(e.options,"debugRows"))}},E8={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:es("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):o.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(l=>{Xb(o,l.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=et(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Jx(e,n):{rows:[],flatRows:[],rowsById:{}},tt(e.options,"debugTable")),e.getFilteredSelectedRowModel=et(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Jx(e,n):{rows:[],flatRows:[],rowsById:{}},tt(e.options,"debugTable")),e.getGroupedSelectedRowModel=et(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Jx(e,n):{rows:[],flatRows:[],rowsById:{}},tt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(l=>{var c;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return l;const d={...l};return Xb(d,e.id,n,(c=r?.selectChildren)!=null?c:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return wy(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Jb(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Jb(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Xb=(e,t,n,r,o)=>{var l;const c=o.getRow(t,!0);n?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>Xb(e,d.id,n,r,o))};function Jx(e,t){const n=e.getState().rowSelection,r=[],o={},l=function(c,d){return c.map(f=>{var p;const g=wy(f,n);if(g&&(r.push(f),o[f.id]=f),(p=f.subRows)!=null&&p.length&&(f={...f,subRows:l(f.subRows)}),g)return f}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:o}}function wy(e,t){var n;return(n=t[e.id])!=null?n:!1}function Jb(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,l=!1;return e.subRows.forEach(c=>{if(!(l&&!o)&&(c.getCanSelect()&&(wy(c,t)?l=!0:o=!1),c.subRows&&c.subRows.length)){const d=Jb(c,t);d==="all"?l=!0:(d==="some"&&(l=!0),o=!1)}}),o?"all":l?"some":!1}const ev=/([0-9]+)/gm,N8=(e,t,n)=>lR(Wa(e.getValue(n)).toLowerCase(),Wa(t.getValue(n)).toLowerCase()),_8=(e,t,n)=>lR(Wa(e.getValue(n)),Wa(t.getValue(n))),k8=(e,t,n)=>Sy(Wa(e.getValue(n)).toLowerCase(),Wa(t.getValue(n)).toLowerCase()),R8=(e,t,n)=>Sy(Wa(e.getValue(n)),Wa(t.getValue(n))),M8=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},D8=(e,t,n)=>Sy(e.getValue(n),t.getValue(n));function Sy(e,t){return e===t?0:e>t?1:-1}function Wa(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function lR(e,t){const n=e.split(ev).filter(Boolean),r=t.split(ev).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),l=r.shift(),c=parseInt(o,10),d=parseInt(l,10),f=[c,d].sort();if(isNaN(f[0])){if(o>l)return 1;if(l>o)return-1;continue}if(isNaN(f[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return n.length-r.length}const Mu={alphanumeric:N8,alphanumericCaseSensitive:_8,text:k8,textCaseSensitive:R8,datetime:M8,basic:D8},A8={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:es("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const l=o?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return Mu.datetime;if(typeof l=="string"&&(r=!0,l.split(ev).length>1))return Mu.alphanumeric}return r?Mu.text:Mu.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Fh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Mu[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),l=typeof n<"u"&&n!==null;t.setSorting(c=>{const d=c?.find(y=>y.id===e.id),f=c?.findIndex(y=>y.id===e.id);let p=[],g,x=l?n:o==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?g="toggle":g="add":c!=null&&c.length&&f!==c.length-1?g="replace":d?g="toggle":g="replace",g==="toggle"&&(l||o||(g="remove")),g==="add"){var v;p=[...c,{id:e.id,desc:x}],p.splice(0,p.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else g==="toggle"?p=c.map(y=>y.id===e.id?{...y,desc:x}:y):g==="remove"?p=c.filter(y=>y.id!==e.id):p=[{id:e.id,desc:x}];return p})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const l=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:c==="desc"?"asc":"desc":l},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},O8=[e8,v8,h8,p8,t8,n8,y8,w8,A8,f8,S8,C8,j8,E8,x8];function T8(e){var t,n;const r=[...O8,...(t=e._features)!=null?t:[]];let o={_features:r};const l=o._features.reduce((v,y)=>Object.assign(v,y.getDefaultOptions==null?void 0:y.getDefaultOptions(o)),{}),c=v=>o.options.mergeOptions?o.options.mergeOptions(l,v):{...l,...v};let f={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(v=>{var y;f=(y=v.getInitialState==null?void 0:v.getInitialState(f))!=null?y:f});const p=[];let g=!1;const x={_features:r,options:{...l,...e},initialState:f,_queue:v=>{p.push(v),g||(g=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();g=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{o.setState(o.initialState)},setOptions:v=>{const y=Fa(v,o.options);o.options=c(y)},getState:()=>o.options.state,setState:v=>{o.options.onStateChange==null||o.options.onStateChange(v)},_getRowId:(v,y,S)=>{var C;return(C=o.options.getRowId==null?void 0:o.options.getRowId(v,y,S))!=null?C:`${S?[S.id,y].join("."):y}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(v,y)=>{let S=(y?o.getPrePaginationRowModel():o.getRowModel()).rowsById[v];if(!S&&(S=o.getCoreRowModel().rowsById[v],!S))throw new Error;return S},_getDefaultColumnDef:et(()=>[o.options.defaultColumn],v=>{var y;return v=(y=v)!=null?y:{},{header:S=>{const C=S.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:S=>{var C,j;return(C=(j=S.renderValue())==null||j.toString==null?void 0:j.toString())!=null?C:null},...o._features.reduce((S,C)=>Object.assign(S,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...v}},tt(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:et(()=>[o._getColumnDefs()],v=>{const y=function(S,C,j){return j===void 0&&(j=0),S.map(E=>{const N=JV(o,E,j,C),_=E;return N.columns=_.columns?y(_.columns,N,j+1):[],N})};return y(v)},tt(e,"debugColumns")),getAllFlatColumns:et(()=>[o.getAllColumns()],v=>v.flatMap(y=>y.getFlatColumns()),tt(e,"debugColumns")),_getAllFlatColumnsById:et(()=>[o.getAllFlatColumns()],v=>v.reduce((y,S)=>(y[S.id]=S,y),{}),tt(e,"debugColumns")),getAllLeafColumns:et(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(v,y)=>{let S=v.flatMap(C=>C.getLeafColumns());return y(S)},tt(e,"debugColumns")),getColumn:v=>o._getAllFlatColumnsById()[v]};Object.assign(o,x);for(let v=0;v<o._features.length;v++){const y=o._features[v];y==null||y.createTable==null||y.createTable(o)}return o}function cR(){return e=>et(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,l,c){l===void 0&&(l=0);const d=[];for(let p=0;p<o.length;p++){const g=vy(e,e._getRowId(o[p],p,c),o[p],p,l,void 0,c?.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,d.push(g),e.options.getSubRows){var f;g.originalSubRows=e.options.getSubRows(o[p],p),(f=g.originalSubRows)!=null&&f.length&&(g.subRows=r(g.originalSubRows,l+1,g))}}return d};return n.rows=r(t),n},tt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function z8(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function P8(){return(e,t)=>et(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(c=>{var d;return(d=c.getUniqueValues(t))!=null?d:[]}).map(Number).filter(c=>!Number.isNaN(c));if(!r.length)return;let o=r[0],l=r[r.length-1];for(const c of r)c<o?o=c:c>l&&(l=c);return[o,l]},tt(e.options,"debugTable"))}function uR(e,t,n){return n.options.filterFromLeafRows?I8(e,t,n):L8(e,t,n)}function I8(e,t,n){var r;const o=[],l={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(f,p){p===void 0&&(p=0);const g=[];for(let v=0;v<f.length;v++){var x;let y=f[v];const S=vy(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(S.columnFilters=y.columnFilters,(x=y.subRows)!=null&&x.length&&p<c){if(S.subRows=d(y.subRows,p+1),y=S,t(y)&&!S.subRows.length){g.push(y),l[y.id]=y,o.push(y);continue}if(t(y)||S.subRows.length){g.push(y),l[y.id]=y,o.push(y);continue}}else y=S,t(y)&&(g.push(y),l[y.id]=y,o.push(y))}return g};return{rows:d(e),flatRows:o,rowsById:l}}function L8(e,t,n){var r;const o=[],l={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(f,p){p===void 0&&(p=0);const g=[];for(let v=0;v<f.length;v++){let y=f[v];if(t(y)){var x;if((x=y.subRows)!=null&&x.length&&p<c){const C=vy(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);C.subRows=d(y.subRows,p+1),y=C}g.push(y),o.push(y),l[y.id]=y}}return g};return{rows:d(e),flatRows:o,rowsById:l}}function $8(){return(e,t)=>et(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const l=[...r.map(d=>d.id).filter(d=>d!==t),o?"__global__":void 0].filter(Boolean),c=d=>{for(let f=0;f<l.length;f++)if(d.columnFilters[l[f]]===!1)return!1;return!0};return uR(n.rows,c,e)},tt(e.options,"debugTable"))}function F8(){return(e,t)=>et(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let l=0;l<n.flatRows.length;l++){const c=n.flatRows[l].getUniqueValues(t);for(let d=0;d<c.length;d++){const f=c[d];if(r.has(f)){var o;r.set(f,((o=r.get(f))!=null?o:0)+1)}else r.set(f,1)}}return r},tt(e.options,"debugTable"))}function U8(){return e=>et(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let v=0;v<t.flatRows.length;v++)t.flatRows[v].columnFilters={},t.flatRows[v].columnFiltersMeta={};return t}const o=[],l=[];(n??[]).forEach(v=>{var y;const S=e.getColumn(v.id);if(!S)return;const C=S.getFilterFn();C&&o.push({id:v.id,filterFn:C,resolvedValue:(y=C.resolveFilterValue==null?void 0:C.resolveFilterValue(v.value))!=null?y:v.value})});const c=(n??[]).map(v=>v.id),d=e.getGlobalFilterFn(),f=e.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());r&&d&&f.length&&(c.push("__global__"),f.forEach(v=>{var y;l.push({id:v.id,filterFn:d,resolvedValue:(y=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?y:r})}));let p,g;for(let v=0;v<t.flatRows.length;v++){const y=t.flatRows[v];if(y.columnFilters={},o.length)for(let S=0;S<o.length;S++){p=o[S];const C=p.id;y.columnFilters[C]=p.filterFn(y,C,p.resolvedValue,j=>{y.columnFiltersMeta[C]=j})}if(l.length){for(let S=0;S<l.length;S++){g=l[S];const C=g.id;if(g.filterFn(y,C,g.resolvedValue,j=>{y.columnFiltersMeta[C]=j})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const x=v=>{for(let y=0;y<c.length;y++)if(v.columnFilters[c[y]]===!1)return!1;return!0};return uR(t.rows,x,e)},tt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function B8(e){return t=>et(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:l}=n;let{rows:c,flatRows:d,rowsById:f}=r;const p=o*l,g=p+o;c=c.slice(p,g);let x;t.options.paginateExpandedRows?x={rows:c,flatRows:d,rowsById:f}:x=z8({rows:c,flatRows:d,rowsById:f}),x.flatRows=[];const v=y=>{x.flatRows.push(y),y.subRows.length&&y.subRows.forEach(v)};return x.rows.forEach(v),x},tt(t.options,"debugTable"))}function V8(){return e=>et(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],l=r.filter(f=>{var p;return(p=e.getColumn(f.id))==null?void 0:p.getCanSort()}),c={};l.forEach(f=>{const p=e.getColumn(f.id);p&&(c[f.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const d=f=>{const p=f.map(g=>({...g}));return p.sort((g,x)=>{for(let y=0;y<l.length;y+=1){var v;const S=l[y],C=c[S.id],j=C.sortUndefined,E=(v=S?.desc)!=null?v:!1;let N=0;if(j){const _=g.getValue(S.id),R=x.getValue(S.id),D=_===void 0,A=R===void 0;if(D||A){if(j==="first")return D?-1:1;if(j==="last")return D?1:-1;N=D&&A?0:D?j:-j}}if(N===0&&(N=C.sortingFn(g,x,S.id)),N!==0)return E&&(N*=-1),C.invertSorting&&(N*=-1),N}return g.index-x.index}),p.forEach(g=>{var x;o.push(g),(x=g.subRows)!=null&&x.length&&(g.subRows=d(g.subRows))}),p};return{rows:d(n.rows),flatRows:o,rowsById:n.rowsById}},tt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Uj(e,t){return e?H8(e)?h.createElement(e,t):e:null}function H8(e){return q8(e)||typeof e=="function"||W8(e)}function q8(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function W8(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function dR(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=h.useState(()=>({current:T8(t)})),[r,o]=h.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:c=>{o(c),e.onStateChange==null||e.onStateChange(c)}})),n.current}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Bj=e=>{const t=Y8(e);return t.charAt(0).toUpperCase()+t.slice(1)},fR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),K8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},f)=>h.createElement("svg",{ref:f,...Z8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:fR("lucide",o),...!l&&!K8(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>h.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(e,t)=>{const n=h.forwardRef(({className:r,...o},l)=>h.createElement(Q8,{ref:l,iconNode:t,className:fR(`lucide-${G8(Bj(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Bj(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],J8=ir("arrow-down-up",X8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tH=ir("calendar",eH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_d=ir("check",nH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rd=ir("chevron-down",rH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mR=ir("chevron-left",sH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hR=ir("chevron-right",oH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tv=ir("chevron-up",aH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],lH=ir("chevrons-left",iH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],uH=ir("chevrons-right",cH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Uh=ir("chevrons-up-down",dH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mH=ir("eye-off",fH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pR=ir("grip-vertical",hH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],gH=ir("list-filter",pH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bH=ir("search",xH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],yH=ir("settings-2",vH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gR=ir("trash-2",wH);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CH=ir("x",SH);function Vj(e,[t,n]){return Math.min(n,Math.max(t,e))}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function jH(e,t){const n=h.createContext(t),r=l=>{const{children:c,...d}=l,f=h.useMemo(()=>d,Object.values(d));return i.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function o(l){const c=h.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,o]}function Xa(e,t=[]){let n=[];function r(l,c){const d=h.createContext(c),f=n.length;n=[...n,c];const p=x=>{const{scope:v,children:y,...S}=x,C=v?.[e]?.[f]||d,j=h.useMemo(()=>S,Object.values(S));return i.jsx(C.Provider,{value:j,children:y})};p.displayName=l+"Provider";function g(x,v){const y=v?.[e]?.[f]||d,S=h.useContext(y);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[p,g]}const o=()=>{const l=n.map(c=>h.createContext(c));return function(d){const f=d?.[e]||l;return h.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[r,EH(o,...t)]}function EH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((d,{useScope:f,scopeName:p})=>{const x=f(l)[`__scope${p}`];return{...d,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Hj(e){const t=NH(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(kH);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function NH(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=MH(o),d=RH(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _H=Symbol("radix.slottable");function kH(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_H}function RH(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function MH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cy(e){const t=e+"CollectionProvider",[n,r]=Xa(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:j,children:E}=C,N=Ee.useRef(null),_=Ee.useRef(new Map).current;return i.jsx(o,{scope:j,itemMap:_,collectionRef:N,children:E})};c.displayName=t;const d=e+"CollectionSlot",f=Hj(d),p=Ee.forwardRef((C,j)=>{const{scope:E,children:N}=C,_=l(d,E),R=Ft(j,_.collectionRef);return i.jsx(f,{ref:R,children:N})});p.displayName=d;const g=e+"CollectionItemSlot",x="data-radix-collection-item",v=Hj(g),y=Ee.forwardRef((C,j)=>{const{scope:E,children:N,..._}=C,R=Ee.useRef(null),D=Ft(j,R),A=l(g,E);return Ee.useEffect(()=>(A.itemMap.set(R,{ref:R,..._}),()=>void A.itemMap.delete(R))),i.jsx(v,{[x]:"",ref:D,children:N})});y.displayName=g;function S(C){const j=l(e+"CollectionConsumer",C);return Ee.useCallback(()=>{const N=j.collectionRef.current;if(!N)return[];const _=Array.from(N.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((A,M)=>_.indexOf(A.ref.current)-_.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:p,ItemSlot:y},S,r]}var DH=h.createContext(void 0);function jy(e){const t=h.useContext(DH);return e||t||"ltr"}function AH(e){const t=OH(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(zH);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function OH(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=IH(o),d=PH(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TH=Symbol("radix.slottable");function zH(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TH}function PH(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function IH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=LH.reduce((e,t)=>{const n=AH(`Primitive.${t}`),r=h.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function xR(e,t){e&&zn.flushSync(()=>e.dispatchEvent(t))}function uo(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function $H(e,t=globalThis?.document){const n=uo(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FH="DismissableLayer",nv="dismissableLayer.update",UH="dismissableLayer.pointerDownOutside",BH="dismissableLayer.focusOutside",qj,bR=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kd=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,p=h.useContext(bR),[g,x]=h.useState(null),v=g?.ownerDocument??globalThis?.document,[,y]=h.useState({}),S=Ft(t,M=>x(M)),C=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=C.indexOf(j),N=g?C.indexOf(g):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,R=N>=E,D=qH(M=>{const O=M.target,L=[...p.branches].some(T=>T.contains(O));!R||L||(o?.(M),c?.(M),M.defaultPrevented||d?.())},v),A=WH(M=>{const O=M.target;[...p.branches].some(T=>T.contains(O))||(l?.(M),c?.(M),M.defaultPrevented||d?.())},v);return $H(M=>{N===p.layers.size-1&&(r?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},v),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(qj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Wj(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=qj)}},[g,v,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Wj())},[g,p]),h.useEffect(()=>{const M=()=>y({});return document.addEventListener(nv,M),()=>document.removeEventListener(nv,M)},[]),i.jsx(lt.div,{...f,ref:S,style:{pointerEvents:_?R?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,A.onFocusCapture),onBlurCapture:We(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,D.onPointerDownCapture)})});kd.displayName=FH;var VH="DismissableLayerBranch",HH=h.forwardRef((e,t)=>{const n=h.useContext(bR),r=h.useRef(null),o=Ft(t,r);return h.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),i.jsx(lt.div,{...e,ref:o})});HH.displayName=VH;function qH(e,t=globalThis?.document){const n=uo(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){vR(UH,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WH(e,t=globalThis?.document){const n=uo(e),r=h.useRef(!1);return h.useEffect(()=>{const o=l=>{l.target&&!r.current&&vR(BH,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wj(){const e=new CustomEvent(nv);document.dispatchEvent(e)}function vR(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?xR(o,l):o.dispatchEvent(l)}var eb=0;function Bh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gj()),document.body.insertAdjacentElement("beforeend",e[1]??Gj()),eb++,()=>{eb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eb--}},[])}function Gj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tb="focusScope.autoFocusOnMount",nb="focusScope.autoFocusOnUnmount",Yj={bubbles:!1,cancelable:!0},GH="FocusScope",Rd=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,f]=h.useState(null),p=uo(o),g=uo(l),x=h.useRef(null),v=Ft(t,C=>f(C)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let C=function(_){if(y.paused||!d)return;const R=_.target;d.contains(R)?x.current=R:Ia(x.current,{select:!0})},j=function(_){if(y.paused||!d)return;const R=_.relatedTarget;R!==null&&(d.contains(R)||Ia(x.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const D of _)D.removedNodes.length>0&&Ia(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",j);const N=new MutationObserver(E);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",j),N.disconnect()}}},[r,d,y.paused]),h.useEffect(()=>{if(d){Zj.add(y);const C=document.activeElement;if(!d.contains(C)){const E=new CustomEvent(tb,Yj);d.addEventListener(tb,p),d.dispatchEvent(E),E.defaultPrevented||(YH(JH(yR(d)),{select:!0}),document.activeElement===C&&Ia(d))}return()=>{d.removeEventListener(tb,p),setTimeout(()=>{const E=new CustomEvent(nb,Yj);d.addEventListener(nb,g),d.dispatchEvent(E),E.defaultPrevented||Ia(C??document.body,{select:!0}),d.removeEventListener(nb,g),Zj.remove(y)},0)}}},[d,p,g,y]);const S=h.useCallback(C=>{if(!n&&!r||y.paused)return;const j=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,E=document.activeElement;if(j&&E){const N=C.currentTarget,[_,R]=KH(N);_&&R?!C.shiftKey&&E===R?(C.preventDefault(),n&&Ia(_,{select:!0})):C.shiftKey&&E===_&&(C.preventDefault(),n&&Ia(R,{select:!0})):E===N&&C.preventDefault()}},[n,r,y.paused]);return i.jsx(lt.div,{tabIndex:-1,...c,ref:v,onKeyDown:S})});Rd.displayName=GH;function YH(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ia(r,{select:t}),document.activeElement!==n)return}function KH(e){const t=yR(e),n=Kj(t,e),r=Kj(t.reverse(),e);return[n,r]}function yR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kj(e,t){for(const n of e)if(!ZH(n,{upTo:t}))return n}function ZH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QH(e){return e instanceof HTMLInputElement&&"select"in e}function Ia(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QH(e)&&t&&e.select()}}var Zj=XH();function XH(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Qj(e,t),e.unshift(t)},remove(t){e=Qj(e,t),e[0]?.resume()}}}function Qj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function JH(e){return e.filter(t=>t.tagName!=="A")}var gr=globalThis?.document?h.useLayoutEffect:()=>{},eq=Sv[" useId ".trim().toString()]||(()=>{}),tq=0;function pr(e){const[t,n]=h.useState(eq());return gr(()=>{n(r=>r??String(tq++))},[e]),e||(t?`radix-${t}`:"")}const nq=["top","right","bottom","left"],Ga=Math.min,Zr=Math.max,ch=Math.round,ym=Math.floor,co=e=>({x:e,y:e}),rq={left:"right",right:"left",bottom:"top",top:"bottom"},sq={start:"end",end:"start"};function rv(e,t,n){return Zr(e,Ga(t,n))}function Ko(e,t){return typeof e=="function"?e(t):e}function Zo(e){return e.split("-")[0]}function Ec(e){return e.split("-")[1]}function Ey(e){return e==="x"?"y":"x"}function Ny(e){return e==="y"?"height":"width"}const oq=new Set(["top","bottom"]);function ao(e){return oq.has(Zo(e))?"y":"x"}function _y(e){return Ey(ao(e))}function aq(e,t,n){n===void 0&&(n=!1);const r=Ec(e),o=_y(e),l=Ny(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=uh(c)),[c,uh(c)]}function iq(e){const t=uh(e);return[sv(e),t,sv(t)]}function sv(e){return e.replace(/start|end/g,t=>sq[t])}const Xj=["left","right"],Jj=["right","left"],lq=["top","bottom"],cq=["bottom","top"];function uq(e,t,n){switch(e){case"top":case"bottom":return n?t?Jj:Xj:t?Xj:Jj;case"left":case"right":return t?lq:cq;default:return[]}}function dq(e,t,n,r){const o=Ec(e);let l=uq(Zo(e),n==="start",r);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(sv)))),l}function uh(e){return e.replace(/left|right|bottom|top/g,t=>rq[t])}function fq(e){return{top:0,right:0,bottom:0,left:0,...e}}function wR(e){return typeof e!="number"?fq(e):{top:e,right:e,bottom:e,left:e}}function dh(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function eE(e,t,n){let{reference:r,floating:o}=e;const l=ao(t),c=_y(t),d=Ny(c),f=Zo(t),p=l==="y",g=r.x+r.width/2-o.width/2,x=r.y+r.height/2-o.height/2,v=r[d]/2-o[d]/2;let y;switch(f){case"top":y={x:g,y:r.y-o.height};break;case"bottom":y={x:g,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:x};break;case"left":y={x:r.x-o.width,y:x};break;default:y={x:r.x,y:r.y}}switch(Ec(t)){case"start":y[c]-=v*(n&&p?-1:1);break;case"end":y[c]+=v*(n&&p?-1:1);break}return y}const mq=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:x}=eE(p,r,f),v=r,y={},S=0;for(let C=0;C<d.length;C++){const{name:j,fn:E}=d[C],{x:N,y:_,data:R,reset:D}=await E({x:g,y:x,initialPlacement:r,placement:v,strategy:o,middlewareData:y,rects:p,platform:c,elements:{reference:e,floating:t}});g=N??g,x=_??x,y={...y,[j]:{...y[j],...R}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(p=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:g,y:x}=eE(p,v,f)),C=-1)}return{x:g,y:x,placement:v,strategy:o,middlewareData:y}};async function sd(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:v=!1,padding:y=0}=Ko(t,e),S=wR(y),j=d[v?x==="floating"?"reference":"floating":x],E=dh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),N=x==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),R=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},D=dh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:_,strategy:f}):N);return{top:(E.top-D.top+S.top)/R.y,bottom:(D.bottom-E.bottom+S.bottom)/R.y,left:(E.left-D.left+S.left)/R.x,right:(D.right-E.right+S.right)/R.x}}const hq=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:p,padding:g=0}=Ko(e,t)||{};if(p==null)return{};const x=wR(g),v={x:n,y:r},y=_y(o),S=Ny(y),C=await c.getDimensions(p),j=y==="y",E=j?"top":"left",N=j?"bottom":"right",_=j?"clientHeight":"clientWidth",R=l.reference[S]+l.reference[y]-v[y]-l.floating[S],D=v[y]-l.reference[y],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let M=A?A[_]:0;(!M||!await(c.isElement==null?void 0:c.isElement(A)))&&(M=d.floating[_]||l.floating[S]);const O=R/2-D/2,L=M/2-C[S]/2-1,T=Ga(x[E],L),G=Ga(x[N],L),P=T,$=M-C[S]-G,W=M/2-C[S]/2+O,ce=rv(P,W,$),z=!f.arrow&&Ec(o)!=null&&W!==ce&&l.reference[S]/2-(W<P?T:G)-C[S]/2<0,q=z?W<P?W-P:W-$:0;return{[y]:v[y]+q,data:{[y]:ce,centerOffset:W-ce-q,...z&&{alignmentOffset:q}},reset:z}}}),pq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...j}=Ko(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Zo(o),N=ao(d),_=Zo(d)===d,R=await(f.isRTL==null?void 0:f.isRTL(p.floating)),D=v||(_||!C?[uh(d)]:iq(d)),A=S!=="none";!v&&A&&D.push(...dq(d,C,S,R));const M=[d,...D],O=await sd(t,j),L=[];let T=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&L.push(O[E]),x){const W=aq(o,c,R);L.push(O[W[0]],O[W[1]])}if(T=[...T,{placement:o,overflows:L}],!L.every(W=>W<=0)){var G,P;const W=(((G=l.flip)==null?void 0:G.index)||0)+1,ce=M[W];if(ce&&(!(x==="alignment"?N!==ao(ce):!1)||T.every(Z=>ao(Z.placement)===N?Z.overflows[0]>0:!0)))return{data:{index:W,overflows:T},reset:{placement:ce}};let z=(P=T.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:P.placement;if(!z)switch(y){case"bestFit":{var $;const q=($=T.filter(Z=>{if(A){const F=ao(Z.placement);return F===N||F==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(F=>F>0).reduce((F,ae)=>F+ae,0)]).sort((Z,F)=>Z[1]-F[1])[0])==null?void 0:$[0];q&&(z=q);break}case"initialPlacement":z=d;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function tE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nE(e){return nq.some(t=>e[t]>=0)}const gq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Ko(e,t);switch(r){case"referenceHidden":{const l=await sd(t,{...o,elementContext:"reference"}),c=tE(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:nE(c)}}}case"escaped":{const l=await sd(t,{...o,altBoundary:!0}),c=tE(l,n.floating);return{data:{escapedOffsets:c,escaped:nE(c)}}}default:return{}}}}},SR=new Set(["left","top"]);async function xq(e,t){const{placement:n,platform:r,elements:o}=e,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Zo(n),d=Ec(n),f=ao(n)==="y",p=SR.has(c)?-1:1,g=l&&f?-1:1,x=Ko(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof S=="number"&&(y=d==="end"?S*-1:S),f?{x:y*g,y:v*p}:{x:v*p,y:y*g}}const bq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:l,placement:c,middlewareData:d}=t,f=await xq(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},vq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:E,y:N}=j;return{x:E,y:N}}},...f}=Ko(e,t),p={x:n,y:r},g=await sd(t,f),x=ao(Zo(o)),v=Ey(x);let y=p[v],S=p[x];if(l){const j=v==="y"?"top":"left",E=v==="y"?"bottom":"right",N=y+g[j],_=y-g[E];y=rv(N,y,_)}if(c){const j=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=S+g[j],_=S-g[E];S=rv(N,S,_)}const C=d.fn({...t,[v]:y,[x]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[v]:l,[x]:c}}}}}},yq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Ko(e,t),g={x:n,y:r},x=ao(o),v=Ey(x);let y=g[v],S=g[x];const C=Ko(d,t),j=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const _=v==="y"?"height":"width",R=l.reference[v]-l.floating[_]+j.mainAxis,D=l.reference[v]+l.reference[_]-j.mainAxis;y<R?y=R:y>D&&(y=D)}if(p){var E,N;const _=v==="y"?"width":"height",R=SR.has(Zo(o)),D=l.reference[x]-l.floating[_]+(R&&((E=c.offset)==null?void 0:E[x])||0)+(R?0:j.crossAxis),A=l.reference[x]+l.reference[_]+(R?0:((N=c.offset)==null?void 0:N[x])||0)-(R?j.crossAxis:0);S<D?S=D:S>A&&(S=A)}return{[v]:y,[x]:S}}}},wq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...p}=Ko(e,t),g=await sd(t,p),x=Zo(o),v=Ec(o),y=ao(o)==="y",{width:S,height:C}=l.floating;let j,E;x==="top"||x==="bottom"?(j=x,E=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(E=x,j=v==="end"?"top":"bottom");const N=C-g.top-g.bottom,_=S-g.left-g.right,R=Ga(C-g[j],N),D=Ga(S-g[E],_),A=!t.middlewareData.shift;let M=R,O=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=N),A&&!v){const T=Zr(g.left,0),G=Zr(g.right,0),P=Zr(g.top,0),$=Zr(g.bottom,0);y?O=S-2*(T!==0||G!==0?T+G:Zr(g.left,g.right)):M=C-2*(P!==0||$!==0?P+$:Zr(g.top,g.bottom))}await f({...t,availableWidth:O,availableHeight:M});const L=await c.getDimensions(d.floating);return S!==L.width||C!==L.height?{reset:{rects:!0}}:{}}}};function Vh(){return typeof window<"u"}function Nc(e){return CR(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function po(e){var t;return(t=(CR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CR(e){return Vh()?e instanceof Node||e instanceof Jr(e).Node:!1}function Hs(e){return Vh()?e instanceof Element||e instanceof Jr(e).Element:!1}function fo(e){return Vh()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function rE(e){return!Vh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const Sq=new Set(["inline","contents"]);function Md(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=qs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Sq.has(o)}const Cq=new Set(["table","td","th"]);function jq(e){return Cq.has(Nc(e))}const Eq=[":popover-open",":modal"];function Hh(e){return Eq.some(t=>{try{return e.matches(t)}catch{return!1}})}const Nq=["transform","translate","scale","rotate","perspective"],_q=["transform","translate","scale","rotate","perspective","filter"],kq=["paint","layout","strict","content"];function ky(e){const t=Ry(),n=Hs(e)?qs(e):e;return Nq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_q.some(r=>(n.willChange||"").includes(r))||kq.some(r=>(n.contain||"").includes(r))}function Rq(e){let t=Ya(e);for(;fo(t)&&!uc(t);){if(ky(t))return t;if(Hh(t))return null;t=Ya(t)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mq=new Set(["html","body","#document"]);function uc(e){return Mq.has(Nc(e))}function qs(e){return Jr(e).getComputedStyle(e)}function qh(e){return Hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ya(e){if(Nc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rE(e)&&e.host||po(e);return rE(t)?t.host:t}function jR(e){const t=Ya(e);return uc(t)?e.ownerDocument?e.ownerDocument.body:e.body:fo(t)&&Md(t)?t:jR(t)}function od(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=jR(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),c=Jr(o);if(l){const d=ov(c);return t.concat(c,c.visualViewport||[],Md(o)?o:[],d&&n?od(d):[])}return t.concat(o,od(o,[],n))}function ov(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ER(e){const t=qs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=fo(e),l=o?e.offsetWidth:n,c=o?e.offsetHeight:r,d=ch(n)!==l||ch(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function My(e){return Hs(e)?e:e.contextElement}function ic(e){const t=My(e);if(!fo(t))return co(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:l}=ER(t);let c=(l?ch(n.width):n.width)/r,d=(l?ch(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const Dq=co(0);function NR(e){const t=Jr(e);return!Ry()||!t.visualViewport?Dq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aq(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Jr(e)?!1:t}function Ui(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=My(e);let c=co(1);t&&(r?Hs(r)&&(c=ic(r)):c=ic(e));const d=Aq(l,n,r)?NR(l):co(0);let f=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,g=o.width/c.x,x=o.height/c.y;if(l){const v=Jr(l),y=r&&Hs(r)?Jr(r):r;let S=v,C=ov(S);for(;C&&r&&y!==S;){const j=ic(C),E=C.getBoundingClientRect(),N=qs(C),_=E.left+(C.clientLeft+parseFloat(N.paddingLeft))*j.x,R=E.top+(C.clientTop+parseFloat(N.paddingTop))*j.y;f*=j.x,p*=j.y,g*=j.x,x*=j.y,f+=_,p+=R,S=Jr(C),C=ov(S)}}return dh({width:g,height:x,x:f,y:p})}function Wh(e,t){const n=qh(e).scrollLeft;return t?t.left+n:Ui(po(e)).left+n}function _R(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Wh(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Oq(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const l=o==="fixed",c=po(r),d=t?Hh(t.floating):!1;if(r===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=co(1);const g=co(0),x=fo(r);if((x||!x&&!l)&&((Nc(r)!=="body"||Md(c))&&(f=qh(r)),fo(r))){const y=Ui(r);p=ic(r),g.x=y.x+r.clientLeft,g.y=y.y+r.clientTop}const v=c&&!x&&!l?_R(c,f):co(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+v.x,y:n.y*p.y-f.scrollTop*p.y+g.y+v.y}}function Tq(e){return Array.from(e.getClientRects())}function zq(e){const t=po(e),n=qh(e),r=e.ownerDocument.body,o=Zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Wh(e);const d=-n.scrollTop;return qs(r).direction==="rtl"&&(c+=Zr(t.clientWidth,r.clientWidth)-o),{width:o,height:l,x:c,y:d}}const sE=25;function Pq(e,t){const n=Jr(e),r=po(e),o=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const g=Ry();(!g||g&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const p=Wh(r);if(p<=0){const g=r.ownerDocument,x=g.body,v=getComputedStyle(x),y=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(r.clientWidth-x.clientWidth-y);S<=sE&&(l-=S)}else p<=sE&&(l+=p);return{width:l,height:c,x:d,y:f}}const Iq=new Set(["absolute","fixed"]);function Lq(e,t){const n=Ui(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,l=fo(e)?ic(e):co(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,p=r*l.y;return{width:c,height:d,x:f,y:p}}function oE(e,t,n){let r;if(t==="viewport")r=Pq(e,n);else if(t==="document")r=zq(po(e));else if(Hs(t))r=Lq(t,n);else{const o=NR(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return dh(r)}function kR(e,t){const n=Ya(e);return n===t||!Hs(n)||uc(n)?!1:qs(n).position==="fixed"||kR(n,t)}function $q(e,t){const n=t.get(e);if(n)return n;let r=od(e,[],!1).filter(d=>Hs(d)&&Nc(d)!=="body"),o=null;const l=qs(e).position==="fixed";let c=l?Ya(e):e;for(;Hs(c)&&!uc(c);){const d=qs(c),f=ky(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&Iq.has(o.position)||Md(c)&&!f&&kR(e,c))?r=r.filter(g=>g!==c):o=d,c=Ya(c)}return t.set(e,r),r}function Fq(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?Hh(t)?[]:$q(t,this._c):[].concat(n),r],d=c[0],f=c.reduce((p,g)=>{const x=oE(t,g,o);return p.top=Zr(x.top,p.top),p.right=Ga(x.right,p.right),p.bottom=Ga(x.bottom,p.bottom),p.left=Zr(x.left,p.left),p},oE(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Uq(e){const{width:t,height:n}=ER(e);return{width:t,height:n}}function Bq(e,t,n){const r=fo(t),o=po(t),l=n==="fixed",c=Ui(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=co(0);function p(){f.x=Wh(o)}if(r||!r&&!l)if((Nc(t)!=="body"||Md(o))&&(d=qh(t)),r){const y=Ui(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&p();l&&!r&&o&&p();const g=o&&!r&&!l?_R(o,d):co(0),x=c.left+d.scrollLeft-f.x-g.x,v=c.top+d.scrollTop-f.y-g.y;return{x,y:v,width:c.width,height:c.height}}function rb(e){return qs(e).position==="static"}function aE(e,t){if(!fo(e)||qs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return po(e)===n&&(n=n.ownerDocument.body),n}function RR(e,t){const n=Jr(e);if(Hh(e))return n;if(!fo(e)){let o=Ya(e);for(;o&&!uc(o);){if(Hs(o)&&!rb(o))return o;o=Ya(o)}return n}let r=aE(e,t);for(;r&&jq(r)&&rb(r);)r=aE(r,t);return r&&uc(r)&&rb(r)&&!ky(r)?n:r||Rq(e)||n}const Vq=async function(e){const t=this.getOffsetParent||RR,n=this.getDimensions,r=await n(e.floating);return{reference:Bq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hq(e){return qs(e).direction==="rtl"}const qq={convertOffsetParentRelativeRectToViewportRelativeRect:Oq,getDocumentElement:po,getClippingRect:Fq,getOffsetParent:RR,getElementRects:Vq,getClientRects:Tq,getDimensions:Uq,getScale:ic,isElement:Hs,isRTL:Hq};function MR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wq(e,t){let n=null,r;const o=po(e);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:g,top:x,width:v,height:y}=p;if(d||t(),!v||!y)return;const S=ym(x),C=ym(o.clientWidth-(g+v)),j=ym(o.clientHeight-(x+y)),E=ym(g),_={rootMargin:-S+"px "+-C+"px "+-j+"px "+-E+"px",threshold:Zr(0,Ga(1,f))||1};let R=!0;function D(A){const M=A[0].intersectionRatio;if(M!==f){if(!R)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!MR(p,e.getBoundingClientRect())&&c(),R=!1}try{n=new IntersectionObserver(D,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(e)}return c(!0),l}function Gq(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=My(e),g=o||l?[...p?od(p):[],...od(t)]:[];g.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const x=p&&d?Wq(p,n):null;let v=-1,y=null;c&&(y=new ResizeObserver(E=>{let[N]=E;N&&N.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),n()}),p&&!f&&y.observe(p),y.observe(t));let S,C=f?Ui(e):null;f&&j();function j(){const E=Ui(e);C&&!MR(C,E)&&n(),C=E,S=requestAnimationFrame(j)}return n(),()=>{var E;g.forEach(N=>{o&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),x?.(),(E=y)==null||E.disconnect(),y=null,f&&cancelAnimationFrame(S)}}const Yq=bq,Kq=vq,Zq=pq,Qq=wq,Xq=gq,iE=hq,Jq=yq,e9=(e,t,n)=>{const r=new Map,o={platform:qq,...n},l={...o.platform,_c:r};return mq(e,t,{...o,platform:l})};var t9=typeof document<"u",n9=function(){},Dm=t9?h.useLayoutEffect:n9;function fh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fh(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!fh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function DR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lE(e,t){const n=DR(e);return Math.round(t*n)/n}function sb(e){const t=h.useRef(e);return Dm(()=>{t.current=e}),t}function r9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[g,x]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=h.useState(r);fh(v,r)||y(r);const[S,C]=h.useState(null),[j,E]=h.useState(null),N=h.useCallback(Z=>{Z!==A.current&&(A.current=Z,C(Z))},[]),_=h.useCallback(Z=>{Z!==M.current&&(M.current=Z,E(Z))},[]),R=l||S,D=c||j,A=h.useRef(null),M=h.useRef(null),O=h.useRef(g),L=f!=null,T=sb(f),G=sb(o),P=sb(p),$=h.useCallback(()=>{if(!A.current||!M.current)return;const Z={placement:t,strategy:n,middleware:v};G.current&&(Z.platform=G.current),e9(A.current,M.current,Z).then(F=>{const ae={...F,isPositioned:P.current!==!1};W.current&&!fh(O.current,ae)&&(O.current=ae,zn.flushSync(()=>{x(ae)}))})},[v,t,n,G,P]);Dm(()=>{p===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,x(Z=>({...Z,isPositioned:!1})))},[p]);const W=h.useRef(!1);Dm(()=>(W.current=!0,()=>{W.current=!1}),[]),Dm(()=>{if(R&&(A.current=R),D&&(M.current=D),R&&D){if(T.current)return T.current(R,D,$);$()}},[R,D,$,T,L]);const ce=h.useMemo(()=>({reference:A,floating:M,setReference:N,setFloating:_}),[N,_]),z=h.useMemo(()=>({reference:R,floating:D}),[R,D]),q=h.useMemo(()=>{const Z={position:n,left:0,top:0};if(!z.floating)return Z;const F=lE(z.floating,g.x),ae=lE(z.floating,g.y);return d?{...Z,transform:"translate("+F+"px, "+ae+"px)",...DR(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:ae}},[n,d,z.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:$,refs:ce,elements:z,floatingStyles:q}),[g,$,ce,z,q])}const s9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?iE({element:r.current,padding:o}).fn(n):{}:r?iE({element:r,padding:o}).fn(n):{}}}},o9=(e,t)=>({...Yq(e),options:[e,t]}),a9=(e,t)=>({...Kq(e),options:[e,t]}),i9=(e,t)=>({...Jq(e),options:[e,t]}),l9=(e,t)=>({...Zq(e),options:[e,t]}),c9=(e,t)=>({...Qq(e),options:[e,t]}),u9=(e,t)=>({...Xq(e),options:[e,t]}),d9=(e,t)=>({...s9(e),options:[e,t]});var f9="Arrow",AR=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...l}=e;return i.jsx(lt.svg,{...l,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});AR.displayName=f9;var m9=AR;function h9(e){const[t,n]=h.useState(void 0);return gr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dy="Popper",[OR,_c]=Xa(Dy),[p9,TR]=OR(Dy),zR=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return i.jsx(p9,{scope:t,anchor:r,onAnchorChange:o,children:n})};zR.displayName=Dy;var PR="PopperAnchor",IR=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=TR(PR,n),c=h.useRef(null),d=Ft(t,c),f=h.useRef(null);return h.useEffect(()=>{const p=f.current;f.current=r?.current||c.current,p!==f.current&&l.onAnchorChange(f.current)}),r?null:i.jsx(lt.div,{...o,ref:d})});IR.displayName=PR;var Ay="PopperContent",[g9,x9]=OR(Ay),LR=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:S,...C}=e,j=TR(Ay,n),[E,N]=h.useState(null),_=Ft(t,V=>N(V)),[R,D]=h.useState(null),A=h9(R),M=A?.width??0,O=A?.height??0,L=r+(l!=="center"?"-"+l:""),T=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},G=Array.isArray(p)?p:[p],P=G.length>0,$={padding:T,boundary:G.filter(v9),altBoundary:P},{refs:W,floatingStyles:ce,placement:z,isPositioned:q,middlewareData:Z}=r9({strategy:"fixed",placement:L,whileElementsMounted:(...V)=>Gq(...V,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[o9({mainAxis:o+O,alignmentAxis:c}),f&&a9({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?i9():void 0,...$}),f&&l9({...$}),c9({...$,apply:({elements:V,rects:te,availableWidth:se,availableHeight:oe})=>{const{width:fe,height:Se}=te.reference,Ae=V.floating.style;Ae.setProperty("--radix-popper-available-width",`${se}px`),Ae.setProperty("--radix-popper-available-height",`${oe}px`),Ae.setProperty("--radix-popper-anchor-width",`${fe}px`),Ae.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),R&&d9({element:R,padding:d}),y9({arrowWidth:M,arrowHeight:O}),v&&u9({strategy:"referenceHidden",...$})]}),[F,ae]=UR(z),B=uo(S);gr(()=>{q&&B?.()},[q,B]);const U=Z.arrow?.x,ne=Z.arrow?.y,K=Z.arrow?.centerOffset!==0,[H,Y]=h.useState();return gr(()=>{E&&Y(window.getComputedStyle(E).zIndex)},[E]),i.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:q?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(g9,{scope:n,placedSide:F,onArrowChange:D,arrowX:U,arrowY:ne,shouldHideArrow:K,children:i.jsx(lt.div,{"data-side":F,"data-align":ae,...C,ref:_,style:{...C.style,animation:q?void 0:"none"}})})})});LR.displayName=Ay;var $R="PopperArrow",b9={top:"bottom",right:"left",bottom:"top",left:"right"},FR=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,l=x9($R,r),c=b9[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(m9,{...o,ref:n,style:{...o.style,display:"block"}})})});FR.displayName=$R;function v9(e){return e!==null}var y9=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,g]=UR(n),x={start:"0%",center:"50%",end:"100%"}[g],v=(o.arrow?.x??0)+d/2,y=(o.arrow?.y??0)+f/2;let S="",C="";return p==="bottom"?(S=c?x:`${v}px`,C=`${-f}px`):p==="top"?(S=c?x:`${v}px`,C=`${r.floating.height+f}px`):p==="right"?(S=`${-f}px`,C=c?x:`${y}px`):p==="left"&&(S=`${r.floating.width+f}px`,C=c?x:`${y}px`),{data:{x:S,y:C}}}});function UR(e){const[t,n="center"]=e.split("-");return[t,n]}var Oy=zR,Gh=IR,Ty=LR,zy=FR,w9="Portal",Dd=h.forwardRef((e,t)=>{const{container:n,...r}=e,[o,l]=h.useState(!1);gr(()=>l(!0),[]);const c=n||o&&globalThis?.document?.body;return c?bT.createPortal(i.jsx(lt.div,{...r,ref:t}),c):null});Dd.displayName=w9;function S9(e){const t=C9(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(E9);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function C9(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=_9(o),d=N9(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j9=Symbol("radix.slottable");function E9(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j9}function N9(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function _9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k9=Sv[" useInsertionEffect ".trim().toString()]||gr;function dc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,l,c]=R9({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:o;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=h.useCallback(g=>{if(d){const x=M9(g)?g(e):g;x!==e&&c.current?.(x)}else l(g)},[d,e,l,c]);return[f,p]}function R9({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),o=h.useRef(n),l=h.useRef(t);return k9(()=>{l.current=t},[t]),h.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,r,l]}function M9(e){return typeof e=="function"}function D9(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var BR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A9="VisuallyHidden",O9=h.forwardRef((e,t)=>i.jsx(lt.span,{...e,ref:t,style:{...BR,...e.style}}));O9.displayName=A9;var T9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ql=new WeakMap,wm=new WeakMap,Sm={},ob=0,VR=function(e){return e&&(e.host||VR(e.parentNode))},z9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=VR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},P9=function(e,t,n,r){var o=z9(t,Array.isArray(e)?e:[e]);Sm[n]||(Sm[n]=new WeakMap);var l=Sm[n],c=[],d=new Set,f=new Set(o),p=function(x){!x||d.has(x)||(d.add(x),p(x.parentNode))};o.forEach(p);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(v){if(d.has(v))g(v);else try{var y=v.getAttribute(r),S=y!==null&&y!=="false",C=(ql.get(v)||0)+1,j=(l.get(v)||0)+1;ql.set(v,C),l.set(v,j),c.push(v),C===1&&S&&wm.set(v,!0),j===1&&v.setAttribute(n,"true"),S||v.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return g(t),d.clear(),ob++,function(){c.forEach(function(x){var v=ql.get(x)-1,y=l.get(x)-1;ql.set(x,v),l.set(x,y),v||(wm.has(x)||x.removeAttribute(r),wm.delete(x)),y||x.removeAttribute(n)}),ob--,ob||(ql=new WeakMap,ql=new WeakMap,wm=new WeakMap,Sm={})}},Yh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=T9(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),P9(r,o,n,"aria-hidden")):function(){return null}},oo=function(){return oo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},oo.apply(this,arguments)};function HR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function I9(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Am="right-scroll-bar-position",Om="width-before-scroll-bar",L9="with-scroll-bars-hidden",$9="--removed-body-scroll-bar-size";function ab(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function F9(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var U9=typeof window<"u"?h.useLayoutEffect:h.useEffect,cE=new WeakMap;function B9(e,t){var n=F9(null,function(r){return e.forEach(function(o){return ab(o,r)})});return U9(function(){var r=cE.get(n);if(r){var o=new Set(r),l=new Set(e),c=n.current;o.forEach(function(d){l.has(d)||ab(d,null)}),l.forEach(function(d){o.has(d)||ab(d,c)})}cE.set(n,e)},[e]),n}function V9(e){return e}function H9(e,t){t===void 0&&(t=V9);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var g=c;c=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return o}function q9(e){e===void 0&&(e={});var t=H9(null);return t.options=oo({async:!0,ssr:!1},e),t}var qR=function(e){var t=e.sideCar,n=HR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,oo({},n))};qR.isSideCarExport=!0;function W9(e,t){return e.useMedium(t),qR}var WR=q9(),ib=function(){},Kh=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:ib,onWheelCapture:ib,onTouchMoveCapture:ib}),o=r[0],l=r[1],c=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,x=e.shards,v=e.sideCar,y=e.noRelative,S=e.noIsolation,C=e.inert,j=e.allowPinchZoom,E=e.as,N=E===void 0?"div":E,_=e.gapMode,R=HR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,A=B9([n,t]),M=oo(oo({},R),o);return h.createElement(h.Fragment,null,g&&h.createElement(D,{sideCar:WR,removeScrollBar:p,shards:x,noRelative:y,noIsolation:S,inert:C,setCallbacks:l,allowPinchZoom:!!j,lockRef:n,gapMode:_}),c?h.cloneElement(h.Children.only(d),oo(oo({},M),{ref:A})):h.createElement(N,oo({},M,{className:f,ref:A}),d))});Kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kh.classNames={fullWidth:Om,zeroRight:Am};var G9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=G9();return t&&e.setAttribute("nonce",t),e}function K9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Z9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Q9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Y9())&&(K9(t,n),Z9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},X9=function(){var e=Q9();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},GR=function(){var e=X9(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},J9={left:0,top:0,right:0,gap:0},lb=function(e){return parseInt(e||"",10)||0},eW=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[lb(n),lb(r),lb(o)]},tW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J9;var t=eW(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nW=GR(),lc="data-scroll-locked",rW=function(e,t,n,r){var o=e.left,l=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(L9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(lc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Am,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Om,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Om," .").concat(Om,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(lc,`] {
    `).concat($9,": ").concat(d,`px;
  }
`)},uE=function(){var e=parseInt(document.body.getAttribute(lc)||"0",10);return isFinite(e)?e:0},sW=function(){h.useEffect(function(){return document.body.setAttribute(lc,(uE()+1).toString()),function(){var e=uE()-1;e<=0?document.body.removeAttribute(lc):document.body.setAttribute(lc,e.toString())}},[])},oW=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;sW();var l=h.useMemo(function(){return tW(o)},[o]);return h.createElement(nW,{styles:rW(l,!t,o,n?"":"!important")})},av=!1;if(typeof window<"u")try{var Cm=Object.defineProperty({},"passive",{get:function(){return av=!0,!0}});window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{av=!1}var Wl=av?{passive:!1}:!1,aW=function(e){return e.tagName==="TEXTAREA"},YR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!aW(e)&&n[t]==="visible")},iW=function(e){return YR(e,"overflowY")},lW=function(e){return YR(e,"overflowX")},dE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=KR(e,r);if(o){var l=ZR(e,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cW=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uW=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},KR=function(e,t){return e==="v"?iW(t):lW(t)},ZR=function(e,t){return e==="v"?cW(t):uW(t)},dW=function(e,t){return e==="h"&&t==="rtl"?-1:1},fW=function(e,t,n,r,o){var l=dW(e,window.getComputedStyle(t).direction),c=l*r,d=n.target,f=t.contains(d),p=!1,g=c>0,x=0,v=0;do{if(!d)break;var y=ZR(e,d),S=y[0],C=y[1],j=y[2],E=C-j-l*S;(S||E)&&KR(e,d)&&(x+=E,v+=S);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(x)<1||!g&&Math.abs(v)<1)&&(p=!0),p},jm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fE=function(e){return[e.deltaX,e.deltaY]},mE=function(e){return e&&"current"in e?e.current:e},mW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pW=0,Gl=[];function gW(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(pW++)[0],l=h.useState(GR)[0],c=h.useRef(e);h.useEffect(function(){c.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var C=I9([e.lockRef.current],(e.shards||[]).map(mE),!0).filter(Boolean);return C.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),C.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=h.useCallback(function(C,j){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var E=jm(C),N=n.current,_="deltaX"in C?C.deltaX:N[0]-E[0],R="deltaY"in C?C.deltaY:N[1]-E[1],D,A=C.target,M=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in C&&M==="h"&&A.type==="range")return!1;var O=window.getSelection(),L=O&&O.anchorNode,T=L?L===A||L.contains(A):!1;if(T)return!1;var G=dE(M,A);if(!G)return!0;if(G?D=M:(D=M==="v"?"h":"v",G=dE(M,A)),!G)return!1;if(!r.current&&"changedTouches"in C&&(_||R)&&(r.current=D),!D)return!0;var P=r.current||D;return fW(P,j,C,P==="h"?_:R)},[]),f=h.useCallback(function(C){var j=C;if(!(!Gl.length||Gl[Gl.length-1]!==l)){var E="deltaY"in j?fE(j):jm(j),N=t.current.filter(function(D){return D.name===j.type&&(D.target===j.target||j.target===D.shadowParent)&&mW(D.delta,E)})[0];if(N&&N.should){j.cancelable&&j.preventDefault();return}if(!N){var _=(c.current.shards||[]).map(mE).filter(Boolean).filter(function(D){return D.contains(j.target)}),R=_.length>0?d(j,_[0]):!c.current.noIsolation;R&&j.cancelable&&j.preventDefault()}}},[]),p=h.useCallback(function(C,j,E,N){var _={name:C,delta:j,target:E,should:N,shadowParent:xW(E)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(R){return R!==_})},1)},[]),g=h.useCallback(function(C){n.current=jm(C),r.current=void 0},[]),x=h.useCallback(function(C){p(C.type,fE(C),C.target,d(C,e.lockRef.current))},[]),v=h.useCallback(function(C){p(C.type,jm(C),C.target,d(C,e.lockRef.current))},[]);h.useEffect(function(){return Gl.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Wl),document.addEventListener("touchmove",f,Wl),document.addEventListener("touchstart",g,Wl),function(){Gl=Gl.filter(function(C){return C!==l}),document.removeEventListener("wheel",f,Wl),document.removeEventListener("touchmove",f,Wl),document.removeEventListener("touchstart",g,Wl)}},[]);var y=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(l,{styles:hW(o)}):null,y?h.createElement(oW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bW=W9(WR,gW);var Ad=h.forwardRef(function(e,t){return h.createElement(Kh,oo({},e,{ref:t,sideCar:bW}))});Ad.classNames=Kh.classNames;var vW=[" ","Enter","ArrowUp","ArrowDown"],yW=[" ","Enter"],Bi="Select",[Zh,Qh,wW]=Cy(Bi),[kc]=Xa(Bi,[wW,_c]),Xh=_c(),[SW,Ja]=kc(Bi),[CW,jW]=kc(Bi),QR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:p,name:g,autoComplete:x,disabled:v,required:y,form:S}=e,C=Xh(t),[j,E]=h.useState(null),[N,_]=h.useState(null),[R,D]=h.useState(!1),A=jy(p),[M,O]=dc({prop:r,defaultProp:o??!1,onChange:l,caller:Bi}),[L,T]=dc({prop:c,defaultProp:d,onChange:f,caller:Bi}),G=h.useRef(null),P=j?S||!!j.closest("form"):!0,[$,W]=h.useState(new Set),ce=Array.from($).map(z=>z.props.value).join(";");return i.jsx(Oy,{...C,children:i.jsxs(SW,{required:y,scope:t,trigger:j,onTriggerChange:E,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:pr(),value:L,onValueChange:T,open:M,onOpenChange:O,dir:A,triggerPointerDownPosRef:G,disabled:v,children:[i.jsx(Zh.Provider,{scope:t,children:i.jsx(CW,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(z=>{W(q=>new Set(q).add(z))},[]),onNativeOptionRemove:h.useCallback(z=>{W(q=>{const Z=new Set(q);return Z.delete(z),Z})},[]),children:n})}),P?i.jsxs(vM,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:x,value:L,onChange:z=>T(z.target.value),disabled:v,form:S,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from($)]},ce):null]})})};QR.displayName=Bi;var XR="SelectTrigger",JR=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,l=Xh(n),c=Ja(XR,n),d=c.disabled||r,f=Ft(t,c.onTriggerChange),p=Qh(n),g=h.useRef("touch"),[x,v,y]=wM(C=>{const j=p().filter(_=>!_.disabled),E=j.find(_=>_.value===c.value),N=SM(j,C,E);N!==void 0&&c.onValueChange(N.value)}),S=C=>{d||(c.onOpenChange(!0),y()),C&&(c.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return i.jsx(Gh,{asChild:!0,...l,children:i.jsx(lt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":yM(c.value)?"":void 0,...o,ref:f,onClick:We(o.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&S(C)}),onPointerDown:We(o.onPointerDown,C=>{g.current=C.pointerType;const j=C.target;j.hasPointerCapture(C.pointerId)&&j.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(S(C),C.preventDefault())}),onKeyDown:We(o.onKeyDown,C=>{const j=x.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&v(C.key),!(j&&C.key===" ")&&vW.includes(C.key)&&(S(),C.preventDefault())})})})});JR.displayName=XR;var eM="SelectValue",tM=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:c="",...d}=e,f=Ja(eM,n),{onValueNodeHasChildrenChange:p}=f,g=l!==void 0,x=Ft(t,f.onValueNodeChange);return gr(()=>{p(g)},[p,g]),i.jsx(lt.span,{...d,ref:x,style:{pointerEvents:"none"},children:yM(f.value)?i.jsx(i.Fragment,{children:c}):l})});tM.displayName=eM;var EW="SelectIcon",nM=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return i.jsx(lt.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});nM.displayName=EW;var NW="SelectPortal",rM=e=>i.jsx(Dd,{asChild:!0,...e});rM.displayName=NW;var Vi="SelectContent",sM=h.forwardRef((e,t)=>{const n=Ja(Vi,e.__scopeSelect),[r,o]=h.useState();if(gr(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?zn.createPortal(i.jsx(oM,{scope:e.__scopeSelect,children:i.jsx(Zh.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),l):null}return i.jsx(aM,{...e,ref:t})});sM.displayName=Vi;var zs=10,[oM,ei]=kc(Vi),_W="SelectContentImpl",kW=S9("SelectContent.RemoveScroll"),aM=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:v,collisionPadding:y,sticky:S,hideWhenDetached:C,avoidCollisions:j,...E}=e,N=Ja(Vi,n),[_,R]=h.useState(null),[D,A]=h.useState(null),M=Ft(t,V=>R(V)),[O,L]=h.useState(null),[T,G]=h.useState(null),P=Qh(n),[$,W]=h.useState(!1),ce=h.useRef(!1);h.useEffect(()=>{if(_)return Yh(_)},[_]),Bh();const z=h.useCallback(V=>{const[te,...se]=P().map(Se=>Se.ref.current),[oe]=se.slice(-1),fe=document.activeElement;for(const Se of V)if(Se===fe||(Se?.scrollIntoView({block:"nearest"}),Se===te&&D&&(D.scrollTop=0),Se===oe&&D&&(D.scrollTop=D.scrollHeight),Se?.focus(),document.activeElement!==fe))return},[P,D]),q=h.useCallback(()=>z([O,_]),[z,O,_]);h.useEffect(()=>{$&&q()},[$,q]);const{onOpenChange:Z,triggerPointerDownPosRef:F}=N;h.useEffect(()=>{if(_){let V={x:0,y:0};const te=oe=>{V={x:Math.abs(Math.round(oe.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(oe.pageY)-(F.current?.y??0))}},se=oe=>{V.x<=10&&V.y<=10?oe.preventDefault():_.contains(oe.target)||Z(!1),document.removeEventListener("pointermove",te),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",se,{capture:!0})}}},[_,Z,F]),h.useEffect(()=>{const V=()=>Z(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[Z]);const[ae,B]=wM(V=>{const te=P().filter(fe=>!fe.disabled),se=te.find(fe=>fe.ref.current===document.activeElement),oe=SM(te,V,se);oe&&setTimeout(()=>oe.ref.current.focus())}),U=h.useCallback((V,te,se)=>{const oe=!ce.current&&!se;(N.value!==void 0&&N.value===te||oe)&&(L(V),oe&&(ce.current=!0))},[N.value]),ne=h.useCallback(()=>_?.focus(),[_]),K=h.useCallback((V,te,se)=>{const oe=!ce.current&&!se;(N.value!==void 0&&N.value===te||oe)&&G(V)},[N.value]),H=r==="popper"?iv:iM,Y=H===iv?{side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:v,collisionPadding:y,sticky:S,hideWhenDetached:C,avoidCollisions:j}:{};return i.jsx(oM,{scope:n,content:_,viewport:D,onViewportChange:A,itemRefCallback:U,selectedItem:O,onItemLeave:ne,itemTextRefCallback:K,focusSelectedItem:q,selectedItemText:T,position:r,isPositioned:$,searchRef:ae,children:i.jsx(Ad,{as:kW,allowPinchZoom:!0,children:i.jsx(Rd,{asChild:!0,trapped:N.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:We(o,V=>{N.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:i.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:V=>V.preventDefault(),...E,...Y,onPlaced:()=>W(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:We(E.onKeyDown,V=>{const te=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!te&&V.key.length===1&&B(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let oe=P().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const fe=V.target,Se=oe.indexOf(fe);oe=oe.slice(Se+1)}setTimeout(()=>z(oe)),V.preventDefault()}})})})})})})});aM.displayName=_W;var RW="SelectItemAlignedPosition",iM=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,l=Ja(Vi,n),c=ei(Vi,n),[d,f]=h.useState(null),[p,g]=h.useState(null),x=Ft(t,M=>g(M)),v=Qh(n),y=h.useRef(!1),S=h.useRef(!0),{viewport:C,selectedItem:j,selectedItemText:E,focusSelectedItem:N}=c,_=h.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&C&&j&&E){const M=l.trigger.getBoundingClientRect(),O=p.getBoundingClientRect(),L=l.valueNode.getBoundingClientRect(),T=E.getBoundingClientRect();if(l.dir!=="rtl"){const fe=T.left-O.left,Se=L.left-fe,Ae=M.left-Se,De=M.width+Ae,st=Math.max(De,O.width),pt=window.innerWidth-zs,ut=Vj(Se,[zs,Math.max(zs,pt-st)]);d.style.minWidth=De+"px",d.style.left=ut+"px"}else{const fe=O.right-T.right,Se=window.innerWidth-L.right-fe,Ae=window.innerWidth-M.right-Se,De=M.width+Ae,st=Math.max(De,O.width),pt=window.innerWidth-zs,ut=Vj(Se,[zs,Math.max(zs,pt-st)]);d.style.minWidth=De+"px",d.style.right=ut+"px"}const G=v(),P=window.innerHeight-zs*2,$=C.scrollHeight,W=window.getComputedStyle(p),ce=parseInt(W.borderTopWidth,10),z=parseInt(W.paddingTop,10),q=parseInt(W.borderBottomWidth,10),Z=parseInt(W.paddingBottom,10),F=ce+z+$+Z+q,ae=Math.min(j.offsetHeight*5,F),B=window.getComputedStyle(C),U=parseInt(B.paddingTop,10),ne=parseInt(B.paddingBottom,10),K=M.top+M.height/2-zs,H=P-K,Y=j.offsetHeight/2,V=j.offsetTop+Y,te=ce+z+V,se=F-te;if(te<=K){const fe=G.length>0&&j===G[G.length-1].ref.current;d.style.bottom="0px";const Se=p.clientHeight-C.offsetTop-C.offsetHeight,Ae=Math.max(H,Y+(fe?ne:0)+Se+q),De=te+Ae;d.style.height=De+"px"}else{const fe=G.length>0&&j===G[0].ref.current;d.style.top="0px";const Ae=Math.max(K,ce+C.offsetTop+(fe?U:0)+Y)+se;d.style.height=Ae+"px",C.scrollTop=te-K+C.offsetTop}d.style.margin=`${zs}px 0`,d.style.minHeight=ae+"px",d.style.maxHeight=P+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[v,l.trigger,l.valueNode,d,p,C,j,E,l.dir,r]);gr(()=>_(),[_]);const[R,D]=h.useState();gr(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const A=h.useCallback(M=>{M&&S.current===!0&&(_(),N?.(),S.current=!1)},[_,N]);return i.jsx(DW,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:i.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:i.jsx(lt.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});iM.displayName=RW;var MW="SelectPopperPosition",iv=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=zs,...l}=e,c=Xh(n);return i.jsx(Ty,{...c,...l,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iv.displayName=MW;var[DW,Py]=kc(Vi,{}),lv="SelectViewport",lM=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,l=ei(lv,n),c=Py(lv,n),d=Ft(t,l.onViewportChange),f=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Zh.Slot,{scope:n,children:i.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:We(o.onScroll,p=>{const g=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:v}=c;if(v?.current&&x){const y=Math.abs(f.current-g.scrollTop);if(y>0){const S=window.innerHeight-zs*2,C=parseFloat(x.style.minHeight),j=parseFloat(x.style.height),E=Math.max(C,j);if(E<S){const N=E+y,_=Math.min(S,N),R=N-_;x.style.height=_+"px",x.style.bottom==="0px"&&(g.scrollTop=R>0?R:0,x.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});lM.displayName=lv;var cM="SelectGroup",[AW,OW]=kc(cM),TW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=pr();return i.jsx(AW,{scope:n,id:o,children:i.jsx(lt.div,{role:"group","aria-labelledby":o,...r,ref:t})})});TW.displayName=cM;var uM="SelectLabel",zW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=OW(uM,n);return i.jsx(lt.div,{id:o.id,...r,ref:t})});zW.displayName=uM;var mh="SelectItem",[PW,dM]=kc(mh),fM=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...c}=e,d=Ja(mh,n),f=ei(mh,n),p=d.value===r,[g,x]=h.useState(l??""),[v,y]=h.useState(!1),S=Ft(t,N=>f.itemRefCallback?.(N,r,o)),C=pr(),j=h.useRef("touch"),E=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(PW,{scope:n,value:r,disabled:o,textId:C,isSelected:p,onItemTextChange:h.useCallback(N=>{x(_=>_||(N?.textContent??"").trim())},[]),children:i.jsx(Zh.ItemSlot,{scope:n,value:r,disabled:o,textValue:g,children:i.jsx(lt.div,{role:"option","aria-labelledby":C,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:S,onFocus:We(c.onFocus,()=>y(!0)),onBlur:We(c.onBlur,()=>y(!1)),onClick:We(c.onClick,()=>{j.current!=="mouse"&&E()}),onPointerUp:We(c.onPointerUp,()=>{j.current==="mouse"&&E()}),onPointerDown:We(c.onPointerDown,N=>{j.current=N.pointerType}),onPointerMove:We(c.onPointerMove,N=>{j.current=N.pointerType,o?f.onItemLeave?.():j.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:We(c.onKeyDown,N=>{f.searchRef?.current!==""&&N.key===" "||(yW.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});fM.displayName=mh;var Iu="SelectItemText",mM=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...l}=e,c=Ja(Iu,n),d=ei(Iu,n),f=dM(Iu,n),p=jW(Iu,n),[g,x]=h.useState(null),v=Ft(t,E=>x(E),f.onItemTextChange,E=>d.itemTextRefCallback?.(E,f.value,f.disabled)),y=g?.textContent,S=h.useMemo(()=>i.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:C,onNativeOptionRemove:j}=p;return gr(()=>(C(S),()=>j(S)),[C,j,S]),i.jsxs(i.Fragment,{children:[i.jsx(lt.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?zn.createPortal(l.children,c.valueNode):null]})});mM.displayName=Iu;var hM="SelectItemIndicator",pM=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return dM(hM,n).isSelected?i.jsx(lt.span,{"aria-hidden":!0,...r,ref:t}):null});pM.displayName=hM;var cv="SelectScrollUpButton",gM=h.forwardRef((e,t)=>{const n=ei(cv,e.__scopeSelect),r=Py(cv,e.__scopeSelect),[o,l]=h.useState(!1),c=Ft(t,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(bM,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});gM.displayName=cv;var uv="SelectScrollDownButton",xM=h.forwardRef((e,t)=>{const n=ei(uv,e.__scopeSelect),r=Py(uv,e.__scopeSelect),[o,l]=h.useState(!1),c=Ft(t,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<p;l(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(bM,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});xM.displayName=uv;var bM=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,l=ei("SelectScrollButton",n),c=h.useRef(null),d=Qh(n),f=h.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),gr(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),i.jsx(lt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:We(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:We(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:We(o.onPointerLeave,()=>{f()})})}),IW="SelectSeparator",LW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(lt.div,{"aria-hidden":!0,...r,ref:t})});LW.displayName=IW;var dv="SelectArrow",$W=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Xh(n),l=Ja(dv,n),c=ei(dv,n);return l.open&&c.position==="popper"?i.jsx(zy,{...o,...r,ref:t}):null});$W.displayName=dv;var FW="SelectBubbleInput",vM=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=h.useRef(null),l=Ft(r,o),c=D9(t);return h.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&g){const x=new Event("change",{bubbles:!0});g.call(d,t),d.dispatchEvent(x)}},[c,t]),i.jsx(lt.select,{...n,style:{...BR,...n.style},ref:l,defaultValue:t})});vM.displayName=FW;function yM(e){return e===""||e===void 0}function wM(e){const t=uo(e),n=h.useRef(""),r=h.useRef(0),o=h.useCallback(c=>{const d=n.current+c;t(d),(function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function SM(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=UW(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function UW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BW=QR,VW=JR,HW=tM,qW=nM,WW=rM,GW=sM,YW=lM,KW=fM,ZW=mM,QW=pM,XW=gM,JW=xM;function ad({...e}){return i.jsx(BW,{"data-slot":"select",...e})}function id({...e}){return i.jsx(HW,{"data-slot":"select-value",...e})}function ld({className:e,size:t="default",children:n,...r}){return i.jsxs(VW,{"data-slot":"select-trigger","data-size":t,className:ze("flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs outline-none transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[size=default]:h-9 data-[size=sm]:h-8 data-[placeholder]:text-muted-foreground *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:hover:bg-input/50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,i.jsx(qW,{asChild:!0,children:i.jsx(rd,{className:"size-4 opacity-50"})})]})}function cd({className:e,children:t,position:n="popper",...r}){return i.jsx(WW,{children:i.jsxs(GW,{"data-slot":"select-content",className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",n==="popper"&&"data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(e7,{}),i.jsx(YW,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),i.jsx(t7,{})]})})}function fc({className:e,children:t,...n}){return i.jsxs(KW,{"data-slot":"select-item",className:ze("relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(QW,{children:i.jsx(_d,{className:"size-4"})})}),i.jsx(ZW,{children:t})]})}function e7({className:e,...t}){return i.jsx(XW,{"data-slot":"select-scroll-up-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(tv,{className:"size-4"})})}function t7({className:e,...t}){return i.jsx(JW,{"data-slot":"select-scroll-down-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(rd,{className:"size-4"})})}function n7({table:e,pageSizeOptions:t=[10,20,30,40,50],className:n,...r}){return i.jsxs("div",{className:ze("flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8",n),...r,children:[i.jsxs("div",{className:"flex-1 whitespace-nowrap text-muted-foreground text-sm",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),i.jsxs("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"whitespace-nowrap font-medium text-sm",children:"Rows per page"}),i.jsxs(ad,{value:`${e.getState().pagination.pageSize}`,onValueChange:o=>{e.setPageSize(Number(o))},children:[i.jsx(ld,{className:"h-8 w-18 data-size:h-8",children:i.jsx(id,{placeholder:e.getState().pagination.pageSize})}),i.jsx(cd,{side:"top",children:t.map(o=>i.jsx(fc,{value:`${o}`,children:o},o))})]})]}),i.jsxs("div",{className:"flex items-center justify-center font-medium text-sm",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rt,{"aria-label":"Go to first page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:i.jsx(lH,{})}),i.jsx(rt,{"aria-label":"Go to previous page",variant:"outline",size:"icon",className:"size-8",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:i.jsx(mR,{})}),i.jsx(rt,{"aria-label":"Go to next page",variant:"outline",size:"icon",className:"size-8",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:i.jsx(hR,{})}),i.jsx(rt,{"aria-label":"Go to last page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:i.jsx(uH,{})})]})]})]})}function Iy({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:ze("w-full caption-bottom text-sm",e),...t})})}function Ly({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:ze("[&_tr]:border-b",e),...t})}function $y({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:ze("[&_tr:last-child]:border-0",e),...t})}function Ua({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})}function Ba({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:ze("h-10 whitespace-nowrap px-2 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function io({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:ze("whitespace-nowrap p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const Wr={textOperators:[{label:"Contains",value:"iLike"},{label:"Does not contain",value:"notILike"},{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],numericOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is less than",value:"lt"},{label:"Is less than or equal to",value:"lte"},{label:"Is greater than",value:"gt"},{label:"Is greater than or equal to",value:"gte"},{label:"Is between",value:"isBetween"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],dateOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is before",value:"lt"},{label:"Is after",value:"gt"},{label:"Is on or before",value:"lte"},{label:"Is on or after",value:"gte"},{label:"Is between",value:"isBetween"},{label:"Is relative to today",value:"isRelativeToToday"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],selectOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],multiSelectOperators:[{label:"Has any of",value:"inArray"},{label:"Has none of",value:"notInArray"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],booleanOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"}],sortOrders:[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}],filterVariants:["text","number","range","date","dateRange","boolean","select","multiSelect"],operators:["iLike","notILike","eq","ne","inArray","notInArray","isEmpty","isNotEmpty","lt","lte","gt","gte","isBetween","isRelativeToToday"],joinOperators:["and","or"]};function hE({column:e,withBorder:t=!1}){const n=e.getIsPinned(),r=n==="left"&&e.getIsLastColumn("left"),o=n==="right"&&e.getIsFirstColumn("right");return{boxShadow:t?r?"-4px 0 4px -4px rgb(var(--sys-color-border)) inset":o?"4px 0 4px -4px rgb(var(--sys-color-border)) inset":void 0:void 0,left:n==="left"?`${e.getStart("left")}px`:void 0,right:n==="right"?`${e.getAfter("right")}px`:void 0,opacity:n?.97:1,position:n?"sticky":"relative",background:n?"rgb(var(--sys-color-bg))":void 0,width:e.getSize(),zIndex:n?1:void 0}}function CM(e){return{text:Wr.textOperators,number:Wr.numericOperators,range:Wr.numericOperators,date:Wr.dateOperators,dateRange:Wr.dateOperators,boolean:Wr.booleanOperators,select:Wr.selectOperators,multiSelect:Wr.multiSelectOperators}[e]??Wr.textOperators}function jM(e){return CM(e)[0]?.value??(e==="text"?"iLike":"eq")}function r7(e){return e.filter(t=>t.operator==="isEmpty"||t.operator==="isNotEmpty"||(Array.isArray(t.value)?t.value.length>0:t.value!==""&&t.value!==null&&t.value!==void 0))}function EM({table:e,actionBar:t,showPagination:n=!0,onRowClick:r,isRowExpanded:o,renderExpandedRow:l,expandedRowCellClassName:c,children:d,className:f,...p}){const g=n?e.getRowModel().rows:e.getPrePaginationRowModel().rows,x=Math.max(1,e.getVisibleLeafColumns().length);return i.jsxs("div",{className:ze("flex min-w-0 w-full flex-col gap-2.5 overflow-auto",f),...p,children:[d,i.jsx("div",{className:"overflow-hidden rounded-md border",children:i.jsxs(Iy,{children:[i.jsx(Ly,{children:e.getHeaderGroups().map(v=>i.jsx(Ua,{children:v.headers.map(y=>i.jsx(Ba,{colSpan:y.colSpan,style:{...hE({column:y.column})},children:y.isPlaceholder?null:Uj(y.column.columnDef.header,y.getContext())},y.id))},v.id))}),i.jsx($y,{children:g?.length?g.map(v=>{const y=o?.(v)??!1;return i.jsxs(h.Fragment,{children:[i.jsx(Ua,{"data-state":v.getIsSelected()&&"selected","data-expanded":y||void 0,"aria-expanded":y||void 0,className:ze(r&&"cursor-pointer"),onClick:r?S=>r(v,S):void 0,children:v.getVisibleCells().map(S=>i.jsx(io,{style:{...hE({column:S.column})},children:Uj(S.column.columnDef.cell,S.getContext())},S.id))}),l&&y&&i.jsx(Ua,{children:i.jsx(io,{colSpan:x,className:ze("bg-muted/20",c),children:l(v)})})]},v.id)}):i.jsx(Ua,{children:i.jsx(io,{colSpan:x,className:"h-24 text-center",children:"No results."})})})]})}),(n||t)&&i.jsxs("div",{className:"flex flex-col gap-2.5",children:[n?i.jsx(n7,{table:e}):null,t&&e.getFilteredSelectedRowModel().rows.length>0&&t]})]})}var pE=1,s7=.9,o7=.8,a7=.17,cb=.1,ub=.999,i7=.9999,l7=.99,c7=/[\\\/_+.#"@\[\(\{&]/,u7=/[\\\/_+.#"@\[\(\{&]/g,d7=/[\s-]/,NM=/[\s-]/g;function fv(e,t,n,r,o,l,c){if(l===t.length)return o===e.length?pE:l7;var d=`${o},${l}`;if(c[d]!==void 0)return c[d];for(var f=r.charAt(l),p=n.indexOf(f,o),g=0,x,v,y,S;p>=0;)x=fv(e,t,n,r,p+1,l+1,c),x>g&&(p===o?x*=pE:c7.test(e.charAt(p-1))?(x*=o7,y=e.slice(o,p-1).match(u7),y&&o>0&&(x*=Math.pow(ub,y.length))):d7.test(e.charAt(p-1))?(x*=s7,S=e.slice(o,p-1).match(NM),S&&o>0&&(x*=Math.pow(ub,S.length))):(x*=a7,o>0&&(x*=Math.pow(ub,p-o))),e.charAt(p)!==t.charAt(l)&&(x*=i7)),(x<cb&&n.charAt(p-1)===r.charAt(l+1)||r.charAt(l+1)===r.charAt(l)&&n.charAt(p-1)!==r.charAt(l))&&(v=fv(e,t,n,r,p+1,l+2,c),v*cb>x&&(x=v*cb)),x>g&&(g=x),p=n.indexOf(f,p+1);return c[d]=g,g}function gE(e){return e.toLowerCase().replace(NM," ")}function f7(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,fv(e,t,gE(e),gE(t),0,0,{})}function m7(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var go=e=>{const{present:t,children:n}=e,r=h7(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),l=Ft(r.ref,p7(o));return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:l}):null};go.displayName="Presence";function h7(e){const[t,n]=h.useState(),r=h.useRef(null),o=h.useRef(e),l=h.useRef("none"),c=e?"mounted":"unmounted",[d,f]=m7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=Em(r.current);l.current=d==="mounted"?p:"none"},[d]),gr(()=>{const p=r.current,g=o.current;if(g!==e){const v=l.current,y=Em(p);e?f("MOUNT"):y==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),gr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,x=y=>{const C=Em(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&C&&(f("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},v=y=>{y.target===t&&(l.current=Em(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Em(e){return e?.animationName||"none"}function p7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g7(e){const t=x7(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(v7);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function x7(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=w7(o),d=y7(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var b7=Symbol("radix.slottable");function v7(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===b7}function y7(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function w7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jh="Dialog",[_M]=Xa(Jh),[S7,Gs]=_M(Jh),kM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=h.useRef(null),f=h.useRef(null),[p,g]=dc({prop:r,defaultProp:o??!1,onChange:l,caller:Jh});return i.jsx(S7,{scope:t,triggerRef:d,contentRef:f,contentId:pr(),titleId:pr(),descriptionId:pr(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(x=>!x),[g]),modal:c,children:n})};kM.displayName=Jh;var RM="DialogTrigger",C7=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Gs(RM,n),l=Ft(t,o.triggerRef);return i.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":By(o.open),...r,ref:l,onClick:We(e.onClick,o.onOpenToggle)})});C7.displayName=RM;var Fy="DialogPortal",[j7,MM]=_M(Fy,{forceMount:void 0}),DM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=Gs(Fy,t);return i.jsx(j7,{scope:t,forceMount:n,children:h.Children.map(r,c=>i.jsx(go,{present:n||l.open,children:i.jsx(Dd,{asChild:!0,container:o,children:c})}))})};DM.displayName=Fy;var hh="DialogOverlay",AM=h.forwardRef((e,t)=>{const n=MM(hh,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=Gs(hh,e.__scopeDialog);return l.modal?i.jsx(go,{present:r||l.open,children:i.jsx(N7,{...o,ref:t})}):null});AM.displayName=hh;var E7=g7("DialogOverlay.RemoveScroll"),N7=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Gs(hh,n);return i.jsx(Ad,{as:E7,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(lt.div,{"data-state":By(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hi="DialogContent",OM=h.forwardRef((e,t)=>{const n=MM(Hi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=Gs(Hi,e.__scopeDialog);return i.jsx(go,{present:r||l.open,children:l.modal?i.jsx(_7,{...o,ref:t}):i.jsx(k7,{...o,ref:t})})});OM.displayName=Hi;var _7=h.forwardRef((e,t)=>{const n=Gs(Hi,e.__scopeDialog),r=h.useRef(null),o=Ft(t,n.contentRef,r);return h.useEffect(()=>{const l=r.current;if(l)return Yh(l)},[]),i.jsx(TM,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:We(e.onFocusOutside,l=>l.preventDefault())})}),k7=h.forwardRef((e,t)=>{const n=Gs(Hi,e.__scopeDialog),r=h.useRef(!1),o=h.useRef(!1);return i.jsx(TM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),TM=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=Gs(Hi,n),f=h.useRef(null),p=Ft(t,f);return Bh(),i.jsxs(i.Fragment,{children:[i.jsx(Rd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(kd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":By(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(A7,{titleId:d.titleId}),i.jsx(T7,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Uy="DialogTitle",R7=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Gs(Uy,n);return i.jsx(lt.h2,{id:o.titleId,...r,ref:t})});R7.displayName=Uy;var zM="DialogDescription",M7=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Gs(zM,n);return i.jsx(lt.p,{id:o.descriptionId,...r,ref:t})});M7.displayName=zM;var PM="DialogClose",D7=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Gs(PM,n);return i.jsx(lt.button,{type:"button",...r,ref:t,onClick:We(e.onClick,()=>o.onOpenChange(!1))})});D7.displayName=PM;function By(e){return e?"open":"closed"}var IM="DialogTitleWarning",[qee,LM]=jH(IM,{contentName:Hi,titleName:Uy,docsSlug:"dialog"}),A7=({titleId:e})=>{const t=LM(IM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},O7="DialogDescriptionWarning",T7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LM(O7).contentName}}.`;return h.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},z7=kM,P7=DM,I7=AM,L7=OM,Du='[cmdk-group=""]',db='[cmdk-group-items=""]',$7='[cmdk-group-heading=""]',$M='[cmdk-item=""]',xE=`${$M}:not([aria-disabled="true"])`,mv="cmdk-item-select",Xl="data-value",F7=(e,t,n)=>f7(e,t,n),FM=h.createContext(void 0),Od=()=>h.useContext(FM),UM=h.createContext(void 0),Vy=()=>h.useContext(UM),BM=h.createContext(void 0),VM=h.forwardRef((e,t)=>{let n=Jl(()=>{var U,ne;return{search:"",value:(ne=(U=e.value)!=null?U:e.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Jl(()=>new Set),o=Jl(()=>new Map),l=Jl(()=>new Map),c=Jl(()=>new Set),d=HM(e),{label:f,children:p,value:g,onValueChange:x,filter:v,shouldFilter:y,loop:S,disablePointerSelection:C=!1,vimBindings:j=!0,...E}=e,N=pr(),_=pr(),R=pr(),D=h.useRef(null),A=Q7();qi(()=>{if(g!==void 0){let U=g.trim();n.current.value=U,M.emit()}},[g]),qi(()=>{A(6,$)},[]);let M=h.useMemo(()=>({subscribe:U=>(c.current.add(U),()=>c.current.delete(U)),snapshot:()=>n.current,setState:(U,ne,K)=>{var H,Y,V,te;if(!Object.is(n.current[U],ne)){if(n.current[U]=ne,U==="search")P(),T(),A(1,G);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(R);se?se.focus():(H=document.getElementById(N))==null||H.focus()}if(A(7,()=>{var se;n.current.selectedItemId=(se=W())==null?void 0:se.id,M.emit()}),K||A(5,$),((Y=d.current)==null?void 0:Y.value)!==void 0){let se=ne??"";(te=(V=d.current).onValueChange)==null||te.call(V,se);return}}M.emit()}},emit:()=>{c.current.forEach(U=>U())}}),[]),O=h.useMemo(()=>({value:(U,ne,K)=>{var H;ne!==((H=l.current.get(U))==null?void 0:H.value)&&(l.current.set(U,{value:ne,keywords:K}),n.current.filtered.items.set(U,L(ne,K)),A(2,()=>{T(),M.emit()}))},item:(U,ne)=>(r.current.add(U),ne&&(o.current.has(ne)?o.current.get(ne).add(U):o.current.set(ne,new Set([U]))),A(3,()=>{P(),T(),n.current.value||G(),M.emit()}),()=>{l.current.delete(U),r.current.delete(U),n.current.filtered.items.delete(U);let K=W();A(4,()=>{P(),K?.getAttribute("id")===U&&G(),M.emit()})}),group:U=>(o.current.has(U)||o.current.set(U,new Set),()=>{l.current.delete(U),o.current.delete(U)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:N,inputId:R,labelId:_,listInnerRef:D}),[]);function L(U,ne){var K,H;let Y=(H=(K=d.current)==null?void 0:K.filter)!=null?H:F7;return U?Y(U,n.current.search,ne):0}function T(){if(!n.current.search||d.current.shouldFilter===!1)return;let U=n.current.filtered.items,ne=[];n.current.filtered.groups.forEach(H=>{let Y=o.current.get(H),V=0;Y.forEach(te=>{let se=U.get(te);V=Math.max(se,V)}),ne.push([H,V])});let K=D.current;ce().sort((H,Y)=>{var V,te;let se=H.getAttribute("id"),oe=Y.getAttribute("id");return((V=U.get(oe))!=null?V:0)-((te=U.get(se))!=null?te:0)}).forEach(H=>{let Y=H.closest(db);Y?Y.appendChild(H.parentElement===Y?H:H.closest(`${db} > *`)):K.appendChild(H.parentElement===K?H:H.closest(`${db} > *`))}),ne.sort((H,Y)=>Y[1]-H[1]).forEach(H=>{var Y;let V=(Y=D.current)==null?void 0:Y.querySelector(`${Du}[${Xl}="${encodeURIComponent(H[0])}"]`);V?.parentElement.appendChild(V)})}function G(){let U=ce().find(K=>K.getAttribute("aria-disabled")!=="true"),ne=U?.getAttribute(Xl);M.setState("value",ne||void 0)}function P(){var U,ne,K,H;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Y=0;for(let V of r.current){let te=(ne=(U=l.current.get(V))==null?void 0:U.value)!=null?ne:"",se=(H=(K=l.current.get(V))==null?void 0:K.keywords)!=null?H:[],oe=L(te,se);n.current.filtered.items.set(V,oe),oe>0&&Y++}for(let[V,te]of o.current)for(let se of te)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(V);break}n.current.filtered.count=Y}function $(){var U,ne,K;let H=W();H&&(((U=H.parentElement)==null?void 0:U.firstChild)===H&&((K=(ne=H.closest(Du))==null?void 0:ne.querySelector($7))==null||K.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function W(){var U;return(U=D.current)==null?void 0:U.querySelector(`${$M}[aria-selected="true"]`)}function ce(){var U;return Array.from(((U=D.current)==null?void 0:U.querySelectorAll(xE))||[])}function z(U){let ne=ce()[U];ne&&M.setState("value",ne.getAttribute(Xl))}function q(U){var ne;let K=W(),H=ce(),Y=H.findIndex(te=>te===K),V=H[Y+U];(ne=d.current)!=null&&ne.loop&&(V=Y+U<0?H[H.length-1]:Y+U===H.length?H[0]:H[Y+U]),V&&M.setState("value",V.getAttribute(Xl))}function Z(U){let ne=W(),K=ne?.closest(Du),H;for(;K&&!H;)K=U>0?K7(K,Du):Z7(K,Du),H=K?.querySelector(xE);H?M.setState("value",H.getAttribute(Xl)):q(U)}let F=()=>z(ce().length-1),ae=U=>{U.preventDefault(),U.metaKey?F():U.altKey?Z(1):q(1)},B=U=>{U.preventDefault(),U.metaKey?z(0):U.altKey?Z(-1):q(-1)};return h.createElement(lt.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:U=>{var ne;(ne=E.onKeyDown)==null||ne.call(E,U);let K=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||K))switch(U.key){case"n":case"j":{j&&U.ctrlKey&&ae(U);break}case"ArrowDown":{ae(U);break}case"p":case"k":{j&&U.ctrlKey&&B(U);break}case"ArrowUp":{B(U);break}case"Home":{U.preventDefault(),z(0);break}case"End":{U.preventDefault(),F();break}case"Enter":{U.preventDefault();let H=W();if(H){let Y=new Event(mv);H.dispatchEvent(Y)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:J7},f),ep(e,U=>h.createElement(UM.Provider,{value:M},h.createElement(FM.Provider,{value:O},U))))}),U7=h.forwardRef((e,t)=>{var n,r;let o=pr(),l=h.useRef(null),c=h.useContext(BM),d=Od(),f=HM(e),p=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:c?.forceMount;qi(()=>{if(!p)return d.item(o,c?.id)},[p]);let g=qM(o,l,[e.value,e.children,l],e.keywords),x=Vy(),v=Ka(A=>A.value&&A.value===g.current),y=Ka(A=>p||d.filter()===!1?!0:A.search?A.filtered.items.get(o)>0:!0);h.useEffect(()=>{let A=l.current;if(!(!A||e.disabled))return A.addEventListener(mv,S),()=>A.removeEventListener(mv,S)},[y,e.onSelect,e.disabled]);function S(){var A,M;C(),(M=(A=f.current).onSelect)==null||M.call(A,g.current)}function C(){x.setState("value",g.current,!0)}if(!y)return null;let{disabled:j,value:E,onSelect:N,forceMount:_,keywords:R,...D}=e;return h.createElement(lt.div,{ref:Cr(l,t),...D,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!v,"data-disabled":!!j,"data-selected":!!v,onPointerMove:j||d.getDisablePointerSelection()?void 0:C,onClick:j?void 0:S},e.children)}),B7=h.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...l}=e,c=pr(),d=h.useRef(null),f=h.useRef(null),p=pr(),g=Od(),x=Ka(y=>o||g.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);qi(()=>g.group(c),[]),qM(c,d,[e.value,e.heading,f]);let v=h.useMemo(()=>({id:c,forceMount:o}),[o]);return h.createElement(lt.div,{ref:Cr(d,t),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},n&&h.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),ep(e,y=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},h.createElement(BM.Provider,{value:v},y))))}),V7=h.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=h.useRef(null),l=Ka(c=>!c.search);return!n&&!l?null:h.createElement(lt.div,{ref:Cr(o,t),...r,"cmdk-separator":"",role:"separator"})}),H7=h.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,l=Vy(),c=Ka(p=>p.search),d=Ka(p=>p.selectedItemId),f=Od();return h.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),h.createElement(lt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:o?e.value:c,onChange:p=>{o||l.setState("search",p.target.value),n?.(p.target.value)}})}),q7=h.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,l=h.useRef(null),c=h.useRef(null),d=Ka(p=>p.selectedItemId),f=Od();return h.useEffect(()=>{if(c.current&&l.current){let p=c.current,g=l.current,x,v=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let y=p.offsetHeight;g.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return v.observe(p),()=>{cancelAnimationFrame(x),v.unobserve(p)}}},[]),h.createElement(lt.div,{ref:Cr(l,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":r,id:f.listId},ep(e,p=>h.createElement("div",{ref:Cr(c,f.listInnerRef),"cmdk-list-sizer":""},p)))}),W7=h.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:l,container:c,...d}=e;return h.createElement(z7,{open:n,onOpenChange:r},h.createElement(P7,{container:c},h.createElement(I7,{"cmdk-overlay":"",className:o}),h.createElement(L7,{"aria-label":e.label,"cmdk-dialog":"",className:l},h.createElement(VM,{ref:t,...d}))))}),G7=h.forwardRef((e,t)=>Ka(n=>n.filtered.count===0)?h.createElement(lt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Y7=h.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...l}=e;return h.createElement(lt.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ep(e,c=>h.createElement("div",{"aria-hidden":!0},c)))}),Rc=Object.assign(VM,{List:q7,Item:U7,Input:H7,Group:B7,Separator:V7,Dialog:W7,Empty:G7,Loading:Y7});function K7(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Z7(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function HM(e){let t=h.useRef(e);return qi(()=>{t.current=e}),t}var qi=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Jl(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Ka(e){let t=Vy(),n=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,n,n)}function qM(e,t,n,r=[]){let o=h.useRef(),l=Od();return qi(()=>{var c;let d=(()=>{var p;for(let g of n){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(p=g.current.textContent)==null?void 0:p.trim():o.current}})(),f=r.map(p=>p.trim());l.value(e,d,f),(c=t.current)==null||c.setAttribute(Xl,d),o.current=d}),o}var Q7=()=>{let[e,t]=h.useState(),n=Jl(()=>new Map);return qi(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function X7(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ep({asChild:e,children:t},n){return e&&h.isValidElement(t)?h.cloneElement(X7(t),{ref:t.ref},n(t.props.children)):n(t)}var J7={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function tp({className:e,...t}){return i.jsx(Rc,{"data-slot":"command",className:ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t})}function np({className:e,...t}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(bH,{className:"size-4 shrink-0 opacity-50"}),i.jsx(Rc.Input,{"data-slot":"command-input",className:ze("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function rp({className:e,...t}){return i.jsx(Rc.List,{"data-slot":"command-list",className:ze("max-h-[300px] scroll-py-1 overflow-y-auto overflow-x-hidden",e),...t})}function sp({...e}){return i.jsx(Rc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function op({className:e,...t}){return i.jsx(Rc.Group,{"data-slot":"command-group",className:ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:text-xs",e),...t})}function ap({className:e,...t}){return i.jsx(Rc.Item,{"data-slot":"command-item",className:ze("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t})}function eG(e){const t=tG(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(rG);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function tG(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=oG(o),d=sG(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nG=Symbol("radix.slottable");function rG(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nG}function sG(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function oG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ip="Popover",[WM]=Xa(ip,[_c]),Td=_c(),[aG,ti]=WM(ip),GM=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,d=Td(t),f=h.useRef(null),[p,g]=h.useState(!1),[x,v]=dc({prop:r,defaultProp:o??!1,onChange:l,caller:ip});return i.jsx(Oy,{...d,children:i.jsx(aG,{scope:t,contentId:pr(),triggerRef:f,open:x,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:p,onCustomAnchorAdd:h.useCallback(()=>g(!0),[]),onCustomAnchorRemove:h.useCallback(()=>g(!1),[]),modal:c,children:n})})};GM.displayName=ip;var YM="PopoverAnchor",iG=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ti(YM,n),l=Td(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return h.useEffect(()=>(c(),()=>d()),[c,d]),i.jsx(Gh,{...l,...r,ref:t})});iG.displayName=YM;var KM="PopoverTrigger",ZM=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ti(KM,n),l=Td(n),c=Ft(t,o.triggerRef),d=i.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":t2(o.open),...r,ref:c,onClick:We(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:i.jsx(Gh,{asChild:!0,...l,children:d})});ZM.displayName=KM;var Hy="PopoverPortal",[lG,cG]=WM(Hy,{forceMount:void 0}),QM=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,l=ti(Hy,t);return i.jsx(lG,{scope:t,forceMount:n,children:i.jsx(go,{present:n||l.open,children:i.jsx(Dd,{asChild:!0,container:o,children:r})})})};QM.displayName=Hy;var mc="PopoverContent",XM=h.forwardRef((e,t)=>{const n=cG(mc,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,l=ti(mc,e.__scopePopover);return i.jsx(go,{present:r||l.open,children:l.modal?i.jsx(dG,{...o,ref:t}):i.jsx(fG,{...o,ref:t})})});XM.displayName=mc;var uG=eG("PopoverContent.RemoveScroll"),dG=h.forwardRef((e,t)=>{const n=ti(mc,e.__scopePopover),r=h.useRef(null),o=Ft(t,r),l=h.useRef(!1);return h.useEffect(()=>{const c=r.current;if(c)return Yh(c)},[]),i.jsx(Ad,{as:uG,allowPinchZoom:!0,children:i.jsx(JM,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,c=>{c.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:We(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),fG=h.forwardRef((e,t)=>{const n=ti(mc,e.__scopePopover),r=h.useRef(!1),o=h.useRef(!1);return i.jsx(JM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),JM=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,...x}=e,v=ti(mc,n),y=Td(n);return Bh(),i.jsx(Rd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(kd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:i.jsx(Ty,{"data-state":t2(v.open),role:"dialog",id:v.contentId,...y,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),e2="PopoverClose",mG=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ti(e2,n);return i.jsx(lt.button,{type:"button",...r,ref:t,onClick:We(e.onClick,()=>o.onOpenChange(!1))})});mG.displayName=e2;var hG="PopoverArrow",pG=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Td(n);return i.jsx(zy,{...o,...r,ref:t})});pG.displayName=hG;function t2(e){return e?"open":"closed"}var gG=GM,xG=ZM,bG=QM,vG=XM;function Qi({...e}){return i.jsx(gG,{"data-slot":"popover",...e})}function Xi({...e}){return i.jsx(xG,{"data-slot":"popover-trigger",...e})}function Ji({className:e,align:t="center",sideOffset:n=4,...r}){return i.jsx(bG,{children:i.jsx(vG,{"data-slot":"popover-content",align:t,sideOffset:n,className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",e),...r})})}function yG({table:e,disabled:t,...n}){const r=h.useMemo(()=>e.getAllColumns().filter(o=>typeof o.accessorFn<"u"&&o.getCanHide()),[e]);return i.jsxs(Qi,{children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{"aria-label":"Toggle columns",role:"combobox",variant:"outline",size:"sm",className:"ml-auto hidden h-8 font-normal lg:flex",disabled:t,children:[i.jsx(yH,{className:"text-muted-foreground"}),"View"]})}),i.jsx(Ji,{className:"w-44 p-0",...n,children:i.jsxs(tp,{children:[i.jsx(np,{placeholder:"Search columns..."}),i.jsxs(rp,{children:[i.jsx(sp,{children:"No columns found."}),i.jsx(op,{children:r.map(o=>i.jsxs(ap,{onSelect:()=>o.toggleVisibility(!o.getIsVisible()),children:[i.jsx("span",{className:"truncate",children:o.columnDef.meta?.label??o.id}),i.jsx(_d,{className:ze("ml-auto size-4 shrink-0",o.getIsVisible()?"opacity-100":"opacity-0")})]},o.id))})]})]})})]})}function wG({table:e,children:t,className:n,...r}){return i.jsxs("div",{role:"toolbar","aria-orientation":"horizontal",className:ze("flex w-full items-start justify-between gap-2 p-1",n),...r,children:[i.jsx("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:t}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(yG,{table:e,align:"end"})})]})}var fb="rovingFocusGroup.onEntryFocus",SG={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[hv,n2,CG]=Cy(zd),[jG,r2]=Xa(zd,[CG]),[EG,NG]=jG(zd),s2=h.forwardRef((e,t)=>i.jsx(hv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(hv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(_G,{...e,ref:t})})}));s2.displayName=zd;var _G=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...x}=e,v=h.useRef(null),y=Ft(t,v),S=jy(l),[C,j]=dc({prop:c,defaultProp:d??null,onChange:f,caller:zd}),[E,N]=h.useState(!1),_=uo(p),R=n2(n),D=h.useRef(!1),[A,M]=h.useState(0);return h.useEffect(()=>{const O=v.current;if(O)return O.addEventListener(fb,_),()=>O.removeEventListener(fb,_)},[_]),i.jsx(EG,{scope:n,orientation:r,dir:S,loop:o,currentTabStopId:C,onItemFocus:h.useCallback(O=>j(O),[j]),onItemShiftTab:h.useCallback(()=>N(!0),[]),onFocusableItemAdd:h.useCallback(()=>M(O=>O+1),[]),onFocusableItemRemove:h.useCallback(()=>M(O=>O-1),[]),children:i.jsx(lt.div,{tabIndex:E||A===0?-1:0,"data-orientation":r,...x,ref:y,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{D.current=!0}),onFocus:We(e.onFocus,O=>{const L=!D.current;if(O.target===O.currentTarget&&L&&!E){const T=new CustomEvent(fb,SG);if(O.currentTarget.dispatchEvent(T),!T.defaultPrevented){const G=R().filter(z=>z.focusable),P=G.find(z=>z.active),$=G.find(z=>z.id===C),ce=[P,$,...G].filter(Boolean).map(z=>z.ref.current);i2(ce,g)}}D.current=!1}),onBlur:We(e.onBlur,()=>N(!1))})})}),o2="RovingFocusGroupItem",a2=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,children:c,...d}=e,f=pr(),p=l||f,g=NG(o2,n),x=g.currentTabStopId===p,v=n2(n),{onFocusableItemAdd:y,onFocusableItemRemove:S,currentTabStopId:C}=g;return h.useEffect(()=>{if(r)return y(),()=>S()},[r,y,S]),i.jsx(hv.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:i.jsx(lt.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:We(e.onMouseDown,j=>{r?g.onItemFocus(p):j.preventDefault()}),onFocus:We(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:We(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){g.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=MG(j,g.orientation,g.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=v().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")_.reverse();else if(E==="prev"||E==="next"){E==="prev"&&_.reverse();const R=_.indexOf(j.currentTarget);_=g.loop?DG(_,R+1):_.slice(R+1)}setTimeout(()=>i2(_))}}),children:typeof c=="function"?c({isCurrentTabStop:x,hasTabStop:C!=null}):c})})});a2.displayName=o2;var kG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MG(e,t,n){const r=RG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kG[r]}function i2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function DG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var AG=s2,OG=a2;function TG(e){const t=zG(e),n=h.forwardRef((r,o)=>{const{children:l,...c}=r,d=h.Children.toArray(l),f=d.find(IG);if(f){const p=f.props.children,g=d.map(x=>x===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function zG(e){const t=h.forwardRef((n,r)=>{const{children:o,...l}=n;if(h.isValidElement(o)){const c=$G(o),d=LG(l,o.props);return o.type!==h.Fragment&&(d.ref=r?Cr(r,c):c),h.cloneElement(o,d)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PG=Symbol("radix.slottable");function IG(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PG}function LG(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function $G(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pv=["Enter"," "],FG=["ArrowDown","PageUp","Home"],l2=["ArrowUp","PageDown","End"],UG=[...FG,...l2],BG={ltr:[...pv,"ArrowRight"],rtl:[...pv,"ArrowLeft"]},VG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pd="Menu",[ud,HG,qG]=Cy(Pd),[el,c2]=Xa(Pd,[qG,_c,r2]),lp=_c(),u2=r2(),[WG,tl]=el(Pd),[GG,Id]=el(Pd),d2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:l,modal:c=!0}=e,d=lp(t),[f,p]=h.useState(null),g=h.useRef(!1),x=uo(l),v=jy(o);return h.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),i.jsx(Oy,{...d,children:i.jsx(WG,{scope:t,open:n,onOpenChange:x,content:f,onContentChange:p,children:i.jsx(GG,{scope:t,onClose:h.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:v,modal:c,children:r})})})};d2.displayName=Pd;var YG="MenuAnchor",qy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=lp(n);return i.jsx(Gh,{...o,...r,ref:t})});qy.displayName=YG;var Wy="MenuPortal",[KG,f2]=el(Wy,{forceMount:void 0}),m2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,l=tl(Wy,t);return i.jsx(KG,{scope:t,forceMount:n,children:i.jsx(go,{present:n||l.open,children:i.jsx(Dd,{asChild:!0,container:o,children:r})})})};m2.displayName=Wy;var Ss="MenuContent",[ZG,Gy]=el(Ss),h2=h.forwardRef((e,t)=>{const n=f2(Ss,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=tl(Ss,e.__scopeMenu),c=Id(Ss,e.__scopeMenu);return i.jsx(ud.Provider,{scope:e.__scopeMenu,children:i.jsx(go,{present:r||l.open,children:i.jsx(ud.Slot,{scope:e.__scopeMenu,children:c.modal?i.jsx(QG,{...o,ref:t}):i.jsx(XG,{...o,ref:t})})})})}),QG=h.forwardRef((e,t)=>{const n=tl(Ss,e.__scopeMenu),r=h.useRef(null),o=Ft(t,r);return h.useEffect(()=>{const l=r.current;if(l)return Yh(l)},[]),i.jsx(Yy,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:We(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),XG=h.forwardRef((e,t)=>{const n=tl(Ss,e.__scopeMenu);return i.jsx(Yy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JG=TG("MenuContent.ScrollLock"),Yy=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:v,onDismiss:y,disableOutsideScroll:S,...C}=e,j=tl(Ss,n),E=Id(Ss,n),N=lp(n),_=u2(n),R=HG(n),[D,A]=h.useState(null),M=h.useRef(null),O=Ft(t,M,j.onContentChange),L=h.useRef(0),T=h.useRef(""),G=h.useRef(0),P=h.useRef(null),$=h.useRef("right"),W=h.useRef(0),ce=S?Ad:h.Fragment,z=S?{as:JG,allowPinchZoom:!0}:void 0,q=F=>{const ae=T.current+F,B=R().filter(V=>!V.disabled),U=document.activeElement,ne=B.find(V=>V.ref.current===U)?.textValue,K=B.map(V=>V.textValue),H=dY(K,ae,ne),Y=B.find(V=>V.textValue===H)?.ref.current;(function V(te){T.current=te,window.clearTimeout(L.current),te!==""&&(L.current=window.setTimeout(()=>V(""),1e3))})(ae),Y&&setTimeout(()=>Y.focus())};h.useEffect(()=>()=>window.clearTimeout(L.current),[]),Bh();const Z=h.useCallback(F=>$.current===P.current?.side&&mY(F,P.current?.area),[]);return i.jsx(ZG,{scope:n,searchRef:T,onItemEnter:h.useCallback(F=>{Z(F)&&F.preventDefault()},[Z]),onItemLeave:h.useCallback(F=>{Z(F)||(M.current?.focus(),A(null))},[Z]),onTriggerLeave:h.useCallback(F=>{Z(F)&&F.preventDefault()},[Z]),pointerGraceTimerRef:G,onPointerGraceIntentChange:h.useCallback(F=>{P.current=F},[]),children:i.jsx(ce,{...z,children:i.jsx(Rd,{asChild:!0,trapped:o,onMountAutoFocus:We(l,F=>{F.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(kd,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:v,onDismiss:y,children:i.jsx(AG,{asChild:!0,..._,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:A,onEntryFocus:We(f,F=>{E.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Ty,{role:"menu","aria-orientation":"vertical","data-state":M2(j.open),"data-radix-menu-content":"",dir:E.dir,...N,...C,ref:O,style:{outline:"none",...C.style},onKeyDown:We(C.onKeyDown,F=>{const B=F.target.closest("[data-radix-menu-content]")===F.currentTarget,U=F.ctrlKey||F.altKey||F.metaKey,ne=F.key.length===1;B&&(F.key==="Tab"&&F.preventDefault(),!U&&ne&&q(F.key));const K=M.current;if(F.target!==K||!UG.includes(F.key))return;F.preventDefault();const Y=R().filter(V=>!V.disabled).map(V=>V.ref.current);l2.includes(F.key)&&Y.reverse(),cY(Y)}),onBlur:We(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(L.current),T.current="")}),onPointerMove:We(e.onPointerMove,dd(F=>{const ae=F.target,B=W.current!==F.clientX;if(F.currentTarget.contains(ae)&&B){const U=F.clientX>W.current?"right":"left";$.current=U,W.current=F.clientX}}))})})})})})})});h2.displayName=Ss;var eY="MenuGroup",Ky=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(lt.div,{role:"group",...r,ref:t})});Ky.displayName=eY;var tY="MenuLabel",p2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(lt.div,{...r,ref:t})});p2.displayName=tY;var ph="MenuItem",bE="menu.itemSelect",cp=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,l=h.useRef(null),c=Id(ph,e.__scopeMenu),d=Gy(ph,e.__scopeMenu),f=Ft(t,l),p=h.useRef(!1),g=()=>{const x=l.current;if(!n&&x){const v=new CustomEvent(bE,{bubbles:!0,cancelable:!0});x.addEventListener(bE,y=>r?.(y),{once:!0}),xR(x,v),v.defaultPrevented?p.current=!1:c.onClose()}};return i.jsx(g2,{...o,ref:f,disabled:n,onClick:We(e.onClick,g),onPointerDown:x=>{e.onPointerDown?.(x),p.current=!0},onPointerUp:We(e.onPointerUp,x=>{p.current||x.currentTarget?.click()}),onKeyDown:We(e.onKeyDown,x=>{const v=d.searchRef.current!=="";n||v&&x.key===" "||pv.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});cp.displayName=ph;var g2=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...l}=e,c=Gy(ph,n),d=u2(n),f=h.useRef(null),p=Ft(t,f),[g,x]=h.useState(!1),[v,y]=h.useState("");return h.useEffect(()=>{const S=f.current;S&&y((S.textContent??"").trim())},[l.children]),i.jsx(ud.ItemSlot,{scope:n,disabled:r,textValue:o??v,children:i.jsx(OG,{asChild:!0,...d,focusable:!r,children:i.jsx(lt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:p,onPointerMove:We(e.onPointerMove,dd(S=>{r?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(e.onPointerLeave,dd(S=>c.onItemLeave(S))),onFocus:We(e.onFocus,()=>x(!0)),onBlur:We(e.onBlur,()=>x(!1))})})})}),nY="MenuCheckboxItem",x2=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return i.jsx(S2,{scope:e.__scopeMenu,checked:n,children:i.jsx(cp,{role:"menuitemcheckbox","aria-checked":gh(n)?"mixed":n,...o,ref:t,"data-state":Qy(n),onSelect:We(o.onSelect,()=>r?.(gh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});x2.displayName=nY;var b2="MenuRadioGroup",[rY,sY]=el(b2,{value:void 0,onValueChange:()=>{}}),v2=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,l=uo(r);return i.jsx(rY,{scope:e.__scopeMenu,value:n,onValueChange:l,children:i.jsx(Ky,{...o,ref:t})})});v2.displayName=b2;var y2="MenuRadioItem",w2=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=sY(y2,e.__scopeMenu),l=n===o.value;return i.jsx(S2,{scope:e.__scopeMenu,checked:l,children:i.jsx(cp,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":Qy(l),onSelect:We(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});w2.displayName=y2;var Zy="MenuItemIndicator",[S2,oY]=el(Zy,{checked:!1}),C2=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,l=oY(Zy,n);return i.jsx(go,{present:r||gh(l.checked)||l.checked===!0,children:i.jsx(lt.span,{...o,ref:t,"data-state":Qy(l.checked)})})});C2.displayName=Zy;var aY="MenuSeparator",j2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});j2.displayName=aY;var iY="MenuArrow",E2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=lp(n);return i.jsx(zy,{...o,...r,ref:t})});E2.displayName=iY;var lY="MenuSub",[Wee,N2]=el(lY),Lu="MenuSubTrigger",_2=h.forwardRef((e,t)=>{const n=tl(Lu,e.__scopeMenu),r=Id(Lu,e.__scopeMenu),o=N2(Lu,e.__scopeMenu),l=Gy(Lu,e.__scopeMenu),c=h.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,p={__scopeMenu:e.__scopeMenu},g=h.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return h.useEffect(()=>g,[g]),h.useEffect(()=>{const x=d.current;return()=>{window.clearTimeout(x),f(null)}},[d,f]),i.jsx(qy,{asChild:!0,...p,children:i.jsx(g2,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":M2(n.open),...e,ref:Cr(t,o.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:We(e.onPointerMove,dd(x=>{l.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:We(e.onPointerLeave,dd(x=>{g();const v=n.content?.getBoundingClientRect();if(v){const y=n.content?.dataset.side,S=y==="right",C=S?-5:5,j=v[S?"left":"right"],E=v[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+C,y:x.clientY},{x:j,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:j,y:v.bottom}],side:y}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:We(e.onKeyDown,x=>{const v=l.searchRef.current!=="";e.disabled||v&&x.key===" "||BG[r.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});_2.displayName=Lu;var k2="MenuSubContent",R2=h.forwardRef((e,t)=>{const n=f2(Ss,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=tl(Ss,e.__scopeMenu),c=Id(Ss,e.__scopeMenu),d=N2(k2,e.__scopeMenu),f=h.useRef(null),p=Ft(t,f);return i.jsx(ud.Provider,{scope:e.__scopeMenu,children:i.jsx(go,{present:r||l.open,children:i.jsx(ud.Slot,{scope:e.__scopeMenu,children:i.jsx(Yy,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{c.isUsingKeyboardRef.current&&f.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:We(e.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:We(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:We(e.onKeyDown,g=>{const x=g.currentTarget.contains(g.target),v=VG[c.dir].includes(g.key);x&&v&&(l.onOpenChange(!1),d.trigger?.focus(),g.preventDefault())})})})})})});R2.displayName=k2;function M2(e){return e?"open":"closed"}function gh(e){return e==="indeterminate"}function Qy(e){return gh(e)?"indeterminate":e?"checked":"unchecked"}function cY(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function uY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function dY(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=uY(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function fY(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],p=d.x,g=d.y,x=f.x,v=f.y;g>r!=v>r&&n<(x-p)*(r-g)/(v-g)+p&&(o=!o)}return o}function mY(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return fY(n,t)}function dd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hY=d2,pY=qy,gY=m2,xY=h2,bY=Ky,vY=p2,yY=cp,wY=x2,SY=v2,CY=w2,jY=C2,EY=j2,NY=E2,_Y=_2,kY=R2,up="DropdownMenu",[RY]=Xa(up,[c2]),Er=c2(),[MY,D2]=RY(up),A2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=Er(t),p=h.useRef(null),[g,x]=dc({prop:o,defaultProp:l??!1,onChange:c,caller:up});return i.jsx(MY,{scope:t,triggerId:pr(),triggerRef:p,contentId:pr(),open:g,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(v=>!v),[x]),modal:d,children:i.jsx(hY,{...f,open:g,onOpenChange:x,dir:r,modal:d,children:n})})};A2.displayName=up;var O2="DropdownMenuTrigger",T2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,l=D2(O2,n),c=Er(n);return i.jsx(pY,{asChild:!0,...c,children:i.jsx(lt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Cr(t,l.triggerRef),onPointerDown:We(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:We(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});T2.displayName=O2;var DY="DropdownMenuPortal",z2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Er(t);return i.jsx(gY,{...r,...n})};z2.displayName=DY;var P2="DropdownMenuContent",I2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=D2(P2,n),l=Er(n),c=h.useRef(!1);return i.jsx(xY,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...r,ref:t,onCloseAutoFocus:We(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:We(e.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;(!o.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I2.displayName=P2;var AY="DropdownMenuGroup",OY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(bY,{...o,...r,ref:t})});OY.displayName=AY;var TY="DropdownMenuLabel",zY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(vY,{...o,...r,ref:t})});zY.displayName=TY;var PY="DropdownMenuItem",L2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(yY,{...o,...r,ref:t})});L2.displayName=PY;var IY="DropdownMenuCheckboxItem",$2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(wY,{...o,...r,ref:t})});$2.displayName=IY;var LY="DropdownMenuRadioGroup",$Y=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(SY,{...o,...r,ref:t})});$Y.displayName=LY;var FY="DropdownMenuRadioItem",UY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(CY,{...o,...r,ref:t})});UY.displayName=FY;var BY="DropdownMenuItemIndicator",F2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(jY,{...o,...r,ref:t})});F2.displayName=BY;var VY="DropdownMenuSeparator",HY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(EY,{...o,...r,ref:t})});HY.displayName=VY;var qY="DropdownMenuArrow",WY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(NY,{...o,...r,ref:t})});WY.displayName=qY;var GY="DropdownMenuSubTrigger",YY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(_Y,{...o,...r,ref:t})});YY.displayName=GY;var KY="DropdownMenuSubContent",ZY=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Er(n);return i.jsx(kY,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZY.displayName=KY;var QY=A2,XY=T2,JY=z2,eK=I2,tK=L2,nK=$2,rK=F2;function sK({...e}){return i.jsx(QY,{"data-slot":"dropdown-menu",...e})}function oK({...e}){return i.jsx(XY,{"data-slot":"dropdown-menu-trigger",...e})}function aK({className:e,sideOffset:t=4,...n}){return i.jsx(JY,{children:i.jsx(eK,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",e),...n})})}function iK({className:e,inset:t,variant:n="default",...r}){return i.jsx(tK,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:ze("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}function mb({className:e,children:t,checked:n,...r}){return i.jsxs(nK,{"data-slot":"dropdown-menu-checkbox-item",className:ze("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),checked:n,...r,children:[i.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:i.jsx(rK,{children:i.jsx(_d,{className:"size-4"})})}),t]})}function Zn({column:e,label:t,className:n,...r}){return!e.getCanSort()&&!e.getCanHide()?i.jsx("div",{className:ze(n),children:t}):i.jsxs(sK,{children:[i.jsxs(oK,{className:ze("-ml-1.5 flex h-8 items-center gap-1.5 rounded-md px-2 py-1.5 hover:bg-accent focus:outline-none focus:ring-1 focus:ring-ring data-[state=open]:bg-accent [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-muted-foreground",n),...r,children:[t,e.getCanSort()&&(e.getIsSorted()==="desc"?i.jsx(rd,{}):e.getIsSorted()==="asc"?i.jsx(tv,{}):i.jsx(Uh,{}))]}),i.jsxs(aK,{align:"start",className:"w-28",children:[e.getCanSort()&&i.jsxs(i.Fragment,{children:[i.jsxs(mb,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:e.getIsSorted()==="asc",onClick:()=>e.toggleSorting(!1),children:[i.jsx(tv,{}),"Asc"]}),i.jsxs(mb,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:e.getIsSorted()==="desc",onClick:()=>e.toggleSorting(!0),children:[i.jsx(rd,{}),"Desc"]}),e.getIsSorted()&&i.jsxs(iK,{className:"pl-2 [&_svg]:text-muted-foreground",onClick:()=>e.clearSorting(),children:[i.jsx(CH,{}),"Reset"]})]}),e.getCanHide()&&i.jsxs(mb,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:!e.getIsVisible(),onClick:()=>e.toggleVisibility(!1),children:[i.jsx(mH,{}),"Hide"]})]})]})}function mr({className:e,type:t,...n}){return i.jsx("input",{type:t,"data-slot":"input",className:ze("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:font-medium file:text-foreground file:text-sm placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30","focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40",e),...n})}function lK({filter:e,column:t,inputId:n,onFilterUpdate:r,className:o,...l}){const c=t.columnDef.meta,[d,f]=h.useMemo(()=>{const v=t.columnDef.meta?.range;if(v)return v;const y=t.getFacetedMinMaxValues();return y?[y[0],y[1]]:[0,100]},[t]),p=h.useCallback(v=>{if(v===void 0||v==="")return"";const y=Number(v);return Number.isNaN(y)?"":y.toLocaleString(void 0,{maximumFractionDigits:0})},[]),g=h.useMemo(()=>Array.isArray(e.value)?e.value.map(p):[p(e.value),""],[e.value,p]),x=h.useCallback((v,y)=>{const S=Number(v),C=Array.isArray(e.value)?e.value:["",""],j=y?C[1]??"":C[0]??"";(v===""||!Number.isNaN(S)&&(y?S>=d&&S<=(Number(j)||f):S<=f&&S>=(Number(j)||d)))&&r(e.filterId,{value:y?[v,j]:[j,v]})},[e.filterId,e.value,d,f,r]);return i.jsxs("div",{"data-slot":"range",className:ze("flex w-full items-center gap-2",o),...l,children:[i.jsx(mr,{id:`${n}-min`,type:"number","aria-label":`${c?.label} minimum value`,"aria-valuemin":d,"aria-valuemax":f,"data-slot":"range-min",inputMode:"numeric",placeholder:d.toString(),min:d,max:f,className:"h-8 w-full rounded",defaultValue:g[0],onChange:v=>x(v.target.value,!0)}),i.jsx("span",{className:"sr-only shrink-0 text-muted-foreground",children:"to"}),i.jsx(mr,{id:`${n}-max`,type:"number","aria-label":`${c?.label} maximum value`,"aria-valuemin":d,"aria-valuemax":f,"data-slot":"range-max",inputMode:"numeric",placeholder:f.toString(),min:d,max:f,className:"h-8 w-full rounded",defaultValue:g[1],onChange:v=>x(v.target.value)})]})}const cK=Uk("inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden whitespace-nowrap rounded-md border px-2 py-0.5 font-medium text-xs transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&>svg]:pointer-events-none [&>svg]:size-3",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white focus-visible:ring-destructive/20 dark:bg-destructive/70 dark:focus-visible:ring-destructive/40 [a&]:hover:bg-destructive/90",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Za({className:e,variant:t,asChild:n=!1,...r}){const o=n?Nd:"span";return i.jsx(o,{"data-slot":"badge",className:ze(cK({variant:t}),e),...r})}function uK(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const dK={},$u={};function Ti(e,t){try{const r=(dK[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in $u?$u[r]:vE(r,r.split(":"))}catch{if(e in $u)return $u[e];const n=e?.match(fK);return n?vE(e,n.slice(1)):NaN}}const fK=/([+-]\d\d):?(\d\d)?/;function vE(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return $u[e]=n*60+r>0?n*60+r+o:n*60-r-o}class lo extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ti(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),U2(this),gv(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new lo(...n,t):new lo(Date.now(),t)}withTimeZone(t){return new lo(+this,t)}getTimezoneOffset(){const t=-Ti(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),gv(this),+this}[Symbol.for("constructDateFrom")](t){return new lo(+new Date(t),this.timeZone)}}const yE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!yE.test(e))return;const t=e.replace(yE,"$1UTC");lo.prototype[t]&&(e.startsWith("get")?lo.prototype[e]=function(){return this.internal[t]()}:(lo.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),mK(this),+this},lo.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),gv(this),+this}))});function gv(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Ti(e.timeZone,e)*60))}function mK(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),U2(e)}function U2(e){const t=Ti(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),c=o-l,d=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&d&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const f=o-n;f&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const p=new Date(+e);p.setUTCSeconds(0);const g=o>0?p.getSeconds():(p.getSeconds()-60)%60,x=Math.round(-(Ti(e.timeZone,e)*60))%60;(x||g)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+x),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+x+g));const v=Ti(e.timeZone,e),y=v>0?Math.floor(v):Math.ceil(v),C=-new Date(+e).getTimezoneOffset()-y,j=y!==n,E=C-f;if(j&&E){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E);const N=Ti(e.timeZone,e),_=N>0?Math.floor(N):Math.ceil(N),R=y-_;R&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+R),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+R))}}class fr extends lo{static tz(t,...n){return n.length?new fr(...n,t):new fr(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${uK(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new fr(+this,t)}[Symbol.for("constructDateFrom")](t){return new fr(+new Date(t),this.timeZone)}}const B2=6048e5,hK=864e5,wE=Symbol.for("constructDateFrom");function In(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&wE in e?e[wE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Gt(e,t){return In(t||e,e)}function V2(e,t,n){const r=Gt(e,n?.in);return isNaN(t)?In(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function H2(e,t,n){const r=Gt(e,n?.in);if(isNaN(t))return In(e,NaN);if(!t)return r;const o=r.getDate(),l=In(e,r.getTime());l.setMonth(r.getMonth()+t+1,0);const c=l.getDate();return o>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),o),r)}let pK={};function Ld(){return pK}function hc(e,t){const n=Ld(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Gt(e,t?.in),l=o.getDay(),c=(l<r?7:0)+l-r;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function fd(e,t){return hc(e,{...t,weekStartsOn:1})}function q2(e,t){const n=Gt(e,t?.in),r=n.getFullYear(),o=In(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const l=fd(o),c=In(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=fd(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function SE(e){const t=Gt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Mc(e,...t){const n=In.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function md(e,t){const n=Gt(e,t?.in);return n.setHours(0,0,0,0),n}function Xy(e,t,n){const[r,o]=Mc(n?.in,e,t),l=md(r),c=md(o),d=+l-SE(l),f=+c-SE(c);return Math.round((d-f)/hK)}function gK(e,t){const n=q2(e,t),r=In(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fd(r)}function xK(e,t,n){return V2(e,t*7,n)}function bK(e,t,n){return H2(e,t*12,n)}function vK(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=In.bind(null,o));const l=Gt(o,r);(!n||n<l||isNaN(+l))&&(n=l)}),In(r,n||NaN)}function yK(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=In.bind(null,o));const l=Gt(o,r);(!n||n>l||isNaN(+l))&&(n=l)}),In(r,n||NaN)}function wK(e,t,n){const[r,o]=Mc(n?.in,e,t);return+md(r)==+md(o)}function W2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function SK(e){return!(!W2(e)&&typeof e!="number"||isNaN(+Gt(e)))}function G2(e,t,n){const[r,o]=Mc(n?.in,e,t),l=r.getFullYear()-o.getFullYear(),c=r.getMonth()-o.getMonth();return l*12+c}function CK(e,t){const n=Gt(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Y2(e,t){const[n,r]=Mc(e,t.start,t.end);return{start:n,end:r}}function jK(e,t){const{start:n,end:r}=Y2(t?.in,e);let o=+n>+r;const l=o?+n:+r,c=o?r:n;c.setHours(0,0,0,0),c.setDate(1);let d=1;const f=[];for(;+c<=l;)f.push(In(n,c)),c.setMonth(c.getMonth()+d);return o?f.reverse():f}function EK(e,t){const n=Gt(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function NK(e,t){const n=Gt(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function K2(e,t){const n=Gt(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _K(e,t){const{start:n,end:r}=Y2(t?.in,e);let o=+n>+r;const l=o?+n:+r,c=o?r:n;c.setHours(0,0,0,0),c.setMonth(0,1);let d=1;const f=[];for(;+c<=l;)f.push(In(n,c)),c.setFullYear(c.getFullYear()+d);return o?f.reverse():f}function Z2(e,t){const n=Ld(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Gt(e,t?.in),l=o.getDay(),c=(l<r?-7:0)+6-(l-r);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function kK(e,t){return Z2(e,{...t,weekStartsOn:1})}const RK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MK=(e,t,n)=>{let r;const o=RK[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const DK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TK={date:hb({formats:DK,defaultWidth:"full"}),time:hb({formats:AK,defaultWidth:"full"}),dateTime:hb({formats:OK,defaultWidth:"full"})},zK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PK=(e,t,n,r)=>zK[e];function Au(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const IK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$K={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VK=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HK={ordinalNumber:VK,era:Au({values:IK,defaultWidth:"wide"}),quarter:Au({values:LK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Au({values:$K,defaultWidth:"wide"}),day:Au({values:FK,defaultWidth:"wide"}),dayPeriod:Au({values:UK,defaultWidth:"wide",formattingValues:BK,defaultFormattingWidth:"wide"})};function Ou(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?WK(d,x=>x.test(c)):qK(d,x=>x.test(c));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=t.slice(c.length);return{value:p,rest:g}}}function qK(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function WK(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function GK(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const YK=/^(\d+)(th|st|nd|rd)?/i,KK=/\d+/i,ZK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QK={any:[/^b/i,/^(a|c)/i]},XK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JK={any:[/1/i,/2/i,/3/i,/4/i]},eZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aZ={ordinalNumber:GK({matchPattern:YK,parsePattern:KK,valueCallback:e=>parseInt(e,10)}),era:Ou({matchPatterns:ZK,defaultMatchWidth:"wide",parsePatterns:QK,defaultParseWidth:"any"}),quarter:Ou({matchPatterns:XK,defaultMatchWidth:"wide",parsePatterns:JK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ou({matchPatterns:eZ,defaultMatchWidth:"wide",parsePatterns:tZ,defaultParseWidth:"any"}),day:Ou({matchPatterns:nZ,defaultMatchWidth:"wide",parsePatterns:rZ,defaultParseWidth:"any"}),dayPeriod:Ou({matchPatterns:sZ,defaultMatchWidth:"any",parsePatterns:oZ,defaultParseWidth:"any"})},ec={code:"en-US",formatDistance:MK,formatLong:TK,formatRelative:PK,localize:HK,match:aZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iZ(e,t){const n=Gt(e,t?.in);return Xy(n,K2(n))+1}function Jy(e,t){const n=Gt(e,t?.in),r=+fd(n)-+gK(n);return Math.round(r/B2)+1}function Q2(e,t){const n=Gt(e,t?.in),r=n.getFullYear(),o=Ld(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=In(t?.in||e,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const d=hc(c,t),f=In(t?.in||e,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const p=hc(f,t);return+n>=+d?r+1:+n>=+p?r:r-1}function lZ(e,t){const n=Ld(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Q2(e,t),l=In(t?.in||e,0);return l.setFullYear(o,0,r),l.setHours(0,0,0,0),hc(l,t)}function ew(e,t){const n=Gt(e,t?.in),r=+hc(n,t)-+lZ(n,t);return Math.round(r/B2)+1}function $t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Pa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return $t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return $t(o,t.length)}},Yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CE={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Pa.y(e,t)},Y:function(e,t,n,r){const o=Q2(e,r),l=o>0?o:1-o;if(t==="YY"){const c=l%100;return $t(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):$t(l,t.length)},R:function(e,t){const n=q2(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Pa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=ew(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):$t(o,t.length)},I:function(e,t,n){const r=Jy(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Pa.d(e,t)},D:function(e,t,n){const r=iZ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return $t(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return $t(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return $t(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Yl.noon:r===0?o=Yl.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Yl.evening:r>=12?o=Yl.afternoon:r>=4?o=Yl.morning:o=Yl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Pa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Pa.s(e,t)},S:function(e,t){return Pa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return EE(r);case"XXXX":case"XX":return Ri(r);case"XXXXX":case"XXX":default:return Ri(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return EE(r);case"xxxx":case"xx":return Ri(r);case"xxxxx":case"xxx":default:return Ri(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jE(r,":");case"OOOO":default:return"GMT"+Ri(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jE(r,":");case"zzzz":default:return"GMT"+Ri(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return $t(r,t.length)},T:function(e,t,n){return $t(+e,t.length)}};function jE(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),l=r%60;return l===0?n+String(o):n+String(o)+t+$t(l,2)}function EE(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):Ri(e,t)}function Ri(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=$t(Math.trunc(r/60),2),l=$t(r%60,2);return n+o+t+l}const NE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},X2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cZ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return NE(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",NE(r,t)).replace("{{time}}",X2(o,t))},uZ={p:X2,P:cZ},dZ=/^D+$/,fZ=/^Y+$/,mZ=["D","DD","YY","YYYY"];function hZ(e){return dZ.test(e)}function pZ(e){return fZ.test(e)}function gZ(e,t,n){const r=xZ(e,t,n);if(console.warn(r),mZ.includes(e))throw new RangeError(r)}function xZ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yZ=/^'([^]*?)'?$/,wZ=/''/g,SZ=/[a-zA-Z]/;function Fu(e,t,n){const r=Ld(),o=n?.locale??r.locale??ec,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=Gt(e,n?.in);if(!SK(d))throw new RangeError("Invalid time value");let f=t.match(vZ).map(g=>{const x=g[0];if(x==="p"||x==="P"){const v=uZ[x];return v(g,o.formatLong)}return g}).join("").match(bZ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:CZ(g)};if(CE[x])return{isToken:!0,value:g};if(x.match(SZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(f=o.localize.preprocessor(d,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return f.map(g=>{if(!g.isToken)return g.value;const x=g.value;(!n?.useAdditionalWeekYearTokens&&pZ(x)||!n?.useAdditionalDayOfYearTokens&&hZ(x))&&gZ(x,t,String(e));const v=CE[x[0]];return v(d,x,o.localize,p)}).join("")}function CZ(e){const t=e.match(yZ);return t?t[1].replace(wZ,"'"):e}function jZ(e,t){const n=Gt(e,t?.in),r=n.getFullYear(),o=n.getMonth(),l=In(n,0);return l.setFullYear(r,o+1,0),l.setHours(0,0,0,0),l.getDate()}function EZ(e,t){return Gt(e,t?.in).getMonth()}function NZ(e,t){return Gt(e,t?.in).getFullYear()}function _Z(e,t){return+Gt(e)>+Gt(t)}function kZ(e,t){return+Gt(e)<+Gt(t)}function RZ(e,t,n){const[r,o]=Mc(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function MZ(e,t,n){const[r,o]=Mc(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function DZ(e,t,n){const r=Gt(e,n?.in),o=r.getFullYear(),l=r.getDate(),c=In(e,0);c.setFullYear(o,t,15),c.setHours(0,0,0,0);const d=jZ(c);return r.setMonth(t,Math.min(l,d)),r}function AZ(e,t,n){const r=Gt(e,n?.in);return isNaN(+r)?In(e,NaN):(r.setFullYear(t),r)}const _E=5,OZ=4;function TZ(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),l=t.addDays(o,_E*7-1);return t.getMonth(e)===t.getMonth(l)?_E:OZ}function J2(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function zZ(e,t){const n=J2(e,t),r=TZ(e,t);return t.addDays(n,r*7-1)}const eD={...ec,labels:{labelDayButton:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(c,d)=>Fu(c,d,{locale:ec,...n});let l=o(e,"PPPP");return t.today&&(l=`Today, ${l}`),t.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,l)=>Fu(o,l,{locale:ec,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(c,d)=>Fu(c,d,{locale:ec,...n});let l=o(e,"PPPP");return t?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,l)=>Fu(o,l,{locale:ec,...t}),r(e,"cccc")}}};class ts{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?fr.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,l)=>this.overrides?.newDate?this.overrides.newDate(r,o,l):this.options.timeZone?new fr(r,o,l,this.options.timeZone):new Date(r,o,l),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):V2(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):H2(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):xK(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):bK(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):Xy(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):G2(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):jK(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):_K(r),l=new Set(o.map(d=>this.getYear(d)));if(l.size===o.length)return o;const c=[];return l.forEach(d=>{c.push(new Date(d,0,1))}),c},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):zZ(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):kK(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):CK(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):Z2(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):NK(r),this.format=(r,o,l)=>{const c=this.overrides?.format?this.overrides.format(r,o,this.options):Fu(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Jy(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):EZ(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):NZ(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):ew(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):_Z(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):kZ(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):W2(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):wK(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):RZ(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):MZ(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):vK(r),this.min=r=>this.overrides?.min?this.overrides.min(r):yK(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):DZ(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):AZ(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):J2(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):md(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):fd(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):EK(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):hc(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):K2(r),this.options={locale:eD,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ts.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,l=n?.code;if(l&&ts.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}ts.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const xo=new ts;class tD{constructor(t,n,r=xo){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class PZ{constructor(t,n){this.date=t,this.weeks=n}}class IZ{constructor(t,n){this.days=n,this.weekNumber=t}}function LZ(e){return Ee.createElement("button",{...e})}function $Z(e){return Ee.createElement("span",{...e})}function FZ(e){const{size:t=24,orientation:n="left",className:r}=e;return Ee.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Ee.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Ee.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Ee.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Ee.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function UZ(e){const{day:t,modifiers:n,...r}=e;return Ee.createElement("td",{...r})}function BZ(e){const{day:t,modifiers:n,...r}=e,o=Ee.useRef(null);return Ee.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),Ee.createElement("button",{ref:o,...r})}var Ke;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ke||(Ke={}));var un;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(un||(un={}));var Ls;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Ls||(Ls={}));var Gr;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Gr||(Gr={}));function VZ(e){const{options:t,className:n,components:r,classNames:o,...l}=e,c=[o[Ke.Dropdown],n].join(" "),d=t?.find(({value:f})=>f===l.value);return Ee.createElement("span",{"data-disabled":l.disabled,className:o[Ke.DropdownRoot]},Ee.createElement(r.Select,{className:c,...l},t?.map(({value:f,label:p,disabled:g})=>Ee.createElement(r.Option,{key:f,value:f,disabled:g},p))),Ee.createElement("span",{className:o[Ke.CaptionLabel],"aria-hidden":!0},d?.label,Ee.createElement(r.Chevron,{orientation:"down",size:18,className:o[Ke.Chevron]})))}function HZ(e){return Ee.createElement("div",{...e})}function qZ(e){return Ee.createElement("div",{...e})}function WZ(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ee.createElement("div",{...r},e.children)}function GZ(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ee.createElement("div",{...r})}function YZ(e){return Ee.createElement("table",{...e})}function KZ(e){return Ee.createElement("div",{...e})}const nD=h.createContext(void 0);function $d(){const e=h.useContext(nD);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function ZZ(e){const{components:t}=$d();return Ee.createElement(t.Dropdown,{...e})}function QZ(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...l}=e,{components:c,classNames:d,labels:{labelPrevious:f,labelNext:p}}=$d(),g=h.useCallback(v=>{o&&n?.(v)},[o,n]),x=h.useCallback(v=>{r&&t?.(v)},[r,t]);return Ee.createElement("nav",{...l},Ee.createElement(c.PreviousMonthButton,{type:"button",className:d[Ke.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:x},Ee.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Ke.Chevron],orientation:"left"})),Ee.createElement(c.NextMonthButton,{type:"button",className:d[Ke.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:g},Ee.createElement(c.Chevron,{disabled:o?void 0:!0,orientation:"right",className:d[Ke.Chevron]})))}function XZ(e){const{components:t}=$d();return Ee.createElement(t.Button,{...e})}function JZ(e){return Ee.createElement("option",{...e})}function eQ(e){const{components:t}=$d();return Ee.createElement(t.Button,{...e})}function tQ(e){const{rootRef:t,...n}=e;return Ee.createElement("div",{...n,ref:t})}function nQ(e){return Ee.createElement("select",{...e})}function rQ(e){const{week:t,...n}=e;return Ee.createElement("tr",{...n})}function sQ(e){return Ee.createElement("th",{...e})}function oQ(e){return Ee.createElement("thead",{"aria-hidden":!0},Ee.createElement("tr",{...e}))}function aQ(e){const{week:t,...n}=e;return Ee.createElement("th",{...n})}function iQ(e){return Ee.createElement("th",{...e})}function lQ(e){return Ee.createElement("tbody",{...e})}function cQ(e){const{components:t}=$d();return Ee.createElement(t.Dropdown,{...e})}const uQ=Object.freeze(Object.defineProperty({__proto__:null,Button:LZ,CaptionLabel:$Z,Chevron:FZ,Day:UZ,DayButton:BZ,Dropdown:VZ,DropdownNav:HZ,Footer:qZ,Month:WZ,MonthCaption:GZ,MonthGrid:YZ,Months:KZ,MonthsDropdown:ZZ,Nav:QZ,NextMonthButton:XZ,Option:JZ,PreviousMonthButton:eQ,Root:tQ,Select:nQ,Week:rQ,WeekNumber:aQ,WeekNumberHeader:iQ,Weekday:sQ,Weekdays:oQ,Weeks:lQ,YearsDropdown:cQ},Symbol.toStringTag,{value:"Module"}));function Ho(e,t,n=!1,r=xo){let{from:o,to:l}=e;const{differenceInCalendarDays:c,isSameDay:d}=r;return o&&l?(c(l,o)<0&&([o,l]=[l,o]),c(t,o)>=(n?1:0)&&c(l,t)>=(n?1:0)):!n&&l?d(l,t):!n&&o?d(o,t):!1}function tw(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function dp(e){return!!(e&&typeof e=="object"&&"from"in e)}function nw(e){return!!(e&&typeof e=="object"&&"after"in e)}function rw(e){return!!(e&&typeof e=="object"&&"before"in e)}function rD(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function sD(e,t){return Array.isArray(e)&&e.every(t.isDate)}function qo(e,t,n=xo){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:l,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return o(e,d);if(sD(d,n))return d.some(f=>o(e,f));if(dp(d))return Ho(d,e,!1,n);if(rD(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(e.getDay()):d.dayOfWeek===e.getDay();if(tw(d)){const f=l(d.before,e),p=l(d.after,e),g=f>0,x=p<0;return c(d.before,d.after)?x&&g:g||x}return nw(d)?l(e,d.after)>0:rw(d)?l(d.before,e)>0:typeof d=="function"?d(e):!1})}function dQ(e,t,n,r,o){const{disabled:l,hidden:c,modifiers:d,showOutsideDays:f,broadcastCalendar:p,today:g=o.today()}=t,{isSameDay:x,isSameMonth:v,startOfMonth:y,isBefore:S,endOfMonth:C,isAfter:j}=o,E=n&&y(n),N=r&&C(r),_={[un.focused]:[],[un.outside]:[],[un.disabled]:[],[un.hidden]:[],[un.today]:[]},R={};for(const D of e){const{date:A,displayMonth:M}=D,O=!!(M&&!v(A,M)),L=!!(E&&S(A,E)),T=!!(N&&j(A,N)),G=!!(l&&qo(A,l,o)),P=!!(c&&qo(A,c,o))||L||T||!p&&!f&&O||p&&f===!1&&O,$=x(A,g);O&&_.outside.push(D),G&&_.disabled.push(D),P&&_.hidden.push(D),$&&_.today.push(D),d&&Object.keys(d).forEach(W=>{const ce=d?.[W];ce&&qo(A,ce,o)&&(R[W]?R[W].push(D):R[W]=[D])})}return D=>{const A={[un.focused]:!1,[un.disabled]:!1,[un.hidden]:!1,[un.outside]:!1,[un.today]:!1},M={};for(const O in _){const L=_[O];A[O]=L.some(T=>T===D)}for(const O in R)M[O]=R[O].some(L=>L===D);return{...A,...M}}}function fQ(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):t[un[l]]?o.push(t[un[l]]):t[Ls[l]]&&o.push(t[Ls[l]]),o),[t[Ke.Day]])}function mQ(e){return{...uQ,...e}}function hQ(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function sw(){const e={};for(const t in Ke)e[Ke[t]]=`rdp-${Ke[t]}`;for(const t in un)e[un[t]]=`rdp-${un[t]}`;for(const t in Ls)e[Ls[t]]=`rdp-${Ls[t]}`;for(const t in Gr)e[Gr[t]]=`rdp-${Gr[t]}`;return e}function oD(e,t,n){return(n??new ts(t)).formatMonthYear(e)}const pQ=oD;function gQ(e,t,n){return(n??new ts(t)).format(e,"d")}function xQ(e,t=xo){return t.format(e,"LLLL")}function bQ(e,t,n){return(n??new ts(t)).format(e,"cccccc")}function vQ(e,t=xo){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function yQ(){return""}function aD(e,t=xo){return t.format(e,"yyyy")}const wQ=aD,SQ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:oD,formatDay:gQ,formatMonthCaption:pQ,formatMonthDropdown:xQ,formatWeekNumber:vQ,formatWeekNumberHeader:yQ,formatWeekdayName:bQ,formatYearCaption:wQ,formatYearDropdown:aD},Symbol.toStringTag,{value:"Module"}));function CQ(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...SQ,...e}}function ow(e,t,n,r){let o=(r??new ts(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const jQ=ow;function aw(e,t,n){return(n??new ts(t)).formatMonthYear(e)}const EQ=aw;function iD(e,t,n,r){let o=(r??new ts(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function lD(e){return"Choose the Month"}function cD(){return""}const NQ="Go to the Next Month";function uD(e,t){return NQ}function dD(e){return"Go to the Previous Month"}function fD(e,t,n){return(n??new ts(t)).format(e,"cccc")}function mD(e,t){return`Week ${e}`}function hD(e){return"Week Number"}function pD(e){return"Choose the Year"}const _Q=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:EQ,labelDay:jQ,labelDayButton:ow,labelGrid:aw,labelGridcell:iD,labelMonthDropdown:lD,labelNav:cD,labelNext:uD,labelPrevious:dD,labelWeekNumber:mD,labelWeekNumberHeader:hD,labelWeekday:fD,labelYearDropdown:pD},Symbol.toStringTag,{value:"Module"})),Ts=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function kQ(e,t){const n=t.locale?.labels??{};return{..._Q,...e??{},labelDayButton:Ts(ow,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:Ts(lD,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:Ts(uD,e?.labelNext,n.labelNext),labelPrevious:Ts(dD,e?.labelPrevious,n.labelPrevious),labelWeekNumber:Ts(mD,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:Ts(pD,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:Ts(aw,e?.labelGrid,n.labelGrid),labelGridcell:Ts(iD,e?.labelGridcell,n.labelGridcell),labelNav:Ts(cD,e?.labelNav,n.labelNav),labelWeekNumberHeader:Ts(hD,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:Ts(fD,e?.labelWeekday,n.labelWeekday)}}function RQ(e,t,n,r,o){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:f,getMonth:p}=o;return f({start:c(e),end:d(e)}).map(v=>{const y=r.formatMonthDropdown(v,o),S=p(v),C=t&&v<l(t)||n&&v>l(n)||!1;return{value:S,label:y,disabled:C}})}function MQ(e,t={},n={}){let r={...t?.[Ke.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function DQ(e,t,n,r){const o=r??e.today(),l=n?e.startOfBroadcastWeek(o,e):t?e.startOfISOWeek(o):e.startOfWeek(o),c=[];for(let d=0;d<7;d++){const f=e.addDays(l,d);c.push(f)}return c}function AQ(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:d,getYear:f}=r,p=l(e),g=c(t),x=d({start:p,end:g});return o&&x.reverse(),x.map(v=>{const y=n.formatYearDropdown(v,r);return{value:f(v),label:y,disabled:!1}})}function OQ(e,t={}){const{weekStartsOn:n,locale:r}=t,o=n??r?.options?.weekStartsOn??0,l=d=>{const f=typeof d=="number"||typeof d=="string"?new Date(d):d;return new fr(f.getFullYear(),f.getMonth(),f.getDate(),12,0,0,e)},c=d=>{const f=l(d);return new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0)};return{today:()=>l(fr.tz(e)),newDate:(d,f,p)=>new fr(d,f,p,12,0,0,e),startOfDay:d=>l(d),startOfWeek:(d,f)=>{const p=l(d),g=f?.weekStartsOn??o,x=(p.getDay()-g+7)%7;return p.setDate(p.getDate()-x),p},startOfISOWeek:d=>{const f=l(d),p=(f.getDay()-1+7)%7;return f.setDate(f.getDate()-p),f},startOfMonth:d=>{const f=l(d);return f.setDate(1),f},startOfYear:d=>{const f=l(d);return f.setMonth(0,1),f},endOfWeek:(d,f)=>{const p=l(d),v=(((f?.weekStartsOn??o)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+v),p},endOfISOWeek:d=>{const f=l(d),p=(7-f.getDay())%7;return f.setDate(f.getDate()+p),f},endOfMonth:d=>{const f=l(d);return f.setMonth(f.getMonth()+1,0),f},endOfYear:d=>{const f=l(d);return f.setMonth(11,31),f},eachMonthOfInterval:d=>{const f=l(d.start),p=l(d.end),g=[],x=new fr(f.getFullYear(),f.getMonth(),1,12,0,0,e),v=p.getFullYear()*12+p.getMonth();for(;x.getFullYear()*12+x.getMonth()<=v;)g.push(new fr(x,e)),x.setMonth(x.getMonth()+1,1);return g},addDays:(d,f)=>{const p=l(d);return p.setDate(p.getDate()+f),p},addWeeks:(d,f)=>{const p=l(d);return p.setDate(p.getDate()+f*7),p},addMonths:(d,f)=>{const p=l(d);return p.setMonth(p.getMonth()+f),p},addYears:(d,f)=>{const p=l(d);return p.setFullYear(p.getFullYear()+f),p},eachYearOfInterval:d=>{const f=l(d.start),p=l(d.end),g=[],x=new fr(f.getFullYear(),0,1,12,0,0,e);for(;x.getFullYear()<=p.getFullYear();)g.push(new fr(x,e)),x.setFullYear(x.getFullYear()+1,0,1);return g},getWeek:(d,f)=>{const p=c(d);return ew(p,{weekStartsOn:f?.weekStartsOn??o,firstWeekContainsDate:f?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:d=>{const f=c(d);return Jy(f)},differenceInCalendarDays:(d,f)=>{const p=c(d),g=c(f);return Xy(p,g)},differenceInCalendarMonths:(d,f)=>{const p=c(d),g=c(f);return G2(p,g)}}}const Fd=e=>e instanceof HTMLElement?e:null,pb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],TQ=e=>Fd(e.querySelector("[data-animated-month]")),gb=e=>Fd(e.querySelector("[data-animated-caption]")),xb=e=>Fd(e.querySelector("[data-animated-weeks]")),zQ=e=>Fd(e.querySelector("[data-animated-nav]")),PQ=e=>Fd(e.querySelector("[data-animated-weekdays]"));function IQ(e,t,{classNames:n,months:r,focused:o,dateLib:l}){const c=h.useRef(null),d=h.useRef(r),f=h.useRef(!1);h.useLayoutEffect(()=>{const p=d.current;if(d.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const g=l.isSameMonth(r[0].date,p[0].date),x=l.isAfter(r[0].date,p[0].date),v=x?n[Gr.caption_after_enter]:n[Gr.caption_before_enter],y=x?n[Gr.weeks_after_enter]:n[Gr.weeks_before_enter],S=c.current,C=e.current.cloneNode(!0);if(C instanceof HTMLElement?(pb(C).forEach(_=>{if(!(_ instanceof HTMLElement))return;const R=TQ(_);R&&_.contains(R)&&_.removeChild(R);const D=gb(_);D&&D.classList.remove(v);const A=xb(_);A&&A.classList.remove(y)}),c.current=C):c.current=null,f.current||g||o)return;const j=S instanceof HTMLElement?pb(S):[],E=pb(e.current);if(E?.every(N=>N instanceof HTMLElement)&&j&&j.every(N=>N instanceof HTMLElement)){f.current=!0,e.current.style.isolation="isolate";const N=zQ(e.current);N&&(N.style.zIndex="1"),E.forEach((_,R)=>{const D=j[R];if(!D)return;_.style.position="relative",_.style.overflow="hidden";const A=gb(_);A&&A.classList.add(v);const M=xb(_);M&&M.classList.add(y);const O=()=>{f.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),A&&A.classList.remove(v),M&&M.classList.remove(y),_.style.position="",_.style.overflow="",_.contains(D)&&_.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const L=PQ(D);L&&(L.style.opacity="0");const T=gb(D);T&&(T.classList.add(x?n[Gr.caption_before_exit]:n[Gr.caption_after_exit]),T.addEventListener("animationend",O));const G=xb(D);G&&G.classList.add(x?n[Gr.weeks_before_exit]:n[Gr.weeks_after_exit]),_.insertBefore(D,_.firstChild)})}})}function LQ(e,t,n,r){const o=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:f}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:x,endOfBroadcastWeek:v,endOfISOWeek:y,endOfMonth:S,endOfWeek:C,isAfter:j,startOfBroadcastWeek:E,startOfISOWeek:N,startOfWeek:_}=r,R=f?E(o,r):c?N(o):_(o),D=f?v(l):c?y(S(l)):C(S(l)),A=t&&(f?v(t):c?y(t):C(t)),M=A&&j(D,A)?A:D,O=g(M,R),L=x(l,o)+1,T=[];for(let $=0;$<=O;$++){const W=p(R,$);T.push(W)}const P=(f?35:42)*L;if(d&&T.length<P){const $=P-T.length;for(let W=0;W<$;W++){const ce=p(T[T.length-1],1);T.push(ce)}}return T}function $Q(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((l,c)=>l.concat(c.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function FQ(e,t,n,r){const{numberOfMonths:o=1}=n,l=[];for(let c=0;c<o;c++){const d=r.addMonths(e,c);if(t&&d>t)break;l.push(d)}return l}function kE(e,t,n,r){const{month:o,defaultMonth:l,today:c=r.today(),numberOfMonths:d=1}=e;let f=o||l||c;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:x}=r;if(n&&p(n,f)<d-1){const v=-1*(d-1);f=g(n,v)}return t&&p(f,t)<0&&(f=t),x(f)}function UQ(e,t,n,r){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:f,getISOWeek:p,getWeek:g,startOfBroadcastWeek:x,startOfISOWeek:v,startOfWeek:y}=r,S=e.reduce((C,j)=>{const E=n.broadcastCalendar?x(j,r):n.ISOWeek?v(j):y(j),N=n.broadcastCalendar?l(j):n.ISOWeek?c(d(j)):f(d(j)),_=t.filter(M=>M>=E&&M<=N),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&_.length<R){const M=t.filter(O=>{const L=R-_.length;return O>N&&O<=o(N,L)});_.push(...M)}const D=_.reduce((M,O)=>{const L=n.ISOWeek?p(O):g(O),T=M.find(P=>P.weekNumber===L),G=new tD(O,j,r);return T?T.days.push(G):M.push(new IZ(L,[G])),M},[]),A=new PZ(j,D);return C.push(A),C},[]);return n.reverseMonths?S.reverse():S}function BQ(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:f,endOfYear:p,newDate:g,today:x}=t,{fromYear:v,toYear:y,fromMonth:S,toMonth:C}=e;!n&&S&&(n=S),!n&&v&&(n=t.newDate(v,0,1)),!r&&C&&(r=C),!r&&y&&(r=g(y,11,31));const j=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):v?n=g(v,0,1):!n&&j&&(n=o(f(e.today??x(),-100))),r?r=d(r):y?r=g(y,11,31):!r&&j&&(r=p(e.today??x())),[n&&l(n),r&&l(r)]}function VQ(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,p=o?l:1,g=c(e);if(!t)return d(g,p);if(!(f(t,e)<l))return d(g,p)}function HQ(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,p=o?l??1:1,g=c(e);if(!t)return d(g,-p);if(!(f(g,t)<=0))return d(g,-p)}function qQ(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function fp(e,t){const[n,r]=h.useState(e);return[t===void 0?n:t,r]}function WQ(e,t){const[n,r]=BQ(e,t),{startOfMonth:o,endOfMonth:l}=t,c=kE(e,n,r,t),[d,f]=fp(c,e.month?c:void 0);h.useEffect(()=>{const R=kE(e,n,r,t);f(R)},[e.timeZone]);const{months:p,weeks:g,days:x,previousMonth:v,nextMonth:y}=h.useMemo(()=>{const R=FQ(d,r,{numberOfMonths:e.numberOfMonths},t),D=LQ(R,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),A=UQ(R,D,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),M=qQ(A),O=$Q(A),L=HQ(d,n,e,t),T=VQ(d,r,e,t);return{months:A,weeks:M,days:O,previousMonth:L,nextMonth:T}},[t,d.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:S,onMonthChange:C}=e,j=R=>g.some(D=>D.days.some(A=>A.isEqualTo(R))),E=R=>{if(S)return;let D=o(R);n&&D<o(n)&&(D=o(n)),r&&D>o(r)&&(D=o(r)),f(D),C?.(D)};return{months:p,weeks:g,days:x,navStart:n,navEnd:r,previousMonth:v,nextMonth:y,goToMonth:E,goToDay:R=>{j(R)||E(R.date)}}}var ro;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ro||(ro={}));function RE(e){return!e[un.disabled]&&!e[un.hidden]&&!e[un.outside]}function GQ(e,t,n,r){let o,l=-1;for(const c of e){const d=t(c);RE(d)&&(d[un.focused]&&l<ro.FocusedModifier?(o=c,l=ro.FocusedModifier):r?.isEqualTo(c)&&l<ro.LastFocused?(o=c,l=ro.LastFocused):n(c.date)&&l<ro.Selected?(o=c,l=ro.Selected):d[un.today]&&l<ro.Today&&(o=c,l=ro.Today))}return o||(o=e.find(c=>RE(t(c)))),o}function YQ(e,t,n,r,o,l,c){const{ISOWeek:d,broadcastCalendar:f}=l,{addDays:p,addMonths:g,addWeeks:x,addYears:v,endOfBroadcastWeek:y,endOfISOWeek:S,endOfWeek:C,max:j,min:E,startOfBroadcastWeek:N,startOfISOWeek:_,startOfWeek:R}=c;let A={day:p,week:x,month:g,year:v,startOfWeek:M=>f?N(M,c):d?_(M):R(M),endOfWeek:M=>f?y(M):d?S(M):C(M)}[e](n,t==="after"?1:-1);return t==="before"&&r?A=j([r,A]):t==="after"&&o&&(A=E([o,A])),A}function gD(e,t,n,r,o,l,c,d=0){if(d>365)return;const f=YQ(e,t,n.date,r,o,l,c),p=!!(l.disabled&&qo(f,l.disabled,c)),g=!!(l.hidden&&qo(f,l.hidden,c)),x=f,v=new tD(f,x,c);return!p&&!g?v:gD(e,t,v,r,o,l,c,d+1)}function KQ(e,t,n,r,o){const{autoFocus:l}=e,[c,d]=h.useState(),f=GQ(t.days,n,r||(()=>!1),c),[p,g]=h.useState(l?f:void 0);return{isFocusTarget:C=>!!f?.isEqualTo(C),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(C,j)=>{if(!p)return;const E=gD(C,j,p,t.navStart,t.navEnd,e,o);E&&(e.disableNavigation&&!t.days.some(_=>_.isEqualTo(E))||(t.goToDay(E),g(E)))}}}function ZQ(e,t){const{selected:n,required:r,onSelect:o}=e,[l,c]=fp(n,o?n:void 0),d=o?n:l,{isSameDay:f}=t,p=y=>d?.some(S=>f(S,y))??!1,{min:g,max:x}=e;return{selected:d,select:(y,S,C)=>{let j=[...d??[]];if(p(y)){if(d?.length===g||r&&d?.length===1)return;j=d?.filter(E=>!f(E,y))}else d?.length===x?j=[y]:j=[...j,y];return o||c(j),o?.(j,y,S,C),j},isSelected:p}}function QQ(e,t,n=0,r=0,o=!1,l=xo){const{from:c,to:d}=t||{},{isSameDay:f,isAfter:p,isBefore:g}=l;let x;if(!c&&!d)x={from:e,to:n>0?void 0:e};else if(c&&!d)f(c,e)?n===0?x={from:c,to:e}:o?x={from:c,to:void 0}:x=void 0:g(e,c)?x={from:e,to:c}:x={from:c,to:e};else if(c&&d)if(f(c,e)&&f(d,e))o?x={from:c,to:d}:x=void 0;else if(f(c,e))x={from:c,to:n>0?void 0:e};else if(f(d,e))x={from:e,to:n>0?void 0:e};else if(g(e,c))x={from:e,to:d};else if(p(e,c))x={from:c,to:e};else if(p(e,d))x={from:c,to:e};else throw new Error("Invalid range");if(x?.from&&x?.to){const v=l.differenceInCalendarDays(x.to,x.from);r>0&&v>r?x={from:e,to:void 0}:n>1&&v<n&&(x={from:e,to:void 0})}return x}function XQ(e,t,n=xo){const r=Array.isArray(t)?t:[t];let o=e.from;const l=n.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function ME(e,t,n=xo){return Ho(e,t.from,!1,n)||Ho(e,t.to,!1,n)||Ho(t,e.from,!1,n)||Ho(t,e.to,!1,n)}function JQ(e,t,n=xo){const r=Array.isArray(t)?t:[t];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?Ho(e,d,!1,n):sD(d,n)?d.some(f=>Ho(e,f,!1,n)):dp(d)?d.from&&d.to?ME(e,{from:d.from,to:d.to},n):!1:rD(d)?XQ(e,d.dayOfWeek,n):tw(d)?n.isAfter(d.before,d.after)?ME(e,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):qo(e.from,d,n)||qo(e.to,d,n):nw(d)||rw(d)?qo(e.from,d,n)||qo(e.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=e.from;const f=n.differenceInCalendarDays(e.to,e.from);for(let p=0;p<=f;p++){if(c.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function eX(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:l,onSelect:c}=e,[d,f]=fp(o,c?o:void 0),p=c?o:d;return{selected:p,select:(v,y,S)=>{const{min:C,max:j}=e,E=v?QQ(v,p,C,j,l,t):void 0;return r&&n&&E?.from&&E.to&&JQ({from:E.from,to:E.to},n,t)&&(E.from=v,E.to=void 0),c||f(E),c?.(E,v,y,S),E},isSelected:v=>p&&Ho(p,v,!1,t)}}function tX(e,t){const{selected:n,required:r,onSelect:o}=e,[l,c]=fp(n,o?n:void 0),d=o?n:l,{isSameDay:f}=t;return{selected:d,select:(x,v,y)=>{let S=x;return!r&&d&&d&&f(x,d)&&(S=void 0),o||c(S),o?.(S,x,v,y),S},isSelected:x=>d?f(d,x):!1}}function nX(e,t){const n=tX(e,t),r=ZQ(e,t),o=eX(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function vs(e,t){return e instanceof fr&&e.timeZone===t?e:new fr(e,t)}function Kl(e,t,n){return vs(e,t)}function DE(e,t,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Kl(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?Kl(r,t):r):dp(e)?{...e,from:e.from?vs(e.from,t):e.from,to:e.to?vs(e.to,t):e.to}:tw(e)?{before:Kl(e.before,t),after:Kl(e.after,t)}:nw(e)?{after:Kl(e.after,t)}:rw(e)?{before:Kl(e.before,t)}:e}function bb(e,t,n){return e&&(Array.isArray(e)?e.map(r=>DE(r,t)):DE(e,t))}function rX(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=vs(t.today,n)),t.month&&(t.month=vs(t.month,n)),t.defaultMonth&&(t.defaultMonth=vs(t.defaultMonth,n)),t.startMonth&&(t.startMonth=vs(t.startMonth,n)),t.endMonth&&(t.endMonth=vs(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=vs(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(le=>vs(le,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?vs(t.selected.from,n):t.selected.from,to:t.selected.to?vs(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=bb(t.disabled,n)),t.hidden!==void 0&&(t.hidden=bb(t.hidden,n)),t.modifiers)){const le={};Object.keys(t.modifiers).forEach(Me=>{le[Me]=bb(t.modifiers?.[Me],n)}),t.modifiers=le}const{components:r,formatters:o,labels:l,dateLib:c,locale:d,classNames:f}=h.useMemo(()=>{const le={...eD,...t.locale},Me=t.broadcastCalendar?1:t.weekStartsOn,Oe=t.noonSafe&&t.timeZone?OQ(t.timeZone,{weekStartsOn:Me,locale:le}):void 0,Pe=t.dateLib&&Oe?{...Oe,...t.dateLib}:t.dateLib??Oe,ot=new ts({locale:le,weekStartsOn:Me,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},Pe);return{dateLib:ot,components:mQ(t.components),formatters:CQ(t.formatters),labels:kQ(t.labels,ot.options),locale:le,classNames:{...sw(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:p,mode:g,navLayout:x,numberOfMonths:v=1,onDayBlur:y,onDayClick:S,onDayFocus:C,onDayKeyDown:j,onDayMouseEnter:E,onDayMouseLeave:N,onNextClick:_,onPrevClick:R,showWeekNumber:D,styles:A}=t,{formatCaption:M,formatDay:O,formatMonthDropdown:L,formatWeekNumber:T,formatWeekNumberHeader:G,formatWeekdayName:P,formatYearDropdown:$}=o,W=WQ(t,c),{days:ce,months:z,navStart:q,navEnd:Z,previousMonth:F,nextMonth:ae,goToMonth:B}=W,U=dQ(ce,t,q,Z,c),{isSelected:ne,select:K,selected:H}=nX(t,c)??{},{blur:Y,focused:V,isFocusTarget:te,moveFocus:se,setFocused:oe}=KQ(t,W,U,ne??(()=>!1),c),{labelDayButton:fe,labelGridcell:Se,labelGrid:Ae,labelMonthDropdown:De,labelNav:st,labelPrevious:pt,labelNext:ut,labelWeekday:fn,labelWeekNumber:Mt,labelWeekNumberHeader:Q,labelYearDropdown:X}=l,ue=h.useMemo(()=>DQ(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),Re=g!==void 0||S!==void 0,Ce=h.useCallback(()=>{F&&(B(F),R?.(F))},[F,B,R]),ge=h.useCallback(()=>{ae&&(B(ae),_?.(ae))},[B,ae,_]),ke=h.useCallback((le,Me)=>Oe=>{Oe.preventDefault(),Oe.stopPropagation(),oe(le),!Me.disabled&&(K?.(le.date,Me,Oe),S?.(le.date,Me,Oe))},[K,S,oe]),ve=h.useCallback((le,Me)=>Oe=>{oe(le),C?.(le.date,Me,Oe)},[C,oe]),_e=h.useCallback((le,Me)=>Oe=>{Y(),y?.(le.date,Me,Oe)},[Y,y]),$e=h.useCallback((le,Me)=>Oe=>{const Pe={ArrowLeft:[Oe.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Oe.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Oe.shiftKey?"year":"week","after"],ArrowUp:[Oe.shiftKey?"year":"week","before"],PageUp:[Oe.shiftKey?"year":"month","before"],PageDown:[Oe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Pe[Oe.key]){Oe.preventDefault(),Oe.stopPropagation();const[ot,Ve]=Pe[Oe.key];se(ot,Ve)}j?.(le.date,Me,Oe)},[se,j,t.dir]),bt=h.useCallback((le,Me)=>Oe=>{E?.(le.date,Me,Oe)},[E]),Et=h.useCallback((le,Me)=>Oe=>{N?.(le.date,Me,Oe)},[N]),Jn=h.useCallback(le=>Me=>{const Oe=Number(Me.target.value),Pe=c.setMonth(c.startOfMonth(le),Oe);B(Pe)},[c,B]),nn=h.useCallback(le=>Me=>{const Oe=Number(Me.target.value),Pe=c.setYear(c.startOfMonth(le),Oe);B(Pe)},[c,B]),{className:Ut,style:Bt}=h.useMemo(()=>({className:[f[Ke.Root],t.className].filter(Boolean).join(" "),style:{...A?.[Ke.Root],...t.style}}),[f,t.className,t.style,A]),Vt=hQ(t),lr=h.useRef(null);IQ(lr,!!t.animate,{classNames:f,months:z,focused:V,dateLib:c});const br={dayPickerProps:t,selected:H,select:K,isSelected:ne,months:z,nextMonth:ae,previousMonth:F,goToMonth:B,getModifiers:U,components:r,classNames:f,styles:A,labels:l,formatters:o};return Ee.createElement(nD.Provider,{value:br},Ee.createElement(r.Root,{rootRef:t.animate?lr:void 0,className:Ut,style:Bt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Vt},Ee.createElement(r.Months,{className:f[Ke.Months],style:A?.[Ke.Months]},!t.hideNavigation&&!x&&Ee.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[Ke.Nav],style:A?.[Ke.Nav],"aria-label":st(),onPreviousClick:Ce,onNextClick:ge,previousMonth:F,nextMonth:ae}),z.map((le,Me)=>Ee.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:f[Ke.Month],style:A?.[Ke.Month],key:Me,displayIndex:Me,calendarMonth:le},x==="around"&&!t.hideNavigation&&Me===0&&Ee.createElement(r.PreviousMonthButton,{type:"button",className:f[Ke.PreviousMonthButton],tabIndex:F?void 0:-1,"aria-disabled":F?void 0:!0,"aria-label":pt(F),onClick:Ce,"data-animated-button":t.animate?"true":void 0},Ee.createElement(r.Chevron,{disabled:F?void 0:!0,className:f[Ke.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Ee.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:f[Ke.MonthCaption],style:A?.[Ke.MonthCaption],calendarMonth:le,displayIndex:Me},p?.startsWith("dropdown")?Ee.createElement(r.DropdownNav,{className:f[Ke.Dropdowns],style:A?.[Ke.Dropdowns]},(()=>{const Oe=p==="dropdown"||p==="dropdown-months"?Ee.createElement(r.MonthsDropdown,{key:"month",className:f[Ke.MonthsDropdown],"aria-label":De(),classNames:f,components:r,disabled:!!t.disableNavigation,onChange:Jn(le.date),options:RQ(le.date,q,Z,o,c),style:A?.[Ke.Dropdown],value:c.getMonth(le.date)}):Ee.createElement("span",{key:"month"},L(le.date,c)),Pe=p==="dropdown"||p==="dropdown-years"?Ee.createElement(r.YearsDropdown,{key:"year",className:f[Ke.YearsDropdown],"aria-label":X(c.options),classNames:f,components:r,disabled:!!t.disableNavigation,onChange:nn(le.date),options:AQ(q,Z,o,c,!!t.reverseYears),style:A?.[Ke.Dropdown],value:c.getYear(le.date)}):Ee.createElement("span",{key:"year"},$(le.date,c));return c.getMonthYearOrder()==="year-first"?[Pe,Oe]:[Oe,Pe]})(),Ee.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},M(le.date,c.options,c))):Ee.createElement(r.CaptionLabel,{className:f[Ke.CaptionLabel],role:"status","aria-live":"polite"},M(le.date,c.options,c))),x==="around"&&!t.hideNavigation&&Me===v-1&&Ee.createElement(r.NextMonthButton,{type:"button",className:f[Ke.NextMonthButton],tabIndex:ae?void 0:-1,"aria-disabled":ae?void 0:!0,"aria-label":ut(ae),onClick:ge,"data-animated-button":t.animate?"true":void 0},Ee.createElement(r.Chevron,{disabled:ae?void 0:!0,className:f[Ke.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Me===v-1&&x==="after"&&!t.hideNavigation&&Ee.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[Ke.Nav],style:A?.[Ke.Nav],"aria-label":st(),onPreviousClick:Ce,onNextClick:ge,previousMonth:F,nextMonth:ae}),Ee.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":Ae(le.date,c.options,c)||void 0,className:f[Ke.MonthGrid],style:A?.[Ke.MonthGrid]},!t.hideWeekdays&&Ee.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:f[Ke.Weekdays],style:A?.[Ke.Weekdays]},D&&Ee.createElement(r.WeekNumberHeader,{"aria-label":Q(c.options),className:f[Ke.WeekNumberHeader],style:A?.[Ke.WeekNumberHeader],scope:"col"},G()),ue.map(Oe=>Ee.createElement(r.Weekday,{"aria-label":fn(Oe,c.options,c),className:f[Ke.Weekday],key:String(Oe),style:A?.[Ke.Weekday],scope:"col"},P(Oe,c.options,c)))),Ee.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:f[Ke.Weeks],style:A?.[Ke.Weeks]},le.weeks.map(Oe=>Ee.createElement(r.Week,{className:f[Ke.Week],key:Oe.weekNumber,style:A?.[Ke.Week],week:Oe},D&&Ee.createElement(r.WeekNumber,{week:Oe,style:A?.[Ke.WeekNumber],"aria-label":Mt(Oe.weekNumber,{locale:d}),className:f[Ke.WeekNumber],scope:"row",role:"rowheader"},T(Oe.weekNumber,c)),Oe.days.map(Pe=>{const{date:ot}=Pe,Ve=U(Pe);if(Ve[un.focused]=!Ve.hidden&&!!V?.isEqualTo(Pe),Ve[Ls.selected]=ne?.(ot)||Ve.selected,dp(H)){const{from:hn,to:kn}=H;Ve[Ls.range_start]=!!(hn&&kn&&c.isSameDay(ot,hn)),Ve[Ls.range_end]=!!(hn&&kn&&c.isSameDay(ot,kn)),Ve[Ls.range_middle]=Ho(H,ot,!0,c)}const mn=MQ(Ve,A,t.modifiersStyles),yn=fQ(Ve,f,t.modifiersClassNames),wn=!Re&&!Ve.hidden?Se(ot,Ve,c.options,c):void 0;return Ee.createElement(r.Day,{key:`${Pe.isoDate}_${Pe.displayMonthId}`,day:Pe,modifiers:Ve,className:yn.join(" "),style:mn,role:"gridcell","aria-selected":Ve.selected||void 0,"aria-label":wn,"data-day":Pe.isoDate,"data-month":Pe.outside?Pe.dateMonthId:void 0,"data-selected":Ve.selected||void 0,"data-disabled":Ve.disabled||void 0,"data-hidden":Ve.hidden||void 0,"data-outside":Pe.outside||void 0,"data-focused":Ve.focused||void 0,"data-today":Ve.today||void 0},!Ve.hidden&&Re?Ee.createElement(r.DayButton,{className:f[Ke.DayButton],style:A?.[Ke.DayButton],type:"button",day:Pe,modifiers:Ve,disabled:!Ve.focused&&Ve.disabled||void 0,"aria-disabled":Ve.focused&&Ve.disabled||void 0,tabIndex:te(Pe)?0:-1,"aria-label":fe(ot,Ve,c.options,c),onClick:ke(Pe,Ve),onBlur:_e(Pe,Ve),onFocus:ve(Pe,Ve),onKeyDown:$e(Pe,Ve),onMouseEnter:bt(Pe,Ve),onMouseLeave:Et(Pe,Ve)},O(ot,c.options,c)):!Ve.hidden&&O(Pe.date,c.options,c))})))))))),t.footer&&Ee.createElement(r.Footer,{className:f[Ke.Footer],style:A?.[Ke.Footer],role:"status","aria-live":"polite"},t.footer)))}function AE({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:o="ghost",formatters:l,components:c,...d}){const f=sw();return i.jsx(rX,{showOutsideDays:n,className:ze("group/calendar bg-background p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...l},classNames:{root:ze("w-fit",f.root),months:ze("flex gap-4 flex-col md:flex-row relative",f.months),month:ze("flex flex-col w-full gap-4",f.month),nav:ze("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:ze(Gb({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:ze(Gb({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:ze("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:ze("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:ze("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:ze("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:ze("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:ze("flex",f.weekdays),weekday:ze("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:ze("flex w-full mt-2",f.week),week_number_header:ze("select-none w-(--cell-size)",f.week_number_header),week_number:ze("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:ze("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",f.day),range_start:ze("rounded-l-md bg-accent",f.range_start),range_middle:ze("rounded-none",f.range_middle),range_end:ze("rounded-r-md bg-accent",f.range_end),today:ze("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:ze("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:ze("text-muted-foreground opacity-50",f.disabled),hidden:ze("invisible",f.hidden),...t},components:{Root:({className:p,rootRef:g,...x})=>i.jsx("div",{"data-slot":"calendar",ref:g,className:ze(p),...x}),Chevron:({className:p,orientation:g,...x})=>g==="left"?i.jsx(mR,{className:ze("size-4",p),...x}):g==="right"?i.jsx(hR,{className:ze("size-4",p),...x}):i.jsx(rd,{className:ze("size-4",p),...x}),DayButton:sX,WeekNumber:({children:p,...g})=>i.jsx("td",{...g,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:p})}),...c},...d})}function sX({className:e,day:t,modifiers:n,...r}){const o=sw(),l=h.useRef(null);return h.useEffect(()=>{n.focused&&l.current?.focus()},[n.focused]),i.jsx(rt,{ref:l,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:ze("flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-start=true]:rounded-l-md data-[range-end=true]:bg-primary data-[range-middle=true]:bg-accent data-[range-start=true]:bg-primary data-[selected-single=true]:bg-primary data-[range-end=true]:text-primary-foreground data-[range-middle=true]:text-accent-foreground data-[range-start=true]:text-primary-foreground data-[selected-single=true]:text-primary-foreground group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-[3px] group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const xD=h.createContext(null);function bD(e){const t=h.useContext(xD);if(!t)throw new Error(`\`${e}\` must be within Faceted`);return t}function oX(e){const{open:t,onOpenChange:n,value:r,onValueChange:o,children:l,multiple:c=!1,...d}=e,[f,p]=h.useState(!1),g=t!==void 0,x=g?t:f,v=h.useCallback(C=>{g||p(C),n?.(C)},[g,n]),y=h.useCallback(C=>{if(o)if(c){const j=Array.isArray(r)?r:[],E=j.includes(C)?j.filter(N=>N!==C):[...j,C];o(E)}else o(r===C?void 0:C),requestAnimationFrame(()=>v(!1))},[c,r,o,v]),S=h.useMemo(()=>({value:r,onItemSelect:y,multiple:c}),[r,y,c]);return i.jsx(xD.Provider,{value:S,children:i.jsx(Qi,{open:x,onOpenChange:v,...d,children:l})})}function aX(e){const{className:t,children:n,...r}=e;return i.jsx(Xi,{...r,className:ze("justify-between text-left",t),children:n})}function iX(e){const{options:t=[],max:n=2,placeholder:r="Select options...",className:o,badgeClassName:l,...c}=e,d=bD("FacetedBadgeList"),f=Array.isArray(d.value)?d.value:[d.value].filter(Boolean),p=h.useCallback(g=>t.find(v=>v.value===g)?.label??g,[t]);return!f||f.length===0?i.jsxs("div",{...c,className:"flex w-full items-center gap-1 text-muted-foreground",children:[r,i.jsx(Uh,{className:"ml-auto size-4 shrink-0 opacity-50"})]}):i.jsx("div",{...c,className:ze("flex flex-wrap items-center gap-1",o),children:f.length>n?i.jsxs(Za,{variant:"secondary",className:ze("rounded-sm px-1 font-normal",l),children:[f.length," selected"]}):f.map(g=>i.jsx(Za,{variant:"secondary",className:ze("rounded-sm px-1 font-normal",l),children:i.jsx("span",{className:"truncate",children:p(g)})},g))})}function lX(e){const{className:t,children:n,...r}=e;return i.jsx(Ji,{...r,align:"start",className:ze("w-[200px] origin-(--radix-popover-content-transform-origin) p-0",t),children:i.jsx(tp,{children:n})})}const cX=np,uX=rp,dX=sp,fX=op;function mX(e){const{value:t,onSelect:n,className:r,children:o,...l}=e,c=bD("FacetedItem"),d=c.multiple?Array.isArray(c.value)&&c.value.includes(t):c.value===t,f=h.useCallback(p=>{n?n(p):c.onItemSelect&&c.onItemSelect(p)},[n,c]);return i.jsxs(ap,{"aria-selected":d,"data-selected":d,className:ze("gap-2",r),onSelect:()=>f(t),...l,children:[i.jsx("span",{className:ze("flex size-4 items-center justify-center rounded-sm border border-primary",d?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:i.jsx(_d,{className:"size-4"})}),o]})}const hX=e=>{let{transform:t}=e;return{...t,y:0}};function pX(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const vb=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return!n||!t?r:pX(r,n,t)},gX=e=>{let{transform:t}=e;return{...t,x:0}};function OE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xX(...e){return t=>{let n=!1;const r=e.map(o=>{const l=OE(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():OE(e[o],null)}}}}function vD(...e){return h.useCallback(xX(...e),e)}const bX={vertical:{modifiers:[gX,vb],strategy:J5,collisionDetection:Bb},horizontal:{modifiers:[hX,vb],strategy:fk,collisionDetection:Bb},mixed:{modifiers:[vb],strategy:void 0,collisionDetection:q_}},vX="Sortable",yD="SortableContent",Tm="SortableItem",TE="SortableItemHandle",wD="SortableOverlay",SD=h.createContext(null);function mp(e){const t=h.useContext(SD);if(!t)throw new Error(`\`${e}\` must be used within \`${vX}\``);return t}function CD(e){const{value:t,onValueChange:n,collisionDetection:r,modifiers:o,strategy:l,onMove:c,orientation:d="vertical",flatCursor:f=!1,getItemValue:p,accessibility:g,onDragStart:x,onDragEnd:v,onDragCancel:y,...S}=e,C=h.useId(),[j,E]=h.useState(null),N=U_(km(nk),km(rk),km(ry,{coordinateGetter:c6})),_=h.useMemo(()=>bX[d],[d]),R=h.useCallback(P=>{if(typeof P=="object"&&!p)throw new Error("getItemValue is required when using array of objects");return p?p(P):P},[p]),D=h.useMemo(()=>t.map(P=>R(P)),[t,R]),A=h.useCallback(P=>{x?.(P),!P.activatorEvent.defaultPrevented&&E(P.active.id)},[x]),M=h.useCallback(P=>{if(v?.(P),P.activatorEvent.defaultPrevented)return;const{active:$,over:W}=P;if(W&&$.id!==W?.id){const ce=t.findIndex(q=>R(q)===$.id),z=t.findIndex(q=>R(q)===W.id);c?c({...P,activeIndex:ce,overIndex:z}):n?.(iy(t,ce,z))}E(null)},[t,n,c,R,v]),O=h.useCallback(P=>{y?.(P),!P.activatorEvent.defaultPrevented&&E(null)},[y]),L=h.useMemo(()=>({onDragStart({active:P}){return`Grabbed sortable item "${P.id.toString()}". Current position is ${P.data.current?.sortable.index+1} of ${t.length}. Use arrow keys to move, space to drop.`},onDragOver({active:P,over:$}){if($){const W=$.data.current?.sortable.index??0,ce=P.data.current?.sortable.index??0,z=W>ce?"down":"up";return`Sortable item "${P.id.toString()}" moved ${z} to position ${W+1} of ${t.length}.`}return"Sortable item is no longer over a droppable area. Press escape to cancel."},onDragEnd({active:P,over:$}){const W=P.id.toString();if($){const ce=$.data.current?.sortable.index??0;return`Sortable item "${W}" dropped at position ${ce+1} of ${t.length}.`}return`Sortable item "${W}" dropped. No changes were made.`},onDragCancel({active:P}){const $=P.data.current?.sortable.index??0;return`Sorting cancelled. Sortable item "${P.id.toString()}" returned to position ${$+1} of ${t.length}.`},onDragMove({active:P,over:$}){if($){const W=$.data.current?.sortable.index??0,ce=P.data.current?.sortable.index??0,z=W>ce?"down":"up";return`Sortable item "${P.id.toString()}" is moving ${z} to position ${W+1} of ${t.length}.`}return"Sortable item is no longer over a droppable area. Press escape to cancel."}}),[t]),T=h.useMemo(()=>({draggable:`
        To pick up a sortable item, press space or enter.
        While dragging, use the ${d==="vertical"?"up and down":d==="horizontal"?"left and right":"arrow"} keys to move the item.
        Press space or enter again to drop the item in its new position, or press escape to cancel.
      `}),[d]),G=h.useMemo(()=>({id:C,items:D,modifiers:o??_.modifiers,strategy:l??_.strategy,activeId:j,setActiveId:E,getItemValue:R,flatCursor:f}),[C,D,o,l,_.modifiers,_.strategy,j,R,f]);return i.jsx(SD.Provider,{value:G,children:i.jsx(ck,{collisionDetection:r??_.collisionDetection,modifiers:o??_.modifiers,sensors:N,...S,id:C,onDragStart:A,onDragEnd:M,onDragCancel:O,accessibility:{announcements:L,screenReaderInstructions:T,...g}})})}const jD=h.createContext(!1);function ED(e){const{strategy:t,asChild:n,withoutSlot:r,children:o,ref:l,...c}=e,d=mp(yD),f=n?Nd:"div";return i.jsx(jD.Provider,{value:!0,children:i.jsx(gk,{items:d.items,strategy:t??d.strategy,children:r?o:i.jsx(f,{"data-slot":"sortable-content",...c,ref:l,children:o})})})}const ND=h.createContext(null);function yX(e){const t=h.useContext(ND);if(!t)throw new Error(`\`${e}\` must be used within \`${Tm}\``);return t}function _D(e){const{value:t,style:n,asHandle:r,asChild:o,disabled:l,className:c,ref:d,...f}=e,p=h.useContext(jD),g=h.useContext(RD);if(!p&&!g)throw new Error(`\`${Tm}\` must be used within \`${yD}\` or \`${wD}\``);if(t==="")throw new Error(`\`${Tm}\` value cannot be an empty string`);const x=mp(Tm),v=h.useId(),{attributes:y,listeners:S,setNodeRef:C,setActivatorNodeRef:j,transform:E,transition:N,isDragging:_}=bk({id:t,disabled:l}),R=vD(d,O=>{l||(C(O),r&&j(O))}),D=h.useMemo(()=>({transform:Yo.Translate.toString(E),transition:N,...n}),[E,N,n]),A=h.useMemo(()=>({id:v,attributes:y,listeners:S,setActivatorNodeRef:j,isDragging:_,disabled:l}),[v,y,S,j,_,l]),M=o?Nd:"div";return i.jsx(ND.Provider,{value:A,children:i.jsx(M,{id:v,"data-disabled":l,"data-dragging":_?"":void 0,"data-slot":"sortable-item",...f,...r&&!l?y:{},...r&&!l?S:{},ref:R,style:D,className:ze("focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1",{"touch-none select-none":r,"cursor-default":x.flatCursor,"data-dragging:cursor-grabbing":!x.flatCursor,"cursor-grab":!_&&r&&!x.flatCursor,"opacity-50":_,"pointer-events-none opacity-50":l},c)})})}function kD(e){const{asChild:t,disabled:n,className:r,ref:o,...l}=e,c=mp(TE),d=yX(TE),f=n??d.disabled,p=vD(o,x=>{f&&d.setActivatorNodeRef(x)}),g=t?Nd:"button";return i.jsx(g,{type:"button","aria-controls":d.id,"data-disabled":f,"data-dragging":d.isDragging?"":void 0,"data-slot":"sortable-item-handle",...l,...f?{}:d.attributes,...f?{}:d.listeners,ref:p,className:ze("select-none disabled:pointer-events-none disabled:opacity-50",c.flatCursor?"cursor-default":"cursor-grab data-dragging:cursor-grabbing",r),disabled:f})}const RD=h.createContext(!1),wX={sideEffects:dk({styles:{active:{opacity:"0.4"}}})};function MD(e){const{container:t,children:n,...r}=e,o=mp(wD),[l,c]=h.useState(!1);h.useLayoutEffect(()=>c(!0),[]);const d=t??(l?globalThis.document?.body:null);return d?zn.createPortal(i.jsx(Y5,{dropAnimation:wX,modifiers:o.modifiers,className:ze(!o.flatCursor&&"cursor-grabbing"),...r,children:i.jsx(RD.Provider,{value:!0,children:o.activeId?typeof n=="function"?n({value:o.activeId}):n:null})}),d):null}function SX(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>((...n)=>t.current?.(...n)),[])}function iw(e,t){const n=SX(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback((...l)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...l),t)},[n,t])}function yb(e,t={}){if(!e)return"";try{return new Intl.DateTimeFormat("en-US",{month:t.month??"long",day:t.day??"numeric",year:t.year??"numeric",...t}).format(new Date(e))}catch{return""}}let CX=e=>crypto.getRandomValues(new Uint8Array(e)),jX=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(l=t)=>{let c="";for(;;){let d=n(o),f=o|0;for(;f--;)if(c+=e[d[f]&r]||"",c.length===l)return c}}},EX=(e,t=21)=>jX(e,t,CX);const zE={};function NX(e,t={}){const n=typeof e=="object"?e:t,r=typeof e=="object"?void 0:e,{length:o=12,separator:l="_"}=n,c=EX("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o)();return r&&r in zE?`${zE[r]}${l}${c}`:c}const _X=vc({id:hr(),desc:n3()});function DD(e){return e?e instanceof Set?e:new Set(e):null}const kX=(e,t)=>{if(!e)return[];const n=DD(t);try{const r=JSON.parse(e),o=Dh(_X).safeParse(r);return o.success?n&&o.data.some(l=>!n.has(l.id))?[]:o.data:[]}catch{return[]}},RX=e=>JSON.stringify(e),MX=vc({id:hr(),value:d_([hr(),Dh(hr())]),variant:Lb(Wr.filterVariants),operator:Lb(Wr.operators),filterId:hr()}),xv=(e,t)=>{if(!e)return[];const n=DD(t);try{const r=JSON.parse(e),o=Dh(MX).safeParse(r);return o.success?n&&o.data.some(l=>!n.has(l.id))?[]:o.data:[]}catch{return[]}},DX=e=>JSON.stringify(e),AX=300,OX=50,TX="f",AD=["backspace","delete"];function zX({table:e,debounceMs:t=AX,throttleMs:n=OX,shallow:r=!0,history:o="replace",startTransition:l,disabled:c,...d}){const f=h.useId(),p=h.useId(),g=h.useId(),[x,v]=h.useState(!1),y=h.useRef(null),[S,C]=Ed(),j=o!=="push",E=h.useCallback(z=>{const q=()=>C(Z=>z(new URLSearchParams(Z)),{replace:j});l?l(()=>q()):q()},[j,C,l]),N=h.useMemo(()=>e.getAllColumns().filter(z=>z.columnDef.enableColumnFilter),[e]),_=e.options.meta?.queryKeys?.filters??"filters",R=e.options.meta?.queryKeys?.joinOperator??"joinOperator",D=h.useMemo(()=>N.map(z=>z.id),[N]),A=h.useMemo(()=>xv(S.get(_),D),[S,_,D]),M=h.useMemo(()=>S.get(R)==="or"?"or":"and",[S,R]),O=h.useCallback(z=>{E(q=>{const Z=xv(q.get(_),D),F=typeof z=="function"?z(Z):z;return F.length===0?q.delete(_):q.set(_,DX(F)),q})},[E,_,D]),L=h.useCallback(z=>{E(q=>(z==="and"?q.delete(R):q.set(R,z),q))},[E,R]),T=iw(O,t),G=h.useCallback(()=>{const z=N[0];z&&T([...A,{id:z.id,value:"",variant:z.columnDef.meta?.variant??"text",operator:jM(z.columnDef.meta?.variant??"text"),filterId:NX({length:8})}])},[N,A,T]),P=h.useCallback((z,q)=>{T(Z=>Z.map(ae=>ae.filterId===z?{...ae,...q}:ae))},[T]),$=h.useCallback(z=>{const q=A.filter(Z=>Z.filterId!==z);O(q),requestAnimationFrame(()=>{y.current?.focus()})},[A,O]),W=h.useCallback(()=>{E(z=>(z.delete(_),z.delete(R),z))},[E,_,R]);h.useEffect(()=>{function z(q){q.target instanceof HTMLInputElement||q.target instanceof HTMLTextAreaElement||q.target instanceof HTMLElement&&q.target.contentEditable==="true"||q.key.toLowerCase()===TX&&(q.ctrlKey||q.metaKey)&&q.shiftKey&&(q.preventDefault(),v(Z=>!Z))}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[]);const ce=h.useCallback(z=>{AD.includes(z.key.toLowerCase())&&A.length>0&&(z.preventDefault(),$(A[A.length-1]?.filterId??""))},[A,$]);return i.jsxs(CD,{value:A,onValueChange:O,getItemValue:z=>z.filterId,children:[i.jsxs(Qi,{open:x,onOpenChange:v,children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{variant:"outline",size:"sm",className:"font-normal",onKeyDown:ce,disabled:c,children:[i.jsx(gH,{className:"text-muted-foreground"}),"Filter",A.length>0&&i.jsx(Za,{variant:"secondary",className:"h-[18.24px] rounded-[3.2px] px-[5.12px] font-mono font-normal text-[10.4px]",children:A.length})]})}),i.jsxs(Ji,{"aria-describedby":g,"aria-labelledby":p,className:"flex w-full max-w-(--radix-popover-content-available-width) flex-col gap-3.5 p-4 sm:min-w-[380px]",...d,children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("h4",{id:p,className:"font-medium leading-none",children:A.length>0?"Filters":"No filters applied"}),i.jsx("p",{id:g,className:ze("text-muted-foreground text-sm",A.length>0&&"sr-only"),children:A.length>0?"Modify filters to refine your rows.":"Add filters to refine your rows."})]}),A.length>0?i.jsx(ED,{asChild:!0,children:i.jsx("div",{role:"list",className:"flex max-h-[300px] flex-col gap-2 overflow-y-auto p-1",children:A.map((z,q)=>i.jsx(PX,{filter:z,index:q,filterItemId:`${f}-filter-${z.filterId}`,joinOperator:M,setJoinOperator:L,columns:N,onFilterUpdate:P,onFilterRemove:$},z.filterId))})}):null,i.jsxs("div",{className:"flex w-full items-center gap-2",children:[i.jsx(rt,{size:"sm",className:"rounded",ref:y,onClick:G,children:"Add filter"}),A.length>0?i.jsx(rt,{variant:"outline",size:"sm",className:"rounded",onClick:W,children:"Reset filters"}):null]})]})]}),i.jsx(MD,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 min-w-[72px] rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-32 rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-32 rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 min-w-36 flex-1 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"})]})})]})}function PX({filter:e,index:t,filterItemId:n,joinOperator:r,setJoinOperator:o,columns:l,onFilterUpdate:c,onFilterRemove:d}){const[f,p]=h.useState(!1),[g,x]=h.useState(!1),[v,y]=h.useState(!1),S=l.find(A=>A.id===e.id),C=`${n}-join-operator-listbox`,j=`${n}-field-listbox`,E=`${n}-operator-listbox`,N=`${n}-input`,_=S?.columnDef.meta,R=CM(e.variant),D=h.useCallback(A=>{A.target instanceof HTMLInputElement||A.target instanceof HTMLTextAreaElement||f||g||v||AD.includes(A.key.toLowerCase())&&(A.preventDefault(),d(e.filterId))},[e.filterId,f,g,v,d]);return S?i.jsx(_D,{value:e.filterId,asChild:!0,children:i.jsxs("div",{role:"listitem",id:n,tabIndex:-1,className:"flex items-center gap-2",onKeyDown:D,children:[i.jsx("div",{className:"min-w-[72px] text-center",children:t===0?i.jsx("span",{className:"text-muted-foreground text-sm",children:"Where"}):t===1?i.jsxs(ad,{value:r,onValueChange:A=>o(A),children:[i.jsx(ld,{"aria-label":"Select join operator","aria-controls":C,size:"sm",className:"rounded lowercase",children:i.jsx(id,{placeholder:r})}),i.jsx(cd,{id:C,position:"popper",className:"min-w-(--radix-select-trigger-width) lowercase",children:Wr.joinOperators.map(A=>i.jsx(fc,{value:A,children:A},A))})]}):i.jsx("span",{className:"text-muted-foreground text-sm",children:r})}),i.jsxs(Qi,{open:f,onOpenChange:p,children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{"aria-controls":j,variant:"outline",size:"sm",className:"w-32 justify-between rounded font-normal",children:[i.jsx("span",{className:"truncate",children:l.find(A=>A.id===e.id)?.columnDef.meta?.label??"Select field"}),i.jsx(Uh,{className:"opacity-50"})]})}),i.jsx(Ji,{id:j,align:"start",className:"w-40 p-0",children:i.jsxs(tp,{children:[i.jsx(np,{placeholder:"Search fields..."}),i.jsxs(rp,{children:[i.jsx(sp,{children:"No fields found."}),i.jsx(op,{children:l.map(A=>i.jsxs(ap,{value:A.id,onSelect:M=>{c(e.filterId,{id:M,variant:A.columnDef.meta?.variant??"text",operator:jM(A.columnDef.meta?.variant??"text"),value:""}),p(!1)},children:[i.jsx("span",{className:"truncate",children:A.columnDef.meta?.label}),i.jsx(_d,{className:ze("ml-auto",A.id===e.id?"opacity-100":"opacity-0")})]},A.id))})]})]})})]}),i.jsxs(ad,{open:g,onOpenChange:x,value:e.operator,onValueChange:A=>c(e.filterId,{operator:A,value:A==="isEmpty"||A==="isNotEmpty"?"":e.value}),children:[i.jsx(ld,{"aria-controls":E,size:"sm",className:"w-32 rounded lowercase",children:i.jsx("div",{className:"truncate",children:i.jsx(id,{placeholder:e.operator})})}),i.jsx(cd,{id:E,children:R.map(A=>i.jsx(fc,{value:A.value,className:"lowercase",children:A.label},A.value))})]}),i.jsx("div",{className:"min-w-36 max-w-60 flex-1",children:IX({filter:e,inputId:N,column:S,columnMeta:_,onFilterUpdate:c,showValueSelector:v,setShowValueSelector:y})}),i.jsx(rt,{"aria-controls":n,variant:"outline",size:"icon",className:"size-8 rounded",onClick:()=>d(e.filterId),children:i.jsx(gR,{})}),i.jsx(kD,{asChild:!0,children:i.jsx(rt,{variant:"outline",size:"icon",className:"size-8 rounded",children:i.jsx(pR,{})})})]})}):null}function IX({filter:e,inputId:t,column:n,columnMeta:r,onFilterUpdate:o,showValueSelector:l,setShowValueSelector:c}){if(e.operator==="isEmpty"||e.operator==="isNotEmpty")return i.jsx("div",{id:t,role:"status","aria-label":`${r?.label} filter is ${e.operator==="isEmpty"?"empty":"not empty"}`,"aria-live":"polite",className:"h-8 w-full rounded border bg-transparent dark:bg-input/30"});switch(e.variant){case"text":case"number":case"range":{if(e.variant==="range"&&e.operator==="isBetween"||e.operator==="isBetween")return i.jsx(lK,{filter:e,column:n,inputId:t,onFilterUpdate:o});const d=e.variant==="number"||e.variant==="range";return i.jsx(mr,{id:t,type:d?"number":e.variant,"aria-label":`${r?.label} filter value`,"aria-describedby":`${t}-description`,inputMode:d?"numeric":void 0,placeholder:r?.placeholder??"Enter a value...",className:"h-8 w-full rounded",defaultValue:typeof e.value=="string"?e.value:void 0,onChange:f=>o(e.filterId,{value:f.target.value})})}case"boolean":{if(Array.isArray(e.value))return null;const d=`${t}-listbox`;return i.jsxs(ad,{open:l,onOpenChange:c,value:e.value,onValueChange:f=>o(e.filterId,{value:f}),children:[i.jsx(ld,{id:t,"aria-controls":d,"aria-label":`${r?.label} boolean filter`,size:"sm",className:"w-full rounded",children:i.jsx(id,{placeholder:e.value?"True":"False"})}),i.jsxs(cd,{id:d,children:[i.jsx(fc,{value:"true",children:"True"}),i.jsx(fc,{value:"false",children:"False"})]})]})}case"select":case"multiSelect":{const d=`${t}-listbox`,f=e.variant==="multiSelect",p=f?Array.isArray(e.value)?e.value:[]:typeof e.value=="string"?e.value:void 0;return i.jsxs(oX,{open:l,onOpenChange:c,value:p,onValueChange:g=>{o(e.filterId,{value:g})},multiple:f,children:[i.jsx(aX,{asChild:!0,children:i.jsx(rt,{id:t,"aria-controls":d,"aria-label":`${r?.label} filter value${f?"s":""}`,variant:"outline",size:"sm",className:"w-full rounded font-normal",children:i.jsx(iX,{options:r?.options,placeholder:r?.placeholder??`Select option${f?"s":""}...`})})}),i.jsxs(lX,{id:d,className:"w-[200px]",children:[i.jsx(cX,{"aria-label":`Search ${r?.label} options`,placeholder:r?.placeholder??"Search options..."}),i.jsxs(uX,{children:[i.jsx(dX,{children:"No options found."}),i.jsx(fX,{children:r?.options?.map(g=>i.jsxs(mX,{value:g.value,children:[g.icon&&i.jsx(g.icon,{}),i.jsx("span",{children:g.label}),g.count&&i.jsx("span",{className:"ml-auto font-mono text-xs",children:g.count})]},g.value))})]})]})]})}case"date":case"dateRange":{const d=`${t}-listbox`,f=Array.isArray(e.value)?e.value.filter(Boolean):[e.value,e.value].filter(Boolean),p=f[0]?new Date(Number(f[0])):void 0,g=f[1]?new Date(Number(f[1])):void 0,x=p&&g&&p.toDateString()===g.toDateString(),v=e.operator==="isBetween"&&f.length===2&&!x?`${yb(p,{month:"short"})} - ${yb(g,{month:"short"})}`:p?yb(p,{month:"short"}):"Pick a date";return i.jsxs(Qi,{open:l,onOpenChange:c,children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{id:t,"aria-controls":d,"aria-label":`${r?.label} date filter`,variant:"outline",size:"sm",className:ze("w-full justify-start rounded text-left font-normal",!e.value&&"text-muted-foreground"),children:[i.jsx(tH,{}),i.jsx("span",{className:"truncate",children:v})]})}),i.jsx(Ji,{id:d,align:"start",className:"w-auto p-0",children:e.operator==="isBetween"?i.jsx(AE,{"aria-label":`Select ${r?.label} date range`,autoFocus:!0,captionLayout:"dropdown",mode:"range",selected:f.length===2?{from:new Date(Number(f[0])),to:new Date(Number(f[1]))}:{from:new Date,to:new Date},onSelect:y=>{o(e.filterId,{value:y?[(y.from?.getTime()??"").toString(),(y.to?.getTime()??"").toString()]:[]})}}):i.jsx(AE,{"aria-label":`Select ${r?.label} date`,autoFocus:!0,captionLayout:"dropdown",mode:"single",selected:f[0]?new Date(Number(f[0])):void 0,onSelect:y=>{o(e.filterId,{value:(y?.getTime()??"").toString()}),c(!1)}})})]})}default:return null}}const LX="s",OD=["backspace","delete"];function $X({table:e,disabled:t,...n}){const r=h.useId(),o=h.useId(),l=h.useId(),[c,d]=h.useState(!1),f=h.useRef(null),p=e.getState().sorting,g=e.setSorting,{columnLabels:x,columns:v}=h.useMemo(()=>{const N=new Map,_=new Set(p.map(D=>D.id)),R=[];for(const D of e.getAllColumns()){if(!D.getCanSort())continue;const A=D.columnDef.meta?.label??D.id;N.set(D.id,A),_.has(D.id)||R.push({id:D.id,label:A})}return{columnLabels:N,columns:R}},[p,e]),y=h.useCallback(()=>{const N=v[0];N&&g(_=>[..._,{id:N.id,desc:!1}])},[v,g]),S=h.useCallback((N,_)=>{g(R=>R&&R.map(D=>D.id===N?{...D,..._}:D))},[g]),C=h.useCallback(N=>{g(_=>_.filter(R=>R.id!==N))},[g]),j=h.useCallback(()=>g(e.initialState.sorting),[g,e.initialState.sorting]);h.useEffect(()=>{function N(_){_.target instanceof HTMLInputElement||_.target instanceof HTMLTextAreaElement||_.target instanceof HTMLElement&&_.target.contentEditable==="true"||_.key.toLowerCase()===LX&&(_.ctrlKey||_.metaKey)&&_.shiftKey&&(_.preventDefault(),d(R=>!R))}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]);const E=h.useCallback(N=>{OD.includes(N.key.toLowerCase())&&p.length>0&&(N.preventDefault(),j())},[p.length,j]);return i.jsxs(CD,{value:p,onValueChange:g,getItemValue:N=>N.id,children:[i.jsxs(Qi,{open:c,onOpenChange:d,children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{variant:"outline",size:"sm",className:"font-normal",onKeyDown:E,disabled:t,children:[i.jsx(J8,{className:"text-muted-foreground"}),"Sort",p.length>0&&i.jsx(Za,{variant:"secondary",className:"h-[18.24px] rounded-[3.2px] px-[5.12px] font-mono font-normal text-[10.4px]",children:p.length})]})}),i.jsxs(Ji,{"aria-labelledby":o,"aria-describedby":l,className:"flex w-full max-w-(--radix-popover-content-available-width) flex-col gap-3.5 p-4 sm:min-w-[380px]",...n,children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("h4",{id:o,className:"font-medium leading-none",children:p.length>0?"Sort by":"No sorting applied"}),i.jsx("p",{id:l,className:ze("text-muted-foreground text-sm",p.length>0&&"sr-only"),children:p.length>0?"Modify sorting to organize your rows.":"Add sorting to organize your rows."})]}),p.length>0&&i.jsx(ED,{asChild:!0,children:i.jsx("div",{role:"list",className:"flex max-h-[300px] flex-col gap-2 overflow-y-auto p-1",children:p.map(N=>i.jsx(FX,{sort:N,sortItemId:`${r}-sort-${N.id}`,columns:v,columnLabels:x,onSortUpdate:S,onSortRemove:C},N.id))})}),i.jsxs("div",{className:"flex w-full items-center gap-2",children:[i.jsx(rt,{size:"sm",className:"rounded",ref:f,onClick:y,disabled:v.length===0,children:"Add sort"}),p.length>0&&i.jsx(rt,{variant:"outline",size:"sm",className:"rounded",onClick:j,children:"Reset sorting"})]})]})]}),i.jsx(MD,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-[180px] rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-24 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"})]})})]})}function FX({sort:e,sortItemId:t,columns:n,columnLabels:r,onSortUpdate:o,onSortRemove:l}){const c=`${t}-field-listbox`,d=`${t}-field-trigger`,f=`${t}-direction-listbox`,[p,g]=h.useState(!1),[x,v]=h.useState(!1),y=h.useCallback(S=>{S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement||p||x||OD.includes(S.key.toLowerCase())&&(S.preventDefault(),l(e.id))},[e.id,p,x,l]);return i.jsx(_D,{value:e.id,asChild:!0,children:i.jsxs("div",{role:"listitem",id:t,tabIndex:-1,className:"flex items-center gap-2",onKeyDown:y,children:[i.jsxs(Qi,{open:p,onOpenChange:g,children:[i.jsx(Xi,{asChild:!0,children:i.jsxs(rt,{id:d,"aria-controls":c,variant:"outline",size:"sm",className:"w-44 justify-between rounded font-normal",children:[i.jsx("span",{className:"truncate",children:r.get(e.id)}),i.jsx(Uh,{className:"opacity-50"})]})}),i.jsx(Ji,{id:c,className:"w-(--radix-popover-trigger-width) p-0",children:i.jsxs(tp,{children:[i.jsx(np,{placeholder:"Search fields..."}),i.jsxs(rp,{children:[i.jsx(sp,{children:"No fields found."}),i.jsx(op,{children:n.map(S=>i.jsx(ap,{value:S.id,onSelect:C=>o(e.id,{id:C}),children:i.jsx("span",{className:"truncate",children:S.label})},S.id))})]})]})})]}),i.jsxs(ad,{open:x,onOpenChange:v,value:e.desc?"desc":"asc",onValueChange:S=>o(e.id,{desc:S==="desc"}),children:[i.jsx(ld,{"aria-controls":f,size:"sm",className:"w-24 rounded",children:i.jsx(id,{})}),i.jsx(cd,{id:f,className:"min-w-(--radix-select-trigger-width)",children:Wr.sortOrders.map(S=>i.jsx(fc,{value:S.value,children:S.label},S.value))})]}),i.jsx(rt,{"aria-controls":t,variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",onClick:()=>l(e.id),children:i.jsx(gR,{})}),i.jsx(kD,{asChild:!0,children:i.jsx(rt,{variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",children:i.jsx(pR,{})})})]})})}const UX="page",BX="perPage",VX="sort",HX="filters",qX="joinOperator",PE=",",WX=300,GX=50;function IE(e,t){if(!e)return t;const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n}function YX(e,t){return e.length===t.length&&e.every((n,r)=>n.id===t[r]?.id&&n.desc===t[r]?.desc)}function KX(e){const t=e.trim();if(!t.startsWith("["))return!1;try{const n=JSON.parse(t);return Array.isArray(n)&&n.length===0}catch{return!1}}function ZX(e){const{columns:t,pageCount:n=-1,initialState:r,queryKeys:o,history:l="replace",debounceMs:c=WX,throttleMs:d=GX,clearOnDefault:f=!1,enableAdvancedFilter:p=!1,scroll:g=!1,shallow:x=!0,startTransition:v,...y}=e,S=o?.page??UX,C=o?.perPage??BX,j=o?.sort??VX,E=o?.filters??HX,N=o?.joinOperator??qX,_=l!=="push",[R,D]=Ed(),A=r?.pagination?.pageSize??10,[M,O]=h.useState(r?.rowSelection??{}),[L,T]=h.useState(r?.columnVisibility??{}),G=h.useMemo(()=>IE(R.get(S),1),[R,S]),P=h.useMemo(()=>IE(R.get(C),A),[R,C,A]),$=h.useMemo(()=>({pageIndex:G-1,pageSize:P}),[G,P]),W=h.useCallback((fe,Se={})=>{const Ae=()=>D(De=>fe(new URLSearchParams(De)),{replace:Se.replace??_});v?v(()=>Ae()):Ae()},[_,D,v]),ce=h.useCallback(fe=>{W(Se=>(f&&fe===1?Se.delete(S):Se.set(S,String(fe)),Se))},[f,S,W]),z=h.useCallback(fe=>{W(Se=>(f&&fe===A?Se.delete(C):Se.set(C,String(fe)),Se))},[f,A,C,W]),q=h.useCallback(fe=>{if(typeof fe=="function"){const Se=fe($);ce(Se.pageIndex+1),z(Se.pageSize)}else ce(fe.pageIndex+1),z(fe.pageSize)},[$,ce,z]),Z=h.useMemo(()=>new Set(t.map(fe=>fe.id).filter(Boolean)),[t]),F=h.useMemo(()=>{const fe=R.get(j);if(!fe)return r?.sorting??[];const Se=kX(fe,Z);return Se.length>0||KX(fe)?Se:r?.sorting??[]},[R,j,Z,r?.sorting]),ae=h.useCallback(fe=>{const Se=r?.sorting??[];W(Ae=>(f&&YX(fe,Se)?Ae.delete(j):Ae.set(j,RX(fe)),Ae))},[f,r?.sorting,W,j]),B=h.useCallback(fe=>{if(typeof fe=="function"){const Se=fe(F);ae(Se)}else ae(fe)},[F,ae]),U=h.useMemo(()=>p?[]:t.filter(fe=>fe.enableColumnFilter),[t,p]),ne=h.useMemo(()=>p?{}:U.reduce((fe,Se)=>{const Ae=Se.id??"";if(!Ae)return fe;const De=R.get(Ae);return De?(Se.meta?.options?fe[Ae]=De.split(PE).filter(Boolean):fe[Ae]=De,fe):(fe[Ae]=null,fe)},{}),[p,U,R]),K=h.useCallback(fe=>{W(Se=>{for(const[Ae,De]of Object.entries(fe))if(De===null||Array.isArray(De)&&De.length===0||typeof De=="string"&&De.trim()==="")Se.delete(Ae);else{const st=Array.isArray(De)?De.join(PE):De;Se.set(Ae,st)}return f?Se.delete(S):Se.set(S,"1"),Se})},[f,S,W]),H=iw(fe=>{K(fe)},c),Y=h.useMemo(()=>p?[]:Object.entries(ne).reduce((fe,[Se,Ae])=>{if(Ae!==null){const De=Array.isArray(Ae)?Ae:typeof Ae=="string"&&/[^a-zA-Z0-9]/.test(Ae)?Ae.split(/[^a-zA-Z0-9]+/).filter(Boolean):[Ae];fe.push({id:Se,value:De})}return fe},[]),[ne,p]),[V,te]=h.useState(Y),se=h.useCallback(fe=>{p||te(Se=>{const Ae=typeof fe=="function"?fe(Se):fe,De=Ae.reduce((st,pt)=>(U.find(ut=>ut.id===pt.id)&&(st[pt.id]=pt.value),st),{});for(const st of Se)Ae.some(pt=>pt.id===st.id)||(De[st.id]=null);return H(De),Ae})},[H,U,p]);return{table:dR({...y,columns:t,initialState:r,pageCount:n,state:{pagination:$,sorting:F,columnVisibility:L,rowSelection:M,columnFilters:V},defaultColumn:{...y.defaultColumn,enableColumnFilter:!1},enableRowSelection:!0,onRowSelectionChange:O,onPaginationChange:q,onSortingChange:B,onColumnFiltersChange:se,onColumnVisibilityChange:T,getCoreRowModel:cR(),getFilteredRowModel:U8(),getPaginationRowModel:B8(),getSortedRowModel:V8(),getFacetedRowModel:$8(),getFacetedUniqueValues:F8(),getFacetedMinMaxValues:P8(),manualPagination:!0,manualSorting:!0,manualFiltering:!0,meta:{...y.meta,queryKeys:{page:S,perPage:C,sort:j,filters:E,joinOperator:N}}}),shallow:x,debounceMs:c,throttleMs:d,history:l,startTransition:v}}function QX({mapping:e,showPending:t=!1}){if(!e)return null;const n=!!(e.pending&&e.attention===0&&e.unmapped===0);return n&&!t?null:n?i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-0.5 text-[11px] font-semibold text-muted-foreground",children:[i.jsx(MT,{className:"h-3 w-3"}),"Mapping pending"]}):e.attention===0&&e.unmapped===0?null:i.jsxs("span",{className:de("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] font-semibold","border-warning-200 bg-warning-50 text-warning-700"),children:[i.jsx(RT,{className:"h-3 w-3"}),e.attention>0?`${e.attention} need attention`:`${e.unmapped} unmapped`]})}const Wi="__unassigned__";function XX({people:e,value:t,onChange:n,placeholder:r,multiple:o=!1,includeUnassigned:l=!1,disabled:c=!1,buttonClassName:d,onOpenChange:f}){const p=h.useRef(null),g=h.useRef(null),x=h.useRef(null),v=h.useId(),[y,S]=h.useState(!1),[C,j]=h.useState(""),E=h.useCallback(()=>{S(!1),j("")},[]),N=h.useCallback(()=>{S(O=>(O&&j(""),!O))},[]);h.useEffect(()=>{y&&x.current?.focus()},[y]),h.useEffect(()=>{f?.(y)},[f,y]),h.useEffect(()=>{if(!y)return;const O=T=>{const G=T.target;G&&(p.current?.contains(G)||E())},L=T=>{T.key==="Escape"&&(T.preventDefault(),E())};return window.addEventListener("mousedown",O),window.addEventListener("keydown",L),()=>{window.removeEventListener("mousedown",O),window.removeEventListener("keydown",L)}},[E,y]);const _=h.useMemo(()=>{const O=e.slice().sort((L,T)=>L.label.localeCompare(T.label));return l?[{key:Wi,label:"Unassigned",kind:"label"},...O]:O},[l,e]),R=h.useMemo(()=>{const O=C.trim().toLowerCase();return O?_.filter(L=>L.label.toLowerCase().includes(O)):_},[_,C]),D=h.useMemo(()=>{const O=new Map(_.map(T=>[T.key,T.label]));return t.map(T=>O.get(T)??(T===Wi?"Unassigned":T)).filter(Boolean)},[_,t]);function A(O){if(c)return;if(!o){n([O]),E();return}const L=new Set(t);L.has(O)?L.delete(O):L.add(O),n(Array.from(L))}const M=D.length===0?r:o?D.length===1?D[0]:`${D[0]} +${D.length-1}`:D[0];return i.jsxs("div",{ref:p,className:de("relative",y?"z-50":"z-0"),"data-ignore-row-click":"true",children:[i.jsxs("button",{type:"button",disabled:c,onClick:N,ref:g,className:de("inline-flex min-w-0 items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-1.5 text-xs font-semibold text-foreground shadow-sm transition",c?"opacity-60":"hover:bg-background",d),"aria-expanded":y,"aria-controls":y?v:void 0,"aria-haspopup":"listbox",children:[i.jsx("span",{className:de("min-w-0 truncate",D.length===0?"text-muted-foreground":"text-foreground"),children:M}),i.jsx(Gi,{className:de("h-3.5 w-3.5 text-muted-foreground transition",y&&"rotate-180")})]}),y?i.jsxs("div",{className:"absolute left-0 z-50 mt-2 w-72 rounded-2xl border border-border bg-card shadow-lg",role:"listbox",id:v,"aria-multiselectable":o||void 0,children:[i.jsx("div",{className:"border-b border-border p-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(bh,{className:"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground"}),i.jsx(En,{ref:x,value:C,onChange:O=>j(O.target.value),placeholder:"Search people...",className:"h-9 pl-9 text-sm"})]})}),i.jsx("div",{className:"max-h-72 overflow-auto p-2",children:R.length===0?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:"No matches."}):R.map(O=>{const L=t.includes(O.key);return i.jsxs("button",{type:"button",onClick:()=>A(O.key),role:"option","aria-selected":L,className:de("flex w-full items-center justify-between gap-3 rounded-xl px-3 py-2 text-left text-sm transition",L?"bg-brand-50 text-foreground dark:bg-brand-500/20 dark:text-brand-200":"hover:bg-background dark:hover:bg-muted/40"),children:[i.jsx("span",{className:"min-w-0 truncate font-semibold text-foreground",children:O.label}),L?i.jsx(qa,{className:"h-4 w-4 text-brand-600"}):null]},O.key)})}),o&&t.length>0?i.jsxs("div",{className:"flex items-center justify-between border-t border-border px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>n([]),className:"text-xs font-semibold text-muted-foreground hover:text-foreground",children:"Clear"}),i.jsx("button",{type:"button",onClick:E,className:"text-xs font-semibold text-brand-600",children:"Done"})]}):null]}):null]})}function JX(e){return e.length===0||e[0]===Wi?null:e[0]}function eJ(){return Wi}function tJ({workspaceId:e,selected:t,onToggle:n,placeholder:r,disabled:o,buttonClassName:l,onOpenChange:c}){const[d,f]=h.useState(!1),[p,g]=h.useState(""),x=h.useRef(null),v=h.useRef(null),y=h.useRef(null),S=h.useId(),C=h.useCallback(()=>{f(!1),g("")},[]),j=h.useCallback(()=>{f(A=>(A&&g(""),!A))},[]),E=p.trim(),N=E.length>=2,_=_n({queryKey:["documents",e,"tags",{q:N?E:""}],queryFn:({signal:A})=>Rk(e,{page:1,perPage:20,sort:"-count",q:N?E:void 0},A),enabled:d&&e.length>0,staleTime:3e4}),R=h.useMemo(()=>_.data?.items??[],[_.data?.items]),D=h.useMemo(()=>{const A=E;return!A||R.some(O=>O.tag.toLowerCase()===A.toLowerCase())?null:A},[E,R]);return h.useEffect(()=>{d&&y.current?.focus()},[d]),h.useEffect(()=>{c?.(d)},[c,d]),h.useEffect(()=>{if(!d)return;const A=O=>{const L=O.target;L&&(x.current?.contains(L)||C())},M=O=>{O.key==="Escape"&&(O.preventDefault(),C())};return window.addEventListener("mousedown",A),window.addEventListener("keydown",M),()=>{window.removeEventListener("mousedown",A),window.removeEventListener("keydown",M)}},[C,d]),i.jsxs("div",{ref:x,className:de("relative",d?"z-50":"z-0"),"data-ignore-row-click":"true",children:[i.jsxs("button",{type:"button",onClick:j,disabled:o,ref:v,className:de("inline-flex min-w-0 items-center gap-2 rounded-lg border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-60",o?"border-border bg-background text-muted-foreground":"border-border bg-card text-foreground hover:bg-background dark:hover:bg-muted/40",l),"aria-expanded":d,"aria-haspopup":"listbox","aria-controls":d?S:void 0,children:[i.jsx(fz,{className:"h-3.5 w-3.5 text-muted-foreground","aria-hidden":!0}),t.length===0?i.jsx("span",{className:"min-w-0 truncate text-muted-foreground",children:r}):i.jsxs("span",{className:"min-w-0 truncate",children:[t.slice(0,2).join(", "),t.length>2?` +${t.length-2}`:""]}),i.jsx(Gi,{className:de("h-3.5 w-3.5 text-muted-foreground transition",d&&"rotate-180")})]}),d?i.jsxs("div",{className:"absolute left-0 top-[calc(100%+0.5rem)] z-50 w-[20rem] rounded-2xl border border-border bg-card p-3 shadow-lg","data-ignore-row-click":"true",role:"listbox",id:S,"aria-multiselectable":!0,children:[i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(bh,{className:"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground"}),i.jsx(En,{ref:y,value:p,onChange:A=>g(A.target.value),placeholder:"Search or create tag",className:"h-9 pl-9"})]}),i.jsx("div",{className:"mt-1 text-[11px] text-muted-foreground",children:"Type 2+ characters to search existing tags."})]}),t.length?i.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:t.map(A=>i.jsxs("button",{type:"button",onClick:()=>n(A),className:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-0.5 text-[11px] font-semibold text-foreground hover:text-danger-700",title:"Remove tag",children:[A,i.jsx(mo,{className:"h-3 w-3"})]},A))}):null,i.jsxs("div",{className:"max-h-56 overflow-y-auto rounded-xl border border-border",children:[D?i.jsxs("button",{type:"button",onClick:()=>n(D),role:"option","aria-selected":!1,className:"flex w-full items-center justify-between px-3 py-2 text-left text-xs font-semibold text-foreground hover:bg-background dark:hover:bg-muted/40",children:[i.jsxs("span",{children:["Create ",D,""]}),i.jsx("span",{className:"text-[11px] text-muted-foreground",children:"new"})]}):null,_.isLoading?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:"Loading tags"}):R.length===0?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:N?"No matches.":"No tags yet."}):R.map(A=>{const M=t.includes(A.tag);return i.jsxs("button",{type:"button",onClick:()=>n(A.tag),role:"option","aria-selected":M,className:de("flex w-full items-center justify-between px-3 py-2 text-left text-xs font-semibold transition",M?"bg-brand-50 text-foreground dark:bg-brand-500/20 dark:text-brand-200":"text-foreground hover:bg-background dark:hover:bg-muted/40"),children:[i.jsx("span",{className:"truncate",children:A.tag}),i.jsxs("span",{className:"ml-3 flex items-center gap-2 text-[11px] text-muted-foreground",children:[A.document_count,M?i.jsx(qa,{className:"h-3.5 w-3.5 text-brand-600"}):null]})]},A.tag)})]}),i.jsx("div",{className:"mt-2 text-[11px] text-muted-foreground",children:"Click a tag to toggle it."})]}):null]})}const nJ=200;async function rJ(e,t,n){const r=new URLSearchParams({maxRows:String(nJ)}),o=await wh(`/api/v1/workspaces/${e}/documents/${t}/preview?${r.toString()}`,{signal:n});if(!o.ok){const l=await xc(o),c=l?.title??`Preview request failed (${o.status})`;throw new Pt(c,o.status,l)}return await o.json()}function sJ({document:e}){const t=_n({queryKey:["tablecn-document-preview",e.workspaceId,e.id],queryFn:({signal:p})=>rJ(e.workspaceId,e.id,p),staleTime:3e4,enabled:!!(e.workspaceId&&e.id)}),n=t.data?.sheets?.[0]??null,r=h.useMemo(()=>{if(!n)return 0;const p=n.rows.reduce((g,x)=>Math.max(g,x.length),0);return Math.max(n.headers.length,p)},[n]),o=h.useMemo(()=>Array.from({length:r},(p,g)=>`col_${g}`),[r]),l=h.useMemo(()=>n?o.map((p,g)=>{const v=(n.headers[g]??"").trim()||LV(g);return{id:p,accessorKey:p,header:v,cell:({getValue:y})=>{const S=y()??"";return i.jsx("div",{className:"w-full truncate",title:S,children:S})}}}):[],[o,n]),c=h.useMemo(()=>n?n.rows.map(p=>{const g={};for(let x=0;x<r;x+=1)g[o[x]]=p[x]??"";return g}):[],[r,o,n]),d=dR({data:c,columns:l,getCoreRowModel:cR(),defaultColumn:{size:140,minSize:100,maxSize:240}});if(t.isLoading)return i.jsx(Nm,{title:e.name,children:i.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading preview..."})});if(t.isError){const p=t.error,g=p instanceof Pt?p.message:"Unable to load preview.";return i.jsx(Nm,{title:e.name,children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:g}),i.jsx(rt,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>t.refetch(),children:"Try again"})]})})}if(!n)return i.jsx(Nm,{title:e.name,children:i.jsx("div",{className:"text-xs text-muted-foreground",children:"No preview data available."})});const f=oJ(n,t.data?.sheets?.length??0);return i.jsx(Nm,{title:e.name,meta:f,children:i.jsx(EM,{table:d,showPagination:!1,className:"min-w-0 max-w-full gap-1.5 overflow-visible [&>div]:border-0 [&>div]:overflow-visible [&>div]:rounded-none [&_[data-slot=table-container]]:max-w-full [&_[data-slot=table-container]]:max-h-[min(360px,45vh)] [&_[data-slot=table-container]]:overflow-x-auto [&_[data-slot=table-container]]:overflow-y-auto [&_[data-slot=table]]:min-w-full [&_[data-slot=table]]:w-max [&_[data-slot=table]]:text-xs [&_[data-slot=table-head]]:!sticky [&_[data-slot=table-head]]:top-0 [&_[data-slot=table-head]]:!z-10 [&_[data-slot=table-head]]:h-8 [&_[data-slot=table-head]]:bg-muted/30 [&_[data-slot=table-head]]:text-[11px] [&_[data-slot=table-head]]:font-semibold [&_[data-slot=table-head]]:text-muted-foreground [&_[data-slot=table-head]]:truncate [&_[data-slot=table-head]]:backdrop-blur-sm [&_[data-slot=table-head]]:shadow-[inset_0_-1px_0_0_rgb(var(--sys-color-border))] [&_[data-slot=table-cell]]:px-2 [&_[data-slot=table-cell]]:py-1.5 [&_[data-slot=table-cell]]:text-xs [&_[data-slot=table-cell]]:truncate"})})}function Nm({title:e,meta:t,children:n}){return i.jsxs("div",{className:"flex w-full min-w-0 max-w-full flex-col overflow-hidden rounded-lg border border-border bg-card shadow-sm [contain:inline-size]",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 border-b border-border bg-muted/40 px-3 py-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:"Preview"}),i.jsx("div",{className:"truncate text-sm font-medium text-foreground",children:e})]}),t?i.jsx("div",{className:"text-xs text-muted-foreground",children:t}):null]}),i.jsx("div",{className:"min-w-0 p-2",children:n})]})}function oJ(e,t){const n=[e.name,`${e.totalRows.toLocaleString()} rows`,`${e.totalColumns.toLocaleString()} columns`];if(e.truncatedRows||e.truncatedColumns){const r=[];e.truncatedRows&&r.push("rows truncated"),e.truncatedColumns&&r.push("columns truncated"),n.push(r.join(", "))}return t>1&&n.push(`1 of ${t} sheets`),n.filter(Boolean).join(" | ")}const TD=50;function aJ(e,t){if(!e)return t;const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n}function zm(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}const iJ={inArray:"in",notInArray:"notIn",isBetween:"between"},lJ=/^(-?\d+)\s*(days|weeks|months)$/i;function Pm(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function Im(e){const t=new Date(e);return t.setHours(23,59,59,999),t}function Tu(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function zi(e){return new Date(e).toISOString()}function LE(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const n=Pm(t),r=Im(t);return[zi(n.getTime()),zi(r.getTime())]}function zD(e){if(Array.isArray(e))return zD(e[0]);if(typeof e=="number")return LE(e);if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=t.match(lJ);if(n){const o=Number.parseInt(n[1]??"",10),l=n[2];if(Number.isNaN(o)||!l)return null;const c=new Date;let d,f;switch(l){case"days":d=Pm(Tu(c,o)),f=Im(d);break;case"weeks":d=Pm(Tu(c,o*7)),f=Im(Tu(d,6));break;case"months":d=Pm(Tu(c,o*30)),f=Im(Tu(d,29));break;default:return null}return[zi(d.getTime()),zi(f.getTime())]}const r=Number(t);return Number.isNaN(r)?null:LE(r)}function $E(e){if(e==null)return null;if(typeof e=="number")return zi(e);if(typeof e=="string"){const t=e.trim();if(!t)return null;const n=Number(t);if(!Number.isNaN(n))return zi(n);const r=Date.parse(t);if(!Number.isNaN(r))return zi(r)}return null}function FE(e){if(e==null)return null;if(typeof e=="number")return e;if(typeof e=="string"){const t=e.trim();if(!t)return null;const n=Number(t);return Number.isNaN(n)?e:n}return e}function UE(e){if(e==null)return null;if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return null;if(t==="true")return!0;if(t==="false")return!1}return e}function cJ(e){if(e.variant==="date"||e.variant==="dateRange")return Array.isArray(e.value)?e.value.map(t=>$E(t)).filter(Boolean):$E(e.value);if(e.variant==="number"||e.variant==="range")return Array.isArray(e.value)?e.value.map(t=>FE(t)).filter(t=>t!==null):FE(e.value);if(e.variant==="boolean")return Array.isArray(e.value)?e.value.map(t=>UE(t)).filter(t=>t!==null):UE(e.value);if(e.id==="assigneeId"){const t=Array.isArray(e.value)?e.value:[e.value],n=t.includes(Wi),r=t.filter(o=>o!=null&&o!==Wi);return n?[...r,null]:r}if(e.id==="hasOutput"){if(Array.isArray(e.value))return e.value.map(t=>String(t).toLowerCase()==="true");if(typeof e.value=="string")return e.value.toLowerCase()==="true"}return e.value}function uJ(e){if(!e)return null;const t=e.trim();if(!t)return null;if(t.startsWith("[")||t.startsWith("{"))try{const n=JSON.parse(t);if(Array.isArray(n)){const r=n.map(o=>o).filter(o=>o&&typeof o.id=="string");if(r.length>0)return r.map(o=>`${o.desc?"-":""}${o.id}`).join(",")}}catch{return t}return t}function dJ(e){if(!e)return[];const t=xv(e);return t.length===0?[]:r7(t).map(r=>{if(r.operator==="isRelativeToToday"){const d=zD(r.value);return d?{id:r.id,operator:"between",value:d}:null}const o=iJ[r.operator]??r.operator,l=cJ(r),c={id:r.id,operator:o};return o!=="isEmpty"&&o!=="isNotEmpty"&&(c.value=l),{...c}}).filter(r=>!!r)}const fJ=new Set(["xlsx","csv"]);function mJ({data:e,pageCount:t,workspaceId:n,people:r,tagOptions:o,onAssign:l,onToggleTag:c,toolbarActions:d,scrollContainerRef:f,scrollFooter:p}){const[g,x]=h.useState(null),[v,y]=Ed(),[S,C]=h.useState(()=>v.get("q")??"");h.useEffect(()=>{C(v.get("q")??"")},[v]);const j=h.useMemo(()=>["uploaded","processing","processed","failed","archived"].map(F=>({value:F,label:F[0]?.toUpperCase()+F.slice(1)})),[]),E=h.useMemo(()=>["xlsx","xls","csv","pdf"].map(F=>({value:F,label:Kb(F)})),[]),N=h.useMemo(()=>r.map(F=>({label:F.label,value:F.userId??F.key.replace(/^user:/,"")})).filter(F=>!!F.value),[r]),_=h.useMemo(()=>[{label:"Unassigned",value:Wi},...N],[N]),R=h.useMemo(()=>o.map(F=>({label:F,value:F})),[o]),D=h.useMemo(()=>["queued","running","succeeded","failed","cancelled"].map(F=>({value:F,label:F[0]?.toUpperCase()+F.slice(1)})),[]),A=h.useMemo(()=>[{value:"manual_upload",label:"Manual upload"}],[]),M=h.useMemo(()=>[{id:"id",accessorKey:"id",header:({column:F})=>i.jsx(Zn,{column:F,label:"ID"}),cell:({row:F})=>i.jsx("span",{className:"font-mono text-xs text-muted-foreground",title:F.getValue("id"),children:Yb(F.getValue("id"))}),enableHiding:!0},{id:"workspaceId",accessorKey:"workspaceId",header:({column:F})=>i.jsx(Zn,{column:F,label:"Workspace"}),cell:({row:F})=>i.jsx("span",{className:"font-mono text-xs text-muted-foreground",title:F.getValue("workspaceId"),children:Yb(F.getValue("workspaceId"))}),enableSorting:!1,enableHiding:!0},{id:"name",accessorKey:"name",header:({column:F})=>i.jsx(Zn,{column:F,label:"Document"}),cell:({row:F})=>i.jsx("div",{className:"min-w-0 max-w-full truncate font-medium",title:F.getValue("name"),children:F.getValue("name")}),meta:{label:"Document",placeholder:"Search documents...",variant:"text"},enableColumnFilter:!1,enableHiding:!1},{id:"status",accessorKey:"status",header:({column:F})=>i.jsx(Zn,{column:F,label:"Status"}),cell:({row:F})=>i.jsx(Za,{variant:"outline",className:"capitalize",children:F.getValue("status")}),meta:{label:"Status",variant:"multiSelect",options:j},enableColumnFilter:!0,enableHiding:!1},{id:"fileType",accessorKey:"fileType",header:({column:F})=>i.jsx(Zn,{column:F,label:"Type"}),cell:({row:F})=>Kb(F.getValue("fileType")),meta:{label:"Type",variant:"multiSelect",options:E},enableColumnFilter:!0,enableSorting:!1},{id:"uploaderId",accessorFn:F=>F.uploader?.id??null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Uploader"}),cell:({row:F})=>gJ(F.original.uploader),meta:{label:"Uploader",variant:"multiSelect",options:N},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"assigneeId",accessorFn:F=>F.assignee?.id??null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Assignee"}),cell:({row:F})=>i.jsx(XX,{people:r,value:[F.original.assignee?.id?`user:${F.original.assignee.id}`:eJ()],onChange:ae=>l(F.original.id,JX(ae)),placeholder:"Assignee...",includeUnassigned:!0,buttonClassName:"min-w-[140px] bg-background px-2 py-1 text-[11px] shadow-none"}),meta:{label:"Assignee",variant:"multiSelect",options:_},enableColumnFilter:!0,enableSorting:!1,enableHiding:!1},{id:"tags",accessorKey:"tags",header:({column:F})=>i.jsx(Zn,{column:F,label:"Tags"}),cell:({row:F})=>i.jsx(tJ,{workspaceId:n,selected:F.original.tags??[],onToggle:ae=>c(F.original.id,ae),placeholder:"Add tags",buttonClassName:"min-w-0 max-w-[12rem] bg-background px-2 py-1 text-[11px] shadow-none"}),meta:{label:"Tags",variant:"multiSelect",options:R},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"byteSize",accessorKey:"byteSize",header:({column:F})=>i.jsx(Zn,{column:F,label:"Size"}),cell:({row:F})=>ac(F.getValue("byteSize")),meta:{label:"Size",variant:"number",unit:"bytes"},enableColumnFilter:!0,enableHiding:!0},{id:"latestResult",accessorKey:"latestResult",header:({column:F})=>i.jsx(Zn,{column:F,label:"Result"}),cell:({row:F})=>hJ(F.original.latestResult),enableSorting:!1,enableHiding:!0},{id:"runStatus",accessorFn:F=>F.latestRun?.status??null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Run Status"}),cell:({row:F})=>i.jsx("span",{className:"capitalize",children:F.original.latestRun?.status??"-"}),meta:{label:"Run Status",variant:"multiSelect",options:D},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"hasOutput",accessorFn:F=>F.latestSuccessfulRun?"true":"false",header:({column:F})=>i.jsx(Zn,{column:F,label:"Has Output"}),cell:({row:F})=>F.original.latestSuccessfulRun?"Yes":"No",meta:{label:"Has Output",variant:"boolean"},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"source",accessorFn:()=>null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Source"}),cell:()=>i.jsx("span",{className:"text-muted-foreground",children:"-"}),meta:{label:"Source",variant:"multiSelect",options:A},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"createdAt",accessorKey:"createdAt",header:({column:F})=>i.jsx(Zn,{column:F,label:"Created"}),cell:({row:F})=>zm(F.getValue("createdAt")),meta:{label:"Created",variant:"date"},enableColumnFilter:!0,enableHiding:!1},{id:"updatedAt",accessorKey:"updatedAt",header:({column:F})=>i.jsx(Zn,{column:F,label:"Updated"}),cell:({row:F})=>zm(F.getValue("updatedAt")),meta:{label:"Updated",variant:"date"},enableColumnFilter:!0,enableHiding:!0},{id:"activityAt",accessorKey:"activityAt",header:({column:F})=>i.jsx(Zn,{column:F,label:"Activity"}),cell:({row:F})=>zm(F.getValue("activityAt")),meta:{label:"Activity",variant:"date"},enableColumnFilter:!0,enableHiding:!0},{id:"latestRunAt",accessorFn:F=>F.latestRun?.completedAt??F.latestRun?.startedAt??null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Latest Run"}),cell:({row:F})=>BE(F.original.latestRun),enableHiding:!0},{id:"latestSuccessfulRun",accessorFn:F=>F.latestSuccessfulRun?.completedAt??F.latestSuccessfulRun?.startedAt??null,header:({column:F})=>i.jsx(Zn,{column:F,label:"Latest Success"}),cell:({row:F})=>BE(F.original.latestSuccessfulRun),enableSorting:!1,enableHiding:!0}],[_,E,N,l,c,r,D,A,j,R,n]),{table:O,debounceMs:L,throttleMs:T,shallow:G,history:P,startTransition:$}=ZX({data:e,columns:M,pageCount:t,initialState:{sorting:[{id:"createdAt",desc:!0}],pagination:{pageSize:TD},columnVisibility:{runStatus:!1,hasOutput:!1,source:!1}},getRowId:F=>F.id,enableAdvancedFilter:!0,clearOnDefault:!0}),W=P!=="push",ce=h.useCallback(F=>{const ae=()=>y(B=>{const U=new URLSearchParams(B),ne=F.trim();return ne?U.set("q",ne):U.delete("q"),U.delete("page"),U},{replace:W});$?$(()=>ae()):ae()},[W,y,$]),z=iw(ce,L),q=h.useCallback(F=>F.id===g,[g]),Z=h.useCallback((F,ae)=>{const B=ae.target;B?.closest("[data-ignore-row-click='true'], [data-ignore-row-click]")||B?.closest("button, a, input, [role='button']")||x(U=>U===F.id?null:F.id)},[]);return i.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3",children:[i.jsxs(wG,{table:O,children:[i.jsx(mr,{value:S,onChange:F=>{const ae=F.target.value;C(ae),z(ae)},placeholder:"Search documents...",className:"h-8 w-full max-w-[240px]"}),i.jsx($X,{table:O,align:"start"}),i.jsx(zX,{table:O,align:"start",debounceMs:L,throttleMs:T,shallow:G,history:P,startTransition:$}),d?i.jsx("div",{className:"ml-auto flex flex-wrap items-center gap-2",children:d}):null]}),i.jsxs("div",{ref:f,className:"flex min-h-0 min-w-0 flex-1 flex-col items-start gap-3 overflow-auto rounded-md border border-border bg-background",children:[i.jsx(EM,{table:O,showPagination:!1,className:"inline-flex min-w-full w-max overflow-visible [&>div]:border-0 [&>div]:overflow-visible [&>div]:rounded-none [&_[data-slot=table]]:min-w-full [&_[data-slot=table]]:w-max [&_[data-slot=table]]:table-fixed [&_[data-slot=table-container]]:max-w-full [&_[data-slot=table-container]]:overflow-visible [&_[data-slot=table-head]]:!sticky [&_[data-slot=table-head]]:top-0 [&_[data-slot=table-head]]:!z-20 [&_[data-slot=table-head]]:bg-background/95 [&_[data-slot=table-head]]:backdrop-blur-sm [&_[data-slot=table-head]]:shadow-[inset_0_-1px_0_0_rgb(var(--sys-color-border))]",onRowClick:Z,isRowExpanded:q,expandedRowCellClassName:"bg-muted/20 p-0 align-top whitespace-normal overflow-hidden",renderExpandedRow:F=>i.jsx("div",{className:"min-w-0 max-w-full",children:fJ.has(F.original.fileType)?i.jsx(sJ,{document:F.original}):i.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"Preview not available for this file type."})})}),p]})]})}function hJ(e){return e?!(!!e.pending&&e.attention===0&&e.unmapped===0)&&e.attention===0&&e.unmapped===0?i.jsx("span",{className:"text-muted-foreground",children:"OK"}):i.jsx(QX,{mapping:e,showPending:!0}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}function pJ(e){if(!e)return"-";const t=e.replace(/_/g," ");return t[0]?.toUpperCase()+t.slice(1)}function BE(e){if(!e)return i.jsx("span",{className:"text-muted-foreground",children:"-"});const t=e.completedAt??e.startedAt,n=pJ(String(e.status));return i.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",title:e.errorSummary??void 0,children:[i.jsx("span",{className:"truncate capitalize",children:n}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t?zm(t):"-"})]})}function gJ(e){if(!e)return i.jsx("span",{className:"text-muted-foreground",children:"-"});const t=e.name??e.email??"Unknown",n=e.name?e.email:null;return i.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[i.jsx("span",{className:"truncate",children:t}),n?i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:n}):null]})}function VE({title:e,description:t,action:n,className:r}){return i.jsxs("div",{className:ze("flex h-full flex-col items-center justify-center gap-3 rounded-md border border-border bg-card px-8 py-12 text-center text-sm",r),children:[i.jsx("p",{className:"font-semibold text-foreground",children:e}),i.jsx("p",{className:"text-muted-foreground",children:t}),n?i.jsx(rt,{size:"sm",variant:"outline",onClick:n.onClick,children:n.label}):null]})}function wb({title:e,description:t,actions:n,className:r}){return i.jsxs("div",{className:ze("flex flex-wrap items-center justify-between gap-3 rounded-md border border-border bg-muted/30 px-4 py-3 text-sm",r),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:e}),i.jsx("p",{className:"text-muted-foreground",children:t})]}),n?i.jsx("div",{className:"flex items-center gap-2",children:n}):null]})}function xJ(){const[e,t]=Ed();h.useEffect(()=>{e.has("page")&&t(d=>{const f=new URLSearchParams(d);return f.delete("page"),f},{replace:!0})},[e,t]);const n=h.useMemo(()=>aJ(e.get("perPage"),TD),[e]),r=h.useMemo(()=>e.get("sort"),[e]),o=h.useMemo(()=>e.get("filters"),[e]),l=h.useMemo(()=>{const d=e.get("joinOperator");return d==="and"||d==="or"?d:null},[e]),c=h.useMemo(()=>{const d=e.get("q")?.trim();return d||null},[e]);return{perPage:n,sort:r,filters:o,joinOperator:l,q:c}}function bJ(e,t){return new Promise(n=>{let r;const o=()=>{window.clearTimeout(r),t.removeEventListener("abort",o),n()};r=window.setTimeout(()=>{t.removeEventListener("abort",o),n()},e),t.addEventListener("abort",o)})}function vJ({workspaceId:e,currentUser:t,configMissing:n=!1,processingPaused:r=!1,toolbarActions:o}){const l=Tt(),{notifyToast:c}=pd(),[d,f]=h.useState(!1),p=h.useRef(null),g=h.useRef(null),x=h.useRef(null),{perPage:v,sort:y,filters:S,joinOperator:C,q:j}=xJ(),E=h.useMemo(()=>uJ(y),[y]),N=h.useMemo(()=>dJ(S),[S]),_=h.useMemo(()=>N.length>0?JSON.stringify(N):"",[N]),R=h.useMemo(()=>["tablecn-documents",e,v,E,_,C,j],[e,v,E,_,C,j]),D=_v({queryKey:R,initialPageParam:1,queryFn:({pageParam:H,signal:Y})=>mU(e,{page:typeof H=="number"?H:1,perPage:v,sort:E,filters:N.length>0?N:void 0,joinOperator:C??void 0,q:j??void 0},Y),getNextPageParam:H=>H.page<H.pageCount?H.page+1:void 0,enabled:!!e,staleTime:15e3}),{fetchNextPage:A,hasNextPage:M,isFetchingNextPage:O,refetch:L}=D,T=h.useMemo(()=>D.data?.pages.flatMap(H=>H.items??[])??[],[D.data?.pages]),G=h.useMemo(()=>new Map(T.map(H=>[H.id,H])),[T]),P=_n({queryKey:["tablecn-documents-members",e],queryFn:({signal:H})=>qN(e,{page:1,pageSize:200,signal:H}),enabled:!!e,staleTime:6e4}),$=h.useMemo(()=>{const H=new Map,Y=`user:${t.id}`;return H.set(Y,{key:Y,label:t.label,kind:"user",userId:t.id}),(P.data?.items??[]).forEach(te=>{const se=`user:${te.user_id}`,oe=te.user_id===t.id?t.label:`Member ${Yb(te.user_id)}`;H.has(se)||H.set(se,{key:se,label:oe,kind:"user",userId:te.user_id})}),Array.from(H.values()).sort((te,se)=>te.label.localeCompare(se.label))},[t.id,t.label,P.data?.items]),W=_n({queryKey:["tablecn-documents-tags",e],queryFn:({signal:H})=>Rk(e,{page:1,perPage:200,sort:"-count"},H),enabled:!!e,staleTime:6e4}),ce=h.useMemo(()=>W.data?.items?.map(H=>H.tag)??[],[W.data?.items]),z=h.useCallback((H,Y)=>{l.setQueryData(R,V=>V?.pages?{...V,pages:V.pages.map(te=>({...te,items:(te.items??[]).map(se=>se.id===H?{...se,...Y}:se)}))}:V)},[l,R,D.data]),q=h.useCallback(async(H,Y)=>{const V=Y?.startsWith("user:")?Y.slice(5):null,te=Y?$.find(oe=>oe.key===Y)?.label??Y:null,se=te&&te.includes("@")?te:"";try{const oe=await hU(e,H,{assigneeId:V});z(H,{assignee:oe.assignee??(V?{id:V,name:te,email:se}:null)})}catch(oe){c({title:"Unable to update assignee",description:oe instanceof Error?oe.message:"Please try again.",intent:"danger"})}},[c,$,z,e]),Z=h.useCallback(async(H,Y)=>{const V=G.get(H);if(!V)return;const te=V.tags??[],se=te.includes(Y);try{await EU(e,H,se?{remove:[Y]}:{add:[Y]});const oe=se?te.filter(fe=>fe!==Y):[...te,Y];z(H,{tags:oe})}catch(oe){c({title:"Unable to update tags",description:oe instanceof Error?oe.message:"Please try again.",intent:"danger"})}},[G,c,z,e]),F=D.data?.pages[0]?.changesCursor??D.data?.pages[0]?.changesCursorHeader??null,ae=h.useCallback(H=>{let Y=!!H.requiresRefresh;l.setQueryData(R,V=>{if(!V)return V;const te=KV(V,H);return Y=Y||te.updatesAvailable,te.data}),Y&&f(V=>V||Y)},[l,R]);if(h.useEffect(()=>{f(!1),p.current=F},[F,_,C,v,j,E,e]),h.useEffect(()=>{if(!e||!F)return;const H=new AbortController;let Y=0;return(async()=>{for(;!H.signal.aborted;){const te=p.current??F,se=NU(e,{cursor:te,sort:E??void 0,filters:N.length>0?N:void 0,joinOperator:C??void 0,q:j??void 0});try{for await(const De of _U(se,H.signal))p.current=De.cursor,ae(De),Y=0}catch(De){if(H.signal.aborted)return;if(De instanceof Pt&&De.status===410){f(!1),L();return}console.warn("Tablecn document change stream failed",De)}if(H.signal.aborted)return;const Se=Math.min(3e4,1e3*2**Math.min(Y,5));Y+=1;const Ae=Math.floor(Se*.15*Math.random());await bJ(Se+Ae,H.signal)}})(),()=>H.abort()},[ae,F,C,N,E,j,L,e]),h.useEffect(()=>{if(!g.current||!M)return;const H=new IntersectionObserver(Y=>{Y[0]?.isIntersecting&&(O||A())},{root:x.current,rootMargin:"200px"});return H.observe(g.current),()=>H.disconnect()},[A,M,O]),D.isLoading)return i.jsx("div",{className:"min-h-[240px]",children:i.jsx(VE,{title:"Loading documents",description:"Fetching the latest processing activity."})});if(D.isError)return i.jsx("div",{className:"min-h-[240px]",children:i.jsx(VE,{title:"Unable to load documents",description:"We could not refresh this view. Try again.",action:{label:"Try again",onClick:()=>D.refetch()}})});const B=D.data?.pages[0]?.pageCount??1,U=()=>{f(!1),D.refetch()},ne=`/workspaces/${e}/config-builder`,K=`/workspaces/${e}/settings/processing`;return i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col gap-3",children:[n?i.jsx(wb,{title:"No active configuration",description:"Uploads will be stored, but runs won't start until you activate a configuration.",className:"border-warning-200 bg-warning-50/60 text-warning-900 dark:border-warning-500/40 dark:bg-warning-500/10 dark:text-warning-100",actions:i.jsx(rt,{asChild:!0,variant:"outline",size:"sm",children:i.jsx(nd,{to:ne,children:"Open config builder"})})}):null,r?i.jsx(wb,{title:"Processing paused",description:"Uploads are queued and won't start until processing is resumed.",className:"border-warning-200 bg-warning-50/60 text-warning-900 dark:border-warning-500/40 dark:bg-warning-500/10 dark:text-warning-100",actions:i.jsx(rt,{asChild:!0,variant:"outline",size:"sm",children:i.jsx(nd,{to:K,children:"Open processing settings"})})}):null,d?i.jsx(wb,{title:"Updates available",description:"Refresh to load the latest changes.",actions:i.jsxs(i.Fragment,{children:[i.jsx(rt,{variant:"outline",size:"sm",onClick:U,disabled:D.isFetching,children:D.isFetching?"Refreshing...":"Refresh"}),i.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Dismiss"})]})}):null,i.jsx(mJ,{data:T,pageCount:B,workspaceId:e,people:$,tagOptions:ce,onAssign:q,onToggleTag:Z,toolbarActions:o,scrollContainerRef:x,scrollFooter:i.jsxs(i.Fragment,{children:[M?i.jsx("div",{className:"flex w-full items-center justify-center py-2 text-xs text-muted-foreground",children:O?"Loading more documents...":"Scroll to load more"}):null,i.jsx("div",{ref:g,className:"h-1 w-full"})]})})]})}function yJ(){const e=bc(),{workspace:t}=Ws(),{notifyToast:n}=pd(),r=h.useRef(null),[o,l]=h.useState([]),c=DV({workspaceId:t.id}),d=$h({workspaceId:t.id}),f=h.useMemo(()=>({id:e.user.id,email:e.user.email,label:e.user.display_name||e.user.email||"You"}),[e.user.display_name,e.user.email,e.user.id]),p=h.useMemo(()=>(d.data?.items??[]).find(N=>N.status==="active")??null,[d.data?.items]),g=d.isSuccess&&!p,x=t.processing_paused??!1,v=h.useCallback(()=>r.current?.click(),[]),y=h.useCallback(E=>{const N=Array.from(E.target.files??[]);N.length>0&&l(N),E.target.value=""},[]),S=h.useCallback(E=>{if(!E.length)return;const N=c.enqueue(E),_=x?g?"Uploads saved. Processing is paused and no configuration is active yet.":"Uploads saved. Processing is paused for this workspace.":g?"Uploads saved. Processing will start once an active configuration is set.":"Processing will begin automatically.";n({title:`${N.length} file${N.length===1?"":"s"} added`,description:_,intent:"success"}),l([])},[g,n,x,c]),C=h.useCallback(()=>{l([])},[]),j=i.jsxs(i.Fragment,{children:[i.jsx(qV,{items:c.items,summary:c.summary,onPause:c.pause,onResume:c.resume,onRetry:c.retry,onCancel:c.cancel,onRemove:c.remove,onClearCompleted:c.clearCompleted}),i.jsxs(rt,{size:"sm",onClick:v,className:"gap-2",children:[i.jsx(vh,{className:"h-4 w-4"}),"Upload"]}),i.jsx("input",{ref:r,type:"file",multiple:!0,className:"hidden",onChange:y})]});return i.jsxs("div",{className:"documents flex min-h-0 flex-1 flex-col bg-background text-foreground",children:[i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:i.jsx("section",{className:"flex min-h-0 min-w-0 flex-1 flex-col overflow-hidden px-6 py-4",children:i.jsx(vJ,{workspaceId:t.id,currentUser:f,configMissing:g,processingPaused:x,toolbarActions:j})})}),i.jsx(WV,{open:o.length>0,files:o,onConfirm:S,onCancel:C,processingPaused:x,configMissing:g})]})}const pc={search:"",status:"all",dateRange:"14d",configurationId:null},PD=[{value:"14d",label:"Last 14 days"},{value:"7d",label:"Last 7 days"},{value:"24h",label:"Last 24 hours"},{value:"30d",label:"Last 30 days"},{value:"custom",label:"Custom range"}],bv={queued:{label:"Queued",badgeClass:"bg-muted text-muted-foreground",dotClass:"bg-muted-foreground",ringClass:"ring-border",textClass:"text-muted-foreground",surfaceClass:"bg-muted"},running:{label:"Running",badgeClass:"bg-info-100 text-info-700",dotClass:"bg-info-500",ringClass:"ring-info-200",textClass:"text-info-700",surfaceClass:"bg-info-50"},succeeded:{label:"Success",badgeClass:"bg-success-100 text-success-700",dotClass:"bg-success-500",ringClass:"ring-success-200",textClass:"text-success-700",surfaceClass:"bg-success-50"},failed:{label:"Failed",badgeClass:"bg-danger-100 text-danger-700",dotClass:"bg-danger-500",ringClass:"ring-danger-200",textClass:"text-danger-700",surfaceClass:"bg-danger-50"},cancelled:{label:"Cancelled",badgeClass:"bg-muted text-muted-foreground",dotClass:"bg-muted-foreground",ringClass:"ring-border",textClass:"text-muted-foreground",surfaceClass:"bg-muted"}};function wJ({filters:e,configOptions:t,showingCount:n,totalCount:r,onChange:o,onReset:l}){return i.jsx("div",{className:"shrink-0 border-b border-border bg-card px-4 py-3",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-[1fr_1fr_1fr]",children:[i.jsx("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.dateRange,onChange:c=>o({dateRange:c.target.value}),children:PD.map(c=>i.jsx("option",{value:c.value,children:c.label},c.value))}),i.jsxs("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.status,onChange:c=>o({status:c.target.value}),children:[i.jsx("option",{value:"all",children:"Status: all"}),i.jsx("option",{value:"succeeded",children:"Success"}),i.jsx("option",{value:"failed",children:"Failed"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"queued",children:"Queued"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]}),i.jsxs("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.configurationId??"",onChange:c=>o({configurationId:c.target.value||null}),children:[i.jsx("option",{value:"",children:"Config: all"}),t.map(c=>i.jsx("option",{value:c.id,children:c.label},c.id))]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Showing ",i.jsx("span",{className:"font-semibold text-foreground",children:n})," of"," ",i.jsx("span",{className:"font-semibold text-foreground",children:r})]}),i.jsx(Ge,{size:"sm",variant:"ghost",onClick:l,children:"Reset"})]})]})})}const SJ=new Intl.NumberFormat("en-US");function ct(e){return e==null?"":SJ.format(e)}function lw(e){return e==null?"":`${e}%`}function ID(e){return e==null||Number.isNaN(e)?"":e.toFixed(2)}function LD(e){if(!e)return null;const t=e.field_count_expected??null,n=e.field_count_detected??null;return!t||t<=0||n===null?null:Math.round(n/t*100)}function CJ(e,t){if(typeof e=="number"&&Number.isFinite(e)){const n=Math.floor(e/60),r=Math.round(e%60);return n<=0?`${r}s`:`${n}m ${r}s`}return t==="queued"?"Queued":t==="running"?"Running":t==="cancelled"?"Cancelled":""}function jJ(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function EJ(e){return e.warnings===0&&e.errors===0?"Clean":typeof e.errors=="number"&&e.errors>0?`${e.errors} errors`:typeof e.warnings=="number"?`${e.warnings} warnings`:""}function NJ(e){return!e||e==="all"?"all":["queued","running","succeeded","failed","cancelled"].includes(e)?e:"all"}function _J(e){return e&&["14d","7d","24h","30d","custom"].includes(e)?e:"14d"}function kJ(e){let t=!1;const n={total:0,success:0,warning:null,failed:0,running:0,queued:0,cancelled:0,active:0};return e.forEach(r=>{n.total+=1,r.status==="succeeded"&&(n.success+=1),r.status==="failed"&&(n.failed+=1),r.status==="cancelled"&&(n.cancelled+=1),r.status==="running"&&(n.running+=1),r.status==="queued"&&(n.queued+=1),typeof r.warnings=="number"&&(t=!0,n.warning=(n.warning??0)+r.warnings)}),n.active=n.running+n.queued,t||(n.warning=null),n}function RJ(e){const t=e.input?.filename??e.input?.document_id??`Run ${e.id}`,n=e.output?.filename??null,r=jJ(e.started_at??e.created_at),o=CJ(e.duration_seconds??null,e.status),l=e.config_version??e.configuration_id??"";return{id:e.id,configurationId:e.configuration_id,status:e.status,inputName:t,outputName:n,configLabel:l,startedAtLabel:r,durationLabel:o,rows:null,warnings:null,errors:null,quality:null,ownerLabel:"",triggerLabel:"",engineLabel:e.engine_version??"",regionLabel:"",notes:e.failure_message??null,raw:e}}function MJ(e,t=new Date){if(e==="custom")return null;const n=new Date(t),r=new Date(t);return e==="24h"?r.setHours(r.getHours()-24):e==="7d"?r.setDate(r.getDate()-7):e==="30d"?r.setDate(r.getDate()-30):r.setDate(r.getDate()-14),[r.toISOString(),n.toISOString()]}function DJ({counts:e,rangeLabel:t}){const n=e.success+e.failed+e.cancelled,r=e.failed+e.cancelled,o=n>0?Math.round(e.success/n*100):0,l=e.warning===null?"":ct(e.warning);return i.jsx("div",{className:"shrink-0 border-b border-border bg-card px-6 py-4",children:i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-[1.1fr_1fr_1fr_1fr_1fr]",children:[i.jsx(zu,{label:"Total runs",value:ct(e.total),meta:t}),i.jsx(zu,{label:"Active queue",value:ct(e.active),meta:`${ct(e.running)} running  ${ct(e.queued)} queued`,tone:"info"}),i.jsx(zu,{label:"Success rate",value:`${o}%`,meta:`${ct(e.success)} of ${ct(n)} completed`,tone:"success"}),i.jsx(zu,{label:"Failed",value:ct(r),meta:"Failed or cancelled runs",tone:"danger"}),i.jsx(zu,{label:"Warnings",value:l,meta:"Validation warnings",tone:"warning"})]})})}function zu({label:e,value:t,meta:n,tone:r="default"}){const o=r==="success"?"text-success-700":r==="warning"?"text-warning-700":r==="danger"?"text-danger-700":r==="info"?"text-info-700":"text-foreground";return i.jsxs("div",{className:"rounded-xl border border-border bg-background px-4 py-3",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:e}),i.jsx("p",{className:de("mt-1 text-2xl font-semibold",o),children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}function AJ({run:e,onClose:t,metrics:n,metricsLoading:r,metricsError:o,fields:l,fieldsLoading:c,fieldsError:d,columns:f,columnsLoading:p,columnsError:g}){const[x,v]=h.useState("summary"),y=h.useMemo(()=>{const j=n?.validation_issues_warning??n?.evaluation_findings_warning??e.warnings??null,E=n?.validation_issues_error??n?.evaluation_findings_error??e.errors??null,N=n?.row_count_total??e.rows??null,_=LD(n)??e.quality??null;return{warnings:j,errors:E,rows:N,quality:_}},[n,e.errors,e.quality,e.rows,e.warnings]),S=y.warnings===null?"Warnings data unavailable":`${ct(y.warnings)} warnings detected`,C=y.errors===null?"Errors data unavailable":`${ct(y.errors)} errors detected`;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:de("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",bv[e.status].badgeClass),children:bv[e.status].label}),i.jsx("h3",{className:"mt-2 text-base font-semibold text-foreground",children:e.inputName}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.id})]}),i.jsxs("div",{className:"flex items-start gap-3 text-xs text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("p",{children:e.startedAtLabel}),i.jsx("p",{children:e.durationLabel})]}),t?i.jsx(Ge,{size:"sm",variant:"ghost",onClick:t,children:"Close preview"}):null]})]}),i.jsxs(Xv,{value:x,onValueChange:j=>v(j),children:[i.jsxs(Jv,{className:"mt-4 flex flex-wrap gap-2 border-b border-border pb-2",children:[i.jsx(_m,{value:"summary",label:"Summary",active:x==="summary"}),i.jsx(_m,{value:"metrics",label:"Metrics",active:x==="metrics"}),i.jsx(_m,{value:"fields",label:"Fields",active:x==="fields"}),i.jsx(_m,{value:"columns",label:"Columns",active:x==="columns"})]}),i.jsx(Oi,{value:"summary",className:"mt-4",children:i.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1.4fr_1fr]",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"grid gap-2 sm:grid-cols-4",children:[i.jsx(Va,{label:"Rows",value:ct(y.rows)}),i.jsx(Va,{label:"Quality",value:lw(y.quality)}),i.jsx(Va,{label:"Warnings",value:ct(y.warnings)}),i.jsx(Va,{label:"Errors",value:ct(y.errors)})]}),i.jsxs("div",{className:"mt-3 grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[i.jsx(Zl,{label:"Output",value:e.outputName??"Output not available"}),i.jsx(Zl,{label:"Config",value:e.configLabel}),i.jsx(Zl,{label:"Trigger",value:e.triggerLabel}),i.jsx(Zl,{label:"Engine",value:e.engineLabel}),i.jsx(Zl,{label:"Region",value:e.regionLabel}),i.jsx(Zl,{label:"Owner",value:e.ownerLabel})]})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Quick issues"}),i.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-muted-foreground",children:[i.jsx("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:S}),i.jsx("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:C}),i.jsxs("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:["Notes: ",e.notes??"No notes captured"]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[i.jsx(Ge,{size:"sm",variant:"secondary",children:"View logs"}),i.jsx(Ge,{size:"sm",variant:"ghost",children:"Open output"})]})]})]})}),i.jsx(Oi,{value:"metrics",className:"mt-4",children:i.jsx(OJ,{metrics:n,loading:r,error:o})}),i.jsx(Oi,{value:"fields",className:"mt-4",children:i.jsx(TJ,{fields:l,loading:c,error:d})}),i.jsx(Oi,{value:"columns",className:"mt-4",children:i.jsx(zJ,{columns:f,loading:p,error:g})})]})]})}function OJ({metrics:e,loading:t,error:n}){if(t)return i.jsx($s,{title:"Loading metrics",description:"Fetching run metrics and validation summary."});if(n)return i.jsx($s,{title:"Unable to load metrics",description:"Refresh the page or try again later."});if(!e)return i.jsx($s,{title:"Metrics not available yet",description:"Metrics appear after the run completes and the engine summary is captured."});const r=LD(e),o=[{label:"Outcome",value:e.evaluation_outcome??""},{label:"Findings total",value:ct(e.evaluation_findings_total)},{label:"Findings info",value:ct(e.evaluation_findings_info)},{label:"Findings warning",value:ct(e.evaluation_findings_warning)},{label:"Findings error",value:ct(e.evaluation_findings_error)}],l=[{label:"Issues total",value:ct(e.validation_issues_total)},{label:"Info",value:ct(e.validation_issues_info)},{label:"Warnings",value:ct(e.validation_issues_warning)},{label:"Errors",value:ct(e.validation_issues_error)},{label:"Max severity",value:e.validation_max_severity??""}],c=[{label:"Workbooks",value:ct(e.workbook_count)},{label:"Sheets",value:ct(e.sheet_count)},{label:"Tables",value:ct(e.table_count)},{label:"Rows",value:ct(e.row_count_total)},{label:"Empty rows",value:ct(e.row_count_empty)},{label:"Columns",value:ct(e.column_count_total)},{label:"Mapped columns",value:ct(e.column_count_mapped)},{label:"Unmapped columns",value:ct(e.column_count_unmapped)},{label:"Fields detected",value:`${ct(e.field_count_detected)} / ${ct(e.field_count_expected)}`},{label:"Cells non-empty",value:ct(e.cell_count_non_empty)},{label:"Cells total",value:ct(e.cell_count_total)}];return i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsx(Va,{label:"Evaluation",value:e.evaluation_outcome??""}),i.jsx(Va,{label:"Validation",value:e.validation_max_severity??""}),i.jsx(Va,{label:"Rows",value:ct(e.row_count_total)}),i.jsx(Va,{label:"Field coverage",value:lw(r)})]}),i.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1.2fr_1fr]",children:[i.jsx(Sb,{title:"Validation issues",items:l}),i.jsx(Sb,{title:"Evaluation findings",items:o})]}),i.jsx(Sb,{title:"Structure and volume",items:c})]})}function TJ({fields:e,loading:t,error:n}){if(t)return i.jsx($s,{title:"Loading field detection",description:"Fetching per-field detection coverage."});if(n)return i.jsx($s,{title:"Unable to load field detection",description:"Refresh the page or try again later."});if(!e)return i.jsx($s,{title:"Field detection not available",description:"Field summaries appear once the run metrics are computed."});if(e.length===0)return i.jsx($s,{title:"No fields detected",description:"No fields were detected for this run."});const r=e.filter(c=>c.detected).length,o=e.length-r,l=e.length>0?Math.round(r/e.length*100):null;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[i.jsx(nc,{label:"Total fields",value:ct(e.length)}),i.jsx(nc,{label:"Detected",value:ct(r)}),i.jsx(nc,{label:"Not detected",value:ct(o)}),i.jsx(nc,{label:"Coverage",value:lw(l)})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"min-w-[720px]",children:[i.jsxs("div",{className:"grid grid-cols-[1.6fr_120px_140px_120px_120px] border-b border-border bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx("span",{children:"Field"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Best score"}),i.jsx("span",{children:"Tables"}),i.jsx("span",{children:"Columns"})]}),e.map(c=>i.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:i.jsxs("div",{className:"grid grid-cols-[1.6fr_120px_140px_120px_120px] items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:c.label??c.field}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c.field})]}),i.jsx(PJ,{detected:c.detected}),i.jsx("span",{className:"text-xs text-foreground",children:ID(c.best_mapping_score)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:ct(c.occurrences_tables)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:ct(c.occurrences_columns)})]})},c.field))]})})]})}function zJ({columns:e,loading:t,error:n}){if(t)return i.jsx($s,{title:"Loading columns",description:"Fetching detected column headers."});if(n)return i.jsx($s,{title:"Unable to load columns",description:"Refresh the page or try again later."});if(!e)return i.jsx($s,{title:"Column mappings not available",description:"Column details appear once the run metrics are computed."});if(e.length===0)return i.jsx($s,{title:"No columns",description:"No columns were detected for this run."});const r=e.reduce((o,l)=>{const c=FD(l.mapping_status);return o.total+=1,o[c]=(o[c]??0)+1,o},{total:0});return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[i.jsx(nc,{label:"Total columns",value:ct(r.total)}),Object.entries($D).filter(([o])=>r[o]).map(([o,l])=>i.jsx(nc,{label:l.label,value:ct(r[o])},o))]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"min-w-[860px]",children:[i.jsxs("div",{className:"grid grid-cols-[1.5fr_1.4fr_140px_140px_120px_120px] border-b border-border bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx("span",{children:"Location"}),i.jsx("span",{children:"Header"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Mapped field"}),i.jsx("span",{children:"Score"}),i.jsx("span",{children:"Non-empty"})]}),e.map((o,l)=>{const c=o.sheet_name??`Sheet ${o.sheet_index+1}`,d=`Table ${o.table_index+1}`,f=o.workbook_name??`Workbook ${o.workbook_index+1}`,p=o.header_raw??o.header_normalized??"",g=o.header_normalized,x=o.mapped_field??"";return i.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:i.jsxs("div",{className:"grid grid-cols-[1.5fr_1.4fr_140px_140px_120px_120px] items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:c}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f," / ",d]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:p}),g&&g!==p?i.jsx("p",{className:"text-xs text-muted-foreground",children:g}):null]}),i.jsx(IJ,{status:o.mapping_status}),i.jsx("span",{className:"text-xs text-muted-foreground",children:x}),i.jsx("span",{className:"text-xs text-muted-foreground",children:ID(o.mapping_score)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:ct(o.non_empty_cells)})]})},`${o.workbook_index}-${o.sheet_index}-${o.table_index}-${o.column_index}-${l}`)})]})})]})}function Va({label:e,value:t}){return i.jsxs("div",{className:"rounded-xl border border-border bg-background px-3 py-2",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:e}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:t})]})}function Zl({label:e,value:t}){return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background px-3 py-2",children:[i.jsx("span",{children:e}),i.jsx("span",{className:"text-foreground",children:t})]})}function Sb({title:e,items:t}){return i.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:t.map(n=>i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/70 bg-card px-3 py-2 text-xs",children:[i.jsx("span",{className:"text-muted-foreground",children:n.label}),i.jsx("span",{className:"text-foreground",children:n.value})]},n.label))})]})}function nc({label:e,value:t}){return i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-background px-3 py-1",children:[i.jsx("span",{children:e}),i.jsx("span",{className:"font-semibold text-foreground",children:t})]})}function PJ({detected:e}){return i.jsx("span",{className:de("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",e?"bg-success-100 text-success-700":"bg-muted text-muted-foreground"),children:e?"Detected":"Not detected"})}const $D={mapped:{label:"Mapped",className:"bg-success-100 text-success-700"},unmapped:{label:"Unmapped",className:"bg-muted text-muted-foreground"}};function IJ({status:e}){const t=FD(e),n=$D[t];return i.jsx("span",{className:de("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",n.className),children:n.label})}function FD(e){return e?.toLowerCase?.()==="mapped"?"mapped":"unmapped"}function _m({value:e,label:t,active:n}){return i.jsx(Qm,{value:e,className:de("rounded-full border px-3 py-1 text-xs font-semibold transition",n?"border-transparent bg-brand-600 text-on-brand":"border-border bg-background text-muted-foreground"),children:t})}function $s({title:e,description:t}){return i.jsxs("div",{className:"rounded-xl border border-dashed border-border bg-background px-4 py-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:t})]})}const LJ="button, a, input, select, textarea, [role='button'], [role='menuitem'], [data-ignore-row-click='true']";function $J(e){return e instanceof Element?!!e.closest(LJ):!1}function FJ({runs:e,activeId:t,onSelect:n,onNavigate:r,expandedId:o,expandedContent:l}){const c=h.useRef(null),d=h.useRef(new Map);h.useEffect(()=>{if(!t)return;const p=c.current,g=d.current.get(t);if(!p||!g)return;const x=g.offsetTop-p.offsetTop;p.scrollTo({top:Math.max(0,x)})},[t]);const f=p=>{if(!r||p.target?.closest("input, textarea, select, button, a, [role='button'], [role='menuitem']")||e.length===0||p.key!=="ArrowDown"&&p.key!=="ArrowUp")return;p.preventDefault();const x=e.findIndex(y=>y.id===t);if(x<0){r(e[0].id);return}const v=p.key==="ArrowDown"?Math.min(e.length-1,x+1):Math.max(0,x-1);r(e[v].id)};return i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-card",children:[i.jsx("div",{className:"shrink-0 border-b border-border bg-background/40 px-6 py-2 text-[11px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:i.jsxs("div",{className:"grid grid-cols-[120px_minmax(0,2fr)_minmax(0,1fr)_minmax(0,1fr)_minmax(0,0.8fr)_minmax(0,0.8fr)_minmax(0,0.6fr)_minmax(0,0.8fr)_minmax(0,0.6fr)] items-center gap-3",children:[i.jsx("div",{children:"Status"}),i.jsx("div",{children:"Input"}),i.jsx("div",{children:"Config"}),i.jsx("div",{children:"Started"}),i.jsx("div",{className:"text-right",children:"Duration"}),i.jsx("div",{className:"text-right",children:"Result"}),i.jsx("div",{className:"text-right",children:"Rows"}),i.jsx("div",{children:"Owner"}),i.jsx("div",{className:"text-right",children:"Actions"})]})}),i.jsx("div",{ref:c,className:"flex-1 min-h-0 overflow-y-auto px-6 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",tabIndex:0,role:"listbox","aria-label":"Runs",onKeyDown:f,children:i.jsx("div",{className:"flex flex-col",children:e.map(p=>{const g=bv[p.status],x=t===p.id,v=!!(l&&o===p.id),y=`runs-preview-${p.id}`,S=C=>{C.key!=="Enter"&&C.key!==" "||C.currentTarget===C.target&&(C.preventDefault(),n(p.id))};return i.jsxs("div",{ref:C=>{C?d.current.set(p.id,C):d.current.delete(p.id)},className:"border-b border-border/70",children:[i.jsxs("div",{role:"option",tabIndex:0,onKeyDown:S,onClick:C=>{$J(C.target)||n(p.id)},className:de("grid cursor-pointer grid-cols-[120px_minmax(0,2fr)_minmax(0,1fr)_minmax(0,1fr)_minmax(0,0.8fr)_minmax(0,0.8fr)_minmax(0,0.6fr)_minmax(0,0.8fr)_minmax(0,0.6fr)] items-center gap-3 py-3 text-left text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",x?"bg-brand-50 dark:bg-brand-500/20":"hover:bg-background dark:hover:bg-muted/40"),"aria-selected":x,"aria-expanded":v,"aria-controls":v?y:void 0,children:[i.jsxs("div",{className:"inline-flex items-center gap-2 text-xs font-semibold text-foreground",children:[i.jsx("span",{className:de("h-2.5 w-2.5 rounded-full",g.dotClass)}),g.label]}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate font-semibold text-foreground",children:p.inputName}),i.jsx("p",{className:"truncate text-[11px] text-muted-foreground",children:p.id})]}),i.jsx("span",{className:"truncate text-xs text-foreground",children:p.configLabel}),i.jsx("span",{className:"text-xs text-muted-foreground",children:p.startedAtLabel}),i.jsx("span",{className:"text-right text-sm text-muted-foreground",children:p.durationLabel}),i.jsx("div",{className:"flex justify-end",children:i.jsx(UJ,{run:p})}),i.jsx("span",{className:"text-right text-sm text-foreground",children:ct(p.rows)}),i.jsx("span",{className:"truncate text-sm text-foreground",children:p.ownerLabel}),i.jsxs("div",{className:"flex items-center justify-end gap-2","data-ignore-row-click":!0,children:[i.jsx(HE,{label:"View logs",href:p.raw.links?.logs??null,icon:i.jsx(KT,{className:"h-4 w-4"})}),i.jsx(HE,{label:p.raw.output?.ready?"Open output":"Output not ready",href:p.raw.output?.ready?p.raw.links?.output_download??p.raw.links?.output??null:null,icon:i.jsx(ZT,{className:"h-4 w-4"})})]})]}),v?i.jsx("div",{id:y,role:"region","aria-label":`Run details for ${p.inputName}`,className:"bg-background/60 px-6 pb-4 pt-2",children:i.jsx("div",{className:"rounded-2xl border border-border bg-card shadow-sm",children:l})}):null]},p.id)})})})]})}function UJ({run:e}){const t=EJ(e),n=t==="",r=t==="Clean",o=typeof e.errors=="number"&&e.errors>0?"bg-danger-100 text-danger-700":typeof e.warnings=="number"&&e.warnings>0?"bg-warning-100 text-warning-700":r?"bg-success-100 text-success-700":"bg-muted text-muted-foreground";return i.jsx("span",{className:de("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",o,n?"opacity-70":""),children:t})}function HE({label:e,href:t,icon:n}){return t?i.jsx("a",{href:t,onClick:r=>r.stopPropagation(),target:"_blank",rel:"noreferrer","aria-label":e,title:e,className:de("inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-card text-muted-foreground transition","hover:bg-background hover:text-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background"),children:n}):i.jsx("button",{type:"button",onClick:r=>r.stopPropagation(),disabled:!0,"aria-label":e,title:e,className:de("inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-card text-muted-foreground/60","cursor-not-allowed"),children:n})}const Yr={root:()=>["runs"],workspace:e=>[...Yr.root(),e],list:(e,t)=>[...Yr.workspace(e),"list",t],run:e=>[...Yr.root(),"run",e],metrics:e=>[...Yr.run(e),"metrics"],fields:e=>[...Yr.run(e),"fields"],columns:(e,t)=>[...Yr.run(e),"columns",t??{}]};function BJ({workspaceId:e,initialFilters:t}){const[n,r]=h.useState(t??pc),[o,l]=h.useState(null),[c,d]=h.useState(!1),f=h.useMemo(()=>{const L=[],T=n.search.trim(),G=MJ(n.dateRange);return n.status!=="all"&&L.push({id:"status",operator:"eq",value:n.status}),n.configurationId&&L.push({id:"configurationId",operator:"eq",value:n.configurationId}),G&&L.push({id:"createdAt",operator:"between",value:G}),{page:1,perPage:DU,sort:"-createdAt",q:T.length>=2?T:void 0,filters:L.length>0?L:void 0}},[n.configurationId,n.dateRange,n.search,n.status]),p=_n({queryKey:Yr.list(e,f),queryFn:({signal:L})=>OU(e,f,L),enabled:!!e,staleTime:15e3}),g=h.useMemo(()=>(p.data?.items??[]).map(L=>RJ(L)),[p.data?.items]),x=h.useMemo(()=>kJ(g),[g]),v=h.useMemo(()=>{const L=new Map;return g.forEach(T=>{if(!T.configurationId)return;const G=T.configLabel&&T.configLabel!==""?T.configLabel:T.configurationId;L.set(T.configurationId,G)}),Array.from(L,([T,G])=>({id:T,label:G})).sort((T,G)=>T.label.localeCompare(G.label))},[g]),y=h.useMemo(()=>o?g.find(L=>L.id===o)??null:null,[o,g]),S=!!(o&&c),C=c&&y?y.status==="running"||y.status==="queued":!1,j=_n({queryKey:o?Yr.metrics(o):[...Yr.root(),"metrics","none"],queryFn:({signal:L})=>o?TU(o,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),E=_n({queryKey:o?Yr.fields(o):[...Yr.root(),"fields","none"],queryFn:({signal:L})=>o?zU(o,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),N=_n({queryKey:o?Yr.columns(o,null):[...Yr.root(),"columns","none"],queryFn:({signal:L})=>o?PU(o,null,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),_=h.useCallback(L=>{r(T=>({...T,...L}))},[]),R=h.useCallback(L=>{r(L)},[]),D=h.useCallback(()=>{r(pc)},[]),A=h.useCallback(L=>{l(L),d(!0)},[]),M=h.useCallback(()=>{d(!1)},[]),O=h.useCallback(L=>{if(c&&o===L){d(!1);return}l(L),d(!0)},[o,c]);return{state:{filters:n,activeId:o,previewOpen:c},derived:{runs:g,visibleRuns:g,counts:x,configOptions:v,activeRun:y,isLoading:p.isLoading,isError:p.isError,totalCount:p.data?.total??p.data?.items?.length??0,metrics:j.data??null,metricsLoading:j.isLoading,metricsError:j.isError,fields:E.data??null,fieldsLoading:E.isLoading,fieldsError:E.isError,columns:N.data??null,columnsLoading:N.isLoading,columnsError:N.isError},actions:{updateFilters:_,setFilters:R,resetFilters:D,openPreview:A,closePreview:M,togglePreview:O,setActiveId:l,refetch:p.refetch}}}function VJ(){const{workspace:e}=Ws(),t=xr(),n=sn(),r=h.useMemo(()=>HJ(t.search),[t.search]),o=h.useMemo(()=>new URLSearchParams(t.search).get("run"),[t.search]),l=BJ({workspaceId:e.id,initialFilters:r}),c=l.state.previewOpen?l.state.activeId:null;h.useEffect(()=>{WJ(l.state.filters,r)||l.actions.setFilters(r)},[l.actions,l.state.filters,r]),h.useEffect(()=>{if(!o){l.state.previewOpen&&l.actions.closePreview();return}(l.state.activeId!==o||!l.state.previewOpen)&&l.actions.openPreview(o)},[l.actions,l.state.activeId,l.state.previewOpen,o]);const d=h.useCallback((v,y)=>{const S=qJ(v,y),C=`${t.pathname}${S?`?${S}`:""}${t.hash??""}`,j=`${t.pathname}${t.search}${t.hash??""}`;C!==j&&n(C,{replace:!0})},[t.hash,t.pathname,t.search,n]),f=h.useCallback(()=>{l.actions.closePreview(),d(l.state.filters,null)},[l.actions,l.state.filters,d]);h.useEffect(()=>{const v=y=>{if(y.key!=="Escape"||!l.state.previewOpen)return;const S=y.target;S&&(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable)||f()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[f,l.state.previewOpen]);const p=v=>{if(l.state.previewOpen&&l.state.activeId===v){f();return}l.actions.openPreview(v),d(l.state.filters,v)},g=v=>{const y={...l.state.filters,...v};l.actions.setFilters(y),d(y,l.state.previewOpen?l.state.activeId:null)},x=()=>{l.actions.resetFilters(),d(pc,l.state.previewOpen?l.state.activeId:null)};return i.jsx("div",{className:"runs flex min-h-0 flex-1 flex-col bg-background text-foreground",children:i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:i.jsxs("section",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:[i.jsx(DJ,{counts:l.derived.counts,rangeLabel:GJ(l.state.filters.dateRange)}),i.jsx(wJ,{filters:l.state.filters,configOptions:l.derived.configOptions,showingCount:l.derived.visibleRuns.length,totalCount:l.derived.totalCount,onChange:g,onReset:x}),l.derived.isLoading?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(kt,{title:"Loading runs",variant:"loading"})}):l.derived.isError?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(kt,{title:"Unable to load runs",description:"Refresh the page or try again later.",variant:"error"})}):l.derived.visibleRuns.length===0?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(kt,{title:"No runs found",description:"Try adjusting filters or clearing them.",variant:"empty"})}):i.jsx(FJ,{runs:l.derived.visibleRuns,activeId:c,onSelect:p,onNavigate:l.actions.setActiveId,expandedId:c,expandedContent:l.state.previewOpen&&l.derived.activeRun?i.jsx(AJ,{run:l.derived.activeRun,metrics:l.derived.metrics,metricsLoading:l.derived.metricsLoading,metricsError:l.derived.metricsError,fields:l.derived.fields,fieldsLoading:l.derived.fieldsLoading,fieldsError:l.derived.fieldsError,columns:l.derived.columns,columnsLoading:l.derived.columnsLoading,columnsError:l.derived.columnsError,onClose:f}):null})]})})})}function HJ(e){const t=new URLSearchParams(e),n=t.get("q")??pc.search,r=NJ(t.get("status")),o=_J(t.get("range")),l=t.get("configuration_id");return{search:n,status:r,dateRange:o,configurationId:l||null}}function qJ(e,t){const n=new URLSearchParams;return e.search.trim()&&n.set("q",e.search.trim()),e.status!==pc.status&&n.set("status",e.status),e.dateRange!==pc.dateRange&&n.set("range",e.dateRange),e.configurationId&&n.set("configuration_id",e.configurationId),t&&n.set("run",t),n.toString()}function WJ(e,t){return e.search===t.search&&e.status===t.status&&e.dateRange===t.dateRange&&e.configurationId===t.configurationId}function GJ(e){return PD.find(t=>t.value===e)?.label??"Selected range"}function Lm({status:e}){const t=e.toLowerCase(),n=t==="active"?"Active":t==="draft"?"Draft":t==="archived"?"Archived":e,r=t==="active"?"bg-success-100 text-success-700":t==="draft"?"bg-warning-100 text-warning-700":"bg-muted text-foreground";return i.jsx("span",{className:de("rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide",r),title:n,children:n})}const YJ="Default template",Pu=(e,t)=>`/workspaces/${e}/config-builder/${encodeURIComponent(t)}`;function KJ(){const{workspace:e}=Ws(),t=sn(),{notifyToast:n}=pd(),r=h.useMemo(()=>Dk(e.id),[e.id]),o=h.useMemo(()=>hy(e.id),[e.id]),l=$h({workspaceId:e.id}),{refetch:c}=l,d=uU(e.id),f=iU(e.id),p=dy(e.id),g=_k(e.id),x=fy(e.id),[v,y]=h.useState(()=>`${e.name} Config`),[S,C]=h.useState(null),[j,E]=h.useState(()=>`${e.name} Import`),[N,_]=h.useState(null),[R,D]=h.useState(null),[A,M]=h.useState(()=>o.get()),O=h.useRef(null),L=h.useRef(null),T=h.useMemo(()=>(l.data?.items??[]).filter(le=>!("deleted_at"in le&&le.deleted_at)),[l.data]),G=h.useMemo(()=>{const le=new Map;for(const Me of T)le.set(Me.id,oc(Me.status));return le},[T]),P=h.useMemo(()=>{for(const le of T)if(G.get(le.id)==="active")return le;return null},[T,G]),$=h.useMemo(()=>T.filter(le=>G.get(le.id)==="draft").sort((le,Me)=>Cj(le.updated_at,Me.updated_at)),[T,G]),W=h.useMemo(()=>T.filter(le=>G.get(le.id)==="archived").sort((le,Me)=>Cj(le.updated_at,Me.updated_at)),[T,G]),ce=h.useMemo(()=>T.find(le=>le.id===A?.configId)??null,[T,A]),z=h.useCallback(le=>{M(py(o,le))},[o]);h.useEffect(()=>{M(o.get())},[o]),h.useEffect(()=>{const le=L.current,Me=le?.id!==e.id,Oe=le?.name!==e.name;if(!(!Me&&!Oe)){if(L.current={id:e.id,name:e.name},Me){y(`${e.name} Config`),C(null),E(`${e.name} Import`),_(null),D(null),O.current&&(O.current.value="");return}Oe&&(y(Pe=>Pe===`${le?.name??""} Config`?`${e.name} Config`:Pe),E(Pe=>Pe===`${le?.name??""} Import`?`${e.name} Import`:Pe))}},[e.id,e.name]),h.useEffect(()=>{if(typeof window>"u")return;const le=Me=>{if(!(Me.storageArea!==window.localStorage||Me.key!==r))try{M(Me.newValue?JSON.parse(Me.newValue):null)}catch{M(null)}};return window.addEventListener("storage",le),()=>window.removeEventListener("storage",le)},[r]),h.useEffect(()=>{A?.configId&&(T.some(le=>le.id===A.configId)||z(null))},[T,A?.configId,z]);const q=h.useCallback(le=>{z(le),t(Pu(e.id,le))},[t,z,e.id]),Z=h.useCallback(le=>{z(le),t(`${Pu(e.id,le)}/editor`)},[t,z,e.id]),[F,ae]=h.useState(null),B=h.useMemo(()=>F?T.find(le=>le.id===F.configId)??null:null,[T,F]),[U,ne]=h.useState(null),K=h.useCallback(async le=>{ne(le.id);try{const Me=await uy(e.id,le.id),Oe=Me.filename??`${le.id}.zip`,Pe=URL.createObjectURL(Me.blob),ot=document.createElement("a");ot.href=Pe,ot.download=Oe,ot.click(),URL.revokeObjectURL(Pe),n({title:`Exported ${Oe}`,intent:"success",duration:4e3})}catch(Me){const Oe=Me instanceof Error?Me.message:"Unable to export configuration.";n({title:Oe,intent:"danger",duration:6e3})}finally{ne(Me=>Me===le.id?null:Me)}},[n,e.id]),[H,Y]=h.useState(null),V=h.useMemo(()=>H?T.find(le=>le.id===H)??null:null,[T,H]),te=h.useMemo(()=>new Set(T.map(le=>le.display_name.trim().toLowerCase())),[T]),[se,oe]=h.useState(""),[fe,Se]=h.useState(null),Ae=h.useCallback(le=>{x.reset(),Se(null),oe(gy(le.display_name,te)),Y(le.id)},[x,te]),[De,st]=h.useState(null),pt=h.useMemo(()=>De?T.find(le=>le.id===De)??null:null,[De,T]),[ut,fn]=h.useState(null),Mt=h.useMemo(()=>ut?T.find(le=>le.id===ut)??null:null,[T,ut]),Q=Mt?.id??null,[X,ue]=h.useState(null);h.useEffect(()=>{if(!Q){ue(null);return}let le=!1;return ue({stage:"checking"}),cy(e.id,Q).then(Me=>{if(!le){if(Array.isArray(Me.issues)&&Me.issues.length>0){ue({stage:"issues",issues:Me.issues});return}ue({stage:"confirm"})}}).catch(Me=>{if(le)return;const Oe=Me instanceof Error?Me.message:"Unable to validate configuration.";ue({stage:"error",message:Oe})}),()=>{le=!0}},[Q,e.id]);const Re=h.useCallback(le=>{p.reset(),ue({stage:"checking"}),fn(le.id)},[p]),Ce=h.useCallback(()=>{fn(null),ue(null)},[]),ge=h.useCallback(()=>{Y(null),Se(null)},[]),ke=h.useCallback(()=>{st(null)},[]),ve=h.useCallback(()=>{Mt&&p.mutate({configurationId:Mt.id},{onSuccess(){n({title:"Configuration is now active.",intent:"success",duration:4e3}),Ce(),c()},onError(le){n({title:le instanceof Error?le.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[Ce,p,Mt,n,c]),_e=h.useCallback(()=>{pt&&g.mutate({configurationId:pt.id},{onSuccess(){n({title:"Active configuration archived.",intent:"success",duration:4e3}),ke(),c()},onError(le){n({title:le instanceof Error?le.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[g,pt,ke,n,c]),$e=h.useCallback(()=>{if(!V)return;const le=se.trim();if(!le){Se("Enter a name for the new draft configuration.");return}Se(null),x.mutate({sourceConfigurationId:V.id,displayName:le},{onSuccess(Me){z(Me.id),n({title:"Draft created.",intent:"success",duration:3500}),ge(),t(`${Pu(e.id,Me.id)}/editor`)},onError(Me){const Oe=Me instanceof Error?Me.message:"Unable to duplicate configuration.";Se(Oe)}})},[ge,x,se,V,t,n,z,e.id]),bt=h.useCallback((le,Me)=>{le.preventDefault(),le.stopPropagation();const Oe=le.currentTarget.getBoundingClientRect();ae({configId:Me,x:Oe.right+8,y:Oe.bottom})},[]),Et=h.useMemo(()=>{if(!B)return[];const le=G.get(B.id)??oc(B.status),Me=U===B.id,Oe=[{id:"open-editor",label:"Open editor",onSelect:()=>Z(B.id)},{id:"export",label:Me?"Exporting":"Export",onSelect:()=>{K(B)},disabled:Me},{id:"duplicate",label:"Duplicate to edit",onSelect:()=>Ae(B),dividerAbove:!0}];return le==="active"&&Oe.push({id:"archive",label:"Archive",onSelect:()=>st(B.id),danger:!0,dividerAbove:!0}),Oe},[B,U,K,Z,G,Ae]),Jn=h.useCallback(le=>{D(null),_(le.target.files?.[0]??null),le.target.value=""},[]),nn=le=>{le.preventDefault();const Me=v.trim();if(!Me){C("Enter a display name for the configuration.");return}C(null),d.mutate({displayName:Me,source:{type:"template"}},{onSuccess(Oe){z(Oe.id),t(Pu(e.id,Oe.id))}})},Ut=le=>{le.preventDefault();const Me=j.trim();if(!Me){D("Enter a display name for the imported configuration.");return}if(!N){D("Select a .zip file to import.");return}D(null),f.mutate({displayName:Me,file:N},{onSuccess(Oe){z(Oe.id),_(null),l.refetch(),t(Pu(e.id,Oe.id))},onError(Oe){D(Oe instanceof Error?Oe.message:"Unable to import configuration.")}})},Bt=S??(d.error instanceof Error?d.error.message:null),Vt=v.trim().length>0&&!d.isPending,lr=j.trim().length>0&&!!N&&!f.isPending,br=le=>i.jsx(Ot,{label:"Template",children:i.jsx(En,{value:YJ,readOnly:!0,disabled:le})});return l.isLoading?i.jsx(kt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):l.isError?i.jsx(kt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):T.length===0?i.jsx(kt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:i.jsxs("div",{className:"space-y-6 text-left",children:[i.jsxs("form",{onSubmit:nn,className:"space-y-4 rounded-xl border border-border bg-card p-4 shadow-sm",children:[i.jsx(Ot,{label:"Configuration name",required:!0,children:i.jsx(En,{value:v,onChange:le=>y(le.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),br(d.isPending),Bt?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:Bt}):null,i.jsx(Ge,{type:"submit",className:"w-full",disabled:!Vt,isLoading:d.isPending,children:"Create from template"})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 shadow-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Import configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),i.jsxs("form",{onSubmit:Ut,className:"mt-3 space-y-4",children:[i.jsx(Ot,{label:"Configuration name",required:!0,children:i.jsx(En,{value:j,onChange:le=>E(le.target.value),placeholder:"Imported configuration",disabled:f.isPending})}),i.jsxs(Ot,{label:"Archive (.zip)",required:!0,children:[i.jsx(En,{type:"file",ref:O,accept:".zip",onChange:Jn,disabled:f.isPending}),N?i.jsx("p",{className:"mt-1 text-xs text-muted-foreground","aria-live":"polite",children:N.name}):null]}),R?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,i.jsx(Ge,{type:"submit",className:"w-full",disabled:!lr,isLoading:f.isPending,children:"Import archive"})]})]})]})}):i.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[i.jsxs("section",{className:"space-y-4 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Configurations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage draft, active, and archived configurations for this workspace."})]}),ce?i.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>q(ce.id),children:"Resume last opened"}):null]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsx("div",{className:"border-b border-border px-4 py-3",children:i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Active configuration"})}),P?i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(P.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:P.display_name}),i.jsx(Lm,{status:P.status}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for extraction runs"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",Cb(P.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(Ge,{size:"sm",onClick:le=>{le.stopPropagation(),Ae(P)},children:"Duplicate to edit"}),i.jsx(Ge,{size:"sm",variant:"ghost",onClick:le=>bt(le,P.id),children:""})]})]}):i.jsxs("div",{className:"space-y-2 p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"No active configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Extraction runs will be blocked until you make a draft configuration active."})]})]}),i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:["Drafts (",$.length,")"]}),$.length===0&&P?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicate Active to start editing."}):null]}),$.length?i.jsx("div",{className:"divide-y divide-border",children:$.map(le=>i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(le.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:le.display_name}),i.jsx(Lm,{status:le.status}),ce?.id===le.id?i.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",Cb(le.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(Ge,{size:"sm",variant:"secondary",onClick:Me=>{Me.stopPropagation(),Re(le)},children:"Make active"}),i.jsx(Ge,{size:"sm",variant:"ghost",onClick:Me=>bt(Me,le.id),children:""})]})]},le.id))}):i.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No draft configurations."})]}),i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsx("div",{className:"border-b border-border px-4 py-3",children:i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:["Archived (",W.length,")"]})}),W.length?i.jsx("div",{className:"divide-y divide-border",children:W.map(le=>i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(le.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:le.display_name}),i.jsx(Lm,{status:le.status})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",Cb(le.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(Ge,{size:"sm",onClick:Me=>{Me.stopPropagation(),Ae(le)},children:"Duplicate to edit"}),i.jsx(Ge,{size:"sm",variant:"ghost",onClick:Me=>bt(Me,le.id),children:""})]})]},le.id))}):i.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No archived configurations."})]})]})]}),i.jsxs("aside",{className:"space-y-4 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"New configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),i.jsxs("form",{onSubmit:nn,className:"space-y-4",children:[i.jsx(Ot,{label:"Configuration name",required:!0,children:i.jsx(En,{value:v,onChange:le=>y(le.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),br(d.isPending),Bt?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:Bt}):null,i.jsx(Ge,{type:"submit",className:"w-full",disabled:!Vt,isLoading:d.isPending,children:"Create from template"})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Import configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),i.jsxs("form",{onSubmit:Ut,className:"mt-3 space-y-4",children:[i.jsx(Ot,{label:"Configuration name",required:!0,children:i.jsx(En,{value:j,onChange:le=>E(le.target.value),placeholder:"Imported configuration",disabled:f.isPending})}),i.jsxs(Ot,{label:"Archive (.zip)",required:!0,children:[i.jsx(En,{type:"file",ref:O,accept:".zip",onChange:Jn,disabled:f.isPending}),N?i.jsx("p",{className:"mt-1 text-xs text-muted-foreground","aria-live":"polite",children:N.name}):null]}),R?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,i.jsx(Ge,{type:"submit",className:"w-full",disabled:!lr,isLoading:f.isPending,children:"Import archive"})]})]})]}),i.jsx(Go,{open:!!F,position:F?{x:F.x,y:F.y}:null,onClose:()=>ae(null),items:Et,appearance:"light"}),i.jsx(Xr,{open:!!Mt,title:X?.stage==="checking"?"Checking configuration":X?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:X?.stage==="checking"?"Running validation before activation.":X?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":P&&Mt?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${P.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:X?.stage==="issues"?"Open editor":X?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:Ce,onConfirm:()=>{if(!Mt){Ce();return}if(X?.stage==="issues"){Ce(),Z(Mt.id);return}if(X?.stage==="error"){Ce();return}ve()},isConfirming:p.isPending,confirmDisabled:X?.stage==="checking"||p.isPending,children:X?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):X?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-background p-3 text-xs text-foreground",children:X.issues.map(le=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:le.path}),i.jsx("p",{className:"text-muted-foreground",children:le.message})]},`${le.path}:${le.message}`))})]}):X?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:X.message}):null}),i.jsx(Xr,{open:!!pt,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:ke,onConfirm:_e,isConfirming:g.isPending,confirmDisabled:g.isPending,children:g.error?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:g.error instanceof Error?g.error.message:"Unable to archive configuration."}):null}),i.jsxs(Xr,{open:!!V,title:"Duplicate configuration",description:V?`Create a new draft based on ${V.display_name}.`:void 0,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:ge,onConfirm:$e,isConfirming:x.isPending,confirmDisabled:x.isPending||se.trim().length===0,children:[i.jsx(Ot,{label:"New configuration name",required:!0,children:i.jsx(En,{value:se,onChange:le=>oe(le.target.value),placeholder:"Copy of My Config",disabled:x.isPending})}),fe?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:fe}):null]})]})}function Cb(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function ZJ({params:e}={}){const{workspace:t}=Ws(),n=sn(),{notifyToast:r}=pd(),o=e?.configId,l=h.useMemo(()=>hy(t.id),[t.id]),c=kk({workspaceId:t.id,configurationId:o}),{refetch:d}=c,f=$h({workspaceId:t.id}),{refetch:p}=f,g=c.data,x=g?.id??o??"",v=oc(g?.status),y=v==="draft";h.useEffect(()=>{!o||!g||py(l,o)},[o,g,l]);const S=x?`/workspaces/${t.id}/config-builder/${encodeURIComponent(x)}`:"",C=h.useCallback(()=>{S&&n(`${S}/editor`)},[S,n]),j=h.useMemo(()=>{const oe=f.data?.items??[];for(const fe of oe)if(oc(fe.status)==="active")return fe;return null},[f.data?.items]),E=h.useMemo(()=>{const oe=f.data?.items??[];return new Set(oe.map(fe=>fe.display_name.trim().toLowerCase()))},[f.data?.items]),[N,_]=h.useState(null),R=h.useCallback(oe=>{oe.preventDefault();const fe=oe.currentTarget.getBoundingClientRect();_({x:fe.right+8,y:fe.bottom})},[]),[D,A]=h.useState(!1),M=h.useCallback(async()=>{if(g){A(!0);try{const oe=await uy(t.id,g.id),fe=oe.filename??`${g.id}.zip`,Se=URL.createObjectURL(oe.blob),Ae=document.createElement("a");Ae.href=Se,Ae.download=fe,Ae.click(),URL.revokeObjectURL(Se),r({title:`Exported ${fe}`,intent:"success",duration:4e3})}catch(oe){const fe=oe instanceof Error?oe.message:"Unable to export configuration.";r({title:fe,intent:"danger",duration:6e3})}finally{A(!1)}}},[g,r,t.id]),O=dy(t.id),L=_k(t.id),T=fy(t.id),[G,P]=h.useState(!1),[$,W]=h.useState(null);h.useEffect(()=>{if(!G||!g||!y)return;let oe=!1;return W({stage:"checking"}),cy(t.id,g.id).then(fe=>{if(!oe){if(Array.isArray(fe.issues)&&fe.issues.length>0){W({stage:"issues",issues:fe.issues});return}W({stage:"confirm"})}}).catch(fe=>{if(oe)return;const Se=fe instanceof Error?fe.message:"Unable to validate configuration.";W({stage:"error",message:Se})}),()=>{oe=!0}},[g,y,G,t.id]);const ce=h.useCallback(()=>{O.reset(),W({stage:"checking"}),P(!0)},[O]),[z,q]=h.useState(!1),[Z,F]=h.useState(""),[ae,B]=h.useState(null),U=h.useCallback(()=>{g&&(T.reset(),B(null),F(gy(g.display_name,E)),q(!0))},[g,T,E]),[ne,K]=h.useState(!1),H=h.useCallback(()=>{L.reset(),K(!0)},[L]),Y=h.useMemo(()=>{const oe=[{id:"export",label:D?"Exporting":"Export",onSelect:()=>void M(),disabled:D},{id:"duplicate",label:"Duplicate to edit",onSelect:U,dividerAbove:!0}];return v==="active"&&oe.push({id:"archive",label:"Archive",onSelect:H,danger:!0,dividerAbove:!0}),oe},[D,M,H,U,v]),V=h.useCallback(()=>{if(!g)return;const oe=Z.trim();if(!oe){B("Enter a name for the new draft configuration.");return}B(null),T.mutate({sourceConfigurationId:g.id,displayName:oe},{onSuccess(fe){r({title:"Draft created.",intent:"success",duration:3500}),q(!1),n(`/workspaces/${t.id}/config-builder/${encodeURIComponent(fe.id)}/editor`)},onError(fe){B(fe instanceof Error?fe.message:"Unable to duplicate configuration.")}})},[g,T,Z,n,r,t.id]),te=h.useCallback(()=>{g&&O.mutate({configurationId:g.id},{onSuccess(){r({title:"Configuration is now active.",intent:"success",duration:4e3}),P(!1),W(null),p(),d()},onError(oe){r({title:oe instanceof Error?oe.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[g,O,r,d,p]),se=h.useCallback(()=>{g&&L.mutate({configurationId:g.id},{onSuccess(){r({title:"Active configuration archived.",intent:"success",duration:4e3}),K(!1),p(),d()},onError(oe){r({title:oe instanceof Error?oe.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[L,g,r,d,p]);return o?c.isLoading?i.jsx(kt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):c.isError?i.jsx(kt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):g?i.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h1",{className:"text-xl font-semibold text-foreground",children:g.display_name}),i.jsx(Lm,{status:g.status})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y?i.jsx(Ge,{variant:"secondary",onClick:ce,children:"Make active"}):i.jsx(Ge,{onClick:U,children:"Duplicate to edit"}),i.jsx(Ge,{variant:"ghost",onClick:C,children:"Open editor"}),i.jsx(Ge,{variant:"ghost",size:"sm",onClick:R,"aria-label":"More actions",children:""})]})]}),y?null:i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Read-only configuration"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Active and archived configurations cant be edited. Duplicate this configuration to create a draft you can change."}),i.jsx("div",{className:"mt-3",children:i.jsx(Ge,{size:"sm",onClick:U,children:"Duplicate to edit"})})]}),i.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Config ID"}),i.jsx("dd",{className:"text-sm text-foreground",children:g.id})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Status"}),i.jsx("dd",{className:"text-sm text-foreground",children:oc(g.status)})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Updated"}),i.jsx("dd",{className:"text-sm text-foreground",children:qE(g.updated_at)})]}),g.activated_at?i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Activated"}),i.jsx("dd",{className:"text-sm text-foreground",children:qE(g.activated_at)})]}):null]})]}),i.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-border-strong bg-background p-6",children:[i.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Overview"}),i.jsx("p",{className:"mt-2 max-w-2xl text-sm text-muted-foreground",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]}),i.jsx(Go,{open:!!N,position:N,onClose:()=>_(null),items:Y,appearance:"light"}),i.jsx(Xr,{open:G,title:$?.stage==="checking"?"Checking configuration":$?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:$?.stage==="checking"?"Running validation before activation.":$?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":j?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${j.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:$?.stage==="issues"?"Open editor":$?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:()=>{P(!1),W(null)},onConfirm:()=>{if($?.stage==="issues"){P(!1),C();return}if($?.stage==="error"){P(!1),W(null);return}te()},isConfirming:O.isPending,confirmDisabled:$?.stage==="checking"||O.isPending,children:$?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):$?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-background p-3 text-xs text-foreground",children:$.issues.map(oe=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:oe.path}),i.jsx("p",{className:"text-muted-foreground",children:oe.message})]},`${oe.path}:${oe.message}`))})]}):$?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:$.message}):null}),i.jsx(Xr,{open:ne,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:()=>K(!1),onConfirm:se,isConfirming:L.isPending,confirmDisabled:L.isPending,children:L.error?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:L.error instanceof Error?L.error.message:"Unable to archive configuration."}):null}),i.jsxs(Xr,{open:z,title:"Duplicate configuration",description:`Create a new draft based on ${g.display_name}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:()=>q(!1),onConfirm:V,isConfirming:T.isPending,confirmDisabled:T.isPending||Z.trim().length===0,children:[i.jsx(Ot,{label:"New configuration name",required:!0,children:i.jsx(En,{value:Z,onChange:oe=>F(oe.target.value),placeholder:"Copy of My Config",disabled:T.isPending})}),ae?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:ae}):null]})]}):i.jsx(kt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):i.jsx(kt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function qE(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function QJ({params:e}={}){const{workspace:t}=Ws(),{session:n,windowState:r,openSession:o,closeSession:l,minimizeWindow:c,maximizeWindow:d,restoreWindow:f,shouldBypassUnsavedGuard:p}=zk(),g=e?.configId,x=kk({workspaceId:t.id,configurationId:g});if(h.useEffect(()=>{g||l()},[g,l]),h.useEffect(()=>{if(!g||x.isError)return;const j=x.data?.display_name??g;o({workspaceId:t.id,configId:g,configName:`${t.name}  ${j}`,configDisplayName:j})},[g,x.data?.display_name,x.isError,t.id,t.name,o]),h.useEffect(()=>{g&&(x.isError||x.isSuccess&&!x.data)&&l()},[l,g,x.data,x.isError,x.isSuccess]),!g)return i.jsx(kt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(x.isLoading)return i.jsx(kt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(x.isError)return i.jsx(kt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!x.data)return i.jsx(kt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const v=n&&n.configId===g?n:null,y=!!(v&&r==="minimized"),S=!!(v&&r==="restored"),C=!!(v&&r==="maximized");return S&&v?i.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:i.jsx(Ak,{workspaceId:t.id,configId:v.configId,configName:v.configName,configDisplayName:x.data.display_name??v.configId,windowState:"restored",onMinimizeWindow:c,onMaximizeWindow:d,onRestoreWindow:f,onCloseWorkbench:l,shouldBypassUnsavedGuard:p})}):C?i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(kt,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):y?i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(kt,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(kt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function XJ({workspaceName:e,navGroups:t,activeSectionId:n,activeSectionLabel:r,activeSectionDescription:o,children:l}){const d=t.flatMap(f=>f.items).find(f=>f.id===n)?.tone??"default";return i.jsxs("div",{className:"mx-auto flex min-h-0 w-full max-w-6xl flex-1 flex-col px-6 py-8",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Settings"}),i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:e}),i.jsx("p",{className:"max-w-2xl text-sm text-muted-foreground",children:"Manage workspace preferences, access, and processing defaults."})]}),i.jsxs("div",{className:"mt-6 grid min-h-0 gap-8 lg:grid-cols-[240px,1fr]",children:[i.jsx("nav",{className:"rounded-2xl border border-border bg-card p-4","aria-label":"Workspace settings sections",children:i.jsx("div",{className:"space-y-5",children:t.map(f=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:f.label}),i.jsx("ul",{className:"space-y-1",children:f.items.map(p=>{const g=p.id===n,x=p.tone==="danger"?{active:"bg-danger-50 text-danger-700",idle:"text-danger-600 hover:bg-danger-50/60"}:{active:"bg-accent text-foreground",idle:"text-foreground hover:bg-muted/40"},v=de("group flex w-full items-start gap-3 rounded-lg px-3 py-2 text-left text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",g?x.active:x.idle,p.disabled&&"cursor-not-allowed opacity-50 hover:bg-transparent");return p.disabled?i.jsx("li",{className:"w-full",children:i.jsx("div",{className:v,"aria-disabled":!0,children:i.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[i.jsx("span",{className:"font-semibold",children:p.label}),i.jsx("span",{className:"text-xs text-muted-foreground",children:p.description})]})})},p.id):i.jsx("li",{className:"w-full",children:i.jsxs(xy,{to:p.href,className:v,children:[i.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[i.jsx("span",{className:"font-semibold",children:p.label}),i.jsx("span",{className:"text-xs text-muted-foreground",children:p.description})]}),i.jsx("span",{"aria-hidden":!0,className:de("ml-auto mt-1 h-2 w-2 rounded-full",g?p.tone==="danger"?"bg-danger-500":"bg-brand-500":"bg-transparent")})]})},p.id)})})]},f.id))})}),i.jsxs("section",{className:de("min-h-0 space-y-6",d==="danger"&&"rounded-2xl border border-danger-200 bg-danger-50/20 p-4"),children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:r}),o?i.jsx("p",{className:"text-sm text-muted-foreground",children:o}):null]}),l]})]})]})}const UD=h.createContext(null);function JJ({value:e,children:t}){return i.jsx(UD.Provider,{value:e,children:t})}function BD(){const e=h.useContext(UD);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function Qo({title:e,description:t,actions:n,children:r,tone:o="default",className:l}){return i.jsxs("section",{className:de("rounded-2xl border border-border bg-card p-6 shadow-soft",o==="danger"&&"border-danger-200 bg-danger-50/30",l),children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),t?i.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),n?i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n}):null]}),r?i.jsx("div",{className:"mt-4 space-y-4",children:r}):null]})}function eee(){const{workspace:e,hasPermission:t}=Ws(),n=sn(),r=Tt(),[o,l]=h.useState(!1),[c,d]=h.useState(""),[f,p]=h.useState(null),g=Ln({mutationFn:()=>sP(e.id),onSuccess:()=>{r.invalidateQueries({queryKey:bn.all()}),n("/workspaces",{replace:!0})},onError:y=>{p(y instanceof Error?y.message:"Unable to delete workspace.")}}),x=t("workspace.delete")||t("workspace.settings.manage"),v=h.useMemo(()=>{const y=c.trim().toLowerCase();return y.length>0&&(y===e.slug.toLowerCase()||y===e.name.toLowerCase())},[c,e.name,e.slug]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Qo,{title:"Delete workspace",description:"Permanently remove this workspace and all associated data. This action cannot be undone.",tone:"danger",actions:i.jsx(rt,{type:"button",variant:"destructive",size:"sm",onClick:()=>l(!0),disabled:!x||g.isPending,children:g.isPending?"Deleting...":"Delete workspace"}),children:[x?null:i.jsx(Rt,{tone:"warning",children:"You need additional permissions to delete this workspace."}),f?i.jsx(Rt,{tone:"danger",children:f}):null,i.jsx("p",{className:"text-sm text-warning-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),i.jsx(Qo,{title:"Safe mode",description:"Safe mode is a system-wide control. Manage it from the system settings area instead of workspace settings."}),i.jsxs(Xr,{open:o,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{l(!1),d(""),p(null)},onConfirm:()=>{v&&(p(null),g.mutate())},isConfirming:g.isPending,confirmDisabled:!v,children:[i.jsx(Ot,{label:"Workspace slug",required:!0,children:i.jsx(mr,{value:c,onChange:y=>d(y.target.value),placeholder:e.slug,disabled:g.isPending})}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enter ",i.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function tee({theme:e,onThemeChange:t,themes:n=pN,className:r,label:o="Theme"}){return i.jsxs("div",{className:de("space-y-2",r),children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:o}),i.jsx("div",{role:"radiogroup","aria-label":o,className:"grid gap-2",children:n.map(l=>{const c=l.id===e;return i.jsxs("button",{type:"button",role:"radio","aria-checked":c,"data-menu-item":!0,onClick:()=>t(l.id),className:de("flex w-full items-center justify-between gap-3 rounded-lg border px-3 py-2 text-left text-sm font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",c?"border-brand-400 bg-muted text-foreground shadow-sm":"border-border bg-card text-foreground hover:border-border-strong hover:bg-muted"),children:[i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold",children:l.label}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:l.description})]}),c?i.jsx(qa,{className:"h-4 w-4 text-brand-500"}):null]},l.id)})})]})}function nee(){const{modePreference:e,setModePreference:t,theme:n,setTheme:r}=Mv();return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsx(Qo,{title:"Color mode",description:"Use the system setting or set a fixed light or dark mode.",children:i.jsx("div",{role:"radiogroup","aria-label":"Color mode",className:"grid gap-2",children:hN.map(o=>{const l=o.value===e;return i.jsxs("button",{type:"button",role:"radio","aria-checked":l,onClick:()=>t(o.value),className:de("flex w-full items-center justify-between gap-3 rounded-lg border px-3 py-2 text-left text-sm font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",l?"border-brand-400 bg-muted text-foreground shadow-sm":"border-border bg-card text-foreground hover:border-border-strong hover:bg-muted"),children:[i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold",children:o.label}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:o.description})]}),l?i.jsx(qa,{className:"h-4 w-4 text-brand-500"}):null]},o.value)})})}),i.jsx(Qo,{title:"Theme",description:"Pick the base color palette for this workspace.",children:i.jsx(tee,{theme:n,onThemeChange:r,label:"Theme"})})]})})}function VD({when:e,title:t="Discard unsaved changes?",description:n="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:r="Leave without saving",cancelLabel:o="Stay on page"}){const l=sn(),[c,d]=h.useState(null),[f,p]=h.useState(!1),g=h.useRef(!1);h.useEffect(()=>{if(!e){p(!1),d(null);return}const y=S=>{S.preventDefault(),S.returnValue=""};return window.addEventListener("beforeunload",y),()=>window.removeEventListener("beforeunload",y)},[e]),KE(y=>e?g.current?(g.current=!1,!0):(d(y),p(!0),!1):!0,e);const x=()=>{if(!c)return;g.current=!0;const y=c.kind==="replace"||c.kind==="pop";l(c.to,{replace:y}),p(!1),d(null),setTimeout(()=>{g.current=!1},0)},v=()=>{p(!1),d(null)};return i.jsx(Xr,{open:f&&e,title:t,description:n,confirmLabel:r,cancelLabel:o,tone:"danger",onConfirm:x,onCancel:v})}VD.displayName="UnsavedChangesPrompt";const ree=vc({name:hr().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:hr().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function see(){const{workspace:e}=Ws(),t=GN(e.id),n=WN(),[r,o]=h.useState(null),{register:l,handleSubmit:c,formState:{errors:d,isDirty:f},reset:p}=M_({resolver:D_(ree),defaultValues:{name:e.name,slug:e.slug}});h.useEffect(()=>{p({name:e.name,slug:e.slug})},[p,e.name,e.slug]);const g=c(y=>{o(null),t.mutate({name:y.name.trim(),slug:y.slug.trim()},{onSuccess:()=>{o({tone:"success",message:"Workspace details saved."})},onError:S=>{const C=S instanceof Error?S.message:"Unable to save workspace details.";o({tone:"danger",message:C})}})}),x=e.is_default,v=n.isPending;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(VD,{when:f&&!t.isPending}),r?i.jsx(Rt,{tone:r.tone,children:r.message}):null,i.jsx("form",{onSubmit:g,noValidate:!0,className:"space-y-6",children:i.jsxs(Qo,{title:"Workspace identity",description:"Update the name and slug. Changes apply immediately across navigation and shared links.",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(Ot,{label:"Workspace name",required:!0,error:d.name?.message,children:i.jsx(mr,{...l("name"),placeholder:"Finance Operations",disabled:t.isPending})}),i.jsx(Ot,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:d.slug?.message,children:i.jsx(mr,{...l("slug"),placeholder:"finance-ops",disabled:t.isPending})})]}),t.isError?i.jsx(Rt,{tone:"danger",children:t.error instanceof Error?t.error.message:"Unable to save workspace details."}):null,f?i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 border-t border-border pt-4",children:[i.jsx(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>{p(),o(null)},disabled:t.isPending,children:"Discard"}),i.jsx(rt,{type:"submit",size:"sm",disabled:t.isPending,children:t.isPending?"Saving...":"Save changes"})]}):null]})}),i.jsx(Qo,{title:"Default workspace",description:"Choose the workspace you land on first after signing in. This only affects your account.",actions:i.jsx(rt,{type:"button",variant:x?"secondary":"default",size:"sm",onClick:()=>{o(null),n.mutate(e.id,{onSuccess:()=>o({tone:"success",message:"Workspace set as your default."}),onError:y=>{const S=y instanceof Error?y.message:"Unable to set the default workspace right now.";o({tone:"danger",message:S})}})},disabled:x||v,children:v?"Updating...":x?"Default workspace":"Make default"}),children:i.jsx("p",{className:"text-sm text-muted-foreground",children:x?"This workspace is already your default.":"You can switch the default workspace at any time."})})]})}function cw({open:e,title:t,description:n,onClose:r,children:o,footer:l,widthClassName:c="w-full max-w-xl"}){const d=h.useRef(null);return h.useEffect(()=>{if(!e)return;const f=g=>{if(g.key==="Escape"&&r(),g.key==="Tab"){const x=d.current;if(!x)return;const v=Array.from(x.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(C=>!C.hasAttribute("disabled"));if(v.length===0)return;const y=v.indexOf(document.activeElement),S=g.shiftKey?y<=0?v.length-1:y-1:y===v.length-1?0:y+1;v[S]?.focus(),g.preventDefault()}};return window.addEventListener("keydown",f),d.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",f)},[r,e]),e?zn.createPortal(i.jsxs("div",{className:"fixed inset-0 z-40",children:[i.jsx("button",{type:"button",className:"absolute inset-0 bg-overlay/50",onClick:r,"aria-label":"Close drawer"}),i.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":t,className:de("absolute inset-y-0 right-0 flex h-full flex-col bg-card shadow-2xl transition",c),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-border px-5 py-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Details"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t}),n?i.jsx("p",{className:"text-sm text-muted-foreground",children:n}):null]}),i.jsx("button",{type:"button",onClick:r,className:"rounded-full border border-border bg-card p-2 text-muted-foreground transition hover:bg-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2","aria-label":"Close drawer",children:i.jsx(mo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:o}),l?i.jsx("div",{className:"border-t border-border bg-background px-5 py-4",children:l}):null]})]}),document.body):null}const vv=bd,hp={page:1,pageSize:vv};function oee(e){const t=_v({queryKey:bn.members(e,hp),initialPageParam:1,queryFn:({pageParam:l,signal:c})=>qN(e,{page:typeof l=="number"?l:1,pageSize:vv,signal:c}),getNextPageParam:l=>l.page<l.pageCount?l.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:l=>l}),n=t.data?.pages??[],r=$N(n,l=>l.user_id),o=n[0]?.total??n[n.length-1]?.total??void 0;return{...t,members:r,total:o,pageSize:vv}}function aee(e){const t=Tt(),n=bn.members(e,hp);return Ln({mutationFn:async({user:r,roleIds:o})=>{const l={user_id:r.id,role_ids:Array.from(o)};return oP(e,l)},onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}function iee(e){const t=Tt(),n=bn.members(e,hp);return Ln({mutationFn:({userId:r,roleIds:o})=>aP(e,r,{role_ids:Array.from(o)}),onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}function lee(e){const t=Tt(),n=bn.members(e,hp);return Ln({mutationFn:r=>iP(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}const uw=bd,cee=bd,pp={page:1,pageSize:uw},uee={scope:"workspace",page:1,pageSize:cee};function HD(e){return _n({queryKey:bn.roles(e,pp),queryFn:({signal:t})=>LN(n=>lP({page:n,pageSize:uw,signal:t})),enabled:e.length>0,staleTime:15e3,placeholderData:t=>t})}function dee(e="workspace"){const t={...uee,scope:e};return _n({queryKey:bn.permissions(t),queryFn:({signal:n})=>LN(r=>fP({scope:e,page:r,pageSize:t.pageSize,signal:n})),staleTime:6e4,placeholderData:n=>n})}function fee(e){const t=Tt(),n=bn.roles(e,pp);return Ln({mutationFn:r=>cP(e,r),onSuccess:r=>{t.setQueryData(n,o=>pee(o,r))},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function mee(e){const t=Tt(),n=bn.roles(e,pp);return Ln({mutationFn:({roleId:r,payload:o,ifMatch:l})=>uP(e,r,o,{ifMatch:l}),onSuccess:r=>{t.setQueryData(n,o=>o&&{...o,items:o.items.map(l=>l.id===r.id?r:l)})},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function hee(e){const t=Tt(),n=bn.roles(e,pp);return Ln({mutationFn:({roleId:r,ifMatch:o})=>dP(e,r,{ifMatch:o}),onSuccess:(r,{roleId:o})=>{t.setQueryData(n,l=>{if(!l)return l;const c=l.items.filter(d=>d.id!==o);return{...l,items:c,total:typeof l.total=="number"?Math.max(l.total-1,0):l.total}})},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function pee(e,t){return e?{...e,items:[t,...e.items],total:e.total+1,pageCount:1}:{items:[t],page:1,perPage:uw,pageCount:1,total:1,changesCursor:"0"}}const gee={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function xee(e,t){if(e&&e.trim().length>0){const n=e.trim().split(/\s+/u),r=n[0]?.[0],o=n[n.length-1]?.[0];if(r)return`${r}${o??""}`.toUpperCase()}return t&&t.trim().length>0?t.trim()[0]?.toUpperCase():"?"}function qD({name:e,email:t,size:n="md",className:r}){const o=h.useMemo(()=>xee(e,t),[e,t]);return i.jsx("span",{"aria-hidden":"true",className:de("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",gee[n],r),children:o})}function bee(){const{workspace:e,hasPermission:t}=Ws(),{params:n}=BD(),r=sn(),o=xr(),l=t("workspace.members.manage"),c=oee(e.id),d=HD(e.id),f=aee(e.id),p=iee(e.id),g=lee(e.id),[x,v]=h.useState(""),[y,S]=h.useState(null),C=h.useMemo(()=>{const ae=c.members,B=new Intl.Collator("en",{sensitivity:"base"});return[...ae].sort((U,ne)=>{const K=U.user?.display_name??U.user?.email??U.user_id,H=ne.user?.display_name??ne.user?.email??ne.user_id;return B.compare(K??"",H??"")})},[c.members]),j=h.useMemo(()=>new Set(C.map(ae=>ae.user_id)),[C]),E=c.total??C.length,N=x.trim().toLowerCase(),_=h.useMemo(()=>N?C.filter(ae=>{const B=ae.user?.display_name??"",U=ae.user?.email??"";return B.toLowerCase().includes(N)||U.toLowerCase().includes(N)||ae.user_id.toLowerCase().includes(N)}):C,[C,N]),R=!!c.hasNextPage,D=c.isLoading,A=c.isFetchingNextPage,M=h.useMemo(()=>{const ae=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((B,U)=>ae.compare(B.name,U.name))},[d.data]),O=n[0],L=O==="new",T=O&&O!=="new"?decodeURIComponent(O):null,G=C.find(ae=>ae.user_id===T),P=`/workspaces/${e.id}/settings/access/members`,$=`${o.search}${o.hash}`,W=()=>r(`${P}${$}`,{replace:!0}),ce=()=>r(`${P}/new${$}`),z=ae=>r(`${P}/${encodeURIComponent(ae)}${$}`),q=async({user:ae,roleIds:B})=>{S(null),await f.mutateAsync({user:ae,roleIds:B}),S({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`}),W()},Z=async(ae,B)=>{S(null),await p.mutateAsync({userId:ae,roleIds:B}),S({tone:"success",message:"Member roles updated."}),W()},F=async ae=>{S(null),await g.mutateAsync(ae.user_id),S({tone:"success",message:"Member removed."}),W()};return i.jsxs("div",{className:"space-y-6",children:[y?i.jsx(Rt,{tone:y.tone,children:y.message}):null,c.isError?i.jsx(Rt,{tone:"danger",children:c.error instanceof Error?c.error.message:"Unable to load workspace members."}):null,d.isError?i.jsx(Rt,{tone:"warning",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,i.jsxs(Qo,{title:"Workspace members",description:D?"Loading members":`${E} member${E===1?"":"s"} total`,actions:l?i.jsx(rt,{type:"button",size:"sm",onClick:ce,children:"Add member"}):null,children:[i.jsx(Ot,{label:"Search members",className:"max-w-xs",children:i.jsx(mr,{value:x,onChange:ae=>v(ae.target.value),placeholder:"Search by name, email, or ID",disabled:D})}),D?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading members"}):_.length===0?i.jsx("p",{className:"rounded-lg border border-dashed border-border bg-background p-4 text-sm text-muted-foreground",children:x?`No members match "${x}".`:"No members yet. Add teammates to collaborate."}):i.jsx("div",{className:"overflow-hidden rounded-xl border border-border",children:i.jsxs(Iy,{children:[i.jsx(Ly,{children:i.jsxs(Ua,{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx(Ba,{className:"px-4",children:"Member"}),i.jsx(Ba,{className:"px-4",children:"Roles"}),i.jsx(Ba,{className:"px-4 text-right",children:"Actions"})]})}),i.jsx($y,{children:_.map(ae=>{const B=ae.role_ids.map(ne=>M.find(K=>K.id===ne)?.name??ne).sort((ne,K)=>ne.localeCompare(K)),U=ae.user?.display_name??ae.user?.email??ae.user_id;return i.jsxs(Ua,{className:"text-sm text-foreground",children:[i.jsx(io,{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qD,{name:ae.user?.display_name,email:ae.user?.email,size:"sm"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate font-semibold text-foreground",children:U}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:ae.user?.email??ae.user_id})]})]})}),i.jsx(io,{className:"px-4 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:B.length===0?i.jsx("span",{className:"text-xs text-muted-foreground",children:"No roles assigned."}):B.map(ne=>i.jsx(Za,{variant:"secondary",className:"text-xs",children:ne},`${ae.user_id}-${ne}`))})}),i.jsx(io,{className:"px-4 py-3 text-right",children:i.jsx(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(ae.user_id),disabled:!l,children:"Manage"})})]},ae.user_id)})})]})}),R?i.jsx("div",{children:i.jsx(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>c.fetchNextPage(),disabled:A,children:A?"Loading more members":"Load more members"})}):null,l?null:i.jsx(Rt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),i.jsx(vee,{open:L&&l,onClose:W,availableRoles:M,memberIds:j,isSubmitting:f.isPending,onAdd:q}),i.jsx(yee,{open:!!T&&l,member:G,availableRoles:M,onClose:W,onSaveRoles:ae=>Z(T??"",ae),onRemove:()=>G?F(G):Promise.resolve(),isSaving:p.isPending,isRemoving:g.isPending})]})}function vee({open:e,onClose:t,availableRoles:n,memberIds:r,isSubmitting:o,onAdd:l}){const[c,d]=h.useState(""),[f,p]=h.useState([]),[g,x]=h.useState(""),[v,y]=h.useState(""),[S,C]=h.useState(null);h.useEffect(()=>{const M=window.setTimeout(()=>y(g.trim()),250);return()=>window.clearTimeout(M)},[g]),h.useEffect(()=>{e||(d(""),p([]),x(""),C(null))},[e]);const j=A_({enabled:e,search:v,pageSize:50}),E=h.useMemo(()=>{const M=new Intl.Collator("en",{sensitivity:"base"});return j.users.filter(O=>!r.has(O.id)).sort((O,L)=>{const T=O.display_name??O.email,G=L.display_name??L.email;return M.compare(T??"",G??"")})},[r,j.users]),N=h.useMemo(()=>E.find(M=>M.id===c),[E,c]),_=!!c&&f.length>0&&!o,R=g.trim().length>0&&g.trim().length<2,D=j.isPending&&j.users.length===0,A=async M=>{M.preventDefault(),C(null);const O=E.find(L=>L.id===c);if(!O){C("Select a user to add.");return}if(f.length===0){C("Select at least one role for this member.");return}try{await l({user:O,roleIds:f}),d(""),x(""),p([])}catch(L){const T=L instanceof Error?L.message:"Unable to add member.";C(T)}};return i.jsx(cw,{open:e,onClose:t,title:"Add member",description:"Add an existing user and choose their workspace roles.",children:i.jsxs("form",{className:"space-y-4",onSubmit:A,children:[S?i.jsx(Rt,{tone:"danger",children:S}):null,j.isError?i.jsx(Rt,{tone:"warning",children:j.error instanceof Error?j.error.message:"Unable to load the user directory."}):null,i.jsxs(Ot,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[i.jsx(mr,{value:g,onChange:M=>x(M.target.value),placeholder:"Search users",disabled:o||D}),R?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter at least two characters to search the full directory."}):null]}),i.jsxs(Ot,{label:"User",required:!0,children:[i.jsxs(sh,{value:c,onChange:M=>{d(M.target.value),M.target.value&&x("")},disabled:o||D,required:!0,children:[i.jsx("option",{value:"",children:"Select a user"}),N&&!E.some(M=>M.id===N.id)?i.jsx("option",{value:N.id,children:N.display_name?`${N.display_name} (${N.email})`:N.email}):null,E.map(M=>i.jsx("option",{value:M.id,children:M.display_name?`${M.display_name} (${M.email})`:M.email},M.id))]}),E.length===0&&g?i.jsxs("p",{className:"text-xs text-muted-foreground",children:['No users matched "',g,'".']}):null]}),i.jsxs("fieldset",{className:"space-y-2",children:[i.jsx("legend",{className:"text-sm font-semibold text-foreground",children:"Roles"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign at least one role to grant access."}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No workspace roles available yet."}):n.map(M=>i.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border-strong",checked:f.includes(M.id),onChange:O=>p(L=>O.target.checked?[...L,M.id]:L.filter(T=>T!==M.id)),disabled:o}),i.jsx("span",{children:M.name})]},M.id))}),f.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," role(s) selected."]}):null]}),j.hasNextPage?i.jsx("div",{className:"pt-2",children:i.jsx(rt,{type:"button",variant:"ghost",onClick:()=>j.fetchNextPage(),disabled:j.isFetchingNextPage,children:j.isFetchingNextPage?"Loading more users":"Load more users"})}):null,i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(rt,{type:"button",variant:"ghost",onClick:t,disabled:o,children:"Cancel"}),i.jsx(rt,{type:"submit",disabled:!_,children:o?"Adding...":"Add member"})]})]})})}function yee({open:e,member:t,availableRoles:n,onClose:r,onSaveRoles:o,onRemove:l,isSaving:c,isRemoving:d}){const[f,p]=h.useState([]),[g,x]=h.useState(null),[v,y]=h.useState(!1);h.useEffect(()=>{if(!e||!t){p([]),x(null),y(!1);return}p(t.role_ids),x(null),y(!1)},[t,e]);const S=async()=>{if(t){x(null);try{await o(f)}catch(E){const N=E instanceof Error?E.message:"Unable to save member roles.";x(N)}}},C=async()=>{if(t){x(null);try{await l()}catch(E){const N=E instanceof Error?E.message:"Unable to remove member.";x(N)}finally{y(!1)}}},j=t?t.user?.display_name??t.user?.email??t.user_id:"Member details";return i.jsxs(i.Fragment,{children:[i.jsxs(cw,{open:e,onClose:r,title:j,description:t?"Update roles or remove this member from the workspace.":void 0,children:[t?i.jsxs("div",{className:"space-y-4",children:[g?i.jsx(Rt,{tone:"danger",children:g}):null,i.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border bg-background p-3",children:[i.jsx(qD,{name:t.user?.display_name,email:t.user?.email,size:"md"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-base font-semibold text-foreground",children:t.user?.display_name??t.user?.email??t.user_id}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.user?.email??"No email available"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",t.user_id]})]})]}),i.jsxs("fieldset",{className:"space-y-3",children:[i.jsx("legend",{className:"text-sm font-semibold text-foreground",children:"Roles"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select the roles this member should have inside the workspace."}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No workspace roles available."}):n.map(E=>i.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border-strong",checked:f.includes(E.id),onChange:N=>p(_=>N.target.checked?Array.from(new Set([..._,E.id])):_.filter(R=>R!==E.id)),disabled:c}),i.jsx("span",{children:E.name})]},E.id))}),f.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," role(s) selected."]}):null]})]}):i.jsx(Rt,{tone:"warning",children:"This member could not be found."}),i.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[i.jsx(rt,{type:"button",variant:"ghost",onClick:r,disabled:c||d,children:"Close"}),i.jsxs("div",{className:"flex items-center gap-2",children:[t?i.jsx(rt,{type:"button",variant:"destructive",size:"sm",onClick:()=>y(!0),disabled:d,children:d?"Removing...":"Remove"}):null,i.jsx(rt,{type:"button",onClick:S,disabled:!t||c,children:c?"Saving...":"Save changes"})]})]})]}),i.jsx(Xr,{open:v,title:"Remove member?",description:t?`Remove ${t.user?.display_name??t.user?.email??t.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>y(!1),onConfirm:C,isConfirming:d})]})}function wee(){const{workspace:e,hasPermission:t}=Ws(),n=GN(e.id),[r,o]=h.useState(null),l=t("workspace.settings.manage"),c=e.processing_paused??!1,d=()=>{!l||n.isPending||(o(null),n.mutate({processing_paused:!c},{onSuccess:()=>{o({tone:"success",message:c?"Processing resumed for this workspace.":"Processing paused for this workspace."})},onError:f=>{const p=f instanceof Error?f.message:"Unable to update processing state.";o({tone:"danger",message:p})}}))};return i.jsxs("div",{className:"space-y-6",children:[r?i.jsx(Rt,{tone:r.tone,children:r.message}):null,i.jsxs(Qo,{title:"Processing queue",description:c?"Uploads are stored, but runs will not start until processing is resumed.":"Runs start automatically after upload when an active configuration is available.",actions:i.jsx(rt,{type:"button",variant:c?"default":"secondary",size:"sm",onClick:d,disabled:!l||n.isPending,children:n.isPending?"Updating...":c?"Resume processing":"Pause processing"}),children:[l?null:i.jsx(Rt,{tone:"warning",children:"You need workspace settings permissions to update processing behavior."}),c?i.jsx("div",{className:"rounded-xl border border-warning-200 bg-warning-50 px-3 py-2 text-xs text-warning-800",children:"Processing is paused. Pending documents will remain in a waiting state."}):null]})]})}function WE(...e){const t=e.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0).join(":");return t.length>0?`W/"${t}"`:null}function See(){const{workspace:e,hasPermission:t}=Ws(),{params:n}=BD(),r=sn(),o=xr(),l=t("workspace.roles.manage"),c=HD(e.id),d=dee(),f=fee(e.id),p=mee(e.id),g=hee(e.id),[x,v]=h.useState(""),[y,S]=h.useState(null),C=h.useMemo(()=>(d.data?.items??[]).filter(z=>z.scope_type==="workspace"),[d.data]),j=h.useMemo(()=>{const z=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).slice().sort((q,Z)=>z.compare(q.name,Z.name))},[c.data]),E=c.data?.total??j.length,N=x.trim().toLowerCase(),_=h.useMemo(()=>N?j.filter(z=>`${z.name} ${z.slug??""}`.toLowerCase().includes(N)):j,[N,j]),R=n[0],D=R==="new",A=R&&R!=="new"?decodeURIComponent(R):null,M=j.find(z=>z.id===A),O=`/workspaces/${e.id}/settings/access/roles`,L=`${o.search}${o.hash}`,T=()=>r(`${O}${L}`,{replace:!0}),G=()=>r(`${O}/new${L}`),P=z=>r(`${O}/${encodeURIComponent(z)}${L}`),$=async z=>{S(null),await f.mutateAsync({name:z.name.trim(),slug:z.slug.trim()||void 0,description:z.description.trim()||void 0,permissions:z.permissions}),S({tone:"success",message:"Role created."}),T()},W=async(z,q)=>{S(null);const Z=WE(z,M?.updatedAt??M?.createdAt??null);await p.mutateAsync({roleId:z,payload:{name:q.name.trim(),description:q.description.trim()||void 0,permissions:q.permissions},ifMatch:Z}),S({tone:"success",message:"Role updated."}),T()},ce=async z=>{S(null);const q=WE(z.id,z.updatedAt??z.createdAt??null);await g.mutateAsync({roleId:z.id,ifMatch:q}),S({tone:"success",message:`Deleted role "${z.name}".`}),T()};return i.jsxs("div",{className:"space-y-6",children:[y?i.jsx(Rt,{tone:y.tone,children:y.message}):null,c.isError?i.jsx(Rt,{tone:"danger",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,d.isError?i.jsx(Rt,{tone:"warning",children:d.error instanceof Error?d.error.message:"Unable to load permission catalog."}):null,i.jsxs(Qo,{title:"Workspace roles",description:c.isLoading?"Loading roles":`${E} role${E===1?"":"s"} total`,actions:l?i.jsx(rt,{type:"button",size:"sm",onClick:G,children:"New role"}):null,children:[i.jsx(Ot,{label:"Search roles",className:"max-w-xs",children:i.jsx(mr,{value:x,onChange:z=>v(z.target.value),placeholder:"Search by name or slug",disabled:c.isLoading})}),c.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading roles"}):_.length===0?i.jsx("p",{className:"rounded-lg border border-dashed border-border bg-background p-4 text-sm text-muted-foreground",children:x?`No roles match "${x}".`:"No workspace roles yet. Create one to tailor permissions."}):i.jsx("div",{className:"overflow-hidden rounded-xl border border-border",children:i.jsxs(Iy,{children:[i.jsx(Ly,{children:i.jsxs(Ua,{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx(Ba,{className:"px-4",children:"Role"}),i.jsx(Ba,{className:"px-4",children:"Slug"}),i.jsx(Ba,{className:"px-4",children:"Permissions"}),i.jsx(Ba,{className:"px-4 text-right",children:"Actions"})]})}),i.jsx($y,{children:_.map(z=>i.jsxs(Ua,{className:"text-sm text-foreground",children:[i.jsx(io,{className:"px-4 py-3",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("p",{className:"font-semibold text-foreground",children:z.name}),z.is_system?i.jsx(Za,{variant:"secondary",className:"text-[11px] uppercase tracking-wide",children:"System"}):null,z.is_editable?null:i.jsx(Za,{variant:"outline",className:"border-warning-200 text-[11px] uppercase tracking-wide text-warning-700",children:"Locked"})]})}),i.jsx(io,{className:"px-4 py-3 text-muted-foreground",children:z.slug}),i.jsxs(io,{className:"px-4 py-3 text-muted-foreground",children:[z.permissions.length," permission",z.permissions.length===1?"":"s"]}),i.jsx(io,{className:"px-4 py-3 text-right",children:i.jsx(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(z.id),disabled:!l,children:"Manage"})})]},z.id))})]})}),l?null:i.jsx(Rt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),i.jsx(GE,{open:D&&l,mode:"create",permissions:C,onClose:T,onSave:z=>$(z),isSaving:f.isPending,isDeleting:!1}),i.jsx(GE,{open:!!A&&l,mode:"edit",role:M,permissions:C,onClose:T,onSave:z=>A?W(A,z):Promise.resolve(),onDelete:M?()=>ce(M):void 0,isSaving:p.isPending,isDeleting:g.isPending})]})}function GE({open:e,mode:t,role:n,permissions:r,onClose:o,onSave:l,onDelete:c,isSaving:d,isDeleting:f}){const[p,g]=h.useState({name:"",slug:"",description:"",permissions:[]}),[x,v]=h.useState(""),[y,S]=h.useState(null),[C,j]=h.useState(!1),[E,N]=h.useState("");h.useEffect(()=>{if(!e){S(null),v(""),j(!1),N("");return}g(t==="edit"&&n?{name:n.name,slug:n.slug,description:n.description??"",permissions:n.permissions}:{name:"",slug:"",description:"",permissions:[]})},[t,e,n]);const _=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,R=t==="create"||(n?.is_editable??!1),D=t==="edit"&&n&&n.is_editable&&!n.is_system&&c,A=h.useMemo(()=>{const P=x.trim().toLowerCase();return P?r.filter($=>`${$.label} ${$.key}`.toLowerCase().includes(P)):r},[x,r]),M=(P,$)=>{g(W=>({...W,permissions:$?Array.from(new Set([...W.permissions??[],P])):(W.permissions??[]).filter(ce=>ce!==P)}))},O=async()=>{if(S(null),!p.name.trim()){S("Role name is required.");return}if(t==="create"&&p.slug&&!_.test(p.slug)){S("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await l({...p,name:p.name.trim(),slug:t==="create"?p.slug.trim():n?.slug??"",description:p.description.trim(),permissions:p.permissions})}catch(P){const $=P instanceof Error?P.message:"Unable to save role.";S($)}},L=async()=>{if(!(!c||!n)){S(null);try{await c()}catch(P){const $=P instanceof Error?P.message:"Unable to delete role.";S($)}finally{j(!1),N("")}}},T=i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(rt,{type:"button",variant:"ghost",onClick:o,disabled:d||f,children:"Close"}),i.jsxs("div",{className:"flex items-center gap-2",children:[D?i.jsx(rt,{type:"button",variant:"destructive",size:"sm",onClick:()=>j(!0),disabled:f,children:f?"Deleting...":"Delete"}):null,i.jsx(rt,{type:"button",onClick:O,disabled:!R||d,children:d?"Saving...":t==="create"?"Create role":"Save changes"})]})]}),G=t==="create"?"New role":n?.name??"Role details";return i.jsxs(i.Fragment,{children:[i.jsxs(cw,{open:e,onClose:o,title:G,description:t==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:T,children:[y?i.jsx(Rt,{tone:"danger",children:y}):null,t==="edit"&&n&&!n.is_editable?i.jsx(Rt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ot,{label:"Role name",required:!0,children:i.jsx(mr,{value:p.name,onChange:P=>g($=>({...$,name:P.target.value})),placeholder:"Data reviewer",disabled:d||!R})}),t==="create"?i.jsx(Ot,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:i.jsx(mr,{value:p.slug,onChange:P=>g($=>({...$,slug:P.target.value})),placeholder:"data-reviewer",disabled:d||!R})}):i.jsx(Ot,{label:"Role slug",children:i.jsx(mr,{value:n?.slug??"",disabled:!0})}),i.jsx(Ot,{label:"Description",hint:"Optional context about what this role controls.",children:i.jsx(mr,{value:p.description,onChange:P=>g($=>({...$,description:P.target.value})),placeholder:"What does this role control?",disabled:d||!R})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Permissions"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Select the permissions included with this role. ",p.permissions.length," selected."]})]}),i.jsx(mr,{value:x,onChange:P=>v(P.target.value),placeholder:"Filter permissions",disabled:d})]}),i.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-border p-3",children:A.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No permissions match this filter."}):A.map(P=>{const $=`permission-${P.key.replaceAll(".","-")}`;return i.jsxs("label",{htmlFor:$,"aria-label":P.label,className:"flex items-start gap-3 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{id:$,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-border-strong",checked:p.permissions.includes(P.key),onChange:W=>M(P.key,W.target.checked),disabled:d||!R}),i.jsxs("span",{children:[i.jsx("span",{className:"block font-semibold",children:P.label}),i.jsx("span",{className:"block text-xs text-muted-foreground",children:P.description})]})]},P.key)})})]})]})]}),i.jsx(Xr,{open:C&&!!n,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:E.trim()!==(n?.slug??""),onCancel:()=>{j(!1),N("")},onConfirm:L,isConfirming:f,children:i.jsx(Ot,{label:"Type the role slug to confirm",required:!0,children:i.jsx(mr,{value:E,onChange:P=>N(P.target.value),placeholder:n?.slug??"role-slug",disabled:f})})})]})}const Cee={workspace:"Workspace",preferences:"Preferences",access:"Access",lifecycle:"Lifecycle"},hd=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:i.jsx(see,{})},{id:"workspace.processing",group:"workspace",label:"Processing",description:"Pause or resume automatic processing.",path:"processing",required:{view:["workspace.settings.manage"],edit:["workspace.settings.manage"]},element:i.jsx(wee,{})},{id:"preferences.appearance",group:"preferences",label:"Appearance",description:"Theme and color mode preferences.",path:"preferences/appearance",element:i.jsx(nee,{})},{id:"access.members",group:"access",label:"Members",description:"Manage members and access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:i.jsx(bee,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:i.jsx(See,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:i.jsx(eee,{})}],$m=hd[0];function jee(e){const t=e.join("/");return hd.find(n=>t===n.path||t.startsWith(`${n.path}/`))}function Eee(e,t){const n=hd.map(r=>{const o=r.required?.view?r.required.view.some(c=>t(c)):!0,l=r.required?.edit?r.required.edit.some(c=>t(c)):!0;return{id:r.id,label:r.label,description:r.description,href:`/workspaces/${e}/settings/${r.path}`,disabled:!(o||l),tone:r.tone??"default"}});return Object.values(n.reduce((r,o)=>{const l=hd.find(f=>f.id===o.id);if(!l)return r;const c=r[l.group],d=c?{...c,items:[...c.items,o]}:{id:l.group,label:Cee[l.group],items:[o]};return r[l.group]=d,r},{}))}function Nee({sectionSegments:e=[]}){const{workspace:t,hasPermission:n}=Ws(),r=sn(),o=xr(),{effectiveSegments:l,redirectTo:c}=h.useMemo(()=>_ee(e,t.id,o.search,o.hash),[e,t.id,o.search,o.hash]),d=jee(l)??$m;h.useEffect(()=>{c&&r(c,{replace:!0})},[c,r]);const f=h.useMemo(()=>{const S=d.path.split("/");return l.slice(S.length)},[d.path,l]),p=h.useMemo(()=>Eee(t.id,n),[t.id,n]),y=p.flatMap(S=>S.items).find(S=>S.id===d.id)?.disabled?i.jsx(kt,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):d.element;return i.jsx(XJ,{workspaceName:t.name,navGroups:p,activeSectionId:d.id,activeSectionLabel:d.label,activeSectionDescription:d.description,children:i.jsx(JJ,{value:{sectionId:d.id,params:f},children:y})})}function _ee(e,t,n,r){const l=e.length>0?[...e]:$m.path.split("/"),c=l.join("/"),d=e.length===0,f=hd.some(g=>c===g.path||c.startsWith(`${g.path}/`)),p=`/workspaces/${t}/settings/${$m.path}${n}${r}`;return{effectiveSegments:f?l:$m.path.split("/"),redirectTo:d||!f?p:null}}function kee(){return i.jsx(Ree,{})}function Ree(){const e=xr(),t=sn(),n=Tt(),r=Iv(),o=h.useMemo(()=>r.data?.items??[],[r.data?.items]),l=Aee(e.pathname),c=h.useMemo(()=>Tee(o,l),[o,l]);return h.useEffect(()=>{r.data&&n.setQueryData(bn.list(Ob),r.data)},[n,r.data]),h.useEffect(()=>{!r.isLoading&&!r.isError&&o.length===0&&t("/workspaces",{replace:!0})},[r.isLoading,r.isError,o.length,t]),h.useEffect(()=>{c&&!l&&t(`/workspaces/${c.id}/${oh.path}${e.search}${e.hash}`,{replace:!0})},[c,l,e.search,e.hash,t]),h.useEffect(()=>{if(!(!c||!l)&&l!==c.id){const d=zee(e.pathname,e.search,c.id,l);d!==e.pathname+e.search&&t(d+e.hash,{replace:!0})}},[c,l,e.pathname,e.search,e.hash,t]),h.useEffect(()=>{c&&KN(c.id)},[c]),r.isLoading?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(kt,{title:"Loading workspace",variant:"loading"})}):r.isError?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-background px-6 text-center",children:[i.jsx(kt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),i.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-border-strong bg-card px-4 py-2 text-sm font-semibold text-muted-foreground hover:bg-muted",onClick:()=>r.refetch(),children:"Retry"})]}):c?i.jsx(T$,{workspace:c,workspaces:o,children:i.jsx(Mee,{workspace:c})}):null}function Mee({workspace:e}){return i.jsx(yB,{workspaceId:e.id,children:i.jsx(Dee,{workspace:e})})}function Dee({workspace:e}){const t=bc(),n=sn(),r=xr(),{session:o,windowState:l}=zk(),c=G3(),d=c.data?.enabled??!1,f=c.data?.detail??v_,p=S_(),[g,x]=h.useState(0),[v,y]=h.useState(null),S=h.useRef(null),C=h.useCallback(X=>{y(X)},[]),j=h.useMemo(()=>Ik(e),[e]),[E,N]=h.useState(""),[_,R]=h.useState(!1),[D,A]=h.useState(!1),M=E.trim().toLowerCase(),O=!!(o&&l==="maximized"),L=h.useMemo(()=>j.map(X=>({id:X.id,label:X.label,description:`Jump to ${X.label}`,icon:i.jsx(X.icon,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})),[j]),T=h.useMemo(()=>Wo(`ade.ui.workspace.${e.id}.navPinned`),[e.id]),G=h.useMemo(()=>Wo(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[P,$]=h.useState(()=>{const X=T.get();if(typeof X=="boolean")return X;const ue=G.get();return typeof ue=="boolean"?!ue:!1});h.useEffect(()=>{const X=T.get();if(typeof X=="boolean"){$(X);return}const ue=G.get();$(typeof ue=="boolean"?!ue:!1)},[T,G]),h.useEffect(()=>{T.set(P)},[P,T]),h.useEffect(()=>{N("")},[e.id]),h.useEffect(()=>{if(typeof window>"u")return;const X=()=>{window.innerWidth>=1024&&R(!1)};return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),h.useEffect(()=>{if(typeof document>"u")return;const X=document.body.style.overflow;return _?document.body.style.overflow="hidden":document.body.style.overflow=X||"",()=>{document.body.style.overflow=X}},[_]),h.useEffect(()=>{O&&R(!1)},[O]),h.useLayoutEffect(()=>{if(O){x(0);return}const X=S.current;if(!X)return;const ue=()=>{const Ce=Math.round(X.getBoundingClientRect().height);x(ge=>ge===Ce?ge:Ce)};if(ue(),typeof ResizeObserver>"u")return;const Re=new ResizeObserver(()=>ue());return Re.observe(X),()=>Re.disconnect()},[O]);const W=h.useCallback(()=>{if(!M)return;const X=j.find(ue=>ue.label.toLowerCase().includes(M))??j.find(ue=>ue.id.toLowerCase().includes(M));X&&n(X.href)},[M,j,n]),ce=h.useCallback(X=>{const ue=j.find(Re=>Re.id===X.id);ue&&(n(ue.href),N(""))},[j,n]),z=h.useCallback(()=>R(!0),[]),q=h.useCallback(()=>R(!1),[]),Z=`Switch workspace: ${e.name}`,F=Pee(e.name),ae=i.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[i.jsx("button",{type:"button",onClick:z,className:de("focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border lg:hidden","border-header-border/40 bg-header/20 text-header-muted transition","hover:border-header-border/70 hover:bg-header/30 hover:text-header-foreground"),"aria-label":"Open workspace navigation",children:i.jsx(AT,{className:"h-4 w-4"})}),i.jsxs("button",{type:"button",onClick:()=>n("/workspaces"),"aria-label":Z,title:Z,className:de("group inline-flex min-w-0 items-center gap-3 rounded-xl border px-3 py-2 text-left transition","w-fit max-w-full sm:max-w-[16rem] lg:max-w-[18rem] sm:shrink-0","border-header-border/40 bg-header/20 text-header-foreground hover:border-header-border/70 hover:bg-header/30","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-header-ring focus-visible:ring-offset-2 focus-visible:ring-offset-header"),children:[i.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-500 text-xs font-semibold uppercase text-on-brand shadow-sm transition-colors group-hover:bg-brand-600",children:F}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold text-header-foreground",children:e.name}),i.jsx("span",{className:"hidden truncate text-xs text-header-muted sm:block",children:"Switch workspace"})]}),i.jsx("span",{className:"hidden text-header-muted sm:inline-flex","aria-hidden":!0,children:i.jsx(Gi,{className:"h-4 w-4"})})]})]}),B=t.user.display_name||t.user.email||"Signed in",U=t.user.email??"",ne=i.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:[i.jsx(p_,{tone:"header"}),i.jsx(b_,{displayName:B,email:U,tone:"header",actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>A(!0)}]})]}),K={value:E,onChange:N,onSubmit:W,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:p,scopeLabel:e.name,suggestions:L,onSelectSuggestion:ce},H=Oee(r.pathname,e.id),Y=Iee(e.id,H,r.search,r.hash),V=Y?.kind==="content"&&Y.key==="documents",te=Y?.kind==="content"&&Y.key==="runs",se=V?new URLSearchParams(r.search).get("q")??"":"",oe=te?new URLSearchParams(r.search).get("q")??"":"",fe=h.useCallback(X=>{if(!V)return;const ue=new URLSearchParams(r.search);X?ue.set("q",X):ue.delete("q");const Re=ue.toString();n(`${r.pathname}${Re?`?${Re}`:""}${r.hash}`,{replace:!0})},[V,r.hash,r.pathname,r.search,n]),Se=h.useCallback(X=>{fe(X)},[fe]),Ae=h.useCallback(()=>{fe("")},[fe]),De=V?{value:se,onChange:fe,onSubmit:Se,onClear:Ae,placeholder:"Search documents",shortcutHint:p,scopeLabel:"Documents",enableShortcut:!0}:void 0,st=h.useCallback(X=>{if(!te)return;const ue=new URLSearchParams(r.search);X?ue.set("q",X):ue.delete("q");const Re=ue.toString();n(`${r.pathname}${Re?`?${Re}`:""}${r.hash}`,{replace:!0})},[te,r.hash,r.pathname,r.search,n]),pt=h.useCallback(X=>{st(X)},[st]),ut=h.useCallback(()=>{st("")},[st]),Mt=De??(te?{value:oe,onChange:st,onSubmit:pt,onClear:ut,placeholder:"Search runs",shortcutHint:p,scopeLabel:"Runs",enableShortcut:!0}:void 0)??K;if(h.useEffect(()=>{Y?.kind==="redirect"&&n(Y.to,{replace:!0})},[Y,n]),!Y||Y.kind==="redirect")return null;const Q=Y.fullHeight??!1;return i.jsxs(i.Fragment,{children:[i.jsx(y_,{open:D,onClose:()=>A(!1)}),i.jsxs("div",{className:de("flex min-w-0 flex-col bg-background text-foreground h-screen overflow-hidden"),style:{"--workspace-topbar-height":`${g}px`},children:[O?null:i.jsx("div",{ref:S,children:i.jsx(x_,{brand:ae,trailing:ne,search:Mt,scrollContainer:v})}),i.jsxs("div",{className:"relative flex min-h-0 min-w-0 flex-1",children:[O?null:i.jsx(_B,{workspace:e,items:j,isPinned:P,onTogglePinned:()=>$(X=>!X)}),i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:[!O&&_?i.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[i.jsx("button",{type:"button",className:"absolute inset-0 bg-overlay/40 backdrop-blur-sm",onClick:q,"aria-label":"Close navigation"}),i.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-sidebar-border bg-sidebar text-sidebar-foreground shadow-[0_45px_90px_-50px_rgb(var(--sys-color-shadow)/0.85)]",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-sidebar-border px-4 py-3",children:[i.jsxs("div",{className:"flex flex-col leading-tight",children:[i.jsx("span",{className:"text-sm font-semibold text-sidebar-foreground",children:e.name}),i.jsx("span",{className:"text-xs text-sidebar-foreground",children:"Workspace navigation"})]}),i.jsx("button",{type:"button",onClick:q,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-sidebar-border bg-sidebar-item-hover text-sidebar-foreground/80 hover:bg-sidebar-item-active hover:text-sidebar-foreground","aria-label":"Close navigation",children:i.jsx(mo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:i.jsx(Lk,{items:j,onNavigate:q,showHeading:!1})})]})]}):null,i.jsx("div",{className:"relative flex min-h-0 min-w-0 flex-1 overflow-hidden",children:i.jsx("main",{id:"main-content",tabIndex:-1,className:de("relative flex-1 min-h-0 min-w-0",Q?"flex flex-col overflow-hidden":"overflow-y-auto"),ref:C,children:i.jsxs("div",{className:de(Q?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[d?i.jsx("div",{className:de("mb-4",Q?"px-6 pt-4":""),children:i.jsx(Rt,{tone:"warning",heading:"Safe mode active",children:f})}):null,i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:Y.element})]})})},`section-${Y.key}`)]})]})]})]})}function Aee(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function Oee(e,t){const n=`/workspaces/${t}`;return e.startsWith(n)?e.slice(n.length).split("/").map(o=>o.trim()).filter(o=>o.length>0):[]}function Tee(e,t){return t?e.find(n=>n.id===t)??e.find(n=>n.slug===t)??e[0]??null:e[0]??null}function zee(e,t,n,r){const o=`/workspaces/${r}`,l=e.startsWith(o)?e.slice(o.length):"",c=l&&l!=="/"?l:`/${oh.path}`;return`/workspaces/${n}${c}${t}`}function Pee(e){const t=e.trim().split(/\s+/);return t.length===0?"WS":t.slice(0,2).map(r=>r[0]??"").join("").toUpperCase()}function Iee(e,t,n,r){const o=`${n}${r}`;if(t.length===0)return{kind:"redirect",to:`/workspaces/${e}/${oh.path}${o}`};const[l,c,d]=t;switch(l){case oh.path:case"documents":{if(c){const f=new URLSearchParams(n);f.set("doc",decodeURIComponent(c));const p=f.toString();return{kind:"redirect",to:`/workspaces/${e}/documents${p?`?${p}`:""}${r}`}}return{kind:"content",key:"documents",element:i.jsx(yJ,{}),fullHeight:!0}}case"runs":return{kind:"content",key:"runs",element:i.jsx(VJ,{}),fullHeight:!0};case"config-builder":return c?d==="editor"?{kind:"content",key:`config-builder:${c}:editor`,element:i.jsx(Lee,{configId:decodeURIComponent(c)}),fullHeight:!0}:{kind:"content",key:`config-builder:${c}`,element:i.jsx(ZJ,{params:{configId:decodeURIComponent(c)}})}:{kind:"content",key:"config-builder",element:i.jsx(KJ,{})};case"settings":{const f=t.slice(1),p=f.length>0?f:[];return{kind:"content",key:`settings:${p.length>0?p.join(":"):"general"}`,element:i.jsx(Nee,{sectionSegments:p})}}default:return{kind:"content",key:`not-found:${t.join("/")}`,element:i.jsx(kt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function Lee({configId:e}){return i.jsx(QJ,{params:{configId:e}})}function $ee(){const e=sn(),t=Tt();return h.useEffect(()=>{let n=!1;const r=new AbortController;return(async()=>{try{await $z({signal:r.signal})}finally{n||(t.removeQueries({queryKey:Fs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{n||e("/login",{replace:!0})}),()=>{n=!0,r.abort()}},[e,t]),null}function Fee(){return i.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Page not found"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["The resource you're looking for doesn't exist yet. Add a page under ",i.jsx("code",{children:"src/pages/<PageName>/"})," and register it inside ",i.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),i.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[i.jsx(nd,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-on-brand transition hover:bg-brand-700",children:"Return home"}),i.jsx(nd,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-border-strong bg-card px-4 py-2 font-semibold text-muted-foreground hover:bg-background",children:"Go to sign in"})]})]})})}function Uee(){return i.jsx(NO,{children:i.jsx(wz,{children:i.jsx(Bee,{})})})}function Bee(){const e=xr(),t=ZE(e.pathname),n=Vee(t);return n.requiresSession?i.jsx(eP,{children:n.element}):n.element}function Vee(e){const t=e.split("/").filter(Boolean),[n,r]=t;if(t.length===0)return{element:i.jsx(EP,{}),requiresSession:!0};switch(n){case"login":return{element:i.jsx(A3,{}),requiresSession:!1};case"logout":return{element:i.jsx($ee,{}),requiresSession:!1};case"auth":if(r==="callback")return{element:i.jsx(O3,{}),requiresSession:!1};break;case"setup":return{element:i.jsx(z3,{}),requiresSession:!1};case"workspaces":return r?r==="new"?{element:i.jsx(D$,{}),requiresSession:!0}:{element:i.jsx(kee,{}),requiresSession:!0}:{element:i.jsx(X3,{}),requiresSession:!0}}return{element:i.jsx(Fee,{}),requiresSession:!0}}EO.createRoot(document.getElementById("root")).render(i.jsx(Ee.StrictMode,{children:i.jsx(Uee,{})}));export{Ee as W,de as c,i as j,h as r};
