(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oh={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function gj(){if(o0)return ao;o0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:u}}return ao.Fragment=n,ao.jsx=a,ao.jsxs=a,ao}var c0;function xj(){return c0||(c0=1,oh.exports=gj()),oh.exports}var l=xj(),ch={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function bj(){if(u0)return Ge;u0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function M(E,Z,le){this.props=E,this.context=Z,this.refs=_,this.updater=le||N}M.prototype.isReactComponent={},M.prototype.setState=function(E,Z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Z,"setState")},M.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function k(){}k.prototype=M.prototype;function B(E,Z,le){this.props=E,this.context=Z,this.refs=_,this.updater=le||N}var W=B.prototype=new k;W.constructor=B,j(W,M.prototype),W.isPureReactComponent=!0;var L=Array.isArray;function V(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function Q(E,Z,le){var F=le.ref;return{$$typeof:e,type:E,key:Z,ref:F!==void 0?F:null,props:le}}function Y(E,Z){return Q(E.type,Z,E.props)}function X(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function U(E){var Z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(le){return Z[le]})}var ee=/\/+/g;function de(E,Z){return typeof E=="object"&&E!==null&&E.key!=null?U(""+E.key):Z.toString(36)}function be(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(V,V):(E.status="pending",E.then(function(Z){E.status==="pending"&&(E.status="fulfilled",E.value=Z)},function(Z){E.status==="pending"&&(E.status="rejected",E.reason=Z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function D(E,Z,le,F,J){var $=typeof E;($==="undefined"||$==="boolean")&&(E=null);var K=!1;if(E===null)K=!0;else switch($){case"bigint":case"string":case"number":K=!0;break;case"object":switch(E.$$typeof){case e:case n:K=!0;break;case b:return K=E._init,D(K(E._payload),Z,le,F,J)}}if(K)return J=J(E),K=F===""?"."+de(E,0):F,L(J)?(le="",K!=null&&(le=K.replace(ee,"$&/")+"/"),D(J,Z,le,"",function(Se){return Se})):J!=null&&(X(J)&&(J=Y(J,le+(J.key==null||E&&E.key===J.key?"":(""+J.key).replace(ee,"$&/")+"/")+K)),Z.push(J)),1;K=0;var H=F===""?".":F+":";if(L(E))for(var ne=0;ne<E.length;ne++)F=E[ne],$=H+de(F,ne),K+=D(F,Z,le,$,J);else if(ne=C(E),typeof ne=="function")for(E=ne.call(E),ne=0;!(F=E.next()).done;)F=F.value,$=H+de(F,ne++),K+=D(F,Z,le,$,J);else if($==="object"){if(typeof E.then=="function")return D(be(E),Z,le,F,J);throw Z=String(E),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return K}function R(E,Z,le){if(E==null)return E;var F=[],J=0;return D(E,F,"","",function($){return Z.call(le,$,J++)}),F}function te(E){if(E._status===-1){var Z=E._result;Z=Z(),Z.then(function(le){(E._status===0||E._status===-1)&&(E._status=1,E._result=le)},function(le){(E._status===0||E._status===-1)&&(E._status=2,E._result=le)}),E._status===-1&&(E._status=0,E._result=Z)}if(E._status===1)return E._result.default;throw E._result}var he=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ae={map:R,forEach:function(E,Z,le){R(E,function(){Z.apply(this,arguments)},le)},count:function(E){var Z=0;return R(E,function(){Z++}),Z},toArray:function(E){return R(E,function(Z){return Z})||[]},only:function(E){if(!X(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ge.Activity=v,Ge.Children=ae,Ge.Component=M,Ge.Fragment=a,Ge.Profiler=o,Ge.PureComponent=B,Ge.StrictMode=i,Ge.Suspense=g,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(E){return A.H.useMemoCache(E)}},Ge.cache=function(E){return function(){return E.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(E,Z,le){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=j({},E.props),J=E.key;if(Z!=null)for($ in Z.key!==void 0&&(J=""+Z.key),Z)!P.call(Z,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&Z.ref===void 0||(F[$]=Z[$]);var $=arguments.length-2;if($===1)F.children=le;else if(1<$){for(var K=Array($),H=0;H<$;H++)K[H]=arguments[H+2];F.children=K}return Q(E.type,J,F)},Ge.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Ge.createElement=function(E,Z,le){var F,J={},$=null;if(Z!=null)for(F in Z.key!==void 0&&($=""+Z.key),Z)P.call(Z,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(J[F]=Z[F]);var K=arguments.length-2;if(K===1)J.children=le;else if(1<K){for(var H=Array(K),ne=0;ne<K;ne++)H[ne]=arguments[ne+2];J.children=H}if(E&&E.defaultProps)for(F in K=E.defaultProps,K)J[F]===void 0&&(J[F]=K[F]);return Q(E,$,J)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(E){return{$$typeof:h,render:E}},Ge.isValidElement=X,Ge.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:te}},Ge.memo=function(E,Z){return{$$typeof:x,type:E,compare:Z===void 0?null:Z}},Ge.startTransition=function(E){var Z=A.T,le={};A.T=le;try{var F=E(),J=A.S;J!==null&&J(le,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(V,he)}catch($){he($)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),A.T=Z}},Ge.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ge.use=function(E){return A.H.use(E)},Ge.useActionState=function(E,Z,le){return A.H.useActionState(E,Z,le)},Ge.useCallback=function(E,Z){return A.H.useCallback(E,Z)},Ge.useContext=function(E){return A.H.useContext(E)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(E,Z){return A.H.useDeferredValue(E,Z)},Ge.useEffect=function(E,Z){return A.H.useEffect(E,Z)},Ge.useEffectEvent=function(E){return A.H.useEffectEvent(E)},Ge.useId=function(){return A.H.useId()},Ge.useImperativeHandle=function(E,Z,le){return A.H.useImperativeHandle(E,Z,le)},Ge.useInsertionEffect=function(E,Z){return A.H.useInsertionEffect(E,Z)},Ge.useLayoutEffect=function(E,Z){return A.H.useLayoutEffect(E,Z)},Ge.useMemo=function(E,Z){return A.H.useMemo(E,Z)},Ge.useOptimistic=function(E,Z){return A.H.useOptimistic(E,Z)},Ge.useReducer=function(E,Z,le){return A.H.useReducer(E,Z,le)},Ge.useRef=function(E){return A.H.useRef(E)},Ge.useState=function(E){return A.H.useState(E)},Ge.useSyncExternalStore=function(E,Z,le){return A.H.useSyncExternalStore(E,Z,le)},Ge.useTransition=function(){return A.H.useTransition()},Ge.version="19.2.0",Ge}var d0;function nm(){return d0||(d0=1,ch.exports=bj()),ch.exports}var p=nm();const Rt=bv(p);var uh={exports:{}},ro={},dh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function vj(){return f0||(f0=1,(function(e){function n(D,R){var te=D.length;D.push(R);e:for(;0<te;){var he=te-1>>>1,ae=D[he];if(0<o(ae,R))D[he]=R,D[te]=ae,te=he;else break e}}function a(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var R=D[0],te=D.pop();if(te!==R){D[0]=te;e:for(var he=0,ae=D.length,E=ae>>>1;he<E;){var Z=2*(he+1)-1,le=D[Z],F=Z+1,J=D[F];if(0>o(le,te))F<ae&&0>o(J,le)?(D[he]=J,D[F]=te,he=F):(D[he]=le,D[Z]=te,he=Z);else if(F<ae&&0>o(J,te))D[he]=J,D[F]=te,he=F;else break e}}return R}function o(D,R){var te=D.sortIndex-R.sortIndex;return te!==0?te:D.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],x=[],b=1,v=null,w=3,C=!1,N=!1,j=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function W(D){for(var R=a(x);R!==null;){if(R.callback===null)i(x);else if(R.startTime<=D)i(x),R.sortIndex=R.expirationTime,n(g,R);else break;R=a(x)}}function L(D){if(j=!1,W(D),!N)if(a(g)!==null)N=!0,V||(V=!0,U());else{var R=a(x);R!==null&&be(L,R.startTime-D)}}var V=!1,A=-1,P=5,Q=-1;function Y(){return _?!0:!(e.unstable_now()-Q<P)}function X(){if(_=!1,V){var D=e.unstable_now();Q=D;var R=!0;try{e:{N=!1,j&&(j=!1,k(A),A=-1),C=!0;var te=w;try{t:{for(W(D),v=a(g);v!==null&&!(v.expirationTime>D&&Y());){var he=v.callback;if(typeof he=="function"){v.callback=null,w=v.priorityLevel;var ae=he(v.expirationTime<=D);if(D=e.unstable_now(),typeof ae=="function"){v.callback=ae,W(D),R=!0;break t}v===a(g)&&i(g),W(D)}else i(g);v=a(g)}if(v!==null)R=!0;else{var E=a(x);E!==null&&be(L,E.startTime-D),R=!1}}break e}finally{v=null,w=te,C=!1}R=void 0}}finally{R?U():V=!1}}}var U;if(typeof B=="function")U=function(){B(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,de=ee.port2;ee.port1.onmessage=X,U=function(){de.postMessage(null)}}else U=function(){M(X,0)};function be(D,R){A=M(function(){D(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(D){switch(w){case 1:case 2:case 3:var R=3;break;default:R=w}var te=w;w=R;try{return D()}finally{w=te}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=w;w=D;try{return R()}finally{w=te}},e.unstable_scheduleCallback=function(D,R,te){var he=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,D={id:b++,callback:R,priorityLevel:D,startTime:te,expirationTime:ae,sortIndex:-1},te>he?(D.sortIndex=te,n(x,D),a(g)===null&&D===a(x)&&(j?(k(A),A=-1):j=!0,be(L,te-he))):(D.sortIndex=ae,n(g,D),N||C||(N=!0,V||(V=!0,U()))),D},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(D){var R=w;return function(){var te=w;w=R;try{return D.apply(this,arguments)}finally{w=te}}}})(fh)),fh}var h0;function yj(){return h0||(h0=1,dh.exports=vj()),dh.exports}var hh={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function wj(){if(m0)return qn;m0=1;var e=nm();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,x,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:x,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},qn.flushSync=function(g){var x=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=x,i.p=b,i.d.f()}},qn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},qn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},qn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,C=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:C}):b==="script"&&i.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:C,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},qn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=h(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},qn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},qn.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=h(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},qn.requestFormReset=function(g){i.d.r(g)},qn.unstable_batchedUpdates=function(g,x){return g(x)},qn.useFormState=function(g,x,b){return d.H.useFormState(g,x,b)},qn.useFormStatus=function(){return d.H.useHostTransitionStatus()},qn.version="19.2.0",qn}var p0;function vv(){if(p0)return hh.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),hh.exports=wj(),hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function jj(){if(g0)return ro;g0=1;var e=yj(),n=nm(),a=vv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,c=s;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return g(f),t;if(m===c)return g(f),s;m=m.sibling}throw Error(i(188))}if(r.return!==c.return)r=f,c=m;else{for(var y=!1,S=f.child;S;){if(S===r){y=!0,r=f,c=m;break}if(S===c){y=!0,c=f,r=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===r){y=!0,r=m,c=f;break}if(S===c){y=!0,c=m,r=f;break}S=S.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case M:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case V:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case B:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case W:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return s=t.displayName||null,s!==null?s:de(t.type)||"Memo";case P:s=t._payload,t=t._init;try{return de(t(s))}catch{}}return null}var be=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],ae=-1;function E(t){return{current:t}}function Z(t){0>ae||(t.current=he[ae],he[ae]=null,ae--)}function le(t,s){ae++,he[ae]=t.current,t.current=s}var F=E(null),J=E(null),$=E(null),K=E(null);function H(t,s){switch(le($,s),le(J,t),le(F,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Tx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Tx(s),t=Mx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(F),le(F,t)}function ne(){Z(F),Z(J),Z($)}function Se(t){t.memoizedState!==null&&le(K,t);var s=F.current,r=Mx(s,t.type);s!==r&&(le(J,t),le(F,r))}function Be(t){J.current===t&&(Z(F),Z(J)),K.current===t&&(Z(K),eo._currentValue=te)}var Qe,rt;function ye(t){if(Qe===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Qe=s&&s[1]||"",rt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+t+rt}var Ee=!1;function He(t,s){if(!t||Ee)return"";Ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(oe){var ie=oe}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(oe){ie=oe}t.call(ve.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var z=y.split(`
`),re=S.split(`
`);for(f=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;f<re.length&&!re[f].includes("DetermineComponentFrameRoot");)f++;if(c===z.length||f===re.length)for(c=z.length-1,f=re.length-1;1<=c&&0<=f&&z[c]!==re[f];)f--;for(;1<=c&&0<=f;c--,f--)if(z[c]!==re[f]){if(c!==1||f!==1)do if(c--,f--,0>f||z[c]!==re[f]){var me=`
`+z[c].replace(" at new "," at ");return t.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",t.displayName)),me}while(1<=c&&0<=f);break}}}finally{Ee=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ye(r):""}function We(t,s){switch(t.tag){case 26:case 27:case 5:return ye(t.type);case 16:return ye("Lazy");case 13:return t.child!==s&&s!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return He(t.type,!1);case 11:return He(t.type.render,!1);case 1:return He(t.type,!0);case 31:return ye("Activity");default:return""}}function Je(t){try{var s="",r=null;do s+=We(t,r),r=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _t=Object.prototype.hasOwnProperty,T=e.unstable_scheduleCallback,I=e.unstable_cancelCallback,ce=e.unstable_shouldYield,_e=e.unstable_requestPaint,je=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,ze=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,ke=e.unstable_NormalPriority,Oe=e.unstable_LowPriority,we=e.unstable_IdlePriority,Te=e.log,Ze=e.unstable_setDisableYieldValue,mt=null,et=null;function zt(t){if(typeof Te=="function"&&Ze(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(mt,t)}catch{}}var $t=Math.clz32?Math.clz32:Me,os=Math.log,fe=Math.LN2;function Me(t){return t>>>=0,t===0?32:31-(os(t)/fe|0)|0}var ct=256,Ot=262144,ft=4194304;function bt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vt(t,s,r){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~m,c!==0?f=bt(c):(y&=S,y!==0?f=bt(y):r||(r=S&~t,r!==0&&(f=bt(r))))):(S=c&~m,S!==0?f=bt(S):y!==0?f=bt(y):r||(r=c&~t,r!==0&&(f=bt(r)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:f}function xn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function An(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var t=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),t}function Sn(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Wn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yt(t,s,r,c,f,m){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,z=t.expirationTimes,re=t.hiddenUpdates;for(r=y&~r;0<r;){var me=31-$t(r),ve=1<<me;S[me]=0,z[me]=-1;var ie=re[me];if(ie!==null)for(re[me]=null,me=0;me<ie.length;me++){var oe=ie[me];oe!==null&&(oe.lane&=-536870913)}r&=~ve}c!==0&&cs(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(y&~s))}function cs(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-$t(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|r&261930}function Tn(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var c=31-$t(r),f=1<<c;f&s|t[c]&s&&(t[c]|=s),r&=~f}}function Kn(t,s){var r=s&-s;return r=(r&42)!==0?1:Cs(r),(r&(t.suspendedLanes|s))!==0?0:r}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gn(){var t=R.p;return t!==0?t:(t=window.event,t===void 0?32:t0(t.type))}function us(t,s){var r=R.p;try{return R.p=t,s()}finally{R.p=r}}var Hn=Math.random().toString(36).slice(2),cn="__reactFiber$"+Hn,Ln="__reactProps$"+Hn,ta="__reactContainer$"+Hn,ll="__reactEvents$"+Hn,zo="__reactListeners$"+Hn,jt="__reactHandles$"+Hn,Cr="__reactResources$"+Hn,Yn="__reactMarker$"+Hn;function ii(t){delete t[cn],delete t[Ln],delete t[ll],delete t[zo],delete t[jt]}function ks(t){var s=t[cn];if(s)return s;for(var r=t.parentNode;r;){if(s=r[ta]||r[cn]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=$x(t);t!==null;){if(r=t[cn])return r;t=$x(t)}return s}t=r,r=t.parentNode}return null}function ds(t){if(t=t[cn]||t[ta]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Nr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function na(t){var s=t[Cr];return s||(s=t[Cr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(t){t[Yn]=!0}var li=new Set,kr={};function sa(t,s){Ft(t,s),Ft(t+"Capture",s)}function Ft(t,s){for(kr[t]=s,t=0;t<s.length;t++)li.add(s[t])}var Er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bn={},oi={};function ol(t){return _t.call(oi,t)?!0:_t.call(bn,t)?!1:Er.test(t)?oi[t]=!0:(bn[t]=!0,!1)}function qa(t,s,r){if(ol(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function it(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Xn(t,s,r,c){if(c===null)t.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+c)}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ul(t,s,r){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){r=""+y,m.call(this,y)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function dl(t){if(!t._valueTracker){var s=cl(t)?"checked":"value";t._valueTracker=ul(t,s,""+t[s])}}function ci(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return t&&(c=cl(t)?t.checked?"true":"false":t.value),t=c,t!==r?(s.setValue(t),!0):!1}function aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ku=/[\n"\\]/g;function nn(t){return t.replace(Ku,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ra(t,s,r,c,f,m,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),s!=null?y==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Dt(s)):t.value!==""+Dt(s)&&(t.value=""+Dt(s)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),s!=null?ui(t,y,Dt(s)):r!=null?ui(t,y,Dt(r)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Dt(S):t.removeAttribute("name")}function Oo(t,s,r,c,f,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){dl(t);return}r=r!=null?""+Dt(r):"",s=s!=null?""+Dt(s):r,S||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),dl(t)}function ui(t,s,r){s==="number"&&aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fa(t,s,r,c){if(t=t.options,s){s={};for(var f=0;f<r.length;f++)s["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=s.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&c&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),s=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Ie(t,s,r){if(s!=null&&(s=""+Dt(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Dt(r):""}function ga(t,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(i(92));if(be(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=Dt(s),t.defaultValue=r,c=t.textContent,c===r&&c!==""&&c!==null&&(t.value=c),dl(t)}function qs(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,r):typeof r!="number"||r===0||Gu.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Un(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&r[f]!==c&&Lo(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&Lo(t,m,s[m])}function Fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return ia.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Ha=null;function fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Za=null;function xa(t){var s=ds(t);if(s&&(t=s.stateNode)){var r=t[Ln]||null;e:switch(t=s.stateNode,s.type){case"input":if(ra(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==t&&c.form===t.form){var f=c[Ln]||null;if(!f)throw Error(i(90));ra(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===t.form&&ci(c)}break e;case"textarea":Ie(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Fa(t,!!r.multiple,s,!1)}}}var sn=!1;function Uo(t,s,r){if(sn)return t(s,r);sn=!0;try{var c=t(s);return c}finally{if(sn=!1,(la!==null||Za!==null)&&(Ec(),la&&(s=la,t=Za,Za=la=null,xa(s),t)))for(s=0;s<t.length;s++)xa(t[s])}}function Es(t,s){var r=t.stateNode;if(r===null)return null;var c=r[Ln]||null;if(c===null)return null;r=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Bn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{_r=!1}var Cn=null,Zs=null,Va=null;function hl(){if(Va)return Va;var t,s=Zs,r=s.length,c,f="value"in Cn?Cn.value:Cn.textContent,m=f.length;for(t=0;t<r&&s[t]===f[t];t++);var y=r-t;for(c=1;c<=y&&s[r-c]===f[m-c];c++);return Va=f.slice(t,1<c?1-c:void 0)}function ba(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Xu(){return!1}function In(t){function s(r,c,f,m,y){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zn:Xu,this.isPropagationStopped=Xu,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=In(va),Qa=v({},va,{view:0,detail:0}),Bo=In(Qa),ml,Wa,Dr,di=v({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(ml=t.screenX-Dr.screenX,Wa=t.screenY-Dr.screenY):Wa=ml=0,Dr=t),ml)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),pl=In(di),fi=v({},di,{dataTransfer:0}),Ju=In(fi),ed=v({},Qa,{relatedTarget:0}),gl=In(ed),hi=v({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=In(hi),xl=v({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bl=In(xl),vl=v({},va,{data:0}),ya=In(vl),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=nd[t])?!!s[t]:!1}function yl(){return sd}var Vs=v({},Qa,{key:function(t){if(t.key){var s=Ar[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?td[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ad=In(Vs),rd=v({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=In(rd),id=v({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),ld=In(id),mi=v({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=In(mi),cd=v({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ud=In(cd),dd=v({},va,{newState:0,oldState:0}),fd=In(dd),qo=[9,13,27,32],wl=Bn&&"CompositionEvent"in window,Tr=null;Bn&&"documentMode"in document&&(Tr=document.documentMode);var hd=Bn&&"TextEvent"in window&&!Tr,Fo=Bn&&(!wl||Tr&&8<Tr&&11>=Tr),Ho=" ",Zo=!1;function Io(t,s){switch(t){case"keyup":return qo.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function md(t,s){switch(t){case"compositionend":return Vo(s);case"keypress":return s.which!==32?null:(Zo=!0,Ho);case"textInput":return t=s.data,t===Ho&&Zo?null:t;default:return null}}function pd(t,s){if(Ka)return t==="compositionend"||!wl&&Io(t,s)?(t=hl(),Va=Zs=Cn=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fo&&s.locale!=="ko"?null:s.data;default:return null}}var jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!jl[t.type]:s==="textarea"}function ue(t,s,r,c){la?Za?Za.push(c):Za=[c]:la=c,s=zc(s,"onChange"),0<s.length&&(r=new Pa("onChange","change",null,r,c),t.push({event:r,listeners:s}))}var Re=null,Ae=null;function qe(t){Nx(t,0)}function tt(t){var s=Nr(t);if(ci(s))return t}function nt(t,s){if(t==="change")return s}var Ht=!1;if(Bn){var wa;if(Bn){var $n="oninput"in document;if(!$n){var St=document.createElement("div");St.setAttribute("oninput","return;"),$n=typeof St.oninput=="function"}wa=$n}else wa=!1;Ht=wa&&(!document.documentMode||9<document.documentMode)}function Lt(){Re&&(Re.detachEvent("onpropertychange",Ps),Ae=Re=null)}function Ps(t){if(t.propertyName==="value"&&tt(Ae)){var s=[];ue(s,Ae,t,fl(t)),Uo(qe,s)}}function Mr(t,s,r){t==="focusin"?(Lt(),Re=s,Ae=r,Re.attachEvent("onpropertychange",Ps)):t==="focusout"&&Lt()}function Po(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tt(Ae)}function Sl(t,s){if(t==="click")return tt(s)}function Qw(t,s){if(t==="input"||t==="change")return tt(s)}function Ww(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var fs=typeof Object.is=="function"?Object.is:Ww;function Cl(t,s){if(fs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!_t.call(s,f)||!fs(t[f],s[f]))return!1}return!0}function Km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,s){var r=Km(t);t=0;for(var c;r;){if(r.nodeType===3){if(c=t+r.textContent.length,t<=s&&c>=s)return{node:r,offset:s-t};t=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Km(r)}}function Ym(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ym(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=aa(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=aa(t.document)}return s}function gd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Kw=Bn&&"documentMode"in document&&11>=document.documentMode,pi=null,xd=null,Nl=null,bd=!1;function Jm(t,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bd||pi==null||pi!==aa(c)||(c=pi,"selectionStart"in c&&gd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nl&&Cl(Nl,c)||(Nl=c,c=zc(xd,"onSelect"),0<c.length&&(s=new Pa("onSelect","select",null,s,r),t.push({event:s,listeners:c}),s.target=pi)))}function Rr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var gi={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},vd={},ep={};Bn&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function zr(t){if(vd[t])return vd[t];if(!gi[t])return t;var s=gi[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in ep)return vd[t]=s[r];return t}var tp=zr("animationend"),np=zr("animationiteration"),sp=zr("animationstart"),Gw=zr("transitionrun"),Yw=zr("transitionstart"),Xw=zr("transitioncancel"),ap=zr("transitionend"),rp=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function Qs(t,s){rp.set(t,s),sa(s,[t])}var Qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_s=[],xi=0,wd=0;function Wo(){for(var t=xi,s=wd=xi=0;s<t;){var r=_s[s];_s[s++]=null;var c=_s[s];_s[s++]=null;var f=_s[s];_s[s++]=null;var m=_s[s];if(_s[s++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}m!==0&&ip(r,f,m)}}function Ko(t,s,r,c){_s[xi++]=t,_s[xi++]=s,_s[xi++]=r,_s[xi++]=c,wd|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function jd(t,s,r,c){return Ko(t,s,r,c),Go(t)}function Or(t,s){return Ko(t,null,null,s),Go(t)}function ip(t,s,r){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-$t(r),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=r|536870912),m):null}function Go(t){if(50<Ql)throw Ql=0,Mf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var bi={};function Jw(t,s,r,c){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,s,r,c){return new Jw(t,s,r,c)}function Sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ja(t,s){var r=t.alternate;return r===null?(r=hs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lp(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Yo(t,s,r,c,f,m){var y=0;if(c=t,typeof t=="function")Sd(t)&&(y=1);else if(typeof t=="string")y=aj(t,r,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=hs(31,r,s,f),t.elementType=Q,t.lanes=m,t;case j:return Lr(r.children,f,m,s);case _:y=8,f|=24;break;case M:return t=hs(12,r,s,f|2),t.elementType=M,t.lanes=m,t;case L:return t=hs(13,r,s,f),t.elementType=L,t.lanes=m,t;case V:return t=hs(19,r,s,f),t.elementType=V,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:y=10;break e;case k:y=9;break e;case W:y=11;break e;case A:y=14;break e;case P:y=16,c=null;break e}y=29,r=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=hs(y,r,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function Lr(t,s,r,c){return t=hs(7,t,c,s),t.lanes=r,t}function Cd(t,s,r){return t=hs(6,t,null,s),t.lanes=r,t}function op(t){var s=hs(18,null,null,0);return s.stateNode=t,s}function Nd(t,s,r){return s=hs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var cp=new WeakMap;function Ds(t,s){if(typeof t=="object"&&t!==null){var r=cp.get(t);return r!==void 0?r:(s={value:t,source:s,stack:Je(s)},cp.set(t,s),s)}return{value:t,source:s,stack:Je(s)}}var vi=[],yi=0,Xo=null,kl=0,As=[],Ts=0,Ga=null,oa=1,ca="";function Sa(t,s){vi[yi++]=kl,vi[yi++]=Xo,Xo=t,kl=s}function up(t,s,r){As[Ts++]=oa,As[Ts++]=ca,As[Ts++]=Ga,Ga=t;var c=oa;t=ca;var f=32-$t(c)-1;c&=~(1<<f),r+=1;var m=32-$t(s)+f;if(30<m){var y=f-f%5;m=(c&(1<<y)-1).toString(32),c>>=y,f-=y,oa=1<<32-$t(s)+f|r<<f|c,ca=m+t}else oa=1<<m|r<<f|c,ca=t}function kd(t){t.return!==null&&(Sa(t,1),up(t,1,0))}function Ed(t){for(;t===Xo;)Xo=vi[--yi],vi[yi]=null,kl=vi[--yi],vi[yi]=null;for(;t===Ga;)Ga=As[--Ts],As[Ts]=null,ca=As[--Ts],As[Ts]=null,oa=As[--Ts],As[Ts]=null}function dp(t,s){As[Ts++]=oa,As[Ts++]=ca,As[Ts++]=Ga,oa=s.id,ca=s.overflow,Ga=t}var Mn=null,Zt=null,ut=!1,Ya=null,Ms=!1,_d=Error(i(519));function Xa(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(Ds(s,t)),_d}function fp(t){var s=t.stateNode,r=t.type,c=t.memoizedProps;switch(s[cn]=t,s[Ln]=c,r){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(r=0;r<Kl.length;r++)at(Kl[r],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":at("invalid",s),Oo(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":at("invalid",s);break;case"textarea":at("invalid",s),ga(s,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||Dx(s.textContent,r)?(c.popover!=null&&(at("beforetoggle",s),at("toggle",s)),c.onScroll!=null&&at("scroll",s),c.onScrollEnd!=null&&at("scrollend",s),c.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||Xa(t,!0)}function hp(t){for(Mn=t.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Ms=!1;return;case 27:case 3:Ms=!0;return;default:Mn=Mn.return}}function wi(t){if(t!==Mn)return!1;if(!ut)return hp(t),ut=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Qf(t.type,t.memoizedProps)),r=!r),r&&Zt&&Xa(t),hp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Zt=Bx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Zt=Bx(t)}else s===27?(s=Zt,fr(t.type)?(t=Xf,Xf=null,Zt=t):Zt=s):Zt=Mn?zs(t.stateNode.nextSibling):null;return!0}function Ur(){Zt=Mn=null,ut=!1}function Dd(){var t=Ya;return t!==null&&(ss===null?ss=t:ss.push.apply(ss,t),Ya=null),t}function El(t){Ya===null?Ya=[t]:Ya.push(t)}var Ad=E(null),Br=null,Ca=null;function Ja(t,s,r){le(Ad,s._currentValue),s._currentValue=r}function Na(t){t._currentValue=Ad.current,Z(Ad)}function Td(t,s,r){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===r)break;t=t.return}}function Md(t,s,r,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var y=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var z=0;z<s.length;z++)if(S.context===s[z]){m.lanes|=r,S=m.alternate,S!==null&&(S.lanes|=r),Td(m.return,r,t),c||(y=null);break e}m=S.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=r,m=y.alternate,m!==null&&(m.lanes|=r),Td(y,r,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function ji(t,s,r,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var S=f.type;fs(f.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(f===K.current){if(y=f.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}f=f.return}t!==null&&Md(s,t,r,c),s.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!fs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Br=t,Ca=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rn(t){return mp(Br,t)}function ec(t,s){return Br===null&&$r(t),mp(t,s)}function mp(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Ca===null){if(t===null)throw Error(i(308));Ca=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ca=Ca.next=s;return r}var e1=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},t1=e.unstable_scheduleCallback,n1=e.unstable_NormalPriority,dn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new e1,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&t1(n1,function(){t.controller.abort()})}var Dl=null,zd=0,Si=0,Ci=null;function s1(t,s){if(Dl===null){var r=Dl=[];zd=0,Si=Bf(),Ci={status:"pending",value:void 0,then:function(c){r.push(c)}}}return zd++,s.then(pp,pp),s}function pp(){if(--zd===0&&Dl!==null){Ci!==null&&(Ci.status="fulfilled");var t=Dl;Dl=null,Si=0,Ci=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function a1(t,s){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<r.length;f++)(0,r[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var gp=D.S;D.S=function(t,s){Jg=je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s1(t,s),gp!==null&&gp(t,s)};var qr=E(null);function Od(){var t=qr.current;return t!==null?t:Ut.pooledCache}function tc(t,s){s===null?le(qr,qr.current):le(qr,s.pool)}function xp(){var t=Od();return t===null?null:{parent:dn._currentValue,pool:t}}var Ni=Error(i(460)),Ld=Error(i(474)),nc=Error(i(542)),sc={then:function(){}};function bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vp(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Jn,Jn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wp(t),t;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(t=Ut,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wp(t),t}throw Hr=s,Ni}}function Fr(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Ni):r}}var Hr=null;function yp(){if(Hr===null)throw Error(i(459));var t=Hr;return Hr=null,t}function wp(t){if(t===Ni||t===nc)throw Error(i(483))}var ki=null,Al=0;function ac(t){var s=Al;return Al+=1,ki===null&&(ki=[]),vp(ki,t,s)}function Tl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function rc(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function jp(t){function s(G,q){if(t){var se=G.deletions;se===null?(G.deletions=[q],G.flags|=16):se.push(q)}}function r(G,q){if(!t)return null;for(;q!==null;)s(G,q),q=q.sibling;return null}function c(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function f(G,q){return G=ja(G,q),G.index=0,G.sibling=null,G}function m(G,q,se){return G.index=se,t?(se=G.alternate,se!==null?(se=se.index,se<q?(G.flags|=67108866,q):se):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function y(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function S(G,q,se,xe){return q===null||q.tag!==6?(q=Cd(se,G.mode,xe),q.return=G,q):(q=f(q,se),q.return=G,q)}function z(G,q,se,xe){var Fe=se.type;return Fe===j?me(G,q,se.props.children,xe,se.key):q!==null&&(q.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===P&&Fr(Fe)===q.type)?(q=f(q,se.props),Tl(q,se),q.return=G,q):(q=Yo(se.type,se.key,se.props,null,G.mode,xe),Tl(q,se),q.return=G,q)}function re(G,q,se,xe){return q===null||q.tag!==4||q.stateNode.containerInfo!==se.containerInfo||q.stateNode.implementation!==se.implementation?(q=Nd(se,G.mode,xe),q.return=G,q):(q=f(q,se.children||[]),q.return=G,q)}function me(G,q,se,xe,Fe){return q===null||q.tag!==7?(q=Lr(se,G.mode,xe,Fe),q.return=G,q):(q=f(q,se),q.return=G,q)}function ve(G,q,se){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Cd(""+q,G.mode,se),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return se=Yo(q.type,q.key,q.props,null,G.mode,se),Tl(se,q),se.return=G,se;case N:return q=Nd(q,G.mode,se),q.return=G,q;case P:return q=Fr(q),ve(G,q,se)}if(be(q)||U(q))return q=Lr(q,G.mode,se,null),q.return=G,q;if(typeof q.then=="function")return ve(G,ac(q),se);if(q.$$typeof===B)return ve(G,ec(G,q),se);rc(G,q)}return null}function ie(G,q,se,xe){var Fe=q!==null?q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Fe!==null?null:S(G,q,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return se.key===Fe?z(G,q,se,xe):null;case N:return se.key===Fe?re(G,q,se,xe):null;case P:return se=Fr(se),ie(G,q,se,xe)}if(be(se)||U(se))return Fe!==null?null:me(G,q,se,xe,null);if(typeof se.then=="function")return ie(G,q,ac(se),xe);if(se.$$typeof===B)return ie(G,q,ec(G,se),xe);rc(G,se)}return null}function oe(G,q,se,xe,Fe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return G=G.get(se)||null,S(q,G,""+xe,Fe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case C:return G=G.get(xe.key===null?se:xe.key)||null,z(q,G,xe,Fe);case N:return G=G.get(xe.key===null?se:xe.key)||null,re(q,G,xe,Fe);case P:return xe=Fr(xe),oe(G,q,se,xe,Fe)}if(be(xe)||U(xe))return G=G.get(se)||null,me(q,G,xe,Fe,null);if(typeof xe.then=="function")return oe(G,q,se,ac(xe),Fe);if(xe.$$typeof===B)return oe(G,q,se,ec(q,xe),Fe);rc(q,xe)}return null}function Le(G,q,se,xe){for(var Fe=null,pt=null,$e=q,Xe=q=0,ot=null;$e!==null&&Xe<se.length;Xe++){$e.index>Xe?(ot=$e,$e=null):ot=$e.sibling;var gt=ie(G,$e,se[Xe],xe);if(gt===null){$e===null&&($e=ot);break}t&&$e&&gt.alternate===null&&s(G,$e),q=m(gt,q,Xe),pt===null?Fe=gt:pt.sibling=gt,pt=gt,$e=ot}if(Xe===se.length)return r(G,$e),ut&&Sa(G,Xe),Fe;if($e===null){for(;Xe<se.length;Xe++)$e=ve(G,se[Xe],xe),$e!==null&&(q=m($e,q,Xe),pt===null?Fe=$e:pt.sibling=$e,pt=$e);return ut&&Sa(G,Xe),Fe}for($e=c($e);Xe<se.length;Xe++)ot=oe($e,G,Xe,se[Xe],xe),ot!==null&&(t&&ot.alternate!==null&&$e.delete(ot.key===null?Xe:ot.key),q=m(ot,q,Xe),pt===null?Fe=ot:pt.sibling=ot,pt=ot);return t&&$e.forEach(function(xr){return s(G,xr)}),ut&&Sa(G,Xe),Fe}function Ve(G,q,se,xe){if(se==null)throw Error(i(151));for(var Fe=null,pt=null,$e=q,Xe=q=0,ot=null,gt=se.next();$e!==null&&!gt.done;Xe++,gt=se.next()){$e.index>Xe?(ot=$e,$e=null):ot=$e.sibling;var xr=ie(G,$e,gt.value,xe);if(xr===null){$e===null&&($e=ot);break}t&&$e&&xr.alternate===null&&s(G,$e),q=m(xr,q,Xe),pt===null?Fe=xr:pt.sibling=xr,pt=xr,$e=ot}if(gt.done)return r(G,$e),ut&&Sa(G,Xe),Fe;if($e===null){for(;!gt.done;Xe++,gt=se.next())gt=ve(G,gt.value,xe),gt!==null&&(q=m(gt,q,Xe),pt===null?Fe=gt:pt.sibling=gt,pt=gt);return ut&&Sa(G,Xe),Fe}for($e=c($e);!gt.done;Xe++,gt=se.next())gt=oe($e,G,Xe,gt.value,xe),gt!==null&&(t&&gt.alternate!==null&&$e.delete(gt.key===null?Xe:gt.key),q=m(gt,q,Xe),pt===null?Fe=gt:pt.sibling=gt,pt=gt);return t&&$e.forEach(function(pj){return s(G,pj)}),ut&&Sa(G,Xe),Fe}function Mt(G,q,se,xe){if(typeof se=="object"&&se!==null&&se.type===j&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case C:e:{for(var Fe=se.key;q!==null;){if(q.key===Fe){if(Fe=se.type,Fe===j){if(q.tag===7){r(G,q.sibling),xe=f(q,se.props.children),xe.return=G,G=xe;break e}}else if(q.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===P&&Fr(Fe)===q.type){r(G,q.sibling),xe=f(q,se.props),Tl(xe,se),xe.return=G,G=xe;break e}r(G,q);break}else s(G,q);q=q.sibling}se.type===j?(xe=Lr(se.props.children,G.mode,xe,se.key),xe.return=G,G=xe):(xe=Yo(se.type,se.key,se.props,null,G.mode,xe),Tl(xe,se),xe.return=G,G=xe)}return y(G);case N:e:{for(Fe=se.key;q!==null;){if(q.key===Fe)if(q.tag===4&&q.stateNode.containerInfo===se.containerInfo&&q.stateNode.implementation===se.implementation){r(G,q.sibling),xe=f(q,se.children||[]),xe.return=G,G=xe;break e}else{r(G,q);break}else s(G,q);q=q.sibling}xe=Nd(se,G.mode,xe),xe.return=G,G=xe}return y(G);case P:return se=Fr(se),Mt(G,q,se,xe)}if(be(se))return Le(G,q,se,xe);if(U(se)){if(Fe=U(se),typeof Fe!="function")throw Error(i(150));return se=Fe.call(se),Ve(G,q,se,xe)}if(typeof se.then=="function")return Mt(G,q,ac(se),xe);if(se.$$typeof===B)return Mt(G,q,ec(G,se),xe);rc(G,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,q!==null&&q.tag===6?(r(G,q.sibling),xe=f(q,se),xe.return=G,G=xe):(r(G,q),xe=Cd(se,G.mode,xe),xe.return=G,G=xe),y(G)):r(G,q)}return function(G,q,se,xe){try{Al=0;var Fe=Mt(G,q,se,xe);return ki=null,Fe}catch($e){if($e===Ni||$e===nc)throw $e;var pt=hs(29,$e,null,G.mode);return pt.lanes=xe,pt.return=G,pt}finally{}}}var Zr=jp(!0),Sp=jp(!1),er=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,s,r){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Go(t),ip(t,null,r),s}return Ko(t,c,s,r),Go(t)}function Ml(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,r|=c,s.lanes=r,Tn(t,r)}}function $d(t,s){var r=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=y:m=m.next=y,r=r.next}while(r!==null);m===null?f=m=s:m=m.next=s}else f=m=s;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var qd=!1;function Rl(){if(qd){var t=Ci;if(t!==null)throw t}}function zl(t,s,r,c){qd=!1;var f=t.updateQueue;er=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var z=S,re=z.next;z.next=null,y===null?m=re:y.next=re,y=z;var me=t.alternate;me!==null&&(me=me.updateQueue,S=me.lastBaseUpdate,S!==y&&(S===null?me.firstBaseUpdate=re:S.next=re,me.lastBaseUpdate=z))}if(m!==null){var ve=f.baseState;y=0,me=re=z=null,S=m;do{var ie=S.lane&-536870913,oe=ie!==S.lane;if(oe?(lt&ie)===ie:(c&ie)===ie){ie!==0&&ie===Si&&(qd=!0),me!==null&&(me=me.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=t,Ve=S;ie=s;var Mt=r;switch(Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){ve=Le.call(Mt,ve,ie);break e}ve=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,ie=typeof Le=="function"?Le.call(Mt,ve,ie):Le,ie==null)break e;ve=v({},ve,ie);break e;case 2:er=!0}}ie=S.callback,ie!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=f.callbacks,oe===null?f.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:S.tag,payload:S.payload,callback:S.callback,next:null},me===null?(re=me=oe,z=ve):me=me.next=oe,y|=ie;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;oe=S,S=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);me===null&&(z=ve),f.baseState=z,f.firstBaseUpdate=re,f.lastBaseUpdate=me,m===null&&(f.shared.lanes=0),lr|=y,t.lanes=y,t.memoizedState=ve}}function Cp(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Np(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Cp(r[t],s)}var Ei=E(null),ic=E(0);function kp(t,s){t=za,le(ic,t),le(Ei,s),za=t|s.baseLanes}function Fd(){le(ic,za),le(Ei,Ei.current)}function Hd(){za=ic.current,Z(Ei),Z(ic)}var ms=E(null),Rs=null;function sr(t){var s=t.alternate;le(an,an.current&1),le(ms,t),Rs===null&&(s===null||Ei.current!==null||s.memoizedState!==null)&&(Rs=t)}function Zd(t){le(an,an.current),le(ms,t),Rs===null&&(Rs=t)}function Ep(t){t.tag===22?(le(an,an.current),le(ms,t),Rs===null&&(Rs=t)):ar()}function ar(){le(an,an.current),le(ms,ms.current)}function ps(t){Z(ms),Rs===t&&(Rs=null),Z(an)}var an=E(0);function lc(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Gf(r)||Yf(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ka=0,Ye=null,At=null,fn=null,oc=!1,_i=!1,Ir=!1,cc=0,Ol=0,Di=null,r1=0;function Xt(){throw Error(i(321))}function Id(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!fs(t[r],s[r]))return!1;return!0}function Vd(t,s,r,c,f,m){return ka=m,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=t===null||t.memoizedState===null?ug:lf,Ir=!1,m=r(c,f),Ir=!1,_i&&(m=Dp(s,r,c,f)),_p(t),m}function _p(t){D.H=Bl;var s=At!==null&&At.next!==null;if(ka=0,fn=At=Ye=null,oc=!1,Ol=0,Di=null,s)throw Error(i(300));t===null||hn||(t=t.dependencies,t!==null&&Jo(t)&&(hn=!0))}function Dp(t,s,r,c){Ye=t;var f=0;do{if(_i&&(Di=null),Ol=0,_i=!1,25<=f)throw Error(i(301));if(f+=1,fn=At=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=dg,m=s(r,c)}while(_i);return m}function i1(){var t=D.H,s=t.useState()[0];return s=typeof s.then=="function"?Ll(s):s,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(Ye.flags|=1024),s}function Pd(){var t=cc!==0;return cc=0,t}function Qd(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Wd(t){if(oc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}oc=!1}ka=0,fn=At=Ye=null,_i=!1,Ol=cc=0,Di=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ye.memoizedState=fn=t:fn=fn.next=t,fn}function rn(){if(At===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var s=fn===null?Ye.memoizedState:fn.next;if(s!==null)fn=s,At=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},fn===null?Ye.memoizedState=fn=t:fn=fn.next=t}return fn}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var s=Ol;return Ol+=1,Di===null&&(Di=[]),t=vp(Di,t,s),s=Ye,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?ug:lf),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===B)return Rn(t)}throw Error(i(438,String(t)))}function Kd(t){var s=null,r=Ye.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=uc(),Ye.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),c=0;c<t;c++)r[c]=Y;return s.index++,r}function Ea(t,s){return typeof s=="function"?s(t):s}function fc(t){var s=rn();return Gd(s,At,t)}function Gd(t,s,r){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var S=y=null,z=null,re=s,me=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(lt&ve)===ve:(ka&ve)===ve){var ie=re.revertLane;if(ie===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===Si&&(me=!0);else if((ka&ie)===ie){re=re.next,ie===Si&&(me=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},z===null?(S=z=ve,y=m):z=z.next=ve,Ye.lanes|=ie,lr|=ie;ve=re.action,Ir&&r(m,ve),m=re.hasEagerState?re.eagerState:r(m,ve)}else ie={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},z===null?(S=z=ie,y=m):z=z.next=ie,Ye.lanes|=ve,lr|=ve;re=re.next}while(re!==null&&re!==s);if(z===null?y=m:z.next=S,!fs(m,t.memoizedState)&&(hn=!0,me&&(r=Ci,r!==null)))throw r;t.memoizedState=m,t.baseState=y,t.baseQueue=z,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Yd(t){var s=rn(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var c=r.dispatch,f=r.pending,m=s.memoizedState;if(f!==null){r.pending=null;var y=f=f.next;do m=t(m,y.action),y=y.next;while(y!==f);fs(m,s.memoizedState)||(hn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,c]}function Ap(t,s,r){var c=Ye,f=rn(),m=ut;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=s();var y=!fs((At||f).memoizedState,r);if(y&&(f.memoizedState=r,hn=!0),f=f.queue,ef(Rp.bind(null,c,f,t),[t]),f.getSnapshot!==s||y||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,Ai(9,{destroy:void 0},Mp.bind(null,c,f,r,s),null),Ut===null)throw Error(i(349));m||(ka&127)!==0||Tp(c,s,r)}return r}function Tp(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ye.updateQueue,s===null?(s=uc(),Ye.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Mp(t,s,r,c){s.value=r,s.getSnapshot=c,zp(s)&&Op(t)}function Rp(t,s,r){return r(function(){zp(s)&&Op(t)})}function zp(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!fs(t,r)}catch{return!0}}function Op(t){var s=Or(t,2);s!==null&&as(s,t,2)}function Xd(t){var s=Vn();if(typeof t=="function"){var r=t;if(t=r(),Ir){zt(!0);try{r()}finally{zt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},s}function Lp(t,s,r,c){return t.baseState=r,Gd(t,At,typeof c=="function"?c:Ea)}function l1(t,s,r,c,f){if(pc(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};D.T!==null?r(!0):m.isTransition=!1,c(m),r=s.pending,r===null?(m.next=s.pending=m,Up(s,m)):(m.next=r.next,s.pending=r.next=m)}}function Up(t,s){var r=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=D.T,y={};D.T=y;try{var S=r(f,c),z=D.S;z!==null&&z(y,S),Bp(t,s,S)}catch(re){Jd(t,s,re)}finally{m!==null&&y.types!==null&&(m.types=y.types),D.T=m}}else try{m=r(f,c),Bp(t,s,m)}catch(re){Jd(t,s,re)}}function Bp(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){$p(t,s,c)},function(c){return Jd(t,s,c)}):$p(t,s,r)}function $p(t,s,r){s.status="fulfilled",s.value=r,qp(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Up(t,r)))}function Jd(t,s,r){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,qp(s),s=s.next;while(s!==c)}t.action=null}function qp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Fp(t,s){return s}function Hp(t,s){if(ut){var r=Ut.formState;if(r!==null){e:{var c=Ye;if(ut){if(Zt){t:{for(var f=Zt,m=Ms;f.nodeType!==8;){if(!m){f=null;break t}if(f=zs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Zt=zs(f.nextSibling),c=f.data==="F!";break e}}Xa(c)}c=!1}c&&(s=r[0])}}return r=Vn(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:s},r.queue=c,r=lg.bind(null,Ye,c),c.dispatch=r,c=Xd(!1),m=rf.bind(null,Ye,!1,c.queue),c=Vn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,r=l1.bind(null,Ye,f,m,r),f.dispatch=r,c.memoizedState=t,[s,r,!1]}function Zp(t){var s=rn();return Ip(s,At,t)}function Ip(t,s,r){if(s=Gd(t,s,Fp)[0],t=fc(Ea)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ll(s)}catch(y){throw y===Ni?nc:y}else c=s;s=rn();var f=s.queue,m=f.dispatch;return r!==s.memoizedState&&(Ye.flags|=2048,Ai(9,{destroy:void 0},o1.bind(null,f,r),null)),[c,m,t]}function o1(t,s){t.action=s}function Vp(t){var s=rn(),r=At;if(r!==null)return Ip(s,r,t);rn(),s=s.memoizedState,r=rn();var c=r.queue.dispatch;return r.memoizedState=t,[s,c,!1]}function Ai(t,s,r,c){return t={tag:t,create:r,deps:c,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=uc(),Ye.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(c=r.next,r.next=t,t.next=c,s.lastEffect=t),t}function Pp(){return rn().memoizedState}function hc(t,s,r,c){var f=Vn();Ye.flags|=t,f.memoizedState=Ai(1|s,{destroy:void 0},r,c===void 0?null:c)}function mc(t,s,r,c){var f=rn();c=c===void 0?null:c;var m=f.memoizedState.inst;At!==null&&c!==null&&Id(c,At.memoizedState.deps)?f.memoizedState=Ai(s,m,r,c):(Ye.flags|=t,f.memoizedState=Ai(1|s,m,r,c))}function Qp(t,s){hc(8390656,8,t,s)}function ef(t,s){mc(2048,8,t,s)}function c1(t){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=uc(),Ye.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Wp(t){var s=rn().memoizedState;return c1({ref:s,nextImpl:t}),function(){if((vt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Kp(t,s){return mc(4,2,t,s)}function Gp(t,s){return mc(4,4,t,s)}function Yp(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Xp(t,s,r){r=r!=null?r.concat([t]):null,mc(4,4,Yp.bind(null,s,t),r)}function tf(){}function Jp(t,s){var r=rn();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&Id(s,c[1])?c[0]:(r.memoizedState=[t,s],t)}function eg(t,s){var r=rn();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&Id(s,c[1]))return c[0];if(c=t(),Ir){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[c,s],c}function nf(t,s,r){return r===void 0||(ka&1073741824)!==0&&(lt&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=tx(),Ye.lanes|=t,lr|=t,r)}function tg(t,s,r,c){return fs(r,s)?r:Ei.current!==null?(t=nf(t,r,c),fs(t,s)||(hn=!0),t):(ka&42)===0||(ka&1073741824)!==0&&(lt&261930)===0?(hn=!0,t.memoizedState=r):(t=tx(),Ye.lanes|=t,lr|=t,s)}function ng(t,s,r,c,f){var m=R.p;R.p=m!==0&&8>m?m:8;var y=D.T,S={};D.T=S,rf(t,!1,s,r);try{var z=f(),re=D.S;if(re!==null&&re(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var me=a1(z,c);Ul(t,s,me,bs(t))}else Ul(t,s,c,bs(t))}catch(ve){Ul(t,s,{then:function(){},status:"rejected",reason:ve},bs())}finally{R.p=m,y!==null&&S.types!==null&&(y.types=S.types),D.T=y}}function u1(){}function sf(t,s,r,c){if(t.tag!==5)throw Error(i(476));var f=sg(t).queue;ng(t,f,s,te,r===null?u1:function(){return ag(t),r(c)})}function sg(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:te},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function ag(t){var s=sg(t);s.next===null&&(s=t.alternate.memoizedState),Ul(t,s.next.queue,{},bs())}function af(){return Rn(eo)}function rg(){return rn().memoizedState}function ig(){return rn().memoizedState}function d1(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=bs();t=tr(r);var c=nr(s,t,r);c!==null&&(as(c,s,r),Ml(c,s,r)),s={cache:Rd()},t.payload=s;return}s=s.return}}function f1(t,s,r){var c=bs();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pc(t)?og(s,r):(r=jd(t,s,r,c),r!==null&&(as(r,t,c),cg(r,s,c)))}function lg(t,s,r){var c=bs();Ul(t,s,r,c)}function Ul(t,s,r,c){var f={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pc(t))og(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,S=m(y,r);if(f.hasEagerState=!0,f.eagerState=S,fs(S,y))return Ko(t,s,f,0),Ut===null&&Wo(),!1}catch{}finally{}if(r=jd(t,s,f,c),r!==null)return as(r,t,c),cg(r,s,c),!0}return!1}function rf(t,s,r,c){if(c={lane:2,revertLane:Bf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(s)throw Error(i(479))}else s=jd(t,r,c,2),s!==null&&as(s,t,2)}function pc(t){var s=t.alternate;return t===Ye||s!==null&&s===Ye}function og(t,s){_i=oc=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function cg(t,s,r){if((r&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,r|=c,s.lanes=r,Tn(t,r)}}var Bl={readContext:Rn,use:dc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};Bl.useEffectEvent=Xt;var ug={readContext:Rn,use:dc,useCallback:function(t,s){return Vn().memoizedState=[t,s===void 0?null:s],t},useContext:Rn,useEffect:Qp,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,hc(4194308,4,Yp.bind(null,s,t),r)},useLayoutEffect:function(t,s){return hc(4194308,4,t,s)},useInsertionEffect:function(t,s){hc(4,2,t,s)},useMemo:function(t,s){var r=Vn();s=s===void 0?null:s;var c=t();if(Ir){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[c,s],c},useReducer:function(t,s,r){var c=Vn();if(r!==void 0){var f=r(s);if(Ir){zt(!0);try{r(s)}finally{zt(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=f1.bind(null,Ye,t),[c.memoizedState,t]},useRef:function(t){var s=Vn();return t={current:t},s.memoizedState=t},useState:function(t){t=Xd(t);var s=t.queue,r=lg.bind(null,Ye,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:tf,useDeferredValue:function(t,s){var r=Vn();return nf(r,t,s)},useTransition:function(){var t=Xd(!1);return t=ng.bind(null,Ye,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var c=Ye,f=Vn();if(ut){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),Ut===null)throw Error(i(349));(lt&127)!==0||Tp(c,s,r)}f.memoizedState=r;var m={value:r,getSnapshot:s};return f.queue=m,Qp(Rp.bind(null,c,m,t),[t]),c.flags|=2048,Ai(9,{destroy:void 0},Mp.bind(null,c,m,r,s),null),r},useId:function(){var t=Vn(),s=Ut.identifierPrefix;if(ut){var r=ca,c=oa;r=(c&~(1<<32-$t(c)-1)).toString(32)+r,s="_"+s+"R_"+r,r=cc++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=r1++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:af,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var s=Vn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=rf.bind(null,Ye,!0,r),r.dispatch=s,[t,s]},useMemoCache:Kd,useCacheRefresh:function(){return Vn().memoizedState=d1.bind(null,Ye)},useEffectEvent:function(t){var s=Vn(),r={impl:t};return s.memoizedState=r,function(){if((vt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},lf={readContext:Rn,use:dc,useCallback:Jp,useContext:Rn,useEffect:ef,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:eg,useReducer:fc,useRef:Pp,useState:function(){return fc(Ea)},useDebugValue:tf,useDeferredValue:function(t,s){var r=rn();return tg(r,At.memoizedState,t,s)},useTransition:function(){var t=fc(Ea)[0],s=rn().memoizedState;return[typeof t=="boolean"?t:Ll(t),s]},useSyncExternalStore:Ap,useId:rg,useHostTransitionStatus:af,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,s){var r=rn();return Lp(r,At,t,s)},useMemoCache:Kd,useCacheRefresh:ig};lf.useEffectEvent=Wp;var dg={readContext:Rn,use:dc,useCallback:Jp,useContext:Rn,useEffect:ef,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:eg,useReducer:Yd,useRef:Pp,useState:function(){return Yd(Ea)},useDebugValue:tf,useDeferredValue:function(t,s){var r=rn();return At===null?nf(r,t,s):tg(r,At.memoizedState,t,s)},useTransition:function(){var t=Yd(Ea)[0],s=rn().memoizedState;return[typeof t=="boolean"?t:Ll(t),s]},useSyncExternalStore:Ap,useId:rg,useHostTransitionStatus:af,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,s){var r=rn();return At!==null?Lp(r,At,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:ig};dg.useEffectEvent=Wp;function of(t,s,r,c){s=t.memoizedState,r=r(c,s),r=r==null?s:v({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cf={enqueueSetState:function(t,s,r){t=t._reactInternals;var c=bs(),f=tr(c);f.payload=s,r!=null&&(f.callback=r),s=nr(t,f,c),s!==null&&(as(s,t,c),Ml(s,t,c))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var c=bs(),f=tr(c);f.tag=1,f.payload=s,r!=null&&(f.callback=r),s=nr(t,f,c),s!==null&&(as(s,t,c),Ml(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=bs(),c=tr(r);c.tag=2,s!=null&&(c.callback=s),s=nr(t,c,r),s!==null&&(as(s,t,r),Ml(s,t,r))}};function fg(t,s,r,c,f,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!Cl(r,c)||!Cl(f,m):!0}function hg(t,s,r,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==t&&cf.enqueueReplaceState(s,s.state,null)}function Vr(t,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(t=t.defaultProps){r===s&&(r=v({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function mg(t){Qo(t)}function pg(t){console.error(t)}function gg(t){Qo(t)}function gc(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function xg(t,s,r){try{var c=t.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uf(t,s,r){return r=tr(r),r.tag=3,r.payload={element:null},r.callback=function(){gc(t,s)},r}function bg(t){return t=tr(t),t.tag=3,t}function vg(t,s,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){xg(s,r,c)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){xg(s,r,c),typeof f!="function"&&(or===null?or=new Set([this]):or.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function h1(t,s,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&ji(s,r,f,!0),r=ms.current,r!==null){switch(r.tag){case 31:case 13:return Rs===null?_c():r.alternate===null&&Jt===0&&(Jt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===sc?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),Of(t,c,f)),!1;case 22:return r.flags|=65536,c===sc?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),Of(t,c,f)),!1}throw Error(i(435,r.tag))}return Of(t,c,f),_c(),!1}if(ut)return s=ms.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==_d&&(t=Error(i(422),{cause:c}),El(Ds(t,r)))):(c!==_d&&(s=Error(i(423),{cause:c}),El(Ds(s,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Ds(c,r),f=uf(t.stateNode,c,f),$d(t,f),Jt!==4&&(Jt=2)),!1;var m=Error(i(520),{cause:c});if(m=Ds(m,r),Pl===null?Pl=[m]:Pl.push(m),Jt!==4&&(Jt=2),s===null)return!0;c=Ds(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=uf(r.stateNode,c,t),$d(r,t),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(or===null||!or.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=bg(f),vg(f,t,r,c),$d(r,f),!1}r=r.return}while(r!==null);return!1}var df=Error(i(461)),hn=!1;function zn(t,s,r,c){s.child=t===null?Sp(s,null,r,c):Zr(s,t.child,r,c)}function yg(t,s,r,c,f){r=r.render;var m=s.ref;if("ref"in c){var y={};for(var S in c)S!=="ref"&&(y[S]=c[S])}else y=c;return $r(s),c=Vd(t,s,r,y,m,f),S=Pd(),t!==null&&!hn?(Qd(t,s,f),_a(t,s,f)):(ut&&S&&kd(s),s.flags|=1,zn(t,s,c,f),s.child)}function wg(t,s,r,c,f){if(t===null){var m=r.type;return typeof m=="function"&&!Sd(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,jg(t,s,m,c,f)):(t=Yo(r.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!vf(t,f)){var y=m.memoizedProps;if(r=r.compare,r=r!==null?r:Cl,r(y,c)&&t.ref===s.ref)return _a(t,s,f)}return s.flags|=1,t=ja(m,c),t.ref=s.ref,t.return=s,s.child=t}function jg(t,s,r,c,f){if(t!==null){var m=t.memoizedProps;if(Cl(m,c)&&t.ref===s.ref)if(hn=!1,s.pendingProps=c=m,vf(t,f))(t.flags&131072)!==0&&(hn=!0);else return s.lanes=t.lanes,_a(t,s,f)}return ff(t,s,r,c,f)}function Sg(t,s,r,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Cg(t,s,m,r,c)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(s,m!==null?m.cachePool:null),m!==null?kp(s,m):Fd(),Ep(s);else return c=s.lanes=536870912,Cg(t,s,m!==null?m.baseLanes|r:r,r,c)}else m!==null?(tc(s,m.cachePool),kp(s,m),ar(),s.memoizedState=null):(t!==null&&tc(s,null),Fd(),ar());return zn(t,s,f,r),s.child}function $l(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Cg(t,s,r,c,f){var m=Od();return m=m===null?null:{parent:dn._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},t!==null&&tc(s,null),Fd(),Ep(s),t!==null&&ji(t,s,c,!0),s.childLanes=f,null}function xc(t,s){return s=vc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Ng(t,s,r){return Zr(s,t.child,null,r),t=xc(s,s.pendingProps),t.flags|=2,ps(s),s.memoizedState=null,t}function m1(t,s,r){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ut){if(c.mode==="hidden")return t=xc(s,c),s.lanes=536870912,$l(null,t);if(Zd(s),(t=Zt)?(t=Ux(t,Ms),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ga!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},r=op(t),r.return=s,s.child=r,Mn=s,Zt=null)):t=null,t===null)throw Xa(s);return s.lanes=536870912,null}return xc(s,c)}var m=t.memoizedState;if(m!==null){var y=m.dehydrated;if(Zd(s),f)if(s.flags&256)s.flags&=-257,s=Ng(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(hn||ji(t,s,r,!1),f=(r&t.childLanes)!==0,hn||f){if(c=Ut,c!==null&&(y=Kn(c,r),y!==0&&y!==m.retryLane))throw m.retryLane=y,Or(t,y),as(c,t,y),df;_c(),s=Ng(t,s,r)}else t=m.treeContext,Zt=zs(y.nextSibling),Mn=s,ut=!0,Ya=null,Ms=!1,t!==null&&dp(s,t),s=xc(s,c),s.flags|=4096;return s}return t=ja(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function bc(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function ff(t,s,r,c,f){return $r(s),r=Vd(t,s,r,c,void 0,f),c=Pd(),t!==null&&!hn?(Qd(t,s,f),_a(t,s,f)):(ut&&c&&kd(s),s.flags|=1,zn(t,s,r,f),s.child)}function kg(t,s,r,c,f,m){return $r(s),s.updateQueue=null,r=Dp(s,c,r,f),_p(t),c=Pd(),t!==null&&!hn?(Qd(t,s,m),_a(t,s,m)):(ut&&c&&kd(s),s.flags|=1,zn(t,s,r,m),s.child)}function Eg(t,s,r,c,f){if($r(s),s.stateNode===null){var m=bi,y=r.contextType;typeof y=="object"&&y!==null&&(m=Rn(y)),m=new r(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Ud(s),y=r.contextType,m.context=typeof y=="object"&&y!==null?Rn(y):bi,m.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(of(s,r,y,c),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&cf.enqueueReplaceState(m,m.state,null),zl(s,c,m,f),Rl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var S=s.memoizedProps,z=Vr(r,S);m.props=z;var re=m.context,me=r.contextType;y=bi,typeof me=="object"&&me!==null&&(y=Rn(me));var ve=r.getDerivedStateFromProps;me=typeof ve=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,me||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||re!==y)&&hg(s,m,c,y),er=!1;var ie=s.memoizedState;m.state=ie,zl(s,c,m,f),Rl(),re=s.memoizedState,S||ie!==re||er?(typeof ve=="function"&&(of(s,r,ve,c),re=s.memoizedState),(z=er||fg(s,r,z,c,ie,re,y))?(me||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=re),m.props=c,m.state=re,m.context=y,c=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Bd(t,s),y=s.memoizedProps,me=Vr(r,y),m.props=me,ve=s.pendingProps,ie=m.context,re=r.contextType,z=bi,typeof re=="object"&&re!==null&&(z=Rn(re)),S=r.getDerivedStateFromProps,(re=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==ve||ie!==z)&&hg(s,m,c,z),er=!1,ie=s.memoizedState,m.state=ie,zl(s,c,m,f),Rl();var oe=s.memoizedState;y!==ve||ie!==oe||er||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof S=="function"&&(of(s,r,S,c),oe=s.memoizedState),(me=er||fg(s,r,me,c,ie,oe,z)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(re||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,oe,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,oe,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),m.props=c,m.state=oe,m.context=z,c=me):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ie===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,bc(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=Zr(s,t.child,null,f),s.child=Zr(s,null,r,f)):zn(t,s,r,f),s.memoizedState=m.state,t=s.child):t=_a(t,s,f),t}function _g(t,s,r,c){return Ur(),s.flags|=256,zn(t,s,r,c),s.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(t){return{baseLanes:t,cachePool:xp()}}function pf(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=xs),t}function Dg(t,s,r){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(an.current&2)!==0),y&&(f=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,t===null){if(ut){if(f?sr(s):ar(),(t=Zt)?(t=Ux(t,Ms),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ga!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},r=op(t),r.return=s,s.child=r,Mn=s,Zt=null)):t=null,t===null)throw Xa(s);return Yf(t)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(ar(),f=s.mode,S=vc({mode:"hidden",children:S},f),c=Lr(c,f,r,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=mf(r),c.childLanes=pf(t,y,r),s.memoizedState=hf,$l(null,c)):(sr(s),gf(s,S))}var z=t.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(m)s.flags&256?(sr(s),s.flags&=-257,s=xf(t,s,r)):s.memoizedState!==null?(ar(),s.child=t.child,s.flags|=128,s=null):(ar(),S=c.fallback,f=s.mode,c=vc({mode:"visible",children:c.children},f),S=Lr(S,f,r,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Zr(s,t.child,null,r),c=s.child,c.memoizedState=mf(r),c.childLanes=pf(t,y,r),s.memoizedState=hf,s=$l(null,c));else if(sr(s),Yf(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var re=y.dgst;y=re,c=Error(i(419)),c.stack="",c.digest=y,El({value:c,source:null,stack:null}),s=xf(t,s,r)}else if(hn||ji(t,s,r,!1),y=(r&t.childLanes)!==0,hn||y){if(y=Ut,y!==null&&(c=Kn(y,r),c!==0&&c!==z.retryLane))throw z.retryLane=c,Or(t,c),as(y,t,c),df;Gf(S)||_c(),s=xf(t,s,r)}else Gf(S)?(s.flags|=192,s.child=t.child,s=null):(t=z.treeContext,Zt=zs(S.nextSibling),Mn=s,ut=!0,Ya=null,Ms=!1,t!==null&&dp(s,t),s=gf(s,c.children),s.flags|=4096);return s}return f?(ar(),S=c.fallback,f=s.mode,z=t.child,re=z.sibling,c=ja(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,re!==null?S=ja(re,S):(S=Lr(S,f,r,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,$l(null,c),c=s.child,S=t.child.memoizedState,S===null?S=mf(r):(f=S.cachePool,f!==null?(z=dn._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=xp(),S={baseLanes:S.baseLanes|r,cachePool:f}),c.memoizedState=S,c.childLanes=pf(t,y,r),s.memoizedState=hf,$l(t.child,c)):(sr(s),r=t.child,t=r.sibling,r=ja(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,t!==null&&(y=s.deletions,y===null?(s.deletions=[t],s.flags|=16):y.push(t)),s.child=r,s.memoizedState=null,r)}function gf(t,s){return s=vc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function vc(t,s){return t=hs(22,t,null,s),t.lanes=0,t}function xf(t,s,r){return Zr(s,t.child,null,r),t=gf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ag(t,s,r){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Td(t.return,s,r)}function bf(t,s,r,c,f,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f,treeForkCount:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=r,y.tailMode=f,y.treeForkCount=m)}function Tg(t,s,r){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var y=an.current,S=(y&2)!==0;if(S?(y=y&1|2,s.flags|=128):y&=1,le(an,y),zn(t,s,c,r),c=ut?kl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,r,s);else if(t.tag===19)Ag(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=s.child,f=null;r!==null;)t=r.alternate,t!==null&&lc(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=s.child,s.child=null):(f=r.sibling,r.sibling=null),bf(s,!1,f,r,m,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&lc(t)===null){s.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}bf(s,!0,r,null,m,c);break;case"together":bf(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function _a(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),lr|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(ji(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=ja(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=ja(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function vf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function p1(t,s,r){switch(s.tag){case 3:H(s,s.stateNode.containerInfo),Ja(s,dn,t.memoizedState.cache),Ur();break;case 27:case 5:Se(s);break;case 4:H(s,s.stateNode.containerInfo);break;case 10:Ja(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(sr(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Dg(t,s,r):(sr(s),t=_a(t,s,r),t!==null?t.sibling:null);sr(s);break;case 19:var f=(t.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(ji(t,s,r,!1),c=(r&s.childLanes)!==0),f){if(c)return Tg(t,s,r);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(an,an.current),c)break;return null;case 22:return s.lanes=0,Sg(t,s,r,s.pendingProps);case 24:Ja(s,dn,t.memoizedState.cache)}return _a(t,s,r)}function Mg(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)hn=!0;else{if(!vf(t,r)&&(s.flags&128)===0)return hn=!1,p1(t,s,r);hn=(t.flags&131072)!==0}else hn=!1,ut&&(s.flags&1048576)!==0&&up(s,kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=Fr(s.elementType),s.type=t,typeof t=="function")Sd(t)?(c=Vr(t,c),s.tag=1,s=Eg(null,s,t,c,r)):(s.tag=0,s=ff(null,s,t,c,r));else{if(t!=null){var f=t.$$typeof;if(f===W){s.tag=11,s=yg(null,s,t,c,r);break e}else if(f===A){s.tag=14,s=wg(null,s,t,c,r);break e}}throw s=de(t)||t,Error(i(306,s,""))}}return s;case 0:return ff(t,s,s.type,s.pendingProps,r);case 1:return c=s.type,f=Vr(c,s.pendingProps),Eg(t,s,c,f,r);case 3:e:{if(H(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,Bd(t,s),zl(s,c,null,r);var y=s.memoizedState;if(c=y.cache,Ja(s,dn,c),c!==m.cache&&Md(s,[dn],r,!0),Rl(),c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=_g(t,s,c,r);break e}else if(c!==f){f=Ds(Error(i(424)),s),El(f),s=_g(t,s,c,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Zt=zs(t.firstChild),Mn=s,ut=!0,Ya=null,Ms=!0,r=Sp(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ur(),c===f){s=_a(t,s,r);break e}zn(t,s,c,r)}s=s.child}return s;case 26:return bc(t,s),t===null?(r=Zx(s.type,null,s.pendingProps,null))?s.memoizedState=r:ut||(r=s.type,t=s.pendingProps,c=Oc($.current).createElement(r),c[cn]=s,c[Ln]=t,On(c,r,t),un(c),s.stateNode=c):s.memoizedState=Zx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Se(s),t===null&&ut&&(c=s.stateNode=qx(s.type,s.pendingProps,$.current),Mn=s,Ms=!0,f=Zt,fr(s.type)?(Xf=f,Zt=zs(c.firstChild)):Zt=f),zn(t,s,s.pendingProps.children,r),bc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ut&&((f=c=Zt)&&(c=V1(c,s.type,s.pendingProps,Ms),c!==null?(s.stateNode=c,Mn=s,Zt=zs(c.firstChild),Ms=!1,f=!0):f=!1),f||Xa(s)),Se(s),f=s.type,m=s.pendingProps,y=t!==null?t.memoizedProps:null,c=m.children,Qf(f,m)?c=null:y!==null&&Qf(f,y)&&(s.flags|=32),s.memoizedState!==null&&(f=Vd(t,s,i1,null,null,r),eo._currentValue=f),bc(t,s),zn(t,s,c,r),s.child;case 6:return t===null&&ut&&((t=r=Zt)&&(r=P1(r,s.pendingProps,Ms),r!==null?(s.stateNode=r,Mn=s,Zt=null,t=!0):t=!1),t||Xa(s)),null;case 13:return Dg(t,s,r);case 4:return H(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Zr(s,null,c,r):zn(t,s,c,r),s.child;case 11:return yg(t,s,s.type,s.pendingProps,r);case 7:return zn(t,s,s.pendingProps,r),s.child;case 8:return zn(t,s,s.pendingProps.children,r),s.child;case 12:return zn(t,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Ja(s,s.type,c.value),zn(t,s,c.children,r),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,$r(s),f=Rn(f),c=c(f),s.flags|=1,zn(t,s,c,r),s.child;case 14:return wg(t,s,s.type,s.pendingProps,r);case 15:return jg(t,s,s.type,s.pendingProps,r);case 19:return Tg(t,s,r);case 31:return m1(t,s,r);case 22:return Sg(t,s,r,s.pendingProps);case 24:return $r(s),c=Rn(dn),t===null?(f=Od(),f===null&&(f=Ut,m=Rd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),s.memoizedState={parent:c,cache:f},Ud(s),Ja(s,dn,f)):((t.lanes&r)!==0&&(Bd(t,s),zl(s,null,null,r),Rl()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ja(s,dn,c)):(c=m.cache,Ja(s,dn,c),c!==f.cache&&Md(s,[dn],r,!0))),zn(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Da(t){t.flags|=4}function yf(t,s,r,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(rx())t.flags|=8192;else throw Hr=sc,Ld}else t.flags&=-16777217}function Rg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wx(s))if(rx())t.flags|=8192;else throw Hr=sc,Ld}function yc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?on():536870912,t.lanes|=s,zi|=s)}function ql(t,s){if(!ut)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function It(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,c=0;if(s)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=r,s}function g1(t,s,r){var c=s.pendingProps;switch(Ed(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return r=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Na(dn),ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wi(s)?Da(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dd())),It(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Da(s),m!==null?(It(s),Rg(s,m)):(It(s),yf(s,f,null,c,r))):m?m!==t.memoizedState?(Da(s),It(s),Rg(s,m)):(It(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Da(s),It(s),yf(s,f,t,c,r)),null;case 27:if(Be(s),r=$.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Da(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}t=F.current,wi(s)?fp(s):(t=qx(f,c,r),s.stateNode=t,Da(s))}return It(s),null;case 5:if(Be(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Da(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}if(m=F.current,wi(s))fp(s);else{var y=Oc($.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?y.createElement(f,{is:c.is}):y.createElement(f)}}m[cn]=s,m[Ln]=c;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=m;e:switch(On(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Da(s)}}return It(s),yf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Da(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=$.current,wi(s)){if(t=s.stateNode,r=s.memoizedProps,c=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[cn]=s,t=!!(t.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Dx(t.nodeValue,r)),t||Xa(s,!0)}else t=Oc(t).createTextNode(c),t[cn]=s,s.stateNode=t}return It(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(c=wi(s),r!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[cn]=s}else Ur(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),t=!1}else r=Dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ps(s),s):(ps(s),null);if((s.flags&128)!==0)throw Error(i(558))}return It(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=wi(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[cn]=s}else Ur(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),f=!1}else f=Dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ps(s),s):(ps(s),null)}return ps(s),(s.flags&128)!==0?(s.lanes=r,s):(r=c!==null,t=t!==null&&t.memoizedState!==null,r&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),yc(s,s.updateQueue),It(s),null);case 4:return ne(),t===null&&Hf(s.stateNode.containerInfo),It(s),null;case 10:return Na(s.type),It(s),null;case 19:if(Z(an),c=s.memoizedState,c===null)return It(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)ql(c,!1);else{if(Jt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=lc(t),m!==null){for(s.flags|=128,ql(c,!1),t=m.updateQueue,s.updateQueue=t,yc(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)lp(r,t),r=r.sibling;return le(an,an.current&1|2),ut&&Sa(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&je()>Nc&&(s.flags|=128,f=!0,ql(c,!1),s.lanes=4194304)}else{if(!f)if(t=lc(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,yc(s,t),ql(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!ut)return It(s),null}else 2*je()-c.renderingStartTime>Nc&&r!==536870912&&(s.flags|=128,f=!0,ql(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=je(),t.sibling=null,r=an.current,le(an,f?r&1|2:r&1),ut&&Sa(s,c.treeForkCount),t):(It(s),null);case 22:case 23:return ps(s),Hd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),r=s.updateQueue,r!==null&&yc(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),t!==null&&Z(qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Na(dn),It(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function x1(t,s){switch(Ed(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Na(dn),ne(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Be(s),null;case 31:if(s.memoizedState!==null){if(ps(s),s.alternate===null)throw Error(i(340));Ur()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ps(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ur()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(an),null;case 4:return ne(),null;case 10:return Na(s.type),null;case 22:case 23:return ps(s),Hd(),t!==null&&Z(qr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Na(dn),null;case 25:return null;default:return null}}function zg(t,s){switch(Ed(s),s.tag){case 3:Na(dn),ne();break;case 26:case 27:case 5:Be(s);break;case 4:ne();break;case 31:s.memoizedState!==null&&ps(s);break;case 13:ps(s);break;case 19:Z(an);break;case 10:Na(s.type);break;case 22:case 23:ps(s),Hd(),t!==null&&Z(qr);break;case 24:Na(dn)}}function Fl(t,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&t)===t){c=void 0;var m=r.create,y=r.inst;c=m(),y.destroy=c}r=r.next}while(r!==f)}}catch(S){Et(s,s.return,S)}}function rr(t,s,r){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var y=c.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,f=s;var z=r,re=S;try{re()}catch(me){Et(f,z,me)}}}c=c.next}while(c!==m)}}catch(me){Et(s,s.return,me)}}function Og(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{Np(s,r)}catch(c){Et(t,t.return,c)}}}function Lg(t,s,r){r.props=Vr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(c){Et(t,s,c)}}function Hl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Et(t,s,f)}}function ua(t,s){var r=t.ref,c=t.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Et(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Et(t,s,f)}else r.current=null}function Ug(t){var s=t.type,r=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Et(t,t.return,f)}}function wf(t,s,r){try{var c=t.stateNode;$1(c,t.type,r,s),c[Ln]=s}catch(f){Et(t,t.return,f)}}function Bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,s,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Jn));else if(c!==4&&(c===27&&fr(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Sf(t,s,r),t=t.sibling;t!==null;)Sf(t,s,r),t=t.sibling}function wc(t,s,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(c!==4&&(c===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(wc(t,s,r),t=t.sibling;t!==null;)wc(t,s,r),t=t.sibling}function $g(t){var s=t.stateNode,r=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);On(s,c,r),s[cn]=t,s[Ln]=r}catch(m){Et(t,t.return,m)}}var Aa=!1,mn=!1,Cf=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function b1(t,s){if(t=t.containerInfo,Vf=Hc,t=Xm(t),gd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var y=0,S=-1,z=-1,re=0,me=0,ve=t,ie=null;t:for(;;){for(var oe;ve!==r||f!==0&&ve.nodeType!==3||(S=y+f),ve!==m||c!==0&&ve.nodeType!==3||(z=y+c),ve.nodeType===3&&(y+=ve.nodeValue.length),(oe=ve.firstChild)!==null;)ie=ve,ve=oe;for(;;){if(ve===t)break t;if(ie===r&&++re===f&&(S=y),ie===m&&++me===c&&(z=y),(oe=ve.nextSibling)!==null)break;ve=ie,ie=ve.parentNode}ve=oe}r=S===-1||z===-1?null:{start:S,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pf={focusedElem:t,selectionRange:r},Hc=!1,Nn=s;Nn!==null;)if(s=Nn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Nn=t;else for(;Nn!==null;){switch(s=Nn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=s,f=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var Le=Vr(r.type,f);t=c.getSnapshotBeforeUpdate(Le,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(r,r.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Kf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Nn=t;break}Nn=s.return}}function Fg(t,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Ma(t,r),c&4&&Fl(5,r);break;case 1:if(Ma(t,r),c&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(y){Et(r,r.return,y)}else{var f=Vr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Et(r,r.return,y)}}c&64&&Og(r),c&512&&Hl(r,r.return);break;case 3:if(Ma(t,r),c&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Np(t,s)}catch(y){Et(r,r.return,y)}}break;case 27:s===null&&c&4&&$g(r);case 26:case 5:Ma(t,r),s===null&&c&4&&Ug(r),c&512&&Hl(r,r.return);break;case 12:Ma(t,r);break;case 31:Ma(t,r),c&4&&Ig(t,r);break;case 13:Ma(t,r),c&4&&Vg(t,r),c&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=E1.bind(null,r),Q1(t,r))));break;case 22:if(c=r.memoizedState!==null||Aa,!c){s=s!==null&&s.memoizedState!==null||mn,f=Aa;var m=mn;Aa=c,(mn=s)&&!m?Ra(t,r,(r.subtreeFlags&8772)!==0):Ma(t,r),Aa=f,mn=m}break;case 30:break;default:Ma(t,r)}}function Hg(t){var s=t.alternate;s!==null&&(t.alternate=null,Hg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ii(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pt=null,es=!1;function Ta(t,s,r){for(r=r.child;r!==null;)Zg(t,s,r),r=r.sibling}function Zg(t,s,r){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(mt,r)}catch{}switch(r.tag){case 26:mn||ua(r,s),Ta(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:mn||ua(r,s);var c=Pt,f=es;fr(r.type)&&(Pt=r.stateNode,es=!1),Ta(t,s,r),Yl(r.stateNode),Pt=c,es=f;break;case 5:mn||ua(r,s);case 6:if(c=Pt,f=es,Pt=null,Ta(t,s,r),Pt=c,es=f,Pt!==null)if(es)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(r.stateNode)}catch(m){Et(r,s,m)}else try{Pt.removeChild(r.stateNode)}catch(m){Et(r,s,m)}break;case 18:Pt!==null&&(es?(t=Pt,Ox(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Hi(t)):Ox(Pt,r.stateNode));break;case 4:c=Pt,f=es,Pt=r.stateNode.containerInfo,es=!0,Ta(t,s,r),Pt=c,es=f;break;case 0:case 11:case 14:case 15:rr(2,r,s),mn||rr(4,r,s),Ta(t,s,r);break;case 1:mn||(ua(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Lg(r,s,c)),Ta(t,s,r);break;case 21:Ta(t,s,r);break;case 22:mn=(c=mn)||r.memoizedState!==null,Ta(t,s,r),mn=c;break;default:Ta(t,s,r)}}function Ig(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Hi(t)}catch(r){Et(s,s.return,r)}}}function Vg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hi(t)}catch(r){Et(s,s.return,r)}}function v1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new qg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new qg),s;default:throw Error(i(435,t.tag))}}function jc(t,s){var r=v1(t);s.forEach(function(c){if(!r.has(c)){r.add(c);var f=_1.bind(null,t,c);c.then(f,f)}})}function ts(t,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],m=t,y=s,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){Pt=S.stateNode,es=!1;break e}break;case 5:Pt=S.stateNode,es=!1;break e;case 3:case 4:Pt=S.stateNode.containerInfo,es=!0;break e}S=S.return}if(Pt===null)throw Error(i(160));Zg(m,y,f),Pt=null,es=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Pg(s,t),s=s.sibling}var Ws=null;function Pg(t,s){var r=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ts(s,t),ns(t),c&4&&(rr(3,t,t.return),Fl(3,t),rr(5,t,t.return));break;case 1:ts(s,t),ns(t),c&512&&(mn||r===null||ua(r,r.return)),c&64&&Aa&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Ws;if(ts(s,t),ns(t),c&512&&(mn||r===null||ua(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=t.memoizedState,r===null)if(c===null)if(t.stateNode===null){e:{c=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Yn]||m[cn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),On(m,c,r),m[cn]=t,un(m),c=m;break e;case"link":var y=Px("link","href",f).get(c+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}m=f.createElement(c),On(m,c,r),f.head.appendChild(m);break;case"meta":if(y=Px("meta","content",f).get(c+(r.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}m=f.createElement(c),On(m,c,r),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[cn]=t,un(m),c=m}t.stateNode=c}else Qx(f,t.type,t.stateNode);else t.stateNode=Vx(f,c,t.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?Qx(f,t.type,t.stateNode):Vx(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:ts(s,t),ns(t),c&512&&(mn||r===null||ua(r,r.return)),r!==null&&c&4&&wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ts(s,t),ns(t),c&512&&(mn||r===null||ua(r,r.return)),t.flags&32){f=t.stateNode;try{qs(f,"")}catch(Le){Et(t,t.return,Le)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,wf(t,f,r!==null?r.memoizedProps:f)),c&1024&&(Cf=!0);break;case 6:if(ts(s,t),ns(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,r=t.stateNode;try{r.nodeValue=c}catch(Le){Et(t,t.return,Le)}}break;case 3:if(Bc=null,f=Ws,Ws=Lc(s.containerInfo),ts(s,t),Ws=f,ns(t),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(s.containerInfo)}catch(Le){Et(t,t.return,Le)}Cf&&(Cf=!1,Qg(t));break;case 4:c=Ws,Ws=Lc(t.stateNode.containerInfo),ts(s,t),ns(t),Ws=c;break;case 12:ts(s,t),ns(t);break;case 31:ts(s,t),ns(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,jc(t,c)));break;case 13:ts(s,t),ns(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Cc=je()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,jc(t,c)));break;case 22:f=t.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,re=Aa,me=mn;if(Aa=re||f,mn=me||z,ts(s,t),mn=me,Aa=re,ns(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(r===null||z||Aa||mn||Pr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){z=r=s;try{if(m=z.stateNode,f)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=z.stateNode;var ve=z.memoizedProps.style,ie=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;S.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Le){Et(z,z.return,Le)}}}else if(s.tag===6){if(r===null){z=s;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(Le){Et(z,z.return,Le)}}}else if(s.tag===18){if(r===null){z=s;try{var oe=z.stateNode;f?Lx(oe,!0):Lx(z.stateNode,!1)}catch(Le){Et(z,z.return,Le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,jc(t,r))));break;case 19:ts(s,t),ns(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,jc(t,c)));break;case 30:break;case 21:break;default:ts(s,t),ns(t)}}function ns(t){var s=t.flags;if(s&2){try{for(var r,c=t.return;c!==null;){if(Bg(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var f=r.stateNode,m=jf(t);wc(t,m,f);break;case 5:var y=r.stateNode;r.flags&32&&(qs(y,""),r.flags&=-33);var S=jf(t);wc(t,S,y);break;case 3:case 4:var z=r.stateNode.containerInfo,re=jf(t);Sf(t,re,z);break;default:throw Error(i(161))}}catch(me){Et(t,t.return,me)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Qg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ma(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fg(t,s.alternate,s),s=s.sibling}function Pr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:rr(4,s,s.return),Pr(s);break;case 1:ua(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Lg(s,s.return,r),Pr(s);break;case 27:Yl(s.stateNode);case 26:case 5:ua(s,s.return),Pr(s);break;case 22:s.memoizedState===null&&Pr(s);break;case 30:Pr(s);break;default:Pr(s)}t=t.sibling}}function Ra(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,y=m.flags;switch(m.tag){case 0:case 11:case 15:Ra(f,m,r),Fl(4,m);break;case 1:if(Ra(f,m,r),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(re){Et(c,c.return,re)}if(c=m,f=c.updateQueue,f!==null){var S=c.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)Cp(z[f],S)}catch(re){Et(c,c.return,re)}}r&&y&64&&Og(m),Hl(m,m.return);break;case 27:$g(m);case 26:case 5:Ra(f,m,r),r&&c===null&&y&4&&Ug(m),Hl(m,m.return);break;case 12:Ra(f,m,r);break;case 31:Ra(f,m,r),r&&y&4&&Ig(f,m);break;case 13:Ra(f,m,r),r&&y&4&&Vg(f,m);break;case 22:m.memoizedState===null&&Ra(f,m,r),Hl(m,m.return);break;case 30:break;default:Ra(f,m,r)}s=s.sibling}}function Nf(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&_l(r))}function kf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_l(t))}function Ks(t,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Wg(t,s,r,c),s=s.sibling}function Wg(t,s,r,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ks(t,s,r,c),f&2048&&Fl(9,s);break;case 1:Ks(t,s,r,c);break;case 3:Ks(t,s,r,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_l(t)));break;case 12:if(f&2048){Ks(t,s,r,c),t=s.stateNode;try{var m=s.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Et(s,s.return,z)}}else Ks(t,s,r,c);break;case 31:Ks(t,s,r,c);break;case 13:Ks(t,s,r,c);break;case 23:break;case 22:m=s.stateNode,y=s.alternate,s.memoizedState!==null?m._visibility&2?Ks(t,s,r,c):Zl(t,s):m._visibility&2?Ks(t,s,r,c):(m._visibility|=2,Ti(t,s,r,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Nf(y,s);break;case 24:Ks(t,s,r,c),f&2048&&kf(s.alternate,s);break;default:Ks(t,s,r,c)}}function Ti(t,s,r,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,y=s,S=r,z=c,re=y.flags;switch(y.tag){case 0:case 11:case 15:Ti(m,y,S,z,f),Fl(8,y);break;case 23:break;case 22:var me=y.stateNode;y.memoizedState!==null?me._visibility&2?Ti(m,y,S,z,f):Zl(m,y):(me._visibility|=2,Ti(m,y,S,z,f)),f&&re&2048&&Nf(y.alternate,y);break;case 24:Ti(m,y,S,z,f),f&&re&2048&&kf(y.alternate,y);break;default:Ti(m,y,S,z,f)}s=s.sibling}}function Zl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,c=s,f=c.flags;switch(c.tag){case 22:Zl(r,c),f&2048&&Nf(c.alternate,c);break;case 24:Zl(r,c),f&2048&&kf(c.alternate,c);break;default:Zl(r,c)}s=s.sibling}}var Il=8192;function Mi(t,s,r){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Kg(t,s,r),t=t.sibling}function Kg(t,s,r){switch(t.tag){case 26:Mi(t,s,r),t.flags&Il&&t.memoizedState!==null&&rj(r,Ws,t.memoizedState,t.memoizedProps);break;case 5:Mi(t,s,r);break;case 3:case 4:var c=Ws;Ws=Lc(t.stateNode.containerInfo),Mi(t,s,r),Ws=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Il,Il=16777216,Mi(t,s,r),Il=c):Mi(t,s,r));break;default:Mi(t,s,r)}}function Gg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Vl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];Nn=c,Xg(c,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Sc(t)):Vl(t);break;default:Vl(t)}}function Sc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];Nn=c,Xg(c,t)}Gg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:rr(8,s,s.return),Sc(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Sc(s));break;default:Sc(s)}t=t.sibling}}function Xg(t,s){for(;Nn!==null;){var r=Nn;switch(r.tag){case 0:case 11:case 15:rr(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_l(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Nn=c;else e:for(r=t;Nn!==null;){c=Nn;var f=c.sibling,m=c.return;if(Hg(c),c===r){Nn=null;break e}if(f!==null){f.return=m,Nn=f;break e}Nn=m}}}var y1={getCacheForType:function(t){var s=Rn(dn),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return Rn(dn).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ut=null,st=null,lt=0,kt=0,gs=null,ir=!1,Ri=!1,Ef=!1,za=0,Jt=0,lr=0,Qr=0,_f=0,xs=0,zi=0,Pl=null,ss=null,Df=!1,Cc=0,Jg=0,Nc=1/0,kc=null,or=null,vn=0,cr=null,Oi=null,Oa=0,Af=0,Tf=null,ex=null,Ql=0,Mf=null;function bs(){return(vt&2)!==0&&lt!==0?lt&-lt:D.T!==null?Bf():Gn()}function tx(){if(xs===0)if((lt&536870912)===0||ut){var t=Ot;Ot<<=1,(Ot&3932160)===0&&(Ot=262144),xs=t}else xs=536870912;return t=ms.current,t!==null&&(t.flags|=32),xs}function as(t,s,r){(t===Ut&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(Li(t,0),ur(t,lt,xs,!1)),Wn(t,r),((vt&2)===0||t!==Ut)&&(t===Ut&&((vt&2)===0&&(Qr|=r),Jt===4&&ur(t,lt,xs,!1)),da(t))}function nx(t,s,r){if((vt&6)!==0)throw Error(i(327));var c=!r&&(s&127)===0&&(s&t.expiredLanes)===0||xn(t,s),f=c?C1(t,s):zf(t,s,!0),m=c;do{if(f===0){Ri&&!c&&ur(t,s,0,!1);break}else{if(r=t.current.alternate,m&&!j1(r)){f=zf(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var S=t;f=Pl;var z=S.current.memoizedState.isDehydrated;if(z&&(Li(S,y).flags|=256),y=zf(S,y,!1),y!==2){if(Ef&&!z){S.errorRecoveryDisabledLanes|=m,Qr|=m,f=4;break e}m=ss,ss=f,m!==null&&(ss===null?ss=m:ss.push.apply(ss,m))}f=y}if(m=!1,f!==2)continue}}if(f===1){Li(t,0),ur(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ur(c,s,xs,!ir);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Cc+300-je(),10<f)){if(ur(c,s,xs,!ir),Vt(c,0,!0)!==0)break e;Oa=s,c.timeoutHandle=Rx(sx.bind(null,c,r,ss,kc,Df,s,xs,Qr,zi,ir,m,"Throttled",-0,0),f);break e}sx(c,r,ss,kc,Df,s,xs,Qr,zi,ir,m,null,-0,0)}}break}while(!0);da(t)}function sx(t,s,r,c,f,m,y,S,z,re,me,ve,ie,oe){if(t.timeoutHandle=-1,ve=s.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Kg(s,m,ve);var Le=(m&62914560)===m?Cc-je():(m&4194048)===m?Jg-je():0;if(Le=ij(ve,Le),Le!==null){Oa=m,t.cancelPendingCommit=Le(dx.bind(null,t,s,m,r,c,f,y,S,z,me,ve,null,ie,oe)),ur(t,m,y,!re);return}}dx(t,s,m,r,c,f,y,S,z)}function j1(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],m=f.getSnapshot;f=f.value;try{if(!fs(m(),f))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ur(t,s,r,c){s&=~_f,s&=~Qr,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-$t(f),y=1<<m;c[m]=-1,f&=~y}r!==0&&cs(t,r,s)}function Ec(){return(vt&6)===0?(Wl(0),!1):!0}function Rf(){if(st!==null){if(kt===0)var t=st.return;else t=st,Ca=Br=null,Wd(t),ki=null,Al=0,t=st;for(;t!==null;)zg(t.alternate,t),t=t.return;st=null}}function Li(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,H1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Oa=0,Rf(),Ut=t,st=r=ja(t.current,null),lt=s,kt=0,gs=null,ir=!1,Ri=xn(t,s),Ef=!1,zi=xs=_f=Qr=lr=Jt=0,ss=Pl=null,Df=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-$t(c),m=1<<f;s|=t[f],c&=~m}return za=s,Wo(),r}function ax(t,s){Ye=null,D.H=Bl,s===Ni||s===nc?(s=yp(),kt=3):s===Ld?(s=yp(),kt=4):kt=s===df?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gs=s,st===null&&(Jt=1,gc(t,Ds(s,t.current)))}function rx(){var t=ms.current;return t===null?!0:(lt&4194048)===lt?Rs===null:(lt&62914560)===lt||(lt&536870912)!==0?t===Rs:!1}function ix(){var t=D.H;return D.H=Bl,t===null?Bl:t}function lx(){var t=D.A;return D.A=y1,t}function _c(){Jt=4,ir||(lt&4194048)!==lt&&ms.current!==null||(Ri=!0),(lr&134217727)===0&&(Qr&134217727)===0||Ut===null||ur(Ut,lt,xs,!1)}function zf(t,s,r){var c=vt;vt|=2;var f=ix(),m=lx();(Ut!==t||lt!==s)&&(kc=null,Li(t,s)),s=!1;var y=Jt;e:do try{if(kt!==0&&st!==null){var S=st,z=gs;switch(kt){case 8:Rf(),y=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(s=!0);var re=kt;if(kt=0,gs=null,Ui(t,S,z,re),r&&Ri){y=0;break e}break;default:re=kt,kt=0,gs=null,Ui(t,S,z,re)}}S1(),y=Jt;break}catch(me){ax(t,me)}while(!0);return s&&t.shellSuspendCounter++,Ca=Br=null,vt=c,D.H=f,D.A=m,st===null&&(Ut=null,lt=0,Wo()),y}function S1(){for(;st!==null;)ox(st)}function C1(t,s){var r=vt;vt|=2;var c=ix(),f=lx();Ut!==t||lt!==s?(kc=null,Nc=je()+500,Li(t,s)):Ri=xn(t,s);e:do try{if(kt!==0&&st!==null){s=st;var m=gs;t:switch(kt){case 1:kt=0,gs=null,Ui(t,s,m,1);break;case 2:case 9:if(bp(m)){kt=0,gs=null,cx(s);break}s=function(){kt!==2&&kt!==9||Ut!==t||(kt=7),da(t)},m.then(s,s);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:bp(m)?(kt=0,gs=null,cx(s)):(kt=0,gs=null,Ui(t,s,m,7));break;case 5:var y=null;switch(st.tag){case 26:y=st.memoizedState;case 5:case 27:var S=st;if(y?Wx(y):S.stateNode.complete){kt=0,gs=null;var z=S.sibling;if(z!==null)st=z;else{var re=S.return;re!==null?(st=re,Dc(re)):st=null}break t}}kt=0,gs=null,Ui(t,s,m,5);break;case 6:kt=0,gs=null,Ui(t,s,m,6);break;case 8:Rf(),Jt=6;break e;default:throw Error(i(462))}}N1();break}catch(me){ax(t,me)}while(!0);return Ca=Br=null,D.H=c,D.A=f,vt=r,st!==null?0:(Ut=null,lt=0,Wo(),Jt)}function N1(){for(;st!==null&&!ce();)ox(st)}function ox(t){var s=Mg(t.alternate,t,za);t.memoizedProps=t.pendingProps,s===null?Dc(t):st=s}function cx(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=kg(r,s,s.pendingProps,s.type,void 0,lt);break;case 11:s=kg(r,s,s.pendingProps,s.type.render,s.ref,lt);break;case 5:Wd(s);default:zg(r,s),s=st=lp(s,za),s=Mg(r,s,za)}t.memoizedProps=t.pendingProps,s===null?Dc(t):st=s}function Ui(t,s,r,c){Ca=Br=null,Wd(s),ki=null,Al=0;var f=s.return;try{if(h1(t,f,s,r,lt)){Jt=1,gc(t,Ds(r,t.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;Jt=1,gc(t,Ds(r,t.current)),st=null;return}s.flags&32768?(ut||c===1?t=!0:Ri||(lt&536870912)!==0?t=!1:(ir=t=!0,(c===2||c===9||c===3||c===6)&&(c=ms.current,c!==null&&c.tag===13&&(c.flags|=16384))),ux(s,t)):Dc(s)}function Dc(t){var s=t;do{if((s.flags&32768)!==0){ux(s,ir);return}t=s.return;var r=g1(s.alternate,s,za);if(r!==null){st=r;return}if(s=s.sibling,s!==null){st=s;return}st=s=t}while(s!==null);Jt===0&&(Jt=5)}function ux(t,s){do{var r=x1(t.alternate,t);if(r!==null){r.flags&=32767,st=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){st=t;return}st=t=r}while(t!==null);Jt=6,st=null}function dx(t,s,r,c,f,m,y,S,z){t.cancelPendingCommit=null;do Ac();while(vn!==0);if((vt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=wd,Yt(t,r,m,y,S,z),t===Ut&&(st=Ut=null,lt=0),Oi=s,cr=t,Oa=r,Af=m,Tf=f,ex=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(ke,function(){return gx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,f=R.p,R.p=2,y=vt,vt|=4;try{b1(t,s,r)}finally{vt=y,R.p=f,D.T=c}}vn=1,fx(),hx(),mx()}}function fx(){if(vn===1){vn=0;var t=cr,s=Oi,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=D.T,D.T=null;var c=R.p;R.p=2;var f=vt;vt|=4;try{Pg(s,t);var m=Pf,y=Xm(t.containerInfo),S=m.focusedElem,z=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&Ym(S.ownerDocument.documentElement,S)){if(z!==null&&gd(S)){var re=z.start,me=z.end;if(me===void 0&&(me=re),"selectionStart"in S)S.selectionStart=re,S.selectionEnd=Math.min(me,S.value.length);else{var ve=S.ownerDocument||document,ie=ve&&ve.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Le=S.textContent.length,Ve=Math.min(z.start,Le),Mt=z.end===void 0?Ve:Math.min(z.end,Le);!oe.extend&&Ve>Mt&&(y=Mt,Mt=Ve,Ve=y);var G=Gm(S,Ve),q=Gm(S,Mt);if(G&&q&&(oe.rangeCount!==1||oe.anchorNode!==G.node||oe.anchorOffset!==G.offset||oe.focusNode!==q.node||oe.focusOffset!==q.offset)){var se=ve.createRange();se.setStart(G.node,G.offset),oe.removeAllRanges(),Ve>Mt?(oe.addRange(se),oe.extend(q.node,q.offset)):(se.setEnd(q.node,q.offset),oe.addRange(se))}}}}for(ve=[],oe=S;oe=oe.parentNode;)oe.nodeType===1&&ve.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ve.length;S++){var xe=ve[S];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Hc=!!Vf,Pf=Vf=null}finally{vt=f,R.p=c,D.T=r}}t.current=s,vn=2}}function hx(){if(vn===2){vn=0;var t=cr,s=Oi,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=D.T,D.T=null;var c=R.p;R.p=2;var f=vt;vt|=4;try{Fg(t,s.alternate,s)}finally{vt=f,R.p=c,D.T=r}}vn=3}}function mx(){if(vn===4||vn===3){vn=0,_e();var t=cr,s=Oi,r=Oa,c=ex;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,Oi=cr=null,px(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(or=null),Ns(r),s=s.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=D.T,f=R.p,R.p=2,D.T=null;try{for(var m=t.onRecoverableError,y=0;y<c.length;y++){var S=c[y];m(S.value,{componentStack:S.stack})}}finally{D.T=s,R.p=f}}(Oa&3)!==0&&Ac(),da(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===Mf?Ql++:(Ql=0,Mf=t):Ql=0,Wl(0)}}function px(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,_l(s)))}function Ac(){return fx(),hx(),mx(),gx()}function gx(){if(vn!==5)return!1;var t=cr,s=Af;Af=0;var r=Ns(Oa),c=D.T,f=R.p;try{R.p=32>r?32:r,D.T=null,r=Tf,Tf=null;var m=cr,y=Oa;if(vn=0,Oi=cr=null,Oa=0,(vt&6)!==0)throw Error(i(331));var S=vt;if(vt|=4,Yg(m.current),Wg(m,m.current,y,r),vt=S,Wl(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(mt,m)}catch{}return!0}finally{R.p=f,D.T=c,px(t,s)}}function xx(t,s,r){s=Ds(r,s),s=uf(t.stateNode,s,2),t=nr(t,s,2),t!==null&&(Wn(t,2),da(t))}function Et(t,s,r){if(t.tag===3)xx(t,t,r);else for(;s!==null;){if(s.tag===3){xx(s,t,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(or===null||!or.has(c))){t=Ds(r,t),r=bg(2),c=nr(s,r,2),c!==null&&(vg(r,c,s,t),Wn(c,2),da(c));break}}s=s.return}}function Of(t,s,r){var c=t.pingCache;if(c===null){c=t.pingCache=new w1;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(r)||(Ef=!0,f.add(r),t=k1.bind(null,t,s,r),s.then(t,t))}function k1(t,s,r){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ut===t&&(lt&r)===r&&(Jt===4||Jt===3&&(lt&62914560)===lt&&300>je()-Cc?(vt&2)===0&&Li(t,0):_f|=r,zi===lt&&(zi=0)),da(t)}function bx(t,s){s===0&&(s=on()),t=Or(t,s),t!==null&&(Wn(t,s),da(t))}function E1(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),bx(t,r)}function _1(t,s){var r=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),bx(t,r)}function D1(t,s){return T(t,s)}var Tc=null,Bi=null,Lf=!1,Mc=!1,Uf=!1,dr=0;function da(t){t!==Bi&&t.next===null&&(Bi===null?Tc=Bi=t:Bi=Bi.next=t),Mc=!0,Lf||(Lf=!0,T1())}function Wl(t,s){if(!Uf&&Mc){Uf=!0;do for(var r=!1,c=Tc;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var y=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-$t(42|t)+1)-1,m&=f&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,jx(c,m))}else m=lt,m=Vt(c,c===Ut?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||xn(c,m)||(r=!0,jx(c,m));c=c.next}while(r);Uf=!1}}function A1(){vx()}function vx(){Mc=Lf=!1;var t=0;dr!==0&&F1()&&(t=dr);for(var s=je(),r=null,c=Tc;c!==null;){var f=c.next,m=yx(c,s);m===0?(c.next=null,r===null?Tc=f:r.next=f,f===null&&(Bi=r)):(r=c,(t!==0||(m&3)!==0)&&(Mc=!0)),c=f}vn!==0&&vn!==5||Wl(t),dr!==0&&(dr=0)}function yx(t,s){for(var r=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var y=31-$t(m),S=1<<y,z=f[y];z===-1?((S&r)===0||(S&c)!==0)&&(f[y]=An(S,s)):z<=s&&(t.expiredLanes|=S),m&=~S}if(s=Ut,r=lt,r=Vt(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,r===0||t===s&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&I(c),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(c!==null&&I(c),Ns(r)){case 2:case 8:r=ge;break;case 32:r=ke;break;case 268435456:r=we;break;default:r=ke}return c=wx.bind(null,t),r=T(r,c),t.callbackPriority=s,t.callbackNode=r,s}return c!==null&&c!==null&&I(c),t.callbackPriority=2,t.callbackNode=null,2}function wx(t,s){if(vn!==0&&vn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ac()&&t.callbackNode!==r)return null;var c=lt;return c=Vt(t,t===Ut?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(nx(t,c,s),yx(t,je()),t.callbackNode!=null&&t.callbackNode===r?wx.bind(null,t):null)}function jx(t,s){if(Ac())return null;nx(t,s,!0)}function T1(){Z1(function(){(vt&6)!==0?T(ze,A1):vx()})}function Bf(){if(dr===0){var t=Si;t===0&&(t=ct,ct<<=1,(ct&261888)===0&&(ct=256)),dr=t}return dr}function Sx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function Cx(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function M1(t,s,r,c,f){if(s==="submit"&&r&&r.stateNode===f){var m=Sx((f[Ln]||null).action),y=c.submitter;y&&(s=(s=y[Ln]||null)?Sx(s.formAction):y.getAttribute("formAction"),s!==null&&(m=s,y=null));var S=new Pa("action","action",null,c,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(dr!==0){var z=y?Cx(f,y):new FormData(f);sf(r,{pending:!0,data:z,method:f.method,action:m},null,z)}}else typeof m=="function"&&(S.preventDefault(),z=y?Cx(f,y):new FormData(f),sf(r,{pending:!0,data:z,method:f.method,action:m},m,z))},currentTarget:f}]})}}for(var $f=0;$f<yd.length;$f++){var qf=yd[$f],R1=qf.toLowerCase(),z1=qf[0].toUpperCase()+qf.slice(1);Qs(R1,"on"+z1)}Qs(tp,"onAnimationEnd"),Qs(np,"onAnimationIteration"),Qs(sp,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Gw,"onTransitionRun"),Qs(Yw,"onTransitionStart"),Qs(Xw,"onTransitionCancel"),Qs(ap,"onTransitionEnd"),Ft("onMouseEnter",["mouseout","mouseover"]),Ft("onMouseLeave",["mouseout","mouseover"]),Ft("onPointerEnter",["pointerout","pointerover"]),Ft("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Nx(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var c=t[r],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var S=c[y],z=S.instance,re=S.currentTarget;if(S=S.listener,z!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=re;try{m(f)}catch(me){Qo(me)}f.currentTarget=null,m=z}else for(y=0;y<c.length;y++){if(S=c[y],z=S.instance,re=S.currentTarget,S=S.listener,z!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=re;try{m(f)}catch(me){Qo(me)}f.currentTarget=null,m=z}}}}function at(t,s){var r=s[ll];r===void 0&&(r=s[ll]=new Set);var c=t+"__bubble";r.has(c)||(kx(s,t,2,!1),r.add(c))}function Ff(t,s,r){var c=0;s&&(c|=4),kx(r,t,c,s)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Rc]){t[Rc]=!0,li.forEach(function(r){r!=="selectionchange"&&(O1.has(r)||Ff(r,!1,t),Ff(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Rc]||(s[Rc]=!0,Ff("selectionchange",!1,s))}}function kx(t,s,r,c){switch(t0(s)){case 2:var f=cj;break;case 8:f=uj;break;default:f=sh}r=f.bind(null,s,r,t),f=void 0,!_r||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,r,{capture:!0,passive:f}):t.addEventListener(s,r,!0):f!==void 0?t.addEventListener(s,r,{passive:f}):t.addEventListener(s,r,!1)}function Zf(t,s,r,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var S=c.stateNode.containerInfo;if(S===f)break;if(y===4)for(y=c.return;y!==null;){var z=y.tag;if((z===3||z===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;S!==null;){if(y=ks(S),y===null)return;if(z=y.tag,z===5||z===6||z===26||z===27){c=m=y;continue e}S=S.parentNode}}c=c.return}Uo(function(){var re=m,me=fl(r),ve=[];e:{var ie=rp.get(t);if(ie!==void 0){var oe=Pa,Le=t;switch(t){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":oe=ad;break;case"focusin":Le="focus",oe=gl;break;case"focusout":Le="blur",oe=gl;break;case"beforeblur":case"afterblur":oe=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ld;break;case tp:case np:case sp:oe=Is;break;case ap:oe=od;break;case"scroll":case"scrollend":oe=Bo;break;case"wheel":oe=ud;break;case"copy":case"cut":case"paste":oe=bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=$o;break;case"toggle":case"beforetoggle":oe=fd}var Ve=(s&4)!==0,Mt=!Ve&&(t==="scroll"||t==="scrollend"),G=Ve?ie!==null?ie+"Capture":null:ie;Ve=[];for(var q=re,se;q!==null;){var xe=q;if(se=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||se===null||G===null||(xe=Es(q,G),xe!=null&&Ve.push(Gl(q,xe,se))),Mt)break;q=q.return}0<Ve.length&&(ie=new oe(ie,Le,null,r,me),ve.push({event:ie,listeners:Ve}))}}if((s&7)===0){e:{if(ie=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",ie&&r!==Ha&&(Le=r.relatedTarget||r.fromElement)&&(ks(Le)||Le[ta]))break e;if((oe||ie)&&(ie=me.window===me?me:(ie=me.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Le=r.relatedTarget||r.toElement,oe=re,Le=Le?ks(Le):null,Le!==null&&(Mt=u(Le),Ve=Le.tag,Le!==Mt||Ve!==5&&Ve!==27&&Ve!==6)&&(Le=null)):(oe=null,Le=re),oe!==Le)){if(Ve=pl,xe="onMouseLeave",G="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=$o,xe="onPointerLeave",G="onPointerEnter",q="pointer"),Mt=oe==null?ie:Nr(oe),se=Le==null?ie:Nr(Le),ie=new Ve(xe,q+"leave",oe,r,me),ie.target=Mt,ie.relatedTarget=se,xe=null,ks(me)===re&&(Ve=new Ve(G,q+"enter",Le,r,me),Ve.target=se,Ve.relatedTarget=Mt,xe=Ve),Mt=xe,oe&&Le)t:{for(Ve=L1,G=oe,q=Le,se=0,xe=G;xe;xe=Ve(xe))se++;xe=0;for(var Fe=q;Fe;Fe=Ve(Fe))xe++;for(;0<se-xe;)G=Ve(G),se--;for(;0<xe-se;)q=Ve(q),xe--;for(;se--;){if(G===q||q!==null&&G===q.alternate){Ve=G;break t}G=Ve(G),q=Ve(q)}Ve=null}else Ve=null;oe!==null&&Ex(ve,ie,oe,Ve,!1),Le!==null&&Mt!==null&&Ex(ve,Mt,Le,Ve,!0)}}e:{if(ie=re?Nr(re):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var pt=nt;else if(O(ie))if(Ht)pt=Qw;else{pt=Po;var $e=Mr}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Fs(re.elementType)&&(pt=nt):pt=Sl;if(pt&&(pt=pt(t,re))){ue(ve,pt,r,me);break e}$e&&$e(t,ie,re),t==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&ui(ie,"number",ie.value)}switch($e=re?Nr(re):window,t){case"focusin":(O($e)||$e.contentEditable==="true")&&(pi=$e,xd=re,Nl=null);break;case"focusout":Nl=xd=pi=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Jm(ve,r,me);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Jm(ve,r,me)}var Xe;if(wl)e:{switch(t){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ka?Io(t,r)&&(ot="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ot="onCompositionStart");ot&&(Fo&&r.locale!=="ko"&&(Ka||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ka&&(Xe=hl()):(Cn=me,Zs="value"in Cn?Cn.value:Cn.textContent,Ka=!0)),$e=zc(re,ot),0<$e.length&&(ot=new ya(ot,t,null,r,me),ve.push({event:ot,listeners:$e}),Xe?ot.data=Xe:(Xe=Vo(r),Xe!==null&&(ot.data=Xe)))),(Xe=hd?md(t,r):pd(t,r))&&(ot=zc(re,"onBeforeInput"),0<ot.length&&($e=new ya("onBeforeInput","beforeinput",null,r,me),ve.push({event:$e,listeners:ot}),$e.data=Xe)),M1(ve,t,re,r,me)}Nx(ve,s)})}function Gl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function zc(t,s){for(var r=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Es(t,r),f!=null&&c.unshift(Gl(t,f,m)),f=Es(t,s),f!=null&&c.push(Gl(t,f,m))),t.tag===3)return c;t=t.return}return[]}function L1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ex(t,s,r,c,f){for(var m=s._reactName,y=[];r!==null&&r!==c;){var S=r,z=S.alternate,re=S.stateNode;if(S=S.tag,z!==null&&z===c)break;S!==5&&S!==26&&S!==27||re===null||(z=re,f?(re=Es(r,m),re!=null&&y.unshift(Gl(r,re,z))):f||(re=Es(r,m),re!=null&&y.push(Gl(r,re,z)))),r=r.return}y.length!==0&&t.push({event:s,listeners:y})}var U1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function _x(t){return(typeof t=="string"?t:""+t).replace(U1,`
`).replace(B1,"")}function Dx(t,s){return s=_x(s),_x(t)===s}function Tt(t,s,r,c,f,m){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||qs(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&qs(t,""+c);break;case"className":it(t,"class",c);break;case"tabIndex":it(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":it(t,r,c);break;case"style":Un(t,c,m);break;case"data":if(s!=="object"){it(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Hs(""+c),t.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&Tt(t,s,"name",f.name,f,null),Tt(t,s,"formEncType",f.formEncType,f,null),Tt(t,s,"formMethod",f.formMethod,f,null),Tt(t,s,"formTarget",f.formTarget,f,null)):(Tt(t,s,"encType",f.encType,f,null),Tt(t,s,"method",f.method,f,null),Tt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Hs(""+c),t.setAttribute(r,c);break;case"onClick":c!=null&&(t.onclick=Jn);break;case"onScroll":c!=null&&at("scroll",t);break;case"onScrollEnd":c!=null&&at("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}r=Hs(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""+c):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":c===!0?t.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,c):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(r,c):t.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(r):t.setAttribute(r,c);break;case"popover":at("beforetoggle",t),at("toggle",t),qa(t,"popover",c);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qa(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Yu.get(r)||r,qa(t,r,c))}}function If(t,s,r,c,f,m){switch(r){case"style":Un(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof c=="string"?qs(t,c):(typeof c=="number"||typeof c=="bigint")&&qs(t,""+c);break;case"onScroll":c!=null&&at("scroll",t);break;case"onScrollEnd":c!=null&&at("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),s=r.slice(2,f?r.length-7:void 0),m=t[Ln]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,c,f);break e}r in t?t[r]=c:c===!0?t.setAttribute(r,""):qa(t,r,c)}}}function On(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",t),at("load",t);var c=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var y=r[m];if(y!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(t,s,m,y,r,null)}}f&&Tt(t,s,"srcSet",r.srcSet,r,null),c&&Tt(t,s,"src",r.src,r,null);return;case"input":at("invalid",t);var S=m=y=f=null,z=null,re=null;for(c in r)if(r.hasOwnProperty(c)){var me=r[c];if(me!=null)switch(c){case"name":f=me;break;case"type":y=me;break;case"checked":z=me;break;case"defaultChecked":re=me;break;case"value":m=me;break;case"defaultValue":S=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:Tt(t,s,c,me,r,null)}}Oo(t,m,S,z,re,y,f,!1);return;case"select":at("invalid",t),c=y=m=null;for(f in r)if(r.hasOwnProperty(f)&&(S=r[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":c=S;default:Tt(t,s,f,S,r,null)}s=m,r=y,t.multiple=!!c,s!=null?Fa(t,!!c,s,!1):r!=null&&Fa(t,!!c,r,!0);return;case"textarea":at("invalid",t),m=f=c=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":c=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Tt(t,s,y,S,r,null)}ga(t,c,f,m);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(c=r[z],c!=null))switch(z){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Tt(t,s,z,c,r,null)}return;case"dialog":at("beforetoggle",t),at("toggle",t),at("cancel",t),at("close",t);break;case"iframe":case"object":at("load",t);break;case"video":case"audio":for(c=0;c<Kl.length;c++)at(Kl[c],t);break;case"image":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"embed":case"source":case"link":at("error",t),at("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in r)if(r.hasOwnProperty(re)&&(c=r[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(t,s,re,c,r,null)}return;default:if(Fs(s)){for(me in r)r.hasOwnProperty(me)&&(c=r[me],c!==void 0&&If(t,s,me,c,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(c=r[S],c!=null&&Tt(t,s,S,c,r,null))}function $1(t,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,y=null,S=null,z=null,re=null,me=null;for(oe in r){var ve=r[oe];if(r.hasOwnProperty(oe)&&ve!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=ve;default:c.hasOwnProperty(oe)||Tt(t,s,oe,null,c,ve)}}for(var ie in c){var oe=c[ie];if(ve=r[ie],c.hasOwnProperty(ie)&&(oe!=null||ve!=null))switch(ie){case"type":m=oe;break;case"name":f=oe;break;case"checked":re=oe;break;case"defaultChecked":me=oe;break;case"value":y=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:oe!==ve&&Tt(t,s,ie,oe,c,ve)}}ra(t,y,S,z,re,me,m,f);return;case"select":oe=y=S=ie=null;for(m in r)if(z=r[m],r.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":oe=z;default:c.hasOwnProperty(m)||Tt(t,s,m,null,c,z)}for(f in c)if(m=c[f],z=r[f],c.hasOwnProperty(f)&&(m!=null||z!=null))switch(f){case"value":ie=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==z&&Tt(t,s,f,m,c,z)}s=S,r=y,c=oe,ie!=null?Fa(t,!!r,ie,!1):!!c!=!!r&&(s!=null?Fa(t,!!r,s,!0):Fa(t,!!r,r?[]:"",!1));return;case"textarea":oe=ie=null;for(S in r)if(f=r[S],r.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Tt(t,s,S,null,c,f)}for(y in c)if(f=c[y],m=r[y],c.hasOwnProperty(y)&&(f!=null||m!=null))switch(y){case"value":ie=f;break;case"defaultValue":oe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Tt(t,s,y,f,c,m)}Ie(t,ie,oe);return;case"option":for(var Le in r)if(ie=r[Le],r.hasOwnProperty(Le)&&ie!=null&&!c.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:Tt(t,s,Le,null,c,ie)}for(z in c)if(ie=c[z],oe=r[z],c.hasOwnProperty(z)&&ie!==oe&&(ie!=null||oe!=null))switch(z){case"selected":t.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Tt(t,s,z,ie,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in r)ie=r[Ve],r.hasOwnProperty(Ve)&&ie!=null&&!c.hasOwnProperty(Ve)&&Tt(t,s,Ve,null,c,ie);for(re in c)if(ie=c[re],oe=r[re],c.hasOwnProperty(re)&&ie!==oe&&(ie!=null||oe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:Tt(t,s,re,ie,c,oe)}return;default:if(Fs(s)){for(var Mt in r)ie=r[Mt],r.hasOwnProperty(Mt)&&ie!==void 0&&!c.hasOwnProperty(Mt)&&If(t,s,Mt,void 0,c,ie);for(me in c)ie=c[me],oe=r[me],!c.hasOwnProperty(me)||ie===oe||ie===void 0&&oe===void 0||If(t,s,me,ie,c,oe);return}}for(var G in r)ie=r[G],r.hasOwnProperty(G)&&ie!=null&&!c.hasOwnProperty(G)&&Tt(t,s,G,null,c,ie);for(ve in c)ie=c[ve],oe=r[ve],!c.hasOwnProperty(ve)||ie===oe||ie==null&&oe==null||Tt(t,s,ve,ie,c,oe)}function Ax(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var f=r[c],m=f.transferSize,y=f.initiatorType,S=f.duration;if(m&&S&&Ax(y)){for(y=0,S=f.responseEnd,c+=1;c<r.length;c++){var z=r[c],re=z.startTime;if(re>S)break;var me=z.transferSize,ve=z.initiatorType;me&&Ax(ve)&&(z=z.responseEnd,y+=me*(z<S?1:(S-re)/(z-re)))}if(--c,s+=8*(m+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vf=null,Pf=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Tx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Qf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wf=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Rx=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(I1)}:Rx;function I1(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function Ox(t,s){var r=s,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(c===0){t.removeChild(f),Hi(s);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Yl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Yl(r);for(var m=r.firstChild;m;){var y=m.nextSibling,S=m.nodeName;m[Yn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=y}}else r==="body"&&Yl(t.ownerDocument.body);r=f}while(r);Hi(s)}function Lx(t,s){var r=t;t=0;do{var c=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=c}while(r)}function Kf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Kf(r),ii(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function V1(t,s,r,c){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Yn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=zs(t.nextSibling),t===null)break}return null}function P1(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zs(t.nextSibling),t===null))return null;return t}function Ux(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zs(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Q1(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function zs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Xf=null;function Bx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return zs(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function $x(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function qx(t,s,r){switch(s=Oc(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Yl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ii(t)}var Os=new Map,Fx=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var La=R.d;R.d={f:W1,r:K1,D:G1,C:Y1,L:X1,m:J1,X:tj,S:ej,M:nj};function W1(){var t=La.f(),s=Ec();return t||s}function K1(t){var s=ds(t);s!==null&&s.tag===5&&s.type==="form"?ag(s):La.r(t)}var $i=typeof document>"u"?null:document;function Hx(t,s,r){var c=$i;if(c&&typeof s=="string"&&s){var f=nn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Fx.has(f)||(Fx.add(f),t={rel:t,crossOrigin:r,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),On(s,"link",t),un(s),c.head.appendChild(s)))}}function G1(t){La.D(t),Hx("dns-prefetch",t,null)}function Y1(t,s){La.C(t,s),Hx("preconnect",t,s)}function X1(t,s,r){La.L(t,s,r);var c=$i;if(c&&t&&s){var f='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+nn(r.imageSizes)+'"]')):f+='[href="'+nn(t)+'"]';var m=f;switch(s){case"style":m=qi(t);break;case"script":m=Fi(t)}Os.has(m)||(t=v({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),Os.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(Xl(m))||s==="script"&&c.querySelector(Jl(m))||(s=c.createElement("link"),On(s,"link",t),un(s),c.head.appendChild(s)))}}function J1(t,s){La.m(t,s);var r=$i;if(r&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fi(t)}if(!Os.has(m)&&(t=v({rel:"modulepreload",href:t},s),Os.set(m,t),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jl(m)))return}c=r.createElement("link"),On(c,"link",t),un(c),r.head.appendChild(c)}}}function ej(t,s,r){La.S(t,s,r);var c=$i;if(c&&t){var f=na(c).hoistableStyles,m=qi(t);s=s||"default";var y=f.get(m);if(!y){var S={loading:0,preload:null};if(y=c.querySelector(Xl(m)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},r),(r=Os.get(m))&&Jf(t,r);var z=y=c.createElement("link");un(z),On(z,"link",t),z._p=new Promise(function(re,me){z.onload=re,z.onerror=me}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uc(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:S},f.set(m,y)}}}function tj(t,s){La.X(t,s);var r=$i;if(r&&t){var c=na(r).hoistableScripts,f=Fi(t),m=c.get(f);m||(m=r.querySelector(Jl(f)),m||(t=v({src:t,async:!0},s),(s=Os.get(f))&&eh(t,s),m=r.createElement("script"),un(m),On(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function nj(t,s){La.M(t,s);var r=$i;if(r&&t){var c=na(r).hoistableScripts,f=Fi(t),m=c.get(f);m||(m=r.querySelector(Jl(f)),m||(t=v({src:t,async:!0,type:"module"},s),(s=Os.get(f))&&eh(t,s),m=r.createElement("script"),un(m),On(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Zx(t,s,r,c){var f=(f=$.current)?Lc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=qi(r.href),r=na(f).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=qi(r.href);var m=na(f).hoistableStyles,y=m.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,y),(m=f.querySelector(Xl(t)))&&!m._p&&(y.instance=m,y.state.loading=5),Os.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Os.set(t,r),m||sj(f,t,r,y.state))),s&&c===null)throw Error(i(528,""));return y}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fi(r),r=na(f).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function qi(t){return'href="'+nn(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Ix(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sj(t,s,r,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),On(s,"link",r),un(s),t.head.appendChild(s))}function Fi(t){return'[src="'+nn(t)+'"]'}function Jl(t){return"script[async]"+t}function Vx(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+nn(r.href)+'"]');if(c)return s.instance=c,un(c),c;var f=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),un(c),On(c,"style",f),Uc(c,r.precedence,t),s.instance=c;case"stylesheet":f=qi(r.href);var m=t.querySelector(Xl(f));if(m)return s.state.loading|=4,s.instance=m,un(m),m;c=Ix(r),(f=Os.get(f))&&Jf(c,f),m=(t.ownerDocument||t).createElement("link"),un(m);var y=m;return y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),On(m,"link",c),s.state.loading|=4,Uc(m,r.precedence,t),s.instance=m;case"script":return m=Fi(r.src),(f=t.querySelector(Jl(m)))?(s.instance=f,un(f),f):(c=r,(f=Os.get(m))&&(c=v({},r),eh(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),un(f),On(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Uc(c,r.precedence,t));return s.instance}function Uc(t,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,y=0;y<c.length;y++){var S=c[y];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Jf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function eh(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Bc=null;function Px(t,s,r){if(Bc===null){var c=new Map,f=Bc=new Map;f.set(r,c)}else f=Bc,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(t))return c;for(c.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Yn]||m[cn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(s)||"";y=t+y;var S=c.get(y);S?S.push(m):c.set(y,[m])}}return c}function Qx(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function aj(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Wx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rj(t,s,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=qi(c.href),m=s.querySelector(Xl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=$c.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=m,un(m);return}m=s.ownerDocument||s,c=Ix(c),(f=Os.get(f))&&Jf(c,f),m=m.createElement("link"),un(m);var y=m;y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),On(m,"link",c),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=$c.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var th=0;function ij(t,s){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var c=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&th===0&&(th=62500*q1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>th?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Fc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,s.forEach(lj,t),qc=null,$c.call(t))}function lj(t,s){if(!(s.state.loading&4)){var r=qc.get(t);if(r)var c=r.get(null);else{r=new Map,qc.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var y=f[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),c=y)}c&&r.set(null,c)}f=s.instance,y=f.getAttribute("data-precedence"),m=r.get(y)||c,m===c&&r.set(null,f),r.set(y,f),this.count++,c=$c.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var eo={$$typeof:B,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function oj(t,s,r,c,f,m,y,S,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Kx(t,s,r,c,f,m,y,S,z,re,me,ve){return t=new oj(t,s,r,y,z,re,me,ve,S),s=1,m===!0&&(s|=24),m=hs(3,null,null,s),t.current=m,m.stateNode=t,s=Rd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:s},Ud(m),t}function Gx(t){return t?(t=bi,t):bi}function Yx(t,s,r,c,f,m){f=Gx(f),c.context===null?c.context=f:c.pendingContext=f,c=tr(s),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=nr(t,c,s),r!==null&&(as(r,t,s),Ml(r,t,s))}function Xx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function nh(t,s){Xx(t,s),(t=t.alternate)&&Xx(t,s)}function Jx(t){if(t.tag===13||t.tag===31){var s=Or(t,67108864);s!==null&&as(s,t,67108864),nh(t,67108864)}}function e0(t){if(t.tag===13||t.tag===31){var s=bs();s=Cs(s);var r=Or(t,s);r!==null&&as(r,t,s),nh(t,s)}}var Hc=!0;function cj(t,s,r,c){var f=D.T;D.T=null;var m=R.p;try{R.p=2,sh(t,s,r,c)}finally{R.p=m,D.T=f}}function uj(t,s,r,c){var f=D.T;D.T=null;var m=R.p;try{R.p=8,sh(t,s,r,c)}finally{R.p=m,D.T=f}}function sh(t,s,r,c){if(Hc){var f=ah(c);if(f===null)Zf(t,s,c,Zc,r),n0(t,c);else if(fj(f,t,s,r,c))c.stopPropagation();else if(n0(t,c),s&4&&-1<dj.indexOf(t)){for(;f!==null;){var m=ds(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=bt(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var z=1<<31-$t(y);S.entanglements[1]|=z,y&=~z}da(m),(vt&6)===0&&(Nc=je()+500,Wl(0))}}break;case 31:case 13:S=Or(m,2),S!==null&&as(S,m,2),Ec(),nh(m,2)}if(m=ah(c),m===null&&Zf(t,s,c,Zc,r),m===f)break;f=m}f!==null&&c.stopPropagation()}else Zf(t,s,c,null,r)}}function ah(t){return t=fl(t),rh(t)}var Zc=null;function rh(t){if(Zc=null,t=ks(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=d(s),t!==null)return t;t=null}else if(r===31){if(t=h(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Zc=t,null}function t0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case ze:return 2;case ge:return 8;case ke:case Oe:return 32;case we:return 268435456;default:return 32}default:return 32}}var ih=!1,hr=null,mr=null,pr=null,to=new Map,no=new Map,gr=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(t,s){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":to.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(s.pointerId)}}function so(t,s,r,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ds(s),s!==null&&Jx(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function fj(t,s,r,c,f){switch(s){case"focusin":return hr=so(hr,t,s,r,c,f),!0;case"dragenter":return mr=so(mr,t,s,r,c,f),!0;case"mouseover":return pr=so(pr,t,s,r,c,f),!0;case"pointerover":var m=f.pointerId;return to.set(m,so(to.get(m)||null,t,s,r,c,f)),!0;case"gotpointercapture":return m=f.pointerId,no.set(m,so(no.get(m)||null,t,s,r,c,f)),!0}return!1}function s0(t){var s=ks(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=d(r),s!==null){t.blockedOn=s,us(t.priority,function(){e0(r)});return}}else if(s===31){if(s=h(r),s!==null){t.blockedOn=s,us(t.priority,function(){e0(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=ah(t.nativeEvent);if(r===null){r=t.nativeEvent;var c=new r.constructor(r.type,r);Ha=c,r.target.dispatchEvent(c),Ha=null}else return s=ds(r),s!==null&&Jx(s),t.blockedOn=r,!1;s.shift()}return!0}function a0(t,s,r){Ic(t)&&r.delete(s)}function hj(){ih=!1,hr!==null&&Ic(hr)&&(hr=null),mr!==null&&Ic(mr)&&(mr=null),pr!==null&&Ic(pr)&&(pr=null),to.forEach(a0),no.forEach(a0)}function Vc(t,s){t.blockedOn===s&&(t.blockedOn=null,ih||(ih=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hj)))}var Pc=null;function r0(t){Pc!==t&&(Pc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var s=0;s<t.length;s+=3){var r=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(rh(c||r)===null)continue;break}var m=ds(r);m!==null&&(t.splice(s,3),s-=3,sf(m,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function Hi(t){function s(z){return Vc(z,t)}hr!==null&&Vc(hr,t),mr!==null&&Vc(mr,t),pr!==null&&Vc(pr,t),to.forEach(s),no.forEach(s);for(var r=0;r<gr.length;r++){var c=gr[r];c.blockedOn===t&&(c.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)s0(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],m=r[c+1],y=f[Ln]||null;if(typeof m=="function")y||r0(r);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,y=m[Ln]||null)S=y.formAction;else if(rh(f)!==null)continue}else S=y.action;typeof S=="function"?r[c+1]=S:(r.splice(c,3),c-=3),r0(r)}}}function i0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function lh(t){this._internalRoot=t}Qc.prototype.render=lh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,c=bs();Yx(r,c,t,s,null,null)},Qc.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Yx(t.current,2,null,t,null,null),Ec(),s[ta]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Gn();t={blockedOn:null,target:t,priority:s};for(var r=0;r<gr.length&&s!==0&&s<gr[r].priority;r++);gr.splice(r,0,t),r===0&&s0(t)}};var l0=n.version;if(l0!=="19.2.0")throw Error(i(527,l0,"19.2.0"));R.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var mj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{mt=Wc.inject(mj),et=Wc}catch{}}return ro.createRoot=function(t,s){if(!o(t))throw Error(i(299));var r=!1,c="",f=mg,m=pg,y=gg;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=Kx(t,1,!1,null,null,r,c,null,f,m,y,i0),t[ta]=s.current,Hf(t),new lh(s)},ro.hydrateRoot=function(t,s,r){if(!o(t))throw Error(i(299));var c=!1,f="",m=mg,y=pg,S=gg,z=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),s=Kx(t,1,!0,s,r??null,c,f,z,m,y,S,i0),s.context=Gx(null),r=s.current,c=bs(),c=Cs(c),f=tr(c),f.callback=null,nr(r,f,c),r=c,s.current.lanes=r,Wn(s,r),da(s),t[ta]=s.current,Hf(t),new Qc(s)},ro.version="19.2.0",ro}var x0;function Sj(){if(x0)return uh.exports;x0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),uh.exports=jj(),uh.exports}var Cj=Sj();const Nj=bv(Cj),Eu=p.createContext(null);function kj({children:e}){const[n,a]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),o=p.useRef(n);p.useEffect(()=>{o.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},v=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:v,location:b})){const C=o.current;window.history.pushState(null,"",`${C.pathname}${C.search}${C.hash}`);return}a(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const d=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),h=p.useCallback((x,b)=>{const v=new URL(x,window.location.origin),w={pathname:v.pathname,search:v.search,hash:v.hash},C=`${w.pathname}${w.search}${w.hash}`,N=b?.replace?"replace":"push";u({kind:N,to:C,location:w})&&(b?.replace?window.history.replaceState(null,"",C):window.history.pushState(null,"",C),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:h,registerBlocker:d}),[n,h,d]);return l.jsx(Eu.Provider,{value:g,children:e})}function Qn(){const e=p.useContext(Eu);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function Qt(){const e=p.useContext(Eu);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function yv(e,n=!0){const a=p.useContext(Eu);if(!a)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return a.registerBlocker(e)},[e,a,n])}var el=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ej={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},_j=class{#e=Ej;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Gr=new _j;function Dj(e){setTimeout(e,0)}var Jr=typeof window>"u"||"Deno"in globalThis;function Pn(){}function Aj(e,n){return typeof e=="function"?e(n):e}function Th(e){return typeof e=="number"&&e>=0&&e!==1/0}function wv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function yr(e,n){return typeof e=="function"?e(n):e}function Us(e,n){return typeof e=="function"?e(n):e}function b0(e,n){const{type:a="all",exact:i,fetchStatus:o,predicate:u,queryKey:d,stale:h}=e;if(d){if(i){if(n.queryHash!==sm(d,n.options))return!1}else if(!bo(n.queryKey,d))return!1}if(a!=="all"){const g=n.isActive();if(a==="active"&&!g||a==="inactive"&&g)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||o&&o!==n.state.fetchStatus||u&&!u(n))}function v0(e,n){const{exact:a,status:i,predicate:o,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(a){if(ei(n.options.mutationKey)!==ei(u))return!1}else if(!bo(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||o&&!o(n))}function sm(e,n){return(n?.queryKeyHashFn||ei)(e)}function ei(e){return JSON.stringify(e,(n,a)=>Mh(a)?Object.keys(a).sort().reduce((i,o)=>(i[o]=a[o],i),{}):a)}function bo(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>bo(e[a],n[a])):!1}var Tj=Object.prototype.hasOwnProperty;function jv(e,n){if(e===n)return e;const a=y0(e)&&y0(n);if(!a&&!(Mh(e)&&Mh(n)))return n;const o=(a?e:Object.keys(e)).length,u=a?n:Object.keys(n),d=u.length,h=a?new Array(d):{};let g=0;for(let x=0;x<d;x++){const b=a?x:u[x],v=e[b],w=n[b];if(v===w){h[b]=v,(a?x<o:Tj.call(e,b))&&g++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){h[b]=w;continue}const C=jv(v,w);h[b]=C,C===v&&g++}return o===d&&g===o?e:h}function du(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function y0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mh(e){if(!w0(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!w0(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function w0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mj(e){return new Promise(n=>{Gr.setTimeout(n,e)})}function Rh(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?jv(e,n):n}function Rj(e,n,a=0){const i=[...e,n];return a&&i.length>a?i.slice(1):i}function zj(e,n,a=0){const i=[n,...e];return a&&i.length>a?i.slice(0,-1):i}var am=Symbol();function Sv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===am?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Cv(e,n){return typeof e=="function"?e(...n):!!e}var Oj=class extends el{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Jr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rm=new Oj;function zh(){let e,n;const a=new Promise((o,u)=>{e=o,n=u});a.status="pending",a.catch(()=>{});function i(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},a.reject=o=>{i({status:"rejected",reason:o}),n(o)},a}var Lj=Dj;function Uj(){let e=[],n=0,a=h=>{h()},i=h=>{h()},o=Lj;const u=h=>{n?e.push(h):o(()=>{a(h)})},d=()=>{const h=e;e=[],h.length&&o(()=>{i(()=>{h.forEach(g=>{a(g)})})})};return{batch:h=>{let g;n++;try{g=h()}finally{n--,n||d()}return g},batchCalls:h=>(...g)=>{u(()=>{h(...g)})},schedule:u,setNotifyFunction:h=>{a=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{o=h}}}var wn=Uj(),Bj=class extends el{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Jr&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},fu=new Bj;function $j(e){return Math.min(1e3*2**e,3e4)}function Nv(e){return(e??"online")==="online"?fu.isOnline():!0}var Oh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function kv(e){let n=!1,a=0,i;const o=zh(),u=()=>o.status!=="pending",d=j=>{if(!u()){const _=new Oh(j);w(_),e.onCancel?.(_)}},h=()=>{n=!0},g=()=>{n=!1},x=()=>rm.isFocused()&&(e.networkMode==="always"||fu.isOnline())&&e.canRun(),b=()=>Nv(e.networkMode)&&e.canRun(),v=j=>{u()||(i?.(),o.resolve(j))},w=j=>{u()||(i?.(),o.reject(j))},C=()=>new Promise(j=>{i=_=>{(u()||x())&&j(_)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),N=()=>{if(u())return;let j;const _=a===0?e.initialPromise:void 0;try{j=_??e.fn()}catch(M){j=Promise.reject(M)}Promise.resolve(j).then(v).catch(M=>{if(u())return;const k=e.retry??(Jr?0:3),B=e.retryDelay??$j,W=typeof B=="function"?B(a,M):B,L=k===!0||typeof k=="number"&&a<k||typeof k=="function"&&k(a,M);if(n||!L){w(M);return}a++,e.onFail?.(a,M),Mj(W).then(()=>x()?void 0:C()).then(()=>{n?w(M):N()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i?.(),o),cancelRetry:h,continueRetry:g,canStart:b,start:()=>(b()?N():C().then(N),o)}}var Ev=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Th(this.gcTime)&&(this.#e=Gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Gr.clearTimeout(this.#e),this.#e=void 0)}},qj=class extends Ev{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=j0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=j0(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const a=Rh(this.state.data,e,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Us(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===am||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},o=()=>{const h=Sv(this.options,n),x=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(h,x,this):h(x)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=kv({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Oh&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Oh){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,..._v(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function _v(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function j0(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Dv=class extends el{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=zh(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),S0(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Us(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!du(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&C0(this.#t,a,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==a||Us(this.options.enabled,this.#t)!==Us(n.enabled,this.#t)||yr(this.options.staleTime,this.#t)!==yr(n.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==a||Us(this.options.enabled,this.#t)!==Us(n.enabled,this.#t)||o!==this.#o)&&this.#b(o)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return Hj(this,a)&&(this.#a=a,this.#i=this.options,this.#s=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#j();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Pn)),n}#g(){this.#y();const e=yr(this.options.staleTime,this.#t);if(Jr||this.#a.isStale||!Th(e))return;const a=wv(this.#a.dataUpdatedAt,e)+1;this.#c=Gr.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#o=e,!(Jr||Us(this.options.enabled,this.#t)===!1||!Th(this.#o)||this.#o===0)&&(this.#u=Gr.setInterval(()=>{(this.options.refetchIntervalInBackground||rm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Gr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const a=this.#t,i=this.options,o=this.#a,u=this.#s,d=this.#i,g=e!==a?e.state:this.#n,{state:x}=e;let b={...x},v=!1,w;if(n._optimisticResults){const P=this.hasListeners(),Q=!P&&S0(e,n),Y=P&&C0(e,a,n,i);(Q||Y)&&(b={...b,..._v(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:C,errorUpdatedAt:N,status:j}=b;w=b.data;let _=!1;if(n.placeholderData!==void 0&&w===void 0&&j==="pending"){let P;o?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(P=o.data,_=!0):P=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,P!==void 0&&(j="success",w=Rh(o?.data,P,n),v=!0)}if(n.select&&w!==void 0&&!_)if(o&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Rh(o?.data,w,n),this.#f=w,this.#r=null}catch(P){this.#r=P}this.#r&&(C=this.#r,w=this.#f,N=Date.now(),j="error");const M=b.fetchStatus==="fetching",k=j==="pending",B=j==="error",W=k&&M,L=w!==void 0,A={status:j,fetchStatus:b.fetchStatus,isPending:k,isSuccess:j==="success",isError:B,isInitialLoading:W,isLoading:W,data:w,dataUpdatedAt:b.dataUpdatedAt,error:C,errorUpdatedAt:N,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:M,isRefetching:M&&!k,isLoadingError:B&&!L,isPaused:b.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:B&&L,isStale:im(e,n),refetch:this.refetch,promise:this.#l,isEnabled:Us(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=X=>{A.status==="error"?X.reject(A.error):A.data!==void 0&&X.resolve(A.data)},Q=()=>{const X=this.#l=A.promise=zh();P(X)},Y=this.#l;switch(Y.status){case"pending":e.queryHash===a.queryHash&&P(Y);break;case"fulfilled":(A.status==="error"||A.data!==Y.value)&&Q();break;case"rejected":(A.status!=="error"||A.error!==Y.reason)&&Q();break}}return A}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),du(n,e))return;this.#a=n;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(d=>{const h=d;return this.#a[h]!==e[h]&&u.has(h)})};this.#S({listeners:a()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){wn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Fj(e,n){return Us(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function S0(e,n){return Fj(e,n)||e.state.data!==void 0&&Lh(e,n,n.refetchOnMount)}function Lh(e,n,a){if(Us(n.enabled,e)!==!1&&yr(n.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&im(e,n)}return!1}function C0(e,n,a,i){return(e!==n||Us(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&im(e,a)}function im(e,n){return Us(n.enabled,e)!==!1&&e.isStaleByTime(yr(n.staleTime,e))}function Hj(e,n){return!du(e.getCurrentResult(),n)}function hu(e){return{onFetch:(n,a)=>{const i=n.options,o=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Sv(n.options,n.fetchOptions),C=async(N,j,_)=>{if(b)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const k=(()=>{const V={client:n.client,queryKey:n.queryKey,pageParam:j,direction:_?"backward":"forward",meta:n.options.meta};return v(V),V})(),B=await w(k),{maxPages:W}=n.options,L=_?zj:Rj;return{pages:L(N.pages,B,W),pageParams:L(N.pageParams,j,W)}};if(o&&u.length){const N=o==="backward",j=N?Av:Uh,_={pages:u,pageParams:d},M=j(i,_);h=await C(_,M,N)}else{const N=e??u.length;do{const j=g===0?d[0]??i.initialPageParam:Uh(i,h);if(g>0&&j==null)break;h=await C(h,j),g++}while(g<N)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a):n.fetchFn=x}}}function Uh(e,{pages:n,pageParams:a}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,a[i],a):void 0}function Av(e,{pages:n,pageParams:a}){return n.length>0?e.getPreviousPageParam?.(n[0],n,a[0],a):void 0}function Zj(e,n){return n?Uh(e,n)!=null:!1}function Ij(e,n){return!n||!e.getPreviousPageParam?!1:Av(e,n)!=null}var Vj=class extends Dv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:hu()})}getOptimisticResult(e){return e.behavior=hu(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:a}=e,i=super.createResult(e,n),{isFetching:o,isRefetching:u,isError:d,isRefetchError:h}=i,g=a.fetchMeta?.fetchMore?.direction,x=d&&g==="forward",b=o&&g==="forward",v=d&&g==="backward",w=o&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Zj(n,a.data),hasPreviousPage:Ij(n,a.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:v,isFetchingPreviousPage:w,isRefetchError:h&&!x&&!v,isRefetching:u&&!b&&!w}}},Pj=class extends Ev{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Tv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=kv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,a);const d=await this.options.onMutate?.(e,a);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:o})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,a),await this.options.onError?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,e,this.state.context,a),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Tv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qj=class extends el{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,a){const i=new Pj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:a});return this.add(i),i}add(e){this.#e.add(e);const n=Kc(e);if(typeof n=="string"){const a=this.#t.get(n);a?a.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=Kc(e);if(typeof n=="string"){const a=this.#t.get(n);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Kc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=Kc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){wn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(a=>v0(n,a))}findAll(e={}){return this.getAll().filter(n=>v0(e,n))}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pn))))}};function Kc(e){return e.options.scope?.id}var Wj=class extends el{#e;#t=void 0;#n;#a;constructor(n,a){super(),this.#e=n,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=this.#e.defaultMutationOptions(n),du(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&ei(a.mutationKey)!==ei(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Tv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){wn.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,a,i,o),this.#a.onSettled?.(n.data,null,a,i,o)):n?.type==="error"&&(this.#a.onError?.(n.error,a,i,o),this.#a.onSettled?.(void 0,n.error,a,i,o))}this.listeners.forEach(a=>{a(this.#t)})})}},Kj=class extends el{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,a){const i=n.queryKey,o=n.queryHash??sm(i,n);let u=this.get(o);return u||(u=new qj({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>b0(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>b0(e,a)):n}notify(e){wn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gj=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new Kj,this.#t=e.mutationCache||new Qj,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=fu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=this.#e.build(this,n),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(yr(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=Aj(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...a,manual:!0})}setQueriesData(e,n,a){return wn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;wn.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=this.#e;return wn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},i=wn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(a)));return Promise.all(i).then(Pn).catch(Pn)}invalidateQueries(e,n={}){return wn.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},i=wn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,a);return a.throwOnError||(u=u.catch(Pn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Pn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=this.#e.build(this,n);return a.isStaleByTime(yr(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pn).catch(Pn)}fetchInfiniteQuery(e){return e.behavior=hu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pn).catch(Pn)}ensureInfiniteQueryData(e){return e.behavior=hu(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(ei(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],a={};return n.forEach(i=>{bo(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,n){this.#s.set(ei(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],a={};return n.forEach(i=>{bo(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=sm(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===am&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Mv=p.createContext(void 0),ht=e=>{const n=p.useContext(Mv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Yj=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Mv.Provider,{value:e,children:n})),Rv=p.createContext(!1),Xj=()=>p.useContext(Rv);Rv.Provider;function Jj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var eS=p.createContext(Jj()),tS=()=>p.useContext(eS),nS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},sS=e=>{p.useEffect(()=>{e.clearReset()},[e])},aS=({result:e,errorResetBoundary:n,throwOnError:a,query:i,suspense:o})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Cv(a,[e.error,i])),rS=e=>{if(e.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>a(i(...o)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},iS=(e,n)=>e.isLoading&&e.isFetching&&!n,lS=(e,n)=>e?.suspense&&n.isPending,N0=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function zv(e,n,a){const i=Xj(),o=tS(),u=ht(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",rS(d),nS(d,o),sS(o);const h=!u.getQueryCache().get(d.queryHash),[g]=p.useState(()=>new n(u,d)),x=g.getOptimisticResult(d),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const w=b?g.subscribe(wn.batchCalls(v)):Pn;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(d)},[d,g]),lS(d,x))throw N0(d,g,o);if(aS({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!Jr&&iS(x,i)&&(h?N0(d,g,o):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Pn).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function Fn(e,n){return zv(e,Dv)}function Kt(e,n){const a=ht(),[i]=p.useState(()=>new Wj(a,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const o=p.useSyncExternalStore(p.useCallback(d=>i.subscribe(wn.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((d,h)=>{i.mutate(d,h).catch(Pn)},[i]);if(o.error&&Cv(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function lm(e,n){return zv(e,Vj)}const oS="modulepreload",cS=function(e){return"/"+e},k0={},uS=function(n,a,i){let o=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=g(a.map(x=>{if(x=cS(x),x in k0)return;k0[x]=!0;const b=x.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":oS,b||(w.as="script"),w.crossOrigin="",w.href=x,h&&w.setAttribute("nonce",h),document.head.appendChild(w),b)return new Promise((C,N)=>{w.addEventListener("load",C),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function dS({children:e}){const[n]=p.useState(()=>new Gj({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(Yj,{client:n,children:[e,null]})}class _n extends Error{status;problem;constructor(n,a,i){super(n),this.name="ApiError",this.status=a,this.problem=i}}const fS=/\{[^{}]+\}/g,hS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function mS(){return Math.random().toString(36).slice(2,11)}function pS(e){let{baseUrl:n="",Request:a=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:o,bodySerializer:u,headers:d,requestInitExt:h=void 0,...g}={...e};h=hS()?h:void 0,n=D0(n);const x=[];async function b(v,w){const{baseUrl:C,fetch:N=i,Request:j=a,headers:_,params:M={},parseAs:k="json",querySerializer:B,bodySerializer:W=u??xS,body:L,middleware:V=[],...A}=w||{};let P=n;C&&(P=D0(C)??n);let Q=typeof o=="function"?o:E0(o);B&&(Q=typeof B=="function"?B:E0({...typeof o=="object"?o:{},...B}));const Y=L===void 0?void 0:W(L,_0(d,_,M.header)),X=_0(Y===void 0||Y instanceof FormData?{}:{"Content-Type":"application/json"},d,_,M.header),U=[...x,...V],ee={redirect:"follow",...g,...A,body:Y,headers:X};let de,be,D=new j(bS(v,{baseUrl:P,params:M,querySerializer:Q}),ee),R;for(const he in A)he in D||(D[he]=A[he]);if(U.length){de=mS(),be=Object.freeze({baseUrl:P,fetch:N,parseAs:k,querySerializer:Q,bodySerializer:W});for(const he of U)if(he&&typeof he=="object"&&typeof he.onRequest=="function"){const ae=await he.onRequest({request:D,schemaPath:v,params:M,options:be,id:de});if(ae)if(ae instanceof j)D=ae;else if(ae instanceof Response){R=ae;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!R){try{R=await N(D,h)}catch(he){let ae=he;if(U.length)for(let E=U.length-1;E>=0;E--){const Z=U[E];if(Z&&typeof Z=="object"&&typeof Z.onError=="function"){const le=await Z.onError({request:D,error:ae,schemaPath:v,params:M,options:be,id:de});if(le){if(le instanceof Response){ae=void 0,R=le;break}if(le instanceof Error){ae=le;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ae)throw ae}if(U.length)for(let he=U.length-1;he>=0;he--){const ae=U[he];if(ae&&typeof ae=="object"&&typeof ae.onResponse=="function"){const E=await ae.onResponse({request:D,response:R,schemaPath:v,params:M,options:be,id:de});if(E){if(!(E instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");R=E}}}}if(R.status===204||D.method==="HEAD"||R.headers.get("Content-Length")==="0")return R.ok?{data:void 0,response:R}:{error:void 0,response:R};if(R.ok)return k==="stream"?{data:R.body,response:R}:{data:await R[k](),response:R};let te=await R.text();try{te=JSON.parse(te)}catch{}return{error:te,response:R}}return{request(v,w,C){return b(w,{...C,method:v.toUpperCase()})},GET(v,w){return b(v,{...w,method:"GET"})},PUT(v,w){return b(v,{...w,method:"PUT"})},POST(v,w){return b(v,{...w,method:"POST"})},DELETE(v,w){return b(v,{...w,method:"DELETE"})},OPTIONS(v,w){return b(v,{...w,method:"OPTIONS"})},HEAD(v,w){return b(v,{...w,method:"HEAD"})},PATCH(v,w){return b(v,{...w,method:"PATCH"})},TRACE(v,w){return b(v,{...w,method:"TRACE"})},use(...v){for(const w of v)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...v){for(const w of v){const C=x.indexOf(w);C!==-1&&x.splice(C,1)}}}}function _u(e,n,a){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${a?.allowReserved===!0?n:encodeURIComponent(n)}`}function Ov(e,n,a){if(!n||typeof n!="object")return"";const i=[],o={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const h in n)i.push(h,a.allowReserved===!0?n[h]:encodeURIComponent(n[h]));const d=i.join(",");switch(a.style){case"form":return`${e}=${d}`;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return d}}for(const d in n){const h=a.style==="deepObject"?`${e}[${d}]`:d;i.push(_u(h,n[d],a))}const u=i.join(o);return a.style==="label"||a.style==="matrix"?`${o}${u}`:u}function Lv(e,n,a){if(!Array.isArray(n))return"";if(a.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",d=(a.allowReserved===!0?n:n.map(h=>encodeURIComponent(h))).join(u);switch(a.style){case"simple":return d;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return`${e}=${d}`}}const i={simple:",",label:".",matrix:";"}[a.style]||"&",o=[];for(const u of n)a.style==="simple"||a.style==="label"?o.push(a.allowReserved===!0?u:encodeURIComponent(u)):o.push(_u(e,u,a));return a.style==="label"||a.style==="matrix"?`${i}${o.join(i)}`:o.join(i)}function E0(e){return function(a){const i=[];if(a&&typeof a=="object")for(const o in a){const u=a[o];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(Lv(o,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(Ov(o,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(_u(o,u,e))}}return i.join("&")}}function gS(e,n){let a=e;for(const i of e.match(fS)??[]){let o=i.substring(1,i.length-1),u=!1,d="simple";if(o.endsWith("*")&&(u=!0,o=o.substring(0,o.length-1)),o.startsWith(".")?(d="label",o=o.substring(1)):o.startsWith(";")&&(d="matrix",o=o.substring(1)),!n||n[o]===void 0||n[o]===null)continue;const h=n[o];if(Array.isArray(h)){a=a.replace(i,Lv(o,h,{style:d,explode:u}));continue}if(typeof h=="object"){a=a.replace(i,Ov(o,h,{style:d,explode:u}));continue}if(d==="matrix"){a=a.replace(i,`;${_u(o,h)}`);continue}a=a.replace(i,d==="label"?`.${encodeURIComponent(h)}`:encodeURIComponent(h))}return a}function xS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function bS(e,n){let a=`${n.baseUrl}${e}`;n.params?.path&&(a=gS(a,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+=`?${i}`),a}function _0(...e){const n=new Headers;for(const a of e){if(!a||typeof a!="object")continue;const i=a instanceof Headers?a.entries():Object.entries(a);for(const[o,u]of i)if(u===null)n.delete(o);else if(Array.isArray(u))for(const d of u)n.append(o,d);else u!==void 0&&n.set(o,u)}return n}function D0(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const vS=["ade_csrf","backend_app_csrf"];function yS(){return vS}function wS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,a=e.split(";");for(const i of a){const[o,...u]=i.trim().split("=");o&&n.set(o,decodeURIComponent(u.join("=")))}return n}function Uv(){const e=wS();if(!e)return null;for(const n of yS()){const a=e.get(n);if(a)return a}return null}const Bv=new Set(["GET","HEAD","OPTIONS","TRACE"]),jS="ade.auth.tokens",mh="",mu=mh.endsWith("/api/v1")?mh.slice(0,-7):mh;function tl(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return mu.length>0?`${mu}${e}`:e}async function SS(e,n={}){const a=tl(e),i=new Headers(n.headers??{});if(i.set("X-Requested-With","fetch"),!i.has("Authorization")){const d=$v();d&&i.set("Authorization",`${d.token_type} ${d.access_token}`)}const o=n.method?.toUpperCase()??"GET";if(!Bv.has(o)){const d=Uv();d&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",d)}return await fetch(a,{credentials:"include",...n,headers:i})}const Pe=pS({baseUrl:mu.length>0?mu:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),CS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Bv.has(n)){const a=Uv();a&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",a)}return e}},NS={onRequest({request:e}){if(!e.headers.has("Authorization")){const n=$v();n&&e.headers.set("Authorization",`${n.token_type} ${n.access_token}`)}return e}},kS={async onResponse({response:e}){if(e.ok)return e;const n=await ES(e),a=n?.title??`Request failed with status ${e.status}`;throw new _n(a,e.status,n)}};Pe.use(CS);Pe.use(NS);Pe.use(kS);function $v(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(jS);if(!e)return null;const n=JSON.parse(e);if(n&&typeof n.access_token=="string")return{access_token:n.access_token,token_type:n.token_type??"bearer"}}catch{}return null}async function ES(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Js={root:["auth"],detail:()=>[...Js.root,"session"],providers:()=>[...Js.root,"providers"],setupStatus:()=>[...Js.root,"setup-status"]},om="ade.auth.tokens";let ko=_S();function _S(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(om);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.access_token!="string"?null:{access_token:n.access_token,token_type:n.token_type??"bearer",expires_at:n.expires_at??null,refresh_expires_at:n.refresh_expires_at??null}}catch{return null}}function A0(e,n){if(e){const a=Date.parse(e);if(!Number.isNaN(a))return a}return typeof n=="number"?Date.now()+n*1e3:null}function DS(e){const n={access_token:e.access_token,token_type:e.token_type??"bearer",expires_at:A0(e.expires_at,e.expires_in),refresh_expires_at:A0(e.refresh_expires_at,e.refresh_expires_in)};if(ko=n,typeof window<"u")try{window.localStorage.setItem(om,JSON.stringify(n))}catch{}return n}function cm(){if(ko=null,typeof window<"u")try{window.localStorage.removeItem(om)}catch{}}function AS(){return ko}function TS(e=ko){return e?.access_token?{Authorization:`${e.token_type?.trim()||"bearer"} ${e.access_token}`}:{}}function T0(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toISOString()}function MS(e){const n=e.items.find(a=>a.is_default);return n?n.id:null}function M0(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function RS(e){return e?{...e,items:e.items??[]}:{items:[],page:1,page_size:0,total:0,has_next:!1,has_previous:!1}}async function qv(e,n){const a="/api/v1/me/bootstrap";try{const{data:i}=await Pe.GET(a,{signal:n,headers:TS(e),params:{query:{page:1,page_size:200,include_total:!1}}});return i??null}catch(i){if(i instanceof _n&&(i.status===401||i.status===403))return null;throw i}}function Fv(e,n=ko,a=null,i=null){const o=M0(e.roles),u=M0(e.permissions),d=RS(e.workspaces);return{user:{...e.user,roles:o,permissions:u,preferred_workspace_id:MS(d)??null},workspaces:d,roles:o,permissions:u,expires_at:T0(n?.expires_at??null),refresh_expires_at:T0(n?.refresh_expires_at??null),return_to:a,state:i}}async function Du(e,n={}){const a=DS(e.session),i=await qv(a,n.signal);if(!i)throw cm(),new Error("Unable to load session after authentication.");return Fv(i,a,null,null)}async function zS(e={}){try{const{data:n}=await Pe.GET("/api/v1/auth/providers",{signal:e.signal});return n?qS(n):{providers:[],force_sso:!1}}catch(n){if(n instanceof _n&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function OS(e={}){const n=AS(),a=await qv(n,e.signal);return a?Fv(a,n):(n&&cm(),null)}async function LS(e,n={}){const{data:a}=await Pe.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!a)throw new Error("Expected session payload from login response.");return Du(a,n)}async function US(e={}){const{data:n}=await Pe.POST("/api/v1/auth/session/refresh",{body:void 0,signal:e.signal});if(!n)throw new Error("Expected session payload from refresh response.");return Du(n,e)}async function BS(e){const{code:n,state:a,provider:i="sso",signal:o}=e,{data:u}=await Pe.GET("/api/v1/auth/sso/{provider}/callback",{signal:o,params:{path:{provider:i},query:{code:n,state:a}}});if(!u)throw new Error("Expected session payload from SSO callback.");return Du(u,{signal:o})}async function $S(e={}){try{await Pe.DELETE("/api/v1/auth/session",{signal:e.signal,body:void 0})}catch(n){!(n instanceof _n)||n.status!==401&&n.status}finally{cm()}}function qS(e){return{providers:(e.providers??[]).map(FS),force_sso:!!e.force_sso}}function FS(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}const Hv=p.createContext(void 0);function Gc(e){return e instanceof Error?e:new Error(String(e))}function R0({session:e,refetch:n,children:a}){return IS(e,n),l.jsx(Hv.Provider,{value:{session:e,refetch:n},children:a})}function HS(){const e=p.useContext(Hv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function nl(){return HS().session}const ZS=6e4;function IS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const a=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(a)||Number.isNaN(i))return;const o=Date.now();if(i<=o){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",Gc(x))});return}const u=Math.min(a,i)-ZS,d=Math.max(u-o,0);let h=!1;const g=window.setTimeout(async()=>{try{if(await US(),h)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",Gc(x))})}catch(x){if(h)return;console.warn("Failed to refresh session",Gc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",Gc(b))})}},d);return()=>{h=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function Zv(e={}){const n=ht(),a=Fn({queryKey:Js.detail(),queryFn:async({signal:o})=>{const u=await OS({signal:o});return u||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=a.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Js.providers(),exact:!1})},[n,i]),{...a,session:i}}async function VS(e={}){try{const{data:n}=await Pe.GET("/api/v1/auth/setup",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof _n&&n.status===404)return{requires_setup:!1,has_users:!0};throw n}}async function PS(e){const{data:n}=await Pe.POST("/api/v1/auth/setup",{body:e});if(!n)throw new Error("Expected session payload from setup response.");return Du(n)}function um(e=!0){return Fn({queryKey:Js.setupStatus(),queryFn:({signal:n})=>VS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const Eo="/workspaces",QS=new Set(["/","/login","/setup","/logout"]);function WS(e){if(!e)return!0;const n=GS(e);return!!(QS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function KS(e){return`${e.pathname}${e.search}${e.hash}`}function z0(e){const n=KS(e)||"/";return pu(n)??Eo}function pu(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?Eo:WS(n)?null:n}function vo(e){return pu(e)??Eo}function Iv(e){return Pv("/login",e)}function Vv(e){return Pv("/setup",e)}function Pv(e,n){const a=vo(n),i=new URLSearchParams;a!==Eo&&i.set("redirectTo",a);const o=i.toString();return o?`${e}?${o}`:e}function gu(e,n){const a=pu(e);if(a)return a;const i=pu(n);return i||Eo}function GS(e){let n=e;const a=n.indexOf("#");a>=0&&(n=n.slice(0,a));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Au({children:e}){const n=Qn(),a=Qt(),i=Zv(),{session:o,isLoading:u,isError:d,refetch:h}=i,g=!o&&!u&&!d,{data:x,isPending:b,isError:v,isSuccess:w,refetch:C}=um(g);return p.useEffect(()=>{if(o||u||d)return;if(g){if(b||v)return;if(w&&x?.requires_setup){const j=z0(n);a(Vv(j),{replace:!0});return}}const N=z0(n);a(Iv(N),{replace:!0})},[d,u,v,b,w,n,a,o,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):d?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>h(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):o?e?l.jsx(R0,{session:o,refetch:h,children:e}):l.jsx(R0,{session:o,refetch:h,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&v?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>C(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const _o=100,dm=50;function Tu(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,_o)}async function Qv(e,n={}){const{maxPages:a=50}=n,i=[];let o=[],u;for(let g=1;g<=a;g+=1){const x=await e(g);if(i.push(x),o=o.concat(x.items??[]),u===void 0&&x.total!==void 0&&(u=x.total??null),!x.has_next)break}const d=i.at(-1),h=i.at(0);if(!d||!h)throw new Error("No pages were returned while collecting pagination results.");return{...d,items:o,page:1,page_size:h.page_size,has_next:!1,has_previous:!1,total:u??d.total}}function fm(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const a=[],i=new Map;for(const o of e){const u=Array.isArray(o.items)?o.items:[];for(const d of u){const h=n(d),g=i.get(h);if(g===void 0){i.set(h,a.length),a.push(d);continue}a[g]=d}}return a},[e,n])}const Wv=_o,Kv=dm,Gv=dm,Yv=dm,YS="workspace",ru={page:1,pageSize:Wv,includeTotal:!1},XS={page:1,pageSize:Kv,includeTotal:!1},JS={page:1,pageSize:Gv,includeTotal:!1},eC={scope:YS,page:1,pageSize:Yv,includeTotal:!1},en={all:()=>["workspaces"],list:(e=ru)=>[...en.all(),"list",{...e}],detail:e=>[...en.all(),"detail",e],members:(e,n=XS)=>[...en.detail(e),"members",{...n}],roles:(e,n=JS)=>[...en.detail(e),"roles",{...n}],permissions:(e=eC)=>["permissions",{...e}]},iu={page:ru.page,pageSize:ru.pageSize,includeTotal:ru.includeTotal},Xv="workspace";async function tC(e={}){const{page:n,pageSize:a,includeTotal:i,signal:o}=e,u={};typeof n=="number"&&n>0&&(u.page=n);const d=Tu(a??Wv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Pe.GET("/api/v1/workspaces",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace page payload.");const g=[...h.items].sort((x,b)=>x.name.localeCompare(b.name));return{...h,items:g}}async function nC(e){const{data:n}=await Pe.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function sC(e,n){const{data:a}=await Pe.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace payload.");return a}async function aC(e){await Pe.DELETE("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}}})}async function rC(e,n={}){const{page:a,pageSize:i,includeTotal:o,signal:u}=n,d={};typeof a=="number"&&a>0&&(d.page=a);const h=Tu(i??Kv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Pe.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:d},signal:u});if(!g)throw new Error("Expected workspace member page payload.");return g}async function iC(e,n){const{data:a}=await Pe.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace member payload.");return a}async function lC(e,n,a){const{data:i}=await Pe.PUT("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}},body:a});if(!i)throw new Error("Expected workspace member payload.");return i}async function oC(e,n){await Pe.DELETE("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}}})}async function cC(e={}){const{page:n,pageSize:a,includeTotal:i,signal:o}=e,u={scope:Xv};typeof n=="number"&&n>0&&(u.page=n);const d=Tu(a??Gv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Pe.GET("/api/v1/rbac/roles",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace role page payload.");return h}async function uC(e,n){const{data:a}=await Pe.POST("/api/v1/rbac/roles",{body:n});if(!a)throw new Error("Expected role payload.");return a}async function dC(e,n,a){const{data:i}=await Pe.PATCH("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}},body:a});if(!i)throw new Error("Expected role payload.");return i}async function fC(e,n){await Pe.DELETE("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}}})}async function hC(e={}){const{scope:n=Xv,page:a,pageSize:i,includeTotal:o,signal:u}=e,d={scope:n};typeof a=="number"&&a>0&&(d.page=a);const h=Tu(i??Yv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Pe.GET("/api/v1/rbac/permissions",{params:{query:d},signal:u});if(!g)throw new Error("Expected permission page payload.");return g}const mC="/api/v1/workspaces/{workspace_id}/default";async function pC(e){await Pe.PUT(mC,{params:{path:{workspace_id:e}}})}function gC(){const e=ht();return Kt({mutationFn:nC,onSuccess(n){e.setQueryData(en.detail(n.id),n),e.getQueriesData({queryKey:en.all()}).forEach(([a,i])=>{if(!Array.isArray(a)||a[0]!=="workspaces"||a[1]!=="list"||!i)return;const o=i.items.findIndex(g=>g.id===n.id),d=[...o>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),h=typeof i.total=="number"&&o===-1?i.total+1:i.total;e.setQueryData(a,{...i,items:d,total:h})}),e.invalidateQueries({queryKey:en.all()})}})}function xC(e,n){if(!e||typeof e!="object")return e;if("items"in e){const a=e;if(!Array.isArray(a.items))return e;const i=a.items.map(o=>({...o,is_default:o.id===n}));return{...a,items:i}}if("id"in e&&"is_default"in e){const a=e;return{...a,is_default:a.id===n}}return e}function Jv(){const e=ht();return Kt({mutationFn:n=>pC(n),onSuccess:(n,a)=>{e.setQueriesData({queryKey:en.all()},i=>xC(i,a))}})}function bC(e){const n=ht();return Kt({mutationFn:a=>sC(e,a),onSuccess:a=>{n.setQueryData(en.detail(a.id),a),n.getQueriesData({queryKey:en.all()}).forEach(([i,o])=>{if(!Array.isArray(i)||i[0]!=="workspaces"||i[1]!=="list"||!o)return;const d=[...o.items.map(h=>h.id===a.id?a:h)].sort((h,g)=>h.name.localeCompare(g.name));n.setQueryData(i,{...o,items:d})})}})}function vC(e={}){const n=e.page??iu.page,a=e.pageSize??iu.pageSize,i=e.includeTotal??iu.includeTotal;return{queryKey:en.list({page:n,pageSize:a,includeTotal:i}),queryFn:({signal:o})=>tC({page:n,pageSize:a,includeTotal:i,signal:o}),staleTime:6e4,enabled:e.enabled??!0}}function hm(e={}){const n=ht(),a=vC(e),i=n.getQueryData(a.queryKey);return Fn({...a,initialData:i})}const yC="documents";function mm(e){return`/workspaces/${e}/${yC}`}function ph(e){return e instanceof Error?e:new Error(String(e))}function ha(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",ph(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.warn("Failed to write to storage",ph(a))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",ph(n))}}}}const wC="backend.app.active_workspace",Bh=ha(wC);function jC(){return Bh.get()}function ey(e){if(!e){Bh.clear();return}Bh.set(e)}function ty(e){var n,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(a=ty(e[n]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function pe(){for(var e,n,a=0,i="",o=arguments.length;a<o;a++)(e=arguments[a])&&(n=ty(e))&&(i&&(i+=" "),i+=n);return i}const SC={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},CC={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},De=p.forwardRef(({type:e="button",variant:n="primary",size:a="md",isLoading:i=!1,className:o,children:u,disabled:d,...h},g)=>{const x=d||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:pe("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",SC[n],CC[a],o),...h,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});De.displayName="Button";const NC={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function Nt({title:e,description:n,action:a,variant:i="empty",className:o}){return l.jsxs("div",{className:pe("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",o),children:[l.jsx("span",{"aria-hidden":"true",className:pe("mb-4 h-8 w-8 rounded-full border-current",NC[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,a?l.jsx("div",{className:"mt-4",children:a}):null]})}function kC(){return l.jsx(Au,{children:l.jsx(EC,{})})}function EC(){const e=Qn(),n=Qt(),a=nl(),i=hm(),o=i.data?.items??[],h=[jC(),a.user.preferred_workspace_id].filter(g=>!!g).map(g=>o.find(x=>x.id===g)).find(g=>!!g)??o[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!h){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=mm(h.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,h,i.isError,i.isLoading]),i.isLoading?l.jsx(Nt,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(Nt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(De,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function Ne(e,n,a){function i(h,g){var x;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(x=h._zod).traits??(x.traits=new Set),h._zod.traits.add(e),n(h,g);for(const b in d.prototype)b in h||Object.defineProperty(h,b,{value:d.prototype[b].bind(h)});h._zod.constr=d,h._zod.def=g}const o=a?.Parent??Object;class u extends o{}Object.defineProperty(u,"name",{value:e});function d(h){var g;const x=a?.Parent?new u:this;i(x,h),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>a?.Parent&&h instanceof a.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class Ki extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ny extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const sy={};function ti(e){return sy}function _C(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,o])=>n.indexOf(+i)===-1).map(([i,o])=>o)}function $h(e,n){return typeof n=="bigint"?n.toString():n}function pm(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function gm(e){return e==null}function xm(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}const O0=Symbol("evaluating");function qt(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==O0)return i===void 0&&(i=O0,i=a()),i},set(o){Object.defineProperty(e,n,{value:o})},configurable:!0})}function ai(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function ri(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function L0(e){return JSON.stringify(e)}const ay="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function xu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const DC=pm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function yo(e){if(xu(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(xu(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function ry(e){return yo(e)?{...e}:Array.isArray(e)?[...e]:e}const AC=new Set(["string","number","symbol"]);function Mu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jr(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a?.parent)&&(i._zod.parent=e),i}function Ke(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function TC(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function MC(e,n){const a=e._zod.def,i=ri(e._zod.def,{get shape(){const o={};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=a.shape[u])}return ai(this,"shape",o),o},checks:[]});return jr(e,i)}function RC(e,n){const a=e._zod.def,i=ri(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete o[u]}return ai(this,"shape",o),o},checks:[]});return jr(e,i)}function zC(e,n){if(!yo(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ri(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return ai(this,"shape",u),u},checks:[]});return jr(e,o)}function OC(e,n){if(!yo(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return ai(this,"shape",i),i},checks:e._zod.def.checks};return jr(e,a)}function LC(e,n){const a=ri(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return ai(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return jr(e,a)}function UC(e,n,a){const i=ri(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(a)for(const d in a){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(u[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)u[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return ai(this,"shape",u),u},checks:[]});return jr(n,i)}function BC(e,n,a){const i=ri(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(a)for(const d in a){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(u[d]=new e({type:"nonoptional",innerType:o[d]}))}else for(const d in o)u[d]=new e({type:"nonoptional",innerType:o[d]});return ai(this,"shape",u),u},checks:[]});return jr(n,i)}function Wi(e,n=0){if(e.aborted===!0)return!0;for(let a=n;a<e.issues.length;a++)if(e.issues[a]?.continue!==!0)return!0;return!1}function iy(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function Yc(e){return typeof e=="string"?e:e?.message}function ni(e,n,a){const i={...e,path:e.path??[]};if(!e.message){const o=Yc(e.inst?._zod.def?.error?.(e))??Yc(n?.error?.(e))??Yc(a.customError?.(e))??Yc(a.localeError?.(e))??"Invalid input";i.message=o}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function bm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function wo(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const ly=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,$h,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vm=Ne("$ZodError",ly),Ru=Ne("$ZodError",ly,{Parent:Error});function $C(e,n=a=>a.message){const a={},i=[];for(const o of e.issues)o.path.length>0?(a[o.path[0]]=a[o.path[0]]||[],a[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:a}}function qC(e,n=a=>a.message){const a={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let d=a,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(u))):d[g]=d[g]||{_errors:[]},d=d[g],h++}}};return i(e),a}const zu=e=>(n,a,i,o)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:a,issues:[]},u);if(d instanceof Promise)throw new Ki;if(d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>ni(g,u,ti())));throw ay(h,o?.callee),h}return d.value},FC=zu(Ru),Ou=e=>async(n,a,i,o)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:a,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>ni(g,u,ti())));throw ay(h,o?.callee),h}return d.value},HC=Ou(Ru),Lu=e=>(n,a,i)=>{const o=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},o);if(u instanceof Promise)throw new Ki;return u.issues.length?{success:!1,error:new(e??vm)(u.issues.map(d=>ni(d,o,ti())))}:{success:!0,data:u.value}},ZC=Lu(Ru),Uu=e=>async(n,a,i)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},o);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>ni(d,o,ti())))}:{success:!0,data:u.value}},IC=Uu(Ru),VC=e=>(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return zu(e)(n,a,o)},PC=e=>(n,a,i)=>zu(e)(n,a,i),QC=e=>async(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ou(e)(n,a,o)},WC=e=>async(n,a,i)=>Ou(e)(n,a,i),KC=e=>(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Lu(e)(n,a,o)},GC=e=>(n,a,i)=>Lu(e)(n,a,i),YC=e=>async(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Uu(e)(n,a,o)},XC=e=>async(n,a,i)=>Uu(e)(n,a,i),JC=/^[cC][^\s-]{8,}$/,eN=/^[0-9a-z]+$/,tN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nN=/^[0-9a-vA-V]{20}$/,sN=/^[A-Za-z0-9]{27}$/,aN=/^[a-zA-Z0-9_-]{21}$/,rN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,U0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,lN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,oN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function cN(){return new RegExp(oN,"u")}const uN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,fN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,oy=/^[A-Za-z0-9_-]*$/,pN=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,gN=/^\+(?:[0-9]){6,14}[0-9]$/,cy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xN=new RegExp(`^${cy}$`);function uy(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function bN(e){return new RegExp(`^${uy(e)}$`)}function vN(e){const n=uy({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${cy}T(?:${i})$`)}const yN=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},wN=/^[^A-Z]*$/,jN=/^[^a-z]*$/,pa=Ne("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),SN=Ne("$ZodCheckMaxLength",(e,n)=>{var a;pa.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!gm(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const o=i.value;if(o.length<=n.maximum)return;const d=bm(o);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),CN=Ne("$ZodCheckMinLength",(e,n)=>{var a;pa.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!gm(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const o=i.value;if(o.length>=n.minimum)return;const d=bm(o);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),NN=Ne("$ZodCheckLengthEquals",(e,n)=>{var a;pa.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!gm(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),e._zod.check=i=>{const o=i.value,u=o.length;if(u===n.length)return;const d=bm(o),h=u>n.length;i.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),Bu=Ne("$ZodCheckStringFormat",(e,n)=>{var a,i;pa.init(e,n),e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),kN=Ne("$ZodCheckRegex",(e,n)=>{Bu.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),EN=Ne("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=wN),Bu.init(e,n)}),_N=Ne("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=jN),Bu.init(e,n)}),DN=Ne("$ZodCheckIncludes",(e,n)=>{pa.init(e,n);const a=Mu(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(o=>{const u=o._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:e,continue:!n.abort})}}),AN=Ne("$ZodCheckStartsWith",(e,n)=>{pa.init(e,n);const a=new RegExp(`^${Mu(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),TN=Ne("$ZodCheckEndsWith",(e,n)=>{pa.init(e,n);const a=new RegExp(`.*${Mu(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),MN=Ne("$ZodCheckOverwrite",(e,n)=>{pa.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class RN{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),o=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(o)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,a=this?.args,o=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...a,o.join(`
`))}}const zN={major:4,minor:1,patch:12},jn=Ne("$ZodType",(e,n)=>{var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=zN;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const u of o._zod.onattach)u(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,h,g)=>{let x=Wi(d),b;for(const v of h){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(x)continue;const w=d.issues.length,C=v._zod.check(d);if(C instanceof Promise&&g?.async===!1)throw new Ki;if(b||C instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await C,d.issues.length!==w&&(x||(x=Wi(d,w)))});else{if(d.issues.length===w)continue;x||(x=Wi(d,w))}}return b?b.then(()=>d):d},u=(d,h,g)=>{if(Wi(d))return d.aborted=!0,d;const x=o(h,i,g);if(x instanceof Promise){if(g.async===!1)throw new Ki;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(d,h)=>{if(h.skipChecks)return e._zod.parse(d,h);if(h.direction==="backward"){const x=e._zod.parse({value:d.value,issues:[]},{...h,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,d,h)):u(x,d,h)}const g=e._zod.parse(d,h);if(g instanceof Promise){if(h.async===!1)throw new Ki;return g.then(x=>o(x,i,h))}return o(g,i,h)}}e["~standard"]={validate:o=>{try{const u=ZC(e,o);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return IC(e,o).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),ym=Ne("$ZodString",(e,n)=>{jn.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??yN(e._zod.bag),e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),Wt=Ne("$ZodStringFormat",(e,n)=>{Bu.init(e,n),ym.init(e,n)}),ON=Ne("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=iN),Wt.init(e,n)}),LN=Ne("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=U0(i))}else n.pattern??(n.pattern=U0());Wt.init(e,n)}),UN=Ne("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=lN),Wt.init(e,n)}),BN=Ne("$ZodURL",(e,n)=>{Wt.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),o=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:pN.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=o.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),$N=Ne("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=cN()),Wt.init(e,n)}),qN=Ne("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=aN),Wt.init(e,n)}),FN=Ne("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=JC),Wt.init(e,n)}),HN=Ne("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=eN),Wt.init(e,n)}),ZN=Ne("$ZodULID",(e,n)=>{n.pattern??(n.pattern=tN),Wt.init(e,n)}),IN=Ne("$ZodXID",(e,n)=>{n.pattern??(n.pattern=nN),Wt.init(e,n)}),VN=Ne("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=sN),Wt.init(e,n)}),PN=Ne("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=vN(n)),Wt.init(e,n)}),QN=Ne("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=xN),Wt.init(e,n)}),WN=Ne("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=bN(n)),Wt.init(e,n)}),KN=Ne("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=rN),Wt.init(e,n)}),GN=Ne("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=uN),Wt.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv4"})}),YN=Ne("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=dN),Wt.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),XN=Ne("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=fN),Wt.init(e,n)}),JN=Ne("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=hN),Wt.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[o,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${o}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function dy(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const ek=Ne("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=mN),Wt.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{dy(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function tk(e){if(!oy.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return dy(a)}const nk=Ne("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=oy),Wt.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{tk(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),sk=Ne("$ZodE164",(e,n)=>{n.pattern??(n.pattern=gN),Wt.init(e,n)});function ak(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const o=JSON.parse(atob(i));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const rk=Ne("$ZodJWT",(e,n)=>{Wt.init(e,n),e._zod.check=a=>{ak(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),ik=Ne("$ZodUnknown",(e,n)=>{jn.init(e,n),e._zod.parse=a=>a}),lk=Ne("$ZodNever",(e,n)=>{jn.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function B0(e,n,a){e.issues.length&&n.issues.push(...iy(a,e.issues)),n.value[a]=e.value}const ok=Ne("$ZodArray",(e,n)=>{jn.init(e,n),e._zod.parse=(a,i)=>{const o=a.value;if(!Array.isArray(o))return a.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),a;a.value=Array(o.length);const u=[];for(let d=0;d<o.length;d++){const h=o[d],g=n.element._zod.run({value:h,issues:[]},i);g instanceof Promise?u.push(g.then(x=>B0(x,a,d))):B0(g,a,d)}return u.length?Promise.all(u).then(()=>a):a}});function bu(e,n,a,i){e.issues.length&&n.issues.push(...iy(a,e.issues)),e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function fy(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const a=TC(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function hy(e,n,a,i,o,u){const d=[],h=o.keySet,g=o.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(h.has(b))continue;if(x==="never"){d.push(b);continue}const v=g.run({value:n[b],issues:[]},i);v instanceof Promise?e.push(v.then(w=>bu(w,a,b,n))):bu(v,a,b,n)}return d.length&&a.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const ck=Ne("$ZodObject",(e,n)=>{if(jn.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const h=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...h};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=pm(()=>fy(n));qt(e._zod,"propValues",()=>{const h=n.shape,g={};for(const x in h){const b=h[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const v of b.values)g[x].add(v)}}return g});const o=xu,u=n.catchall;let d;e._zod.parse=(h,g)=>{d??(d=i.value);const x=h.value;if(!o(x))return h.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),h;h.value={};const b=[],v=d.shape;for(const w of d.keys){const N=v[w]._zod.run({value:x[w],issues:[]},g);N instanceof Promise?b.push(N.then(j=>bu(j,h,w,x))):bu(N,h,w,x)}return u?hy(b,x,h,g,i.value,e):b.length?Promise.all(b).then(()=>h):h}}),uk=Ne("$ZodObjectJIT",(e,n)=>{ck.init(e,n);const a=e._zod.parse,i=pm(()=>fy(n)),o=w=>{const C=new RN(["shape","payload","ctx"]),N=i.value,j=B=>{const W=L0(B);return`shape[${W}]._zod.run({ value: input[${W}], issues: [] }, ctx)`};C.write("const input = payload.value;");const _=Object.create(null);let M=0;for(const B of N.keys)_[B]=`key_${M++}`;C.write("const newResult = {};");for(const B of N.keys){const W=_[B],L=L0(B);C.write(`const ${W} = ${j(B)};`),C.write(`
        if (${W}.issues.length) {
          payload.issues = payload.issues.concat(${W}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${W}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${W}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const k=C.compile();return(B,W)=>k(w,B,W)};let u;const d=xu,h=!sy.jitless,x=h&&DC.value,b=n.catchall;let v;e._zod.parse=(w,C)=>{v??(v=i.value);const N=w.value;return d(N)?h&&x&&C?.async===!1&&C.jitless!==!0?(u||(u=o(n.shape)),w=u(w,C),b?hy([],N,w,C,v,e):w):a(w,C):(w.issues.push({expected:"object",code:"invalid_type",input:N,inst:e}),w)}});function $0(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const o=e.filter(u=>!Wi(u));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(d=>ni(d,i,ti())))}),n)}const dk=Ne("$ZodUnion",(e,n)=>{jn.init(e,n),qt(e._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),qt(e._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),qt(e._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),qt(e._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${o.map(u=>xm(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(o,u)=>{if(a)return i(o,u);let d=!1;const h=[];for(const g of n.options){const x=g._zod.run({value:o.value,issues:[]},u);if(x instanceof Promise)h.push(x),d=!0;else{if(x.issues.length===0)return x;h.push(x)}}return d?Promise.all(h).then(g=>$0(g,o,e,u)):$0(h,o,e,u)}}),fk=Ne("$ZodIntersection",(e,n)=>{jn.init(e,n),e._zod.parse=(a,i)=>{const o=a.value,u=n.left._zod.run({value:o,issues:[]},i),d=n.right._zod.run({value:o,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([g,x])=>q0(a,g,x)):q0(a,u,d)}});function qh(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(yo(e)&&yo(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),o={...e,...n};for(const u of i){const d=qh(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};o[u]=d.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const o=e[i],u=n[i],d=qh(o,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};a.push(d.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function q0(e,n,a){if(n.issues.length&&e.issues.push(...n.issues),a.issues.length&&e.issues.push(...a.issues),Wi(e))return e;const i=qh(n.value,a.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const hk=Ne("$ZodEnum",(e,n)=>{jn.init(e,n);const a=_C(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(o=>AC.has(typeof o)).map(o=>typeof o=="string"?Mu(o):o.toString()).join("|")})$`),e._zod.parse=(o,u)=>{const d=o.value;return i.has(d)||o.issues.push({code:"invalid_value",values:a,input:d,inst:e}),o}}),mk=Ne("$ZodTransform",(e,n)=>{jn.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new ny(e.constructor.name);const o=n.transform(a.value,a);if(i.async)return(o instanceof Promise?o:Promise.resolve(o)).then(d=>(a.value=d,a));if(o instanceof Promise)throw new Ki;return a.value=o,a}});function F0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const pk=Ne("$ZodOptional",(e,n)=>{jn.init(e,n),e._zod.optin="optional",e._zod.optout="optional",qt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),qt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${xm(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>F0(u,a.value)):F0(o,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),gk=Ne("$ZodNullable",(e,n)=>{jn.init(e,n),qt(e._zod,"optin",()=>n.innerType._zod.optin),qt(e._zod,"optout",()=>n.innerType._zod.optout),qt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${xm(a.source)}|null)$`):void 0}),qt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),xk=Ne("$ZodDefault",(e,n)=>{jn.init(e,n),e._zod.optin="optional",qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>H0(u,n)):H0(o,n)}});function H0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const bk=Ne("$ZodPrefault",(e,n)=>{jn.init(e,n),e._zod.optin="optional",qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),vk=Ne("$ZodNonOptional",(e,n)=>{jn.init(e,n),qt(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>Z0(u,e)):Z0(o,e)}});function Z0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const yk=Ne("$ZodCatch",(e,n)=>{jn.init(e,n),qt(e._zod,"optin",()=>n.innerType._zod.optin),qt(e._zod,"optout",()=>n.innerType._zod.optout),qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(d=>ni(d,i,ti()))},input:a.value}),a.issues=[]),a)):(a.value=o.value,o.issues.length&&(a.value=n.catchValue({...a,error:{issues:o.issues.map(u=>ni(u,i,ti()))},input:a.value}),a.issues=[]),a)}}),wk=Ne("$ZodPipe",(e,n)=>{jn.init(e,n),qt(e._zod,"values",()=>n.in._zod.values),qt(e._zod,"optin",()=>n.in._zod.optin),qt(e._zod,"optout",()=>n.out._zod.optout),qt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(d=>Xc(d,n.in,i)):Xc(u,n.in,i)}const o=n.in._zod.run(a,i);return o instanceof Promise?o.then(u=>Xc(u,n.out,i)):Xc(o,n.out,i)}});function Xc(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const jk=Ne("$ZodReadonly",(e,n)=>{jn.init(e,n),qt(e._zod,"propValues",()=>n.innerType._zod.propValues),qt(e._zod,"values",()=>n.innerType._zod.values),qt(e._zod,"optin",()=>n.innerType._zod.optin),qt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(I0):I0(o)}});function I0(e){return e.value=Object.freeze(e.value),e}const Sk=Ne("$ZodCustom",(e,n)=>{pa.init(e,n),jn.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,o=n.fn(i);if(o instanceof Promise)return o.then(u=>V0(u,a,i,e));V0(o,a,i,e)}});function V0(e,n,a,i){if(!e){const o={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(o.params=i._zod.def.params),n.issues.push(wo(o))}}class Ck{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const o={...i,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function Nk(){return new Ck}const Jc=Nk();function kk(e,n){return new e({type:"string",...Ke(n)})}function Ek(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ke(n)})}function P0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ke(n)})}function _k(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ke(n)})}function Dk(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ke(n)})}function Ak(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ke(n)})}function Tk(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ke(n)})}function Mk(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ke(n)})}function Rk(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ke(n)})}function zk(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ke(n)})}function Ok(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ke(n)})}function Lk(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ke(n)})}function Uk(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ke(n)})}function Bk(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ke(n)})}function $k(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ke(n)})}function qk(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ke(n)})}function Fk(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ke(n)})}function Hk(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ke(n)})}function Zk(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ke(n)})}function Ik(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ke(n)})}function Vk(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ke(n)})}function Pk(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ke(n)})}function Qk(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ke(n)})}function Wk(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ke(n)})}function Kk(e,n){return new e({type:"string",format:"date",check:"string_format",...Ke(n)})}function Gk(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ke(n)})}function Yk(e,n){return new e({type:"string",format:"duration",check:"string_format",...Ke(n)})}function Xk(e){return new e({type:"unknown"})}function Jk(e,n){return new e({type:"never",...Ke(n)})}function my(e,n){return new SN({check:"max_length",...Ke(n),maximum:e})}function vu(e,n){return new CN({check:"min_length",...Ke(n),minimum:e})}function py(e,n){return new NN({check:"length_equals",...Ke(n),length:e})}function eE(e,n){return new kN({check:"string_format",format:"regex",...Ke(n),pattern:e})}function tE(e){return new EN({check:"string_format",format:"lowercase",...Ke(e)})}function nE(e){return new _N({check:"string_format",format:"uppercase",...Ke(e)})}function sE(e,n){return new DN({check:"string_format",format:"includes",...Ke(n),includes:e})}function aE(e,n){return new AN({check:"string_format",format:"starts_with",...Ke(n),prefix:e})}function rE(e,n){return new TN({check:"string_format",format:"ends_with",...Ke(n),suffix:e})}function Do(e){return new MN({check:"overwrite",tx:e})}function iE(e){return Do(n=>n.normalize(e))}function lE(){return Do(e=>e.trim())}function oE(){return Do(e=>e.toLowerCase())}function cE(){return Do(e=>e.toUpperCase())}function uE(e,n,a){return new e({type:"array",element:n,...Ke(a)})}function dE(e,n,a){return new e({type:"custom",check:"custom",fn:n,...Ke(a)})}function fE(e){const n=hE(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(wo(i,a.value,n._zod.def));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=a.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),a.issues.push(wo(o))}},e(a.value,a)));return n}function hE(e,n){const a=new pa({check:"custom",...Ke(n)});return a._zod.check=e,a}const mE=Ne("ZodISODateTime",(e,n)=>{PN.init(e,n),Gt.init(e,n)});function pE(e){return Wk(mE,e)}const gE=Ne("ZodISODate",(e,n)=>{QN.init(e,n),Gt.init(e,n)});function xE(e){return Kk(gE,e)}const bE=Ne("ZodISOTime",(e,n)=>{WN.init(e,n),Gt.init(e,n)});function vE(e){return Gk(bE,e)}const yE=Ne("ZodISODuration",(e,n)=>{KN.init(e,n),Gt.init(e,n)});function wE(e){return Yk(yE,e)}const jE=(e,n)=>{vm.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>qC(e,a)},flatten:{value:a=>$C(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,$h,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,$h,2)}},isEmpty:{get(){return e.issues.length===0}}})},$s=Ne("ZodError",jE,{Parent:Error}),SE=zu($s),CE=Ou($s),NE=Lu($s),kE=Uu($s),EE=VC($s),_E=PC($s),DE=QC($s),AE=WC($s),TE=KC($s),ME=GC($s),RE=YC($s),zE=XC($s),Dn=Ne("ZodType",(e,n)=>(jn.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(ri(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(a,i)=>jr(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>SE(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>NE(e,a,i),e.parseAsync=async(a,i)=>CE(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>kE(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>EE(e,a,i),e.decode=(a,i)=>_E(e,a,i),e.encodeAsync=async(a,i)=>DE(e,a,i),e.decodeAsync=async(a,i)=>AE(e,a,i),e.safeEncode=(a,i)=>TE(e,a,i),e.safeDecode=(a,i)=>ME(e,a,i),e.safeEncodeAsync=async(a,i)=>RE(e,a,i),e.safeDecodeAsync=async(a,i)=>zE(e,a,i),e.refine=(a,i)=>e.check(C_(a,i)),e.superRefine=a=>e.check(N_(a)),e.overwrite=a=>e.check(Do(a)),e.optional=()=>K0(e),e.nullable=()=>G0(e),e.nullish=()=>K0(G0(e)),e.nonoptional=a=>x_(e,a),e.array=()=>s_(e),e.or=a=>i_([e,a]),e.and=a=>o_(e,a),e.transform=a=>Y0(e,d_(a)),e.default=a=>m_(e,a),e.prefault=a=>g_(e,a),e.catch=a=>v_(e,a),e.pipe=a=>Y0(e,a),e.readonly=()=>j_(e),e.describe=a=>{const i=e.clone();return Jc.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){return Jc.get(e)?.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return Jc.get(e);const i=e.clone();return Jc.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),gy=Ne("_ZodString",(e,n)=>{ym.init(e,n),Dn.init(e,n);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(eE(...i)),e.includes=(...i)=>e.check(sE(...i)),e.startsWith=(...i)=>e.check(aE(...i)),e.endsWith=(...i)=>e.check(rE(...i)),e.min=(...i)=>e.check(vu(...i)),e.max=(...i)=>e.check(my(...i)),e.length=(...i)=>e.check(py(...i)),e.nonempty=(...i)=>e.check(vu(1,...i)),e.lowercase=i=>e.check(tE(i)),e.uppercase=i=>e.check(nE(i)),e.trim=()=>e.check(lE()),e.normalize=(...i)=>e.check(iE(...i)),e.toLowerCase=()=>e.check(oE()),e.toUpperCase=()=>e.check(cE())}),OE=Ne("ZodString",(e,n)=>{ym.init(e,n),gy.init(e,n),e.email=a=>e.check(Ek(LE,a)),e.url=a=>e.check(Mk(UE,a)),e.jwt=a=>e.check(Qk(XE,a)),e.emoji=a=>e.check(Rk(BE,a)),e.guid=a=>e.check(P0(Q0,a)),e.uuid=a=>e.check(_k(eu,a)),e.uuidv4=a=>e.check(Dk(eu,a)),e.uuidv6=a=>e.check(Ak(eu,a)),e.uuidv7=a=>e.check(Tk(eu,a)),e.nanoid=a=>e.check(zk($E,a)),e.guid=a=>e.check(P0(Q0,a)),e.cuid=a=>e.check(Ok(qE,a)),e.cuid2=a=>e.check(Lk(FE,a)),e.ulid=a=>e.check(Uk(HE,a)),e.base64=a=>e.check(Ik(KE,a)),e.base64url=a=>e.check(Vk(GE,a)),e.xid=a=>e.check(Bk(ZE,a)),e.ksuid=a=>e.check($k(IE,a)),e.ipv4=a=>e.check(qk(VE,a)),e.ipv6=a=>e.check(Fk(PE,a)),e.cidrv4=a=>e.check(Hk(QE,a)),e.cidrv6=a=>e.check(Zk(WE,a)),e.e164=a=>e.check(Pk(YE,a)),e.datetime=a=>e.check(pE(a)),e.date=a=>e.check(xE(a)),e.time=a=>e.check(vE(a)),e.duration=a=>e.check(wE(a))});function Xs(e){return kk(OE,e)}const Gt=Ne("ZodStringFormat",(e,n)=>{Wt.init(e,n),gy.init(e,n)}),LE=Ne("ZodEmail",(e,n)=>{UN.init(e,n),Gt.init(e,n)}),Q0=Ne("ZodGUID",(e,n)=>{ON.init(e,n),Gt.init(e,n)}),eu=Ne("ZodUUID",(e,n)=>{LN.init(e,n),Gt.init(e,n)}),UE=Ne("ZodURL",(e,n)=>{BN.init(e,n),Gt.init(e,n)}),BE=Ne("ZodEmoji",(e,n)=>{$N.init(e,n),Gt.init(e,n)}),$E=Ne("ZodNanoID",(e,n)=>{qN.init(e,n),Gt.init(e,n)}),qE=Ne("ZodCUID",(e,n)=>{FN.init(e,n),Gt.init(e,n)}),FE=Ne("ZodCUID2",(e,n)=>{HN.init(e,n),Gt.init(e,n)}),HE=Ne("ZodULID",(e,n)=>{ZN.init(e,n),Gt.init(e,n)}),ZE=Ne("ZodXID",(e,n)=>{IN.init(e,n),Gt.init(e,n)}),IE=Ne("ZodKSUID",(e,n)=>{VN.init(e,n),Gt.init(e,n)}),VE=Ne("ZodIPv4",(e,n)=>{GN.init(e,n),Gt.init(e,n)}),PE=Ne("ZodIPv6",(e,n)=>{YN.init(e,n),Gt.init(e,n)}),QE=Ne("ZodCIDRv4",(e,n)=>{XN.init(e,n),Gt.init(e,n)}),WE=Ne("ZodCIDRv6",(e,n)=>{JN.init(e,n),Gt.init(e,n)}),KE=Ne("ZodBase64",(e,n)=>{ek.init(e,n),Gt.init(e,n)}),GE=Ne("ZodBase64URL",(e,n)=>{nk.init(e,n),Gt.init(e,n)}),YE=Ne("ZodE164",(e,n)=>{sk.init(e,n),Gt.init(e,n)}),XE=Ne("ZodJWT",(e,n)=>{rk.init(e,n),Gt.init(e,n)}),JE=Ne("ZodUnknown",(e,n)=>{ik.init(e,n),Dn.init(e,n)});function W0(){return Xk(JE)}const e_=Ne("ZodNever",(e,n)=>{lk.init(e,n),Dn.init(e,n)});function t_(e){return Jk(e_,e)}const n_=Ne("ZodArray",(e,n)=>{ok.init(e,n),Dn.init(e,n),e.element=n.element,e.min=(a,i)=>e.check(vu(a,i)),e.nonempty=a=>e.check(vu(1,a)),e.max=(a,i)=>e.check(my(a,i)),e.length=(a,i)=>e.check(py(a,i)),e.unwrap=()=>e.element});function s_(e,n){return uE(n_,e,n)}const a_=Ne("ZodObject",(e,n)=>{uk.init(e,n),Dn.init(e,n),qt(e,"shape",()=>n.shape),e.keyof=()=>c_(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:W0()}),e.loose=()=>e.clone({...e._zod.def,catchall:W0()}),e.strict=()=>e.clone({...e._zod.def,catchall:t_()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>zC(e,a),e.safeExtend=a=>OC(e,a),e.merge=a=>LC(e,a),e.pick=a=>MC(e,a),e.omit=a=>RC(e,a),e.partial=(...a)=>UC(xy,e,a[0]),e.required=(...a)=>BC(by,e,a[0])});function $u(e,n){const a={type:"object",shape:e??{},...Ke(n)};return new a_(a)}const r_=Ne("ZodUnion",(e,n)=>{dk.init(e,n),Dn.init(e,n),e.options=n.options});function i_(e,n){return new r_({type:"union",options:e,...Ke(n)})}const l_=Ne("ZodIntersection",(e,n)=>{fk.init(e,n),Dn.init(e,n)});function o_(e,n){return new l_({type:"intersection",left:e,right:n})}const Fh=Ne("ZodEnum",(e,n)=>{hk.init(e,n),Dn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,o)=>{const u={};for(const d of i)if(a.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Fh({...n,checks:[],...Ke(o),entries:u})},e.exclude=(i,o)=>{const u={...n.entries};for(const d of i)if(a.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new Fh({...n,checks:[],...Ke(o),entries:u})}});function c_(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Fh({type:"enum",entries:a,...Ke(n)})}const u_=Ne("ZodTransform",(e,n)=>{mk.init(e,n),Dn.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new ny(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(wo(u,a.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=a.value),d.inst??(d.inst=e),a.issues.push(wo(d))}};const o=n.transform(a.value,a);return o instanceof Promise?o.then(u=>(a.value=u,a)):(a.value=o,a)}});function d_(e){return new u_({type:"transform",transform:e})}const xy=Ne("ZodOptional",(e,n)=>{pk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function K0(e){return new xy({type:"optional",innerType:e})}const f_=Ne("ZodNullable",(e,n)=>{gk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function G0(e){return new f_({type:"nullable",innerType:e})}const h_=Ne("ZodDefault",(e,n)=>{xk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function m_(e,n){return new h_({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():ry(n)}})}const p_=Ne("ZodPrefault",(e,n)=>{bk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function g_(e,n){return new p_({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():ry(n)}})}const by=Ne("ZodNonOptional",(e,n)=>{vk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function x_(e,n){return new by({type:"nonoptional",innerType:e,...Ke(n)})}const b_=Ne("ZodCatch",(e,n)=>{yk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function v_(e,n){return new b_({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const y_=Ne("ZodPipe",(e,n)=>{wk.init(e,n),Dn.init(e,n),e.in=n.in,e.out=n.out});function Y0(e,n){return new y_({type:"pipe",in:e,out:n})}const w_=Ne("ZodReadonly",(e,n)=>{jk.init(e,n),Dn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function j_(e){return new w_({type:"readonly",innerType:e})}const S_=Ne("ZodCustom",(e,n)=>{Sk.init(e,n),Dn.init(e,n)});function C_(e,n={}){return dE(S_,e,n)}function N_(e){return fE(e)}function k_(){return Fn({queryKey:Js.providers(),queryFn:({signal:e})=>zS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const E_={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function dt({tone:e="info",heading:n,icon:a,className:i,children:o,...u}){return l.jsxs("div",{role:"status",className:pe("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",E_[e],i),...u,children:[a?l.jsx("span",{"aria-hidden":"true",children:a}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,o?l.jsx("p",{className:"leading-relaxed",children:o}):null]})]})}function wt({label:e,hint:n,error:a,required:i=!1,children:o,className:u}){const d=p.useId(),h=p.isValidElement(o)?o.props??{}:{},g=h.id??d,x=n?`${g}-hint`:void 0,b=a?`${g}-error`:void 0,v=[x,b,h["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:pe("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(o)?p.cloneElement(o,{id:g,required:i||h.required,"aria-describedby":v,"aria-invalid":a?!0:h["aria-invalid"]}):o,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,a?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:a}):null]})}const vy="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",xt=p.forwardRef(({className:e,invalid:n=!1,...a},i)=>l.jsx("input",{ref:i,className:pe(vy,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...a}));xt.displayName="Input";const __=p.forwardRef(({className:e,invalid:n=!1,rows:a=4,...i},o)=>l.jsx("textarea",{ref:o,rows:a,className:pe(vy,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));__.displayName="TextArea";const D_=$u({email:Xs().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:Xs().min(1,"Enter your password.")});function A_(){const e=Qn(),n=Qt(),a=ht(),i=Zv(),{session:o,isLoading:u,isError:d}=i,h=!o&&!u&&!d,g=um(h),x=k_(),b=x.data?.providers??[],v=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,C=p.useMemo(()=>{const L=new URLSearchParams(e.search);return vo(L.get("redirectTo"))},[e.search]);p.useEffect(()=>{o&&n(gu(o.return_to,C),{replace:!0})},[n,C,o]),p.useEffect(()=>{h&&(g.isPending||g.isError||g.data?.requires_setup&&n(Vv(C),{replace:!0}))},[n,C,g.data?.requires_setup,g.isError,g.isPending,h]);const[N,j]=p.useState(null),[_,M]=p.useState(!1);if(p.useEffect(()=>{j(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(d)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(De,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&h)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&h)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(De,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const k=async L=>{L.preventDefault(),j(null);const V=new FormData(L.currentTarget),A=Object.fromEntries(V.entries()),P=D_.safeParse(A);if(!P.success){const ee=P.error.issues[0]?.message??"Invalid input.";j(ee);return}const{email:Q,password:Y}=P.data,X=typeof A.redirectTo=="string"?A.redirectTo:null,U=vo(X);M(!0);try{const ee=await LS({email:Q,password:Y});a.setQueryData(Js.detail(),ee),n(gu(ee.return_to,U),{replace:!0})}catch(ee){if(ee instanceof _n){const de=ee.problem?.detail??ee.message??"Unable to sign in.";j(de)}else ee instanceof Error?j(ee.message):j("Unable to sign in.")}finally{M(!1)}},B=!!N&&!_,W=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(dt,{tone:"warning",className:"mt-6",children:w}):null,W?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(L=>l.jsxs("a",{href:L.start_url??"#",className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",L.label]},L.id))}):null,v?l.jsx(dt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:k,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:C}),l.jsx(wt,{label:"Email address",required:!0,children:l.jsx(xt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:_})}),l.jsx(wt,{label:"Password",required:!0,children:l.jsx(xt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:_})}),B?l.jsx(dt,{tone:"danger",children:N}):null,l.jsx(De,{type:"submit",className:"w-full justify-center",isLoading:_,disabled:_,children:_?"Signing in":"Continue"})]})]})})}function T_(){const e=Qt(),n=Qn(),a=ht(),[i,o]=p.useState(null);return p.useEffect(()=>{let u=!1;const d=new URLSearchParams(n.search),h=d.get("code")??"",g=d.get("state")??"";if(!h||!g){o("Missing authorization details from the identity provider.");return}async function x(){try{const b=await BS({code:h,state:g});if(u)return;a.setQueryData(Js.detail(),b);const v=gu(b.return_to,d.get("next"));e(v,{replace:!0})}catch(b){if(u)return;b instanceof _n?o(b.problem?.detail??b.message):b instanceof Error?o(b.message):o("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,a]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Nt,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(De,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Nt,{title:"Finishing sign-in",variant:"loading"})})}const M_=$u({displayName:Xs().min(1,"Display name is required."),email:Xs().min(1,"Email is required.").email("Enter a valid email address."),password:Xs().min(12,"Use at least 12 characters."),confirmPassword:Xs().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function R_(){const e=Qn(),n=Qt(),a=ht(),i=um(!0),o=p.useMemo(()=>{const b=new URLSearchParams(e.search);return vo(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(Iv(o),{replace:!0})},[n,o,i.data?.requires_setup,i.isError,i.isPending]);const[u,d]=p.useState(null),[h,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(De,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),d(null);const v=new FormData(b.currentTarget),w=Object.fromEntries(v.entries()),C=M_.safeParse(w);if(!C.success){const j=C.error.issues[0]?.message??"Invalid input.";d(j);return}g(!0);const N=vo(w.redirectTo);try{const j=await PS({display_name:C.data.displayName,email:C.data.email,password:C.data.password});a.setQueryData(Js.detail(),j),n(gu(j.return_to,N),{replace:!0})}catch(j){if(j instanceof _n){const _=j.problem?.detail??j.message??"Setup failed. Try again.";d(_)}else j instanceof Error?d(j.message):d("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:o}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(wt,{label:"Display name",required:!0,children:l.jsx(xt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:h})}),l.jsx(wt,{label:"Email",required:!0,children:l.jsx(xt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:h})})]}),l.jsx(wt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(xt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:h})}),l.jsx(wt,{label:"Confirm password",required:!0,children:l.jsx(xt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:h})}),u?l.jsx(dt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(De,{type:"submit",isLoading:h,disabled:h,children:h?"Creating administrator":"Create administrator"})})]})]})})}function yy({id:e,value:n,defaultValue:a="",placeholder:i="Search",ariaLabel:o,shortcutHint:u="K",shortcutKey:d="k",enableShortcut:h=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:v,variant:w="default",isLoading:C=!1,loadingLabel:N="Loading suggestions",filters:j,onSelectFilter:_,emptyState:M,onChange:k,onSubmit:B,onClear:W,onFocus:L,onBlur:V,suggestions:A=[],onSelectSuggestion:P,renderSuggestion:Q}){const Y=p.useId(),X=e??Y,U=`${Y}-suggestions`,ee=p.useRef(null),de=n!==void 0,[be,D]=p.useState(a),[R,te]=p.useState(!1),[he,ae]=p.useState(0),E=de?n??"":be,Z=A.length>0,le=!!j?.length,F=R&&(Z||C||!!M||le),J=R&&!Z&&!C&&!!M,$=!!(W||!de),K=u||"K",H=o??i;p.useEffect(()=>{de||D(a)},[a,de]),p.useEffect(()=>{ae(0)},[A.length,E]),p.useEffect(()=>{if(!h||typeof window>"u")return;const Ee=He=>{(He.metaKey||He.ctrlKey)&&He.key.toLowerCase()===d.toLowerCase()&&(He.preventDefault(),ee.current?.focus())};return window.addEventListener("keydown",Ee),()=>window.removeEventListener("keydown",Ee)},[h,d]);const ne=Ee=>{Ee.preventDefault();const He=E.trim();!He&&!B||B?.(He)},Se=Ee=>{de||D(Ee),k?.(Ee)},Be=()=>{E&&(de||D(""),k?.(""),W?.(),ee.current?.focus())},Qe=Ee=>{Ee&&(P?.(Ee),Ee.action?.(),te(!1),ee.current?.blur())},rt=Ee=>{if(!F||!Z){Ee.key==="Escape"&&(te(!1),Ee.currentTarget.blur());return}if(Ee.key==="ArrowDown"){Ee.preventDefault(),ae(He=>(He+1)%A.length);return}if(Ee.key==="ArrowUp"){Ee.preventDefault(),ae(He=>(He-1+A.length)%A.length);return}if(Ee.key==="Enter"){Ee.preventDefault(),Qe(A[he]);return}Ee.key==="Escape"&&(Ee.preventDefault(),te(!1),Ee.currentTarget.blur())},ye=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:pe("relative",v),children:[l.jsx("div",{className:pe("group/search overflow-hidden",ye,F&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":H,onSubmit:ne,children:[l.jsx("label",{htmlFor:X,className:"sr-only",children:H}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(O_,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:ee,id:X,type:"search",value:E,onChange:Ee=>Se(Ee.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onFocus:()=>{te(!0),L?.(),Z||ae(0)},onBlur:()=>{te(!1),V?.()},onKeyDown:rt,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":F,"aria-controls":F?U:void 0,"aria-activedescendant":F&&Z?`${U}-option-${he}`:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[$&&E?l.jsx("button",{type:"button",onClick:Be,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(L_,{className:"h-3.5 w-3.5"})}):null,C?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":N,children:l.jsx(U_,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:K})]})]})}),F?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[Z?l.jsx("ul",{id:U,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:A.map((Ee,He)=>{const We=He===he,Je=Q?.({suggestion:Ee,active:We})??l.jsx(z_,{suggestion:Ee,active:We});return l.jsx("li",{children:l.jsx("button",{id:`${U}-option-${He}`,type:"button",role:"option","aria-selected":We,onMouseEnter:()=>ae(He),onMouseDown:_t=>_t.preventDefault(),onClick:()=>Qe(Ee),className:pe("flex w-full px-5 py-3 text-left transition",We?"bg-brand-50/60":"hover:bg-slate-50/80"),children:Je})},Ee.id)})}):null,J?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:M}):null,le?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),j?.map(Ee=>l.jsx("button",{type:"button",onMouseDown:He=>He.preventDefault(),onClick:()=>_?.(Ee),className:pe("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ee.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ee.label},Ee.id))]})}):null]}):null]})}function z_({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:pe("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function O_({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function L_({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function U_({className:e="h-4 w-4"}){return l.jsxs("svg",{className:pe("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function wy({brand:e,leading:n,actions:a,trailing:i,search:o,secondaryContent:u}){const d=!!o,h=o?{...o,className:pe("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",o.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:pe("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",d?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),h?l.jsx(yy,{...h}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[a,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function jy({displayName:e,email:n,actions:a=[]}){const[i,o]=p.useState(!1),[u,d]=p.useState(!1),h=p.useRef(null),g=p.useRef(null),x=Qt(),b=p.useMemo(()=>B_(e||n),[e,n]),v=p.useCallback(()=>o(!1),[]);p.useEffect(()=>{if(!i)return;const N=_=>{const M=_.target;M&&(g.current?.contains(M)||h.current?.contains(M)||v())},j=_=>{_.key==="Escape"&&v()};return window.addEventListener("mousedown",N),window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",N),window.removeEventListener("touchstart",N),window.removeEventListener("keydown",j)}},[v,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(N=>{v(),N()},[v]),C=p.useCallback(async()=>{u||(v(),d(!0),x("/logout",{replace:!0}))},[v,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:h,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>o(N=>!N),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(q_,{className:pe("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:a.map(N=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(N.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:N.icon??N.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:N.label}),N.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:N.description}):null]})]})},N.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:C,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx($_,{}):null]})})]}):null]})}function B_(e){const n=e.split(" ").map(a=>a.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function $_(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function q_({className:e}){return l.jsx("svg",{className:pe("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}var js=vv();const F_="1.6.2",H_=F_.trim(),Z_=H_||"unknown";async function I_(e={}){const{data:n}=await Pe.GET("/api/v1/system/safe-mode",{signal:e.signal}),a=n??{},i=!!a.enabled,o=typeof a.detail=="string"&&a.detail.trim().length>0?a.detail.trim():sl;return{enabled:i,detail:o}}async function V_(e={}){const{data:n}=await Pe.GET("/api/v1/meta/versions",{signal:e.signal}),a=n??{};return{ade_api:X0(a.ade_api),ade_engine:X0(a.ade_engine)}}const sl="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function X0(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const J0=["system","safe-mode"],eb=["system","versions"];function Sy(){const n=ht().getQueryData(J0);return Fn({queryKey:J0,queryFn:({signal:a})=>I_({signal:a}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function P_(e={}){const a=ht().getQueryData(eb);return Fn({queryKey:eb,queryFn:({signal:i})=>V_({signal:i}),initialData:a,staleTime:300*1e3,enabled:e.enabled??!0})}function Cy({open:e,onClose:n}){const a=p.useRef(null),i=p.useRef(null),o=P_({enabled:e}),u=o.isError,d=o.data?.ade_api??(o.isPending?"Loading...":"unknown"),h=o.data?.ade_engine??(o.isPending?"Loading...":"unknown");if(p.useEffect(()=>{if(!e)return;const x=b=>{b.key==="Escape"&&n()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,n]),p.useEffect(()=>{if(!e)return;const{body:x}=document,b=x.style.overflow;return x.style.overflow="hidden",()=>{x.style.overflow=b}},[e]),p.useEffect(()=>{e&&i.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const g=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",role:"presentation",onMouseDown:x=>{x.target===x.currentTarget&&n()},children:l.jsxs("div",{ref:a,role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-slate-200/80 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"About"}),l.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-slate-900",children:"ADE versions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),l.jsx(De,{ref:i,variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(gh,{label:"ade-web",value:Z_,hint:"Frontend build"}),l.jsx(gh,{label:"ade-api",value:d,hint:"Backend service"}),l.jsx(gh,{label:"ade-engine",value:h,hint:"Engine runtime"})]}),u?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(dt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),l.jsx(De,{size:"sm",variant:"secondary",onClick:()=>o.refetch(),children:"Retry"})]}):null]})});return js.createPortal(g,document.body)}function gh({label:e,value:n,hint:a}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"text-xs text-slate-500",children:a})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("code",{className:"rounded bg-slate-900/90 px-2.5 py-1 text-xs font-mono text-white shadow-sm",children:n})})]})}function Q_({title:e,...n}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":e?void 0:!0,role:e?"img":"presentation",...n,children:[e?l.jsx("title",{children:e}):null,l.jsx("path",{d:"M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"})]})}function Ny({children:e,sidePanel:n,actions:a,search:i}){const o=nl(),u=Qt(),[d,h]=p.useState(!1),g=o.user.display_name||o.user.email||"Signed in",x=o.user.email??"";return l.jsxs(l.Fragment,{children:[l.jsx(Cy,{open:d,onClose:()=>h(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(wy,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(Q_,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:a?l.jsx("div",{className:"flex items-center gap-2",children:a}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(jy,{displayName:g,email:x,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>h(!0)}]})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})]})}const W_="K",K_="Ctrl+K";function ky({macLabel:e=W_,windowsLabel:n=K_}={}){const[a,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const o=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(o);i(u?e:n)},[e,n]),a}function G_(){return l.jsx(Au,{children:l.jsx(Y_,{})})}function Y_(){const e=Qt(),n=nl(),a=hm(),i=Jv(),[o,u]=p.useState(null),[d,h]=p.useState(null),g=p.useMemo(()=>(n.user.permissions??[]).map(U=>U.toLowerCase()),[n.user.permissions]),x=g.includes("workspaces.create")||g.includes("workspaces.manage_all"),[b,v]=p.useState(""),w=ky(),C=a.data,N=p.useMemo(()=>C?.items??[],[C?.items]),j=b.trim().toLowerCase(),_=p.useMemo(()=>j?N.filter(U=>{const ee=U.name.toLowerCase(),de=U.slug?.toLowerCase()??"";return ee.includes(j)||de.includes(j)}):N,[N,j]),M=p.useCallback(U=>e(mm(U)),[e]),k=x?l.jsx(De,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,B=p.useCallback(()=>{if(!j)return;const U=_[0];U&&M(U.id)},[_,j,M]),W=p.useCallback(()=>v(""),[]),V=(j?_:N).slice(0,5).map(U=>({id:U.id,label:U.name,description:U.slug?`Slug  ${U.slug}`:"Workspace"})),A=p.useCallback(U=>{v(""),M(U.id)},[M]),P=p.useCallback(async U=>{h(null),u(U.id);try{await i.mutateAsync(U.id),ey(U.id)}catch(ee){console.warn("workspaces.set_default.failed",ee),h("Unable to set the default workspace. Please try again.")}finally{u(null)}},[i]),Q={value:b,onChange:v,onSubmit:B,placeholder:"Search workspaces or jump to one instantly",shortcutHint:w,scopeLabel:"Workspace directory",suggestions:V,onSelectSuggestion:A,onClear:W},Y={...Q,shortcutHint:void 0,onClear:W,enableShortcut:!1,variant:"minimal"};if(a.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Nt,{title:"Loading workspaces",variant:"loading"})});if(a.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Nt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(De,{variant:"secondary",onClick:()=>a.refetch(),children:"Retry"})})});const X=N.length===0?x?l.jsx(J_,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(Nt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):_.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(Nt,{title:`No workspaces matching "${b}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(De,{variant:"secondary",onClick:W,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),d?l.jsx(dt,{tone:"danger",heading:"We couldn't update your default workspace",children:d}):null,l.jsx(yy,{...Y,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:_.map(U=>{const ee=i.isPending&&o===U.id;return l.jsxs("div",{className:"group relative rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-white",children:[l.jsxs("button",{type:"button",onClick:()=>M(U.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${U.name}`,children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"space-y-1 pr-24",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:U.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",U.slug]})]})}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:U.permissions.length>0?U.permissions.join(", "):"None"})]}),l.jsx("div",{className:"absolute right-5 top-5",children:U.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):l.jsx(De,{variant:"secondary",size:"sm",isLoading:ee,disabled:ee,onClick:()=>void P(U),children:"Set as default"})})]},U.id)})})]});return l.jsx(Ny,{actions:k,search:Q,sidePanel:l.jsx(X_,{canCreate:x,onCreate:()=>e("/workspaces/new")}),children:X})}function X_({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(De,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Add at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function J_({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(De,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var Ao=e=>e.type==="checkbox",Yr=e=>e instanceof Date,is=e=>e==null;const Ey=e=>typeof e=="object";var gn=e=>!is(e)&&!Array.isArray(e)&&Ey(e)&&!Yr(e),e2=e=>gn(e)&&e.target?Ao(e.target)?e.target.checked:e.target.value:e,t2=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,n2=(e,n)=>e.has(t2(n)),s2=e=>{const n=e.constructor&&e.constructor.prototype;return gn(n)&&n.hasOwnProperty("isPrototypeOf")},wm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(wm&&(e instanceof Blob||i))&&(a||gn(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!s2(e))n=e;else for(const o in e)e.hasOwnProperty(o)&&(n[o]=kn(e[o]));else return e;return n}var qu=e=>/^\w*$/.test(e),ln=e=>e===void 0,jm=e=>Array.isArray(e)?e.filter(Boolean):[],Sm=e=>jm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(e,n,a)=>{if(!n||!gn(e))return a;const i=(qu(n)?[n]:Sm(n)).reduce((o,u)=>is(o)?o:o[u],e);return ln(i)||i===e?ln(e[n])?a:e[n]:i},fa=e=>typeof e=="boolean",Bt=(e,n,a)=>{let i=-1;const o=qu(n)?[n]:Sm(n),u=o.length,d=u-1;for(;++i<u;){const h=o[i];let g=a;if(i!==d){const x=e[h];g=gn(x)||Array.isArray(x)?x:isNaN(+o[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const tb={BLUR:"blur",FOCUS_OUT:"focusout"},Gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ua={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a2=Rt.createContext(null);a2.displayName="HookFormContext";var r2=(e,n,a,i=!0)=>{const o={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(o,u,{get:()=>{const d=u;return n._proxyFormState[d]!==Gs.all&&(n._proxyFormState[d]=!i||Gs.all),e[d]}});return o};const i2=typeof window<"u"?Rt.useLayoutEffect:Rt.useEffect;var ws=e=>typeof e=="string",l2=(e,n,a,i,o)=>ws(e)?(i&&n.watch.add(e),Ue(a,e,o)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Ue(a,u))):(i&&(n.watchAll=!0),a),Hh=e=>is(e)||!Ey(e);function vr(e,n,a=new WeakSet){if(Hh(e)||Hh(n))return e===n;if(Yr(e)&&Yr(n))return e.getTime()===n.getTime();const i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const d=e[u];if(!o.includes(u))return!1;if(u!=="ref"){const h=n[u];if(Yr(d)&&Yr(h)||gn(d)&&gn(h)||Array.isArray(d)&&Array.isArray(h)?!vr(d,h,a):d!==h)return!1}}return!0}var Cm=(e,n,a,i,o)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:o||!0}}:{},co=e=>Array.isArray(e)?e:[e],nb=()=>{let e=[];return{get observers(){return e},next:o=>{for(const u of e)u.next&&u.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(u=>u!==o)}}),unsubscribe:()=>{e=[]}}};function _y(e,n){const a={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],u=n[i];if(o&&gn(o)&&u){const d=_y(o,u);gn(d)&&(a[i]=d)}else e[i]&&(a[i]=u)}return a}var rs=e=>gn(e)&&!Object.keys(e).length,Nm=e=>e.type==="file",Ys=e=>typeof e=="function",yu=e=>{if(!wm)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Dy=e=>e.type==="select-multiple",km=e=>e.type==="radio",o2=e=>km(e)||Ao(e),xh=e=>yu(e)&&e.isConnected;function c2(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=ln(e)?i++:e[n[i++]];return e}function u2(e){for(const n in e)if(e.hasOwnProperty(n)&&!ln(e[n]))return!1;return!0}function pn(e,n){const a=Array.isArray(n)?n:qu(n)?[n]:Sm(n),i=a.length===1?e:c2(e,a),o=a.length-1,u=a[o];return i&&delete i[u],o!==0&&(gn(i)&&rs(i)||Array.isArray(i)&&u2(i))&&pn(e,a.slice(0,-1)),e}var d2=e=>{for(const n in e)if(Ys(e[n]))return!0;return!1};function Ay(e){return Array.isArray(e)||gn(e)&&!d2(e)}function Zh(e,n={}){for(const a in e)Ay(e[a])?(n[a]=Array.isArray(e[a])?[]:{},Zh(e[a],n[a])):ln(e[a])||(n[a]=!0);return n}function Qi(e,n,a){a||(a=Zh(n));for(const i in e)Ay(e[i])?ln(n)||Hh(a[i])?a[i]=Zh(e[i],Array.isArray(e[i])?[]:{}):Qi(e[i],is(n)?{}:n[i],a[i]):a[i]=!vr(e[i],n[i]);return a}const sb={value:!1,isValid:!1},ab={value:!0,isValid:!0};var Ty=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ln(e[0].attributes.value)?ln(e[0].value)||e[0].value===""?ab:{value:e[0].value,isValid:!0}:ab:sb}return sb},My=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>ln(e)?e:n?e===""?NaN:e&&+e:a&&ws(e)?new Date(e):i?i(e):e;const rb={isValid:!1,value:null};var Ry=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,rb):rb;function ib(e){const n=e.ref;return Nm(n)?n.files:km(n)?Ry(e.refs).value:Dy(n)?[...n.selectedOptions].map(({value:a})=>a):Ao(n)?Ty(e.refs).value:My(ln(n.value)?e.ref.value:n.value,e)}var f2=(e,n,a,i)=>{const o={};for(const u of e){const d=Ue(n,u);d&&Bt(o,u,d._f)}return{criteriaMode:a,names:[...e],fields:o,shouldUseNativeValidation:i}},wu=e=>e instanceof RegExp,io=e=>ln(e)?e:wu(e)?e.source:gn(e)?wu(e.value)?e.value.source:e.value:e,lb=e=>({isOnSubmit:!e||e===Gs.onSubmit,isOnBlur:e===Gs.onBlur,isOnChange:e===Gs.onChange,isOnAll:e===Gs.all,isOnTouch:e===Gs.onTouched});const ob="AsyncFunction";var h2=e=>!!e&&!!e.validate&&!!(Ys(e.validate)&&e.validate.constructor.name===ob||gn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===ob)),m2=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cb=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const uo=(e,n,a,i)=>{for(const o of a||Object.keys(e)){const u=Ue(e,o);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],o)&&!i)return!0;if(d.ref&&n(d.ref,d.name)&&!i)return!0;if(uo(h,n))break}else if(gn(h)&&uo(h,n))break}}};function ub(e,n,a){const i=Ue(e,a);if(i||qu(a))return{error:i,name:a};const o=a.split(".");for(;o.length;){const u=o.join("."),d=Ue(n,u),h=Ue(e,u);if(d&&!Array.isArray(d)&&a!==u)return{name:a};if(h&&h.type)return{name:u,error:h};if(h&&h.root&&h.root.type)return{name:`${u}.root`,error:h.root};o.pop()}return{name:a}}var p2=(e,n,a,i)=>{a(e);const{name:o,...u}=e;return rs(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===(!i||Gs.all))},g2=(e,n,a)=>!e||!n||e===n||co(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),x2=(e,n,a,i,o)=>o.isOnAll?!1:!a&&o.isOnTouch?!(n||e):(a?i.isOnBlur:o.isOnBlur)?!e:(a?i.isOnChange:o.isOnChange)?e:!0,b2=(e,n)=>!jm(Ue(e,n)).length&&pn(e,n),v2=(e,n,a)=>{const i=co(Ue(e,a));return Bt(i,"root",n[a]),Bt(e,a,i),e};function db(e,n,a="validate"){if(ws(e)||Array.isArray(e)&&e.every(ws)||fa(e)&&!e)return{type:a,message:ws(e)?e:"",ref:n}}var Zi=e=>gn(e)&&!wu(e)?e:{value:e,message:""},fb=async(e,n,a,i,o,u)=>{const{ref:d,refs:h,required:g,maxLength:x,minLength:b,min:v,max:w,pattern:C,validate:N,name:j,valueAsNumber:_,mount:M}=e._f,k=Ue(a,j);if(!M||n.has(j))return{};const B=h?h[0]:d,W=U=>{o&&B.reportValidity&&(B.setCustomValidity(fa(U)?"":U||""),B.reportValidity())},L={},V=km(d),A=Ao(d),P=V||A,Q=(_||Nm(d))&&ln(d.value)&&ln(k)||yu(d)&&d.value===""||k===""||Array.isArray(k)&&!k.length,Y=Cm.bind(null,j,i,L),X=(U,ee,de,be=Ua.maxLength,D=Ua.minLength)=>{const R=U?ee:de;L[j]={type:U?be:D,message:R,ref:d,...Y(U?be:D,R)}};if(u?!Array.isArray(k)||!k.length:g&&(!P&&(Q||is(k))||fa(k)&&!k||A&&!Ty(h).isValid||V&&!Ry(h).isValid)){const{value:U,message:ee}=ws(g)?{value:!!g,message:g}:Zi(g);if(U&&(L[j]={type:Ua.required,message:ee,ref:B,...Y(Ua.required,ee)},!i))return W(ee),L}if(!Q&&(!is(v)||!is(w))){let U,ee;const de=Zi(w),be=Zi(v);if(!is(k)&&!isNaN(k)){const D=d.valueAsNumber||k&&+k;is(de.value)||(U=D>de.value),is(be.value)||(ee=D<be.value)}else{const D=d.valueAsDate||new Date(k),R=ae=>new Date(new Date().toDateString()+" "+ae),te=d.type=="time",he=d.type=="week";ws(de.value)&&k&&(U=te?R(k)>R(de.value):he?k>de.value:D>new Date(de.value)),ws(be.value)&&k&&(ee=te?R(k)<R(be.value):he?k<be.value:D<new Date(be.value))}if((U||ee)&&(X(!!U,de.message,be.message,Ua.max,Ua.min),!i))return W(L[j].message),L}if((x||b)&&!Q&&(ws(k)||u&&Array.isArray(k))){const U=Zi(x),ee=Zi(b),de=!is(U.value)&&k.length>+U.value,be=!is(ee.value)&&k.length<+ee.value;if((de||be)&&(X(de,U.message,ee.message),!i))return W(L[j].message),L}if(C&&!Q&&ws(k)){const{value:U,message:ee}=Zi(C);if(wu(U)&&!k.match(U)&&(L[j]={type:Ua.pattern,message:ee,ref:d,...Y(Ua.pattern,ee)},!i))return W(ee),L}if(N){if(Ys(N)){const U=await N(k,a),ee=db(U,B);if(ee&&(L[j]={...ee,...Y(Ua.validate,ee.message)},!i))return W(ee.message),L}else if(gn(N)){let U={};for(const ee in N){if(!rs(U)&&!i)break;const de=db(await N[ee](k,a),B,ee);de&&(U={...de,...Y(ee,de.message)},W(de.message),i&&(L[j]=U))}if(!rs(U)&&(L[j]={ref:B,...U},!i))return L}}return W(!0),L};const y2={mode:Gs.onSubmit,reValidateMode:Gs.onChange,shouldFocusError:!0};function w2(e={}){let n={...y2,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ys(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=gn(n.defaultValues)||gn(n.values)?kn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:kn(o),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...b};const w={array:nb(),state:nb()},C=n.criteriaMode===Gs.all,N=T=>I=>{clearTimeout(x),x=setTimeout(T,I)},j=async T=>{if(!n.disabled&&(b.isValid||v.isValid||T)){const I=n.resolver?rs((await A()).errors):await Q(i,!0);I!==a.isValid&&w.state.next({isValid:I})}},_=(T,I)=>{!n.disabled&&(b.isValidating||b.validatingFields||v.isValidating||v.validatingFields)&&((T||Array.from(h.mount)).forEach(ce=>{ce&&(I?Bt(a.validatingFields,ce,I):pn(a.validatingFields,ce))}),w.state.next({validatingFields:a.validatingFields,isValidating:!rs(a.validatingFields)}))},M=(T,I=[],ce,_e,je=!0,Ce=!0)=>{if(_e&&ce&&!n.disabled){if(d.action=!0,Ce&&Array.isArray(Ue(i,T))){const ze=ce(Ue(i,T),_e.argA,_e.argB);je&&Bt(i,T,ze)}if(Ce&&Array.isArray(Ue(a.errors,T))){const ze=ce(Ue(a.errors,T),_e.argA,_e.argB);je&&Bt(a.errors,T,ze),b2(a.errors,T)}if((b.touchedFields||v.touchedFields)&&Ce&&Array.isArray(Ue(a.touchedFields,T))){const ze=ce(Ue(a.touchedFields,T),_e.argA,_e.argB);je&&Bt(a.touchedFields,T,ze)}(b.dirtyFields||v.dirtyFields)&&(a.dirtyFields=Qi(o,u)),w.state.next({name:T,isDirty:X(T,I),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else Bt(u,T,I)},k=(T,I)=>{Bt(a.errors,T,I),w.state.next({errors:a.errors})},B=T=>{a.errors=T,w.state.next({errors:a.errors,isValid:!1})},W=(T,I,ce,_e)=>{const je=Ue(i,T);if(je){const Ce=Ue(u,T,ln(ce)?Ue(o,T):ce);ln(Ce)||_e&&_e.defaultChecked||I?Bt(u,T,I?Ce:ib(je._f)):de(T,Ce),d.mount&&j()}},L=(T,I,ce,_e,je)=>{let Ce=!1,ze=!1;const ge={name:T};if(!n.disabled){if(!ce||_e){(b.isDirty||v.isDirty)&&(ze=a.isDirty,a.isDirty=ge.isDirty=X(),Ce=ze!==ge.isDirty);const ke=vr(Ue(o,T),I);ze=!!Ue(a.dirtyFields,T),ke?pn(a.dirtyFields,T):Bt(a.dirtyFields,T,!0),ge.dirtyFields=a.dirtyFields,Ce=Ce||(b.dirtyFields||v.dirtyFields)&&ze!==!ke}if(ce){const ke=Ue(a.touchedFields,T);ke||(Bt(a.touchedFields,T,ce),ge.touchedFields=a.touchedFields,Ce=Ce||(b.touchedFields||v.touchedFields)&&ke!==ce)}Ce&&je&&w.state.next(ge)}return Ce?ge:{}},V=(T,I,ce,_e)=>{const je=Ue(a.errors,T),Ce=(b.isValid||v.isValid)&&fa(I)&&a.isValid!==I;if(n.delayError&&ce?(g=N(()=>k(T,ce)),g(n.delayError)):(clearTimeout(x),g=null,ce?Bt(a.errors,T,ce):pn(a.errors,T)),(ce?!vr(je,ce):je)||!rs(_e)||Ce){const ze={..._e,...Ce&&fa(I)?{isValid:I}:{},errors:a.errors,name:T};a={...a,...ze},w.state.next(ze)}},A=async T=>{_(T,!0);const I=await n.resolver(u,n.context,f2(T||h.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return _(T),I},P=async T=>{const{errors:I}=await A(T);if(T)for(const ce of T){const _e=Ue(I,ce);_e?Bt(a.errors,ce,_e):pn(a.errors,ce)}else a.errors=I;return I},Q=async(T,I,ce={valid:!0})=>{for(const _e in T){const je=T[_e];if(je){const{_f:Ce,...ze}=je;if(Ce){const ge=h.array.has(Ce.name),ke=je._f&&h2(je._f);ke&&b.validatingFields&&_([Ce.name],!0);const Oe=await fb(je,h.disabled,u,C,n.shouldUseNativeValidation&&!I,ge);if(ke&&b.validatingFields&&_([Ce.name]),Oe[Ce.name]&&(ce.valid=!1,I))break;!I&&(Ue(Oe,Ce.name)?ge?v2(a.errors,Oe,Ce.name):Bt(a.errors,Ce.name,Oe[Ce.name]):pn(a.errors,Ce.name))}!rs(ze)&&await Q(ze,I,ce)}}return ce.valid},Y=()=>{for(const T of h.unMount){const I=Ue(i,T);I&&(I._f.refs?I._f.refs.every(ce=>!xh(ce)):!xh(I._f.ref))&&K(T)}h.unMount=new Set},X=(T,I)=>!n.disabled&&(T&&I&&Bt(u,T,I),!vr(ae(),o)),U=(T,I,ce)=>l2(T,h,{...d.mount?u:ln(I)?o:ws(T)?{[T]:I}:I},ce,I),ee=T=>jm(Ue(d.mount?u:o,T,n.shouldUnregister?Ue(o,T,[]):[])),de=(T,I,ce={})=>{const _e=Ue(i,T);let je=I;if(_e){const Ce=_e._f;Ce&&(!Ce.disabled&&Bt(u,T,My(I,Ce)),je=yu(Ce.ref)&&is(I)?"":I,Dy(Ce.ref)?[...Ce.ref.options].forEach(ze=>ze.selected=je.includes(ze.value)):Ce.refs?Ao(Ce.ref)?Ce.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(je)?ze.checked=!!je.find(ge=>ge===ze.value):ze.checked=je===ze.value||!!je)}):Ce.refs.forEach(ze=>ze.checked=ze.value===je):Nm(Ce.ref)?Ce.ref.value="":(Ce.ref.value=je,Ce.ref.type||w.state.next({name:T,values:kn(u)})))}(ce.shouldDirty||ce.shouldTouch)&&L(T,je,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&he(T)},be=(T,I,ce)=>{for(const _e in I){if(!I.hasOwnProperty(_e))return;const je=I[_e],Ce=T+"."+_e,ze=Ue(i,Ce);(h.array.has(T)||gn(je)||ze&&!ze._f)&&!Yr(je)?be(Ce,je,ce):de(Ce,je,ce)}},D=(T,I,ce={})=>{const _e=Ue(i,T),je=h.array.has(T),Ce=kn(I);Bt(u,T,Ce),je?(w.array.next({name:T,values:kn(u)}),(b.isDirty||b.dirtyFields||v.isDirty||v.dirtyFields)&&ce.shouldDirty&&w.state.next({name:T,dirtyFields:Qi(o,u),isDirty:X(T,Ce)})):_e&&!_e._f&&!is(Ce)?be(T,Ce,ce):de(T,Ce,ce),cb(T,h)&&w.state.next({...a,name:T}),w.state.next({name:d.mount?T:void 0,values:kn(u)})},R=async T=>{d.mount=!0;const I=T.target;let ce=I.name,_e=!0;const je=Ue(i,ce),Ce=ke=>{_e=Number.isNaN(ke)||Yr(ke)&&isNaN(ke.getTime())||vr(ke,Ue(u,ce,ke))},ze=lb(n.mode),ge=lb(n.reValidateMode);if(je){let ke,Oe;const we=I.type?ib(je._f):e2(T),Te=T.type===tb.BLUR||T.type===tb.FOCUS_OUT,Ze=!m2(je._f)&&!n.resolver&&!Ue(a.errors,ce)&&!je._f.deps||x2(Te,Ue(a.touchedFields,ce),a.isSubmitted,ge,ze),mt=cb(ce,h,Te);Bt(u,ce,we),Te?(!I||!I.readOnly)&&(je._f.onBlur&&je._f.onBlur(T),g&&g(0)):je._f.onChange&&je._f.onChange(T);const et=L(ce,we,Te),zt=!rs(et)||mt;if(!Te&&w.state.next({name:ce,type:T.type,values:kn(u)}),Ze)return(b.isValid||v.isValid)&&(n.mode==="onBlur"?Te&&j():Te||j()),zt&&w.state.next({name:ce,...mt?{}:et});if(!Te&&mt&&w.state.next({...a}),n.resolver){const{errors:$t}=await A([ce]);if(Ce(we),_e){const os=ub(a.errors,i,ce),fe=ub($t,i,os.name||ce);ke=fe.error,ce=fe.name,Oe=rs($t)}}else _([ce],!0),ke=(await fb(je,h.disabled,u,C,n.shouldUseNativeValidation))[ce],_([ce]),Ce(we),_e&&(ke?Oe=!1:(b.isValid||v.isValid)&&(Oe=await Q(i,!0)));_e&&(je._f.deps&&(!Array.isArray(je._f.deps)||je._f.deps.length>0)&&he(je._f.deps),V(ce,Oe,ke,et))}},te=(T,I)=>{if(Ue(a.errors,I)&&T.focus)return T.focus(),1},he=async(T,I={})=>{let ce,_e;const je=co(T);if(n.resolver){const Ce=await P(ln(T)?T:je);ce=rs(Ce),_e=T?!je.some(ze=>Ue(Ce,ze)):ce}else T?(_e=(await Promise.all(je.map(async Ce=>{const ze=Ue(i,Ce);return await Q(ze&&ze._f?{[Ce]:ze}:ze)}))).every(Boolean),!(!_e&&!a.isValid)&&j()):_e=ce=await Q(i);return w.state.next({...!ws(T)||(b.isValid||v.isValid)&&ce!==a.isValid?{}:{name:T},...n.resolver||!T?{isValid:ce}:{},errors:a.errors}),I.shouldFocus&&!_e&&uo(i,te,T?je:h.mount),_e},ae=(T,I)=>{let ce={...d.mount?u:o};return I&&(ce=_y(I.dirtyFields?a.dirtyFields:a.touchedFields,ce)),ln(T)?ce:ws(T)?Ue(ce,T):T.map(_e=>Ue(ce,_e))},E=(T,I)=>({invalid:!!Ue((I||a).errors,T),isDirty:!!Ue((I||a).dirtyFields,T),error:Ue((I||a).errors,T),isValidating:!!Ue(a.validatingFields,T),isTouched:!!Ue((I||a).touchedFields,T)}),Z=T=>{T&&co(T).forEach(I=>pn(a.errors,I)),w.state.next({errors:T?a.errors:{}})},le=(T,I,ce)=>{const _e=(Ue(i,T,{_f:{}})._f||{}).ref,je=Ue(a.errors,T)||{},{ref:Ce,message:ze,type:ge,...ke}=je;Bt(a.errors,T,{...ke,...I,ref:_e}),w.state.next({name:T,errors:a.errors,isValid:!1}),ce&&ce.shouldFocus&&_e&&_e.focus&&_e.focus()},F=(T,I)=>Ys(T)?w.state.subscribe({next:ce=>"values"in ce&&T(U(void 0,I),ce)}):U(T,I,!0),J=T=>w.state.subscribe({next:I=>{g2(T.name,I.name,T.exact)&&p2(I,T.formState||b,We,T.reRenderRoot)&&T.callback({values:{...u},...a,...I,defaultValues:o})}}).unsubscribe,$=T=>(d.mount=!0,v={...v,...T.formState},J({...T,formState:v})),K=(T,I={})=>{for(const ce of T?co(T):h.mount)h.mount.delete(ce),h.array.delete(ce),I.keepValue||(pn(i,ce),pn(u,ce)),!I.keepError&&pn(a.errors,ce),!I.keepDirty&&pn(a.dirtyFields,ce),!I.keepTouched&&pn(a.touchedFields,ce),!I.keepIsValidating&&pn(a.validatingFields,ce),!n.shouldUnregister&&!I.keepDefaultValue&&pn(o,ce);w.state.next({values:kn(u)}),w.state.next({...a,...I.keepDirty?{isDirty:X()}:{}}),!I.keepIsValid&&j()},H=({disabled:T,name:I})=>{(fa(T)&&d.mount||T||h.disabled.has(I))&&(T?h.disabled.add(I):h.disabled.delete(I))},ne=(T,I={})=>{let ce=Ue(i,T);const _e=fa(I.disabled)||fa(n.disabled);return Bt(i,T,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:T}},name:T,mount:!0,...I}}),h.mount.add(T),ce?H({disabled:fa(I.disabled)?I.disabled:n.disabled,name:T}):W(T,!0,I.value),{..._e?{disabled:I.disabled||n.disabled}:{},...n.progressive?{required:!!I.required,min:io(I.min),max:io(I.max),minLength:io(I.minLength),maxLength:io(I.maxLength),pattern:io(I.pattern)}:{},name:T,onChange:R,onBlur:R,ref:je=>{if(je){ne(T,I),ce=Ue(i,T);const Ce=ln(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,ze=o2(Ce),ge=ce._f.refs||[];if(ze?ge.find(ke=>ke===Ce):Ce===ce._f.ref)return;Bt(i,T,{_f:{...ce._f,...ze?{refs:[...ge.filter(xh),Ce,...Array.isArray(Ue(o,T))?[{}]:[]],ref:{type:Ce.type,name:T}}:{ref:Ce}}}),W(T,!1,void 0,Ce)}else ce=Ue(i,T,{}),ce._f&&(ce._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(n2(h.array,T)&&d.action)&&h.unMount.add(T)}}},Se=()=>n.shouldFocusError&&uo(i,te,h.mount),Be=T=>{fa(T)&&(w.state.next({disabled:T}),uo(i,(I,ce)=>{const _e=Ue(i,ce);_e&&(I.disabled=_e._f.disabled||T,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(je=>{je.disabled=_e._f.disabled||T}))},0,!1))},Qe=(T,I)=>async ce=>{let _e;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let je=kn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:Ce,values:ze}=await A();a.errors=Ce,je=kn(ze)}else await Q(i);if(h.disabled.size)for(const Ce of h.disabled)pn(je,Ce);if(pn(a.errors,"root"),rs(a.errors)){w.state.next({errors:{}});try{await T(je,ce)}catch(Ce){_e=Ce}}else I&&await I({...a.errors},ce),Se(),setTimeout(Se);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rs(a.errors)&&!_e,submitCount:a.submitCount+1,errors:a.errors}),_e)throw _e},rt=(T,I={})=>{Ue(i,T)&&(ln(I.defaultValue)?D(T,kn(Ue(o,T))):(D(T,I.defaultValue),Bt(o,T,kn(I.defaultValue))),I.keepTouched||pn(a.touchedFields,T),I.keepDirty||(pn(a.dirtyFields,T),a.isDirty=I.defaultValue?X(T,kn(Ue(o,T))):X()),I.keepError||(pn(a.errors,T),b.isValid&&j()),w.state.next({...a}))},ye=(T,I={})=>{const ce=T?kn(T):o,_e=kn(ce),je=rs(T),Ce=je?o:_e;if(I.keepDefaultValues||(o=ce),!I.keepValues){if(I.keepDirtyValues){const ze=new Set([...h.mount,...Object.keys(Qi(o,u))]);for(const ge of Array.from(ze))Ue(a.dirtyFields,ge)?Bt(Ce,ge,Ue(u,ge)):D(ge,Ue(Ce,ge))}else{if(wm&&ln(T))for(const ze of h.mount){const ge=Ue(i,ze);if(ge&&ge._f){const ke=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(yu(ke)){const Oe=ke.closest("form");if(Oe){Oe.reset();break}}}}if(I.keepFieldsRef)for(const ze of h.mount)D(ze,Ue(Ce,ze));else i={}}u=n.shouldUnregister?I.keepDefaultValues?kn(o):{}:kn(Ce),w.array.next({values:{...Ce}}),w.state.next({values:{...Ce}})}h={mount:I.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!I.keepIsValid||!!I.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:I.keepSubmitCount?a.submitCount:0,isDirty:je?!1:I.keepDirty?a.isDirty:!!(I.keepDefaultValues&&!vr(T,o)),isSubmitted:I.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:je?{}:I.keepDirtyValues?I.keepDefaultValues&&u?Qi(o,u):a.dirtyFields:I.keepDefaultValues&&T?Qi(o,T):I.keepDirty?a.dirtyFields:{},touchedFields:I.keepTouched?a.touchedFields:{},errors:I.keepErrors?a.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ee=(T,I)=>ye(Ys(T)?T(u):T,I),He=(T,I={})=>{const ce=Ue(i,T),_e=ce&&ce._f;if(_e){const je=_e.refs?_e.refs[0]:_e.ref;je.focus&&(je.focus(),I.shouldSelect&&Ys(je.select)&&je.select())}},We=T=>{a={...a,...T}},_t={control:{register:ne,unregister:K,getFieldState:E,handleSubmit:Qe,setError:le,_subscribe:J,_runSchema:A,_focusError:Se,_getWatch:U,_getDirty:X,_setValid:j,_setFieldArray:M,_setDisabledField:H,_setErrors:B,_getFieldArray:ee,_reset:ye,_resetDefaultValues:()=>Ys(n.defaultValues)&&n.defaultValues().then(T=>{Ee(T,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:Be,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(T){d=T},get _defaultValues(){return o},get _names(){return h},set _names(T){h=T},get _formState(){return a},get _options(){return n},set _options(T){n={...n,...T}}},subscribe:$,trigger:he,register:ne,handleSubmit:Qe,watch:F,setValue:D,getValues:ae,reset:Ee,resetField:rt,clearErrors:Z,unregister:K,setError:le,setFocus:He,getFieldState:E};return{..._t,formControl:_t}}function zy(e={}){const n=Rt.useRef(void 0),a=Rt.useRef(void 0),[i,o]=Rt.useState({isDirty:!1,isValidating:!1,isLoading:Ys(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ys(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ys(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...h}=w2(e);n.current={...h,formState:i}}const u=n.current.control;return u._options=e,i2(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),u._formState.isReady=!0,d},[u]),Rt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),Rt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),Rt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),Rt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),Rt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),Rt.useEffect(()=>{e.values&&!vr(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,o(d=>({...d}))):u._resetDefaultValues()},[u,e.values]),Rt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=r2(i,u),n.current}const hb=(e,n,a)=>{if(e&&"reportValidity"in e){const i=Ue(a,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Ih=(e,n)=>{for(const a in n.fields){const i=n.fields[a];i&&i.ref&&"reportValidity"in i.ref?hb(i.ref,a,e):i&&i.refs&&i.refs.forEach(o=>hb(o,a,e))}},mb=(e,n)=>{n.shouldUseNativeValidation&&Ih(e,n);const a={};for(const i in e){const o=Ue(n.fields,i),u=Object.assign(e[i]||{},{ref:o&&o.ref});if(j2(n.names||Object.keys(e),i)){const d=Object.assign({},Ue(a,i));Bt(d,"root",u),Bt(a,i,d)}else Bt(a,i,u)}return a},j2=(e,n)=>{const a=pb(n);return e.some(i=>pb(i).match(`^${a}\\.\\d+`))};function pb(e){return e.replace(/\]|\[/g,"")}function gb(e,n){try{var a=e()}catch(i){return n(i)}return a&&a.then?a.then(void 0,n):a}function S2(e,n){for(var a={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!a[d])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];a[d]={message:h.message,type:h.code}}else a[d]={message:u,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(v){return e.push(v)})}),n){var g=a[d].types,x=g&&g[i.code];a[d]=Cm(d,n,a,o,x?[].concat(x,i.message):i.message)}e.shift()}return a}function C2(e,n){for(var a={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!a[d])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];a[d]={message:h.message,type:h.code}}else a[d]={message:u,type:o};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(v){return e.push(v)})}),n){var g=a[d].types,x=g&&g[i.code];a[d]=Cm(d,n,a,o,x?[].concat(x,i.message):i.message)}e.shift()}return a}function Oy(e,n,a){if(a===void 0&&(a={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,o,u){try{return Promise.resolve(gb(function(){return Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(d){return u.shouldUseNativeValidation&&Ih({},u),{errors:{},values:a.raw?Object.assign({},i):d}})},function(d){if((function(h){return Array.isArray(h?.issues)})(d))return{values:{},errors:mb(S2(d.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,o,u){try{return Promise.resolve(gb(function(){return Promise.resolve((a.mode==="sync"?FC:HC)(e,i,n)).then(function(d){return u.shouldUseNativeValidation&&Ih({},u),{errors:{},values:a.raw?Object.assign({},i):d}})},function(d){if((function(h){return h instanceof vm})(d))return{values:{},errors:mb(C2(d.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}async function N2(e={}){const{page:n,pageSize:a,search:i,includeTotal:o,signal:u}=e,d={};typeof n=="number"&&n>0&&(d.page=n),typeof a=="number"&&a>0&&(d.page_size=a),o&&(d.include_total=!0);const h=i?.trim();h&&(d.q=h);const{data:g}=await Pe.GET("/api/v1/users",{params:{query:d},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function Ly(e={}){const{enabled:n=!0,search:a="",pageSize:i}=e,o=a.trim(),u=o.length>=2?o:"",d=lm({queryKey:["users","all",{search:o,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>N2(k2({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),h=p.useCallback(x=>x.id,[]),g=fm(d.data?.pages,h);return{...d,users:g}}function k2(e){const n=!e.page||e.page<1?1:e.page;return{...e,page:n}}const E2=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,_2=$u({name:Xs().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:Xs().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(E2,"Use lowercase letters, numbers, and dashes."),ownerUserId:Xs().optional()});function D2(){return l.jsx(Au,{children:l.jsx(A2,{})})}function A2(){const e=Qt(),n=nl(),a=gC(),o=p.useMemo(()=>(n.user.permissions??[]).map(P=>P.toLowerCase()),[n.user.permissions]).includes("users.read_all"),u=Ly({enabled:o,pageSize:50}),d=p.useMemo(()=>u.users,[u.users]),h=p.useMemo(()=>n.user.id?d.filter(P=>P.id!==n.user.id):d,[d,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:v,setError:w,clearErrors:C,formState:{errors:N,dirtyFields:j}}=zy({resolver:Oy(_2),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),_=b("name"),M=b("slug");p.useEffect(()=>{if(j.slug)return;const P=T2(_);P!==M&&v("slug",P,{shouldValidate:!!P})},[j.slug,_,v,M]),p.useEffect(()=>{!o&&n.user.id&&v("ownerUserId",n.user.id,{shouldDirty:!1})},[o,n.user.id,v]);const k=a.isPending,B=u.isPending&&u.users.length===0,W=k||B||!o,L=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,V=g("ownerUserId"),A=x(P=>{if(C("root"),o&&!P.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}a.mutate({name:P.name.trim(),slug:P.slug.trim(),owner_user_id:o&&P.ownerUserId||void 0},{onSuccess(Q){e(mm(Q.id))},onError(Q){if(Q instanceof _n){const Y=Q.problem?.detail??Q.message,X=Q.problem?.errors??{};w("root",{type:"server",message:Y}),X.name?.[0]&&w("name",{type:"server",message:X.name[0]}),X.slug?.[0]&&w("slug",{type:"server",message:X.slug[0]}),X.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:X.owner_user_id[0]});return}w("root",{type:"server",message:Q instanceof Error?Q.message:"Workspace creation failed."})}})});return l.jsx(Ny,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:A,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(wt,{label:"Workspace name",required:!0,error:N.name?.message,children:l.jsx(xt,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!N.name,disabled:k})}),l.jsx(wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:N.slug?.message,children:l.jsx(xt,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!N.slug,disabled:k})})]}),o?l.jsxs(wt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:N.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...V,onChange:P=>{V.onChange(P),C("ownerUserId")},disabled:W,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:L}),h.map(P=>l.jsx("option",{value:P.id,children:P.display_name?`${P.display_name} (${P.email})`:P.email},P.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(De,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,N.root?l.jsx(dt,{tone:"danger",children:N.root.message}):null,o&&u.isError?l.jsx(dt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(De,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:k,children:"Cancel"}),l.jsx(De,{type:"submit",isLoading:k,children:k?"Creating workspace":"Create workspace"})]})]})]})})}function T2(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const Uy=p.createContext(void 0);function M2({workspace:e,workspaces:n,children:a}){const i=p.useMemo(()=>{const o=e.permissions;return{workspace:e,workspaces:n,permissions:o,hasPermission(u){const d=u.toLowerCase();return o.includes(u)||o.includes(d)}}},[e,n]);return l.jsx(Uy.Provider,{value:i,children:a})}function Ba(){const e=p.useContext(Uy);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const R2=[{id:"explorer",label:"Explorer",icon:l.jsx(O2,{})},{id:"search",label:"Search",icon:l.jsx(L2,{})},{id:"scm",label:"Source Control",icon:l.jsx(U2,{})},{id:"extensions",label:"Extensions",icon:l.jsx(B2,{})}];function z2({activeView:e,onSelectView:n,onOpenSettings:a,appearance:i}){const o=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:pe("flex h-full w-14 flex-col items-center justify-between border-r",o.bg,o.border,o.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:R2.map(u=>{const d=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:pe("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",d?o.iconActive:pe(o.iconIdle,o.hover)),"aria-label":u.label,"aria-pressed":d,children:[d?l.jsx("span",{className:pe("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",o.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:a,className:pe("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",o.iconIdle,o.hover),"aria-label":"Open settings",children:l.jsx($2,{})})})]})}function O2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function L2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function U2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function B2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function $2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const Em=p.createContext(null);function By({value:e,onValueChange:n,children:a}){const i=p.useId(),o=p.useRef([]),u=p.useRef(new Map),d=p.useCallback((v,w)=>{o.current.includes(v)||o.current.push(v),u.current.set(v,w)},[]),h=p.useCallback(v=>{o.current=o.current.filter(w=>w!==v),u.current.delete(v)},[]),g=p.useCallback(v=>{v&&u.current.get(v)?.focus()},[]),x=p.useCallback(()=>o.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:d,unregisterValue:h,focusValue:g,getValues:x}),[e,n,i,d,h,g,x]);return l.jsx(Em.Provider,{value:b,children:a})}function $y({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Vh({value:e,children:n,className:a,onClick:i,onKeyDown:o,disabled:u,...d}){const h=p.useContext(Em);if(!h)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:v}=h,w=h.value===e,C=`${h.baseId}-tab-${e}`,N=`${h.baseId}-panel-${e}`,j=p.useCallback(M=>{g(e,M)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const _=M=>{if(o?.(M),M.defaultPrevented)return;const k=v(),B=k.indexOf(e);if(B===-1||k.length===0)return;let W=B;M.key==="ArrowRight"?(M.preventDefault(),W=(B+1)%k.length):M.key==="ArrowLeft"?(M.preventDefault(),W=(B-1+k.length)%k.length):M.key==="Home"?(M.preventDefault(),W=0):M.key==="End"&&(M.preventDefault(),W=k.length-1);const L=k[W];L&&L!==h.value&&h.setValue(L),b(L)};return l.jsx("button",{...d,ref:j,type:"button",role:"tab",id:C,"aria-selected":w,"aria-controls":N,tabIndex:w?0:-1,className:a,disabled:u,onKeyDown:_,onClick:M=>{i?.(M),!M.defaultPrevented&&!u&&h.setValue(e)},children:n})}function Ph({value:e,children:n,className:a,...i}){const o=p.useContext(Em);if(!o)throw new Error("TabsContent must be used within a TabsRoot");const u=o.value===e,d=`${o.baseId}-panel-${e}`,h=`${o.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:d,"aria-labelledby":h,className:a,hidden:!u,tabIndex:0,children:n})}function Ii(e,n,a){let i=a.initialDeps??[],o,u=!0;function d(){var h,g,x;let b;a.key&&((h=a.debug)!=null&&h.call(a))&&(b=Date.now());const v=e();if(!(v.length!==i.length||v.some((N,j)=>i[j]!==N)))return o;i=v;let C;if(a.key&&((g=a.debug)!=null&&g.call(a))&&(C=Date.now()),o=n(...v),a.key&&((x=a.debug)!=null&&x.call(a))){const N=Math.round((Date.now()-b)*100)/100,j=Math.round((Date.now()-C)*100)/100,_=j/16,M=(k,B)=>{for(k=String(k);k.length<B;)k=" "+k;return k};console.info(`%c ${M(j,5)} /${M(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,a?.key)}return a?.onChange&&!(u&&a.skipInitialOnChange)&&a.onChange(o),u=!1,o}return d.updateDeps=h=>{i=h},d}function xb(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const q2=(e,n)=>Math.abs(e-n)<1.01,F2=(e,n,a)=>{let i;return function(...o){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,o),a)}},bb=e=>{const{offsetWidth:n,offsetHeight:a}=e;return{width:n,height:a}},H2=e=>e,Z2=e=>{const n=Math.max(e.startIndex-e.overscan,0),a=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let o=n;o<=a;o++)i.push(o);return i},I2=(e,n)=>{const a=e.scrollElement;if(!a)return;const i=e.targetWindow;if(!i)return;const o=d=>{const{width:h,height:g}=d;n({width:Math.round(h),height:Math.round(g)})};if(o(bb(a)),!i.ResizeObserver)return()=>{};const u=new i.ResizeObserver(d=>{const h=()=>{const g=d[0];if(g?.borderBoxSize){const x=g.borderBoxSize[0];if(x){o({width:x.inlineSize,height:x.blockSize});return}}o(bb(a))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return u.observe(a,{box:"border-box"}),()=>{u.unobserve(a)}},vb={passive:!0},yb=typeof window>"u"?!0:"onscrollend"in window,V2=(e,n)=>{const a=e.scrollElement;if(!a)return;const i=e.targetWindow;if(!i)return;let o=0;const u=e.options.useScrollendEvent&&yb?()=>{}:F2(i,()=>{n(o,!1)},e.options.isScrollingResetDelay),d=b=>()=>{const{horizontal:v,isRtl:w}=e.options;o=v?a.scrollLeft*(w&&-1||1):a.scrollTop,u(),n(o,b)},h=d(!0),g=d(!1);g(),a.addEventListener("scroll",h,vb);const x=e.options.useScrollendEvent&&yb;return x&&a.addEventListener("scrollend",g,vb),()=>{a.removeEventListener("scroll",h),x&&a.removeEventListener("scrollend",g)}},P2=(e,n,a)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[a.options.horizontal?"inlineSize":"blockSize"])}return e[a.options.horizontal?"offsetWidth":"offsetHeight"]},Q2=(e,{adjustments:n=0,behavior:a},i)=>{var o,u;const d=e+n;(u=(o=i.scrollElement)==null?void 0:o.scrollTo)==null||u.call(o,{[i.options.horizontal?"left":"top"]:d,behavior:a})};class W2{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let a=null;const i=()=>a||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:a=new this.targetWindow.ResizeObserver(o=>{o.forEach(u=>{const d=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var o;(o=i())==null||o.disconnect(),a=null},observe:o=>{var u;return(u=i())==null?void 0:u.observe(o,{box:"border-box"})},unobserve:o=>{var u;return(u=i())==null?void 0:u.unobserve(o)}}})(),this.range=null,this.setOptions=a=>{Object.entries(a).forEach(([i,o])=>{typeof o>"u"&&delete a[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:H2,rangeExtractor:Z2,onChange:()=>{},measureElement:P2,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...a}},this.notify=a=>{var i,o;(o=(i=this.options).onChange)==null||o.call(i,this,a)},this.maybeNotify=Ii(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),a=>{this.notify(a)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(a=>a()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var a;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((a=this.scrollElement)==null?void 0:a.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=u,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(a,i)=>{const o=new Map,u=new Map;for(let d=i-1;d>=0;d--){const h=a[d];if(o.has(h.lane))continue;const g=u.get(h.lane);if(g==null||h.end>g.end?u.set(h.lane,h):h.end<g.end&&o.set(h.lane,!0),o.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((d,h)=>d.end===h.end?d.index-h.index:d.end-h.end)[0]:void 0},this.getMeasurementOptions=Ii(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(a,i,o,u,d,h)=>(this.prevLanes!==void 0&&this.prevLanes!==h&&(this.lanesChangedFlag=!0),this.prevLanes=h,this.pendingMeasuredCacheIndexes=[],{count:a,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Ii(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:a,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h},g)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>a)for(const w of this.laneAssignments.keys())w>=a&&this.laneAssignments.delete(w);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(w=>{this.itemSizeCache.set(w.key,w.size)}));const x=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===a&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,x),v=new Array(h).fill(void 0);for(let w=0;w<x;w++){const C=b[w];C&&(v[C.lane]=w)}for(let w=x;w<a;w++){const C=u(w),N=this.laneAssignments.get(w);let j,_;if(N!==void 0&&this.options.lanes>1){j=N;const W=v[j],L=W!==void 0?b[W]:void 0;_=L?L.end+this.options.gap:i+o}else{const W=this.options.lanes===1?b[w-1]:this.getFurthestMeasurement(b,w);_=W?W.end+this.options.gap:i+o,j=W?W.lane:w%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(w,j)}const M=g.get(C),k=typeof M=="number"?M:this.options.estimateSize(w),B=_+k;b[w]={index:w,start:_,size:k,end:B,key:C,lane:j},v[j]=w}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ii(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(a,i,o,u)=>this.range=a.length>0&&i>0?K2({measurements:a,outerSize:i,scrollOffset:o,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ii(()=>{let a=null,i=null;const o=this.calculateRange();return o&&(a=o.startIndex,i=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,a,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,a,i]},(a,i,o,u,d)=>u===null||d===null?[]:a({startIndex:u,endIndex:d,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=a=>{const i=this.options.indexAttribute,o=a.getAttribute(i);return o?parseInt(o,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(a,i)=>{const o=this.indexFromElement(a),u=this.measurementsCache[o];if(!u)return;const d=u.key,h=this.elementsCache.get(d);h!==a&&(h&&this.observer.unobserve(h),this.observer.observe(a),this.elementsCache.set(d,a)),a.isConnected&&this.resizeItem(o,this.options.measureElement(a,i,this))},this.resizeItem=(a,i)=>{const o=this.measurementsCache[a];if(!o)return;const u=this.itemSizeCache.get(o.key)??o.size,d=i-u;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,d,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,i)),this.notify(!1))},this.measureElement=a=>{if(!a){this.elementsCache.forEach((i,o)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(o))});return}this._measureElement(a,void 0)},this.getVirtualItems=Ii(()=>[this.getVirtualIndexes(),this.getMeasurements()],(a,i)=>{const o=[];for(let u=0,d=a.length;u<d;u++){const h=a[u],g=i[h];o.push(g)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=a=>{const i=this.getMeasurements();if(i.length!==0)return xb(i[qy(0,i.length-1,o=>xb(i[o]).start,a)])},this.getOffsetForAlignment=(a,i,o=0)=>{const u=this.getSize(),d=this.getScrollOffset();i==="auto"&&(i=a>=d+u?"end":"start"),i==="center"?a+=(o-u)/2:i==="end"&&(a-=u);const h=this.getTotalSize()+this.options.scrollMargin-u;return Math.max(Math.min(h,a),0)},this.getOffsetForIndex=(a,i="auto")=>{a=Math.max(0,Math.min(a,this.options.count-1));const o=this.measurementsCache[a];if(!o)return;const u=this.getSize(),d=this.getScrollOffset();if(i==="auto")if(o.end>=d+u-this.options.scrollPaddingEnd)i="end";else if(o.start<=d+this.options.scrollPaddingStart)i="start";else return[d,i];const h=i==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,i,o.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(a,{align:i="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(a,i),{adjustments:void 0,behavior:o})},this.scrollToIndex=(a,{align:i="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),a=Math.max(0,Math.min(a,this.options.count-1));let u=0;const d=10,h=x=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(a,x);if(!b){console.warn("Failed to get offset for index:",a);return}const[v,w]=b;this._scrollToOffset(v,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const C=this.getScrollOffset(),N=this.getOffsetForIndex(a,w);if(!N){console.warn("Failed to get offset for index:",a);return}q2(N[0],C)||g(w)})},g=x=>{this.targetWindow&&(u++,u<d?this.targetWindow.requestAnimationFrame(()=>h(x)):console.warn(`Failed to scroll to index ${a} after ${d} attempts.`))};h(i)},this.scrollBy=(a,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+a,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var a;const i=this.getMeasurements();let o;if(i.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((a=i[i.length-1])==null?void 0:a.end)??0;else{const u=Array(this.options.lanes).fill(null);let d=i.length-1;for(;d>=0&&u.some(h=>h===null);){const h=i[d];u[h.lane]===null&&(u[h.lane]=h.end),d--}o=Math.max(...u.filter(h=>h!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(a,{adjustments:i,behavior:o})=>{this.options.scrollToFn(a,{behavior:o,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const qy=(e,n,a,i)=>{for(;e<=n;){const o=(e+n)/2|0,u=a(o);if(u<i)e=o+1;else if(u>i)n=o-1;else return o}return e>0?e-1:0};function K2({measurements:e,outerSize:n,scrollOffset:a,lanes:i}){const o=e.length-1,u=g=>e[g].start;if(e.length<=i)return{startIndex:0,endIndex:o};let d=qy(0,o,u,a),h=d;if(i===1)for(;h<o&&e[h].end<a+n;)h++;else if(i>1){const g=Array(i).fill(0);for(;h<o&&g.some(b=>b<a+n);){const b=e[h];g[b.lane]=b.end,h++}const x=Array(i).fill(a+n);for(;d>=0&&x.some(b=>b>=a);){const b=e[d];x[b.lane]=b.start,d--}d=Math.max(0,d-d%i),h=Math.min(o,h+(i-1-h%i))}return{startIndex:d,endIndex:h}}const wb=typeof document<"u"?p.useLayoutEffect:p.useEffect;function G2(e){const n=p.useReducer(()=>({}),{})[1],a={...e,onChange:(o,u)=>{var d;u?js.flushSync(n):n(),(d=e.onChange)==null||d.call(e,o,u)}},[i]=p.useState(()=>new W2(a));return i.setOptions(a),wb(()=>i._didMount(),[]),wb(()=>i._willUpdate()),i}function Y2(e){return G2({observeElementRect:I2,observeElementOffset:V2,scrollToFn:Q2,...e})}function jb(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function X2(e){const n=e.raw;if(n&&typeof n=="object"){const a=n5(n);if(a)return a}return t5(e.message)}function Fy(e){const n=e.raw;if(!n||typeof n!="object")return null;try{return JSON.stringify(n)}catch{return null}}function J2(e){if(e==null)return l.jsx("span",{className:"text-slate-500",children:"null"});let n;try{n=JSON.stringify(e,null,2)}catch{n=String(e)}return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed text-[#d4d4d4]",children:Hy(n)})}function e5(e){try{const n=JSON.parse(e);if(n&&typeof n=="object")return n}catch{return null}return null}function t5(e){if(e.includes(`
`)){const i=e.split(/\r?\n/),[o,...u]=i;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:o||" "}),u.length>0?l.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-[#2f2f2f] pl-3 text-[12px] leading-snug text-[#9da5b4]",children:u.join(`
`)}):null]})}const n=e5(e);if(!n)return e;const a=JSON.stringify(n,null,2);return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-[#d4d4d4]",children:Hy(a)})}function Hy(e){const n=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,a=[];let i=0,o,u=0;for(;(o=n.exec(e))!==null;){o.index>i&&a.push(e.slice(i,o.index));const d=o[0],h=o[1]?"text-sky-300":o[2]?"text-amber-300":"text-rose-300";a.push(l.jsx("span",{className:h,children:d},`json-${u++}`)),i=n.lastIndex}return i<e.length&&a.push(e.slice(i)),a}function n5(e){const n=typeof e.event=="string"?e.event:typeof e.type=="string"?e.type:"";if(!n)return null;const a=typeof e.level=="string"?e.level.toLowerCase():"",i=typeof e.message=="string"?e.message:"",o=e.data&&typeof e.data=="object"?e.data:{};if(n==="console.line"){const u=typeof o.message=="string"?o.message:i;return l.jsx("span",{className:"break-words",children:u||" "})}if(n==="engine.log"){const u=i5(i);return l.jsx("span",{className:"break-words",children:u.text||" "})}if(n.startsWith("build.")||n.startsWith("run.")){const u=typeof o.status=="string"?o.status:void 0,d=typeof o.reason=="string"?o.reason:void 0,h=typeof o.phase=="string"?o.phase:void 0,g=typeof o.message=="string"?o.message:void 0,x=b=>{if(!b||b<0)return"";if(b<1e3)return`${Math.round(b)} ms`;if(b<6e4)return`${(b/1e3).toFixed(1)} s`;const v=Math.floor(b/6e4),w=Math.round(b%6e4/1e3);return`${v}m ${w}s`};if(n==="build.phase.start")return l.jsx("span",{className:"break-words",children:g||(h?`Build: ${h}`:"Build phase started")});if(n==="build.start")return l.jsx("span",{className:"break-words",children:`Build started${d?` (${d})`:""}`});if(n==="build.queued")return l.jsx("span",{className:"break-words",children:`Build queued${d?` (${d})`:""}`});if(n==="build.complete")return l.jsx("span",{className:"break-words",children:`Build ${u??"completed"}`});if(n==="run.queued"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run queued${b?` (${b})`:""}`})}if(n==="run.waiting_for_build")return l.jsx("span",{className:"break-words",children:`Waiting for build${d?` (${d})`:""}`});if(n==="run.start"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run started${b?` (${b})`:""}`})}if(n==="run.complete"){const b=o.execution&&typeof o.execution=="object"?o.execution:{},v=typeof b.duration_ms=="number"?b.duration_ms:void 0,w=v?`  ${x(v)}`:"";return l.jsx("span",{className:"break-words",children:`Run ${u??"completed"}${w}`})}return i.trim()?l.jsx("span",{className:"break-words",children:i}):n.startsWith("build.")?l.jsx("span",{className:"break-words",children:g||h||u||n}):l.jsx("span",{className:"break-words",children:u||n})}if(n==="engine.config.loaded"){const u=Ct(o.config_package)??Ct(o.config_package_name),d=Ct(o.entrypoint),h=Array.isArray(o.fields)?o.fields.length:void 0,g=Ls(o.settings),x=Ct(g?.log_format),b=typeof g?.log_level=="number"?g.log_level:void 0,v=u?Kr(u):void 0,w=["Config loaded",d?`entry=${d}`:null,typeof h=="number"?`fields=${h}`:null,x?`log=${x}${typeof b=="number"?`(${b})`:""}`:null,v&&v!=="src"?v:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:w.join("  ")})}if(n==="engine.settings.effective"){const u=Ls(o.settings);if(!u)return l.jsx("span",{className:"break-words",children:"Settings (effective)"});const d=Ct(u.log_format),h=typeof u.log_level=="number"?u.log_level:void 0,g=typeof u.max_empty_rows_run=="number"?u.max_empty_rows_run:void 0,x=typeof u.max_empty_cols_run=="number"?u.max_empty_cols_run:void 0,b=Ct(u.unmapped_prefix),v=["Settings",d?`log=${d}${typeof h=="number"?`(${h})`:""}`:null,b?`unmapped=${b}`:null,typeof g=="number"?`maxEmptyRows=${g}`:null,typeof x=="number"?`maxEmptyCols=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.hook.start"||n==="engine.hook.end"){const u=Ct(o.hook_name)??Ct(o.hook),d=n.endsWith(".start")?"start":"end";return l.jsx("span",{className:"break-words",children:u?`Hook ${u}  ${d}`:`Hook  ${d}`})}if(n==="engine.run.started"){const u=Ct(o.input_file),d=Ct(o.config_package),h=["Run started",u?Kr(u):null,d?`config=${Kr(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.planned"){const u=Ct(o.output_file),d=Ct(o.logs_file),h=["Run planned",u?`output=${Kr(u)}`:null,d?`logs=${Kr(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.completed"){const u=Ls(o.execution)??{},d=Ls(o.evaluation)??{},h=Ls(o.counts)??{},g=Ct(u.status),x=Ct(d.outcome),b=typeof u.duration_ms=="number"?u.duration_ms:void 0,v=typeof h.tables=="number"?h.tables:void 0,w=["Run completed",g||null,x?`outcome=${x}`:null,typeof v=="number"?`tables=${v}`:null,typeof b=="number"?`${Math.round(b)}ms`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:w.join("  ")})}if(n==="engine.workbook.started"){const u=typeof o.sheet_count=="number"?o.sheet_count:void 0;return l.jsx("span",{className:"break-words",children:`Workbook start${typeof u=="number"?`  sheets=${u}`:""}`})}if(n==="engine.sheet.started"){const u=Ct(o.sheet_name),d=typeof o.sheet_index=="number"?o.sheet_index+1:void 0,h=["Sheet start",u||null,typeof d=="number"?`#${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.sheet.tables_detected"){const u=Ct(o.sheet_name),d=typeof o.table_count=="number"?o.table_count:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=[u||"Sheet",typeof d=="number"?`tables=${d}`:null,typeof h=="number"?`rows=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.table.detected"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.column_count=="number"?o.column_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","detected",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.extracted"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.col_count=="number"?o.col_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","extracted",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.mapped"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.mapped_fields=="number"?o.mapped_fields:void 0,g=typeof o.total_fields=="number"?o.total_fields:void 0,x=typeof o.passthrough_fields=="number"?o.passthrough_fields:void 0,b=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapped",typeof h=="number"&&typeof g=="number"?`mapped=${h}/${g}`:null,typeof x=="number"?`passthrough=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.table.mapping_patched"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapping patched"].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.table.normalized"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.issue_count=="number"?o.issue_count:void 0,x=Ls(o.issues_by_severity),b=x?a5(x,2):null,v=[u||null,typeof d=="number"?`Table ${d}`:"Table","normalized",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`issues=${g}`:null,b||null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.table.written"){const u=Ct(o.sheet_name),d=typeof o.table_index=="number"?o.table_index:void 0,h=Ct(o.output_range),g=r5(i),x=[u||null,typeof d=="number"?`Table ${d+1}`:null,"written",h||null,g?`mapped=${g.mapped} unmapped=${g.unmapped}`:null].filter(Boolean).join("  ");return l.jsx("span",{className:"break-words",children:x||"Table written"})}if(n==="engine.validation.result"){const u=typeof o.validator=="string"?o.validator:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.issues_found=="number"?o.issues_found:void 0,g=typeof o.column_index=="number"?o.column_index:void 0,x=Array.isArray(o.results_sample)?o.results_sample:[],b=typeof h=="number"&&h>0&&x.length>0?`sample=${Sb(JSON.stringify(x[0]),80)}`:null,v=["Validate",d??null,typeof g=="number"?`Col ${tu(g)}`:null,u?`via ${u}`:null,typeof h=="number"?`issues=${h}`:null,b].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.validation.summary"){const u=typeof o.issues_total=="number"?o.issues_total:void 0;return l.jsx("span",{className:"break-words",children:`Validation summary${typeof u=="number"?`  issues=${u}`:""}`})}if(n==="engine.transform.result"){const u=typeof o.transform=="string"?o.transform:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.input_len=="number"?o.input_len:void 0,g=typeof o.output_len=="number"?o.output_len:void 0,x=typeof o.row_count=="number"?o.row_count:void 0,b=[u?`Transform ${u}`:"Transform",d??null,typeof x=="number"?`rows=${x}`:null,typeof h=="number"&&typeof g=="number"?`${h}${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.transform.derived_merge"){const u=Ct(o.field),d=Ct(o.mode),h=["Derived merge",u??null,d?`mode=${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.column_detector.candidate"){const u=typeof o.column_index=="number"?o.column_index:void 0,d=typeof o.header=="string"?o.header:void 0,h=typeof o.best_field=="string"?o.best_field:void 0,g=typeof o.best_score=="number"?o.best_score:void 0,x=Ls(o.scores),b=x?lo(x,3):null,v=Ls(o.contributions),w=v?lo(v,2):null,C=[typeof u=="number"?`Col ${tu(u)}`:null,d?`"${Sb(d,32)}"`:null,h?`suggested=${h}`:null,typeof g=="number"?`(${g.toFixed(3)})`:null,b?`why: ${b}`:null,w?`signals: ${w}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:C.join("  ")})}if(n==="engine.column_detector.summary"){const u=Array.isArray(o.mapped)?o.mapped:[],d=typeof o.total_columns=="number"?o.total_columns:void 0,h=Array.isArray(o.unmapped_indices)?o.unmapped_indices.length:void 0,g=["Columns",typeof d=="number"?`total=${d}`:null,`mapped=${u.length}`,typeof h=="number"?`unmapped=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.row_detector.summary"){const u=Ct(o.sheet_name),d=typeof o.header_row_index=="number"?o.header_row_index+1:void 0,h=typeof o.header_score=="number"?o.header_score:void 0,g=typeof o.data_start_index=="number"?o.data_start_index+1:void 0,x=typeof o.data_end_index=="number"?o.data_end_index+1:void 0,b=[u?`${u}`:"Rows",typeof d=="number"?`headerRow=${d}`:null,typeof h=="number"?`score=${h.toFixed(3)}`:null,typeof g=="number"&&typeof x=="number"?`dataRows=${g}..${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.detector.column_result"||n==="engine.detector.row_result"){const u=typeof o.sheet_name=="string"?o.sheet_name:void 0,d=typeof o.column_index=="number"?o.column_index:void 0,h=typeof o.row_index=="number"?o.row_index:void 0,g=o.detector&&typeof o.detector=="object"?o.detector:{},x=typeof g.name=="string"?g.name:void 0,b=typeof g.duration_ms=="number"?g.duration_ms:void 0,v=g.scores&&typeof g.scores=="object"?g.scores:null,w=v?lo(v,2):null;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${tu(d)}`:null,typeof h=="number"?`Row ${h+1}`:null,x?`ran ${x}`:"ran detector",typeof b=="number"?s5(b):null,w?`scores: ${w}`:null].filter(Boolean).join("  ")})}if(n==="engine.row_classification"){const u=Ct(o.sheet_name),d=typeof o.row_index=="number"?o.row_index+1:void 0,h=Ls(o.scores),g=h?lo(h,2):null,x=Ls(o.classification),b=Ct(x?.row_kind),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_row_kinds)?x?.considered_row_kinds.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Row ${d}`:"Row",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}if(n==="engine.column_classification"){const u=Ct(o.sheet_name),d=typeof o.column_index=="number"?o.column_index:void 0,h=Ls(o.scores),g=h?lo(h,2):null,x=Ls(o.classification),b=Ct(x?.field),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_fields)?x?.considered_fields.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${tu(d)}`:"Col",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}return i&&i!==n?l.jsx("span",{className:"break-words",children:i}):Object.keys(o).length?a==="debug"&&n.startsWith("engine.")?l.jsx("span",{className:"break-words",children:n}):l.jsx("span",{className:"break-words",children:n}):null}function Ct(e){return typeof e=="string"&&e.trim().length?e:null}function Ls(e){return!e||typeof e!="object"?null:e}function Kr(e){const n=e.trim();if(!n)return"";const a=n.split(/[\\/]/).filter(Boolean);return a[a.length-1]??n}function Sb(e,n){return e.length<=n?e:e.slice(0,Math.max(0,n-1))+""}function tu(e){let n=Math.floor(e);if(!Number.isFinite(n)||n<0)return String(e);let a="";for(;n>=0;)a=String.fromCharCode(n%26+65)+a,n=Math.floor(n/26)-1;return a}function s5(e){return!Number.isFinite(e)||e<0?`${e}ms`:e<1?`${e.toFixed(3)}ms`:e<10?`${e.toFixed(2)}ms`:e<100?`${e.toFixed(1)}ms`:e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}function lo(e,n){const a=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&a.push([i,o]);return a.length?(a.sort((i,o)=>o[1]-i[1]),a.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${o.toFixed(3)}`).join(" ")):null}function a5(e,n){const a=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&a.push([i,o]);return a.length?(a.sort((i,o)=>o[1]-i[1]),a.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${Math.round(o)}`).join(" ")):null}function r5(e){const n=e.match(/Rendered table with\s+(\d+)\s+\w+\s+columns?\s+and\s+(\d+)\s+unmapped/i);if(!n)return null;const a=Number(n[1]),i=Number(n[2]);return!Number.isFinite(a)||!Number.isFinite(i)?null:{mapped:a,unmapped:i}}function i5(e){const n=(e||"").trim();if(!n)return{text:""};const a="Config hook:",i=n.startsWith(a)?n.slice(a.length).trim():n,o=i.match(/^workbook start\s*\((.+)\)\s*$/i);if(o){const b=o[1];return{text:`Workbook start  ${Kr(b)}`,title:b}}const u=i.match(/^workbook before save\s*\((.+)\)\s*$/i);if(u){const b=u[1];return{text:`Workbook save  ${Kr(b)}`,title:b}}const d=i.match(/^sheet start\s*\((.+)\)\s*$/i);if(d)return{text:`Sheet start  ${d[1]}`};const h=i.match(/^table detected\s*\((.+)\)\s*$/i);if(h)return{text:`Table detected  ${h[1].replace(/\s*,\s*/g,"  ")}`};const g=i.match(/^table mapped\s*\((.+)\)\s*$/i);if(g){const b=g[1],v=b.match(/fields=\[(.*)\]/i);return v?{text:`Table mapped  fields=${v[1].split(",").map(C=>C.trim()).filter(Boolean).length}`,title:b}:{text:`Table mapped  ${b}`}}const x=i.match(/^table written\s*\((.+)\)\s*$/i);return x?{text:`Table written  ${x[1].replace(/\s*,\s*/g,"  ")}`}:{text:n}}const Cb="ade.ui.workbench.console.levelFilter.v1";function l5({console:e,latestRun:n,onClearConsole:a,runStatus:i}){const[o,u]=p.useState(()=>{const R={origin:"all",level:"info"};if(typeof window>"u")return R;try{const te=window.localStorage.getItem(Cb);if(te==="all"||te==="debug"||te==="info"||te==="warning"||te==="error"||te==="success")return{...R,level:te}}catch{}return R}),[d,h]=p.useState(!0),[g,x]=p.useState(!1),[b,v]=p.useState(!1),[w,C]=p.useState("parsed"),[N,j]=p.useState(null),[_,M]=p.useState(!1),k=p.useRef(null),B=p.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),W=B.length,L=p.useMemo(()=>{const R=jb(o.level),te=[];for(let he=0;he<B.length;he+=1){const ae=e.getLine(he);if(!ae)continue;const E=o.origin==="all"||(ae.origin??"run")===o.origin,Z=jb(ae.level),le=o.level==="all"||Z>=R;E&&le&&te.push(he)}return te},[e,B,o]),V=L.length>0,A=W>0,P=i&&i!=="idle"?i:null,Q=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",Y=Y2({count:L.length,getScrollElement:()=>k.current,estimateSize:()=>22,overscan:16});p.useEffect(()=>{d&&L.length!==0&&Y.scrollToIndex(L.length-1,{align:"end"})},[d,L.length,B,Y]),p.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Cb,o.level)}catch{}},[o.level]);const X=R=>{const te=R.currentTarget,ae=te.scrollHeight-te.scrollTop-te.clientHeight<16;!ae&&d?h(!1):ae&&!d&&h(!0)},U=()=>{h(!0),Y.scrollToIndex(L.length-1,{align:"end"})},ee=p.useCallback(async R=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(R),!0}catch{}if(typeof document>"u")return!1;try{const te=document.createElement("textarea");te.value=R,te.setAttribute("readonly","true"),te.style.position="fixed",te.style.left="-9999px",document.body.appendChild(te),te.select();const he=document.execCommand("copy");return document.body.removeChild(te),he}catch{return!1}},[]),de=async()=>{if(!V)return;const R=[];for(const he of L){const ae=e.getLine(he);ae&&R.push(p5(ae,w))}const te=await ee(R.join(`
`));x(te),te&&window.setTimeout(()=>x(!1),1500)},be=p.useCallback(R=>{!R.raw||typeof R.raw!="object"||(j(R),M(!0))},[]),D=()=>{M(!1)};return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-[#2a2a2a] bg-[#1e1e1e] font-mono text-[13px] leading-relaxed text-[#d4d4d4] shadow-[0_8px_24px_rgba(0,0,0,0.45)]",children:[l.jsxs("div",{className:"flex flex-col border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#232323]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-[#9da5b4]",children:[l.jsx("span",{className:"font-semibold tracking-[0.3em] text-slate-200",children:"ADE"}),l.jsx("span",{className:"text-slate-400",children:"Terminal"}),P?l.jsx("span",{className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-slate-200",children:P}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter logs by scope",children:["Origin",l.jsxs("select",{value:o.origin,onChange:R=>u(te=>({...te,origin:R.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by severity",children:["Level",l.jsxs("select",{value:o.level,onChange:R=>u(te=>({...te,level:R.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"debug",children:"Debug"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>d?h(!1):U(),className:pe("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",d?"border border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),title:"Auto-scroll to newest logs",children:d?"Following":"Follow"}),l.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"View"}),l.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",role:"radio","aria-checked":w==="parsed",onClick:()=>C("parsed"),className:pe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="parsed"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"Parsed"}),l.jsx("button",{type:"button",role:"radio","aria-checked":w==="ndjson",onClick:()=>C("ndjson"),className:pe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="ndjson"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"NDJSON"})]})]}),l.jsx("button",{type:"button",onClick:de,className:pe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",g?"border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),disabled:!V,title:Q?"Copy visible console output":"Copy may be blocked by browser permissions",children:g?"Copied":"Copy"}),l.jsx("button",{type:"button",onClick:()=>a?.(),className:"rounded border border-slate-600 bg-[#0f0f0f] px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-200 transition hover:border-slate-400",title:"Clear console output",children:"Clear"})]})]}),n?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-[#2a2a2a] bg-[#181818] px-4 py-1.5 text-[11px] text-[#7f8794]",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(o5,{status:n.status}),l.jsxs("span",{className:"truncate",title:n.runId,children:["Run ",n.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[n.documentName??"Document not recorded",kb(n.sheetNames)?`  ${kb(n.sheetNames)}`:""]}),n.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",g5(n.durationMs)]}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-600",children:"Downloads"}),l.jsx(bh,{href:n.outputUrl,label:n.outputFilename?`Output (${n.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),l.jsx(bh,{href:n.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),l.jsx(bh,{href:n.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),l.jsx("div",{ref:k,onScroll:X,className:"flex-1 overflow-auto bg-[#1e1e1e] [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:V?l.jsx("div",{style:{height:Y.getTotalSize(),position:"relative"},children:Y.getVirtualItems().map(R=>{const te=L[R.index],he=typeof te=="number"?e.getLine(te):void 0;if(!he)return null;const ae=he.id??`${he.timestamp??"tbd"}-${he.origin??"run"}-${te}`,E=!!(he.raw&&typeof he.raw=="object"),Z=w==="ndjson"?l.jsx("span",{className:"whitespace-pre-wrap break-words",children:Fy(he)??he.message}):X2(he);return l.jsx("div",{"data-index":R.index,ref:Y.measureElement,className:"group flex items-start gap-3 border-b border-[#1a1a1a] px-3 py-[2px] transition hover:bg-[#232323] last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${R.start}px)`},children:l.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[f5(he.timestamp),l.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-[#606674]",children:Qh(he.origin)}),l.jsx("span",{className:pe("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",m5(he.level)),children:h5(he.level)}),l.jsx("div",{className:pe("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",c5(he.level)),children:Z}),E?l.jsx("button",{type:"button",onClick:()=>be(he),className:"ml-2 shrink-0 rounded border border-slate-700 bg-[#101010] px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.12em] text-slate-300 opacity-0 transition hover:border-slate-500 hover:text-slate-100 group-hover:opacity-100",title:"Inspect pretty JSON",children:"JSON"}):null]})},ae)})}):A?l.jsx(Nb,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):l.jsx(Nb,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})}),_&&N?.raw&&typeof N.raw=="object"?l.jsxs("div",{className:"border-t border-[#2a2a2a] bg-[#151515]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"min-w-0 truncate",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Inspector"}),N.timestamp?l.jsxs("span",{className:"ml-2 text-slate-500",children:["[",_m(N.timestamp),"]"]}):null,l.jsx("span",{className:"ml-2 text-slate-300",children:Qh(N.origin)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:async()=>{const R=N.raw,te=JSON.stringify(R,null,2),he=await ee(te);v(he),he&&window.setTimeout(()=>v(!1),1500)},className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Copy pretty JSON",children:b?"Copied":"Copy JSON"}),l.jsx("button",{type:"button",onClick:D,className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Close inspector",children:"Close"})]})]}),l.jsx("div",{className:"max-h-[260px] overflow-auto px-3 pb-3 [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:J2(N.raw)})]}):null]})}function Nb({title:e,description:n}){return l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:e}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:n})]})}function o5({status:e}){const n=d5(e),a=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:pe("inline-block h-2.5 w-2.5 rounded-full",a),"aria-hidden":!0})}function c5(e){switch(e){case"warning":return"text-amber-100";case"error":return"text-rose-100";case"success":return"text-emerald-100";default:return"text-[#d4d4d4]"}}function u5(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function d5(e){return e==="cancelled"}function Qh(e){return e==="build"?"[build]":"[run]"}function f5(e){const n=_m(e);return n?l.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#7a8090]",children:["[",n,"]"]}):l.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#4f5665]","aria-hidden":!0,children:""})}function h5(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function m5(e){switch(e){case"warning":return"text-amber-300";case"error":return"text-rose-300";case"success":return"text-emerald-300";default:return"text-[#6f7683]"}}function _m(e){if(!e)return"";const n=new Date(e);if(!Number.isNaN(n.getTime()))return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const a=e.trim();return a.length>0?a:""}function p5(e,n){const a=_m(e.timestamp),i=Qh(e.origin),o=u5(e.level).toLowerCase(),u=n==="ndjson"?Fy(e)??e.message??"":e.message??"";return`${a?`[${a}] `:""}${i} ${o} ${u}`.trim()}function kb(e){return e?e.length===0?"All worksheets":e.join(", "):null}function g5(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return`${n}m ${a}s`}function bh({href:e,label:n,disabledLabel:a,disabledReason:i}){const o=typeof e=="string"&&e.trim().length>0,u="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",d="border-slate-700 bg-[#101010] text-slate-200 hover:border-slate-500",h="border-slate-800 bg-[#0f0f0f] text-slate-600 cursor-not-allowed";return o?l.jsxs("a",{className:pe(u,d),href:e,title:n,children:[l.jsx(x5,{}),l.jsx("span",{className:"truncate",children:n})]}):l.jsx("span",{className:pe(u,h),title:i,children:a})}function x5(){return l.jsxs("svg",{viewBox:"0 0 20 20",className:"h-3.5 w-3.5 text-slate-300",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 3v8m0 0 3-3m-3 3-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 13.5v2A1.5 1.5 0 0 0 5.5 17h9A1.5 1.5 0 0 0 16 15.5v-2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function b5({validation:e}){const n=y5(e),a=w5(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",j5(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,o)=>l.jsxs("li",{className:v5(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??o}-${o}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:a})]})}function v5(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function y5(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function w5(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function j5(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function S5({height:e,console:n,validation:a,activePane:i,onPaneChange:o,latestRun:u,onClearConsole:d,runStatus:h,onToggleCollapse:g,appearance:x="light"}){const b=a.messages.length>0,v=x==="dark"?{surface:"border-[#1f2431] bg-[#0f111a] text-slate-100",header:"border-[#1f2431] bg-[#0f111a]",hideButton:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{surface:"border-slate-200 bg-slate-50 text-slate-800",header:"border-slate-200 bg-slate-50",hideButton:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"};return l.jsx("section",{className:pe("flex min-h-0 flex-col overflow-hidden border-t",v.surface),style:{height:e},children:l.jsxs(By,{value:i,onValueChange:w=>o(w),children:[l.jsxs("div",{className:pe("flex flex-none items-center justify-between border-b px-3 py-1.5",v.header),onDoubleClick:g,title:g?"Double-click to hide console":void 0,children:[l.jsxs($y,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Vh,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Vh,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",b?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:a.messages.length}):null]})]}),g?l.jsx("button",{type:"button",onClick:g,className:pe("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",v.hideButton),title:"Hide console",children:"Hide"}):null]}),l.jsx(Ph,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(l5,{console:n,latestRun:u,onClearConsole:d,runStatus:h})}),l.jsx(Ph,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(b5,{validation:a})})]})})}function C5({containerRef:e,tabs:n,activeTabId:a,onCloseTab:i,onSelectRecentTab:o,onSelectTab:u}){return p.useEffect(()=>{if(!n.length)return;const d=g=>{const x=e.current;if(!x)return!1;const b=g.target;if(b instanceof Node&&x.contains(b))return!0;const v=document.activeElement;return!!(v&&x.contains(v))},h=g=>{if(!(g.ctrlKey||g.metaKey)||!d(g))return;if(g.key.toLowerCase()==="w"){if(!a)return;g.preventDefault(),i(a);return}if(g.key==="Tab"){if(n.length<2)return;g.preventDefault(),o(g.shiftKey?"backward":"forward");return}const x=b=>{if(n.length<2)return;const v=n.findIndex(j=>j.id===a),C=((v>=0?v:0)+b+n.length)%n.length,N=n[C];N&&u(N.id)};if(g.key==="PageUp"){g.preventDefault(),x(-1);return}g.key==="PageDown"&&(g.preventDefault(),x(1))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[n,a,i,o,u,e]),null}const N5=p.lazy(()=>uS(()=>import("./MonacoCodeEditor-B3UQYenW.js"),[])),k5=p.forwardRef(function(n,a){const{className:i,...o}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:pe("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(N5,{...o,ref:a,className:i})})});function E5({tabs:e,activeTabId:n,editorTheme:a,onContentChange:i,onSaveTab:o,canSaveFiles:u=!1,readOnly:d=!1,onRetryTabLoad:h,onSelectTab:g,isTabDragging:x=!1}){return p.useMemo(()=>e.find(v=>v.id===n)??null,[e,n])?l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(v=>l.jsx(Ph,{value:v.id,className:"flex min-h-0 min-w-0 flex-1",children:v.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",v.name,""]}):v.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:v.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>h?h(v.id):g(v.id),children:"Retry loading"})]}):l.jsx("div",{className:pe("flex min-h-0 min-w-0 flex-1",x&&"pointer-events-none select-none"),children:l.jsx(k5,{value:v.content,language:v.language??"plaintext",path:v.id,theme:a,readOnly:d,onChange:w=>i(v.id,w??""),onSaveShortcut:()=>{u&&o?.(v.id)}})})},v.id))}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."})}function _5(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>i=>{n.forEach(o=>o(i))},n)}const Fu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function al(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Dm(e){return"nodeType"in e}function ls(e){var n,a;return e?al(e)?e:Dm(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function Am(e){const{Document:n}=ls(e);return e instanceof n}function To(e){return al(e)?!1:e instanceof ls(e).HTMLElement}function Zy(e){return e instanceof ls(e).SVGElement}function rl(e){return e?al(e)?e.document:Dm(e)?Am(e)?e:To(e)||Zy(e)?e.ownerDocument:document:document:document}const ma=Fu?p.useLayoutEffect:p.useEffect;function Tm(e){const n=p.useRef(e);return ma(()=>{n.current=e}),p.useCallback(function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n.current==null?void 0:n.current(...i)},[])}function D5(){const e=p.useRef(null),n=p.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function jo(e,n){n===void 0&&(n=[e]);const a=p.useRef(e);return ma(()=>{a.current!==e&&(a.current=e)},n),a}function Mo(e,n){const a=p.useRef();return p.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function ju(e){const n=Tm(e),a=p.useRef(null),i=p.useCallback(o=>{o!==a.current&&n?.(o,a.current),a.current=o},[]);return[a,i]}function Wh(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let vh={};function Ro(e,n){return p.useMemo(()=>{if(n)return n;const a=vh[e]==null?0:vh[e]+1;return vh[e]=a,e+"-"+a},[e,n])}function Iy(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return i.reduce((u,d)=>{const h=Object.entries(d);for(const[g,x]of h){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const Gi=Iy(1),Su=Iy(-1);function A5(e){return"clientX"in e&&"clientY"in e}function Mm(e){if(!e)return!1;const{KeyboardEvent:n}=ls(e.target);return n&&e instanceof n}function T5(e){if(!e)return!1;const{TouchEvent:n}=ls(e.target);return n&&e instanceof n}function Kh(e){if(T5(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return A5(e)?{x:e.clientX,y:e.clientY}:null}const So=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[So.Translate.toString(e),So.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Eb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function M5(e){return e.matches(Eb)?e:e.querySelector(Eb)}const R5={display:"none"};function z5(e){let{id:n,value:a}=e;return Rt.createElement("div",{id:n,style:R5},a)}function O5(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rt.createElement("div",{id:n,style:o,role:"status","aria-live":i,"aria-atomic":!0},a)}function L5(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Vy=p.createContext(null);function U5(e){const n=p.useContext(Vy);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function B5(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:o,event:u}=i;e.forEach(d=>{var h;return(h=d[o])==null?void 0:h.call(d,u)})},[e]),n]}const $5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},q5={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function F5(e){let{announcements:n=q5,container:a,hiddenTextDescribedById:i,screenReaderInstructions:o=$5}=e;const{announce:u,announcement:d}=L5(),h=Ro("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),U5(p.useMemo(()=>({onDragStart(v){let{active:w}=v;u(n.onDragStart({active:w}))},onDragMove(v){let{active:w,over:C}=v;n.onDragMove&&u(n.onDragMove({active:w,over:C}))},onDragOver(v){let{active:w,over:C}=v;u(n.onDragOver({active:w,over:C}))},onDragEnd(v){let{active:w,over:C}=v;u(n.onDragEnd({active:w,over:C}))},onDragCancel(v){let{active:w,over:C}=v;u(n.onDragCancel({active:w,over:C}))}}),[u,n])),!g)return null;const b=Rt.createElement(Rt.Fragment,null,Rt.createElement(z5,{id:i,value:o.draggable}),Rt.createElement(O5,{id:h,announcement:d}));return a?js.createPortal(b,a):b}var yn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(yn||(yn={}));function Cu(){}function H5(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function Z5(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const ea=Object.freeze({x:0,y:0});function I5(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function V5(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return a-i}function P5(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function Q5(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function _b(e,n,a){return n===void 0&&(n=e.left),a===void 0&&(a=e.top),{x:n+e.width*.5,y:a+e.height*.5}}const W5=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const o=_b(n,n.left,n.top),u=[];for(const d of i){const{id:h}=d,g=a.get(h);if(g){const x=I5(_b(g),o);u.push({id:h,data:{droppableContainer:d,value:x}})}}return u.sort(V5)};function K5(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),d=o-i,h=u-a;if(i<o&&a<u){const g=n.width*n.height,x=e.width*e.height,b=d*h,v=b/(g+x-b);return Number(v.toFixed(4))}return 0}const G5=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const o=[];for(const u of i){const{id:d}=u,h=a.get(d);if(h){const g=K5(h,n);g>0&&o.push({id:d,data:{droppableContainer:u,value:g}})}}return o.sort(P5)};function Y5(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function Py(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:ea}function X5(e){return function(a){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return o.reduce((d,h)=>({...d,top:d.top+e*h.y,bottom:d.bottom+e*h.y,left:d.left+e*h.x,right:d.right+e*h.x}),{...a})}}const J5=X5(1);function eD(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function tD(e,n,a){const i=eD(n);if(!i)return e;const{scaleX:o,scaleY:u,x:d,y:h}=i,g=e.left-d-(1-o)*parseFloat(a),x=e.top-h-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=o?e.width/o:e.width,v=u?e.height/u:e.height;return{width:b,height:v,top:x,right:g+b,bottom:x+v,left:g}}const nD={ignoreTransform:!1};function il(e,n){n===void 0&&(n=nD);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=ls(e).getComputedStyle(e);x&&(a=tD(a,x,b))}const{top:i,left:o,width:u,height:d,bottom:h,right:g}=a;return{top:i,left:o,width:u,height:d,bottom:h,right:g}}function Db(e){return il(e,{ignoreTransform:!0})}function sD(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function aD(e,n){return n===void 0&&(n=ls(e).getComputedStyle(e)),n.position==="fixed"}function rD(e,n){n===void 0&&(n=ls(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=n[o];return typeof u=="string"?a.test(u):!1})}function Rm(e,n){const a=[];function i(o){if(n!=null&&a.length>=n||!o)return a;if(Am(o)&&o.scrollingElement!=null&&!a.includes(o.scrollingElement))return a.push(o.scrollingElement),a;if(!To(o)||Zy(o)||a.includes(o))return a;const u=ls(e).getComputedStyle(o);return o!==e&&rD(o,u)&&a.push(o),aD(o,u)?a:i(o.parentNode)}return e?i(e):a}function Qy(e){const[n]=Rm(e,1);return n??null}function yh(e){return!Fu||!e?null:al(e)?e:Dm(e)?Am(e)||e===rl(e).scrollingElement?window:To(e)?e:null:null}function Wy(e){return al(e)?e.scrollX:e.scrollLeft}function Ky(e){return al(e)?e.scrollY:e.scrollTop}function Gh(e){return{x:Wy(e),y:Ky(e)}}var En;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(En||(En={}));function Gy(e){return!Fu||!e?!1:e===document.scrollingElement}function Yy(e){const n={x:0,y:0},a=Gy(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},o=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,h=e.scrollLeft>=i.x;return{isTop:o,isLeft:u,isBottom:d,isRight:h,maxScroll:i,minScroll:n}}const iD={x:.2,y:.2};function lD(e,n,a,i,o){let{top:u,left:d,right:h,bottom:g}=a;i===void 0&&(i=10),o===void 0&&(o=iD);const{isTop:x,isBottom:b,isLeft:v,isRight:w}=Yy(e),C={x:0,y:0},N={x:0,y:0},j={height:n.height*o.y,width:n.width*o.x};return!x&&u<=n.top+j.height?(C.y=En.Backward,N.y=i*Math.abs((n.top+j.height-u)/j.height)):!b&&g>=n.bottom-j.height&&(C.y=En.Forward,N.y=i*Math.abs((n.bottom-j.height-g)/j.height)),!w&&h>=n.right-j.width?(C.x=En.Forward,N.x=i*Math.abs((n.right-j.width-h)/j.width)):!v&&d<=n.left+j.width&&(C.x=En.Backward,N.x=i*Math.abs((n.left+j.width-d)/j.width)),{direction:C,speed:N}}function oD(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:n,left:a,right:i,bottom:o}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Xy(e){return e.reduce((n,a)=>Gi(n,Gh(a)),ea)}function cD(e){return e.reduce((n,a)=>n+Wy(a),0)}function uD(e){return e.reduce((n,a)=>n+Ky(a),0)}function dD(e,n){if(n===void 0&&(n=il),!e)return;const{top:a,left:i,bottom:o,right:u}=n(e);Qy(e)&&(o<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const fD=[["x",["left","right"],cD],["y",["top","bottom"],uD]];class zm{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Rm(a),o=Xy(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,d,h]of fD)for(const g of d)Object.defineProperty(this,g,{get:()=>{const x=h(i),b=o[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fo{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var o;(o=this.target)==null||o.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function hD(e){const{EventTarget:n}=ls(e);return e instanceof n?e:rl(e)}function wh(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var Bs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Bs||(Bs={}));function Ab(e){e.preventDefault()}function mD(e){e.stopPropagation()}var yt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(yt||(yt={}));const Jy={start:[yt.Space,yt.Enter],cancel:[yt.Esc],end:[yt.Space,yt.Enter,yt.Tab]},pD=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case yt.Right:return{...a,x:a.x+25};case yt.Left:return{...a,x:a.x-25};case yt.Down:return{...a,y:a.y+25};case yt.Up:return{...a,y:a.y-25}}};class ew{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new fo(rl(a)),this.windowListeners=new fo(ls(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bs.Resize,this.handleCancel),this.windowListeners.add(Bs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&dD(i),a(ea)}handleKeyDown(n){if(Mm(n)){const{active:a,context:i,options:o}=this.props,{keyboardCodes:u=Jy,coordinateGetter:d=pD,scrollBehavior:h="smooth"}=o,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:ea;this.referenceCoordinates||(this.referenceCoordinates=b);const v=d(n,{active:a,context:i.current,currentCoordinates:b});if(v){const w=Su(v,b),C={x:0,y:0},{scrollableAncestors:N}=i.current;for(const j of N){const _=n.code,{isTop:M,isRight:k,isLeft:B,isBottom:W,maxScroll:L,minScroll:V}=Yy(j),A=oD(j),P={x:Math.min(_===yt.Right?A.right-A.width/2:A.right,Math.max(_===yt.Right?A.left:A.left+A.width/2,v.x)),y:Math.min(_===yt.Down?A.bottom-A.height/2:A.bottom,Math.max(_===yt.Down?A.top:A.top+A.height/2,v.y))},Q=_===yt.Right&&!k||_===yt.Left&&!B,Y=_===yt.Down&&!W||_===yt.Up&&!M;if(Q&&P.x!==v.x){const X=j.scrollLeft+w.x,U=_===yt.Right&&X<=L.x||_===yt.Left&&X>=V.x;if(U&&!w.y){j.scrollTo({left:X,behavior:h});return}U?C.x=j.scrollLeft-X:C.x=_===yt.Right?j.scrollLeft-L.x:j.scrollLeft-V.x,C.x&&j.scrollBy({left:-C.x,behavior:h});break}else if(Y&&P.y!==v.y){const X=j.scrollTop+w.y,U=_===yt.Down&&X<=L.y||_===yt.Up&&X>=V.y;if(U&&!w.x){j.scrollTo({top:X,behavior:h});return}U?C.y=j.scrollTop-X:C.y=_===yt.Down?j.scrollTop-L.y:j.scrollTop-V.y,C.y&&j.scrollBy({top:-C.y,behavior:h});break}}this.handleMove(n,Gi(Su(v,this.referenceCoordinates),C))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ew.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=Jy,onActivation:o}=n,{active:u}=a;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const h=u.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Tb(e){return!!(e&&"distance"in e)}function Mb(e){return!!(e&&"delay"in e)}class Om{constructor(n,a,i){var o;i===void 0&&(i=hD(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:d}=u;this.props=n,this.events=a,this.document=rl(d),this.documentListeners=new fo(this.document),this.listeners=new fo(i),this.windowListeners=new fo(ls(d)),this.initialCoordinates=(o=Kh(u))!=null?o:ea,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Bs.Resize,this.handleCancel),this.windowListeners.add(Bs.DragStart,Ab),this.windowListeners.add(Bs.VisibilityChange,this.handleCancel),this.windowListeners.add(Bs.ContextMenu,Ab),this.documentListeners.add(Bs.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Mb(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Tb(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:o}=this.props;o(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(Bs.Click,mD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bs.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:o,props:u}=this,{onMove:d,options:{activationConstraint:h}}=u;if(!o)return;const g=(a=Kh(n))!=null?a:ea,x=Su(o,g);if(!i&&h){if(Tb(h)){if(h.tolerance!=null&&wh(x,h.tolerance))return this.handleCancel();if(wh(x,h.distance))return this.handleStart()}if(Mb(h)&&wh(x,h.tolerance))return this.handleCancel();this.handlePending(h,x);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===yt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const gD={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Lm extends Om{constructor(n){const{event:a}=n,i=rl(a.target);super(n,gD,i)}}Lm.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const xD={move:{name:"mousemove"},end:{name:"mouseup"}};var Yh;(function(e){e[e.RightClick=2]="RightClick"})(Yh||(Yh={}));class bD extends Om{constructor(n){super(n,xD,rl(n.event.target))}}bD.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Yh.RightClick?!1:(i?.({event:a}),!0)}}];const jh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vD extends Om{constructor(n){super(n,jh)}static setup(){return window.addEventListener(jh.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(jh.move.name,n)};function n(){}}}vD.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:o}=a;return o.length>1?!1:(i?.({event:a}),!0)}}];var ho;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ho||(ho={}));var Nu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Nu||(Nu={}));function yD(e){let{acceleration:n,activator:a=ho.Pointer,canScroll:i,draggingRect:o,enabled:u,interval:d=5,order:h=Nu.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:v,threshold:w}=e;const C=jD({delta:v,disabled:!u}),[N,j]=D5(),_=p.useRef({x:0,y:0}),M=p.useRef({x:0,y:0}),k=p.useMemo(()=>{switch(a){case ho.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case ho.DraggableRect:return o}},[a,o,g]),B=p.useRef(null),W=p.useCallback(()=>{const V=B.current;if(!V)return;const A=_.current.x*M.current.x,P=_.current.y*M.current.y;V.scrollBy(A,P)},[]),L=p.useMemo(()=>h===Nu.TreeOrder?[...x].reverse():x,[h,x]);p.useEffect(()=>{if(!u||!x.length||!k){j();return}for(const V of L){if(i?.(V)===!1)continue;const A=x.indexOf(V),P=b[A];if(!P)continue;const{direction:Q,speed:Y}=lD(V,P,k,n,w);for(const X of["x","y"])C[X][Q[X]]||(Y[X]=0,Q[X]=0);if(Y.x>0||Y.y>0){j(),B.current=V,N(W,d),_.current=Y,M.current=Q;return}}_.current={x:0,y:0},M.current={x:0,y:0},j()},[n,W,i,j,u,d,JSON.stringify(k),JSON.stringify(C),N,x,L,b,JSON.stringify(w)])}const wD={x:{[En.Backward]:!1,[En.Forward]:!1},y:{[En.Backward]:!1,[En.Forward]:!1}};function jD(e){let{delta:n,disabled:a}=e;const i=Wh(n);return Mo(o=>{if(a||!i||!o)return wD;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[En.Backward]:o.x[En.Backward]||u.x===-1,[En.Forward]:o.x[En.Forward]||u.x===1},y:{[En.Backward]:o.y[En.Backward]||u.y===-1,[En.Forward]:o.y[En.Forward]||u.y===1}}},[a,n,i])}function SD(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Mo(o=>{var u;return n==null?null:(u=i??o)!=null?u:null},[i,n])}function CD(e,n){return p.useMemo(()=>e.reduce((a,i)=>{const{sensor:o}=i,u=o.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...a,...u]},[]),[e,n])}var Co;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Co||(Co={}));var Xh;(function(e){e.Optimized="optimized"})(Xh||(Xh={}));const Rb=new Map;function ND(e,n){let{dragging:a,dependencies:i,config:o}=n;const[u,d]=p.useState(null),{frequency:h,measure:g,strategy:x}=o,b=p.useRef(e),v=_(),w=jo(v),C=p.useCallback(function(M){M===void 0&&(M=[]),!w.current&&d(k=>k===null?M:k.concat(M.filter(B=>!k.includes(B))))},[w]),N=p.useRef(null),j=Mo(M=>{if(v&&!a)return Rb;if(!M||M===Rb||b.current!==e||u!=null){const k=new Map;for(let B of e){if(!B)continue;if(u&&u.length>0&&!u.includes(B.id)&&B.rect.current){k.set(B.id,B.rect.current);continue}const W=B.node.current,L=W?new zm(g(W),W):null;B.rect.current=L,L&&k.set(B.id,L)}return k}return M},[e,u,a,v,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{v||C()},[a,v]),p.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),p.useEffect(()=>{v||typeof h!="number"||N.current!==null||(N.current=setTimeout(()=>{C(),N.current=null},h))},[h,v,C,...i]),{droppableRects:j,measureDroppableContainers:C,measuringScheduled:u!=null};function _(){switch(x){case Co.Always:return!1;case Co.BeforeDragging:return a;default:return!a}}}function tw(e,n){return Mo(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function kD(e,n){return tw(e,n)}function ED(e){let{callback:n,disabled:a}=e;const i=Tm(n),o=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function Hu(e){let{callback:n,disabled:a}=e;const i=Tm(n),o=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function _D(e){return new zm(il(e),e)}function zb(e,n,a){n===void 0&&(n=_D);const[i,o]=p.useState(null);function u(){o(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??a)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=ED({callback(g){if(e)for(const x of g){const{type:b,target:v}=x;if(b==="childList"&&v instanceof HTMLElement&&v.contains(e)){u();break}}}}),h=Hu({callback:u});return ma(()=>{u(),e?(h?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),d?.disconnect())},[e]),i}function DD(e){const n=tw(e);return Py(e,n)}const Ob=[];function AD(e){const n=p.useRef(e),a=Mo(i=>e?i&&i!==Ob&&e&&n.current&&e.parentNode===n.current.parentNode?i:Rm(e):Ob,[e]);return p.useEffect(()=>{n.current=e},[e]),a}function TD(e){const[n,a]=p.useState(null),i=p.useRef(e),o=p.useCallback(u=>{const d=yh(u.target);d&&a(h=>h?(h.set(d,Gh(d)),new Map(h)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){d(u);const h=e.map(g=>{const x=yh(g);return x?(x.addEventListener("scroll",o,{passive:!0}),[x,Gh(x)]):null}).filter(g=>g!=null);a(h.length?new Map(h):null),i.current=e}return()=>{d(e),d(u)};function d(h){h.forEach(g=>{const x=yh(g);x?.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,d)=>Gi(u,d),ea):Xy(e):ea,[e,n])}function Lb(e,n){n===void 0&&(n=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},n),p.useEffect(()=>{const i=e!==ea;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Su(e,a.current):ea}function MD(e){p.useEffect(()=>{if(!Fu)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function RD(e,n){return p.useMemo(()=>e.reduce((a,i)=>{let{eventName:o,handler:u}=i;return a[o]=d=>{u(d,n)},a},{}),[e,n])}function nw(e){return p.useMemo(()=>e?sD(e):null,[e])}const Ub=[];function zD(e,n){n===void 0&&(n=il);const[a]=e,i=nw(a?ls(a):null),[o,u]=p.useState(Ub);function d(){u(()=>e.length?e.map(g=>Gy(g)?i:new zm(n(g),g)):Ub)}const h=Hu({callback:d});return ma(()=>{h?.disconnect(),d(),e.forEach(g=>h?.observe(g))},[e]),o}function OD(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return To(n)?n:e}function LD(e){let{measure:n}=e;const[a,i]=p.useState(null),o=p.useCallback(x=>{for(const{target:b}of x)if(To(b)){i(v=>{const w=n(b);return v?{...v,width:w.width,height:w.height}:w});break}},[n]),u=Hu({callback:o}),d=p.useCallback(x=>{const b=OD(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[h,g]=ju(d);return p.useMemo(()=>({nodeRef:h,rect:a,setRef:g}),[a,h,g])}const UD=[{sensor:Lm,options:{}},{sensor:ew,options:{}}],BD={current:{}},lu={draggable:{measure:Db},droppable:{measure:Db,strategy:Co.WhileDragging,frequency:Xh.Optimized},dragOverlay:{measure:il}};class mo extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const $D={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lu,measureDroppableContainers:Cu,windowRect:null,measuringScheduled:!1},qD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cu,draggableNodes:new Map,over:null,measureDroppableContainers:Cu},Zu=p.createContext(qD),sw=p.createContext($D);function FD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mo}}}function HD(e,n){switch(n.type){case yn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case yn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case yn.DragEnd:case yn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yn.RegisterDroppable:{const{element:a}=n,{id:i}=a,o=new mo(e.droppable.containers);return o.set(i,a),{...e,droppable:{...e.droppable,containers:o}}}case yn.SetDroppableDisabled:{const{id:a,key:i,disabled:o}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const d=new mo(e.droppable.containers);return d.set(a,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case yn.UnregisterDroppable:{const{id:a,key:i}=n,o=e.droppable.containers.get(a);if(!o||i!==o.key)return e;const u=new mo(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function ZD(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:o}=p.useContext(Zu),u=Wh(i),d=Wh(a?.id);return p.useEffect(()=>{if(!n&&!i&&u&&d!=null){if(!Mm(u)||document.activeElement===u.target)return;const h=o.get(d);if(!h)return;const{activatorNode:g,node:x}=h;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const v=M5(b);if(v){v.focus();break}}})}},[i,n,o,d,u]),null}function ID(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...i}),a):a}function VD(e){return p.useMemo(()=>({draggable:{...lu.draggable,...e?.draggable},droppable:{...lu.droppable,...e?.droppable},dragOverlay:{...lu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function PD(e){let{activeNode:n,measure:a,initialRect:i,config:o=!0}=e;const u=p.useRef(!1),{x:d,y:h}=typeof o=="boolean"?{x:o,y:o}:o;ma(()=>{if(!d&&!h||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=a(x),v=Py(b,i);if(d||(v.x=0),h||(v.y=0),u.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=Qy(x);w&&w.scrollBy({top:v.y,left:v.x})}},[n,d,h,i,a])}const aw=p.createContext({...ea,scaleX:1,scaleY:1});var br;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(br||(br={}));const QD=p.memo(function(n){var a,i,o,u;let{id:d,accessibility:h,autoScroll:g=!0,children:x,sensors:b=UD,collisionDetection:v=G5,measuring:w,modifiers:C,...N}=n;const j=p.useReducer(HD,void 0,FD),[_,M]=j,[k,B]=B5(),[W,L]=p.useState(br.Uninitialized),V=W===br.Initialized,{draggable:{active:A,nodes:P,translate:Q},droppable:{containers:Y}}=_,X=A!=null?P.get(A):null,U=p.useRef({initial:null,translated:null}),ee=p.useMemo(()=>{var ft;return A!=null?{id:A,data:(ft=X?.data)!=null?ft:BD,rect:U}:null},[A,X]),de=p.useRef(null),[be,D]=p.useState(null),[R,te]=p.useState(null),he=jo(N,Object.values(N)),ae=Ro("DndDescribedBy",d),E=p.useMemo(()=>Y.getEnabled(),[Y]),Z=VD(w),{droppableRects:le,measureDroppableContainers:F,measuringScheduled:J}=ND(E,{dragging:V,dependencies:[Q.x,Q.y],config:Z.droppable}),$=SD(P,A),K=p.useMemo(()=>R?Kh(R):null,[R]),H=Ot(),ne=kD($,Z.draggable.measure);PD({activeNode:A!=null?P.get(A):null,config:H.layoutShiftCompensation,initialRect:ne,measure:Z.draggable.measure});const Se=zb($,Z.draggable.measure,ne),Be=zb($?$.parentElement:null),Qe=p.useRef({activatorEvent:null,active:null,activeNode:$,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=Y.getNodeFor((a=Qe.current.over)==null?void 0:a.id),ye=LD({measure:Z.dragOverlay.measure}),Ee=(i=ye.nodeRef.current)!=null?i:$,He=V?(o=ye.rect)!=null?o:Se:null,We=!!(ye.nodeRef.current&&ye.rect),Je=DD(We?null:Se),_t=nw(Ee?ls(Ee):null),T=AD(V?rt??$:null),I=zD(T),ce=ID(C,{transform:{x:Q.x-Je.x,y:Q.y-Je.y,scaleX:1,scaleY:1},activatorEvent:R,active:ee,activeNodeRect:Se,containerNodeRect:Be,draggingNodeRect:He,over:Qe.current.over,overlayNodeRect:ye.rect,scrollableAncestors:T,scrollableAncestorRects:I,windowRect:_t}),_e=K?Gi(K,Q):null,je=TD(T),Ce=Lb(je),ze=Lb(je,[Se]),ge=Gi(ce,Ce),ke=He?J5(He,ce):null,Oe=ee&&ke?v({active:ee,collisionRect:ke,droppableRects:le,droppableContainers:E,pointerCoordinates:_e}):null,we=Q5(Oe,"id"),[Te,Ze]=p.useState(null),mt=We?ce:Gi(ce,ze),et=Y5(mt,(u=Te?.rect)!=null?u:null,Se),zt=p.useRef(null),$t=p.useCallback((ft,bt)=>{let{sensor:Vt,options:xn}=bt;if(de.current==null)return;const An=P.get(de.current);if(!An)return;const on=ft.nativeEvent,Sn=new Vt({active:de.current,activeNode:An,event:on,options:xn,context:Qe,onAbort(Yt){if(!P.get(Yt))return;const{onDragAbort:Tn}=he.current,Kn={id:Yt};Tn?.(Kn),k({type:"onDragAbort",event:Kn})},onPending(Yt,cs,Tn,Kn){if(!P.get(Yt))return;const{onDragPending:Ns}=he.current,Gn={id:Yt,constraint:cs,initialCoordinates:Tn,offset:Kn};Ns?.(Gn),k({type:"onDragPending",event:Gn})},onStart(Yt){const cs=de.current;if(cs==null)return;const Tn=P.get(cs);if(!Tn)return;const{onDragStart:Kn}=he.current,Cs={activatorEvent:on,active:{id:cs,data:Tn.data,rect:U}};js.unstable_batchedUpdates(()=>{Kn?.(Cs),L(br.Initializing),M({type:yn.DragStart,initialCoordinates:Yt,active:cs}),k({type:"onDragStart",event:Cs}),D(zt.current),te(on)})},onMove(Yt){M({type:yn.DragMove,coordinates:Yt})},onEnd:Wn(yn.DragEnd),onCancel:Wn(yn.DragCancel)});zt.current=Sn;function Wn(Yt){return async function(){const{active:Tn,collisions:Kn,over:Cs,scrollAdjustedTranslate:Ns}=Qe.current;let Gn=null;if(Tn&&Ns){const{cancelDrop:us}=he.current;Gn={activatorEvent:on,active:Tn,collisions:Kn,delta:Ns,over:Cs},Yt===yn.DragEnd&&typeof us=="function"&&await Promise.resolve(us(Gn))&&(Yt=yn.DragCancel)}de.current=null,js.unstable_batchedUpdates(()=>{M({type:Yt}),L(br.Uninitialized),Ze(null),D(null),te(null),zt.current=null;const us=Yt===yn.DragEnd?"onDragEnd":"onDragCancel";if(Gn){const Hn=he.current[us];Hn?.(Gn),k({type:us,event:Gn})}})}}},[P]),os=p.useCallback((ft,bt)=>(Vt,xn)=>{const An=Vt.nativeEvent,on=P.get(xn);if(de.current!==null||!on||An.dndKit||An.defaultPrevented)return;const Sn={active:on};ft(Vt,bt.options,Sn)===!0&&(An.dndKit={capturedBy:bt.sensor},de.current=xn,$t(Vt,bt))},[P,$t]),fe=CD(b,os);MD(b),ma(()=>{Se&&W===br.Initializing&&L(br.Initialized)},[Se,W]),p.useEffect(()=>{const{onDragMove:ft}=he.current,{active:bt,activatorEvent:Vt,collisions:xn,over:An}=Qe.current;if(!bt||!Vt)return;const on={active:bt,activatorEvent:Vt,collisions:xn,delta:{x:ge.x,y:ge.y},over:An};js.unstable_batchedUpdates(()=>{ft?.(on),k({type:"onDragMove",event:on})})},[ge.x,ge.y]),p.useEffect(()=>{const{active:ft,activatorEvent:bt,collisions:Vt,droppableContainers:xn,scrollAdjustedTranslate:An}=Qe.current;if(!ft||de.current==null||!bt||!An)return;const{onDragOver:on}=he.current,Sn=xn.get(we),Wn=Sn&&Sn.rect.current?{id:Sn.id,rect:Sn.rect.current,data:Sn.data,disabled:Sn.disabled}:null,Yt={active:ft,activatorEvent:bt,collisions:Vt,delta:{x:An.x,y:An.y},over:Wn};js.unstable_batchedUpdates(()=>{Ze(Wn),on?.(Yt),k({type:"onDragOver",event:Yt})})},[we]),ma(()=>{Qe.current={activatorEvent:R,active:ee,activeNode:$,collisionRect:ke,collisions:Oe,droppableRects:le,draggableNodes:P,draggingNode:Ee,draggingNodeRect:He,droppableContainers:Y,over:Te,scrollableAncestors:T,scrollAdjustedTranslate:ge},U.current={initial:He,translated:ke}},[ee,$,Oe,ke,P,Ee,He,le,Y,Te,T,ge]),yD({...H,delta:Q,draggingRect:ke,pointerCoordinates:_e,scrollableAncestors:T,scrollableAncestorRects:I});const Me=p.useMemo(()=>({active:ee,activeNode:$,activeNodeRect:Se,activatorEvent:R,collisions:Oe,containerNodeRect:Be,dragOverlay:ye,draggableNodes:P,droppableContainers:Y,droppableRects:le,over:Te,measureDroppableContainers:F,scrollableAncestors:T,scrollableAncestorRects:I,measuringConfiguration:Z,measuringScheduled:J,windowRect:_t}),[ee,$,Se,R,Oe,Be,ye,P,Y,le,Te,F,T,I,Z,J,_t]),ct=p.useMemo(()=>({activatorEvent:R,activators:fe,active:ee,activeNodeRect:Se,ariaDescribedById:{draggable:ae},dispatch:M,draggableNodes:P,over:Te,measureDroppableContainers:F}),[R,fe,ee,Se,M,ae,P,Te,F]);return Rt.createElement(Vy.Provider,{value:B},Rt.createElement(Zu.Provider,{value:ct},Rt.createElement(sw.Provider,{value:Me},Rt.createElement(aw.Provider,{value:et},x)),Rt.createElement(ZD,{disabled:h?.restoreFocus===!1})),Rt.createElement(F5,{...h,hiddenTextDescribedById:ae}));function Ot(){const ft=be?.autoScrollEnabled===!1,bt=typeof g=="object"?g.enabled===!1:g===!1,Vt=V&&!ft&&!bt;return typeof g=="object"?{...g,enabled:Vt}:{enabled:Vt}}}),WD=p.createContext(null),Bb="button",KD="Draggable";function GD(e){let{id:n,data:a,disabled:i=!1,attributes:o}=e;const u=Ro(KD),{activators:d,activatorEvent:h,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:v,over:w}=p.useContext(Zu),{role:C=Bb,roleDescription:N="draggable",tabIndex:j=0}=o??{},_=g?.id===n,M=p.useContext(_?aw:WD),[k,B]=ju(),[W,L]=ju(),V=RD(d,n),A=jo(a);ma(()=>(v.set(n,{id:n,key:u,node:k,activatorNode:W,data:A}),()=>{const Q=v.get(n);Q&&Q.key===u&&v.delete(n)}),[v,n]);const P=p.useMemo(()=>({role:C,tabIndex:j,"aria-disabled":i,"aria-pressed":_&&C===Bb?!0:void 0,"aria-roledescription":N,"aria-describedby":b.draggable}),[i,C,j,_,N,b.draggable]);return{active:g,activatorEvent:h,activeNodeRect:x,attributes:P,isDragging:_,listeners:i?void 0:V,node:k,over:w,setNodeRef:B,setActivatorNodeRef:L,transform:M}}function YD(){return p.useContext(sw)}const XD="Droppable",JD={timeout:25};function eA(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:o}=e;const u=Ro(XD),{active:d,dispatch:h,over:g,measureDroppableContainers:x}=p.useContext(Zu),b=p.useRef({disabled:a}),v=p.useRef(!1),w=p.useRef(null),C=p.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:_}={...JD,...o},M=jo(j??i),k=p.useCallback(()=>{if(!v.current){v.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{x(Array.isArray(M.current)?M.current:[M.current]),C.current=null},_)},[_]),B=Hu({callback:k,disabled:N||!d}),W=p.useCallback((P,Q)=>{B&&(Q&&(B.unobserve(Q),v.current=!1),P&&B.observe(P))},[B]),[L,V]=ju(W),A=jo(n);return p.useEffect(()=>{!B||!L.current||(B.disconnect(),v.current=!1,B.observe(L.current))},[L,B]),p.useEffect(()=>(h({type:yn.RegisterDroppable,element:{id:i,key:u,disabled:a,node:L,rect:w,data:A}}),()=>h({type:yn.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{a!==b.current.disabled&&(h({type:yn.SetDroppableDisabled,id:i,key:u,disabled:a}),b.current.disabled=a)},[i,u,a,h]),{active:d,rect:w,isOver:g?.id===i,node:L,over:g,setNodeRef:V}}function rw(e,n,a){const i=e.slice();return i.splice(a<0?i.length+a:a,0,i.splice(n,1)[0]),i}function tA(e,n){return e.reduce((a,i,o)=>{const u=n.get(i);return u&&(a[o]=u),a},Array(e.length))}function nu(e){return e!==null&&e>=0}function nA(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}function sA(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const su={scaleX:1,scaleY:1},aA=e=>{var n;let{rects:a,activeNodeRect:i,activeIndex:o,overIndex:u,index:d}=e;const h=(n=a[o])!=null?n:i;if(!h)return null;const g=rA(a,d,o);if(d===o){const x=a[u];return x?{x:o<u?x.left+x.width-(h.left+h.width):x.left-h.left,y:0,...su}:null}return d>o&&d<=u?{x:-h.width-g,y:0,...su}:d<o&&d>=u?{x:h.width+g,y:0,...su}:{x:0,y:0,...su}};function rA(e,n,a){const i=e[n],o=e[n-1],u=e[n+1];return!i||!o&&!u?0:a<n?o?i.left-(o.left+o.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(o.left+o.width)}const iw=e=>{let{rects:n,activeIndex:a,overIndex:i,index:o}=e;const u=rw(n,i,a),d=n[o],h=u[o];return!h||!d?null:{x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height}},lw="Sortable",ow=Rt.createContext({activeIndex:-1,containerId:lw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:iw,disabled:{draggable:!1,droppable:!1}});function iA(e){let{children:n,id:a,items:i,strategy:o=iw,disabled:u=!1}=e;const{active:d,dragOverlay:h,droppableRects:g,over:x,measureDroppableContainers:b}=YD(),v=Ro(lw,a),w=h.rect!==null,C=p.useMemo(()=>i.map(V=>typeof V=="object"&&"id"in V?V.id:V),[i]),N=d!=null,j=d?C.indexOf(d.id):-1,_=x?C.indexOf(x.id):-1,M=p.useRef(C),k=!nA(C,M.current),B=_!==-1&&j===-1||k,W=sA(u);ma(()=>{k&&N&&b(C)},[k,C,N,b]),p.useEffect(()=>{M.current=C},[C]);const L=p.useMemo(()=>({activeIndex:j,containerId:v,disabled:W,disableTransforms:B,items:C,overIndex:_,useDragOverlay:w,sortedRects:tA(C,g),strategy:o}),[j,v,W.draggable,W.droppable,B,C,_,g,w,o]);return Rt.createElement(ow.Provider,{value:L},n)}const lA=e=>{let{id:n,items:a,activeIndex:i,overIndex:o}=e;return rw(a,i,o).indexOf(n)},oA=e=>{let{containerId:n,isSorting:a,wasDragging:i,index:o,items:u,newIndex:d,previousItems:h,previousContainerId:g,transition:x}=e;return!x||!i||h!==u&&o===d?!1:a?!0:d!==o&&n===g},cA={duration:200,easing:"ease"},cw="transform",uA=So.Transition.toString({property:cw,duration:0,easing:"linear"}),dA={roleDescription:"sortable"};function fA(e){let{disabled:n,index:a,node:i,rect:o}=e;const[u,d]=p.useState(null),h=p.useRef(a);return ma(()=>{if(!n&&a!==h.current&&i.current){const g=o.current;if(g){const x=il(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&d(b)}}a!==h.current&&(h.current=a)},[n,a,i,o]),p.useEffect(()=>{u&&d(null)},[u]),u}function hA(e){let{animateLayoutChanges:n=oA,attributes:a,disabled:i,data:o,getNewIndex:u=lA,id:d,strategy:h,resizeObserverConfig:g,transition:x=cA}=e;const{items:b,containerId:v,activeIndex:w,disabled:C,disableTransforms:N,sortedRects:j,overIndex:_,useDragOverlay:M,strategy:k}=p.useContext(ow),B=mA(i,C),W=b.indexOf(d),L=p.useMemo(()=>({sortable:{containerId:v,index:W,items:b},...o}),[v,o,W,b]),V=p.useMemo(()=>b.slice(b.indexOf(d)),[b,d]),{rect:A,node:P,isOver:Q,setNodeRef:Y}=eA({id:d,data:L,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:V,...g}}),{active:X,activatorEvent:U,activeNodeRect:ee,attributes:de,setNodeRef:be,listeners:D,isDragging:R,over:te,setActivatorNodeRef:he,transform:ae}=GD({id:d,data:L,attributes:{...dA,...a},disabled:B.draggable}),E=_5(Y,be),Z=!!X,le=Z&&!N&&nu(w)&&nu(_),F=!M&&R,J=F&&le?ae:null,K=le?J??(h??k)({rects:j,activeNodeRect:ee,activeIndex:w,overIndex:_,index:W}):null,H=nu(w)&&nu(_)?u({id:d,items:b,activeIndex:w,overIndex:_}):W,ne=X?.id,Se=p.useRef({activeId:ne,items:b,newIndex:H,containerId:v}),Be=b!==Se.current.items,Qe=n({active:X,containerId:v,isDragging:R,isSorting:Z,id:d,index:W,items:b,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:x,wasDragging:Se.current.activeId!=null}),rt=fA({disabled:!Qe,index:W,node:P,rect:A});return p.useEffect(()=>{Z&&Se.current.newIndex!==H&&(Se.current.newIndex=H),v!==Se.current.containerId&&(Se.current.containerId=v),b!==Se.current.items&&(Se.current.items=b)},[Z,H,v,b]),p.useEffect(()=>{if(ne===Se.current.activeId)return;if(ne!=null&&Se.current.activeId==null){Se.current.activeId=ne;return}const Ee=setTimeout(()=>{Se.current.activeId=ne},50);return()=>clearTimeout(Ee)},[ne]),{active:X,activeIndex:w,attributes:de,data:L,rect:A,index:W,newIndex:H,items:b,isOver:Q,isSorting:Z,isDragging:R,listeners:D,node:P,overIndex:_,over:te,setNodeRef:E,setActivatorNodeRef:he,setDroppableNodeRef:Y,setDraggableNodeRef:be,transform:rt??K,transition:ye()};function ye(){if(rt||Be&&Se.current.newIndex===W)return uA;if(!(F&&!Mm(U)||!x)&&(Z||Qe))return So.Transition.toString({...x,property:cw})}}function mA(e,n){var a,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}yt.Down,yt.Right,yt.Up,yt.Left;const pA=232,gA=30,Wr=6;function wr({open:e,position:n,onClose:a,items:i,appearance:o="dark"}){const u=p.useRef(null),d=p.useRef([]),[h,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(C=>!C.disabled),[i]),[b,v]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const C=i.length*gA+Wr*2,N=Math.max(Wr,(window.innerWidth||0)-pA-Wr),j=Math.max(Wr,(window.innerHeight||0)-C-Wr),_=Math.min(Math.max(n.x,Wr),N),M=Math.min(Math.max(n.y,Wr),j);g({x:_,y:M})},[e,n,i.length]),p.useEffect(()=>{e&&v(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;d.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const C=_=>{u.current&&(u.current.contains(_.target)||a())},N=_=>{if(u.current){if(u.current.contains(_.target)){_.preventDefault();return}a()}},j=_=>{if(_.key==="Escape"){_.preventDefault(),a();return}if(_.key==="ArrowDown"||_.key==="ArrowUp"){_.preventDefault();const M=_.key==="ArrowDown"?1:-1;v(k=>{if(i.length===0)return k;let B=k;for(let W=0;W<i.length;W+=1)if(B=(B+M+i.length)%i.length,!i[B]?.disabled)return B;return k});return}if(_.key==="Enter"||_.key===" "){_.preventDefault();const M=i[b];M&&!M.disabled&&(M.onSelect(),a())}};return window.addEventListener("mousedown",C),window.addEventListener("contextmenu",N),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",C),window.removeEventListener("contextmenu",N),window.removeEventListener("keydown",j)}},[e,a,i,b]),!e||!n||typeof window>"u"||!h)return null;const w=o==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return js.createPortal(l.jsx("div",{ref:u,role:"menu",className:pe("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:h.y,left:h.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((C,N)=>{const j=!!C.disabled,_=!!C.danger;return l.jsxs(p.Fragment,{children:[C.dividerAbove?l.jsx("li",{role:"separator",className:pe("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:M=>{d.current[N]=M},type:"button",role:"menuitem",className:pe("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,_&&!j&&w.danger,j&&"cursor-default"),onClick:M=>{M.stopPropagation(),!j&&(C.onSelect(),a())},onMouseEnter:()=>{j||v(N)},disabled:j,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[C.icon?l.jsx("span",{className:"text-base opacity-80",children:C.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:C.label})]}),C.shortcut?l.jsx("span",{className:pe("text-[11px] uppercase tracking-wide",w.shortcut),children:C.shortcut}):null]})})]},C.id)})})}),window.document.body)}const $a="h-4 w-4 text-current opacity-80";function xA({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}function bA(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function vA(){return l.jsxs("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function yA(){return l.jsxs("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function wA(){return l.jsx("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function jA(){return l.jsxs("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function SA(){return l.jsxs("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function CA(){return l.jsxs("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function uw(){return l.jsx("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function NA(){return l.jsx("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function kA(){return l.jsx("svg",{className:$a,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function EA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function _A(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function DA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function AA({tab:e,isActive:n,isDirty:a,draggingId:i,onContextMenu:o,onCloseTab:u,setTabNode:d}){const{attributes:h,listeners:g,setNodeRef:x,transform:b,transition:v,isDragging:w}=hA({id:e.id}),C={transform:So.Transform.toString(b),transition:v},N=w||i===e.id,j=!!e.pinned;return l.jsxs("div",{ref:_=>{x(_),d(e.id,_)},style:C,className:pe("group relative mr-1 flex min-w-0 items-stretch",N&&"opacity-60"),"data-editor-tab":"true",...h,...g,children:[l.jsxs(Vh,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:o,onMouseDown:_=>{_.button===1&&(_.preventDefault(),u(e.id))},className:pe("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",j?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[j?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(xA,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(bA,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,a?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:pe("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:_=>{_.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function TA({currentTab:e,tabs:n,canSaveFiles:a,hasDirtyTabs:i,onCloseTab:o,onCloseOtherTabs:u,onCloseTabsToRight:d,onCloseAllTabs:h,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:v}){const w=n.findIndex(B=>B.id===e.id),C=w>=0&&w<n.length-1,N=n.length>1,j=e.status==="ready"&&e.content!==e.initialContent,_=!!b&&a&&j&&!e.saving,M=!!v&&a&&i,k={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:l.jsx(vA,{}),disabled:!_,shortcut:k.save,onSelect:()=>b?.(e.id)},{id:"save-all",label:"Save All",icon:l.jsx(yA,{}),disabled:!M,shortcut:k.saveAll,onSelect:()=>v?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?l.jsx(NA,{}):l.jsx(uw,{}),dividerAbove:!0,onSelect:()=>e.pinned?x(e.id):g(e.id)},{id:"close",label:"Close",icon:l.jsx(wA,{}),dividerAbove:!0,shortcut:k.close,onSelect:()=>o(e.id)},{id:"close-others",label:"Close Others",icon:l.jsx(jA,{}),disabled:!N,shortcut:k.closeOthers,onSelect:()=>u(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(SA,{}),disabled:!C,shortcut:k.closeRight,onSelect:()=>d(e.id)},{id:"close-all",label:"Close All",icon:l.jsx(CA,{}),dividerAbove:!0,disabled:n.length===0,shortcut:k.closeAll,onSelect:()=>h()}]}function MA({pinnedTabs:e,regularTabs:n,activeTabId:a,onSelectTab:i}){if(e.length===0&&n.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const o=[],u=(d,h)=>{const g=d.status==="ready"&&d.content!==d.initialContent,x=[];d.id===a&&x.push("Active"),d.saving?x.push("Saving"):g&&x.push("Unsaved"),o.push({id:`switch-${d.id}`,label:`${d.saving?" ":g?" ":""}${d.name}`,icon:d.pinned?l.jsx(uw,{}):l.jsx(kA,{}),shortcut:x.length>0?x.join("  "):void 0,dividerAbove:h,onSelect:()=>i(d.id)})};return e.forEach(d=>u(d,!1)),n.forEach((d,h)=>u(d,h===0&&e.length>0)),o}const $b=220,qb=64,RA=14;function zA({tabs:e,activeTabId:n,menuAppearance:a,canSaveFiles:i=!1,onSelectTab:o,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onMoveTab:x,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:C,onTabDragStateChange:N}){const[j,_]=p.useState(null),[M,k]=p.useState(null),[B,W]=p.useState(null),[L,V]=p.useState({left:!1,right:!1}),[A,P]=p.useState(0),Q=p.useRef(null),Y=p.useRef(null),X=p.useRef(new Map),U=p.useMemo(()=>e.filter(H=>H.pinned),[e]),ee=p.useMemo(()=>e.filter(H=>!H.pinned),[e]),be=p.useMemo(()=>e.filter(H=>H.status==="ready"&&H.content!==H.initialContent),[e]).length>0,D=Z5(H5(Lm,{activationConstraint:{distance:5}})),R=a==="dark"?"border-[#1f2937] bg-[#0f172a]":"border-slate-200 bg-slate-900/5",te=a==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white focus-visible:ring-white/30 focus-visible:ring-offset-0":"text-slate-500 hover:bg-white hover:text-slate-900 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5",he=p.useCallback((H,ne)=>{const Se=X.current;ne?Se.set(H,ne):Se.delete(H)},[]);p.useEffect(()=>{j&&!e.some(H=>H.id===j.tabId)&&_(null),e.length||k(null)},[j,e]);const ae=p.useCallback(H=>{W(String(H.active.id)),N?.(!0)},[N]),E=p.useCallback(H=>{const ne=H.active.id,Se=H.over?.id;if(Se&&ne!==Se){const Be=e.findIndex(rt=>rt.id===ne),Qe=e.findIndex(rt=>rt.id===Se);if(Be!==-1&&Qe!==-1){const rt=Be<Qe?Qe+1:Qe;x(String(ne),rt)}}W(null),N?.(!1)},[x,N,e]),Z=p.useCallback(()=>{W(null),N?.(!1)},[N]),le=p.useCallback(()=>{const H=Q.current;if(!H){V({left:!1,right:!1});return}const{scrollLeft:ne,scrollWidth:Se,clientWidth:Be}=H;V({left:ne>2,right:ne+Be<Se-2})},[]);p.useEffect(()=>{const H=Q.current;if(!H){V({left:!1,right:!1});return}le();const ne=()=>le();H.addEventListener("scroll",ne),window.addEventListener("resize",le);const Se=typeof ResizeObserver<"u"?new ResizeObserver(le):null;return Se?.observe(H),()=>{H.removeEventListener("scroll",ne),window.removeEventListener("resize",le),Se?.disconnect()}},[e.length,le]),p.useEffect(()=>{if(!B){P(0);return}const H=ne=>{const Se=Q.current;if(!Se){P(0);return}const Be=Se.getBoundingClientRect();ne.clientX<Be.left+qb?P(-1):ne.clientX>Be.right-qb?P(1):P(0)};return window.addEventListener("pointermove",H),()=>{window.removeEventListener("pointermove",H),P(0)}},[B]),p.useEffect(()=>{if(!B||A===0)return;let H;const ne=()=>{const Se=Q.current;Se&&(Se.scrollBy({left:A*RA}),H=window.requestAnimationFrame(ne))};return H=window.requestAnimationFrame(ne),()=>window.cancelAnimationFrame(H)},[A,B]),p.useEffect(()=>{X.current.get(n)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!j)return[];const H=e.find(ne=>ne.id===j.tabId);return H?TA({currentTab:H,tabs:e,canSaveFiles:i,hasDirtyTabs:be,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:C}):[]},[i,j,be,g,d,u,h,b,C,w,v,e]),J=p.useMemo(()=>MA({pinnedTabs:U,regularTabs:ee,activeTabId:n,onSelectTab:o}),[U,ee,n,o]),$=p.useCallback(H=>{Q.current?.scrollBy({left:H,behavior:"smooth"})},[]),K=p.useCallback(()=>{const H=Y.current?.getBoundingClientRect();H&&k({x:H.left,y:H.bottom+6})},[]);return l.jsxs(l.Fragment,{children:[l.jsx(QD,{sensors:D,collisionDetection:W5,onDragStart:ae,onDragEnd:E,onDragCancel:Z,children:l.jsx(iA,{items:e.map(H=>H.id),strategy:aA,children:l.jsxs("div",{className:pe("flex items-center gap-1 px-1",R,"border-b"),children:[l.jsx(Fb,{appearance:a,direction:"left",disabled:!L.left,onClick:()=>$(-$b)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[L.left?l.jsx(Hb,{position:"left",appearance:a}):null,L.right?l.jsx(Hb,{position:"right",appearance:a}):null,l.jsx("div",{ref:Q,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:H=>{Math.abs(H.deltaY)>Math.abs(H.deltaX)&&(H.preventDefault(),Q.current?.scrollBy({left:H.deltaY}))},children:l.jsx($y,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(H=>{const ne=H.status==="ready"&&H.content!==H.initialContent,Se=H.id===n;return l.jsx(AA,{tab:H,isActive:Se,isDirty:ne,draggingId:B,setTabNode:he,onContextMenu:Be=>{Be.preventDefault(),_({tabId:H.id,x:Be.clientX,y:Be.clientY})},onCloseTab:u},H.id)})})})]}),l.jsx(Fb,{appearance:a,direction:"right",disabled:!L.right,onClick:()=>$($b)}),l.jsx("button",{ref:Y,type:"button",className:pe("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",te),"aria-label":"Open editors list",onClick:K,children:l.jsx(DA,{})})]})})}),l.jsx(wr,{open:!!j,position:j&&{x:j.x,y:j.y},onClose:()=>_(null),items:F,appearance:a}),l.jsx(wr,{open:!!M,position:M,onClose:()=>k(null),items:J,appearance:a})]})}function Fb({appearance:e,direction:n,disabled:a,onClick:i}){const o=e==="dark"?"hover:bg-white/10 hover:text-white focus-visible:ring-2 focus-visible:ring-white/30":"hover:bg-white hover:text-slate-900 focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5";return l.jsx("button",{type:"button",className:pe("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none",e==="dark"?"text-slate-300":"text-slate-500",a?"cursor-default opacity-30":o),onClick:i,disabled:a,"aria-label":n==="left"?"Scroll tabs left":"Scroll tabs right",children:n==="left"?l.jsx(EA,{}):l.jsx(_A,{})})}function Hb({position:e,appearance:n}){const a=n==="dark"?e==="left"?"left-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent":"right-0 bg-gradient-to-l from-[#0f172a] via-[#0f172a]/80 to-transparent":e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent";return l.jsx("div",{className:pe("pointer-events-none absolute top-0 bottom-0 w-8",a)})}function OA({tabs:e,activeTabId:n,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:v,onSaveAllTabs:w,onSelectRecentTab:C,editorTheme:N,menuAppearance:j,canSaveFiles:_=!1,readOnly:M=!1,minHeight:k,onRetryTabLoad:B}){const W=e.length>0,L=p.useRef(null),[V,A]=p.useState(!1),P=p.useMemo(()=>e.find(Q=>Q.id===n)??null,[e,n]);return!W||!P?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{ref:L,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:k?{minHeight:k}:void 0,"data-editor-area":!0,children:[l.jsx(C5,{containerRef:L,tabs:e,activeTabId:n,onCloseTab:i,onSelectTab:a,onSelectRecentTab:C}),l.jsxs(By,{value:P.id,onValueChange:a,children:[l.jsx(zA,{tabs:e,activeTabId:P.id,menuAppearance:j,canSaveFiles:_,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onSaveTab:v,onSaveAllTabs:w,onTabDragStateChange:A}),l.jsx(E5,{tabs:e,activeTabId:P.id,editorTheme:N,onContentChange:b,onSaveTab:v,canSaveFiles:_,readOnly:M,onRetryTabLoad:B,onSelectTab:a,isTabDragging:V})]})]})}function si(e){return(e||"").trim().replace(/\\/g,"/").replace(/\/+/g,"/").replace(/^\/+/,"").replace(/\/+$/,"")}function LA(e,n){const a=si(e),i=si(n);return a?i?`${a}/${i}`.replace(/\/+/g,"/"):a:i}function UA(e){const n=si(e);return n?n.split("/").every(i=>i.length>0&&i!=="."&&i!==".."):!1}function BA(e){const n=si(e);return n==="assets"||n.startsWith("assets/")}function po(e){return e?Array.from(e.types??[]).includes("Files"):!1}async function $A(e){const a=Array.from(e.items??[]).filter(i=>i.kind==="file").map(i=>i.webkitGetAsEntry?.()??null).filter(i=>!!i);return a.length>0?(await Promise.all(a.map(o=>dw(o)))).flat():Array.from(e.files??[]).filter(i=>!!i).map(i=>({file:i,relativePath:i.name}))}async function dw(e){if(e.isFile)try{const o=await new Promise((d,h)=>{if(!e.file){h(new Error("Dropped file entry is missing a file() reader."));return}e.file(d,h)}),u=FA(e.fullPath||o.name);return u?[{file:o,relativePath:u}]:[]}catch{return[]}if(!e.isDirectory||!e.createReader)return[];const n=e.createReader(),a=await qA(n);return(await Promise.all(a.map(o=>dw(o)))).flat()}async function qA(e){const n=[];for(;;){const a=await new Promise((i,o)=>e.readEntries(i,o));if(!a.length)break;n.push(...a)}return n}function FA(e){return si(e)}const HA={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},ZA={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function IA(e){const n=new Set,a=i=>{i.kind==="folder"&&(n.add(i.id),i.children?.forEach(a))};return a(e),n}function Sh(e,n,a){const i=new Set;for(const o of e)n.has(o)&&i.add(o);return i.add(a),i}function Zb(e,n){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}function VA({width:e,tree:n,activeFileId:a="",openFileIds:i=[],onSelectFile:o,theme:u,canUploadFiles:d=!1,onUploadFiles:h,isUploadingFiles:g=!1,canCreateFile:x=!1,canCreateFolder:b=!1,isCreatingEntry:v=!1,onCreateFile:w,onCreateFolder:C,canDeleteFile:N=!1,deletingFilePath:j=null,canDeleteFolder:_=!1,deletingFolderPath:M=null,onDeleteFile:k,onDeleteFolder:B,expandedStorageKey:W,onHide:L}){const V=p.useMemo(()=>W?ha(W):null,[W]),A=p.useMemo(()=>IA(n),[n]),P=p.useMemo(()=>{const ge=new Map,ke=Oe=>{ge.set(Oe.id,Oe),Oe.children?.forEach(ke)};return ke(n),ge},[n]),[Q,Y]=p.useState(()=>{const ge=V?.get()??null,ke=ge?new Set(ge):new Set([n.id]);return Sh(ke,A,n.id)}),[X,U]=p.useState(null),[ee,de]=p.useState(null),[be,D]=p.useState(null),[R,te]=p.useState(!1),[he,ae]=p.useState(null),E=p.useRef(0),Z=p.useRef(null),le=p.useRef(null);p.useEffect(()=>{de(null),D(null),ae(null),te(!1),E.current=0,le.current=null,Z.current&&(clearTimeout(Z.current),Z.current=null)},[n.id]),p.useEffect(()=>{Y(ge=>{const ke=Sh(ge,A,n.id);return Zb(ge,ke)?ge:ke})},[A,n.id]),p.useEffect(()=>{if(!V)return;const ge=V.get();if(!ge)return;const ke=Sh(new Set(ge),A,n.id);Y(Oe=>Zb(Oe,ke)?Oe:ke)},[V,A,n.id]),p.useEffect(()=>{if(!V)return;const ge=Array.from(Q).filter(ke=>ke!==n.id&&A.has(ke));V.set(ge)},[Q,V,A,n.id]);const F=p.useCallback(ge=>{Y(ke=>{const Oe=new Set(ke);return Oe.has(ge)?Oe.delete(ge):Oe.add(ge),Oe.add(n.id),Oe})},[n.id]),J=p.useCallback((ge,ke)=>{Y(Oe=>{const we=new Set(Oe);return ke?we.add(ge):ge!==n.id&&we.delete(ge),we.add(n.id),we})},[n.id]),$=p.useCallback(()=>{Z.current&&(clearTimeout(Z.current),Z.current=null),le.current=null},[]),K=p.useCallback(ge=>{const ke=ge?.closest?.("[data-explorer-drop-row]"),Oe=ke?.dataset.explorerDropPath??"",we=ke?.dataset.explorerDropRow??n.id;return{folderPath:Oe===n.id?"":Oe,rowId:we}},[n.id]),H=p.useCallback(ge=>{po(ge.dataTransfer)&&(E.current+=1,te(!0))},[]),ne=p.useCallback(ge=>{R&&(E.current=Math.max(0,E.current-1),E.current===0&&(te(!1),ae(null),$()))},[$,R]),Se=p.useCallback(ge=>{if(!po(ge.dataTransfer))return;ge.preventDefault(),ge.dataTransfer.dropEffect=d&&h&&!g?"copy":"none",R||te(!0);const ke=K(ge.target);ae(we=>we?.rowId===ke.rowId&&we.folderPath===ke.folderPath?we:ke);const Oe=P.get(ke.rowId);if(!Oe||Oe.kind!=="folder"){$();return}if(Q.has(Oe.id)){$();return}le.current===Oe.id&&Z.current||($(),le.current=Oe.id,Z.current=setTimeout(()=>{J(Oe.id,!0),$()},650))},[d,$,R,Q,g,P,h,K,J]),Be=p.useCallback(async ge=>{if(!po(ge.dataTransfer))return;ge.preventDefault(),ge.stopPropagation(),te(!1),ae(null),E.current=0,$();const ke=await $A(ge.dataTransfer);if(!d||!h||g||ke.length===0)return;const Oe=K(ge.target);h(Oe.folderPath,ke)},[d,$,g,h,K]),Qe=p.useCallback(()=>{Y(new Set([n.id]))},[n.id]),rt=p.useCallback((ge,ke)=>{D(null),Y(Oe=>{const we=new Set(Oe);return we.add(n.id),we.add(ge),we}),de({parentId:ge,kind:ke})},[n.id]),ye=p.useCallback(async(ge,ke,Oe)=>{const we=ke.trim();if(!we){D("Name cannot be empty.");return}const Te=Oe==="folder"?C:w;if(Te)try{D(null),await Te(ge===n.id?"":ge,we),de(null)}catch(Ze){const mt=Ze instanceof Error?Ze.message:"Unable to create entry.";D(mt)}},[w,C,n.id]),Ee=p.useCallback(()=>{de(null),D(null)},[]),He=p.useCallback((ge,ke)=>{ge.preventDefault(),U({node:ke,position:{x:ge.clientX,y:ge.clientY}})},[]),We=p.useCallback(async ge=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(ge);return}catch{}if(typeof document>"u")return;const ke=document.createElement("textarea");ke.value=ge,ke.setAttribute("readonly","true"),ke.style.position="absolute",ke.style.left="-9999px",document.body.appendChild(ke),ke.select(),document.execCommand("copy"),document.body.removeChild(ke)},[]),Je=p.useCallback(ge=>{k&&(k(ge),U(null))},[k]),_t=p.useCallback(ge=>{B&&(B(ge),U(null))},[B]),T=p.useMemo(()=>{if(!X)return[];const{node:ge}=X,ke={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(ge.kind==="file")return[{id:"open-file",label:"Open",icon:l.jsx(XA,{}),shortcut:ke.open,onSelect:()=>o(ge.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(Vb,{}),shortcut:ke.copyPath,onSelect:()=>{We(ge.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(Pb,{}),shortcut:ke.delete,disabled:!N||!k,onSelect:()=>Je(ge.id)}];const Oe=Q.has(ge.id);return[{id:"new-file",label:"New File",icon:l.jsx(hw,{}),shortcut:ke.newFile,disabled:!x||!w,onSelect:()=>{!x||!w||(rt(ge.id,"file"),U(null))}},{id:"new-folder",label:"New Folder",icon:l.jsx(Jh,{}),shortcut:ke.newFolder,disabled:!b||!C,onSelect:()=>{!b||!C||(rt(ge.id,"folder"),U(null))}},{id:"toggle-folder",label:Oe?"Collapse Folder":"Expand Folder",icon:Oe?l.jsx(JA,{}):l.jsx(eT,{}),onSelect:()=>J(ge.id,!Oe)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(tT,{}),shortcut:ke.collapseAll,dividerAbove:!0,onSelect:()=>Qe()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(Vb,{}),shortcut:ke.copyPath,onSelect:()=>{We(ge.id)}},{id:"delete-folder",label:"Delete Folder",icon:l.jsx(Pb,{}),shortcut:ke.delete,disabled:!_||!B,onSelect:()=>_t(ge.id)}]},[X,o,We,N,k,Q,J,Qe,x,b,w,C,rt,_,B,_t,Je]),I=HA[u],ce=ZA[u],_e=p.useMemo(()=>n.children??[],[n]),je=u==="dark"?"dark":"light",Ce=p.useMemo(()=>{if(!R)return null;const ge=he?.folderPath??"";return ge||"root"},[R,he?.folderPath]),ze=d&&!!h&&!g;return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:I.surface,borderColor:I.border,color:I.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:I.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:I.heading},children:"Explorer"}),g?l.jsxs("div",{className:"flex items-center gap-1 text-[11px]",style:{color:I.label},children:[l.jsx("span",{className:"inline-flex h-2.5 w-2.5 animate-spin rounded-full border border-current border-t-transparent","aria-hidden":!0}),l.jsx("span",{className:"font-medium",children:"Uploading"})]}):null]}),l.jsx("button",{type:"button",onClick:L,"aria-label":"Hide explorer",className:pe("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(GA,{})})]}),l.jsxs("nav",{className:"relative flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",onDragEnter:H,onDragLeave:ne,onDragOver:Se,onDrop:Be,children:[l.jsxs("ul",{className:"space-y-0.5",children:[_e.map(ge=>l.jsx(fw,{node:ge,parentId:n.id,depth:0,expanded:Q,activeFileId:a,openFileIds:i,onToggleFolder:F,onSelectFile:o,tokens:I,theme:u,focusRingClass:ce,onContextMenu:He,editing:ee,onSubmitCreateEntry:ye,onCancelCreateEntry:Ee,createError:be,isCreatingEntry:v,deletingFilePath:j,deletingFolderPath:M,onClearCreateError:()=>D(null),dropActive:R,dropTargetRowId:he?.rowId??null},ge.id)),ee?.parentId===n.id?l.jsx("li",{className:"pl-2",children:l.jsx(mw,{appearance:u,icon:ee.kind==="folder"?l.jsx(Jh,{}):void 0,placeholder:ee.kind==="folder"?"new_folder":"new_file.py",onSubmit:ge=>ye(n.id,ge,ee.kind),onCancel:Ee,onChange:()=>D(null),isSubmitting:v,error:be})}):null]}),R?l.jsx("div",{className:pe("pointer-events-none absolute inset-2 rounded-xl border border-dashed p-3 transition",ze?"opacity-100":"opacity-90"),style:{borderColor:I.badgeActive,backgroundColor:u==="dark"?"rgba(15, 17, 26, 0.75)":"rgba(255, 255, 255, 0.85)"},"aria-hidden":!R,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:pe("inline-flex h-9 w-9 items-center justify-center rounded-full border",u==="dark"?"border-white/10 bg-white/5":"border-slate-200 bg-white"),style:{color:I.badgeActive},children:l.jsx(YA,{})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[13px] font-semibold",style:{color:I.textPrimary},children:ze?"Drop to upload":"Upload disabled"}),l.jsx("p",{className:"mt-0.5 text-[12px]",style:{color:I.textMuted},children:ze?l.jsxs(l.Fragment,{children:["Upload to ",l.jsx("span",{className:"font-semibold",children:Ce})]}):g?"Uploads are in progress.":"Uploads arent available right now."})]})]})}):null]})]}),l.jsx(wr,{open:!!X,position:X?X.position:null,onClose:()=>U(null),items:T,appearance:je})]})}function fw({node:e,parentId:n,depth:a,expanded:i,activeFileId:o,openFileIds:u,onToggleFolder:d,onSelectFile:h,tokens:g,theme:x,focusRingClass:b,onContextMenu:v,editing:w,onSubmitCreateEntry:C,onCancelCreateEntry:N,createError:j,isCreatingEntry:_,deletingFilePath:M,deletingFolderPath:k,onClearCreateError:B,dropActive:W,dropTargetRowId:L}){const A={paddingLeft:8+a*16,"--tree-hover-bg":g.rowHover},P=W&&L===e.id;if(e.kind==="folder"){const de=i.has(e.id),be=k===e.id,D=w?.parentId===e.id,R={...A,color:de?g.textPrimary:g.textMuted};return de&&g.folderActiveBg!=="transparent"&&(R.backgroundColor=g.folderActiveBg),P&&(R.outline=`1px dashed ${g.badgeActive}`,R.outlineOffset=-1,R.backgroundColor=g.rowHover),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:te=>v(te,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":e.id,className:pe("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",b,be&&"opacity-60"),style:R,"aria-expanded":de,disabled:be,children:[l.jsx(QA,{open:de,tokens:g}),l.jsx(WA,{open:de,tokens:g}),l.jsx("span",{className:"truncate",children:e.name})]}),de?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(te=>l.jsx(fw,{node:te,parentId:e.id,depth:a+1,expanded:i,activeFileId:o,openFileIds:u,onToggleFolder:d,onSelectFile:h,tokens:g,theme:x,focusRingClass:b,onContextMenu:v,editing:w,onSubmitCreateEntry:C,onCancelCreateEntry:N,createError:j,isCreatingEntry:_,deletingFilePath:M,deletingFolderPath:k,onClearCreateError:B,dropActive:W,dropTargetRowId:L},te.id)),D?l.jsx("li",{className:"pl-2",children:l.jsx(mw,{appearance:x,icon:w?.kind==="folder"?l.jsx(Jh,{}):void 0,placeholder:w?.kind==="folder"?"new_folder":"new_file.py",onSubmit:te=>{w&&C(e.id,te,w.kind)},onCancel:N,onChange:B,isSubmitting:_,error:j})}):null]}):null]})}const Q=o===e.id,Y=u.includes(e.id),X=M===e.id,U=PA(e.name,e.language),ee={...A,color:g.textPrimary};return Q&&(ee.backgroundColor=g.selectionBg,ee.color=g.selectionText),P&&(ee.outline=`1px dashed ${g.badgeActive}`,ee.outlineOffset=-1,Q||(ee.backgroundColor=g.rowHover)),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>h(e.id),onContextMenu:de=>v(de,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":n,className:pe("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",b,Q&&"shadow-inner shadow-[#00000033]",X&&"opacity-60"),style:ee,disabled:X,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(KA,{className:pe(U,Y&&!Q&&"opacity-90",!Y&&!Q&&"opacity-75")})}),l.jsx("span",{className:pe("flex-1 truncate",Q&&"font-semibold"),children:e.name}),Y&&!Q?l.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:g.badgeOpen}}):null]})})}const Ib={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function PA(e,n){if(n==="python")return"text-sky-300";const a=e.toLowerCase().split("."),i=a.length>1?a.pop()??"":"";return i&&Ib[i]?Ib[i]:"text-slate-400"}function QA({open:e,tokens:n}){return l.jsx("svg",{className:pe("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function WA({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function KA({className:e}){return l.jsxs("svg",{className:pe("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function GA(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function YA(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 12V3",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.25 6.75 10 3l3.75 3.75",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 12.5v2A2.5 2.5 0 0 0 6.5 17h7A2.5 2.5 0 0 0 16 14.5v-2",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Sr="h-4 w-4 text-current opacity-80";function XA(){return l.jsx("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function Vb(){return l.jsxs("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function JA(){return l.jsx("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function hw(){return l.jsxs("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function Jh(){return l.jsxs("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 5h3.5l1.2 1.4H12.5a1 1 0 0 1 1 1V12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 8v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 9.5h3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function eT(){return l.jsx("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function tT(){return l.jsxs("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function Pb(){return l.jsxs("svg",{className:Sr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function mw({appearance:e,onSubmit:n,onCancel:a,onChange:i,isSubmitting:o,error:u,placeholder:d="new_file.py",icon:h}){const[g,x]=p.useState(""),b=p.useRef(null);p.useEffect(()=>{b.current?.focus(),b.current?.select()},[]);const v=p.useCallback(()=>{n(g.trim())},[n,g]),w=e==="dark"?"text-slate-300":"text-slate-600",C=e==="dark"?"#232323":"#e8e8e8",N=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:C,borderColor:N},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:h??l.jsx(hw,{})}),l.jsx("input",{ref:b,value:g,onChange:j=>{x(j.target.value),i?.()},onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),v()),j.key==="Escape"&&(j.preventDefault(),a())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:d,disabled:o}),l.jsx("button",{type:"button",className:pe("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",o?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:v,disabled:o,children:o?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:a,disabled:o,children:"Cancel"})]}),l.jsx("div",{className:pe("mt-1 text-[11px]",w),children:"Enter a name and press Enter. Escape to cancel."}),u?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:u}):null]})}function Qb({orientation:e,onPointerDown:n,onDoubleClick:a,onToggle:i,collapsed:o}){const u=e==="vertical",d=u?"":o?"":"";return l.jsxs("div",{role:"separator","aria-orientation":e,className:pe("relative select-none bg-transparent group",u?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:n,onDoubleClick:a,title:u?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[l.jsx("span",{className:"sr-only",children:"Resize panel"}),l.jsx("div",{className:pe("absolute inset-0 flex items-center justify-center",u?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:l.jsx("div",{className:pe(u?"h-full w-px":"h-px w-full","bg-slate-400/50")})}),i&&!u?l.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),i()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-slate-800/70 text-[10px] text-slate-100 opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":o?"Show console":"Hide console",title:o?"Show console":"Hide console",children:d}):null]})}const nT={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function Wb(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",a=e.entries.length>0;if(!n&&!a)return null;const i=go(n),o={id:n,name:Kb(n),kind:"folder",children:[]},u=new Map([[n,o]]),d=g=>{if(g.length===0)return o;const x=go(g),b=x===i?n:x,v=u.get(b);if(v)return v;const w={id:b,name:Kb(b),kind:"folder",children:[]};u.set(b,w);const C=b===n?"":rT(b)??n,N=d(C);return Ch(N,w),w},h=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of h){const x=g.parent&&g.parent.length>0?go(g.parent):n,b=d(x);if(g.kind==="dir"){const w=d(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&Ch(b,w);continue}const v={id:g.path,name:g.name,kind:"file",language:aT(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,v),Ch(b,v)}return o}function Ch(e,n){const a=e.children??[],i=a.some(o=>o.id===n.id)?a.map(o=>o.id===n.id?n:o):[...a,n];e.children=i.sort(sT)}function sT(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function aT(e){const n=e.toLowerCase(),a=n.lastIndexOf(".");if(a===-1)return;const i=n.slice(a+1);return nT[i]}function Kb(e){const n=go(e);if(!n)return"";const a=n.lastIndexOf("/");return a>=0?n.slice(a+1):n}function rT(e){const n=go(e);if(!n)return;const a=n.lastIndexOf("/");return a===-1?"":n.slice(0,a)}function go(e){return e?e.replace(/\/+$/,""):""}function ys(e,n){if(e.id===n)return e;if(!e.children)return null;for(const a of e.children){const i=ys(a,n);if(i)return i}return null}function Um(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const a=Um(n);if(a)return a}return null}function iT({tree:e,initialActiveFileId:n,loadFile:a,persistence:i}){const[o,u]=p.useState([]),[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(()=>!i),[w,C]=p.useState(!1),N=p.useRef(new Set),j=p.useRef([]),_=p.useRef(""),M=p.useRef([]),k=p.useCallback(F=>{h(J=>J===F?J:F),x(J=>{const $=J.filter(H=>j.current.some(ne=>ne.id===H));if(!F)return $;const K=$.filter(H=>H!==F);return[F,...K]})},[]);p.useEffect(()=>{_.current=d},[d]),p.useEffect(()=>{M.current=g},[g]),p.useEffect(()=>{if(!e){u([]),h(""),x([]);return}u(J=>J.filter($=>!!ys(e,$.id)).map($=>{const K=ys(e,$.id);return!K||K.kind!=="file"?$:{...$,name:K.name,language:K.language,metadata:K.metadata}}));const F=_.current;(!F||!ys(e,F))&&k("")},[e,k]);const B=p.useMemo(()=>o.find(F=>F.id===d)??o[0]??null,[d,o]),W=p.useCallback(async F=>{if(!j.current.some($=>$.id===F))return;let J=!1;if(u($=>$.map(K=>K.id!==F?K:K.status==="ready"?(J=!0,K):{...K,status:"loading",error:null})),!J)try{const $=await a(F);u(K=>K.map(H=>H.id===F?{...H,initialContent:$.content,content:$.content,status:"ready",error:null,etag:$.etag??null,saving:!1,saveError:null}:H))}catch($){const K=$ instanceof Error?$.message:"Unable to load file.";u(H=>H.map(ne=>ne.id===F?{...ne,status:"error",error:K}:ne))}},[a]),L=p.useCallback((F,J)=>{if(!e)return;const $=ys(e,F);!$||$.kind!=="file"||(u(K=>{if(K.some(ne=>ne.id===F))return K;const H={id:$.id,name:$.name,language:$.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:$.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...K,H]}),(J?.activate??!0)&&k(F))},[e,k]);p.useEffect(()=>{if(b||!i||!e){i||v(!0);return}const F=i.get(),$=(F?.openTabs??[]).map(K=>typeof K=="string"?{id:K,pinned:!1}:K).filter(K=>!!(K&&K.id));if($.length>0){const K=[];for(const H of $){const ne=ys(e,H.id);!ne||ne.kind!=="file"||K.push({id:ne.id,name:ne.name,language:ne.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:ne.metadata,pinned:!!H.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(K.length>0){u(K);const H=(F?.activeTabId&&K.some(Be=>Be.id===F.activeTabId)?F.activeTabId:K[0]?.id)??"";h(H);const Se=(F?.mru&&F.mru.length>0?F.mru:K.map(Be=>Be.id)).filter(Be=>K.some(Qe=>Qe.id===Be));x(Se),C(!0)}}v(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(o.length>0){w||C(!0);return}if(w)return;const F=n&&ys(e,n)||Um(e);if(!F){C(!0);return}L(F.id),C(!0)},[e,n,L,b,o.length,w]);const V=p.useCallback(F=>{L(F)},[L]),A=p.useCallback(F=>{k(F),u(J=>J.map($=>$.id===F&&$.status==="error"?{...$,status:"loading",error:null}:$))},[k]),P=p.useCallback(F=>{u(J=>{const $=J.filter(ne=>ne.id!==F),K=_.current,H=K===F?$[$.length-1]?.id??"":$.some(ne=>ne.id===K)?K:$[$.length-1]?.id??"";return k(H),$})},[k]),Q=p.useCallback(F=>{u(J=>!J.some($=>$.id===F)||J.length<=1?J:(k(F),J.filter($=>$.id===F)))},[k]),Y=p.useCallback(F=>{u(J=>{const $=J.findIndex(ne=>ne.id===F);if($===-1||$===J.length-1)return J;const K=J.slice(0,$+1),H=K.some(ne=>ne.id===_.current)?_.current:F;return k(H),K})},[k]),X=p.useCallback(()=>{u([]),h(""),x([])},[]),U=p.useCallback((F,J)=>{u($=>{if($.length<=1)return $;const K=$.findIndex(ye=>ye.id===F);if(K===-1)return $;const H=$.filter((ye,Ee)=>Ee!==K),ne=Math.max(0,Math.min(J,H.length)),Se=[],Be=[],Qe=$[K];if(H.forEach(ye=>{ye.pinned?Se.push(ye):Be.push(ye)}),(ne<=Se.length?"pinned":"regular")==="pinned"){const ye=Math.max(0,Math.min(ne,Se.length));Se.splice(ye,0,{...Qe,pinned:!0})}else{const ye=Math.max(0,Math.min(ne-Se.length,Be.length));Be.splice(ye,0,{...Qe,pinned:!1})}return[...Se,...Be]})},[]),ee=p.useCallback(F=>{if(N.current.has(F))return;let J=!1;u($=>$.map(K=>K.id!==F?K:(J=!0,{...K,status:"loading",error:null}))),J&&(N.current.add(F),W(F).finally(()=>{N.current.delete(F)}))},[W]),de=p.useCallback(F=>{u(J=>{const $=[],K=[];let H=null;for(const Se of J){if(Se.id===F){H=Se;continue}Se.pinned?$.push(Se):K.push(Se)}if(!H||H.pinned)return J;const ne={...H,pinned:!0};return[...$,ne,...K]})},[]),be=p.useCallback(F=>{u(J=>{const $=[],K=[];let H=null;for(const Se of J){if(Se.id===F){H=Se;continue}Se.pinned?$.push(Se):K.push(Se)}if(!H||!H.pinned)return J;const ne={...H,pinned:!1};return[...$,ne,...K]})},[]),D=p.useCallback((F,J)=>{J?de(F):be(F)},[de,be]),R=p.useCallback(F=>{const J=M.current.filter(Qe=>j.current.some(rt=>rt.id===Qe));if(J.length<=1)return;const $=_.current||J[0],K=J.indexOf($),Se=((K>=0?K:0)+(F==="forward"?1:-1)+J.length)%J.length,Be=J[Se];Be&&Be!==$&&k(Be)},[k]),te=p.useCallback((F,J)=>{u($=>$.map(K=>K.id===F?{...K,content:J,status:K.status==="ready"?K.status:"ready",error:null,saveError:null}:K))},[]),he=p.useCallback(F=>{u(J=>J.map($=>$.id===F?{...$,saving:!0,saveError:null}:$))},[]),ae=p.useCallback((F,J)=>{u($=>$.map(K=>{if(K.id!==F)return K;const H=J?.metadata??K.metadata??null,ne=J?.etag??K.etag??null,Se=J?.savedContent??K.content;return{...K,saving:!1,saveError:null,initialContent:Se,etag:ne,metadata:H&&{...H,etag:H.etag??ne??null},lastSavedAt:new Date().toISOString()}}))},[]),E=p.useCallback((F,J)=>{u($=>$.map(K=>K.id===F?{...K,saving:!1,saveError:J}:K))},[]),Z=p.useCallback((F,J)=>{u($=>$.map(K=>K.id!==F?K:{...K,content:J.content,initialContent:J.content,status:"ready",error:null,saving:!1,saveError:null,etag:J.etag??K.etag??null,metadata:J.metadata??K.metadata}))},[]),le=p.useMemo(()=>o.some(F=>F.status==="ready"&&F.content!==F.initialContent),[o]);return p.useEffect(()=>{j.current=o},[o]),p.useEffect(()=>{x(F=>{const J=F.filter($=>o.some(K=>K.id===$));return J.length===F.length?F:J})},[o]),p.useEffect(()=>{const F=new Set(o.map(J=>J.id));for(const J of N.current)F.has(J)||N.current.delete(J);for(const J of o){if(J.status!=="loading"||N.current.has(J.id))continue;N.current.add(J.id),W(J.id).finally(()=>{N.current.delete(J.id)})}},[o,W]),p.useEffect(()=>{if(!i||!b)return;const F=[d,...g].filter(J=>!!J).filter((J,$,K)=>K.indexOf(J)===$).filter(J=>o.some($=>$.id===J));i.set({openTabs:o.map(J=>({id:J.id,pinned:!!J.pinned})),activeTabId:d||null,mru:F})},[i,o,d,g,b]),{tree:e,tabs:o,activeTabId:d,activeTab:B,openFile:V,selectTab:A,closeTab:P,closeOtherTabs:Q,closeTabsToRight:Y,closeAllTabs:X,moveTab:U,reloadTab:ee,pinTab:de,unpinTab:be,toggleTabPin:D,selectRecentTab:R,updateContent:te,beginSavingTab:he,completeSavingTab:ae,failSavingTab:E,replaceTabContent:Z,isDirty:le}}function pw(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[a,i]of Object.entries(e)){if(i==null)continue;const o=Array.isArray(i)?i:[i];for(const u of o)u!=null&&n.append(a,String(u))}return n}const gw=p.createContext(null);function lT({value:e,children:n}){return p.createElement(gw.Provider,{value:e},n)}function xw(){const e=p.useContext(gw),n=Qn(),a=Qt(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),o=p.useCallback((u,d)=>{const h=typeof u=="function"?u(new URLSearchParams(i)):u,x=pw(h).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;a(b,{replace:d?.replace})},[n.hash,n.pathname,a,i]);return[e?.params??i,e?.setSearchParams??o]}const ou={pane:"terminal",console:"closed"},oT=["pane","console","file"],cT=["tab","view","runId"];function uT(e){return e==="open"?"open":"closed"}function dT(e){return e==="problems"?"problems":"terminal"}function bw(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),a=n.get("pane"),i=n.get("console"),o=n.get("file");return{...{pane:dT(a),console:uT(i),fileId:o??void 0},present:{pane:n.has("pane"),console:n.has("console"),fileId:n.has("file")}}}function Nh(e,n){const a=bw(e),i={...ou,...a,...n},o=new URLSearchParams(e);for(const u of oT)o.delete(u);for(const u of cT)o.delete(u);return i.pane!==ou.pane&&o.set("pane",i.pane),i.console!==ou.console&&o.set("console",i.console),i.fileId&&i.fileId.length>0&&o.set("file",i.fileId),o}function fT(){const[e,n]=xw(),a=p.useMemo(()=>bw(e),[e]),i=p.useCallback(d=>{a.fileId===d||!d&&!a.present.fileId||n(h=>Nh(h,{fileId:d??void 0}),{replace:!0})},[n,a.fileId,a.present.fileId]),o=p.useCallback(d=>{a.pane!==d&&n(h=>Nh(h,{pane:d}),{replace:!0})},[n,a.pane]),u=p.useCallback(d=>{a.console!==d&&n(h=>Nh(h,{console:d}),{replace:!0})},[n,a.console]);return{fileId:a.fileId??ou.fileId,pane:a.pane,console:a.console,consoleExplicit:a.present.console,setFileId:i,setPane:o,setConsole:u}}const hT="You have unsaved changes in the config editor. Are you sure you want to leave?";function mT({isDirty:e,confirm:n=window.confirm,message:a=hT,shouldBypassNavigation:i}){const o=Qn(),u=p.useCallback(d=>!e||i?.()||d.location.pathname===o.pathname?!0:n(a),[n,e,o.pathname,a,i]);yv(u,e),p.useEffect(()=>{if(!e)return;const d=h=>(h.preventDefault(),h.returnValue=a,a);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[e,a])}const Gb="(prefers-color-scheme: dark)";function Yb(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function pT(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function gT(e){const n=p.useMemo(()=>ha(e),[e]),[a,i]=p.useState(()=>{const g=n.get();return Yb(g)}),[o,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(Gb).matches);p.useEffect(()=>{const g=Yb(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(Gb),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(a)},[a,n]);const d=p.useMemo(()=>pT(a,o),[a,o]),h=p.useCallback(g=>{i(g)},[]);return{preference:a,resolvedTheme:d,setPreference:h}}function vs(e,n,a){return Math.min(Math.max(e,n),a)}function Xb(e,n){const{onMove:a,onEnd:i,cursor:o}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,d=e.currentTarget,h=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,v=!0;const w=_=>{if(v){if(v=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=h,document.body.style.userSelect=g,window.removeEventListener("pointermove",C),window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",N),d.removeEventListener("lostpointercapture",j),d.hasPointerCapture?.(u))try{d.releasePointerCapture(u)}catch{}i&&i(_)}},C=_=>{!v||_.pointerId!==u||(b=_,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&a(b)})))},N=_=>{_.pointerId===u&&w(_)},j=_=>{_.pointerId===u&&w(_)};o&&(document.body.style.cursor=o),document.body.style.userSelect="none";try{d.setPointerCapture(u)}catch{}window.addEventListener("pointermove",C),window.addEventListener("pointerup",N),window.addEventListener("pointercancel",N),d.addEventListener("lostpointercapture",j)}function Ss({open:e,title:n,description:a,confirmLabel:i="Confirm",cancelLabel:o="Cancel",onConfirm:u,onCancel:d,isConfirming:h,children:g,confirmDisabled:x,tone:b="default"}){const v=p.useRef(null);if(p.useEffect(()=>{if(!e)return;const C=j=>{if(j.key==="Escape"&&d(),j.key==="Tab"){const _=v.current;if(!_)return;const M=Array.from(_.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(W=>!W.hasAttribute("disabled"));if(M.length===0)return;const k=M.indexOf(document.activeElement),B=j.shiftKey?k<=0?M.length-1:k-1:k===M.length-1?0:k+1;M[B]?.focus(),j.preventDefault()}};return window.addEventListener("keydown",C),v.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",C)},[d,e]),!e)return null;const w=b==="danger"?{badge:"bg-danger-100 text-danger-700",confirmVariant:"danger"}:{badge:"bg-brand-50 text-brand-700",confirmVariant:"primary"};return js.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:d,"aria-label":"Close dialog"}),l.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:l.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":n,className:"w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",ref:v,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:pe("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",w.badge),children:"Confirm"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n}),a?l.jsx("p",{className:"text-sm text-slate-600",children:a}):null]}),g?l.jsx("div",{className:"mt-4 space-y-3",children:g}):null,l.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[l.jsx(De,{type:"button",variant:"ghost",onClick:d,disabled:h,children:o}),l.jsx(De,{type:"button",variant:w.confirmVariant,onClick:u,isLoading:h,disabled:x||h,className:b==="danger"?"hover:bg-danger-600":void 0,children:i})]})]})})]}),document.body)}const xT="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",bT="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function vT({label:e,icon:n,disabled:a,isLoading:i,highlight:o,className:u,primaryClassName:d,menuClassName:h,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(yT,{}),onPrimaryClick:v,onOpenMenu:w,onContextMenu:C}){const N=p.useRef(null),j=!!(a||i),_=M=>{if(j)return;M.preventDefault();const k=N.current?.getBoundingClientRect();if(k){w?.({x:k.left,y:k.bottom});return}w?.({x:M.clientX,y:M.clientY})};return l.jsxs("div",{role:"group",className:pe("inline-flex items-stretch rounded-md shadow-sm",o&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:C,children:[l.jsxs("button",{type:"button",title:g,disabled:j,className:pe(xT,d),onClick:M=>{j||v?.(M)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:N,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:j,className:pe(bT,h),onClick:_,children:b})]})}function yT(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}async function wT(e,n={}){const{signal:a,page:i,pageSize:o,includeTotal:u}=n,d={};typeof i=="number"&&i>0&&(d.page=i),typeof o=="number"&&o>0&&(d.page_size=o),u&&(d.include_total=!0);const{data:h}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:d},signal:a});if(!h)throw new Error("Expected configuration page payload.");return h}async function jT(e,n,a){const{data:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:a});return i??null}async function Bm(e,n){const{data:a}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/validate",{params:{path:{workspace_id:e,configuration_id:n}}});if(!a)throw new Error("Expected validation payload.");return a}async function ST(e,n){const{data:a}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/publish",{params:{path:{workspace_id:e,configuration_id:n}},body:null});if(!a)throw new Error("Expected configuration payload.");return a}async function CT(e,n){const{data:a}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/archive",{params:{path:{workspace_id:e,configuration_id:n}}});if(!a)throw new Error("Expected configuration payload.");return a}async function NT(e,n,a={}){const{prefix:i,depth:o,include:u,exclude:d,limit:h,pageToken:g,sort:x,order:b,signal:v}=a,{data:w}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:o??"infinity",include:u?.length?[...u]:void 0,exclude:d?.length?[...d]:void 0,limit:h,page_token:g??void 0,sort:x,order:b}},signal:v,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function Jb(e,n,a,i){const{data:o}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!o)throw new Error("Expected file payload.");return o}async function $m(e,n){const{data:a,response:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/export",{params:{path:{workspace_id:e,configuration_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected configuration archive payload.");const d=(i?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:a,filename:d??void 0}}async function kT(e,n,a){const i=RT(a.path),o=a.parents?"?parents=1":"",u=a.content,d=a.contentType??(typeof Blob<"u"&&a.content instanceof Blob&&a.content.type?a.content.type:"application/octet-stream"),h=await SS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${o}`,{method:"PUT",body:u,headers:{"Content-Type":d,...a.create?{"If-None-Match":"*"}:a.etag?{"If-Match":a.etag}:{}}});if(!h.ok){const x=await zT(h),b=x?.title??`Request failed with status ${h.status}`;throw new _n(b,h.status,x)}const g=await h.json().catch(()=>({}));if(!g||!g.path)throw new Error("Expected write response payload.");return g}async function ET(e,n,a,i={}){await Pe.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:i.etag?{"If-Match":i.etag}:void 0})}async function _T(e,n,a){const{data:i}=await Pe.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:a}}});if(!i)throw new Error("Expected directory response payload.");return i}async function DT(e,n,a,i={}){const o={};i.recursive&&(o.recursive=!0),await Pe.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:a},query:o}})}async function AT(e,n){const a=new FormData;a.append("display_name",n.displayName),a.append("file",n.file);const{data:i}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations/import",{params:{path:{workspace_id:e}},body:a,bodySerializer:()=>a});if(!i)throw new Error("Expected configuration payload.");return i}async function TT(e,n,a){const i=new FormData;i.append("file",a.file);const{data:o}=await Pe.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/import",{params:{path:{workspace_id:e,configuration_id:n}},headers:a.ifMatch?{"If-Match":a.ifMatch}:void 0,body:i,bodySerializer:()=>i});if(!o)throw new Error("Expected configuration payload.");return o}function MT(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function vw(e,n){const{data:a}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:MT(n.source)}});if(!a)throw new Error("Expected configuration payload.");return a}function RT(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function zT(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const tn={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...tn.root(e),"list",{...n}],detail:(e,n)=>[...tn.root(e),"detail",n],files:(e,n)=>[...tn.detail(e,n),"files"],file:(e,n,a)=>[...tn.files(e,n),"file",a]};function OT({workspaceId:e,configId:n,enabled:a=!0,...i}){const{prefix:o="",depth:u="infinity",include:d,exclude:h,limit:g,pageToken:x,sort:b="path",order:v="asc"}=i;return Fn({queryKey:[...tn.files(e,n),o,u,d?.join("|")??"",h?.join("|")??"",g??"",x??"",b,v],queryFn:({signal:w})=>NT(e,n,{prefix:o,depth:u,include:d,exclude:h,limit:g,pageToken:x,sort:b,order:v,signal:w}),enabled:a&&e.length>0&&n.length>0,staleTime:5e3})}function LT(e,n){const a=ht();return Kt({mutationFn:i=>kT(e,n,i),async onSuccess(i,o){await Promise.all([a.invalidateQueries({queryKey:tn.files(e,n)}),a.invalidateQueries({queryKey:tn.file(e,n,o.path)})])}})}function UT(e,n){const a=ht();return Kt({mutationFn:i=>ET(e,n,i.path,{etag:i.etag}),async onSuccess(i,o){await Promise.all([a.invalidateQueries({queryKey:tn.files(e,n)}),a.invalidateQueries({queryKey:tn.file(e,n,o.path)})])}})}function BT(e,n){const a=ht();return Kt({mutationFn:i=>_T(e,n,i.path),async onSuccess(){await a.invalidateQueries({queryKey:tn.files(e,n)})}})}function $T(e,n){const a=ht();return Kt({mutationFn:i=>DT(e,n,i.path,{recursive:i.recursive}),async onSuccess(i,o){await Promise.all([a.invalidateQueries({queryKey:tn.files(e,n)}),a.invalidateQueries({queryKey:tn.file(e,n,o.path)})])}})}const qT=100;function Iu({workspaceId:e,enabled:n=!0,page:a=1,pageSize:i=qT}){return Fn({queryKey:tn.list(e,{page:a,pageSize:i}),queryFn:({signal:o})=>wT(e,{page:a,pageSize:i,signal:o}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:o=>o})}function yw({workspaceId:e,configurationId:n,enabled:a=!0}){return Fn({queryKey:tn.detail(e,n??""),queryFn:({signal:i})=>n?jT(e,n,i):Promise.resolve(null),enabled:a&&e.length>0&&!!n,staleTime:1e4})}function qm(e){const n=ht();return Kt({mutationFn:({configurationId:a})=>ST(e,a),async onSuccess(){await n.invalidateQueries({queryKey:tn.root(e)})}})}function ww(e){const n=ht();return Kt({mutationFn:({configurationId:a})=>CT(e,a),async onSuccess(){await n.invalidateQueries({queryKey:tn.root(e)})}})}function Fm(e){const n=ht();return Kt({mutationFn:({sourceConfigurationId:a,displayName:i})=>vw(e,{displayName:i,source:{type:"clone",configurationId:a}}),async onSuccess(){await n.invalidateQueries({queryKey:tn.root(e)})}})}function FT(e){return Kt({mutationFn:n=>AT(e,n)})}function HT(e,n){return Kt({mutationFn:a=>TT(e,n,a)})}async function jw(e,n,a){const{data:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:a});return i??[]}const Sw=p.createContext(null),ZT=6e3,IT=7e3,ev=4;function VT({children:e}){const[n,a]=p.useState([]),[i,o]=p.useState([]),u=p.useCallback(b=>{a(v=>v.filter(w=>w.id!==b)),o(v=>v.filter(w=>w.id!==b))},[]),d=p.useCallback(b=>{const v={kind:"toast",id:b.id??tv(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?ZT:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return a(w=>{const N=[...v.persistKey?w.filter(j=>j.persistKey!==v.persistKey):w,v];return N.length>ev?N.slice(N.length-ev):N}),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),h=p.useCallback(b=>{const v={kind:"banner",id:b.id??tv(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:IT:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return o(w=>[...v.persistKey?w.filter(N=>N.persistKey!==v.persistKey):w,v]),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),g=p.useCallback((b,v)=>{b&&((!v||v==="toast")&&a(w=>w.filter(C=>C.scope!==b)),(!v||v==="banner")&&o(w=>w.filter(C=>C.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:d,pushBanner:h,dismiss:u,clearScope:g}),[n,i,d,h,u,g]);return l.jsxs(Sw.Provider,{value:x,children:[e,l.jsx(PT,{})]})}function Cw(){const e=p.useContext(Sw);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function PT(){const{toasts:e,banners:n,dismiss:a}=Cw(),[i,o]=p.useState(!1);return p.useEffect(()=>o(!0),[]),!i||typeof document>"u"?null:js.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(WT,{banner:u,onDismiss:a},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(QT,{toast:u,onDismiss:a},u.id))})]}),document.body)}function QT({toast:e,onDismiss:n}){const a=e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[a,e.duration,e.id,n]);const u=KT[e.intent];return l.jsxs("div",{className:pe("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:pe("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??kw(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(d=>l.jsx(Nw,{action:d,onPress:()=>{d.onSelect(),n(e.id)},appearance:"dark"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Ew,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:pe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function WT({banner:e,onDismiss:n}){const a=!e.sticky&&e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[a,e.duration,e.id,n]);const u=GT[e.intent];return l.jsxs("div",{className:pe("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:pe("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??kw(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(d=>l.jsx(Nw,{action:d,onPress:()=>{d.onSelect(),e.sticky||n(e.id)},appearance:"light"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:pe("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Ew,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:pe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function Nw({action:e,onPress:n,appearance:a}){const i=e.variant??"secondary",o=a==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:pe("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":o),onClick:n,children:e.label})}function kw(e){switch(e){case"success":return l.jsx(XT,{});case"warning":return l.jsx(JT,{});case"danger":return l.jsx(eM,{});default:return l.jsx(YT,{})}}const KT={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},GT={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function tv(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function YT(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function XT(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function JT(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function eM(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Ew(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function Hm(){const e=Cw();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,a)=>e.clearScope(n,a)}),[e])}const tM="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Xi=p.forwardRef(({className:e,...n},a)=>l.jsx("select",{ref:a,className:pe(tM,e),...n}));Xi.displayName="Select";class nM{constructor(n){if(this.capacity=n,!Number.isFinite(n)||n<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(n)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(n){if(this._length<this.capacity){const a=(this.start+this._length)%this.capacity;this.buffer[a]=n,this._length+=1;return}this.buffer[this.start]=n,this.start=(this.start+1)%this.capacity}get(n){if(n<0||n>=this._length)return;const a=(this.start+n)%this.capacity;return this.buffer[a]}toArray(){const n=[];for(let a=0;a<this._length;a+=1){const i=this.get(a);i!==void 0&&n.push(i)}return n}}class sM{constructor(n,a){this.capacity=n,this.buffer=new nM(n),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},a?.length&&this.appendMany(a)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(n){return this.buffer.get(n)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(n){this.buffer.push(nv(n,this.nextId++)),this.scheduleNotify()}appendMany(n){for(const a of n)this.buffer.push(nv(a,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const n of this.listeners)n()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const n=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(n);return}setTimeout(n,0)}}function nv(e,n){if(e.id)return e;const a=e.origin??"run",i=e.timestamp??"ts";return{...e,id:`console-${a}-${i}-${n}`}}function aM(e,n){const a=new URLSearchParams;n.dry_run&&a.set("dry_run","true"),n.validate_only&&a.set("validate_only","true"),n.force_rebuild&&a.set("force_rebuild","true"),n.debug&&a.set("debug","true"),n.log_level&&a.set("log_level",n.log_level),n.input_document_id&&a.set("input_document_id",n.input_document_id);const i=n.input_sheet_names??[];for(const d of i)a.append("input_sheet_names",d);const o=tl(`/api/v1/configurations/${e}/jobs/stream`),u=a.toString();return u?`${o}?${u}`:o}async function*rM(e,n,a){const i=aM(e,n);yield*iM(i,a)}async function*iM(e,n){const a=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),i=new AbortController,o=()=>i.abort();let u=null;n?.aborted?i.abort():n&&n.addEventListener("abort",o);try{const d=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:i.signal});if(!d.body||!d.ok)throw new Error("Job event stream unavailable.");u=d.body.getReader();const h=new TextDecoder;let g="";for(;;){const{value:x,done:b}=await u.read();g+=h.decode(x??new Uint8Array,{stream:!b});const v=g.split(`

`);g=v.pop()??"";for(const w of v){const C=sv(w);C&&(yield C)}if(b){const w=sv(g);w&&(yield w);return}}}catch(d){throw i.signal.aborted?a:d}finally{if(n&&n.removeEventListener("abort",o),u)try{await u.cancel()}catch{}i.signal.aborted||i.abort()}}function sv(e){const n=[];let a=null,i=null;for(const u of e.split(/\n/)){if(u.startsWith("data:")){const d=u.slice(5);n.push(d.startsWith(" ")?d.slice(1):d);continue}if(u.startsWith("id:")){a=u.slice(3).trim();continue}if(u.startsWith("event:")){i=u.slice(6).trim();continue}}if(!n.length)return null;const o=n.join(`
`);if(!o.trim())return null;try{const u=JSON.parse(o);if(u._raw=o,i&&!u.event&&!u.type&&(u.event=i),a&&u.sequence===void 0){const d=Number(a);Number.isFinite(d)?u.sequence=d:u.sse_id=a}return u}catch{return null}}function lM(e){const n=e.timestamp??e.created_at,a=new Date(n);return Number.isNaN(a.getTime())?new Date().toISOString():a.toISOString()}function av(e){return(e.event??e.type??"").toString()}function kh(e){const n=e.data??e.payload;return n&&typeof n=="object"?n:{}}function oM({configId:e,onJobIdChange:n,seed:a,maxConsoleLines:i=2e3,onError:o}){const u=p.useRef(new sM(i,a?.console?[...a.console].slice(-i):void 0)),d=p.useRef(null),h=p.useRef(!1),[g,x]=p.useState(null),[b,v]=p.useState(null),[w,C]=p.useState("idle"),[N,j]=p.useState(null),_=w==="running",M=p.useCallback(()=>{const V=d.current;V&&(V.abort(),d.current=null)},[]);p.useEffect(()=>()=>{M()},[M]);const k=p.useCallback(()=>{u.current.clear()},[]),B=p.useCallback(V=>{o&&o(V)},[o]),W=p.useCallback(V=>{const A=av(V);if(A==="job.meta"){const D=kh(V),R=typeof D.jobId=="string"?D.jobId:null;R&&(x(te=>te??R),n?.(R));return}const P=kh(V),Y=(A.startsWith("build.")?"build":A==="console.line"&&typeof P.scope=="string"?P.scope:"run")==="build"?"build":"run",X=typeof V.level=="string"?V.level.toLowerCase():"info",U=X==="debug"||X==="warning"||X==="error"||X==="success"?X:"info",ee=typeof V.message=="string"?V.message:"",de=ee.trim()?ee:A,be={id:typeof V.event_id=="string"?V.event_id:void 0,level:U,message:de,timestamp:lM(V),origin:Y,raw:V};if(u.current.append(be),A==="run.complete"){j(P);const D=typeof P.status=="string"?P.status.toLowerCase():"";C(D==="succeeded"||D==="success"?"succeeded":D==="cancelled"||D==="canceled"?"cancelled":"failed")}},[n]),L=p.useCallback(async(V,A,P)=>{if(h.current||_||P?.prepare&&P.prepare()===!1)return null;M(),k(),j(null),v(A.mode),C("running"),x(null),n?.(null);const Q=new Date().toISOString(),Y=new AbortController;d.current=Y,h.current=!0;let X=null;try{for await(const U of rM(e,V,Y.signal)){W(U);const ee=av(U);if(ee==="job.meta"){const de=kh(U),be=typeof de.jobId=="string"?de.jobId:null;be&&!X&&(X=be,x(be),n?.(be))}if(ee==="run.complete")break}if(!X)throw new Error("Job stream ended before returning a job id.");return{jobId:X,startedAt:Q}}catch(U){return Y.signal.aborted||(C("failed"),B(U)),null}finally{h.current=!1,d.current===Y&&(d.current=null)}},[k,e,_,n,B,W,M]);return p.useMemo(()=>({console:u.current,jobId:g,jobMode:b,jobStatus:w,jobInProgress:_,completedDetails:N,clearConsole:k,startJob:L}),[g,b,w,_,N,k,L])}async function cM(e,n){const a=typeof e=="string"?await Zm(e,n):e,i=a.events_download_url??a.links?.events_download??a.links?.logs;if(!i)throw new Error("Run logs link unavailable.");const o=await fetch(tl(i),{method:"GET",credentials:"include",headers:{Accept:"application/x-ndjson"},signal:n});if(!o.ok)throw new Error(`Run telemetry unavailable (${o.status}).`);return(await o.text()??"").split(/\r?\n/).filter(Boolean).map(h=>{try{return JSON.parse(h)}catch(g){return console.warn("Skipping invalid telemetry line",{error:g,line:h}),null}}).filter(h=>!!h)}async function Zm(e,n){const{data:a}=await Pe.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run not found");return a}function _w(e){const n=e.output,a=n?.ready,i=n?.download_url??e.links?.output_download??e.links?.output;return a===!1||!i?null:tl(i)}function Dw(e){const n=e.events_download_url??e.links?.events_download??e.links?.logs;return n?tl(n):null}function uM(e){const n=e.links?.input_download??e.links?.input;return n?tl(n):null}const rv={detail:e=>["run",e],telemetry:e=>["run-telemetry",e]};function dM(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function fM(e){const n=(e??"").toLowerCase();return n==="succeeded"||n==="failed"||n==="cancelled"?n:n==="success"?"succeeded":"failed"}function hM({configId:e,runId:n,seed:a,maxConsoleLines:i,onRunIdChange:o,onRunComplete:u}){const d=p.useRef(null),{console:h,jobId:g,jobMode:x,jobStatus:b,jobInProgress:v,completedDetails:w,clearConsole:C,startJob:N}=oM({configId:e,onJobIdChange:o,seed:a?{console:a.console}:void 0,maxConsoleLines:i}),j=g??n,_=x??null,[M,k]=p.useState(null),B=p.useRef(null),W=p.useMemo(()=>({status:v&&_==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[v,_]);p.useEffect(()=>{if(!j||!dM(b)||B.current===j)return;B.current=j;const A=fM(typeof w?.status=="string"?w.status:null),P=_??"extraction",Q=w?.execution??{},Y=typeof Q.started_at=="string"?Q.started_at:null,X=typeof Q.completed_at=="string"?Q.completed_at:new Date().toISOString(),U=typeof Q.duration_ms=="number"?Q.duration_ms:null;if(u?.({runId:j,status:A,mode:P,startedAt:Y,completedAt:X,durationMs:U,payload:w}),P==="validation")return;const ee=d.current,de=w?.artifacts??{},be=typeof de.output_path=="string"?de.output_path:null,D=typeof de.processed_file=="string"?de.processed_file:null;k({runId:j,status:A,outputUrl:void 0,inputUrl:void 0,outputReady:be?!0:void 0,outputFilename:be?mM(be):null,outputPath:be,logsUrl:void 0,processedFile:D,outputLoaded:!1,summary:null,summaryLoaded:!0,summaryError:null,telemetry:null,telemetryLoaded:!0,telemetryError:null,documentName:ee?.documentName,sheetNames:ee?.sheetNames??[],error:null,startedAt:Y,completedAt:X,durationMs:U}),(async()=>{try{const R=await Zm(j),te=_w(R)??void 0,he=Dw(R)??void 0,ae=uM(R)??void 0;k(E=>E&&E.runId===j?{...E,outputUrl:te??E.outputUrl,outputReady:te?!0:E.outputReady,logsUrl:he??E.logsUrl,inputUrl:ae??E.inputUrl,outputLoaded:!0}:E)}catch{k(R=>R&&R.runId===j?{...R,outputLoaded:!0}:R)}})()},[j,b,w,u,_]);const L=p.useCallback(async(A,P,Q)=>{d.current=P;const Y=Q?.forceRebuild?{...A,force_rebuild:!0}:A,X=await N(Y,P,{prepare:Q?.prepare});return X&&P.mode==="extraction"&&k(null),X?{runId:X.jobId,startedAt:X.startedAt}:null},[N]),V=b==="running"?"running":b;return p.useMemo(()=>({runStatus:V,runMode:_??void 0,runInProgress:v,validation:W,console:h,latestRun:M,clearConsole:C,startRun:L}),[V,_,v,W,h,M,C,L])}function mM(e){const n=e.trim();if(!n)return"";const a=n.split("/");return a[a.length-1]||n}const Aw=e=>`ade.ui.workspace.${e}.config-builder.last`;function Im(e){return ha(Aw(e))}function Vm(e,n){if(n){const a={configId:n};return e.set(a),a}return e.clear(),null}function Yi(e){return e?typeof e=="string"?e.toLowerCase():String(e).toLowerCase():""}function iv(e,n){const a=e?new Date(e).getTime():0;return(n?new Date(n).getTime():0)-a}function Pm(e,n){const a=`Copy of ${e}`.trim();if(!n.has(a.toLowerCase()))return a;for(let i=2;i<100;i+=1){const o=`${a} (${i})`;if(!n.has(o.toLowerCase()))return o}return`${a} (${Date.now()})`}const pM={min:200,max:420},gM=320,xM=120,Eh=140,bM=220,vM=40,yM=2e3,lv=10,wM=56,ov="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",jM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,SM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,CM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,NM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.explorer.expanded`,kM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.layout`,EM=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],_M={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"},DM=[{value:"DEBUG",label:"Debug"},{value:"INFO",label:"Info"},{value:"WARNING",label:"Warning"},{value:"ERROR",label:"Error"}];function Tw({workspaceId:e,configId:n,configName:a,configDisplayName:i,seed:o,windowState:u,onMinimizeWindow:d,onMaximizeWindow:h,onRestoreWindow:g,onCloseWorkbench:x,shouldBypassUnsavedGuard:b}){const v=ht(),w=Qt(),{fileId:C,pane:N,console:j,consoleExplicit:_,setFileId:M,setPane:k,setConsole:B}=fT(),[W,L]=p.useState(null),V=!!o,A=OT({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!V}),P=A.data?.fileset_hash??null,Q=A.data?.status==="draft",Y=A.data?.capabilities,X=V||!!Y?.editable,U=!X,ee=p.useMemo(()=>Im(e),[e]),de=Iu({workspaceId:e,enabled:!V}),be=p.useMemo(()=>{const O=de.data?.items??[];return new Set(O.map(ue=>ue.display_name.trim().toLowerCase()))},[de.data?.items]),D=p.useMemo(()=>{const O=de.data?.items??[];for(const ue of O)if(Yi(ue.status)==="active")return ue;return null},[de.data?.items]),R=Fm(e),te=qm(e),[he,ae]=p.useState(!1),[E,Z]=p.useState(""),[le,F]=p.useState(null),[J,$]=p.useState(!1),[K,H]=p.useState(null),ne=p.useMemo(()=>o?o.tree:A.data?Wb(A.data):null,[o,A.data]);p.useEffect(()=>{n&&(V||A.isSuccess)&&Vm(ee,n)},[n,V,A.isSuccess,ee]);const Se=p.useCallback(()=>{R.reset(),F(null),Z(Pm(i,be)),ae(!0)},[i,R,be]);p.useEffect(()=>{if(!J||!Q||V)return;let O=!1;return H({stage:"checking"}),Bm(e,n).then(ue=>{if(!O){if(Array.isArray(ue.issues)&&ue.issues.length>0){H({stage:"issues",issues:ue.issues});return}H({stage:"confirm"})}}).catch(ue=>{if(O)return;const Re=ue instanceof Error?ue.message:"Unable to validate configuration.";H({stage:"error",message:Re})}),()=>{O=!0}},[n,Q,J,V,e]);const[Be,Qe]=p.useState(null),rt=p.useCallback(O=>{Qe(O)},[]),ye=HT(e,n),Ee=p.useRef(null),[He,We]=p.useState(null),[Je,_t]=p.useState(!1),[T,I]=p.useState(!1),{runStatus:ce,runMode:_e,runInProgress:je,validation:Ce,console:ze,latestRun:ge,clearConsole:ke,startRun:Oe}=hM({configId:n,runId:W,seed:o,maxConsoleLines:yM,onRunIdChange:L,onRunComplete:rt}),[we,Te]=p.useState(!1),[Ze,mt]=p.useState(!1),et=p.useMemo(()=>o?null:ha(jM(e,n)),[e,n,o]),zt=p.useMemo(()=>o?null:ha(SM(e,n)),[e,n,o]),$t=p.useMemo(()=>ha(kM(e,n)),[e,n]),os=p.useRef(null),fe=gT(CM(e,n)),Me=fe.resolvedTheme==="vs-light"?"light":"dark",ct=Ce.lastRunAt?`Last run ${IM(Ce.lastRunAt)}`:void 0,[Ot,ft]=p.useState(()=>{const O=$t.get();return O?.explorer?{collapsed:!!O.explorer.collapsed,fraction:O.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[bt,Vt]=p.useState(null),xn=p.useRef(null),[An,on]=p.useState(!1);p.useEffect(()=>{zt?os.current=zt.get()??null:os.current=null,xn.current=null,Vt(null),on(!1)},[zt]);const[Sn,Wn]=p.useState({width:0,height:0}),[Yt,cs]=p.useState(null),[Tn,Kn]=p.useState("explorer"),[Cs,Ns]=p.useState(null),[Gn,us]=p.useState(null),[Hn,cn]=p.useState(!1),[Ln,ta]=p.useState(!1),[ll,zo]=p.useState(!1),[jt,Cr]=p.useState(null),[Yn,ii]=p.useState(!1),[ks,ds]=p.useState(null),[Nr,na]=p.useState(null),[un,li]=p.useState(null),{notifyBanner:kr,dismissScope:sa,notifyToast:Ft}=Hm(),Er=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),bn=p.useMemo(()=>`workbench-upload:${e}:${n}`,[e,n]),oi=UT(e,n),ol=BT(e,n),qa=$T(e,n),it=p.useCallback((O,ue)=>{kr({title:O,intent:ue?.intent??"info",duration:ue?.duration??6e3,dismissible:!0,scope:Er,persistKey:Er})},[kr,Er]),Xn=p.useCallback(()=>{sa(Er,"banner")},[sa,Er]),Dt=p.useCallback(O=>{const ue=uv(O);it(ue,{intent:"danger",duration:null})},[it]),cl=p.useCallback(async()=>{_t(!0);try{const O=await $m(e,n),ue=O.filename??`${n}.zip`,Re=URL.createObjectURL(O.blob),Ae=document.createElement("a");Ae.href=Re,Ae.download=ue,Ae.click(),URL.revokeObjectURL(Re),it(`Exported ${ue}`,{intent:"success",duration:4e3})}catch(O){Dt(O),it("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{_t(!1)}},[e,n,it,Dt]),ul=p.useCallback(()=>{ae(!1),F(null)},[]),dl=p.useCallback(()=>{const O=E.trim();if(!O){F("Enter a name for the new draft configuration.");return}F(null),R.mutate({sourceConfigurationId:n,displayName:O},{onSuccess(ue){Ft({title:"Draft created.",intent:"success",duration:3500}),ul(),w(`/workspaces/${e}/config-builder/${encodeURIComponent(ue.id)}/editor`)},onError(ue){F(ue instanceof Error?ue.message:"Unable to duplicate configuration.")}})},[ul,n,E,R,w,Ft,e]),ci=p.useCallback(()=>{te.reset(),H({stage:"checking"}),$(!0)},[te]),aa=p.useCallback(()=>{$(!1),H(null)},[]),Ku=p.useCallback(()=>{te.mutate({configurationId:n},{async onSuccess(){Ft({title:"Configuration is now active and locked.",description:"Duplicate it to make further edits.",intent:"success",duration:5e3}),aa(),await Promise.all([v.invalidateQueries({queryKey:tn.files(e,n)}),v.invalidateQueries({queryKey:tn.root(e)})])},onError(O){const ue=O instanceof Error?O.message:"Unable to make configuration active.";H({stage:"error",message:ue})}})},[aa,n,te,Ft,v,e]);p.useEffect(()=>{if(!Be)return;const{runId:O,status:ue,payload:Re}=Be,Ae=Re?.failure??void 0,qe=typeof Ae?.message=="string"?Ae.message.trim():null,tt=typeof Re?.summary=="string"?Re.summary.trim():null,nt=qe||tt||"ADE run failed.",Ht=ue==="cancelled";it(ue==="succeeded"?"ADE run completed successfully.":Ht?"ADE run cancelled.":nt,{intent:ue==="succeeded"?"success":Ht?"info":"danger"}),Qe(St=>St&&St.runId===O?null:St)},[Be,it,Qe]);const nn=u==="maximized",ra=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Oo=p.useCallback(()=>{x()},[x]),ui=!Ot.collapsed,Fa=p.useCallback(async O=>{if(o)return{content:o.content[O]??"",etag:null};const ue=await v.fetchQuery({queryKey:tn.file(e,n,O),queryFn:({signal:Re})=>Jb(e,n,O,Re)});if(!ue)throw new Error("File could not be loaded.");return{content:dv(ue),etag:ue.etag??null}},[o,v,e,n]),Ie=iT({tree:ne,initialActiveFileId:C,loadFile:Fa,persistence:et??void 0}),ga=LT(e,n),qs=p.useCallback(async O=>{if(V)return null;const ue=await v.fetchQuery({queryKey:tn.file(e,n,O),queryFn:({signal:Ae})=>Jb(e,n,O,Ae)}),Re=dv(ue);return Ie.replaceTabContent(O,{content:Re,etag:ue.etag??null,metadata:{size:ue.size??null,modifiedAt:ue.mtime??null,contentType:ue.content_type??Ie.tabs.find(Ae=>Ae.id===O)?.metadata?.contentType??null,etag:ue.etag??null}}),ue},[V,v,e,n,Ie]);mT({isDirty:Ie.isDirty,shouldBypassNavigation:b});const Gu=p.useCallback(()=>{d()},[d]),Lo=p.useCallback(()=>{nn?g():h()},[nn,h,g]),Un=j!=="open",Fs=p.useMemo(()=>Ie.tabs.filter(O=>O.status==="ready"&&O.content!==O.initialContent),[Ie.tabs]),Yu=Ie.tabs.some(O=>O.saving),ia=!V&&X&&Fs.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[Ot.collapsed,Ot.fraction,Un,bt,nn,N]);const Hs=p.useCallback(async O=>{if(V)return!1;const ue=Ie.tabs.find(qe=>qe.id===O);if(!ue||ue.status!=="ready"||ue.content===ue.initialContent||ue.saving)return!1;const Re=ue.content,Ae=ue.etag??void 0;Ie.beginSavingTab(O);try{const qe=await ga.mutateAsync({path:ue.id,content:Re,etag:Ae,create:!Ae,parents:!0}),tt={size:qe.size??ue.metadata?.size??null,modifiedAt:qe.mtime??ue.metadata?.modifiedAt??null,contentType:ue.metadata?.contentType??null,etag:qe.etag??ue.metadata?.etag??null};return Ie.completeSavingTab(O,{etag:qe.etag??ue.etag??null,metadata:tt,savedContent:Re}),it(`Saved ${ue.name}`,{intent:"success",duration:4e3}),!0}catch(qe){const tt=qe instanceof _n&&qe.status===412,nt=tt?new Error("Save blocked because this file changed on the server. Reloading latest version."):qe;if(Ie.failSavingTab(O,nt instanceof Error?nt.message:String(nt)),tt)try{await qs(O),it("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Ht){Dt(Ht)}return Dt(nt),!1}},[V,Ie,ga,it,qs,Dt]),Jn=p.useCallback(async O=>{const ue=[];for(const Re of O)await Hs(Re)&&ue.push(Re);return ue},[Hs]),Ha=p.useCallback(async()=>{if(!ia||Fs.length===0)return!0;const ue=(await Jn(Fs.map(Re=>Re.id))).length===Fs.length;return ue||it("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),ue},[ia,Fs,Jn,it]),fl=p.useCallback(O=>{Hs(O)},[Hs]),la=p.useCallback(()=>{Ie.activeTab&&Hs(Ie.activeTab.id)},[Ie.activeTab,Hs]),Za=p.useCallback(()=>{if(!ia)return;const O=Fs.map(ue=>ue.id);(async()=>{const ue=await Jn(O);ue.length>1&&it(`Saved ${ue.length} files`,{intent:"success",duration:5e3})})()},[ia,Fs,Jn,it]);p.useEffect(()=>{const O=Yt;if(!O||typeof window>"u")return;const ue=()=>{const Ae=O.getBoundingClientRect(),qe=Ae.width,tt=Ae.height;Wn({width:qe,height:tt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(ue(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue);const Re=new window.ResizeObserver(()=>ue());return Re.observe(O),()=>Re.disconnect()},[Yt]);const xa=Un?gM:xM,sn=p.useMemo(()=>{const O=Math.max(0,Sn.height),Re=Math.max(0,O-xa-lv),Ae=Math.min(Eh,Re);return{container:O,minPx:Ae,maxPx:Re}},[Sn.height,xa]),Uo=p.useCallback((O,ue=sn)=>vs(O,ue.minPx,ue.maxPx),[sn]),Es=p.useCallback(()=>{const O=os.current;return O&&"version"in O&&O.version===2&&typeof O.fraction=="number"?vs(O.fraction,0,1):O&&"height"in O&&typeof O.height=="number"&&sn.container>0?vs(O.height/sn.container,0,1):.25},[sn.container]);p.useEffect(()=>{bt===null&&sn.container>0&&Vt(Es())},[bt,sn.container,Es]);const Bn=p.useCallback(()=>sn.container>0&&sn.maxPx<Eh?(B("closed"),it(ov,{intent:"warning",duration:1e4}),!1):(Xn(),B("open"),Vt(O=>O!==null?vs(O,0,1):xn.current!==null?vs(xn.current,0,1):Es()),!0),[sn,B,it,Xn,Es]),_r=p.useCallback(()=>{xn.current=bt,B("closed"),Xn()},[bt,B,Xn]);p.useEffect(()=>{if(An)return;const O=os.current?.state;if(_||!O){on(!0);return}(O==="open"||O==="closed")&&O!==j&&B(O),on(!0)},[_,j,B,An]),p.useEffect(()=>{!zt||Hn||bt===null||zt.set({version:2,fraction:vs(bt,0,1),state:j})},[zt,bt,j,Hn]),p.useEffect(()=>{if(!(j!=="open"||!sn.container)){if(sn.maxPx<Eh){B("closed"),it(ov,{intent:"warning",duration:1e4});return}Vt(O=>O===null?Es():vs(O,0,1))}},[j,sn,B,it,Es]);const Ia=p.useCallback((O,ue)=>{if(O<=0)return{minPx:ue.min,maxPx:ue.max,minFrac:0,maxFrac:1};const Re=Math.min(ue.min,O),Ae=Math.min(ue.max,O);return{minPx:Re,maxPx:Ae,minFrac:Re/O,maxFrac:Ae/O}},[]),Cn=Math.max(0,Sn.width-wM),Zs=p.useMemo(()=>Ia(Cn,pM),[Cn,Ia]),Va=p.useCallback((O,ue)=>vs(O,ue.minFrac,ue.maxFrac),[]);p.useEffect(()=>{Cn<=0||ft(O=>{if(O.collapsed)return O;const ue=Va(O.fraction,Zs);return ue===O.fraction?O:{...O,fraction:ue}})},[Cn,Zs,Va]),p.useEffect(()=>{$t.set({version:2,explorer:{collapsed:Ot.collapsed,fraction:Ot.fraction}})},[$t,Ot]);const hl=Ot.collapsed?0:vs(Ot.fraction,Zs.minFrac,Zs.maxFrac)*Cn,ba=Cn>0?Math.min(hl,Cn):hl,Zn=Math.max(0,sn.container),va=(bt??(Zn>0?vs(bM/Zn,0,1):.25))*Zn,Pa=Zn>0?Uo(va):0,Qa=lv,Bo=Un?vM:Pa,ml=Zn>0?Math.max(xa,Zn-Qa-Bo):xa;p.useEffect(()=>{const O=Ie.activeTabId;if(!O){M(void 0);return}M(O)},[Ie.activeTabId,M]),p.useEffect(()=>{!ks||!ne||ys(ne,ks)&&(Ie.openFile(ks),M(ks),ds(null))},[ks,ne,Ie,M]);const Wa=p.useCallback(()=>Bn()?(k("terminal"),!0):!1,[Bn,k]),Dr=p.useCallback(async()=>{V||!ne||A.isLoading||A.isError||!await Ha()||await Oe({validate_only:!0},{mode:"validation"},{prepare:Wa})},[V,ne,A.isLoading,A.isError,Ha,Oe,Wa]),di=p.useCallback(async O=>{if(Te(!1),mt(!1),V||!ne||A.isLoading||A.isError||!await Ha())return;const Re=Array.from(new Set((O.sheetNames??[]).filter(Boolean)));Oe({input_document_id:O.documentId,input_sheet_names:Re.length?Re:void 0,log_level:O.logLevel},{mode:"extraction",documentId:O.documentId,documentName:O.documentName,sheetNames:Re},{forceRebuild:Ze,prepare:Wa})},[V,ne,A.isLoading,A.isError,Oe,Ze,Wa,Ha]);p.useEffect(()=>{if(typeof window>"u")return;const O=ue=>{if(!(ra?ue.metaKey:ue.ctrlKey)||ue.altKey||ue.key.toLowerCase()!=="s")return;const Ae=ue.target;if(Ae){const qe=Ae.tagName;if(qe==="INPUT"||qe==="TEXTAREA"||Ae.isContentEditable)return}ia&&(ue.preventDefault(),la())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[ra,ia,la]);const pl=_e??(je?"extraction":void 0),fi=je,Ju=Ce.status==="running"||fi&&pl==="validation",ed=!V&&!!ne&&!A.isLoading&&!A.isError&&!fi&&Ce.status!=="running",gl=fi&&pl!=="validation",hi=!V&&!!ne&&!A.isLoading&&!A.isError&&!fi,Is=!V&&!A.isLoading&&!A.isError&&!!Y?.can_create,xl=Is&&!oi.isPending&&!!Y?.can_delete,bl=Is&&!ol.isPending,vl=Is&&!qa.isPending&&!!Y?.can_delete,ya=Q&&!V&&!ye.isPending&&!!P,Ar=Q&&!V&&!Ie.isDirty&&!te.isPending,td=p.useCallback(O=>{Kn(O),O==="explorer"&&ft(ue=>({...ue,collapsed:!1}))},[]),nd=p.useCallback(O=>{O.preventDefault();const ue=O.currentTarget.getBoundingClientRect();Ns({x:ue.right+8,y:ue.top})},[]),sd=p.useCallback(O=>{We(O)},[]),yl=p.useCallback(()=>Ns(null),[]),Vs=p.useCallback(()=>{Un?Bn():_r()},[Un,Bn,_r]);p.useEffect(()=>{if(typeof window>"u")return;const O=ue=>{if(!(ra?ue.metaKey:ue.ctrlKey)||ue.altKey||ue.key?.toLowerCase()!=="`"&&ue.code!=="Backquote")return;const qe=ue.target;if(qe&&!(typeof qe.closest=="function"?qe.closest("[data-editor-area]"):null)){const nt=qe.tagName,Ht=qe.getAttribute("role");if(nt==="INPUT"||nt==="TEXTAREA"||Ht==="textbox"||qe.isContentEditable)return}ue.preventDefault(),Vs()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[ra,Vs]);const ad=p.useCallback(()=>{ke()},[ke]),rd=p.useCallback(()=>{ft(O=>({...O,collapsed:!O.collapsed}))},[]),$o=p.useCallback(()=>{ft(O=>({...O,collapsed:!0}))},[]),id=p.useCallback(O=>{po(O.dataTransfer)&&O.preventDefault()},[]),ld=p.useCallback(O=>{O.defaultPrevented||!po(O.dataTransfer)||(O.preventDefault(),Ft({title:"Drop files into the Explorer to upload.",description:"Open the Explorer pane, then drop into a folder in the file tree.",intent:"info",duration:7e3,persistKey:bn,actions:[{label:"Show Explorer",variant:"secondary",onSelect:()=>ft(ue=>({...ue,collapsed:!1}))}]}))},[Ft,bn,ft]),mi=p.useCallback(async(O,ue)=>{if(V){Ft({title:"Uploads arent available in demo mode.",intent:"warning",duration:6e3,persistKey:bn});return}if(U){Ft({title:"This configuration is read-only.",description:"Duplicate it to upload files.",intent:"warning",duration:7e3,persistKey:bn});return}if(!Is){Ft({title:"Files are still loading.",description:"Wait for the explorer to finish syncing and try again.",intent:"info",duration:6e3,persistKey:bn});return}if(Yn){Ft({title:"Upload already in progress.",description:"Wait for the current upload to finish before starting another.",intent:"info",duration:6e3,persistKey:bn});return}const Re=O.items.length;if(Re===0){Ft({title:"No files to upload.",intent:"warning",duration:5e3,persistKey:bn});return}ii(!0),Ft({title:`Uploading ${Re} file${Re===1?"":"s"}`,description:O.folderPath?`Destination: ${O.folderPath}`:"Destination: root",intent:"info",duration:null,dismissible:!1,persistKey:bn});const Ae=[],qe=[];try{for(const St of O.items)if(!(St.exists&&!ue.overwriteExisting))try{await ga.mutateAsync({path:St.targetPath,content:St.file,parents:!0,create:!St.exists,etag:St.exists?St.etag??void 0:void 0,contentType:St.file.type||void 0}),Ae.push(St.targetPath)}catch(Lt){const Ps=Lt instanceof _n&&Lt.status===412?"Upload blocked because the file changed on the server. Refresh and try again.":Lt instanceof _n&&Lt.status===428?"Upload blocked: refresh the file list and try again.":Lt instanceof _n&&Lt.status===413?Lt.problem?.detail||"File is larger than the allowed limit.":uv(Lt);qe.push({path:St.targetPath,message:Ps})}try{await A.refetch()}catch{}for(const St of Ae){const Lt=Ie.tabs.find(Mr=>Mr.id===St);if(!(!Lt||Lt.status!=="ready"||Lt.content!==Lt.initialContent))try{await qs(St)}catch{}}}finally{ii(!1)}const tt=O.skipped.length,nt=Ae.length,Ht=qe.length,wa=Ht>0?nt>0?"warning":"danger":tt>0?"warning":"success",$n=[];nt>0&&$n.push(`${nt} uploaded`),tt>0&&$n.push(`${tt} skipped`),Ht>0&&$n.push(`${Ht} failed`),Ft({title:Ht>0?"Upload finished with issues.":tt>0?"Upload finished.":"Upload complete.",description:$n.join("  "),intent:wa,duration:8e3,dismissible:!0,persistKey:bn,actions:qe.length>0?[{label:"Show errors",variant:"secondary",onSelect:()=>{const St=qe.slice(0,6).map(Lt=>`${Lt.path}: ${Lt.message}`).join("  ");kr({title:"Upload errors",description:St||"Upload errors occurred.",intent:"danger",duration:null,dismissible:!0,scope:bn,persistKey:`${bn}:errors`})}}]:void 0})},[Is,A,U,Yn,kr,Ft,qs,ga,bn,V,Ie.tabs]),od=p.useCallback(async(O,ue)=>{if(Yn){Ft({title:"Upload already in progress.",description:"Wait for the current upload to finish before dropping more files.",intent:"info",duration:6e3,persistKey:bn});return}if(jt){Ft({title:"Resolve the overwrite prompt first.",description:"Choose whether to overwrite existing files, then try again.",intent:"info",duration:6e3,persistKey:bn});return}if(!ne)return;const Re=si(O),Ae=A.data?.limits??null,qe=[],tt=[],nt=new Set;for(const $n of ue){const St=si($n.relativePath);if(!St){tt.push({relativePath:$n.relativePath,reason:"Missing file name."});continue}const Lt=LA(Re,St);if(!Lt||!UA(Lt)){tt.push({relativePath:St,reason:"Invalid path."});continue}if(nt.has(Lt)){tt.push({relativePath:St,reason:"Duplicate path in drop payload."});continue}nt.add(Lt);const Ps=ys(ne,Lt);if(Ps&&Ps.kind==="folder"){tt.push({relativePath:St,reason:"A folder with this name already exists."});continue}const Mr=!!(Ps&&Ps.kind==="file"),Po=Mr?Ps?.metadata?.etag??null:null;if(Mr&&!Po){tt.push({relativePath:St,reason:"Missing file version. Refresh and try again."});continue}const Sl=Ae&&typeof Ae.code_max_bytes=="number"&&typeof Ae.asset_max_bytes=="number"?BA(Lt)?Ae.asset_max_bytes:Ae.code_max_bytes:null;if(typeof Sl=="number"&&$n.file.size>Sl){tt.push({relativePath:St,reason:`File exceeds ${Sl} bytes.`});continue}qe.push({file:$n.file,relativePath:St,targetPath:Lt,exists:Mr,etag:Po})}if(qe.length===0){Ft({title:"No uploadable files.",description:tt.length?`${tt.length} item${tt.length===1?"":"s"} skipped.`:void 0,intent:"warning",duration:7e3,persistKey:bn});return}const Ht=qe.filter($n=>$n.exists),wa={folderPath:Re,items:qe,conflicts:Ht,skipped:tt};if(Ht.length>0){Cr(wa);return}await mi(wa,{overwriteExisting:!1})},[A.data?.limits,Yn,Ft,mi,ne,jt,bn]),cd=p.useCallback(async(O,ue)=>{const Re=ue.trim();if(!Re)throw new Error("Enter a file name.");if(Re.includes(".."))throw new Error("File name cannot include '..'.");if(U)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!Is)throw new Error("Files are still loading.");const Ae=O.replace(/\/+$/,""),qe=Re.replace(/^\/+/,"").replace(/\/+/g,"/"),nt=(Ae?`${Ae}/${qe}`:qe).replace(/\/+/g,"/");if(!nt||nt.endsWith("/"))throw new Error("Enter a valid file name.");if(ne&&ys(ne,nt))throw new Error("A file or folder with that name already exists.");ta(!0);try{await ga.mutateAsync({path:nt,content:"",parents:!0,create:!0}),ds(nt),await A.refetch(),it(`Created ${nt}`,{intent:"success",duration:4e3})}catch(Ht){throw Dt(Ht),Ht instanceof Error?Ht:new Error("Unable to create file.")}finally{ta(!1)}},[Is,U,ne,ga,A,it,Dt]),ud=p.useCallback(async(O,ue)=>{const Re=ue.trim();if(!Re)throw new Error("Enter a folder name.");if(Re.includes(".."))throw new Error("Folder name cannot include '..'.");if(U)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!bl)throw new Error("Files are still loading.");const Ae=O.replace(/\/+$/,""),qe=Re.replace(/^\/+/,"").replace(/\/+/g,"/"),nt=(Ae?`${Ae}/${qe}`:qe).replace(/\/+/g,"/").replace(/\/$/,"");if(!nt)throw new Error("Enter a valid folder name.");if(ne&&ys(ne,nt))throw new Error("A file or folder with that name already exists.");zo(!0);try{await ol.mutateAsync({path:nt}),await A.refetch(),it(`Folder ready: ${nt}`,{intent:"success",duration:4e3})}catch(Ht){throw Dt(Ht),Ht instanceof Error?Ht:new Error("Unable to create folder.")}finally{zo(!1)}},[bl,U,ne,ol,A,it,Dt]),dd=p.useCallback(async O=>{if(U)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!xl)throw new Error("Files are still loading.");const ue=ne?ys(ne,O):null;if(!ne||!ue)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${O}? This cannot be undone.`)){ta(!1),na(O);try{await oi.mutateAsync({path:O,etag:ue.metadata?.etag}),Ie.closeTab(O),ds(Ae=>Ae===O?null:Ae),await A.refetch(),it(`Deleted ${O}`,{intent:"info",duration:4e3})}catch(Ae){const qe=Ae instanceof _n&&Ae.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Ae instanceof Error?Ae.message:"Unable to delete file.";throw Dt(qe),new Error(qe)}finally{na(Ae=>Ae===O?null:Ae)}}},[xl,U,ne,oi,Ie,A,it,Dt,na]),fd=p.useCallback(async O=>{if(U)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!vl)throw new Error("Files are still loading.");const ue=ne?ys(ne,O):null;if(!ne||!ue||ue.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${O} and all contents? This cannot be undone.`)){li(O);try{await qa.mutateAsync({path:O,recursive:!0}),ds(Ae=>Ae===O?null:Ae),Ie.closeTab(O),await A.refetch(),it(`Deleted folder ${O}`,{intent:"info",duration:4e3})}catch(Ae){const qe=Ae instanceof Error?Ae.message:"Unable to delete folder.";throw Dt(qe),new Error(qe)}finally{li(Ae=>Ae===O?null:Ae)}}},[vl,U,ne,qa,Ie,A,it,Dt,li]),qo=p.useCallback(()=>{if(!ya){it("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),We(null);return}We(null),I(!0)},[ya,it]),wl=p.useCallback(async O=>{const ue=O.target.files?.[0]??null;if(O.target.value="",!!ue)try{await ye.mutateAsync({file:ue,ifMatch:P}),et?.clear?.(),Ie.closeAllTabs(),M(void 0);const Ae=(await A.refetch()).data??A.data??null,qe=Ae?Wb(Ae):null,tt=qe?Um(qe):null;ds(tt?.id??null),it("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(Re){const Ae=Re instanceof _n&&Re.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":Re instanceof _n&&Re.status===428?"Replace blocked: refresh the file list and try again.":Re instanceof Error?Re.message:"Unable to replace configuration.";Dt(Ae),it(Ae,{intent:"danger",duration:6e3})}},[ye,P,et,Ie,A,M,ds,it,Dt]),Tr=p.useMemo(()=>{const O=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),ue=EM.map(Re=>({id:`theme-${Re.value}`,label:`${Re.label} theme`,icon:fe.preference===Re.value?l.jsx(_h,{}):O,onSelect:()=>fe.setPreference(Re.value)}));return ue.push({id:"toggle-explorer",label:Ot.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:Ot.collapsed?O:l.jsx(_h,{}),onSelect:()=>ft(Re=>({...Re,collapsed:!Re.collapsed}))},{id:"toggle-console",label:Un?"Show Console":"Hide Console",icon:Un?O:l.jsx(_h,{}),onSelect:Vs}),ue},[fe,Ot.collapsed,Un,Vs]),hd=p.useMemo(()=>{const O=[];return Q&&O.push({id:"make-active",label:"Make active",disabled:!Ar,onSelect:()=>{We(null),ci()}}),O.push({id:"duplicate",label:"Duplicate to edit",onSelect:()=>{We(null),Se()}}),O.push({id:"export",label:Je?"Exporting":"Export (.zip)",disabled:Je,dividerAbove:!0,onSelect:()=>{We(null),cl()}},{id:"replace",label:"Import from zip",disabled:!ya,onSelect:qo}),O},[Ar,ya,cl,qo,Q,Je,Se,ci]);p.useEffect(()=>{if(typeof document>"u"||!nn)return;const O=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=O||""}},[nn]);const Fo=VM(e),Ho=ra?"S":"Ctrl+S",Zo=ra?"`":"Ctrl+`",Io=p.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!hi,onSelect:()=>{mt(!0),Te(!0),us(null)}}],[hi,mt,Te,us]);if(!o&&A.isLoading)return l.jsx(Nt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!o&&A.isError)return l.jsx(Nt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!ne)return l.jsx(Nt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Vo=nn?Me==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":Me==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",Ka=Me==="dark"?"#1b1f27":"#ffffff",md=Me==="dark"?"#f5f6fb":"#0f172a",pd=nn?pe("fixed inset-0 z-[90] flex flex-col",Me==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):pe("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",Me==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900"),jl=Me==="dark"?{bar:"border-[#1f2431] bg-[#0f111a] text-slate-200",hint:"text-slate-400",button:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{bar:"border-slate-300 bg-white text-slate-700",hint:"text-slate-500",button:"border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400"};return l.jsxs("div",{className:pe("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Vo),onDragOver:id,onDrop:ld,children:[nn?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:pd,children:[l.jsx(TM,{configName:a,workspaceLabel:Fo,validationLabel:ct,canSaveFiles:ia,isSavingFiles:Yu,onSaveFile:la,saveShortcutLabel:Ho,onOpenTestMenu:O=>us(O),onOpenActionsMenu:sd,canRunValidation:ed,isRunningValidation:Ju,onRunValidation:Dr,canRunExtraction:hi,isRunningExtraction:gl,onRunExtraction:O=>{hi&&(mt(O),Te(!0))},explorerVisible:ui,onToggleExplorer:rd,consoleOpen:!Un,onToggleConsole:Vs,appearance:Me,windowState:u,onMinimizeWindow:Gu,onToggleMaximize:Lo,onCloseWindow:Oo,actionsBusy:Je||ye.isPending}),V?null:l.jsx("div",{className:pe("border-b px-4 py-3",Me==="dark"?"border-white/10 bg-[#0f111a] text-slate-200":"border-slate-200 bg-slate-50 text-slate-700"),role:"status","aria-live":"polite",children:U?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Read-only configuration"}),l.jsx("p",{className:pe("text-xs",Me==="dark"?"text-slate-300":"text-slate-600"),children:A.data?.status==="active"?"Active configurations cant be edited. Duplicate this configuration to create a draft you can change.":"Archived configurations cant be edited. Duplicate this configuration to create a draft you can change."})]}),l.jsx(De,{size:"sm",onClick:Se,children:"Duplicate to edit"})]}):l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Draft configuration"}),l.jsxs("p",{className:pe("text-xs",Me==="dark"?"text-slate-300":"text-slate-600"),children:["Make this draft active to use it for extraction runs.",D?` The current active configuration ${D.display_name} will be archived.`:""]}),!Ar&&Ie.isDirty?l.jsx("p",{className:"text-xs font-medium text-amber-500",children:"Save changes before making active."}):null]}),l.jsx(De,{size:"sm",variant:"secondary",onClick:ci,disabled:!Ar,title:!Ar&&Ie.isDirty?"Save changes before making active.":void 0,children:"Make active"})]})}),l.jsxs("div",{ref:cs,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(z2,{activeView:Tn,onSelectView:td,onOpenSettings:nd,appearance:Me}),ui?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:ba},children:Tn==="explorer"&&Ie.tree?l.jsx(VA,{width:ba,tree:Ie.tree,activeFileId:Ie.activeTab?.id??"",openFileIds:Ie.tabs.map(O=>O.id),onSelectFile:O=>{Ie.openFile(O),M(O)},theme:Me,canUploadFiles:Is,onUploadFiles:od,isUploadingFiles:Yn,canCreateFile:Is,canCreateFolder:bl,isCreatingEntry:Ln||ll,onCreateFile:cd,onCreateFolder:ud,canDeleteFile:xl,canDeleteFolder:vl,deletingFilePath:Nr,deletingFolderPath:un,onDeleteFile:dd,onDeleteFolder:fd,expandedStorageKey:NM(e,n),onHide:$o}):l.jsx(AM,{width:ba,view:Tn,appearance:Me})}),l.jsx(Qb,{orientation:"vertical",onPointerDown:O=>{const ue=O.clientX,Re=ba;Xb(O,{cursor:"col-resize",onMove:Ae=>{const qe=Ae.clientX-ue,tt=vs(Re+qe,Zs.minPx,Zs.maxPx);ft(nt=>nt.collapsed||Cn<=0?nt:{...nt,fraction:Va(tt/Cn,Zs)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:Ka,color:md},children:l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Zn>0?`${Zn}px`:void 0,gridTemplateRows:`${Math.max(xa,ml)}px ${Qa}px ${Math.max(0,Bo)}px`},children:[l.jsx(OA,{tabs:Ie.tabs,activeTabId:Ie.activeTab?.id??"",onSelectTab:O=>{Ie.selectTab(O),M(O)},onCloseTab:Ie.closeTab,onCloseOtherTabs:Ie.closeOtherTabs,onCloseTabsToRight:Ie.closeTabsToRight,onCloseAllTabs:Ie.closeAllTabs,onContentChange:Ie.updateContent,onSaveTab:fl,onSaveAllTabs:Za,onMoveTab:Ie.moveTab,onRetryTabLoad:Ie.reloadTab,onPinTab:Ie.pinTab,onUnpinTab:Ie.unpinTab,onSelectRecentTab:Ie.selectRecentTab,editorTheme:fe.resolvedTheme,menuAppearance:Me,canSaveFiles:ia,readOnly:U,minHeight:xa}),l.jsx(Qb,{orientation:"horizontal",onPointerDown:O=>{cn(!0);const ue=O.clientY,Re=Pa;let Ae=!1;Xb(O,{cursor:"row-resize",onMove:qe=>{if(Un&&!Ae&&(Bn(),Ae=!0),sn.maxPx<=0||Zn<=0)return;const tt=ue-qe.clientY,nt=vs(Re+tt,sn.minPx,sn.maxPx);Vt(vs(nt/Zn,0,1))},onEnd:()=>{cn(!1)}})},onDoubleClick:()=>{Un?Bn():_r()},onToggle:Vs,collapsed:Un}),Un?l.jsxs("div",{className:pe("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",jl.bar),onDoubleClick:Vs,title:"Double-click to show console",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:"Console hidden"}),l.jsxs("span",{className:pe("text-[11px]",jl.hint),children:["(double-click gutter or ",Zo,")"]})]}),l.jsx("button",{type:"button",onClick:Vs,className:pe("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",jl.button),title:"Show console",children:"Show console"})]}):l.jsx(S5,{height:Math.max(0,Pa),console:ze,validation:Ce,activePane:N,onPaneChange:k,latestRun:ge,onClearConsole:ad,runStatus:ce,onToggleCollapse:Vs})]})})]})]}),we?l.jsx(MM,{open:we,workspaceId:e,onClose:()=>{Te(!1),mt(!1)},onRun:di}):null,l.jsx("input",{ref:Ee,type:"file",accept:".zip",onChange:wl,className:"hidden"}),T?l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-slate-900",children:"Import from zip"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),ya?null:l.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),Ie.isDirty?l.jsx("p",{className:"text-sm font-medium text-amber-700",children:"You have unsaved changes that will be lost."}):null]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[l.jsx(De,{variant:"secondary",onClick:()=>I(!1),disabled:ye.isPending,children:"Cancel"}),l.jsx(De,{onClick:()=>{I(!1),Ee.current?.click()},disabled:!ya||ye.isPending,isLoading:ye.isPending,children:"Continue"})]})]})}):null,l.jsxs(Ss,{open:he,title:"Duplicate configuration",description:`Create a new draft based on ${i}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:ul,onConfirm:dl,isConfirming:R.isPending,confirmDisabled:R.isPending||E.trim().length===0,children:[l.jsx(wt,{label:"New configuration name",required:!0,children:l.jsx(xt,{value:E,onChange:O=>Z(O.target.value),placeholder:"Copy of My Config",disabled:R.isPending})}),le?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:le}):null]}),l.jsx(Ss,{open:J,title:K?.stage==="checking"?"Checking configuration":K?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:K?.stage==="checking"?"Running validation before activation.":K?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":D?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${D.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:K?.stage==="issues"?"Continue editing":K?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:aa,onConfirm:()=>{if(K?.stage==="issues"){aa();return}if(K?.stage==="error"){aa();return}Ku()},isConfirming:te.isPending,confirmDisabled:K?.stage==="checking"||te.isPending,children:K?.stage==="checking"?l.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[l.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-200 border-t-brand-600","aria-hidden":"true"}),l.jsx("span",{children:"Validating"})]}):K?.stage==="issues"?l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Issues:"}),l.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:K.issues.map(O=>l.jsxs("li",{className:"space-y-1",children:[l.jsx("p",{className:"font-semibold",children:O.path}),l.jsx("p",{className:"text-slate-600",children:O.message})]},`${O.path}:${O.message}`))})]}):K?.stage==="error"?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:K.message}):null}),l.jsx(Ss,{open:!!jt,title:jt&&jt.conflicts.length===1?"Overwrite existing file?":"Overwrite existing files?",description:jt?`${jt.conflicts.length} file${jt.conflicts.length===1?"":"s"} already exist${jt.folderPath?` in ${jt.folderPath}.`:" in the configuration root."} Overwrite to replace them.`:void 0,confirmLabel:jt?`Overwrite ${jt.conflicts.length} file${jt.conflicts.length===1?"":"s"}`:"Overwrite",cancelLabel:"Cancel",onCancel:()=>Cr(null),onConfirm:()=>{const O=jt;Cr(null),O&&mi(O,{overwriteExisting:!0})},isConfirming:Yn,confirmDisabled:!jt||jt.conflicts.length===0||Yn,tone:"danger",children:jt?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"max-h-56 overflow-auto rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Will overwrite:"}),l.jsx("ul",{className:"mt-2 space-y-1",children:jt.conflicts.slice(0,20).map(O=>l.jsx("li",{className:"break-all",children:O.targetPath},O.targetPath))}),jt.conflicts.length>20?l.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["And ",jt.conflicts.length-20," more"]}):null]}),jt.skipped.length>0?l.jsxs("p",{className:"text-xs text-slate-600",children:[jt.skipped.length," item",jt.skipped.length===1?"":"s"," will be skipped due to invalid paths or size limits."]}):null,jt.items.length>jt.conflicts.length?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700",children:[l.jsx("p",{className:"font-medium",children:"Prefer not to overwrite?"}),l.jsxs(De,{size:"sm",variant:"secondary",disabled:Yn,onClick:()=>{const O=jt;Cr(null),mi(O,{overwriteExisting:!1})},children:["Upload new only (",jt.items.length-jt.conflicts.length,")"]})]}):null]}):null}),l.jsx(wr,{open:!!He,position:He,onClose:()=>We(null),items:hd,appearance:Me}),l.jsx(wr,{open:!!Gn,position:Gn,onClose:()=>us(null),items:Io,appearance:Me}),l.jsx(wr,{open:!!Cs,position:Cs,onClose:yl,items:Tr,appearance:Me})]})}function AM({width:e,view:n,appearance:a}){const i=_M[n]||"Coming soon",o=a==="dark"?"border-[#111111] bg-[#1e1e1e] text-slate-300":"border-slate-200 bg-slate-50 text-slate-600";return l.jsx("div",{className:pe("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide",o),style:{width:e},"aria-live":"polite",children:i})}function _h(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function TM({configName:e,workspaceLabel:n,validationLabel:a,canSaveFiles:i,isSavingFiles:o,onSaveFile:u,saveShortcutLabel:d,onOpenTestMenu:h,onOpenActionsMenu:g,canRunValidation:x,isRunningValidation:b,onRunValidation:v,canRunExtraction:w,isRunningExtraction:C,onRunExtraction:N,explorerVisible:j,onToggleExplorer:_,consoleOpen:M,onToggleConsole:k,appearance:B,windowState:W,onMinimizeWindow:L,onToggleMaximize:V,onCloseWindow:A,actionsBusy:P=!1}){const Q=B==="dark",Y=Q?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",X=Q?"text-white/60":"text-slate-500",U=Q?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",ee=Q?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",de=W==="maximized";return l.jsxs("div",{className:pe("flex items-center justify-between border-b px-4 py-2",Y),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(OM,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:pe("text-[10px] font-semibold uppercase tracking-[0.35em]",X),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:pe("text-[11px]",X),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[a?l.jsx("span",{className:pe("text-xs",X),children:a}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:pe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",U),title:`Save (${d})`,children:[o?l.jsx(Dh,{}):l.jsx(ZM,{}),o?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:v,disabled:!x,className:pe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",ee),children:[b?l.jsx(Dh,{}):l.jsx(cv,{}),b?"Running":"Run validation"]}),l.jsx(vT,{label:C?"Running":"Test run",icon:C?l.jsx(Dh,{}):l.jsx(cv,{}),disabled:!w,isLoading:C,title:"Run test run",primaryClassName:pe(ee,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:pe(ee,"rounded-l-none px-2",Q?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>N(!1),onOpenMenu:be=>h(be),onContextMenu:be=>{be.preventDefault(),h({x:be.clientX,y:be.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Vi,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:_,appearance:B,active:j,icon:l.jsx(LM,{active:j})}),l.jsx(Vi,{ariaLabel:M?"Hide console":"Show console",onClick:k,appearance:B,active:M,icon:l.jsx(UM,{})})]}),l.jsx(Vi,{ariaLabel:"Configuration actions",onClick:be=>{const D=be.currentTarget.getBoundingClientRect();g({x:D.right+8,y:D.bottom})},appearance:B,disabled:P,icon:l.jsx(HM,{})}),l.jsxs("div",{className:pe("flex items-center gap-2 border-l pl-3",B==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(Vi,{ariaLabel:"Minimize workbench",onClick:L,appearance:B,icon:l.jsx(qM,{})}),l.jsx(Vi,{ariaLabel:de?"Restore workbench":"Maximize workbench",onClick:V,appearance:B,active:de,icon:de?l.jsx($M,{}):l.jsx(BM,{})}),l.jsx(Vi,{ariaLabel:"Close workbench",onClick:A,appearance:B,icon:l.jsx(FM,{})})]})]})]})}function MM({open:e,workspaceId:n,onClose:a,onRun:i}){const o=p.useRef(null),u=Fn({queryKey:["builder-documents",n],queryFn:({signal:L})=>RM(n,L),staleTime:6e4,enabled:e}),d=p.useMemo(()=>u.data??[],[u.data]),[h,g]=p.useState("");p.useEffect(()=>{if(e){if(!d.length){g("");return}g(L=>L&&d.some(V=>V.id===L)?L:d[0]?.id??"")}},[d,e]);const x=d.find(L=>L.id===h)??null,b=Fn({queryKey:["builder-document-sheets",n,h],queryFn:({signal:L})=>jw(n,h,L),enabled:e&&!!h,staleTime:6e4}),v=p.useMemo(()=>b.data??[],[b.data]),[w,C]=p.useState([]),[N,j]=p.useState("INFO");p.useEffect(()=>{if(e){if(!v.length){C([]);return}C(L=>L.filter(V=>v.some(A=>A.name===V)))}},[e,v]);const _=p.useMemo(()=>Array.from(new Set(w.filter(L=>v.some(V=>V.name===L)))),[w,v]),M=p.useCallback(L=>{C(V=>V.includes(L)?V.filter(A=>A!==L):[...V,L])},[]);if(!e)return null;const k=!x||u.isLoading||u.isError,B=v.length>0,W=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:o,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(De,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),u.isError?l.jsx(dt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):d.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(Xi,{id:"builder-run-document-select",value:h,onChange:L=>g(L.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:d.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",zM(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-log-level-select",children:"Log level"}),l.jsx(Xi,{id:"builder-run-log-level-select",value:N,onChange:L=>j(L.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:DM.map(L=>l.jsx("option",{value:L.value,children:L.label},L.value))}),l.jsx("p",{className:"text-xs text-slate-500",children:"Controls the engine runtime verbosity for this run."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(dt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(De,{variant:"ghost",size:"sm",onClick:()=>C([]),children:"Use all worksheets"})]})]})}):B?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:_.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${_.length.toLocaleString()} worksheet${_.length===1?"":"s"} selected.`})]}),l.jsx(De,{variant:"ghost",size:"sm",onClick:()=>C([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:v.map(L=>{const V=_.includes(L.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:V,onChange:()=>M(L.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[L.name,L.is_active?" (active)":""]})]},`${L.index}-${L.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(De,{variant:"ghost",onClick:a,children:"Cancel"}),l.jsx(De,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:_.length>0?_:void 0,logLevel:N})},disabled:k,children:"Start test run"})]})]})});return typeof document>"u"?null:js.createPortal(W,document.body)}async function RM(e,n){const{data:a}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return a?.items??[]}function zM(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Vi({ariaLabel:e,onClick:n,icon:a,appearance:i,active:o=!1,disabled:u=!1}){const d=i==="dark",h=d?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",g=d?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,disabled:u,className:pe("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",h,o&&g,u&&"cursor-not-allowed opacity-50"),title:e,children:a})}function OM(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function LM({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function UM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function BM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function $M(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function qM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function FM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Dh(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function cv(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function HM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"3",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"8",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"13",cy:"8",r:"1.3",fill:"currentColor"})]})}function ZM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function uv(e){return e instanceof _n?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function IM(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function VM(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function dv(e){if(e.encoding==="base64"){const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const a=atob(e.content),i=new Uint8Array(a.length);for(let u=0;u<a.length;u+=1)i[u]=a.charCodeAt(u);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(i);let o="";for(let u=0;u<i.length;u+=1)o+=String.fromCharCode(i[u]);return o}catch{}}return e.content}function PM(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Mw=p.createContext(null);function Rw(){const e=p.useContext(Mw);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function QM({workspaceId:e,children:n}){const a=Qt(),i=Qn(),[o,u]=p.useState(null),[d,h]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),v=p.useMemo(()=>ha(PM(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),C=p.useMemo(()=>JM(i.pathname,e),[i.pathname,e]),N=!!C;p.useEffect(()=>{v.get()||v.set(w)},[v,w]),p.useEffect(()=>{N||v.set(`${i.pathname}${i.search}${i.hash}`)},[N,i.pathname,i.search,i.hash,v]),p.useEffect(()=>{if(!o){x.current=null;return}const Y=x.current;if(N&&C===o.configId){if(Y==="dock"){x.current=null,h("minimized");return}Y&&(x.current=null);return}if(Y==="dock"){x.current=null;return}if(Y==="close"){x.current=null;return}u(null),h("restored"),x.current=null},[o,N,C,d]),p.useEffect(()=>{if(!o||!N||C!==o.configId)return;const Y=hv(i.search);Y!==o.editorSearch&&u(X=>!X||X.instanceId!==o.instanceId?X:{...X,editorSearch:Y})},[o,N,C,i.search]);const j=p.useCallback(()=>v.get()??w,[v,w]),_=p.useCallback(Y=>{u(X=>{if(!X)return X;const U=new URLSearchParams(X.editorSearch),ee=typeof Y=="function"?Y(new URLSearchParams(U)):Y,be=pw(ee).toString();return be===X.editorSearch?X:{...X,editorSearch:be}})},[]),M=p.useCallback(Y=>{const X=hv(Y.editorSearch??i.search);let U=d==="minimized";u(ee=>{if(ee&&ee.workspaceId===Y.workspaceId&&ee.configId===Y.configId){const de=Y.seed??ee.seed,be=Y.editorSearch!==void 0?X:ee.editorSearch;return ee.configName===Y.configName&&ee.configDisplayName===Y.configDisplayName&&ee.seed===de&&ee.editorSearch===be?ee:{...ee,configName:Y.configName,configDisplayName:Y.configDisplayName,seed:de,editorSearch:be}}return U=!0,g.current+=1,{...Y,editorSearch:X,instanceId:`${Y.workspaceId}:${Y.configId}:${g.current}`}}),U&&h("restored")},[i.search,d]),k=p.useCallback(()=>{o&&(u(null),h("restored"),x.current="close",a(j()))},[o,a,j]),B=p.useCallback(()=>{o&&(b.current=!0,h("minimized"),x.current="dock",a(j()))},[o,a,j]),W=p.useCallback(()=>{if(!o)return;h("restored");const Y=eR(o.workspaceId,o.configId,o.editorSearch);`${i.pathname}${i.search}`!==Y&&a(Y)},[o,a,i.pathname,i.search]),L=p.useCallback(()=>{o&&h("maximized")},[o]),V=p.useCallback(()=>{const Y=b.current;return b.current=!1,Y},[]),A=p.useMemo(()=>({session:o,windowState:d,openSession:M,closeSession:k,minimizeWindow:B,maximizeWindow:L,restoreWindow:W,shouldBypassUnsavedGuard:V}),[o,d,M,k,B,L,W,V]),P=!!o&&(!N||C!==o?.configId),Q=p.useMemo(()=>P&&o?{params:new URLSearchParams(o.editorSearch),setSearchParams:_}:null,[P,o,_]);return l.jsxs(Mw.Provider,{value:A,children:[n,l.jsx(lT,{value:Q,children:l.jsx(WM,{session:o,windowState:d,onClose:k,onMinimize:B,onMaximize:L,onRestore:W,shouldBypassUnsavedGuard:V})}),o&&d==="minimized"?l.jsx(KM,{configName:o.configName,onRestore:W,onDismiss:k}):null]})}function WM({session:e,windowState:n,onClose:a,onMinimize:i,onMaximize:o,onRestore:u,shouldBypassUnsavedGuard:d}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Tw,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,configDisplayName:e.configDisplayName,seed:e.seed,windowState:"maximized",onCloseWorkbench:a,onMinimizeWindow:i,onMaximizeWindow:o,onRestoreWindow:u,shouldBypassUnsavedGuard:d},e.instanceId)})}function KM({configName:e,onRestore:n,onDismiss:a}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(GM,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(fv,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(YM,{})}),l.jsx(fv,{ariaLabel:"Close minimized workbench",onClick:a,destructive:!0,children:l.jsx(XM,{})})]})]})})})}function fv({ariaLabel:e,onClick:n,children:a,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:pe("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:a})}function GM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function YM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function XM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function JM(e,n){const a=`/workspaces/${n}/config-builder/`;if(!e.startsWith(a))return null;const i=e.slice(a.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function eR(e,n,a){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return a.length>0?`${i}?${a}`:i}function hv(e){return e?e.startsWith("?")?e.slice(1):e:""}function em({to:e,replace:n,className:a,title:i,children:o,onClick:u}){const d=Qt();return l.jsx("a",{href:e,className:a,title:i,onClick:h=>{u?.(h),!(h.defaultPrevented||h.metaKey||h.ctrlKey||h.shiftKey||h.altKey)&&(h.preventDefault(),d(e,{replace:n}))},children:o})}function zw({to:e,end:n,className:a,children:i,title:o,onClick:u}){const{pathname:d}=Qn(),h=n?d===e:d===e||d.startsWith(`${e}/`),g=typeof a=="function"?a({isActive:h}):a,x=typeof i=="function"?i({isActive:h}):i;return l.jsx(em,{to:e,className:g,title:o,onClick:u,children:x})}function Vu(e){return function({title:a,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":a?void 0:!0,role:a?"img":"presentation",...i,children:[a?l.jsx("title",{children:a}):null,l.jsx("path",{d:e})]})}}const tR=Vu("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),nR=Vu("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),sR=Vu("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),aR=Vu("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),Ow=[{id:"documents",path:"documents",label:"Documents",icon:tR},{id:"runs",path:"runs",label:"Runs",icon:nR},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:sR},{id:"settings",path:"settings",label:"Workspace Settings",icon:aR,matchPrefix:!0}],ku=Ow[0];function Lw(e){return Ow.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon,matchPrefix:n.matchPrefix}))}const rR="4.25rem",iR="18.75rem";function lR({workspace:e,collapsed:n,onToggleCollapse:a,items:i,onGoToWorkspaces:o}){const u=i??Lw(e),d=uR(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?rR:iR},"aria-label":"Primary workspace navigation",children:l.jsxs("div",{className:pe("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:pe("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:o,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:pe("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:d}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation","aria-expanded":!n,children:n?l.jsx(cR,{}):l.jsx(oR,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Uw,{items:u,collapsed:n})})]})})}function Uw({items:e,collapsed:n=!1,onNavigate:a,className:i,showHeading:o=!0}){return l.jsxs(l.Fragment,{children:[o&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:pe("flex flex-col gap-1.5",n?"items-center":void 0,i),children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(zw,{to:u.href,end:!(u.matchPrefix??!1),title:n?u.label:void 0,onClick:a,className:({isActive:d})=>pe("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",d?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:d})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:pe("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",d?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:pe("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",d?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:pe("h-5 w-5 flex-shrink-0 transition-colors duration-150",d?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:pe("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function oR(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function cR(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function uR(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}function dR(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}function fR(e){const n=ht();return Kt({mutationFn:a=>vw(e,a),async onSuccess(){await n.invalidateQueries({queryKey:tn.root(e)})}})}function hR({summary:e}){const n=e.counts,a=e.validation?.issues_total,i=e.fields??[],o=e.columns??[],u=i.slice(0,6),d=o.slice(0,5),h=typeof a=="number"?a>0?"warn":"ok":"default";return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(au,{label:"Tables",value:n?.tables?.total??""}),l.jsx(au,{label:"Rows",value:n?.rows?.total??""}),l.jsx(au,{label:"Mapped fields",value:n?.fields?.mapped??""}),l.jsx(au,{label:"Issues",value:a??"",intent:h})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),i.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[u.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[g.label||g.field," ",g.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped",typeof g.tables_mapped=="number"?`  ${g.tables_mapped} tables`:""]})]},g.field)),i.length>u.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",i.length-u.length," more fields"]}):null]})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Columns"}),o.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No column details recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[d.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:g.header}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped","  ",g.occurrences?.tables_seen??""," tables"]})]},g.header_normalized)),o.length>d.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",o.length-d.length," more headers"]}):null]}),l.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Distinct headers mapped: ",n?.columns?.distinct_headers_mapped??""," /"," ",n?.columns?.distinct_headers??""]})]})]})]})}function mR({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,o)=>{const u=Bw(o),d=u.stream==="stderr"?"warning":void 0,h=u.level??d??"info";return i[h]=(i[h]??0)+1,i},{}),a=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,o])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",o]},i))}),l.jsx("ul",{className:"space-y-1",children:a.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const o=typeof i.message=="string"?i.message.trim():void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.event}),l.jsx("span",{className:"text-[11px] text-slate-500",children:pR(i.timestamp??i.created_at??"unknown")})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:o||`Level: ${gR(i)}`})]})})()},`${i.timestamp}-${i.event}`))})]})}function pR(e){const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?String(e):n.toLocaleString()}function gR(e){const n=Bw(e),a=n.stream==="stderr"?"warning":void 0;return n.level??a??"info"}function Bw(e){const n=e.data;return n&&typeof n=="object"?n:{}}function au({label:e,value:n,intent:a="default"}){const i=a==="warn"?"text-amber-700":a==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}const $w={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},xR=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],xo="mine",Xr={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function bR(e){return e&&Object.keys(Xr).includes(e)?e:xo}function vR(e){if(!e)return new Set;const a=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(a)}function yR(e){return new Set(xR).has(e??"")?e:"-created_at"}const qw=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ji={all:()=>["documents"],workspace:e=>[...Ji.all(),e],list:(e,n,a)=>[...Ji.workspace(e),"list",{sort:n,uploader:a}]},Fw=50;function wR(){const{workspace:e}=Ba(),n=nl(),[a,i]=xw(),o=p.useRef(i);p.useEffect(()=>{o.current=i},[i]);const u=bR(a.get("view")),[d,h]=p.useState(u),[g,x]=p.useState(()=>{const we=a.get("status");if(we)return vR(we);const Te=Xr[u].presetStatuses??[];return new Set(Te)}),[b,v]=p.useState(()=>{const we=a.get("sort");return we?yR(we):Xr[u].presetSort??"-created_at"}),[w,C]=p.useState(a.get("q")??""),[N,j]=p.useState(w.trim()),_=p.useMemo(()=>Array.from(g),[g]),k=Xr[d].uploader??null,B=p.useRef(null),[W,L]=p.useState(new Set),V=p.useMemo(()=>new Set(W),[W]),A=p.useMemo(()=>Array.from(V),[V]),P=V.size,Q=SR(e.id),Y=CR(e.id),X=Sy(),U=X.data?.enabled??!1,ee=X.data?.detail??sl,de=X.isPending,[be,D]=p.useState(null),[R,te]=p.useState(null),[he,ae]=p.useState(null),E=Q.isPending,Z=Y.isPending,le=jR(e.id,{sort:b,uploader:k}),{refetch:F}=le,J=p.useCallback(we=>we.id,[]),$=fm(le.data?.pages,J),K=p.useMemo(()=>{const we=N.toLowerCase(),Te=k==="me"?n.user.id:null,Ze=k==="me"?n.user.email??null:null;return $.filter(mt=>{if(_.length>0&&!_.includes(mt.status))return!1;if(k==="me"){const et=mt.uploader_id??mt.uploader?.id??null,zt=mt.uploader?.email??null;if(Te&&et&&et!==Te||!et&&Ze&&zt&&zt!==Ze)return!1}return!(we&&!`${mt.name??""} ${mt.source??""}`.toLowerCase().includes(we))})},[N,$,n.user.email,n.user.id,_,k]),H=le.isFetchingNextPage,ne=le.isFetching&&!H,Se=K.length;p.useEffect(()=>{const we=a.get("q")??"";C(Ze=>Ze===we?Ze:we);const Te=we.trim();j(Ze=>Ze===Te?Ze:Te)},[a]),p.useEffect(()=>{const we=new URLSearchParams;g.size>0&&we.set("status",Array.from(g).join(",")),b!=="-created_at"&&we.set("sort",b),N&&we.set("q",N),d!==xo&&we.set("view",d),o.current(we,{replace:!0})},[g,b,N,d]),p.useEffect(()=>{const we=window.setTimeout(()=>j(w.trim()),250);return()=>window.clearTimeout(we)},[w]),p.useEffect(()=>{L(we=>{if(we.size===0)return we;const Te=new Set,Ze=new Set(K.map(et=>et.id));let mt=!1;for(const et of we)Ze.has(et)?Te.add(et):mt=!0;return mt?Te:we})},[K]);const Be=p.useMemo(()=>{for(const we of K)if(V.has(we.id))return we;return null},[K,V]),Qe=p.useCallback(we=>{const Te=Xr[we];h(we),x(new Set(Te.presetStatuses??[])),v(Te.presetSort??"-created_at"),C(""),j("")},[]),rt=p.useCallback(we=>{x(Te=>{const Ze=new Set(Te);return Ze.has(we)?Ze.delete(we):Ze.add(we),Ze})},[]),ye=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const we=Te=>{if((Te.metaKey||Te.ctrlKey)&&Te.key.toLowerCase()==="u"){Te.preventDefault(),B.current?.click();return}(Te.key==="Delete"||Te.key==="Backspace")&&P>0&&(Te.preventDefault(),ce())};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[P]);const Ee=p.useCallback(we=>$w[we]??we,[]),He=p.useCallback(we=>l.jsx(KR,{document:we}),[]),We=p.useCallback(()=>{B.current?.click()},[]),Je=p.useCallback(async we=>{if(we.length){D(null);try{await Q.mutateAsync({files:we})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to upload documents.";D({tone:"error",message:Ze})}}},[Q]),_t=async we=>{const Te=Array.from(we.target.files??[]);await Je(Te),we.target.value=""},T=we=>{L(Te=>{const Ze=new Set(Te);return Ze.has(we)?Ze.delete(we):Ze.add(we),Ze})},I=()=>{L(we=>{if(K.length===0)return new Set;const Te=K.map(Ze=>Ze.id);return we.size===K.length&&Te.every(Ze=>we.has(Ze))?new Set:new Set(Te)})},ce=p.useCallback(async()=>{const we=A;if(we.length){D(null);try{await Y.mutateAsync({documentIds:we}),L(new Set)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete documents.";D({tone:"error",message:Ze})}}},[Y,A]),_e=p.useCallback(async we=>{D(null);try{await Y.mutateAsync({documentIds:[we.id]}),L(Te=>{const Ze=new Set(Te);return Ze.delete(we.id),Ze})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete document.";D({tone:"error",message:Ze})}},[Y]),je=p.useCallback(async we=>{try{te(we.id);const{blob:Te,filename:Ze}=await _R(e.id,we.id);JR(Te,Ze??we.name)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to download document.";D({tone:"error",message:Ze})}finally{te(null)}},[e.id]),Ce=p.useCallback(we=>{ae(we)},[]),ze=p.useCallback(()=>{F()},[F]),ge=p.useCallback(we=>{D({tone:"error",message:we})},[]),ke=()=>{h(xo),C(""),j(""),x(new Set),v("-created_at")},Oe=d===xo&&g.size===0&&b==="-created_at"&&!N;return l.jsxs(l.Fragment,{children:[l.jsx(IR,{workspaceName:e.name??void 0,disabled:E,onFiles:async we=>{await Je(we)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:B,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:_t}),l.jsx(AR,{workspaceName:e.name,totalDocuments:Se,view:d,onChangeView:Qe,sort:b,onSort:v,onReset:ke,isFetching:le.isFetching,isDefault:Oe,onUploadClick:We,uploadDisabled:E,selectedStatuses:g,onToggleStatus:rt,onClearStatuses:ye}),be?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:be.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:le.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(VR,{})}):le.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):K.length===0?l.jsx("div",{className:"p-6",children:l.jsx(QR,{onUploadClick:We})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(RR,{documents:K,selectedIds:V,onToggleDocument:T,onToggleAll:I,disableSelection:ne||Z||Q.isPending,disableRowActions:Y.isPending,formatStatusLabel:Ee,onDeleteDocument:_e,onDownloadDocument:je,onRunDocument:Ce,downloadingId:R,renderRunStatus:He,safeModeEnabled:U,safeModeMessage:ee,safeModeLoading:de})}),le.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(De,{type:"button",variant:"ghost",onClick:()=>le.fetchNextPage(),disabled:H,children:H?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(PR,{count:P,onClear:()=>L(new Set),onRun:()=>{Be&&!U&&!de&&Ce(Be)},onDelete:ce,busy:Z,safeModeEnabled:U,safeModeMessage:ee,safeModeLoading:de}),l.jsx(HR,{open:!!he,workspaceId:e.id,documentRecord:he,onClose:()=>ae(null),onRunSuccess:ze,onRunError:ge,safeModeEnabled:U,safeModeMessage:ee,safeModeLoading:de})]})}function jR(e,n){const a=n.sort.trim()||null;return lm({queryKey:Ji.list(e,a,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:o})=>ER(e,{sort:a,page:typeof i=="number"?i:1,pageSize:Fw},o),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function SR(e){const n=ht();return Kt({mutationFn:async({files:a})=>{const i=Array.from(a);for(const o of i)await Pe.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",o),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ji.workspace(e)})}})}function CR(e){const n=ht();return Kt({mutationFn:async({documentIds:a})=>{await Promise.all(a.map(i=>Pe.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ji.workspace(e)})}})}function NR(e){const n=ht();return Kt({mutationFn:async({configId:a,options:i})=>{const{data:o}=await Pe.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:a}},body:{options:i}});if(!o)throw new Error("Expected run payload.");return o},onSuccess:()=>{n.invalidateQueries({queryKey:Ji.workspace(e)})}})}function kR(e,n){const a=p.useMemo(()=>ha(`ade.workspace.${e}.document_runs`),[e]),[i,o]=p.useState(()=>mv(a,n));p.useEffect(()=>{o(mv(a,n))},[a,n]);const u=p.useCallback(d=>{o(d);const h=a.get()??{};a.set({...h,[n]:{configId:d.configId,sheetNames:d.sheetNames&&d.sheetNames.length>0?[...d.sheetNames]:null}})},[a,n]);return{preferences:i,setPreferences:u}}async function ER(e,n,a){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:Fw,include_total:!1},{data:o}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:a});if(!o)throw new Error("Expected document page payload.");return o}async function _R(e,n){const{data:a,response:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected document download payload.");const o=DR(i.headers.get("content-disposition"))??`document-${n}`;return{blob:a,filename:o}}function DR(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function mv(e,n){const a=e.get();if(a&&typeof a=="object"&&n in a){const i=a[n];if(i&&typeof i=="object"){const o=[];if("sheetName"in i){const h=i.sheetName;typeof h=="string"&&o.push(h)}const d=(Array.isArray(i.sheetNames)?i.sheetNames.filter(h=>typeof h=="string"&&h.length>0):null)??(o.length>0?o:null);return{configId:i.configId??null,sheetNames:d}}}return{configId:null,sheetNames:null}}function AR({workspaceName:e,totalDocuments:n,view:a,onChangeView:i,sort:o,onSort:u,onReset:d,isFetching:h,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:v,onToggleStatus:w,onClearStatuses:C}){const N=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:N})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:d,disabled:g,className:pe("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(De,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(TR,{view:a,onChange:i}),l.jsx(MR,{selectedStatuses:v,onToggleStatus:w,onClearStatuses:C}),l.jsxs(Xi,{value:o,onChange:j=>u(j.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:pe("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",h?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function TR({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Xr).map(a=>{const i=Xr[a],o=a===e;return l.jsx("button",{type:"button",onClick:()=>n(a),className:pe("rounded-full px-3 py-1 text-xs font-medium transition",o?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},a)})})}function MR({selectedStatuses:e,onToggleStatus:n,onClearStatuses:a}){const[i,o]=p.useState(!1),u=p.useRef(null),d=Object.entries($w),h=e.size>0,g=h?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&o(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>o(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(qR,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{a(),o(!1)},className:pe("text-[11px]",h?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:d.map(([x,b])=>{const v=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(De,{size:"sm",variant:"ghost",onClick:()=>o(!1),children:"Done"})})]}):null]})}function RR({documents:e,selectedIds:n,onToggleDocument:a,onToggleAll:i,disableSelection:o=!1,disableRowActions:u=!1,formatStatusLabel:d,onDeleteDocument:h,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:v,safeModeEnabled:w=!1,safeModeMessage:C,safeModeLoading:N=!1}){const j=p.useRef(null),{allSelected:_,someSelected:M}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const k=e.reduce((B,W)=>n.has(W.id)?B+1:B,0);return{allSelected:k===e.length,someSelected:k>0&&k<e.length}},[e,n]);return p.useEffect(()=>{j.current&&(j.current.indeterminate=M)},[M]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:j,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:_,onChange:i,disabled:o||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(k=>{const B=n.has(k.id);return l.jsxs("tr",{className:pe("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",B?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:B,onChange:()=>a(k.id),disabled:o})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:k.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:k.name,children:k.name}),l.jsx("div",{className:"text-xs text-slate-500",children:OR(k)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:k.created_at,className:"block text-xs text-slate-600",title:qw.format(new Date(k.created_at)),children:$R(k)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:k.uploader?.name??k.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:v?v(k):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:pe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",BR(k.status)),children:d?d(k.status):k.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(zR,{document:k,onDownload:g,onDelete:h,onRun:x,disabled:u,downloading:b===k.id,safeModeEnabled:w,safeModeMessage:C,safeModeLoading:N})})]},k.id)})})]})})}function zR({document:e,onDownload:n,onDelete:a,onRun:i,disabled:o=!1,downloading:u=!1,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=o||!i||d||g,b=d?h??sl:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(De,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:pe("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:o||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>a?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:o,children:"Delete"})]})}function OR(e){const n=[];return e.content_type&&n.push(LR(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(UR(e.byte_size)),n.join("  ")||"Unknown type"}function LR(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function UR(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a>=10?Math.round(a):Math.round(a*10)/10} ${n[i]}`}function BR(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function $R(e){return qw.format(new Date(e.created_at))}function qR({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function FR({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:pe("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function HR({open:e,workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!a?null:js.createPortal(l.jsx(ZR,{workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d,safeModeMessage:h,safeModeLoading:g}),window.document.body)}function ZR({workspaceId:e,documentRecord:n,onClose:a,onRunSuccess:i,onRunError:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),v=Qt(),w=Iu({workspaceId:e}),[C,N]=p.useState(""),j=NR(e),{preferences:_,setPreferences:M}=kR(e,n.id),[k,B]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{B(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const W=p.useMemo(()=>w.data?.items??[],[w.data]),L=p.useMemo(()=>W.filter(ye=>!("deleted_at"in ye&&ye.deleted_at)).filter(ye=>(typeof ye.status=="string"?ye.status.toLowerCase():"draft")!=="archived").sort((ye,Ee)=>{const He=typeof ye.status=="string"?ye.status.toLowerCase():"draft",We=typeof Ee.status=="string"?Ee.status.toLowerCase():"draft";if(He==="active"&&We!=="active")return-1;if(We==="active"&&He!=="active")return 1;const Je=new Date(ye.updated_at??0).getTime();return new Date(Ee.updated_at??0).getTime()-Je}),[W]),V=p.useMemo(()=>L.find(ye=>(typeof ye.status=="string"?ye.status.toLowerCase():"")==="active")??null,[L]),A=!!V,P=p.useMemo(()=>{if(_.configId){const ye=L.find(Ee=>Ee.id===_.configId);if(ye)return ye.id}return V?.id??""},[V?.id,_.configId,L]);p.useEffect(()=>{N(P)},[P]);const Q=p.useMemo(()=>L.find(ye=>ye.id===C)??null,[L,C]),Y=p.useCallback(ye=>{const Ee=typeof ye.status=="string"?ye.status:"draft";return`${ye.title??ye.display_name??"Untitled configuration"} (${Ee.charAt(0).toUpperCase()}${Ee.slice(1)})`},[]),[X,U]=p.useState(null),ee=d??sl,de=Fn({queryKey:k?rv.detail(k):["run","none"],queryFn:({signal:ye})=>k?Zm(k,ye):Promise.reject(new Error("No run selected")),enabled:!!k,refetchInterval:ye=>{const Ee=ye.state.data?.status;return Ee==="running"||Ee==="queued"?2e3:!1}}),be=Fn({queryKey:k?rv.telemetry(k):["run-telemetry","none"],queryFn:({signal:ye})=>{if(!k)return Promise.reject(new Error("No run selected"));const Ee=de.data??k;return cM(Ee,ye)},enabled:!!k&&(de.data?.status==="succeeded"||de.data?.status==="failed"),staleTime:5e3}),D=Fn({queryKey:["document-sheets",e,n.id],queryFn:({signal:ye})=>jw(e,n.id,ye),staleTime:6e4}),R=p.useMemo(()=>D.data??[],[D.data]),[te,he]=p.useState([]);p.useEffect(()=>{if(!R.length){he([]);return}const ye=(_.sheetNames??[]).filter(He=>R.some(We=>We.name===He)),Ee=Array.from(new Set(ye));he(Ee)},[R,_.sheetNames]);const ae=p.useMemo(()=>Array.from(new Set(te.filter(ye=>R.some(Ee=>Ee.name===ye)))),[te,R]);p.useEffect(()=>{Q&&M({configId:Q.id,sheetNames:ae.length?ae:null})},[ae,Q,M]);const E=p.useCallback(ye=>{he(Ee=>Ee.includes(ye)?Ee.filter(He=>He!==ye):[...Ee,ye])},[]),Z=de.data??null,le=Z?.status??null,F=le==="running"||le==="queued",J=Z?_w(Z):null,$=Z?.output?.output_path??null,K=Z?Dw(Z):null,H=be.data??[],ne=p.useMemo(()=>WR(be.data??[]),[be.data]);p.useEffect(()=>{const ye=g.current;if(!ye)return;(pv(ye)[0]??ye).focus();const He=We=>{if(We.key==="Escape"){We.preventDefault(),a();return}if(We.key!=="Tab")return;const Je=pv(ye);if(Je.length===0){We.preventDefault();return}const _t=Je[0],T=Je[Je.length-1],I=window.document.activeElement;if(We.shiftKey){(!ye.contains(I)||I===_t)&&(We.preventDefault(),T.focus());return}I===T&&(We.preventDefault(),_t.focus())};return ye.addEventListener("keydown",He),()=>ye.removeEventListener("keydown",He)},[a]);const Se=L.length>0,Be=j.isPending||F||h||u||!A||!Se||!Q,Qe=u?ee:A?h?"Checking ADE safe mode status...":void 0:"No active configuration. Make a draft active to run extraction.",rt=()=>{if(u||h)return;if(!A){U("No active configuration. Make a draft active before running extraction.");return}if(!Q){U("Select a configuration before running the extractor.");return}U(null),B(null);const ye=ae,Ee={dry_run:!1,validate_only:!1,force_rebuild:!1,debug:!1,log_level:"INFO"},He=ye.length>0?{...Ee,input_sheet_names:ye}:Ee;j.mutate({configId:Q.id,options:{...He,input_document_id:n.id}},{onSuccess:We=>{M({configId:Q.id,sheetNames:ye.length?ye:null}),i?.(We),B(We.id)},onError:We=>{const Je=We instanceof Error?We.message:"Unable to submit extraction run.";U(Je),o?.(Je)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:a}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(De,{variant:"ghost",size:"sm",onClick:a,disabled:j.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),w.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):w.isError?l.jsxs(dt,{tone:"danger",children:["Unable to load configurations."," ",w.error instanceof Error?w.error.message:"Try again later."]}):Se&&!A?l.jsxs("div",{className:"space-y-2",children:[l.jsx(dt,{tone:"warning",children:"No active configuration. Make a draft active to run extraction."}),l.jsx(De,{variant:"secondary",size:"sm",onClick:()=>{a(),v(`/workspaces/${e}/config-builder`)},disabled:j.isPending,children:"Go to Configuration Builder"})]}):Se?l.jsx("div",{className:"space-y-2",children:l.jsxs(Xi,{value:C,onChange:ye=>{const Ee=ye.target.value;N(Ee)},disabled:j.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),L.map(ye=>l.jsx("option",{value:ye.id,children:Y(ye)},ye.id))]})}):l.jsx(dt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),D.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):D.isError?l.jsx(dt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(De,{variant:"secondary",size:"sm",onClick:()=>D.refetch(),disabled:D.isFetching,children:"Retry loading"}),l.jsx(De,{variant:"ghost",size:"sm",onClick:()=>he([]),disabled:j.isPending,children:"Use all worksheets"})]})]})}):R.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:ae.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${ae.length.toLocaleString()} worksheet${ae.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(De,{variant:"ghost",size:"sm",onClick:()=>he([]),disabled:j.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:R.map(ye=>{const Ee=ae.includes(ye.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:Ee,onChange:()=>E(ye.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[ye.name,ye.is_active?" (active)":""]})]},`${ye.index}-${ye.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),k?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:k,children:["Run ",k]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",le??"loading"]})]}),F?l.jsx(FR,{className:"h-4 w-4 text-slate-500"}):null]}),K?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:K,className:"inline-flex items-center rounded border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 transition hover:bg-slate-100",children:"Download logs"})}):null,l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output"}),de.isFetching&&!J?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading output"}):J?l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1 text-xs text-slate-700",children:[l.jsx("a",{href:J,className:"text-emerald-700 hover:underline",children:$?.split("/").pop()??"Download output"}),$?l.jsx("span",{className:"text-[11px] text-slate-500",children:$}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Output will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),be.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):be.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):ne?l.jsx(hR,{summary:ne}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),be.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):be.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):H.length>0?l.jsx(mR,{events:H}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(dt,{tone:"warning",children:ee}):null,X?l.jsx(dt,{tone:"danger",children:X}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(De,{type:"button",variant:"ghost",onClick:a,disabled:j.isPending,children:"Cancel"}),l.jsx(De,{type:"button",onClick:rt,isLoading:j.isPending,disabled:Be,title:Qe,children:"Run extraction"})]})]})]})}function IR({onFiles:e,disabled:n,workspaceName:a}){const[i,o]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const d=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,o(!0))},h=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&o(!1)},x=b=>{b.preventDefault(),o(!1),u.current=0;const v=Array.from(b.dataTransfer?.files??[]);v.length&&e(v)};return window.addEventListener("dragenter",d),window.addEventListener("dragover",h),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",d),window.removeEventListener("dragover",h),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:pe("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:a??"this workspace"})]})]})]})})})]})}function VR(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function PR({count:e,onClear:n,onRun:a,onDelete:i,busy:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){if(e===0)return null;const g=o||u||h,x=u?d??sl:h?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(De,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(De,{size:"sm",onClick:()=>!g&&a(),disabled:g,title:x,children:"Run extraction"}),l.jsx(De,{size:"sm",variant:"danger",onClick:i,disabled:o,isLoading:o,children:"Delete selected"})]})]})})}function QR({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(De,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function WR(e){for(let n=e.length-1;n>=0;n-=1){const a=e[n];if((typeof a.event=="string"?a.event:typeof a.type=="string"?a.type:null)!=="engine.run.summary")continue;const o=a.data;if(o&&typeof o=="object")return o}return null}function KR({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:pe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",GR(n.status)),children:[YR(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:XR(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function GR(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function YR(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Pi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function XR(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const a=n.getTime()-Date.now(),i=Math.round(a/1e3);if(Math.abs(i)<60)return Pi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return Pi.format(u,"minute");const h=Math.round(u/60);if(Math.abs(h)<24)return Pi.format(h,"hour");const x=Math.round(h/24);if(Math.abs(x)<30)return Pi.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return Pi.format(b,"month");const v=Math.round(x/365);return Pi.format(v,"year")}function JR(e,n){const a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(a),1e3)}function pv(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(a=>!a.hasAttribute("disabled")&&a.getAttribute("aria-hidden")!=="true")}function e4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function t4(){return l.jsx(Nt,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"empty"})}function cu({status:e}){const n=e.toLowerCase(),a=n==="active"?"Active":n==="draft"?"Draft":n==="archived"?"Archived":e,i=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:pe("rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide",i),title:a,children:a})}const n4="Default template",oo=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function s4(){const{workspace:e}=Ba(),n=Qt(),{notifyToast:a}=Hm(),i=p.useMemo(()=>Aw(e.id),[e.id]),o=p.useMemo(()=>Im(e.id),[e.id]),u=Iu({workspaceId:e.id}),d=fR(e.id),h=FT(e.id),g=qm(e.id),x=ww(e.id),b=Fm(e.id),[v,w]=p.useState(()=>`${e.name} Config`),[C,N]=p.useState(null),[j,_]=p.useState(()=>`${e.name} Import`),[M,k]=p.useState(null),[B,W]=p.useState(null),[L,V]=p.useState(()=>o.get()),A=p.useRef(null),P=p.useRef(null),Q=p.useMemo(()=>(u.data?.items??[]).filter(fe=>!("deleted_at"in fe&&fe.deleted_at)),[u.data]),Y=p.useMemo(()=>{const fe=new Map;for(const Me of Q)fe.set(Me.id,Yi(Me.status));return fe},[Q]),X=p.useMemo(()=>{for(const fe of Q)if(Y.get(fe.id)==="active")return fe;return null},[Q,Y]),U=p.useMemo(()=>Q.filter(fe=>Y.get(fe.id)==="draft").sort((fe,Me)=>iv(fe.updated_at,Me.updated_at)),[Q,Y]),ee=p.useMemo(()=>Q.filter(fe=>Y.get(fe.id)==="archived").sort((fe,Me)=>iv(fe.updated_at,Me.updated_at)),[Q,Y]),de=p.useMemo(()=>Q.find(fe=>fe.id===L?.configId)??null,[Q,L]),be=p.useCallback(fe=>{V(Vm(o,fe))},[o]);p.useEffect(()=>{V(o.get())},[o]),p.useEffect(()=>{const fe=P.current,Me=fe?.id!==e.id,ct=fe?.name!==e.name;if(!(!Me&&!ct)){if(P.current={id:e.id,name:e.name},Me){w(`${e.name} Config`),N(null),_(`${e.name} Import`),k(null),W(null),A.current&&(A.current.value="");return}ct&&(w(Ot=>Ot===`${fe?.name??""} Config`?`${e.name} Config`:Ot),_(Ot=>Ot===`${fe?.name??""} Import`?`${e.name} Import`:Ot))}},[e.id,e.name]),p.useEffect(()=>{if(typeof window>"u")return;const fe=Me=>{if(!(Me.storageArea!==window.localStorage||Me.key!==i))try{V(Me.newValue?JSON.parse(Me.newValue):null)}catch{V(null)}};return window.addEventListener("storage",fe),()=>window.removeEventListener("storage",fe)},[i]),p.useEffect(()=>{L?.configId&&(Q.some(fe=>fe.id===L.configId)||be(null))},[Q,L?.configId,be]);const D=p.useCallback(fe=>{be(fe),n(oo(e.id,fe))},[n,be,e.id]),R=p.useCallback(fe=>{be(fe),n(`${oo(e.id,fe)}/editor`)},[n,be,e.id]),[te,he]=p.useState(null),ae=p.useMemo(()=>te?Q.find(fe=>fe.id===te.configId)??null:null,[Q,te]),[E,Z]=p.useState(null),le=p.useCallback(async fe=>{Z(fe.id);try{const Me=await $m(e.id,fe.id),ct=Me.filename??`${fe.id}.zip`,Ot=URL.createObjectURL(Me.blob),ft=document.createElement("a");ft.href=Ot,ft.download=ct,ft.click(),URL.revokeObjectURL(Ot),a({title:`Exported ${ct}`,intent:"success",duration:4e3})}catch(Me){const ct=Me instanceof Error?Me.message:"Unable to export configuration.";a({title:ct,intent:"danger",duration:6e3})}finally{Z(Me=>Me===fe.id?null:Me)}},[a,e.id]),[F,J]=p.useState(null),$=p.useMemo(()=>F?Q.find(fe=>fe.id===F)??null:null,[Q,F]),K=p.useMemo(()=>new Set(Q.map(fe=>fe.display_name.trim().toLowerCase())),[Q]),[H,ne]=p.useState(""),[Se,Be]=p.useState(null),Qe=p.useCallback(fe=>{b.reset(),Be(null),ne(Pm(fe.display_name,K)),J(fe.id)},[b,K]),[rt,ye]=p.useState(null),Ee=p.useMemo(()=>rt?Q.find(fe=>fe.id===rt)??null:null,[rt,Q]),[He,We]=p.useState(null),Je=p.useMemo(()=>He?Q.find(fe=>fe.id===He)??null:null,[Q,He]),_t=Je?.id??null,[T,I]=p.useState(null);p.useEffect(()=>{if(!_t){I(null);return}let fe=!1;return I({stage:"checking"}),Bm(e.id,_t).then(Me=>{if(!fe){if(Array.isArray(Me.issues)&&Me.issues.length>0){I({stage:"issues",issues:Me.issues});return}I({stage:"confirm"})}}).catch(Me=>{if(fe)return;const ct=Me instanceof Error?Me.message:"Unable to validate configuration.";I({stage:"error",message:ct})}),()=>{fe=!0}},[_t,e.id]);const ce=p.useCallback(fe=>{g.reset(),I({stage:"checking"}),We(fe.id)},[g]),_e=p.useCallback(()=>{We(null),I(null)},[]),je=p.useCallback(()=>{J(null),Be(null)},[]),Ce=p.useCallback(()=>{ye(null)},[]),ze=p.useCallback(()=>{Je&&g.mutate({configurationId:Je.id},{onSuccess(){a({title:"Configuration is now active.",intent:"success",duration:4e3}),_e()},onError(fe){a({title:fe instanceof Error?fe.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[_e,g,Je,a]),ge=p.useCallback(()=>{Ee&&x.mutate({configurationId:Ee.id},{onSuccess(){a({title:"Active configuration archived.",intent:"success",duration:4e3}),Ce()},onError(fe){a({title:fe instanceof Error?fe.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[x,Ee,Ce,a]),ke=p.useCallback(()=>{if(!$)return;const fe=H.trim();if(!fe){Be("Enter a name for the new draft configuration.");return}Be(null),b.mutate({sourceConfigurationId:$.id,displayName:fe},{onSuccess(Me){be(Me.id),a({title:"Draft created.",intent:"success",duration:3500}),je(),n(`${oo(e.id,Me.id)}/editor`)},onError(Me){const ct=Me instanceof Error?Me.message:"Unable to duplicate configuration.";Be(ct)}})},[je,b,H,$,n,a,be,e.id]),Oe=p.useCallback((fe,Me)=>{fe.preventDefault(),fe.stopPropagation();const ct=fe.currentTarget.getBoundingClientRect();he({configId:Me,x:ct.right+8,y:ct.bottom})},[]),we=p.useMemo(()=>{if(!ae)return[];const fe=Y.get(ae.id)??Yi(ae.status),Me=E===ae.id,ct=[{id:"open-editor",label:"Open editor",onSelect:()=>R(ae.id)},{id:"export",label:Me?"Exporting":"Export",onSelect:()=>{le(ae)},disabled:Me},{id:"duplicate",label:"Duplicate to edit",onSelect:()=>Qe(ae),dividerAbove:!0}];return fe==="active"&&ct.push({id:"archive",label:"Archive",onSelect:()=>ye(ae.id),danger:!0,dividerAbove:!0}),ct},[ae,E,le,R,Y,Qe]),Te=p.useCallback(fe=>{W(null),k(fe.target.files?.[0]??null),fe.target.value=""},[]),Ze=fe=>{fe.preventDefault();const Me=v.trim();if(!Me){N("Enter a display name for the configuration.");return}N(null),d.mutate({displayName:Me,source:{type:"template"}},{onSuccess(ct){be(ct.id),n(oo(e.id,ct.id))}})},mt=fe=>{fe.preventDefault();const Me=j.trim();if(!Me){W("Enter a display name for the imported configuration.");return}if(!M){W("Select a .zip file to import.");return}W(null),h.mutate({displayName:Me,file:M},{onSuccess(ct){be(ct.id),k(null),u.refetch(),n(oo(e.id,ct.id))},onError(ct){W(ct instanceof Error?ct.message:"Unable to import configuration.")}})},et=C??(d.error instanceof Error?d.error.message:null),zt=v.trim().length>0&&!d.isPending,$t=j.trim().length>0&&!!M&&!h.isPending,os=fe=>l.jsx(wt,{label:"Template",children:l.jsx(xt,{value:n4,readOnly:!0,disabled:fe})});return u.isLoading?l.jsx(Nt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):u.isError?l.jsx(Nt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):Q.length===0?l.jsx(Nt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("div",{className:"space-y-6 text-left",children:[l.jsxs("form",{onSubmit:Ze,className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsx(wt,{label:"Configuration name",required:!0,children:l.jsx(xt,{value:v,onChange:fe=>w(fe.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),os(d.isPending),et?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:et}):null,l.jsx(De,{type:"submit",className:"w-full",disabled:!zt,isLoading:d.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:mt,className:"mt-3 space-y-4",children:[l.jsx(wt,{label:"Configuration name",required:!0,children:l.jsx(xt,{value:j,onChange:fe=>_(fe.target.value),placeholder:"Imported configuration",disabled:h.isPending})}),l.jsxs(wt,{label:"Archive (.zip)",required:!0,children:[l.jsx(xt,{type:"file",ref:A,accept:".zip",onChange:Te,disabled:h.isPending}),M?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:M.name}):null]}),B?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:B}):null,l.jsx(De,{type:"submit",className:"w-full",disabled:!$t,isLoading:h.isPending,children:"Import archive"})]})]})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Manage draft, active, and archived configurations for this workspace."})]}),de?l.jsx(De,{variant:"ghost",size:"sm",onClick:()=>D(de.id),children:"Resume last opened"}):null]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-xl border border-slate-200",children:[l.jsx("div",{className:"border-b border-slate-200 px-4 py-3",children:l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active configuration"})}),X?l.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-slate-50",children:[l.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>D(X.id),children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:X.display_name}),l.jsx(cu,{status:X.status}),l.jsx("span",{className:"text-xs text-slate-500",children:"Used for extraction runs"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",Ah(X.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(De,{size:"sm",onClick:fe=>{fe.stopPropagation(),Qe(X)},children:"Duplicate to edit"}),l.jsx(De,{size:"sm",variant:"ghost",onClick:fe=>Oe(fe,X.id),children:""})]})]}):l.jsxs("div",{className:"space-y-2 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"No active configuration"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Extraction runs will be blocked until you make a draft configuration active."})]})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Drafts (",U.length,")"]}),U.length===0&&X?l.jsx("p",{className:"text-xs text-slate-500",children:"Duplicate Active to start editing."}):null]}),U.length?l.jsx("div",{className:"divide-y divide-slate-200",children:U.map(fe=>l.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-slate-50",children:[l.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>D(fe.id),children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:fe.display_name}),l.jsx(cu,{status:fe.status}),de?.id===fe.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",Ah(fe.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(De,{size:"sm",variant:"secondary",onClick:Me=>{Me.stopPropagation(),ce(fe)},children:"Make active"}),l.jsx(De,{size:"sm",variant:"ghost",onClick:Me=>Oe(Me,fe.id),children:""})]})]},fe.id))}):l.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No draft configurations."})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200",children:[l.jsx("div",{className:"border-b border-slate-200 px-4 py-3",children:l.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Archived (",ee.length,")"]})}),ee.length?l.jsx("div",{className:"divide-y divide-slate-200",children:ee.map(fe=>l.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-slate-50",children:[l.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>D(fe.id),children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:fe.display_name}),l.jsx(cu,{status:fe.status})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",Ah(fe.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(De,{size:"sm",onClick:Me=>{Me.stopPropagation(),Qe(fe)},children:"Duplicate to edit"}),l.jsx(De,{size:"sm",variant:"ghost",onClick:Me=>Oe(Me,fe.id),children:""})]})]},fe.id))}):l.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No archived configurations."})]})]})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:Ze,className:"space-y-4",children:[l.jsx(wt,{label:"Configuration name",required:!0,children:l.jsx(xt,{value:v,onChange:fe=>w(fe.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),os(d.isPending),et?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:et}):null,l.jsx(De,{type:"submit",className:"w-full",disabled:!zt,isLoading:d.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:mt,className:"mt-3 space-y-4",children:[l.jsx(wt,{label:"Configuration name",required:!0,children:l.jsx(xt,{value:j,onChange:fe=>_(fe.target.value),placeholder:"Imported configuration",disabled:h.isPending})}),l.jsxs(wt,{label:"Archive (.zip)",required:!0,children:[l.jsx(xt,{type:"file",ref:A,accept:".zip",onChange:Te,disabled:h.isPending}),M?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:M.name}):null]}),B?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:B}):null,l.jsx(De,{type:"submit",className:"w-full",disabled:!$t,isLoading:h.isPending,children:"Import archive"})]})]})]}),l.jsx(wr,{open:!!te,position:te?{x:te.x,y:te.y}:null,onClose:()=>he(null),items:we,appearance:"light"}),l.jsx(Ss,{open:!!Je,title:T?.stage==="checking"?"Checking configuration":T?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:T?.stage==="checking"?"Running validation before activation.":T?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":X&&Je?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${X.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:T?.stage==="issues"?"Open editor":T?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:_e,onConfirm:()=>{if(!Je){_e();return}if(T?.stage==="issues"){_e(),R(Je.id);return}if(T?.stage==="error"){_e();return}ze()},isConfirming:g.isPending,confirmDisabled:T?.stage==="checking"||g.isPending,children:T?.stage==="checking"?l.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[l.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-200 border-t-brand-600","aria-hidden":"true"}),l.jsx("span",{children:"Validating"})]}):T?.stage==="issues"?l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Issues:"}),l.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:T.issues.map(fe=>l.jsxs("li",{className:"space-y-1",children:[l.jsx("p",{className:"font-semibold",children:fe.path}),l.jsx("p",{className:"text-slate-600",children:fe.message})]},`${fe.path}:${fe.message}`))})]}):T?.stage==="error"?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:T.message}):null}),l.jsx(Ss,{open:!!Ee,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:Ce,onConfirm:ge,isConfirming:x.isPending,confirmDisabled:x.isPending,children:x.error?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:x.error instanceof Error?x.error.message:"Unable to archive configuration."}):null}),l.jsxs(Ss,{open:!!$,title:"Duplicate configuration",description:$?`Create a new draft based on ${$.display_name}.`:void 0,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:je,onConfirm:ke,isConfirming:b.isPending,confirmDisabled:b.isPending||H.trim().length===0,children:[l.jsx(wt,{label:"New configuration name",required:!0,children:l.jsx(xt,{value:H,onChange:fe=>ne(fe.target.value),placeholder:"Copy of My Config",disabled:b.isPending})}),Se?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:Se}):null]})]})}function Ah(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function a4({params:e}={}){const{workspace:n}=Ba(),a=Qt(),{notifyToast:i}=Hm(),o=e?.configId,u=p.useMemo(()=>Im(n.id),[n.id]),d=yw({workspaceId:n.id,configurationId:o}),h=Iu({workspaceId:n.id}),g=d.data,x=g?.id??o??"",b=Yi(g?.status),v=b==="draft";p.useEffect(()=>{!o||!g||Vm(u,o)},[o,g,u]);const w=x?`/workspaces/${n.id}/config-builder/${encodeURIComponent(x)}`:"",C=p.useCallback(()=>{w&&a(`${w}/editor`)},[w,a]),N=p.useMemo(()=>{const H=h.data?.items??[];for(const ne of H)if(Yi(ne.status)==="active")return ne;return null},[h.data?.items]),j=p.useMemo(()=>{const H=h.data?.items??[];return new Set(H.map(ne=>ne.display_name.trim().toLowerCase()))},[h.data?.items]),[_,M]=p.useState(null),k=p.useCallback(H=>{H.preventDefault();const ne=H.currentTarget.getBoundingClientRect();M({x:ne.right+8,y:ne.bottom})},[]),[B,W]=p.useState(!1),L=p.useCallback(async()=>{if(g){W(!0);try{const H=await $m(n.id,g.id),ne=H.filename??`${g.id}.zip`,Se=URL.createObjectURL(H.blob),Be=document.createElement("a");Be.href=Se,Be.download=ne,Be.click(),URL.revokeObjectURL(Se),i({title:`Exported ${ne}`,intent:"success",duration:4e3})}catch(H){const ne=H instanceof Error?H.message:"Unable to export configuration.";i({title:ne,intent:"danger",duration:6e3})}finally{W(!1)}}},[g,i,n.id]),V=qm(n.id),A=ww(n.id),P=Fm(n.id),[Q,Y]=p.useState(!1),[X,U]=p.useState(null);p.useEffect(()=>{if(!Q||!g||!v)return;let H=!1;return U({stage:"checking"}),Bm(n.id,g.id).then(ne=>{if(!H){if(Array.isArray(ne.issues)&&ne.issues.length>0){U({stage:"issues",issues:ne.issues});return}U({stage:"confirm"})}}).catch(ne=>{if(H)return;const Se=ne instanceof Error?ne.message:"Unable to validate configuration.";U({stage:"error",message:Se})}),()=>{H=!0}},[g,v,Q,n.id]);const ee=p.useCallback(()=>{V.reset(),U({stage:"checking"}),Y(!0)},[V]),[de,be]=p.useState(!1),[D,R]=p.useState(""),[te,he]=p.useState(null),ae=p.useCallback(()=>{g&&(P.reset(),he(null),R(Pm(g.display_name,j)),be(!0))},[g,P,j]),[E,Z]=p.useState(!1),le=p.useCallback(()=>{A.reset(),Z(!0)},[A]),F=p.useMemo(()=>{const H=[{id:"export",label:B?"Exporting":"Export",onSelect:()=>void L(),disabled:B},{id:"duplicate",label:"Duplicate to edit",onSelect:ae,dividerAbove:!0}];return b==="active"&&H.push({id:"archive",label:"Archive",onSelect:le,danger:!0,dividerAbove:!0}),H},[B,L,le,ae,b]),J=p.useCallback(()=>{if(!g)return;const H=D.trim();if(!H){he("Enter a name for the new draft configuration.");return}he(null),P.mutate({sourceConfigurationId:g.id,displayName:H},{onSuccess(ne){i({title:"Draft created.",intent:"success",duration:3500}),be(!1),a(`/workspaces/${n.id}/config-builder/${encodeURIComponent(ne.id)}/editor`)},onError(ne){he(ne instanceof Error?ne.message:"Unable to duplicate configuration.")}})},[g,P,D,a,i,n.id]),$=p.useCallback(()=>{g&&V.mutate({configurationId:g.id},{onSuccess(){i({title:"Configuration is now active.",intent:"success",duration:4e3}),Y(!1),U(null)},onError(H){i({title:H instanceof Error?H.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[g,V,i]),K=p.useCallback(()=>{g&&A.mutate({configurationId:g.id},{onSuccess(){i({title:"Active configuration archived.",intent:"success",duration:4e3}),Z(!1)},onError(H){i({title:H instanceof Error?H.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[A,g,i]);return o?d.isLoading?l.jsx(Nt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):d.isError?l.jsx(Nt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):g?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:g.display_name}),l.jsx(cu,{status:g.status})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v?l.jsx(De,{variant:"secondary",onClick:ee,children:"Make active"}):l.jsx(De,{onClick:ae,children:"Duplicate to edit"}),l.jsx(De,{variant:"ghost",onClick:C,children:"Open editor"}),l.jsx(De,{variant:"ghost",size:"sm",onClick:k,"aria-label":"More actions",children:""})]})]}),v?null:l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Read-only configuration"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Active and archived configurations cant be edited. Duplicate this configuration to create a draft you can change."}),l.jsx("div",{className:"mt-3",children:l.jsx(De,{size:"sm",onClick:ae,children:"Duplicate to edit"})})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:g.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm text-slate-700",children:Yi(g.status)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:gv(g.updated_at)})]}),g.activated_at?l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Activated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:gv(g.activated_at)})]}):null]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]}),l.jsx(wr,{open:!!_,position:_,onClose:()=>M(null),items:F,appearance:"light"}),l.jsx(Ss,{open:Q,title:X?.stage==="checking"?"Checking configuration":X?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:X?.stage==="checking"?"Running validation before activation.":X?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":N?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${N.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:X?.stage==="issues"?"Open editor":X?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:()=>{Y(!1),U(null)},onConfirm:()=>{if(X?.stage==="issues"){Y(!1),C();return}if(X?.stage==="error"){Y(!1),U(null);return}$()},isConfirming:V.isPending,confirmDisabled:X?.stage==="checking"||V.isPending,children:X?.stage==="checking"?l.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[l.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-200 border-t-brand-600","aria-hidden":"true"}),l.jsx("span",{children:"Validating"})]}):X?.stage==="issues"?l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Issues:"}),l.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700",children:X.issues.map(H=>l.jsxs("li",{className:"space-y-1",children:[l.jsx("p",{className:"font-semibold",children:H.path}),l.jsx("p",{className:"text-slate-600",children:H.message})]},`${H.path}:${H.message}`))})]}):X?.stage==="error"?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:X.message}):null}),l.jsx(Ss,{open:E,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:()=>Z(!1),onConfirm:K,isConfirming:A.isPending,confirmDisabled:A.isPending,children:A.error?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:A.error instanceof Error?A.error.message:"Unable to archive configuration."}):null}),l.jsxs(Ss,{open:de,title:"Duplicate configuration",description:`Create a new draft based on ${g.display_name}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:()=>be(!1),onConfirm:J,isConfirming:P.isPending,confirmDisabled:P.isPending||D.trim().length===0,children:[l.jsx(wt,{label:"New configuration name",required:!0,children:l.jsx(xt,{value:D,onChange:H=>R(H.target.value),placeholder:"Copy of My Config",disabled:P.isPending})}),te?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:te}):null]})]}):l.jsx(Nt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(Nt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function gv(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function r4({params:e}={}){const{workspace:n}=Ba(),{session:a,windowState:i,openSession:o,closeSession:u,minimizeWindow:d,maximizeWindow:h,restoreWindow:g,shouldBypassUnsavedGuard:x}=Rw(),b=e?.configId,v=yw({workspaceId:n.id,configurationId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b||v.isError)return;const _=v.data?.display_name??b;o({workspaceId:n.id,configId:b,configName:`${n.name}  ${_}`,configDisplayName:_})},[b,v.data?.display_name,v.isError,n.id,n.name,o]),p.useEffect(()=>{b&&(v.isError||v.isSuccess&&!v.data)&&u()},[u,b,v.data,v.isError,v.isSuccess]),!b)return l.jsx(Nt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(v.isLoading)return l.jsx(Nt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(v.isError)return l.jsx(Nt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!v.data)return l.jsx(Nt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const w=a&&a.configId===b?a:null,C=!!(w&&i==="minimized"),N=!!(w&&i==="restored"),j=!!(w&&i==="maximized");return N&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Tw,{workspaceId:n.id,configId:w.configId,configName:w.configName,configDisplayName:v.data.display_name??w.configId,windowState:"restored",onMinimizeWindow:d,onMaximizeWindow:h,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Nt,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):C?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Nt,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Nt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function i4({workspaceName:e,navGroups:n,activeSectionId:a,activeSectionLabel:i,activeSectionDescription:o,activeGroupLabel:u,children:d}){const g=n.flatMap(N=>N.items).find(N=>N.id===a)?.tone??"default",[x,b]=p.useState(""),v=x.trim().toLowerCase(),w=p.useMemo(()=>v?n.map(N=>({...N,items:N.items.filter(j=>`${j.label} ${j.description}`.toLowerCase().includes(v))})).filter(N=>N.items.length>0):n,[n,v]),C=p.useMemo(()=>["Settings",u,i].filter(Boolean),[u,i]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.28em] text-slate-400",children:[l.jsx("span",{children:"Workspace"}),l.jsx("span",{"aria-hidden":!0,children:""}),l.jsx("span",{children:"Settings"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:"Settings"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:C.map((N,j)=>l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:j===C.length-1?"font-semibold text-slate-900":"text-slate-600",children:N}),j<C.length-1?l.jsx("span",{"aria-hidden":!0,className:"text-slate-400",children:"/"}):null]},N))}),o?l.jsx("p",{className:"max-w-3xl text-sm text-slate-600",children:o}):null]}),l.jsxs("div",{className:"w-full max-w-xs",children:[l.jsx(xt,{value:x,onChange:N=>b(N.target.value),placeholder:"Search settings","aria-label":"Search workspace settings"}),l.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Filter sections by name or description."})]})]})}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[l.jsx("nav",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft","aria-label":"Workspace settings sections",children:l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:['No sections match "',x,'".']}):w.map(N=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"px-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:N.label}),l.jsx("ul",{className:"space-y-1",children:N.items.map(j=>{const _=j.id===a,M=j.tone==="danger"?{active:"bg-danger-50 text-danger-700 ring-danger-100",idle:"hover:bg-danger-50/60 text-danger-700",badgeActive:"bg-danger-500 text-white",badgeIdle:"bg-danger-100 text-danger-700 group-hover:bg-danger-200"}:{active:"bg-brand-50 text-brand-700 ring-brand-100",idle:"hover:bg-slate-50 text-slate-700",badgeActive:"bg-brand-500 text-white",badgeIdle:"bg-slate-100 text-slate-500 group-hover:bg-slate-200"},k=pe("group flex w-full items-start gap-3 rounded-xl px-3 py-2.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2",_?M.active:M.idle,j.disabled&&"cursor-not-allowed opacity-50 ring-0 hover:bg-white");return j.disabled?l.jsx("li",{className:"w-full",children:l.jsx("div",{className:k,"aria-disabled":!0,children:l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]})})},j.id):l.jsx("li",{className:"w-full",children:l.jsxs(zw,{to:j.href,className:k,children:[l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]}),l.jsx("span",{"aria-hidden":!0,className:pe("ml-auto inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] font-bold transition",_?M.badgeActive:M.badgeIdle),children:j.label.slice(0,1).toUpperCase()})]})},j.id)})})]},N.id))})}),l.jsx("div",{className:pe("space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",g==="danger"&&"border-danger-100 bg-danger-50/40"),children:d})]})]})}const Hw=p.createContext(null);function l4({value:e,children:n}){return l.jsx(Hw.Provider,{value:e,children:n})}function Zw(){const e=p.useContext(Hw);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function Pu({title:e,description:n,actions:a}){return l.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"text-sm text-slate-600",children:n}):null]}),a?l.jsx("div",{className:"flex items-center gap-2",children:a}):null]})}function o4(){const{workspace:e,hasPermission:n}=Ba(),a=Qt(),i=ht(),[o,u]=p.useState(!1),[d,h]=p.useState(""),[g,x]=p.useState(null),b=Kt({mutationFn:()=>aC(e.id),onSuccess:()=>{i.invalidateQueries({queryKey:en.all()}),a("/workspaces",{replace:!0})},onError:C=>{x(C instanceof Error?C.message:"Unable to delete workspace.")}}),v=n("workspace.delete")||n("workspace.settings.manage"),w=p.useMemo(()=>{const C=d.trim().toLowerCase();return C.length>0&&(C===e.slug.toLowerCase()||C===e.name.toLowerCase())},[d,e.name,e.slug]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Pu,{title:"Danger zone",description:"Delete this workspace when it is no longer needed."}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Permanently remove this workspace and all associated data. This action cannot be undone."})]}),l.jsx(De,{type:"button",variant:"danger",onClick:()=>u(!0),disabled:!v||b.isPending,isLoading:b.isPending,children:"Delete workspace"})]}),v?null:l.jsx(dt,{tone:"warning",className:"mt-3",children:"You need additional permissions to delete this workspace."}),g?l.jsx(dt,{tone:"danger",className:"mt-3",children:g}):null,l.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50 p-4 text-sm text-amber-800",children:[l.jsx("p",{className:"font-semibold",children:"Looking for ADE safe mode?"}),l.jsx("p",{className:"mt-1",children:"Safe mode is a system-wide control. Manage it from the system settings area instead of workspace settings."})]}),l.jsxs(Ss,{open:o,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{u(!1),h(""),x(null)},onConfirm:()=>{w&&(x(null),b.mutate())},isConfirming:b.isPending,confirmDisabled:!w,children:[l.jsx(wt,{label:"Workspace slug",required:!0,children:l.jsx(xt,{value:d,onChange:C=>h(C.target.value),placeholder:e.slug,disabled:b.isPending})}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Enter ",l.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function Iw({when:e,title:n="Discard unsaved changes?",description:a="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:i="Leave without saving",cancelLabel:o="Stay on page"}){const u=Qt(),[d,h]=p.useState(null),[g,x]=p.useState(!1),b=p.useRef(!1);p.useEffect(()=>{if(!e){x(!1),h(null);return}const C=N=>{N.preventDefault(),N.returnValue=""};return window.addEventListener("beforeunload",C),()=>window.removeEventListener("beforeunload",C)},[e]),yv(C=>e?b.current?(b.current=!1,!0):(h(C),x(!0),!1):!0,e);const v=()=>{if(!d)return;b.current=!0;const C=d.kind==="replace"||d.kind==="pop";u(d.to,{replace:C}),x(!1),h(null),setTimeout(()=>{b.current=!1},0)},w=()=>{x(!1),h(null)};return l.jsx(Ss,{open:g&&e,title:n,description:a,confirmLabel:i,cancelLabel:o,tone:"danger",onConfirm:v,onCancel:w})}Iw.displayName="UnsavedChangesPrompt";function c4({isDirty:e,isSaving:n,onCancel:a,onSave:i,saveLabel:o="Save changes",cancelLabel:u="Discard",children:d}){return!e&&!d?null:l.jsx("div",{className:"sticky bottom-0 left-0 right-0 mt-4 rounded-b-2xl border border-t bg-white/95 p-4 shadow-[0_-8px_20px_-12px_rgba(15,23,42,0.25)] backdrop-blur",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("div",{className:"text-sm text-slate-600",children:d}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a?l.jsx(De,{type:"button",variant:"ghost",onClick:a,disabled:n||!e,children:u}):null,l.jsx(De,{type:"button",onClick:i,isLoading:n,disabled:!e||n,children:o})]})]})})}const u4=$u({name:Xs().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:Xs().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function d4(){const{workspace:e}=Ba(),n=bC(e.id),a=Jv(),[i,o]=p.useState(null),{register:u,handleSubmit:d,formState:{errors:h,isDirty:g},reset:x}=zy({resolver:Oy(u4),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const b=d(C=>{o(null),n.mutate({name:C.name.trim(),slug:C.slug.trim()},{onSuccess:()=>{o({tone:"success",message:"Workspace details saved."})},onError:N=>{const j=N instanceof Error?N.message:"Unable to save workspace details.";o({tone:"danger",message:j})}})}),v=e.is_default,w=a.isPending;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Iw,{when:g&&!n.isPending}),l.jsx(Pu,{title:"General",description:"Manage the workspace identity and your default workspace preference."}),i?l.jsx(dt,{tone:i.tone,children:i.message}):null,l.jsxs("form",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-soft",onSubmit:b,noValidate:!0,children:[l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(wt,{label:"Workspace name",required:!0,error:h.name?.message,children:l.jsx(xt,{...u("name"),placeholder:"Finance Operations",invalid:!!h.name,disabled:n.isPending})}),l.jsx(wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:h.slug?.message,children:l.jsx(xt,{...u("slug"),placeholder:"finance-ops",invalid:!!h.slug,disabled:n.isPending})})]}),n.isError?l.jsx(dt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null]}),l.jsx(c4,{isDirty:g,isSaving:n.isPending,onCancel:()=>{x(),o(null)},onSave:b,children:"Changes apply to everyone who can access this workspace."})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Default workspace"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose the workspace you land on first after signing in. This only affects your account."})]}),l.jsx(De,{type:"button",variant:v?"secondary":"primary",onClick:()=>{o(null),a.mutate(e.id,{onSuccess:()=>o({tone:"success",message:"Workspace set as your default."}),onError:C=>{const N=C instanceof Error?C.message:"Unable to set the default workspace right now.";o({tone:"danger",message:N})}})},disabled:v||w,isLoading:w,children:v?"Default workspace":"Make default"})]}),l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:v?"This workspace is already your default.":"You can switch the default workspace at any time."})]})]})}function Qm({open:e,title:n,description:a,onClose:i,children:o,footer:u,widthClassName:d="w-full max-w-xl"}){const h=p.useRef(null);return p.useEffect(()=>{if(!e)return;const g=b=>{if(b.key==="Escape"&&i(),b.key==="Tab"){const v=h.current;if(!v)return;const w=Array.from(v.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(j=>!j.hasAttribute("disabled"));if(w.length===0)return;const C=w.indexOf(document.activeElement),N=b.shiftKey?C<=0?w.length-1:C-1:C===w.length-1?0:C+1;w[N]?.focus(),b.preventDefault()}};return window.addEventListener("keydown",g),h.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",g)},[i,e]),e?js.createPortal(l.jsxs("div",{className:"fixed inset-0 z-40",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:i,"aria-label":"Close drawer"}),l.jsxs("div",{ref:h,role:"dialog","aria-modal":"true","aria-label":n,className:pe("absolute inset-y-0 right-0 flex h-full flex-col bg-white shadow-2xl transition",d),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Details"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),a?l.jsx("p",{className:"text-sm text-slate-600",children:a}):null]}),l.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-slate-200 bg-white p-2 text-slate-500 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2","aria-label":"Close drawer",children:l.jsx(f4,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:o}),u?l.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-5 py-4",children:u}):null]})]}),document.body):null}function f4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}const tm=_o,Qu={page:1,pageSize:tm,includeTotal:!0};function h4(e){const n=lm({queryKey:en.members(e,Qu),initialPageParam:1,queryFn:({pageParam:u,signal:d})=>rC(e,{page:typeof u=="number"?u:1,pageSize:tm,includeTotal:u===1,signal:d}),getNextPageParam:u=>u.has_next?u.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:u=>u}),a=n.data?.pages??[],i=fm(a,u=>u.user_id),o=a[0]?.total??a[a.length-1]?.total??void 0;return{...n,members:i,total:o,pageSize:tm}}function m4(e){const n=ht(),a=en.members(e,Qu);return Kt({mutationFn:async({user:i,roleIds:o})=>{const u={user_id:i.id,role_ids:Array.from(o)};return iC(e,u)},onSuccess:()=>{n.invalidateQueries({queryKey:a})}})}function p4(e){const n=ht(),a=en.members(e,Qu);return Kt({mutationFn:({userId:i,roleIds:o})=>lC(e,i,{role_ids:Array.from(o)}),onSuccess:()=>{n.invalidateQueries({queryKey:a})}})}function g4(e){const n=ht(),a=en.members(e,Qu);return Kt({mutationFn:i=>oC(e,i),onSuccess:()=>{n.invalidateQueries({queryKey:a})}})}const Wm=_o,x4=_o,Wu={page:1,pageSize:Wm,includeTotal:!0},b4={scope:"workspace",page:1,pageSize:x4,includeTotal:!1};function Vw(e){return Fn({queryKey:en.roles(e,Wu),queryFn:({signal:n})=>Qv(a=>cC({page:a,pageSize:Wm,includeTotal:a===1,signal:n})),enabled:e.length>0,staleTime:15e3,placeholderData:n=>n})}function v4(e="workspace"){const n={...b4,scope:e};return Fn({queryKey:en.permissions(n),queryFn:({signal:a})=>Qv(i=>hC({scope:e,page:i,pageSize:n.pageSize,includeTotal:i===1,signal:a})),staleTime:6e4,placeholderData:a=>a})}function y4(e){const n=ht(),a=en.roles(e,Wu);return Kt({mutationFn:i=>uC(e,i),onSuccess:i=>{n.setQueryData(a,o=>S4(o,i))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function w4(e){const n=ht(),a=en.roles(e,Wu);return Kt({mutationFn:({roleId:i,payload:o})=>dC(e,i,o),onSuccess:i=>{n.setQueryData(a,o=>o&&{...o,items:o.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function j4(e){const n=ht(),a=en.roles(e,Wu);return Kt({mutationFn:i=>fC(e,i),onSuccess:(i,o)=>{n.setQueryData(a,u=>{if(!u)return u;const d=u.items.filter(h=>h.id!==o);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function S4(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total,has_next:!1,has_previous:!1}:{items:[n],page:1,page_size:Wm,has_next:!1,has_previous:!1,total:1}}const C4={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function N4(e,n){if(e&&e.trim().length>0){const a=e.trim().split(/\s+/u),i=a[0]?.[0],o=a[a.length-1]?.[0];if(i)return`${i}${o??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function Pw({name:e,email:n,size:a="md",className:i}){const o=p.useMemo(()=>N4(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:pe("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",C4[a],i),children:o})}function k4(){const{workspace:e,hasPermission:n}=Ba(),{params:a}=Zw(),i=Qt(),o=Qn(),u=n("workspace.members.manage"),d=h4(e.id),h=Vw(e.id),g=m4(e.id),x=p4(e.id),b=g4(e.id),[v,w]=p.useState(""),[C,N]=p.useState(null),j=p.useMemo(()=>{const ae=d.members,E=new Intl.Collator("en",{sensitivity:"base"});return[...ae].sort((Z,le)=>{const F=Z.user?.display_name??Z.user?.email??Z.user_id,J=le.user?.display_name??le.user?.email??le.user_id;return E.compare(F??"",J??"")})},[d.members]),_=p.useMemo(()=>new Set(j.map(ae=>ae.user_id)),[j]),M=d.total??j.length,k=v.trim().toLowerCase(),B=p.useMemo(()=>k?j.filter(ae=>{const E=ae.user?.display_name??"",Z=ae.user?.email??"";return E.toLowerCase().includes(k)||Z.toLowerCase().includes(k)||ae.user_id.toLowerCase().includes(k)}):j,[j,k]),W=!!d.hasNextPage,L=d.isLoading,V=d.isFetchingNextPage,A=p.useMemo(()=>{const ae=new Intl.Collator("en",{sensitivity:"base"});return(h.data?.items??[]).slice().sort((E,Z)=>ae.compare(E.name,Z.name))},[h.data]),P=a[0],Q=P==="new",Y=P&&P!=="new"?decodeURIComponent(P):null,X=j.find(ae=>ae.user_id===Y),U=`/workspaces/${e.id}/settings/access/members`,ee=`${o.search}${o.hash}`,de=()=>i(`${U}${ee}`,{replace:!0}),be=()=>i(`${U}/new${ee}`),D=ae=>i(`${U}/${encodeURIComponent(ae)}${ee}`),R=async({user:ae,roleIds:E})=>{N(null),await g.mutateAsync({user:ae,roleIds:E}),N({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`}),de()},te=async(ae,E)=>{N(null),await x.mutateAsync({userId:ae,roleIds:E}),N({tone:"success",message:"Member roles updated."}),de()},he=async ae=>{N(null),await b.mutateAsync(ae.user_id),N({tone:"success",message:"Member removed."}),de()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Pu,{title:"Members",description:"Add members, adjust workspace roles, or remove access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[M," member",M===1?"":"s"]})}),C?l.jsx(dt,{tone:C.tone,children:C.message}):null,d.isError?l.jsx(dt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace members."}):null,h.isError?l.jsx(dt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load workspace roles."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace members"}),l.jsx("p",{className:"text-sm text-slate-500",children:L?"Loading members":`${M} member${M===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(wt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(xt,{value:v,onChange:ae=>w(ae.target.value),placeholder:"Search by name, email, or ID",disabled:L})}),u?l.jsx(De,{type:"button",onClick:be,children:"Add member"}):null]})]}),L?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):B.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No members match "${v}".`:"No members yet. Add teammates to collaborate."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Member"}),l.jsx("th",{className:"px-4 py-3",children:"Roles"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:B.map(ae=>{const E=ae.role_ids.map(le=>A.find(F=>F.id===le)?.name??le).sort((le,F)=>le.localeCompare(F)),Z=ae.user?.display_name??ae.user?.email??ae.user_id;return l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pw,{name:ae.user?.display_name,email:ae.user?.email,size:"sm"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-semibold text-slate-900",children:Z}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:ae.user?.email??ae.user_id})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:E.length===0?l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."}):E.map(le=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:le},`${ae.user_id}-${le}`))})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(De,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(ae.user_id),disabled:!u,children:"Manage"})})]},ae.user_id)})})]})}),W?l.jsx("div",{className:"pt-4",children:l.jsx(De,{type:"button",variant:"ghost",onClick:()=>d.fetchNextPage(),disabled:V,children:V?"Loading more members":"Load more members"})}):null,u?null:l.jsx(dt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),l.jsx(E4,{open:Q&&u,onClose:de,availableRoles:A,memberIds:_,isSubmitting:g.isPending,onAdd:R}),l.jsx(_4,{open:!!Y&&u,member:X,availableRoles:A,onClose:de,onSaveRoles:ae=>te(Y??"",ae),onRemove:()=>X?he(X):Promise.resolve(),isSaving:x.isPending,isRemoving:b.isPending})]})}function E4({open:e,onClose:n,availableRoles:a,memberIds:i,isSubmitting:o,onAdd:u}){const[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(""),[w,C]=p.useState(""),[N,j]=p.useState(null);p.useEffect(()=>{const A=window.setTimeout(()=>C(b.trim()),250);return()=>window.clearTimeout(A)},[b]),p.useEffect(()=>{e||(h(""),x([]),v(""),j(null))},[e]);const _=Ly({enabled:e,search:w,pageSize:50}),M=p.useMemo(()=>{const A=new Intl.Collator("en",{sensitivity:"base"});return _.users.filter(P=>!i.has(P.id)).sort((P,Q)=>{const Y=P.display_name??P.email,X=Q.display_name??Q.email;return A.compare(Y??"",X??"")})},[i,_.users]),k=p.useMemo(()=>M.find(A=>A.id===d),[M,d]),B=!!d&&g.length>0&&!o,W=b.trim().length>0&&b.trim().length<2,L=_.isPending&&_.users.length===0,V=async A=>{A.preventDefault(),j(null);const P=M.find(Q=>Q.id===d);if(!P){j("Select a user to add.");return}if(g.length===0){j("Select at least one role for this member.");return}try{await u({user:P,roleIds:g}),h(""),v(""),x([])}catch(Q){const Y=Q instanceof Error?Q.message:"Unable to add member.";j(Y)}};return l.jsx(Qm,{open:e,onClose:n,title:"Add member",description:"Add an existing user and choose their workspace roles.",children:l.jsxs("form",{className:"space-y-4",onSubmit:V,children:[N?l.jsx(dt,{tone:"danger",children:N}):null,_.isError?l.jsx(dt,{tone:"warning",children:_.error instanceof Error?_.error.message:"Unable to load the user directory."}):null,l.jsxs(wt,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[l.jsx(xt,{value:b,onChange:A=>v(A.target.value),placeholder:"Search users",disabled:o||L}),W?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null]}),l.jsxs(wt,{label:"User",required:!0,children:[l.jsxs(Xi,{value:d,onChange:A=>{h(A.target.value),A.target.value&&v("")},disabled:o||L,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),k&&!M.some(A=>A.id===k.id)?l.jsx("option",{value:k.id,children:k.display_name?`${k.display_name} (${k.email})`:k.email}):null,M.map(A=>l.jsx("option",{value:A.id,children:A.display_name?`${A.display_name} (${A.email})`:A.email},A.id))]}),M.length===0&&b?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',b,'".']}):null]}),l.jsxs("fieldset",{className:"space-y-2",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Assign at least one role to grant access."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):a.map(A=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(A.id),onChange:P=>x(Q=>P.target.checked?[...Q,A.id]:Q.filter(Y=>Y!==A.id)),disabled:o}),l.jsx("span",{children:A.name})]},A.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]}),_.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(De,{type:"button",variant:"ghost",onClick:()=>_.fetchNextPage(),disabled:_.isFetchingNextPage,children:_.isFetchingNextPage?"Loading more users":"Load more users"})}):null,l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(De,{type:"button",variant:"ghost",onClick:n,disabled:o,children:"Cancel"}),l.jsx(De,{type:"submit",isLoading:o,disabled:!B,children:"Add member"})]})]})})}function _4({open:e,member:n,availableRoles:a,onClose:i,onSaveRoles:o,onRemove:u,isSaving:d,isRemoving:h}){const[g,x]=p.useState([]),[b,v]=p.useState(null),[w,C]=p.useState(!1);p.useEffect(()=>{if(!e||!n){x([]),v(null),C(!1);return}x(n.role_ids),v(null),C(!1)},[n,e]);const N=async()=>{if(n){v(null);try{await o(g)}catch(M){const k=M instanceof Error?M.message:"Unable to save member roles.";v(k)}}},j=async()=>{if(n){v(null);try{await u()}catch(M){const k=M instanceof Error?M.message:"Unable to remove member.";v(k)}finally{C(!1)}}},_=n?n.user?.display_name??n.user?.email??n.user_id:"Member details";return l.jsxs(l.Fragment,{children:[l.jsxs(Qm,{open:e,onClose:i,title:_,description:n?"Update roles or remove this member from the workspace.":void 0,children:[n?l.jsxs("div",{className:"space-y-4",children:[b?l.jsx(dt,{tone:"danger",children:b}):null,l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx(Pw,{name:n.user?.display_name,email:n.user?.email,size:"md"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:n.user?.display_name??n.user?.email??n.user_id}),l.jsx("p",{className:"text-sm text-slate-500",children:n.user?.email??"No email available"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["User ID: ",n.user_id]})]})]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Select the roles this member should have inside the workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available."}):a.map(M=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(M.id),onChange:k=>x(B=>k.target.checked?Array.from(new Set([...B,M.id])):B.filter(W=>W!==M.id)),disabled:d}),l.jsx("span",{children:M.name})]},M.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]})]}):l.jsx(dt,{tone:"warning",children:"This member could not be found."}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[l.jsx(De,{type:"button",variant:"ghost",onClick:i,disabled:d||h,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsx(De,{type:"button",variant:"danger",onClick:()=>C(!0),disabled:h,isLoading:h,children:"Remove"}):null,l.jsx(De,{type:"button",onClick:N,isLoading:d,disabled:!n||d,children:"Save changes"})]})]})]}),l.jsx(Ss,{open:w,title:"Remove member?",description:n?`Remove ${n.user?.display_name??n.user?.email??n.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>C(!1),onConfirm:j,isConfirming:h})]})}function D4(){const{workspace:e,hasPermission:n}=Ba(),{params:a}=Zw(),i=Qt(),o=Qn(),u=n("workspace.roles.manage"),d=Vw(e.id),h=v4(),g=y4(e.id),x=w4(e.id),b=j4(e.id),[v,w]=p.useState(""),[C,N]=p.useState(null),j=p.useMemo(()=>(h.data?.items??[]).filter(D=>D.scope_type==="workspace"),[h.data]),_=p.useMemo(()=>{const D=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((R,te)=>D.compare(R.name,te.name))},[d.data]),M=d.data?.total??_.length,k=v.trim().toLowerCase(),B=p.useMemo(()=>k?_.filter(D=>`${D.name} ${D.slug??""}`.toLowerCase().includes(k)):_,[k,_]),W=a[0],L=W==="new",V=W&&W!=="new"?decodeURIComponent(W):null,A=_.find(D=>D.id===V),P=`/workspaces/${e.id}/settings/access/roles`,Q=`${o.search}${o.hash}`,Y=()=>i(`${P}${Q}`,{replace:!0}),X=()=>i(`${P}/new${Q}`),U=D=>i(`${P}/${encodeURIComponent(D)}${Q}`),ee=async D=>{N(null),await g.mutateAsync({name:D.name.trim(),slug:D.slug.trim()||void 0,description:D.description.trim()||void 0,permissions:D.permissions}),N({tone:"success",message:"Role created."}),Y()},de=async(D,R)=>{N(null),await x.mutateAsync({roleId:D,payload:{name:R.name.trim(),description:R.description.trim()||void 0,permissions:R.permissions}}),N({tone:"success",message:"Role updated."}),Y()},be=async D=>{N(null),await b.mutateAsync(D.id),N({tone:"success",message:`Deleted role "${D.name}".`}),Y()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Pu,{title:"Roles",description:"Workspace roles group permissions so you can safely delegate access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[M," role",M===1?"":"s"]})}),C?l.jsx(dt,{tone:C.tone,children:C.message}):null,d.isError?l.jsx(dt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,h.isError?l.jsx(dt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load permission catalog."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:d.isLoading?"Loading roles":`${M} role${M===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(wt,{label:"Search roles",className:"w-full max-w-xs",children:l.jsx(xt,{value:v,onChange:D=>w(D.target.value),placeholder:"Search by name or slug",disabled:d.isLoading})}),u?l.jsx(De,{type:"button",onClick:X,children:"New role"}):null]})]}),d.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):B.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No roles match "${v}".`:"No workspace roles yet. Create one to tailor permissions."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Role"}),l.jsx("th",{className:"px-4 py-3",children:"Slug"}),l.jsx("th",{className:"px-4 py-3",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:B.map(D=>l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:D.name}),D.is_system?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"System"}):null,D.is_editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:D.slug}),l.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[D.permissions.length," permission",D.permissions.length===1?"":"s"]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(De,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(D.id),disabled:!u,children:"Manage"})})]},D.id))})]})}),u?null:l.jsx(dt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),l.jsx(xv,{open:L&&u,mode:"create",permissions:j,onClose:Y,onSave:D=>ee(D),isSaving:g.isPending,isDeleting:!1}),l.jsx(xv,{open:!!V&&u,mode:"edit",role:A,permissions:j,onClose:Y,onSave:D=>V?de(V,D):Promise.resolve(),onDelete:A?()=>be(A):void 0,isSaving:x.isPending,isDeleting:b.isPending})]})}function xv({open:e,mode:n,role:a,permissions:i,onClose:o,onSave:u,onDelete:d,isSaving:h,isDeleting:g}){const[x,b]=p.useState({name:"",slug:"",description:"",permissions:[]}),[v,w]=p.useState(""),[C,N]=p.useState(null),[j,_]=p.useState(!1),[M,k]=p.useState("");p.useEffect(()=>{if(!e){N(null),w(""),_(!1),k("");return}b(n==="edit"&&a?{name:a.name,slug:a.slug,description:a.description??"",permissions:a.permissions}:{name:"",slug:"",description:"",permissions:[]})},[n,e,a]);const B=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,W=n==="create"||(a?.is_editable??!1),L=n==="edit"&&a&&a.is_editable&&!a.is_system&&d,V=p.useMemo(()=>{const U=v.trim().toLowerCase();return U?i.filter(ee=>`${ee.label} ${ee.key}`.toLowerCase().includes(U)):i},[v,i]),A=(U,ee)=>{b(de=>({...de,permissions:ee?Array.from(new Set([...de.permissions??[],U])):(de.permissions??[]).filter(be=>be!==U)}))},P=async()=>{if(N(null),!x.name.trim()){N("Role name is required.");return}if(n==="create"&&x.slug&&!B.test(x.slug)){N("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await u({...x,name:x.name.trim(),slug:n==="create"?x.slug.trim():a?.slug??"",description:x.description.trim(),permissions:x.permissions})}catch(U){const ee=U instanceof Error?U.message:"Unable to save role.";N(ee)}},Q=async()=>{if(!(!d||!a)){N(null);try{await d()}catch(U){const ee=U instanceof Error?U.message:"Unable to delete role.";N(ee)}finally{_(!1),k("")}}},Y=l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(De,{type:"button",variant:"ghost",onClick:o,disabled:h||g,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[L?l.jsx(De,{type:"button",variant:"danger",onClick:()=>_(!0),disabled:g,isLoading:g,children:"Delete"}):null,l.jsx(De,{type:"button",onClick:P,isLoading:h,disabled:!W||h,children:n==="create"?"Create role":"Save changes"})]})]}),X=n==="create"?"New role":a?.name??"Role details";return l.jsxs(l.Fragment,{children:[l.jsxs(Qm,{open:e,onClose:o,title:X,description:n==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:Y,children:[C?l.jsx(dt,{tone:"danger",children:C}):null,n==="edit"&&a&&!a.is_editable?l.jsx(dt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,l.jsxs("div",{className:"space-y-4",children:[l.jsx(wt,{label:"Role name",required:!0,children:l.jsx(xt,{value:x.name,onChange:U=>b(ee=>({...ee,name:U.target.value})),placeholder:"Data reviewer",disabled:h||!W})}),n==="create"?l.jsx(wt,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:l.jsx(xt,{value:x.slug,onChange:U=>b(ee=>({...ee,slug:U.target.value})),placeholder:"data-reviewer",disabled:h||!W})}):l.jsx(wt,{label:"Role slug",children:l.jsx(xt,{value:a?.slug??"",disabled:!0})}),l.jsx(wt,{label:"Description",hint:"Optional context about what this role controls.",children:l.jsx(xt,{value:x.description,onChange:U=>b(ee=>({...ee,description:U.target.value})),placeholder:"What does this role control?",disabled:h||!W})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Select the permissions included with this role. ",x.permissions.length," selected."]})]}),l.jsx(xt,{value:v,onChange:U=>w(U.target.value),placeholder:"Filter permissions",disabled:h})]}),l.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-slate-200 p-3",children:V.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No permissions match this filter."}):V.map(U=>{const ee=`permission-${U.key.replaceAll(".","-")}`;return l.jsxs("label",{htmlFor:ee,"aria-label":U.label,className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{id:ee,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:x.permissions.includes(U.key),onChange:de=>A(U.key,de.target.checked),disabled:h||!W}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:U.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:U.description})]})]},U.key)})})]})]})]}),l.jsx(Ss,{open:j&&!!a,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:M.trim()!==(a?.slug??""),onCancel:()=>{_(!1),k("")},onConfirm:Q,isConfirming:g,children:l.jsx(wt,{label:"Type the role slug to confirm",required:!0,children:l.jsx(xt,{value:M,onChange:U=>k(U.target.value),placeholder:a?.slug??"role-slug",disabled:g})})})]})}const A4={workspace:"Workspace",access:"Access",lifecycle:"Lifecycle"},No=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:l.jsx(d4,{})},{id:"access.members",group:"access",label:"Members",description:"Manage members and access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:l.jsx(k4,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:l.jsx(D4,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:l.jsx(o4,{})}],uu=No[0];function T4(e){const n=e.join("/");return No.find(a=>n===a.path||n.startsWith(`${a.path}/`))}function M4(e,n){const a=No.map(i=>{const o=i.required?.view?i.required.view.some(d=>n(d)):!0,u=i.required?.edit?i.required.edit.some(d=>n(d)):!0;return{id:i.id,label:i.label,description:i.description,href:`/workspaces/${e}/settings/${i.path}`,disabled:!(o||u),tone:i.tone??"default"}});return Object.values(a.reduce((i,o)=>{const u=No.find(g=>g.id===o.id);if(!u)return i;const d=i[u.group],h=d?{...d,items:[...d.items,o]}:{id:u.group,label:A4[u.group],items:[o]};return i[u.group]=h,i},{}))}function R4({sectionSegments:e=[]}){const{workspace:n,hasPermission:a}=Ba(),i=Qt(),o=Qn(),{effectiveSegments:u,redirectTo:d}=p.useMemo(()=>z4(e,n.id,o.search,o.hash),[e,n.id,o.search,o.hash]),h=T4(u)??uu;p.useEffect(()=>{d&&i(d,{replace:!0})},[d,i]);const g=p.useMemo(()=>{const j=h.path.split("/");return u.slice(j.length)},[h.path,u]),x=p.useMemo(()=>M4(n.id,a),[n.id,a]),v=x.flatMap(j=>j.items).find(j=>j.id===h.id),w=x.find(j=>j.items.some(_=>_.id===h.id))?.label,N=v?.disabled?l.jsx(Nt,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):h.element;return l.jsx(i4,{workspaceName:n.name,navGroups:x,activeSectionId:h.id,activeSectionLabel:h.label,activeSectionDescription:h.description,activeGroupLabel:w??"Settings",children:l.jsx(l4,{value:{sectionId:h.id,params:g},children:N})})}function z4(e,n,a,i){const o={members:"access/members",roles:"access/roles",danger:"lifecycle/danger"},u=e.length>0?[...e]:uu.path.split("/"),d=o[u[0]],h=d?[...d.split("/"),...u.slice(1)]:u,g=h.join("/"),x=d&&g?`/workspaces/${n}/settings/${g}${a}${i}`:void 0,b=e.length===0,v=No.some(C=>g===C.path||g.startsWith(`${C.path}/`))||d!==void 0,w=`/workspaces/${n}/settings/${uu.path}${a}${i}`;return{effectiveSegments:v?h:uu.path.split("/"),redirectTo:b||!v||d?x??w:null}}function O4(){return l.jsx(Au,{children:l.jsx(L4,{})})}function L4(){const e=Qn(),n=Qt(),a=ht(),i=hm(),o=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=$4(e.pathname),d=p.useMemo(()=>F4(o,u),[o,u]);return p.useEffect(()=>{i.data&&a.setQueryData(en.list(iu),i.data)},[a,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&o.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,o.length,n]),p.useEffect(()=>{d&&!u&&n(`/workspaces/${d.id}/${ku.path}${e.search}${e.hash}`,{replace:!0})},[d,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!d||!u)&&u!==d.id){const h=H4(e.pathname,e.search,d.id,u);h!==e.pathname+e.search&&n(h+e.hash,{replace:!0})}},[d,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{d&&ey(d.id)},[d]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Nt,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(Nt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):d?l.jsx(M2,{workspace:d,workspaces:o,children:l.jsx(U4,{workspace:d})}):null}function U4({workspace:e}){return l.jsx(VT,{children:l.jsx(QM,{workspaceId:e.id,children:l.jsx(B4,{workspace:e})})})}function B4({workspace:e}){const n=nl(),a=Qt(),i=Qn(),{session:o,windowState:u}=Rw(),d=Sy(),h=d.data?.enabled??!1,g=d.data?.detail??sl,x=ky(),b=p.useMemo(()=>Lw(e),[e]),[v,w]=p.useState(""),[C,N]=p.useState(!1),[j,_]=p.useState(!1),M=v.trim().toLowerCase(),k=!!(o&&u==="maximized"),B=p.useMemo(()=>b.map($=>({id:$.id,label:$.label,description:`Jump to ${$.label}`,icon:l.jsx($.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),W=p.useMemo(()=>ha(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[L,V]=p.useState(()=>{const $=W.get();return typeof $=="boolean"?$:!1});p.useEffect(()=>{const $=W.get();V(typeof $=="boolean"?$:!1)},[W]),p.useEffect(()=>{W.set(L)},[L,W]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const $=()=>{window.innerWidth>=1024&&N(!1)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),p.useEffect(()=>{if(typeof document>"u")return;const $=document.body.style.overflow;return C?document.body.style.overflow="hidden":document.body.style.overflow=$||"",()=>{document.body.style.overflow=$}},[C]),p.useEffect(()=>{k&&N(!1)},[k]);const A=p.useCallback(()=>{if(!M)return;const $=b.find(K=>K.label.toLowerCase().includes(M))??b.find(K=>K.id.toLowerCase().includes(M));$&&a($.href)},[M,b,a]),P=p.useCallback($=>{const K=b.find(H=>H.id===$.id);K&&(a(K.href),w(""))},[b,a]),Q=p.useCallback(()=>N(!0),[]),Y=p.useCallback(()=>N(!1),[]),X=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:Q,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(Z4,{})})}),U=n.user.display_name||n.user.email||"Signed in",ee=n.user.email??"",de=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(jy,{displayName:U,email:ee,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>_(!0)}]})}),be={value:v,onChange:w,onSubmit:A,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:B,onSelectSuggestion:P},D=q4(i.pathname,e.id),R=V4(e.id,D,i.search,i.hash),te=R?.kind==="content"&&R.key.startsWith("documents"),he=te?new URLSearchParams(i.search).get("q")??"":"",ae=p.useCallback($=>{if(!te)return;const K=new URLSearchParams(i.search);$?K.set("q",$):K.delete("q");const H=K.toString();a(`${i.pathname}${H?`?${H}`:""}${i.hash}`,{replace:!0})},[te,i.hash,i.pathname,i.search,a]),E=p.useCallback($=>{ae($)},[ae]),Z=p.useCallback(()=>{ae("")},[ae]),F=(te?{value:he,onChange:ae,onSubmit:E,onClear:Z,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??be;if(p.useEffect(()=>{R?.kind==="redirect"&&a(R.to,{replace:!0})},[R,a]),!R||R.kind==="redirect")return null;const J=R.fullHeight??!1;return l.jsxs(l.Fragment,{children:[l.jsx(Cy,{open:j,onClose:()=>_(!1)}),l.jsxs("div",{className:pe("flex min-w-0 bg-slate-50 text-slate-900",J?"h-screen overflow-hidden":"min-h-screen"),children:[k?null:l.jsx(lR,{workspace:e,items:b,collapsed:L,onToggleCollapse:()=>V($=>!$),onGoToWorkspaces:()=>a("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[k?null:l.jsx(wy,{brand:X,trailing:de,search:F}),!k&&C?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:Y,"aria-label":"Close navigation"}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:Y,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(I4,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Uw,{items:b,onNavigate:Y,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:pe("relative flex-1 min-w-0",J?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:pe(J?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[h?l.jsx("div",{className:pe("mb-4",J?"px-6 pt-4":""),children:l.jsx(dt,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:pe(J?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:R.element})]})})},`section-${R.key}`)]})]})]})}function $4(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function q4(e,n){const a=`/workspaces/${n}`;return e.startsWith(a)?e.slice(a.length).split("/").map(o=>o.trim()).filter(o=>o.length>0):[]}function F4(e,n){return n?e.find(a=>a.id===n)??e.find(a=>a.slug===n)??e[0]??null:e[0]??null}function H4(e,n,a,i){const o=`/workspaces/${i}`,u=e.startsWith(o)?e.slice(o.length):"",d=u&&u!=="/"?u:`/${ku.path}`;return`/workspaces/${a}${d}${n}`}function Z4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function I4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function V4(e,n,a,i){const o=`${a}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${ku.path}${o}`};const[u,d,h]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(dR,{})};case ku.path:case"documents":return d?{kind:"content",key:`documents:${d}`,element:l.jsx(e4,{params:{documentId:decodeURIComponent(d)}})}:{kind:"content",key:"documents",element:l.jsx(wR,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(t4,{})};case"config-builder":return d?h==="editor"?{kind:"content",key:`config-builder:${d}:editor`,element:l.jsx(P4,{configId:decodeURIComponent(d)}),fullHeight:!0}:{kind:"content",key:`config-builder:${d}`,element:l.jsx(a4,{params:{configId:decodeURIComponent(d)}})}:{kind:"content",key:"config-builder",element:l.jsx(s4,{})};case"settings":{const g=n.slice(1),x=g.length>0?g:[];return{kind:"content",key:`settings:${x.length>0?x.join(":"):"general"}`,element:l.jsx(R4,{sectionSegments:x})}}default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(Nt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function P4({configId:e}){return l.jsx(r4,{params:{configId:e}})}function Q4(){const e=Qt(),n=ht();return p.useEffect(()=>{let a=!1;const i=new AbortController;return(async()=>{try{await $S({signal:i.signal})}finally{a||(n.removeQueries({queryKey:Js.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{a||e("/login",{replace:!0})}),()=>{a=!0,i.abort()}},[e,n]),null}function W4(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(em,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(em,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function K4(){return l.jsx(kj,{children:l.jsx(dS,{children:l.jsx(G4,{})})})}function G4(){const e=Qn(),a=Y4(e.pathname).split("/").filter(Boolean);if(a.length===0)return l.jsx(kC,{});const[i,o]=a;switch(i){case"login":return l.jsx(A_,{});case"logout":return l.jsx(Q4,{});case"auth":if(o==="callback")return l.jsx(T_,{});break;case"setup":return l.jsx(R_,{});case"workspaces":return o?o==="new"?l.jsx(D2,{}):l.jsx(O4,{}):l.jsx(G_,{})}return l.jsx(W4,{})}function Y4(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}Nj.createRoot(document.getElementById("root")).render(l.jsx(Rt.StrictMode,{children:l.jsx(K4,{})}));export{Rt as W,pe as c,l as j,p as r};
