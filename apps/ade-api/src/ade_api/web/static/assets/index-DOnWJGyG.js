(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pf={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function R1(){if(vx)return Dl;vx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return Dl.Fragment=n,Dl.jsx=r,Dl.jsxs=r,Dl}var bx;function z1(){return bx||(bx=1,pf.exports=R1()),pf.exports}var l=z1(),gf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function O1(){if(yx)return Ie;yx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function B(N,I,R){this.props=N,this.context=I,this.refs=O,this.updater=R||T}B.prototype.isReactComponent={},B.prototype.setState=function(N,I){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,I,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=B.prototype;function A(N,I,R){this.props=N,this.context=I,this.refs=O,this.updater=R||T}var q=A.prototype=new _;q.constructor=A,E(q,B.prototype),q.isPureReactComponent=!0;var $=Array.isArray;function P(){}var Y={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ne(N,I,R){var z=R.ref;return{$$typeof:e,type:N,key:I,ref:z!==void 0?z:null,props:R}}function oe(N,I){return ne(N.type,I,N.props)}function ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function me(N){var I={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(R){return I[R]})}var ue=/\/+/g;function xe(N,I){return typeof N=="object"&&N!==null&&N.key!=null?me(""+N.key):I.toString(36)}function ye(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(P,P):(N.status="pending",N.then(function(I){N.status==="pending"&&(N.status="fulfilled",N.value=I)},function(I){N.status==="pending"&&(N.status="rejected",N.reason=I)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function U(N,I,R,z,F){var V=typeof N;(V==="undefined"||V==="boolean")&&(N=null);var pe=!1;if(N===null)pe=!0;else switch(V){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(N.$$typeof){case e:case n:pe=!0;break;case b:return pe=N._init,U(pe(N._payload),I,R,z,F)}}if(pe)return F=F(N),pe=z===""?"."+xe(N,0):z,$(F)?(R="",pe!=null&&(R=pe.replace(ue,"$&/")+"/"),U(F,I,R,"",function(Q){return Q})):F!=null&&(ce(F)&&(F=oe(F,R+(F.key==null||N&&N.key===F.key?"":(""+F.key).replace(ue,"$&/")+"/")+pe)),I.push(F)),1;pe=0;var be=z===""?".":z+":";if($(N))for(var Ee=0;Ee<N.length;Ee++)z=N[Ee],V=be+xe(z,Ee),pe+=U(z,I,R,V,F);else if(Ee=j(N),typeof Ee=="function")for(N=Ee.call(N),Ee=0;!(z=N.next()).done;)z=z.value,V=be+xe(z,Ee++),pe+=U(z,I,R,V,F);else if(V==="object"){if(typeof N.then=="function")return U(ye(N),I,R,z,F);throw I=String(N),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return pe}function ee(N,I,R){if(N==null)return N;var z=[],F=0;return U(N,z,"","",function(V){return I.call(R,V,F++)}),z}function ge(N){if(N._status===-1){var I=N._result;I=I(),I.then(function(R){(N._status===0||N._status===-1)&&(N._status=1,N._result=R)},function(R){(N._status===0||N._status===-1)&&(N._status=2,N._result=R)}),N._status===-1&&(N._status=0,N._result=I)}if(N._status===1)return N._result.default;throw N._result}var Se=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ae={map:ee,forEach:function(N,I,R){ee(N,function(){I.apply(this,arguments)},R)},count:function(N){var I=0;return ee(N,function(){I++}),I},toArray:function(N){return ee(N,function(I){return I})||[]},only:function(N){if(!ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=y,Ie.Children=ae,Ie.Component=B,Ie.Fragment=r,Ie.Profiler=c,Ie.PureComponent=A,Ie.StrictMode=i,Ie.Suspense=x,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,I,R){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var z=E({},N.props),F=N.key;if(I!=null)for(V in I.key!==void 0&&(F=""+I.key),I)!K.call(I,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&I.ref===void 0||(z[V]=I[V]);var V=arguments.length-2;if(V===1)z.children=R;else if(1<V){for(var pe=Array(V),be=0;be<V;be++)pe[be]=arguments[be+2];z.children=pe}return ne(N.type,F,z)},Ie.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,I,R){var z,F={},V=null;if(I!=null)for(z in I.key!==void 0&&(V=""+I.key),I)K.call(I,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(F[z]=I[z]);var pe=arguments.length-2;if(pe===1)F.children=R;else if(1<pe){for(var be=Array(pe),Ee=0;Ee<pe;Ee++)be[Ee]=arguments[Ee+2];F.children=be}if(N&&N.defaultProps)for(z in pe=N.defaultProps,pe)F[z]===void 0&&(F[z]=pe[z]);return ne(N,V,F)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=ce,Ie.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:ge}},Ie.memo=function(N,I){return{$$typeof:g,type:N,compare:I===void 0?null:I}},Ie.startTransition=function(N){var I=Y.T,R={};Y.T=R;try{var z=N(),F=Y.S;F!==null&&F(R,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(P,Se)}catch(V){Se(V)}finally{I!==null&&R.types!==null&&(I.types=R.types),Y.T=I}},Ie.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ie.use=function(N){return Y.H.use(N)},Ie.useActionState=function(N,I,R){return Y.H.useActionState(N,I,R)},Ie.useCallback=function(N,I){return Y.H.useCallback(N,I)},Ie.useContext=function(N){return Y.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,I){return Y.H.useDeferredValue(N,I)},Ie.useEffect=function(N,I){return Y.H.useEffect(N,I)},Ie.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},Ie.useId=function(){return Y.H.useId()},Ie.useImperativeHandle=function(N,I,R){return Y.H.useImperativeHandle(N,I,R)},Ie.useInsertionEffect=function(N,I){return Y.H.useInsertionEffect(N,I)},Ie.useLayoutEffect=function(N,I){return Y.H.useLayoutEffect(N,I)},Ie.useMemo=function(N,I){return Y.H.useMemo(N,I)},Ie.useOptimistic=function(N,I){return Y.H.useOptimistic(N,I)},Ie.useReducer=function(N,I,R){return Y.H.useReducer(N,I,R)},Ie.useRef=function(N){return Y.H.useRef(N)},Ie.useState=function(N){return Y.H.useState(N)},Ie.useSyncExternalStore=function(N,I,R){return Y.H.useSyncExternalStore(N,I,R)},Ie.useTransition=function(){return Y.H.useTransition()},Ie.version="19.2.0",Ie}var wx;function ih(){return wx||(wx=1,gf.exports=O1()),gf.exports}var p=ih();const xt=yv(p);var xf={exports:{}},Rl={},vf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function L1(){return Sx||(Sx=1,(function(e){function n(U,ee){var ge=U.length;U.push(ee);e:for(;0<ge;){var Se=ge-1>>>1,ae=U[Se];if(0<c(ae,ee))U[Se]=ee,U[ge]=ae,ge=Se;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var ee=U[0],ge=U.pop();if(ge!==ee){U[0]=ge;e:for(var Se=0,ae=U.length,N=ae>>>1;Se<N;){var I=2*(Se+1)-1,R=U[I],z=I+1,F=U[z];if(0>c(R,ge))z<ae&&0>c(F,R)?(U[Se]=F,U[z]=ge,Se=z):(U[Se]=R,U[I]=ge,Se=I);else if(z<ae&&0>c(F,ge))U[Se]=F,U[z]=ge,Se=z;else break e}}return ee}function c(U,ee){var ge=U.sortIndex-ee.sortIndex;return ge!==0?ge:U.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var x=[],g=[],b=1,y=null,w=3,j=!1,T=!1,E=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function q(U){for(var ee=r(g);ee!==null;){if(ee.callback===null)i(g);else if(ee.startTime<=U)i(g),ee.sortIndex=ee.expirationTime,n(x,ee);else break;ee=r(g)}}function $(U){if(E=!1,q(U),!T)if(r(x)!==null)T=!0,P||(P=!0,me());else{var ee=r(g);ee!==null&&ye($,ee.startTime-U)}}var P=!1,Y=-1,K=5,ne=-1;function oe(){return O?!0:!(e.unstable_now()-ne<K)}function ce(){if(O=!1,P){var U=e.unstable_now();ne=U;var ee=!0;try{e:{T=!1,E&&(E=!1,_(Y),Y=-1),j=!0;var ge=w;try{t:{for(q(U),y=r(x);y!==null&&!(y.expirationTime>U&&oe());){var Se=y.callback;if(typeof Se=="function"){y.callback=null,w=y.priorityLevel;var ae=Se(y.expirationTime<=U);if(U=e.unstable_now(),typeof ae=="function"){y.callback=ae,q(U),ee=!0;break t}y===r(x)&&i(x),q(U)}else i(x);y=r(x)}if(y!==null)ee=!0;else{var N=r(g);N!==null&&ye($,N.startTime-U),ee=!1}}break e}finally{y=null,w=ge,j=!1}ee=void 0}}finally{ee?me():P=!1}}}var me;if(typeof A=="function")me=function(){A(ce)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,xe=ue.port2;ue.port1.onmessage=ce,me=function(){xe.postMessage(null)}}else me=function(){B(ce,0)};function ye(U,ee){Y=B(function(){U(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(U){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var ge=w;w=ee;try{return U()}finally{w=ge}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ge=w;w=U;try{return ee()}finally{w=ge}},e.unstable_scheduleCallback=function(U,ee,ge){var Se=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Se+ge:Se):ge=Se,U){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ge+ae,U={id:b++,callback:ee,priorityLevel:U,startTime:ge,expirationTime:ae,sortIndex:-1},ge>Se?(U.sortIndex=ge,n(g,U),r(x)===null&&U===r(g)&&(E?(_(Y),Y=-1):E=!0,ye($,ge-Se))):(U.sortIndex=ae,n(x,U),T||j||(T=!0,P||(P=!0,me()))),U},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(U){var ee=w;return function(){var ge=w;w=ee;try{return U.apply(this,arguments)}finally{w=ge}}}})(bf)),bf}var jx;function U1(){return jx||(jx=1,vf.exports=L1()),vf.exports}var yf={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function B1(){if(Ex)return Dn;Ex=1;var e=ih();function n(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(x,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:x,containerInfo:g,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(x,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(x,g,null,b)},Dn.flushSync=function(x){var g=f.T,b=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=g,i.p=b,i.d.f()}},Dn.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(x,g))},Dn.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},Dn.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:j}):b==="script"&&i.d.X(x,{crossOrigin:y,integrity:w,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Dn.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);i.d.M(x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(x)},Dn.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin);i.d.L(x,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Dn.preloadModule=function(x,g){if(typeof x=="string")if(g){var b=m(g.as,g.crossOrigin);i.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(x)},Dn.requestFormReset=function(x){i.d.r(x)},Dn.unstable_batchedUpdates=function(x,g){return x(g)},Dn.useFormState=function(x,g,b){return f.H.useFormState(x,g,b)},Dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var Nx;function wv(){if(Nx)return yf.exports;Nx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),yf.exports=B1(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function q1(){if(_x)return Rl;_x=1;var e=U1(),n=ih(),r=wv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(i(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,o=s;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return x(d),t;if(h===o)return x(d),s;h=h.sibling}throw Error(i(188))}if(a.return!==o.return)a=d,o=h;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,o=h;break}if(S===o){v=!0,o=d,a=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===a){v=!0,a=h,o=d;break}if(S===o){v=!0,o=h,a=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ue?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case P:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case A:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:xe(t.type)||"Memo";case K:s=t._payload,t=t._init;try{return xe(t(s))}catch{}}return null}var ye=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Se=[],ae=-1;function N(t){return{current:t}}function I(t){0>ae||(t.current=Se[ae],Se[ae]=null,ae--)}function R(t,s){ae++,Se[ae]=t.current,t.current=s}var z=N(null),F=N(null),V=N(null),pe=N(null);function be(t,s){switch(R(V,s),R(F,t),R(z,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Zg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Zg(s),t=Hg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(z),R(z,t)}function Ee(){I(z),I(F),I(V)}function Q(t){t.memoizedState!==null&&R(pe,t);var s=z.current,a=Hg(s,t.type);s!==a&&(R(F,t),R(z,a))}function Ne(t){F.current===t&&(I(z),I(F)),pe.current===t&&(I(pe),kl._currentValue=ge)}var _e,Ze;function Oe(t){if(_e===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);_e=s&&s[1]||"",Ze=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Ze}var Te=!1;function Fe(t,s){if(!t||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var X=te}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(te){X=te}t.call(fe.prototype)}}else{try{throw Error()}catch(te){X=te}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var D=v.split(`
`),W=S.split(`
`);for(d=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(o===D.length||d===W.length)for(o=D.length-1,d=W.length-1;1<=o&&0<=d&&D[o]!==W[d];)d--;for(;1<=o&&0<=d;o--,d--)if(D[o]!==W[d]){if(o!==1||d!==1)do if(o--,d--,0>d||D[o]!==W[d]){var re=`
`+D[o].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=o&&0<=d);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function et(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Fe(t.type,!1);case 11:return Fe(t.type.render,!1);case 1:return Fe(t.type,!0);case 31:return Oe("Activity");default:return""}}function tt(t){try{var s="",a=null;do s+=et(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pt=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,k=e.unstable_cancelCallback,C=e.unstable_shouldYield,se=e.unstable_requestPaint,J=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,St=e.unstable_LowPriority,we=e.unstable_IdlePriority,Ce=e.log,He=e.unstable_setDisableYieldValue,jt=null,at=null;function Vt(t){if(typeof Ce=="function"&&He(t),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(jt,t)}catch{}}var zt=Math.clz32?Math.clz32:aa,Nr=Math.log,es=Math.LN2;function aa(t){return t>>>=0,t===0?32:31-(Nr(t)/es|0)|0}var Ct=256,Ts=262144,it=4194304;function ut(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ot(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?d=ut(o):(v&=S,v!==0?d=ut(v):a||(a=S&~t,a!==0&&(d=ut(a))))):(S=o&~h,S!==0?d=ut(S):v!==0?d=ut(v):a||(a=o&~t,a!==0&&(d=ut(a)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,a=s&-s,h>=a||h===32&&(a&4194048)!==0)?s:d}function An(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function hn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(){var t=it;return it<<=1,(it&62914560)===0&&(it=4194304),t}function ke(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Sn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lt(t,s,a,o,d,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,W=t.hiddenUpdates;for(a=v&~a;0<a;){var re=31-zt(a),fe=1<<re;S[re]=0,D[re]=-1;var X=W[re];if(X!==null)for(W[re]=null,re=0;re<X.length;re++){var te=X[re];te!==null&&(te.lane&=-536870913)}a&=~fe}o!==0&&ts(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function ts(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-zt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Rn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-zt(a),d=1<<o;d&s|t[o]&s&&(t[o]|=s),a&=~d}}function kt(t,s){var a=s&-s;return a=(a&42)!==0?1:ns(a),(a&(t.suspendedLanes|s))!==0?0:a}function ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function As(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ln(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:dx(t.type))}function zn(t,s){var a=ee.p;try{return ee.p=t,s()}finally{ee.p=a}}var On=Math.random().toString(36).slice(2),Kt="__reactFiber$"+On,pn="__reactProps$"+On,nr="__reactContainer$"+On,Ms="__reactEvents$"+On,on="__reactListeners$"+On,uu="__reactHandles$"+On,sr="__reactResources$"+On,fs="__reactMarker$"+On;function Ha(t){delete t[Kt],delete t[pn],delete t[Ms],delete t[on],delete t[uu]}function Ds(t){var s=t[Kt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[nr]||a[Kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Yg(t);t!==null;){if(a=t[Kt])return a;t=Yg(t)}return s}t=a,a=t.parentNode}return null}function Ut(t){if(t=t[Kt]||t[nr]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function $n(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ln(t){var s=t[sr];return s||(s=t[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(t){t[fs]=!0}var Va=new Set,ia={};function hs(t,s){ms(t,s),ms(t+"Capture",s)}function ms(t,s){for(ia[t]=s,t=0;t<s.length;t++)Va.add(s[t])}var qi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ss={},du={};function fu(t){return Pt.call(du,t)?!0:Pt.call(ss,t)?!1:qi.test(t)?du[t]=!0:(ss[t]=!0,!1)}function Fa(t,s,a){if(fu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function rr(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Rs(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function jn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oo(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hu(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ia(t){if(!t._valueTracker){var s=oo(t)?"checked":"value";t._valueTracker=hu(t,s,""+t[s])}}function $i(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=oo(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mu=/[\n"\\]/g;function Zn(t){return t.replace(mu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zi(t,s,a,o,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+jn(s)):t.value!==""+jn(s)&&(t.value=""+jn(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Hi(t,v,jn(s)):a!=null?Hi(t,v,jn(a)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+jn(S):t.removeAttribute("name")}function co(t,s,a,o,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Ia(t);return}a=a!=null?""+jn(a):"",s=s!=null?""+jn(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ia(t)}function Hi(t,s,a){s==="number"&&la(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zs(t,s,a,o){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jn(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function oa(t,s,a){if(s!=null&&(s=""+jn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+jn(a):""}function Qa(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(i(92));if(ye(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=jn(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ia(t)}function _r(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||pu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Ga(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&a[d]!==o&&uo(t,d,o)}else for(var h in s)s.hasOwnProperty(h)&&uo(t,h,s[h])}function Vi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(t){return xu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Os(){}var Fi=null;function Ii(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,kr=null;function fo(t){var s=Ut(t);if(s&&(t=s.stateNode)){var a=t[pn]||null;e:switch(t=s.stateNode,s.type){case"input":if(Zi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var d=o[pn]||null;if(!d)throw Error(i(90));Zi(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&$i(o)}break e;case"textarea":oa(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&zs(t,!!a.multiple,s,!1)}}}var Qi=!1;function ho(t,s,a){if(Qi)return t(s,a);Qi=!0;try{var o=t(s);return o}finally{if(Qi=!1,(Cr!==null||kr!==null)&&(Xo(),Cr&&(s=Cr,t=kr,kr=Cr=null,fo(s),t)))for(s=0;s<t.length;s++)fo(t[s])}}function ca(t,s){var a=t.stateNode;if(a===null)return null;var o=a[pn]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(Ls)try{var H={};Object.defineProperty(H,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",H,H),window.removeEventListener("test",H,H)}catch{Gi=!1}var le=null,De=null,qe=null;function nt(){if(qe)return qe;var t,s=De,a=s.length,o,d="value"in le?le.value:le.textContent,h=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(o=1;o<=v&&s[a-o]===d[h-o];o++);return qe=d.slice(t,1<o?1-o:void 0)}function Bt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Dt(){return!0}function Hn(){return!1}function lt(t){function s(a,o,d,h,v){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Dt:Hn,this.isPropagationStopped=Hn,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dt)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dt)},persist:function(){},isPersistent:Dt}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=lt(Qs),ua=y({},Qs,{view:0,detail:0}),Vh=lt(ua),Ya,Gs,Un,da=y({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(Ya=t.screenX-Un.screenX,Gs=t.screenY-Un.screenY):Gs=Ya=0,Un=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Gs}}),mo=lt(da),vu=y({},da,{dataTransfer:0}),Fh=lt(vu),Ih=y({},ua,{relatedTarget:0}),po=lt(Ih),Mn=y({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=lt(Mn),Wi=y({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=lt(Wi),Ws=y({},Qs,{data:0}),gn=lt(Ws),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Us[t])?!!s[t]:!1}function bu(){return go}var Fy=y({},ua,{key:function(t){if(t.key){var s=xn[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Bt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(t){return t.type==="keypress"?Bt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iy=lt(Fy),Qy=y({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=lt(Qy),Gy=y({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),Wy=lt(Gy),Yy=y({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Py=lt(Yy),Ky=y({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=lt(Ky),Jy=y({},Qs,{newState:0,oldState:0}),ew=lt(Jy),tw=[9,13,27,32],yu=Ls&&"CompositionEvent"in window,Yi=null;Ls&&"documentMode"in document&&(Yi=document.documentMode);var nw=Ls&&"TextEvent"in window&&!Yi,Gh=Ls&&(!yu||Yi&&8<Yi&&11>=Yi),Wh=" ",Yh=!1;function Ph(t,s){switch(t){case"keyup":return tw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function sw(t,s){switch(t){case"compositionend":return Kh(s);case"keypress":return s.which!==32?null:(Yh=!0,Wh);case"textInput":return t=s.data,t===Wh&&Yh?null:t;default:return null}}function rw(t,s){if(Pa)return t==="compositionend"||!yu&&Ph(t,s)?(t=nt(),qe=De=le=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gh&&s.locale!=="ko"?null:s.data;default:return null}}var aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!aw[t.type]:s==="textarea"}function Jh(t,s,a,o){Cr?kr?kr.push(o):kr=[o]:Cr=o,s=ac(s,"onChange"),0<s.length&&(a=new ps("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Pi=null,Ki=null;function iw(t){Og(t,0)}function xo(t){var s=$n(t);if($i(s))return t}function em(t,s){if(t==="change")return s}var tm=!1;if(Ls){var wu;if(Ls){var Su="oninput"in document;if(!Su){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Su=typeof nm.oninput=="function"}wu=Su}else wu=!1;tm=wu&&(!document.documentMode||9<document.documentMode)}function sm(){Pi&&(Pi.detachEvent("onpropertychange",rm),Ki=Pi=null)}function rm(t){if(t.propertyName==="value"&&xo(Ki)){var s=[];Jh(s,Ki,t,Ii(t)),ho(iw,s)}}function lw(t,s,a){t==="focusin"?(sm(),Pi=s,Ki=a,Pi.attachEvent("onpropertychange",rm)):t==="focusout"&&sm()}function ow(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(Ki)}function cw(t,s){if(t==="click")return xo(s)}function uw(t,s){if(t==="input"||t==="change")return xo(s)}function dw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var rs=typeof Object.is=="function"?Object.is:dw;function Xi(t,s){if(rs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!Pt.call(s,d)||!rs(t[d],s[d]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,s){var a=am(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=am(a)}}function lm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?lm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=la(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=la(t.document)}return s}function ju(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var fw=Ls&&"documentMode"in document&&11>=document.documentMode,Ka=null,Eu=null,Ji=null,Nu=!1;function cm(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nu||Ka==null||Ka!==la(o)||(o=Ka,"selectionStart"in o&&ju(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ji&&Xi(Ji,o)||(Ji=o,o=ac(Eu,"onSelect"),0<o.length&&(s=new ps("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Ka)))}function ha(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Xa={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},_u={},um={};Ls&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ma(t){if(_u[t])return _u[t];if(!Xa[t])return t;var s=Xa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in um)return _u[t]=s[a];return t}var dm=ma("animationend"),fm=ma("animationiteration"),hm=ma("animationstart"),hw=ma("transitionrun"),mw=ma("transitionstart"),pw=ma("transitioncancel"),mm=ma("transitionend"),pm=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function Bs(t,s){pm.set(t,s),hs(s,[t])}var vo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gs=[],Ja=0,ku=0;function bo(){for(var t=Ja,s=ku=Ja=0;s<t;){var a=gs[s];gs[s++]=null;var o=gs[s];gs[s++]=null;var d=gs[s];gs[s++]=null;var h=gs[s];if(gs[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}h!==0&&gm(a,d,h)}}function yo(t,s,a,o){gs[Ja++]=t,gs[Ja++]=s,gs[Ja++]=a,gs[Ja++]=o,ku|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Tu(t,s,a,o){return yo(t,s,a,o),wo(t)}function pa(t,s){return yo(t,null,null,s),wo(t)}function gm(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var d=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-zt(a),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=a|536870912),h):null}function wo(t){if(50<wl)throw wl=0,Bd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ei={};function gw(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,s,a,o){return new gw(t,s,a,o)}function Au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ir(t,s){var a=t.alternate;return a===null?(a=as(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function So(t,s,a,o,d,h){var v=0;if(o=t,typeof t=="function")Au(t)&&(v=1);else if(typeof t=="string")v=w1(t,a,z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=as(31,a,s,d),t.elementType=ne,t.lanes=h,t;case E:return ga(a.children,d,h,s);case O:v=8,d|=24;break;case B:return t=as(12,a,s,d|2),t.elementType=B,t.lanes=h,t;case $:return t=as(13,a,s,d),t.elementType=$,t.lanes=h,t;case P:return t=as(19,a,s,d),t.elementType=P,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:v=10;break e;case _:v=9;break e;case q:v=11;break e;case Y:v=14;break e;case K:v=16,o=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=as(v,a,s,d),s.elementType=t,s.type=o,s.lanes=h,s}function ga(t,s,a,o){return t=as(7,t,o,s),t.lanes=a,t}function Mu(t,s,a){return t=as(6,t,null,s),t.lanes=a,t}function vm(t){var s=as(18,null,null,0);return s.stateNode=t,s}function Du(t,s,a){return s=as(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var bm=new WeakMap;function xs(t,s){if(typeof t=="object"&&t!==null){var a=bm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:tt(s)},bm.set(t,s),s)}return{value:t,source:s,stack:tt(s)}}var ti=[],ni=0,jo=null,el=0,vs=[],bs=0,Tr=null,Ys=1,Ps="";function lr(t,s){ti[ni++]=el,ti[ni++]=jo,jo=t,el=s}function ym(t,s,a){vs[bs++]=Ys,vs[bs++]=Ps,vs[bs++]=Tr,Tr=t;var o=Ys;t=Ps;var d=32-zt(o)-1;o&=~(1<<d),a+=1;var h=32-zt(s)+d;if(30<h){var v=d-d%5;h=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Ys=1<<32-zt(s)+d|a<<d|o,Ps=h+t}else Ys=1<<h|a<<d|o,Ps=t}function Ru(t){t.return!==null&&(lr(t,1),ym(t,1,0))}function zu(t){for(;t===jo;)jo=ti[--ni],ti[ni]=null,el=ti[--ni],ti[ni]=null;for(;t===Tr;)Tr=vs[--bs],vs[bs]=null,Ps=vs[--bs],vs[bs]=null,Ys=vs[--bs],vs[bs]=null}function wm(t,s){vs[bs++]=Ys,vs[bs++]=Ps,vs[bs++]=Tr,Ys=s.id,Ps=s.overflow,Tr=t}var En=null,Et=null,Je=!1,Ar=null,ys=!1,Ou=Error(i(519));function Mr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(xs(s,t)),Ou}function Sm(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Kt]=t,s[pn]=o,a){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<jl.length;a++)Pe(jl[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),co(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Qa(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||qg(s.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),o.onScroll!=null&&Pe("scroll",s),o.onScrollEnd!=null&&Pe("scrollend",s),o.onClick!=null&&(s.onclick=Os),s=!0):s=!1,s||Mr(t,!0)}function jm(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:En=En.return}}function si(t){if(t!==En)return!1;if(!Je)return jm(t),Je=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&Et&&Mr(t),jm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Et=Wg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Et=Wg(t)}else s===27?(s=Et,Ir(t.type)?(t=rf,rf=null,Et=t):Et=s):Et=En?Ss(t.stateNode.nextSibling):null;return!0}function xa(){Et=En=null,Je=!1}function Lu(){var t=Ar;return t!==null&&(Qn===null?Qn=t:Qn.push.apply(Qn,t),Ar=null),t}function tl(t){Ar===null?Ar=[t]:Ar.push(t)}var Uu=N(null),va=null,or=null;function Dr(t,s,a){R(Uu,s._currentValue),s._currentValue=a}function cr(t){t._currentValue=Uu.current,I(Uu)}function Bu(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function qu(t,s,a,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var D=0;D<s.length;D++)if(S.context===s[D]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),Bu(h.return,a,t),o||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),Bu(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ri(t,s,a,o){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;rs(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===pe.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}d=d.return}t!==null&&qu(s,t,a,o),s.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){va=t,or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return Em(va,t)}function No(t,s){return va===null&&ba(t),Em(t,s)}function Em(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},or===null){if(t===null)throw Error(i(308));or=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else or=or.next=s;return a}var xw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},vw=e.unstable_scheduleCallback,bw=e.unstable_NormalPriority,Xt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new xw,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&vw(bw,function(){t.controller.abort()})}var sl=null,Zu=0,ai=0,ii=null;function yw(t,s){if(sl===null){var a=sl=[];Zu=0,ai=Fd(),ii={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zu++,s.then(Nm,Nm),s}function Nm(){if(--Zu===0&&sl!==null){ii!==null&&(ii.status="fulfilled");var t=sl;sl=null,ai=0,ii=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function ww(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var _m=U.S;U.S=function(t,s){cg=J(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&yw(t,s),_m!==null&&_m(t,s)};var ya=N(null);function Hu(){var t=ya.current;return t!==null?t:vt.pooledCache}function _o(t,s){s===null?R(ya,ya.current):R(ya,s.pool)}function Cm(){var t=Hu();return t===null?null:{parent:Xt._currentValue,pool:t}}var li=Error(i(460)),Vu=Error(i(474)),Co=Error(i(542)),ko={then:function(){}};function km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Os,Os),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mm(t),t;default:if(typeof s.status=="string")s.then(Os,Os);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mm(t),t}throw Sa=s,li}}function wa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sa=a,li):a}}var Sa=null;function Am(){if(Sa===null)throw Error(i(459));var t=Sa;return Sa=null,t}function Mm(t){if(t===li||t===Co)throw Error(i(483))}var oi=null,rl=0;function To(t){var s=rl;return rl+=1,oi===null&&(oi=[]),Tm(oi,t,s)}function al(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ao(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Dm(t){function s(Z,L){if(t){var G=Z.deletions;G===null?(Z.deletions=[L],Z.flags|=16):G.push(L)}}function a(Z,L){if(!t)return null;for(;L!==null;)s(Z,L),L=L.sibling;return null}function o(Z){for(var L=new Map;Z!==null;)Z.key!==null?L.set(Z.key,Z):L.set(Z.index,Z),Z=Z.sibling;return L}function d(Z,L){return Z=ir(Z,L),Z.index=0,Z.sibling=null,Z}function h(Z,L,G){return Z.index=G,t?(G=Z.alternate,G!==null?(G=G.index,G<L?(Z.flags|=67108866,L):G):(Z.flags|=67108866,L)):(Z.flags|=1048576,L)}function v(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function S(Z,L,G,de){return L===null||L.tag!==6?(L=Mu(G,Z.mode,de),L.return=Z,L):(L=d(L,G),L.return=Z,L)}function D(Z,L,G,de){var Ue=G.type;return Ue===E?re(Z,L,G.props.children,de,G.key):L!==null&&(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===K&&wa(Ue)===L.type)?(L=d(L,G.props),al(L,G),L.return=Z,L):(L=So(G.type,G.key,G.props,null,Z.mode,de),al(L,G),L.return=Z,L)}function W(Z,L,G,de){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Du(G,Z.mode,de),L.return=Z,L):(L=d(L,G.children||[]),L.return=Z,L)}function re(Z,L,G,de,Ue){return L===null||L.tag!==7?(L=ga(G,Z.mode,de,Ue),L.return=Z,L):(L=d(L,G),L.return=Z,L)}function fe(Z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mu(""+L,Z.mode,G),L.return=Z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return G=So(L.type,L.key,L.props,null,Z.mode,G),al(G,L),G.return=Z,G;case T:return L=Du(L,Z.mode,G),L.return=Z,L;case K:return L=wa(L),fe(Z,L,G)}if(ye(L)||me(L))return L=ga(L,Z.mode,G,null),L.return=Z,L;if(typeof L.then=="function")return fe(Z,To(L),G);if(L.$$typeof===A)return fe(Z,No(Z,L),G);Ao(Z,L)}return null}function X(Z,L,G,de){var Ue=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ue!==null?null:S(Z,L,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Ue?D(Z,L,G,de):null;case T:return G.key===Ue?W(Z,L,G,de):null;case K:return G=wa(G),X(Z,L,G,de)}if(ye(G)||me(G))return Ue!==null?null:re(Z,L,G,de,null);if(typeof G.then=="function")return X(Z,L,To(G),de);if(G.$$typeof===A)return X(Z,L,No(Z,G),de);Ao(Z,G)}return null}function te(Z,L,G,de,Ue){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Z=Z.get(G)||null,S(L,Z,""+de,Ue);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case j:return Z=Z.get(de.key===null?G:de.key)||null,D(L,Z,de,Ue);case T:return Z=Z.get(de.key===null?G:de.key)||null,W(L,Z,de,Ue);case K:return de=wa(de),te(Z,L,G,de,Ue)}if(ye(de)||me(de))return Z=Z.get(G)||null,re(L,Z,de,Ue,null);if(typeof de.then=="function")return te(Z,L,G,To(de),Ue);if(de.$$typeof===A)return te(Z,L,G,No(L,de),Ue);Ao(L,de)}return null}function Ae(Z,L,G,de){for(var Ue=null,st=null,Re=L,We=L=0,Xe=null;Re!==null&&We<G.length;We++){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var rt=X(Z,Re,G[We],de);if(rt===null){Re===null&&(Re=Xe);break}t&&Re&&rt.alternate===null&&s(Z,Re),L=h(rt,L,We),st===null?Ue=rt:st.sibling=rt,st=rt,Re=Xe}if(We===G.length)return a(Z,Re),Je&&lr(Z,We),Ue;if(Re===null){for(;We<G.length;We++)Re=fe(Z,G[We],de),Re!==null&&(L=h(Re,L,We),st===null?Ue=Re:st.sibling=Re,st=Re);return Je&&lr(Z,We),Ue}for(Re=o(Re);We<G.length;We++)Xe=te(Re,Z,We,G[We],de),Xe!==null&&(t&&Xe.alternate!==null&&Re.delete(Xe.key===null?We:Xe.key),L=h(Xe,L,We),st===null?Ue=Xe:st.sibling=Xe,st=Xe);return t&&Re.forEach(function(Pr){return s(Z,Pr)}),Je&&lr(Z,We),Ue}function $e(Z,L,G,de){if(G==null)throw Error(i(151));for(var Ue=null,st=null,Re=L,We=L=0,Xe=null,rt=G.next();Re!==null&&!rt.done;We++,rt=G.next()){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var Pr=X(Z,Re,rt.value,de);if(Pr===null){Re===null&&(Re=Xe);break}t&&Re&&Pr.alternate===null&&s(Z,Re),L=h(Pr,L,We),st===null?Ue=Pr:st.sibling=Pr,st=Pr,Re=Xe}if(rt.done)return a(Z,Re),Je&&lr(Z,We),Ue;if(Re===null){for(;!rt.done;We++,rt=G.next())rt=fe(Z,rt.value,de),rt!==null&&(L=h(rt,L,We),st===null?Ue=rt:st.sibling=rt,st=rt);return Je&&lr(Z,We),Ue}for(Re=o(Re);!rt.done;We++,rt=G.next())rt=te(Re,Z,We,rt.value,de),rt!==null&&(t&&rt.alternate!==null&&Re.delete(rt.key===null?We:rt.key),L=h(rt,L,We),st===null?Ue=rt:st.sibling=rt,st=rt);return t&&Re.forEach(function(D1){return s(Z,D1)}),Je&&lr(Z,We),Ue}function gt(Z,L,G,de){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var Ue=G.key;L!==null;){if(L.key===Ue){if(Ue=G.type,Ue===E){if(L.tag===7){a(Z,L.sibling),de=d(L,G.props.children),de.return=Z,Z=de;break e}}else if(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===K&&wa(Ue)===L.type){a(Z,L.sibling),de=d(L,G.props),al(de,G),de.return=Z,Z=de;break e}a(Z,L);break}else s(Z,L);L=L.sibling}G.type===E?(de=ga(G.props.children,Z.mode,de,G.key),de.return=Z,Z=de):(de=So(G.type,G.key,G.props,null,Z.mode,de),al(de,G),de.return=Z,Z=de)}return v(Z);case T:e:{for(Ue=G.key;L!==null;){if(L.key===Ue)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(Z,L.sibling),de=d(L,G.children||[]),de.return=Z,Z=de;break e}else{a(Z,L);break}else s(Z,L);L=L.sibling}de=Du(G,Z.mode,de),de.return=Z,Z=de}return v(Z);case K:return G=wa(G),gt(Z,L,G,de)}if(ye(G))return Ae(Z,L,G,de);if(me(G)){if(Ue=me(G),typeof Ue!="function")throw Error(i(150));return G=Ue.call(G),$e(Z,L,G,de)}if(typeof G.then=="function")return gt(Z,L,To(G),de);if(G.$$typeof===A)return gt(Z,L,No(Z,G),de);Ao(Z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(Z,L.sibling),de=d(L,G),de.return=Z,Z=de):(a(Z,L),de=Mu(G,Z.mode,de),de.return=Z,Z=de),v(Z)):a(Z,L)}return function(Z,L,G,de){try{rl=0;var Ue=gt(Z,L,G,de);return oi=null,Ue}catch(Re){if(Re===li||Re===Co)throw Re;var st=as(29,Re,null,Z.mode);return st.lanes=de,st.return=Z,st}finally{}}}var ja=Dm(!0),Rm=Dm(!1),Rr=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=wo(t),gm(t,null,a),s}return yo(t,o,s,a),wo(t)}function il(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Rn(t,a)}}function Qu(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?d=h=s:h=h.next=s}else d=h=s;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Gu=!1;function ll(){if(Gu){var t=ii;if(t!==null)throw t}}function ol(t,s,a,o){Gu=!1;var d=t.updateQueue;Rr=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,W=D.next;D.next=null,v===null?h=W:v.next=W,v=D;var re=t.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==v&&(S===null?re.firstBaseUpdate=W:S.next=W,re.lastBaseUpdate=D))}if(h!==null){var fe=d.baseState;v=0,re=W=D=null,S=h;do{var X=S.lane&-536870913,te=X!==S.lane;if(te?(Ke&X)===X:(o&X)===X){X!==0&&X===ai&&(Gu=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=t,$e=S;X=s;var gt=a;switch($e.tag){case 1:if(Ae=$e.payload,typeof Ae=="function"){fe=Ae.call(gt,fe,X);break e}fe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=$e.payload,X=typeof Ae=="function"?Ae.call(gt,fe,X):Ae,X==null)break e;fe=y({},fe,X);break e;case 2:Rr=!0}}X=S.callback,X!==null&&(t.flags|=64,te&&(t.flags|=8192),te=d.callbacks,te===null?d.callbacks=[X]:te.push(X))}else te={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(W=re=te,D=fe):re=re.next=te,v|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);re===null&&(D=fe),d.baseState=D,d.firstBaseUpdate=W,d.lastBaseUpdate=re,h===null&&(d.shared.lanes=0),$r|=v,t.lanes=v,t.memoizedState=fe}}function zm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Om(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zm(a[t],s)}var ci=N(null),Mo=N(0);function Lm(t,s){t=vr,R(Mo,t),R(ci,s),vr=t|s.baseLanes}function Wu(){R(Mo,vr),R(ci,ci.current)}function Yu(){vr=Mo.current,I(ci),I(Mo)}var is=N(null),ws=null;function Lr(t){var s=t.alternate;R(Ft,Ft.current&1),R(is,t),ws===null&&(s===null||ci.current!==null||s.memoizedState!==null)&&(ws=t)}function Pu(t){R(Ft,Ft.current),R(is,t),ws===null&&(ws=t)}function Um(t){t.tag===22?(R(Ft,Ft.current),R(is,t),ws===null&&(ws=t)):Ur()}function Ur(){R(Ft,Ft.current),R(is,is.current)}function ls(t){I(is),ws===t&&(ws=null),I(Ft)}var Ft=N(0);function Do(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nf(a)||sf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Qe=null,mt=null,Jt=null,Ro=!1,ui=!1,Ea=!1,zo=0,cl=0,di=null,Sw=0;function qt(){throw Error(i(321))}function Ku(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!rs(t[a],s[a]))return!1;return!0}function Xu(t,s,a,o,d,h){return ur=h,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=t===null||t.memoizedState===null?yp:hd,Ea=!1,h=a(o,d),Ea=!1,ui&&(h=qm(s,a,o,d)),Bm(t),h}function Bm(t){U.H=fl;var s=mt!==null&&mt.next!==null;if(ur=0,Jt=mt=Qe=null,Ro=!1,cl=0,di=null,s)throw Error(i(300));t===null||en||(t=t.dependencies,t!==null&&Eo(t)&&(en=!0))}function qm(t,s,a,o){Qe=t;var d=0;do{if(ui&&(di=null),cl=0,ui=!1,25<=d)throw Error(i(301));if(d+=1,Jt=mt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=wp,h=s(a,o)}while(ui);return h}function jw(){var t=U.H,s=t.useState()[0];return s=typeof s.then=="function"?ul(s):s,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Qe.flags|=1024),s}function Ju(){var t=zo!==0;return zo=0,t}function ed(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function td(t){if(Ro){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ro=!1}ur=0,Jt=mt=Qe=null,ui=!1,cl=zo=0,di=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Qe.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function It(){if(mt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var s=Jt===null?Qe.memoizedState:Jt.next;if(s!==null)Jt=s,mt=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Jt===null?Qe.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var s=cl;return cl+=1,di===null&&(di=[]),t=Tm(di,t,s),s=Qe,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?yp:hd),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===A)return Nn(t)}throw Error(i(438,String(t)))}function nd(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Oo(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=oe;return s.index++,a}function dr(t,s){return typeof s=="function"?s(t):s}function Uo(t){var s=It();return sd(s,mt,t)}function sd(t,s,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,D=null,W=s,re=!1;do{var fe=W.lane&-536870913;if(fe!==W.lane?(Ke&fe)===fe:(ur&fe)===fe){var X=W.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),fe===ai&&(re=!0);else if((ur&X)===X){W=W.next,X===ai&&(re=!0);continue}else fe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(S=D=fe,v=h):D=D.next=fe,Qe.lanes|=X,$r|=X;fe=W.action,Ea&&a(h,fe),h=W.hasEagerState?W.eagerState:a(h,fe)}else X={lane:fe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(S=D=X,v=h):D=D.next=X,Qe.lanes|=fe,$r|=fe;W=W.next}while(W!==null&&W!==s);if(D===null?v=h:D.next=S,!rs(h,t.memoizedState)&&(en=!0,re&&(a=ii,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=D,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function rd(t){var s=It(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,d=a.pending,h=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);rs(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,o]}function $m(t,s,a){var o=Qe,d=It(),h=Je;if(h){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!rs((mt||d).memoizedState,a);if(v&&(d.memoizedState=a,en=!0),d=d.queue,ld(Vm.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,fi(9,{destroy:void 0},Hm.bind(null,o,d,a,s),null),vt===null)throw Error(i(349));h||(ur&127)!==0||Zm(o,s,a)}return a}function Zm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=Oo(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Hm(t,s,a,o){s.value=a,s.getSnapshot=o,Fm(s)&&Im(t)}function Vm(t,s,a){return a(function(){Fm(s)&&Im(t)})}function Fm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!rs(t,a)}catch{return!0}}function Im(t){var s=pa(t,2);s!==null&&Gn(s,t,2)}function ad(t){var s=Bn();if(typeof t=="function"){var a=t;if(t=a(),Ea){Vt(!0);try{a()}finally{Vt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},s}function Qm(t,s,a,o){return t.baseState=a,sd(t,mt,typeof o=="function"?o:dr)}function Ew(t,s,a,o,d){if($o(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};U.T!==null?a(!0):h.isTransition=!1,o(h),a=s.pending,a===null?(h.next=s.pending=h,Gm(s,h)):(h.next=a.next,s.pending=a.next=h)}}function Gm(t,s){var a=s.action,o=s.payload,d=t.state;if(s.isTransition){var h=U.T,v={};U.T=v;try{var S=a(d,o),D=U.S;D!==null&&D(v,S),Wm(t,s,S)}catch(W){id(t,s,W)}finally{h!==null&&v.types!==null&&(h.types=v.types),U.T=h}}else try{h=a(d,o),Wm(t,s,h)}catch(W){id(t,s,W)}}function Wm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ym(t,s,o)},function(o){return id(t,s,o)}):Ym(t,s,a)}function Ym(t,s,a){s.status="fulfilled",s.value=a,Pm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Gm(t,a)))}function id(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Pm(s),s=s.next;while(s!==o)}t.action=null}function Pm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Km(t,s){return s}function Xm(t,s){if(Je){var a=vt.formState;if(a!==null){e:{var o=Qe;if(Je){if(Et){t:{for(var d=Et,h=ys;d.nodeType!==8;){if(!h){d=null;break t}if(d=Ss(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Et=Ss(d.nextSibling),o=d.data==="F!";break e}}Mr(o)}o=!1}o&&(s=a[0])}}return a=Bn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:s},a.queue=o,a=xp.bind(null,Qe,o),o.dispatch=a,o=ad(!1),h=fd.bind(null,Qe,!1,o.queue),o=Bn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,a=Ew.bind(null,Qe,d,h,a),d.dispatch=a,o.memoizedState=t,[s,a,!1]}function Jm(t){var s=It();return ep(s,mt,t)}function ep(t,s,a){if(s=sd(t,s,Km)[0],t=Uo(dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=ul(s)}catch(v){throw v===li?Co:v}else o=s;s=It();var d=s.queue,h=d.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,fi(9,{destroy:void 0},Nw.bind(null,d,a),null)),[o,h,t]}function Nw(t,s){t.action=s}function tp(t){var s=It(),a=mt;if(a!==null)return ep(s,a,t);It(),s=s.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function fi(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Oo(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function np(){return It().memoizedState}function Bo(t,s,a,o){var d=Bn();Qe.flags|=t,d.memoizedState=fi(1|s,{destroy:void 0},a,o===void 0?null:o)}function qo(t,s,a,o){var d=It();o=o===void 0?null:o;var h=d.memoizedState.inst;mt!==null&&o!==null&&Ku(o,mt.memoizedState.deps)?d.memoizedState=fi(s,h,a,o):(Qe.flags|=t,d.memoizedState=fi(1|s,h,a,o))}function sp(t,s){Bo(8390656,8,t,s)}function ld(t,s){qo(2048,8,t,s)}function _w(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=Oo(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function rp(t){var s=It().memoizedState;return _w({ref:s,nextImpl:t}),function(){if((ot&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ap(t,s){return qo(4,2,t,s)}function ip(t,s){return qo(4,4,t,s)}function lp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function op(t,s,a){a=a!=null?a.concat([t]):null,qo(4,4,lp.bind(null,s,t),a)}function od(){}function cp(t,s){var a=It();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Ku(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function up(t,s){var a=It();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Ku(s,o[1]))return o[0];if(o=t(),Ea){Vt(!0);try{t()}finally{Vt(!1)}}return a.memoizedState=[o,s],o}function cd(t,s,a){return a===void 0||(ur&1073741824)!==0&&(Ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=dg(),Qe.lanes|=t,$r|=t,a)}function dp(t,s,a,o){return rs(a,s)?a:ci.current!==null?(t=cd(t,a,o),rs(t,s)||(en=!0),t):(ur&42)===0||(ur&1073741824)!==0&&(Ke&261930)===0?(en=!0,t.memoizedState=a):(t=dg(),Qe.lanes|=t,$r|=t,s)}function fp(t,s,a,o,d){var h=ee.p;ee.p=h!==0&&8>h?h:8;var v=U.T,S={};U.T=S,fd(t,!1,s,a);try{var D=d(),W=U.S;if(W!==null&&W(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var re=ww(D,o);dl(t,s,re,us(t))}else dl(t,s,o,us(t))}catch(fe){dl(t,s,{then:function(){},status:"rejected",reason:fe},us())}finally{ee.p=h,v!==null&&S.types!==null&&(v.types=S.types),U.T=v}}function Cw(){}function ud(t,s,a,o){if(t.tag!==5)throw Error(i(476));var d=hp(t).queue;fp(t,d,s,ge,a===null?Cw:function(){return mp(t),a(o)})}function hp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function mp(t){var s=hp(t);s.next===null&&(s=t.alternate.memoizedState),dl(t,s.next.queue,{},us())}function dd(){return Nn(kl)}function pp(){return It().memoizedState}function gp(){return It().memoizedState}function kw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=us();t=zr(a);var o=Or(s,t,a);o!==null&&(Gn(o,s,a),il(o,s,a)),s={cache:$u()},t.payload=s;return}s=s.return}}function Tw(t,s,a){var o=us();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$o(t)?vp(s,a):(a=Tu(t,s,a,o),a!==null&&(Gn(a,t,o),bp(a,s,o)))}function xp(t,s,a){var o=us();dl(t,s,a,o)}function dl(t,s,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($o(t))vp(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,a);if(d.hasEagerState=!0,d.eagerState=S,rs(S,v))return yo(t,s,d,0),vt===null&&bo(),!1}catch{}finally{}if(a=Tu(t,s,d,o),a!==null)return Gn(a,t,o),bp(a,s,o),!0}return!1}function fd(t,s,a,o){if(o={lane:2,revertLane:Fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$o(t)){if(s)throw Error(i(479))}else s=Tu(t,a,o,2),s!==null&&Gn(s,t,2)}function $o(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function vp(t,s){ui=Ro=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function bp(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Rn(t,a)}}var fl={readContext:Nn,use:Lo,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};fl.useEffectEvent=qt;var yp={readContext:Nn,use:Lo,useCallback:function(t,s){return Bn().memoizedState=[t,s===void 0?null:s],t},useContext:Nn,useEffect:sp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Bo(4194308,4,lp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Bo(4194308,4,t,s)},useInsertionEffect:function(t,s){Bo(4,2,t,s)},useMemo:function(t,s){var a=Bn();s=s===void 0?null:s;var o=t();if(Ea){Vt(!0);try{t()}finally{Vt(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Bn();if(a!==void 0){var d=a(s);if(Ea){Vt(!0);try{a(s)}finally{Vt(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=Tw.bind(null,Qe,t),[o.memoizedState,t]},useRef:function(t){var s=Bn();return t={current:t},s.memoizedState=t},useState:function(t){t=ad(t);var s=t.queue,a=xp.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,s){var a=Bn();return cd(a,t,s)},useTransition:function(){var t=ad(!1);return t=fp.bind(null,Qe,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Qe,d=Bn();if(Je){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),vt===null)throw Error(i(349));(Ke&127)!==0||Zm(o,s,a)}d.memoizedState=a;var h={value:a,getSnapshot:s};return d.queue=h,sp(Vm.bind(null,o,h,t),[t]),o.flags|=2048,fi(9,{destroy:void 0},Hm.bind(null,o,h,a,s),null),a},useId:function(){var t=Bn(),s=vt.identifierPrefix;if(Je){var a=Ps,o=Ys;a=(o&~(1<<32-zt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=zo++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Sw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:dd,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var s=Bn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=fd.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:nd,useCacheRefresh:function(){return Bn().memoizedState=kw.bind(null,Qe)},useEffectEvent:function(t){var s=Bn(),a={impl:t};return s.memoizedState=a,function(){if((ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Nn,use:Lo,useCallback:cp,useContext:Nn,useEffect:ld,useImperativeHandle:op,useInsertionEffect:ap,useLayoutEffect:ip,useMemo:up,useReducer:Uo,useRef:np,useState:function(){return Uo(dr)},useDebugValue:od,useDeferredValue:function(t,s){var a=It();return dp(a,mt.memoizedState,t,s)},useTransition:function(){var t=Uo(dr)[0],s=It().memoizedState;return[typeof t=="boolean"?t:ul(t),s]},useSyncExternalStore:$m,useId:pp,useHostTransitionStatus:dd,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,s){var a=It();return Qm(a,mt,t,s)},useMemoCache:nd,useCacheRefresh:gp};hd.useEffectEvent=rp;var wp={readContext:Nn,use:Lo,useCallback:cp,useContext:Nn,useEffect:ld,useImperativeHandle:op,useInsertionEffect:ap,useLayoutEffect:ip,useMemo:up,useReducer:rd,useRef:np,useState:function(){return rd(dr)},useDebugValue:od,useDeferredValue:function(t,s){var a=It();return mt===null?cd(a,t,s):dp(a,mt.memoizedState,t,s)},useTransition:function(){var t=rd(dr)[0],s=It().memoizedState;return[typeof t=="boolean"?t:ul(t),s]},useSyncExternalStore:$m,useId:pp,useHostTransitionStatus:dd,useFormState:tp,useActionState:tp,useOptimistic:function(t,s){var a=It();return mt!==null?Qm(a,mt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:gp};wp.useEffectEvent=rp;function md(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=us(),d=zr(o);d.payload=s,a!=null&&(d.callback=a),s=Or(t,d,o),s!==null&&(Gn(s,t,o),il(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=us(),d=zr(o);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Or(t,d,o),s!==null&&(Gn(s,t,o),il(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=us(),o=zr(a);o.tag=2,s!=null&&(o.callback=s),s=Or(t,o,a),s!==null&&(Gn(s,t,a),il(s,t,a))}};function Sp(t,s,a,o,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!Xi(a,o)||!Xi(d,h):!0}function jp(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&pd.enqueueReplaceState(s,s.state,null)}function Na(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Ep(t){vo(t)}function Np(t){console.error(t)}function _p(t){vo(t)}function Zo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gd(t,s,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zo(t,s)},a}function kp(t){return t=zr(t),t.tag=3,t}function Tp(t,s,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){Cp(s,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Cp(s,a,o),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Aw(t,s,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&ri(s,a,d,!0),a=is.current,a!==null){switch(a.tag){case 31:case 13:return ws===null?Jo():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===ko?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Zd(t,o,d)),!1;case 22:return a.flags|=65536,o===ko?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Zd(t,o,d)),!1}throw Error(i(435,a.tag))}return Zd(t,o,d),Jo(),!1}if(Je)return s=is.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Ou&&(t=Error(i(422),{cause:o}),tl(xs(t,a)))):(o!==Ou&&(s=Error(i(423),{cause:o}),tl(xs(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=xs(o,a),d=gd(t.stateNode,o,d),Qu(t,d),$t!==4&&($t=2)),!1;var h=Error(i(520),{cause:o});if(h=xs(h,a),yl===null?yl=[h]:yl.push(h),$t!==4&&($t=2),s===null)return!0;o=xs(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=gd(a.stateNode,o,t),Qu(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Zr===null||!Zr.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=kp(d),Tp(d,t,a,o),Qu(a,d),!1}a=a.return}while(a!==null);return!1}var xd=Error(i(461)),en=!1;function _n(t,s,a,o){s.child=t===null?Rm(s,null,a,o):ja(s,t.child,a,o)}function Ap(t,s,a,o,d){a=a.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return ba(s),o=Xu(t,s,a,v,h,d),S=Ju(),t!==null&&!en?(ed(t,s,d),fr(t,s,d)):(Je&&S&&Ru(s),s.flags|=1,_n(t,s,o,d),s.child)}function Mp(t,s,a,o,d){if(t===null){var h=a.type;return typeof h=="function"&&!Au(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,Dp(t,s,h,o,d)):(t=So(a.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!Nd(t,d)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:Xi,a(v,o)&&t.ref===s.ref)return fr(t,s,d)}return s.flags|=1,t=ir(h,o),t.ref=s.ref,t.return=s,s.child=t}function Dp(t,s,a,o,d){if(t!==null){var h=t.memoizedProps;if(Xi(h,o)&&t.ref===s.ref)if(en=!1,s.pendingProps=o=h,Nd(t,d))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,fr(t,s,d)}return vd(t,s,a,o,d)}function Rp(t,s,a,o){var d=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,s.child=null;return zp(t,s,h,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_o(s,h!==null?h.cachePool:null),h!==null?Lm(s,h):Wu(),Um(s);else return o=s.lanes=536870912,zp(t,s,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(_o(s,h.cachePool),Lm(s,h),Ur(),s.memoizedState=null):(t!==null&&_o(s,null),Wu(),Ur());return _n(t,s,d,a),s.child}function hl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function zp(t,s,a,o,d){var h=Hu();return h=h===null?null:{parent:Xt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&_o(s,null),Wu(),Um(s),t!==null&&ri(t,s,o,!0),s.childLanes=d,null}function Ho(t,s){return s=Fo({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Op(t,s,a){return ja(s,t.child,null,a),t=Ho(s,s.pendingProps),t.flags|=2,ls(s),s.memoizedState=null,t}function Mw(t,s,a){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=Ho(s,o),s.lanes=536870912,hl(null,t);if(Pu(s),(t=Et)?(t=Gg(t,ys),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Tr!==null?{id:Ys,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=vm(t),a.return=s,s.child=a,En=s,Et=null)):t=null,t===null)throw Mr(s);return s.lanes=536870912,null}return Ho(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Pu(s),d)if(s.flags&256)s.flags&=-257,s=Op(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(en||ri(t,s,a,!1),d=(a&t.childLanes)!==0,en||d){if(o=vt,o!==null&&(v=kt(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,pa(t,v),Gn(o,t,v),xd;Jo(),s=Op(t,s,a)}else t=h.treeContext,Et=Ss(v.nextSibling),En=s,Je=!0,Ar=null,ys=!1,t!==null&&wm(s,t),s=Ho(s,o),s.flags|=4096;return s}return t=ir(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Vo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function vd(t,s,a,o,d){return ba(s),a=Xu(t,s,a,o,void 0,d),o=Ju(),t!==null&&!en?(ed(t,s,d),fr(t,s,d)):(Je&&o&&Ru(s),s.flags|=1,_n(t,s,a,d),s.child)}function Lp(t,s,a,o,d,h){return ba(s),s.updateQueue=null,a=qm(s,o,a,d),Bm(t),o=Ju(),t!==null&&!en?(ed(t,s,h),fr(t,s,h)):(Je&&o&&Ru(s),s.flags|=1,_n(t,s,a,h),s.child)}function Up(t,s,a,o,d){if(ba(s),s.stateNode===null){var h=ei,v=a.contextType;typeof v=="object"&&v!==null&&(h=Nn(v)),h=new a(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pd,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},Fu(s),v=a.contextType,h.context=typeof v=="object"&&v!==null?Nn(v):ei,h.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(md(s,a,v,o),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&pd.enqueueReplaceState(h,h.state,null),ol(s,o,h,d),ll(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,D=Na(a,S);h.props=D;var W=h.context,re=a.contextType;v=ei,typeof re=="object"&&re!==null&&(v=Nn(re));var fe=a.getDerivedStateFromProps;re=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||W!==v)&&jp(s,h,o,v),Rr=!1;var X=s.memoizedState;h.state=X,ol(s,o,h,d),ll(),W=s.memoizedState,S||X!==W||Rr?(typeof fe=="function"&&(md(s,a,fe,o),W=s.memoizedState),(D=Rr||Sp(s,a,D,o,X,W,v))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=W),h.props=o,h.state=W,h.context=v,o=D):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,Iu(t,s),v=s.memoizedProps,re=Na(a,v),h.props=re,fe=s.pendingProps,X=h.context,W=a.contextType,D=ei,typeof W=="object"&&W!==null&&(D=Nn(W)),S=a.getDerivedStateFromProps,(W=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||X!==D)&&jp(s,h,o,D),Rr=!1,X=s.memoizedState,h.state=X,ol(s,o,h,d),ll();var te=s.memoizedState;v!==fe||X!==te||Rr||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof S=="function"&&(md(s,a,S,o),te=s.memoizedState),(re=Rr||Sp(s,a,re,o,X,te,D)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(W||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,te,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,te,D)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=te),h.props=o,h.state=te,h.context=D,o=re):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,Vo(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=ja(s,t.child,null,d),s.child=ja(s,null,a,d)):_n(t,s,a,d),s.memoizedState=h.state,t=s.child):t=fr(t,s,d),t}function Bp(t,s,a,o){return xa(),s.flags|=256,_n(t,s,a,o),s.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Cm()}}function wd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=cs),t}function qp(t,s,a){var o=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Je){if(d?Lr(s):Ur(),(t=Et)?(t=Gg(t,ys),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Tr!==null?{id:Ys,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=vm(t),a.return=s,s.child=a,En=s,Et=null)):t=null,t===null)throw Mr(s);return sf(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,d?(Ur(),d=s.mode,S=Fo({mode:"hidden",children:S},d),o=ga(o,d,a,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=yd(a),o.childLanes=wd(t,v,a),s.memoizedState=bd,hl(null,o)):(Lr(s),Sd(s,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(h)s.flags&256?(Lr(s),s.flags&=-257,s=jd(t,s,a)):s.memoizedState!==null?(Ur(),s.child=t.child,s.flags|=128,s=null):(Ur(),S=o.fallback,d=s.mode,o=Fo({mode:"visible",children:o.children},d),S=ga(S,d,a,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,ja(s,t.child,null,a),o=s.child,o.memoizedState=yd(a),o.childLanes=wd(t,v,a),s.memoizedState=bd,s=hl(null,o));else if(Lr(s),sf(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var W=v.dgst;v=W,o=Error(i(419)),o.stack="",o.digest=v,tl({value:o,source:null,stack:null}),s=jd(t,s,a)}else if(en||ri(t,s,a,!1),v=(a&t.childLanes)!==0,en||v){if(v=vt,v!==null&&(o=kt(v,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,pa(t,o),Gn(v,t,o),xd;nf(S)||Jo(),s=jd(t,s,a)}else nf(S)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,Et=Ss(S.nextSibling),En=s,Je=!0,Ar=null,ys=!1,t!==null&&wm(s,t),s=Sd(s,o.children),s.flags|=4096);return s}return d?(Ur(),S=o.fallback,d=s.mode,D=t.child,W=D.sibling,o=ir(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,W!==null?S=ir(W,S):(S=ga(S,d,a,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,hl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=yd(a):(d=S.cachePool,d!==null?(D=Xt._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=Cm(),S={baseLanes:S.baseLanes|a,cachePool:d}),o.memoizedState=S,o.childLanes=wd(t,v,a),s.memoizedState=bd,hl(t.child,o)):(Lr(s),a=t.child,t=a.sibling,a=ir(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Sd(t,s){return s=Fo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Fo(t,s){return t=as(22,t,null,s),t.lanes=0,t}function jd(t,s,a){return ja(s,t.child,null,a),t=Sd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function $p(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Bu(t.return,s,a)}function Ed(t,s,a,o,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=d,v.treeForkCount=h)}function Zp(t,s,a){var o=s.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var v=Ft.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,R(Ft,v),_n(t,s,o,a),o=Je?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,a,s);else if(t.tag===19)$p(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Do(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ed(s,!1,d,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Do(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Ed(s,!0,a,null,h,o);break;case"together":Ed(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function fr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$r|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ri(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=ir(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ir(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Nd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function Dw(t,s,a){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Dr(s,Xt,t.memoizedState.cache),xa();break;case 27:case 5:Q(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Dr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pu(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Lr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?qp(t,s,a):(Lr(s),t=fr(t,s,a),t!==null?t.sibling:null);Lr(s);break;case 19:var d=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(ri(t,s,a,!1),o=(a&s.childLanes)!==0),d){if(o)return Zp(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),R(Ft,Ft.current),o)break;return null;case 22:return s.lanes=0,Rp(t,s,a,s.pendingProps);case 24:Dr(s,Xt,t.memoizedState.cache)}return fr(t,s,a)}function Hp(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!Nd(t,a)&&(s.flags&128)===0)return en=!1,Dw(t,s,a);en=(t.flags&131072)!==0}else en=!1,Je&&(s.flags&1048576)!==0&&ym(s,el,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=wa(s.elementType),s.type=t,typeof t=="function")Au(t)?(o=Na(t,o),s.tag=1,s=Up(null,s,t,o,a)):(s.tag=0,s=vd(null,s,t,o,a));else{if(t!=null){var d=t.$$typeof;if(d===q){s.tag=11,s=Ap(null,s,t,o,a);break e}else if(d===Y){s.tag=14,s=Mp(null,s,t,o,a);break e}}throw s=xe(t)||t,Error(i(306,s,""))}}return s;case 0:return vd(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,d=Na(o,s.pendingProps),Up(t,s,o,d,a);case 3:e:{if(be(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;d=h.element,Iu(t,s),ol(s,o,null,a);var v=s.memoizedState;if(o=v.cache,Dr(s,Xt,o),o!==h.cache&&qu(s,[Xt],a,!0),ll(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Bp(t,s,o,a);break e}else if(o!==d){d=xs(Error(i(424)),s),tl(d),s=Bp(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Ss(t.firstChild),En=s,Je=!0,Ar=null,ys=!0,a=Rm(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xa(),o===d){s=fr(t,s,a);break e}_n(t,s,o,a)}s=s.child}return s;case 26:return Vo(t,s),t===null?(a=Jg(s.type,null,s.pendingProps,null))?s.memoizedState=a:Je||(a=s.type,t=s.pendingProps,o=ic(V.current).createElement(a),o[Kt]=s,o[pn]=t,Cn(o,a,t),Tt(o),s.stateNode=o):s.memoizedState=Jg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Q(s),t===null&&Je&&(o=s.stateNode=Pg(s.type,s.pendingProps,V.current),En=s,ys=!0,d=Et,Ir(s.type)?(rf=d,Et=Ss(o.firstChild)):Et=d),_n(t,s,s.pendingProps.children,a),Vo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Je&&((d=o=Et)&&(o=o1(o,s.type,s.pendingProps,ys),o!==null?(s.stateNode=o,En=s,Et=Ss(o.firstChild),ys=!1,d=!0):d=!1),d||Mr(s)),Q(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Jd(d,h)?o=null:v!==null&&Jd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Xu(t,s,jw,null,null,a),kl._currentValue=d),Vo(t,s),_n(t,s,o,a),s.child;case 6:return t===null&&Je&&((t=a=Et)&&(a=c1(a,s.pendingProps,ys),a!==null?(s.stateNode=a,En=s,Et=null,t=!0):t=!1),t||Mr(s)),null;case 13:return qp(t,s,a);case 4:return be(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ja(s,null,o,a):_n(t,s,o,a),s.child;case 11:return Ap(t,s,s.type,s.pendingProps,a);case 7:return _n(t,s,s.pendingProps,a),s.child;case 8:return _n(t,s,s.pendingProps.children,a),s.child;case 12:return _n(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Dr(s,s.type,o.value),_n(t,s,o.children,a),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,ba(s),d=Nn(d),o=o(d),s.flags|=1,_n(t,s,o,a),s.child;case 14:return Mp(t,s,s.type,s.pendingProps,a);case 15:return Dp(t,s,s.type,s.pendingProps,a);case 19:return Zp(t,s,a);case 31:return Mw(t,s,a);case 22:return Rp(t,s,a,s.pendingProps);case 24:return ba(s),o=Nn(Xt),t===null?(d=Hu(),d===null&&(d=vt,h=$u(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),s.memoizedState={parent:o,cache:d},Fu(s),Dr(s,Xt,d)):((t.lanes&a)!==0&&(Iu(t,s),ol(s,null,null,a),ll()),d=t.memoizedState,h=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Dr(s,Xt,o)):(o=h.cache,Dr(s,Xt,o),o!==d.cache&&qu(s,[Xt],a,!0))),_n(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function hr(t){t.flags|=4}function _d(t,s,a,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(pg())t.flags|=8192;else throw Sa=ko,Vu}else t.flags&=-16777217}function Vp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rx(s))if(pg())t.flags|=8192;else throw Sa=ko,Vu}function Io(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?mn():536870912,t.lanes|=s,gi|=s)}function ml(t,s){if(!Je)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Nt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function Rw(t,s,a){var o=s.pendingProps;switch(zu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),cr(Xt),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(si(s)?hr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lu())),Nt(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?(hr(s),h!==null?(Nt(s),Vp(s,h)):(Nt(s),_d(s,d,null,o,a))):h?h!==t.memoizedState?(hr(s),Nt(s),Vp(s,h)):(Nt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&hr(s),Nt(s),_d(s,d,t,o,a)),null;case 27:if(Ne(s),a=V.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}t=z.current,si(s)?Sm(s):(t=Pg(d,o,a),s.stateNode=t,hr(s))}return Nt(s),null;case 5:if(Ne(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(h=z.current,si(s))Sm(s);else{var v=ic(V.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}h[Kt]=s,h[pn]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(Cn(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hr(s)}}return Nt(s),_d(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=V.current,si(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,d=En,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Kt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||qg(t.nodeValue,a)),t||Mr(s,!0)}else t=ic(t).createTextNode(o),t[Kt]=s,s.stateNode=t}return Nt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=si(s),a!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Kt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),t=!1}else a=Lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(ls(s),s):(ls(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Nt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=si(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Kt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),d=!1}else d=Lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ls(s),s):(ls(s),null)}return ls(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Io(s,s.updateQueue),Nt(s),null);case 4:return Ee(),t===null&&Wd(s.stateNode.containerInfo),Nt(s),null;case 10:return cr(s.type),Nt(s),null;case 19:if(I(Ft),o=s.memoizedState,o===null)return Nt(s),null;if(d=(s.flags&128)!==0,h=o.rendering,h===null)if(d)ml(o,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=Do(t),h!==null){for(s.flags|=128,ml(o,!1),t=h.updateQueue,s.updateQueue=t,Io(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)xm(a,t),a=a.sibling;return R(Ft,Ft.current&1|2),Je&&lr(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&J()>Po&&(s.flags|=128,d=!0,ml(o,!1),s.lanes=4194304)}else{if(!d)if(t=Do(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Io(s,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Je)return Nt(s),null}else 2*J()-o.renderingStartTime>Po&&a!==536870912&&(s.flags|=128,d=!0,ml(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=J(),t.sibling=null,a=Ft.current,R(Ft,d?a&1|2:a&1),Je&&lr(s,o.treeForkCount),t):(Nt(s),null);case 22:case 23:return ls(s),Yu(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),a=s.updateQueue,a!==null&&Io(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&I(ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cr(Xt),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function zw(t,s){switch(zu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return cr(Xt),Ee(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(ls(s),s.alternate===null)throw Error(i(340));xa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ls(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return I(Ft),null;case 4:return Ee(),null;case 10:return cr(s.type),null;case 22:case 23:return ls(s),Yu(),t!==null&&I(ya),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return cr(Xt),null;case 25:return null;default:return null}}function Fp(t,s){switch(zu(s),s.tag){case 3:cr(Xt),Ee();break;case 26:case 27:case 5:Ne(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&ls(s);break;case 13:ls(s);break;case 19:I(Ft);break;case 10:cr(s.type);break;case 22:case 23:ls(s),Yu(),t!==null&&I(ya);break;case 24:cr(Xt)}}function pl(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&t)===t){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==d)}}catch(S){ft(s,s.return,S)}}function Br(t,s,a){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var D=a,W=S;try{W()}catch(re){ft(d,D,re)}}}o=o.next}while(o!==h)}}catch(re){ft(s,s.return,re)}}function Ip(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Om(s,a)}catch(o){ft(t,t.return,o)}}}function Qp(t,s,a){a.props=Na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ft(t,s,o)}}function gl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(d){ft(t,s,d)}}function Ks(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){ft(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ft(t,s,d)}else a.current=null}function Gp(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){ft(t,t.return,d)}}function Cd(t,s,a){try{var o=t.stateNode;n1(o,t.type,a,s),o[pn]=s}catch(d){ft(t,t.return,d)}}function Wp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Os));else if(o!==4&&(o===27&&Ir(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Td(t,s,a),t=t.sibling;t!==null;)Td(t,s,a),t=t.sibling}function Qo(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Qo(t,s,a),t=t.sibling;t!==null;)Qo(t,s,a),t=t.sibling}function Yp(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Cn(s,o,a),s[Kt]=t,s[pn]=a}catch(h){ft(t,t.return,h)}}var mr=!1,tn=!1,Ad=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Ow(t,s){if(t=t.containerInfo,Kd=hc,t=om(t),ju(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,S=-1,D=-1,W=0,re=0,fe=t,X=null;t:for(;;){for(var te;fe!==a||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||o!==0&&fe.nodeType!==3||(D=v+o),fe.nodeType===3&&(v+=fe.nodeValue.length),(te=fe.firstChild)!==null;)X=fe,fe=te;for(;;){if(fe===t)break t;if(X===a&&++W===d&&(S=v),X===h&&++re===o&&(D=v),(te=fe.nextSibling)!==null)break;fe=X,X=fe.parentNode}fe=te}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},hc=!1,bn=s;bn!==null;)if(s=bn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,bn=t;else for(;bn!==null;){switch(s=bn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,d=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Ae=Na(a.type,d);t=o.getSnapshotBeforeUpdate(Ae,h),o.__reactInternalSnapshotBeforeUpdate=t}catch($e){ft(a,a.return,$e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)tf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,bn=t;break}bn=s.return}}function Kp(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),o&4&&pl(5,a);break;case 1:if(gr(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){ft(a,a.return,v)}else{var d=Na(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ft(a,a.return,v)}}o&64&&Ip(a),o&512&&gl(a,a.return);break;case 3:if(gr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Om(t,s)}catch(v){ft(a,a.return,v)}}break;case 27:s===null&&o&4&&Yp(a);case 26:case 5:gr(t,a),s===null&&o&4&&Gp(a),o&512&&gl(a,a.return);break;case 12:gr(t,a);break;case 31:gr(t,a),o&4&&eg(t,a);break;case 13:gr(t,a),o&4&&tg(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Fw.bind(null,a),u1(t,a))));break;case 22:if(o=a.memoizedState!==null||mr,!o){s=s!==null&&s.memoizedState!==null||tn,d=mr;var h=tn;mr=o,(tn=s)&&!h?xr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),mr=d,tn=h}break;case 30:break;default:gr(t,a)}}function Xp(t){var s=t.alternate;s!==null&&(t.alternate=null,Xp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ha(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Vn=!1;function pr(t,s,a){for(a=a.child;a!==null;)Jp(t,s,a),a=a.sibling}function Jp(t,s,a){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(jt,a)}catch{}switch(a.tag){case 26:tn||Ks(a,s),pr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||Ks(a,s);var o=At,d=Vn;Ir(a.type)&&(At=a.stateNode,Vn=!1),pr(t,s,a),Nl(a.stateNode),At=o,Vn=d;break;case 5:tn||Ks(a,s);case 6:if(o=At,d=Vn,At=null,pr(t,s,a),At=o,Vn=d,At!==null)if(Vn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(h){ft(a,s,h)}else try{At.removeChild(a.stateNode)}catch(h){ft(a,s,h)}break;case 18:At!==null&&(Vn?(t=At,Ig(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ei(t)):Ig(At,a.stateNode));break;case 4:o=At,d=Vn,At=a.stateNode.containerInfo,Vn=!0,pr(t,s,a),At=o,Vn=d;break;case 0:case 11:case 14:case 15:Br(2,a,s),tn||Br(4,a,s),pr(t,s,a);break;case 1:tn||(Ks(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Qp(a,s,o)),pr(t,s,a);break;case 21:pr(t,s,a);break;case 22:tn=(o=tn)||a.memoizedState!==null,pr(t,s,a),tn=o;break;default:pr(t,s,a)}}function eg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ei(t)}catch(a){ft(s,s.return,a)}}}function tg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ei(t)}catch(a){ft(s,s.return,a)}}function Lw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pp),s;default:throw Error(i(435,t.tag))}}function Go(t,s){var a=Lw(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var d=Iw.bind(null,t,o);o.then(d,d)}})}function Fn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ir(S.type)){At=S.stateNode,Vn=!1;break e}break;case 5:At=S.stateNode,Vn=!1;break e;case 3:case 4:At=S.stateNode.containerInfo,Vn=!0;break e}S=S.return}if(At===null)throw Error(i(160));Jp(h,v,d),At=null,Vn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ng(s,t),s=s.sibling}var qs=null;function ng(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(s,t),In(t),o&4&&(Br(3,t,t.return),pl(3,t),Br(5,t,t.return));break;case 1:Fn(s,t),In(t),o&512&&(tn||a===null||Ks(a,a.return)),o&64&&mr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=qs;if(Fn(s,t),In(t),o&512&&(tn||a===null||Ks(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[fs]||h[Kt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),Cn(h,o,a),h[Kt]=t,Tt(h),o=h;break e;case"link":var v=nx("link","href",d).get(o+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(o),Cn(h,o,a),d.head.appendChild(h);break;case"meta":if(v=nx("meta","content",d).get(o+(a.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}h=d.createElement(o),Cn(h,o,a),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[Kt]=t,Tt(h),o=h}t.stateNode=o}else sx(d,t.type,t.stateNode);else t.stateNode=tx(d,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?sx(d,t.type,t.stateNode):tx(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Fn(s,t),In(t),o&512&&(tn||a===null||Ks(a,a.return)),a!==null&&o&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Fn(s,t),In(t),o&512&&(tn||a===null||Ks(a,a.return)),t.flags&32){d=t.stateNode;try{_r(d,"")}catch(Ae){ft(t,t.return,Ae)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Cd(t,d,a!==null?a.memoizedProps:d)),o&1024&&(Ad=!0);break;case 6:if(Fn(s,t),In(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Ae){ft(t,t.return,Ae)}}break;case 3:if(cc=null,d=qs,qs=lc(s.containerInfo),Fn(s,t),qs=d,In(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ei(s.containerInfo)}catch(Ae){ft(t,t.return,Ae)}Ad&&(Ad=!1,sg(t));break;case 4:o=qs,qs=lc(t.stateNode.containerInfo),Fn(s,t),In(t),qs=o;break;case 12:Fn(s,t),In(t);break;case 31:Fn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Go(t,o)));break;case 13:Fn(s,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yo=J()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Go(t,o)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,W=mr,re=tn;if(mr=W||d,tn=re||D,Fn(s,t),tn=re,mr=W,In(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||D||mr||tn||_a(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(h=D.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=D.stateNode;var fe=D.memoizedProps.style,X=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Ae){ft(D,D.return,Ae)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(Ae){ft(D,D.return,Ae)}}}else if(s.tag===18){if(a===null){D=s;try{var te=D.stateNode;d?Qg(te,!0):Qg(D.stateNode,!1)}catch(Ae){ft(D,D.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Go(t,a))));break;case 19:Fn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Go(t,o)));break;case 30:break;case 21:break;default:Fn(s,t),In(t)}}function In(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(Wp(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,h=kd(t);Qo(t,h,d);break;case 5:var v=a.stateNode;a.flags&32&&(_r(v,""),a.flags&=-33);var S=kd(t);Qo(t,S,v);break;case 3:case 4:var D=a.stateNode.containerInfo,W=kd(t);Td(t,W,D);break;default:throw Error(i(161))}}catch(re){ft(t,t.return,re)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function sg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;sg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function gr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Kp(t,s.alternate,s),s=s.sibling}function _a(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Br(4,s,s.return),_a(s);break;case 1:Ks(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Qp(s,s.return,a),_a(s);break;case 27:Nl(s.stateNode);case 26:case 5:Ks(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}t=t.sibling}}function xr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:xr(d,h,a),pl(4,h);break;case 1:if(xr(d,h,a),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){ft(o,o.return,W)}if(o=h,d=o.updateQueue,d!==null){var S=o.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)zm(D[d],S)}catch(W){ft(o,o.return,W)}}a&&v&64&&Ip(h),gl(h,h.return);break;case 27:Yp(h);case 26:case 5:xr(d,h,a),a&&o===null&&v&4&&Gp(h),gl(h,h.return);break;case 12:xr(d,h,a);break;case 31:xr(d,h,a),a&&v&4&&eg(d,h);break;case 13:xr(d,h,a),a&&v&4&&tg(d,h);break;case 22:h.memoizedState===null&&xr(d,h,a),gl(h,h.return);break;case 30:break;default:xr(d,h,a)}s=s.sibling}}function Md(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Dd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&nl(t))}function $s(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rg(t,s,a,o),s=s.sibling}function rg(t,s,a,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:$s(t,s,a,o),d&2048&&pl(9,s);break;case 1:$s(t,s,a,o);break;case 3:$s(t,s,a,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&nl(t)));break;case 12:if(d&2048){$s(t,s,a,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ft(s,s.return,D)}}else $s(t,s,a,o);break;case 31:$s(t,s,a,o);break;case 13:$s(t,s,a,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?$s(t,s,a,o):xl(t,s):h._visibility&2?$s(t,s,a,o):(h._visibility|=2,hi(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Md(v,s);break;case 24:$s(t,s,a,o),d&2048&&Dd(s.alternate,s);break;default:$s(t,s,a,o)}}function hi(t,s,a,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=a,D=o,W=v.flags;switch(v.tag){case 0:case 11:case 15:hi(h,v,S,D,d),pl(8,v);break;case 23:break;case 22:var re=v.stateNode;v.memoizedState!==null?re._visibility&2?hi(h,v,S,D,d):xl(h,v):(re._visibility|=2,hi(h,v,S,D,d)),d&&W&2048&&Md(v.alternate,v);break;case 24:hi(h,v,S,D,d),d&&W&2048&&Dd(v.alternate,v);break;default:hi(h,v,S,D,d)}s=s.sibling}}function xl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,d=o.flags;switch(o.tag){case 22:xl(a,o),d&2048&&Md(o.alternate,o);break;case 24:xl(a,o),d&2048&&Dd(o.alternate,o);break;default:xl(a,o)}s=s.sibling}}var vl=8192;function mi(t,s,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)ag(t,s,a),t=t.sibling}function ag(t,s,a){switch(t.tag){case 26:mi(t,s,a),t.flags&vl&&t.memoizedState!==null&&S1(a,qs,t.memoizedState,t.memoizedProps);break;case 5:mi(t,s,a);break;case 3:case 4:var o=qs;qs=lc(t.stateNode.containerInfo),mi(t,s,a),qs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=vl,vl=16777216,mi(t,s,a),vl=o):mi(t,s,a));break;default:mi(t,s,a)}}function ig(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function bl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];bn=o,og(o,t)}ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lg(t),t=t.sibling}function lg(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Wo(t)):bl(t);break;default:bl(t)}}function Wo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];bn=o,og(o,t)}ig(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Br(8,s,s.return),Wo(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wo(s));break;default:Wo(s)}t=t.sibling}}function og(t,s){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:Br(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,bn=o;else e:for(a=t;bn!==null;){o=bn;var d=o.sibling,h=o.return;if(Xp(o),o===a){bn=null;break e}if(d!==null){d.return=h,bn=d;break e}bn=h}}}var Uw={getCacheForType:function(t){var s=Nn(Xt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Nn(Xt).controller.signal}},Bw=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ye=null,Ke=0,dt=0,os=null,qr=!1,pi=!1,Rd=!1,vr=0,$t=0,$r=0,Ca=0,zd=0,cs=0,gi=0,yl=null,Qn=null,Od=!1,Yo=0,cg=0,Po=1/0,Ko=null,Zr=null,cn=0,Hr=null,xi=null,br=0,Ld=0,Ud=null,ug=null,wl=0,Bd=null;function us(){return(ot&2)!==0&&Ke!==0?Ke&-Ke:U.T!==null?Fd():ln()}function dg(){if(cs===0)if((Ke&536870912)===0||Je){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),cs=t}else cs=536870912;return t=is.current,t!==null&&(t.flags|=32),cs}function Gn(t,s,a){(t===vt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(vi(t,0),Vr(t,Ke,cs,!1)),Sn(t,a),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(Ca|=a),$t===4&&Vr(t,Ke,cs,!1)),Xs(t))}function fg(t,s,a){if((ot&6)!==0)throw Error(i(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||An(t,s),d=o?Zw(t,s):$d(t,s,!0),h=o;do{if(d===0){pi&&!o&&Vr(t,s,0,!1);break}else{if(a=t.current.alternate,h&&!qw(a)){d=$d(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=yl;var D=S.current.memoizedState.isDehydrated;if(D&&(vi(S,v).flags|=256),v=$d(S,v,!1),v!==2){if(Rd&&!D){S.errorRecoveryDisabledLanes|=h,Ca|=h,d=4;break e}h=Qn,Qn=d,h!==null&&(Qn===null?Qn=h:Qn.push.apply(Qn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){vi(t,0),Vr(t,s,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Vr(o,s,cs,!qr);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Yo+300-J(),10<d)){if(Vr(o,s,cs,!qr),Ot(o,0,!0)!==0)break e;br=s,o.timeoutHandle=Vg(hg.bind(null,o,a,Qn,Ko,Od,s,cs,Ca,gi,qr,h,"Throttled",-0,0),d);break e}hg(o,a,Qn,Ko,Od,s,cs,Ca,gi,qr,h,null,-0,0)}}break}while(!0);Xs(t)}function hg(t,s,a,o,d,h,v,S,D,W,re,fe,X,te){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Os},ag(s,h,fe);var Ae=(h&62914560)===h?Yo-J():(h&4194048)===h?cg-J():0;if(Ae=j1(fe,Ae),Ae!==null){br=h,t.cancelPendingCommit=Ae(wg.bind(null,t,s,h,a,o,d,v,S,D,re,fe,null,X,te)),Vr(t,h,v,!W);return}}wg(t,s,h,a,o,d,v,S,D)}function qw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],h=d.getSnapshot;d=d.value;try{if(!rs(h(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vr(t,s,a,o){s&=~zd,s&=~Ca,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var h=31-zt(d),v=1<<h;o[h]=-1,d&=~v}a!==0&&ts(t,a,s)}function Xo(){return(ot&6)===0?(Sl(0),!1):!0}function qd(){if(Ye!==null){if(dt===0)var t=Ye.return;else t=Ye,or=va=null,td(t),oi=null,rl=0,t=Ye;for(;t!==null;)Fp(t.alternate,t),t=t.return;Ye=null}}function vi(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,a1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),br=0,qd(),vt=t,Ye=a=ir(t.current,null),Ke=s,dt=0,os=null,qr=!1,pi=An(t,s),Rd=!1,gi=cs=zd=Ca=$r=$t=0,Qn=yl=null,Od=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-zt(o),h=1<<d;s|=t[d],o&=~h}return vr=s,bo(),a}function mg(t,s){Qe=null,U.H=fl,s===li||s===Co?(s=Am(),dt=3):s===Vu?(s=Am(),dt=4):dt=s===xd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,os=s,Ye===null&&($t=1,Zo(t,xs(s,t.current)))}function pg(){var t=is.current;return t===null?!0:(Ke&4194048)===Ke?ws===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?t===ws:!1}function gg(){var t=U.H;return U.H=fl,t===null?fl:t}function xg(){var t=U.A;return U.A=Uw,t}function Jo(){$t=4,qr||(Ke&4194048)!==Ke&&is.current!==null||(pi=!0),($r&134217727)===0&&(Ca&134217727)===0||vt===null||Vr(vt,Ke,cs,!1)}function $d(t,s,a){var o=ot;ot|=2;var d=gg(),h=xg();(vt!==t||Ke!==s)&&(Ko=null,vi(t,s)),s=!1;var v=$t;e:do try{if(dt!==0&&Ye!==null){var S=Ye,D=os;switch(dt){case 8:qd(),v=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(s=!0);var W=dt;if(dt=0,os=null,bi(t,S,D,W),a&&pi){v=0;break e}break;default:W=dt,dt=0,os=null,bi(t,S,D,W)}}$w(),v=$t;break}catch(re){mg(t,re)}while(!0);return s&&t.shellSuspendCounter++,or=va=null,ot=o,U.H=d,U.A=h,Ye===null&&(vt=null,Ke=0,bo()),v}function $w(){for(;Ye!==null;)vg(Ye)}function Zw(t,s){var a=ot;ot|=2;var o=gg(),d=xg();vt!==t||Ke!==s?(Ko=null,Po=J()+500,vi(t,s)):pi=An(t,s);e:do try{if(dt!==0&&Ye!==null){s=Ye;var h=os;t:switch(dt){case 1:dt=0,os=null,bi(t,s,h,1);break;case 2:case 9:if(km(h)){dt=0,os=null,bg(s);break}s=function(){dt!==2&&dt!==9||vt!==t||(dt=7),Xs(t)},h.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:km(h)?(dt=0,os=null,bg(s)):(dt=0,os=null,bi(t,s,h,7));break;case 5:var v=null;switch(Ye.tag){case 26:v=Ye.memoizedState;case 5:case 27:var S=Ye;if(v?rx(v):S.stateNode.complete){dt=0,os=null;var D=S.sibling;if(D!==null)Ye=D;else{var W=S.return;W!==null?(Ye=W,ec(W)):Ye=null}break t}}dt=0,os=null,bi(t,s,h,5);break;case 6:dt=0,os=null,bi(t,s,h,6);break;case 8:qd(),$t=6;break e;default:throw Error(i(462))}}Hw();break}catch(re){mg(t,re)}while(!0);return or=va=null,U.H=o,U.A=d,ot=a,Ye!==null?0:(vt=null,Ke=0,bo(),$t)}function Hw(){for(;Ye!==null&&!C();)vg(Ye)}function vg(t){var s=Hp(t.alternate,t,vr);t.memoizedProps=t.pendingProps,s===null?ec(t):Ye=s}function bg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Lp(a,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=Lp(a,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:td(s);default:Fp(a,s),s=Ye=xm(s,vr),s=Hp(a,s,vr)}t.memoizedProps=t.pendingProps,s===null?ec(t):Ye=s}function bi(t,s,a,o){or=va=null,td(s),oi=null,rl=0;var d=s.return;try{if(Aw(t,d,s,a,Ke)){$t=1,Zo(t,xs(a,t.current)),Ye=null;return}}catch(h){if(d!==null)throw Ye=d,h;$t=1,Zo(t,xs(a,t.current)),Ye=null;return}s.flags&32768?(Je||o===1?t=!0:pi||(Ke&536870912)!==0?t=!1:(qr=t=!0,(o===2||o===9||o===3||o===6)&&(o=is.current,o!==null&&o.tag===13&&(o.flags|=16384))),yg(s,t)):ec(s)}function ec(t){var s=t;do{if((s.flags&32768)!==0){yg(s,qr);return}t=s.return;var a=Rw(s.alternate,s,vr);if(a!==null){Ye=a;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=t}while(s!==null);$t===0&&($t=5)}function yg(t,s){do{var a=zw(t.alternate,t);if(a!==null){a.flags&=32767,Ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=a}while(t!==null);$t=6,Ye=null}function wg(t,s,a,o,d,h,v,S,D){t.cancelPendingCommit=null;do tc();while(cn!==0);if((ot&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=ku,Lt(t,a,h,v,S,D),t===vt&&(Ye=vt=null,Ke=0),xi=s,Hr=t,br=a,Ld=h,Ud=d,ug=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Qw(Ve,function(){return _g(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,d=ee.p,ee.p=2,v=ot,ot|=4;try{Ow(t,s,a)}finally{ot=v,ee.p=d,U.T=o}}cn=1,Sg(),jg(),Eg()}}function Sg(){if(cn===1){cn=0;var t=Hr,s=xi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=ee.p;ee.p=2;var d=ot;ot|=4;try{ng(s,t);var h=Xd,v=om(t.containerInfo),S=h.focusedElem,D=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&lm(S.ownerDocument.documentElement,S)){if(D!==null&&ju(S)){var W=D.start,re=D.end;if(re===void 0&&(re=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(re,S.value.length);else{var fe=S.ownerDocument||document,X=fe&&fe.defaultView||window;if(X.getSelection){var te=X.getSelection(),Ae=S.textContent.length,$e=Math.min(D.start,Ae),gt=D.end===void 0?$e:Math.min(D.end,Ae);!te.extend&&$e>gt&&(v=gt,gt=$e,$e=v);var Z=im(S,$e),L=im(S,gt);if(Z&&L&&(te.rangeCount!==1||te.anchorNode!==Z.node||te.anchorOffset!==Z.offset||te.focusNode!==L.node||te.focusOffset!==L.offset)){var G=fe.createRange();G.setStart(Z.node,Z.offset),te.removeAllRanges(),$e>gt?(te.addRange(G),te.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),te.addRange(G))}}}}for(fe=[],te=S;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var de=fe[S];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}hc=!!Kd,Xd=Kd=null}finally{ot=d,ee.p=o,U.T=a}}t.current=s,cn=2}}function jg(){if(cn===2){cn=0;var t=Hr,s=xi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=ee.p;ee.p=2;var d=ot;ot|=4;try{Kp(t,s.alternate,s)}finally{ot=d,ee.p=o,U.T=a}}cn=3}}function Eg(){if(cn===4||cn===3){cn=0,se();var t=Hr,s=xi,a=br,o=ug;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,xi=Hr=null,Ng(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zr=null),As(a),s=s.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=U.T,d=ee.p,ee.p=2,U.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{U.T=s,ee.p=d}}(br&3)!==0&&tc(),Xs(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Bd?wl++:(wl=0,Bd=t):wl=0,Sl(0)}}function Ng(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,nl(s)))}function tc(){return Sg(),jg(),Eg(),_g()}function _g(){if(cn!==5)return!1;var t=Hr,s=Ld;Ld=0;var a=As(br),o=U.T,d=ee.p;try{ee.p=32>a?32:a,U.T=null,a=Ud,Ud=null;var h=Hr,v=br;if(cn=0,xi=Hr=null,br=0,(ot&6)!==0)throw Error(i(331));var S=ot;if(ot|=4,lg(h.current),rg(h,h.current,v,a),ot=S,Sl(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(jt,h)}catch{}return!0}finally{ee.p=d,U.T=o,Ng(t,s)}}function Cg(t,s,a){s=xs(a,s),s=gd(t.stateNode,s,2),t=Or(t,s,2),t!==null&&(Sn(t,2),Xs(t))}function ft(t,s,a){if(t.tag===3)Cg(t,t,a);else for(;s!==null;){if(s.tag===3){Cg(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zr===null||!Zr.has(o))){t=xs(a,t),a=kp(2),o=Or(s,a,2),o!==null&&(Tp(a,o,s,t),Sn(o,2),Xs(o));break}}s=s.return}}function Zd(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Bw;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(a)||(Rd=!0,d.add(a),t=Vw.bind(null,t,s,a),s.then(t,t))}function Vw(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Ke&a)===a&&($t===4||$t===3&&(Ke&62914560)===Ke&&300>J()-Yo?(ot&2)===0&&vi(t,0):zd|=a,gi===Ke&&(gi=0)),Xs(t)}function kg(t,s){s===0&&(s=mn()),t=pa(t,s),t!==null&&(Sn(t,s),Xs(t))}function Fw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),kg(t,a)}function Iw(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),kg(t,a)}function Qw(t,s){return M(t,s)}var nc=null,yi=null,Hd=!1,sc=!1,Vd=!1,Fr=0;function Xs(t){t!==yi&&t.next===null&&(yi===null?nc=yi=t:yi=yi.next=t),sc=!0,Hd||(Hd=!0,Ww())}function Sl(t,s){if(!Vd&&sc){Vd=!0;do for(var a=!1,o=nc;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-zt(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Dg(o,h))}else h=Ke,h=Ot(o,o===vt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||An(o,h)||(a=!0,Dg(o,h));o=o.next}while(a);Vd=!1}}function Gw(){Tg()}function Tg(){sc=Hd=!1;var t=0;Fr!==0&&r1()&&(t=Fr);for(var s=J(),a=null,o=nc;o!==null;){var d=o.next,h=Ag(o,s);h===0?(o.next=null,a===null?nc=d:a.next=d,d===null&&(yi=a)):(a=o,(t!==0||(h&3)!==0)&&(sc=!0)),o=d}cn!==0&&cn!==5||Sl(t),Fr!==0&&(Fr=0)}function Ag(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-zt(h),S=1<<v,D=d[v];D===-1?((S&a)===0||(S&o)!==0)&&(d[v]=hn(S,s)):D<=s&&(t.expiredLanes|=S),h&=~S}if(s=vt,a=Ke,a=Ot(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&k(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||An(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&k(o),As(a)){case 2:case 8:a=Le;break;case 32:a=Ve;break;case 268435456:a=we;break;default:a=Ve}return o=Mg.bind(null,t),a=M(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&k(o),t.callbackPriority=2,t.callbackNode=null,2}function Mg(t,s){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tc()&&t.callbackNode!==a)return null;var o=Ke;return o=Ot(t,t===vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(fg(t,o,s),Ag(t,J()),t.callbackNode!=null&&t.callbackNode===a?Mg.bind(null,t):null)}function Dg(t,s){if(tc())return null;fg(t,s,!0)}function Ww(){i1(function(){(ot&6)!==0?M(je,Gw):Tg()})}function Fd(){if(Fr===0){var t=ai;t===0&&(t=Ct,Ct<<=1,(Ct&261888)===0&&(Ct=256)),Fr=t}return Fr}function Rg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wa(""+t)}function zg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Yw(t,s,a,o,d){if(s==="submit"&&a&&a.stateNode===d){var h=Rg((d[pn]||null).action),v=o.submitter;v&&(s=(s=v[pn]||null)?Rg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new ps("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fr!==0){var D=v?zg(d,v):new FormData(d);ud(a,{pending:!0,data:D,method:d.method,action:h},null,D)}}else typeof h=="function"&&(S.preventDefault(),D=v?zg(d,v):new FormData(d),ud(a,{pending:!0,data:D,method:d.method,action:h},h,D))},currentTarget:d}]})}}for(var Id=0;Id<Cu.length;Id++){var Qd=Cu[Id],Pw=Qd.toLowerCase(),Kw=Qd[0].toUpperCase()+Qd.slice(1);Bs(Pw,"on"+Kw)}Bs(dm,"onAnimationEnd"),Bs(fm,"onAnimationIteration"),Bs(hm,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(hw,"onTransitionRun"),Bs(mw,"onTransitionStart"),Bs(pw,"onTransitionCancel"),Bs(mm,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Og(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],d=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],D=S.instance,W=S.currentTarget;if(S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=W;try{h(d)}catch(re){vo(re)}d.currentTarget=null,h=D}else for(v=0;v<o.length;v++){if(S=o[v],D=S.instance,W=S.currentTarget,S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=W;try{h(d)}catch(re){vo(re)}d.currentTarget=null,h=D}}}}function Pe(t,s){var a=s[Ms];a===void 0&&(a=s[Ms]=new Set);var o=t+"__bubble";a.has(o)||(Lg(s,t,2,!1),a.add(o))}function Gd(t,s,a){var o=0;s&&(o|=4),Lg(a,t,o,s)}var rc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[rc]){t[rc]=!0,Va.forEach(function(a){a!=="selectionchange"&&(Xw.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[rc]||(s[rc]=!0,Gd("selectionchange",!1,s))}}function Lg(t,s,a,o){switch(dx(s)){case 2:var d=_1;break;case 8:d=C1;break;default:d=uf}a=d.bind(null,s,a,t),d=void 0,!Gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Yd(t,s,a,o,d){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Ds(S),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=h=v;continue e}S=S.parentNode}}o=o.return}ho(function(){var W=h,re=Ii(a),fe=[];e:{var X=pm.get(t);if(X!==void 0){var te=ps,Ae=t;switch(t){case"keypress":if(Bt(a)===0)break e;case"keydown":case"keyup":te=Iy;break;case"focusin":Ae="focus",te=po;break;case"focusout":Ae="blur",te=po;break;case"beforeblur":case"afterblur":te=po;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Wy;break;case dm:case fm:case hm:te=ar;break;case mm:te=Py;break;case"scroll":case"scrollend":te=Vh;break;case"wheel":te=Xy;break;case"copy":case"cut":case"paste":te=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Qh;break;case"toggle":case"beforetoggle":te=ew}var $e=(s&4)!==0,gt=!$e&&(t==="scroll"||t==="scrollend"),Z=$e?X!==null?X+"Capture":null:X;$e=[];for(var L=W,G;L!==null;){var de=L;if(G=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||G===null||Z===null||(de=ca(L,Z),de!=null&&$e.push(El(L,de,G))),gt)break;L=L.return}0<$e.length&&(X=new te(X,Ae,null,a,re),fe.push({event:X,listeners:$e}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",X&&a!==Fi&&(Ae=a.relatedTarget||a.fromElement)&&(Ds(Ae)||Ae[nr]))break e;if((te||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,te?(Ae=a.relatedTarget||a.toElement,te=W,Ae=Ae?Ds(Ae):null,Ae!==null&&(gt=u(Ae),$e=Ae.tag,Ae!==gt||$e!==5&&$e!==27&&$e!==6)&&(Ae=null)):(te=null,Ae=W),te!==Ae)){if($e=mo,de="onMouseLeave",Z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&($e=Qh,de="onPointerLeave",Z="onPointerEnter",L="pointer"),gt=te==null?X:$n(te),G=Ae==null?X:$n(Ae),X=new $e(de,L+"leave",te,a,re),X.target=gt,X.relatedTarget=G,de=null,Ds(re)===W&&($e=new $e(Z,L+"enter",Ae,a,re),$e.target=G,$e.relatedTarget=gt,de=$e),gt=de,te&&Ae)t:{for($e=Jw,Z=te,L=Ae,G=0,de=Z;de;de=$e(de))G++;de=0;for(var Ue=L;Ue;Ue=$e(Ue))de++;for(;0<G-de;)Z=$e(Z),G--;for(;0<de-G;)L=$e(L),de--;for(;G--;){if(Z===L||L!==null&&Z===L.alternate){$e=Z;break t}Z=$e(Z),L=$e(L)}$e=null}else $e=null;te!==null&&Ug(fe,X,te,$e,!1),Ae!==null&&gt!==null&&Ug(fe,gt,Ae,$e,!0)}}e:{if(X=W?$n(W):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var st=em;else if(Xh(X))if(tm)st=uw;else{st=ow;var Re=lw}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Vi(W.elementType)&&(st=em):st=cw;if(st&&(st=st(t,W))){Jh(fe,st,a,re);break e}Re&&Re(t,X,W),t==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Hi(X,"number",X.value)}switch(Re=W?$n(W):window,t){case"focusin":(Xh(Re)||Re.contentEditable==="true")&&(Ka=Re,Eu=W,Ji=null);break;case"focusout":Ji=Eu=Ka=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,cm(fe,a,re);break;case"selectionchange":if(fw)break;case"keydown":case"keyup":cm(fe,a,re)}var We;if(yu)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Pa?Ph(t,a)&&(Xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Xe="onCompositionStart");Xe&&(Gh&&a.locale!=="ko"&&(Pa||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Pa&&(We=nt()):(le=re,De="value"in le?le.value:le.textContent,Pa=!0)),Re=ac(W,Xe),0<Re.length&&(Xe=new gn(Xe,t,null,a,re),fe.push({event:Xe,listeners:Re}),We?Xe.data=We:(We=Kh(a),We!==null&&(Xe.data=We)))),(We=nw?sw(t,a):rw(t,a))&&(Xe=ac(W,"onBeforeInput"),0<Xe.length&&(Re=new gn("onBeforeInput","beforeinput",null,a,re),fe.push({event:Re,listeners:Xe}),Re.data=We)),Yw(fe,t,W,a,re)}Og(fe,s)})}function El(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ac(t,s){for(var a=s+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ca(t,a),d!=null&&o.unshift(El(t,d,h)),d=ca(t,s),d!=null&&o.push(El(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Jw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ug(t,s,a,o,d){for(var h=s._reactName,v=[];a!==null&&a!==o;){var S=a,D=S.alternate,W=S.stateNode;if(S=S.tag,D!==null&&D===o)break;S!==5&&S!==26&&S!==27||W===null||(D=W,d?(W=ca(a,h),W!=null&&v.unshift(El(a,W,D))):d||(W=ca(a,h),W!=null&&v.push(El(a,W,D)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function Bg(t){return(typeof t=="string"?t:""+t).replace(e1,`
`).replace(t1,"")}function qg(t,s){return s=Bg(s),Bg(t)===s}function pt(t,s,a,o,d,h){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||_r(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&_r(t,""+o);break;case"className":rr(t,"class",o);break;case"tabIndex":rr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,a,o);break;case"style":Ga(t,o,h);break;case"data":if(s!=="object"){rr(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&pt(t,s,"name",d.name,d,null),pt(t,s,"formEncType",d.formEncType,d,null),pt(t,s,"formMethod",d.formMethod,d,null),pt(t,s,"formTarget",d.formTarget,d,null)):(pt(t,s,"encType",d.encType,d,null),pt(t,s,"method",d.method,d,null),pt(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Os);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Fa(t,"popover",o);break;case"xlinkActuate":Rs(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rs(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rs(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rs(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rs(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,Fa(t,a,o))}}function Pd(t,s,a,o,d,h){switch(a){case"style":Ga(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_r(t,o):(typeof o=="number"||typeof o=="bigint")&&_r(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),h=t[pn]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,d);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Fa(t,a,o)}}}function Cn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(t,s,h,v,a,null)}}d&&pt(t,s,"srcSet",a.srcSet,a,null),o&&pt(t,s,"src",a.src,a,null);return;case"input":Pe("invalid",t);var S=h=v=d=null,D=null,W=null;for(o in a)if(a.hasOwnProperty(o)){var re=a[o];if(re!=null)switch(o){case"name":d=re;break;case"type":v=re;break;case"checked":D=re;break;case"defaultChecked":W=re;break;case"value":h=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:pt(t,s,o,re,a,null)}}co(t,h,S,D,W,v,d,!1);return;case"select":Pe("invalid",t),o=v=h=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:pt(t,s,d,S,a,null)}s=h,a=v,t.multiple=!!o,s!=null?zs(t,!!o,s,!1):a!=null&&zs(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),h=d=o=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:pt(t,s,v,S,a,null)}Qa(t,o,d,h);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:pt(t,s,D,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<jl.length;o++)Pe(jl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(o=a[W],o!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(t,s,W,o,a,null)}return;default:if(Vi(s)){for(re in a)a.hasOwnProperty(re)&&(o=a[re],o!==void 0&&Pd(t,s,re,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&pt(t,s,S,o,a,null))}function n1(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,D=null,W=null,re=null;for(te in a){var fe=a[te];if(a.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":D=fe;default:o.hasOwnProperty(te)||pt(t,s,te,null,o,fe)}}for(var X in o){var te=o[X];if(fe=a[X],o.hasOwnProperty(X)&&(te!=null||fe!=null))switch(X){case"type":h=te;break;case"name":d=te;break;case"checked":W=te;break;case"defaultChecked":re=te;break;case"value":v=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==fe&&pt(t,s,X,te,o,fe)}}Zi(t,v,S,D,W,re,h,d);return;case"select":te=v=S=X=null;for(h in a)if(D=a[h],a.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":te=D;default:o.hasOwnProperty(h)||pt(t,s,h,null,o,D)}for(d in o)if(h=o[d],D=a[d],o.hasOwnProperty(d)&&(h!=null||D!=null))switch(d){case"value":X=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==D&&pt(t,s,d,h,o,D)}s=S,a=v,o=te,X!=null?zs(t,!!a,X,!1):!!o!=!!a&&(s!=null?zs(t,!!a,s,!0):zs(t,!!a,a?[]:"",!1));return;case"textarea":te=X=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(t,s,S,null,o,d)}for(v in o)if(d=o[v],h=a[v],o.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":X=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&pt(t,s,v,d,o,h)}oa(t,X,te);return;case"option":for(var Ae in a)if(X=a[Ae],a.hasOwnProperty(Ae)&&X!=null&&!o.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:pt(t,s,Ae,null,o,X)}for(D in o)if(X=o[D],te=a[D],o.hasOwnProperty(D)&&X!==te&&(X!=null||te!=null))switch(D){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:pt(t,s,D,X,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in a)X=a[$e],a.hasOwnProperty($e)&&X!=null&&!o.hasOwnProperty($e)&&pt(t,s,$e,null,o,X);for(W in o)if(X=o[W],te=a[W],o.hasOwnProperty(W)&&X!==te&&(X!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:pt(t,s,W,X,o,te)}return;default:if(Vi(s)){for(var gt in a)X=a[gt],a.hasOwnProperty(gt)&&X!==void 0&&!o.hasOwnProperty(gt)&&Pd(t,s,gt,void 0,o,X);for(re in o)X=o[re],te=a[re],!o.hasOwnProperty(re)||X===te||X===void 0&&te===void 0||Pd(t,s,re,X,o,te);return}}for(var Z in a)X=a[Z],a.hasOwnProperty(Z)&&X!=null&&!o.hasOwnProperty(Z)&&pt(t,s,Z,null,o,X);for(fe in o)X=o[fe],te=a[fe],!o.hasOwnProperty(fe)||X===te||X==null&&te==null||pt(t,s,fe,X,o,te)}function $g(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&$g(v)){for(v=0,S=d.responseEnd,o+=1;o<a.length;o++){var D=a[o],W=D.startTime;if(W>S)break;var re=D.transferSize,fe=D.initiatorType;re&&$g(fe)&&(D=D.responseEnd,v+=re*(D<S?1:(S-W)/(D-W)))}if(--o,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Xd=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function Zg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Jd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ef=null;function r1(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var Vg=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(t){return Fg.resolve(null).then(t).catch(l1)}:Vg;function l1(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function Ig(t,s){var a=s,o=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(d),Ei(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var h=a.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[fs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Nl(t.ownerDocument.body);a=d}while(a);Ei(s)}function Qg(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function tf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tf(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function o1(t,s,a,o){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Ss(t.nextSibling),t===null)break}return null}function c1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ss(t.nextSibling),t===null))return null;return t}function Gg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ss(t.nextSibling),t===null))return null;return t}function nf(t){return t.data==="$?"||t.data==="$~"}function sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ss(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var rf=null;function Wg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Ss(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Yg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Pg(t,s,a){switch(s=ic(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Nl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ha(t)}var js=new Map,Kg=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yr=ee.d;ee.d={f:d1,r:f1,D:h1,C:m1,L:p1,m:g1,X:v1,S:x1,M:b1};function d1(){var t=yr.f(),s=Xo();return t||s}function f1(t){var s=Ut(t);s!==null&&s.tag===5&&s.type==="form"?mp(s):yr.r(t)}var wi=typeof document>"u"?null:document;function Xg(t,s,a){var o=wi;if(o&&typeof s=="string"&&s){var d=Zn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Kg.has(d)||(Kg.add(d),t={rel:t,crossOrigin:a,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Cn(s,"link",t),Tt(s),o.head.appendChild(s)))}}function h1(t){yr.D(t),Xg("dns-prefetch",t,null)}function m1(t,s){yr.C(t,s),Xg("preconnect",t,s)}function p1(t,s,a){yr.L(t,s,a);var o=wi;if(o&&t&&s){var d='link[rel="preload"][as="'+Zn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Zn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Zn(a.imageSizes)+'"]')):d+='[href="'+Zn(t)+'"]';var h=d;switch(s){case"style":h=Si(t);break;case"script":h=ji(t)}js.has(h)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),js.set(h,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(_l(h))||s==="script"&&o.querySelector(Cl(h))||(s=o.createElement("link"),Cn(s,"link",t),Tt(s),o.head.appendChild(s)))}}function g1(t,s){yr.m(t,s);var a=wi;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Zn(o)+'"][href="'+Zn(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ji(t)}if(!js.has(h)&&(t=y({rel:"modulepreload",href:t},s),js.set(h,t),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(h)))return}o=a.createElement("link"),Cn(o,"link",t),Tt(o),a.head.appendChild(o)}}}function x1(t,s,a){yr.S(t,s,a);var o=wi;if(o&&t){var d=Ln(o).hoistableStyles,h=Si(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(_l(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=js.get(h))&&af(t,a);var D=v=o.createElement("link");Tt(D),Cn(D,"link",t),D._p=new Promise(function(W,re){D.onload=W,D.onerror=re}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oc(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function v1(t,s){yr.X(t,s);var a=wi;if(a&&t){var o=Ln(a).hoistableScripts,d=ji(t),h=o.get(d);h||(h=a.querySelector(Cl(d)),h||(t=y({src:t,async:!0},s),(s=js.get(d))&&lf(t,s),h=a.createElement("script"),Tt(h),Cn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function b1(t,s){yr.M(t,s);var a=wi;if(a&&t){var o=Ln(a).hoistableScripts,d=ji(t),h=o.get(d);h||(h=a.querySelector(Cl(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=js.get(d))&&lf(t,s),h=a.createElement("script"),Tt(h),Cn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Jg(t,s,a,o){var d=(d=V.current)?lc(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Si(a.href),a=Ln(d).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Si(a.href);var h=Ln(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(_l(t)))&&!h._p&&(v.instance=h,v.state.loading=5),js.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},js.set(t,a),h||y1(d,t,a,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ji(a),a=Ln(d).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Si(t){return'href="'+Zn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function ex(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Cn(s,"link",a),Tt(s),t.head.appendChild(s))}function ji(t){return'[src="'+Zn(t)+'"]'}function Cl(t){return"script[async]"+t}function tx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Zn(a.href)+'"]');if(o)return s.instance=o,Tt(o),o;var d=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Cn(o,"style",d),oc(o,a.precedence,t),s.instance=o;case"stylesheet":d=Si(a.href);var h=t.querySelector(_l(d));if(h)return s.state.loading|=4,s.instance=h,Tt(h),h;o=ex(a),(d=js.get(d))&&af(o,d),h=(t.ownerDocument||t).createElement("link"),Tt(h);var v=h;return v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),Cn(h,"link",o),s.state.loading|=4,oc(h,a.precedence,t),s.instance=h;case"script":return h=ji(a.src),(d=t.querySelector(Cl(h)))?(s.instance=d,Tt(d),d):(o=a,(d=js.get(h))&&(o=y({},a),lf(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Tt(d),Cn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,oc(o,a.precedence,t));return s.instance}function oc(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function af(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function lf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var cc=null;function nx(t,s,a){if(cc===null){var o=new Map,d=cc=new Map;d.set(a,o)}else d=cc,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var h=a[d];if(!(h[fs]||h[Kt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function sx(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function w1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function S1(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Si(o.href),h=s.querySelector(_l(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=uc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=h,Tt(h);return}h=s.ownerDocument||s,o=ex(o),(d=js.get(d))&&af(o,d),h=h.createElement("link"),Tt(h);var v=h;v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),Cn(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var of=0;function j1(t,s){return t.stylesheets&&t.count===0&&fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&of===0&&(of=62500*s1());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>of?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function fc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,s.forEach(E1,t),dc=null,uc.call(t))}function E1(t,s){if(!(s.state.loading&4)){var a=dc.get(t);if(a)var o=a.get(null);else{a=new Map,dc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,d),a.set(v,d),this.count++,o=uc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var kl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function N1(t,s,a,o,d,h,v,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ax(t,s,a,o,d,h,v,S,D,W,re,fe){return t=new N1(t,s,a,v,D,W,re,fe,S),s=1,h===!0&&(s|=24),h=as(3,null,null,s),t.current=h,h.stateNode=t,s=$u(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:s},Fu(h),t}function ix(t){return t?(t=ei,t):ei}function lx(t,s,a,o,d,h){d=ix(d),o.context===null?o.context=d:o.pendingContext=d,o=zr(s),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=Or(t,o,s),a!==null&&(Gn(a,t,s),il(a,t,s))}function ox(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function cf(t,s){ox(t,s),(t=t.alternate)&&ox(t,s)}function cx(t){if(t.tag===13||t.tag===31){var s=pa(t,67108864);s!==null&&Gn(s,t,67108864),cf(t,67108864)}}function ux(t){if(t.tag===13||t.tag===31){var s=us();s=ns(s);var a=pa(t,s);a!==null&&Gn(a,t,s),cf(t,s)}}var hc=!0;function _1(t,s,a,o){var d=U.T;U.T=null;var h=ee.p;try{ee.p=2,uf(t,s,a,o)}finally{ee.p=h,U.T=d}}function C1(t,s,a,o){var d=U.T;U.T=null;var h=ee.p;try{ee.p=8,uf(t,s,a,o)}finally{ee.p=h,U.T=d}}function uf(t,s,a,o){if(hc){var d=df(o);if(d===null)Yd(t,s,o,mc,a),fx(t,o);else if(T1(d,t,s,a,o))o.stopPropagation();else if(fx(t,o),s&4&&-1<k1.indexOf(t)){for(;d!==null;){var h=Ut(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=ut(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var D=1<<31-zt(v);S.entanglements[1]|=D,v&=~D}Xs(h),(ot&6)===0&&(Po=J()+500,Sl(0))}}break;case 31:case 13:S=pa(h,2),S!==null&&Gn(S,h,2),Xo(),cf(h,2)}if(h=df(o),h===null&&Yd(t,s,o,mc,a),h===d)break;d=h}d!==null&&o.stopPropagation()}else Yd(t,s,o,null,a)}}function df(t){return t=Ii(t),ff(t)}var mc=null;function ff(t){if(mc=null,t=Ds(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return mc=t,null}function dx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case je:return 2;case Le:return 8;case Ve:case St:return 32;case we:return 268435456;default:return 32}default:return 32}}var hf=!1,Qr=null,Gr=null,Wr=null,Tl=new Map,Al=new Map,Yr=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fx(t,s){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Tl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(s.pointerId)}}function Ml(t,s,a,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},s!==null&&(s=Ut(s),s!==null&&cx(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function T1(t,s,a,o,d){switch(s){case"focusin":return Qr=Ml(Qr,t,s,a,o,d),!0;case"dragenter":return Gr=Ml(Gr,t,s,a,o,d),!0;case"mouseover":return Wr=Ml(Wr,t,s,a,o,d),!0;case"pointerover":var h=d.pointerId;return Tl.set(h,Ml(Tl.get(h)||null,t,s,a,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Al.set(h,Ml(Al.get(h)||null,t,s,a,o,d)),!0}return!1}function hx(t){var s=Ds(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,zn(t.priority,function(){ux(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,zn(t.priority,function(){ux(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=df(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Fi=o,a.target.dispatchEvent(o),Fi=null}else return s=Ut(a),s!==null&&cx(s),t.blockedOn=a,!1;s.shift()}return!0}function mx(t,s,a){pc(t)&&a.delete(s)}function A1(){hf=!1,Qr!==null&&pc(Qr)&&(Qr=null),Gr!==null&&pc(Gr)&&(Gr=null),Wr!==null&&pc(Wr)&&(Wr=null),Tl.forEach(mx),Al.forEach(mx)}function gc(t,s){t.blockedOn===s&&(t.blockedOn=null,hf||(hf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A1)))}var xc=null;function px(t){xc!==t&&(xc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(ff(o||a)===null)continue;break}var h=Ut(a);h!==null&&(t.splice(s,3),s-=3,ud(h,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function Ei(t){function s(D){return gc(D,t)}Qr!==null&&gc(Qr,t),Gr!==null&&gc(Gr,t),Wr!==null&&gc(Wr,t),Tl.forEach(s),Al.forEach(s);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)hx(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],h=a[o+1],v=d[pn]||null;if(typeof h=="function")v||px(a);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[pn]||null)S=v.formAction;else if(ff(d)!==null)continue}else S=v.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),px(a)}}}function gx(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function mf(t){this._internalRoot=t}vc.prototype.render=mf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,o=us();lx(a,o,t,s,null,null)},vc.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;lx(t.current,2,null,t,null,null),Xo(),s[nr]=null}};function vc(t){this._internalRoot=t}vc.prototype.unstable_scheduleHydration=function(t){if(t){var s=ln();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Yr.length&&s!==0&&s<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&hx(t)}};var xx=n.version;if(xx!=="19.2.0")throw Error(i(527,xx,"19.2.0"));ee.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var M1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{jt=bc.inject(M1),at=bc}catch{}}return Rl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var a=!1,o="",d=Ep,h=Np,v=_p;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=ax(t,1,!1,null,null,a,o,null,d,h,v,gx),t[nr]=s.current,Wd(t),new mf(s)},Rl.hydrateRoot=function(t,s,a){if(!c(t))throw Error(i(299));var o=!1,d="",h=Ep,v=Np,S=_p,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=ax(t,1,!0,s,a??null,o,d,D,h,v,S,gx),s.context=ix(null),a=s.current,o=us(),o=ns(o),d=zr(o),d.callback=null,Or(a,d,o),a=o,s.current.lanes=a,Sn(s,a),Xs(s),t[nr]=s.current,Wd(t),new vc(s)},Rl.version="19.2.0",Rl}var Cx;function $1(){if(Cx)return xf.exports;Cx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),xf.exports=q1(),xf.exports}var Z1=$1();const H1=yv(Z1),Yc=p.createContext(null);function V1({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(g=>{for(const b of i.current)if(b(g)===!1)return!1;return!0},[]);p.useEffect(()=>{const g=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const j=c.current;window.history.pushState(null,"",`${j.pathname}${j.search}${j.hash}`);return}r(b)};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[u]);const f=p.useCallback(g=>(i.current.add(g),()=>{i.current.delete(g)}),[]),m=p.useCallback((g,b)=>{const y=new URL(g,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},j=`${w.pathname}${w.search}${w.hash}`,T=b?.replace?"replace":"push";u({kind:T,to:j,location:w})&&(b?.replace?window.history.replaceState(null,"",j):window.history.pushState(null,"",j),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),x=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return l.jsx(Yc.Provider,{value:x,children:e})}function Cs(){const e=p.useContext(Yc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function kn(){const e=p.useContext(Yc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function F1(e,n=!0){const r=p.useContext(Yc);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var Oi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},I1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},Q1=class{#e=I1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Aa=new Q1;function G1(e){setTimeout(e,0)}var Oa=typeof window>"u"||"Deno"in globalThis;function qn(){}function W1(e,n){return typeof e=="function"?e(n):e}function qf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Jr(e,n){return typeof e=="function"?e(n):e}function Es(e,n){return typeof e=="function"?e(n):e}function kx(e,n){const{type:r="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==lh(f,n.options))return!1}else if(!Il(n.queryKey,f))return!1}if(r!=="all"){const x=n.isActive();if(r==="active"&&!x||r==="inactive"&&x)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function Tx(e,n){const{exact:r,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(La(n.options.mutationKey)!==La(u))return!1}else if(!Il(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function lh(e,n){return(n?.queryKeyHashFn||La)(e)}function La(e){return JSON.stringify(e,(n,r)=>$f(r)?Object.keys(r).sort().reduce((i,c)=>(i[c]=r[c],i),{}):r)}function Il(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Il(e[r],n[r])):!1}var Y1=Object.prototype.hasOwnProperty;function jv(e,n){if(e===n)return e;const r=Ax(e)&&Ax(n);if(!r&&!($f(e)&&$f(n)))return n;const c=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),f=u.length,m=r?new Array(f):{};let x=0;for(let g=0;g<f;g++){const b=r?g:u[g],y=e[b],w=n[b];if(y===w){m[b]=y,(r?g<c:Y1.call(e,b))&&x++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const j=jv(y,w);m[b]=j,j===y&&x++}return c===f&&x===c?e:m}function Dc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function Ax(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $f(e){if(!Mx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Mx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mx(e){return Object.prototype.toString.call(e)==="[object Object]"}function P1(e){return new Promise(n=>{Aa.setTimeout(n,e)})}function Zf(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?jv(e,n):n}function K1(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function X1(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var oh=Symbol();function Ev(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===oh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Nv(e,n){return typeof e=="function"?e(...n):!!e}var J1=class extends Oi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Oa&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ch=new J1;function Hf(){let e,n;const r=new Promise((c,u)=>{e=c,n=u});r.status="pending",r.catch(()=>{});function i(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},r.reject=c=>{i({status:"rejected",reason:c}),n(c)},r}var eS=G1;function tS(){let e=[],n=0,r=m=>{m()},i=m=>{m()},c=eS;const u=m=>{n?e.push(m):c(()=>{r(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(x=>{r(x)})})})};return{batch:m=>{let x;n++;try{x=m()}finally{n--,n||f()}return x},batchCalls:m=>(...x)=>{u(()=>{m(...x)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var dn=tS(),nS=class extends Oi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Oa&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Rc=new nS;function sS(e){return Math.min(1e3*2**e,3e4)}function _v(e){return(e??"online")==="online"?Rc.isOnline():!0}var Vf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Cv(e){let n=!1,r=0,i;const c=Hf(),u=()=>c.status!=="pending",f=E=>{if(!u()){const O=new Vf(E);w(O),e.onCancel?.(O)}},m=()=>{n=!0},x=()=>{n=!1},g=()=>ch.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),b=()=>_v(e.networkMode)&&e.canRun(),y=E=>{u()||(i?.(),c.resolve(E))},w=E=>{u()||(i?.(),c.reject(E))},j=()=>new Promise(E=>{i=O=>{(u()||g())&&E(O)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let E;const O=r===0?e.initialPromise:void 0;try{E=O??e.fn()}catch(B){E=Promise.reject(B)}Promise.resolve(E).then(y).catch(B=>{if(u())return;const _=e.retry??(Oa?0:3),A=e.retryDelay??sS,q=typeof A=="function"?A(r,B):A,$=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,B);if(n||!$){w(B);return}r++,e.onFail?.(r,B),P1(q).then(()=>g()?void 0:j()).then(()=>{n?w(B):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:x,canStart:b,start:()=>(b()?T():j().then(T),c)}}var kv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qf(this.gcTime)&&(this.#e=Aa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Oa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Aa.clearTimeout(this.#e),this.#e=void 0)}},rS=class extends kv{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Dx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Dx(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Zf(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Es(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Jr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Sv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},c=()=>{const m=Ev(this.options,n),g=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,g,this):m(g)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#a({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=Cv({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Vf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,x)=>{this.#a({type:"failed",failureCount:m,error:x})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Vf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#a({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Tv(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Tv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_v(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Dx(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Av=class extends Oi{constructor(e,n){super(),this.options=n,this.#e=e,this.#a=null,this.#l=Hf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Rx(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ff(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ff(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!Dc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&zx(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||Es(this.options.enabled,this.#t)!==Es(n.enabled,this.#t)||Jr(this.options.staleTime,this.#t)!==Jr(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==r||Es(this.options.enabled,this.#t)!==Es(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return iS(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(qn)),n}#g(){this.#y();const e=Jr(this.options.staleTime,this.#t);if(Oa||this.#r.isStale||!qf(e))return;const r=Sv(this.#r.dataUpdatedAt,e)+1;this.#c=Aa.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(Oa||Es(this.options.enabled,this.#t)===!1||!qf(this.#o)||this.#o===0)&&(this.#u=Aa.setInterval(()=>{(this.options.refetchIntervalInBackground||ch.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(Aa.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Aa.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,c=this.#r,u=this.#s,f=this.#i,x=e!==r?e.state:this.#n,{state:g}=e;let b={...g},y=!1,w;if(n._optimisticResults){const K=this.hasListeners(),ne=!K&&Rx(e,n),oe=K&&zx(e,r,n,i);(ne||oe)&&(b={...b,...Tv(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:j,errorUpdatedAt:T,status:E}=b;w=b.data;let O=!1;if(n.placeholderData!==void 0&&w===void 0&&E==="pending"){let K;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(K=c.data,O=!0):K=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,K!==void 0&&(E="success",w=Zf(c?.data,K,n),y=!0)}if(n.select&&w!==void 0&&!O)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Zf(c?.data,w,n),this.#f=w,this.#a=null}catch(K){this.#a=K}this.#a&&(j=this.#a,w=this.#f,T=Date.now(),E="error");const B=b.fetchStatus==="fetching",_=E==="pending",A=E==="error",q=_&&B,$=w!==void 0,Y={status:E,fetchStatus:b.fetchStatus,isPending:_,isSuccess:E==="success",isError:A,isInitialLoading:q,isLoading:q,data:w,dataUpdatedAt:b.dataUpdatedAt,error:j,errorUpdatedAt:T,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>x.dataUpdateCount||b.errorUpdateCount>x.errorUpdateCount,isFetching:B,isRefetching:B&&!_,isLoadingError:A&&!$,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&$,isStale:uh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:Es(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=ce=>{Y.status==="error"?ce.reject(Y.error):Y.data!==void 0&&ce.resolve(Y.data)},ne=()=>{const ce=this.#l=Y.promise=Hf();K(ce)},oe=this.#l;switch(oe.status){case"pending":e.queryHash===r.queryHash&&K(oe);break;case"fulfilled":(Y.status==="error"||Y.data!==oe.value)&&ne();break;case"rejected":(Y.status!=="error"||Y.error!==oe.reason)&&ne();break}}return Y}updateResult(){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Dc(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(f=>{const m=f;return this.#r[m]!==e[m]&&u.has(m)})};this.#j({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function aS(e,n){return Es(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Rx(e,n){return aS(e,n)||e.state.data!==void 0&&Ff(e,n,n.refetchOnMount)}function Ff(e,n,r){if(Es(n.enabled,e)!==!1&&Jr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&uh(e,n)}return!1}function zx(e,n,r,i){return(e!==n||Es(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uh(e,r)}function uh(e,n){return Es(n.enabled,e)!==!1&&e.isStaleByTime(Jr(n.staleTime,e))}function iS(e,n){return!Dc(e.getCurrentResult(),n)}function zc(e){return{onFetch:(n,r)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Ev(n.options,n.fetchOptions),j=async(T,E,O)=>{if(b)return Promise.reject();if(E==null&&T.pages.length)return Promise.resolve(T);const _=(()=>{const P={client:n.client,queryKey:n.queryKey,pageParam:E,direction:O?"backward":"forward",meta:n.options.meta};return y(P),P})(),A=await w(_),{maxPages:q}=n.options,$=O?X1:K1;return{pages:$(T.pages,A,q),pageParams:$(T.pageParams,E,q)}};if(c&&u.length){const T=c==="backward",E=T?Mv:If,O={pages:u,pageParams:f},B=E(i,O);m=await j(O,B,T)}else{const T=e??u.length;do{const E=x===0?f[0]??i.initialPageParam:If(i,m);if(x>0&&E==null)break;m=await j(m,E),x++}while(x<T)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(g,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=g}}}function If(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Mv(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function lS(e,n){return n?If(e,n)!=null:!1}function oS(e,n){return!n||!e.getPreviousPageParam?!1:Mv(e,n)!=null}var cS=class extends Av{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:zc()})}getOptimisticResult(e){return e.behavior=zc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,x=r.fetchMeta?.fetchMore?.direction,g=f&&x==="forward",b=c&&x==="forward",y=f&&x==="backward",w=c&&x==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:lS(n,r.data),hasPreviousPage:oS(n,r.data),isFetchNextPageError:g,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!g&&!y,isRefetching:u&&!b&&!w}}},uS=class extends kv{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Dv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Cv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#r.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,r);const f=await this.options.onMutate?.(e,r);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Dv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dS=class extends Oi{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new uS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=yc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Tx(n,r))}findAll(e={}){return this.getAll().filter(n=>Tx(e,n))}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}};function yc(e){return e.options.scope?.id}var fS=class extends Oi{#e;#t=void 0;#n;#r;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Dc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&La(r.mutationKey)!==La(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Dv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){dn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#r.onSuccess?.(n.data,r,i,c),this.#r.onSettled?.(n.data,null,r,i,c)):n?.type==="error"&&(this.#r.onError?.(n.error,r,i,c),this.#r.onSettled?.(void 0,n.error,r,i,c))}this.listeners.forEach(r=>{r(this.#t)})})}},hS=class extends Oi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,c=n.queryHash??lh(i,n);let u=this.get(c);return u||(u=new rS({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>kx(e,r)):n}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mS=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new hS,this.#t=e.mutationCache||new dS,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=ch.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Jr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=W1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...r,manual:!0})}setQueriesData(e,n,r){return dn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;dn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return dn.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=dn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(r)));return Promise.all(i).then(qn).catch(qn)}invalidateQueries(e,n={}){return dn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=dn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(qn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(qn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Jr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=zc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=zc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(La(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Il(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(La(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{Il(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=lh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===oh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Rv=p.createContext(void 0),yt=e=>{const n=p.useContext(Rv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},pS=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Rv.Provider,{value:e,children:n})),zv=p.createContext(!1),gS=()=>p.useContext(zv);zv.Provider;function xS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vS=p.createContext(xS()),bS=()=>p.useContext(vS),yS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},wS=e=>{p.useEffect(()=>{e.clearReset()},[e])},SS=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||Nv(r,[e.error,i])),jS=e=>{if(e.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>r(i(...c)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ES=(e,n)=>e.isLoading&&e.isFetching&&!n,NS=(e,n)=>e?.suspense&&n.isPending,Ox=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ov(e,n,r){const i=gS(),c=bS(),u=yt(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",jS(f),yS(f,c),wS(c);const m=!u.getQueryCache().get(f.queryHash),[x]=p.useState(()=>new n(u,f)),g=x.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?x.subscribe(dn.batchCalls(y)):qn;return x.updateResult(),w},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),p.useEffect(()=>{x.setOptions(f)},[f,x]),NS(f,g))throw Ox(f,x,c);if(SS({result:g,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!Oa&&ES(g,i)&&(m?Ox(f,x,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(qn).finally(()=>{x.updateResult()}),f.notifyOnChangeProps?g:x.trackResult(g)}function fn(e,n){return Ov(e,Av)}function Tn(e,n){const r=yt(),[i]=p.useState(()=>new fS(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(dn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch(qn)},[i]);if(c.error&&Nv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function Lv(e,n){return Ov(e,cS)}const _S="modulepreload",CS=function(e){return"/"+e},Lx={},kS=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let x=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=x(r.map(g=>{if(g=CS(g),g in Lx)return;Lx[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":_S,b||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,T)=>{w.addEventListener("load",j),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function TS({children:e}){const[n]=p.useState(()=>new mS({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(pS,{client:n,children:[e,null]})}const AS=["ade_csrf","backend_app_csrf"];function MS(){return AS}function DS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function dh(){const e=DS();if(!e)return null;for(const n of MS()){const r=e.get(n);if(r)return r}return null}const Uv="/api/v1",RS=new Set(["GET","HEAD","OPTIONS"]);class Kn extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}class zS{baseUrl;constructor(n=Uv){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,r={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:x,...g}=r,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!RS.has(b)&&!w.has("X-CSRF-Token")){const E=dh();E&&w.set("X-CSRF-Token",E)}const j=await fetch(y,{...g,method:b,headers:w,body:f,credentials:x??"include"});if(!j.ok){const E=await this.tryParseProblem(j),O=E?.title??`Request failed with status ${j.status}`;throw new Kn(O,j.status,E)}if(c)return j;if(!i||j.status===204)return;const T=await j.text();return T?JSON.parse(T):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,r){if(r){if(r instanceof Headers){r.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(r)){r.forEach(([i,c])=>n.set(i,c));return}Object.entries(r).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const Bv=new zS(Uv);function OS(e,n){return Bv.request(e,{...n,method:"GET"})}function qv(e,n,r){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return Bv.request(e,{...r,method:"POST",body:i})}const LS=/\{[^{}]+\}/g,US=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function BS(){return Math.random().toString(36).slice(2,11)}function qS(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...x}={...e};m=US()?m:void 0,n=qx(n);const g=[];async function b(y,w){const{baseUrl:j,fetch:T=i,Request:E=r,headers:O,params:B={},parseAs:_="json",querySerializer:A,bodySerializer:q=u??ZS,body:$,middleware:P=[],...Y}=w||{};let K=n;j&&(K=qx(j)??n);let ne=typeof c=="function"?c:Ux(c);A&&(ne=typeof A=="function"?A:Ux({...typeof c=="object"?c:{},...A}));const oe=$===void 0?void 0:q($,Bx(f,O,B.header)),ce=Bx(oe===void 0||oe instanceof FormData?{}:{"Content-Type":"application/json"},f,O,B.header),me=[...g,...P],ue={redirect:"follow",...x,...Y,body:oe,headers:ce};let xe,ye,U=new E(HS(y,{baseUrl:K,params:B,querySerializer:ne}),ue),ee;for(const Se in Y)Se in U||(U[Se]=Y[Se]);if(me.length){xe=BS(),ye=Object.freeze({baseUrl:K,fetch:T,parseAs:_,querySerializer:ne,bodySerializer:q});for(const Se of me)if(Se&&typeof Se=="object"&&typeof Se.onRequest=="function"){const ae=await Se.onRequest({request:U,schemaPath:y,params:B,options:ye,id:xe});if(ae)if(ae instanceof E)U=ae;else if(ae instanceof Response){ee=ae;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!ee){try{ee=await T(U,m)}catch(Se){let ae=Se;if(me.length)for(let N=me.length-1;N>=0;N--){const I=me[N];if(I&&typeof I=="object"&&typeof I.onError=="function"){const R=await I.onError({request:U,error:ae,schemaPath:y,params:B,options:ye,id:xe});if(R){if(R instanceof Response){ae=void 0,ee=R;break}if(R instanceof Error){ae=R;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ae)throw ae}if(me.length)for(let Se=me.length-1;Se>=0;Se--){const ae=me[Se];if(ae&&typeof ae=="object"&&typeof ae.onResponse=="function"){const N=await ae.onResponse({request:U,response:ee,schemaPath:y,params:B,options:ye,id:xe});if(N){if(!(N instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");ee=N}}}}if(ee.status===204||U.method==="HEAD"||ee.headers.get("Content-Length")==="0")return ee.ok?{data:void 0,response:ee}:{error:void 0,response:ee};if(ee.ok)return _==="stream"?{data:ee.body,response:ee}:{data:await ee[_](),response:ee};let ge=await ee.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:ee}}return{request(y,w,j){return b(w,{...j,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");g.push(w)}},eject(...y){for(const w of y){const j=g.indexOf(w);j!==-1&&g.splice(j,1)}}}}function Pc(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function $v(e,n,r){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const m in n)i.push(m,r.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(r.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=r.style==="deepObject"?`${e}[${f}]`:f;i.push(Pc(m,n[f],r))}const u=i.join(c);return r.style==="label"||r.style==="matrix"?`${c}${u}`:u}function Zv(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",f=(r.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(r.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",c=[];for(const u of n)r.style==="simple"||r.style==="label"?c.push(r.allowReserved===!0?u:encodeURIComponent(u)):c.push(Pc(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function Ux(e){return function(r){const i=[];if(r&&typeof r=="object")for(const c in r){const u=r[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(Zv(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push($v(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Pc(c,u,e))}}return i.join("&")}}function $S(e,n){let r=e;for(const i of e.match(LS)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){r=r.replace(i,Zv(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){r=r.replace(i,$v(c,m,{style:f,explode:u}));continue}if(f==="matrix"){r=r.replace(i,`;${Pc(c,m)}`);continue}r=r.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return r}function ZS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function HS(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=$S(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function Bx(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function qx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Hv=new Set(["GET","HEAD","OPTIONS","TRACE"]),wf="",Oc=wf.endsWith("/api/v1")?wf.slice(0,-7):wf;function Vv(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Oc.length>0?`${Oc}${e}`:e}async function VS(e,n={}){const r=Vv(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!Hv.has(c)){const f=dh();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(r,{credentials:"include",...n,headers:i})}const Ge=qS({baseUrl:Oc.length>0?Oc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),FS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Hv.has(n)){const r=dh();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},IS={async onResponse({response:e}){if(e.ok)return e;const n=await QS(e),r=n?.title??`Request failed with status ${e.status}`;throw new Kn(r,e.status,n)}};Ge.use(FS);Ge.use(IS);async function QS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const _s={root:["auth"],detail:()=>[..._s.root,"session"],providers:()=>[..._s.root,"providers"],setupStatus:()=>[..._s.root,"setup-status"],bootstrap:()=>[..._s.root,"bootstrap"]};async function GS(e={}){try{const{data:n}=await Ge.GET("/api/v1/auth/providers",{signal:e.signal});return XS(n)}catch(n){if(n instanceof Kn&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function WS(e,n={}){const{data:r}=await Ge.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload.");return eo(r)}async function YS(e={}){const{data:n}=await Ge.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return eo(n)}function eo(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}async function PS(e={}){try{const{data:n}=await Ge.GET("/api/v1/bootstrap",{signal:e.signal});return n?KS(n):null}catch(n){if(n instanceof Kn&&(n.status===401||n.status===403))return null;throw n}}function KS(e){const n=e;if(!n||!n.user)throw new Error("Unexpected bootstrap payload shape returned by the server.");return{user:eo({user:n.user,expires_at:null,refresh_expires_at:null,return_to:null}),global_roles:Array.isArray(n.global_roles)?n.global_roles.map(String):[],global_permissions:Array.isArray(n.global_permissions)?n.global_permissions.map(String):[],workspaces:n.workspaces,safe_mode:n.safe_mode??{enabled:!1,detail:""}}}function XS(e){return JS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function JS(e){return!Fv(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every(ej)}function ej(e){return!Fv(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function Fv(e){return typeof e=="object"&&e!==null}const Iv=p.createContext(void 0);function wc(e){return e instanceof Error?e:new Error(String(e))}function $x({session:e,refetch:n,children:r}){return sj(e,n),l.jsx(Iv.Provider,{value:{session:e,refetch:n},children:r})}function tj(){const e=p.useContext(Iv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function qa(){return tj().session}const nj=6e4;function sj(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(g=>{console.warn("Failed to refetch session after refresh expiry",wc(g))});return}const u=Math.min(r,i)-nj,f=Math.max(u-c,0);let m=!1;const x=window.setTimeout(async()=>{try{if(await YS(),m)return;await n().catch(g=>{console.warn("Failed to refetch session after refresh",wc(g))})}catch(g){if(m)return;console.warn("Failed to refresh session",wc(g)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",wc(b))})}},f);return()=>{m=!0,window.clearTimeout(x)}},[n,e.expires_at,e.refresh_expires_at])}async function rj(e={}){const{data:n}=await Ge.GET("/api/v1/system/safe-mode",{signal:e.signal}),r=n??{},i=!!r.enabled,c=typeof r.detail=="string"&&r.detail.trim().length>0?r.detail.trim():Vs;return{enabled:i,detail:c}}async function aj(e,n={}){const{data:r}=await Ge.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),i=r??{};return{enabled:!!i.enabled,detail:typeof i.detail=="string"&&i.detail.trim().length>0?i.detail.trim():Vs}}const Vs="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.",Lc=["system","safe-mode"];function fh(){const n=yt().getQueryData(Lc);return fn({queryKey:Lc,queryFn:({signal:r})=>rj({signal:r}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function ij(){const e=yt();return Tn({mutationFn:n=>aj(n),onSuccess:()=>{e.invalidateQueries({queryKey:Lc})}})}const lj=100,oj=100,cj=100,uj=200;async function dj(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof r=="number"&&r>0&&(u.page_size=r),i&&(u.include_total=!0);const{data:f}=await Ge.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((x,g)=>x.name.localeCompare(g.name));return{...f,items:m}}async function fj(e){const{data:n}=await Ge.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function hj(e,n){const{data:r}=await Ge.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function mj(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof r=="number"&&r>0&&(f.page=r),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function pj(e,n){const{data:r}=await Ge.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function gj(e,n,r){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function xj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function vj(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof r=="number"&&r>0&&(f.page=r),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function bj(e,n){const{data:r}=await Ge.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected role payload.");return r}async function yj(e,n,r){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function wj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function Sj(e={}){const{scope:n="global",workspaceId:r,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};r&&(m.workspace_id=r),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:x}=await Ge.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!x)throw new Error("Expected permission page payload.");return x}const Ra={page:1,pageSize:lj,includeTotal:!1},jj={page:1,pageSize:oj,includeTotal:!1},Ej={page:1,pageSize:cj,includeTotal:!1},Nj={scope:"global",page:1,pageSize:uj,includeTotal:!1},Wt={all:()=>["workspaces"],list:(e=Ra)=>[...Wt.all(),"list",{...e}],detail:e=>[...Wt.all(),"detail",e],members:(e,n=jj)=>[...Wt.detail(e),"members",{...n}],roles:(e,n=Ej)=>[...Wt.detail(e),"roles",{...n}],permissions:(e=Nj)=>["permissions",{...e}]};function _j(e={}){const n=e.page??Ra.page,r=e.pageSize??Ra.pageSize,i=e.includeTotal??Ra.includeTotal;return{queryKey:Wt.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:c})=>dj({page:n,pageSize:r,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function Kc(e={}){const n=yt(),r=_j(e),i=n.getQueryData(r.queryKey);return fn({...r,initialData:i})}const hh={page:Ra.page,pageSize:Ra.pageSize,includeTotal:Ra.includeTotal};function Qv(e={}){const n=yt(),r=fn({queryKey:_s.detail(),queryFn:async({signal:c})=>{const u=await PS({signal:c});return u?(n.setQueryData(Wt.list(hh),u.workspaces),n.setQueryData(Lc,u.safe_mode),u.user):null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:_s.providers(),exact:!1})},[n,i]),{...r,session:i}}async function Cj(e={}){try{const{data:n}=await Ge.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof Kn&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function kj(e){const{data:n}=await Ge.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return eo(n)}function mh(e=!0){return fn({queryKey:_s.setupStatus(),queryFn:({signal:n})=>Cj({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const to="/workspaces",Tj=new Set(["/","/login","/setup","/logout"]);function Aj(e){if(!e)return!0;const n=Dj(e);return!!(Tj.has(n)||n==="/auth"||n.startsWith("/auth/"))}function Mj(e){return`${e.pathname}${e.search}${e.hash}`}function Zx(e){const n=Mj(e)||"/";return Uc(n)??to}function Uc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?to:Aj(n)?null:n}function Ql(e){return Uc(e)??to}function Gv(e){return Yv("/login",e)}function Wv(e){return Yv("/setup",e)}function Yv(e,n){const r=Ql(n),i=new URLSearchParams;r!==to&&i.set("redirectTo",r);const c=i.toString();return c?`${e}?${c}`:e}function Bc(e,n){const r=Uc(e);if(r)return r;const i=Uc(n);return i||to}function Dj(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Xc({children:e}){const n=Cs(),r=kn(),i=Qv(),{session:c,isLoading:u,isError:f,refetch:m}=i,x=!c&&!u&&!f,{data:g,isPending:b,isError:y,isSuccess:w,refetch:j}=mh(x);return p.useEffect(()=>{if(c||u||f)return;if(x){if(b||y)return;if(w&&g?.requires_setup){const E=Zx(n);r(Wv(E),{replace:!0});return}}const T=Zx(n);r(Gv(T),{replace:!0})},[f,u,y,b,w,n,r,c,g?.requires_setup,x]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):f?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx($x,{session:c,refetch:m,children:e}):l.jsx($x,{session:c,refetch:m,children:e??null}):x&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):x&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>j(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}function Sf(e){return e instanceof Error?e:new Error(String(e))}function ta(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",Sf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",Sf(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",Sf(n))}}}}const Rj="backend.app.active_workspace",Qf=ta(Rj);function zj(){return Qf.get()}function Oj(e){if(!e){Qf.clear();return}Qf.set(e.id)}function Pv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(r=Pv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function ve(){for(var e,n,r=0,i="",c=arguments.length;r<c;r++)(e=arguments[r])&&(n=Pv(e))&&(i&&(i+=" "),i+=n);return i}const Kv=p.createContext(void 0);function Lj({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return l.jsx(Kv.Provider,{value:i,children:r})}function sa(){const e=p.useContext(Kv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var Sr=wv();const Uj=[{id:"explorer",label:"Explorer",icon:l.jsx(qj,{})},{id:"search",label:"Search",icon:l.jsx($j,{})},{id:"scm",label:"Source Control",icon:l.jsx(Zj,{})},{id:"extensions",label:"Extensions",icon:l.jsx(Hj,{})}];function Bj({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:ve("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:Uj.map(u=>{const f=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:ve("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:ve(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?l.jsx("span",{className:ve("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:r,className:ve("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(Vj,{})})})]})}function qj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function $j(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Zj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Hj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function Vj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const ph=p.createContext(null);function gh({value:e,onValueChange:n,children:r}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),x=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),g=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:x,getValues:g}),[e,n,i,f,m,x,g]);return l.jsx(ph.Provider,{value:b,children:r})}function xh({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Ll({value:e,children:n,className:r,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(ph);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:x,unregisterValue:g,focusValue:b,getValues:y}=m,w=m.value===e,j=`${m.baseId}-tab-${e}`,T=`${m.baseId}-panel-${e}`,E=p.useCallback(B=>{x(e,B)},[x,e]);p.useLayoutEffect(()=>()=>g(e),[g,e]);const O=B=>{if(c?.(B),B.defaultPrevented)return;const _=y(),A=_.indexOf(e);if(A===-1||_.length===0)return;let q=A;B.key==="ArrowRight"?(B.preventDefault(),q=(A+1)%_.length):B.key==="ArrowLeft"?(B.preventDefault(),q=(A-1+_.length)%_.length):B.key==="Home"?(B.preventDefault(),q=0):B.key==="End"&&(B.preventDefault(),q=_.length-1);const $=_[q];$&&$!==m.value&&m.setValue($),b($)};return l.jsx("button",{...f,ref:E,type:"button",role:"tab",id:j,"aria-selected":w,"aria-controls":T,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:O,onClick:B=>{i?.(B),!B.defaultPrevented&&!u&&m.setValue(e)},children:n})}function za({value:e,children:n,className:r,...i}){const c=p.useContext(ph);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:r,hidden:!u,tabIndex:0,children:n})}function Xv({summary:e}){const n=e.core.validation_issue_count_total;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(Sc,{label:"Tables",value:e.core.table_count}),l.jsx(Sc,{label:"Rows",value:e.core.row_count??""}),l.jsx(Sc,{label:"Mapped fields",value:e.core.mapped_field_count}),l.jsx(Sc,{label:"Issues",value:n,intent:n>0?"warn":"ok"})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Files"}),e.breakdowns.by_file.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No files recorded."}):l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:e.breakdowns.by_file.map(r=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:r.source_file}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[r.table_count," tables  ",r.row_count??"?"," rows  ",r.validation_issue_count_total," issues"]})]},r.source_file))})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),e.breakdowns.by_field.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[e.breakdowns.by_field.slice(0,6).map(r=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[r.label||r.field," ",r.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[r.mapped?"mapped":"unmapped","  ",r.validation_issue_count_total," issues"]})]},r.field)),e.breakdowns.by_field.length>6?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",e.breakdowns.by_field.length-6," more fields"]}):null]})]})]})]})}function Jv({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=Gf(c),f=u.stream==="stderr"?"warning":void 0,m=u.level??f??"info";return i[m]=(i[m]??0)+1,i},{}),r=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:r.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const u=Gf(i).message?.trim();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.type}),l.jsx("span",{className:"text-[11px] text-slate-500",children:Fj(i.created_at)})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:u||`Level: ${Ij(i)}`})]})})()},`${i.created_at}-${i.type}`))})]})}function Fj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Ij(e){const n=Gf(e),r=n.stream==="stderr"?"warning":void 0;return n.level??r??"info"}function Gf(e){const n=e.payload;return n&&typeof n=="object"?n:{}}function Sc({label:e,value:n,intent:r="default"}){const i=r==="warn"?"text-amber-700":r==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}function Qj({height:e,consoleLines:n,validation:r,activePane:i,onPaneChange:c,latestRun:u,onShowRunDetails:f,onClearConsole:m,runStatus:x}){const[g,b]=p.useState("all"),[y,w]=p.useState("all"),[j,T]=p.useState(!0),E=p.useMemo(()=>{const q=Gx(y);return n.filter($=>{const P=g==="all"||($.origin??"run")===g,Y=Gx($.level),K=y==="all"||Y>=q;return P&&K})},[n,g,y]),O=E.length>0,B=n.length>0,_=r.messages.length>0,A=!!u;return l.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:l.jsxs(gh,{value:i,onValueChange:q=>c(q),children:[l.jsxs("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-1.5",children:[l.jsxs(xh,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Ll,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Ll,{value:"runSummary",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Run",A?l.jsx("span",{className:"ml-1 text-[10px] lowercase text-slate-500",children:u?.status}):null]}),l.jsxs(Ll,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",_?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:r.messages.length}):null]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Origin",l.jsxs("select",{value:g,onChange:q=>b(q.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"}),l.jsx("option",{value:"raw",children:"Raw"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Level",l.jsxs("select",{value:y,onChange:q=>w(q.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>T(q=>!q),className:ve("rounded px-2 py-1 font-semibold uppercase tracking-wide transition",j?"border border-emerald-500 bg-emerald-50 text-emerald-700":"border border-slate-300 bg-white text-slate-600 hover:border-slate-400"),children:j?"Follow":"Scroll"}),l.jsx("button",{type:"button",onClick:()=>m?.(),className:"rounded border border-slate-300 bg-white px-2 py-1 font-semibold uppercase tracking-wide text-slate-600 transition hover:border-slate-400",children:"Clear"})]})]}),l.jsx(za,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(Gj,{consoleLines:E,hasConsoleLines:O,hasAnyConsoleLines:B,latestRun:u,onShowRunDetails:f,followLogs:j,runStatus:x})}),l.jsx(za,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(Wj,{validation:r})}),l.jsx(za,{value:"runSummary",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(Yj,{latestRun:u})})]})})}function Gj({consoleLines:e,hasConsoleLines:n,hasAnyConsoleLines:r,latestRun:i,onShowRunDetails:c,followLogs:u,runStatus:f}){const m=p.useRef(null);p.useEffect(()=>{u&&m.current?.scrollIntoView({behavior:"smooth"})},[e,u]);const x=f&&f!=="idle"?f:null;return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[l.jsxs("div",{className:"flex flex-col border-b border-white/5 bg-slate-950/80",children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-1.5 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[l.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),l.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"}),x?l.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.25em] text-slate-100",children:x}):null]}),i?l.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-white/5 px-4 py-1.5 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(eb,{status:i.status}),l.jsxs("span",{className:"truncate",title:i.runId,children:["Run ",i.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[i.documentName??"Document not recorded",Qx(i.sheetNames)?`  ${Qx(i.sheetNames)}`:""]}),i.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",nb(i.durationMs)]}):null]}),l.jsx("button",{type:"button",className:"text-[11px] font-semibold text-emerald-300 transition hover:text-emerald-200",onClick:()=>c?.(),children:"View details "})]}):null]}),l.jsx("div",{className:"flex-1 overflow-auto",children:n?l.jsxs("ul",{className:"divide-y divide-white/5",children:[e.map((g,b)=>l.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-1.5",children:[l.jsx("span",{className:"whitespace-nowrap text-[11px] tabular-nums text-slate-500",children:iE(g.timestamp)}),l.jsx("span",{className:ve("text-[10px] uppercase tracking-[0.3em]",nE(g.level)),children:sE(g.level)}),l.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[l.jsx("span",{className:ve("text-sm",eE(g.level)),children:"$"}),l.jsx("span",{className:ve("flex-1 whitespace-pre-wrap break-words",tE(g.level)),children:g.message})]})]},`${g.timestamp??b}-${g.message}`)),l.jsx("div",{ref:m})]}):r?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"No console output matches these filters."}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Adjust origin or level filters to see more."})]}):l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Run validation or a test to stream logs into this terminal."})]})})]})}function Wj({validation:e}){const n=aE(e),r=lE(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",tb(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,c)=>l.jsxs("li",{className:rE(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??c}-${c}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:r})]})}function Yj({latestRun:e}){return e?l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 overflow-auto",children:[l.jsx(Pj,{summary:e}),l.jsx(Kj,{summary:e}),l.jsx(Xj,{summary:e}),l.jsx(Jj,{summary:e})]}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-xs text-slate-500",children:"No run yet. Run a test or validation to see details here."})}function Pj({summary:e}){const n=e.durationMs!=null?nb(e.durationMs):null,r=e.sheetNames&&e.sheetNames.length>0?e.sheetNames.join(", "):e.sheetNames?"All worksheets":null;return l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.18em] text-slate-500",children:[l.jsx(eb,{status:e.status}),l.jsx("span",{className:"font-semibold text-slate-700",children:"Run"}),l.jsxs("span",{className:"text-slate-400",title:e.runId,children:["#",e.runId]})]}),l.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[oE(e.status),n?l.jsxs("span",{className:"font-normal text-slate-500",children:["  ",n]}):null]}),l.jsxs("div",{className:"text-xs text-slate-500",children:[e.documentName??"Document not recorded",r?`  ${r}`:null]}),e.completedAt?l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Completed ",tb(e.completedAt)]}):null]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l.jsx("a",{href:`${e.downloadBase}/logfile`,className:"inline-flex items-center gap-2 rounded-md border border-slate-200 bg-slate-50 px-3 py-1.5 text-[12px] font-semibold text-slate-700 shadow-sm hover:border-slate-300 hover:bg-white",children:"Download telemetry"})})]})}function Kj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Output files"}),e.outputsLoaded?null:l.jsx("span",{className:"text-[12px] text-slate-400",children:"Loading"})]}),e.error?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.error}):e.outputsLoaded?e.outputs.length>0?l.jsx("ul",{className:"mt-2 space-y-1 text-sm text-slate-800",children:e.outputs.map(n=>{const r=n.path?.split("/").map(encodeURIComponent).join("/")??n.name.split("/").map(encodeURIComponent).join("/"),i=n.download_url?n.download_url:`${e.downloadBase}/outputs/${r}`;return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:i,className:"text-brand-600 hover:underline",children:n.name||n.path}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[n.byte_size.toLocaleString()," bytes"]})]},n.path??n.name)})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No output files were generated."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading outputs"})]})}function Xj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Run summary"}),e.summaryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.summaryError}):e.summaryLoaded?e.summary?l.jsx("div",{className:"mt-2",children:l.jsx(Xv,{summary:e.summary})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Summary not available."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading summary"})]})}function Jj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Telemetry summary"}),e.telemetryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?l.jsx("div",{className:"mt-2",children:l.jsx(Jv,{events:[...e.telemetry]})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No telemetry events captured."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading telemetry"})]})}function eb({status:e}){const n=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"||e==="active"?"bg-amber-400":e==="canceled"?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ve("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}const Hx={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},Vx={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},Fx={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},Ix={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function eE(e){return Hx[e]??Hx.info}function tE(e){return Vx[e]??Vx.info}function nE(e){return Fx[e]??Fx.info}function sE(e){return Ix[e]??Ix.info}function rE(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function aE(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function tb(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function iE(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),r=Date.parse(n);return!Number.isNaN(r)&&n.includes("T")?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function lE(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function nb(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function oE(e){switch(e){case"succeeded":return"Succeeded";case"failed":return"Failed";case"canceled":return"Canceled";case"queued":return"Queued";case"active":case"running":return"Running";default:return e}}function Qx(e){return e?e.length===0?"All worksheets":e.join(", "):null}function Gx(e){return e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function cE(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Jc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Li(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function vh(e){return"nodeType"in e}function Xn(e){var n,r;return e?Li(e)?e:vh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function bh(e){const{Document:n}=Xn(e);return e instanceof n}function no(e){return Li(e)?!1:e instanceof Xn(e).HTMLElement}function sb(e){return e instanceof Xn(e).SVGElement}function Ui(e){return e?Li(e)?e.document:vh(e)?bh(e)?e:no(e)||sb(e)?e.ownerDocument:document:document:document}const tr=Jc?p.useLayoutEffect:p.useEffect;function yh(e){const n=p.useRef(e);return tr(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function uE(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Gl(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return tr(()=>{r.current!==e&&(r.current=e)},n),r}function so(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function qc(e){const n=yh(e),r=p.useRef(null),i=p.useCallback(c=>{c!==r.current&&n?.(c,r.current),r.current=c},[]);return[r,i]}function Wf(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let jf={};function ro(e,n){return p.useMemo(()=>{if(n)return n;const r=jf[e]==null?0:jf[e]+1;return jf[e]=r,e+"-"+r},[e,n])}function rb(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[x,g]of m){const b=u[x];b!=null&&(u[x]=b+e*g)}return u},{...n})}}const Ai=rb(1),$c=rb(-1);function dE(e){return"clientX"in e&&"clientY"in e}function wh(e){if(!e)return!1;const{KeyboardEvent:n}=Xn(e.target);return n&&e instanceof n}function fE(e){if(!e)return!1;const{TouchEvent:n}=Xn(e.target);return n&&e instanceof n}function Yf(e){if(fE(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return dE(e)?{x:e.clientX,y:e.clientY}:null}const Wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Wl.Translate.toString(e),Wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),Wx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hE(e){return e.matches(Wx)?e:e.querySelector(Wx)}const mE={display:"none"};function pE(e){let{id:n,value:r}=e;return xt.createElement("div",{id:n,style:mE},r)}function gE(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},r)}function xE(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const ab=p.createContext(null);function vE(e){const n=p.useContext(ab);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function bE(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const yE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wE={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function SE(e){let{announcements:n=wE,container:r,hiddenTextDescribedById:i,screenReaderInstructions:c=yE}=e;const{announce:u,announcement:f}=xE(),m=ro("DndLiveRegion"),[x,g]=p.useState(!1);if(p.useEffect(()=>{g(!0)},[]),vE(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:j}=y;n.onDragMove&&u(n.onDragMove({active:w,over:j}))},onDragOver(y){let{active:w,over:j}=y;u(n.onDragOver({active:w,over:j}))},onDragEnd(y){let{active:w,over:j}=y;u(n.onDragEnd({active:w,over:j}))},onDragCancel(y){let{active:w,over:j}=y;u(n.onDragCancel({active:w,over:j}))}}),[u,n])),!x)return null;const b=xt.createElement(xt.Fragment,null,xt.createElement(pE,{id:i,value:c.draggable}),xt.createElement(gE,{id:m,announcement:f}));return r?Sr.createPortal(b,r):b}var un;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function Zc(){}function jE(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function EE(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const Fs=Object.freeze({x:0,y:0});function NE(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function _E(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function CE(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function kE(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function Yx(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const TE=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=Yx(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,x=r.get(m);if(x){const g=NE(Yx(x),c);u.push({id:m,data:{droppableContainer:f,value:g}})}}return u.sort(_E)};function AE(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-r;if(i<c&&r<u){const x=n.width*n.height,g=e.width*e.height,b=f*m,y=b/(x+g-b);return Number(y.toFixed(4))}return 0}const ME=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=r.get(f);if(m){const x=AE(m,n);x>0&&c.push({id:f,data:{droppableContainer:u,value:x}})}}return c.sort(CE)};function DE(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function ib(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Fs}function RE(e){return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...r})}}const zE=RE(1);function OE(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function LE(e,n,r){const i=OE(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,x=e.left-f-(1-c)*parseFloat(r),g=e.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:g,right:x+b,bottom:g+y,left:x}}const UE={ignoreTransform:!1};function Bi(e,n){n===void 0&&(n=UE);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:b}=Xn(e).getComputedStyle(e);g&&(r=LE(r,g,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:x}=r;return{top:i,left:c,width:u,height:f,bottom:m,right:x}}function Px(e){return Bi(e,{ignoreTransform:!0})}function BE(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function qE(e,n){return n===void 0&&(n=Xn(e).getComputedStyle(e)),n.position==="fixed"}function $E(e,n){n===void 0&&(n=Xn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?r.test(u):!1})}function Sh(e,n){const r=[];function i(c){if(n!=null&&r.length>=n||!c)return r;if(bh(c)&&c.scrollingElement!=null&&!r.includes(c.scrollingElement))return r.push(c.scrollingElement),r;if(!no(c)||sb(c)||r.includes(c))return r;const u=Xn(e).getComputedStyle(c);return c!==e&&$E(c,u)&&r.push(c),qE(c,u)?r:i(c.parentNode)}return e?i(e):r}function lb(e){const[n]=Sh(e,1);return n??null}function Ef(e){return!Jc||!e?null:Li(e)?e:vh(e)?bh(e)||e===Ui(e).scrollingElement?window:no(e)?e:null:null}function ob(e){return Li(e)?e.scrollX:e.scrollLeft}function cb(e){return Li(e)?e.scrollY:e.scrollTop}function Pf(e){return{x:ob(e),y:cb(e)}}var wn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(wn||(wn={}));function ub(e){return!Jc||!e?!1:e===document.scrollingElement}function db(e){const n={x:0,y:0},r=ub(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const ZE={x:.2,y:.2};function HE(e,n,r,i,c){let{top:u,left:f,right:m,bottom:x}=r;i===void 0&&(i=10),c===void 0&&(c=ZE);const{isTop:g,isBottom:b,isLeft:y,isRight:w}=db(e),j={x:0,y:0},T={x:0,y:0},E={height:n.height*c.y,width:n.width*c.x};return!g&&u<=n.top+E.height?(j.y=wn.Backward,T.y=i*Math.abs((n.top+E.height-u)/E.height)):!b&&x>=n.bottom-E.height&&(j.y=wn.Forward,T.y=i*Math.abs((n.bottom-E.height-x)/E.height)),!w&&m>=n.right-E.width?(j.x=wn.Forward,T.x=i*Math.abs((n.right-E.width-m)/E.width)):!y&&f<=n.left+E.width&&(j.x=wn.Backward,T.x=i*Math.abs((n.left+E.width-f)/E.width)),{direction:j,speed:T}}function VE(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:r,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function fb(e){return e.reduce((n,r)=>Ai(n,Pf(r)),Fs)}function FE(e){return e.reduce((n,r)=>n+ob(r),0)}function IE(e){return e.reduce((n,r)=>n+cb(r),0)}function QE(e,n){if(n===void 0&&(n=Bi),!e)return;const{top:r,left:i,bottom:c,right:u}=n(e);lb(e)&&(c<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const GE=[["x",["left","right"],FE],["y",["top","bottom"],IE]];class jh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Sh(r),c=fb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of GE)for(const x of f)Object.defineProperty(this,x,{get:()=>{const g=m(i),b=c[u]-g;return this.rect[x]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ul{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var c;(c=this.target)==null||c.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function WE(e){const{EventTarget:n}=Xn(e);return e instanceof n?e:Ui(e)}function Nf(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var Ns;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ns||(Ns={}));function Kx(e){e.preventDefault()}function YE(e){e.stopPropagation()}var ct;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ct||(ct={}));const hb={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},PE=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case ct.Right:return{...r,x:r.x+25};case ct.Left:return{...r,x:r.x-25};case ct.Down:return{...r,y:r.y+25};case ct.Up:return{...r,y:r.y-25}}};class mb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Ul(Ui(r)),this.windowListeners=new Ul(Xn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ns.Resize,this.handleCancel),this.windowListeners.add(Ns.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ns.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&QE(i),r(Fs)}handleKeyDown(n){if(wh(n)){const{active:r,context:i,options:c}=this.props,{keyboardCodes:u=hb,coordinateGetter:f=PE,scrollBehavior:m="smooth"}=c,{code:x}=n;if(u.end.includes(x)){this.handleEnd(n);return}if(u.cancel.includes(x)){this.handleCancel(n);return}const{collisionRect:g}=i.current,b=g?{x:g.left,y:g.top}:Fs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:r,context:i.current,currentCoordinates:b});if(y){const w=$c(y,b),j={x:0,y:0},{scrollableAncestors:T}=i.current;for(const E of T){const O=n.code,{isTop:B,isRight:_,isLeft:A,isBottom:q,maxScroll:$,minScroll:P}=db(E),Y=VE(E),K={x:Math.min(O===ct.Right?Y.right-Y.width/2:Y.right,Math.max(O===ct.Right?Y.left:Y.left+Y.width/2,y.x)),y:Math.min(O===ct.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(O===ct.Down?Y.top:Y.top+Y.height/2,y.y))},ne=O===ct.Right&&!_||O===ct.Left&&!A,oe=O===ct.Down&&!q||O===ct.Up&&!B;if(ne&&K.x!==y.x){const ce=E.scrollLeft+w.x,me=O===ct.Right&&ce<=$.x||O===ct.Left&&ce>=P.x;if(me&&!w.y){E.scrollTo({left:ce,behavior:m});return}me?j.x=E.scrollLeft-ce:j.x=O===ct.Right?E.scrollLeft-$.x:E.scrollLeft-P.x,j.x&&E.scrollBy({left:-j.x,behavior:m});break}else if(oe&&K.y!==y.y){const ce=E.scrollTop+w.y,me=O===ct.Down&&ce<=$.y||O===ct.Up&&ce>=P.y;if(me&&!w.x){E.scrollTo({top:ce,behavior:m});return}me?j.y=E.scrollTop-ce:j.y=O===ct.Down?E.scrollTop-$.y:E.scrollTop-P.y,j.y&&E.scrollBy({top:-j.y,behavior:m});break}}this.handleMove(n,Ai($c(y,this.referenceCoordinates),j))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mb.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=hb,onActivation:c}=n,{active:u}=r;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function Xx(e){return!!(e&&"distance"in e)}function Jx(e){return!!(e&&"delay"in e)}class Eh{constructor(n,r,i){var c;i===void 0&&(i=WE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:f}=u;this.props=n,this.events=r,this.document=Ui(f),this.documentListeners=new Ul(this.document),this.listeners=new Ul(i),this.windowListeners=new Ul(Xn(f)),this.initialCoordinates=(c=Yf(u))!=null?c:Fs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Ns.Resize,this.handleCancel),this.windowListeners.add(Ns.DragStart,Kx),this.windowListeners.add(Ns.VisibilityChange,this.handleCancel),this.windowListeners.add(Ns.ContextMenu,Kx),this.documentListeners.add(Ns.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Jx(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Xx(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(Ns.Click,YE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ns.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const x=(r=Yf(n))!=null?r:Fs,g=$c(c,x);if(!i&&m){if(Xx(m)){if(m.tolerance!=null&&Nf(g,m.tolerance))return this.handleCancel();if(Nf(g,m.distance))return this.handleStart()}if(Jx(m)&&Nf(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}n.cancelable&&n.preventDefault(),f(x)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const KE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Nh extends Eh{constructor(n){const{event:r}=n,i=Ui(r.target);super(n,KE,i)}}Nh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const XE={move:{name:"mousemove"},end:{name:"mouseup"}};var Kf;(function(e){e[e.RightClick=2]="RightClick"})(Kf||(Kf={}));class JE extends Eh{constructor(n){super(n,XE,Ui(n.event.target))}}JE.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===Kf.RightClick?!1:(i?.({event:r}),!0)}}];const _f={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eN extends Eh{constructor(n){super(n,_f)}static setup(){return window.addEventListener(_f.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(_f.move.name,n)};function n(){}}}eN.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:c}=r;return c.length>1?!1:(i?.({event:r}),!0)}}];var Bl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Bl||(Bl={}));var Hc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hc||(Hc={}));function tN(e){let{acceleration:n,activator:r=Bl.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=Hc.TreeOrder,pointerCoordinates:x,scrollableAncestors:g,scrollableAncestorRects:b,delta:y,threshold:w}=e;const j=sN({delta:y,disabled:!u}),[T,E]=uE(),O=p.useRef({x:0,y:0}),B=p.useRef({x:0,y:0}),_=p.useMemo(()=>{switch(r){case Bl.Pointer:return x?{top:x.y,bottom:x.y,left:x.x,right:x.x}:null;case Bl.DraggableRect:return c}},[r,c,x]),A=p.useRef(null),q=p.useCallback(()=>{const P=A.current;if(!P)return;const Y=O.current.x*B.current.x,K=O.current.y*B.current.y;P.scrollBy(Y,K)},[]),$=p.useMemo(()=>m===Hc.TreeOrder?[...g].reverse():g,[m,g]);p.useEffect(()=>{if(!u||!g.length||!_){E();return}for(const P of $){if(i?.(P)===!1)continue;const Y=g.indexOf(P),K=b[Y];if(!K)continue;const{direction:ne,speed:oe}=HE(P,K,_,n,w);for(const ce of["x","y"])j[ce][ne[ce]]||(oe[ce]=0,ne[ce]=0);if(oe.x>0||oe.y>0){E(),A.current=P,T(q,f),O.current=oe,B.current=ne;return}}O.current={x:0,y:0},B.current={x:0,y:0},E()},[n,q,i,E,u,f,JSON.stringify(_),JSON.stringify(j),T,g,$,b,JSON.stringify(w)])}const nN={x:{[wn.Backward]:!1,[wn.Forward]:!1},y:{[wn.Backward]:!1,[wn.Forward]:!1}};function sN(e){let{delta:n,disabled:r}=e;const i=Wf(n);return so(c=>{if(r||!i||!c)return nN;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[wn.Backward]:c.x[wn.Backward]||u.x===-1,[wn.Forward]:c.x[wn.Forward]||u.x===1},y:{[wn.Backward]:c.y[wn.Backward]||u.y===-1,[wn.Forward]:c.y[wn.Forward]||u.y===1}}},[r,n,i])}function rN(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return so(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function aN(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...r,...u]},[]),[e,n])}var Yl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Yl||(Yl={}));var Xf;(function(e){e.Optimized="optimized"})(Xf||(Xf={}));const e0=new Map;function iN(e,n){let{dragging:r,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:x,strategy:g}=c,b=p.useRef(e),y=O(),w=Gl(y),j=p.useCallback(function(B){B===void 0&&(B=[]),!w.current&&f(_=>_===null?B:_.concat(B.filter(A=>!_.includes(A))))},[w]),T=p.useRef(null),E=so(B=>{if(y&&!r)return e0;if(!B||B===e0||b.current!==e||u!=null){const _=new Map;for(let A of e){if(!A)continue;if(u&&u.length>0&&!u.includes(A.id)&&A.rect.current){_.set(A.id,A.rect.current);continue}const q=A.node.current,$=q?new jh(x(q),q):null;A.rect.current=$,$&&_.set(A.id,$)}return _}return B},[e,u,r,y,x]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||j()},[r,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||T.current!==null||(T.current=setTimeout(()=>{j(),T.current=null},m))},[m,y,j,...i]),{droppableRects:E,measureDroppableContainers:j,measuringScheduled:u!=null};function O(){switch(g){case Yl.Always:return!1;case Yl.BeforeDragging:return r;default:return!r}}}function pb(e,n){return so(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function lN(e,n){return pb(e,n)}function oN(e){let{callback:n,disabled:r}=e;const i=yh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function eu(e){let{callback:n,disabled:r}=e;const i=yh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function cN(e){return new jh(Bi(e),e)}function t0(e,n,r){n===void 0&&(n=cN);const[i,c]=p.useState(null);function u(){c(x=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=x??r)!=null?g:null}const b=n(e);return JSON.stringify(x)===JSON.stringify(b)?x:b})}const f=oN({callback(x){if(e)for(const g of x){const{type:b,target:y}=g;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=eu({callback:u});return tr(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function uN(e){const n=pb(e);return ib(e,n)}const n0=[];function dN(e){const n=p.useRef(e),r=so(i=>e?i&&i!==n0&&e&&n.current&&e.parentNode===n.current.parentNode?i:Sh(e):n0,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function fN(e){const[n,r]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=Ef(u.target);f&&r(m=>m?(m.set(f,Pf(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(x=>{const g=Ef(x);return g?(g.addEventListener("scroll",c,{passive:!0}),[g,Pf(g)]):null}).filter(x=>x!=null);r(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(x=>{const g=Ef(x);g?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>Ai(u,f),Fs):fb(e):Fs,[e,n])}function s0(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==Fs;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?$c(e,r.current):Fs}function hN(e){p.useEffect(()=>{if(!Jc)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function mN(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:c,handler:u}=i;return r[c]=f=>{u(f,n)},r},{}),[e,n])}function gb(e){return p.useMemo(()=>e?BE(e):null,[e])}const r0=[];function pN(e,n){n===void 0&&(n=Bi);const[r]=e,i=gb(r?Xn(r):null),[c,u]=p.useState(r0);function f(){u(()=>e.length?e.map(x=>ub(x)?i:new jh(n(x),x)):r0)}const m=eu({callback:f});return tr(()=>{m?.disconnect(),f(),e.forEach(x=>m?.observe(x))},[e]),c}function gN(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return no(n)?n:e}function xN(e){let{measure:n}=e;const[r,i]=p.useState(null),c=p.useCallback(g=>{for(const{target:b}of g)if(no(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=eu({callback:c}),f=p.useCallback(g=>{const b=gN(g);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,x]=qc(f);return p.useMemo(()=>({nodeRef:m,rect:r,setRef:x}),[r,m,x])}const vN=[{sensor:Nh,options:{}},{sensor:mb,options:{}}],bN={current:{}},Mc={draggable:{measure:Px},droppable:{measure:Px,strategy:Yl.WhileDragging,frequency:Xf.Optimized},dragOverlay:{measure:Bi}};class ql extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const yN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ql,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Mc,measureDroppableContainers:Zc,windowRect:null,measuringScheduled:!1},wN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zc,draggableNodes:new Map,over:null,measureDroppableContainers:Zc},tu=p.createContext(wN),xb=p.createContext(yN);function SN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ql}}}function jN(e,n){switch(n.type){case un.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case un.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:r}=n,{id:i}=r,c=new ql(e.droppable.containers);return c.set(i,r),{...e,droppable:{...e.droppable,containers:c}}}case un.SetDroppableDisabled:{const{id:r,key:i,disabled:c}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const f=new ql(e.droppable.containers);return f.set(r,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case un.UnregisterDroppable:{const{id:r,key:i}=n,c=e.droppable.containers.get(r);if(!c||i!==c.key)return e;const u=new ql(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function EN(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:c}=p.useContext(tu),u=Wf(i),f=Wf(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!wh(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:x,node:g}=m;if(!x.current&&!g.current)return;requestAnimationFrame(()=>{for(const b of[x.current,g.current]){if(!b)continue;const y=hE(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function NN(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),r):r}function _N(e){return p.useMemo(()=>({draggable:{...Mc.draggable,...e?.draggable},droppable:{...Mc.droppable,...e?.droppable},dragOverlay:{...Mc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function CN(e){let{activeNode:n,measure:r,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;tr(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const b=r(g),y=ib(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=lb(g);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,r])}const vb=p.createContext({...Fs,scaleX:1,scaleY:1});var Kr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Kr||(Kr={}));const kN=p.memo(function(n){var r,i,c,u;let{id:f,accessibility:m,autoScroll:x=!0,children:g,sensors:b=vN,collisionDetection:y=ME,measuring:w,modifiers:j,...T}=n;const E=p.useReducer(jN,void 0,SN),[O,B]=E,[_,A]=bE(),[q,$]=p.useState(Kr.Uninitialized),P=q===Kr.Initialized,{draggable:{active:Y,nodes:K,translate:ne},droppable:{containers:oe}}=O,ce=Y!=null?K.get(Y):null,me=p.useRef({initial:null,translated:null}),ue=p.useMemo(()=>{var it;return Y!=null?{id:Y,data:(it=ce?.data)!=null?it:bN,rect:me}:null},[Y,ce]),xe=p.useRef(null),[ye,U]=p.useState(null),[ee,ge]=p.useState(null),Se=Gl(T,Object.values(T)),ae=ro("DndDescribedBy",f),N=p.useMemo(()=>oe.getEnabled(),[oe]),I=_N(w),{droppableRects:R,measureDroppableContainers:z,measuringScheduled:F}=iN(N,{dragging:P,dependencies:[ne.x,ne.y],config:I.droppable}),V=rN(K,Y),pe=p.useMemo(()=>ee?Yf(ee):null,[ee]),be=Ts(),Ee=lN(V,I.draggable.measure);CN({activeNode:Y!=null?K.get(Y):null,config:be.layoutShiftCompensation,initialRect:Ee,measure:I.draggable.measure});const Q=t0(V,I.draggable.measure,Ee),Ne=t0(V?V.parentElement:null),_e=p.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:R,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:oe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=oe.getNodeFor((r=_e.current.over)==null?void 0:r.id),Oe=xN({measure:I.dragOverlay.measure}),Te=(i=Oe.nodeRef.current)!=null?i:V,Fe=P?(c=Oe.rect)!=null?c:Q:null,et=!!(Oe.nodeRef.current&&Oe.rect),tt=uN(et?null:Q),Pt=gb(Te?Xn(Te):null),M=dN(P?Ze??V:null),k=pN(M),C=NN(j,{transform:{x:ne.x-tt.x,y:ne.y-tt.y,scaleX:1,scaleY:1},activatorEvent:ee,active:ue,activeNodeRect:Q,containerNodeRect:Ne,draggingNodeRect:Fe,over:_e.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:M,scrollableAncestorRects:k,windowRect:Pt}),se=pe?Ai(pe,ne):null,J=fN(M),ie=s0(J),je=s0(J,[Q]),Le=Ai(C,ie),Ve=Fe?zE(Fe,C):null,St=ue&&Ve?y({active:ue,collisionRect:Ve,droppableRects:R,droppableContainers:N,pointerCoordinates:se}):null,we=kE(St,"id"),[Ce,He]=p.useState(null),jt=et?C:Ai(C,je),at=DE(jt,(u=Ce?.rect)!=null?u:null,Q),Vt=p.useRef(null),zt=p.useCallback((it,ut)=>{let{sensor:Ot,options:An}=ut;if(xe.current==null)return;const hn=K.get(xe.current);if(!hn)return;const mn=it.nativeEvent,ke=new Ot({active:xe.current,activeNode:hn,event:mn,options:An,context:_e,onAbort(Lt){if(!K.get(Lt))return;const{onDragAbort:Rn}=Se.current,kt={id:Lt};Rn?.(kt),_({type:"onDragAbort",event:kt})},onPending(Lt,ts,Rn,kt){if(!K.get(Lt))return;const{onDragPending:As}=Se.current,ln={id:Lt,constraint:ts,initialCoordinates:Rn,offset:kt};As?.(ln),_({type:"onDragPending",event:ln})},onStart(Lt){const ts=xe.current;if(ts==null)return;const Rn=K.get(ts);if(!Rn)return;const{onDragStart:kt}=Se.current,ns={activatorEvent:mn,active:{id:ts,data:Rn.data,rect:me}};Sr.unstable_batchedUpdates(()=>{kt?.(ns),$(Kr.Initializing),B({type:un.DragStart,initialCoordinates:Lt,active:ts}),_({type:"onDragStart",event:ns}),U(Vt.current),ge(mn)})},onMove(Lt){B({type:un.DragMove,coordinates:Lt})},onEnd:Sn(un.DragEnd),onCancel:Sn(un.DragCancel)});Vt.current=ke;function Sn(Lt){return async function(){const{active:Rn,collisions:kt,over:ns,scrollAdjustedTranslate:As}=_e.current;let ln=null;if(Rn&&As){const{cancelDrop:zn}=Se.current;ln={activatorEvent:mn,active:Rn,collisions:kt,delta:As,over:ns},Lt===un.DragEnd&&typeof zn=="function"&&await Promise.resolve(zn(ln))&&(Lt=un.DragCancel)}xe.current=null,Sr.unstable_batchedUpdates(()=>{B({type:Lt}),$(Kr.Uninitialized),He(null),U(null),ge(null),Vt.current=null;const zn=Lt===un.DragEnd?"onDragEnd":"onDragCancel";if(ln){const On=Se.current[zn];On?.(ln),_({type:zn,event:ln})}})}}},[K]),Nr=p.useCallback((it,ut)=>(Ot,An)=>{const hn=Ot.nativeEvent,mn=K.get(An);if(xe.current!==null||!mn||hn.dndKit||hn.defaultPrevented)return;const ke={active:mn};it(Ot,ut.options,ke)===!0&&(hn.dndKit={capturedBy:ut.sensor},xe.current=An,zt(Ot,ut))},[K,zt]),es=aN(b,Nr);hN(b),tr(()=>{Q&&q===Kr.Initializing&&$(Kr.Initialized)},[Q,q]),p.useEffect(()=>{const{onDragMove:it}=Se.current,{active:ut,activatorEvent:Ot,collisions:An,over:hn}=_e.current;if(!ut||!Ot)return;const mn={active:ut,activatorEvent:Ot,collisions:An,delta:{x:Le.x,y:Le.y},over:hn};Sr.unstable_batchedUpdates(()=>{it?.(mn),_({type:"onDragMove",event:mn})})},[Le.x,Le.y]),p.useEffect(()=>{const{active:it,activatorEvent:ut,collisions:Ot,droppableContainers:An,scrollAdjustedTranslate:hn}=_e.current;if(!it||xe.current==null||!ut||!hn)return;const{onDragOver:mn}=Se.current,ke=An.get(we),Sn=ke&&ke.rect.current?{id:ke.id,rect:ke.rect.current,data:ke.data,disabled:ke.disabled}:null,Lt={active:it,activatorEvent:ut,collisions:Ot,delta:{x:hn.x,y:hn.y},over:Sn};Sr.unstable_batchedUpdates(()=>{He(Sn),mn?.(Lt),_({type:"onDragOver",event:Lt})})},[we]),tr(()=>{_e.current={activatorEvent:ee,active:ue,activeNode:V,collisionRect:Ve,collisions:St,droppableRects:R,draggableNodes:K,draggingNode:Te,draggingNodeRect:Fe,droppableContainers:oe,over:Ce,scrollableAncestors:M,scrollAdjustedTranslate:Le},me.current={initial:Fe,translated:Ve}},[ue,V,St,Ve,K,Te,Fe,R,oe,Ce,M,Le]),tN({...be,delta:ne,draggingRect:Ve,pointerCoordinates:se,scrollableAncestors:M,scrollableAncestorRects:k});const aa=p.useMemo(()=>({active:ue,activeNode:V,activeNodeRect:Q,activatorEvent:ee,collisions:St,containerNodeRect:Ne,dragOverlay:Oe,draggableNodes:K,droppableContainers:oe,droppableRects:R,over:Ce,measureDroppableContainers:z,scrollableAncestors:M,scrollableAncestorRects:k,measuringConfiguration:I,measuringScheduled:F,windowRect:Pt}),[ue,V,Q,ee,St,Ne,Oe,K,oe,R,Ce,z,M,k,I,F,Pt]),Ct=p.useMemo(()=>({activatorEvent:ee,activators:es,active:ue,activeNodeRect:Q,ariaDescribedById:{draggable:ae},dispatch:B,draggableNodes:K,over:Ce,measureDroppableContainers:z}),[ee,es,ue,Q,B,ae,K,Ce,z]);return xt.createElement(ab.Provider,{value:A},xt.createElement(tu.Provider,{value:Ct},xt.createElement(xb.Provider,{value:aa},xt.createElement(vb.Provider,{value:at},g)),xt.createElement(EN,{disabled:m?.restoreFocus===!1})),xt.createElement(SE,{...m,hiddenTextDescribedById:ae}));function Ts(){const it=ye?.autoScrollEnabled===!1,ut=typeof x=="object"?x.enabled===!1:x===!1,Ot=P&&!it&&!ut;return typeof x=="object"?{...x,enabled:Ot}:{enabled:Ot}}}),TN=p.createContext(null),a0="button",AN="Draggable";function MN(e){let{id:n,data:r,disabled:i=!1,attributes:c}=e;const u=ro(AN),{activators:f,activatorEvent:m,active:x,activeNodeRect:g,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(tu),{role:j=a0,roleDescription:T="draggable",tabIndex:E=0}=c??{},O=x?.id===n,B=p.useContext(O?vb:TN),[_,A]=qc(),[q,$]=qc(),P=mN(f,n),Y=Gl(r);tr(()=>(y.set(n,{id:n,key:u,node:_,activatorNode:q,data:Y}),()=>{const ne=y.get(n);ne&&ne.key===u&&y.delete(n)}),[y,n]);const K=p.useMemo(()=>({role:j,tabIndex:E,"aria-disabled":i,"aria-pressed":O&&j===a0?!0:void 0,"aria-roledescription":T,"aria-describedby":b.draggable}),[i,j,E,O,T,b.draggable]);return{active:x,activatorEvent:m,activeNodeRect:g,attributes:K,isDragging:O,listeners:i?void 0:P,node:_,over:w,setNodeRef:A,setActivatorNodeRef:$,transform:B}}function DN(){return p.useContext(xb)}const RN="Droppable",zN={timeout:25};function ON(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:c}=e;const u=ro(RN),{active:f,dispatch:m,over:x,measureDroppableContainers:g}=p.useContext(tu),b=p.useRef({disabled:r}),y=p.useRef(!1),w=p.useRef(null),j=p.useRef(null),{disabled:T,updateMeasurementsFor:E,timeout:O}={...zN,...c},B=Gl(E??i),_=p.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{g(Array.isArray(B.current)?B.current:[B.current]),j.current=null},O)},[O]),A=eu({callback:_,disabled:T||!f}),q=p.useCallback((K,ne)=>{A&&(ne&&(A.unobserve(ne),y.current=!1),K&&A.observe(K))},[A]),[$,P]=qc(q),Y=Gl(n);return p.useEffect(()=>{!A||!$.current||(A.disconnect(),y.current=!1,A.observe($.current))},[$,A]),p.useEffect(()=>(m({type:un.RegisterDroppable,element:{id:i,key:u,disabled:r,node:$,rect:w,data:Y}}),()=>m({type:un.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(m({type:un.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,m]),{active:f,rect:w,isOver:x?.id===i,node:$,over:x,setNodeRef:P}}function bb(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function LN(e,n){return e.reduce((r,i,c)=>{const u=n.get(i);return u&&(r[c]=u),r},Array(e.length))}function jc(e){return e!==null&&e>=0}function UN(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function BN(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ec={scaleX:1,scaleY:1},qN=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=r[c])!=null?n:i;if(!m)return null;const x=$N(r,f,c);if(f===c){const g=r[u];return g?{x:c<u?g.left+g.width-(m.left+m.width):g.left-m.left,y:0,...Ec}:null}return f>c&&f<=u?{x:-m.width-x,y:0,...Ec}:f<c&&f>=u?{x:m.width+x,y:0,...Ec}:{x:0,y:0,...Ec}};function $N(e,n,r){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:r<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const yb=e=>{let{rects:n,activeIndex:r,overIndex:i,index:c}=e;const u=bb(n,i,r),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},wb="Sortable",Sb=xt.createContext({activeIndex:-1,containerId:wb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yb,disabled:{draggable:!1,droppable:!1}});function ZN(e){let{children:n,id:r,items:i,strategy:c=yb,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:x,over:g,measureDroppableContainers:b}=DN(),y=ro(wb,r),w=m.rect!==null,j=p.useMemo(()=>i.map(P=>typeof P=="object"&&"id"in P?P.id:P),[i]),T=f!=null,E=f?j.indexOf(f.id):-1,O=g?j.indexOf(g.id):-1,B=p.useRef(j),_=!UN(j,B.current),A=O!==-1&&E===-1||_,q=BN(u);tr(()=>{_&&T&&b(j)},[_,j,T,b]),p.useEffect(()=>{B.current=j},[j]);const $=p.useMemo(()=>({activeIndex:E,containerId:y,disabled:q,disableTransforms:A,items:j,overIndex:O,useDragOverlay:w,sortedRects:LN(j,x),strategy:c}),[E,y,q.draggable,q.droppable,A,j,O,x,w,c]);return xt.createElement(Sb.Provider,{value:$},n)}const HN=e=>{let{id:n,items:r,activeIndex:i,overIndex:c}=e;return bb(r,i,c).indexOf(n)},VN=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:x,transition:g}=e;return!g||!i||m!==u&&c===f?!1:r?!0:f!==c&&n===x},FN={duration:200,easing:"ease"},jb="transform",IN=Wl.Transition.toString({property:jb,duration:0,easing:"linear"}),QN={roleDescription:"sortable"};function GN(e){let{disabled:n,index:r,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(r);return tr(()=>{if(!n&&r!==m.current&&i.current){const x=c.current;if(x){const g=Bi(i.current,{ignoreTransform:!0}),b={x:x.left-g.left,y:x.top-g.top,scaleX:x.width/g.width,scaleY:x.height/g.height};(b.x||b.y)&&f(b)}}r!==m.current&&(m.current=r)},[n,r,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function WN(e){let{animateLayoutChanges:n=VN,attributes:r,disabled:i,data:c,getNewIndex:u=HN,id:f,strategy:m,resizeObserverConfig:x,transition:g=FN}=e;const{items:b,containerId:y,activeIndex:w,disabled:j,disableTransforms:T,sortedRects:E,overIndex:O,useDragOverlay:B,strategy:_}=p.useContext(Sb),A=YN(i,j),q=b.indexOf(f),$=p.useMemo(()=>({sortable:{containerId:y,index:q,items:b},...c}),[y,c,q,b]),P=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:Y,node:K,isOver:ne,setNodeRef:oe}=ON({id:f,data:$,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...x}}),{active:ce,activatorEvent:me,activeNodeRect:ue,attributes:xe,setNodeRef:ye,listeners:U,isDragging:ee,over:ge,setActivatorNodeRef:Se,transform:ae}=MN({id:f,data:$,attributes:{...QN,...r},disabled:A.draggable}),N=cE(oe,ye),I=!!ce,R=I&&!T&&jc(w)&&jc(O),z=!B&&ee,F=z&&R?ae:null,pe=R?F??(m??_)({rects:E,activeNodeRect:ue,activeIndex:w,overIndex:O,index:q}):null,be=jc(w)&&jc(O)?u({id:f,items:b,activeIndex:w,overIndex:O}):q,Ee=ce?.id,Q=p.useRef({activeId:Ee,items:b,newIndex:be,containerId:y}),Ne=b!==Q.current.items,_e=n({active:ce,containerId:y,isDragging:ee,isSorting:I,id:f,index:q,items:b,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:g,wasDragging:Q.current.activeId!=null}),Ze=GN({disabled:!_e,index:q,node:K,rect:Y});return p.useEffect(()=>{I&&Q.current.newIndex!==be&&(Q.current.newIndex=be),y!==Q.current.containerId&&(Q.current.containerId=y),b!==Q.current.items&&(Q.current.items=b)},[I,be,y,b]),p.useEffect(()=>{if(Ee===Q.current.activeId)return;if(Ee!=null&&Q.current.activeId==null){Q.current.activeId=Ee;return}const Te=setTimeout(()=>{Q.current.activeId=Ee},50);return()=>clearTimeout(Te)},[Ee]),{active:ce,activeIndex:w,attributes:xe,data:$,rect:Y,index:q,newIndex:be,items:b,isOver:ne,isSorting:I,isDragging:ee,listeners:U,node:K,overIndex:O,over:ge,setNodeRef:N,setActivatorNodeRef:Se,setDroppableNodeRef:oe,setDraggableNodeRef:ye,transform:Ze??pe,transition:Oe()};function Oe(){if(Ze||Ne&&Q.current.newIndex===q)return IN;if(!(z&&!wh(me)||!g)&&(I||_e))return Wl.Transition.toString({...g,property:jb})}}function YN(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ct.Down,ct.Right,ct.Up,ct.Left;const PN=p.lazy(()=>kS(()=>import("./MonacoCodeEditor-I0jkHFg3.js"),[])),KN=p.forwardRef(function(n,r){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:ve("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(PN,{...c,ref:r,className:i})})}),XN=232,JN=30,ka=6;function Pl({open:e,position:n,onClose:r,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,x]=p.useState(null),g=p.useMemo(()=>i.findIndex(j=>!j.disabled),[i]),[b,y]=p.useState(()=>g>=0?g:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){x(null);return}const j=i.length*JN+ka*2,T=Math.max(ka,(window.innerWidth||0)-XN-ka),E=Math.max(ka,(window.innerHeight||0)-j-ka),O=Math.min(Math.max(n.x,ka),T),B=Math.min(Math.max(n.y,ka),E);x({x:O,y:B})},[e,n,i.length]),p.useEffect(()=>{e&&y(g>=0?g:0)},[e,g]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const j=O=>{u.current&&(u.current.contains(O.target)||r())},T=O=>{if(u.current){if(u.current.contains(O.target)){O.preventDefault();return}r()}},E=O=>{if(O.key==="Escape"){O.preventDefault(),r();return}if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const B=O.key==="ArrowDown"?1:-1;y(_=>{if(i.length===0)return _;let A=_;for(let q=0;q<i.length;q+=1)if(A=(A+B+i.length)%i.length,!i[A]?.disabled)return A;return _});return}if(O.key==="Enter"||O.key===" "){O.preventDefault();const B=i[b];B&&!B.disabled&&(B.onSelect(),r())}};return window.addEventListener("mousedown",j),window.addEventListener("contextmenu",T),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",j),window.removeEventListener("contextmenu",T),window.removeEventListener("keydown",E)}},[e,r,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return Sr.createPortal(l.jsx("div",{ref:u,role:"menu",className:ve("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((j,T)=>{const E=!!j.disabled,O=!!j.danger;return l.jsxs(p.Fragment,{children:[j.dividerAbove?l.jsx("li",{role:"separator",className:ve("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:B=>{f.current[T]=B},type:"button",role:"menuitem",className:ve("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,E&&w.disabled,O&&!E&&w.danger,E&&"cursor-default"),onClick:B=>{B.stopPropagation(),!E&&(j.onSelect(),r())},onMouseEnter:()=>{E||y(T)},disabled:E,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[j.icon?l.jsx("span",{className:"text-base opacity-80",children:j.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:j.label})]}),j.shortcut?l.jsx("span",{className:ve("text-[11px] uppercase tracking-wide",w.shortcut),children:j.shortcut}):null]})})]},j.id)})})}),window.document.body)}const i0=220,l0=64,e2=14;function o0({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:x,onUnpinTab:g,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:j,editorTheme:T,menuAppearance:E,canSaveFiles:O=!1,minHeight:B}){const _=e.length>0,[A,q]=p.useState(null),[$,P]=p.useState(null),[Y,K]=p.useState(null),[ne,oe]=p.useState({left:!1,right:!1}),[ce,me]=p.useState(0),ue=p.useRef(null),xe=p.useRef(null),ye=p.useMemo(()=>e.find(Q=>Q.id===n)??e[0]??null,[e,n]),U=p.useMemo(()=>e.filter(Q=>Q.pinned),[e]),ee=p.useMemo(()=>e.filter(Q=>!Q.pinned),[e]),ge=p.useMemo(()=>e.slice().sort((Q,Ne)=>Q.id.localeCompare(Ne.id)),[e]),ae=p.useMemo(()=>e.filter(Q=>Q.status==="ready"&&Q.content!==Q.initialContent),[e]).length>0,N=EE(jE(Nh,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!_)return;const Q=Ne=>{if(!(Ne.ctrlKey||Ne.metaKey))return;if(Ne.key.toLowerCase()==="w"){if(!n)return;Ne.preventDefault(),i(n);return}if(Ne.key==="Tab"){if(e.length<2)return;Ne.preventDefault(),j(Ne.shiftKey?"backward":"forward");return}const _e=Ze=>{if(e.length<2)return;const Oe=e.findIndex(tt=>tt.id===n),Fe=((Oe>=0?Oe:0)+Ze+e.length)%e.length,et=e[Fe];et&&r(et.id)};if(Ne.key==="PageUp"){Ne.preventDefault(),_e(-1);return}Ne.key==="PageDown"&&(Ne.preventDefault(),_e(1))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[_,e,n,i,r,j]),p.useEffect(()=>{A&&(e.some(Q=>Q.id===A.tabId)||q(null))},[A,e]);const I=Q=>{K(String(Q.active.id))},R=Q=>{const Ne=Q.active.id,_e=Q.over?.id;if(!_e){K(null);return}if(Ne!==_e){const Ze=e.findIndex(Te=>Te.id===Ne),Oe=e.findIndex(Te=>Te.id===_e);if(Ze!==-1&&Oe!==-1){const Te=Ze<Oe?Oe+1:Oe,et=e[Oe]?.pinned?"pinned":"regular";m(String(Ne),Te,{zone:et})}}K(null)},z=()=>{K(null)},F=p.useCallback(()=>{const Q=ue.current;if(!Q){oe({left:!1,right:!1});return}const{scrollLeft:Ne,scrollWidth:_e,clientWidth:Ze}=Q;oe({left:Ne>2,right:Ne+Ze<_e-2})},[]);p.useEffect(()=>{const Q=ue.current;if(!Q){oe({left:!1,right:!1});return}F();const Ne=()=>F();Q.addEventListener("scroll",Ne),window.addEventListener("resize",F);const _e=typeof ResizeObserver<"u"?new ResizeObserver(F):null;return _e?.observe(Q),()=>{Q.removeEventListener("scroll",Ne),window.removeEventListener("resize",F),_e?.disconnect()}},[e.length,F]),p.useEffect(()=>{if(!Y){me(0);return}const Q=Ne=>{const _e=ue.current;if(!_e){me(0);return}const Ze=_e.getBoundingClientRect();Ne.clientX<Ze.left+l0?me(-1):Ne.clientX>Ze.right-l0?me(1):me(0)};return window.addEventListener("pointermove",Q),()=>{window.removeEventListener("pointermove",Q),me(0)}},[Y]),p.useEffect(()=>{if(!Y||ce===0)return;let Q;const Ne=()=>{const _e=ue.current;_e&&(_e.scrollBy({left:ce*e2}),Q=window.requestAnimationFrame(Ne))};return Q=window.requestAnimationFrame(Ne),()=>{window.cancelAnimationFrame(Q)}},[ce,Y]),p.useEffect(()=>{if(!n)return;const Q=ue.current;if(!Q)return;const Ne=`[data-tab-id="${p2(n)}"]`;Q.querySelector(Ne)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const V=p.useMemo(()=>{if(!A)return[];const Q=e.find(tt=>tt.id===A.tabId);if(!Q)return[];const Ne=e.findIndex(tt=>tt.id===A.tabId),_e=Ne>=0&&Ne<e.length-1,Ze=e.length>1,Oe=Q.status==="ready"&&Q.content!==Q.initialContent,Te=!!y&&O&&Oe&&!Q.saving,Fe=!!w&&O&&ae,et={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:Q.saving?"Saving":"Save",icon:l.jsx(r2,{}),disabled:!Te,shortcut:et.save,onSelect:()=>y?.(Q.id)},{id:"save-all",label:"Save All",icon:l.jsx(a2,{}),disabled:!Fe,shortcut:et.saveAll,onSelect:()=>w?.()},{id:"pin",label:Q.pinned?"Unpin":"Pin",icon:Q.pinned?l.jsx(u2,{}):l.jsx(d0,{}),dividerAbove:!0,onSelect:()=>Q.pinned?g(Q.id):x(Q.id)},{id:"close",label:"Close",icon:l.jsx(i2,{}),dividerAbove:!0,shortcut:et.close,onSelect:()=>i(Q.id)},{id:"close-others",label:"Close Others",icon:l.jsx(l2,{}),disabled:!Ze,shortcut:et.closeOthers,onSelect:()=>c(Q.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(o2,{}),disabled:!_e,shortcut:et.closeRight,onSelect:()=>u(Q.id)},{id:"close-all",label:"Close All",icon:l.jsx(c2,{}),dividerAbove:!0,disabled:e.length===0,shortcut:et.closeAll,onSelect:()=>f()}]},[A,e,ae,O,x,g,i,c,u,f,y,w]),pe=p.useMemo(()=>{if(!_)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const Q=[],Ne=(_e,Ze)=>{Q.push({id:`switch-${_e.id}`,label:_e.name,icon:_e.pinned?l.jsx(d0,{}):l.jsx(d2,{}),shortcut:_e.id===n?"Active":void 0,dividerAbove:Ze,onSelect:()=>r(_e.id)})};return U.forEach(_e=>Ne(_e,!1)),ee.forEach((_e,Ze)=>Ne(_e,Ze===0&&U.length>0)),Q},[_,U,ee,n,r]),be=Q=>{ue.current?.scrollBy({left:Q,behavior:"smooth"})},Ee=()=>{if(typeof window>"u")return;const Q=xe.current?.getBoundingClientRect();Q&&P({x:Q.left,y:Q.bottom+6})};return!_||!ye?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:B?{minHeight:B}:void 0,children:[l.jsxs(gh,{value:ye.id,onValueChange:r,children:[l.jsx(kN,{sensors:N,collisionDetection:TE,onDragStart:I,onDragEnd:R,onDragCancel:z,children:l.jsx(ZN,{items:e.map(Q=>Q.id),strategy:qN,children:l.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[l.jsx(c0,{direction:"left",disabled:!ne.left,onClick:()=>be(-i0)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[ne.left?l.jsx(u0,{position:"left"}):null,ne.right?l.jsx(u0,{position:"right"}):null,l.jsx("div",{ref:ue,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:Q=>{Math.abs(Q.deltaY)>Math.abs(Q.deltaX)&&(Q.preventDefault(),ue.current?.scrollBy({left:Q.deltaY}))},children:l.jsx(xh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(Q=>{const Ne=Q.status==="ready"&&Q.content!==Q.initialContent,_e=Q.id===ye.id;return l.jsx(t2,{tab:Q,isActive:_e,isDirty:Ne,draggingId:Y,onContextMenu:Ze=>{Ze.preventDefault(),q({tabId:Q.id,x:Ze.clientX,y:Ze.clientY})},onCloseTab:i},Q.id)})})})]}),l.jsx(c0,{direction:"right",disabled:!ne.right,onClick:()=>be(i0)}),l.jsx("button",{ref:xe,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:Ee,children:l.jsx(m2,{})})]})})}),ge.map(Q=>l.jsx(za,{value:Q.id,className:"flex min-h-0 min-w-0 flex-1",children:Q.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",Q.name,""]}):Q.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:Q.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>r(Q.id),children:"Retry loading"})]}):l.jsx("div",{className:ve("flex min-h-0 min-w-0 flex-1",Y&&"pointer-events-none select-none"),children:l.jsx(KN,{value:Q.content,language:Q.language??"plaintext",path:Q.id,theme:T,onChange:Ne=>b(Q.id,Ne??""),onSaveShortcut:()=>{O&&y?.(Q.id)}})})},Q.id))]}),l.jsx(Pl,{open:!!A,position:A&&{x:A.x,y:A.y},onClose:()=>q(null),items:V,appearance:E}),l.jsx(Pl,{open:!!$,position:$,onClose:()=>P(null),items:pe,appearance:E})]})}function t2({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:x,transform:g,transition:b,isDragging:y}=WN({id:e.id}),w={transform:Wl.Transform.toString(g),transition:b},j=y||i===e.id,T=!!e.pinned;return l.jsxs("div",{ref:x,style:w,className:ve("group relative mr-1 flex min-w-0 items-stretch",j&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:E=>{E.button===1&&(E.preventDefault(),u(e.id))},...f,...m,children:[l.jsxs(Ll,{value:e.id,"data-tab-id":e.id,title:e.id,className:ve("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",T?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[T?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(n2,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(s2,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:ve("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:E=>{E.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function c0({direction:e,disabled:n,onClick:r}){return l.jsx("button",{type:"button",className:ve("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:r,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?l.jsx(f2,{}):l.jsx(h2,{})})}function u0({position:e}){return l.jsx("div",{className:ve("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function n2({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const Er="h-4 w-4 text-current opacity-80";function s2(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function r2(){return l.jsxs("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function a2(){return l.jsxs("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function i2(){return l.jsx("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function l2(){return l.jsxs("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function o2(){return l.jsxs("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function c2(){return l.jsxs("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function d0(){return l.jsx("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function u2(){return l.jsx("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function d2(){return l.jsx("svg",{className:Er,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function f2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function h2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function m2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function p2(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const Eb={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},g2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function f0(e){const n=new Set,r=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&r(c)})};return r(e),n}function x2({width:e,tree:n,activeFileId:r,openFileIds:i,onSelectFile:c,theme:u,canCreateFile:f=!1,isCreatingFile:m=!1,onCreateFile:x,canDeleteFile:g=!1,deletingFilePath:b=null,onDeleteFile:y,onCloseFile:w,onCloseOtherFiles:j,onCloseTabsToRight:T,onCloseAllFiles:E,onHide:O}){const[B,_]=p.useState(()=>f0(n)),[A,q]=p.useState(null),[$,P]=p.useState(null),[Y,K]=p.useState(null),ne=$?.folderId??null;p.useEffect(()=>{_(f0(n))},[n]);const oe=p.useCallback(ae=>{_(N=>{const I=new Set(N);return I.has(ae)?I.delete(ae):I.add(ae),I})},[]),ce=p.useCallback((ae,N)=>{_(I=>{const R=new Set(I);return N?R.add(ae):ae!==n.id&&R.delete(ae),R.has(n.id)||R.add(n.id),R})},[n.id]),me=p.useCallback(()=>{_(new Set([n.id]))},[n.id]),ue=p.useMemo(()=>n.children??[],[n]),xe=u==="dark"?"dark":"light",ye=p.useCallback((ae,N)=>{ae.preventDefault(),q({node:N,position:{x:ae.clientX,y:ae.clientY}})},[]),U=p.useCallback(async ae=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(ae);return}catch{}if(typeof document>"u")return;const N=document.createElement("textarea");N.value=ae,N.setAttribute("readonly","true"),N.style.position="absolute",N.style.left="-9999px",document.body.appendChild(N),N.select(),document.execCommand("copy"),document.body.removeChild(N)},[]),ee=p.useMemo(()=>{if(!A)return[];const ae=A.node,N={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(ae.kind==="file"){const R=i.includes(ae.id),z=i.length,F=i.indexOf(ae.id),V=F>=0&&F<z-1;return[{id:"open-file",label:"Open",icon:l.jsx(j2,{}),shortcut:N.open,onSelect:()=>c(ae.id)},{id:"close-file",label:"Close",icon:l.jsx(C2,{}),disabled:!R,shortcut:N.close,onSelect:()=>w(ae.id)},{id:"close-file-others",label:"Close Others",icon:l.jsx(k2,{}),disabled:!R||z<=1,shortcut:N.closeOthers,onSelect:()=>j(ae.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:l.jsx(T2,{}),disabled:!R||!V,shortcut:N.closeRight,onSelect:()=>T(ae.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:z===0,icon:l.jsx(A2,{}),shortcut:N.closeAll,onSelect:()=>E()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(m0,{}),shortcut:N.copyPath,onSelect:()=>{U(ae.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(M2,{}),shortcut:N.delete,disabled:!g||!y,onSelect:()=>{y&&(y(ae.id),q(null))}}]}const I=B.has(ae.id);return[{id:"new-file",label:"New File",icon:l.jsx(_b,{}),disabled:!f||!x,onSelect:()=>{!f||!x||(K(null),ce(ae.id,!0),P({folderId:ae.id}),q(null))}},{id:"toggle-folder",label:I?"Collapse Folder":"Expand Folder",icon:I?l.jsx(E2,{}):l.jsx(N2,{}),onSelect:()=>ce(ae.id,!I)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(_2,{}),shortcut:N.collapseAll,dividerAbove:!0,onSelect:()=>me()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(m0,{}),shortcut:N.copyPath,onSelect:()=>{U(ae.id)}}]},[A,i,c,w,j,T,E,U,B,ce,me,f,x,g,y,K,P,q]),ge=Eb[u],Se=g2[u];return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:ge.surface,borderColor:ge.border,color:ge.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:ge.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:ge.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:O,"aria-label":"Hide explorer",className:ve("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(S2,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[ue.map(ae=>l.jsx(Nb,{node:ae,depth:0,expanded:B,activeFileId:r,openFileIds:i,onToggleFolder:oe,onSelectFile:c,tokens:ge,focusRingClass:Se,onContextMenu:ye,canCreateFile:f,isCreatingFile:m,pendingCreateFolderId:ne,createError:Y,onSubmitCreateFile:async(N,I)=>{if(x){K(null);try{await x(N,I),P(null)}catch(R){const z=R instanceof Error?R.message:"Unable to create file.";K(z)}}},onCancelCreateFile:()=>{P(null),K(null)},canDeleteFile:g,deletingFilePath:b,onDeleteFile:y},ae.id)),ne&&!ue.some(ae=>ae.id===ne)?l.jsx("li",{className:"pl-2",children:l.jsx(Cb,{appearance:u,onSubmit:ae=>{x&&(K(null),x("",ae).then(()=>P(null),N=>K(N instanceof Error?N.message:"Unable to create file.")))},onCancel:()=>{P(null),K(null)},isSubmitting:m,error:Y})}):null]})})]}),l.jsx(Pl,{open:!!A,position:A&&A.position,onClose:()=>q(null),items:ee,appearance:xe})]})}function Nb({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:E,canDeleteFile:O,deletingFilePath:B,onDeleteFile:_}){const q={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const ne=r.has(e.id),oe={...q,color:ne?m.textPrimary:m.textMuted};return ne&&m.folderActiveBg!=="transparent"&&(oe.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:ce=>g(ce,e),className:ve("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x),style:oe,"aria-expanded":ne,children:[l.jsx(b2,{open:ne,tokens:m}),l.jsx(y2,{open:ne,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),ne&&(e.children?.length||w===e.id)?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(ce=>l.jsx(Nb,{node:ce,depth:n+1,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:E,canDeleteFile:O,deletingFilePath:B,onDeleteFile:_},ce.id)),w===e.id?l.jsx("li",{className:"pl-2",children:l.jsx(Cb,{appearance:m===Eb.dark?"dark":"light",onSubmit:ce=>T(e.id,ce),onCancel:E,isSubmitting:y,error:j})}):null]}):null]})}const $=i===e.id,P=c.includes(e.id),Y=v2(e.name,e.language),K={...q,color:m.textPrimary};return $&&(K.backgroundColor=m.selectionBg,K.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:ne=>g(ne,e),className:ve("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,$&&"shadow-inner shadow-[#00000033]",B===e.id&&"opacity-60"),style:K,disabled:B===e.id,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(w2,{className:Y})}),l.jsx("span",{className:"flex-1 truncate",children:e.name}),$?l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):P?l.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const h0={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function v2(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&h0[i]?h0[i]:"text-slate-400"}function b2({open:e,tokens:n}){return l.jsx("svg",{className:ve("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function y2({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function w2({className:e}){return l.jsxs("svg",{className:ve("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function S2(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Is="h-4 w-4 text-current opacity-80";function j2(){return l.jsx("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function m0(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function E2(){return l.jsx("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function _b(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function N2(){return l.jsx("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function _2(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function C2(){return l.jsx("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function k2(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function T2(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function A2(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function M2(){return l.jsxs("svg",{className:Is,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function Cb({appearance:e,onSubmit:n,onCancel:r,isSubmitting:i,error:c}){const[u,f]=p.useState(""),m=p.useRef(null);p.useEffect(()=>{m.current?.focus(),m.current?.select()},[]);const x=e==="dark"?"text-slate-300":"text-slate-600",g=e==="dark"?"#232323":"#e8e8e8",b=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:g,borderColor:b},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:l.jsx(_b,{})}),l.jsx("input",{ref:m,value:u,onChange:y=>f(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),n(u.trim())),y.key==="Escape"&&(y.preventDefault(),r())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:"new_file.py",disabled:i}),l.jsx("button",{type:"button",className:ve("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",i?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:()=>n(u.trim()),disabled:i,children:i?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:r,disabled:i,children:"Cancel"})]}),l.jsx("div",{className:ve("mt-1 text-[11px]",x),children:"Enter a name and press Enter. Escape to cancel."}),c?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:c}):null]})}function D2({width:e,file:n}){if(!n)return null;const r=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return l.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[l.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:l.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),l.jsx("dd",{className:"text-slate-700",children:n.name})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),l.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),l.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),l.jsx("dd",{className:"text-slate-700",children:R2(i?.size)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),l.jsx("dd",{className:"text-slate-700",children:z2(i?.modifiedAt)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),l.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),l.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),l.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),l.jsx("dd",{className:"text-slate-700",children:r?"Yes":"No"})]})]})]}),l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function R2(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r.toFixed(r>=10?0:1)} ${n[i]}`}function z2(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Cf({orientation:e,onPointerDown:n}){const r=e==="vertical";return l.jsx("div",{role:"separator","aria-orientation":e,className:r?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",style:{touchAction:"none"},onPointerDown:n,children:l.jsx("span",{className:"sr-only",children:"Resize panel"})})}const O2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function L2(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=$l(n),c={id:n,name:p0(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=x=>{if(x.length===0)return c;const g=$l(x),b=g===i?n:g,y=u.get(b);if(y)return y;const w={id:b,name:p0(b),kind:"folder",children:[]};u.set(b,w);const j=b===n?"":q2(b)??n,T=f(j);return kf(T,w),w},m=[...e.entries].sort((x,g)=>x.depth!==g.depth?x.depth-g.depth:x.path.localeCompare(g.path));for(const x of m){const g=x.parent&&x.parent.length>0?$l(x.parent):n,b=f(g);if(x.kind==="dir"){const w=f(x.path);w.name=x.name,w.metadata={size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag},w!==b&&kf(b,w);continue}const y={id:x.path,name:x.name,kind:"file",language:B2(x.path),metadata:{size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag}};u.set(x.path,y),kf(b,y)}return c}function kf(e,n){const r=e.children??[],i=r.some(c=>c.id===n.id)?r.map(c=>c.id===n.id?n:c):[...r,n];e.children=i.sort(U2)}function U2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function B2(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return O2[i]}function p0(e){const n=$l(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function q2(e){const n=$l(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function $l(e){return e?e.replace(/\/+$/,""):""}function er(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=er(r,n);if(i)return i}return null}function kb(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=kb(n);if(r)return r}return null}function $2({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[x,g]=p.useState([]),[b,y]=p.useState(()=>!i),[w,j]=p.useState(!1),T=p.useRef(new Set),E=p.useRef([]),O=p.useRef(""),B=p.useRef([]),_=p.useCallback(R=>{m(z=>z===R?z:R),g(z=>{const F=z.filter(pe=>E.current.some(be=>be.id===pe));if(!R)return F;const V=F.filter(pe=>pe!==R);return[R,...V]})},[]);p.useEffect(()=>{O.current=f},[f]),p.useEffect(()=>{B.current=x},[x]),p.useEffect(()=>{if(!e){u([]),m(""),g([]);return}u(z=>z.filter(F=>!!er(e,F.id)).map(F=>{const V=er(e,F.id);return!V||V.kind!=="file"?F:{...F,name:V.name,language:V.language,metadata:V.metadata}}));const R=O.current;(!R||!er(e,R))&&_("")},[e,_]);const A=p.useMemo(()=>c.find(R=>R.id===f)??c[0]??null,[f,c]),q=p.useCallback(async R=>{if(!E.current.some(F=>F.id===R))return;let z=!1;if(u(F=>F.map(V=>V.id!==R?V:V.status==="ready"?(z=!0,V):{...V,status:"loading",error:null})),!z)try{const F=await r(R);u(V=>V.map(pe=>pe.id===R?{...pe,initialContent:F.content,content:F.content,status:"ready",error:null,etag:F.etag??null,saving:!1,saveError:null}:pe))}catch(F){const V=F instanceof Error?F.message:"Unable to load file.";u(pe=>pe.map(be=>be.id===R?{...be,status:"error",error:V}:be))}},[r]),$=p.useCallback((R,z)=>{if(!e)return;const F=er(e,R);!F||F.kind!=="file"||(u(V=>{if(V.some(be=>be.id===R))return V;const pe={id:F.id,name:F.name,language:F.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:F.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...V,pe]}),(z?.activate??!0)&&_(R))},[e,_]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const R=i.get(),F=(R?.openTabs??[]).map(V=>typeof V=="string"?{id:V,pinned:!1}:V).filter(V=>!!(V&&V.id));if(F.length>0){const V=[];for(const pe of F){const be=er(e,pe.id);!be||be.kind!=="file"||V.push({id:be.id,name:be.name,language:be.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:be.metadata,pinned:!!pe.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(V.length>0){u(V);const pe=(R?.activeTabId&&V.some(Q=>Q.id===R.activeTabId)?R.activeTabId:V[0]?.id)??"";m(pe);const Ee=(R?.mru&&R.mru.length>0?R.mru:V.map(Q=>Q.id)).filter(Q=>V.some(Ne=>Ne.id===Q));g(Ee),j(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||j(!0);return}if(w)return;const R=n&&er(e,n)||kb(e);if(!R){j(!0);return}$(R.id),j(!0)},[e,n,$,b,c.length,w]);const P=p.useCallback(R=>{$(R)},[$]),Y=p.useCallback(R=>{_(R),u(z=>z.map(F=>F.id===R&&F.status==="error"?{...F,status:"loading",error:null}:F))},[_]),K=p.useCallback(R=>{u(z=>{const F=z.filter(be=>be.id!==R),V=O.current,pe=V===R?F[F.length-1]?.id??"":F.some(be=>be.id===V)?V:F[F.length-1]?.id??"";return _(pe),F})},[_]),ne=p.useCallback(R=>{u(z=>!z.some(F=>F.id===R)||z.length<=1?z:(_(R),z.filter(F=>F.id===R)))},[_]),oe=p.useCallback(R=>{u(z=>{const F=z.findIndex(be=>be.id===R);if(F===-1||F===z.length-1)return z;const V=z.slice(0,F+1),pe=V.some(be=>be.id===O.current)?O.current:R;return _(pe),V})},[_]),ce=p.useCallback(()=>{u([]),m(""),g([])},[]),me=p.useCallback((R,z,F)=>{u(V=>{if(V.length<=1)return V;const pe=V.findIndex(Oe=>Oe.id===R);if(pe===-1)return V;const be=Math.max(0,Math.min(z,V.length));let Ee=be;pe<be&&(Ee-=1);const Q=[],Ne=[];let _e=null;if(V.forEach((Oe,Te)=>{if(Te===pe){_e=Oe;return}Oe.pinned?Q.push(Oe):Ne.push(Oe)}),!_e)return V;if((F?.zone??(Ee<=Q.length?"pinned":"regular"))==="pinned"){const Oe=Math.max(0,Math.min(Ee,Q.length));Q.splice(Oe,0,{..._e,pinned:!0})}else{const Oe=Math.max(0,Math.min(Ee-Q.length,Ne.length));Ne.splice(Oe,0,{..._e,pinned:!1})}return[...Q,...Ne]})},[]),ue=p.useCallback(R=>{u(z=>{const F=[],V=[];let pe=null;for(const Ee of z){if(Ee.id===R){pe=Ee;continue}Ee.pinned?F.push(Ee):V.push(Ee)}if(!pe||pe.pinned)return z;const be={...pe,pinned:!0};return[...F,be,...V]})},[]),xe=p.useCallback(R=>{u(z=>{const F=[],V=[];let pe=null;for(const Ee of z){if(Ee.id===R){pe=Ee;continue}Ee.pinned?F.push(Ee):V.push(Ee)}if(!pe||!pe.pinned)return z;const be={...pe,pinned:!1};return[...F,be,...V]})},[]),ye=p.useCallback((R,z)=>{z?ue(R):xe(R)},[ue,xe]),U=p.useCallback(R=>{const z=B.current.filter(Ne=>E.current.some(_e=>_e.id===Ne));if(z.length<=1)return;const F=O.current||z[0],V=z.indexOf(F),Ee=((V>=0?V:0)+(R==="forward"?1:-1)+z.length)%z.length,Q=z[Ee];Q&&Q!==F&&_(Q)},[_]),ee=p.useCallback((R,z)=>{u(F=>F.map(V=>V.id===R?{...V,content:z,status:V.status==="ready"?V.status:"ready",error:null,saveError:null}:V))},[]),ge=p.useCallback(R=>{u(z=>z.map(F=>F.id===R?{...F,saving:!0,saveError:null}:F))},[]),Se=p.useCallback((R,z)=>{u(F=>F.map(V=>{if(V.id!==R)return V;const pe=z?.metadata??V.metadata??null,be=z?.etag??V.etag??null;return{...V,saving:!1,saveError:null,initialContent:V.content,etag:be,metadata:pe&&{...pe,etag:pe.etag??be??null},lastSavedAt:new Date().toISOString()}}))},[]),ae=p.useCallback((R,z)=>{u(F=>F.map(V=>V.id===R?{...V,saving:!1,saveError:z}:V))},[]),N=p.useCallback((R,z)=>{u(F=>F.map(V=>V.id!==R?V:{...V,content:z.content,initialContent:z.content,status:"ready",error:null,saving:!1,saveError:null,etag:z.etag??V.etag??null,metadata:z.metadata??V.metadata}))},[]),I=p.useMemo(()=>c.some(R=>R.status==="ready"&&R.content!==R.initialContent),[c]);return p.useEffect(()=>{E.current=c},[c]),p.useEffect(()=>{g(R=>{const z=R.filter(F=>c.some(V=>V.id===F));return z.length===R.length?R:z})},[c]),p.useEffect(()=>{const R=new Set(c.map(z=>z.id));for(const z of T.current)R.has(z)||T.current.delete(z);for(const z of c){if(z.status!=="loading"||T.current.has(z.id))continue;T.current.add(z.id),q(z.id).finally(()=>{T.current.delete(z.id)})}},[c,q]),p.useEffect(()=>{if(!i||!b)return;const R=[f,...x].filter(z=>!!z).filter((z,F,V)=>V.indexOf(z)===F).filter(z=>c.some(F=>F.id===z));i.set({openTabs:c.map(z=>({id:z.id,pinned:!!z.pinned})),activeTabId:f||null,mru:R})},[i,c,f,x,b]),{tree:e,tabs:c,activeTabId:f,activeTab:A,openFile:P,selectTab:Y,closeTab:K,closeOtherTabs:ne,closeTabsToRight:oe,closeAllTabs:ce,moveTab:me,pinTab:ue,unpinTab:xe,toggleTabPin:ye,selectRecentTab:U,updateContent:ee,beginSavingTab:ge,completeSavingTab:Se,failSavingTab:ae,replaceTabContent:N,isDirty:I}}function Tb(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(r,String(u))}return n}const Ab=p.createContext(null);function Z2({value:e,children:n}){return p.createElement(Ab.Provider,{value:e},n)}function _h(){const e=p.useContext(Ab),n=Cs(),r=kn(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,g=Tb(m).toString(),b=`${n.pathname}${g?`?${g}`:""}${n.hash}`;r(b,{replace:f?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??c]}const Ta={tab:"editor",pane:"terminal",console:"closed",view:"editor"},H2=["tab","pane","console","view","file","path"];function V2(e){return e==="open"?"open":"closed"}function F2(e){return e==="runSummary"||e==="run-summary"||e==="summary"?"runSummary":e==="validation"||e==="problems"||e==="issues"?"problems":"terminal"}function I2(e){return e==="split"||e==="zen"?e:"editor"}function Mb(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:r==="editor"?"editor":Ta.tab,pane:F2(i),console:V2(c),view:I2(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function Tf(e,n){const r=Mb(e),i={...Ta,...r,...n},c=new URLSearchParams(e);for(const u of H2)c.delete(u);return i.tab!==Ta.tab&&c.set("tab",i.tab),i.pane!==Ta.pane&&c.set("pane",i.pane),i.console!==Ta.console&&c.set("console",i.console),i.view!==Ta.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function Q2(){const[e,n]=_h(),r=p.useMemo(()=>Mb(e),[e]),i=p.useCallback(f=>{r.file===f||!f&&!r.present.file||n(m=>Tf(m,{file:f??void 0}),{replace:!0})},[n,r.file,r.present.file]),c=p.useCallback(f=>{r.pane!==f&&n(m=>Tf(m,{pane:f}),{replace:!0})},[n,r.pane]),u=p.useCallback(f=>{r.console!==f&&n(m=>Tf(m,{console:f}),{replace:!0})},[n,r.console]);return{fileId:r.file??Ta.file,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:c,setConsole:u}}const G2="You have unsaved changes in the config editor. Are you sure you want to leave?";function W2({isDirty:e,confirm:n=window.confirm,message:r=G2,shouldBypassNavigation:i}){const c=Cs(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(r),[n,e,c.pathname,r,i]);F1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=r,r);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,r])}const g0="(prefers-color-scheme: dark)";function x0(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function Y2(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function P2(e){const n=p.useMemo(()=>ta(e),[e]),[r,i]=p.useState(()=>{const x=n.get();return x0(x)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(g0).matches);p.useEffect(()=>{const x=x0(n.get());i(g=>g===x?g:x)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const x=window.matchMedia(g0),g=b=>{u(b.matches)};return typeof x.addEventListener=="function"?x.addEventListener("change",g):typeof x.addListener=="function"&&x.addListener(g),u(x.matches),()=>{typeof x.removeEventListener=="function"?x.removeEventListener("change",g):typeof x.removeListener=="function"&&x.removeListener(g)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const f=p.useMemo(()=>Y2(r,c),[r,c]),m=p.useCallback(x=>{i(x)},[]);return{preference:r,resolvedTheme:f,setPreference:m}}function Wn(e,n,r){return Math.min(Math.max(e,n),r)}function Af(e,n){const{onMove:r,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,f=e.currentTarget,m=document.body.style.cursor,x=document.body.style.userSelect;let g=null,b=null,y=!0;const w=O=>{if(y){if(y=!1,g!==null&&(cancelAnimationFrame(g),g=null),document.body.style.cursor=m,document.body.style.userSelect=x,window.removeEventListener("pointermove",j),window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),f.removeEventListener("lostpointercapture",E),f.hasPointerCapture?.(u))try{f.releasePointerCapture(u)}catch{}i&&i(O)}},j=O=>{!y||O.pointerId!==u||(b=O,g===null&&(g=window.requestAnimationFrame(()=>{g=null,b&&r(b)})))},T=O=>{O.pointerId===u&&w(O)},E=O=>{O.pointerId===u&&w(O)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{f.setPointerCapture(u)}catch{}window.addEventListener("pointermove",j),window.addEventListener("pointerup",T),window.addEventListener("pointercancel",T),f.addEventListener("lostpointercapture",E)}const K2="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",X2="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function J2({label:e,icon:n,disabled:r,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:x,menuAriaLabel:g="Open menu",menuIcon:b=l.jsx(e_,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:j}){const T=p.useRef(null),E=!!(r||i),O=B=>{if(E)return;B.preventDefault();const _=T.current?.getBoundingClientRect();if(_){w?.({x:_.left,y:_.bottom});return}w?.({x:B.clientX,y:B.clientY})};return l.jsxs("div",{role:"group",className:ve("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:j,children:[l.jsxs("button",{type:"button",title:x,disabled:E,className:ve(K2,f),onClick:B=>{E||y?.(B)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:T,type:"button","aria-label":g,"aria-haspopup":"menu","aria-expanded":"false",disabled:E,className:ve(X2,m),onClick:O,children:b})]})}function e_(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const t_={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function _t({title:e,description:n,action:r,variant:i="empty",className:c}){return l.jsxs("div",{className:ve("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:ve("mb-4 h-8 w-8 rounded-full border-current",t_[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?l.jsx("div",{className:"mt-4",children:r}):null]})}const n_=new TextEncoder;async function s_(e,n={}){const{signal:r,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:r});if(!m)throw new Error("Expected configuration page payload.");return m}async function r_(e,n,r){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:r});return i??null}async function a_(e,n){const{data:r}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/validate",{params:{path:{workspace_id:e,configuration_id:n}}});if(!r)throw new Error("Expected validation payload.");return r}async function i_(e,n,r={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:x,sort:g,order:b,signal:y}=r,{data:w}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:x??void 0,sort:g,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function v0(e,n,r,i){const{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function l_(e,n,r){const i=m_(r.path),c=r.parents?"?parents=1":"",u=await VS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:n_.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const m=await p_(u),x=m?.title??`Request failed with status ${u.status}`;throw new Kn(x,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}async function o_(e,n,r,i={}){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:i.etag?{"If-Match":i.etag}:void 0})}function c_(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",configuration_id:e.configurationId.trim()}}async function u_(e,n){const{data:r}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:c_(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}async function d_(e,n,r={}){const{signal:i}=r,{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/versions",{params:{path:{workspace_id:e,configuration_id:n}},signal:i});return c??[]}function f_(e){return e.find(n=>n.status==="active"||n.activated_at)??null}function h_(e){return e.filter(r=>r.status!=="active"&&!r.deleted_at).sort((r,i)=>new Date(i.created_at).getTime()-new Date(r.created_at).getTime())[0]??null}function m_(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function p_(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const sn={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...sn.root(e),"list",{...n}],detail:(e,n)=>[...sn.root(e),"detail",n],versions:(e,n)=>[...sn.detail(e,n),"versions"],version:(e,n,r)=>[...sn.detail(e,n),"version",r],scripts:(e,n,r)=>[...sn.version(e,n,r),"scripts"],script:(e,n,r,i)=>[...sn.scripts(e,n,r),"script",i],manifest:(e,n,r)=>[...sn.version(e,n,r),"manifest"],files:(e,n)=>[...sn.detail(e,n),"files"],file:(e,n,r)=>[...sn.files(e,n),"file",r]};function g_({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:x,pageToken:g,sort:b="path",order:y="asc"}=i;return fn({queryKey:[...sn.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",x??"",g??"",b,y],queryFn:({signal:w})=>i_(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:x,pageToken:g,sort:b,order:y,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function x_(e,n){const r=yt();return Tn({mutationFn:i=>l_(e,n,i),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:sn.files(e,n)}),r.invalidateQueries({queryKey:sn.file(e,n,c.path)})])}})}function v_(e,n){const r=yt();return Tn({mutationFn:i=>o_(e,n,i.path,{etag:i.etag}),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:sn.files(e,n)}),r.invalidateQueries({queryKey:sn.file(e,n,c.path)})])}})}function b_(e,n){return Tn({mutationFn:()=>a_(e,n)})}async function*y_(e,n={},r){const i=await qv(`/configurations/${encodeURIComponent(e)}/runs`,{stream:!1,options:n},{signal:r}),c=i.id??i.run_id;if(!c)throw new Error("Run ID missing from creation response");const u=Vv(`/api/v1/runs/${encodeURIComponent(c)}/events?stream=true&after_sequence=0`);for await(const f of w_(u,r))yield f}async function*w_(e,n){const r=new DOMException("Aborted","AbortError"),i=[],c=[];let u=null,f=!1,m;const x=()=>{for(;c.length;)c.shift()?.()},g=y=>{f||(f=!0,y&&(m=y),u&&(u.removeEventListener?.("ade.event",b),u.onmessage=null,u.onerror=null,u.close()),i.push(null),x())},b=y=>{try{const w=JSON.parse(y.data);i.push(w),x(),w.type==="run.completed"&&g()}catch(w){console.warn("Skipping malformed run event",w,y.data)}};u=new EventSource(e,{withCredentials:!0}),u.addEventListener("ade.event",b),u.onmessage=b,u.onerror=()=>{if(n?.aborted){g(r);return}f||g(new Error("Run event stream interrupted"))},n&&(n.aborted?g(r):n.addEventListener("abort",()=>g(r)));try{for(;;){i.length||await new Promise(w=>c.push(w));const y=i.shift();if(y===null){if(m)throw m;break}if(y){if(m)throw m;yield y}}}finally{g()}}async function Db(e,n){const{data:r}=await Ge.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run outputs unavailable");return r}async function Jf(e,n){const r=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/logfile`,{headers:{Accept:"application/x-ndjson"},signal:n});if(!r.ok)throw new Error("Run telemetry unavailable");return(await r.text()).split(/\r?\n/).filter(Boolean).map(c=>{try{return JSON.parse(c)}catch(u){return console.warn("Skipping invalid telemetry line",{error:u,line:c}),null}}).filter(c=>!!c)}async function Rb(e,n){const{data:r}=await Ge.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run not found");return r}async function zb(e,n){try{const{data:c}=await Ge.GET("/api/v1/runs/{run_id}/summary",{params:{path:{run_id:e}},signal:n});if(c)return c}catch(c){console.warn("Falling back to embedded run summary",c)}const i=(await Rb(e,n))?.summary;if(!i)return null;if(typeof i=="string")try{return JSON.parse(i)}catch(c){return console.warn("Unable to parse run summary",{error:c}),null}return i}const Nc={detail:e=>["run",e],outputs:e=>["run-outputs",e],telemetry:e=>["run-telemetry",e],summary:e=>["run-summary",e]};async function Ob(e,n,r){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:r});return i??[]}function Lb(e){if(!e||typeof e!="object")return!1;const n=e,r=n.created_at,i=typeof r=="string"||typeof r=="number"||r instanceof Date;return typeof n.type=="string"&&i}function Ub(e){const n=e.created_at;if(n instanceof Date)return n.toISOString();if(typeof n=="string")return n;if(typeof n=="number"){const r=n>1e12?n:n*1e3;return new Date(r).toISOString()}return new Date().toISOString()}const S_={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Zl(e){const n=e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():e;if(!n)return"";const r=new Date(n);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString([],S_)}function j_(e){if(!Lb(e))return{level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"};const n=$b(e),r=Zl(Ub(e)),i=e.type;if(i==="console.line")return Bb(e,n,r,"build");if(!i?.startsWith("build."))return{level:"info",message:JSON.stringify(e),timestamp:r,origin:"build"};switch(i){case"build.created":return{level:"info",message:`Build queued (${n.reason??"queued"}).`,timestamp:r,origin:"build"};case"build.started":{const c=n.reason??void 0;return{level:"info",message:c?`Build started (${c}).`:"Build started.",timestamp:r,origin:"build"}}case"build.phase.started":{const c=n.phase??"building";return{level:"info",message:n.message??`Starting ${c}`,timestamp:r,origin:"build"}}case"build.phase.completed":{const c=n.phase??"build",u=n.status??"completed",f=Zb(n.duration_ms),m=n.message??`${c} ${u}${f?` in ${f}`:""}`;return{level:u==="failed"?"error":u==="skipped"?"warning":"success",message:m,timestamp:r,origin:"build"}}case"build.completed":return N_(n,r);default:return{level:"info",message:JSON.stringify(e),timestamp:r,origin:"build"}}}function E_(e){if(!Lb(e))return{level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"};const n=$b(e),r=Zl(Ub(e)),i=e.type;if(i==="console.line")return Bb(e,n,r,n.scope==="build"?"build":"run");if(!i?.startsWith("run."))return{level:"info",message:JSON.stringify(e),timestamp:r,origin:"run"};switch(i){case"run.queued":{const c=n.mode??void 0,u=e.run_id??"",f=c?` (${c})`:"";return{level:"info",message:`Run ${u?`${u} `:""}queued${f}.`,timestamp:r,origin:"run"}}case"run.started":{const c=n.mode??void 0,u=n.env??void 0,f=u?.reused?" (reused environment)":u?.reason?` (${u.reason})`:"";return{level:"info",message:`Run started${c?` (${c})`:""}${f}.`,timestamp:r,origin:"run"}}case"run.phase.started":{const c=n.phase??"progress",u=n.message??`Phase: ${c}`;return{level:qb(n.level??"info"),message:u,timestamp:r,origin:"run"}}case"run.phase.completed":{const c=n.phase??"phase",u=n.status??"completed",f=Zb(n.duration_ms),m=n.message??`Phase ${c} ${u}${f?` in ${f}`:""}`;return{level:u==="failed"?"error":u==="skipped"?"warning":"success",message:m,timestamp:r,origin:"run"}}case"run.table.summary":return{level:"info",message:`Table completed (${n.source_sheet??n.source_file??n.table_id??"table"})`,timestamp:r,origin:"run"};case"run.validation.issue":{const c=n.severity??"info";return{level:c==="error"?"error":c==="warning"?"warning":"info",message:`Validation issue${n.code?`: ${n.code}`:""}`,timestamp:r,origin:"run"}}case"run.validation.summary":{const c=n.issues_total??0,u=n.max_severity??void 0,f=u==="error"?"error":u==="warning"||c>0?"warning":"info",m=u?`${u}`:c>0?"issues":"clean";return{level:f,message:`Validation summary: ${c} ${m}`,timestamp:r,origin:"run"}}case"run.error":{const c=n.code??"unknown_error",u=n.message??"Run error.",f=n.stage??n.phase,m=f?` [${f}]`:"";return{level:"error",message:`${u}${m} (${c})`,timestamp:r,origin:"run"}}case"run.completed":return __(n,r);default:return{level:"info",message:JSON.stringify(e),timestamp:r,origin:"run"}}}function Bb(e,n,r,i){const c=n.stream,u=n.level??(c==="stderr"?"warning":"info"),f=n.message??(typeof n.text=="string"?n.text:JSON.stringify(n)),m=n.scope??void 0,x=i??(m==="build"?"build":"run");return{level:qb(u),message:String(f??""),timestamp:r,origin:x}}function N_(e,n){const r=e.status??"completed",i=e.summary?.trim(),c=typeof e.exit_code=="number"?e.exit_code:void 0,u=typeof e.error=="object"&&e.error!==null?e.error.message:void 0;if(r==="succeeded"||r==="reused")return{level:"success",message:i||`Build ${r}.`,timestamp:n,origin:"build"};if(r==="canceled")return{level:"warning",message:"Build was canceled before completion.",timestamp:n,origin:"build"};if(r==="failed"){const f=typeof c=="number"?` (exit code ${c})`:"";return{level:"error",message:(u||i||"Build failed.")+f,timestamp:n,origin:"build"}}return r==="skipped"?{level:"info",message:i||"Build skipped.",timestamp:n,origin:"build"}:{level:"info",message:i||`Build ${r}.`,timestamp:n,origin:"build"}}function __(e,n){const r=e.status??"completed",i=e.execution??{},c=typeof i.exit_code=="number"?i.exit_code:void 0,u=e.failure,f=typeof u?.message=="string"?u.message.trim():null,m=typeof e.summary=="string"?e.summary.trim():null,x=r==="failed"?"error":r==="canceled"?"warning":r==="succeeded"?"success":"info",g=f||m||`Run ${r}`,b=typeof c=="number"?` (exit code ${c})`:"";return{level:x,message:`${g}${b}.`,timestamp:n,origin:"run"}}function qb(e){return e==="error"?"error":e==="warning"||e==="warn"?"warning":e==="success"?"success":"info"}function $b(e){const n=e.payload;return n&&typeof n=="object"?n:{}}function Zb(e){if(typeof e!="number"||Number.isNaN(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}const Hb=p.createContext(null),C_=6e3,k_=7e3,b0=4;function T_({children:e}){const[n,r]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{r(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??y0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?C_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const T=[...y.persistKey?w.filter(E=>E.persistKey!==y.persistKey):w,y];return T.length>b0?T.slice(T.length-b0):T}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??y0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:k_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(T=>T.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),x=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&r(w=>w.filter(j=>j.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(j=>j.scope!==b)))},[]),g=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:x}),[n,i,f,m,u,x]);return l.jsxs(Hb.Provider,{value:g,children:[e,l.jsx(A_,{})]})}function Vb(){const e=p.useContext(Hb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function A_(){const{toasts:e,banners:n,dismiss:r}=Vb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:Sr.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(D_,{banner:u,onDismiss:r},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(M_,{toast:u,onDismiss:r},u.id))})]}),document.body)}function M_({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=R_[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:ve("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Ib(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>l.jsx(Fb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Qb,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function D_({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=z_[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:ve("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Ib(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>l.jsx(Fb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:ve("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Qb,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function Fb({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",c=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:ve("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function Ib(e){switch(e){case"success":return l.jsx(L_,{});case"warning":return l.jsx(U_,{});case"danger":return l.jsx(B_,{});default:return l.jsx(O_,{})}}const R_={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},z_={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function y0(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function O_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function L_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function U_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function B_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Qb(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function q_(){const e=Vb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const $_="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",na=p.forwardRef(({className:e,...n},r)=>l.jsx("select",{ref:r,className:ve($_,e),...n}));na.displayName="Select";const Z_={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},H_={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ze=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},x)=>{const g=f||i;return l.jsxs("button",{ref:x,type:e,disabled:g,"aria-busy":i||void 0,className:ve("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",Z_[n],H_[r],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});ze.displayName="Button";const V_={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function ht({tone:e="info",heading:n,icon:r,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:ve("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",V_[e],i),...u,children:[r?l.jsx("span",{"aria-hidden":"true",children:r}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}function Gb(e,n){return{runId:null,status:"idle",buildPhases:{},runPhases:{},consoleLines:Ch(n??[],e),tableSummaries:{},validationSummary:null,completedPayload:null,lastSequence:0,maxConsoleLines:e}}function F_(e,n){switch(n.type){case"RESET":return{...Gb(e.maxConsoleLines,n.initialLines),runId:n.runId??null};case"CLEAR_CONSOLE":return{...e,consoleLines:[]};case"APPEND_LINE":{const r=Ch([...e.consoleLines,n.line],e.maxConsoleLines);return{...e,consoleLines:r}}case"EVENT":return I_(e,n.event);default:return e}}function I_(e,n){const r=W_(n),i=typeof n.type=="string"?n.type:"",c=typeof n.sequence=="number"&&Number.isFinite(n.sequence)?n.sequence:e.lastSequence,f=i.startsWith("build.")||i==="console.line"&&r.scope==="build"?j_(n):E_(n),m=Ch([...e.consoleLines,f],e.maxConsoleLines),x=i==="build.phase.started"?{...e.buildPhases,[r.phase]:{status:"running",message:r.message}}:i==="build.phase.completed"?{...e.buildPhases,[r.phase]:{status:w0(r.status),durationMs:S0(r.duration_ms),message:r.message}}:e.buildPhases,g=i==="run.phase.started"?{...e.runPhases,[r.phase]:{status:"running",message:r.message}}:i==="run.phase.completed"?{...e.runPhases,[r.phase]:{status:w0(r.status),durationMs:S0(r.duration_ms),message:r.message}}:e.runPhases,b=i==="run.validation.summary"?r:e.validationSummary,y=i==="run.table.summary"&&typeof r.table_id=="string"?{...e.tableSummaries,[r.table_id]:r}:e.tableSummaries,w=i==="run.completed"?r:e.completedPayload,j=Q_(e.status,i,r),T=e.runId??(typeof n.run_id=="string"?n.run_id:null);return{...e,status:j,runId:T,buildPhases:x,runPhases:g,consoleLines:m,tableSummaries:y,validationSummary:b,completedPayload:w,lastSequence:Math.max(e.lastSequence,c)}}function Q_(e,n,r){switch(n){case"run.queued":return"queued";case"build.started":return"building";case"run.started":return"running";case"run.error":return e==="failed"?e:"failed";case"run.completed":return G_(r.status);default:return e}}function G_(e){return e==="succeeded"?"succeeded":e==="failed"?"failed":e==="canceled"||e==="cancelled"?"canceled":"running"}function w0(e){return e==="failed"?"failed":e==="skipped"?"skipped":e==="succeeded"?"succeeded":e==="running"?"running":"pending"}function W_(e){const n=e?.payload;return n&&typeof n=="object"?n:{}}function Ch(e,n){return e.length<=n?e.slice():e.slice(e.length-n)}function S0(e){if(!(typeof e!="number"||Number.isNaN(e)))return e}const Y_={min:200,max:420},P_={min:260,max:420},K_=320,X_=120,Mf=140,J_=220,j0=400,zl=4,eC=56,E0="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",tC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,nC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,sC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,rC=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],aC={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function Wb({workspaceId:e,configId:n,configName:r,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:x,shouldBypassUnsavedGuard:g}){const b=yt(),{fileId:y,pane:w,console:j,consoleExplicit:T,setFileId:E,setPane:O,setConsole:B}=Q2(),_=!!i,A=g_({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!_}),q=p.useMemo(()=>i?i.tree:A.data?L2(A.data):null,[i,A.data]),[$,P]=p.useReducer(F_,i?.console?.slice(-j0)??[],H=>Gb(j0,Array.isArray(H)?H:void 0)),Y=$.consoleLines,K=p.useRef($);p.useEffect(()=>{K.current=$},[$]);const[ne,oe]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),ce=p.useRef(null),me=p.useRef(!0),[ue,xe]=p.useState(null),[ye,U]=p.useState(null),[ee,ge]=p.useState(!1),Se=p.useCallback(H=>{if(!me.current)return;const le=Zl(new Date);P({type:"RESET",initialLines:[{level:"info",message:H,timestamp:le,origin:"run"}]})},[P]),ae=p.useCallback(H=>{me.current&&P({type:"APPEND_LINE",line:H})},[P]);p.useEffect(()=>{i?.validation&&oe({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(me.current=!0,()=>{me.current=!1,ce.current?.abort()}),[]);const N=b_(e,n),I=p.useMemo(()=>i?null:ta(tC(e,n)),[e,n,i]),R=p.useMemo(()=>i?null:ta(nC(e,n)),[e,n,i]),z=p.useRef(null);!z.current&&R&&(z.current=R.get()??null);const F=P2(sC(e,n)),V=F.resolvedTheme==="vs-light"?"light":"dark",pe=ne.lastRunAt?`Last run ${SC(ne.lastRunAt)}`:void 0,[be,Ee]=p.useState({collapsed:!1,fraction:280/1200}),[Q,Ne]=p.useState({collapsed:!1,fraction:300/1200}),[_e,Ze]=p.useState(null),[Oe,Te]=p.useState(!1),[Fe,et]=p.useState({width:0,height:0}),[tt,Pt]=p.useState(null),[M,k]=p.useState("explorer"),[C,se]=p.useState(null),[J,ie]=p.useState(null),[je,Le]=p.useState(!1),[Ve,St]=p.useState(!1),[we,Ce]=p.useState(!1),[He,jt]=p.useState(null),[at,Vt]=p.useState(null),{notifyBanner:zt,dismissScope:Nr}=q_(),es=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),aa=v_(e,n),Ct=p.useCallback((H,le)=>{zt({title:H,intent:le?.intent??"info",duration:le?.duration??6e3,dismissible:!0,scope:es,persistKey:es})},[zt,es]),Ts=p.useCallback(()=>{Nr(es,"banner")},[Nr,es]),it=p.useCallback(H=>{if(!me.current)return;const le=wC(H);ae({level:"error",message:le,timestamp:Zl(new Date),origin:"run"}),Ct(le,{intent:"danger",duration:null})},[ae,Ct]),ut=c==="maximized",Ot=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,An=p.useCallback(()=>{x()},[x]),hn=!be.collapsed,mn=p.useCallback(async H=>{if(i)return{content:i.content[H]??"",etag:null};const le=await b.fetchQuery({queryKey:sn.file(e,n,H),queryFn:({signal:De})=>v0(e,n,H,De)});if(!le)throw new Error("File could not be loaded.");return{content:_0(le),etag:le.etag??null}},[i,b,e,n]),ke=$2({tree:q,initialActiveFileId:y,loadFile:mn,persistence:I??void 0}),Sn=x_(e,n),Lt=p.useCallback(async H=>{if(_)return null;const le=await b.fetchQuery({queryKey:sn.file(e,n,H),queryFn:({signal:qe})=>v0(e,n,H,qe)}),De=_0(le);return ke.replaceTabContent(H,{content:De,etag:le.etag??null,metadata:{size:le.size??null,modifiedAt:le.mtime??null,contentType:le.content_type??ke.tabs.find(qe=>qe.id===H)?.metadata?.contentType??null,etag:le.etag??null}}),le},[_,b,e,n,ke]);W2({isDirty:ke.isDirty,shouldBypassNavigation:g});const ts=p.useCallback(()=>{u()},[u]),Rn=p.useCallback(()=>{ut?m():f()},[ut,f,m]),kt=j!=="open",ns=p.useMemo(()=>ke.tabs.filter(H=>H.status==="ready"&&H.content!==H.initialContent),[ke.tabs]),As=ke.tabs.some(H=>H.saving),ln=!_&&ns.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[be.collapsed,be.fraction,Q.collapsed,Q.fraction,kt,_e,ut]);const zn=p.useCallback(async H=>{if(_)return!1;const le=ke.tabs.find(De=>De.id===H);if(!le||le.status!=="ready"||le.content===le.initialContent||le.saving)return!1;ke.beginSavingTab(H);try{const De=await Sn.mutateAsync({path:le.id,content:le.content,etag:le.etag??void 0,create:!le.etag,parents:!0}),qe={size:De.size??le.metadata?.size??null,modifiedAt:De.mtime??le.metadata?.modifiedAt??null,contentType:le.metadata?.contentType??null,etag:De.etag??le.metadata?.etag??null};return ke.completeSavingTab(H,{etag:De.etag??le.etag??null,metadata:qe}),Ct(`Saved ${le.name}`,{intent:"success",duration:4e3}),!0}catch(De){const qe=De instanceof Kn&&De.status===412,nt=qe?new Error("Save blocked because this file changed on the server. Reloading latest version."):De;if(ke.failSavingTab(H,nt instanceof Error?nt.message:String(nt)),qe)try{await Lt(H),Ct("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Bt){it(Bt)}return it(nt),!1}},[_,ke,Sn,Ct,Lt,it]),On=p.useCallback(async H=>{const le=[];for(const De of H)await zn(De)&&le.push(De);return le},[zn]),Kt=p.useCallback(H=>{zn(H)},[zn]),pn=p.useCallback(()=>{ke.activeTab&&zn(ke.activeTab.id)},[ke.activeTab,zn]),nr=p.useCallback(()=>{if(!ln)return;const H=ns.map(le=>le.id);(async()=>{const le=await On(H);le.length>1&&Ct(`Saved ${le.length} files`,{intent:"success",duration:5e3})})()},[ln,ns,On,Ct]);p.useEffect(()=>{const H=tt;if(!H||typeof window>"u")return;const le=()=>{const qe=H.getBoundingClientRect(),nt=qe.width,Bt=qe.height;et({width:nt,height:Bt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(le(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",le),()=>window.removeEventListener("resize",le);const De=new window.ResizeObserver(()=>le());return De.observe(H),()=>De.disconnect()},[tt]);const Ms=kt?K_:X_,on=p.useMemo(()=>{const H=Math.max(0,Fe.height),De=Math.max(0,H-Ms-zl),qe=Math.min(Mf,De);return{container:H,minPx:qe,maxPx:De}},[Fe.height,Ms]),uu=p.useCallback((H,le=on)=>Wn(H,le.minPx,le.maxPx),[on]),sr=p.useCallback(()=>{const H=z.current;return H&&"version"in H&&H.version===2&&typeof H.fraction=="number"?Wn(H.fraction,0,1):H&&"height"in H&&typeof H.height=="number"&&on.container>0?Wn(H.height/on.container,0,1):.25},[on.container]);p.useEffect(()=>{_e===null&&on.container>0&&Ze(sr())},[_e,on.container,sr]);const fs=p.useCallback(()=>on.container>0&&on.maxPx<Mf?(B("closed"),Ct(E0,{intent:"warning",duration:1e4}),!1):(Ts(),B("open"),Ze(H=>H!==null?Wn(H,0,1):sr()),!0),[on,B,Ct,Ts,sr]),Ha=p.useCallback(()=>{B("closed"),Ts()},[B,Ts]);p.useEffect(()=>{if(Oe)return;const H=z.current?.state;if(T||!H){Te(!0);return}(H==="open"||H==="closed")&&H!==j&&B(H),Te(!0)},[T,j,B,Oe]),p.useEffect(()=>{!R||Ve||_e===null||R.set({version:2,fraction:Wn(_e,0,1),state:j})},[R,_e,j,Ve]),p.useEffect(()=>{if(!(j!=="open"||!on.container)){if(on.maxPx<Mf){B("closed"),Ct(E0,{intent:"warning",duration:1e4});return}Ze(H=>H===null?sr():Wn(H,0,1))}},[j,on,B,Ct,sr]);const Ds=p.useCallback((H,le)=>{if(H<=0)return{minPx:le.min,maxPx:le.max,minFrac:0,maxFrac:1};const De=Math.min(le.min,H),qe=Math.min(le.max,H);return{minPx:De,maxPx:qe,minFrac:De/H,maxFrac:qe/H}},[]),Ut=Math.max(0,Fe.width-eC),$n=p.useMemo(()=>Ds(Ut,Y_),[Ut,Ds]),Ln=p.useMemo(()=>Ds(Ut,P_),[Ut,Ds]),Tt=p.useCallback((H,le)=>Wn(H,le.minFrac,le.maxFrac),[]);p.useEffect(()=>{Ut<=0||(Ee(H=>{if(H.collapsed)return H;const le=Tt(H.fraction,$n);return le===H.fraction?H:{...H,fraction:le}}),Ne(H=>{if(H.collapsed)return H;const le=Tt(H.fraction,Ln);return le===H.fraction?H:{...H,fraction:le}}))},[Ut,$n,Ln,Tt]);const Va=!Q.collapsed&&!!ke.activeTab,ia=be.collapsed?0:Wn(be.fraction,$n.minFrac,$n.maxFrac)*Ut,hs=Va?Wn(Q.fraction,Ln.minFrac,Ln.maxFrac)*Ut:0;let ms=ia,qi=hs;if(Ut>0){const H=(hn?zl:0)+(Va?zl:0),le=ia+hs+H;if(le>Ut){const De=le-Ut,qe=Math.min(De,Math.max(0,hs-Ln.minPx));qi=hs-qe;const nt=De-qe;if(nt>0){const Bt=Math.min(nt,Math.max(0,ia-$n.minPx));ms=ia-Bt}}}const ss=Math.max(0,on.container),fu=_e??(ss>0?Wn(J_/ss,0,1):.25),Fa=kt?0:fu*ss,rr=kt?0:ss>0?uu(Fa):0,Rs=ss>0?Math.max(Ms,ss-zl-rr):Ms;p.useEffect(()=>{const H=ke.activeTabId;if(!H){E(void 0);return}E(H)},[ke.activeTabId,E]),p.useEffect(()=>{!He||!q||er(q,He)&&(ke.openFile(He),E(He),jt(null))},[He,q,ke,E]);const jn=p.useCallback((H,le,De=!1)=>{const qe=De?{...H,force_rebuild:!0}:H;if(_||!q||A.isLoading||A.isError||ue!==null||le.mode==="validation"&&N.isPending||!fs())return null;const nt=new Date,Bt=nt.toISOString();O("terminal"),Se(le.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction"),le.mode==="validation"?oe(Hn=>({...Hn,status:"running",lastRunAt:Bt,error:null})):U(null);const Dt=new AbortController;return ce.current?.abort(),ce.current=Dt,xe({kind:"run",startedAt:Bt,metadata:le}),(async()=>{let Hn=null;try{for await(const lt of y_(n,qe,Dt.signal)){if(P({type:"EVENT",event:lt}),!me.current)return;const Qs=lt&&typeof lt=="object"&&lt.payload&&typeof lt.payload=="object"?lt.payload:{},ps=lt.type,ua=Qs.scope??null;if(typeof ps=="string"&&ps.startsWith("build.")||ps==="console.line"&&ua==="build")continue;const Ya=typeof ps=="string"&&ps.startsWith("run.");if(Ya&&!Hn&&(Hn=lt.run_id??null),!!Ya){if(ps==="run.queued"){const Gs=lt.id??null;Hn=lt.run_id??Gs??Hn}if(ps==="run.completed"){const Gs=Qs,Un=Gs.status??"succeeded",da=Gs.failure,mo=typeof da?.message=="string"?da.message.trim():null,vu=typeof Gs.summary=="string"?Gs.summary.trim():null;Ct(Un==="succeeded"?"ADE run completed successfully.":Un==="canceled"?"ADE run canceled.":mo||vu||"ADE run failed.",{intent:Un==="succeeded"?"success":Un==="canceled"?"info":"danger"});const Mn=Hn??lt.run_id??lt.id??null;if(Mn)try{const ar=await Jf(Mn),Wi=K.current.lastSequence,fa=ar.filter(Ws=>Ws&&typeof Ws=="object"&&typeof Ws.sequence=="number"&&Ws.sequence>Wi);for(const Ws of fa)P({type:"EVENT",event:Ws})}catch(ar){console.warn("Unable to hydrate run telemetry",ar)}if(le.mode==="extraction"&&Mn){const ar=new Date,Wi=ar.toISOString(),fa=Math.max(0,ar.getTime()-nt.getTime()),Ws=`/api/v1/runs/${encodeURIComponent(Mn)}`;U({runId:Mn,status:Un,downloadBase:Ws,documentName:le.documentName,sheetNames:le.sheetNames??[],outputs:[],outputsLoaded:!1,summary:null,summaryLoaded:!1,summaryError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:null,startedAt:Bt,completedAt:Wi,durationMs:fa}),ae({level:Un==="succeeded"?"success":Un==="canceled"?"warning":"error",message:fa>0?`Run ${Un} in ${dC(fa)}. Open Run summary for details.`:`Run ${Un}. Open Run summary for details.`,timestamp:Zl(ar),origin:"run"});try{const gn=await Db(Mn),vn=(Array.isArray(gn.files)?gn.files:[]).map(Us=>{const go=Us.path;return{name:Us.name??go??"output",path:go,byte_size:Us.byte_size??0,download_url:Us.download_url??void 0}});U(Us=>Us&&Us.runId===Mn?{...Us,outputs:vn,outputsLoaded:!0}:Us)}catch(gn){const xn=gn instanceof Error?gn.message:"Unable to load run outputs.";U(vn=>vn&&vn.runId===Mn?{...vn,outputsLoaded:!0,error:xn}:vn)}try{const gn=await zb(Mn);U(xn=>xn&&xn.runId===Mn?{...xn,summary:gn,summaryLoaded:!0}:xn)}catch(gn){const xn=gn instanceof Error?gn.message:"Unable to load run summary.";U(vn=>vn&&vn.runId===Mn?{...vn,summaryLoaded:!0,summaryError:xn}:vn)}try{const gn=await Jf(Mn);U(xn=>xn&&xn.runId===Mn?{...xn,telemetry:gn,telemetryLoaded:!0}:xn)}catch(gn){const xn=gn instanceof Error?gn.message:"Unable to load run telemetry.";U(vn=>vn&&vn.runId===Mn?{...vn,telemetryLoaded:!0,telemetryError:xn}:vn)}}}}}}catch(lt){if(lt instanceof DOMException&&lt.name==="AbortError")return;it(lt)}finally{ce.current===Dt&&(ce.current=null),me.current&&xe(null)}})(),Bt},[_,q,A.isLoading,A.isError,ue,N.isPending,fs,O,Se,oe,U,ce,xe,n,ae,Ct,it]),oo=p.useCallback(()=>{const H=jn({validate_only:!0},{mode:"validation"},!1);H&&N.mutate(void 0,{onSuccess(le){const qe=(le.issues??[]).map(nt=>({level:"error",message:nt.message,path:nt.path}));oe({status:"success",messages:qe,lastRunAt:H,error:null,digest:le.content_digest??null})},onError(le){const De=le instanceof Error?le.message:"Validation failed.";oe({status:"error",messages:[{level:"error",message:De}],lastRunAt:H,error:De,digest:null})}})},[jn,N,oe]),hu=p.useCallback(H=>{const le=Array.from(new Set((H.sheetNames??[]).filter(Boolean)));jn({input_document_id:H.documentId,input_sheet_names:le.length?le:void 0,input_sheet_name:le.length===1?le[0]:void 0},{mode:"extraction",documentId:H.documentId,documentName:H.documentName,sheetNames:le},je)&&(ge(!1),Le(!1))},[jn,ge,Le,je]);p.useEffect(()=>{if(typeof window>"u")return;const H=le=>{if(!(Ot?le.metaKey:le.ctrlKey)||le.altKey||le.key.toLowerCase()!=="s")return;const qe=le.target;if(qe){const nt=qe.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||qe.isContentEditable)return}ln&&(le.preventDefault(),pn())};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[Ot,ln,pn]);const Ia=ue?.metadata,$i=ue!==null,la=ue!==null,mu=$i&&Ia?.mode==="extraction",Zn=$i&&Ia?.mode!=="extraction",Zi=ne.status==="running"||N.isPending||Zn,co=!_&&!!q&&!A.isLoading&&!A.isError&&!la&&!N.isPending&&ne.status!=="running",Hi=mu,zs=!_&&!!q&&!A.isLoading&&!A.isError&&!la,oa=!_&&!A.isLoading&&!A.isError,Qa=oa&&!aa.isPending,_r=p.useCallback(H=>{k(H),H==="explorer"&&Ee(le=>({...le,collapsed:!1}))},[]),pu=p.useCallback(H=>{H.preventDefault();const le=H.currentTarget.getBoundingClientRect();se({x:le.right+8,y:le.top})},[]),uo=p.useCallback(()=>se(null),[]),Ga=p.useCallback(()=>{kt?fs():Ha()},[kt,fs,Ha]),Vi=p.useCallback(()=>{P({type:"CLEAR_CONSOLE"})},[P]),gu=p.useCallback(()=>{ye&&(fs(),O("runSummary"))},[ye,fs,O]),xu=p.useCallback(()=>{Ee(H=>({...H,collapsed:!H.collapsed}))},[]),Wa=p.useCallback(()=>{Ee(H=>({...H,collapsed:!0}))},[]),Os=p.useCallback(()=>{Ne(H=>({...H,collapsed:!H.collapsed}))},[]),Fi=p.useCallback(async(H,le)=>{const De=le.trim();if(!De)throw new Error("Enter a file name.");if(De.includes(".."))throw new Error("File name cannot include '..'.");if(!oa)throw new Error("Files are still loading.");const qe=H.replace(/\/+$/,""),nt=De.replace(/^\/+/,"").replace(/\/+/g,"/"),Dt=(qe?`${qe}/${nt}`:nt).replace(/\/+/g,"/");if(!Dt||Dt.endsWith("/"))throw new Error("Enter a valid file name.");if(q&&er(q,Dt))throw new Error("A file or folder with that name already exists.");Ce(!0);try{await Sn.mutateAsync({path:Dt,content:"",parents:!0,create:!0}),jt(Dt),await A.refetch(),Ct(`Created ${Dt}`,{intent:"success",duration:4e3})}catch(Hn){throw it(Hn),Hn instanceof Error?Hn:new Error("Unable to create file.")}finally{Ce(!1)}},[oa,q,Sn,A,Ct,it]),Ii=p.useCallback(async H=>{if(!Qa)throw new Error("Files are still loading.");const le=q?er(q,H):null;if(!q||!le)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${H}? This cannot be undone.`)){Ce(!1),Vt(H);try{await aa.mutateAsync({path:H,etag:le.metadata?.etag}),ke.closeTab(H),jt(qe=>qe===H?null:qe),await A.refetch(),Ct(`Deleted ${H}`,{intent:"info",duration:4e3})}catch(qe){const nt=qe instanceof Kn&&qe.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":qe instanceof Error?qe.message:"Unable to delete file.";throw it(nt),new Error(nt)}finally{Vt(qe=>qe===H?null:qe)}}},[Qa,q,aa,ke,A,Ct,it,Vt]),Cr=p.useMemo(()=>{const H=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),le=rC.map(De=>({id:`theme-${De.value}`,label:`${De.label} theme`,icon:F.preference===De.value?l.jsx(_c,{}):H,onSelect:()=>F.setPreference(De.value)}));return le.push({id:"toggle-explorer",label:be.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:be.collapsed?H:l.jsx(_c,{}),onSelect:()=>Ee(De=>({...De,collapsed:!De.collapsed}))},{id:"toggle-inspector",label:Q.collapsed?"Show Inspector":"Hide Inspector",icon:Q.collapsed?H:l.jsx(_c,{}),onSelect:()=>Ne(De=>({...De,collapsed:!De.collapsed}))},{id:"toggle-console",label:kt?"Show Console":"Hide Console",icon:kt?H:l.jsx(_c,{}),onSelect:Ga}),le},[F,be.collapsed,Q.collapsed,kt,Ga]);p.useEffect(()=>{if(typeof document>"u"||!ut)return;const H=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=H||""}},[ut]);const kr=jC(e),fo=Ot?"S":"Ctrl+S",Qi=p.useMemo(()=>{const H=!zs;return[{id:"test-default",label:"Test",disabled:H,onSelect:()=>{Le(!1),ge(!0),ie(null)}},{id:"test-force",label:"Force build and test",disabled:H,onSelect:()=>{Le(!0),ge(!0),ie(null)}}]},[zs,Le,ge,ie]);if(!i&&A.isLoading)return l.jsx(_t,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&A.isError)return l.jsx(_t,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!q)return l.jsx(_t,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const ho=ut?V==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":V==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",ca=V==="dark"?"#1b1f27":"#ffffff",Ls=V==="dark"?"#f5f6fb":"#0f172a",Gi=ut?ve("fixed inset-0 z-[90] flex flex-col",V==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):ve("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",V==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return l.jsxs("div",{className:ve("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",ho),children:[ut?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:Gi,children:[l.jsx(lC,{configName:r,workspaceLabel:kr,validationLabel:pe,canSaveFiles:ln,isSavingFiles:As,onSaveFile:pn,saveShortcutLabel:fo,onOpenTestMenu:H=>ie(H),canRunValidation:co,isRunningValidation:Zi,onRunValidation:oo,canRunExtraction:zs,isRunningExtraction:Hi,onRunExtraction:H=>{zs&&(Le(H),ge(!0))},explorerVisible:hn,onToggleExplorer:xu,consoleOpen:!kt,onToggleConsole:Ga,inspectorCollapsed:Q.collapsed,onToggleInspector:Os,appearance:V,windowState:c,onMinimizeWindow:ts,onToggleMaximize:Rn,onCloseWindow:An}),l.jsxs("div",{ref:Pt,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(Bj,{activeView:M,onSelectView:_r,onOpenSettings:pu,appearance:V}),hn?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:ms},children:M==="explorer"&&ke.tree?l.jsx(x2,{width:ms,tree:ke.tree,activeFileId:ke.activeTab?.id??"",openFileIds:ke.tabs.map(H=>H.id),onSelectFile:H=>{ke.openFile(H),E(H)},theme:V,canCreateFile:oa,isCreatingFile:we,onCreateFile:Fi,canDeleteFile:Qa,deletingFilePath:at,onDeleteFile:Ii,onCloseFile:ke.closeTab,onCloseOtherFiles:ke.closeOtherTabs,onCloseTabsToRight:ke.closeTabsToRight,onCloseAllFiles:ke.closeAllTabs,onHide:Wa}):l.jsx(iC,{width:ms,view:M})}),l.jsx(Cf,{orientation:"vertical",onPointerDown:H=>{const le=H.clientX,De=ms;Af(H,{cursor:"col-resize",onMove:qe=>{const nt=qe.clientX-le,Bt=Wn(De+nt,$n.minPx,$n.maxPx);Ee(Dt=>Dt.collapsed||Ut<=0?Dt:{...Dt,fraction:Tt(Bt/Ut,$n)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:ca,color:Ls},children:kt?l.jsx(o0,{tabs:ke.tabs,activeTabId:ke.activeTab?.id??"",onSelectTab:H=>{ke.selectTab(H),E(H)},onCloseTab:ke.closeTab,onCloseOtherTabs:ke.closeOtherTabs,onCloseTabsToRight:ke.closeTabsToRight,onCloseAllTabs:ke.closeAllTabs,onContentChange:ke.updateContent,onSaveTab:Kt,onSaveAllTabs:nr,onMoveTab:ke.moveTab,onPinTab:ke.pinTab,onUnpinTab:ke.unpinTab,onSelectRecentTab:ke.selectRecentTab,editorTheme:F.resolvedTheme,menuAppearance:V,canSaveFiles:ln,minHeight:Ms}):l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:ss>0?`${ss}px`:void 0,gridTemplateRows:`${Math.max(Ms,Rs)}px ${zl}px ${Math.max(0,rr)}px`},children:[l.jsx(o0,{tabs:ke.tabs,activeTabId:ke.activeTab?.id??"",onSelectTab:H=>{ke.selectTab(H),E(H)},onCloseTab:ke.closeTab,onCloseOtherTabs:ke.closeOtherTabs,onCloseTabsToRight:ke.closeTabsToRight,onCloseAllTabs:ke.closeAllTabs,onContentChange:ke.updateContent,onSaveTab:Kt,onSaveAllTabs:nr,onMoveTab:ke.moveTab,onPinTab:ke.pinTab,onUnpinTab:ke.unpinTab,onSelectRecentTab:ke.selectRecentTab,editorTheme:F.resolvedTheme,menuAppearance:V,canSaveFiles:ln,minHeight:Ms}),l.jsx(Cf,{orientation:"horizontal",onPointerDown:H=>{St(!0);const le=H.clientY,De=rr;Af(H,{cursor:"row-resize",onMove:qe=>{if(on.maxPx<=0||ss<=0)return;const nt=le-qe.clientY,Bt=Wn(De+nt,on.minPx,on.maxPx);Ze(Wn(Bt/ss,0,1))},onEnd:()=>{St(!1)}})}}),l.jsx(Qj,{height:Math.max(0,rr),consoleLines:Y,validation:ne,activePane:w,onPaneChange:O,latestRun:ye,onShowRunDetails:gu,onClearConsole:Vi,runStatus:$.status})]})}),Va?l.jsxs(l.Fragment,{children:[l.jsx(Cf,{orientation:"vertical",onPointerDown:H=>{const le=H.clientX,De=qi;Af(H,{cursor:"col-resize",onMove:qe=>{const nt=le-qe.clientX,Bt=Wn(De+nt,Ln.minPx,Ln.maxPx);Ne(Dt=>Dt.collapsed||Ut<=0?Dt:{...Dt,fraction:Tt(Bt/Ut,Ln)})}})}}),l.jsx(D2,{width:qi,file:ke.activeTab??null})]}):null]})]}),ee?l.jsx(oC,{open:ee,workspaceId:e,onClose:()=>{ge(!1),Le(!1)},onRun:hu}):null,l.jsx(Pl,{open:!!J,position:J,onClose:()=>ie(null),items:Qi,appearance:V}),l.jsx(Pl,{open:!!C,position:C,onClose:uo,items:Cr,appearance:V})]})}function iC({width:e,view:n}){const r=aC[n]||"Coming soon";return l.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:r})}function _c(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function lC({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:f,onOpenTestMenu:m,canRunValidation:x,isRunningValidation:g,onRunValidation:b,canRunExtraction:y,isRunningExtraction:w,onRunExtraction:j,explorerVisible:T,onToggleExplorer:E,consoleOpen:O,onToggleConsole:B,inspectorCollapsed:_,onToggleInspector:A,appearance:q,windowState:$,onMinimizeWindow:P,onToggleMaximize:Y,onCloseWindow:K}){const ne=q==="dark",oe=ne?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",ce=ne?"text-white/60":"text-slate-500",me=ne?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",ue=ne?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",xe=$==="maximized";return l.jsxs("div",{className:ve("flex items-center justify-between border-b px-4 py-2",oe),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(fC,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:ve("text-[10px] font-semibold uppercase tracking-[0.35em]",ce),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:ve("text-[11px]",ce),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r?l.jsx("span",{className:ve("text-xs",ce),children:r}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",me),title:`Save (${f})`,children:[c?l.jsx(Df,{}):l.jsx(yC,{}),c?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:b,disabled:!x,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",ue),children:[g?l.jsx(Df,{}):l.jsx(N0,{}),g?"Running":"Run validation"]}),l.jsx(J2,{label:w?"Running":"Test run",icon:w?l.jsx(Df,{}):l.jsx(N0,{}),disabled:!y,isLoading:w,title:"Run test run",primaryClassName:ve(ue,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:ve(ue,"rounded-l-none px-2",ne?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>j(!1),onOpenMenu:ye=>m(ye),onContextMenu:ye=>{ye.preventDefault(),m({x:ye.clientX,y:ye.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ni,{ariaLabel:T?"Hide explorer":"Show explorer",onClick:E,appearance:q,active:T,icon:l.jsx(hC,{active:T})}),l.jsx(Ni,{ariaLabel:_?"Show inspector":"Hide inspector",onClick:A,appearance:q,active:!_,icon:l.jsx(pC,{})}),l.jsx(Ni,{ariaLabel:O?"Hide console":"Show console",onClick:B,appearance:q,active:O,icon:l.jsx(mC,{})})]}),l.jsxs("div",{className:ve("flex items-center gap-2 border-l pl-3",q==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(Ni,{ariaLabel:"Minimize workbench",onClick:P,appearance:q,icon:l.jsx(vC,{})}),l.jsx(Ni,{ariaLabel:xe?"Restore workbench":"Maximize workbench",onClick:Y,appearance:q,active:xe,icon:xe?l.jsx(xC,{}):l.jsx(gC,{})}),l.jsx(Ni,{ariaLabel:"Close workbench",onClick:K,appearance:q,icon:l.jsx(bC,{})})]})]})]})}function oC({open:e,workspaceId:n,onClose:r,onRun:i}){const c=p.useRef(null),u=fn({queryKey:["builder-documents",n],queryFn:({signal:A})=>cC(n,A),staleTime:6e4}),f=p.useMemo(()=>u.data??[],[u.data]),[m,x]=p.useState("");p.useEffect(()=>{if(!f.length){x("");return}x(A=>A&&f.some(q=>q.id===A)?A:f[0]?.id??"")},[f]);const g=f.find(A=>A.id===m)??null,b=fn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:A})=>Ob(n,m,A),enabled:!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,j]=p.useState([]);p.useEffect(()=>{if(!y.length){j([]);return}j(A=>A.filter(q=>y.some($=>$.name===q)))},[y]);const T=p.useMemo(()=>Array.from(new Set(w.filter(A=>y.some(q=>q.name===A)))),[w,y]),E=p.useCallback(A=>{j(q=>q.includes(A)?q.filter($=>$!==A):[...q,A])},[]);if(!e)return null;const O=!g||u.isLoading||u.isError,B=y.length>0,_=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),u.isError?l.jsx(ht,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):f.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(na,{id:"builder-run-document-select",value:m,onChange:A=>x(A.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:f.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))}),g?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",uC(g.created_at)," "," ",(g.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(ht,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]})]})}):B?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:T.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${T.length.toLocaleString()} worksheet${T.length===1?"":"s"} selected.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(A=>{const q=T.includes(A.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:q,onChange:()=>E(A.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[A.name,A.is_active?" (active)":""]})]},`${A.index}-${A.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(ze,{variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(ze,{onClick:()=>{g&&i({documentId:g.id,documentName:g.name,sheetNames:T.length>0?T:void 0})},disabled:O,children:"Start test run"})]})]})});return typeof document>"u"?null:Sr.createPortal(_,document.body)}async function cC(e,n){const{data:r}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return r?.items??[]}function uC(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Ni({ariaLabel:e,onClick:n,icon:r,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:r})}function dC(e){if(e==null||!Number.isFinite(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function fC(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function hC({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function mC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function pC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function gC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function xC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function vC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function bC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Df(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function N0(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function yC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function wC(e){return e instanceof Kn?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function SC(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function jC(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function _0(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function EC(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Yb=p.createContext(null);function Pb(){const e=p.useContext(Yb);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function NC({workspaceId:e,children:n}){const r=kn(),i=Cs(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),x=p.useRef(0),g=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>ta(EC(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),j=p.useMemo(()=>MC(i.pathname,e),[i.pathname,e]),T=!!j;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{T||y.set(`${i.pathname}${i.search}${i.hash}`)},[T,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){g.current=null;return}const oe=g.current;if(T&&j===c.configId){if(oe==="dock"){g.current=null,m("minimized");return}oe&&(g.current=null);return}if(oe==="dock"){g.current=null;return}if(oe==="close"){g.current=null;return}u(null),m("restored"),g.current=null},[c,T,j,f]),p.useEffect(()=>{if(!c||!T||j!==c.configId)return;const oe=k0(i.search);oe!==c.editorSearch&&u(ce=>!ce||ce.instanceId!==c.instanceId?ce:{...ce,editorSearch:oe})},[c,T,j,i.search]);const E=p.useCallback(()=>y.get()??w,[y,w]),O=p.useCallback(oe=>{u(ce=>{if(!ce)return ce;const me=new URLSearchParams(ce.editorSearch),ue=typeof oe=="function"?oe(new URLSearchParams(me)):oe,ye=Tb(ue).toString();return ye===ce.editorSearch?ce:{...ce,editorSearch:ye}})},[]),B=p.useCallback(oe=>{const ce=k0(oe.editorSearch??i.search);let me=f==="minimized";u(ue=>{if(ue&&ue.workspaceId===oe.workspaceId&&ue.configId===oe.configId){const xe=oe.seed??ue.seed,ye=oe.editorSearch!==void 0?ce:ue.editorSearch;return ue.configName===oe.configName&&ue.seed===xe&&ue.editorSearch===ye?ue:{...ue,configName:oe.configName,seed:xe,editorSearch:ye}}return me=!0,x.current+=1,{...oe,editorSearch:ce,instanceId:`${oe.workspaceId}:${oe.configId}:${x.current}`}}),me&&m("restored")},[i.search,f]),_=p.useCallback(()=>{c&&(u(null),m("restored"),g.current="close",r(E()))},[c,r,E]),A=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),g.current="dock",r(E()))},[c,r,E]),q=p.useCallback(()=>{if(!c)return;m("restored");const oe=DC(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==oe&&r(oe)},[c,r,i.pathname,i.search]),$=p.useCallback(()=>{c&&m("maximized")},[c]),P=p.useCallback(()=>{const oe=b.current;return b.current=!1,oe},[]),Y=p.useMemo(()=>({session:c,windowState:f,openSession:B,closeSession:_,minimizeWindow:A,maximizeWindow:$,restoreWindow:q,shouldBypassUnsavedGuard:P}),[c,f,B,_,A,$,q,P]),K=!!c&&(!T||j!==c?.configId),ne=p.useMemo(()=>K&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:O}:null,[K,c,O]);return l.jsxs(Yb.Provider,{value:Y,children:[n,l.jsx(Z2,{value:ne,children:l.jsx(_C,{session:c,windowState:f,onClose:_,onMinimize:A,onMaximize:$,onRestore:q,shouldBypassUnsavedGuard:P})}),c&&f==="minimized"?l.jsx(CC,{configName:c.configName,onRestore:q,onDismiss:_}):null]})}function _C({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Wb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function CC({configName:e,onRestore:n,onDismiss:r}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(kC,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(C0,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(TC,{})}),l.jsx(C0,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:l.jsx(AC,{})})]})]})})})}function C0({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function kC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function TC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function AC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function MC(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function DC(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function k0(e){return e?e.startsWith("?")?e.slice(1):e:""}function Kb({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:x,leadingIcon:g,trailingIcon:b,className:y,variant:w="default",isLoading:j=!1,loadingLabel:T="Loading suggestions",filters:E,onSelectFilter:O,emptyState:B,onChange:_,onSubmit:A,onClear:q,onFocus:$,onBlur:P,suggestions:Y=[],onSelectSuggestion:K,renderSuggestion:ne}){const oe=p.useId(),ce=e??oe,me=`${oe}-suggestions`,ue=p.useRef(null),xe=n!==void 0,[ye,U]=p.useState(r),[ee,ge]=p.useState(!1),[Se,ae]=p.useState(0),N=xe?n??"":ye,I=Y.length>0,R=!!E?.length,z=ee&&(I||j||!!B||R),F=ee&&!I&&!j&&!!B,V=!!(q||!xe),pe=u||"K",be=c??i;p.useEffect(()=>{xe||U(r)},[r,xe]),p.useEffect(()=>{ae(0)},[Y.length,N]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Te=Fe=>{(Fe.metaKey||Fe.ctrlKey)&&Fe.key.toLowerCase()===f.toLowerCase()&&(Fe.preventDefault(),ue.current?.focus())};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[m,f]);const Ee=Te=>{Te.preventDefault();const Fe=N.trim();!Fe&&!A||A?.(Fe)},Q=Te=>{xe||U(Te),_?.(Te)},Ne=()=>{N&&(xe||U(""),_?.(""),q?.(),ue.current?.focus())},_e=Te=>{Te&&(K?.(Te),Te.action?.(),ge(!1),ue.current?.blur())},Ze=Te=>{if(!z||!I){Te.key==="Escape"&&(ge(!1),Te.currentTarget.blur());return}if(Te.key==="ArrowDown"){Te.preventDefault(),ae(Fe=>(Fe+1)%Y.length);return}if(Te.key==="ArrowUp"){Te.preventDefault(),ae(Fe=>(Fe-1+Y.length)%Y.length);return}if(Te.key==="Enter"){Te.preventDefault(),_e(Y[Se]);return}Te.key==="Escape"&&(Te.preventDefault(),ge(!1),Te.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:ve("relative",y),children:[l.jsx("div",{className:ve("group/search overflow-hidden",Oe,z&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":be,onSubmit:Ee,children:[l.jsx("label",{htmlFor:ce,className:"sr-only",children:be}),g??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(zC,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[x?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:x}):null,l.jsx("input",{ref:ue,id:ce,type:"search",value:N,onChange:Te=>Q(Te.target.value),onFocus:()=>{ge(!0),$?.(),I||ae(0)},onBlur:()=>{ge(!1),P?.()},onKeyDown:Ze,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":z,"aria-controls":z?me:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[V&&N?l.jsx("button",{type:"button",onClick:Ne,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(OC,{className:"h-3.5 w-3.5"})}):null,j?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":T,children:l.jsx(LC,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:pe})]})]})}),z?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[I?l.jsx("ul",{id:me,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:Y.map((Te,Fe)=>{const et=Fe===Se,tt=ne?.({suggestion:Te,active:et})??l.jsx(RC,{suggestion:Te,active:et});return l.jsx("li",{children:l.jsx("button",{type:"button",role:"option","aria-selected":et,onMouseEnter:()=>ae(Fe),onMouseDown:Pt=>Pt.preventDefault(),onClick:()=>_e(Te),className:ve("flex w-full px-5 py-3 text-left transition",et?"bg-brand-50/60":"hover:bg-slate-50/80"),children:tt})},Te.id)})}):null,F?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:B}):null,R?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),E?.map(Te=>l.jsx("button",{type:"button",onMouseDown:Fe=>Fe.preventDefault(),onClick:()=>O?.(Te),className:ve("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Te.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Te.label},Te.id))]})}):null]}):null]})}function RC({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:ve("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function zC({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function OC({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function LC({className:e="h-4 w-4"}){return l.jsxs("svg",{className:ve("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function Xb({brand:e,leading:n,actions:r,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:ve("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:ve("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(Kb,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Jb({displayName:e,email:n,actions:r=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),x=p.useRef(null),g=kn(),b=p.useMemo(()=>UC(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const T=O=>{const B=O.target;B&&(x.current?.contains(B)||m.current?.contains(B)||y())},E=O=>{O.key==="Escape"&&y()};return window.addEventListener("mousedown",T),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",E)}},[y,i]),p.useEffect(()=>{if(!i)return;x.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(T=>{y(),T()},[y]),j=p.useCallback(async()=>{u||(y(),f(!0),g("/logout",{replace:!0}))},[y,u,g]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(T=>!T),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(qC,{className:ve("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:x,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:r.map(T=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(T.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:T.icon??T.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:T.label}),T.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:T.description}):null]})]})},T.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:j,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(BC,{}):null]})})]}):null]})}function UC(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function BC(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function qC({className:e}){return l.jsx("svg",{className:ve("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Vc({to:e,replace:n,className:r,title:i,children:c,onClick:u}){const f=kn();return l.jsx("a",{href:e,className:r,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),f(e,{replace:n}))},children:c})}function $C({to:e,end:n,className:r,children:i,title:c,onClick:u}){const{pathname:f}=Cs(),m=n?f===e:f===e||f.startsWith(`${e}/`),x=typeof r=="function"?r({isActive:m}):r,g=typeof i=="function"?i({isActive:m}):i;return l.jsx(Vc,{to:e,className:x,title:c,onClick:u,children:g})}function ao(e){return function({title:r,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?l.jsx("title",{children:r}):null,l.jsx("path",{d:e})]})}}const ZC=ao("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),HC=ao("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),VC=ao("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),FC=ao("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),IC=ao("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),ey=[{id:"documents",path:"documents",label:"Documents",icon:ZC},{id:"runs",path:"runs",label:"Runs",icon:HC},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:VC},{id:"settings",path:"settings",label:"Workspace Settings",icon:FC}],ea=ey[0];function ty(e){return ey.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const QC="4.25rem",GC="18.75rem";function WC({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:c}){const u=i??ty(e),f=KC(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?QC:GC},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:l.jsxs("div",{className:ve("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:ve("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:ve("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?l.jsx(PC,{}):l.jsx(YC,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(ny,{items:u,collapsed:n})})]})})}function ny({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:ve("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx($C,{to:u.href,end:!0,title:n?u.label:void 0,onClick:r,className:({isActive:f})=>ve("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:ve("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:ve("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:ve("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:ve("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function YC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function PC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function KC(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}const XC="K",JC="Ctrl+K";function sy({macLabel:e=XC,windowsLabel:n=JC}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),r}function ek(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const tk=100;function kh({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=tk}){return fn({queryKey:sn.list(e,{page:r,pageSize:i}),queryFn:({signal:c})=>s_(e,{page:r,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function nk({workspaceId:e,configurationId:n,enabled:r=!0}){return fn({queryKey:sn.detail(e,n??""),queryFn:({signal:i})=>n?r_(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function sk({workspaceId:e,configId:n,enabled:r=!0}){return fn({queryKey:sn.versions(e,n),queryFn:({signal:i})=>d_(e,n,{signal:i}),enabled:r&&e.length>0&&n.length>0,placeholderData:i=>i??[],staleTime:15e3})}function rk(e){const n=yt();return Tn({mutationFn:r=>u_(e,r),async onSuccess(){await n.invalidateQueries({queryKey:sn.root(e)})}})}function he(e,n,r){function i(m,x){var g;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(g=m._zod).traits??(g.traits=new Set),m._zod.traits.add(e),n(m,x);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=x}const c=r?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var x;const g=r?.Parent?new u:this;i(g,m),(x=g._zod).deferred??(x.deferred=[]);for(const b of g._zod.deferred)b();return g}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Mi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ry extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const ay={};function Ua(e){return ay}function ak(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function eh(e,n){return typeof n=="bigint"?n.toString():n}function Th(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Ah(e){return e==null}function Mh(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}function ik(e,n){const r=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const x=i.match(/\d?e-(\d?)/);x?.[1]&&(c=Number.parseInt(x[1]))}const u=r>c?r:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const T0=Symbol("evaluating");function wt(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==T0)return i===void 0&&(i=T0,i=r()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function $a(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Za(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function A0(e){return JSON.stringify(e)}const iy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Fc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const lk=Th(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Kl(e){if(Fc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(Fc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function ly(e){return Kl(e)?{...e}:Array.isArray(e)?[...e]:e}const ok=new Set(["string","number","symbol"]);function Di(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ra(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Be(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function ck(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const uk={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dk(e,n){const r=e._zod.def,i=Za(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=r.shape[u])}return $a(this,"shape",c),c},checks:[]});return ra(e,i)}function fk(e,n){const r=e._zod.def,i=Za(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return $a(this,"shape",c),c},checks:[]});return ra(e,i)}function hk(e,n){if(!Kl(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Za(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return $a(this,"shape",u),u},checks:[]});return ra(e,c)}function mk(e,n){if(!Kl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return $a(this,"shape",i),i},checks:e._zod.def.checks};return ra(e,r)}function pk(e,n){const r=Za(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return $a(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return ra(e,r)}function gk(e,n,r){const i=Za(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const f in r){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);r[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return $a(this,"shape",u),u},checks:[]});return ra(n,i)}function xk(e,n,r){const i=Za(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const f in r){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);r[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return $a(this,"shape",u),u},checks:[]});return ra(n,i)}function Ti(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function oy(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function Cc(e){return typeof e=="string"?e:e?.message}function Ba(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const c=Cc(e.inst?._zod.def?.error?.(e))??Cc(n?.error?.(e))??Cc(r.customError?.(e))??Cc(r.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Dh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Xl(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const cy=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,eh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Rh=he("$ZodError",cy),nu=he("$ZodError",cy,{Parent:Error});function vk(e,n=r=>r.message){const r={},i=[];for(const c of e.issues)c.path.length>0?(r[c.path[0]]=r[c.path[0]]||[],r[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:r}}function bk(e,n=r=>r.message){const r={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let f=r,m=0;for(;m<u.path.length;){const x=u.path[m];m===u.path.length-1?(f[x]=f[x]||{_errors:[]},f[x]._errors.push(n(u))):f[x]=f[x]||{_errors:[]},f=f[x],m++}}};return i(e),r}const su=e=>(n,r,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:r,issues:[]},u);if(f instanceof Promise)throw new Mi;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>Ba(x,u,Ua())));throw iy(m,c?.callee),m}return f.value},yk=su(nu),ru=e=>async(n,r,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:r,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>Ba(x,u,Ua())));throw iy(m,c?.callee),m}return f.value},wk=ru(nu),au=e=>(n,r,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},c);if(u instanceof Promise)throw new Mi;return u.issues.length?{success:!1,error:new(e??Rh)(u.issues.map(f=>Ba(f,c,Ua())))}:{success:!0,data:u.value}},Sk=au(nu),iu=e=>async(n,r,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>Ba(f,c,Ua())))}:{success:!0,data:u.value}},jk=iu(nu),Ek=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return su(e)(n,r,c)},Nk=e=>(n,r,i)=>su(e)(n,r,i),_k=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ru(e)(n,r,c)},Ck=e=>async(n,r,i)=>ru(e)(n,r,i),kk=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return au(e)(n,r,c)},Tk=e=>(n,r,i)=>au(e)(n,r,i),Ak=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return iu(e)(n,r,c)},Mk=e=>async(n,r,i)=>iu(e)(n,r,i),Dk=/^[cC][^\s-]{8,}$/,Rk=/^[0-9a-z]+$/,zk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Ok=/^[0-9a-vA-V]{20}$/,Lk=/^[A-Za-z0-9]{27}$/,Uk=/^[a-zA-Z0-9_-]{21}$/,Bk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,qk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,M0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,$k=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Zk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Hk(){return new RegExp(Zk,"u")}const Vk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Ik=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Qk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Gk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,uy=/^[A-Za-z0-9_-]*$/,Wk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Yk=/^\+(?:[0-9]){6,14}[0-9]$/,dy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Pk=new RegExp(`^${dy}$`);function fy(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Kk(e){return new RegExp(`^${fy(e)}$`)}function Xk(e){const n=fy({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${dy}T(?:${i})$`)}const Jk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},e5=/^-?\d+$/,t5=/^-?\d+(?:\.\d+)?/,n5=/^(?:true|false)$/i,s5=/^[^A-Z]*$/,r5=/^[^a-z]*$/,Jn=he("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),hy={number:"number",bigint:"bigint",object:"date"},my=he("$ZodCheckLessThan",(e,n)=>{Jn.init(e,n);const r=hy[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:r,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),py=he("$ZodCheckGreaterThan",(e,n)=>{Jn.init(e,n);const r=hy[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:r,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),a5=he("$ZodCheckMultipleOf",(e,n)=>{Jn.init(e,n),e._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):ik(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:e,continue:!n.abort})}}),i5=he("$ZodCheckNumberFormat",(e,n)=>{Jn.init(e,n),n.format=n.format||"float64";const r=n.format?.includes("int"),i=r?"int":"number",[c,u]=uk[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,r&&(m.pattern=e5)}),e._zod.check=f=>{const m=f.value;if(r){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),l5=he("$ZodCheckMaxLength",(e,n)=>{var r;Jn.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Ah(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=Dh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),o5=he("$ZodCheckMinLength",(e,n)=>{var r;Jn.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Ah(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=Dh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),c5=he("$ZodCheckLengthEquals",(e,n)=>{var r;Jn.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Ah(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=Dh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),lu=he("$ZodCheckStringFormat",(e,n)=>{var r,i;Jn.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),u5=he("$ZodCheckRegex",(e,n)=>{lu.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),d5=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=s5),lu.init(e,n)}),f5=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=r5),lu.init(e,n)}),h5=he("$ZodCheckIncludes",(e,n)=>{Jn.init(e,n);const r=Di(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),m5=he("$ZodCheckStartsWith",(e,n)=>{Jn.init(e,n);const r=new RegExp(`^${Di(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),p5=he("$ZodCheckEndsWith",(e,n)=>{Jn.init(e,n);const r=new RegExp(`.*${Di(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),g5=he("$ZodCheckOverwrite",(e,n)=>{Jn.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class x5{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,r=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,c.join(`
`))}}const v5={major:4,minor:1,patch:12},Ht=he("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=v5;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,x)=>{let g=Ti(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(g)continue;const w=f.issues.length,j=y._zod.check(f);if(j instanceof Promise&&x?.async===!1)throw new Mi;if(b||j instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await j,f.issues.length!==w&&(g||(g=Ti(f,w)))});else{if(f.issues.length===w)continue;g||(g=Ti(f,w))}}return b?b.then(()=>f):f},u=(f,m,x)=>{if(Ti(f))return f.aborted=!0,f;const g=c(m,i,x);if(g instanceof Promise){if(x.async===!1)throw new Mi;return g.then(b=>e._zod.parse(b,x))}return e._zod.parse(g,x)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const g=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return g instanceof Promise?g.then(b=>u(b,f,m)):u(g,f,m)}const x=e._zod.parse(f,m);if(x instanceof Promise){if(m.async===!1)throw new Mi;return x.then(g=>c(g,i,m))}return c(x,i,m)}}e["~standard"]={validate:c=>{try{const u=Sk(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return jk(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),zh=he("$ZodString",(e,n)=>{Ht.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Jk(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Mt=he("$ZodStringFormat",(e,n)=>{lu.init(e,n),zh.init(e,n)}),b5=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=qk),Mt.init(e,n)}),y5=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=M0(i))}else n.pattern??(n.pattern=M0());Mt.init(e,n)}),w5=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=$k),Mt.init(e,n)}),S5=he("$ZodURL",(e,n)=>{Mt.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Wk.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=c.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),j5=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=Hk()),Mt.init(e,n)}),E5=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=Uk),Mt.init(e,n)}),N5=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=Dk),Mt.init(e,n)}),_5=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=Rk),Mt.init(e,n)}),C5=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=zk),Mt.init(e,n)}),k5=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=Ok),Mt.init(e,n)}),T5=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=Lk),Mt.init(e,n)}),A5=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Xk(n)),Mt.init(e,n)}),M5=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=Pk),Mt.init(e,n)}),D5=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=Kk(n)),Mt.init(e,n)}),R5=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=Bk),Mt.init(e,n)}),z5=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=Vk),Mt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),O5=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=Fk),Mt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),L5=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=Ik),Mt.init(e,n)}),U5=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=Qk),Mt.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function gy(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const B5=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=Gk),Mt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{gy(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function q5(e){if(!uy.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return gy(r)}const $5=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=uy),Mt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{q5(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),Z5=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=Yk),Mt.init(e,n)});function H5(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const V5=he("$ZodJWT",(e,n)=>{Mt.init(e,n),e._zod.check=r=>{H5(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),xy=he("$ZodNumber",(e,n)=>{Ht.init(e,n),e._zod.pattern=e._zod.bag.pattern??t5,e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const c=r.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return r;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),r}}),F5=he("$ZodNumber",(e,n)=>{i5.init(e,n),xy.init(e,n)}),I5=he("$ZodBoolean",(e,n)=>{Ht.init(e,n),e._zod.pattern=n5,e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=!!r.value}catch{}const c=r.value;return typeof c=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),r}}),Q5=he("$ZodUnknown",(e,n)=>{Ht.init(e,n),e._zod.parse=r=>r}),G5=he("$ZodNever",(e,n)=>{Ht.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function D0(e,n,r){e.issues.length&&n.issues.push(...oy(r,e.issues)),n.value[r]=e.value}const W5=he("$ZodArray",(e,n)=>{Ht.init(e,n),e._zod.parse=(r,i)=>{const c=r.value;if(!Array.isArray(c))return r.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),r;r.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],x=n.element._zod.run({value:m,issues:[]},i);x instanceof Promise?u.push(x.then(g=>D0(g,r,f))):D0(x,r,f)}return u.length?Promise.all(u).then(()=>r):r}});function Ic(e,n,r,i){e.issues.length&&n.issues.push(...oy(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function vy(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=ck(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function by(e,n,r,i,c,u){const f=[],m=c.keySet,x=c.catchall._zod,g=x.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(g==="never"){f.push(b);continue}const y=x.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>Ic(w,r,b,n))):Ic(y,r,b,n)}return f.length&&r.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const Y5=he("$ZodObject",(e,n)=>{if(Ht.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const x={...m};return Object.defineProperty(n,"shape",{value:x}),x}})}const i=Th(()=>vy(n));wt(e._zod,"propValues",()=>{const m=n.shape,x={};for(const g in m){const b=m[g]._zod;if(b.values){x[g]??(x[g]=new Set);for(const y of b.values)x[g].add(y)}}return x});const c=Fc,u=n.catchall;let f;e._zod.parse=(m,x)=>{f??(f=i.value);const g=m.value;if(!c(g))return m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const T=y[w]._zod.run({value:g[w],issues:[]},x);T instanceof Promise?b.push(T.then(E=>Ic(E,m,w,g))):Ic(T,m,w,g)}return u?by(b,g,m,x,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),P5=he("$ZodObjectJIT",(e,n)=>{Y5.init(e,n);const r=e._zod.parse,i=Th(()=>vy(n)),c=w=>{const j=new x5(["shape","payload","ctx"]),T=i.value,E=A=>{const q=A0(A);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};j.write("const input = payload.value;");const O=Object.create(null);let B=0;for(const A of T.keys)O[A]=`key_${B++}`;j.write("const newResult = {};");for(const A of T.keys){const q=O[A],$=A0(A);j.write(`const ${q} = ${E(A)};`),j.write(`
        if (${q}.issues.length) {
          payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${q}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${q}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const _=j.compile();return(A,q)=>_(w,A,q)};let u;const f=Fc,m=!ay.jitless,g=m&&lk.value,b=n.catchall;let y;e._zod.parse=(w,j)=>{y??(y=i.value);const T=w.value;return f(T)?m&&g&&j?.async===!1&&j.jitless!==!0?(u||(u=c(n.shape)),w=u(w,j),b?by([],T,w,j,y,e):w):r(w,j):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:e}),w)}});function R0(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!Ti(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(f=>Ba(f,i,Ua())))}),n)}const K5=he("$ZodUnion",(e,n)=>{Ht.init(e,n),wt(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),wt(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),wt(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),wt(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>Mh(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(r)return i(c,u);let f=!1;const m=[];for(const x of n.options){const g=x._zod.run({value:c.value,issues:[]},u);if(g instanceof Promise)m.push(g),f=!0;else{if(g.issues.length===0)return g;m.push(g)}}return f?Promise.all(m).then(x=>R0(x,c,e,u)):R0(m,c,e,u)}}),X5=he("$ZodIntersection",(e,n)=>{Ht.init(e,n),e._zod.parse=(r,i)=>{const c=r.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([x,g])=>z0(r,x,g)):z0(r,u,f)}});function th(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Kl(e)&&Kl(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=th(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=th(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};r.push(f.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function z0(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Ti(e))return e;const i=th(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const J5=he("$ZodEnum",(e,n)=>{Ht.init(e,n);const r=ak(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(c=>ok.has(typeof c)).map(c=>typeof c=="string"?Di(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:r,input:f,inst:e}),c}}),eT=he("$ZodLiteral",(e,n)=>{if(Ht.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(r=>typeof r=="string"?Di(r):r?Di(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const c=r.value;return e._zod.values.has(c)||r.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),r}}),tT=he("$ZodTransform",(e,n)=>{Ht.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new ry(e.constructor.name);const c=n.transform(r.value,r);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(r.value=f,r));if(c instanceof Promise)throw new Mi;return r.value=c,r}});function O0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const nT=he("$ZodOptional",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",e._zod.optout="optional",wt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),wt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Mh(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>O0(u,r.value)):O0(c,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),sT=he("$ZodNullable",(e,n)=>{Ht.init(e,n),wt(e._zod,"optin",()=>n.innerType._zod.optin),wt(e._zod,"optout",()=>n.innerType._zod.optout),wt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Mh(r.source)}|null)$`):void 0}),wt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),rT=he("$ZodDefault",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",wt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>L0(u,n)):L0(c,n)}});function L0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const aT=he("$ZodPrefault",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",wt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),iT=he("$ZodNonOptional",(e,n)=>{Ht.init(e,n),wt(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>U0(u,e)):U0(c,e)}});function U0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const lT=he("$ZodCatch",(e,n)=>{Ht.init(e,n),wt(e._zod,"optin",()=>n.innerType._zod.optin),wt(e._zod,"optout",()=>n.innerType._zod.optout),wt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(f=>Ba(f,i,Ua()))},input:r.value}),r.issues=[]),r)):(r.value=c.value,c.issues.length&&(r.value=n.catchValue({...r,error:{issues:c.issues.map(u=>Ba(u,i,Ua()))},input:r.value}),r.issues=[]),r)}}),oT=he("$ZodPipe",(e,n)=>{Ht.init(e,n),wt(e._zod,"values",()=>n.in._zod.values),wt(e._zod,"optin",()=>n.in._zod.optin),wt(e._zod,"optout",()=>n.out._zod.optout),wt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(f=>kc(f,n.in,i)):kc(u,n.in,i)}const c=n.in._zod.run(r,i);return c instanceof Promise?c.then(u=>kc(u,n.out,i)):kc(c,n.out,i)}});function kc(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const cT=he("$ZodReadonly",(e,n)=>{Ht.init(e,n),wt(e._zod,"propValues",()=>n.innerType._zod.propValues),wt(e._zod,"values",()=>n.innerType._zod.values),wt(e._zod,"optin",()=>n.innerType._zod.optin),wt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(B0):B0(c)}});function B0(e){return e.value=Object.freeze(e.value),e}const uT=he("$ZodCustom",(e,n)=>{Jn.init(e,n),Ht.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>q0(u,r,i,e));q0(c,r,i,e)}});function q0(e,n,r,i){if(!e){const c={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(Xl(c))}}class dT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function fT(){return new dT}const Tc=fT();function hT(e,n){return new e({type:"string",...Be(n)})}function mT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(n)})}function $0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(n)})}function pT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(n)})}function gT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(n)})}function xT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(n)})}function vT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(n)})}function bT(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(n)})}function yT(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(n)})}function wT(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(n)})}function ST(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(n)})}function jT(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(n)})}function ET(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(n)})}function NT(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(n)})}function _T(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(n)})}function CT(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(n)})}function kT(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(n)})}function TT(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(n)})}function AT(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(n)})}function MT(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(n)})}function DT(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(n)})}function RT(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(n)})}function zT(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(n)})}function OT(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(n)})}function LT(e,n){return new e({type:"string",format:"date",check:"string_format",...Be(n)})}function UT(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(n)})}function BT(e,n){return new e({type:"string",format:"duration",check:"string_format",...Be(n)})}function qT(e,n){return new e({type:"number",checks:[],...Be(n)})}function $T(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(n)})}function ZT(e,n){return new e({type:"boolean",...Be(n)})}function HT(e){return new e({type:"unknown"})}function VT(e,n){return new e({type:"never",...Be(n)})}function Z0(e,n){return new my({check:"less_than",...Be(n),value:e,inclusive:!1})}function Rf(e,n){return new my({check:"less_than",...Be(n),value:e,inclusive:!0})}function H0(e,n){return new py({check:"greater_than",...Be(n),value:e,inclusive:!1})}function zf(e,n){return new py({check:"greater_than",...Be(n),value:e,inclusive:!0})}function V0(e,n){return new a5({check:"multiple_of",...Be(n),value:e})}function yy(e,n){return new l5({check:"max_length",...Be(n),maximum:e})}function Qc(e,n){return new o5({check:"min_length",...Be(n),minimum:e})}function wy(e,n){return new c5({check:"length_equals",...Be(n),length:e})}function FT(e,n){return new u5({check:"string_format",format:"regex",...Be(n),pattern:e})}function IT(e){return new d5({check:"string_format",format:"lowercase",...Be(e)})}function QT(e){return new f5({check:"string_format",format:"uppercase",...Be(e)})}function GT(e,n){return new h5({check:"string_format",format:"includes",...Be(n),includes:e})}function WT(e,n){return new m5({check:"string_format",format:"starts_with",...Be(n),prefix:e})}function YT(e,n){return new p5({check:"string_format",format:"ends_with",...Be(n),suffix:e})}function io(e){return new g5({check:"overwrite",tx:e})}function PT(e){return io(n=>n.normalize(e))}function KT(){return io(e=>e.trim())}function XT(){return io(e=>e.toLowerCase())}function JT(){return io(e=>e.toUpperCase())}function eA(e,n,r){return new e({type:"array",element:n,...Be(r)})}function tA(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Be(r)})}function nA(e){const n=sA(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Xl(i,r.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=r.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),r.issues.push(Xl(c))}},e(r.value,r)));return n}function sA(e,n){const r=new Jn({check:"custom",...Be(n)});return r._zod.check=e,r}const rA=he("ZodISODateTime",(e,n)=>{A5.init(e,n),Rt.init(e,n)});function aA(e){return OT(rA,e)}const iA=he("ZodISODate",(e,n)=>{M5.init(e,n),Rt.init(e,n)});function lA(e){return LT(iA,e)}const oA=he("ZodISOTime",(e,n)=>{D5.init(e,n),Rt.init(e,n)});function cA(e){return UT(oA,e)}const uA=he("ZodISODuration",(e,n)=>{R5.init(e,n),Rt.init(e,n)});function dA(e){return BT(uA,e)}const fA=(e,n)=>{Rh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>bk(e,r)},flatten:{value:r=>vk(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,eh,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,eh,2)}},isEmpty:{get(){return e.issues.length===0}}})},ks=he("ZodError",fA,{Parent:Error}),hA=su(ks),mA=ru(ks),pA=au(ks),gA=iu(ks),xA=Ek(ks),vA=Nk(ks),bA=_k(ks),yA=Ck(ks),wA=kk(ks),SA=Tk(ks),jA=Ak(ks),EA=Mk(ks),Yt=he("ZodType",(e,n)=>(Ht.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(Za(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>ra(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>hA(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>pA(e,r,i),e.parseAsync=async(r,i)=>mA(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>gA(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>xA(e,r,i),e.decode=(r,i)=>vA(e,r,i),e.encodeAsync=async(r,i)=>bA(e,r,i),e.decodeAsync=async(r,i)=>yA(e,r,i),e.safeEncode=(r,i)=>wA(e,r,i),e.safeDecode=(r,i)=>SA(e,r,i),e.safeEncodeAsync=async(r,i)=>jA(e,r,i),e.safeDecodeAsync=async(r,i)=>EA(e,r,i),e.refine=(r,i)=>e.check(x4(r,i)),e.superRefine=r=>e.check(v4(r)),e.overwrite=r=>e.check(io(r)),e.optional=()=>Y0(e),e.nullable=()=>P0(e),e.nullish=()=>Y0(P0(e)),e.nonoptional=r=>u4(e,r),e.array=()=>ou(e),e.or=r=>XA([e,r]),e.and=r=>e4(e,r),e.transform=r=>K0(e,r4(r)),e.default=r=>l4(e,r),e.prefault=r=>c4(e,r),e.catch=r=>f4(e,r),e.pipe=r=>K0(e,r),e.readonly=()=>p4(e),e.describe=r=>{const i=e.clone();return Tc.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return Tc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Tc.get(e);const i=e.clone();return Tc.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Sy=he("_ZodString",(e,n)=>{zh.init(e,n),Yt.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(FT(...i)),e.includes=(...i)=>e.check(GT(...i)),e.startsWith=(...i)=>e.check(WT(...i)),e.endsWith=(...i)=>e.check(YT(...i)),e.min=(...i)=>e.check(Qc(...i)),e.max=(...i)=>e.check(yy(...i)),e.length=(...i)=>e.check(wy(...i)),e.nonempty=(...i)=>e.check(Qc(1,...i)),e.lowercase=i=>e.check(IT(i)),e.uppercase=i=>e.check(QT(i)),e.trim=()=>e.check(KT()),e.normalize=(...i)=>e.check(PT(...i)),e.toLowerCase=()=>e.check(XT()),e.toUpperCase=()=>e.check(JT())}),NA=he("ZodString",(e,n)=>{zh.init(e,n),Sy.init(e,n),e.email=r=>e.check(mT(_A,r)),e.url=r=>e.check(bT(CA,r)),e.jwt=r=>e.check(zT(HA,r)),e.emoji=r=>e.check(yT(kA,r)),e.guid=r=>e.check($0(F0,r)),e.uuid=r=>e.check(pT(Ac,r)),e.uuidv4=r=>e.check(gT(Ac,r)),e.uuidv6=r=>e.check(xT(Ac,r)),e.uuidv7=r=>e.check(vT(Ac,r)),e.nanoid=r=>e.check(wT(TA,r)),e.guid=r=>e.check($0(F0,r)),e.cuid=r=>e.check(ST(AA,r)),e.cuid2=r=>e.check(jT(MA,r)),e.ulid=r=>e.check(ET(DA,r)),e.base64=r=>e.check(MT(qA,r)),e.base64url=r=>e.check(DT($A,r)),e.xid=r=>e.check(NT(RA,r)),e.ksuid=r=>e.check(_T(zA,r)),e.ipv4=r=>e.check(CT(OA,r)),e.ipv6=r=>e.check(kT(LA,r)),e.cidrv4=r=>e.check(TT(UA,r)),e.cidrv6=r=>e.check(AT(BA,r)),e.e164=r=>e.check(RT(ZA,r)),e.datetime=r=>e.check(aA(r)),e.date=r=>e.check(lA(r)),e.time=r=>e.check(cA(r)),e.duration=r=>e.check(dA(r))});function Zt(e){return hT(NA,e)}const Rt=he("ZodStringFormat",(e,n)=>{Mt.init(e,n),Sy.init(e,n)}),_A=he("ZodEmail",(e,n)=>{w5.init(e,n),Rt.init(e,n)}),F0=he("ZodGUID",(e,n)=>{b5.init(e,n),Rt.init(e,n)}),Ac=he("ZodUUID",(e,n)=>{y5.init(e,n),Rt.init(e,n)}),CA=he("ZodURL",(e,n)=>{S5.init(e,n),Rt.init(e,n)}),kA=he("ZodEmoji",(e,n)=>{j5.init(e,n),Rt.init(e,n)}),TA=he("ZodNanoID",(e,n)=>{E5.init(e,n),Rt.init(e,n)}),AA=he("ZodCUID",(e,n)=>{N5.init(e,n),Rt.init(e,n)}),MA=he("ZodCUID2",(e,n)=>{_5.init(e,n),Rt.init(e,n)}),DA=he("ZodULID",(e,n)=>{C5.init(e,n),Rt.init(e,n)}),RA=he("ZodXID",(e,n)=>{k5.init(e,n),Rt.init(e,n)}),zA=he("ZodKSUID",(e,n)=>{T5.init(e,n),Rt.init(e,n)}),OA=he("ZodIPv4",(e,n)=>{z5.init(e,n),Rt.init(e,n)}),LA=he("ZodIPv6",(e,n)=>{O5.init(e,n),Rt.init(e,n)}),UA=he("ZodCIDRv4",(e,n)=>{L5.init(e,n),Rt.init(e,n)}),BA=he("ZodCIDRv6",(e,n)=>{U5.init(e,n),Rt.init(e,n)}),qA=he("ZodBase64",(e,n)=>{B5.init(e,n),Rt.init(e,n)}),$A=he("ZodBase64URL",(e,n)=>{$5.init(e,n),Rt.init(e,n)}),ZA=he("ZodE164",(e,n)=>{Z5.init(e,n),Rt.init(e,n)}),HA=he("ZodJWT",(e,n)=>{V5.init(e,n),Rt.init(e,n)}),jy=he("ZodNumber",(e,n)=>{xy.init(e,n),Yt.init(e,n),e.gt=(i,c)=>e.check(H0(i,c)),e.gte=(i,c)=>e.check(zf(i,c)),e.min=(i,c)=>e.check(zf(i,c)),e.lt=(i,c)=>e.check(Z0(i,c)),e.lte=(i,c)=>e.check(Rf(i,c)),e.max=(i,c)=>e.check(Rf(i,c)),e.int=i=>e.check(I0(i)),e.safe=i=>e.check(I0(i)),e.positive=i=>e.check(H0(0,i)),e.nonnegative=i=>e.check(zf(0,i)),e.negative=i=>e.check(Z0(0,i)),e.nonpositive=i=>e.check(Rf(0,i)),e.multipleOf=(i,c)=>e.check(V0(i,c)),e.step=(i,c)=>e.check(V0(i,c)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function VA(e){return qT(jy,e)}const FA=he("ZodNumberFormat",(e,n)=>{F5.init(e,n),jy.init(e,n)});function I0(e){return $T(FA,e)}const IA=he("ZodBoolean",(e,n)=>{I5.init(e,n),Yt.init(e,n)});function Q0(e){return ZT(IA,e)}const QA=he("ZodUnknown",(e,n)=>{Q5.init(e,n),Yt.init(e,n)});function G0(){return HT(QA)}const GA=he("ZodNever",(e,n)=>{G5.init(e,n),Yt.init(e,n)});function WA(e){return VT(GA,e)}const YA=he("ZodArray",(e,n)=>{W5.init(e,n),Yt.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(Qc(r,i)),e.nonempty=r=>e.check(Qc(1,r)),e.max=(r,i)=>e.check(yy(r,i)),e.length=(r,i)=>e.check(wy(r,i)),e.unwrap=()=>e.element});function ou(e,n){return eA(YA,e,n)}const PA=he("ZodObject",(e,n)=>{P5.init(e,n),Yt.init(e,n),wt(e,"shape",()=>n.shape),e.keyof=()=>t4(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:G0()}),e.loose=()=>e.clone({...e._zod.def,catchall:G0()}),e.strict=()=>e.clone({...e._zod.def,catchall:WA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>hk(e,r),e.safeExtend=r=>mk(e,r),e.merge=r=>pk(e,r),e.pick=r=>dk(e,r),e.omit=r=>fk(e,r),e.partial=(...r)=>gk(Ey,e,r[0]),e.required=(...r)=>xk(Ny,e,r[0])});function jr(e,n){const r={type:"object",shape:e??{},...Be(n)};return new PA(r)}const KA=he("ZodUnion",(e,n)=>{K5.init(e,n),Yt.init(e,n),e.options=n.options});function XA(e,n){return new KA({type:"union",options:e,...Be(n)})}const JA=he("ZodIntersection",(e,n)=>{X5.init(e,n),Yt.init(e,n)});function e4(e,n){return new JA({type:"intersection",left:e,right:n})}const nh=he("ZodEnum",(e,n)=>{J5.init(e,n),Yt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(r.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new nh({...n,checks:[],...Be(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(r.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new nh({...n,checks:[],...Be(c),entries:u})}});function t4(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new nh({type:"enum",entries:r,...Be(n)})}const n4=he("ZodLiteral",(e,n)=>{eT.init(e,n),Yt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function W0(e,n){return new n4({type:"literal",values:Array.isArray(e)?e:[e],...Be(n)})}const s4=he("ZodTransform",(e,n)=>{tT.init(e,n),Yt.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new ry(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(Xl(u,r.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=r.value),f.inst??(f.inst=e),r.issues.push(Xl(f))}};const c=n.transform(r.value,r);return c instanceof Promise?c.then(u=>(r.value=u,r)):(r.value=c,r)}});function r4(e){return new s4({type:"transform",transform:e})}const Ey=he("ZodOptional",(e,n)=>{nT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Y0(e){return new Ey({type:"optional",innerType:e})}const a4=he("ZodNullable",(e,n)=>{sT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function P0(e){return new a4({type:"nullable",innerType:e})}const i4=he("ZodDefault",(e,n)=>{rT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function l4(e,n){return new i4({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():ly(n)}})}const o4=he("ZodPrefault",(e,n)=>{aT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function c4(e,n){return new o4({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():ly(n)}})}const Ny=he("ZodNonOptional",(e,n)=>{iT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function u4(e,n){return new Ny({type:"nonoptional",innerType:e,...Be(n)})}const d4=he("ZodCatch",(e,n)=>{lT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function f4(e,n){return new d4({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const h4=he("ZodPipe",(e,n)=>{oT.init(e,n),Yt.init(e,n),e.in=n.in,e.out=n.out});function K0(e,n){return new h4({type:"pipe",in:e,out:n})}const m4=he("ZodReadonly",(e,n)=>{cT.init(e,n),Yt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function p4(e){return new m4({type:"readonly",innerType:e})}const g4=he("ZodCustom",(e,n)=>{uT.init(e,n),Yt.init(e,n)});function x4(e,n={}){return tA(g4,e,n)}function v4(e){return nA(e)}const b4=jr({key:Zt(),label:Zt(),path:Zt(),ordinal:VA().int(),required:Q0().optional(),enabled:Q0().optional(),depends_on:ou(Zt()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),X0=jr({path:Zt()}).strict();jr({name:Zt(),files_hash:Zt().default(""),columns:ou(b4).default([]),table:jr({transform:X0.nullable().optional(),validators:X0.nullable().optional()}).partial().optional()}).passthrough();function _y(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),x=i.get(m);if(x===void 0){i.set(m,r.length),r.push(f);continue}r[x]=f}}return r},[e,n])}const Cy={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},y4=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Hl="mine",Ma={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function w4(e){return e&&Object.keys(Ma).includes(e)?e:Hl}function S4(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function j4(e){return new Set(y4).has(e??"")?e:"-created_at"}const ky=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ri={all:()=>["documents"],workspace:e=>[...Ri.all(),e],list:(e,n,r)=>[...Ri.workspace(e),"list",{sort:n,uploader:r}]},Ty=50;function E4(){const{workspace:e}=sa(),n=qa(),[r,i]=_h(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=w4(r.get("view")),[f,m]=p.useState(u),[x,g]=p.useState(()=>{const we=r.get("status");if(we)return S4(we);const Ce=Ma[u].presetStatuses??[];return new Set(Ce)}),[b,y]=p.useState(()=>{const we=r.get("sort");return we?j4(we):Ma[u].presetSort??"-created_at"}),[w,j]=p.useState(r.get("q")??""),[T,E]=p.useState(w.trim()),O=p.useMemo(()=>Array.from(x),[x]),_=Ma[f].uploader??null,A=p.useRef(null),[q,$]=p.useState(new Set),P=p.useMemo(()=>new Set(q),[q]),Y=p.useMemo(()=>Array.from(P),[P]),K=P.size,ne=_4(e.id),oe=C4(e.id),ce=fh(),me=ce.data?.enabled??!1,ue=ce.data?.detail??Vs,xe=ce.isPending,[ye,U]=p.useState(null),[ee,ge]=p.useState(null),[Se,ae]=p.useState(null),N=ne.isPending,I=oe.isPending,R=N4(e.id,{sort:b,uploader:_}),{refetch:z}=R,F=p.useCallback(we=>we.id,[]),V=_y(R.data?.pages,F),pe=p.useMemo(()=>{const we=T.toLowerCase(),Ce=_==="me"?n.user.id:null,He=_==="me"?n.user.email??null:null;return V.filter(jt=>{if(O.length>0&&!O.includes(jt.status))return!1;if(_==="me"){const at=jt.uploader_id??jt.uploader?.id??null,Vt=jt.uploader?.email??null;if(Ce&&at&&at!==Ce||!at&&He&&Vt&&Vt!==He)return!1}return!(we&&!`${jt.name??""} ${jt.source??""}`.toLowerCase().includes(we))})},[T,V,n.user.email,n.user.id,O,_]),be=R.isFetchingNextPage,Ee=R.isFetching&&!be,Q=pe.length;p.useEffect(()=>{const we=r.get("q")??"";j(He=>He===we?He:we);const Ce=we.trim();E(He=>He===Ce?He:Ce)},[r]),p.useEffect(()=>{const we=new URLSearchParams;x.size>0&&we.set("status",Array.from(x).join(",")),b!=="-created_at"&&we.set("sort",b),T&&we.set("q",T),f!==Hl&&we.set("view",f),c.current(we,{replace:!0})},[x,b,T,f]),p.useEffect(()=>{const we=window.setTimeout(()=>E(w.trim()),250);return()=>window.clearTimeout(we)},[w]),p.useEffect(()=>{$(we=>{if(we.size===0)return we;const Ce=new Set,He=new Set(pe.map(at=>at.id));let jt=!1;for(const at of we)He.has(at)?Ce.add(at):jt=!0;return jt?Ce:we})},[pe]);const Ne=p.useMemo(()=>{for(const we of pe)if(P.has(we.id))return we;return null},[pe,P]),_e=p.useCallback(we=>{const Ce=Ma[we];m(we),g(new Set(Ce.presetStatuses??[])),y(Ce.presetSort??"-created_at"),j(""),E("")},[]),Ze=p.useCallback(we=>{g(Ce=>{const He=new Set(Ce);return He.has(we)?He.delete(we):He.add(we),He})},[]),Oe=p.useCallback(()=>{g(new Set)},[]);p.useEffect(()=>{const we=Ce=>{if((Ce.metaKey||Ce.ctrlKey)&&Ce.key.toLowerCase()==="u"){Ce.preventDefault(),A.current?.click();return}(Ce.key==="Delete"||Ce.key==="Backspace")&&K>0&&(Ce.preventDefault(),C())};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[K]);const Te=p.useCallback(we=>Cy[we]??we,[]),Fe=p.useCallback(we=>l.jsx(K4,{document:we}),[]),et=p.useCallback(()=>{A.current?.click()},[]),tt=p.useCallback(async we=>{if(we.length){U(null);try{await ne.mutateAsync({files:we})}catch(Ce){const He=Ce instanceof Error?Ce.message:"Failed to upload documents.";U({tone:"error",message:He})}}},[ne]),Pt=async we=>{const Ce=Array.from(we.target.files??[]);await tt(Ce),we.target.value=""},M=we=>{$(Ce=>{const He=new Set(Ce);return He.has(we)?He.delete(we):He.add(we),He})},k=()=>{$(we=>{if(pe.length===0)return new Set;const Ce=pe.map(He=>He.id);return we.size===pe.length&&Ce.every(He=>we.has(He))?new Set:new Set(Ce)})},C=p.useCallback(async()=>{const we=Y;if(we.length){U(null);try{await oe.mutateAsync({documentIds:we}),$(new Set)}catch(Ce){const He=Ce instanceof Error?Ce.message:"Failed to delete documents.";U({tone:"error",message:He})}}},[oe,Y]),se=p.useCallback(async we=>{U(null);try{await oe.mutateAsync({documentIds:[we.id]}),$(Ce=>{const He=new Set(Ce);return He.delete(we.id),He})}catch(Ce){const He=Ce instanceof Error?Ce.message:"Failed to delete document.";U({tone:"error",message:He})}},[oe]),J=p.useCallback(async we=>{try{ge(we.id);const{blob:Ce,filename:He}=await M4(e.id,we.id);tM(Ce,He??we.name)}catch(Ce){const He=Ce instanceof Error?Ce.message:"Failed to download document.";U({tone:"error",message:He})}finally{ge(null)}},[e.id]),ie=p.useCallback(we=>{ae(we)},[]),je=p.useCallback(()=>{z()},[z]),Le=p.useCallback(we=>{U({tone:"error",message:we})},[]),Ve=()=>{m(Hl),j(""),E(""),g(new Set),y("-created_at")},St=f===Hl&&x.size===0&&b==="-created_at"&&!T;return l.jsxs(l.Fragment,{children:[l.jsx(G4,{workspaceName:e.name??void 0,disabled:N,onFiles:async we=>{await tt(we)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:A,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Pt}),l.jsx(R4,{workspaceName:e.name,totalDocuments:Q,view:f,onChangeView:_e,sort:b,onSort:y,onReset:Ve,isFetching:R.isFetching,isDefault:St,onUploadClick:et,uploadDisabled:N,selectedStatuses:x,onToggleStatus:Ze,onClearStatuses:Oe}),ye?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:ye.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:R.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(W4,{})}):R.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):pe.length===0?l.jsx("div",{className:"p-6",children:l.jsx(P4,{onUploadClick:et})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(L4,{documents:pe,selectedIds:P,onToggleDocument:M,onToggleAll:k,disableSelection:Ee||I||ne.isPending,disableRowActions:oe.isPending,formatStatusLabel:Te,onDeleteDocument:se,onDownloadDocument:J,onRunDocument:ie,downloadingId:ee,renderRunStatus:Fe,safeModeEnabled:me,safeModeMessage:ue,safeModeLoading:xe})}),R.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>R.fetchNextPage(),disabled:be,children:be?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(Y4,{count:K,onClear:()=>$(new Set),onRun:()=>{Ne&&!me&&!xe&&ie(Ne)},onDelete:C,busy:I,safeModeEnabled:me,safeModeMessage:ue,safeModeLoading:xe}),l.jsx(I4,{open:!!Se,workspaceId:e.id,documentRecord:Se,onClose:()=>ae(null),onRunSuccess:je,onRunError:Le,safeModeEnabled:me,safeModeMessage:ue,safeModeLoading:xe})]})}function N4(e,n){const r=n.sort.trim()||null;return Lv({queryKey:Ri.list(e,r,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>A4(e,{sort:r,page:typeof i=="number"?i:1,pageSize:Ty},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function _4(e){const n=yt();return Tn({mutationFn:async({files:r})=>{const i=Array.from(r);for(const c of i)await Ge.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ri.workspace(e)})}})}function C4(e){const n=yt();return Tn({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Ge.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ri.workspace(e)})}})}function k4(e){const n=yt();return Tn({mutationFn:async({configId:r,options:i})=>{const{data:c}=await Ge.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:r}},body:{stream:!1,options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:Ri.workspace(e)})}})}function T4(e,n){const r=p.useMemo(()=>ta(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>J0(r,n));p.useEffect(()=>{c(J0(r,n))},[r,n]);const u=p.useCallback(f=>{c(f);const m=r.get()??{};r.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId,sheetNames:f.sheetNames&&f.sheetNames.length>0?[...f.sheetNames]:null}})},[r,n]);return{preferences:i,setPreferences:u}}async function A4(e,n,r){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:Ty,include_total:!1},{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!c)throw new Error("Expected document page payload.");return c}async function M4(e,n){const{data:r,response:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const c=D4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:c}}function D4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function J0(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const f=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,configVersionId:i.configVersionId??null,sheetNames:f}}}return{configId:null,configVersionId:null,sheetNames:null}}function R4({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:x,onUploadClick:g,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}){const T=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:T})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:f,disabled:x,className:ve("rounded border border-transparent px-3 py-1 text-sm font-medium",x?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(ze,{className:"shrink-0",onClick:g,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(z4,{view:r,onChange:i}),l.jsx(O4,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}),l.jsxs(na,{value:c,onChange:E=>u(E.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:ve("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function z4({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Ma).map(r=>{const i=Ma[r],c=r===e;return l.jsx("button",{type:"button",onClick:()=>n(r),className:ve("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function O4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(Cy),m=e.size>0,x=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const g=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",g),()=>window.removeEventListener("mousedown",g)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(g=>!g),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",x,l.jsx(V4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{r(),c(!1)},className:ve("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([g,b])=>{const y=e.has(g);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(g),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},g)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function L4({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:x,onRunDocument:g,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:j,safeModeLoading:T=!1}){const E=p.useRef(null),{allSelected:O,someSelected:B}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const _=e.reduce((A,q)=>n.has(q.id)?A+1:A,0);return{allSelected:_===e.length,someSelected:_>0&&_<e.length}},[e,n]);return p.useEffect(()=>{E.current&&(E.current.indeterminate=B)},[B]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:E,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:O,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(_=>{const A=n.has(_.id);return l.jsxs("tr",{className:ve("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",A?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:A,onChange:()=>r(_.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:_.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:_.name,children:_.name}),l.jsx("div",{className:"text-xs text-slate-500",children:B4(_)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:_.created_at,className:"block text-xs text-slate-600",title:ky.format(new Date(_.created_at)),children:H4(_)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:_.uploader?.name??_.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(_):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",Z4(_.status)),children:f?f(_.status):_.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(U4,{document:_,onDownload:x,onDelete:m,onRun:g,disabled:u,downloading:b===_.id,safeModeEnabled:w,safeModeMessage:j,safeModeLoading:T})})]},_.id)})})]})})}function U4({document:e,onDownload:n,onDelete:r,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=c||!i||f||x,b=f?m??Vs:x?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(ze,{type:"button",size:"sm",variant:"primary",onClick:()=>{g||i?.(e)},disabled:g,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:ve("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function B4(e){const n=[];return e.content_type&&n.push(q4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push($4(e.byte_size)),n.join("  ")||"Unknown type"}function q4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function $4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function Z4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function H4(e){return ky.format(new Date(e.created_at))}function V4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function F4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:ve("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function I4({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?g.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(g.current?.focus(),g.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:Sr.createPortal(l.jsx(Q4,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:x}),window.document.body)}function Q4({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const x=p.useRef(null),g=p.useId(),b=p.useId(),y=kh({workspaceId:e}),[w,j]=p.useState(""),[T,E]=p.useState(""),O=k4(e),{preferences:B,setPreferences:_}=T4(e,n.id),[A,q]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{q(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const $=p.useMemo(()=>y.data?.items??[],[y.data]),P=p.useMemo(()=>$.filter(k=>!("deleted_at"in k&&k.deleted_at)),[$]),Y=p.useMemo(()=>{if(B.configId){const k=P.find(C=>C.id===B.configId);if(k)return k.id}return P[0]?.id??""},[B.configId,P]);p.useEffect(()=>{j(Y)},[Y]);const K=sk({workspaceId:e,configId:w,enabled:!!w}),ne=p.useMemo(()=>K.data??[],[K.data]),oe=p.useMemo(()=>P.find(k=>k.id===w)??null,[P,w]),ce=p.useMemo(()=>ne.find(k=>k.configuration_version_id===T)??null,[ne,T]),me=p.useMemo(()=>f_(ne),[ne]),ue=p.useMemo(()=>h_(ne),[ne]),xe=p.useMemo(()=>{if(!w)return"";if(B.configId===w&&B.configVersionId){const k=ne.find(C=>C.configuration_version_id===B.configVersionId);if(k)return k.configuration_version_id}return me?me.configuration_version_id:ue?ue.configuration_version_id:ne[0]?.configuration_version_id??""},[me,ue,B.configId,B.configVersionId,w,ne]);p.useEffect(()=>{E(xe)},[xe]);const ye=p.useCallback(k=>{const C=typeof k.status=="string"?k.status:"draft";return`${k.title??k.display_name??"Untitled configuration"} (${C.charAt(0).toUpperCase()}${C.slice(1)})`},[]),U=p.useCallback(k=>{const C=k.status==="active"?"Active":k.status==="published"?"Published":k.status==="inactive"?"Inactive":"Draft";return`v${k.semver??""} (${C})`},[]),[ee,ge]=p.useState(null),Se=f??Vs,ae=fn({queryKey:A?Nc.detail(A):["run","none"],queryFn:({signal:k})=>A?Rb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A,refetchInterval:k=>{const C=k.state.data?.status;return C==="running"||C==="queued"?2e3:!1}}),N=fn({queryKey:A?Nc.outputs(A):["run-outputs","none"],queryFn:({signal:k})=>A?Db(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(ae.data?.status==="succeeded"||ae.data?.status==="failed"),staleTime:5e3}),I=fn({queryKey:A?Nc.summary(A):["run-summary","none"],queryFn:({signal:k})=>A?zb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(ae.data?.status==="succeeded"||ae.data?.status==="failed"),staleTime:5e3}),R=fn({queryKey:A?Nc.telemetry(A):["run-telemetry","none"],queryFn:({signal:k})=>A?Jf(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(ae.data?.status==="succeeded"||ae.data?.status==="failed"),staleTime:5e3}),z=fn({queryKey:["document-sheets",e,n.id],queryFn:({signal:k})=>Ob(e,n.id,k),staleTime:6e4}),F=p.useMemo(()=>z.data??[],[z.data]),[V,pe]=p.useState([]);p.useEffect(()=>{if(!F.length){pe([]);return}const k=(B.sheetNames??[]).filter(se=>F.some(J=>J.name===se)),C=Array.from(new Set(k));pe(C)},[F,B.sheetNames]);const be=p.useMemo(()=>Array.from(new Set(V.filter(k=>F.some(C=>C.name===k)))),[V,F]);p.useEffect(()=>{!oe||!T||_({configId:oe.id,configVersionId:T,sheetNames:be.length?be:null})},[be,oe,T,_]);const Ee=p.useCallback(k=>{pe(C=>C.includes(k)?C.filter(se=>se!==k):[...C,k])},[]),Ne=(ae.data??null)?.status??null,_e=Ne==="running"||Ne==="queued",Ze=A?`/api/v1/runs/${encodeURIComponent(A)}`:null,Oe=N.data?.files??[],Te=I.data??null,Fe=R.data??[];p.useEffect(()=>{const k=x.current;if(!k)return;(ev(k)[0]??k).focus();const se=J=>{if(J.key==="Escape"){J.preventDefault(),r();return}if(J.key!=="Tab")return;const ie=ev(k);if(ie.length===0){J.preventDefault();return}const je=ie[0],Le=ie[ie.length-1],Ve=window.document.activeElement;if(J.shiftKey){(!k.contains(Ve)||Ve===je)&&(J.preventDefault(),Le.focus());return}Ve===Le&&(J.preventDefault(),je.focus())};return k.addEventListener("keydown",se),()=>k.removeEventListener("keydown",se)},[r]);const et=P.length>0,tt=O.isPending||_e||m||u||!et||!T,Pt=u?Se:m?"Checking ADE safe mode status...":void 0,M=()=>{if(u||m)return;if(!oe||!ce||!T){ge("Select a configuration before running the extractor.");return}ge(null),q(null);const k=be,C=k.length>0?{dry_run:!1,validate_only:!1,input_sheet_names:k}:{dry_run:!1,validate_only:!1};O.mutate({configId:oe.id,options:{...C,input_document_id:n.id}},{onSuccess:se=>{_({configId:oe.id,configVersionId:T,sheetNames:k.length?k:null}),i?.(se),q(se.id)},onError:se=>{const J=se instanceof Error?se.message:"Unable to submit extraction run.";ge(J),c?.(J)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),l.jsxs("aside",{ref:x,role:"dialog","aria-modal":"true","aria-labelledby":g,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:g,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:r,disabled:O.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(ht,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):et?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(na,{value:w,onChange:k=>{const C=k.target.value;j(C),E("")},disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),P.map(k=>l.jsx("option",{value:k.id,children:ye(k)},k.id))]}),w?K.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading versions"}):K.isError?l.jsxs(ht,{tone:"danger",children:["Unable to load configuration versions."," ",K.error instanceof Error?K.error.message:"Try again later."]}):ne.length>0?l.jsxs(na,{value:T,onChange:k=>E(k.target.value),disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select version"}),ne.map(k=>l.jsx("option",{value:k.configuration_version_id,children:U(k)},k.configuration_version_id))]}):l.jsx(ht,{tone:"info",children:"No versions available for this configuration."}):null]}):l.jsx(ht,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),z.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):z.isError?l.jsx(ht,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>z.refetch(),disabled:z.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>pe([]),disabled:O.isPending,children:"Use all worksheets"})]})]})}):F.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:be.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${be.length.toLocaleString()} worksheet${be.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>pe([]),disabled:O.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:F.map(k=>{const C=be.includes(k.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:C,onChange:()=>Ee(k.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[k.name,k.is_active?" (active)":""]})]},`${k.index}-${k.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),A?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:A,children:["Run ",A]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",Ne??"loading"]})]}),_e?l.jsx(F4,{className:"h-4 w-4 text-slate-500"}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:Ze?`${Ze}/logs`:void 0,className:ve("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Ze?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":!Ze,children:"Download telemetry"})}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),N.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):Oe.length>0?l.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:Oe.map(k=>{const C=k.path??k.name,se=typeof k.byte_size=="number"?k.byte_size:0,J=k.download_url??(Ze?`${Ze}/outputs/${C.split("/").map(encodeURIComponent).join("/")}`:void 0);return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:J,className:"text-emerald-700 hover:underline","aria-disabled":!J,children:k.name}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[se.toLocaleString()," bytes"]})]},C)})}):l.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),I.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):I.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):Te?l.jsx(Xv,{summary:Te}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),R.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):R.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):Fe.length>0?l.jsx(Jv,{events:Fe}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(ht,{tone:"warning",children:Se}):null,ee?l.jsx(ht,{tone:"danger",children:ee}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:r,disabled:O.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",onClick:M,isLoading:O.isPending,disabled:tt,title:Pt,children:"Run extraction"})]})]})]})}function G4({onFiles:e,disabled:n,workspaceName:r}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},x=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},g=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",x),window.addEventListener("drop",g),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",x),window.removeEventListener("drop",g)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:ve("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function W4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function Y4({count:e,onClear:n,onRun:r,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const x=c||u||m,g=u?f??Vs:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(ze,{size:"sm",onClick:()=>!x&&r(),disabled:x,title:g,children:"Run extraction"}),l.jsx(ze,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function P4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(ze,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function K4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",X4(n.status)),children:[J4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:eM(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function X4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function J4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const _i=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function eM(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return _i.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return _i.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return _i.format(m,"hour");const g=Math.round(m/24);if(Math.abs(g)<30)return _i.format(g,"day");const b=Math.round(g/30);if(Math.abs(b)<12)return _i.format(b,"month");const y=Math.round(g/365);return _i.format(y,"year")}function tM(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function ev(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function nM({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function sM(){return l.jsx(_t,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"info"})}function Gt({label:e,hint:n,error:r,required:i=!1,children:c,className:u}){const f=p.useId(),m=p.isValidElement(c)?c.props??{}:{},x=m.id??f,g=n?`${x}-hint`:void 0,b=r?`${x}-error`:void 0,y=[g,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:ve("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:x,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:x,required:i||m.required,"aria-describedby":y,"aria-invalid":r?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:g,className:"text-xs text-slate-500",children:n}):null,r?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const Ay="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",rn=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>l.jsx("input",{ref:i,className:ve(Ay,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));rn.displayName="Input";const My=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},c)=>l.jsx("textarea",{ref:c,rows:r,className:ve(Ay,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));My.displayName="TextArea";const Of=[{value:"default",label:"Default template"}],rM=e=>`ade.ui.workspace.${e}.config-builder.last`,Lf=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function aM(){const{workspace:e}=sa(),n=kn(),r=p.useMemo(()=>ta(rM(e.id)),[e.id]),i=kh({workspaceId:e.id}),c=rk(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,x]=p.useState(Of[0]?.value??"default"),[g,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(_=>!("deleted_at"in _&&_.deleted_at)),[i.data]),w=p.useMemo(()=>r.get(),[r]),j=_=>{r.set({configId:_}),n(Lf(e.id,_))},T=_=>{r.set({configId:_}),n(`${Lf(e.id,_)}/editor`)},E=_=>{_.preventDefault();const A=u.trim();if(!A){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:A,source:{type:"template",templateId:m}},{onSuccess(q){r.set({configId:q.id}),n(Lf(e.id,q.id))}})},O=g??(c.error instanceof Error?c.error.message:null),B=u.trim().length>0&&!c.isPending;return i.isLoading?l.jsx(_t,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?l.jsx(_t,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?l.jsx(_t,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("form",{onSubmit:E,className:"space-y-4 text-left",children:[l.jsx(Gt,{label:"Configuration name",required:!0,children:l.jsx(rn,{value:u,onChange:_=>f(_.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),l.jsx(Gt,{label:"Template",children:l.jsx(na,{value:m,onChange:_=>x(_.target.value),disabled:c.isPending,children:Of.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!B,isLoading:c.isPending,children:"Create from template"})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j(w.configId),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(_=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:_.display_name}),l.jsx(iM,{status:_.status}),w?.configId===_.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(_.updated_at).toLocaleString(),"  Active version"," ",("active_version"in _?_.active_version:null)??_.configuration_version??""]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>j(_.id),children:"View details"}),l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>T(_.id),children:"Open editor"})]})]},_.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsx(Gt,{label:"Configuration name",required:!0,children:l.jsx(rn,{value:u,onChange:_=>f(_.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),l.jsx(Gt,{label:"Template",children:l.jsx(na,{value:m,onChange:_=>x(_.target.value),disabled:c.isPending,children:Of.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!B,isLoading:c.isPending,children:"Create from template"})]})]})]})}function iM({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function lM({params:e}={}){const{workspace:n}=sa(),r=kn(),i=e?.configId,c=kh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.id===i),[c.data,i]);return i?c.isLoading?l.jsx(_t,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),l.jsx(ze,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:u.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),l.jsx("dd",{className:"text-sm text-slate-700",children:("active_version"in u?u.active_version:null)??u.configuration_version??""})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(_t,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(_t,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function oM({params:e}={}){const{workspace:n}=sa(),{session:r,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:x,shouldBypassUnsavedGuard:g}=Pb(),b=e?.configId,y=nk({workspaceId:n.id});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const O=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${O}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return l.jsx(_t,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=r&&r.configId===b?r:null,j=!!(w&&i==="minimized"),T=!!(w&&i==="restored"),E=!!(w&&i==="maximized");return T&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Wb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:x,onCloseWorkbench:u,shouldBypassUnsavedGuard:g})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var lo=e=>e.type==="checkbox",Da=e=>e instanceof Date,Pn=e=>e==null;const Dy=e=>typeof e=="object";var an=e=>!Pn(e)&&!Array.isArray(e)&&Dy(e)&&!Da(e),cM=e=>an(e)&&e.target?lo(e.target)?e.target.checked:e.target.value:e,uM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dM=(e,n)=>e.has(uM(n)),fM=e=>{const n=e.constructor&&e.constructor.prototype;return an(n)&&n.hasOwnProperty("isPrototypeOf")},Oh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Oh&&(e instanceof Blob||i))&&(r||an(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!fM(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=yn(e[c]));else return e;return n}var cu=e=>/^\w*$/.test(e),Qt=e=>e===void 0,Lh=e=>Array.isArray(e)?e.filter(Boolean):[],Uh=e=>Lh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,n,r)=>{if(!n||!an(e))return r;const i=(cu(n)?[n]:Uh(n)).reduce((c,u)=>Pn(c)?c:c[u],e);return Qt(i)||i===e?Qt(e[n])?r:e[n]:i},Js=e=>typeof e=="boolean",bt=(e,n,r)=>{let i=-1;const c=cu(n)?[n]:Uh(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let x=r;if(i!==f){const g=e[m];x=an(g)||Array.isArray(g)?g:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const tv={BLUR:"blur",FOCUS_OUT:"focusout"},Zs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hM=xt.createContext(null);hM.displayName="HookFormContext";var mM=(e,n,r,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==Zs.all&&(n._proxyFormState[f]=!i||Zs.all),e[f]}});return c};const pM=typeof window<"u"?xt.useLayoutEffect:xt.useEffect;var ds=e=>typeof e=="string",gM=(e,n,r,i,c)=>ds(e)?(i&&n.watch.add(e),Me(r,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Me(r,u))):(i&&(n.watchAll=!0),r),sh=e=>Pn(e)||!Dy(e);function Xr(e,n,r=new WeakSet){if(sh(e)||sh(n))return e===n;if(Da(e)&&Da(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(Da(f)&&Da(m)||an(f)&&an(m)||Array.isArray(f)&&Array.isArray(m)?!Xr(f,m,r):f!==m)return!1}}return!0}var Bh=(e,n,r,i,c)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:c||!0}}:{},Vl=e=>Array.isArray(e)?e:[e],nv=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function Ry(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&an(c)&&u){const f=Ry(c,u);an(f)&&(r[i]=f)}else e[i]&&(r[i]=u)}return r}var Yn=e=>an(e)&&!Object.keys(e).length,qh=e=>e.type==="file",Hs=e=>typeof e=="function",Gc=e=>{if(!Oh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},zy=e=>e.type==="select-multiple",$h=e=>e.type==="radio",xM=e=>$h(e)||lo(e),Uf=e=>Gc(e)&&e.isConnected;function vM(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=Qt(e)?i++:e[n[i++]];return e}function bM(e){for(const n in e)if(e.hasOwnProperty(n)&&!Qt(e[n]))return!1;return!0}function nn(e,n){const r=Array.isArray(n)?n:cu(n)?[n]:Uh(n),i=r.length===1?e:vM(e,r),c=r.length-1,u=r[c];return i&&delete i[u],c!==0&&(an(i)&&Yn(i)||Array.isArray(i)&&bM(i))&&nn(e,r.slice(0,-1)),e}var yM=e=>{for(const n in e)if(Hs(e[n]))return!0;return!1};function Oy(e){return Array.isArray(e)||an(e)&&!yM(e)}function rh(e,n={}){for(const r in e)Oy(e[r])?(n[r]=Array.isArray(e[r])?[]:{},rh(e[r],n[r])):Qt(e[r])||(n[r]=!0);return n}function ki(e,n,r){r||(r=rh(n));for(const i in e)Oy(e[i])?Qt(n)||sh(r[i])?r[i]=rh(e[i],Array.isArray(e[i])?[]:{}):ki(e[i],Pn(n)?{}:n[i],r[i]):r[i]=!Xr(e[i],n[i]);return r}const sv={value:!1,isValid:!1},rv={value:!0,isValid:!0};var Ly=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qt(e[0].attributes.value)?Qt(e[0].value)||e[0].value===""?rv:{value:e[0].value,isValid:!0}:rv:sv}return sv},Uy=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>Qt(e)?e:n?e===""?NaN:e&&+e:r&&ds(e)?new Date(e):i?i(e):e;const av={isValid:!1,value:null};var By=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,av):av;function iv(e){const n=e.ref;return qh(n)?n.files:$h(n)?By(e.refs).value:zy(n)?[...n.selectedOptions].map(({value:r})=>r):lo(n)?Ly(e.refs).value:Uy(Qt(n.value)?e.ref.value:n.value,e)}var wM=(e,n,r,i)=>{const c={};for(const u of e){const f=Me(n,u);f&&bt(c,u,f._f)}return{criteriaMode:r,names:[...e],fields:c,shouldUseNativeValidation:i}},Wc=e=>e instanceof RegExp,Ol=e=>Qt(e)?e:Wc(e)?e.source:an(e)?Wc(e.value)?e.value.source:e.value:e,lv=e=>({isOnSubmit:!e||e===Zs.onSubmit,isOnBlur:e===Zs.onBlur,isOnChange:e===Zs.onChange,isOnAll:e===Zs.all,isOnTouch:e===Zs.onTouched});const ov="AsyncFunction";var SM=e=>!!e&&!!e.validate&&!!(Hs(e.validate)&&e.validate.constructor.name===ov||an(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===ov)),jM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cv=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Fl=(e,n,r,i)=>{for(const c of r||Object.keys(e)){const u=Me(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(Fl(m,n))break}else if(an(m)&&Fl(m,n))break}}};function uv(e,n,r){const i=Me(e,r);if(i||cu(r))return{error:i,name:r};const c=r.split(".");for(;c.length;){const u=c.join("."),f=Me(n,u),m=Me(e,u);if(f&&!Array.isArray(f)&&r!==u)return{name:r};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:r}}var EM=(e,n,r,i)=>{r(e);const{name:c,...u}=e;return Yn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||Zs.all))},NM=(e,n,r)=>!e||!n||e===n||Vl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),_M=(e,n,r,i,c)=>c.isOnAll?!1:!r&&c.isOnTouch?!(n||e):(r?i.isOnBlur:c.isOnBlur)?!e:(r?i.isOnChange:c.isOnChange)?e:!0,CM=(e,n)=>!Lh(Me(e,n)).length&&nn(e,n),kM=(e,n,r)=>{const i=Vl(Me(e,r));return bt(i,"root",n[r]),bt(e,r,i),e};function dv(e,n,r="validate"){if(ds(e)||Array.isArray(e)&&e.every(ds)||Js(e)&&!e)return{type:r,message:ds(e)?e:"",ref:n}}var Ci=e=>an(e)&&!Wc(e)?e:{value:e,message:""},fv=async(e,n,r,i,c,u)=>{const{ref:f,refs:m,required:x,maxLength:g,minLength:b,min:y,max:w,pattern:j,validate:T,name:E,valueAsNumber:O,mount:B}=e._f,_=Me(r,E);if(!B||n.has(E))return{};const A=m?m[0]:f,q=me=>{c&&A.reportValidity&&(A.setCustomValidity(Js(me)?"":me||""),A.reportValidity())},$={},P=$h(f),Y=lo(f),K=P||Y,ne=(O||qh(f))&&Qt(f.value)&&Qt(_)||Gc(f)&&f.value===""||_===""||Array.isArray(_)&&!_.length,oe=Bh.bind(null,E,i,$),ce=(me,ue,xe,ye=wr.maxLength,U=wr.minLength)=>{const ee=me?ue:xe;$[E]={type:me?ye:U,message:ee,ref:f,...oe(me?ye:U,ee)}};if(u?!Array.isArray(_)||!_.length:x&&(!K&&(ne||Pn(_))||Js(_)&&!_||Y&&!Ly(m).isValid||P&&!By(m).isValid)){const{value:me,message:ue}=ds(x)?{value:!!x,message:x}:Ci(x);if(me&&($[E]={type:wr.required,message:ue,ref:A,...oe(wr.required,ue)},!i))return q(ue),$}if(!ne&&(!Pn(y)||!Pn(w))){let me,ue;const xe=Ci(w),ye=Ci(y);if(!Pn(_)&&!isNaN(_)){const U=f.valueAsNumber||_&&+_;Pn(xe.value)||(me=U>xe.value),Pn(ye.value)||(ue=U<ye.value)}else{const U=f.valueAsDate||new Date(_),ee=ae=>new Date(new Date().toDateString()+" "+ae),ge=f.type=="time",Se=f.type=="week";ds(xe.value)&&_&&(me=ge?ee(_)>ee(xe.value):Se?_>xe.value:U>new Date(xe.value)),ds(ye.value)&&_&&(ue=ge?ee(_)<ee(ye.value):Se?_<ye.value:U<new Date(ye.value))}if((me||ue)&&(ce(!!me,xe.message,ye.message,wr.max,wr.min),!i))return q($[E].message),$}if((g||b)&&!ne&&(ds(_)||u&&Array.isArray(_))){const me=Ci(g),ue=Ci(b),xe=!Pn(me.value)&&_.length>+me.value,ye=!Pn(ue.value)&&_.length<+ue.value;if((xe||ye)&&(ce(xe,me.message,ue.message),!i))return q($[E].message),$}if(j&&!ne&&ds(_)){const{value:me,message:ue}=Ci(j);if(Wc(me)&&!_.match(me)&&($[E]={type:wr.pattern,message:ue,ref:f,...oe(wr.pattern,ue)},!i))return q(ue),$}if(T){if(Hs(T)){const me=await T(_,r),ue=dv(me,A);if(ue&&($[E]={...ue,...oe(wr.validate,ue.message)},!i))return q(ue.message),$}else if(an(T)){let me={};for(const ue in T){if(!Yn(me)&&!i)break;const xe=dv(await T[ue](_,r),A,ue);xe&&(me={...xe,...oe(ue,xe.message)},q(xe.message),i&&($[E]=me))}if(!Yn(me)&&($[E]={ref:A,...me},!i))return $}}return q(!0),$};const TM={mode:Zs.onSubmit,reValidateMode:Zs.onChange,shouldFocusError:!0};function AM(e={}){let n={...TM,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hs(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=an(n.defaultValues)||an(n.values)?yn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:yn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,g=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:nv(),state:nv()},j=n.criteriaMode===Zs.all,T=M=>k=>{clearTimeout(g),g=setTimeout(M,k)},E=async M=>{if(!n.disabled&&(b.isValid||y.isValid||M)){const k=n.resolver?Yn((await Y()).errors):await ne(i,!0);k!==r.isValid&&w.state.next({isValid:k})}},O=(M,k)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((M||Array.from(m.mount)).forEach(C=>{C&&(k?bt(r.validatingFields,C,k):nn(r.validatingFields,C))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Yn(r.validatingFields)}))},B=(M,k=[],C,se,J=!0,ie=!0)=>{if(se&&C&&!n.disabled){if(f.action=!0,ie&&Array.isArray(Me(i,M))){const je=C(Me(i,M),se.argA,se.argB);J&&bt(i,M,je)}if(ie&&Array.isArray(Me(r.errors,M))){const je=C(Me(r.errors,M),se.argA,se.argB);J&&bt(r.errors,M,je),CM(r.errors,M)}if((b.touchedFields||y.touchedFields)&&ie&&Array.isArray(Me(r.touchedFields,M))){const je=C(Me(r.touchedFields,M),se.argA,se.argB);J&&bt(r.touchedFields,M,je)}(b.dirtyFields||y.dirtyFields)&&(r.dirtyFields=ki(c,u)),w.state.next({name:M,isDirty:ce(M,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else bt(u,M,k)},_=(M,k)=>{bt(r.errors,M,k),w.state.next({errors:r.errors})},A=M=>{r.errors=M,w.state.next({errors:r.errors,isValid:!1})},q=(M,k,C,se)=>{const J=Me(i,M);if(J){const ie=Me(u,M,Qt(C)?Me(c,M):C);Qt(ie)||se&&se.defaultChecked||k?bt(u,M,k?ie:iv(J._f)):xe(M,ie),f.mount&&E()}},$=(M,k,C,se,J)=>{let ie=!1,je=!1;const Le={name:M};if(!n.disabled){if(!C||se){(b.isDirty||y.isDirty)&&(je=r.isDirty,r.isDirty=Le.isDirty=ce(),ie=je!==Le.isDirty);const Ve=Xr(Me(c,M),k);je=!!Me(r.dirtyFields,M),Ve?nn(r.dirtyFields,M):bt(r.dirtyFields,M,!0),Le.dirtyFields=r.dirtyFields,ie=ie||(b.dirtyFields||y.dirtyFields)&&je!==!Ve}if(C){const Ve=Me(r.touchedFields,M);Ve||(bt(r.touchedFields,M,C),Le.touchedFields=r.touchedFields,ie=ie||(b.touchedFields||y.touchedFields)&&Ve!==C)}ie&&J&&w.state.next(Le)}return ie?Le:{}},P=(M,k,C,se)=>{const J=Me(r.errors,M),ie=(b.isValid||y.isValid)&&Js(k)&&r.isValid!==k;if(n.delayError&&C?(x=T(()=>_(M,C)),x(n.delayError)):(clearTimeout(g),x=null,C?bt(r.errors,M,C):nn(r.errors,M)),(C?!Xr(J,C):J)||!Yn(se)||ie){const je={...se,...ie&&Js(k)?{isValid:k}:{},errors:r.errors,name:M};r={...r,...je},w.state.next(je)}},Y=async M=>{O(M,!0);const k=await n.resolver(u,n.context,wM(M||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return O(M),k},K=async M=>{const{errors:k}=await Y(M);if(M)for(const C of M){const se=Me(k,C);se?bt(r.errors,C,se):nn(r.errors,C)}else r.errors=k;return k},ne=async(M,k,C={valid:!0})=>{for(const se in M){const J=M[se];if(J){const{_f:ie,...je}=J;if(ie){const Le=m.array.has(ie.name),Ve=J._f&&SM(J._f);Ve&&b.validatingFields&&O([ie.name],!0);const St=await fv(J,m.disabled,u,j,n.shouldUseNativeValidation&&!k,Le);if(Ve&&b.validatingFields&&O([ie.name]),St[ie.name]&&(C.valid=!1,k))break;!k&&(Me(St,ie.name)?Le?kM(r.errors,St,ie.name):bt(r.errors,ie.name,St[ie.name]):nn(r.errors,ie.name))}!Yn(je)&&await ne(je,k,C)}}return C.valid},oe=()=>{for(const M of m.unMount){const k=Me(i,M);k&&(k._f.refs?k._f.refs.every(C=>!Uf(C)):!Uf(k._f.ref))&&pe(M)}m.unMount=new Set},ce=(M,k)=>!n.disabled&&(M&&k&&bt(u,M,k),!Xr(ae(),c)),me=(M,k,C)=>gM(M,m,{...f.mount?u:Qt(k)?c:ds(M)?{[M]:k}:k},C,k),ue=M=>Lh(Me(f.mount?u:c,M,n.shouldUnregister?Me(c,M,[]):[])),xe=(M,k,C={})=>{const se=Me(i,M);let J=k;if(se){const ie=se._f;ie&&(!ie.disabled&&bt(u,M,Uy(k,ie)),J=Gc(ie.ref)&&Pn(k)?"":k,zy(ie.ref)?[...ie.ref.options].forEach(je=>je.selected=J.includes(je.value)):ie.refs?lo(ie.ref)?ie.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(J)?je.checked=!!J.find(Le=>Le===je.value):je.checked=J===je.value||!!J)}):ie.refs.forEach(je=>je.checked=je.value===J):qh(ie.ref)?ie.ref.value="":(ie.ref.value=J,ie.ref.type||w.state.next({name:M,values:yn(u)})))}(C.shouldDirty||C.shouldTouch)&&$(M,J,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&Se(M)},ye=(M,k,C)=>{for(const se in k){if(!k.hasOwnProperty(se))return;const J=k[se],ie=M+"."+se,je=Me(i,ie);(m.array.has(M)||an(J)||je&&!je._f)&&!Da(J)?ye(ie,J,C):xe(ie,J,C)}},U=(M,k,C={})=>{const se=Me(i,M),J=m.array.has(M),ie=yn(k);bt(u,M,ie),J?(w.array.next({name:M,values:yn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&C.shouldDirty&&w.state.next({name:M,dirtyFields:ki(c,u),isDirty:ce(M,ie)})):se&&!se._f&&!Pn(ie)?ye(M,ie,C):xe(M,ie,C),cv(M,m)&&w.state.next({...r,name:M}),w.state.next({name:f.mount?M:void 0,values:yn(u)})},ee=async M=>{f.mount=!0;const k=M.target;let C=k.name,se=!0;const J=Me(i,C),ie=Ve=>{se=Number.isNaN(Ve)||Da(Ve)&&isNaN(Ve.getTime())||Xr(Ve,Me(u,C,Ve))},je=lv(n.mode),Le=lv(n.reValidateMode);if(J){let Ve,St;const we=k.type?iv(J._f):cM(M),Ce=M.type===tv.BLUR||M.type===tv.FOCUS_OUT,He=!jM(J._f)&&!n.resolver&&!Me(r.errors,C)&&!J._f.deps||_M(Ce,Me(r.touchedFields,C),r.isSubmitted,Le,je),jt=cv(C,m,Ce);bt(u,C,we),Ce?(!k||!k.readOnly)&&(J._f.onBlur&&J._f.onBlur(M),x&&x(0)):J._f.onChange&&J._f.onChange(M);const at=$(C,we,Ce),Vt=!Yn(at)||jt;if(!Ce&&w.state.next({name:C,type:M.type,values:yn(u)}),He)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?Ce&&E():Ce||E()),Vt&&w.state.next({name:C,...jt?{}:at});if(!Ce&&jt&&w.state.next({...r}),n.resolver){const{errors:zt}=await Y([C]);if(ie(we),se){const Nr=uv(r.errors,i,C),es=uv(zt,i,Nr.name||C);Ve=es.error,C=es.name,St=Yn(zt)}}else O([C],!0),Ve=(await fv(J,m.disabled,u,j,n.shouldUseNativeValidation))[C],O([C]),ie(we),se&&(Ve?St=!1:(b.isValid||y.isValid)&&(St=await ne(i,!0)));se&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&Se(J._f.deps),P(C,St,Ve,at))}},ge=(M,k)=>{if(Me(r.errors,k)&&M.focus)return M.focus(),1},Se=async(M,k={})=>{let C,se;const J=Vl(M);if(n.resolver){const ie=await K(Qt(M)?M:J);C=Yn(ie),se=M?!J.some(je=>Me(ie,je)):C}else M?(se=(await Promise.all(J.map(async ie=>{const je=Me(i,ie);return await ne(je&&je._f?{[ie]:je}:je)}))).every(Boolean),!(!se&&!r.isValid)&&E()):se=C=await ne(i);return w.state.next({...!ds(M)||(b.isValid||y.isValid)&&C!==r.isValid?{}:{name:M},...n.resolver||!M?{isValid:C}:{},errors:r.errors}),k.shouldFocus&&!se&&Fl(i,ge,M?J:m.mount),se},ae=(M,k)=>{let C={...f.mount?u:c};return k&&(C=Ry(k.dirtyFields?r.dirtyFields:r.touchedFields,C)),Qt(M)?C:ds(M)?Me(C,M):M.map(se=>Me(C,se))},N=(M,k)=>({invalid:!!Me((k||r).errors,M),isDirty:!!Me((k||r).dirtyFields,M),error:Me((k||r).errors,M),isValidating:!!Me(r.validatingFields,M),isTouched:!!Me((k||r).touchedFields,M)}),I=M=>{M&&Vl(M).forEach(k=>nn(r.errors,k)),w.state.next({errors:M?r.errors:{}})},R=(M,k,C)=>{const se=(Me(i,M,{_f:{}})._f||{}).ref,J=Me(r.errors,M)||{},{ref:ie,message:je,type:Le,...Ve}=J;bt(r.errors,M,{...Ve,...k,ref:se}),w.state.next({name:M,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&se&&se.focus&&se.focus()},z=(M,k)=>Hs(M)?w.state.subscribe({next:C=>"values"in C&&M(me(void 0,k),C)}):me(M,k,!0),F=M=>w.state.subscribe({next:k=>{NM(M.name,k.name,M.exact)&&EM(k,M.formState||b,et,M.reRenderRoot)&&M.callback({values:{...u},...r,...k,defaultValues:c})}}).unsubscribe,V=M=>(f.mount=!0,y={...y,...M.formState},F({...M,formState:y})),pe=(M,k={})=>{for(const C of M?Vl(M):m.mount)m.mount.delete(C),m.array.delete(C),k.keepValue||(nn(i,C),nn(u,C)),!k.keepError&&nn(r.errors,C),!k.keepDirty&&nn(r.dirtyFields,C),!k.keepTouched&&nn(r.touchedFields,C),!k.keepIsValidating&&nn(r.validatingFields,C),!n.shouldUnregister&&!k.keepDefaultValue&&nn(c,C);w.state.next({values:yn(u)}),w.state.next({...r,...k.keepDirty?{isDirty:ce()}:{}}),!k.keepIsValid&&E()},be=({disabled:M,name:k})=>{(Js(M)&&f.mount||M||m.disabled.has(k))&&(M?m.disabled.add(k):m.disabled.delete(k))},Ee=(M,k={})=>{let C=Me(i,M);const se=Js(k.disabled)||Js(n.disabled);return bt(i,M,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:M}},name:M,mount:!0,...k}}),m.mount.add(M),C?be({disabled:Js(k.disabled)?k.disabled:n.disabled,name:M}):q(M,!0,k.value),{...se?{disabled:k.disabled||n.disabled}:{},...n.progressive?{required:!!k.required,min:Ol(k.min),max:Ol(k.max),minLength:Ol(k.minLength),maxLength:Ol(k.maxLength),pattern:Ol(k.pattern)}:{},name:M,onChange:ee,onBlur:ee,ref:J=>{if(J){Ee(M,k),C=Me(i,M);const ie=Qt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,je=xM(ie),Le=C._f.refs||[];if(je?Le.find(Ve=>Ve===ie):ie===C._f.ref)return;bt(i,M,{_f:{...C._f,...je?{refs:[...Le.filter(Uf),ie,...Array.isArray(Me(c,M))?[{}]:[]],ref:{type:ie.type,name:M}}:{ref:ie}}}),q(M,!1,void 0,ie)}else C=Me(i,M,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(dM(m.array,M)&&f.action)&&m.unMount.add(M)}}},Q=()=>n.shouldFocusError&&Fl(i,ge,m.mount),Ne=M=>{Js(M)&&(w.state.next({disabled:M}),Fl(i,(k,C)=>{const se=Me(i,C);se&&(k.disabled=se._f.disabled||M,Array.isArray(se._f.refs)&&se._f.refs.forEach(J=>{J.disabled=se._f.disabled||M}))},0,!1))},_e=(M,k)=>async C=>{let se;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let J=yn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ie,values:je}=await Y();r.errors=ie,J=yn(je)}else await ne(i);if(m.disabled.size)for(const ie of m.disabled)nn(J,ie);if(nn(r.errors,"root"),Yn(r.errors)){w.state.next({errors:{}});try{await M(J,C)}catch(ie){se=ie}}else k&&await k({...r.errors},C),Q(),setTimeout(Q);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yn(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Ze=(M,k={})=>{Me(i,M)&&(Qt(k.defaultValue)?U(M,yn(Me(c,M))):(U(M,k.defaultValue),bt(c,M,yn(k.defaultValue))),k.keepTouched||nn(r.touchedFields,M),k.keepDirty||(nn(r.dirtyFields,M),r.isDirty=k.defaultValue?ce(M,yn(Me(c,M))):ce()),k.keepError||(nn(r.errors,M),b.isValid&&E()),w.state.next({...r}))},Oe=(M,k={})=>{const C=M?yn(M):c,se=yn(C),J=Yn(M),ie=J?c:se;if(k.keepDefaultValues||(c=C),!k.keepValues){if(k.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(ki(c,u))]);for(const Le of Array.from(je))Me(r.dirtyFields,Le)?bt(ie,Le,Me(u,Le)):U(Le,Me(ie,Le))}else{if(Oh&&Qt(M))for(const je of m.mount){const Le=Me(i,je);if(Le&&Le._f){const Ve=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Gc(Ve)){const St=Ve.closest("form");if(St){St.reset();break}}}}if(k.keepFieldsRef)for(const je of m.mount)U(je,Me(ie,je));else i={}}u=n.shouldUnregister?k.keepDefaultValues?yn(c):{}:yn(ie),w.array.next({values:{...ie}}),w.state.next({values:{...ie}})}m={mount:k.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!k.keepIsValid||!!k.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:J?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Xr(M,c)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:k.keepDirtyValues?k.keepDefaultValues&&u?ki(c,u):r.dirtyFields:k.keepDefaultValues&&M?ki(c,M):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Te=(M,k)=>Oe(Hs(M)?M(u):M,k),Fe=(M,k={})=>{const C=Me(i,M),se=C&&C._f;if(se){const J=se.refs?se.refs[0]:se.ref;J.focus&&(J.focus(),k.shouldSelect&&Hs(J.select)&&J.select())}},et=M=>{r={...r,...M}},Pt={control:{register:Ee,unregister:pe,getFieldState:N,handleSubmit:_e,setError:R,_subscribe:F,_runSchema:Y,_focusError:Q,_getWatch:me,_getDirty:ce,_setValid:E,_setFieldArray:B,_setDisabledField:be,_setErrors:A,_getFieldArray:ue,_reset:Oe,_resetDefaultValues:()=>Hs(n.defaultValues)&&n.defaultValues().then(M=>{Te(M,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:oe,_disableForm:Ne,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(M){f=M},get _defaultValues(){return c},get _names(){return m},set _names(M){m=M},get _formState(){return r},get _options(){return n},set _options(M){n={...n,...M}}},subscribe:V,trigger:Se,register:Ee,handleSubmit:_e,watch:z,setValue:U,getValues:ae,reset:Te,resetField:Ze,clearErrors:I,unregister:pe,setError:R,setFocus:Fe,getFieldState:N};return{...Pt,formControl:Pt}}function Zh(e={}){const n=xt.useRef(void 0),r=xt.useRef(void 0),[i,c]=xt.useState({isDirty:!1,isValidating:!1,isLoading:Hs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Hs(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Hs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=AM(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,pM(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),xt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),xt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),xt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),xt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),xt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),xt.useEffect(()=>{e.values&&!Xr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),xt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=mM(i,u),n.current}const hv=(e,n,r)=>{if(e&&"reportValidity"in e){const i=Me(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},ah=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?hv(i.ref,r,e):i&&i.refs&&i.refs.forEach(c=>hv(c,r,e))}},mv=(e,n)=>{n.shouldUseNativeValidation&&ah(e,n);const r={};for(const i in e){const c=Me(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(MM(n.names||Object.keys(e),i)){const f=Object.assign({},Me(r,i));bt(f,"root",u),bt(r,i,f)}else bt(r,i,u)}return r},MM=(e,n)=>{const r=pv(n);return e.some(i=>pv(i).match(`^${r}\\.\\d+`))};function pv(e){return e.replace(/\]|\[/g,"")}function gv(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function DM(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!r[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var x=r[f].types,g=x&&x[i.code];r[f]=Bh(f,n,r,c,g?[].concat(g,i.message):i.message)}e.shift()}return r}function RM(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!r[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var x=r[f].types,g=x&&x[i.code];r[f]=Bh(f,n,r,c,g?[].concat(g,i.message):i.message)}e.shift()}return r}function Hh(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(gv(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&ah({},u),{errors:{},values:r.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:mv(DM(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(gv(function(){return Promise.resolve((r.mode==="sync"?yk:wk)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&ah({},u),{errors:{},values:r.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof Rh})(f))return{values:{},errors:mv(RM(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function zM(e){const n=yt();return Tn({mutationFn:r=>hj(e,r),onSuccess:r=>{n.setQueryData(Wt.list(hh),i=>i&&{...i,items:i.items.map(c=>c.id===r.id?r:c)}),n.invalidateQueries({queryKey:Wt.detail(e),exact:!1})}})}async function OM(e={}){const{page:n,pageSize:r,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof r=="number"&&r>0&&(f.page_size=r),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:x}=await Ge.GET("/api/v1/users",{params:{query:f},signal:u});if(!x)throw new Error("Expected user page payload.");return x}function LM(e){return qv("/users/invitations",e)}function qy(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,c=r.trim(),u=c.length>=2?c:"",f=Lv({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:g,signal:b})=>OM(UM({page:typeof g=="number"?g:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:g=>g.has_next?g.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(g=>g.id,[]),x=_y(f.data?.pages,m);return{...f,users:x}}function UM(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function BM(){const e=yt();return Tn({mutationFn:({email:n,displayName:r})=>LM({email:n,display_name:r?.trim()?r.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const Jl=200;function qM(e){const n={page:1,pageSize:Jl};return fn({queryKey:Wt.members(e,n),queryFn:({signal:r})=>mj(e,{signal:r,pageSize:Jl,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function $M(e){const n=yt(),r=Wt.members(e,{page:1,pageSize:Jl});return Tn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return pj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(r,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function ZM(e){const n=yt(),r=Wt.members(e,{page:1,pageSize:Jl});return Tn({mutationFn:({membershipId:i,roleIds:c})=>gj(e,i,VM(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function HM(e){const n=yt(),r=Wt.members(e,{page:1,pageSize:Jl});return Tn({mutationFn:i=>xj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function VM(e){return{role_ids:Array.from(e)}}const zi=200,xv=200;function $y(e){const n={page:1,pageSize:zi};return fn({queryKey:Wt.roles(e,n),queryFn:({signal:r})=>vj(e,{signal:r,pageSize:zi,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function FM(){const e={scope:"global",page:1,pageSize:xv};return fn({queryKey:Wt.permissions(e),queryFn:({signal:n})=>Sj({signal:n,scope:"global",pageSize:xv}),staleTime:6e4,placeholderData:n=>n})}function IM(e){const n=yt(),r=Wt.roles(e,{page:1,pageSize:zi});return Tn({mutationFn:i=>bj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(r,f=>vv(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:vv(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function QM(e){const n=yt(),r=Wt.roles(e,{page:1,pageSize:zi});return Tn({mutationFn:({roleId:i,payload:c})=>yj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function GM(e){const n=yt(),r=Wt.roles(e,{page:1,pageSize:zi});return Tn({mutationFn:i=>wj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function vv(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:zi,has_next:!1,has_previous:!1,total:1}}const WM={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function YM(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],c=r[r.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function PM({name:e,email:n,size:r="md",className:i}){const c=p.useMemo(()=>YM(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:ve("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",WM[r],i),children:c})}function KM(){const{workspace:e,hasPermission:n}=sa(),r=n("Workspace.Members.ReadWrite"),i=qM(e.id),c=$y(e.id),u=$M(e.id),f=ZM(e.id),m=HM(e.id),x=BM(),[g,b]=p.useState(null),[y,w]=p.useState([]),[j,T]=p.useState(""),[E,O]=p.useState([]),[B,_]=p.useState(""),[A,q]=p.useState(""),[$,P]=p.useState("existing"),[Y,K]=p.useState(""),[ne,oe]=p.useState(""),[ce,me]=p.useState(""),[ue,xe]=p.useState(null);p.useEffect(()=>{const C=window.setTimeout(()=>{q(B.trim())},250);return()=>window.clearTimeout(C)},[B]);const ye=qy({enabled:r,search:A,pageSize:50}),U=p.useMemo(()=>{const C=new Map;for(const se of c.data?.items??[])C.set(se.id,se);return C},[c.data]),ee=p.useMemo(()=>{const C=i.data?.items??[],se=new Intl.Collator("en",{sensitivity:"base"});return Array.from(C).sort((J,ie)=>{const je=J.user.display_name??J.user.email,Le=ie.user.display_name??ie.user.email;return se.compare(je??"",Le??"")})},[i.data]),ge=p.useMemo(()=>new Set(ee.map(C=>C.user.id)),[ee]),Se=ce.trim().toLowerCase(),ae=p.useMemo(()=>Se?ee.filter(C=>{const se=C.user.display_name??"",J=C.user.email??"";return se.toLowerCase().includes(Se)||J.toLowerCase().includes(Se)||C.id.toLowerCase().includes(Se)}):ee,[ee,Se]),N=ye.isPending&&ye.users.length===0,I=ye.isFetchingNextPage,R=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return ye.users.filter(se=>!ge.has(se.id)).sort((se,J)=>{const ie=se.display_name??se.email,je=J.display_name??J.email;return C.compare(ie??"",je??"")})},[ge,ye.users]),z=B.trim().toLowerCase(),V=A.trim().toLowerCase().length>=2,pe=$==="existing"&&B.trim().length>0&&B.trim().length<2,be=p.useMemo(()=>!z||V?R:R.filter(C=>(C.display_name??"").toLowerCase().includes(z)||C.email.toLowerCase().includes(z)),[R,z,V]),Ee=p.useMemo(()=>$==="existing"?R.find(C=>C.id===j):void 0,[R,$,j]),Q=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(se=>se.scope_type==="workspace").sort((se,J)=>C.compare(se.name,J.name))},[c.data]),Ne=(C,se)=>{w(J=>se?J.includes(C)?J:[...J,C]:J.filter(ie=>ie!==C))},_e=(C,se)=>{O(J=>se?J.includes(C)?J:[...J,C]:J.filter(ie=>ie!==C))},Ze=C=>{b(C.id),w(C.roles),xe(null)},Oe=()=>{b(null),w([])},Te=()=>{g&&(xe(null),f.mutate({membershipId:g,roleIds:y},{onSuccess:()=>{xe({tone:"success",message:"Member roles updated."}),Oe()},onError:C=>{const se=C instanceof Error?C.message:"Unable to update member roles.";xe({tone:"danger",message:se})}}))},Fe=C=>{!r||!window.confirm(`Remove ${C.user.display_name??C.user.email} from the workspace?`)||(xe(null),m.mutate(C.id,{onSuccess:()=>{xe({tone:"success",message:"Member removed."})},onError:J=>{const ie=J instanceof Error?J.message:"Unable to remove member.";xe({tone:"danger",message:ie})}}))},et=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,tt=u.isPending||x.isPending,Pt=$==="existing"?!!j:et.test(Y.trim()),M=async C=>{C.preventDefault(),xe(null);try{if($==="existing"){if(!j){xe({tone:"danger",message:"Select a user to invite."});return}const ie=R.find(je=>je.id===j);if(!ie){xe({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:ie,roleIds:E}),T(""),O([]),_(""),xe({tone:"success",message:`${ie.display_name??ie.email} added to the workspace.`});return}const se=Y.trim().toLowerCase();if(!se||!et.test(se)){xe({tone:"danger",message:"Enter a valid email address to send an invite."});return}const J=await x.mutateAsync({email:se,displayName:ne.trim()||void 0});await u.mutateAsync({user:J,roleIds:E}),K(""),oe(""),O([]),xe({tone:"success",message:`Invitation sent to ${J.display_name??J.email}.`})}catch(se){const J=se instanceof Error?se.message:"Unable to invite member.";xe({tone:"danger",message:J})}};p.useEffect(()=>{$!=="existing"||!Ee||be.some(C=>C.id===Ee.id)||_("")},[be,$,Ee]),p.useEffect(()=>{if(xe(null),$==="existing"){K(""),oe("");return}T(""),_("")},[$]);const k=()=>{$==="existing"?(T(""),_("")):(K(""),oe("")),O([])};return l.jsxs("div",{className:"space-y-6",children:[ue?l.jsx(ht,{tone:ue.tone,children:ue.message}):null,i.isError?l.jsx(ht,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?l.jsx(ht,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,r?l.jsxs("form",{onSubmit:M,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),ye.isError?l.jsx(ht,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${$==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:$==="existing",onChange:()=>P("existing"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Existing teammate"})]}),l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${$==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:$==="new",onChange:()=>P("new"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Invite by email"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx("div",{className:"space-y-4",children:$==="existing"?l.jsxs(l.Fragment,{children:[l.jsx(Gt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:l.jsx(rn,{value:B,onChange:C=>_(C.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:tt||N})}),pe?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,ye.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,l.jsx(Gt,{label:"User",required:!0,children:l.jsxs(na,{value:j,onChange:C=>{T(C.target.value),C.target.value&&_("")},disabled:tt||N,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),Ee&&!be.some(C=>C.id===Ee.id)?l.jsx("option",{value:Ee.id,children:Ee.display_name?`${Ee.display_name} (${Ee.email})`:Ee.email}):null,be.map(C=>l.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email},C.id))]})}),be.length===0&&B?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',B,'". Clear the search to see everyone.']}):null,ye.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>ye.fetchNextPage(),disabled:N||I,children:I?"Loading more users":"Load more users"})}):null]}):l.jsxs(l.Fragment,{children:[l.jsx(Gt,{label:"Email",required:!0,children:l.jsx(rn,{type:"email",value:Y,onChange:C=>K(C.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:tt,required:!0})}),l.jsx(Gt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:l.jsx(rn,{value:ne,onChange:C=>oe(C.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:tt})}),l.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Q.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):Q.map(C=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:E.includes(C.id),onChange:se=>_e(C.id,se.target.checked),disabled:tt}),l.jsx("span",{children:C.name})]},C.id))}),E.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[E.length," role(s) selected."]}):null]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[($==="existing"?j||B||E.length>0:Y||ne||E.length>0)?l.jsx(ze,{type:"button",variant:"ghost",onClick:k,disabled:tt,children:"Clear"}):null,l.jsx(ze,{type:"submit",isLoading:tt,disabled:!Pt||tt,children:$==="existing"?"Add member":"Send invite"})]})]}):l.jsx(ht,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${ee.length} member${ee.length===1?"":"s"}`})]}),l.jsx(Gt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(rn,{value:ce,onChange:C=>me(C.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):ee.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):ae.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',ce,'".']}):l.jsx("ul",{className:"space-y-4",role:"list",children:ae.map(C=>{const se=C.user.display_name??C.user.email,J=C.roles.map(je=>U.get(je)?.name??je),ie=g===C.id;return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(PM,{name:C.user.display_name,email:C.user.email,size:"sm"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:se}),l.jsx("p",{className:"text-sm text-slate-500",children:C.user.email}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[C.is_default?l.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,l.jsxs("span",{children:["ID: ",C.id]})]})]})]}),r?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>ie?Oe():Ze(C),disabled:f.isPending||m.isPending||ie&&f.isPending,children:ie?"Cancel":"Manage roles"}),l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Fe(C),disabled:m.isPending,children:"Remove"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:J.length>0?J.map(je=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${C.id}-${je}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),ie?l.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(je=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:Le=>Ne(je.id,Le.target.checked),disabled:f.isPending}),l.jsx("span",{children:je.name})]},je.id))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:Oe,disabled:f.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",size:"sm",onClick:Te,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},C.id)})})]})]})}const XM=jr({name:Zt().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:Zt().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(W0("")),description:Zt().max(500,"Keep the description concise.").optional().or(W0("")),permissions:ou(Zt())});function JM(){const{workspace:e,hasPermission:n}=sa(),r=n("Workspace.Roles.ReadWrite"),i=$y(e.id),c=FM(),u=IM(e.id),f=QM(e.id),m=GM(e.id),[x,g]=p.useState(!1),[b,y]=p.useState(null),[w,j]=p.useState(null),T=p.useMemo(()=>(c.data?.items??[]).filter(P=>P.scope_type==="workspace"),[c.data]),E=p.useMemo(()=>{const P=new Map;for(const Y of T)P.set(Y.key,Y);return P},[T]),O=i.data?.items??[],B=()=>{j(null),g(!0),y(null)},_=()=>{g(!1)},A=P=>{j(null),y(P.id),g(!1)},q=()=>{y(null)},$=P=>{!r||P.built_in||!window.confirm(`Delete the role "${P.name}"? This action cannot be undone.`)||(j(null),m.mutate(P.id,{onSuccess:()=>{j({tone:"success",message:"Role deleted."})},onError:K=>{const ne=K instanceof Error?K.message:"Unable to delete role.";j({tone:"danger",message:ne})}}))};return l.jsxs("div",{className:"space-y-6",children:[w?l.jsx(ht,{tone:w.tone,children:w.message}):null,i.isError?l.jsx(ht,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?l.jsx(ht,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,r?l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),l.jsx(ze,{type:"button",variant:x?"ghost":"primary",onClick:()=>x?_():B(),children:x?"Hide form":"New role"})]}),x?l.jsx("div",{className:"mt-4",children:l.jsx(bv,{availablePermissions:T,allowSlugEdit:!0,onCancel:_,onSubmit:P=>{j(null),u.mutate({name:P.name.trim(),slug:P.slug?P.slug.trim():void 0,description:P.description?.trim()?P.description.trim():void 0,permissions:P.permissions},{onSuccess:()=>{j({tone:"success",message:"Role created."}),_()},onError:Y=>{const K=Y instanceof Error?Y.message:"Unable to create role.";j({tone:"danger",message:K})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${O.length} role${O.length===1?"":"s"}`})]})}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):O.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):l.jsx("ul",{className:"space-y-4",role:"list",children:O.map(P=>{const Y=b===P.id,K=P.permissions.map(ne=>E.get(ne)?.label??ne);return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:P.name}),P.built_in?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,P.editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",P.slug]}),P.description?l.jsx("p",{className:"text-sm text-slate-600",children:P.description}):null]}),r&&P.editable?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y?q():A(P),disabled:f.isPending||m.isPending,children:Y?"Cancel":"Edit"}),P.built_in?null:l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(P),disabled:m.isPending,children:"Delete"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:K.length>0?K.map(ne=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:ne},`${P.id}-${ne}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),Y?l.jsx("div",{className:"mt-4",children:l.jsx(bv,{availablePermissions:T,initialValues:{name:P.name,slug:P.slug,description:P.description??"",permissions:P.permissions},allowSlugEdit:!1,onCancel:q,onSubmit:ne=>{j(null),f.mutate({roleId:P.id,payload:{name:ne.name.trim(),description:ne.description?.trim()?ne.description.trim():void 0,permissions:ne.permissions}},{onSuccess:()=>{j({tone:"success",message:"Role updated."}),q()},onError:oe=>{const ce=oe instanceof Error?oe.message:"Unable to update role.";j({tone:"danger",message:ce})}})},isSubmitting:f.isPending},P.id)}):null]},P.id)})})]})]})}function bv({availablePermissions:e,initialValues:n,onSubmit:r,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:x,setValue:g,formState:{errors:b},reset:y}=Zh({resolver:Hh(XM),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=x("permissions"),j=(E,O)=>{g("permissions",O?Array.from(new Set([...w??[],E])):(w??[]).filter(B=>B!==E))},T=m(E=>{const O={name:E.name.trim(),slug:u?E.slug?.trim()??"":n?.slug??"",description:E.description?.trim()??"",permissions:E.permissions??[]};r(O)});return l.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:T,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",l.jsx(rn,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",l.jsx(rn,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),l.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",l.jsx(rn,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(E=>l.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(E.key)??!1,onChange:O=>j(E.key,O.target.checked),disabled:c}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:E.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:E.description})]})]},E.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[i?l.jsx(ze,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,l.jsx(ze,{type:"submit",isLoading:c,children:"Save role"})]})]})}function Zy(){const e=qa(),n=fh(),r=ij(),[i,c]=p.useState(Vs),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const f=p.useMemo(()=>(e.user.permissions??[]).includes("System.Settings.ReadWrite"),[e.user.permissions]),m=n.isFetching||r.isPending,x=i.trim()||Vs,g=b=>{r.mutate({enabled:b,detail:x},{onSuccess:y=>{c(y.detail)}})};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?l.jsx(ht,{tone:"danger",children:"Unable to load safe mode status."}):null,f?null:l.jsxs(ht,{tone:"warning",children:["You need the ",l.jsx("strong",{children:"System.Settings.ReadWrite"})," permission to change safe mode."]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),l.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Vs})]}),l.jsx(Gt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:l.jsx(My,{value:i,onChange:b=>c(b.target.value),disabled:!f||m})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Vs),disabled:!f||m,children:"Reset message"}),l.jsx(ze,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>g(!u?.enabled),isLoading:r.isPending,disabled:!f,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}Zy.displayName="SafeModeControls";const Hy=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],eD=new Set(Hy.map(e=>e.id)),Bf=e=>!!(e&&eD.has(e));function tD(){sa();const[e,n]=_h(),r=e.get("view"),i=Bf(r)?r:"general";p.useEffect(()=>{if(r&&!Bf(r)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[r,e,n]);const c=u=>{if(!Bf(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return l.jsx(gh,{value:i,onValueChange:c,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(xh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:Hy.map(u=>{const f=u.id===i;return l.jsx(Ll,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),l.jsx(za,{value:"general","aria-live":"polite",children:i==="general"?l.jsx(sD,{}):null}),l.jsx(za,{value:"members","aria-live":"polite",children:i==="members"?l.jsx(KM,{}):null}),l.jsx(za,{value:"roles","aria-live":"polite",children:i==="roles"?l.jsx(JM,{}):null})]})})}const nD=jr({name:Zt().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:Zt().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function sD(){const{workspace:e}=sa(),n=zM(e.id),[r,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:x}=Zh({resolver:Hh(nD),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const g=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:g,noValidate:!0,children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),r?l.jsx(ht,{tone:"success",children:r}):null,n.isError?l.jsx(ht,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Gt,{label:"Workspace name",required:!0,error:f.name?.message,children:l.jsx(rn,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),l.jsx(Gt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:l.jsx(rn,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>{x(),i(null)},disabled:n.isPending||!m,children:"Reset"}),l.jsx(ze,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),l.jsx(Zy,{})]})}function rD(){return l.jsx(Xc,{children:l.jsx(aD,{})})}function aD(){const e=Cs(),n=kn(),r=yt(),i=Kc(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=oD(e.pathname),f=p.useMemo(()=>uD(c,u),[c,u]);return p.useEffect(()=>{i.data&&r.setQueryData(Wt.list(hh),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${ea.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=dD(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&Oj(f)},[f]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(_t,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?l.jsx(Lj,{workspace:f,workspaces:c,children:l.jsx(iD,{workspace:f})}):null}function iD({workspace:e}){return l.jsx(T_,{children:l.jsx(NC,{workspaceId:e.id,children:l.jsx(lD,{workspace:e})})})}function lD({workspace:e}){const n=qa(),r=kn(),i=Cs(),{session:c,windowState:u}=Pb(),f=fh(),m=f.data?.enabled??!1,x=f.data?.detail??Vs,g=sy(),b=p.useMemo(()=>ty(e),[e]),[y,w]=p.useState(""),[j,T]=p.useState(!1),E=y.trim().toLowerCase(),O=!!(c&&u==="maximized"),B=p.useMemo(()=>b.map(z=>({id:z.id,label:z.label,description:`Jump to ${z.label}`,icon:l.jsx(z.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),_=p.useMemo(()=>ta(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[A,q]=p.useState(()=>{const z=_.get();return typeof z=="boolean"?z:!1});p.useEffect(()=>{const z=_.get();q(typeof z=="boolean"?z:!1)},[_]),p.useEffect(()=>{_.set(A)},[A,_]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const z=()=>{window.innerWidth>=1024&&T(!1)};return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),p.useEffect(()=>{if(typeof document>"u")return;const z=document.body.style.overflow;return j?document.body.style.overflow="hidden":document.body.style.overflow=z||"",()=>{document.body.style.overflow=z}},[j]),p.useEffect(()=>{O&&T(!1)},[O]);const $=p.useCallback(()=>{if(!E)return;const z=b.find(F=>F.label.toLowerCase().includes(E))??b.find(F=>F.id.toLowerCase().includes(E));z&&r(z.href)},[E,b,r]),P=p.useCallback(z=>{const F=b.find(V=>V.id===z.id);F&&(r(F.href),w(""))},[b,r]),Y=p.useCallback(()=>T(!0),[]),K=p.useCallback(()=>T(!1),[]),ne=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:Y,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(fD,{})})}),oe=n.user.display_name||n.user.email||"Signed in",ce=n.user.email??"",me=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Jb,{displayName:oe,email:ce})}),ue={value:y,onChange:w,onSubmit:$,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:g,scopeLabel:e.name,suggestions:B,onSelectSuggestion:P},xe=cD(i.pathname,e.id),ye=mD(e.id,xe,i.search,i.hash),U=ye?.kind==="content"&&ye.key.startsWith("documents"),ee=U?new URLSearchParams(i.search).get("q")??"":"",ge=p.useCallback(z=>{if(!U)return;const F=new URLSearchParams(i.search);z?F.set("q",z):F.delete("q");const V=F.toString();r(`${i.pathname}${V?`?${V}`:""}${i.hash}`,{replace:!0})},[U,i.hash,i.pathname,i.search,r]),Se=p.useCallback(z=>{ge(z)},[ge]),ae=p.useCallback(()=>{ge("")},[ge]),I=(U?{value:ee,onChange:ge,onSubmit:Se,onClear:ae,placeholder:"Search documents",shortcutHint:g,scopeLabel:"Documents",enableShortcut:!0}:void 0)??ue;if(p.useEffect(()=>{ye?.kind==="redirect"&&r(ye.to,{replace:!0})},[ye,r]),!ye||ye.kind==="redirect")return null;const R=ye.fullHeight??!1;return l.jsxs("div",{className:ve("flex min-w-0 bg-slate-50 text-slate-900",R?"h-screen overflow-hidden":"min-h-screen"),children:[O?null:l.jsx(WC,{workspace:e,items:b,collapsed:A,onToggleCollapse:()=>q(z=>!z),onGoToWorkspaces:()=>r("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[O?null:l.jsx(Xb,{brand:ne,trailing:me,search:I}),!O&&j?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:K}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:K,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(hD,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(ny,{items:b,onNavigate:K,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:ve("relative flex-1 min-w-0",R?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:ve(R?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:ve("mb-4",R?"px-6 pt-4":""),children:l.jsx(ht,{tone:"warning",heading:"Safe mode active",children:x})}):null,l.jsx("div",{className:ve(R?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:ye.element})]})})},`section-${ye.key}`)]})]})}function oD(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function cD(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function uD(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function dD(e,n,r,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${ea.path}`;return`/workspaces/${r}${f}${n}`}function fD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function hD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function mD(e,n,r,i){const c=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${ea.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(ek,{})};case ea.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:l.jsx(nM,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:l.jsx(E4,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(sM,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:l.jsx(pD,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:l.jsx(lM,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:l.jsx(aM,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:l.jsx(tD,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(_t,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function pD({configId:e}){return l.jsx(oM,{params:{configId:e}})}function gD(e){return`/workspaces/${e}/${ea.path}`}function xD(){return l.jsx(Xc,{children:l.jsx(vD,{})})}function vD(){const e=Cs(),n=kn(),r=qa(),i=Kc(),c=i.data?.items??[],m=[zj(),r.user.preferred_workspace_id].filter(x=>!!x).map(x=>c.find(g=>g.id===x)).find(x=>!!x)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const x=gD(m.id);e.pathname+e.search!==x&&n(x,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(_t,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(_t,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function bD(){return fn({queryKey:_s.providers(),queryFn:({signal:e})=>GS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const yD=jr({email:Zt().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:Zt().min(1,"Enter your password.")});function wD(){const e=Cs(),n=kn(),r=yt(),i=Qv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,x=mh(m),g=bD(),b=g.data?.providers??[],y=g.data?.force_sso??!1,w=g.isError&&!g.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,j=p.useMemo(()=>{const $=new URLSearchParams(e.search);return Ql($.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Bc(c.return_to,j),{replace:!0})},[n,j,c]),p.useEffect(()=>{m&&(x.isPending||x.isError||x.data?.requires_setup&&n(Wv(j),{replace:!0}))},[n,j,x.data?.requires_setup,x.isError,x.isPending,m]);const[T,E]=p.useState(null),[O,B]=p.useState(!1);if(p.useEffect(()=>{E(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(x.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(x.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(ze,{variant:"secondary",onClick:()=>x.refetch(),children:"Try again"})]});const _=async $=>{$.preventDefault(),E(null);const P=new FormData($.currentTarget),Y=Object.fromEntries(P.entries()),K=yD.safeParse(Y);if(!K.success){const ue=K.error.issues[0]?.message??"Invalid input.";E(ue);return}const{email:ne,password:oe}=K.data,ce=typeof Y.redirectTo=="string"?Y.redirectTo:null,me=Ql(ce);B(!0);try{const ue=await WS({email:ne,password:oe});r.setQueryData(_s.detail(),ue),n(Bc(ue.return_to,me),{replace:!0})}catch(ue){if(ue instanceof Kn){const xe=ue.problem?.detail??ue.message??"Unable to sign in.";E(xe)}else ue instanceof Error?E(ue.message):E("Unable to sign in.")}finally{B(!1)}},A=!!T&&!O,q=g.isLoading||g.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(ht,{tone:"warning",className:"mt-6",children:w}):null,q?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map($=>l.jsxs("a",{href:$.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",$.label]},$.id))}):null,y?l.jsx(ht,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:_,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:j}),l.jsx(Gt,{label:"Email address",required:!0,children:l.jsx(rn,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:O})}),l.jsx(Gt,{label:"Password",required:!0,children:l.jsx(rn,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:O})}),A?l.jsx(ht,{tone:"danger",children:T}):null,l.jsx(ze,{type:"submit",className:"w-full justify-center",isLoading:O,disabled:O,children:O?"Signing in":"Continue"})]})]})})}function SD(){const e=kn(),n=Cs(),r=yt(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),x=f.get("state");if(!m||!x){c("Missing authorization details from the identity provider.");return}async function g(){try{const b=f.toString(),y=await OS(`/auth/sso/callback?${b}`);if(u)return;const w=eo(y);r.setQueryData(_s.detail(),w);const j=Bc(w.return_to,f.get("next"));e(j,{replace:!0})}catch(b){if(u)return;b instanceof Kn?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return g(),()=>{u=!0}},[n.search,e,r]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Finishing sign-in",variant:"loading"})})}const jD=jr({displayName:Zt().min(1,"Display name is required."),email:Zt().min(1,"Email is required.").email("Enter a valid email address."),password:Zt().min(12,"Use at least 12 characters."),confirmPassword:Zt().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function ED(){const e=Cs(),n=kn(),r=yt(),i=mh(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Ql(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(Gv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,x]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const g=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),j=jD.safeParse(w);if(!j.success){const E=j.error.issues[0]?.message??"Invalid input.";f(E);return}x(!0);const T=Ql(w.redirectTo);try{const E=await kj({display_name:j.data.displayName,email:j.data.email,password:j.data.password});r.setQueryData(_s.detail(),E),n(Bc(E.return_to,T),{replace:!0})}catch(E){if(E instanceof Kn){const O=E.problem?.detail??E.message??"Setup failed. Try again.";f(O)}else E instanceof Error?f(E.message):f("Setup failed. Try again.")}finally{x(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?l.jsx(ht,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Gt,{label:"Display name",required:!0,children:l.jsx(rn,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(Gt,{label:"Email",required:!0,children:l.jsx(rn,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(Gt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(rn,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(Gt,{label:"Confirm password",required:!0,children:l.jsx(rn,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(ht,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(ze,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function Vy({children:e,sidePanel:n,actions:r,search:i}){const c=qa(),u=kn(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(Xb,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(IC,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?l.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Jb,{displayName:f,email:m})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function ND(){return l.jsx(Xc,{children:l.jsx(_D,{})})}function _D(){const e=kn(),n=qa(),r=Kc(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=sy(),x=r.data,g=p.useMemo(()=>x?.items??[],[x?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?g.filter($=>{const P=$.name.toLowerCase(),Y=$.slug?.toLowerCase()??"";return P.includes(b)||Y.includes(b)}):g,[g,b]),w=c?l.jsx(ze,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,j=p.useCallback(()=>{if(!b)return;const $=y[0];$&&e(`/workspaces/${$.id}/${ea.path}`)},[y,b,e]),T=p.useCallback(()=>f(""),[]),O=(b?y:g).slice(0,5).map($=>({id:$.id,label:$.name,description:$.slug?`Slug  ${$.slug}`:"Workspace"})),B=p.useCallback($=>{f(""),e(`/workspaces/${$.id}/${ea.path}`)},[e]),_={value:u,onChange:f,onSubmit:j,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:O,onSelectSuggestion:B,onClear:T},A={..._,shortcutHint:void 0,onClear:T,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const q=g.length===0?c?l.jsx(kD,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(_t,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(_t,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(ze,{variant:"secondary",onClick:T,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),l.jsx(Kb,{...A,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map($=>l.jsxs(Vc,{to:`/workspaces/${$.id}/${ea.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:$.name}),$.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),l.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",$.slug]}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:$.permissions.length>0?$.permissions.join(", "):"None"})]},$.id))})]});return l.jsx(Vy,{actions:w,search:_,sidePanel:l.jsx(CD,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:q})}function CD({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(ze,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function kD({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(ze,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function TD(){const e=yt();return Tn({mutationFn:fj,onSuccess(n){e.setQueryData(Wt.detail(n.id),n),e.getQueriesData({queryKey:Wt.all()}).forEach(([r,i])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!i)return;const c=i.items.findIndex(x=>x.id===n.id),f=[...c>=0?i.items.map(x=>x.id===n.id?n:x):[...i.items,n]].sort((x,g)=>x.name.localeCompare(g.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(r,{...i,items:f,total:m})}),e.invalidateQueries({queryKey:Wt.all()})}})}const AD=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,MD=jr({name:Zt().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:Zt().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(AD,"Use lowercase letters, numbers, and dashes."),ownerUserId:Zt().optional()});function DD(){return l.jsx(Xc,{children:l.jsx(RD,{})})}function RD(){const e=kn(),n=qa(),r=Kc(),i=TD(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=qy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter(K=>K.id!==n.user.id):f,[f,n.user.id]),{register:x,handleSubmit:g,watch:b,setValue:y,setError:w,clearErrors:j,formState:{errors:T,dirtyFields:E}}=Zh({resolver:Hh(MD),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),O=b("name"),B=b("slug");p.useEffect(()=>{if(E.slug)return;const K=zD(O);K!==B&&y("slug",K,{shouldValidate:!!K})},[E.slug,O,y,B]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const _=i.isPending,A=u.isPending&&u.users.length===0,q=_||A||!c,$=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,P=x("ownerUserId"),Y=g(K=>{if(j("root"),c&&!K.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:K.name.trim(),slug:K.slug.trim(),owner_user_id:c&&K.ownerUserId||void 0},{onSuccess(ne){r.refetch(),e(`/workspaces/${ne.id}`)},onError(ne){if(ne instanceof Kn){const oe=ne.problem?.detail??ne.message,ce=ne.problem?.errors??{};w("root",{type:"server",message:oe}),ce.name?.[0]&&w("name",{type:"server",message:ce.name[0]}),ce.slug?.[0]&&w("slug",{type:"server",message:ce.slug[0]}),ce.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:ce.owner_user_id[0]});return}w("root",{type:"server",message:ne instanceof Error?ne.message:"Workspace creation failed."})}})});return l.jsx(Vy,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:Y,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(Gt,{label:"Workspace name",required:!0,error:T.name?.message,children:l.jsx(rn,{id:"workspaceName",placeholder:"Finance Operations",...x("name"),invalid:!!T.name,disabled:_})}),l.jsx(Gt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:T.slug?.message,children:l.jsx(rn,{id:"workspaceSlug",placeholder:"finance-ops",...x("slug"),invalid:!!T.slug,disabled:_})})]}),c?l.jsxs(Gt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:T.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...P,onChange:K=>{P.onChange(K),j("ownerUserId")},disabled:q,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:$}),m.map(K=>l.jsx("option",{value:K.id,children:K.display_name?`${K.display_name} (${K.email})`:K.email},K.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,T.root?l.jsx(ht,{tone:"danger",children:T.root.message}):null,c&&u.isError?l.jsx(ht,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:_,children:"Cancel"}),l.jsx(ze,{type:"submit",isLoading:_,children:_?"Creating workspace":"Create workspace"})]})]})]})})}function zD(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function OD({signal:e}={}){try{await Ge.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof Kn&&(n.status===401||n.status===403))return}}function LD(){const e=kn(),n=yt();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await OD({signal:i.signal})}finally{r||(n.removeQueries({queryKey:_s.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function UD(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(Vc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(Vc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function BD(){return l.jsx(V1,{children:l.jsx(TS,{children:l.jsx(qD,{})})})}function qD(){const e=Cs(),r=$D(e.pathname).split("/").filter(Boolean);if(r.length===0)return l.jsx(xD,{});const[i,c]=r;switch(i){case"login":return l.jsx(wD,{});case"logout":return l.jsx(LD,{});case"auth":if(c==="callback")return l.jsx(SD,{});break;case"setup":return l.jsx(ED,{});case"workspaces":return c?c==="new"?l.jsx(DD,{}):l.jsx(rD,{}):l.jsx(ND,{})}return l.jsx(UD,{})}function $D(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}H1.createRoot(document.getElementById("root")).render(l.jsx(xt.StrictMode,{children:l.jsx(BD,{})}));export{xt as W,ve as c,l as j,p as r};
