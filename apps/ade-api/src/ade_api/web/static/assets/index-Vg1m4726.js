(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function $b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cf={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function X1(){if(O0)return $l;O0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:d,ref:c!==void 0?c:null,props:u}}return $l.Fragment=n,$l.jsx=r,$l.jsxs=r,$l}var L0;function J1(){return L0||(L0=1,Cf.exports=X1()),Cf.exports}var l=J1(),kf={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function eS(){if(U0)return Ge;U0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function A(N,P,ce){this.props=N,this.context=P,this.refs=C,this.updater=ce||_}A.prototype.isReactComponent={},A.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=A.prototype;function D(N,P,ce){this.props=N,this.context=P,this.refs=C,this.updater=ce||_}var L=D.prototype=new k;L.constructor=D,j(L,A.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function Z(){}var q={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function O(N,P,ce){var H=ce.ref;return{$$typeof:e,type:N,key:P,ref:H!==void 0?H:null,props:ce}}function U(N,P){return O(N.type,P,N.props)}function X(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function se(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return P[ce]})}var V=/\/+/g;function ie(N,P){return typeof N=="object"&&N!==null&&N.key!=null?se(""+N.key):P.toString(36)}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Z,Z):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function R(N,P,ce,H,G){var F=typeof N;(F==="undefined"||F==="boolean")&&(N=null);var J=!1;if(N===null)J=!0;else switch(F){case"bigint":case"string":case"number":J=!0;break;case"object":switch(N.$$typeof){case e:case n:J=!0;break;case b:return J=N._init,R(J(N._payload),P,ce,H,G)}}if(J)return G=G(N),J=H===""?"."+ie(N,0):H,z(G)?(ce="",J!=null&&(ce=J.replace(V,"$&/")+"/"),R(G,P,ce,"",function(me){return me})):G!=null&&(X(G)&&(G=U(G,ce+(G.key==null||N&&N.key===G.key?"":(""+G.key).replace(V,"$&/")+"/")+J)),P.push(G)),1;J=0;var $=H===""?".":H+":";if(z(N))for(var le=0;le<N.length;le++)H=N[le],F=$+ie(H,le),J+=R(H,P,ce,F,G);else if(le=E(N),typeof le=="function")for(N=le.call(N),le=0;!(H=N.next()).done;)H=H.value,F=$+ie(H,le++),J+=R(H,P,ce,F,G);else if(F==="object"){if(typeof N.then=="function")return R(ve(N),P,ce,H,G);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return J}function Y(N,P,ce){if(N==null)return N;var H=[],G=0;return R(N,H,"","",function(F){return P.call(ce,F,G++)}),H}function Q(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},xe={map:Y,forEach:function(N,P,ce){Y(N,function(){P.apply(this,arguments)},ce)},count:function(N){var P=0;return Y(N,function(){P++}),P},toArray:function(N){return Y(N,function(P){return P})||[]},only:function(N){if(!X(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ge.Activity=y,Ge.Children=xe,Ge.Component=A,Ge.Fragment=r,Ge.Profiler=c,Ge.PureComponent=D,Ge.StrictMode=i,Ge.Suspense=g,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},Ge.cache=function(N){return function(){return N.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(N,P,ce){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var H=j({},N.props),G=N.key;if(P!=null)for(F in P.key!==void 0&&(G=""+P.key),P)!ee.call(P,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&P.ref===void 0||(H[F]=P[F]);var F=arguments.length-2;if(F===1)H.children=ce;else if(1<F){for(var J=Array(F),$=0;$<F;$++)J[$]=arguments[$+2];H.children=J}return O(N.type,G,H)},Ge.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ge.createElement=function(N,P,ce){var H,G={},F=null;if(P!=null)for(H in P.key!==void 0&&(F=""+P.key),P)ee.call(P,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(G[H]=P[H]);var J=arguments.length-2;if(J===1)G.children=ce;else if(1<J){for(var $=Array(J),le=0;le<J;le++)$[le]=arguments[le+2];G.children=$}if(N&&N.defaultProps)for(H in J=N.defaultProps,J)G[H]===void 0&&(G[H]=J[H]);return O(N,F,G)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(N){return{$$typeof:m,render:N}},Ge.isValidElement=X,Ge.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:Q}},Ge.memo=function(N,P){return{$$typeof:x,type:N,compare:P===void 0?null:P}},Ge.startTransition=function(N){var P=q.T,ce={};q.T=ce;try{var H=N(),G=q.S;G!==null&&G(ce,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Z,be)}catch(F){be(F)}finally{P!==null&&ce.types!==null&&(P.types=ce.types),q.T=P}},Ge.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ge.use=function(N){return q.H.use(N)},Ge.useActionState=function(N,P,ce){return q.H.useActionState(N,P,ce)},Ge.useCallback=function(N,P){return q.H.useCallback(N,P)},Ge.useContext=function(N){return q.H.useContext(N)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(N,P){return q.H.useDeferredValue(N,P)},Ge.useEffect=function(N,P){return q.H.useEffect(N,P)},Ge.useEffectEvent=function(N){return q.H.useEffectEvent(N)},Ge.useId=function(){return q.H.useId()},Ge.useImperativeHandle=function(N,P,ce){return q.H.useImperativeHandle(N,P,ce)},Ge.useInsertionEffect=function(N,P){return q.H.useInsertionEffect(N,P)},Ge.useLayoutEffect=function(N,P){return q.H.useLayoutEffect(N,P)},Ge.useMemo=function(N,P){return q.H.useMemo(N,P)},Ge.useOptimistic=function(N,P){return q.H.useOptimistic(N,P)},Ge.useReducer=function(N,P,ce){return q.H.useReducer(N,P,ce)},Ge.useRef=function(N){return q.H.useRef(N)},Ge.useState=function(N){return q.H.useState(N)},Ge.useSyncExternalStore=function(N,P,ce){return q.H.useSyncExternalStore(N,P,ce)},Ge.useTransition=function(){return q.H.useTransition()},Ge.version="19.2.0",Ge}var $0;function wh(){return $0||($0=1,kf.exports=eS()),kf.exports}var p=wh();const yt=$b(p);var Tf={exports:{}},Bl={},Af={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function tS(){return B0||(B0=1,(function(e){function n(R,Y){var Q=R.length;R.push(Y);e:for(;0<Q;){var be=Q-1>>>1,xe=R[be];if(0<c(xe,Y))R[be]=Y,R[Q]=xe,Q=be;else break e}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var Y=R[0],Q=R.pop();if(Q!==Y){R[0]=Q;e:for(var be=0,xe=R.length,N=xe>>>1;be<N;){var P=2*(be+1)-1,ce=R[P],H=P+1,G=R[H];if(0>c(ce,Q))H<xe&&0>c(G,ce)?(R[be]=G,R[H]=Q,be=H):(R[be]=ce,R[P]=Q,be=P);else if(H<xe&&0>c(G,Q))R[be]=G,R[H]=Q,be=H;else break e}}return Y}function c(R,Y){var Q=R.sortIndex-Y.sortIndex;return Q!==0?Q:R.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var g=[],x=[],b=1,y=null,w=3,E=!1,_=!1,j=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(R){for(var Y=r(x);Y!==null;){if(Y.callback===null)i(x);else if(Y.startTime<=R)i(x),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=r(x)}}function z(R){if(j=!1,L(R),!_)if(r(g)!==null)_=!0,Z||(Z=!0,se());else{var Y=r(x);Y!==null&&ve(z,Y.startTime-R)}}var Z=!1,q=-1,ee=5,O=-1;function U(){return C?!0:!(e.unstable_now()-O<ee)}function X(){if(C=!1,Z){var R=e.unstable_now();O=R;var Y=!0;try{e:{_=!1,j&&(j=!1,k(q),q=-1),E=!0;var Q=w;try{t:{for(L(R),y=r(g);y!==null&&!(y.expirationTime>R&&U());){var be=y.callback;if(typeof be=="function"){y.callback=null,w=y.priorityLevel;var xe=be(y.expirationTime<=R);if(R=e.unstable_now(),typeof xe=="function"){y.callback=xe,L(R),Y=!0;break t}y===r(g)&&i(g),L(R)}else i(g);y=r(g)}if(y!==null)Y=!0;else{var N=r(x);N!==null&&ve(z,N.startTime-R),Y=!1}}break e}finally{y=null,w=Q,E=!1}Y=void 0}}finally{Y?se():Z=!1}}}var se;if(typeof D=="function")se=function(){D(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=X,se=function(){ie.postMessage(null)}}else se=function(){A(X,0)};function ve(R,Y){q=A(function(){R(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(R){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var Q=w;w=Y;try{return R()}finally{w=Q}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=w;w=R;try{return Y()}finally{w=Q}},e.unstable_scheduleCallback=function(R,Y,Q){var be=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?be+Q:be):Q=be,R){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Q+xe,R={id:b++,callback:Y,priorityLevel:R,startTime:Q,expirationTime:xe,sortIndex:-1},Q>be?(R.sortIndex=Q,n(x,R),r(g)===null&&R===r(x)&&(j?(k(q),q=-1):j=!0,ve(z,Q-be))):(R.sortIndex=xe,n(g,R),_||E||(_=!0,Z||(Z=!0,se()))),R},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(R){var Y=w;return function(){var Q=w;w=Y;try{return R.apply(this,arguments)}finally{w=Q}}}})(Df)),Df}var q0;function nS(){return q0||(q0=1,Af.exports=tS()),Af.exports}var Rf={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function sS(){if(H0)return Tn;H0=1;var e=wh();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},Tn.flushSync=function(g){var x=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=x,i.p=b,i.d.f()}},Tn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Tn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Tn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Tn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Tn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Tn.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Tn.requestFormReset=function(g){i.d.r(g)},Tn.unstable_batchedUpdates=function(g,x){return g(x)},Tn.useFormState=function(g,x,b){return d.H.useFormState(g,x,b)},Tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var F0;function Bb(){if(F0)return Rf.exports;F0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Rf.exports=sS(),Rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function rS(){if(Z0)return Bl;Z0=1;var e=nS(),n=wh(),r=Bb();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,o=s;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return g(f),t;if(h===o)return g(f),s;h=h.sibling}throw Error(i(188))}if(a.return!==o.return)a=f,o=h;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,o=h;break}if(S===o){v=!0,o=f,a=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===a){v=!0,a=h,o=f;break}if(S===o){v=!0,o=h,a=f;break}S=S.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case Z:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case D:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case L:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return s=t.displayName||null,s!==null?s:ie(t.type)||"Memo";case ee:s=t._payload,t=t._init;try{return ie(t(s))}catch{}}return null}var ve=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},be=[],xe=-1;function N(t){return{current:t}}function P(t){0>xe||(t.current=be[xe],be[xe]=null,xe--)}function ce(t,s){xe++,be[xe]=t.current,t.current=s}var H=N(null),G=N(null),F=N(null),J=N(null);function $(t,s){switch(ce(F,s),ce(G,t),ce(H,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?r0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=r0(s),t=a0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(H),ce(H,t)}function le(){P(H),P(G),P(F)}function me(t){t.memoizedState!==null&&ce(J,t);var s=H.current,a=a0(s,t.type);s!==a&&(ce(G,t),ce(H,a))}function Te(t){G.current===t&&(P(H),P(G)),J.current===t&&(P(J),zl._currentValue=Q)}var Ve,Se;function Ce(t){if(Ve===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",Se=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+t+Se}var re=!1;function Ee(t,s){if(!t||re)return"";re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ue){var ae=ue}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(ue){ae=ue}t.call(pe.prototype)}}else{try{throw Error()}catch(ue){ae=ue}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ue){if(ue&&ae&&typeof ue.stack=="string")return[ue.stack,ae.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var M=v.split(`
`),ne=S.split(`
`);for(f=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;if(o===M.length||f===ne.length)for(o=M.length-1,f=ne.length-1;1<=o&&0<=f&&M[o]!==ne[f];)f--;for(;1<=o&&0<=f;o--,f--)if(M[o]!==ne[f]){if(o!==1||f!==1)do if(o--,f--,0>f||M[o]!==ne[f]){var de=`
`+M[o].replace(" at new "," at ");return t.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",t.displayName)),de}while(1<=o&&0<=f);break}}}finally{re=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ce(a):""}function $e(t,s){switch(t.tag){case 26:case 27:case 5:return Ce(t.type);case 16:return Ce("Lazy");case 13:return t.child!==s&&s!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return Ce("Activity");default:return""}}function qe(t){try{var s="",a=null;do s+=$e(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var nt=Object.prototype.hasOwnProperty,T=e.unstable_scheduleCallback,K=e.unstable_cancelCallback,oe=e.unstable_shouldYield,Ne=e.unstable_requestPaint,we=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,De=e.unstable_ImmediatePriority,We=e.unstable_UserBlockingPriority,Ke=e.unstable_NormalPriority,Nt=e.unstable_LowPriority,_e=e.unstable_IdlePriority,ke=e.log,Pe=e.unstable_setDisableYieldValue,Dt=null,lt=null;function Wt(t){if(typeof ke=="function"&&Pe(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Dt,t)}catch{}}var Ct=Math.clz32?Math.clz32:qa,Sr=Math.log,$n=Math.LN2;function qa(t){return t>>>=0,t===0?32:31-(Sr(t)/$n|0)|0}var er=256,jr=262144,kt=4194304;function zt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ft(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?f=zt(o):(v&=S,v!==0?f=zt(v):a||(a=S&~t,a!==0&&(f=zt(a))))):(S=o&~h,S!==0?f=zt(S):v!==0?f=zt(v):a||(a=o&~t,a!==0&&(f=zt(a)))),f===0?0:s!==0&&s!==f&&(s&h)===0&&(h=f&-f,a=s&-s,h>=a||h===32&&(a&4194048)!==0)?s:f}function Gt(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Zt(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function mn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Bn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ot(t,s,a,o,f,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,ne=t.hiddenUpdates;for(a=v&~a;0<a;){var de=31-Ct(a),pe=1<<de;S[de]=0,M[de]=-1;var ae=ne[de];if(ae!==null)for(ne[de]=null,de=0;de<ae.length;de++){var ue=ae[de];ue!==null&&(ue.lane&=-536870913)}a&=~pe}o!==0&&qn(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function qn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Ct(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Cn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Ct(a),f=1<<o;f&s|t[o]&s&&(t[o]|=s),a&=~f}}function pn(t,s){var a=s&-s;return a=(a&42)!==0?1:Kn(a),(a&(t.suspendedLanes|s))!==0?0:a}function Kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dn(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function Je(t,s){var a=Y.p;try{return Y.p=t,s()}finally{Y.p=a}}var vn=Math.random().toString(36).slice(2),it="__reactFiber$"+vn,yn="__reactProps$"+vn,Rn="__reactContainer$"+vn,Hs="__reactEvents$"+vn,Su="__reactListeners$"+vn,go="__reactHandles$"+vn,xo="__reactResources$"+vn,Ze="__reactMarker$"+vn;function Er(t){delete t[it],delete t[yn],delete t[Hs],delete t[Su],delete t[go]}function tr(t){var s=t[it];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Rn]||a[it]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=f0(t);t!==null;){if(a=t[it])return a;t=f0(t)}return s}t=a,a=t.parentNode}return null}function _r(t){if(t=t[it]||t[Rn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function sa(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Kt(t){var s=t[xo];return s||(s=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(t){t[Ze]=!0}var bo=new Set,Ns={};function Hn(t,s){Cs(t,s),Cs(t+"Capture",s)}function Cs(t,s){for(Ns[t]=s,t=0;t<s.length;t++)bo.add(s[t])}var Ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Fa={};function ju(t){return nt.call(Fa,t)?!0:nt.call(vo,t)?!1:Ha.test(t)?Fa[t]=!0:(vo[t]=!0,!1)}function ks(t,s,a){if(ju(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function $t(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ts(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zi(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Za(t){if(!t._valueTracker){var s=As(t)?"checked":"value";t._valueTracker=Zi(t,s,""+t[s])}}function us(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vi=/[\n"\\]/g;function Mn(t){return t.replace(Vi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nr(t,s,a,o,f,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ln(s)):t.value!==""+ln(s)&&(t.value=""+ln(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?yo(t,v,ln(s)):a!=null?yo(t,v,ln(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+ln(S):t.removeAttribute("name")}function Xn(t,s,a,o,f,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Za(t);return}a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Za(t)}function yo(t,s,a){s==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ra(t,s,a,o){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function wo(t,s,a){if(s!=null&&(s=""+ln(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+ln(a):""}function Va(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(i(92));if(ve(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=ln(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Za(t)}function nr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var So=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||So.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function aa(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in s)o=s[f],s.hasOwnProperty(f)&&a[f]!==o&&jo(t,f,o)}else for(var h in s)s.hasOwnProperty(h)&&jo(t,h,s[h])}function Qi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(t){return Eo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ds(){}var Ii=null;function Pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Jn=null;function Qa(t){var s=_r(t);if(s&&(t=s.stateNode)){var a=t[yn]||null;e:switch(t=s.stateNode,s.type){case"input":if(Nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var f=o[yn]||null;if(!f)throw Error(i(90));Nr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&us(o)}break e;case"textarea":wo(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ra(t,!!a.multiple,s,!1)}}}var ia=!1;function Ia(t,s,a){if(ia)return t(s,a);ia=!0;try{var o=t(s);return o}finally{if(ia=!1,(Rs!==null||Jn!==null)&&(cc(),Rs&&(s=Rs,t=Jn,Jn=Rs=null,Qa(s),t)))for(s=0;s<t.length;s++)Qa(t[s])}}function fs(t,s){var a=t.stateNode;if(a===null)return null;var o=a[yn]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(Ms)try{var la={};Object.defineProperty(la,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Wi=!1}var Fs=null,es=null,Pa=null;function _o(){if(Pa)return Pa;var t,s=es,a=s.length,o,f="value"in Fs?Fs.value:Fs.textContent,h=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(o=1;o<=v&&s[a-o]===f[h-o];o++);return Pa=f.slice(t,1<o?1-o:void 0)}function Wa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function No(){return!1}function kn(t){function s(a,o,f,h,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ga:No,this.isPropagationStopped=No,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=kn(rr),Cr=y({},rr,{view:0,detail:0}),_u=kn(Cr),Gi,Ki,oa,Ya=y({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Gi=t.screenX-oa.screenX,Ki=t.screenY-oa.screenY):Ki=Gi=0,oa=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),Co=kn(Ya),Nu=y({},Ya,{dataTransfer:0}),Cu=kn(Nu),ku=y({},Cr,{relatedTarget:0}),Yi=kn(ku),Tu=y({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xi=kn(Tu),W=y({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),he=kn(W),Re=y({},rr,{data:0}),Ae=kn(Re),Qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zn(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ft[t])?!!s[t]:!1}function Ji(){return zn}var Au=y({},Cr,{key:function(t){if(t.key){var s=Qe[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),el=kn(Au),cm=y({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=kn(cm),ca=y({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),hw=kn(ca),mw=y({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pw=kn(mw),gw=y({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=kn(gw),bw=y({},rr,{newState:0,oldState:0}),vw=kn(bw),yw=[9,13,27,32],Ru=Ms&&"CompositionEvent"in window,tl=null;Ms&&"documentMode"in document&&(tl=document.documentMode);var ww=Ms&&"TextEvent"in window&&!tl,um=Ms&&(!Ru||tl&&8<tl&&11>=tl),dm=" ",fm=!1;function hm(t,s){switch(t){case"keyup":return yw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function Sw(t,s){switch(t){case"compositionend":return mm(s);case"keypress":return s.which!==32?null:(fm=!0,dm);case"textInput":return t=s.data,t===dm&&fm?null:t;default:return null}}function jw(t,s){if(Xa)return t==="compositionend"||!Ru&&hm(t,s)?(t=_o(),Pa=es=Fs=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return um&&s.locale!=="ko"?null:s.data;default:return null}}var Ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ew[t.type]:s==="textarea"}function gm(t,s,a,o){Rs?Jn?Jn.push(o):Jn=[o]:Rs=o,s=gc(s,"onChange"),0<s.length&&(a=new Ka("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var nl=null,sl=null;function _w(t){Xg(t,0)}function ko(t){var s=sa(t);if(us(s))return t}function xm(t,s){if(t==="change")return s}var bm=!1;if(Ms){var Mu;if(Ms){var zu="oninput"in document;if(!zu){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),zu=typeof vm.oninput=="function"}Mu=zu}else Mu=!1;bm=Mu&&(!document.documentMode||9<document.documentMode)}function ym(){nl&&(nl.detachEvent("onpropertychange",wm),sl=nl=null)}function wm(t){if(t.propertyName==="value"&&ko(sl)){var s=[];gm(s,sl,t,Pi(t)),Ia(_w,s)}}function Nw(t,s,a){t==="focusin"?(ym(),nl=s,sl=a,nl.attachEvent("onpropertychange",wm)):t==="focusout"&&ym()}function Cw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(sl)}function kw(t,s){if(t==="click")return ko(s)}function Tw(t,s){if(t==="input"||t==="change")return ko(s)}function Aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ts=typeof Object.is=="function"?Object.is:Aw;function rl(t,s){if(ts(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!nt.call(s,f)||!ts(t[f],s[f]))return!1}return!0}function Sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,s){var a=Sm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sm(a)}}function Em(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Em(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function _m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ds(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ds(t.document)}return s}function Ou(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Dw=Ms&&"documentMode"in document&&11>=document.documentMode,Ja=null,Lu=null,al=null,Uu=!1;function Nm(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uu||Ja==null||Ja!==ds(o)||(o=Ja,"selectionStart"in o&&Ou(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),al&&rl(al,o)||(al=o,o=gc(Lu,"onSelect"),0<o.length&&(s=new Ka("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Ja)))}function ua(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ei={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},$u={},Cm={};Ms&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function da(t){if($u[t])return $u[t];if(!ei[t])return t;var s=ei[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cm)return $u[t]=s[a];return t}var km=da("animationend"),Tm=da("animationiteration"),Am=da("animationstart"),Rw=da("transitionrun"),Mw=da("transitionstart"),zw=da("transitioncancel"),Dm=da("transitionend"),Rm=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function zs(t,s){Rm.set(t,s),Hn(s,[t])}var To=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hs=[],ti=0,qu=0;function Ao(){for(var t=ti,s=qu=ti=0;s<t;){var a=hs[s];hs[s++]=null;var o=hs[s];hs[s++]=null;var f=hs[s];hs[s++]=null;var h=hs[s];if(hs[s++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&Mm(a,f,h)}}function Do(t,s,a,o){hs[ti++]=t,hs[ti++]=s,hs[ti++]=a,hs[ti++]=o,qu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Hu(t,s,a,o){return Do(t,s,a,o),Ro(t)}function fa(t,s){return Do(t,null,null,s),Ro(t)}function Mm(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&s!==null&&(f=31-Ct(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[s]:o.push(s),s.lane=a|536870912),h):null}function Ro(t){if(50<Cl)throw Cl=0,Kd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ni={};function Ow(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(t,s,a,o){return new Ow(t,s,a,o)}function Fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,s){var a=t.alternate;return a===null?(a=ns(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Mo(t,s,a,o,f,h){var v=0;if(o=t,typeof t=="function")Fu(t)&&(v=1);else if(typeof t=="string")v=q1(t,a,H.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=ns(31,a,s,f),t.elementType=O,t.lanes=h,t;case j:return ha(a.children,f,h,s);case C:v=8,f|=24;break;case A:return t=ns(12,a,s,f|2),t.elementType=A,t.lanes=h,t;case z:return t=ns(13,a,s,f),t.elementType=z,t.lanes=h,t;case Z:return t=ns(19,a,s,f),t.elementType=Z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:v=10;break e;case k:v=9;break e;case L:v=11;break e;case q:v=14;break e;case ee:v=16,o=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=ns(v,a,s,f),s.elementType=t,s.type=o,s.lanes=h,s}function ha(t,s,a,o){return t=ns(7,t,o,s),t.lanes=a,t}function Zu(t,s,a){return t=ns(6,t,null,s),t.lanes=a,t}function Om(t){var s=ns(18,null,null,0);return s.stateNode=t,s}function Vu(t,s,a){return s=ns(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Lm=new WeakMap;function ms(t,s){if(typeof t=="object"&&t!==null){var a=Lm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:qe(s)},Lm.set(t,s),s)}return{value:t,source:s,stack:qe(s)}}var si=[],ri=0,zo=null,il=0,ps=[],gs=0,kr=null,Zs=1,Vs="";function ir(t,s){si[ri++]=il,si[ri++]=zo,zo=t,il=s}function Um(t,s,a){ps[gs++]=Zs,ps[gs++]=Vs,ps[gs++]=kr,kr=t;var o=Zs;t=Vs;var f=32-Ct(o)-1;o&=~(1<<f),a+=1;var h=32-Ct(s)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Zs=1<<32-Ct(s)+f|a<<f|o,Vs=h+t}else Zs=1<<h|a<<f|o,Vs=t}function Qu(t){t.return!==null&&(ir(t,1),Um(t,1,0))}function Iu(t){for(;t===zo;)zo=si[--ri],si[ri]=null,il=si[--ri],si[ri]=null;for(;t===kr;)kr=ps[--gs],ps[gs]=null,Vs=ps[--gs],ps[gs]=null,Zs=ps[--gs],ps[gs]=null}function $m(t,s){ps[gs++]=Zs,ps[gs++]=Vs,ps[gs++]=kr,Zs=s.id,Vs=s.overflow,kr=t}var wn=null,Tt=null,at=!1,Tr=null,xs=!1,Pu=Error(i(519));function Ar(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(ms(s,t)),Pu}function Bm(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[it]=t,s[yn]=o,a){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(a=0;a<Tl.length;a++)tt(Tl[a],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":tt("invalid",s),Xn(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":tt("invalid",s);break;case"textarea":tt("invalid",s),Va(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||n0(s.textContent,a)?(o.popover!=null&&(tt("beforetoggle",s),tt("toggle",s)),o.onScroll!=null&&tt("scroll",s),o.onScrollEnd!=null&&tt("scrollend",s),o.onClick!=null&&(s.onclick=Ds),s=!0):s=!1,s||Ar(t,!0)}function qm(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:wn=wn.return}}function ai(t){if(t!==wn)return!1;if(!at)return qm(t),at=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&Tt&&Ar(t),qm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=d0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=d0(t)}else s===27?(s=Tt,Vr(t.type)?(t=xf,xf=null,Tt=t):Tt=s):Tt=wn?vs(t.stateNode.nextSibling):null;return!0}function ma(){Tt=wn=null,at=!1}function Wu(){var t=Tr;return t!==null&&(Qn===null?Qn=t:Qn.push.apply(Qn,t),Tr=null),t}function ll(t){Tr===null?Tr=[t]:Tr.push(t)}var Gu=N(null),pa=null,lr=null;function Dr(t,s,a){ce(Gu,s._currentValue),s._currentValue=a}function or(t){t._currentValue=Gu.current,P(Gu)}function Ku(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Yu(t,s,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),Ku(h.return,a,t),o||(v=null);break e}h=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),Ku(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ii(t,s,a,o){t=null;for(var f=s,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=f.type;ts(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===J.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&Yu(s,t,a,o),s.flags|=262144}function Oo(t){for(t=t.firstContext;t!==null;){if(!ts(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){pa=t,lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return Hm(pa,t)}function Lo(t,s){return pa===null&&ga(t),Hm(t,s)}function Hm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},lr===null){if(t===null)throw Error(i(308));lr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else lr=lr.next=s;return a}var Lw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Uw=e.unstable_scheduleCallback,$w=e.unstable_NormalPriority,Xt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xu(){return{controller:new Lw,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Uw($w,function(){t.controller.abort()})}var cl=null,Ju=0,li=0,oi=null;function Bw(t,s){if(cl===null){var a=cl=[];Ju=0,li=nf(),oi={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ju++,s.then(Fm,Fm),s}function Fm(){if(--Ju===0&&cl!==null){oi!==null&&(oi.status="fulfilled");var t=cl;cl=null,li=0,oi=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function qw(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Zm=R.S;R.S=function(t,s){Ng=we(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Bw(t,s),Zm!==null&&Zm(t,s)};var xa=N(null);function ed(){var t=xa.current;return t!==null?t:St.pooledCache}function Uo(t,s){s===null?ce(xa,xa.current):ce(xa,s.pool)}function Vm(){var t=ed();return t===null?null:{parent:Xt._currentValue,pool:t}}var ci=Error(i(460)),td=Error(i(474)),$o=Error(i(542)),Bo={then:function(){}};function Qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Im(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ds,Ds),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Wm(t),t;default:if(typeof s.status=="string")s.then(Ds,Ds);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=o}},function(o){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Wm(t),t}throw va=s,ci}}function ba(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,ci):a}}var va=null;function Pm(){if(va===null)throw Error(i(459));var t=va;return va=null,t}function Wm(t){if(t===ci||t===$o)throw Error(i(483))}var ui=null,ul=0;function qo(t){var s=ul;return ul+=1,ui===null&&(ui=[]),Im(ui,t,s)}function dl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ho(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Gm(t){function s(I,B){if(t){var te=I.deletions;te===null?(I.deletions=[B],I.flags|=16):te.push(B)}}function a(I,B){if(!t)return null;for(;B!==null;)s(I,B),B=B.sibling;return null}function o(I){for(var B=new Map;I!==null;)I.key!==null?B.set(I.key,I):B.set(I.index,I),I=I.sibling;return B}function f(I,B){return I=ar(I,B),I.index=0,I.sibling=null,I}function h(I,B,te){return I.index=te,t?(te=I.alternate,te!==null?(te=te.index,te<B?(I.flags|=67108866,B):te):(I.flags|=67108866,B)):(I.flags|=1048576,B)}function v(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function S(I,B,te,fe){return B===null||B.tag!==6?(B=Zu(te,I.mode,fe),B.return=I,B):(B=f(B,te),B.return=I,B)}function M(I,B,te,fe){var Be=te.type;return Be===j?de(I,B,te.props.children,fe,te.key):B!==null&&(B.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ee&&ba(Be)===B.type)?(B=f(B,te.props),dl(B,te),B.return=I,B):(B=Mo(te.type,te.key,te.props,null,I.mode,fe),dl(B,te),B.return=I,B)}function ne(I,B,te,fe){return B===null||B.tag!==4||B.stateNode.containerInfo!==te.containerInfo||B.stateNode.implementation!==te.implementation?(B=Vu(te,I.mode,fe),B.return=I,B):(B=f(B,te.children||[]),B.return=I,B)}function de(I,B,te,fe,Be){return B===null||B.tag!==7?(B=ha(te,I.mode,fe,Be),B.return=I,B):(B=f(B,te),B.return=I,B)}function pe(I,B,te){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zu(""+B,I.mode,te),B.return=I,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return te=Mo(B.type,B.key,B.props,null,I.mode,te),dl(te,B),te.return=I,te;case _:return B=Vu(B,I.mode,te),B.return=I,B;case ee:return B=ba(B),pe(I,B,te)}if(ve(B)||se(B))return B=ha(B,I.mode,te,null),B.return=I,B;if(typeof B.then=="function")return pe(I,qo(B),te);if(B.$$typeof===D)return pe(I,Lo(I,B),te);Ho(I,B)}return null}function ae(I,B,te,fe){var Be=B!==null?B.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Be!==null?null:S(I,B,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return te.key===Be?M(I,B,te,fe):null;case _:return te.key===Be?ne(I,B,te,fe):null;case ee:return te=ba(te),ae(I,B,te,fe)}if(ve(te)||se(te))return Be!==null?null:de(I,B,te,fe,null);if(typeof te.then=="function")return ae(I,B,qo(te),fe);if(te.$$typeof===D)return ae(I,B,Lo(I,te),fe);Ho(I,te)}return null}function ue(I,B,te,fe,Be){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return I=I.get(te)||null,S(B,I,""+fe,Be);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return I=I.get(fe.key===null?te:fe.key)||null,M(B,I,fe,Be);case _:return I=I.get(fe.key===null?te:fe.key)||null,ne(B,I,fe,Be);case ee:return fe=ba(fe),ue(I,B,te,fe,Be)}if(ve(fe)||se(fe))return I=I.get(te)||null,de(B,I,fe,Be,null);if(typeof fe.then=="function")return ue(I,B,te,qo(fe),Be);if(fe.$$typeof===D)return ue(I,B,te,Lo(B,fe),Be);Ho(B,fe)}return null}function Me(I,B,te,fe){for(var Be=null,ot=null,Ue=B,Xe=B=0,rt=null;Ue!==null&&Xe<te.length;Xe++){Ue.index>Xe?(rt=Ue,Ue=null):rt=Ue.sibling;var ct=ae(I,Ue,te[Xe],fe);if(ct===null){Ue===null&&(Ue=rt);break}t&&Ue&&ct.alternate===null&&s(I,Ue),B=h(ct,B,Xe),ot===null?Be=ct:ot.sibling=ct,ot=ct,Ue=rt}if(Xe===te.length)return a(I,Ue),at&&ir(I,Xe),Be;if(Ue===null){for(;Xe<te.length;Xe++)Ue=pe(I,te[Xe],fe),Ue!==null&&(B=h(Ue,B,Xe),ot===null?Be=Ue:ot.sibling=Ue,ot=Ue);return at&&ir(I,Xe),Be}for(Ue=o(Ue);Xe<te.length;Xe++)rt=ue(Ue,I,Xe,te[Xe],fe),rt!==null&&(t&&rt.alternate!==null&&Ue.delete(rt.key===null?Xe:rt.key),B=h(rt,B,Xe),ot===null?Be=rt:ot.sibling=rt,ot=rt);return t&&Ue.forEach(function(Gr){return s(I,Gr)}),at&&ir(I,Xe),Be}function He(I,B,te,fe){if(te==null)throw Error(i(151));for(var Be=null,ot=null,Ue=B,Xe=B=0,rt=null,ct=te.next();Ue!==null&&!ct.done;Xe++,ct=te.next()){Ue.index>Xe?(rt=Ue,Ue=null):rt=Ue.sibling;var Gr=ae(I,Ue,ct.value,fe);if(Gr===null){Ue===null&&(Ue=rt);break}t&&Ue&&Gr.alternate===null&&s(I,Ue),B=h(Gr,B,Xe),ot===null?Be=Gr:ot.sibling=Gr,ot=Gr,Ue=rt}if(ct.done)return a(I,Ue),at&&ir(I,Xe),Be;if(Ue===null){for(;!ct.done;Xe++,ct=te.next())ct=pe(I,ct.value,fe),ct!==null&&(B=h(ct,B,Xe),ot===null?Be=ct:ot.sibling=ct,ot=ct);return at&&ir(I,Xe),Be}for(Ue=o(Ue);!ct.done;Xe++,ct=te.next())ct=ue(Ue,I,Xe,ct.value,fe),ct!==null&&(t&&ct.alternate!==null&&Ue.delete(ct.key===null?Xe:ct.key),B=h(ct,B,Xe),ot===null?Be=ct:ot.sibling=ct,ot=ct);return t&&Ue.forEach(function(Y1){return s(I,Y1)}),at&&ir(I,Xe),Be}function vt(I,B,te,fe){if(typeof te=="object"&&te!==null&&te.type===j&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case E:e:{for(var Be=te.key;B!==null;){if(B.key===Be){if(Be=te.type,Be===j){if(B.tag===7){a(I,B.sibling),fe=f(B,te.props.children),fe.return=I,I=fe;break e}}else if(B.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ee&&ba(Be)===B.type){a(I,B.sibling),fe=f(B,te.props),dl(fe,te),fe.return=I,I=fe;break e}a(I,B);break}else s(I,B);B=B.sibling}te.type===j?(fe=ha(te.props.children,I.mode,fe,te.key),fe.return=I,I=fe):(fe=Mo(te.type,te.key,te.props,null,I.mode,fe),dl(fe,te),fe.return=I,I=fe)}return v(I);case _:e:{for(Be=te.key;B!==null;){if(B.key===Be)if(B.tag===4&&B.stateNode.containerInfo===te.containerInfo&&B.stateNode.implementation===te.implementation){a(I,B.sibling),fe=f(B,te.children||[]),fe.return=I,I=fe;break e}else{a(I,B);break}else s(I,B);B=B.sibling}fe=Vu(te,I.mode,fe),fe.return=I,I=fe}return v(I);case ee:return te=ba(te),vt(I,B,te,fe)}if(ve(te))return Me(I,B,te,fe);if(se(te)){if(Be=se(te),typeof Be!="function")throw Error(i(150));return te=Be.call(te),He(I,B,te,fe)}if(typeof te.then=="function")return vt(I,B,qo(te),fe);if(te.$$typeof===D)return vt(I,B,Lo(I,te),fe);Ho(I,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,B!==null&&B.tag===6?(a(I,B.sibling),fe=f(B,te),fe.return=I,I=fe):(a(I,B),fe=Zu(te,I.mode,fe),fe.return=I,I=fe),v(I)):a(I,B)}return function(I,B,te,fe){try{ul=0;var Be=vt(I,B,te,fe);return ui=null,Be}catch(Ue){if(Ue===ci||Ue===$o)throw Ue;var ot=ns(29,Ue,null,I.mode);return ot.lanes=fe,ot.return=I,ot}finally{}}}var ya=Gm(!0),Km=Gm(!1),Rr=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ut&2)!==0){var f=o.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s,s=Ro(t),Mm(t,null,a),s}return Do(t,o,s,a),Ro(t)}function fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Cn(t,a)}}function rd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?f=h=s:h=h.next=s}else f=h=s;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ad=!1;function hl(){if(ad){var t=oi;if(t!==null)throw t}}function ml(t,s,a,o){ad=!1;var f=t.updateQueue;Rr=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,ne=M.next;M.next=null,v===null?h=ne:v.next=ne,v=M;var de=t.alternate;de!==null&&(de=de.updateQueue,S=de.lastBaseUpdate,S!==v&&(S===null?de.firstBaseUpdate=ne:S.next=ne,de.lastBaseUpdate=M))}if(h!==null){var pe=f.baseState;v=0,de=ne=M=null,S=h;do{var ae=S.lane&-536870913,ue=ae!==S.lane;if(ue?(st&ae)===ae:(o&ae)===ae){ae!==0&&ae===li&&(ad=!0),de!==null&&(de=de.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,He=S;ae=s;var vt=a;switch(He.tag){case 1:if(Me=He.payload,typeof Me=="function"){pe=Me.call(vt,pe,ae);break e}pe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=He.payload,ae=typeof Me=="function"?Me.call(vt,pe,ae):Me,ae==null)break e;pe=y({},pe,ae);break e;case 2:Rr=!0}}ae=S.callback,ae!==null&&(t.flags|=64,ue&&(t.flags|=8192),ue=f.callbacks,ue===null?f.callbacks=[ae]:ue.push(ae))}else ue={lane:ae,tag:S.tag,payload:S.payload,callback:S.callback,next:null},de===null?(ne=de=ue,M=pe):de=de.next=ue,v|=ae;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;ue=S,S=ue.next,ue.next=null,f.lastBaseUpdate=ue,f.shared.pending=null}}while(!0);de===null&&(M=pe),f.baseState=M,f.firstBaseUpdate=ne,f.lastBaseUpdate=de,h===null&&(f.shared.lanes=0),Br|=v,t.lanes=v,t.memoizedState=pe}}function Ym(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Xm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ym(a[t],s)}var di=N(null),Fo=N(0);function Jm(t,s){t=xr,ce(Fo,t),ce(di,s),xr=t|s.baseLanes}function id(){ce(Fo,xr),ce(di,di.current)}function ld(){xr=Fo.current,P(di),P(Fo)}var ss=N(null),bs=null;function Or(t){var s=t.alternate;ce(Vt,Vt.current&1),ce(ss,t),bs===null&&(s===null||di.current!==null||s.memoizedState!==null)&&(bs=t)}function od(t){ce(Vt,Vt.current),ce(ss,t),bs===null&&(bs=t)}function ep(t){t.tag===22?(ce(Vt,Vt.current),ce(ss,t),bs===null&&(bs=t)):Lr()}function Lr(){ce(Vt,Vt.current),ce(ss,ss.current)}function rs(t){P(ss),bs===t&&(bs=null),P(Vt)}var Vt=N(0);function Zo(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||gf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cr=0,Ye=null,xt=null,Jt=null,Vo=!1,fi=!1,wa=!1,Qo=0,pl=0,hi=null,Hw=0;function Bt(){throw Error(i(321))}function cd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!ts(t[a],s[a]))return!1;return!0}function ud(t,s,a,o,f,h){return cr=h,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=t===null||t.memoizedState===null?Up:_d,wa=!1,h=a(o,f),wa=!1,fi&&(h=np(s,a,o,f)),tp(t),h}function tp(t){R.H=bl;var s=xt!==null&&xt.next!==null;if(cr=0,Jt=xt=Ye=null,Vo=!1,pl=0,hi=null,s)throw Error(i(300));t===null||en||(t=t.dependencies,t!==null&&Oo(t)&&(en=!0))}function np(t,s,a,o){Ye=t;var f=0;do{if(fi&&(hi=null),pl=0,fi=!1,25<=f)throw Error(i(301));if(f+=1,Jt=xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=$p,h=s(a,o)}while(fi);return h}function Fw(){var t=R.H,s=t.useState()[0];return s=typeof s.then=="function"?gl(s):s,t=t.useState()[0],(xt!==null?xt.memoizedState:null)!==t&&(Ye.flags|=1024),s}function dd(){var t=Qo!==0;return Qo=0,t}function fd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function hd(t){if(Vo){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Vo=!1}cr=0,Jt=xt=Ye=null,fi=!1,pl=Qo=0,hi=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ye.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Qt(){if(xt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var s=Jt===null?Ye.memoizedState:Jt.next;if(s!==null)Jt=s,xt=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Jt===null?Ye.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var s=pl;return pl+=1,hi===null&&(hi=[]),t=Im(hi,t,s),s=Ye,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Up:_d),t}function Po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===D)return Sn(t)}throw Error(i(438,String(t)))}function md(t){var s=null,a=Ye.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Io(),Ye.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=U;return s.index++,a}function ur(t,s){return typeof s=="function"?s(t):s}function Wo(t){var s=Qt();return pd(s,xt,t)}function pd(t,s,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}s.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{s=f.next;var S=v=null,M=null,ne=s,de=!1;do{var pe=ne.lane&-536870913;if(pe!==ne.lane?(st&pe)===pe:(cr&pe)===pe){var ae=ne.revertLane;if(ae===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),pe===li&&(de=!0);else if((cr&ae)===ae){ne=ne.next,ae===li&&(de=!0);continue}else pe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},M===null?(S=M=pe,v=h):M=M.next=pe,Ye.lanes|=ae,Br|=ae;pe=ne.action,wa&&a(h,pe),h=ne.hasEagerState?ne.eagerState:a(h,pe)}else ae={lane:pe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},M===null?(S=M=ae,v=h):M=M.next=ae,Ye.lanes|=pe,Br|=pe;ne=ne.next}while(ne!==null&&ne!==s);if(M===null?v=h:M.next=S,!ts(h,t.memoizedState)&&(en=!0,de&&(a=oi,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=M,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function gd(t){var s=Qt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);ts(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,o]}function sp(t,s,a){var o=Ye,f=Qt(),h=at;if(h){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!ts((xt||f).memoizedState,a);if(v&&(f.memoizedState=a,en=!0),f=f.queue,vd(ip.bind(null,o,f,t),[t]),f.getSnapshot!==s||v||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,mi(9,{destroy:void 0},ap.bind(null,o,f,a,s),null),St===null)throw Error(i(349));h||(cr&127)!==0||rp(o,s,a)}return a}function rp(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ye.updateQueue,s===null?(s=Io(),Ye.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function ap(t,s,a,o){s.value=a,s.getSnapshot=o,lp(s)&&op(t)}function ip(t,s,a){return a(function(){lp(s)&&op(t)})}function lp(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!ts(t,a)}catch{return!0}}function op(t){var s=fa(t,2);s!==null&&In(s,t,2)}function xd(t){var s=On();if(typeof t=="function"){var a=t;if(t=a(),wa){Wt(!0);try{a()}finally{Wt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},s}function cp(t,s,a,o){return t.baseState=a,pd(t,xt,typeof o=="function"?o:ur)}function Zw(t,s,a,o,f){if(Yo(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};R.T!==null?a(!0):h.isTransition=!1,o(h),a=s.pending,a===null?(h.next=s.pending=h,up(s,h)):(h.next=a.next,s.pending=a.next=h)}}function up(t,s){var a=s.action,o=s.payload,f=t.state;if(s.isTransition){var h=R.T,v={};R.T=v;try{var S=a(f,o),M=R.S;M!==null&&M(v,S),dp(t,s,S)}catch(ne){bd(t,s,ne)}finally{h!==null&&v.types!==null&&(h.types=v.types),R.T=h}}else try{h=a(f,o),dp(t,s,h)}catch(ne){bd(t,s,ne)}}function dp(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fp(t,s,o)},function(o){return bd(t,s,o)}):fp(t,s,a)}function fp(t,s,a){s.status="fulfilled",s.value=a,hp(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,up(t,a)))}function bd(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,hp(s),s=s.next;while(s!==o)}t.action=null}function hp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function mp(t,s){return s}function pp(t,s){if(at){var a=St.formState;if(a!==null){e:{var o=Ye;if(at){if(Tt){t:{for(var f=Tt,h=xs;f.nodeType!==8;){if(!h){f=null;break t}if(f=vs(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Tt=vs(f.nextSibling),o=f.data==="F!";break e}}Ar(o)}o=!1}o&&(s=a[0])}}return a=On(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:s},a.queue=o,a=zp.bind(null,Ye,o),o.dispatch=a,o=xd(!1),h=Ed.bind(null,Ye,!1,o.queue),o=On(),f={state:s,dispatch:null,action:t,pending:null},o.queue=f,a=Zw.bind(null,Ye,f,h,a),f.dispatch=a,o.memoizedState=t,[s,a,!1]}function gp(t){var s=Qt();return xp(s,xt,t)}function xp(t,s,a){if(s=pd(t,s,mp)[0],t=Wo(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=gl(s)}catch(v){throw v===ci?$o:v}else o=s;s=Qt();var f=s.queue,h=f.dispatch;return a!==s.memoizedState&&(Ye.flags|=2048,mi(9,{destroy:void 0},Vw.bind(null,f,a),null)),[o,h,t]}function Vw(t,s){t.action=s}function bp(t){var s=Qt(),a=xt;if(a!==null)return xp(s,a,t);Qt(),s=s.memoizedState,a=Qt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function mi(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Io(),Ye.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function vp(){return Qt().memoizedState}function Go(t,s,a,o){var f=On();Ye.flags|=t,f.memoizedState=mi(1|s,{destroy:void 0},a,o===void 0?null:o)}function Ko(t,s,a,o){var f=Qt();o=o===void 0?null:o;var h=f.memoizedState.inst;xt!==null&&o!==null&&cd(o,xt.memoizedState.deps)?f.memoizedState=mi(s,h,a,o):(Ye.flags|=t,f.memoizedState=mi(1|s,h,a,o))}function yp(t,s){Go(8390656,8,t,s)}function vd(t,s){Ko(2048,8,t,s)}function Qw(t){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Io(),Ye.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function wp(t){var s=Qt().memoizedState;return Qw({ref:s,nextImpl:t}),function(){if((ut&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Sp(t,s){return Ko(4,2,t,s)}function jp(t,s){return Ko(4,4,t,s)}function Ep(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function _p(t,s,a){a=a!=null?a.concat([t]):null,Ko(4,4,Ep.bind(null,s,t),a)}function yd(){}function Np(t,s){var a=Qt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&cd(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Cp(t,s){var a=Qt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&cd(s,o[1]))return o[0];if(o=t(),wa){Wt(!0);try{t()}finally{Wt(!1)}}return a.memoizedState=[o,s],o}function wd(t,s,a){return a===void 0||(cr&1073741824)!==0&&(st&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=kg(),Ye.lanes|=t,Br|=t,a)}function kp(t,s,a,o){return ts(a,s)?a:di.current!==null?(t=wd(t,a,o),ts(t,s)||(en=!0),t):(cr&42)===0||(cr&1073741824)!==0&&(st&261930)===0?(en=!0,t.memoizedState=a):(t=kg(),Ye.lanes|=t,Br|=t,s)}function Tp(t,s,a,o,f){var h=Y.p;Y.p=h!==0&&8>h?h:8;var v=R.T,S={};R.T=S,Ed(t,!1,s,a);try{var M=f(),ne=R.S;if(ne!==null&&ne(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var de=qw(M,o);xl(t,s,de,ls(t))}else xl(t,s,o,ls(t))}catch(pe){xl(t,s,{then:function(){},status:"rejected",reason:pe},ls())}finally{Y.p=h,v!==null&&S.types!==null&&(v.types=S.types),R.T=v}}function Iw(){}function Sd(t,s,a,o){if(t.tag!==5)throw Error(i(476));var f=Ap(t).queue;Tp(t,f,s,Q,a===null?Iw:function(){return Dp(t),a(o)})}function Ap(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:Q},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Dp(t){var s=Ap(t);s.next===null&&(s=t.alternate.memoizedState),xl(t,s.next.queue,{},ls())}function jd(){return Sn(zl)}function Rp(){return Qt().memoizedState}function Mp(){return Qt().memoizedState}function Pw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=ls();t=Mr(a);var o=zr(s,t,a);o!==null&&(In(o,s,a),fl(o,s,a)),s={cache:Xu()},t.payload=s;return}s=s.return}}function Ww(t,s,a){var o=ls();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yo(t)?Op(s,a):(a=Hu(t,s,a,o),a!==null&&(In(a,t,o),Lp(a,s,o)))}function zp(t,s,a){var o=ls();xl(t,s,a,o)}function xl(t,s,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yo(t))Op(s,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,a);if(f.hasEagerState=!0,f.eagerState=S,ts(S,v))return Do(t,s,f,0),St===null&&Ao(),!1}catch{}finally{}if(a=Hu(t,s,f,o),a!==null)return In(a,t,o),Lp(a,s,o),!0}return!1}function Ed(t,s,a,o){if(o={lane:2,revertLane:nf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yo(t)){if(s)throw Error(i(479))}else s=Hu(t,a,o,2),s!==null&&In(s,t,2)}function Yo(t){var s=t.alternate;return t===Ye||s!==null&&s===Ye}function Op(t,s){fi=Vo=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Lp(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Cn(t,a)}}var bl={readContext:Sn,use:Po,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};bl.useEffectEvent=Bt;var Up={readContext:Sn,use:Po,useCallback:function(t,s){return On().memoizedState=[t,s===void 0?null:s],t},useContext:Sn,useEffect:yp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Go(4194308,4,Ep.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Go(4194308,4,t,s)},useInsertionEffect:function(t,s){Go(4,2,t,s)},useMemo:function(t,s){var a=On();s=s===void 0?null:s;var o=t();if(wa){Wt(!0);try{t()}finally{Wt(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=On();if(a!==void 0){var f=a(s);if(wa){Wt(!0);try{a(s)}finally{Wt(!1)}}}else f=s;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Ww.bind(null,Ye,t),[o.memoizedState,t]},useRef:function(t){var s=On();return t={current:t},s.memoizedState=t},useState:function(t){t=xd(t);var s=t.queue,a=zp.bind(null,Ye,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(t,s){var a=On();return wd(a,t,s)},useTransition:function(){var t=xd(!1);return t=Tp.bind(null,Ye,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Ye,f=On();if(at){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),St===null)throw Error(i(349));(st&127)!==0||rp(o,s,a)}f.memoizedState=a;var h={value:a,getSnapshot:s};return f.queue=h,yp(ip.bind(null,o,h,t),[t]),o.flags|=2048,mi(9,{destroy:void 0},ap.bind(null,o,h,a,s),null),a},useId:function(){var t=On(),s=St.identifierPrefix;if(at){var a=Vs,o=Zs;a=(o&~(1<<32-Ct(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Qo++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Hw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:jd,useFormState:pp,useActionState:pp,useOptimistic:function(t){var s=On();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ed.bind(null,Ye,!0,a),a.dispatch=s,[t,s]},useMemoCache:md,useCacheRefresh:function(){return On().memoizedState=Pw.bind(null,Ye)},useEffectEvent:function(t){var s=On(),a={impl:t};return s.memoizedState=a,function(){if((ut&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},_d={readContext:Sn,use:Po,useCallback:Np,useContext:Sn,useEffect:vd,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:jp,useMemo:Cp,useReducer:Wo,useRef:vp,useState:function(){return Wo(ur)},useDebugValue:yd,useDeferredValue:function(t,s){var a=Qt();return kp(a,xt.memoizedState,t,s)},useTransition:function(){var t=Wo(ur)[0],s=Qt().memoizedState;return[typeof t=="boolean"?t:gl(t),s]},useSyncExternalStore:sp,useId:Rp,useHostTransitionStatus:jd,useFormState:gp,useActionState:gp,useOptimistic:function(t,s){var a=Qt();return cp(a,xt,t,s)},useMemoCache:md,useCacheRefresh:Mp};_d.useEffectEvent=wp;var $p={readContext:Sn,use:Po,useCallback:Np,useContext:Sn,useEffect:vd,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:jp,useMemo:Cp,useReducer:gd,useRef:vp,useState:function(){return gd(ur)},useDebugValue:yd,useDeferredValue:function(t,s){var a=Qt();return xt===null?wd(a,t,s):kp(a,xt.memoizedState,t,s)},useTransition:function(){var t=gd(ur)[0],s=Qt().memoizedState;return[typeof t=="boolean"?t:gl(t),s]},useSyncExternalStore:sp,useId:Rp,useHostTransitionStatus:jd,useFormState:bp,useActionState:bp,useOptimistic:function(t,s){var a=Qt();return xt!==null?cp(a,xt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:Mp};$p.useEffectEvent=wp;function Nd(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cd={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=ls(),f=Mr(o);f.payload=s,a!=null&&(f.callback=a),s=zr(t,f,o),s!==null&&(In(s,t,o),fl(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=ls(),f=Mr(o);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=zr(t,f,o),s!==null&&(In(s,t,o),fl(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=ls(),o=Mr(a);o.tag=2,s!=null&&(o.callback=s),s=zr(t,o,a),s!==null&&(In(s,t,a),fl(s,t,a))}};function Bp(t,s,a,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!rl(a,o)||!rl(f,h):!0}function qp(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Cd.enqueueReplaceState(s,s.state,null)}function Sa(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Hp(t){To(t)}function Fp(t){console.error(t)}function Zp(t){To(t)}function Xo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(t,s,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xo(t,s)},a}function Qp(t){return t=Mr(t),t.tag=3,t}function Ip(t,s,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Vp(s,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vp(s,a,o),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Gw(t,s,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&ii(s,a,f,!0),a=ss.current,a!==null){switch(a.tag){case 31:case 13:return bs===null?uc():a.alternate===null&&qt===0&&(qt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Bo?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Jd(t,o,f)),!1;case 22:return a.flags|=65536,o===Bo?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Jd(t,o,f)),!1}throw Error(i(435,a.tag))}return Jd(t,o,f),uc(),!1}if(at)return s=ss.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,o!==Pu&&(t=Error(i(422),{cause:o}),ll(ms(t,a)))):(o!==Pu&&(s=Error(i(423),{cause:o}),ll(ms(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=ms(o,a),f=kd(t.stateNode,o,f),rd(t,f),qt!==4&&(qt=2)),!1;var h=Error(i(520),{cause:o});if(h=ms(h,a),Nl===null?Nl=[h]:Nl.push(h),qt!==4&&(qt=2),s===null)return!0;o=ms(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=kd(a.stateNode,o,t),rd(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(qr===null||!qr.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Qp(f),Ip(f,t,a,o),rd(a,f),!1}a=a.return}while(a!==null);return!1}var Td=Error(i(461)),en=!1;function jn(t,s,a,o){s.child=t===null?Km(s,null,a,o):ya(s,t.child,a,o)}function Pp(t,s,a,o,f){a=a.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return ga(s),o=ud(t,s,a,v,h,f),S=dd(),t!==null&&!en?(fd(t,s,f),dr(t,s,f)):(at&&S&&Qu(s),s.flags|=1,jn(t,s,o,f),s.child)}function Wp(t,s,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!Fu(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,Gp(t,s,h,o,f)):(t=Mo(a.type,null,o,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!Ud(t,f)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(v,o)&&t.ref===s.ref)return dr(t,s,f)}return s.flags|=1,t=ar(h,o),t.ref=s.ref,t.return=s,s.child=t}function Gp(t,s,a,o,f){if(t!==null){var h=t.memoizedProps;if(rl(h,o)&&t.ref===s.ref)if(en=!1,s.pendingProps=o=h,Ud(t,f))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,dr(t,s,f)}return Ad(t,s,a,o,f)}function Kp(t,s,a,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=s.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,s.child=null;return Yp(t,s,h,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uo(s,h!==null?h.cachePool:null),h!==null?Jm(s,h):id(),ep(s);else return o=s.lanes=536870912,Yp(t,s,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(Uo(s,h.cachePool),Jm(s,h),Lr(),s.memoizedState=null):(t!==null&&Uo(s,null),id(),Lr());return jn(t,s,f,a),s.child}function vl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yp(t,s,a,o,f){var h=ed();return h=h===null?null:{parent:Xt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&Uo(s,null),id(),ep(s),t!==null&&ii(t,s,o,!0),s.childLanes=f,null}function Jo(t,s){return s=tc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Xp(t,s,a){return ya(s,t.child,null,a),t=Jo(s,s.pendingProps),t.flags|=2,rs(s),s.memoizedState=null,t}function Kw(t,s,a){var o=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(at){if(o.mode==="hidden")return t=Jo(s,o),s.lanes=536870912,vl(null,t);if(od(s),(t=Tt)?(t=u0(t,xs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Zs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=Om(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Ar(s);return s.lanes=536870912,null}return Jo(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(od(s),f)if(s.flags&256)s.flags&=-257,s=Xp(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(en||ii(t,s,a,!1),f=(a&t.childLanes)!==0,en||f){if(o=St,o!==null&&(v=pn(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,fa(t,v),In(o,t,v),Td;uc(),s=Xp(t,s,a)}else t=h.treeContext,Tt=vs(v.nextSibling),wn=s,at=!0,Tr=null,xs=!1,t!==null&&$m(s,t),s=Jo(s,o),s.flags|=4096;return s}return t=ar(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ec(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Ad(t,s,a,o,f){return ga(s),a=ud(t,s,a,o,void 0,f),o=dd(),t!==null&&!en?(fd(t,s,f),dr(t,s,f)):(at&&o&&Qu(s),s.flags|=1,jn(t,s,a,f),s.child)}function Jp(t,s,a,o,f,h){return ga(s),s.updateQueue=null,a=np(s,o,a,f),tp(t),o=dd(),t!==null&&!en?(fd(t,s,h),dr(t,s,h)):(at&&o&&Qu(s),s.flags|=1,jn(t,s,a,h),s.child)}function eg(t,s,a,o,f){if(ga(s),s.stateNode===null){var h=ni,v=a.contextType;typeof v=="object"&&v!==null&&(h=Sn(v)),h=new a(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Cd,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},nd(s),v=a.contextType,h.context=typeof v=="object"&&v!==null?Sn(v):ni,h.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nd(s,a,v,o),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Cd.enqueueReplaceState(h,h.state,null),ml(s,o,h,f),hl(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,M=Sa(a,S);h.props=M;var ne=h.context,de=a.contextType;v=ni,typeof de=="object"&&de!==null&&(v=Sn(de));var pe=a.getDerivedStateFromProps;de=typeof pe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,de||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||ne!==v)&&qp(s,h,o,v),Rr=!1;var ae=s.memoizedState;h.state=ae,ml(s,o,h,f),hl(),ne=s.memoizedState,S||ae!==ne||Rr?(typeof pe=="function"&&(Nd(s,a,pe,o),ne=s.memoizedState),(M=Rr||Bp(s,a,M,o,ae,ne,v))?(de||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=ne),h.props=o,h.state=ne,h.context=v,o=M):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,sd(t,s),v=s.memoizedProps,de=Sa(a,v),h.props=de,pe=s.pendingProps,ae=h.context,ne=a.contextType,M=ni,typeof ne=="object"&&ne!==null&&(M=Sn(ne)),S=a.getDerivedStateFromProps,(ne=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==pe||ae!==M)&&qp(s,h,o,M),Rr=!1,ae=s.memoizedState,h.state=ae,ml(s,o,h,f),hl();var ue=s.memoizedState;v!==pe||ae!==ue||Rr||t!==null&&t.dependencies!==null&&Oo(t.dependencies)?(typeof S=="function"&&(Nd(s,a,S,o),ue=s.memoizedState),(de=Rr||Bp(s,a,de,o,ae,ue,M)||t!==null&&t.dependencies!==null&&Oo(t.dependencies))?(ne||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,ue,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,ue,M)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ae===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ae===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=ue),h.props=o,h.state=ue,h.context=M,o=de):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ae===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ae===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,ec(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=ya(s,t.child,null,f),s.child=ya(s,null,a,f)):jn(t,s,a,f),s.memoizedState=h.state,t=s.child):t=dr(t,s,f),t}function tg(t,s,a,o){return ma(),s.flags|=256,jn(t,s,a,o),s.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:Vm()}}function Md(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=is),t}function ng(t,s,a){var o=s.pendingProps,f=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(at){if(f?Or(s):Lr(),(t=Tt)?(t=u0(t,xs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Zs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=Om(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Ar(s);return gf(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,f?(Lr(),f=s.mode,S=tc({mode:"hidden",children:S},f),o=ha(o,f,a,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=Rd(a),o.childLanes=Md(t,v,a),s.memoizedState=Dd,vl(null,o)):(Or(s),zd(s,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(h)s.flags&256?(Or(s),s.flags&=-257,s=Od(t,s,a)):s.memoizedState!==null?(Lr(),s.child=t.child,s.flags|=128,s=null):(Lr(),S=o.fallback,f=s.mode,o=tc({mode:"visible",children:o.children},f),S=ha(S,f,a,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,ya(s,t.child,null,a),o=s.child,o.memoizedState=Rd(a),o.childLanes=Md(t,v,a),s.memoizedState=Dd,s=vl(null,o));else if(Or(s),gf(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var ne=v.dgst;v=ne,o=Error(i(419)),o.stack="",o.digest=v,ll({value:o,source:null,stack:null}),s=Od(t,s,a)}else if(en||ii(t,s,a,!1),v=(a&t.childLanes)!==0,en||v){if(v=St,v!==null&&(o=pn(v,a),o!==0&&o!==M.retryLane))throw M.retryLane=o,fa(t,o),In(v,t,o),Td;pf(S)||uc(),s=Od(t,s,a)}else pf(S)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,Tt=vs(S.nextSibling),wn=s,at=!0,Tr=null,xs=!1,t!==null&&$m(s,t),s=zd(s,o.children),s.flags|=4096);return s}return f?(Lr(),S=o.fallback,f=s.mode,M=t.child,ne=M.sibling,o=ar(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,ne!==null?S=ar(ne,S):(S=ha(S,f,a,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,vl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=Rd(a):(f=S.cachePool,f!==null?(M=Xt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Vm(),S={baseLanes:S.baseLanes|a,cachePool:f}),o.memoizedState=S,o.childLanes=Md(t,v,a),s.memoizedState=Dd,vl(t.child,o)):(Or(s),a=t.child,t=a.sibling,a=ar(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function zd(t,s){return s=tc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function tc(t,s){return t=ns(22,t,null,s),t.lanes=0,t}function Od(t,s,a){return ya(s,t.child,null,a),t=zd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function sg(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Ku(t.return,s,a)}function Ld(t,s,a,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=h)}function rg(t,s,a){var o=s.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Vt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,ce(Vt,v),jn(t,s,o,a),o=at?il:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,a,s);else if(t.tag===19)sg(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Zo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ld(s,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Zo(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ld(s,!0,a,null,h,o);break;case"together":Ld(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function dr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Br|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ii(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=ar(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ar(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ud(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Oo(t)))}function Yw(t,s,a){switch(s.tag){case 3:$(s,s.stateNode.containerInfo),Dr(s,Xt,t.memoizedState.cache),ma();break;case 27:case 5:me(s);break;case 4:$(s,s.stateNode.containerInfo);break;case 10:Dr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,od(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Or(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ng(t,s,a):(Or(s),t=dr(t,s,a),t!==null?t.sibling:null);Or(s);break;case 19:var f=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(ii(t,s,a,!1),o=(a&s.childLanes)!==0),f){if(o)return rg(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Vt,Vt.current),o)break;return null;case 22:return s.lanes=0,Kp(t,s,a,s.pendingProps);case 24:Dr(s,Xt,t.memoizedState.cache)}return dr(t,s,a)}function ag(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!Ud(t,a)&&(s.flags&128)===0)return en=!1,Yw(t,s,a);en=(t.flags&131072)!==0}else en=!1,at&&(s.flags&1048576)!==0&&Um(s,il,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=ba(s.elementType),s.type=t,typeof t=="function")Fu(t)?(o=Sa(t,o),s.tag=1,s=eg(null,s,t,o,a)):(s.tag=0,s=Ad(null,s,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===L){s.tag=11,s=Pp(null,s,t,o,a);break e}else if(f===q){s.tag=14,s=Wp(null,s,t,o,a);break e}}throw s=ie(t)||t,Error(i(306,s,""))}}return s;case 0:return Ad(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,f=Sa(o,s.pendingProps),eg(t,s,o,f,a);case 3:e:{if($(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;f=h.element,sd(t,s),ml(s,o,null,a);var v=s.memoizedState;if(o=v.cache,Dr(s,Xt,o),o!==h.cache&&Yu(s,[Xt],a,!0),hl(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=tg(t,s,o,a);break e}else if(o!==f){f=ms(Error(i(424)),s),ll(f),s=tg(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=vs(t.firstChild),wn=s,at=!0,Tr=null,xs=!0,a=Km(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ma(),o===f){s=dr(t,s,a);break e}jn(t,s,o,a)}s=s.child}return s;case 26:return ec(t,s),t===null?(a=g0(s.type,null,s.pendingProps,null))?s.memoizedState=a:at||(a=s.type,t=s.pendingProps,o=xc(F.current).createElement(a),o[it]=s,o[yn]=t,En(o,a,t),Et(o),s.stateNode=o):s.memoizedState=g0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return me(s),t===null&&at&&(o=s.stateNode=h0(s.type,s.pendingProps,F.current),wn=s,xs=!0,f=Tt,Vr(s.type)?(xf=f,Tt=vs(o.firstChild)):Tt=f),jn(t,s,s.pendingProps.children,a),ec(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&at&&((f=o=Tt)&&(o=C1(o,s.type,s.pendingProps,xs),o!==null?(s.stateNode=o,wn=s,Tt=vs(o.firstChild),xs=!1,f=!0):f=!1),f||Ar(s)),me(s),f=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,ff(f,h)?o=null:v!==null&&ff(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=ud(t,s,Fw,null,null,a),zl._currentValue=f),ec(t,s),jn(t,s,o,a),s.child;case 6:return t===null&&at&&((t=a=Tt)&&(a=k1(a,s.pendingProps,xs),a!==null?(s.stateNode=a,wn=s,Tt=null,t=!0):t=!1),t||Ar(s)),null;case 13:return ng(t,s,a);case 4:return $(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ya(s,null,o,a):jn(t,s,o,a),s.child;case 11:return Pp(t,s,s.type,s.pendingProps,a);case 7:return jn(t,s,s.pendingProps,a),s.child;case 8:return jn(t,s,s.pendingProps.children,a),s.child;case 12:return jn(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Dr(s,s.type,o.value),jn(t,s,o.children,a),s.child;case 9:return f=s.type._context,o=s.pendingProps.children,ga(s),f=Sn(f),o=o(f),s.flags|=1,jn(t,s,o,a),s.child;case 14:return Wp(t,s,s.type,s.pendingProps,a);case 15:return Gp(t,s,s.type,s.pendingProps,a);case 19:return rg(t,s,a);case 31:return Kw(t,s,a);case 22:return Kp(t,s,a,s.pendingProps);case 24:return ga(s),o=Sn(Xt),t===null?(f=ed(),f===null&&(f=St,h=Xu(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),s.memoizedState={parent:o,cache:f},nd(s),Dr(s,Xt,f)):((t.lanes&a)!==0&&(sd(t,s),ml(s,null,null,a),hl()),f=t.memoizedState,h=s.memoizedState,f.parent!==o?(f={parent:o,cache:o},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Dr(s,Xt,o)):(o=h.cache,Dr(s,Xt,o),o!==f.cache&&Yu(s,[Xt],a,!0))),jn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fr(t){t.flags|=4}function $d(t,s,a,o,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Rg())t.flags|=8192;else throw va=Bo,td}else t.flags&=-16777217}function ig(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w0(s))if(Rg())t.flags|=8192;else throw va=Bo,td}function nc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?hn():536870912,t.lanes|=s,bi|=s)}function yl(t,s){if(!at)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function At(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function Xw(t,s,a){var o=s.pendingProps;switch(Iu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),or(Xt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ai(s)?fr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wu())),At(s),null;case 26:var f=s.type,h=s.memoizedState;return t===null?(fr(s),h!==null?(At(s),ig(s,h)):(At(s),$d(s,f,null,o,a))):h?h!==t.memoizedState?(fr(s),At(s),ig(s,h)):(At(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&fr(s),At(s),$d(s,f,t,o,a)),null;case 27:if(Te(s),a=F.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&fr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return At(s),null}t=H.current,ai(s)?Bm(s):(t=h0(f,o,a),s.stateNode=t,fr(s))}return At(s),null;case 5:if(Te(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&fr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(h=H.current,ai(s))Bm(s);else{var v=xc(F.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[it]=s,h[yn]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(En(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fr(s)}}return At(s),$d(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&fr(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=F.current,ai(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,f=wn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[it]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||n0(t.nodeValue,a)),t||Ar(s,!0)}else t=xc(t).createTextNode(o),t[it]=s,s.stateNode=t}return At(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=ai(s),a!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[it]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),t=!1}else a=Wu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(rs(s),s):(rs(s),null);if((s.flags&128)!==0)throw Error(i(558))}return At(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ai(s),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[it]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),f=!1}else f=Wu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(rs(s),s):(rs(s),null)}return rs(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),nc(s,s.updateQueue),At(s),null);case 4:return le(),t===null&&lf(s.stateNode.containerInfo),At(s),null;case 10:return or(s.type),At(s),null;case 19:if(P(Vt),o=s.memoizedState,o===null)return At(s),null;if(f=(s.flags&128)!==0,h=o.rendering,h===null)if(f)yl(o,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=Zo(t),h!==null){for(s.flags|=128,yl(o,!1),t=h.updateQueue,s.updateQueue=t,nc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)zm(a,t),a=a.sibling;return ce(Vt,Vt.current&1|2),at&&ir(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&we()>lc&&(s.flags|=128,f=!0,yl(o,!1),s.lanes=4194304)}else{if(!f)if(t=Zo(h),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,nc(s,t),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!at)return At(s),null}else 2*we()-o.renderingStartTime>lc&&a!==536870912&&(s.flags|=128,f=!0,yl(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,a=Vt.current,ce(Vt,f?a&1|2:a&1),at&&ir(s,o.treeForkCount),t):(At(s),null);case 22:case 23:return rs(s),ld(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),a=s.updateQueue,a!==null&&nc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&P(xa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),or(Xt),At(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Jw(t,s){switch(Iu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return or(Xt),le(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Te(s),null;case 31:if(s.memoizedState!==null){if(rs(s),s.alternate===null)throw Error(i(340));ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(rs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return P(Vt),null;case 4:return le(),null;case 10:return or(s.type),null;case 22:case 23:return rs(s),ld(),t!==null&&P(xa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return or(Xt),null;case 25:return null;default:return null}}function lg(t,s){switch(Iu(s),s.tag){case 3:or(Xt),le();break;case 26:case 27:case 5:Te(s);break;case 4:le();break;case 31:s.memoizedState!==null&&rs(s);break;case 13:rs(s);break;case 19:P(Vt);break;case 10:or(s.type);break;case 22:case 23:rs(s),ld(),t!==null&&P(xa);break;case 24:or(Xt)}}function wl(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==f)}}catch(S){pt(s,s.return,S)}}function Ur(t,s,a){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var M=a,ne=S;try{ne()}catch(de){pt(f,M,de)}}}o=o.next}while(o!==h)}}catch(de){pt(s,s.return,de)}}function og(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Xm(s,a)}catch(o){pt(t,t.return,o)}}}function cg(t,s,a){a.props=Sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){pt(t,s,o)}}function Sl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){pt(t,s,f)}}function Qs(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){pt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){pt(t,s,f)}else a.current=null}function ug(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){pt(t,t.return,f)}}function Bd(t,s,a){try{var o=t.stateNode;w1(o,t.type,a,s),o[yn]=s}catch(f){pt(t,t.return,f)}}function dg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vr(t.type)||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hd(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ds));else if(o!==4&&(o===27&&Vr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Hd(t,s,a),t=t.sibling;t!==null;)Hd(t,s,a),t=t.sibling}function sc(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,s,a),t=t.sibling;t!==null;)sc(t,s,a),t=t.sibling}function fg(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,o,a),s[it]=t,s[yn]=a}catch(h){pt(t,t.return,h)}}var hr=!1,tn=!1,Fd=!1,hg=typeof WeakSet=="function"?WeakSet:Set,gn=null;function e1(t,s){if(t=t.containerInfo,uf=Ec,t=_m(t),Ou(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,S=-1,M=-1,ne=0,de=0,pe=t,ae=null;t:for(;;){for(var ue;pe!==a||f!==0&&pe.nodeType!==3||(S=v+f),pe!==h||o!==0&&pe.nodeType!==3||(M=v+o),pe.nodeType===3&&(v+=pe.nodeValue.length),(ue=pe.firstChild)!==null;)ae=pe,pe=ue;for(;;){if(pe===t)break t;if(ae===a&&++ne===f&&(S=v),ae===h&&++de===o&&(M=v),(ue=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=ue}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:t,selectionRange:a},Ec=!1,gn=s;gn!==null;)if(s=gn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,gn=t;else for(;gn!==null;){switch(s=gn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Me=Sa(a.type,f);t=o.getSnapshotBeforeUpdate(Me,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(He){pt(a,a.return,He)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,gn=t;break}gn=s.return}}function mg(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:pr(t,a),o&4&&wl(5,a);break;case 1:if(pr(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){pt(a,a.return,v)}else{var f=Sa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){pt(a,a.return,v)}}o&64&&og(a),o&512&&Sl(a,a.return);break;case 3:if(pr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Xm(t,s)}catch(v){pt(a,a.return,v)}}break;case 27:s===null&&o&4&&fg(a);case 26:case 5:pr(t,a),s===null&&o&4&&ug(a),o&512&&Sl(a,a.return);break;case 12:pr(t,a);break;case 31:pr(t,a),o&4&&xg(t,a);break;case 13:pr(t,a),o&4&&bg(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=c1.bind(null,a),T1(t,a))));break;case 22:if(o=a.memoizedState!==null||hr,!o){s=s!==null&&s.memoizedState!==null||tn,f=hr;var h=tn;hr=o,(tn=s)&&!h?gr(t,a,(a.subtreeFlags&8772)!==0):pr(t,a),hr=f,tn=h}break;case 30:break;default:pr(t,a)}}function pg(t){var s=t.alternate;s!==null&&(t.alternate=null,pg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Er(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Fn=!1;function mr(t,s,a){for(a=a.child;a!==null;)gg(t,s,a),a=a.sibling}function gg(t,s,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:tn||Qs(a,s),mr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||Qs(a,s);var o=Rt,f=Fn;Vr(a.type)&&(Rt=a.stateNode,Fn=!1),mr(t,s,a),Dl(a.stateNode),Rt=o,Fn=f;break;case 5:tn||Qs(a,s);case 6:if(o=Rt,f=Fn,Rt=null,mr(t,s,a),Rt=o,Fn=f,Rt!==null)if(Fn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(a.stateNode)}catch(h){pt(a,s,h)}else try{Rt.removeChild(a.stateNode)}catch(h){pt(a,s,h)}break;case 18:Rt!==null&&(Fn?(t=Rt,o0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ni(t)):o0(Rt,a.stateNode));break;case 4:o=Rt,f=Fn,Rt=a.stateNode.containerInfo,Fn=!0,mr(t,s,a),Rt=o,Fn=f;break;case 0:case 11:case 14:case 15:Ur(2,a,s),tn||Ur(4,a,s),mr(t,s,a);break;case 1:tn||(Qs(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&cg(a,s,o)),mr(t,s,a);break;case 21:mr(t,s,a);break;case 22:tn=(o=tn)||a.memoizedState!==null,mr(t,s,a),tn=o;break;default:mr(t,s,a)}}function xg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ni(t)}catch(a){pt(s,s.return,a)}}}function bg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ni(t)}catch(a){pt(s,s.return,a)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new hg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new hg),s;default:throw Error(i(435,t.tag))}}function rc(t,s){var a=t1(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var f=u1.bind(null,t,o);o.then(f,f)}})}function Zn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Vr(S.type)){Rt=S.stateNode,Fn=!1;break e}break;case 5:Rt=S.stateNode,Fn=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,Fn=!0;break e}S=S.return}if(Rt===null)throw Error(i(160));gg(h,v,f),Rt=null,Fn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vg(s,t),s=s.sibling}var Os=null;function vg(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zn(s,t),Vn(t),o&4&&(Ur(3,t,t.return),wl(3,t),Ur(5,t,t.return));break;case 1:Zn(s,t),Vn(t),o&512&&(tn||a===null||Qs(a,a.return)),o&64&&hr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Os;if(Zn(s,t),Vn(t),o&512&&(tn||a===null||Qs(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Ze]||h[it]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),En(h,o,a),h[it]=t,Et(h),o=h;break e;case"link":var v=v0("link","href",f).get(o+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}h=f.createElement(o),En(h,o,a),f.head.appendChild(h);break;case"meta":if(v=v0("meta","content",f).get(o+(a.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}h=f.createElement(o),En(h,o,a),f.head.appendChild(h);break;default:throw Error(i(468,o))}h[it]=t,Et(h),o=h}t.stateNode=o}else y0(f,t.type,t.stateNode);else t.stateNode=b0(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?y0(f,t.type,t.stateNode):b0(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Zn(s,t),Vn(t),o&512&&(tn||a===null||Qs(a,a.return)),a!==null&&o&4&&Bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Zn(s,t),Vn(t),o&512&&(tn||a===null||Qs(a,a.return)),t.flags&32){f=t.stateNode;try{nr(f,"")}catch(Me){pt(t,t.return,Me)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Bd(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Fd=!0);break;case 6:if(Zn(s,t),Vn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Me){pt(t,t.return,Me)}}break;case 3:if(yc=null,f=Os,Os=bc(s.containerInfo),Zn(s,t),Os=f,Vn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ni(s.containerInfo)}catch(Me){pt(t,t.return,Me)}Fd&&(Fd=!1,yg(t));break;case 4:o=Os,Os=bc(t.stateNode.containerInfo),Zn(s,t),Vn(t),Os=o;break;case 12:Zn(s,t),Vn(t);break;case 31:Zn(s,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:Zn(s,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=we()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,ne=hr,de=tn;if(hr=ne||f,tn=de||M,Zn(s,t),tn=de,hr=ne,Vn(t),o&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||hr||tn||ja(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(h=M.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=M.stateNode;var pe=M.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;S.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Me){pt(M,M.return,Me)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Me){pt(M,M.return,Me)}}}else if(s.tag===18){if(a===null){M=s;try{var ue=M.stateNode;f?c0(ue,!0):c0(M.stateNode,!1)}catch(Me){pt(M,M.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(t,a))));break;case 19:Zn(s,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:Zn(s,t),Vn(t)}}function Vn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(dg(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,h=qd(t);sc(t,h,f);break;case 5:var v=a.stateNode;a.flags&32&&(nr(v,""),a.flags&=-33);var S=qd(t);sc(t,S,v);break;case 3:case 4:var M=a.stateNode.containerInfo,ne=qd(t);Hd(t,ne,M);break;default:throw Error(i(161))}}catch(de){pt(t,t.return,de)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;yg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function pr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mg(t,s.alternate,s),s=s.sibling}function ja(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ur(4,s,s.return),ja(s);break;case 1:Qs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&cg(s,s.return,a),ja(s);break;case 27:Dl(s.stateNode);case 26:case 5:Qs(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}t=t.sibling}}function gr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,f=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:gr(f,h,a),wl(4,h);break;case 1:if(gr(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ne){pt(o,o.return,ne)}if(o=h,f=o.updateQueue,f!==null){var S=o.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Ym(M[f],S)}catch(ne){pt(o,o.return,ne)}}a&&v&64&&og(h),Sl(h,h.return);break;case 27:fg(h);case 26:case 5:gr(f,h,a),a&&o===null&&v&4&&ug(h),Sl(h,h.return);break;case 12:gr(f,h,a);break;case 31:gr(f,h,a),a&&v&4&&xg(f,h);break;case 13:gr(f,h,a),a&&v&4&&bg(f,h);break;case 22:h.memoizedState===null&&gr(f,h,a),Sl(h,h.return);break;case 30:break;default:gr(f,h,a)}s=s.sibling}}function Zd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Vd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ol(t))}function Ls(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wg(t,s,a,o),s=s.sibling}function wg(t,s,a,o){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ls(t,s,a,o),f&2048&&wl(9,s);break;case 1:Ls(t,s,a,o);break;case 3:Ls(t,s,a,o),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ol(t)));break;case 12:if(f&2048){Ls(t,s,a,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){pt(s,s.return,M)}}else Ls(t,s,a,o);break;case 31:Ls(t,s,a,o);break;case 13:Ls(t,s,a,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?Ls(t,s,a,o):jl(t,s):h._visibility&2?Ls(t,s,a,o):(h._visibility|=2,pi(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(v,s);break;case 24:Ls(t,s,a,o),f&2048&&Vd(s.alternate,s);break;default:Ls(t,s,a,o)}}function pi(t,s,a,o,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=a,M=o,ne=v.flags;switch(v.tag){case 0:case 11:case 15:pi(h,v,S,M,f),wl(8,v);break;case 23:break;case 22:var de=v.stateNode;v.memoizedState!==null?de._visibility&2?pi(h,v,S,M,f):jl(h,v):(de._visibility|=2,pi(h,v,S,M,f)),f&&ne&2048&&Zd(v.alternate,v);break;case 24:pi(h,v,S,M,f),f&&ne&2048&&Vd(v.alternate,v);break;default:pi(h,v,S,M,f)}s=s.sibling}}function jl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,f=o.flags;switch(o.tag){case 22:jl(a,o),f&2048&&Zd(o.alternate,o);break;case 24:jl(a,o),f&2048&&Vd(o.alternate,o);break;default:jl(a,o)}s=s.sibling}}var El=8192;function gi(t,s,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Sg(t,s,a),t=t.sibling}function Sg(t,s,a){switch(t.tag){case 26:gi(t,s,a),t.flags&El&&t.memoizedState!==null&&H1(a,Os,t.memoizedState,t.memoizedProps);break;case 5:gi(t,s,a);break;case 3:case 4:var o=Os;Os=bc(t.stateNode.containerInfo),gi(t,s,a),Os=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,gi(t,s,a),El=o):gi(t,s,a));break;default:gi(t,s,a)}}function jg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function _l(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];gn=o,_g(o,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ac(t)):_l(t);break;default:_l(t)}}function ac(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];gn=o,_g(o,t)}jg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ur(8,s,s.return),ac(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ac(s));break;default:ac(s)}t=t.sibling}}function _g(t,s){for(;gn!==null;){var a=gn;switch(a.tag){case 0:case 11:case 15:Ur(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ol(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,gn=o;else e:for(a=t;gn!==null;){o=gn;var f=o.sibling,h=o.return;if(pg(o),o===a){gn=null;break e}if(f!==null){f.return=h,gn=f;break e}gn=h}}}var n1={getCacheForType:function(t){var s=Sn(Xt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Sn(Xt).controller.signal}},s1=typeof WeakMap=="function"?WeakMap:Map,ut=0,St=null,et=null,st=0,mt=0,as=null,$r=!1,xi=!1,Qd=!1,xr=0,qt=0,Br=0,Ea=0,Id=0,is=0,bi=0,Nl=null,Qn=null,Pd=!1,ic=0,Ng=0,lc=1/0,oc=null,qr=null,on=0,Hr=null,vi=null,br=0,Wd=0,Gd=null,Cg=null,Cl=0,Kd=null;function ls(){return(ut&2)!==0&&st!==0?st&-st:R.T!==null?nf():Dn()}function kg(){if(is===0)if((st&536870912)===0||at){var t=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),is=t}else is=536870912;return t=ss.current,t!==null&&(t.flags|=32),is}function In(t,s,a){(t===St&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(yi(t,0),Fr(t,st,is,!1)),Bn(t,a),((ut&2)===0||t!==St)&&(t===St&&((ut&2)===0&&(Ea|=a),qt===4&&Fr(t,st,is,!1)),Is(t))}function Tg(t,s,a){if((ut&6)!==0)throw Error(i(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Gt(t,s),f=o?i1(t,s):Xd(t,s,!0),h=o;do{if(f===0){xi&&!o&&Fr(t,s,0,!1);break}else{if(a=t.current.alternate,h&&!r1(a)){f=Xd(t,s,!1),h=!1;continue}if(f===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;f=Nl;var M=S.current.memoizedState.isDehydrated;if(M&&(yi(S,v).flags|=256),v=Xd(S,v,!1),v!==2){if(Qd&&!M){S.errorRecoveryDisabledLanes|=h,Ea|=h,f=4;break e}h=Qn,Qn=f,h!==null&&(Qn===null?Qn=h:Qn.push.apply(Qn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){yi(t,0),Fr(t,s,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fr(o,s,is,!$r);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=ic+300-we(),10<f)){if(Fr(o,s,is,!$r),Ft(o,0,!0)!==0)break e;br=s,o.timeoutHandle=i0(Ag.bind(null,o,a,Qn,oc,Pd,s,is,Ea,bi,$r,h,"Throttled",-0,0),f);break e}Ag(o,a,Qn,oc,Pd,s,is,Ea,bi,$r,h,null,-0,0)}}break}while(!0);Is(t)}function Ag(t,s,a,o,f,h,v,S,M,ne,de,pe,ae,ue){if(t.timeoutHandle=-1,pe=s.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},Sg(s,h,pe);var Me=(h&62914560)===h?ic-we():(h&4194048)===h?Ng-we():0;if(Me=F1(pe,Me),Me!==null){br=h,t.cancelPendingCommit=Me($g.bind(null,t,s,h,a,o,f,v,S,M,de,pe,null,ae,ue)),Fr(t,h,v,!ne);return}}$g(t,s,h,a,o,f,v,S,M)}function r1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!ts(h(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fr(t,s,a,o){s&=~Id,s&=~Ea,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var f=s;0<f;){var h=31-Ct(f),v=1<<h;o[h]=-1,f&=~v}a!==0&&qn(t,a,s)}function cc(){return(ut&6)===0?(kl(0),!1):!0}function Yd(){if(et!==null){if(mt===0)var t=et.return;else t=et,lr=pa=null,hd(t),ui=null,ul=0,t=et;for(;t!==null;)lg(t.alternate,t),t=t.return;et=null}}function yi(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,E1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),br=0,Yd(),St=t,et=a=ar(t.current,null),st=s,mt=0,as=null,$r=!1,xi=Gt(t,s),Qd=!1,bi=is=Id=Ea=Br=qt=0,Qn=Nl=null,Pd=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var f=31-Ct(o),h=1<<f;s|=t[f],o&=~h}return xr=s,Ao(),a}function Dg(t,s){Ye=null,R.H=bl,s===ci||s===$o?(s=Pm(),mt=3):s===td?(s=Pm(),mt=4):mt=s===Td?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,as=s,et===null&&(qt=1,Xo(t,ms(s,t.current)))}function Rg(){var t=ss.current;return t===null?!0:(st&4194048)===st?bs===null:(st&62914560)===st||(st&536870912)!==0?t===bs:!1}function Mg(){var t=R.H;return R.H=bl,t===null?bl:t}function zg(){var t=R.A;return R.A=n1,t}function uc(){qt=4,$r||(st&4194048)!==st&&ss.current!==null||(xi=!0),(Br&134217727)===0&&(Ea&134217727)===0||St===null||Fr(St,st,is,!1)}function Xd(t,s,a){var o=ut;ut|=2;var f=Mg(),h=zg();(St!==t||st!==s)&&(oc=null,yi(t,s)),s=!1;var v=qt;e:do try{if(mt!==0&&et!==null){var S=et,M=as;switch(mt){case 8:Yd(),v=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(s=!0);var ne=mt;if(mt=0,as=null,wi(t,S,M,ne),a&&xi){v=0;break e}break;default:ne=mt,mt=0,as=null,wi(t,S,M,ne)}}a1(),v=qt;break}catch(de){Dg(t,de)}while(!0);return s&&t.shellSuspendCounter++,lr=pa=null,ut=o,R.H=f,R.A=h,et===null&&(St=null,st=0,Ao()),v}function a1(){for(;et!==null;)Og(et)}function i1(t,s){var a=ut;ut|=2;var o=Mg(),f=zg();St!==t||st!==s?(oc=null,lc=we()+500,yi(t,s)):xi=Gt(t,s);e:do try{if(mt!==0&&et!==null){s=et;var h=as;t:switch(mt){case 1:mt=0,as=null,wi(t,s,h,1);break;case 2:case 9:if(Qm(h)){mt=0,as=null,Lg(s);break}s=function(){mt!==2&&mt!==9||St!==t||(mt=7),Is(t)},h.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Qm(h)?(mt=0,as=null,Lg(s)):(mt=0,as=null,wi(t,s,h,7));break;case 5:var v=null;switch(et.tag){case 26:v=et.memoizedState;case 5:case 27:var S=et;if(v?w0(v):S.stateNode.complete){mt=0,as=null;var M=S.sibling;if(M!==null)et=M;else{var ne=S.return;ne!==null?(et=ne,dc(ne)):et=null}break t}}mt=0,as=null,wi(t,s,h,5);break;case 6:mt=0,as=null,wi(t,s,h,6);break;case 8:Yd(),qt=6;break e;default:throw Error(i(462))}}l1();break}catch(de){Dg(t,de)}while(!0);return lr=pa=null,R.H=o,R.A=f,ut=a,et!==null?0:(St=null,st=0,Ao(),qt)}function l1(){for(;et!==null&&!oe();)Og(et)}function Og(t){var s=ag(t.alternate,t,xr);t.memoizedProps=t.pendingProps,s===null?dc(t):et=s}function Lg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Jp(a,s,s.pendingProps,s.type,void 0,st);break;case 11:s=Jp(a,s,s.pendingProps,s.type.render,s.ref,st);break;case 5:hd(s);default:lg(a,s),s=et=zm(s,xr),s=ag(a,s,xr)}t.memoizedProps=t.pendingProps,s===null?dc(t):et=s}function wi(t,s,a,o){lr=pa=null,hd(s),ui=null,ul=0;var f=s.return;try{if(Gw(t,f,s,a,st)){qt=1,Xo(t,ms(a,t.current)),et=null;return}}catch(h){if(f!==null)throw et=f,h;qt=1,Xo(t,ms(a,t.current)),et=null;return}s.flags&32768?(at||o===1?t=!0:xi||(st&536870912)!==0?t=!1:($r=t=!0,(o===2||o===9||o===3||o===6)&&(o=ss.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ug(s,t)):dc(s)}function dc(t){var s=t;do{if((s.flags&32768)!==0){Ug(s,$r);return}t=s.return;var a=Xw(s.alternate,s,xr);if(a!==null){et=a;return}if(s=s.sibling,s!==null){et=s;return}et=s=t}while(s!==null);qt===0&&(qt=5)}function Ug(t,s){do{var a=Jw(t.alternate,t);if(a!==null){a.flags&=32767,et=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){et=t;return}et=t=a}while(t!==null);qt=6,et=null}function $g(t,s,a,o,f,h,v,S,M){t.cancelPendingCommit=null;do fc();while(on!==0);if((ut&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=qu,Ot(t,a,h,v,S,M),t===St&&(et=St=null,st=0),vi=s,Hr=t,br=a,Wd=h,Gd=f,Cg=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,d1(Ke,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,f=Y.p,Y.p=2,v=ut,ut|=4;try{e1(t,s,a)}finally{ut=v,Y.p=f,R.T=o}}on=1,Bg(),qg(),Hg()}}function Bg(){if(on===1){on=0;var t=Hr,s=vi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var o=Y.p;Y.p=2;var f=ut;ut|=4;try{vg(s,t);var h=df,v=_m(t.containerInfo),S=h.focusedElem,M=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Em(S.ownerDocument.documentElement,S)){if(M!==null&&Ou(S)){var ne=M.start,de=M.end;if(de===void 0&&(de=ne),"selectionStart"in S)S.selectionStart=ne,S.selectionEnd=Math.min(de,S.value.length);else{var pe=S.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var ue=ae.getSelection(),Me=S.textContent.length,He=Math.min(M.start,Me),vt=M.end===void 0?He:Math.min(M.end,Me);!ue.extend&&He>vt&&(v=vt,vt=He,He=v);var I=jm(S,He),B=jm(S,vt);if(I&&B&&(ue.rangeCount!==1||ue.anchorNode!==I.node||ue.anchorOffset!==I.offset||ue.focusNode!==B.node||ue.focusOffset!==B.offset)){var te=pe.createRange();te.setStart(I.node,I.offset),ue.removeAllRanges(),He>vt?(ue.addRange(te),ue.extend(B.node,B.offset)):(te.setEnd(B.node,B.offset),ue.addRange(te))}}}}for(pe=[],ue=S;ue=ue.parentNode;)ue.nodeType===1&&pe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<pe.length;S++){var fe=pe[S];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Ec=!!uf,df=uf=null}finally{ut=f,Y.p=o,R.T=a}}t.current=s,on=2}}function qg(){if(on===2){on=0;var t=Hr,s=vi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var o=Y.p;Y.p=2;var f=ut;ut|=4;try{mg(t,s.alternate,s)}finally{ut=f,Y.p=o,R.T=a}}on=3}}function Hg(){if(on===4||on===3){on=0,Ne();var t=Hr,s=vi,a=br,o=Cg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,vi=Hr=null,Fg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qr=null),Yn(a),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=R.T,f=Y.p,Y.p=2,R.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{R.T=s,Y.p=f}}(br&3)!==0&&fc(),Is(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Kd?Cl++:(Cl=0,Kd=t):Cl=0,kl(0)}}function Fg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ol(s)))}function fc(){return Bg(),qg(),Hg(),Zg()}function Zg(){if(on!==5)return!1;var t=Hr,s=Wd;Wd=0;var a=Yn(br),o=R.T,f=Y.p;try{Y.p=32>a?32:a,R.T=null,a=Gd,Gd=null;var h=Hr,v=br;if(on=0,vi=Hr=null,br=0,(ut&6)!==0)throw Error(i(331));var S=ut;if(ut|=4,Eg(h.current),wg(h,h.current,v,a),ut=S,kl(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Dt,h)}catch{}return!0}finally{Y.p=f,R.T=o,Fg(t,s)}}function Vg(t,s,a){s=ms(a,s),s=kd(t.stateNode,s,2),t=zr(t,s,2),t!==null&&(Bn(t,2),Is(t))}function pt(t,s,a){if(t.tag===3)Vg(t,t,a);else for(;s!==null;){if(s.tag===3){Vg(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){t=ms(a,t),a=Qp(2),o=zr(s,a,2),o!==null&&(Ip(a,o,s,t),Bn(o,2),Is(o));break}}s=s.return}}function Jd(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new s1;var f=new Set;o.set(s,f)}else f=o.get(s),f===void 0&&(f=new Set,o.set(s,f));f.has(a)||(Qd=!0,f.add(a),t=o1.bind(null,t,s,a),s.then(t,t))}function o1(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,St===t&&(st&a)===a&&(qt===4||qt===3&&(st&62914560)===st&&300>we()-ic?(ut&2)===0&&yi(t,0):Id|=a,bi===st&&(bi=0)),Is(t)}function Qg(t,s){s===0&&(s=hn()),t=fa(t,s),t!==null&&(Bn(t,s),Is(t))}function c1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Qg(t,a)}function u1(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),Qg(t,a)}function d1(t,s){return T(t,s)}var hc=null,Si=null,ef=!1,mc=!1,tf=!1,Zr=0;function Is(t){t!==Si&&t.next===null&&(Si===null?hc=Si=t:Si=Si.next=t),mc=!0,ef||(ef=!0,h1())}function kl(t,s){if(!tf&&mc){tf=!0;do for(var a=!1,o=hc;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-Ct(42|t)+1)-1,h&=f&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Gg(o,h))}else h=st,h=Ft(o,o===St?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Gt(o,h)||(a=!0,Gg(o,h));o=o.next}while(a);tf=!1}}function f1(){Ig()}function Ig(){mc=ef=!1;var t=0;Zr!==0&&j1()&&(t=Zr);for(var s=we(),a=null,o=hc;o!==null;){var f=o.next,h=Pg(o,s);h===0?(o.next=null,a===null?hc=f:a.next=f,f===null&&(Si=a)):(a=o,(t!==0||(h&3)!==0)&&(mc=!0)),o=f}on!==0&&on!==5||kl(t),Zr!==0&&(Zr=0)}function Pg(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Ct(h),S=1<<v,M=f[v];M===-1?((S&a)===0||(S&o)!==0)&&(f[v]=Zt(S,s)):M<=s&&(t.expiredLanes|=S),h&=~S}if(s=St,a=st,a=Ft(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&K(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gt(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&K(o),Yn(a)){case 2:case 8:a=We;break;case 32:a=Ke;break;case 268435456:a=_e;break;default:a=Ke}return o=Wg.bind(null,t),a=T(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&K(o),t.callbackPriority=2,t.callbackNode=null,2}function Wg(t,s){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var o=st;return o=Ft(t,t===St?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Tg(t,o,s),Pg(t,we()),t.callbackNode!=null&&t.callbackNode===a?Wg.bind(null,t):null)}function Gg(t,s){if(fc())return null;Tg(t,s,!0)}function h1(){_1(function(){(ut&6)!==0?T(De,f1):Ig()})}function nf(){if(Zr===0){var t=li;t===0&&(t=er,er<<=1,(er&261888)===0&&(er=256)),Zr=t}return Zr}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sr(""+t)}function Yg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,s,a,o,f){if(s==="submit"&&a&&a.stateNode===f){var h=Kg((f[yn]||null).action),v=o.submitter;v&&(s=(s=v[yn]||null)?Kg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new Ka("action","action",null,o,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zr!==0){var M=v?Yg(f,v):new FormData(f);Sd(a,{pending:!0,data:M,method:f.method,action:h},null,M)}}else typeof h=="function"&&(S.preventDefault(),M=v?Yg(f,v):new FormData(f),Sd(a,{pending:!0,data:M,method:f.method,action:h},h,M))},currentTarget:f}]})}}for(var sf=0;sf<Bu.length;sf++){var rf=Bu[sf],p1=rf.toLowerCase(),g1=rf[0].toUpperCase()+rf.slice(1);zs(p1,"on"+g1)}zs(km,"onAnimationEnd"),zs(Tm,"onAnimationIteration"),zs(Am,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(Rw,"onTransitionRun"),zs(Mw,"onTransitionStart"),zs(zw,"onTransitionCancel"),zs(Dm,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Xg(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],M=S.instance,ne=S.currentTarget;if(S=S.listener,M!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=ne;try{h(f)}catch(de){To(de)}f.currentTarget=null,h=M}else for(v=0;v<o.length;v++){if(S=o[v],M=S.instance,ne=S.currentTarget,S=S.listener,M!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=ne;try{h(f)}catch(de){To(de)}f.currentTarget=null,h=M}}}}function tt(t,s){var a=s[Hs];a===void 0&&(a=s[Hs]=new Set);var o=t+"__bubble";a.has(o)||(Jg(s,t,2,!1),a.add(o))}function af(t,s,a){var o=0;s&&(o|=4),Jg(a,t,o,s)}var pc="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[pc]){t[pc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(x1.has(a)||af(a,!1,t),af(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[pc]||(s[pc]=!0,af("selectionchange",!1,s))}}function Jg(t,s,a,o){switch(k0(s)){case 2:var f=Q1;break;case 8:f=I1;break;default:f=Sf}a=f.bind(null,s,a,t),f=void 0,!Wi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function of(t,s,a,o,f){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=o.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=tr(S),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){o=h=v;continue e}S=S.parentNode}}o=o.return}Ia(function(){var ne=h,de=Pi(a),pe=[];e:{var ae=Rm.get(t);if(ae!==void 0){var ue=Ka,Me=t;switch(t){case"keypress":if(Wa(a)===0)break e;case"keydown":case"keyup":ue=el;break;case"focusin":Me="focus",ue=Yi;break;case"focusout":Me="blur",ue=Yi;break;case"beforeblur":case"afterblur":ue=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=hw;break;case km:case Tm:case Am:ue=Xi;break;case Dm:ue=pw;break;case"scroll":case"scrollend":ue=_u;break;case"wheel":ue=xw;break;case"copy":case"cut":case"paste":ue=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Du;break;case"toggle":case"beforetoggle":ue=vw}var He=(s&4)!==0,vt=!He&&(t==="scroll"||t==="scrollend"),I=He?ae!==null?ae+"Capture":null:ae;He=[];for(var B=ne,te;B!==null;){var fe=B;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||I===null||(fe=fs(B,I),fe!=null&&He.push(Al(B,fe,te))),vt)break;B=B.return}0<He.length&&(ae=new ue(ae,Me,null,a,de),pe.push({event:ae,listeners:He}))}}if((s&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",ae&&a!==Ii&&(Me=a.relatedTarget||a.fromElement)&&(tr(Me)||Me[Rn]))break e;if((ue||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,ue?(Me=a.relatedTarget||a.toElement,ue=ne,Me=Me?tr(Me):null,Me!==null&&(vt=u(Me),He=Me.tag,Me!==vt||He!==5&&He!==27&&He!==6)&&(Me=null)):(ue=null,Me=ne),ue!==Me)){if(He=Co,fe="onMouseLeave",I="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(He=Du,fe="onPointerLeave",I="onPointerEnter",B="pointer"),vt=ue==null?ae:sa(ue),te=Me==null?ae:sa(Me),ae=new He(fe,B+"leave",ue,a,de),ae.target=vt,ae.relatedTarget=te,fe=null,tr(de)===ne&&(He=new He(I,B+"enter",Me,a,de),He.target=te,He.relatedTarget=vt,fe=He),vt=fe,ue&&Me)t:{for(He=b1,I=ue,B=Me,te=0,fe=I;fe;fe=He(fe))te++;fe=0;for(var Be=B;Be;Be=He(Be))fe++;for(;0<te-fe;)I=He(I),te--;for(;0<fe-te;)B=He(B),fe--;for(;te--;){if(I===B||B!==null&&I===B.alternate){He=I;break t}I=He(I),B=He(B)}He=null}else He=null;ue!==null&&e0(pe,ae,ue,He,!1),Me!==null&&vt!==null&&e0(pe,vt,Me,He,!0)}}e:{if(ae=ne?sa(ne):window,ue=ae.nodeName&&ae.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ae.type==="file")var ot=xm;else if(pm(ae))if(bm)ot=Tw;else{ot=Cw;var Ue=Nw}else ue=ae.nodeName,!ue||ue.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Qi(ne.elementType)&&(ot=xm):ot=kw;if(ot&&(ot=ot(t,ne))){gm(pe,ot,a,de);break e}Ue&&Ue(t,ae,ne),t==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&yo(ae,"number",ae.value)}switch(Ue=ne?sa(ne):window,t){case"focusin":(pm(Ue)||Ue.contentEditable==="true")&&(Ja=Ue,Lu=ne,al=null);break;case"focusout":al=Lu=Ja=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Nm(pe,a,de);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Nm(pe,a,de)}var Xe;if(Ru)e:{switch(t){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Xa?hm(t,a)&&(rt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(rt="onCompositionStart");rt&&(um&&a.locale!=="ko"&&(Xa||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Xa&&(Xe=_o()):(Fs=de,es="value"in Fs?Fs.value:Fs.textContent,Xa=!0)),Ue=gc(ne,rt),0<Ue.length&&(rt=new Ae(rt,t,null,a,de),pe.push({event:rt,listeners:Ue}),Xe?rt.data=Xe:(Xe=mm(a),Xe!==null&&(rt.data=Xe)))),(Xe=ww?Sw(t,a):jw(t,a))&&(rt=gc(ne,"onBeforeInput"),0<rt.length&&(Ue=new Ae("onBeforeInput","beforeinput",null,a,de),pe.push({event:Ue,listeners:rt}),Ue.data=Xe)),m1(pe,t,ne,a,de)}Xg(pe,s)})}function Al(t,s,a){return{instance:t,listener:s,currentTarget:a}}function gc(t,s){for(var a=s+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=fs(t,a),f!=null&&o.unshift(Al(t,f,h)),f=fs(t,s),f!=null&&o.push(Al(t,f,h))),t.tag===3)return o;t=t.return}return[]}function b1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e0(t,s,a,o,f){for(var h=s._reactName,v=[];a!==null&&a!==o;){var S=a,M=S.alternate,ne=S.stateNode;if(S=S.tag,M!==null&&M===o)break;S!==5&&S!==26&&S!==27||ne===null||(M=ne,f?(ne=fs(a,h),ne!=null&&v.unshift(Al(a,ne,M))):f||(ne=fs(a,h),ne!=null&&v.push(Al(a,ne,M)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var v1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function t0(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(y1,"")}function n0(t,s){return s=t0(s),t0(t)===s}function bt(t,s,a,o,f,h){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||nr(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&nr(t,""+o);break;case"className":$t(t,"class",o);break;case"tabIndex":$t(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$t(t,a,o);break;case"style":aa(t,o,h);break;case"data":if(s!=="object"){$t(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sr(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&bt(t,s,"name",f.name,f,null),bt(t,s,"formEncType",f.formEncType,f,null),bt(t,s,"formMethod",f.formMethod,f,null),bt(t,s,"formTarget",f.formTarget,f,null)):(bt(t,s,"encType",f.encType,f,null),bt(t,s,"method",f.method,f,null),bt(t,s,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sr(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ds);break;case"onScroll":o!=null&&tt("scroll",t);break;case"onScrollEnd":o!=null&&tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=sr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":tt("beforetoggle",t),tt("toggle",t),ks(t,"popover",o);break;case"xlinkActuate":Ts(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ts(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ts(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ts(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ts(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ts(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ks(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ks(t,a,o))}}function cf(t,s,a,o,f,h){switch(a){case"style":aa(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?nr(t,o):(typeof o=="number"||typeof o=="bigint")&&nr(t,""+o);break;case"onScroll":o!=null&&tt("scroll",t);break;case"onScrollEnd":o!=null&&tt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),h=t[yn]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ks(t,a,o)}}}function En(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",t),tt("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(t,s,h,v,a,null)}}f&&bt(t,s,"srcSet",a.srcSet,a,null),o&&bt(t,s,"src",a.src,a,null);return;case"input":tt("invalid",t);var S=h=v=f=null,M=null,ne=null;for(o in a)if(a.hasOwnProperty(o)){var de=a[o];if(de!=null)switch(o){case"name":f=de;break;case"type":v=de;break;case"checked":M=de;break;case"defaultChecked":ne=de;break;case"value":h=de;break;case"defaultValue":S=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:bt(t,s,o,de,a,null)}}Xn(t,h,S,M,ne,v,f,!1);return;case"select":tt("invalid",t),o=v=h=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:bt(t,s,f,S,a,null)}s=h,a=v,t.multiple=!!o,s!=null?ra(t,!!o,s,!1):a!=null&&ra(t,!!o,a,!0);return;case"textarea":tt("invalid",t),h=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:bt(t,s,v,S,a,null)}Va(t,o,f,h);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(o=a[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:bt(t,s,M,o,a,null)}return;case"dialog":tt("beforetoggle",t),tt("toggle",t),tt("cancel",t),tt("close",t);break;case"iframe":case"object":tt("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)tt(Tl[o],t);break;case"image":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"embed":case"source":case"link":tt("error",t),tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in a)if(a.hasOwnProperty(ne)&&(o=a[ne],o!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(t,s,ne,o,a,null)}return;default:if(Qi(s)){for(de in a)a.hasOwnProperty(de)&&(o=a[de],o!==void 0&&cf(t,s,de,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&bt(t,s,S,o,a,null))}function w1(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,S=null,M=null,ne=null,de=null;for(ue in a){var pe=a[ue];if(a.hasOwnProperty(ue)&&pe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":M=pe;default:o.hasOwnProperty(ue)||bt(t,s,ue,null,o,pe)}}for(var ae in o){var ue=o[ae];if(pe=a[ae],o.hasOwnProperty(ae)&&(ue!=null||pe!=null))switch(ae){case"type":h=ue;break;case"name":f=ue;break;case"checked":ne=ue;break;case"defaultChecked":de=ue;break;case"value":v=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:ue!==pe&&bt(t,s,ae,ue,o,pe)}}Nr(t,v,S,M,ne,de,h,f);return;case"select":ue=v=S=ae=null;for(h in a)if(M=a[h],a.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":ue=M;default:o.hasOwnProperty(h)||bt(t,s,h,null,o,M)}for(f in o)if(h=o[f],M=a[f],o.hasOwnProperty(f)&&(h!=null||M!=null))switch(f){case"value":ae=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==M&&bt(t,s,f,h,o,M)}s=S,a=v,o=ue,ae!=null?ra(t,!!a,ae,!1):!!o!=!!a&&(s!=null?ra(t,!!a,s,!0):ra(t,!!a,a?[]:"",!1));return;case"textarea":ue=ae=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:bt(t,s,S,null,o,f)}for(v in o)if(f=o[v],h=a[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":ae=f;break;case"defaultValue":ue=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==h&&bt(t,s,v,f,o,h)}wo(t,ae,ue);return;case"option":for(var Me in a)if(ae=a[Me],a.hasOwnProperty(Me)&&ae!=null&&!o.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:bt(t,s,Me,null,o,ae)}for(M in o)if(ae=o[M],ue=a[M],o.hasOwnProperty(M)&&ae!==ue&&(ae!=null||ue!=null))switch(M){case"selected":t.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:bt(t,s,M,ae,o,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in a)ae=a[He],a.hasOwnProperty(He)&&ae!=null&&!o.hasOwnProperty(He)&&bt(t,s,He,null,o,ae);for(ne in o)if(ae=o[ne],ue=a[ne],o.hasOwnProperty(ne)&&ae!==ue&&(ae!=null||ue!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:bt(t,s,ne,ae,o,ue)}return;default:if(Qi(s)){for(var vt in a)ae=a[vt],a.hasOwnProperty(vt)&&ae!==void 0&&!o.hasOwnProperty(vt)&&cf(t,s,vt,void 0,o,ae);for(de in o)ae=o[de],ue=a[de],!o.hasOwnProperty(de)||ae===ue||ae===void 0&&ue===void 0||cf(t,s,de,ae,o,ue);return}}for(var I in a)ae=a[I],a.hasOwnProperty(I)&&ae!=null&&!o.hasOwnProperty(I)&&bt(t,s,I,null,o,ae);for(pe in o)ae=o[pe],ue=a[pe],!o.hasOwnProperty(pe)||ae===ue||ae==null&&ue==null||bt(t,s,pe,ae,o,ue)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,v=f.initiatorType,S=f.duration;if(h&&S&&s0(v)){for(v=0,S=f.responseEnd,o+=1;o<a.length;o++){var M=a[o],ne=M.startTime;if(ne>S)break;var de=M.transferSize,pe=M.initiatorType;de&&s0(pe)&&(M=M.responseEnd,v+=de*(M<S?1:(S-ne)/(M-ne)))}if(--o,s+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,df=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function r0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function ff(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hf=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var i0=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(t){return l0.resolve(null).then(t).catch(N1)}:i0;function N1(t){setTimeout(function(){throw t})}function Vr(t){return t==="head"}function o0(t,s){var a=s,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),Ni(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var h=a.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[Ze]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Dl(t.ownerDocument.body);a=f}while(a);Ni(s)}function c0(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function mf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function C1(t,s,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ze])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function k1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=vs(t.nextSibling),t===null))return null;return t}function u0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vs(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$?"||t.data==="$~"}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function T1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var xf=null;function d0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return vs(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function f0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function h0(t,s,a){switch(s=xc(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Dl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Er(t)}var ys=new Map,m0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vr=Y.d;Y.d={f:A1,r:D1,D:R1,C:M1,L:z1,m:O1,X:U1,S:L1,M:$1};function A1(){var t=vr.f(),s=cc();return t||s}function D1(t){var s=_r(t);s!==null&&s.tag===5&&s.type==="form"?Dp(s):vr.r(t)}var ji=typeof document>"u"?null:document;function p0(t,s,a){var o=ji;if(o&&typeof s=="string"&&s){var f=Mn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),m0.has(f)||(m0.add(f),t={rel:t,crossOrigin:a,href:s},o.querySelector(f)===null&&(s=o.createElement("link"),En(s,"link",t),Et(s),o.head.appendChild(s)))}}function R1(t){vr.D(t),p0("dns-prefetch",t,null)}function M1(t,s){vr.C(t,s),p0("preconnect",t,s)}function z1(t,s,a){vr.L(t,s,a);var o=ji;if(o&&t&&s){var f='link[rel="preload"][as="'+Mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Mn(a.imageSizes)+'"]')):f+='[href="'+Mn(t)+'"]';var h=f;switch(s){case"style":h=Ei(t);break;case"script":h=_i(t)}ys.has(h)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ys.set(h,t),o.querySelector(f)!==null||s==="style"&&o.querySelector(Rl(h))||s==="script"&&o.querySelector(Ml(h))||(s=o.createElement("link"),En(s,"link",t),Et(s),o.head.appendChild(s)))}}function O1(t,s){vr.m(t,s);var a=ji;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Mn(o)+'"][href="'+Mn(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=_i(t)}if(!ys.has(h)&&(t=y({rel:"modulepreload",href:t},s),ys.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(h)))return}o=a.createElement("link"),En(o,"link",t),Et(o),a.head.appendChild(o)}}}function L1(t,s,a){vr.S(t,s,a);var o=ji;if(o&&t){var f=Kt(o).hoistableStyles,h=Ei(t);s=s||"default";var v=f.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Rl(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ys.get(h))&&bf(t,a);var M=v=o.createElement("link");Et(M),En(M,"link",t),M._p=new Promise(function(ne,de){M.onload=ne,M.onerror=de}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vc(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(h,v)}}}function U1(t,s){vr.X(t,s);var a=ji;if(a&&t){var o=Kt(a).hoistableScripts,f=_i(t),h=o.get(f);h||(h=a.querySelector(Ml(f)),h||(t=y({src:t,async:!0},s),(s=ys.get(f))&&vf(t,s),h=a.createElement("script"),Et(h),En(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function $1(t,s){vr.M(t,s);var a=ji;if(a&&t){var o=Kt(a).hoistableScripts,f=_i(t),h=o.get(f);h||(h=a.querySelector(Ml(f)),h||(t=y({src:t,async:!0,type:"module"},s),(s=ys.get(f))&&vf(t,s),h=a.createElement("script"),Et(h),En(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function g0(t,s,a,o){var f=(f=F.current)?bc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ei(a.href),a=Kt(f).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ei(a.href);var h=Kt(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(Rl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),ys.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ys.set(t,a),h||B1(f,t,a,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_i(a),a=Kt(f).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ei(t){return'href="'+Mn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function x0(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),En(s,"link",a),Et(s),t.head.appendChild(s))}function _i(t){return'[src="'+Mn(t)+'"]'}function Ml(t){return"script[async]"+t}function b0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Mn(a.href)+'"]');if(o)return s.instance=o,Et(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),En(o,"style",f),vc(o,a.precedence,t),s.instance=o;case"stylesheet":f=Ei(a.href);var h=t.querySelector(Rl(f));if(h)return s.state.loading|=4,s.instance=h,Et(h),h;o=x0(a),(f=ys.get(f))&&bf(o,f),h=(t.ownerDocument||t).createElement("link"),Et(h);var v=h;return v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),En(h,"link",o),s.state.loading|=4,vc(h,a.precedence,t),s.instance=h;case"script":return h=_i(a.src),(f=t.querySelector(Ml(h)))?(s.instance=f,Et(f),f):(o=a,(f=ys.get(h))&&(o=y({},a),vf(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),En(f,"link",o),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,vc(o,a.precedence,t));return s.instance}function vc(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function bf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function vf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var yc=null;function v0(t,s,a){if(yc===null){var o=new Map,f=yc=new Map;f.set(a,o)}else f=yc,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[Ze]||h[it]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function y0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function q1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function H1(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ei(o.href),h=s.querySelector(Rl(f));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=wc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=h,Et(h);return}h=s.ownerDocument||s,o=x0(o),(f=ys.get(f))&&bf(o,f),h=h.createElement("link"),Et(h);var v=h;v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),En(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var yf=0;function F1(t,s){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&yf===0&&(yf=62500*S1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>yf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function jc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,s.forEach(Z1,t),Sc=null,wc.call(t))}function Z1(t,s){if(!(s.state.loading&4)){var a=Sc.get(t);if(a)var o=a.get(null);else{a=new Map,Sc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=s.instance,v=f.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,f),a.set(v,f),this.count++,o=wc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var zl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function V1(t,s,a,o,f,h,v,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function S0(t,s,a,o,f,h,v,S,M,ne,de,pe){return t=new V1(t,s,a,v,M,ne,de,pe,S),s=1,h===!0&&(s|=24),h=ns(3,null,null,s),t.current=h,h.stateNode=t,s=Xu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:s},nd(h),t}function j0(t){return t?(t=ni,t):ni}function E0(t,s,a,o,f,h){f=j0(f),o.context===null?o.context=f:o.pendingContext=f,o=Mr(s),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=zr(t,o,s),a!==null&&(In(a,t,s),fl(a,t,s))}function _0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function wf(t,s){_0(t,s),(t=t.alternate)&&_0(t,s)}function N0(t){if(t.tag===13||t.tag===31){var s=fa(t,67108864);s!==null&&In(s,t,67108864),wf(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var s=ls();s=Kn(s);var a=fa(t,s);a!==null&&In(a,t,s),wf(t,s)}}var Ec=!0;function Q1(t,s,a,o){var f=R.T;R.T=null;var h=Y.p;try{Y.p=2,Sf(t,s,a,o)}finally{Y.p=h,R.T=f}}function I1(t,s,a,o){var f=R.T;R.T=null;var h=Y.p;try{Y.p=8,Sf(t,s,a,o)}finally{Y.p=h,R.T=f}}function Sf(t,s,a,o){if(Ec){var f=jf(o);if(f===null)of(t,s,o,_c,a),T0(t,o);else if(W1(f,t,s,a,o))o.stopPropagation();else if(T0(t,o),s&4&&-1<P1.indexOf(t)){for(;f!==null;){var h=_r(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=zt(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var M=1<<31-Ct(v);S.entanglements[1]|=M,v&=~M}Is(h),(ut&6)===0&&(lc=we()+500,kl(0))}}break;case 31:case 13:S=fa(h,2),S!==null&&In(S,h,2),cc(),wf(h,2)}if(h=jf(o),h===null&&of(t,s,o,_c,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else of(t,s,o,null,a)}}function jf(t){return t=Pi(t),Ef(t)}var _c=null;function Ef(t){if(_c=null,t=tr(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return _c=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case De:return 2;case We:return 8;case Ke:case Nt:return 32;case _e:return 268435456;default:return 32}default:return 32}}var _f=!1,Qr=null,Ir=null,Pr=null,Ol=new Map,Ll=new Map,Wr=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T0(t,s){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Ol.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(s.pointerId)}}function Ul(t,s,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},s!==null&&(s=_r(s),s!==null&&N0(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function W1(t,s,a,o,f){switch(s){case"focusin":return Qr=Ul(Qr,t,s,a,o,f),!0;case"dragenter":return Ir=Ul(Ir,t,s,a,o,f),!0;case"mouseover":return Pr=Ul(Pr,t,s,a,o,f),!0;case"pointerover":var h=f.pointerId;return Ol.set(h,Ul(Ol.get(h)||null,t,s,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Ll.set(h,Ul(Ll.get(h)||null,t,s,a,o,f)),!0}return!1}function A0(t){var s=tr(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Je(t.priority,function(){C0(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,Je(t.priority,function(){C0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ii=o,a.target.dispatchEvent(o),Ii=null}else return s=_r(a),s!==null&&N0(s),t.blockedOn=a,!1;s.shift()}return!0}function D0(t,s,a){Nc(t)&&a.delete(s)}function G1(){_f=!1,Qr!==null&&Nc(Qr)&&(Qr=null),Ir!==null&&Nc(Ir)&&(Ir=null),Pr!==null&&Nc(Pr)&&(Pr=null),Ol.forEach(D0),Ll.forEach(D0)}function Cc(t,s){t.blockedOn===s&&(t.blockedOn=null,_f||(_f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G1)))}var kc=null;function R0(t){kc!==t&&(kc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],f=t[s+2];if(typeof o!="function"){if(Ef(o||a)===null)continue;break}var h=_r(a);h!==null&&(t.splice(s,3),s-=3,Sd(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Ni(t){function s(M){return Cc(M,t)}Qr!==null&&Cc(Qr,t),Ir!==null&&Cc(Ir,t),Pr!==null&&Cc(Pr,t),Ol.forEach(s),Ll.forEach(s);for(var a=0;a<Wr.length;a++){var o=Wr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)A0(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],v=f[yn]||null;if(typeof h=="function")v||R0(a);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[yn]||null)S=v.formAction;else if(Ef(f)!==null)continue}else S=v.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),R0(a)}}}function M0(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Nf(t){this._internalRoot=t}Tc.prototype.render=Nf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,o=ls();E0(a,o,t,s,null,null)},Tc.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;E0(t.current,2,null,t,null,null),cc(),s[Rn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Dn();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&A0(t)}};var z0=n.version;if(z0!=="19.2.0")throw Error(i(527,z0,"19.2.0"));Y.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Dt=Ac.inject(K1),lt=Ac}catch{}}return Bl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var a=!1,o="",f=Hp,h=Fp,v=Zp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=S0(t,1,!1,null,null,a,o,null,f,h,v,M0),t[Rn]=s.current,lf(t),new Nf(s)},Bl.hydrateRoot=function(t,s,a){if(!c(t))throw Error(i(299));var o=!1,f="",h=Hp,v=Fp,S=Zp,M=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=S0(t,1,!0,s,a??null,o,f,M,h,v,S,M0),s.context=j0(null),a=s.current,o=ls(),o=Kn(o),f=Mr(o),f.callback=null,zr(a,f,o),a=o,s.current.lanes=a,Bn(s,a),Is(s),t[Rn]=s.current,lf(t),new Tc(s)},Bl.version="19.2.0",Bl}var V0;function aS(){if(V0)return Tf.exports;V0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Tf.exports=rS(),Tf.exports}var iS=aS();const lS=$b(iS),iu=p.createContext(null);function oS({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const E=c.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}r(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const d=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),m=p.useCallback((x,b)=>{const y=new URL(x,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},E=`${w.pathname}${w.search}${w.hash}`,_=b?.replace?"replace":"push";u({kind:_,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:m,registerBlocker:d}),[n,m,d]);return l.jsx(iu.Provider,{value:g,children:e})}function Es(){const e=p.useContext(iu);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function Nn(){const e=p.useContext(iu);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function cS(e,n=!0){const r=p.useContext(iu);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var Bi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uS={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},dS=class{#e=uS;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Na=new dS;function fS(e){setTimeout(e,0)}var Da=typeof window>"u"||"Deno"in globalThis;function Ln(){}function hS(e,n){return typeof e=="function"?e(n):e}function Gf(e){return typeof e=="number"&&e>=0&&e!==1/0}function qb(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Jr(e,n){return typeof e=="function"?e(n):e}function ws(e,n){return typeof e=="function"?e(n):e}function Q0(e,n){const{type:r="all",exact:i,fetchStatus:c,predicate:u,queryKey:d,stale:m}=e;if(d){if(i){if(n.queryHash!==Sh(d,n.options))return!1}else if(!Gl(n.queryKey,d))return!1}if(r!=="all"){const g=n.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function I0(e,n){const{exact:r,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(Ra(n.options.mutationKey)!==Ra(u))return!1}else if(!Gl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function Sh(e,n){return(n?.queryKeyHashFn||Ra)(e)}function Ra(e){return JSON.stringify(e,(n,r)=>Kf(r)?Object.keys(r).sort().reduce((i,c)=>(i[c]=r[c],i),{}):r)}function Gl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Gl(e[r],n[r])):!1}var mS=Object.prototype.hasOwnProperty;function Hb(e,n){if(e===n)return e;const r=P0(e)&&P0(n);if(!r&&!(Kf(e)&&Kf(n)))return n;const c=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),d=u.length,m=r?new Array(d):{};let g=0;for(let x=0;x<d;x++){const b=r?x:u[x],y=e[b],w=n[b];if(y===w){m[b]=y,(r?x<c:mS.call(e,b))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const E=Hb(y,w);m[b]=E,E===y&&g++}return c===d&&g===c?e:m}function Qc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function P0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kf(e){if(!W0(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!W0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function W0(e){return Object.prototype.toString.call(e)==="[object Object]"}function pS(e){return new Promise(n=>{Na.setTimeout(n,e)})}function Yf(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?Hb(e,n):n}function gS(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function xS(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var jh=Symbol();function Fb(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===jh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Zb(e,n){return typeof e=="function"?e(...n):!!e}var bS=class extends Bi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Da&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Eh=new bS;function Xf(){let e,n;const r=new Promise((c,u)=>{e=c,n=u});r.status="pending",r.catch(()=>{});function i(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},r.reject=c=>{i({status:"rejected",reason:c}),n(c)},r}var vS=fS;function yS(){let e=[],n=0,r=m=>{m()},i=m=>{m()},c=vS;const u=m=>{n?e.push(m):c(()=>{r(m)})},d=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;n++;try{g=m()}finally{n--,n||d()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var un=yS(),wS=class extends Bi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Da&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Ic=new wS;function SS(e){return Math.min(1e3*2**e,3e4)}function Vb(e){return(e??"online")==="online"?Ic.isOnline():!0}var Jf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Qb(e){let n=!1,r=0,i;const c=Xf(),u=()=>c.status!=="pending",d=j=>{if(!u()){const C=new Jf(j);w(C),e.onCancel?.(C)}},m=()=>{n=!0},g=()=>{n=!1},x=()=>Eh.isFocused()&&(e.networkMode==="always"||Ic.isOnline())&&e.canRun(),b=()=>Vb(e.networkMode)&&e.canRun(),y=j=>{u()||(i?.(),c.resolve(j))},w=j=>{u()||(i?.(),c.reject(j))},E=()=>new Promise(j=>{i=C=>{(u()||x())&&j(C)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),_=()=>{if(u())return;let j;const C=r===0?e.initialPromise:void 0;try{j=C??e.fn()}catch(A){j=Promise.reject(A)}Promise.resolve(j).then(y).catch(A=>{if(u())return;const k=e.retry??(Da?0:3),D=e.retryDelay??SS,L=typeof D=="function"?D(r,A):D,z=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,A);if(n||!z){w(A);return}r++,e.onFail?.(r,A),pS(L).then(()=>x()?void 0:E()).then(()=>{n?w(A):_()})})};return{promise:c,status:()=>c.status,cancel:d,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:g,canStart:b,start:()=>(b()?_():E().then(_),c)}}var Ib=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gf(this.gcTime)&&(this.#e=Na.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Da?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Na.clearTimeout(this.#e),this.#e=void 0)}},jS=class extends Ib{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=G0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=G0(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Yf(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ws(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Jr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},c=()=>{const m=Fb(this.options,n),x=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,x,this):m(x)},d=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Qb({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:m=>{m instanceof Jf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{this.#a({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Jf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#a({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Pb(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Pb(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vb(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G0(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wb=class extends Bi{constructor(e,n){super(),this.options=n,this.#e=e,this.#a=null,this.#l=Xf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),K0(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!Qc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Y0(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||ws(this.options.enabled,this.#t)!==ws(n.enabled,this.#t)||Jr(this.options.staleTime,this.#t)!==Jr(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==r||ws(this.options.enabled,this.#t)!==ws(n.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return _S(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Ln)),n}#g(){this.#y();const e=Jr(this.options.staleTime,this.#t);if(Da||this.#r.isStale||!Gf(e))return;const r=qb(this.#r.dataUpdatedAt,e)+1;this.#c=Na.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#o=e,!(Da||ws(this.options.enabled,this.#t)===!1||!Gf(this.#o)||this.#o===0)&&(this.#u=Na.setInterval(()=>{(this.options.refetchIntervalInBackground||Eh.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Na.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Na.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,c=this.#r,u=this.#s,d=this.#i,g=e!==r?e.state:this.#n,{state:x}=e;let b={...x},y=!1,w;if(n._optimisticResults){const ee=this.hasListeners(),O=!ee&&K0(e,n),U=ee&&Y0(e,r,n,i);(O||U)&&(b={...b,...Pb(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:_,status:j}=b;w=b.data;let C=!1;if(n.placeholderData!==void 0&&w===void 0&&j==="pending"){let ee;c?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(ee=c.data,C=!0):ee=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,ee!==void 0&&(j="success",w=Yf(c?.data,ee,n),y=!0)}if(n.select&&w!==void 0&&!C)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Yf(c?.data,w,n),this.#f=w,this.#a=null}catch(ee){this.#a=ee}this.#a&&(E=this.#a,w=this.#f,_=Date.now(),j="error");const A=b.fetchStatus==="fetching",k=j==="pending",D=j==="error",L=k&&A,z=w!==void 0,q={status:j,fetchStatus:b.fetchStatus,isPending:k,isSuccess:j==="success",isError:D,isInitialLoading:L,isLoading:L,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:_,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:A,isRefetching:A&&!k,isLoadingError:D&&!z,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:D&&z,isStale:_h(e,n),refetch:this.refetch,promise:this.#l,isEnabled:ws(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ee=X=>{q.status==="error"?X.reject(q.error):q.data!==void 0&&X.resolve(q.data)},O=()=>{const X=this.#l=q.promise=Xf();ee(X)},U=this.#l;switch(U.status){case"pending":e.queryHash===r.queryHash&&ee(U);break;case"fulfilled":(q.status==="error"||q.data!==U.value)&&O();break;case"rejected":(q.status!=="error"||q.error!==U.reason)&&O();break}}return q}updateResult(){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Qc(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const m=d;return this.#r[m]!==e[m]&&u.has(m)})};this.#j({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(e){un.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ES(e,n){return ws(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function K0(e,n){return ES(e,n)||e.state.data!==void 0&&eh(e,n,n.refetchOnMount)}function eh(e,n,r){if(ws(n.enabled,e)!==!1&&Jr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&_h(e,n)}return!1}function Y0(e,n,r,i){return(e!==n||ws(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_h(e,r)}function _h(e,n){return ws(n.enabled,e)!==!1&&e.isStaleByTime(Jr(n.staleTime,e))}function _S(e,n){return!Qc(e.getCurrentResult(),n)}function Pc(e){return{onFetch:(n,r)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Fb(n.options,n.fetchOptions),E=async(_,j,C)=>{if(b)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const Z={client:n.client,queryKey:n.queryKey,pageParam:j,direction:C?"backward":"forward",meta:n.options.meta};return y(Z),Z})(),D=await w(k),{maxPages:L}=n.options,z=C?xS:gS;return{pages:z(_.pages,D,L),pageParams:z(_.pageParams,j,L)}};if(c&&u.length){const _=c==="backward",j=_?Gb:th,C={pages:u,pageParams:d},A=j(i,C);m=await E(C,A,_)}else{const _=e??u.length;do{const j=g===0?d[0]??i.initialPageParam:th(i,m);if(g>0&&j==null)break;m=await E(m,j),g++}while(g<_)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function th(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Gb(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function NS(e,n){return n?th(e,n)!=null:!1}function CS(e,n){return!n||!e.getPreviousPageParam?!1:Gb(e,n)!=null}var kS=class extends Wb{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Pc()})}getOptimisticResult(e){return e.behavior=Pc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:d,isRefetchError:m}=i,g=r.fetchMeta?.fetchMore?.direction,x=d&&g==="forward",b=c&&g==="forward",y=d&&g==="backward",w=c&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:NS(n,r.data),hasPreviousPage:CS(n,r.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!x&&!y,isRefetching:u&&!b&&!w}}},TS=class extends Ib{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Kb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Qb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#r.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:c})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),un.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Kb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var AS=class extends Bi{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new TS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=Dc(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=Dc(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Dc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=Dc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){un.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>I0(n,r))}findAll(e={}){return this.getAll().filter(n=>I0(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ln))))}};function Dc(e){return e.options.scope?.id}var DS=class extends Bi{#e;#t=void 0;#n;#r;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Qc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ra(r.mutationKey)!==Ra(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Kb();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){un.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#r.onSuccess?.(n.data,r,i,c),this.#r.onSettled?.(n.data,null,r,i,c)):n?.type==="error"&&(this.#r.onError?.(n.error,r,i,c),this.#r.onSettled?.(void 0,n.error,r,i,c))}this.listeners.forEach(r=>{r(this.#t)})})}},RS=class extends Bi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,c=n.queryHash??Sh(i,n);let u=this.get(c);return u||(u=new jS({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Q0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Q0(e,r)):n}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},MS=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new RS,this.#t=e.mutationCache||new AS,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Eh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Jr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=hS(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(e,n,r){return un.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;un.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return un.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=un.batch(()=>this.#e.findAll(e).map(c=>c.cancel(r)));return Promise.all(i).then(Ln).catch(Ln)}invalidateQueries(e,n={}){return un.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=un.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(Ln)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Ln)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Jr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ln).catch(Ln)}fetchInfiniteQuery(e){return e.behavior=Pc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ln).catch(Ln)}ensureInfiniteQueryData(e){return e.behavior=Pc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ic.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(Ra(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Gl(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(Ra(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{Gl(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Sh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===jh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Yb=p.createContext(void 0),ht=e=>{const n=p.useContext(Yb);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},zS=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Yb.Provider,{value:e,children:n})),Xb=p.createContext(!1),OS=()=>p.useContext(Xb);Xb.Provider;function LS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var US=p.createContext(LS()),$S=()=>p.useContext(US),BS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},qS=e=>{p.useEffect(()=>{e.clearReset()},[e])},HS=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||Zb(r,[e.error,i])),FS=e=>{if(e.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>r(i(...c)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ZS=(e,n)=>e.isLoading&&e.isFetching&&!n,VS=(e,n)=>e?.suspense&&n.isPending,X0=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Jb(e,n,r){const i=OS(),c=$S(),u=ht(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",FS(d),BS(d,c),qS(c);const m=!u.getQueryCache().get(d.queryHash),[g]=p.useState(()=>new n(u,d)),x=g.getOptimisticResult(d),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?g.subscribe(un.batchCalls(y)):Ln;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(d)},[d,g]),VS(d,x))throw X0(d,g,c);if(HS({result:x,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!Da&&ZS(x,i)&&(m?X0(d,g,c):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Ln).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function dn(e,n){return Jb(e,Wb)}function rn(e,n){const r=ht(),[i]=p.useState(()=>new DS(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(d=>i.subscribe(un.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((d,m)=>{i.mutate(d,m).catch(Ln)},[i]);if(c.error&&Zb(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function ev(e,n){return Jb(e,kS)}const QS="modulepreload",IS=function(e){return"/"+e},J0={},PS=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");c=g(r.map(x=>{if(x=IS(x),x in J0)return;J0[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":QS,b||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((E,_)=>{w.addEventListener("load",E),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return c.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function WS({children:e}){const[n]=p.useState(()=>new MS({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(zS,{client:n,children:[e,null]})}const GS=["ade_csrf","backend_app_csrf"];function KS(){return GS}function YS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function Nh(){const e=YS();if(!e)return null;for(const n of KS()){const r=e.get(n);if(r)return r}return null}const tv="/api/v1",XS=new Set(["GET","HEAD","OPTIONS"]);class An extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}class JS{baseUrl;constructor(n=tv){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,r={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:d,method:m,credentials:g,...x}=r,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),d&&!(d instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!XS.has(b)&&!w.has("X-CSRF-Token")){const j=Nh();j&&w.set("X-CSRF-Token",j)}const E=await fetch(y,{...x,method:b,headers:w,body:d,credentials:g??"include"});if(!E.ok){const j=await this.tryParseProblem(E),C=j?.title??`Request failed with status ${E.status}`;throw new An(C,E.status,j)}if(c)return E;if(!i||E.status===204)return;const _=await E.text();return _?JSON.parse(_):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,r){if(r){if(r instanceof Headers){r.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(r)){r.forEach(([i,c])=>n.set(i,c));return}Object.entries(r).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}new JS(tv);const ej=/\{[^{}]+\}/g,tj=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function nj(){return Math.random().toString(36).slice(2,11)}function sj(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:d,requestInitExt:m=void 0,...g}={...e};m=tj()?m:void 0,n=nx(n);const x=[];async function b(y,w){const{baseUrl:E,fetch:_=i,Request:j=r,headers:C,params:A={},parseAs:k="json",querySerializer:D,bodySerializer:L=u??aj,body:z,middleware:Z=[],...q}=w||{};let ee=n;E&&(ee=nx(E)??n);let O=typeof c=="function"?c:ex(c);D&&(O=typeof D=="function"?D:ex({...typeof c=="object"?c:{},...D}));const U=z===void 0?void 0:L(z,tx(d,C,A.header)),X=tx(U===void 0||U instanceof FormData?{}:{"Content-Type":"application/json"},d,C,A.header),se=[...x,...Z],V={redirect:"follow",...g,...q,body:U,headers:X};let ie,ve,R=new j(ij(y,{baseUrl:ee,params:A,querySerializer:O}),V),Y;for(const be in q)be in R||(R[be]=q[be]);if(se.length){ie=nj(),ve=Object.freeze({baseUrl:ee,fetch:_,parseAs:k,querySerializer:O,bodySerializer:L});for(const be of se)if(be&&typeof be=="object"&&typeof be.onRequest=="function"){const xe=await be.onRequest({request:R,schemaPath:y,params:A,options:ve,id:ie});if(xe)if(xe instanceof j)R=xe;else if(xe instanceof Response){Y=xe;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!Y){try{Y=await _(R,m)}catch(be){let xe=be;if(se.length)for(let N=se.length-1;N>=0;N--){const P=se[N];if(P&&typeof P=="object"&&typeof P.onError=="function"){const ce=await P.onError({request:R,error:xe,schemaPath:y,params:A,options:ve,id:ie});if(ce){if(ce instanceof Response){xe=void 0,Y=ce;break}if(ce instanceof Error){xe=ce;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(xe)throw xe}if(se.length)for(let be=se.length-1;be>=0;be--){const xe=se[be];if(xe&&typeof xe=="object"&&typeof xe.onResponse=="function"){const N=await xe.onResponse({request:R,response:Y,schemaPath:y,params:A,options:ve,id:ie});if(N){if(!(N instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");Y=N}}}}if(Y.status===204||R.method==="HEAD"||Y.headers.get("Content-Length")==="0")return Y.ok?{data:void 0,response:Y}:{error:void 0,response:Y};if(Y.ok)return k==="stream"?{data:Y.body,response:Y}:{data:await Y[k](),response:Y};let Q=await Y.text();try{Q=JSON.parse(Q)}catch{}return{error:Q,response:Y}}return{request(y,w,E){return b(w,{...E,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...y){for(const w of y){const E=x.indexOf(w);E!==-1&&x.splice(E,1)}}}}function lu(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function nv(e,n,r){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const m in n)i.push(m,r.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const d=i.join(",");switch(r.style){case"form":return`${e}=${d}`;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return d}}for(const d in n){const m=r.style==="deepObject"?`${e}[${d}]`:d;i.push(lu(m,n[d],r))}const u=i.join(c);return r.style==="label"||r.style==="matrix"?`${c}${u}`:u}function sv(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",d=(r.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(r.style){case"simple":return d;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return`${e}=${d}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",c=[];for(const u of n)r.style==="simple"||r.style==="label"?c.push(r.allowReserved===!0?u:encodeURIComponent(u)):c.push(lu(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function ex(e){return function(r){const i=[];if(r&&typeof r=="object")for(const c in r){const u=r[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(sv(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(nv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(lu(c,u,e))}}return i.join("&")}}function rj(e,n){let r=e;for(const i of e.match(ej)??[]){let c=i.substring(1,i.length-1),u=!1,d="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(d="label",c=c.substring(1)):c.startsWith(";")&&(d="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){r=r.replace(i,sv(c,m,{style:d,explode:u}));continue}if(typeof m=="object"){r=r.replace(i,nv(c,m,{style:d,explode:u}));continue}if(d==="matrix"){r=r.replace(i,`;${lu(c,m)}`);continue}r=r.replace(i,d==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return r}function aj(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function ij(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=rj(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function tx(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const d of u)n.append(c,d);else u!==void 0&&n.set(c,u)}return n}function nx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const rv=new Set(["GET","HEAD","OPTIONS","TRACE"]),lj="ade.auth.tokens",Mf="",Wc=Mf.endsWith("/api/v1")?Mf.slice(0,-7):Mf;function ou(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Wc.length>0?`${Wc}${e}`:e}async function oj(e,n={}){const r=ou(e),i=new Headers(n.headers??{});if(i.set("X-Requested-With","fetch"),!i.has("Authorization")){const d=av();d&&i.set("Authorization",`${d.token_type} ${d.access_token}`)}const c=n.method?.toUpperCase()??"GET";if(!rv.has(c)){const d=Nh();d&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",d)}return await fetch(r,{credentials:"include",...n,headers:i})}const Fe=sj({baseUrl:Wc.length>0?Wc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),cj={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!rv.has(n)){const r=Nh();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},uj={onRequest({request:e}){if(!e.headers.has("Authorization")){const n=av();n&&e.headers.set("Authorization",`${n.token_type} ${n.access_token}`)}return e}},dj={async onResponse({response:e}){if(e.ok)return e;const n=await fj(e),r=n?.title??`Request failed with status ${e.status}`;throw new An(r,e.status,n)}};Fe.use(cj);Fe.use(uj);Fe.use(dj);function av(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(lj);if(!e)return null;const n=JSON.parse(e);if(n&&typeof n.access_token=="string")return{access_token:n.access_token,token_type:n.token_type??"bearer"}}catch{}return null}async function fj(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Bs={root:["auth"],detail:()=>[...Bs.root,"session"],providers:()=>[...Bs.root,"providers"],setupStatus:()=>[...Bs.root,"setup-status"]},Ch="ade.auth.tokens";let ro=hj();function hj(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(Ch);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.access_token!="string"?null:{access_token:n.access_token,token_type:n.token_type??"bearer",expires_at:n.expires_at??null,refresh_expires_at:n.refresh_expires_at??null}}catch{return null}}function sx(e,n){if(e){const r=Date.parse(e);if(!Number.isNaN(r))return r}return typeof n=="number"?Date.now()+n*1e3:null}function mj(e){const n={access_token:e.access_token,token_type:e.token_type??"bearer",expires_at:sx(e.expires_at,e.expires_in),refresh_expires_at:sx(e.refresh_expires_at,e.refresh_expires_in)};if(ro=n,typeof window<"u")try{window.localStorage.setItem(Ch,JSON.stringify(n))}catch{}return n}function kh(){if(ro=null,typeof window<"u")try{window.localStorage.removeItem(Ch)}catch{}}function pj(){return ro}function gj(e=ro){return e?.access_token?{Authorization:`${e.token_type?.trim()||"bearer"} ${e.access_token}`}:{}}function rx(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toISOString()}function xj(e){const n=e.items.find(r=>r.is_default);return n?n.id:null}function ax(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function bj(e){return e?{...e,items:e.items??[]}:{items:[],page:1,page_size:0,total:0,has_next:!1,has_previous:!1}}async function iv(e,n){const r="/api/v1/me/bootstrap";try{const{data:i}=await Fe.GET(r,{signal:n,headers:gj(e),params:{query:{page:1,page_size:200,include_total:!1}}});return i??null}catch(i){if(i instanceof An&&(i.status===401||i.status===403))return null;throw i}}function lv(e,n=ro,r=null,i=null){const c=ax(e.roles),u=ax(e.permissions),d=bj(e.workspaces);return{user:{...e.user,roles:c,permissions:u,preferred_workspace_id:xj(d)??null},workspaces:d,roles:c,permissions:u,expires_at:rx(n?.expires_at??null),refresh_expires_at:rx(n?.refresh_expires_at??null),return_to:r,state:i}}async function cu(e,n={}){const r=mj(e.session),i=await iv(r,n.signal);if(!i)throw kh(),new Error("Unable to load session after authentication.");return lv(i,r,null,null)}async function vj(e={}){try{const{data:n}=await Fe.GET("/api/v1/auth/providers",{signal:e.signal});return n?_j(n):{providers:[],force_sso:!1}}catch(n){if(n instanceof An&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function yj(e={}){const n=pj(),r=await iv(n,e.signal);return r?lv(r,n):(n&&kh(),null)}async function wj(e,n={}){const{data:r}=await Fe.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload from login response.");return cu(r,n)}async function Sj(e={}){const{data:n}=await Fe.POST("/api/v1/auth/session/refresh",{body:void 0,signal:e.signal});if(!n)throw new Error("Expected session payload from refresh response.");return cu(n,e)}async function jj(e){const{code:n,state:r,provider:i="sso",signal:c}=e,{data:u}=await Fe.GET("/api/v1/auth/sso/{provider}/callback",{signal:c,params:{path:{provider:i},query:{code:n,state:r}}});if(!u)throw new Error("Expected session payload from SSO callback.");return cu(u,{signal:c})}async function Ej(e={}){try{await Fe.DELETE("/api/v1/auth/session",{signal:e.signal,body:void 0})}catch(n){!(n instanceof An)||n.status!==401&&n.status}finally{kh()}}function _j(e){return{providers:(e.providers??[]).map(Nj),force_sso:!!e.force_sso}}function Nj(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}const ov=p.createContext(void 0);function Rc(e){return e instanceof Error?e:new Error(String(e))}function ix({session:e,refetch:n,children:r}){return Tj(e,n),l.jsx(ov.Provider,{value:{session:e,refetch:n},children:r})}function Cj(){const e=p.useContext(ov);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Ua(){return Cj().session}const kj=6e4;function Tj(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",Rc(x))});return}const u=Math.min(r,i)-kj,d=Math.max(u-c,0);let m=!1;const g=window.setTimeout(async()=>{try{if(await Sj(),m)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",Rc(x))})}catch(x){if(m)return;console.warn("Failed to refresh session",Rc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",Rc(b))})}},d);return()=>{m=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function cv(e={}){const n=ht(),r=dn({queryKey:Bs.detail(),queryFn:async({signal:c})=>{const u=await yj({signal:c});return u||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Bs.providers(),exact:!1})},[n,i]),{...r,session:i}}async function Aj(e={}){try{const{data:n}=await Fe.GET("/api/v1/auth/setup",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof An&&n.status===404)return{requires_setup:!1,has_users:!0};throw n}}async function Dj(e){const{data:n}=await Fe.POST("/api/v1/auth/setup",{body:e});if(!n)throw new Error("Expected session payload from setup response.");return cu(n)}function Th(e=!0){return dn({queryKey:Bs.setupStatus(),queryFn:({signal:n})=>Aj({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const ao="/workspaces",Rj=new Set(["/","/login","/setup","/logout"]);function Mj(e){if(!e)return!0;const n=Oj(e);return!!(Rj.has(n)||n==="/auth"||n.startsWith("/auth/"))}function zj(e){return`${e.pathname}${e.search}${e.hash}`}function lx(e){const n=zj(e)||"/";return Gc(n)??ao}function Gc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?ao:Mj(n)?null:n}function Kl(e){return Gc(e)??ao}function uv(e){return fv("/login",e)}function dv(e){return fv("/setup",e)}function fv(e,n){const r=Kl(n),i=new URLSearchParams;r!==ao&&i.set("redirectTo",r);const c=i.toString();return c?`${e}?${c}`:e}function Kc(e,n){const r=Gc(e);if(r)return r;const i=Gc(n);return i||ao}function Oj(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function uu({children:e}){const n=Es(),r=Nn(),i=cv(),{session:c,isLoading:u,isError:d,refetch:m}=i,g=!c&&!u&&!d,{data:x,isPending:b,isError:y,isSuccess:w,refetch:E}=Th(g);return p.useEffect(()=>{if(c||u||d)return;if(g){if(b||y)return;if(w&&x?.requires_setup){const j=lx(n);r(dv(j),{replace:!0});return}}const _=lx(n);r(uv(_),{replace:!0})},[d,u,y,b,w,n,r,c,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):d?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx(ix,{session:c,refetch:m,children:e}):l.jsx(ix,{session:c,refetch:m,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const Lj=100,Uj=100,$j=100,Bj=200,hv="global",qj="workspace";async function Hj(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof r=="number"&&r>0&&(u.page_size=r),i&&(u.include_total=!0);const{data:d}=await Fe.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!d)throw new Error("Expected workspace page payload.");const m=[...d.items].sort((g,x)=>g.name.localeCompare(x.name));return{...d,items:m}}async function Fj(e){const{data:n}=await Fe.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function Zj(e,n){const{data:r}=await Fe.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function Vj(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,d={};typeof r=="number"&&r>0&&(d.page=r),typeof i=="number"&&i>0&&(d.page_size=i),c&&(d.include_total=!0);const{data:m}=await Fe.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:d},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function Qj(e,n){const{data:r}=await Fe.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function Ij(e,n,r){const{data:i}=await Fe.PUT("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function Pj(e,n){await Fe.DELETE("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}}})}async function Wj(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={scope:qj};typeof n=="number"&&n>0&&(u.page=n),typeof r=="number"&&r>0&&(u.page_size=r),i&&(u.include_total=!0);const{data:d}=await Fe.GET("/api/v1/rbac/roles",{params:{query:u},signal:c});if(!d)throw new Error("Expected workspace role page payload.");return d}async function Gj(e,n){const{data:r}=await Fe.POST("/api/v1/rbac/roles",{body:n});if(!r)throw new Error("Expected role payload.");return r}async function Kj(e,n,r){const{data:i}=await Fe.PATCH("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function Yj(e,n){await Fe.DELETE("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}}})}async function Xj(e={}){const{scope:n=hv,page:r,pageSize:i,includeTotal:c,signal:u}=e,d={scope:n};typeof r=="number"&&r>0&&(d.page=r),typeof i=="number"&&i>0&&(d.page_size=i),c&&(d.include_total=!0);const{data:m}=await Fe.GET("/api/v1/rbac/permissions",{params:{query:d},signal:u});if(!m)throw new Error("Expected permission page payload.");return m}const Ta={page:1,pageSize:Lj,includeTotal:!1},Jj={page:1,pageSize:Uj,includeTotal:!1},eE={page:1,pageSize:$j,includeTotal:!1},tE={scope:hv,page:1,pageSize:Bj,includeTotal:!1},Pt={all:()=>["workspaces"],list:(e=Ta)=>[...Pt.all(),"list",{...e}],detail:e=>[...Pt.all(),"detail",e],members:(e,n=Jj)=>[...Pt.detail(e),"members",{...n}],roles:(e,n=eE)=>[...Pt.detail(e),"roles",{...n}],permissions:(e=tE)=>["permissions",{...e}]};function nE(e={}){const n=e.page??Ta.page,r=e.pageSize??Ta.pageSize,i=e.includeTotal??Ta.includeTotal;return{queryKey:Pt.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:c})=>Hj({page:n,pageSize:r,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function du(e={}){const n=ht(),r=nE(e),i=n.getQueryData(r.queryKey);return dn({...r,initialData:i})}const mv={page:Ta.page,pageSize:Ta.pageSize,includeTotal:Ta.includeTotal},sE="/api/v1/workspaces/{workspace_id}/default";async function rE(e){await Fe.PUT(sE,{params:{path:{workspace_id:e}}})}function aE(e,n){if(!e||typeof e!="object")return e;if("items"in e){const r=e;if(!Array.isArray(r.items))return e;const i=r.items.map(c=>({...c,is_default:c.id===n}));return{...r,items:i}}if("id"in e&&"is_default"in e){const r=e;return{...r,is_default:r.id===n}}return e}function iE(){const e=ht();return rn({mutationFn:n=>rE(n),onSuccess:(n,r)=>{e.setQueriesData({queryKey:Pt.all()},i=>aE(i,r))}})}function zf(e){return e instanceof Error?e:new Error(String(e))}function Ys(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",zf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",zf(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",zf(n))}}}}const lE="backend.app.active_workspace",nh=Ys(lE);function oE(){return nh.get()}function pv(e){if(!e){nh.clear();return}nh.set(e.id)}function gv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(r=gv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function ge(){for(var e,n,r=0,i="",c=arguments.length;r<c;r++)(e=arguments[r])&&(n=gv(e))&&(i&&(i+=" "),i+=n);return i}const xv=p.createContext(void 0);function cE({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){const d=u.toLowerCase();return c.includes(u)||c.includes(d)}}},[e,n]);return l.jsx(xv.Provider,{value:i,children:r})}function ea(){const e=p.useContext(xv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var Gs=Bb();const uE=[{id:"explorer",label:"Explorer",icon:l.jsx(fE,{})},{id:"search",label:"Search",icon:l.jsx(hE,{})},{id:"scm",label:"Source Control",icon:l.jsx(mE,{})},{id:"extensions",label:"Extensions",icon:l.jsx(pE,{})}];function dE({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:ge("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:uE.map(u=>{const d=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:ge("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",d?c.iconActive:ge(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":d,children:[d?l.jsx("span",{className:ge("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:r,className:ge("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(gE,{})})})]})}function fE(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function hE(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function mE(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function pE(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function gE(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const Ah=p.createContext(null);function Dh({value:e,onValueChange:n,children:r}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),d=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),g=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),x=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:d,unregisterValue:m,focusValue:g,getValues:x}),[e,n,i,d,m,g,x]);return l.jsx(Ah.Provider,{value:b,children:r})}function Rh({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Hl({value:e,children:n,className:r,onClick:i,onKeyDown:c,disabled:u,...d}){const m=p.useContext(Ah);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:y}=m,w=m.value===e,E=`${m.baseId}-tab-${e}`,_=`${m.baseId}-panel-${e}`,j=p.useCallback(A=>{g(e,A)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const C=A=>{if(c?.(A),A.defaultPrevented)return;const k=y(),D=k.indexOf(e);if(D===-1||k.length===0)return;let L=D;A.key==="ArrowRight"?(A.preventDefault(),L=(D+1)%k.length):A.key==="ArrowLeft"?(A.preventDefault(),L=(D-1+k.length)%k.length):A.key==="Home"?(A.preventDefault(),L=0):A.key==="End"&&(A.preventDefault(),L=k.length-1);const z=k[L];z&&z!==m.value&&m.setValue(z),b(z)};return l.jsx("button",{...d,ref:j,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":_,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:C,onClick:A=>{i?.(A),!A.defaultPrevented&&!u&&m.setValue(e)},children:n})}function Aa({value:e,children:n,className:r,...i}){const c=p.useContext(Ah);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,d=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:d,"aria-labelledby":m,className:r,hidden:!u,tabIndex:0,children:n})}function bv(e){if(!e||typeof e!="object")return!1;const n=e,r=n.created_at,i=typeof r=="string"||typeof r=="number"||r instanceof Date;return typeof n.type=="string"&&i}function Mh(e){const n=e.created_at,r=new Date(n);return Number.isNaN(r.getTime())?new Date().toISOString():r.toISOString()}const xE={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Ma(e){const n=e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():e;if(!n)return"";const r=new Date(n);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString([],xE)}function bE(e){const n=u=>u.raw?u:{...u,raw:e};if(!bv(e))return n({level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"});const r=wv(e),i=Ma(Mh(e)),c=e.type;if(c==="console.line")return n(vv(e,r,i,"build"));if(!c?.startsWith("build."))return n({level:"info",message:JSON.stringify(e),timestamp:i,origin:"build"});switch(c){case"build.queued":{const u=r.reason??void 0;return n({level:"info",message:u?`Build queued (${u}).`:"Build queued.",timestamp:i,origin:"build"})}case"build.created":{const u=r.reason??"queued";return n({level:"info",message:`Build queued (${u}).`,timestamp:i,origin:"build"})}case"build.started":case"build.start":{const u=r.reason??void 0;return n({level:"info",message:u?`Build started (${u}).`:"Build started.",timestamp:i,origin:"build"})}case"build.phase.started":case"build.phase.start":{const u=r.phase??"building",d=r.message??`Starting ${u}`;return n({level:"info",message:d,timestamp:i,origin:"build"})}case"build.progress":{const u=r.message??(r.step?`Build: ${r.step}`:"Build progress");return n({level:"info",message:u,timestamp:i,origin:"build"})}case"build.phase.completed":case"build.phase.complete":{const u=r.phase??"build",d=r.status??"completed",m=Sv(r.duration_ms),g=r.message??`${u} ${d}${m?` in ${m}`:""}`;return n({level:d==="failed"?"error":d==="skipped"?"warning":"success",message:g,timestamp:i,origin:"build"})}case"build.completed":case"build.complete":return n(yE(r,i));default:return n({level:"info",message:JSON.stringify(e),timestamp:i,origin:"build"})}}function vE(e){const n=u=>u.raw?u:{...u,raw:e};if(!bv(e))return n({level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"});const r=wv(e),i=Ma(Mh(e)),c=e.type;if(c==="console.line")return n(vv(e,r,i,r.scope==="build"?"build":"run"));if(!c?.startsWith("run.")&&!c?.startsWith("engine.")&&!c?.startsWith("config."))return n({level:"info",message:JSON.stringify(e),timestamp:i,origin:"run"});switch(c){case"run.queued":{const u=r.mode??void 0,d=e.run_id??"",m=u?` (${u})`:"";return n({level:"info",message:`Run ${d?`${d} `:""}queued${m}.`,timestamp:i,origin:"run"})}case"run.waiting_for_build":{const u=r.reason??void 0,d=r.build_id??void 0,m=u?` (${u})`:"",g=d?`  ${d}`:"";return n({level:"info",message:`Waiting for build${m}${g}.`,timestamp:i,origin:"run"})}case"run.started":case"run.start":case"engine.start":{const u=r.mode??void 0,d=r.env??void 0,m=d?.reused?" (reused environment)":d?.reason?` (${d.reason})`:"";return n({level:"info",message:`Run started${u?` (${u})`:""}${m}.`,timestamp:i,origin:"run"})}case"run.phase.started":case"run.phase.start":case"engine.phase.start":{const u=r.phase??"progress",d=r.message??`Phase: ${u}`,m=yv(r.level??"info");return n({level:m,message:d,timestamp:i,origin:"run"})}case"run.phase.completed":case"run.phase.complete":case"engine.phase.complete":{const u=r.phase??"phase",d=r.status??"completed",m=Sv(r.duration_ms),g=r.message??`Phase ${u} ${d}${m?` in ${m}`:""}`;return n({level:d==="failed"?"error":d==="skipped"?"warning":"success",message:g,timestamp:i,origin:"run"})}case"run.table.summary":case"engine.table.summary":return cx(r,"table")?n(ME(r,i)):n(DE(r,i));case"run.column_detector.score":case"engine.detector.column.score":return n(NE(r,i));case"run.row_detector.score":case"engine.detector.row.score":return n(CE(r,i));case"run.hook.checkpoint":return n(kE(r,i));case"run.hook.mapping_checked":return n(TE(r,i));case"engine.file.summary":return n(RE(r,i));case"engine.sheet.summary":return n(zE(r,i));case"run.validation.issue":case"engine.validation.issue":{const u=r.severity??"info";return n({level:u==="error"?"error":u==="warning"?"warning":"info",message:`Validation issue${r.code?`: ${r.code}`:""}`,timestamp:i,origin:"run"})}case"run.validation.summary":case"engine.validation.summary":{const u=r.issues_total??0,d=r.max_severity??void 0,m=d==="error"?"error":d==="warning"||u>0?"warning":"info",g=d?`${d}`:u>0?"issues":"clean";return n({level:m,message:`Validation summary: ${u} ${g}`,timestamp:i,origin:"run"})}case"run.error":{const u=r.code??"unknown_error",d=r.message??"Run error.",m=r.stage??r.phase,g=m?` [${m}]`:"";return n({level:"error",message:`${d}${g} (${u})`,timestamp:i,origin:"run"})}case"run.completed":case"run.complete":case"engine.complete":case"engine.run.summary":return cx(r,"run")?n(AE(r,i)):n(wE(r,i));default:return c.startsWith("config.")?n(LE(c,r,i)):c.startsWith("run.transform.")?n(OE(c,r,i)):n({level:"info",message:JSON.stringify(e),timestamp:i,origin:"run"})}}function vv(e,n,r,i){const c=n.stream,u=n.level??(c==="stderr"?"warning":"info"),d=n.message??(typeof n.text=="string"?n.text:JSON.stringify(n)),m=n.scope??void 0,g=i??(m==="build"?"build":"run");return{level:yv(u),message:String(d??""),timestamp:r,origin:g,raw:e}}function yE(e,n){const r=e.status??"completed",i=e.summary?.trim(),c=typeof e.exit_code=="number"?e.exit_code:void 0,u=typeof e.error=="object"&&e.error!==null?e.error.message:void 0;if(r==="succeeded"||r==="reused")return{level:"success",message:i||`Build ${r}.`,timestamp:n,origin:"build",raw:e};if(r==="cancelled")return{level:"warning",message:"Build was cancelled before completion.",timestamp:n,origin:"build",raw:e};if(r==="failed"){const d=typeof c=="number"?` (exit code ${c})`:"";return{level:"error",message:(u||i||"Build failed.")+d,timestamp:n,origin:"build",raw:e}}return r==="skipped"?{level:"info",message:i||"Build skipped.",timestamp:n,origin:"build",raw:e}:{level:"info",message:i||`Build ${r}.`,timestamp:n,origin:"build",raw:e}}function wE(e,n){const r=e.scope==="run"&&typeof e.source=="object",i=e.source??{},c=r?i.status??"completed":e.status??"completed",u=r?{}:e.execution??{},d=typeof u.exit_code=="number"?u.exit_code:void 0,m=r?i.failure:e.failure,g=typeof m?.message=="string"?m.message.trim():null,x=typeof e.summary=="string"?e.summary.trim():null,y=c==="failed"?"error":c==="cancelled"?"warning":c==="succeeded"?"success":"info",w=g||x||`Run ${c}`,E=typeof d=="number"?` (exit code ${d})`:"";return{level:y,message:`${w}${E}.`,timestamp:n,origin:"run",raw:e}}function yv(e){return e==="error"?"error":e==="warning"||e==="warn"?"warning":e==="success"?"success":"info"}function wv(e){const n=e.payload;return n&&typeof n=="object"?n:{}}function Sv(e){if(typeof e!="number"||Number.isNaN(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function ze(e){if(!(typeof e!="number"||Number.isNaN(e)))return e}function SE(e){return e===null||!Number.isFinite(e)?"0.0%":`${(Math.round(e*10)/10).toFixed(1)}%`}function ox(e,n){if(!e.length)return"";const r=e.slice(0,n),i=e.length-r.length,c=i>0?`... (+${i} more)`:"";return`${r.join(", ")}${c}`}function jE(e){const n=e?.mapping;return(n&&typeof n=="object"&&Array.isArray(n.mapped_columns)?n.mapped_columns:Array.isArray(e.mapped_fields)?e.mapped_fields:[]).filter(i=>i&&typeof i=="object"&&i.is_required===!0&&i.is_satisfied===!1).map(i=>typeof i.field=="string"&&i.field.trim()||"").filter(Boolean)}function EE(e){const n=Array.isArray(e.unmapped_columns)?e.unmapped_columns:[],r=e.mapping&&typeof e.mapping=="object"&&Array.isArray(e.mapping.unmapped_columns)?e.mapping.unmapped_columns:[];return[...n,...r].map(c=>c&&typeof c=="object"?c.header:void 0).map(c=>(c??"").trim()).filter(Boolean)}function _E(e,n){if(!e||typeof e!="object")return n?Yl(n):null;const r=e,i=ze(r.header_row),c=ze(r.first_data_row),u=ze(r.last_data_row),d=[];return i!==void 0&&d.push(`header row ${i}`),c!==void 0&&u!==void 0&&d.push(`data ${c}-${u}`),n&&d.push(Yl(n)),d.length?d.join("  "):null}function Yl(e){const n=e.trim();if(!n)return"";const r=n.split("/");return r[r.length-1]||n}function NE(e,n){const r=e.field??"field",i=ze(e.threshold),c=e.chosen??{},u=c.header??"unknown",d=ze(c.score)??0,m=c.passed_threshold===!0,g=ze(c.column_index)??ze(c.source_column_index),b=(Array.isArray(e.candidates)?e.candidates:[]).slice(0,3).map(k=>{const D=k.header??`col ${ze(k.column_index)??"?"}`,L=Ws(ze(k.score)),z=k.passed_threshold===!0?"":"";return`"${D}" ${L}${z?` ${z}`:""}`}).join(" | "),w=(Array.isArray(c.contributions)?c.contributions:[]).slice(0,3).map(k=>`${jv(k.detector)} ${Ws(ze(k.delta))}`).join(", "),E=i!==void 0?`${Ws(d)} ${m?"":"<"} ${Ws(i)}`:Ws(d),_=m?`Matched ${r} to "${u}"${g!==void 0?` (col ${g})`:""}  score ${E}`:`No match for ${r}${i!==void 0?` (score ${E})`:""}`,j=b?`Top candidates: ${b}`:"",C=w?`Signals: ${w}`:"";return{level:m?"success":"warning",message:[_,j,C].filter(Boolean).join(`
`),timestamp:n,origin:"run",raw:e}}function CE(e,n){const r=e.thresholds??{},i=ze(r.header),c=ze(r.data),u=ze(e.header_row_index),d=ze(e.data_row_start_index),m=ze(e.data_row_end_index),g=e.trigger??{},x=ze(g.row_index),b=g.scores?.header??g.header_score,y=g.scores?.data??g.data_score,w=ze(b)??0,E=ze(y)??0,j=(Array.isArray(g.contributions)?g.contributions:[]).flatMap(z=>{const Z=jv(z.detector),q=z.scores??{};return Object.entries(q).map(([ee,O])=>`${Z} ${ee}:${Ws(ze(O))}`)}).sort().slice(0,3).join("; "),C=Array.isArray(g.sample)&&g.sample.length?`Sample: ${g.sample.slice(0,5).join(", ")}${g.sample.length>5?"":""}`:"",A=`Picked header row ${u??"?"}, data rows ${d??"?"}-${m??"?"}${x!==void 0?` (trigger ${x})`:""}`,k=`hdr ${Ws(w)}${i!==void 0?`/${Ws(i)}`:""}  data ${Ws(E)}${c!==void 0?`/${Ws(c)}`:""}`,D=j?`Signals: ${j}`:C;return{level:i!==void 0&&w<i||c!==void 0&&E<c?"warning":"info",message:[A,k,D,C&&j?C:""].filter(Boolean).join(`
`),timestamp:n,origin:"run",raw:e}}function kE(e,n){return{level:"info",message:`Hook checkpoint: ${e.stage??"checkpoint"}`,timestamp:n,origin:"run",raw:e}}function TE(e,n){const r=ze(e.mapped_columns)??0,i=ze(e.extra_columns)??0;return{level:r===0?"warning":r>0?"success":"info",message:`Mapping result: ${r} mapped, ${i} extra`,timestamp:n,origin:"run",raw:e}}function AE(e,n){const r=e.source??{},i=r.status??"completed",c=r.failure??void 0,u=c?.code??void 0,d=c?.message??void 0,m=c?.stage??void 0,g=e.counts??{},x=ze(g.tables?.total),b=ze(g.files?.total),y=ze(g.sheets?.total),w=ze(g.rows?.total),E=ze(g.columns?.physical_total),_=g.fields??{},j=ze(_.mapped),C=ze(_.total),A=ze(_.required),k=ze(_.required_unmapped)??0,L=(Array.isArray(e.fields)?e.fields:[]).filter(se=>se&&typeof se=="object"&&se.mapped===!1).map(se=>se.field||se.label).filter(Boolean),z=Array.isArray(e.details?.output_paths)?e.details.output_paths:[],Z=[`Run summary: ${i}`,m?`stage ${m}`:null,u?`code ${u}`:null].filter(Boolean),q=[b!==void 0?`files ${b}`:null,y!==void 0?`sheets ${y}`:null,x!==void 0?`tables ${x}`:null,w!==void 0?`rows ${w}`:null,E!==void 0?`cols ${E}`:null].filter(Boolean).join("  "),ee=C!==void 0&&j!==void 0?`mapped fields ${j}/${C}${A!==void 0?`  required missing ${k}/${A}`:""}`:A!==void 0?`required missing ${k}/${A}`:null,O=[];d&&O.push(`Failure: ${d}`),L.length&&O.push(`Unmapped fields: ${L.join(", ")}`),z.length&&O.push(`Outputs: ${z.join(", ")}`);const U=[Z.join("  "),q,ee,O.join("  ")].filter(se=>se&&se.length>0);return{level:i==="failed"||d?"error":k>0?"warning":i==="succeeded"?"success":"info",message:U.join(`
`),timestamp:n,origin:"run",raw:e}}function DE(e,n){const r=e.source_sheet??e.source_file??e.table_id??"table",i=ze(e.mapped_column_count),c=ze(e.column_count),u=ze(e.row_count),d=c&&i!==void 0&&c>0?i/c*100:null,m=c&&i!==void 0?`mapped ${i}/${c} (${SE(d)})`:i!==void 0?`mapped ${i} column${i===1?"":"s"}`:null,g=jE(e),x=EE(e),b=[`Table ${r}:`,u!==void 0?`${u} row${u===1?"":"s"}`:null,c!==void 0?`${c} col${c===1?"":"s"}`:null,m].filter(Boolean),y=[g.length?`Missing required: ${ox(g,3)}`:null,x.length?`Unmapped: ${ox(x,100)}`:null].filter(Boolean),w=_E(e.details,e.source_file),E=[b.join("  "),y.find(j=>j?.startsWith("Missing required"))??null,y.find(j=>j?.startsWith("Unmapped"))??null,w?`(${w})`:null].filter(Boolean);return{level:g.length>0?"warning":d!==null&&d>=85?"success":"info",message:E.join(`
`),timestamp:n,origin:"run",raw:e}}function RE(e,n){const r=typeof e.source=="object"&&e.source?e.source.file_path:void 0,i=r?Yl(r):"file",c=e.counts??{},u=ze(c.rows?.total),d=ze(c.columns?.physical_total),m=ze(c.tables?.total),g=ze(c.sheets?.total),x=c.fields??{},b=ze(x.required),y=ze(x.required_unmapped)??0,w=ze(x.mapped),E=ze(x.total),_=c.columns??{},j=ze(_.distinct_headers_mapped),C=ze(_.distinct_headers),A=Array.isArray(e.fields)?e.fields:[],k=A.filter(R=>R&&typeof R=="object"&&R.required===!0&&R.mapped===!1).map(R=>R.field||R.label).filter(Boolean),D=A.filter(R=>R&&typeof R=="object"&&R.mapped===!1).map(R=>R.field||R.label).filter(Boolean),z=(Array.isArray(e.columns)?e.columns:[]).filter(R=>R&&typeof R=="object"&&R.mapped===!1).map(R=>R.header??"").map(R=>R.trim()).filter(R=>R.length>0),Z=z.length?z.join(", "):"",q=D.length?D.join(", "):"",ee=[`File summary: ${i}`,g!==void 0?`sheets ${g}`:null,m!==void 0?`tables ${m}`:null,u!==void 0?`rows ${u}`:null,d!==void 0?`cols ${d}`:null,E!==void 0&&w!==void 0?`mapped fields ${w}/${E}`:null,b!==void 0&&y!==void 0?`required missing ${y}/${b}`:null].filter(Boolean),O=[];j!==void 0&&C!==void 0&&O.push(`headers mapped ${j}/${C}`),Z&&O.push(`Unmapped headers: ${Z}`),q&&O.push(`Unmapped fields: ${q}`),k.length&&O.push(`Required fields unmapped: ${k.join(", ")}`);const U=e.details??{},X=Array.isArray(U.sheet_ids)?U.sheet_ids.join(", "):void 0,se=Array.isArray(U.table_ids)?U.table_ids.join(", "):void 0,V=[e.id?`id ${e.id}`:null,X?`sheets ${X}`:null,se?`tables ${se}`:null].filter(Boolean).join("  "),ie=[ee.join("  "),O.join("  "),V?`(${V})`:null].filter(R=>R&&R.length>0);return{level:y>0?"error":z.length>0||D.length>0?"warning":"success",message:ie.join(`
`),timestamp:n,origin:"run",raw:e}}function ME(e,n){const r=e.source??{},i=r.sheet_name??"table",c=ze(r.table_index),u=r.file_path?Yl(r.file_path):void 0,d=r.output_sheet??void 0,m=e.counts??{},g=ze(m.rows?.total),x=ze(m.columns?.physical_total),b=m.fields??{},y=ze(b.required),w=ze(b.required_unmapped)??0,E=ze(b.mapped),_=ze(b.total),j=m.columns??{},C=ze(j.distinct_headers_mapped),A=ze(j.distinct_headers),D=(Array.isArray(e.fields)?e.fields:[]).filter(Q=>Q&&typeof Q=="object"&&Q.mapped===!1).map(Q=>Q.field||Q.label).filter(Boolean),z=(Array.isArray(e.columns)?e.columns:[]).filter(Q=>Q&&typeof Q=="object"&&Q.mapped===!1).map(Q=>Q.header??"").map(Q=>Q.trim()).filter(Q=>Q.length>0),Z=z.length?z.join(", "):"",q=D.length?D.join(", "):"",ee=[`Table summary: ${i}${c!==void 0?` (table ${c})`:""}`,u?`file ${u}`:null,g!==void 0?`rows ${g}`:null,x!==void 0?`cols ${x}`:null,_!==void 0&&E!==void 0?`mapped fields ${E}/${_}`:null,y!==void 0&&w!==void 0?`required missing ${w}/${y}`:null].filter(Boolean),O=[];C!==void 0&&A!==void 0&&O.push(`headers mapped ${C}/${A}`),d&&O.push(`output sheet ${d}`),Z&&O.push(`Unmapped headers: ${Z}`),q&&O.push(`Unmapped fields: ${q}`);const U=e.details??{},X=ze(U.header_row_index??U.header_row),se=ze(U.first_data_row_index??U.first_data_row),V=ze(U.last_data_row_index??U.last_data_row),ie=X!==void 0||se!==void 0||V!==void 0?`header row ${X??"?"}${se!==void 0||V!==void 0?`  data ${se??"?"}-${V??"?"}`:""}`:null,ve=[e.id?`id ${e.id}`:null,ie].filter(Boolean).join("  "),R=[ee.join("  "),O.join("  "),ve?`(${ve})`:null].filter(Q=>Q&&Q.length>0);return{level:w>0?"error":z.length>0||D.length>0?"warning":"success",message:R.join(`
`),timestamp:n,origin:"run",raw:e}}function zE(e,n){const r=e.source??{},i=r.sheet_name??"sheet",c=r.file_path?Yl(r.file_path):void 0,u=e.counts??{},d=ze(u.rows?.total),m=ze(u.columns?.physical_total),g=ze(u.tables?.total),x=u.fields??{},b=ze(x.required),y=ze(x.required_unmapped)??0,w=ze(x.mapped),E=ze(x.total),_=u.columns??{},j=ze(_.distinct_headers_mapped),C=ze(_.distinct_headers),k=(Array.isArray(e.fields)?e.fields:[]).filter(ie=>ie&&typeof ie=="object"&&ie.mapped===!1).map(ie=>ie.field||ie.label).filter(Boolean),L=(Array.isArray(e.columns)?e.columns:[]).filter(ie=>ie&&typeof ie=="object"&&ie.mapped===!1).map(ie=>ie.header??"").map(ie=>ie.trim()).filter(ie=>ie.length>0),z=L.length?L.join(", "):"",Z=k.length?k.join(", "):"",q=[`Sheet summary: ${i}`,c?`file ${c}`:null,g!==void 0?`tables ${g}`:null,d!==void 0?`rows ${d}`:null,m!==void 0?`cols ${m}`:null,E!==void 0&&w!==void 0?`mapped fields ${w}/${E}`:null,b!==void 0&&y!==void 0?`required missing ${y}/${b}`:null].filter(Boolean),ee=[];j!==void 0&&C!==void 0&&ee.push(`headers mapped ${j}/${C}`),z&&ee.push(`Unmapped headers: ${z}`),Z&&ee.push(`Unmapped fields: ${Z}`);const O=e.details??{},U=Array.isArray(O.table_ids)?O.table_ids.join(", "):void 0,X=[e.id?`id ${e.id}`:null,U?`tables ${U}`:null].filter(Boolean).join("  "),se=[q.join("  "),ee.join("  "),X?`(${X})`:null].filter(ie=>ie&&ie.length>0);return{level:y>0?"error":L.length>0||k.length>0?"warning":"success",message:se.join(`
`),timestamp:n,origin:"run",raw:e}}function Ws(e){return e===void 0||Number.isNaN(e)?"?":e.toFixed(2)}function jv(e){if(!e)return"";const n=e.split(".");return n[n.length-1]||e}function cx(e,n){if(!e||typeof e!="object")return!1;const r=e.schema_id??e.schema,i=e.scope;return r==="ade.summary"&&i===n}function OE(e,n,r){const c=e.split(".").slice(2).join(".")||"transform",u=ze(n.row_index);return{level:"info",message:`Transform: ${c}${u!==void 0?` (row ${u})`:""}`,timestamp:r,origin:"run",raw:n}}function LE(e,n,r){const c=`Config event: ${e.replace(/^config\./,"")}`,u=UE(n);return{level:"info",message:u?`${c}
${u}`:c,timestamp:r,origin:"run",raw:n}}function UE(e){try{return JSON.stringify(e??{},null,2)}catch{return String(e??"")}}function ux(e){return e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function $E(e){const n=BE(e);if(!n){if(e.includes(`
`)){const c=e.split(/\r?\n/),[u,...d]=c;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:u||" "}),d.length>0?l.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-[#2f2f2f] pl-3 text-[12px] leading-snug text-[#9da5b4]",children:d.join(`
`)}):null]})}return e}const r=HE(n);if(r)return r;const i=JSON.stringify(n,null,2);return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-[#d4d4d4]",children:qE(i)})}function BE(e){try{const n=JSON.parse(e);if(n&&typeof n=="object")return n}catch{return null}return null}function qE(e){const n=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,r=[];let i=0,c,u=0;for(;(c=n.exec(e))!==null;){c.index>i&&r.push(e.slice(i,c.index));const d=c[0],m=c[1]?"text-sky-300":c[2]?"text-amber-300":"text-rose-300";r.push(l.jsx("span",{className:m,children:d},`json-${u++}`)),i=n.lastIndex}return i<e.length&&r.push(e.slice(i)),r}function HE(e){const n=typeof e.type=="string"?e.type:"",r=e.payload??{},i=typeof r.status=="string"?r.status:void 0,c=typeof r.reason=="string"?r.reason:void 0,u=typeof r.step=="string"?r.step:void 0,d=typeof r.message=="string"?r.message:void 0,m=typeof r.duration_ms=="number"&&Number.isFinite(r.duration_ms)?r.duration_ms:void 0,g=x=>{if(!x||x<0)return"";if(x<1e3)return`${Math.round(x)} ms`;if(x<6e4)return`${(x/1e3).toFixed(1)} s`;const b=Math.floor(x/6e4),y=Math.round(x%6e4/1e3);return`${b}m ${y}s`};switch(n){case"run.queued":{const x=typeof r.mode=="string"?r.mode:void 0;return`Run queued${x?` (${x})`:""}.`}case"run.waiting_for_build":return`Waiting for build${c?` (${c})`:""}${r.build_id?`  ${r.build_id}`:""}`;case"run.start":case"run.started":case"engine.start":{const x=typeof r.mode=="string"?r.mode:void 0;return`Run started${x?` (${x})`:""}.`}case"run.complete":case"run.completed":case"engine.run.summary":case"engine.complete":return`Run ${i??"completed"}${m?` in ${g(m)}`:""}.`;case"build.queued":return`Build queued${c?` (${c})`:""}.`;case"build.start":case"build.started":return`Build started${c?` (${c})`:""}.`;case"build.complete":case"build.completed":return`Build ${i??"completed"}.`;case"build.phase.start":case"build.phase.started":return`Starting ${typeof r.phase=="string"?r.phase:"build"}${d?`  ${d}`:""}`;case"build.phase.complete":case"build.phase.completed":return`${typeof r.phase=="string"?r.phase:"build"} ${i??"completed"}${m?` in ${g(m)}`:""}.`;case"build.progress":return d??(u?`Build: ${u}`:"Build progress");default:if(n.startsWith("run.phase.")||n.startsWith("engine.phase.")){const x=typeof r.phase=="string"?r.phase:"phase";if(n.endsWith(".completed")||n.endsWith(".complete"))return`${x} ${i??"completed"}${m?` in ${g(m)}`:""}.`;if(n.endsWith(".started")||n.endsWith(".start"))return`Starting ${x}${d?`  ${d}`:""}`}if(n.startsWith("build.phase.")){const x=typeof r.phase=="string"?r.phase:"build";if(n.endsWith(".completed")||n.endsWith(".complete"))return`${x} ${i??"completed"}${m?` in ${g(m)}`:""}.`;if(n.endsWith(".started")||n.endsWith(".start"))return`Starting ${x}${d?`  ${d}`:""}`}return null}}function FE({consoleLines:e,latestRun:n,onClearConsole:r,onShowRunDetails:i,runStatus:c}){const[u,d]=p.useState({origin:"all",level:"all"}),[m,g]=p.useState(!0),[x,b]=p.useState(!1),[y,w]=p.useState("parsed"),E=p.useRef(null),_=p.useMemo(()=>{const U=ux(u.level);return e.filter(X=>{const se=u.origin==="all"||(X.origin??"run")===u.origin,V=ux(X.level),ie=u.level==="all"||V>=U;return se&&ie})},[e,u]),j=p.useMemo(()=>_.map((U,X)=>({...U,key:U.id??`${U.timestamp??"tbd"}-${U.origin??"run"}-${X}`,rendered:y==="raw"?KE(U.raw??U.message):$E(U.message)})),[_,y]),C=p.useMemo(()=>_.map(U=>YE(U,y)).join(`
`),[_,y]),A=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",k=!!C,D=j.length>0,L=e.length>0,z=c&&c!=="idle"?c:null;p.useEffect(()=>{if(!m)return;const U=E.current;U&&(U.scrollTop=U.scrollHeight)},[j,m]);const Z=U=>{const X=U.currentTarget,V=X.scrollHeight-X.scrollTop-X.clientHeight<16;!V&&m?g(!1):V&&!m&&g(!0)},q=()=>{g(!0);const U=E.current;U&&(U.scrollTop=U.scrollHeight)},ee=p.useCallback(async U=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(U),!0}catch{}if(typeof document>"u")return!1;try{const X=document.createElement("textarea");X.value=U,X.setAttribute("readonly","true"),X.style.position="fixed",X.style.left="-9999px",document.body.appendChild(X),X.select();const se=document.execCommand("copy");return document.body.removeChild(X),se}catch{return!1}},[]),O=async()=>{if(!k)return;const U=await ee(C);b(U),U&&window.setTimeout(()=>b(!1),1500)};return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-[#2a2a2a] bg-[#1e1e1e] font-mono text-[13px] leading-relaxed text-[#d4d4d4] shadow-[0_8px_24px_rgba(0,0,0,0.45)]",children:[l.jsxs("div",{className:"flex flex-col border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#232323]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-[#9da5b4]",children:[l.jsx("span",{className:"font-semibold tracking-[0.3em] text-[#d4d4d4]",children:"Terminal"}),l.jsx("span",{className:"text-[10px] tracking-[0.3em] text-emerald-400",children:"live"}),z?l.jsx("span",{className:"rounded-full border border-[#3a3a3a] bg-[#2b2b2b] px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.2em] text-[#d4d4d4]",children:z}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-300",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by event origin",children:["Origin",l.jsxs("select",{value:u.origin,onChange:U=>d(X=>({...X,origin:U.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"}),l.jsx("option",{value:"raw",children:"Raw"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by severity",children:["Level",l.jsxs("select",{value:u.level,onChange:U=>d(X=>({...X,level:U.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsxs("div",{className:"flex items-center rounded border border-slate-600 text-[11px] font-semibold uppercase tracking-[0.12em] text-slate-200",title:"Toggle between parsed view and raw JSON events",children:[l.jsx("button",{type:"button",onClick:()=>w("parsed"),className:ge("px-2 py-[6px] transition",y==="parsed"?"bg-slate-700 text-white":"hover:bg-[#0f0f0f] text-slate-300"),children:"Parsed"}),l.jsx("button",{type:"button",onClick:()=>w("raw"),className:ge("px-2 py-[6px] border-l border-slate-600 transition",y==="raw"?"bg-slate-700 text-white":"hover:bg-[#0f0f0f] text-slate-300"),children:"Raw"})]}),l.jsx("button",{type:"button",onClick:()=>m?g(!1):q(),className:ge("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",m?"border border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),title:"Auto-scroll to newest logs",children:m?"Following":"Follow"}),l.jsx("button",{type:"button",onClick:O,className:ge("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",x?"border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),disabled:!k,title:A?"Copy visible console output":"Copy may be blocked by browser permissions",children:x?"Copied":"Copy"}),l.jsx("button",{type:"button",onClick:()=>r?.(),className:"rounded border border-slate-600 bg-[#0f0f0f] px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-200 transition hover:border-slate-400",title:"Clear console output",children:"Clear"})]})]}),n?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-[#2a2a2a] bg-[#181818] px-4 py-1.5 text-[11px] text-[#7f8794]",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(ZE,{status:n.status}),l.jsxs("span",{className:"truncate",title:n.runId,children:["Run ",n.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[n.documentName??"Document not recorded",fx(n.sheetNames)?`  ${fx(n.sheetNames)}`:""]}),n.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",XE(n.durationMs)]}):null]}),l.jsx("button",{type:"button",className:"text-[11px] font-semibold text-emerald-300 transition hover:text-emerald-200",onClick:()=>i?.(),children:"View details "})]}):null]}),l.jsx("div",{ref:E,onScroll:Z,className:"flex-1 overflow-auto bg-[#1e1e1e] [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:D?l.jsx("ul",{className:"bg-[#1e1e1e]",children:j.map(U=>l.jsx("li",{className:"flex items-start gap-3 border-b border-[#1a1a1a] px-3 py-[2px] transition hover:bg-[#232323] last:border-b-0",children:l.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[PE(U.timestamp),l.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-[#606674]",children:Ev(U.origin)}),l.jsx("span",{className:ge("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",GE(U.level)),children:WE(U.level)}),l.jsx("div",{className:ge("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",VE(U.level)),children:U.rendered})]})},U.key))}):L?l.jsx(dx,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):l.jsx(dx,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})})]})}function dx({title:e,description:n}){return l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:e}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:n})]})}function ZE({status:e}){const n=IE(e),r=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ge("inline-block h-2.5 w-2.5 rounded-full",r),"aria-hidden":!0})}function VE(e){switch(e){case"warning":return"text-amber-100";case"error":return"text-rose-100";case"success":return"text-emerald-100";default:return"text-[#d4d4d4]"}}function QE(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function IE(e){return e==="cancelled"}function Ev(e){return e==="build"?"[build]":e==="raw"?"[raw]":"[run]"}function PE(e){const n=_v(e);return n?l.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#7a8090]",children:["[",n,"]"]}):l.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#4f5665]","aria-hidden":!0,children:""})}function WE(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function GE(e){switch(e){case"warning":return"text-amber-300";case"error":return"text-rose-300";case"success":return"text-emerald-300";default:return"text-[#6f7683]"}}function _v(e){if(!e)return"";const n=Ma(e);if(n&&n.trim().length>0)return n;const r=e.trim();return r.length>0?r:""}function KE(e){return typeof e=="string"?l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[12px] leading-snug text-[#d4d4d4]",children:e}):e&&typeof e=="object"?l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[12px] leading-snug text-[#d4d4d4]",children:JSON.stringify(e,null,2)}):null}function YE(e,n){const r=_v(e.timestamp),i=Ev(e.origin),c=QE(e.level).toLowerCase();if(n==="raw"){const u=typeof e.raw=="string"?e.raw:e.raw?JSON.stringify(e.raw,null,2):e.message??"";return`${r?`[${r}] `:""}${i} ${c} ${u}`.trim()}return`${r?`[${r}] `:""}${i} ${c} ${e.message??""}`.trim()}function fx(e){return e?e.length===0?"All worksheets":e.join(", "):null}function XE(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function JE({validation:e}){const n=t_(e),r=n_(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",s_(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,c)=>l.jsxs("li",{className:e_(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??c}-${c}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:r})]})}function e_(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function t_(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function n_(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function s_(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Nv({summary:e}){const n=e.counts,r=e.validation.issues_total,i=e.fields??[],c=e.columns??[],u=i.slice(0,6),d=c.slice(0,5);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(Mc,{label:"Tables",value:n.tables?.total??""}),l.jsx(Mc,{label:"Rows",value:n.rows.total??""}),l.jsx(Mc,{label:"Mapped fields",value:n.fields.mapped}),l.jsx(Mc,{label:"Issues",value:r,intent:r>0?"warn":"ok"})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),i.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[u.map(m=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[m.label||m.field," ",m.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[m.mapped?"mapped":"unmapped",typeof m.tables_mapped=="number"?`  ${m.tables_mapped} tables`:""]})]},m.field)),i.length>u.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",i.length-u.length," more fields"]}):null]})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Columns"}),c.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No column details recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[d.map(m=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:m.header}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[m.mapped?"mapped":"unmapped","  ",m.occurrences?.tables_seen??""," tables"]})]},m.header_normalized)),c.length>d.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",c.length-d.length," more headers"]}):null]}),l.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Distinct headers mapped: ",n.columns.distinct_headers_mapped," / ",n.columns.distinct_headers]})]})]})]})}function Cv({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=sh(c),d=u.stream==="stderr"?"warning":void 0,m=u.level??d??"info";return i[m]=(i[m]??0)+1,i},{}),r=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:r.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const u=sh(i).message?.trim();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.type}),l.jsx("span",{className:"text-[11px] text-slate-500",children:r_(i.created_at)})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:u||`Level: ${a_(i)}`})]})})()},`${i.created_at}-${i.type}`))})]})}function r_(e){const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?String(e):n.toLocaleString()}function a_(e){const n=sh(e),r=n.stream==="stderr"?"warning":void 0;return n.level??r??"info"}function sh(e){const n=e.payload;return n&&typeof n=="object"?n:{}}function Mc({label:e,value:n,intent:r="default"}){const i=r==="warn"?"text-amber-700":r==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}function i_({latestRun:e,buildPhases:n,runPhases:r,runStatus:i,runMode:c}){return e?l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 overflow-auto",children:[l.jsx(l_,{buildPhases:n,runPhases:r,runStatus:i,runMode:c}),l.jsx(o_,{summary:e}),l.jsx(c_,{summary:e}),l.jsx(u_,{summary:e}),l.jsx(d_,{summary:e})]}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-xs text-slate-500",children:"No run yet. Run a test or validation to see details here."})}function l_({buildPhases:e,runPhases:n,runStatus:r,runMode:i}){const c=Object.entries(e),u=Object.entries(n);return c.length>0||u.length>0||r?l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("div",{className:"flex items-center justify-between gap-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Run timeline"}),l.jsxs("p",{className:"text-[12px] text-slate-500",children:[i?i==="validation"?"Validation":"Test run":"Run","  ",r??"idle"]})]})}),l.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[l.jsx(hx,{title:"Build",entries:c,fallback:b_(r)}),l.jsx(hx,{title:"Run",entries:u,fallback:v_(r)})]})]}):null}function hx({title:e,entries:n,fallback:r}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:e}),n.length===0?l.jsx("p",{className:"text-[12px] text-slate-500",children:r??"Waiting for updates"}):l.jsx("ul",{className:"space-y-1.5",children:n.map(([i,c])=>l.jsxs("li",{className:"flex items-start gap-2 rounded border border-slate-100 px-2 py-1",children:[l.jsx("span",{className:ge("mt-[3px] inline-flex h-2 w-2 rounded-full",p_(c.status)),"aria-hidden":!0}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[13px] font-semibold text-slate-700",children:x_(i)}),l.jsxs("p",{className:"text-[12px] text-slate-500",children:[c.message??g_(c.status),c.durationMs!=null?`  ${kv(c.durationMs)}`:""]})]})]},i))})]})}function o_({summary:e}){const n=e.durationMs!=null?kv(e.durationMs):null,r=e.sheetNames&&e.sheetNames.length>0?e.sheetNames.join(", "):e.sheetNames?"All worksheets":null;return l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.18em] text-slate-500",children:[l.jsx(f_,{status:e.status}),l.jsx("span",{className:"font-semibold text-slate-700",children:"Run"}),l.jsxs("span",{className:"text-slate-400",title:e.runId,children:["#",e.runId]})]}),l.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[h_(e.status),n?l.jsxs("span",{className:"font-normal text-slate-500",children:["  ",n]}):null]}),l.jsxs("div",{className:"text-xs text-slate-500",children:[e.documentName??"Document not recorded",r?`  ${r}`:null]}),e.completedAt?l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Completed ",m_(e.completedAt)]}):null]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.logsUrl?l.jsx("a",{href:e.logsUrl,className:"inline-flex items-center gap-2 rounded-md border border-slate-200 bg-slate-50 px-3 py-1.5 text-[12px] font-semibold text-slate-700 shadow-sm hover:border-slate-300 hover:bg-white",children:"Download logs"}):null})]})}function c_({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Output files"}),e.outputsLoaded?null:l.jsx("span",{className:"text-[12px] text-slate-400",children:"Loading"})]}),e.error?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.error}):e.outputsLoaded?e.outputs.length>0?l.jsx("ul",{className:"mt-2 space-y-1 text-sm text-slate-800",children:e.outputs.map(n=>{const r=n.path?.split("/").map(encodeURIComponent).join("/")??n.name.split("/").map(encodeURIComponent).join("/"),i=n.download_url?n.download_url:e.outputsBase?`${e.outputsBase}/${r}`:void 0,c=l.jsx("span",{className:"text-brand-600",children:n.name||n.path});return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[i?l.jsx("a",{href:i,className:"text-brand-600 hover:underline",children:n.name||n.path}):c,l.jsxs("span",{className:"text-[11px] text-slate-500",children:[n.byte_size.toLocaleString()," bytes"]})]},n.path??n.name)})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No output files were generated."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading outputs"})]})}function u_({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Run summary"}),e.summaryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.summaryError}):e.summaryLoaded?e.summary?l.jsx("div",{className:"mt-2",children:l.jsx(Nv,{summary:e.summary})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Summary not available."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading summary"})]})}function d_({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Telemetry summary"}),e.telemetryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?l.jsx("div",{className:"mt-2",children:l.jsx(Cv,{events:[...e.telemetry]})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No telemetry events captured."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading telemetry"})]})}function f_({status:e}){const n=Tv(e),r=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ge("inline-block h-2.5 w-2.5 rounded-full",r),"aria-hidden":!0})}function kv(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function h_(e){if(Tv(e))return"Canceled";switch(e){case"succeeded":return"Succeeded";case"failed":return"Failed";case"queued":return"Queued";case"running":return"Running";default:return e}}function m_(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function p_(e){switch(e){case"succeeded":return"bg-emerald-500";case"running":return"bg-amber-400";case"failed":return"bg-rose-500";case"skipped":return"bg-slate-400";default:return"bg-slate-300"}}function g_(e){switch(e){case"succeeded":return"Completed";case"running":return"In progress";case"failed":return"Failed";case"skipped":return"Skipped";default:return"Pending"}}function Tv(e){return e==="cancelled"}function x_(e){return e.replace(/[-_]/g," ").replace(/\b\w/g,n=>n.toUpperCase()).trim()}function b_(e){return e==="waiting_for_build"?"Waiting for build queue":e==="queued"?"Queued":e==="building"?"Building environment":"No build phases reported."}function v_(e){return e==="running"?"Running":e==="queued"||e==="waiting_for_build"||e==="building"?"Run pending.":"No run phases reported."}function y_({height:e,consoleLines:n,validation:r,activePane:i,onPaneChange:c,latestRun:u,onShowRunDetails:d,onClearConsole:m,runStatus:g,buildPhases:x,runPhases:b,runMode:y,onToggleCollapse:w,appearance:E="light"}){const _=r.messages.length>0,j=!!u,C=E==="dark"?{surface:"border-[#1f2431] bg-[#0f111a] text-slate-100",header:"border-[#1f2431] bg-[#0f111a]",hideButton:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{surface:"border-slate-200 bg-slate-50 text-slate-800",header:"border-slate-200 bg-slate-50",hideButton:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"},A=E==="dark"?"text-slate-300":"text-slate-500";return l.jsx("section",{className:ge("flex min-h-0 flex-col overflow-hidden border-t",C.surface),style:{height:e},children:l.jsxs(Dh,{value:i,onValueChange:k=>c(k),children:[l.jsxs("div",{className:ge("flex flex-none items-center justify-between border-b px-3 py-1.5",C.header),onDoubleClick:w,title:w?"Double-click to hide console":void 0,children:[l.jsxs(Rh,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Hl,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Hl,{value:"runSummary",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Run",j?l.jsx("span",{className:ge("ml-1 text-[10px] lowercase",A),children:u?.status}):null]}),l.jsxs(Hl,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",_?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:r.messages.length}):null]})]}),w?l.jsx("button",{type:"button",onClick:w,className:ge("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",C.hideButton),title:"Hide console",children:"Hide"}):null]}),l.jsx(Aa,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(FE,{consoleLines:n,latestRun:u,onClearConsole:m,onShowRunDetails:d,runStatus:g})}),l.jsx(Aa,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(JE,{validation:r})}),l.jsx(Aa,{value:"runSummary",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(i_,{latestRun:u,buildPhases:x,runPhases:b,runStatus:g,runMode:y})})]})})}function w_({containerRef:e,tabs:n,activeTabId:r,onCloseTab:i,onSelectRecentTab:c,onSelectTab:u}){return p.useEffect(()=>{if(!n.length)return;const d=g=>{const x=e.current;if(!x)return!1;const b=g.target;if(b instanceof Node&&x.contains(b))return!0;const y=document.activeElement;return!!(y&&x.contains(y))},m=g=>{if(!(g.ctrlKey||g.metaKey)||!d(g))return;if(g.key.toLowerCase()==="w"){if(!r)return;g.preventDefault(),i(r);return}if(g.key==="Tab"){if(n.length<2)return;g.preventDefault(),c(g.shiftKey?"backward":"forward");return}const x=b=>{if(n.length<2)return;const y=n.findIndex(j=>j.id===r),E=((y>=0?y:0)+b+n.length)%n.length,_=n[E];_&&u(_.id)};if(g.key==="PageUp"){g.preventDefault(),x(-1);return}g.key==="PageDown"&&(g.preventDefault(),x(1))};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[n,r,i,c,u,e]),null}const S_=p.lazy(()=>PS(()=>import("./MonacoCodeEditor-Cm-C6vzp.js"),[])),j_=p.forwardRef(function(n,r){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:ge("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(S_,{...c,ref:r,className:i})})});function E_({tabs:e,activeTabId:n,editorTheme:r,onContentChange:i,onSaveTab:c,canSaveFiles:u=!1,onRetryTabLoad:d,onSelectTab:m,isTabDragging:g=!1}){return p.useMemo(()=>e.find(b=>b.id===n)??null,[e,n])?l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(b=>l.jsx(Aa,{value:b.id,className:"flex min-h-0 min-w-0 flex-1",children:b.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",b.name,""]}):b.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:b.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>d?d(b.id):m(b.id),children:"Retry loading"})]}):l.jsx("div",{className:ge("flex min-h-0 min-w-0 flex-1",g&&"pointer-events-none select-none"),children:l.jsx(j_,{value:b.content,language:b.language??"plaintext",path:b.id,theme:r,onChange:y=>i(b.id,y??""),onSaveShortcut:()=>{u&&c?.(b.id)}})})},b.id))}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."})}function __(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const fu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qi(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function zh(e){return"nodeType"in e}function Gn(e){var n,r;return e?qi(e)?e:zh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Oh(e){const{Document:n}=Gn(e);return e instanceof n}function io(e){return qi(e)?!1:e instanceof Gn(e).HTMLElement}function Av(e){return e instanceof Gn(e).SVGElement}function Hi(e){return e?qi(e)?e.document:zh(e)?Oh(e)?e:io(e)||Av(e)?e.ownerDocument:document:document:document}const Xs=fu?p.useLayoutEffect:p.useEffect;function Lh(e){const n=p.useRef(e);return Xs(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function N_(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Xl(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return Xs(()=>{r.current!==e&&(r.current=e)},n),r}function lo(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Yc(e){const n=Lh(e),r=p.useRef(null),i=p.useCallback(c=>{c!==r.current&&n?.(c,r.current),r.current=c},[]);return[r,i]}function rh(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let Of={};function oo(e,n){return p.useMemo(()=>{if(n)return n;const r=Of[e]==null?0:Of[e]+1;return Of[e]=r,e+"-"+r},[e,n])}function Dv(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return i.reduce((u,d)=>{const m=Object.entries(d);for(const[g,x]of m){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const Ri=Dv(1),Xc=Dv(-1);function C_(e){return"clientX"in e&&"clientY"in e}function Uh(e){if(!e)return!1;const{KeyboardEvent:n}=Gn(e.target);return n&&e instanceof n}function k_(e){if(!e)return!1;const{TouchEvent:n}=Gn(e.target);return n&&e instanceof n}function ah(e){if(k_(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return C_(e)?{x:e.clientX,y:e.clientY}:null}const Jl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Jl.Translate.toString(e),Jl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),mx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function T_(e){return e.matches(mx)?e:e.querySelector(mx)}const A_={display:"none"};function D_(e){let{id:n,value:r}=e;return yt.createElement("div",{id:n,style:A_},r)}function R_(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return yt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},r)}function M_(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Rv=p.createContext(null);function z_(e){const n=p.useContext(Rv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function O_(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(d=>{var m;return(m=d[c])==null?void 0:m.call(d,u)})},[e]),n]}const L_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},U_={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function $_(e){let{announcements:n=U_,container:r,hiddenTextDescribedById:i,screenReaderInstructions:c=L_}=e;const{announce:u,announcement:d}=M_(),m=oo("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),z_(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:E}=y;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(y){let{active:w,over:E}=y;u(n.onDragOver({active:w,over:E}))},onDragEnd(y){let{active:w,over:E}=y;u(n.onDragEnd({active:w,over:E}))},onDragCancel(y){let{active:w,over:E}=y;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!g)return null;const b=yt.createElement(yt.Fragment,null,yt.createElement(D_,{id:i,value:c.draggable}),yt.createElement(R_,{id:m,announcement:d}));return r?Gs.createPortal(b,r):b}var cn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(cn||(cn={}));function Jc(){}function B_(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function q_(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const qs=Object.freeze({x:0,y:0});function H_(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function F_(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function Z_(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function V_(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function px(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const Q_=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=px(n,n.left,n.top),u=[];for(const d of i){const{id:m}=d,g=r.get(m);if(g){const x=H_(px(g),c);u.push({id:m,data:{droppableContainer:d,value:x}})}}return u.sort(F_)};function I_(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),d=c-i,m=u-r;if(i<c&&r<u){const g=n.width*n.height,x=e.width*e.height,b=d*m,y=b/(g+x-b);return Number(y.toFixed(4))}return 0}const P_=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=[];for(const u of i){const{id:d}=u,m=r.get(d);if(m){const g=I_(m,n);g>0&&c.push({id:d,data:{droppableContainer:u,value:g}})}}return c.sort(Z_)};function W_(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function Mv(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:qs}function G_(e){return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((d,m)=>({...d,top:d.top+e*m.y,bottom:d.bottom+e*m.y,left:d.left+e*m.x,right:d.right+e*m.x}),{...r})}}const K_=G_(1);function Y_(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function X_(e,n,r){const i=Y_(n);if(!i)return e;const{scaleX:c,scaleY:u,x:d,y:m}=i,g=e.left-d-(1-c)*parseFloat(r),x=e.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:x,right:g+b,bottom:x+y,left:g}}const J_={ignoreTransform:!1};function Fi(e,n){n===void 0&&(n=J_);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=Gn(e).getComputedStyle(e);x&&(r=X_(r,x,b))}const{top:i,left:c,width:u,height:d,bottom:m,right:g}=r;return{top:i,left:c,width:u,height:d,bottom:m,right:g}}function gx(e){return Fi(e,{ignoreTransform:!0})}function eN(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function tN(e,n){return n===void 0&&(n=Gn(e).getComputedStyle(e)),n.position==="fixed"}function nN(e,n){n===void 0&&(n=Gn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?r.test(u):!1})}function $h(e,n){const r=[];function i(c){if(n!=null&&r.length>=n||!c)return r;if(Oh(c)&&c.scrollingElement!=null&&!r.includes(c.scrollingElement))return r.push(c.scrollingElement),r;if(!io(c)||Av(c)||r.includes(c))return r;const u=Gn(e).getComputedStyle(c);return c!==e&&nN(c,u)&&r.push(c),tN(c,u)?r:i(c.parentNode)}return e?i(e):r}function zv(e){const[n]=$h(e,1);return n??null}function Lf(e){return!fu||!e?null:qi(e)?e:zh(e)?Oh(e)||e===Hi(e).scrollingElement?window:io(e)?e:null:null}function Ov(e){return qi(e)?e.scrollX:e.scrollLeft}function Lv(e){return qi(e)?e.scrollY:e.scrollTop}function ih(e){return{x:Ov(e),y:Lv(e)}}var bn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bn||(bn={}));function Uv(e){return!fu||!e?!1:e===document.scrollingElement}function $v(e){const n={x:0,y:0},r=Uv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:d,isRight:m,maxScroll:i,minScroll:n}}const sN={x:.2,y:.2};function rN(e,n,r,i,c){let{top:u,left:d,right:m,bottom:g}=r;i===void 0&&(i=10),c===void 0&&(c=sN);const{isTop:x,isBottom:b,isLeft:y,isRight:w}=$v(e),E={x:0,y:0},_={x:0,y:0},j={height:n.height*c.y,width:n.width*c.x};return!x&&u<=n.top+j.height?(E.y=bn.Backward,_.y=i*Math.abs((n.top+j.height-u)/j.height)):!b&&g>=n.bottom-j.height&&(E.y=bn.Forward,_.y=i*Math.abs((n.bottom-j.height-g)/j.height)),!w&&m>=n.right-j.width?(E.x=bn.Forward,_.x=i*Math.abs((n.right-j.width-m)/j.width)):!y&&d<=n.left+j.width&&(E.x=bn.Backward,_.x=i*Math.abs((n.left+j.width-d)/j.width)),{direction:E,speed:_}}function aN(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:n,left:r,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function Bv(e){return e.reduce((n,r)=>Ri(n,ih(r)),qs)}function iN(e){return e.reduce((n,r)=>n+Ov(r),0)}function lN(e){return e.reduce((n,r)=>n+Lv(r),0)}function oN(e,n){if(n===void 0&&(n=Fi),!e)return;const{top:r,left:i,bottom:c,right:u}=n(e);zv(e)&&(c<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const cN=[["x",["left","right"],iN],["y",["top","bottom"],lN]];class Bh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=$h(r),c=Bv(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,d,m]of cN)for(const g of d)Object.defineProperty(this,g,{get:()=>{const x=m(i),b=c[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Fl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var c;(c=this.target)==null||c.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function uN(e){const{EventTarget:n}=Gn(e);return e instanceof n?e:Hi(e)}function Uf(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var Ss;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function xx(e){e.preventDefault()}function dN(e){e.stopPropagation()}var dt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(dt||(dt={}));const qv={start:[dt.Space,dt.Enter],cancel:[dt.Esc],end:[dt.Space,dt.Enter,dt.Tab]},fN=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case dt.Right:return{...r,x:r.x+25};case dt.Left:return{...r,x:r.x-25};case dt.Down:return{...r,y:r.y+25};case dt.Up:return{...r,y:r.y-25}}};class Hv{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Fl(Hi(r)),this.windowListeners=new Fl(Gn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&oN(i),r(qs)}handleKeyDown(n){if(Uh(n)){const{active:r,context:i,options:c}=this.props,{keyboardCodes:u=qv,coordinateGetter:d=fN,scrollBehavior:m="smooth"}=c,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:qs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=d(n,{active:r,context:i.current,currentCoordinates:b});if(y){const w=Xc(y,b),E={x:0,y:0},{scrollableAncestors:_}=i.current;for(const j of _){const C=n.code,{isTop:A,isRight:k,isLeft:D,isBottom:L,maxScroll:z,minScroll:Z}=$v(j),q=aN(j),ee={x:Math.min(C===dt.Right?q.right-q.width/2:q.right,Math.max(C===dt.Right?q.left:q.left+q.width/2,y.x)),y:Math.min(C===dt.Down?q.bottom-q.height/2:q.bottom,Math.max(C===dt.Down?q.top:q.top+q.height/2,y.y))},O=C===dt.Right&&!k||C===dt.Left&&!D,U=C===dt.Down&&!L||C===dt.Up&&!A;if(O&&ee.x!==y.x){const X=j.scrollLeft+w.x,se=C===dt.Right&&X<=z.x||C===dt.Left&&X>=Z.x;if(se&&!w.y){j.scrollTo({left:X,behavior:m});return}se?E.x=j.scrollLeft-X:E.x=C===dt.Right?j.scrollLeft-z.x:j.scrollLeft-Z.x,E.x&&j.scrollBy({left:-E.x,behavior:m});break}else if(U&&ee.y!==y.y){const X=j.scrollTop+w.y,se=C===dt.Down&&X<=z.y||C===dt.Up&&X>=Z.y;if(se&&!w.x){j.scrollTo({top:X,behavior:m});return}se?E.y=j.scrollTop-X:E.y=C===dt.Down?j.scrollTop-z.y:j.scrollTop-Z.y,E.y&&j.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(n,Ri(Xc(y,this.referenceCoordinates),E))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Hv.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=qv,onActivation:c}=n,{active:u}=r;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function bx(e){return!!(e&&"distance"in e)}function vx(e){return!!(e&&"delay"in e)}class qh{constructor(n,r,i){var c;i===void 0&&(i=uN(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:d}=u;this.props=n,this.events=r,this.document=Hi(d),this.documentListeners=new Fl(this.document),this.listeners=new Fl(i),this.windowListeners=new Fl(Gn(d)),this.initialCoordinates=(c=ah(u))!=null?c:qs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,xx),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,xx),this.documentListeners.add(Ss.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vx(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(bx(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(Ss.Click,dN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:d,options:{activationConstraint:m}}=u;if(!c)return;const g=(r=ah(n))!=null?r:qs,x=Xc(c,g);if(!i&&m){if(bx(m)){if(m.tolerance!=null&&Uf(x,m.tolerance))return this.handleCancel();if(Uf(x,m.distance))return this.handleStart()}if(vx(m)&&Uf(x,m.tolerance))return this.handleCancel();this.handlePending(m,x);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===dt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const hN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hh extends qh{constructor(n){const{event:r}=n,i=Hi(r.target);super(n,hN,i)}}Hh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const mN={move:{name:"mousemove"},end:{name:"mouseup"}};var lh;(function(e){e[e.RightClick=2]="RightClick"})(lh||(lh={}));class pN extends qh{constructor(n){super(n,mN,Hi(n.event.target))}}pN.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===lh.RightClick?!1:(i?.({event:r}),!0)}}];const $f={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class gN extends qh{constructor(n){super(n,$f)}static setup(){return window.addEventListener($f.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener($f.move.name,n)};function n(){}}}gN.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:c}=r;return c.length>1?!1:(i?.({event:r}),!0)}}];var Zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zl||(Zl={}));var eu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(eu||(eu={}));function xN(e){let{acceleration:n,activator:r=Zl.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:d=5,order:m=eu.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:y,threshold:w}=e;const E=vN({delta:y,disabled:!u}),[_,j]=N_(),C=p.useRef({x:0,y:0}),A=p.useRef({x:0,y:0}),k=p.useMemo(()=>{switch(r){case Zl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Zl.DraggableRect:return c}},[r,c,g]),D=p.useRef(null),L=p.useCallback(()=>{const Z=D.current;if(!Z)return;const q=C.current.x*A.current.x,ee=C.current.y*A.current.y;Z.scrollBy(q,ee)},[]),z=p.useMemo(()=>m===eu.TreeOrder?[...x].reverse():x,[m,x]);p.useEffect(()=>{if(!u||!x.length||!k){j();return}for(const Z of z){if(i?.(Z)===!1)continue;const q=x.indexOf(Z),ee=b[q];if(!ee)continue;const{direction:O,speed:U}=rN(Z,ee,k,n,w);for(const X of["x","y"])E[X][O[X]]||(U[X]=0,O[X]=0);if(U.x>0||U.y>0){j(),D.current=Z,_(L,d),C.current=U,A.current=O;return}}C.current={x:0,y:0},A.current={x:0,y:0},j()},[n,L,i,j,u,d,JSON.stringify(k),JSON.stringify(E),_,x,z,b,JSON.stringify(w)])}const bN={x:{[bn.Backward]:!1,[bn.Forward]:!1},y:{[bn.Backward]:!1,[bn.Forward]:!1}};function vN(e){let{delta:n,disabled:r}=e;const i=rh(n);return lo(c=>{if(r||!i||!c)return bN;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[bn.Backward]:c.x[bn.Backward]||u.x===-1,[bn.Forward]:c.x[bn.Forward]||u.x===1},y:{[bn.Backward]:c.y[bn.Backward]||u.y===-1,[bn.Forward]:c.y[bn.Forward]||u.y===1}}},[r,n,i])}function yN(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return lo(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function wN(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:c}=i,u=c.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...r,...u]},[]),[e,n])}var eo;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(eo||(eo={}));var oh;(function(e){e.Optimized="optimized"})(oh||(oh={}));const yx=new Map;function SN(e,n){let{dragging:r,dependencies:i,config:c}=n;const[u,d]=p.useState(null),{frequency:m,measure:g,strategy:x}=c,b=p.useRef(e),y=C(),w=Xl(y),E=p.useCallback(function(A){A===void 0&&(A=[]),!w.current&&d(k=>k===null?A:k.concat(A.filter(D=>!k.includes(D))))},[w]),_=p.useRef(null),j=lo(A=>{if(y&&!r)return yx;if(!A||A===yx||b.current!==e||u!=null){const k=new Map;for(let D of e){if(!D)continue;if(u&&u.length>0&&!u.includes(D.id)&&D.rect.current){k.set(D.id,D.rect.current);continue}const L=D.node.current,z=L?new Bh(g(L),L):null;D.rect.current=z,z&&k.set(D.id,z)}return k}return A},[e,u,r,y,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||E()},[r,y]),p.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||_.current!==null||(_.current=setTimeout(()=>{E(),_.current=null},m))},[m,y,E,...i]),{droppableRects:j,measureDroppableContainers:E,measuringScheduled:u!=null};function C(){switch(x){case eo.Always:return!1;case eo.BeforeDragging:return r;default:return!r}}}function Fv(e,n){return lo(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function jN(e,n){return Fv(e,n)}function EN(e){let{callback:n,disabled:r}=e;const i=Lh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function hu(e){let{callback:n,disabled:r}=e;const i=Lh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function _N(e){return new Bh(Fi(e),e)}function wx(e,n,r){n===void 0&&(n=_N);const[i,c]=p.useState(null);function u(){c(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??r)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=EN({callback(g){if(e)for(const x of g){const{type:b,target:y}=x;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=hu({callback:u});return Xs(()=>{u(),e?(m?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),d?.disconnect())},[e]),i}function NN(e){const n=Fv(e);return Mv(e,n)}const Sx=[];function CN(e){const n=p.useRef(e),r=lo(i=>e?i&&i!==Sx&&e&&n.current&&e.parentNode===n.current.parentNode?i:$h(e):Sx,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function kN(e){const[n,r]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const d=Lf(u.target);d&&r(m=>m?(m.set(d,ih(d)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){d(u);const m=e.map(g=>{const x=Lf(g);return x?(x.addEventListener("scroll",c,{passive:!0}),[x,ih(x)]):null}).filter(g=>g!=null);r(m.length?new Map(m):null),i.current=e}return()=>{d(e),d(u)};function d(m){m.forEach(g=>{const x=Lf(g);x?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,d)=>Ri(u,d),qs):Bv(e):qs,[e,n])}function jx(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==qs;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Xc(e,r.current):qs}function TN(e){p.useEffect(()=>{if(!fu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function AN(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:c,handler:u}=i;return r[c]=d=>{u(d,n)},r},{}),[e,n])}function Zv(e){return p.useMemo(()=>e?eN(e):null,[e])}const Ex=[];function DN(e,n){n===void 0&&(n=Fi);const[r]=e,i=Zv(r?Gn(r):null),[c,u]=p.useState(Ex);function d(){u(()=>e.length?e.map(g=>Uv(g)?i:new Bh(n(g),g)):Ex)}const m=hu({callback:d});return Xs(()=>{m?.disconnect(),d(),e.forEach(g=>m?.observe(g))},[e]),c}function RN(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return io(n)?n:e}function MN(e){let{measure:n}=e;const[r,i]=p.useState(null),c=p.useCallback(x=>{for(const{target:b}of x)if(io(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=hu({callback:c}),d=p.useCallback(x=>{const b=RN(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,g]=Yc(d);return p.useMemo(()=>({nodeRef:m,rect:r,setRef:g}),[r,m,g])}const zN=[{sensor:Hh,options:{}},{sensor:Hv,options:{}}],ON={current:{}},Vc={draggable:{measure:gx},droppable:{measure:gx,strategy:eo.WhileDragging,frequency:oh.Optimized},dragOverlay:{measure:Fi}};class Vl extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const LN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vc,measureDroppableContainers:Jc,windowRect:null,measuringScheduled:!1},UN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jc,draggableNodes:new Map,over:null,measureDroppableContainers:Jc},mu=p.createContext(UN),Vv=p.createContext(LN);function $N(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vl}}}function BN(e,n){switch(n.type){case cn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case cn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case cn.DragEnd:case cn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case cn.RegisterDroppable:{const{element:r}=n,{id:i}=r,c=new Vl(e.droppable.containers);return c.set(i,r),{...e,droppable:{...e.droppable,containers:c}}}case cn.SetDroppableDisabled:{const{id:r,key:i,disabled:c}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const d=new Vl(e.droppable.containers);return d.set(r,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:d}}}case cn.UnregisterDroppable:{const{id:r,key:i}=n,c=e.droppable.containers.get(r);if(!c||i!==c.key)return e;const u=new Vl(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function qN(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:c}=p.useContext(mu),u=rh(i),d=rh(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&d!=null){if(!Uh(u)||document.activeElement===u.target)return;const m=c.get(d);if(!m)return;const{activatorNode:g,node:x}=m;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const y=T_(b);if(y){y.focus();break}}})}},[i,n,c,d,u]),null}function HN(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),r):r}function FN(e){return p.useMemo(()=>({draggable:{...Vc.draggable,...e?.draggable},droppable:{...Vc.droppable,...e?.droppable},dragOverlay:{...Vc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ZN(e){let{activeNode:n,measure:r,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:d,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Xs(()=>{if(!d&&!m||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=r(x),y=Mv(b,i);if(d||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=zv(x);w&&w.scrollBy({top:y.y,left:y.x})}},[n,d,m,i,r])}const Qv=p.createContext({...qs,scaleX:1,scaleY:1});var Kr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Kr||(Kr={}));const VN=p.memo(function(n){var r,i,c,u;let{id:d,accessibility:m,autoScroll:g=!0,children:x,sensors:b=zN,collisionDetection:y=P_,measuring:w,modifiers:E,..._}=n;const j=p.useReducer(BN,void 0,$N),[C,A]=j,[k,D]=O_(),[L,z]=p.useState(Kr.Uninitialized),Z=L===Kr.Initialized,{draggable:{active:q,nodes:ee,translate:O},droppable:{containers:U}}=C,X=q!=null?ee.get(q):null,se=p.useRef({initial:null,translated:null}),V=p.useMemo(()=>{var kt;return q!=null?{id:q,data:(kt=X?.data)!=null?kt:ON,rect:se}:null},[q,X]),ie=p.useRef(null),[ve,R]=p.useState(null),[Y,Q]=p.useState(null),be=Xl(_,Object.values(_)),xe=oo("DndDescribedBy",d),N=p.useMemo(()=>U.getEnabled(),[U]),P=FN(w),{droppableRects:ce,measureDroppableContainers:H,measuringScheduled:G}=SN(N,{dragging:Z,dependencies:[O.x,O.y],config:P.droppable}),F=yN(ee,q),J=p.useMemo(()=>Y?ah(Y):null,[Y]),$=jr(),le=jN(F,P.draggable.measure);ZN({activeNode:q!=null?ee.get(q):null,config:$.layoutShiftCompensation,initialRect:le,measure:P.draggable.measure});const me=wx(F,P.draggable.measure,le),Te=wx(F?F.parentElement:null),Ve=p.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=U.getNodeFor((r=Ve.current.over)==null?void 0:r.id),Ce=MN({measure:P.dragOverlay.measure}),re=(i=Ce.nodeRef.current)!=null?i:F,Ee=Z?(c=Ce.rect)!=null?c:me:null,$e=!!(Ce.nodeRef.current&&Ce.rect),qe=NN($e?null:me),nt=Zv(re?Gn(re):null),T=CN(Z?Se??F:null),K=DN(T),oe=HN(E,{transform:{x:O.x-qe.x,y:O.y-qe.y,scaleX:1,scaleY:1},activatorEvent:Y,active:V,activeNodeRect:me,containerNodeRect:Te,draggingNodeRect:Ee,over:Ve.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:T,scrollableAncestorRects:K,windowRect:nt}),Ne=J?Ri(J,O):null,we=kN(T),je=jx(we),De=jx(we,[me]),We=Ri(oe,je),Ke=Ee?K_(Ee,oe):null,Nt=V&&Ke?y({active:V,collisionRect:Ke,droppableRects:ce,droppableContainers:N,pointerCoordinates:Ne}):null,_e=V_(Nt,"id"),[ke,Pe]=p.useState(null),Dt=$e?oe:Ri(oe,De),lt=W_(Dt,(u=ke?.rect)!=null?u:null,me),Wt=p.useRef(null),Ct=p.useCallback((kt,zt)=>{let{sensor:Ft,options:Gt}=zt;if(ie.current==null)return;const Zt=ee.get(ie.current);if(!Zt)return;const hn=kt.nativeEvent,mn=new Ft({active:ie.current,activeNode:Zt,event:hn,options:Gt,context:Ve,onAbort(Ot){if(!ee.get(Ot))return;const{onDragAbort:Cn}=be.current,pn={id:Ot};Cn?.(pn),k({type:"onDragAbort",event:pn})},onPending(Ot,qn,Cn,pn){if(!ee.get(Ot))return;const{onDragPending:Yn}=be.current,Dn={id:Ot,constraint:qn,initialCoordinates:Cn,offset:pn};Yn?.(Dn),k({type:"onDragPending",event:Dn})},onStart(Ot){const qn=ie.current;if(qn==null)return;const Cn=ee.get(qn);if(!Cn)return;const{onDragStart:pn}=be.current,Kn={activatorEvent:hn,active:{id:qn,data:Cn.data,rect:se}};Gs.unstable_batchedUpdates(()=>{pn?.(Kn),z(Kr.Initializing),A({type:cn.DragStart,initialCoordinates:Ot,active:qn}),k({type:"onDragStart",event:Kn}),R(Wt.current),Q(hn)})},onMove(Ot){A({type:cn.DragMove,coordinates:Ot})},onEnd:Bn(cn.DragEnd),onCancel:Bn(cn.DragCancel)});Wt.current=mn;function Bn(Ot){return async function(){const{active:Cn,collisions:pn,over:Kn,scrollAdjustedTranslate:Yn}=Ve.current;let Dn=null;if(Cn&&Yn){const{cancelDrop:Je}=be.current;Dn={activatorEvent:hn,active:Cn,collisions:pn,delta:Yn,over:Kn},Ot===cn.DragEnd&&typeof Je=="function"&&await Promise.resolve(Je(Dn))&&(Ot=cn.DragCancel)}ie.current=null,Gs.unstable_batchedUpdates(()=>{A({type:Ot}),z(Kr.Uninitialized),Pe(null),R(null),Q(null),Wt.current=null;const Je=Ot===cn.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const vn=be.current[Je];vn?.(Dn),k({type:Je,event:Dn})}})}}},[ee]),Sr=p.useCallback((kt,zt)=>(Ft,Gt)=>{const Zt=Ft.nativeEvent,hn=ee.get(Gt);if(ie.current!==null||!hn||Zt.dndKit||Zt.defaultPrevented)return;const mn={active:hn};kt(Ft,zt.options,mn)===!0&&(Zt.dndKit={capturedBy:zt.sensor},ie.current=Gt,Ct(Ft,zt))},[ee,Ct]),$n=wN(b,Sr);TN(b),Xs(()=>{me&&L===Kr.Initializing&&z(Kr.Initialized)},[me,L]),p.useEffect(()=>{const{onDragMove:kt}=be.current,{active:zt,activatorEvent:Ft,collisions:Gt,over:Zt}=Ve.current;if(!zt||!Ft)return;const hn={active:zt,activatorEvent:Ft,collisions:Gt,delta:{x:We.x,y:We.y},over:Zt};Gs.unstable_batchedUpdates(()=>{kt?.(hn),k({type:"onDragMove",event:hn})})},[We.x,We.y]),p.useEffect(()=>{const{active:kt,activatorEvent:zt,collisions:Ft,droppableContainers:Gt,scrollAdjustedTranslate:Zt}=Ve.current;if(!kt||ie.current==null||!zt||!Zt)return;const{onDragOver:hn}=be.current,mn=Gt.get(_e),Bn=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,Ot={active:kt,activatorEvent:zt,collisions:Ft,delta:{x:Zt.x,y:Zt.y},over:Bn};Gs.unstable_batchedUpdates(()=>{Pe(Bn),hn?.(Ot),k({type:"onDragOver",event:Ot})})},[_e]),Xs(()=>{Ve.current={activatorEvent:Y,active:V,activeNode:F,collisionRect:Ke,collisions:Nt,droppableRects:ce,draggableNodes:ee,draggingNode:re,draggingNodeRect:Ee,droppableContainers:U,over:ke,scrollableAncestors:T,scrollAdjustedTranslate:We},se.current={initial:Ee,translated:Ke}},[V,F,Nt,Ke,ee,re,Ee,ce,U,ke,T,We]),xN({...$,delta:O,draggingRect:Ke,pointerCoordinates:Ne,scrollableAncestors:T,scrollableAncestorRects:K});const qa=p.useMemo(()=>({active:V,activeNode:F,activeNodeRect:me,activatorEvent:Y,collisions:Nt,containerNodeRect:Te,dragOverlay:Ce,draggableNodes:ee,droppableContainers:U,droppableRects:ce,over:ke,measureDroppableContainers:H,scrollableAncestors:T,scrollableAncestorRects:K,measuringConfiguration:P,measuringScheduled:G,windowRect:nt}),[V,F,me,Y,Nt,Te,Ce,ee,U,ce,ke,H,T,K,P,G,nt]),er=p.useMemo(()=>({activatorEvent:Y,activators:$n,active:V,activeNodeRect:me,ariaDescribedById:{draggable:xe},dispatch:A,draggableNodes:ee,over:ke,measureDroppableContainers:H}),[Y,$n,V,me,A,xe,ee,ke,H]);return yt.createElement(Rv.Provider,{value:D},yt.createElement(mu.Provider,{value:er},yt.createElement(Vv.Provider,{value:qa},yt.createElement(Qv.Provider,{value:lt},x)),yt.createElement(qN,{disabled:m?.restoreFocus===!1})),yt.createElement($_,{...m,hiddenTextDescribedById:xe}));function jr(){const kt=ve?.autoScrollEnabled===!1,zt=typeof g=="object"?g.enabled===!1:g===!1,Ft=Z&&!kt&&!zt;return typeof g=="object"?{...g,enabled:Ft}:{enabled:Ft}}}),QN=p.createContext(null),_x="button",IN="Draggable";function PN(e){let{id:n,data:r,disabled:i=!1,attributes:c}=e;const u=oo(IN),{activators:d,activatorEvent:m,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(mu),{role:E=_x,roleDescription:_="draggable",tabIndex:j=0}=c??{},C=g?.id===n,A=p.useContext(C?Qv:QN),[k,D]=Yc(),[L,z]=Yc(),Z=AN(d,n),q=Xl(r);Xs(()=>(y.set(n,{id:n,key:u,node:k,activatorNode:L,data:q}),()=>{const O=y.get(n);O&&O.key===u&&y.delete(n)}),[y,n]);const ee=p.useMemo(()=>({role:E,tabIndex:j,"aria-disabled":i,"aria-pressed":C&&E===_x?!0:void 0,"aria-roledescription":_,"aria-describedby":b.draggable}),[i,E,j,C,_,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:x,attributes:ee,isDragging:C,listeners:i?void 0:Z,node:k,over:w,setNodeRef:D,setActivatorNodeRef:z,transform:A}}function WN(){return p.useContext(Vv)}const GN="Droppable",KN={timeout:25};function YN(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:c}=e;const u=oo(GN),{active:d,dispatch:m,over:g,measureDroppableContainers:x}=p.useContext(mu),b=p.useRef({disabled:r}),y=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:_,updateMeasurementsFor:j,timeout:C}={...KN,...c},A=Xl(j??i),k=p.useCallback(()=>{if(!y.current){y.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{x(Array.isArray(A.current)?A.current:[A.current]),E.current=null},C)},[C]),D=hu({callback:k,disabled:_||!d}),L=p.useCallback((ee,O)=>{D&&(O&&(D.unobserve(O),y.current=!1),ee&&D.observe(ee))},[D]),[z,Z]=Yc(L),q=Xl(n);return p.useEffect(()=>{!D||!z.current||(D.disconnect(),y.current=!1,D.observe(z.current))},[z,D]),p.useEffect(()=>(m({type:cn.RegisterDroppable,element:{id:i,key:u,disabled:r,node:z,rect:w,data:q}}),()=>m({type:cn.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(m({type:cn.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,m]),{active:d,rect:w,isOver:g?.id===i,node:z,over:g,setNodeRef:Z}}function Iv(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function XN(e,n){return e.reduce((r,i,c)=>{const u=n.get(i);return u&&(r[c]=u),r},Array(e.length))}function zc(e){return e!==null&&e>=0}function JN(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function e2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Oc={scaleX:1,scaleY:1},t2=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:c,overIndex:u,index:d}=e;const m=(n=r[c])!=null?n:i;if(!m)return null;const g=n2(r,d,c);if(d===c){const x=r[u];return x?{x:c<u?x.left+x.width-(m.left+m.width):x.left-m.left,y:0,...Oc}:null}return d>c&&d<=u?{x:-m.width-g,y:0,...Oc}:d<c&&d>=u?{x:m.width+g,y:0,...Oc}:{x:0,y:0,...Oc}};function n2(e,n,r){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:r<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const Pv=e=>{let{rects:n,activeIndex:r,overIndex:i,index:c}=e;const u=Iv(n,i,r),d=n[c],m=u[c];return!m||!d?null:{x:m.left-d.left,y:m.top-d.top,scaleX:m.width/d.width,scaleY:m.height/d.height}},Wv="Sortable",Gv=yt.createContext({activeIndex:-1,containerId:Wv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pv,disabled:{draggable:!1,droppable:!1}});function s2(e){let{children:n,id:r,items:i,strategy:c=Pv,disabled:u=!1}=e;const{active:d,dragOverlay:m,droppableRects:g,over:x,measureDroppableContainers:b}=WN(),y=oo(Wv,r),w=m.rect!==null,E=p.useMemo(()=>i.map(Z=>typeof Z=="object"&&"id"in Z?Z.id:Z),[i]),_=d!=null,j=d?E.indexOf(d.id):-1,C=x?E.indexOf(x.id):-1,A=p.useRef(E),k=!JN(E,A.current),D=C!==-1&&j===-1||k,L=e2(u);Xs(()=>{k&&_&&b(E)},[k,E,_,b]),p.useEffect(()=>{A.current=E},[E]);const z=p.useMemo(()=>({activeIndex:j,containerId:y,disabled:L,disableTransforms:D,items:E,overIndex:C,useDragOverlay:w,sortedRects:XN(E,g),strategy:c}),[j,y,L.draggable,L.droppable,D,E,C,g,w,c]);return yt.createElement(Gv.Provider,{value:z},n)}const r2=e=>{let{id:n,items:r,activeIndex:i,overIndex:c}=e;return Iv(r,i,c).indexOf(n)},a2=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:c,items:u,newIndex:d,previousItems:m,previousContainerId:g,transition:x}=e;return!x||!i||m!==u&&c===d?!1:r?!0:d!==c&&n===g},i2={duration:200,easing:"ease"},Kv="transform",l2=Jl.Transition.toString({property:Kv,duration:0,easing:"linear"}),o2={roleDescription:"sortable"};function c2(e){let{disabled:n,index:r,node:i,rect:c}=e;const[u,d]=p.useState(null),m=p.useRef(r);return Xs(()=>{if(!n&&r!==m.current&&i.current){const g=c.current;if(g){const x=Fi(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&d(b)}}r!==m.current&&(m.current=r)},[n,r,i,c]),p.useEffect(()=>{u&&d(null)},[u]),u}function u2(e){let{animateLayoutChanges:n=a2,attributes:r,disabled:i,data:c,getNewIndex:u=r2,id:d,strategy:m,resizeObserverConfig:g,transition:x=i2}=e;const{items:b,containerId:y,activeIndex:w,disabled:E,disableTransforms:_,sortedRects:j,overIndex:C,useDragOverlay:A,strategy:k}=p.useContext(Gv),D=d2(i,E),L=b.indexOf(d),z=p.useMemo(()=>({sortable:{containerId:y,index:L,items:b},...c}),[y,c,L,b]),Z=p.useMemo(()=>b.slice(b.indexOf(d)),[b,d]),{rect:q,node:ee,isOver:O,setNodeRef:U}=YN({id:d,data:z,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:Z,...g}}),{active:X,activatorEvent:se,activeNodeRect:V,attributes:ie,setNodeRef:ve,listeners:R,isDragging:Y,over:Q,setActivatorNodeRef:be,transform:xe}=PN({id:d,data:z,attributes:{...o2,...r},disabled:D.draggable}),N=__(U,ve),P=!!X,ce=P&&!_&&zc(w)&&zc(C),H=!A&&Y,G=H&&ce?xe:null,J=ce?G??(m??k)({rects:j,activeNodeRect:V,activeIndex:w,overIndex:C,index:L}):null,$=zc(w)&&zc(C)?u({id:d,items:b,activeIndex:w,overIndex:C}):L,le=X?.id,me=p.useRef({activeId:le,items:b,newIndex:$,containerId:y}),Te=b!==me.current.items,Ve=n({active:X,containerId:y,isDragging:Y,isSorting:P,id:d,index:L,items:b,newIndex:me.current.newIndex,previousItems:me.current.items,previousContainerId:me.current.containerId,transition:x,wasDragging:me.current.activeId!=null}),Se=c2({disabled:!Ve,index:L,node:ee,rect:q});return p.useEffect(()=>{P&&me.current.newIndex!==$&&(me.current.newIndex=$),y!==me.current.containerId&&(me.current.containerId=y),b!==me.current.items&&(me.current.items=b)},[P,$,y,b]),p.useEffect(()=>{if(le===me.current.activeId)return;if(le!=null&&me.current.activeId==null){me.current.activeId=le;return}const re=setTimeout(()=>{me.current.activeId=le},50);return()=>clearTimeout(re)},[le]),{active:X,activeIndex:w,attributes:ie,data:z,rect:q,index:L,newIndex:$,items:b,isOver:O,isSorting:P,isDragging:Y,listeners:R,node:ee,overIndex:C,over:Q,setNodeRef:N,setActivatorNodeRef:be,setDroppableNodeRef:U,setDraggableNodeRef:ve,transform:Se??J,transition:Ce()};function Ce(){if(Se||Te&&me.current.newIndex===L)return l2;if(!(H&&!Uh(se)||!x)&&(P||Ve))return Jl.Transition.toString({...x,property:Kv})}}function d2(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}dt.Down,dt.Right,dt.Up,dt.Left;const f2=232,h2=30,_a=6;function Mi({open:e,position:n,onClose:r,items:i,appearance:c="dark"}){const u=p.useRef(null),d=p.useRef([]),[m,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,y]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const E=i.length*h2+_a*2,_=Math.max(_a,(window.innerWidth||0)-f2-_a),j=Math.max(_a,(window.innerHeight||0)-E-_a),C=Math.min(Math.max(n.x,_a),_),A=Math.min(Math.max(n.y,_a),j);g({x:C,y:A})},[e,n,i.length]),p.useEffect(()=>{e&&y(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;d.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=C=>{u.current&&(u.current.contains(C.target)||r())},_=C=>{if(u.current){if(u.current.contains(C.target)){C.preventDefault();return}r()}},j=C=>{if(C.key==="Escape"){C.preventDefault(),r();return}if(C.key==="ArrowDown"||C.key==="ArrowUp"){C.preventDefault();const A=C.key==="ArrowDown"?1:-1;y(k=>{if(i.length===0)return k;let D=k;for(let L=0;L<i.length;L+=1)if(D=(D+A+i.length)%i.length,!i[D]?.disabled)return D;return k});return}if(C.key==="Enter"||C.key===" "){C.preventDefault();const A=i[b];A&&!A.disabled&&(A.onSelect(),r())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",_),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",_),window.removeEventListener("keydown",j)}},[e,r,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return Gs.createPortal(l.jsx("div",{ref:u,role:"menu",className:ge("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((E,_)=>{const j=!!E.disabled,C=!!E.danger;return l.jsxs(p.Fragment,{children:[E.dividerAbove?l.jsx("li",{role:"separator",className:ge("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:A=>{d.current[_]=A},type:"button",role:"menuitem",className:ge("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,C&&!j&&w.danger,j&&"cursor-default"),onClick:A=>{A.stopPropagation(),!j&&(E.onSelect(),r())},onMouseEnter:()=>{j||y(_)},disabled:j,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?l.jsx("span",{className:"text-base opacity-80",children:E.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?l.jsx("span",{className:ge("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const wr="h-4 w-4 text-current opacity-80";function m2({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}function p2(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function g2(){return l.jsxs("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function x2(){return l.jsxs("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function b2(){return l.jsx("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function v2(){return l.jsxs("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function y2(){return l.jsxs("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function w2(){return l.jsxs("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Yv(){return l.jsx("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function S2(){return l.jsx("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function j2(){return l.jsx("svg",{className:wr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function E2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function _2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function N2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function C2({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:c,onCloseTab:u,setTabNode:d}){const{attributes:m,listeners:g,setNodeRef:x,transform:b,transition:y,isDragging:w}=u2({id:e.id}),E={transform:Jl.Transform.toString(b),transition:y},_=w||i===e.id,j=!!e.pinned;return l.jsxs("div",{ref:C=>{x(C),d(e.id,C)},style:E,className:ge("group relative mr-1 flex min-w-0 items-stretch",_&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:C=>{C.button===1&&(C.preventDefault(),u(e.id))},...m,...g,children:[l.jsxs(Hl,{value:e.id,"data-tab-id":e.id,title:e.id,className:ge("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",j?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[j?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(m2,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(p2,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:ge("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:C=>{C.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function k2({currentTab:e,tabs:n,canSaveFiles:r,hasDirtyTabs:i,onCloseTab:c,onCloseOtherTabs:u,onCloseTabsToRight:d,onCloseAllTabs:m,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:y}){const w=n.findIndex(D=>D.id===e.id),E=w>=0&&w<n.length-1,_=n.length>1,j=e.status==="ready"&&e.content!==e.initialContent,C=!!b&&r&&j&&!e.saving,A=!!y&&r&&i,k={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:l.jsx(g2,{}),disabled:!C,shortcut:k.save,onSelect:()=>b?.(e.id)},{id:"save-all",label:"Save All",icon:l.jsx(x2,{}),disabled:!A,shortcut:k.saveAll,onSelect:()=>y?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?l.jsx(S2,{}):l.jsx(Yv,{}),dividerAbove:!0,onSelect:()=>e.pinned?x(e.id):g(e.id)},{id:"close",label:"Close",icon:l.jsx(b2,{}),dividerAbove:!0,shortcut:k.close,onSelect:()=>c(e.id)},{id:"close-others",label:"Close Others",icon:l.jsx(v2,{}),disabled:!_,shortcut:k.closeOthers,onSelect:()=>u(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(y2,{}),disabled:!E,shortcut:k.closeRight,onSelect:()=>d(e.id)},{id:"close-all",label:"Close All",icon:l.jsx(w2,{}),dividerAbove:!0,disabled:n.length===0,shortcut:k.closeAll,onSelect:()=>m()}]}function T2({pinnedTabs:e,regularTabs:n,activeTabId:r,onSelectTab:i}){if(e.length===0&&n.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const c=[],u=(d,m)=>{const g=d.status==="ready"&&d.content!==d.initialContent,x=[];d.id===r&&x.push("Active"),d.saving?x.push("Saving"):g&&x.push("Unsaved"),c.push({id:`switch-${d.id}`,label:`${d.saving?" ":g?" ":""}${d.name}`,icon:d.pinned?l.jsx(Yv,{}):l.jsx(j2,{}),shortcut:x.length>0?x.join("  "):void 0,dividerAbove:m,onSelect:()=>i(d.id)})};return e.forEach(d=>u(d,!1)),n.forEach((d,m)=>u(d,m===0&&e.length>0)),c}const Nx=220,Cx=64,A2=14;function D2({tabs:e,activeTabId:n,menuAppearance:r,canSaveFiles:i=!1,onSelectTab:c,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:m,onCloseAllTabs:g,onMoveTab:x,onPinTab:b,onUnpinTab:y,onSaveTab:w,onSaveAllTabs:E,onTabDragStateChange:_}){const[j,C]=p.useState(null),[A,k]=p.useState(null),[D,L]=p.useState(null),[z,Z]=p.useState({left:!1,right:!1}),[q,ee]=p.useState(0),O=p.useRef(null),U=p.useRef(null),X=p.useRef(new Map),se=p.useMemo(()=>e.filter($=>$.pinned),[e]),V=p.useMemo(()=>e.filter($=>!$.pinned),[e]),ve=p.useMemo(()=>e.filter($=>$.status==="ready"&&$.content!==$.initialContent),[e]).length>0,R=q_(B_(Hh,{activationConstraint:{distance:5}})),Y=r==="dark"?"border-[#1f2937] bg-[#0f172a]":"border-slate-200 bg-slate-900/5",Q=r==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white focus-visible:ring-white/30 focus-visible:ring-offset-0":"text-slate-500 hover:bg-white hover:text-slate-900 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5",be=p.useCallback(($,le)=>{const me=X.current;le?me.set($,le):me.delete($)},[]);p.useEffect(()=>{j&&!e.some($=>$.id===j.tabId)&&C(null),e.length||k(null)},[j,e]);const xe=p.useCallback($=>{L(String($.active.id)),_?.(!0)},[_]),N=p.useCallback($=>{const le=$.active.id,me=$.over?.id;if(me&&le!==me){const Te=e.findIndex(Se=>Se.id===le),Ve=e.findIndex(Se=>Se.id===me);if(Te!==-1&&Ve!==-1){const Se=Te<Ve?Ve+1:Ve;x(String(le),Se)}}L(null),_?.(!1)},[x,_,e]),P=p.useCallback(()=>{L(null),_?.(!1)},[_]),ce=p.useCallback(()=>{const $=O.current;if(!$){Z({left:!1,right:!1});return}const{scrollLeft:le,scrollWidth:me,clientWidth:Te}=$;Z({left:le>2,right:le+Te<me-2})},[]);p.useEffect(()=>{const $=O.current;if(!$){Z({left:!1,right:!1});return}ce();const le=()=>ce();$.addEventListener("scroll",le),window.addEventListener("resize",ce);const me=typeof ResizeObserver<"u"?new ResizeObserver(ce):null;return me?.observe($),()=>{$.removeEventListener("scroll",le),window.removeEventListener("resize",ce),me?.disconnect()}},[e.length,ce]),p.useEffect(()=>{if(!D){ee(0);return}const $=le=>{const me=O.current;if(!me){ee(0);return}const Te=me.getBoundingClientRect();le.clientX<Te.left+Cx?ee(-1):le.clientX>Te.right-Cx?ee(1):ee(0)};return window.addEventListener("pointermove",$),()=>{window.removeEventListener("pointermove",$),ee(0)}},[D]),p.useEffect(()=>{if(!D||q===0)return;let $;const le=()=>{const me=O.current;me&&(me.scrollBy({left:q*A2}),$=window.requestAnimationFrame(le))};return $=window.requestAnimationFrame(le),()=>window.cancelAnimationFrame($)},[q,D]),p.useEffect(()=>{X.current.get(n)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const H=p.useMemo(()=>{if(!j)return[];const $=e.find(le=>le.id===j.tabId);return $?k2({currentTab:$,tabs:e,canSaveFiles:i,hasDirtyTabs:ve,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:m,onCloseAllTabs:g,onPinTab:b,onUnpinTab:y,onSaveTab:w,onSaveAllTabs:E}):[]},[i,j,ve,g,d,u,m,b,E,w,y,e]),G=p.useMemo(()=>T2({pinnedTabs:se,regularTabs:V,activeTabId:n,onSelectTab:c}),[se,V,n,c]),F=p.useCallback($=>{O.current?.scrollBy({left:$,behavior:"smooth"})},[]),J=p.useCallback(()=>{const $=U.current?.getBoundingClientRect();$&&k({x:$.left,y:$.bottom+6})},[]);return l.jsxs(l.Fragment,{children:[l.jsx(VN,{sensors:R,collisionDetection:Q_,onDragStart:xe,onDragEnd:N,onDragCancel:P,children:l.jsx(s2,{items:e.map($=>$.id),strategy:t2,children:l.jsxs("div",{className:ge("flex items-center gap-1 px-1",Y,"border-b"),children:[l.jsx(kx,{appearance:r,direction:"left",disabled:!z.left,onClick:()=>F(-Nx)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[z.left?l.jsx(Tx,{position:"left",appearance:r}):null,z.right?l.jsx(Tx,{position:"right",appearance:r}):null,l.jsx("div",{ref:O,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:$=>{Math.abs($.deltaY)>Math.abs($.deltaX)&&($.preventDefault(),O.current?.scrollBy({left:$.deltaY}))},children:l.jsx(Rh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map($=>{const le=$.status==="ready"&&$.content!==$.initialContent,me=$.id===n;return l.jsx(C2,{tab:$,isActive:me,isDirty:le,draggingId:D,setTabNode:be,onContextMenu:Te=>{Te.preventDefault(),C({tabId:$.id,x:Te.clientX,y:Te.clientY})},onCloseTab:u},$.id)})})})]}),l.jsx(kx,{appearance:r,direction:"right",disabled:!z.right,onClick:()=>F(Nx)}),l.jsx("button",{ref:U,type:"button",className:ge("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",Q),"aria-label":"Open editors list",onClick:J,children:l.jsx(N2,{})})]})})}),l.jsx(Mi,{open:!!j,position:j&&{x:j.x,y:j.y},onClose:()=>C(null),items:H,appearance:r}),l.jsx(Mi,{open:!!A,position:A,onClose:()=>k(null),items:G,appearance:r})]})}function kx({appearance:e,direction:n,disabled:r,onClick:i}){const c=e==="dark"?"hover:bg-white/10 hover:text-white focus-visible:ring-2 focus-visible:ring-white/30":"hover:bg-white hover:text-slate-900 focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5";return l.jsx("button",{type:"button",className:ge("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none",e==="dark"?"text-slate-300":"text-slate-500",r?"cursor-default opacity-30":c),onClick:i,disabled:r,"aria-label":n==="left"?"Scroll tabs left":"Scroll tabs right",children:n==="left"?l.jsx(E2,{}):l.jsx(_2,{})})}function Tx({position:e,appearance:n}){const r=n==="dark"?e==="left"?"left-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent":"right-0 bg-gradient-to-l from-[#0f172a] via-[#0f172a]/80 to-transparent":e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent";return l.jsx("div",{className:ge("pointer-events-none absolute top-0 bottom-0 w-8",r)})}function R2({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:m,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:_,menuAppearance:j,canSaveFiles:C=!1,minHeight:A,onRetryTabLoad:k}){const D=e.length>0,L=p.useRef(null),[z,Z]=p.useState(!1),q=p.useMemo(()=>e.find(ee=>ee.id===n)??null,[e,n]);return!D||!q?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{ref:L,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:A?{minHeight:A}:void 0,"data-editor-area":!0,children:[l.jsx(w_,{containerRef:L,tabs:e,activeTabId:n,onCloseTab:i,onSelectTab:r,onSelectRecentTab:E}),l.jsxs(Dh,{value:q.id,onValueChange:r,children:[l.jsx(D2,{tabs:e,activeTabId:q.id,menuAppearance:j,canSaveFiles:C,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:m,onPinTab:g,onUnpinTab:x,onSaveTab:y,onSaveAllTabs:w,onTabDragStateChange:Z}),l.jsx(E_,{tabs:e,activeTabId:q.id,editorTheme:_,onContentChange:b,onSaveTab:y,canSaveFiles:C,onRetryTabLoad:k,onSelectTab:r,isTabDragging:z})]})]})}const M2={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},z2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function O2(e){const n=new Set,r=i=>{i.kind==="folder"&&(n.add(i.id),i.children?.forEach(r))};return r(e),n}function Bf(e,n,r){const i=new Set;for(const c of e)n.has(c)&&i.add(c);return i.add(r),i}function Ax(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function L2({width:e,tree:n,activeFileId:r="",openFileIds:i=[],onSelectFile:c,theme:u,canCreateFile:d=!1,canCreateFolder:m=!1,isCreatingEntry:g=!1,onCreateFile:x,onCreateFolder:b,canDeleteFile:y=!1,deletingFilePath:w=null,canDeleteFolder:E=!1,deletingFolderPath:_=null,onDeleteFile:j,onDeleteFolder:C,expandedStorageKey:A,onHide:k}){const D=p.useMemo(()=>A?Ys(A):null,[A]),L=p.useMemo(()=>O2(n),[n]),[z,Z]=p.useState(()=>{const $=D?.get()??null,le=$?new Set($):new Set([n.id]);return Bf(le,L,n.id)}),[q,ee]=p.useState(null),[O,U]=p.useState(null),[X,se]=p.useState(null);p.useEffect(()=>{U(null),se(null)},[n.id]),p.useEffect(()=>{Z($=>{const le=Bf($,L,n.id);return Ax($,le)?$:le})},[L,n.id]),p.useEffect(()=>{if(!D)return;const $=D.get();if(!$)return;const le=Bf(new Set($),L,n.id);Z(me=>Ax(me,le)?me:le)},[D,L,n.id]),p.useEffect(()=>{if(!D)return;const $=Array.from(z).filter(le=>le!==n.id&&L.has(le));D.set($)},[z,D,L,n.id]);const V=p.useCallback($=>{Z(le=>{const me=new Set(le);return me.has($)?me.delete($):me.add($),me.add(n.id),me})},[n.id]),ie=p.useCallback(($,le)=>{Z(me=>{const Te=new Set(me);return le?Te.add($):$!==n.id&&Te.delete($),Te.add(n.id),Te})},[n.id]),ve=p.useCallback(()=>{Z(new Set([n.id]))},[n.id]),R=p.useCallback(($,le)=>{se(null),Z(me=>{const Te=new Set(me);return Te.add(n.id),Te.add($),Te}),U({parentId:$,kind:le})},[n.id]),Y=p.useCallback(async($,le,me)=>{const Te=le.trim();if(!Te){se("Name cannot be empty.");return}const Ve=me==="folder"?b:x;if(Ve)try{se(null),await Ve($===n.id?"":$,Te),U(null)}catch(Se){const Ce=Se instanceof Error?Se.message:"Unable to create entry.";se(Ce)}},[x,b,n.id]),Q=p.useCallback(()=>{U(null),se(null)},[]),be=p.useCallback(($,le)=>{$.preventDefault(),ee({node:le,position:{x:$.clientX,y:$.clientY}})},[]),xe=p.useCallback(async $=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText($);return}catch{}if(typeof document>"u")return;const le=document.createElement("textarea");le.value=$,le.setAttribute("readonly","true"),le.style.position="absolute",le.style.left="-9999px",document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le)},[]),N=p.useCallback($=>{j&&(j($),ee(null))},[j]),P=p.useCallback($=>{C&&(C($),ee(null))},[C]),ce=p.useMemo(()=>{if(!q)return[];const{node:$}=q,le={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if($.kind==="file")return[{id:"open-file",label:"Open",icon:l.jsx(F2,{}),shortcut:le.open,onSelect:()=>c($.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(Rx,{}),shortcut:le.copyPath,onSelect:()=>{xe($.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(Mx,{}),shortcut:le.delete,disabled:!y||!j,onSelect:()=>N($.id)}];const me=z.has($.id);return[{id:"new-file",label:"New File",icon:l.jsx(Jv,{}),shortcut:le.newFile,disabled:!d||!x,onSelect:()=>{!d||!x||(R($.id,"file"),ee(null))}},{id:"new-folder",label:"New Folder",icon:l.jsx(ch,{}),shortcut:le.newFolder,disabled:!m||!b,onSelect:()=>{!m||!b||(R($.id,"folder"),ee(null))}},{id:"toggle-folder",label:me?"Collapse Folder":"Expand Folder",icon:me?l.jsx(Z2,{}):l.jsx(V2,{}),onSelect:()=>ie($.id,!me)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(Q2,{}),shortcut:le.collapseAll,dividerAbove:!0,onSelect:()=>ve()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(Rx,{}),shortcut:le.copyPath,onSelect:()=>{xe($.id)}},{id:"delete-folder",label:"Delete Folder",icon:l.jsx(Mx,{}),shortcut:le.delete,disabled:!E||!C,onSelect:()=>P($.id)}]},[q,c,xe,y,j,z,ie,ve,d,m,x,b,R,E,C,P,N]),H=M2[u],G=z2[u],F=p.useMemo(()=>n.children??[],[n]),J=u==="dark"?"dark":"light";return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:H.surface,borderColor:H.border,color:H.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:H.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:H.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:k,"aria-label":"Hide explorer",className:ge("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(H2,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[F.map($=>l.jsx(Xv,{node:$,depth:0,expanded:z,activeFileId:r,openFileIds:i,onToggleFolder:V,onSelectFile:c,tokens:H,theme:u,focusRingClass:G,onContextMenu:be,editing:O,onSubmitCreateEntry:Y,onCancelCreateEntry:Q,createError:X,isCreatingEntry:g,deletingFilePath:w,deletingFolderPath:_,onClearCreateError:()=>se(null)},$.id)),O?.parentId===n.id?l.jsx("li",{className:"pl-2",children:l.jsx(ey,{appearance:u,icon:O.kind==="folder"?l.jsx(ch,{}):void 0,placeholder:O.kind==="folder"?"new_folder":"new_file.py",onSubmit:$=>Y(n.id,$,O.kind),onCancel:Q,onChange:()=>se(null),isSubmitting:g,error:X})}):null]})})]}),l.jsx(Mi,{open:!!q,position:q?q.position:null,onClose:()=>ee(null),items:ce,appearance:J})]})}function Xv({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:d,tokens:m,theme:g,focusRingClass:x,onContextMenu:b,editing:y,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:_,isCreatingEntry:j,deletingFilePath:C,deletingFolderPath:A,onClearCreateError:k}){const L={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const U=r.has(e.id),X=A===e.id,se=y?.parentId===e.id,V={...L,color:U?m.textPrimary:m.textMuted};return U&&m.folderActiveBg!=="transparent"&&(V.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:ie=>b(ie,e),className:ge("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x,X&&"opacity-60"),style:V,"aria-expanded":U,disabled:X,children:[l.jsx($2,{open:U,tokens:m}),l.jsx(B2,{open:U,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),U?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(ie=>l.jsx(Xv,{node:ie,depth:n+1,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:d,tokens:m,theme:g,focusRingClass:x,onContextMenu:b,editing:y,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:_,isCreatingEntry:j,deletingFilePath:C,deletingFolderPath:A,onClearCreateError:k},ie.id)),se?l.jsx("li",{className:"pl-2",children:l.jsx(ey,{appearance:g,icon:y?.kind==="folder"?l.jsx(ch,{}):void 0,placeholder:y?.kind==="folder"?"new_folder":"new_file.py",onSubmit:ie=>{y&&w(e.id,ie,y.kind)},onCancel:E,onChange:k,isSubmitting:j,error:_})}):null]}):null]})}const z=i===e.id,Z=c.includes(e.id),q=C===e.id,ee=U2(e.name,e.language),O={...L,color:m.textPrimary};return z&&(O.backgroundColor=m.selectionBg,O.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:U=>b(U,e),className:ge("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,z&&"shadow-inner shadow-[#00000033]",q&&"opacity-60"),style:O,disabled:q,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(q2,{className:ge(ee,Z&&!z&&"opacity-90",!Z&&!z&&"opacity-75")})}),l.jsx("span",{className:ge("flex-1 truncate",z&&"font-semibold"),children:e.name}),Z&&!z?l.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:m.badgeOpen}}):null]})})}const Dx={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function U2(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&Dx[i]?Dx[i]:"text-slate-400"}function $2({open:e,tokens:n}){return l.jsx("svg",{className:ge("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function B2({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function q2({className:e}){return l.jsxs("svg",{className:ge("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function H2(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const ta="h-4 w-4 text-current opacity-80";function F2(){return l.jsx("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function Rx(){return l.jsxs("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function Z2(){return l.jsx("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Jv(){return l.jsxs("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function ch(){return l.jsxs("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 5h3.5l1.2 1.4H12.5a1 1 0 0 1 1 1V12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 8v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 9.5h3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function V2(){return l.jsx("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Q2(){return l.jsxs("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function Mx(){return l.jsxs("svg",{className:ta,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function ey({appearance:e,onSubmit:n,onCancel:r,onChange:i,isSubmitting:c,error:u,placeholder:d="new_file.py",icon:m}){const[g,x]=p.useState(""),b=p.useRef(null);p.useEffect(()=>{b.current?.focus(),b.current?.select()},[]);const y=p.useCallback(()=>{n(g.trim())},[n,g]),w=e==="dark"?"text-slate-300":"text-slate-600",E=e==="dark"?"#232323":"#e8e8e8",_=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:E,borderColor:_},onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:m??l.jsx(Jv,{})}),l.jsx("input",{ref:b,value:g,onChange:j=>{x(j.target.value),i?.()},onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),y()),j.key==="Escape"&&(j.preventDefault(),r())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:d,disabled:c}),l.jsx("button",{type:"button",className:ge("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",c?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:y,disabled:c,children:c?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:r,disabled:c,children:"Cancel"})]}),l.jsx("div",{className:ge("mt-1 text-[11px]",w),children:"Enter a name and press Enter. Escape to cancel."}),u?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:u}):null]})}function zx({orientation:e,onPointerDown:n,onDoubleClick:r,onToggle:i,collapsed:c}){const u=e==="vertical",d=u?"":c?"":"";return l.jsxs("div",{role:"separator","aria-orientation":e,className:ge("relative select-none bg-transparent group",u?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:n,onDoubleClick:r,title:u?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[l.jsx("span",{className:"sr-only",children:"Resize panel"}),l.jsx("div",{className:ge("absolute inset-0 flex items-center justify-center",u?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:l.jsx("div",{className:ge(u?"h-full w-px":"h-px w-full","bg-slate-400/50")})}),i&&!u?l.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),i()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-slate-800/70 text-[10px] text-slate-100 opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":c?"Show console":"Hide console",title:c?"Show console":"Hide console",children:d}):null]})}const I2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function Ox(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=Ql(n),c={id:n,name:Lx(n),kind:"folder",children:[]},u=new Map([[n,c]]),d=g=>{if(g.length===0)return c;const x=Ql(g),b=x===i?n:x,y=u.get(b);if(y)return y;const w={id:b,name:Lx(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":G2(b)??n,_=d(E);return qf(_,w),w},m=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of m){const x=g.parent&&g.parent.length>0?Ql(g.parent):n,b=d(x);if(g.kind==="dir"){const w=d(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&qf(b,w);continue}const y={id:g.path,name:g.name,kind:"file",language:W2(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,y),qf(b,y)}return c}function qf(e,n){const r=e.children??[],i=r.some(c=>c.id===n.id)?r.map(c=>c.id===n.id?n:c):[...r,n];e.children=i.sort(P2)}function P2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function W2(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return I2[i]}function Lx(e){const n=Ql(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function G2(e){const n=Ql(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function Ql(e){return e?e.replace(/\/+$/,""):""}function js(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=js(r,n);if(i)return i}return null}function Fh(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=Fh(n);if(r)return r}return null}function K2({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[c,u]=p.useState([]),[d,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(()=>!i),[w,E]=p.useState(!1),_=p.useRef(new Set),j=p.useRef([]),C=p.useRef(""),A=p.useRef([]),k=p.useCallback(H=>{m(G=>G===H?G:H),x(G=>{const F=G.filter($=>j.current.some(le=>le.id===$));if(!H)return F;const J=F.filter($=>$!==H);return[H,...J]})},[]);p.useEffect(()=>{C.current=d},[d]),p.useEffect(()=>{A.current=g},[g]),p.useEffect(()=>{if(!e){u([]),m(""),x([]);return}u(G=>G.filter(F=>!!js(e,F.id)).map(F=>{const J=js(e,F.id);return!J||J.kind!=="file"?F:{...F,name:J.name,language:J.language,metadata:J.metadata}}));const H=C.current;(!H||!js(e,H))&&k("")},[e,k]);const D=p.useMemo(()=>c.find(H=>H.id===d)??c[0]??null,[d,c]),L=p.useCallback(async H=>{if(!j.current.some(F=>F.id===H))return;let G=!1;if(u(F=>F.map(J=>J.id!==H?J:J.status==="ready"?(G=!0,J):{...J,status:"loading",error:null})),!G)try{const F=await r(H);u(J=>J.map($=>$.id===H?{...$,initialContent:F.content,content:F.content,status:"ready",error:null,etag:F.etag??null,saving:!1,saveError:null}:$))}catch(F){const J=F instanceof Error?F.message:"Unable to load file.";u($=>$.map(le=>le.id===H?{...le,status:"error",error:J}:le))}},[r]),z=p.useCallback((H,G)=>{if(!e)return;const F=js(e,H);!F||F.kind!=="file"||(u(J=>{if(J.some(le=>le.id===H))return J;const $={id:F.id,name:F.name,language:F.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:F.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...J,$]}),(G?.activate??!0)&&k(H))},[e,k]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const H=i.get(),F=(H?.openTabs??[]).map(J=>typeof J=="string"?{id:J,pinned:!1}:J).filter(J=>!!(J&&J.id));if(F.length>0){const J=[];for(const $ of F){const le=js(e,$.id);!le||le.kind!=="file"||J.push({id:le.id,name:le.name,language:le.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:le.metadata,pinned:!!$.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(J.length>0){u(J);const $=(H?.activeTabId&&J.some(Te=>Te.id===H.activeTabId)?H.activeTabId:J[0]?.id)??"";m($);const me=(H?.mru&&H.mru.length>0?H.mru:J.map(Te=>Te.id)).filter(Te=>J.some(Ve=>Ve.id===Te));x(me),E(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||E(!0);return}if(w)return;const H=n&&js(e,n)||Fh(e);if(!H){E(!0);return}z(H.id),E(!0)},[e,n,z,b,c.length,w]);const Z=p.useCallback(H=>{z(H)},[z]),q=p.useCallback(H=>{k(H),u(G=>G.map(F=>F.id===H&&F.status==="error"?{...F,status:"loading",error:null}:F))},[k]),ee=p.useCallback(H=>{u(G=>{const F=G.filter(le=>le.id!==H),J=C.current,$=J===H?F[F.length-1]?.id??"":F.some(le=>le.id===J)?J:F[F.length-1]?.id??"";return k($),F})},[k]),O=p.useCallback(H=>{u(G=>!G.some(F=>F.id===H)||G.length<=1?G:(k(H),G.filter(F=>F.id===H)))},[k]),U=p.useCallback(H=>{u(G=>{const F=G.findIndex(le=>le.id===H);if(F===-1||F===G.length-1)return G;const J=G.slice(0,F+1),$=J.some(le=>le.id===C.current)?C.current:H;return k($),J})},[k]),X=p.useCallback(()=>{u([]),m(""),x([])},[]),se=p.useCallback((H,G)=>{u(F=>{if(F.length<=1)return F;const J=F.findIndex(Ce=>Ce.id===H);if(J===-1)return F;const $=F.filter((Ce,re)=>re!==J),le=Math.max(0,Math.min(G,$.length)),me=[],Te=[],Ve=F[J];if($.forEach(Ce=>{Ce.pinned?me.push(Ce):Te.push(Ce)}),(le<=me.length?"pinned":"regular")==="pinned"){const Ce=Math.max(0,Math.min(le,me.length));me.splice(Ce,0,{...Ve,pinned:!0})}else{const Ce=Math.max(0,Math.min(le-me.length,Te.length));Te.splice(Ce,0,{...Ve,pinned:!1})}return[...me,...Te]})},[]),V=p.useCallback(H=>{if(_.current.has(H))return;let G=!1;u(F=>F.map(J=>J.id!==H?J:(G=!0,{...J,status:"loading",error:null}))),G&&(_.current.add(H),L(H).finally(()=>{_.current.delete(H)}))},[L]),ie=p.useCallback(H=>{u(G=>{const F=[],J=[];let $=null;for(const me of G){if(me.id===H){$=me;continue}me.pinned?F.push(me):J.push(me)}if(!$||$.pinned)return G;const le={...$,pinned:!0};return[...F,le,...J]})},[]),ve=p.useCallback(H=>{u(G=>{const F=[],J=[];let $=null;for(const me of G){if(me.id===H){$=me;continue}me.pinned?F.push(me):J.push(me)}if(!$||!$.pinned)return G;const le={...$,pinned:!1};return[...F,le,...J]})},[]),R=p.useCallback((H,G)=>{G?ie(H):ve(H)},[ie,ve]),Y=p.useCallback(H=>{const G=A.current.filter(Ve=>j.current.some(Se=>Se.id===Ve));if(G.length<=1)return;const F=C.current||G[0],J=G.indexOf(F),me=((J>=0?J:0)+(H==="forward"?1:-1)+G.length)%G.length,Te=G[me];Te&&Te!==F&&k(Te)},[k]),Q=p.useCallback((H,G)=>{u(F=>F.map(J=>J.id===H?{...J,content:G,status:J.status==="ready"?J.status:"ready",error:null,saveError:null}:J))},[]),be=p.useCallback(H=>{u(G=>G.map(F=>F.id===H?{...F,saving:!0,saveError:null}:F))},[]),xe=p.useCallback((H,G)=>{u(F=>F.map(J=>{if(J.id!==H)return J;const $=G?.metadata??J.metadata??null,le=G?.etag??J.etag??null,me=G?.savedContent??J.content;return{...J,saving:!1,saveError:null,initialContent:me,etag:le,metadata:$&&{...$,etag:$.etag??le??null},lastSavedAt:new Date().toISOString()}}))},[]),N=p.useCallback((H,G)=>{u(F=>F.map(J=>J.id===H?{...J,saving:!1,saveError:G}:J))},[]),P=p.useCallback((H,G)=>{u(F=>F.map(J=>J.id!==H?J:{...J,content:G.content,initialContent:G.content,status:"ready",error:null,saving:!1,saveError:null,etag:G.etag??J.etag??null,metadata:G.metadata??J.metadata}))},[]),ce=p.useMemo(()=>c.some(H=>H.status==="ready"&&H.content!==H.initialContent),[c]);return p.useEffect(()=>{j.current=c},[c]),p.useEffect(()=>{x(H=>{const G=H.filter(F=>c.some(J=>J.id===F));return G.length===H.length?H:G})},[c]),p.useEffect(()=>{const H=new Set(c.map(G=>G.id));for(const G of _.current)H.has(G)||_.current.delete(G);for(const G of c){if(G.status!=="loading"||_.current.has(G.id))continue;_.current.add(G.id),L(G.id).finally(()=>{_.current.delete(G.id)})}},[c,L]),p.useEffect(()=>{if(!i||!b)return;const H=[d,...g].filter(G=>!!G).filter((G,F,J)=>J.indexOf(G)===F).filter(G=>c.some(F=>F.id===G));i.set({openTabs:c.map(G=>({id:G.id,pinned:!!G.pinned})),activeTabId:d||null,mru:H})},[i,c,d,g,b]),{tree:e,tabs:c,activeTabId:d,activeTab:D,openFile:Z,selectTab:q,closeTab:ee,closeOtherTabs:O,closeTabsToRight:U,closeAllTabs:X,moveTab:se,reloadTab:V,pinTab:ie,unpinTab:ve,toggleTabPin:R,selectRecentTab:Y,updateContent:Q,beginSavingTab:be,completeSavingTab:xe,failSavingTab:N,replaceTabContent:P,isDirty:ce}}function ty(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(r,String(u))}return n}const ny=p.createContext(null);function Y2({value:e,children:n}){return p.createElement(ny.Provider,{value:e},n)}function Zh(){const e=p.useContext(ny),n=Es(),r=Nn(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,d)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,x=ty(m).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;r(b,{replace:d?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??c]}const Yr={tab:"editor",pane:"terminal",console:"closed",view:"editor"},X2=["tab","pane","console","view","file","runId"];function J2(e){return e==="open"?"open":"closed"}function eC(e){return e==="runSummary"?"runSummary":e==="problems"?"problems":e==="terminal"?"terminal":Yr.pane}function tC(e){return e==="split"||e==="zen"?e:"editor"}function sy(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),d=n.get("file"),m=n.get("runId"),g=m&&m.length>0?m:void 0;return{...{tab:r==="editor"?"editor":Yr.tab,pane:eC(i),console:J2(c),view:tC(u),file:d??void 0,runId:g},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file"),runId:n.has("runId")}}}function Hf(e,n){const r=sy(e),i={...Yr,...r,...n},c=new URLSearchParams(e);for(const u of X2)c.delete(u);return i.tab!==Yr.tab&&c.set("tab",i.tab),i.pane!==Yr.pane&&c.set("pane",i.pane),i.console!==Yr.console&&c.set("console",i.console),i.view!==Yr.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),i.runId&&i.runId.length>0&&c.set("runId",i.runId),c}function nC(){const[e,n]=Zh(),r=p.useMemo(()=>sy(e),[e]),i=p.useCallback(d=>{r.file===d||!d&&!r.present.file||n(m=>Hf(m,{file:d??void 0}),{replace:!0})},[n,r.file,r.present.file]),c=p.useCallback(d=>{r.pane!==d&&n(m=>Hf(m,{pane:d}),{replace:!0})},[n,r.pane]),u=p.useCallback(d=>{r.console!==d&&n(m=>Hf(m,{console:d}),{replace:!0})},[n,r.console]);return{fileId:r.file??Yr.file,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:c,setConsole:u}}const sC="You have unsaved changes in the config editor. Are you sure you want to leave?";function rC({isDirty:e,confirm:n=window.confirm,message:r=sC,shouldBypassNavigation:i}){const c=Es(),u=p.useCallback(d=>!e||i?.()||d.location.pathname===c.pathname?!0:n(r),[n,e,c.pathname,r,i]);cS(u,e),p.useEffect(()=>{if(!e)return;const d=m=>(m.preventDefault(),m.returnValue=r,r);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[e,r])}const Ux="(prefers-color-scheme: dark)";function $x(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function aC(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function iC(e){const n=p.useMemo(()=>Ys(e),[e]),[r,i]=p.useState(()=>{const g=n.get();return $x(g)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(Ux).matches);p.useEffect(()=>{const g=$x(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(Ux),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const d=p.useMemo(()=>aC(r,c),[r,c]),m=p.useCallback(g=>{i(g)},[]);return{preference:r,resolvedTheme:d,setPreference:m}}function os(e,n,r){return Math.min(Math.max(e,n),r)}function Bx(e,n){const{onMove:r,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,d=e.currentTarget,m=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,y=!0;const w=C=>{if(y){if(y=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=m,document.body.style.userSelect=g,window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),d.removeEventListener("lostpointercapture",j),d.hasPointerCapture?.(u))try{d.releasePointerCapture(u)}catch{}i&&i(C)}},E=C=>{!y||C.pointerId!==u||(b=C,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&r(b)})))},_=C=>{C.pointerId===u&&w(C)},j=C=>{C.pointerId===u&&w(C)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{d.setPointerCapture(u)}catch{}window.addEventListener("pointermove",E),window.addEventListener("pointerup",_),window.addEventListener("pointercancel",_),d.addEventListener("lostpointercapture",j)}const lC="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",oC="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function cC({label:e,icon:n,disabled:r,isLoading:i,highlight:c,className:u,primaryClassName:d,menuClassName:m,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(uC,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:E}){const _=p.useRef(null),j=!!(r||i),C=A=>{if(j)return;A.preventDefault();const k=_.current?.getBoundingClientRect();if(k){w?.({x:k.left,y:k.bottom});return}w?.({x:A.clientX,y:A.clientY})};return l.jsxs("div",{role:"group",className:ge("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[l.jsxs("button",{type:"button",title:g,disabled:j,className:ge(lC,d),onClick:A=>{j||y?.(A)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:_,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:j,className:ge(oC,m),onClick:C,children:b})]})}function uC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const dC={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function gt({title:e,description:n,action:r,variant:i="empty",className:c}){return l.jsxs("div",{className:ge("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:ge("mb-4 h-8 w-8 rounded-full border-current",dC[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?l.jsx("div",{className:"mt-4",children:r}):null]})}const fC=new TextEncoder;async function hC(e,n={}){const{signal:r,page:i,pageSize:c,includeTotal:u}=n,d={};typeof i=="number"&&i>0&&(d.page=i),typeof c=="number"&&c>0&&(d.page_size=c),u&&(d.include_total=!0);const{data:m}=await Fe.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:d},signal:r});if(!m)throw new Error("Expected configuration page payload.");return m}async function mC(e,n,r){const{data:i}=await Fe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:r});return i??null}async function pC(e,n,r={}){const{prefix:i,depth:c,include:u,exclude:d,limit:m,pageToken:g,sort:x,order:b,signal:y}=r,{data:w}=await Fe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:d?.length?[...d]:void 0,limit:m,page_token:g??void 0,sort:x,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function qx(e,n,r,i){const{data:c}=await Fe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function gC(e,n){const{data:r,response:i}=await Fe.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/export",{params:{path:{workspace_id:e,configuration_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected configuration archive payload.");const d=(i?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:r,filename:d??void 0}}async function xC(e,n,r){const i=_C(r.path),c=r.parents?"?parents=1":"",u=await oj(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:fC.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const m=await NC(u),g=m?.title??`Request failed with status ${u.status}`;throw new An(g,u.status,m)}const d=await u.json().catch(()=>({}));if(!d||!d.path)throw new Error("Expected write response payload.");return d}async function bC(e,n,r,i={}){await Fe.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:i.etag?{"If-Match":i.etag}:void 0})}async function vC(e,n,r){const{data:i}=await Fe.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r}}});if(!i)throw new Error("Expected directory response payload.");return i}async function yC(e,n,r,i={}){const c={};i.recursive&&(c.recursive=!0),await Fe.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r},query:c}})}async function wC(e,n){const r=new FormData;r.append("display_name",n.displayName),r.append("file",n.file);const{data:i}=await Fe.POST("/api/v1/workspaces/{workspace_id}/configurations/import",{params:{path:{workspace_id:e}},body:r,bodySerializer:()=>r});if(!i)throw new Error("Expected configuration payload.");return i}async function SC(e,n,r){const i=new FormData;i.append("file",r.file);const{data:c}=await Fe.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/import",{params:{path:{workspace_id:e,configuration_id:n}},headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0,body:i,bodySerializer:()=>i});if(!c)throw new Error("Expected configuration payload.");return c}function jC(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",configuration_id:e.configurationId.trim()}}async function EC(e,n){const{data:r}=await Fe.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:jC(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}function _C(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function NC(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const _n={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[..._n.root(e),"list",{...n}],detail:(e,n)=>[..._n.root(e),"detail",n],files:(e,n)=>[..._n.detail(e,n),"files"],file:(e,n,r)=>[..._n.files(e,n),"file",r]};function CC({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:c="",depth:u="infinity",include:d,exclude:m,limit:g,pageToken:x,sort:b="path",order:y="asc"}=i;return dn({queryKey:[..._n.files(e,n),c,u,d?.join("|")??"",m?.join("|")??"",g??"",x??"",b,y],queryFn:({signal:w})=>pC(e,n,{prefix:c,depth:u,include:d,exclude:m,limit:g,pageToken:x,sort:b,order:y,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function kC(e,n){const r=ht();return rn({mutationFn:i=>xC(e,n,i),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:_n.files(e,n)}),r.invalidateQueries({queryKey:_n.file(e,n,c.path)})])}})}function TC(e,n){const r=ht();return rn({mutationFn:i=>bC(e,n,i.path,{etag:i.etag}),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:_n.files(e,n)}),r.invalidateQueries({queryKey:_n.file(e,n,c.path)})])}})}function AC(e,n){const r=ht();return rn({mutationFn:i=>vC(e,n,i.path),async onSuccess(){await r.invalidateQueries({queryKey:_n.files(e,n)})}})}function DC(e,n){const r=ht();return rn({mutationFn:i=>yC(e,n,i.path,{recursive:i.recursive}),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:_n.files(e,n)}),r.invalidateQueries({queryKey:_n.file(e,n,c.path)})])}})}function RC(e){return rn({mutationFn:n=>wC(e,n)})}function MC(e,n){return rn({mutationFn:r=>SC(e,n,r)})}async function ry(e,n,r){const{data:i}=await Fe.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:r});return i??[]}const ay=p.createContext(null),zC=6e3,OC=7e3,Hx=4;function LC({children:e}){const[n,r]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{r(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),d=p.useCallback(b=>{const y={kind:"toast",id:b.id??Fx(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?zC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const _=[...y.persistKey?w.filter(j=>j.persistKey!==y.persistKey):w,y];return _.length>Hx?_.slice(_.length-Hx):_}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??Fx(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:OC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(_=>_.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),g=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&r(w=>w.filter(E=>E.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(E=>E.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:d,pushBanner:m,dismiss:u,clearScope:g}),[n,i,d,m,u,g]);return l.jsxs(ay.Provider,{value:x,children:[e,l.jsx(UC,{})]})}function iy(){const e=p.useContext(ay);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function UC(){const{toasts:e,banners:n,dismiss:r}=iy(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:Gs.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(BC,{banner:u,onDismiss:r},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx($C,{toast:u,onDismiss:r},u.id))})]}),document.body)}function $C({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const d=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=qC[e.intent];return l.jsxs("div",{className:ge("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:ge("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??oy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(d=>l.jsx(ly,{action:d,onPress:()=>{d.onSelect(),n(e.id)},appearance:"dark"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(cy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ge("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function BC({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const d=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=HC[e.intent];return l.jsxs("div",{className:ge("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:ge("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??oy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(d=>l.jsx(ly,{action:d,onPress:()=>{d.onSelect(),e.sticky||n(e.id)},appearance:"light"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:ge("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(cy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ge("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function ly({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",c=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:ge("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function oy(e){switch(e){case"success":return l.jsx(ZC,{});case"warning":return l.jsx(VC,{});case"danger":return l.jsx(QC,{});default:return l.jsx(FC,{})}}const qC={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},HC={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function Fx(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function FC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function ZC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function VC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function QC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function cy(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function IC(){const e=iy();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const PC="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",za=p.forwardRef(({className:e,...n},r)=>l.jsx("select",{ref:r,className:ge(PC,e),...n}));za.displayName="Select";const WC={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},GC={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},Oe=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:c,children:u,disabled:d,...m},g)=>{const x=d||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:ge("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",WC[n],GC[r],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});Oe.displayName="Button";const KC={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function wt({tone:e="info",heading:n,icon:r,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:ge("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",KC[e],i),...u,children:[r?l.jsx("span",{"aria-hidden":"true",children:r}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}function uy(e,n){const r=rk(Vh(n??[],e),"initial");return{runId:null,runMode:void 0,status:"idle",buildPhases:{},runPhases:{},consoleLines:r,validationSummary:null,completedPayload:null,maxConsoleLines:e}}function YC(e,n){switch(n.type){case"RESET":return{...uy(e.maxConsoleLines,n.initialLines),runId:n.runId??null};case"ATTACH_RUN":return{...e,runId:n.runId,runMode:n.runMode??e.runMode};case"CLEAR_CONSOLE":return{...e,consoleLines:[]};case"APPEND_LINE":{const r=Vh([...e.consoleLines,Qh(n.line,e.consoleLines.length)],e.maxConsoleLines);return{...e,consoleLines:r}}case"EVENT":return XC(e,n.event);default:return e}}function XC(e,n){const r=tk(n),i=typeof n.type=="string"?n.type:"",u=i.startsWith("build.")||i==="console.line"&&r.scope==="build"?bE(n):vE(n),d=Vh([...e.consoleLines,Qh(u,e.consoleLines.length)],e.maxConsoleLines),m=i==="build.phase.started"||i==="build.phase.start"?{...e.buildPhases,[r.phase]:{status:"running",message:r.message}}:i==="build.phase.completed"||i==="build.phase.complete"?{...e.buildPhases,[r.phase]:{status:Zx(r.status),durationMs:uh(r.duration_ms),message:r.message}}:e.buildPhases,g=i==="run.phase.started"||i==="run.phase.start"||i==="engine.phase.start"?{...e.runPhases,[r.phase]:{status:"running",message:r.message}}:i==="run.phase.completed"||i==="run.phase.complete"||i==="engine.phase.complete"?{...e.runPhases,[r.phase]:{status:Zx(r.status),durationMs:uh(r.duration_ms),message:r.message}}:e.runPhases;let x=e.validationSummary;if(i==="run.validation.issue"||i==="engine.validation.issue"){const _=fy(r),j=x?.issues??[];x={...x,issues:_?[...j,_]:j}}else(i==="run.validation.summary"||i==="engine.validation.summary")&&(x=nk(r,x));const b=i==="run.complete"||i==="engine.run.summary"?r:e.completedPayload,y=JC(e.status,i,r),w=e.runId??(typeof n.run_id=="string"?n.run_id:null),E=typeof r.mode=="string"?r.mode==="validation"?"validation":"extraction":e.runMode;return{...e,status:y,runId:w,runMode:E,buildPhases:m,runPhases:g,consoleLines:d,validationSummary:x,completedPayload:b}}function JC(e,n,r){switch(n){case"run.queued":return"queued";case"run.waiting_for_build":return"waiting_for_build";case"build.started":case"build.start":return"building";case"run.start":case"run.started":case"engine.start":return"running";case"run.error":return e==="failed"?e:"failed";case"engine.run.summary":{const i=r.source??{},c=typeof i.status=="string"?i.status:void 0;return Ff(c)}case"engine.complete":return Ff(r.status??r.engine_status);case"run.complete":return Ff(r.status);default:return e}}function co(e){return e==="queued"?"queued":e==="waiting_for_build"?"waiting_for_build":e==="cancelled"?"cancelled":e==="building"?"building":e==="running"?"running":e==="succeeded"?"succeeded":e==="failed"?"failed":"idle"}function dy(e){const n=co(e);return n==="queued"||n==="waiting_for_build"||n==="building"||n==="running"}function ek(e){const n=co(e);return n==="succeeded"||n==="failed"||n==="cancelled"}function Ff(e){return e==="succeeded"?"succeeded":e==="failed"?"failed":e==="cancelled"?"cancelled":e==="waiting_for_build"?"waiting_for_build":"running"}function Zx(e){return e==="failed"?"failed":e==="skipped"?"skipped":e==="succeeded"?"succeeded":e==="running"?"running":"pending"}function tk(e){const n=e?.payload;return n&&typeof n=="object"?n:{}}function fy(e){const n=e.severity??e.level,r=n==="error"?"error":n==="warning"?"warning":"info",i=e.message??e.code??"Validation issue",c=e.path,u=e.code;return{level:r,message:i,path:c,code:u}}function nk(e,n){const r={...n??{}},i=e.issues;if(Array.isArray(i)){const c=i.map(u=>u&&typeof u=="object"?fy(u):null).filter(Boolean);r.issues=c}if("issues_total"in e){const c=uh(e.issues_total);typeof c=="number"&&(r.issues_total=c)}if("max_severity"in e){const c=ak(e.max_severity);c&&(r.max_severity=c)}if("content_digest"in e){const c=typeof e.content_digest=="string"?e.content_digest:null;c!==void 0&&(r.content_digest=c)}if("error"in e){const c=typeof e.error=="string"?e.error:null;r.error=c}return r}function sk(e,n){const r=e.validationSummary??(n?{issues:n}:null),i=e.runMode??(r?"validation":void 0);if(!i&&!r)return{status:"idle",messages:[],lastRunAt:void 0,error:null,digest:null};const c=co(e.status),u=dy(c),d=r?.issues??[],m=!!r?.error,g=typeof e.completedPayload?.completed_at=="string"&&e.completedPayload.completed_at||void 0;let x;u&&i==="validation"?x="running":m||c==="failed"||c==="cancelled"?x="error":d.length>0||c==="succeeded"?x="success":x="idle";const b=x==="error"?r?.error??"Validation failed.":null;return{status:x,messages:d,lastRunAt:g??void 0,error:b,digest:r?.content_digest??null}}function Vh(e,n){return e.length<=n?e.slice():e.slice(e.length-n)}function rk(e,n){return e.map((r,i)=>Qh(r,i,n))}function Qh(e,n,r="line"){if(e.id)return e;const i=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(16).slice(2),c=e.origin??"run",u=e.timestamp??"ts";return{...e,id:`${r}-${c}-${u}-${n}-${i}`}}function uh(e){if(!(typeof e!="number"||Number.isNaN(e)))return e}function ak(e){if(e==="error")return"error";if(e==="warning")return"warning";if(e==="info")return"info"}const ik={dry_run:!1,validate_only:!1,force_rebuild:!1};async function lk(e,n={},r){const i={configuration_id:e},u={options:{...ik,...n}},{data:d}=await Fe.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:i},body:u,signal:r});if(!d)throw new Error("Expected run creation response.");return d}async function*ok(e,n){const r=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),i=new AbortController,c=()=>i.abort();let u=null;n?.aborted?i.abort():n&&n.addEventListener("abort",c);try{const d=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:i.signal});if(!d.body||!d.ok)throw new Error("Run event stream unavailable.");u=d.body.getReader();const m=new TextDecoder;let g="",x=!1;for(;;){const{value:b,done:y}=await u.read();g+=m.decode(b??new Uint8Array,{stream:!y});const w=g.split(`

`);g=w.pop()??"";for(const E of w){const _=Vx(E);if(_&&(yield _,_.type==="run.complete")){x=!0;break}}if(y||x){const E=Vx(g);E&&(yield E);return}}}catch(d){throw i.signal.aborted?r:d}finally{if(n&&n.removeEventListener("abort",c),u)try{await u.cancel()}catch{}i.signal.aborted||i.abort()}}function Vx(e){const n=[];for(const i of e.split(/\n/))if(i.startsWith("data:")){const c=i.slice(5);n.push(c.startsWith(" ")?c.slice(1):c)}if(!n.length)return null;const r=n.join(`
`);if(!r.trim())return null;try{return JSON.parse(r)}catch(i){return console.warn("Skipping malformed run event",i,r),null}}function ck(e,n){const r=e.links?.events_stream??e.links?.events;if(!r)return null;const i=[];r.endsWith("/stream")||r.includes("stream=true")||i.push("stream=true");const u=i.length?i.join("&"):void 0;return uk(r,{appendQuery:u})}async function hy(e,n){const r=typeof e=="string"?await uo(e,n):e,i=r.links?.outputs,c=r.id;if(!i||!c)throw new Error("Run outputs link unavailable.");const{data:u,error:d}=await Fe.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:c}},signal:n});if(d||!u)throw new Error("Run outputs unavailable");return u}async function my(e,n){const r=typeof e=="string"?await uo(e,n):e,i=r.links?.logs,c=r.id;if(!i||!c)throw new Error("Run logs link unavailable.");const{data:u,error:d}=await Fe.GET("/api/v1/runs/{run_id}/logs",{params:{path:{run_id:c}},headers:{Accept:"application/x-ndjson"},signal:n,parseAs:"text"});if(d)throw new Error("Run telemetry unavailable");return(u??"").split(/\r?\n/).filter(Boolean).map(g=>{try{return JSON.parse(g)}catch(x){return console.warn("Skipping invalid telemetry line",{error:x,line:g}),null}}).filter(g=>!!g)}async function uo(e,n){const{data:r}=await Fe.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run not found");return r}async function py(e,n){try{const{data:c}=await Fe.GET("/api/v1/runs/{run_id}/summary",{params:{path:{run_id:e}},signal:n});if(c)return c}catch(c){console.warn("Falling back to embedded run summary",c)}const i=(await uo(e,n))?.summary;if(!i)return null;if(typeof i=="string")try{return JSON.parse(i)}catch(c){return console.warn("Unable to parse run summary",{error:c}),null}return i}function dh(e){const n=e.links?.outputs;return n?ou(n):null}function fh(e){const n=e.links?.logs;return n?ou(n):null}function uk(e,n){const r=e.includes("?"),i=n?.appendQuery?`${e}${r?"&":"?"}${n.appendQuery}`:e;return ou(i)}const Lc={detail:e=>["run",e],outputs:e=>["run-outputs",e],telemetry:e=>["run-telemetry",e],summary:e=>["run-summary",e]};function dk({configId:e,runId:n,onRunIdChange:r,seed:i,maxConsoleLines:c=400,onError:u}){const d=p.useMemo(()=>{const O=uy(c,i?.console?[...i.console].slice(-c):void 0);return i?.validation?.length?{...O,runMode:"validation",validationSummary:{issues:[...i.validation]}}:O},[c,i?.console,i?.validation]),[m,g]=p.useReducer(YC,d),x=p.useRef(m),b=p.useRef(null),y=p.useRef(null),w=p.useRef(null),E=p.useRef(null),_=p.useRef(!1);p.useEffect(()=>{x.current=m},[m]);const j=p.useCallback(()=>{const O=E.current;O&&(O.abort(),E.current=null)},[]);p.useEffect(()=>{n===null&&(j(),b.current=null,y.current=null,w.current=null)},[n,j]);const C=p.useCallback(O=>g({type:"APPEND_LINE",line:O}),[g]),A=p.useCallback(()=>{g({type:"CLEAR_CONSOLE"})},[g]),k=p.useCallback(O=>{if(u){u(O);return}C({level:"error",message:fk(O),timestamp:Ma(new Date),origin:"run"})},[C,u]),D=p.useCallback(async(O,U)=>{j();const X=ck(O);if(!X)throw new Error("Run events link unavailable.");b.current=O,y.current=U??null,w.current=O.started_at??w.current??null,g({type:"ATTACH_RUN",runId:O.id,runMode:U?.mode});const se=new AbortController;E.current=se;try{for await(const V of ok(X,se.signal)){if(V?.type==="run.start"||V?.type==="run.started"||V?.type==="engine.start"){const ie=V?.payload??{},ve=typeof ie.started_at=="string"?ie.started_at:Mh(V);w.current=ve}g({type:"EVENT",event:V})}}catch(V){se.signal.aborted||k(V)}finally{E.current===se&&(E.current=null)}},[k,j]),L=co(m.status),z=m.runMode??y.current?.mode,Z=dy(L),q=p.useMemo(()=>sk(m,i?.validation),[m,i?.validation]),ee=p.useCallback(async(O,U,X)=>{const V=X?.forceRebuild??!1?{...O,force_rebuild:!0}:O;if(Z||_.current||X?.prepare&&X.prepare()===!1)return null;const ie=new Date;g({type:"RESET",runId:null,initialLines:[{level:"info",message:U.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction",timestamp:Ma(ie),origin:"run"}]}),_.current=!0;try{const ve=await lk(e,V);return y.current=U,w.current=ie.toISOString(),r?.(ve.id),await D(ve,U),{runId:ve.id,startedAt:ie.toISOString()}}catch(ve){return k(ve),null}finally{_.current=!1}},[e,D,g,r,k,Z]);return p.useEffect(()=>()=>{j()},[j]),{stream:m,runResource:b.current,runMetadata:y.current,runStartedAt:w.current,runStatus:L,runMode:z,runInProgress:Z,validation:q,appendConsoleLine:C,clearConsole:A,startRun:ee}}function fk(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unexpected error"}function hk({configId:e,runId:n,seed:r,maxConsoleLines:i,onRunIdChange:c,onRunComplete:u}){const{stream:d,runResource:m,runMetadata:g,runStartedAt:x,runStatus:b,runMode:y,runInProgress:w,validation:E,appendConsoleLine:_,clearConsole:j,startRun:C}=dk({configId:e,runId:n,onRunIdChange:c,seed:r,maxConsoleLines:i}),A=d.consoleLines,[k,D]=p.useState(null),L=p.useRef(null);p.useEffect(()=>{if(!n||!ek(b)||L.current===n)return;L.current=n;const Z=d.completedPayload??{},q=Z.failure,ee=typeof q?.message=="string"?q.message.trim():null,O=typeof Z.summary=="string"?Z.summary.trim():null,U=typeof Z.started_at=="string"?Z.started_at:void 0,se=co(Z.status??b),V=y??g?.mode??"extraction",ie=U??m?.started_at??x??void 0,ve=Z.completed_at??m?.completed_at??new Date().toISOString(),R=ie?new Date(ie):null,Y=ve?new Date(ve):new Date,Q=R&&Y?Math.max(0,Y.getTime()-R.getTime()):void 0;u?.({runId:n,status:se,mode:V,startedAt:ie??null,completedAt:Y.toISOString(),durationMs:Q,payload:d.completedPayload}),V!=="validation"&&(D(be=>{const xe=m?dh(m)??void 0:be?.outputsBase,N=m?fh(m)??void 0:be?.logsUrl;return{runId:n,status:se,outputsBase:xe,logsUrl:N,documentName:g?.documentName,sheetNames:g?.sheetNames??[],outputs:[],outputsLoaded:!1,summary:null,summaryLoaded:!1,summaryError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:ee??O??null,startedAt:ie??null,completedAt:Y.toISOString(),durationMs:Q}}),(async()=>{let be=m;if(!be)try{be=await uo(n)}catch(xe){D(N=>N&&N.runId===n?{...N,outputsLoaded:!0,summaryLoaded:!0,telemetryLoaded:!0,error:Uc(xe)}:N)}if(be){const xe=dh(be)??void 0,N=fh(be)??void 0;D(P=>P&&P.runId===n?{...P,outputsBase:xe,logsUrl:N}:P);try{const P=await hy(be??n),H=(Array.isArray(P.files)?P.files:[]).map(G=>{const F=G.path;return{name:G.name??F??"output",path:F,byte_size:G.byte_size??0,download_url:G.download_url??void 0}});D(G=>G&&G.runId===n?{...G,outputs:H,outputsLoaded:!0}:G)}catch(P){D(ce=>ce&&ce.runId===n?{...ce,outputsLoaded:!0,error:Uc(P)}:ce)}}try{const xe=await py(n);D(N=>N&&N.runId===n?{...N,summary:xe,summaryLoaded:!0}:N)}catch(xe){D(N=>N&&N.runId===n?{...N,summaryLoaded:!0,summaryError:Uc(xe)}:N)}try{const xe=await my(n);D(N=>N&&N.runId===n?{...N,telemetry:xe,telemetryLoaded:!0}:N)}catch(xe){D(N=>N&&N.runId===n?{...N,telemetryLoaded:!0,telemetryError:Uc(xe)}:N)}})())},[n,b,y,g,m,x,d.completedPayload,u]);const z=p.useCallback(async(Z,q,ee)=>{const O=await C(Z,q,ee);return O&&q.mode==="extraction"&&D(null),O},[C]);return p.useMemo(()=>({stream:d,runStatus:b,runMode:y,runInProgress:w,validation:E,consoleLines:A,latestRun:k,appendConsoleLine:_,clearConsole:j,startRun:z}),[d,b,y,w,E,A,k,_,j,z])}function Uc(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unexpected error"}const gy=e=>`ade.ui.workspace.${e}.config-builder.last`;function Ih(e){return Ys(gy(e))}function Ph(e,n){if(n){const r={configId:n};return e.set(r),r}return e.clear(),null}const mk={min:200,max:420},pk=320,gk=120,Zf=140,xk=220,bk=40,vk=400,Qx=10,yk=56,Ix="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",wk=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,Sk=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,jk=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,Ek=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.explorer.expanded`,_k=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.layout`,Nk=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],Ck={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function xy({workspaceId:e,configId:n,configName:r,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:d,onRestoreWindow:m,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=ht(),{fileId:y,pane:w,console:E,consoleExplicit:_,setFileId:j,setPane:C,setConsole:A}=nC(),[k,D]=p.useState(null),L=!!i,z=CC({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!L}),Z=z.data?.fileset_hash??null,q=z.data?.status==="draft",ee=p.useMemo(()=>Ih(e),[e]),O=p.useMemo(()=>i?i.tree:z.data?Ox(z.data):null,[i,z.data]);p.useEffect(()=>{n&&(L||z.isSuccess)&&Ph(ee,n)},[n,L,z.isSuccess,ee]);const[U,X]=p.useState(null),se=p.useCallback(W=>{X(W)},[]),V=MC(e,n),ie=p.useRef(null),[ve,R]=p.useState(null),[Y,Q]=p.useState(!1),[be,xe]=p.useState(!1),{stream:N,runStatus:P,runMode:ce,runInProgress:H,validation:G,consoleLines:F,latestRun:J,appendConsoleLine:$,clearConsole:le,startRun:me}=hk({configId:n,runId:k,seed:i,maxConsoleLines:vk,onRunIdChange:D,onRunComplete:se}),[Te,Ve]=p.useState(!1),Se=p.useMemo(()=>i?null:Ys(wk(e,n)),[e,n,i]),Ce=p.useMemo(()=>i?null:Ys(Sk(e,n)),[e,n,i]),re=p.useMemo(()=>Ys(_k(e,n)),[e,n]),Ee=p.useRef(null),$e=iC(jk(e,n)),qe=$e.resolvedTheme==="vs-light"?"light":"dark",nt=G.lastRunAt?`Last run ${Vk(G.lastRunAt)}`:void 0,[T,K]=p.useState(()=>{const W=re.get();return W?.explorer?{collapsed:!!W.explorer.collapsed,fraction:W.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[oe,Ne]=p.useState(null),we=p.useRef(null),[je,De]=p.useState(!1);p.useEffect(()=>{Ce?Ee.current=Ce.get()??null:Ee.current=null,we.current=null,Ne(null),De(!1)},[Ce]);const[We,Ke]=p.useState({width:0,height:0}),[Nt,_e]=p.useState(null),[ke,Pe]=p.useState("explorer"),[Dt,lt]=p.useState(null),[Wt,Ct]=p.useState(null),[Sr,$n]=p.useState(!1),[qa,er]=p.useState(!1),[jr,kt]=p.useState(!1),[zt,Ft]=p.useState(!1),[Gt,Zt]=p.useState(null),[hn,mn]=p.useState(null),[Bn,Ot]=p.useState(null),{notifyBanner:qn,dismissScope:Cn}=IC(),pn=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Kn=TC(e,n),Yn=AC(e,n),Dn=DC(e,n),Je=p.useCallback((W,he)=>{qn({title:W,intent:he?.intent??"info",duration:he?.duration??6e3,dismissible:!0,scope:pn,persistKey:pn})},[qn,pn]),vn=p.useCallback(()=>{Cn(pn,"banner")},[Cn,pn]),it=p.useCallback(W=>{const he=Zk(W);$({level:"error",message:he,timestamp:Ma(new Date),origin:"run"}),Je(he,{intent:"danger",duration:null})},[$,Je]),yn=p.useCallback(async()=>{Q(!0);try{const W=await gC(e,n),he=W.filename??`${n}.zip`,Re=URL.createObjectURL(W.blob),Ae=document.createElement("a");Ae.href=Re,Ae.download=he,Ae.click(),URL.revokeObjectURL(Re),Je(`Exported ${he}`,{intent:"success",duration:4e3})}catch(W){it(W),Je("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{Q(!1)}},[e,n,Je,it]);p.useEffect(()=>{if(!U)return;const{runId:W,status:he,mode:Re,durationMs:Ae,payload:Qe,completedAt:Yt}=U,ft=Qe?.failure??void 0,zn=typeof ft?.message=="string"?ft.message.trim():null,Ji=typeof Qe?.summary=="string"?Qe.summary.trim():null,Au=zn||Ji||"ADE run failed.",el=he==="cancelled";if(Je(he==="succeeded"?"ADE run completed successfully.":el?"ADE run cancelled.":Au,{intent:he==="succeeded"?"success":el?"info":"danger"}),Re!=="validation"){const ca=Yt?new Date(Yt):new Date;$({level:he==="succeeded"?"success":el?"warning":"error",message:typeof Ae=="number"&&Ae>0?`Run ${he} in ${Mk(Ae)}. Open Run summary for details.`:`Run ${he}. Open Run summary for details.`,timestamp:Ma(ca),origin:"run"})}X(ca=>ca&&ca.runId===W?null:ca)},[U,$,Je,X]);const Rn=c==="maximized",Hs=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Su=p.useCallback(()=>{g()},[g]),go=!T.collapsed,xo=p.useCallback(async W=>{if(i)return{content:i.content[W]??"",etag:null};const he=await b.fetchQuery({queryKey:_n.file(e,n,W),queryFn:({signal:Re})=>qx(e,n,W,Re)});if(!he)throw new Error("File could not be loaded.");return{content:Wx(he),etag:he.etag??null}},[i,b,e,n]),Ze=K2({tree:O,initialActiveFileId:y,loadFile:xo,persistence:Se??void 0}),Er=kC(e,n),tr=p.useCallback(async W=>{if(L)return null;const he=await b.fetchQuery({queryKey:_n.file(e,n,W),queryFn:({signal:Ae})=>qx(e,n,W,Ae)}),Re=Wx(he);return Ze.replaceTabContent(W,{content:Re,etag:he.etag??null,metadata:{size:he.size??null,modifiedAt:he.mtime??null,contentType:he.content_type??Ze.tabs.find(Ae=>Ae.id===W)?.metadata?.contentType??null,etag:he.etag??null}}),he},[L,b,e,n,Ze]);rC({isDirty:Ze.isDirty,shouldBypassNavigation:x});const _r=p.useCallback(()=>{u()},[u]),sa=p.useCallback(()=>{Rn?m():d()},[Rn,d,m]),Kt=E!=="open",Et=p.useMemo(()=>Ze.tabs.filter(W=>W.status==="ready"&&W.content!==W.initialContent),[Ze.tabs]),bo=Ze.tabs.some(W=>W.saving),Ns=!L&&Et.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[T.collapsed,T.fraction,Kt,oe,Rn,w]);const Hn=p.useCallback(async W=>{if(L)return!1;const he=Ze.tabs.find(Qe=>Qe.id===W);if(!he||he.status!=="ready"||he.content===he.initialContent||he.saving)return!1;const Re=he.content,Ae=he.etag??void 0;Ze.beginSavingTab(W);try{const Qe=await Er.mutateAsync({path:he.id,content:Re,etag:Ae,create:!Ae,parents:!0}),Yt={size:Qe.size??he.metadata?.size??null,modifiedAt:Qe.mtime??he.metadata?.modifiedAt??null,contentType:he.metadata?.contentType??null,etag:Qe.etag??he.metadata?.etag??null};return Ze.completeSavingTab(W,{etag:Qe.etag??he.etag??null,metadata:Yt,savedContent:Re}),Je(`Saved ${he.name}`,{intent:"success",duration:4e3}),!0}catch(Qe){const Yt=Qe instanceof An&&Qe.status===412,ft=Yt?new Error("Save blocked because this file changed on the server. Reloading latest version."):Qe;if(Ze.failSavingTab(W,ft instanceof Error?ft.message:String(ft)),Yt)try{await tr(W),Je("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(zn){it(zn)}return it(ft),!1}},[L,Ze,Er,Je,tr,it]),Cs=p.useCallback(async W=>{const he=[];for(const Re of W)await Hn(Re)&&he.push(Re);return he},[Hn]),Ha=p.useCallback(async()=>{if(!Ns||Et.length===0)return!0;const he=(await Cs(Et.map(Re=>Re.id))).length===Et.length;return he||Je("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),he},[Ns,Et,Cs,Je]),vo=p.useCallback(W=>{Hn(W)},[Hn]),Fa=p.useCallback(()=>{Ze.activeTab&&Hn(Ze.activeTab.id)},[Ze.activeTab,Hn]),ju=p.useCallback(()=>{if(!Ns)return;const W=Et.map(he=>he.id);(async()=>{const he=await Cs(W);he.length>1&&Je(`Saved ${he.length} files`,{intent:"success",duration:5e3})})()},[Ns,Et,Cs,Je]);p.useEffect(()=>{const W=Nt;if(!W||typeof window>"u")return;const he=()=>{const Ae=W.getBoundingClientRect(),Qe=Ae.width,Yt=Ae.height;Ke({width:Qe,height:Yt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(he(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he);const Re=new window.ResizeObserver(()=>he());return Re.observe(W),()=>Re.disconnect()},[Nt]);const ks=Kt?pk:gk,$t=p.useMemo(()=>{const W=Math.max(0,We.height),Re=Math.max(0,W-ks-Qx),Ae=Math.min(Zf,Re);return{container:W,minPx:Ae,maxPx:Re}},[We.height,ks]),Ts=p.useCallback((W,he=$t)=>os(W,he.minPx,he.maxPx),[$t]),ln=p.useCallback(()=>{const W=Ee.current;return W&&"version"in W&&W.version===2&&typeof W.fraction=="number"?os(W.fraction,0,1):W&&"height"in W&&typeof W.height=="number"&&$t.container>0?os(W.height/$t.container,0,1):.25},[$t.container]);p.useEffect(()=>{oe===null&&$t.container>0&&Ne(ln())},[oe,$t.container,ln]);const As=p.useCallback(()=>$t.container>0&&$t.maxPx<Zf?(A("closed"),Je(Ix,{intent:"warning",duration:1e4}),!1):(vn(),A("open"),Ne(W=>W!==null?os(W,0,1):we.current!==null?os(we.current,0,1):ln()),!0),[$t,A,Je,vn,ln]),Zi=p.useCallback(()=>{we.current=oe,A("closed"),vn()},[oe,A,vn]);p.useEffect(()=>{if(je)return;const W=Ee.current?.state;if(_||!W){De(!0);return}(W==="open"||W==="closed")&&W!==E&&A(W),De(!0)},[_,E,A,je]),p.useEffect(()=>{!Ce||qa||oe===null||Ce.set({version:2,fraction:os(oe,0,1),state:E})},[Ce,oe,E,qa]),p.useEffect(()=>{if(!(E!=="open"||!$t.container)){if($t.maxPx<Zf){A("closed"),Je(Ix,{intent:"warning",duration:1e4});return}Ne(W=>W===null?ln():os(W,0,1))}},[E,$t,A,Je,ln]);const Za=p.useCallback((W,he)=>{if(W<=0)return{minPx:he.min,maxPx:he.max,minFrac:0,maxFrac:1};const Re=Math.min(he.min,W),Ae=Math.min(he.max,W);return{minPx:Re,maxPx:Ae,minFrac:Re/W,maxFrac:Ae/W}},[]),us=Math.max(0,We.width-yk),ds=p.useMemo(()=>Za(us,mk),[us,Za]),Vi=p.useCallback((W,he)=>os(W,he.minFrac,he.maxFrac),[]);p.useEffect(()=>{us<=0||K(W=>{if(W.collapsed)return W;const he=Vi(W.fraction,ds);return he===W.fraction?W:{...W,fraction:he}})},[us,ds,Vi]),p.useEffect(()=>{re.set({version:2,explorer:{collapsed:T.collapsed,fraction:T.fraction}})},[re,T]);const Mn=T.collapsed?0:os(T.fraction,ds.minFrac,ds.maxFrac)*us,Nr=us>0?Math.min(Mn,us):Mn,Xn=Math.max(0,$t.container),wo=(oe??(Xn>0?os(xk/Xn,0,1):.25))*Xn,Va=Xn>0?Ts(wo):0,nr=Qx,So=Kt?bk:Va,jo=Xn>0?Math.max(ks,Xn-nr-So):ks;p.useEffect(()=>{const W=Ze.activeTabId;if(!W){j(void 0);return}j(W)},[Ze.activeTabId,j]),p.useEffect(()=>{!Gt||!O||js(O,Gt)&&(Ze.openFile(Gt),j(Gt),Zt(null))},[Gt,O,Ze,j]);const aa=p.useCallback(()=>As()?(C("terminal"),!0):!1,[As,C]),Qi=p.useCallback(async()=>{L||!O||z.isLoading||z.isError||!await Ha()||await me({validate_only:!0},{mode:"validation"},{prepare:aa})},[L,O,z.isLoading,z.isError,Ha,me,aa]),Eu=p.useCallback(async W=>{if(Ve(!1),$n(!1),L||!O||z.isLoading||z.isError||!await Ha())return;const Re=Array.from(new Set((W.sheetNames??[]).filter(Boolean)));me({input_document_id:W.documentId,input_sheet_names:Re.length?Re:void 0,input_sheet_name:Re.length===1?Re[0]:void 0},{mode:"extraction",documentId:W.documentId,documentName:W.documentName,sheetNames:Re},{forceRebuild:Sr,prepare:aa})},[L,O,z.isLoading,z.isError,me,Sr,aa,Ha]);p.useEffect(()=>{if(typeof window>"u")return;const W=he=>{if(!(Hs?he.metaKey:he.ctrlKey)||he.altKey||he.key.toLowerCase()!=="s")return;const Ae=he.target;if(Ae){const Qe=Ae.tagName;if(Qe==="INPUT"||Qe==="TEXTAREA"||Ae.isContentEditable)return}Ns&&(he.preventDefault(),Fa())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Hs,Ns,Fa]);const Eo=ce??(H?"extraction":void 0),sr=H,Ds=G.status==="running"||sr&&Eo==="validation",Ii=!L&&!!O&&!z.isLoading&&!z.isError&&!sr&&G.status!=="running",Pi=sr&&Eo!=="validation",Rs=!L&&!!O&&!z.isLoading&&!z.isError&&!sr,Jn=!L&&!z.isLoading&&!z.isError,Qa=Jn&&!Kn.isPending,ia=Jn&&!Yn.isPending,Ia=Jn&&!Dn.isPending,fs=q&&!L&&!V.isPending&&!!Z,Ms=p.useCallback(W=>{Pe(W),W==="explorer"&&K(he=>({...he,collapsed:!1}))},[]),Wi=p.useCallback(W=>{W.preventDefault();const he=W.currentTarget.getBoundingClientRect();lt({x:he.right+8,y:he.top})},[]),la=p.useCallback(W=>{R(W)},[]),Fs=p.useCallback(()=>lt(null),[]),es=p.useCallback(()=>{Kt?As():Zi()},[Kt,As,Zi]);p.useEffect(()=>{if(typeof window>"u")return;const W=he=>{if(!(Hs?he.metaKey:he.ctrlKey)||he.altKey||he.key?.toLowerCase()!=="`"&&he.code!=="Backquote")return;const Qe=he.target;if(Qe&&!(typeof Qe.closest=="function"?Qe.closest("[data-editor-area]"):null)){const ft=Qe.tagName,zn=Qe.getAttribute("role");if(ft==="INPUT"||ft==="TEXTAREA"||zn==="textbox"||Qe.isContentEditable)return}he.preventDefault(),es()};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Hs,es]);const Pa=p.useCallback(()=>{le()},[le]),_o=p.useCallback(()=>{J&&(As(),C("runSummary"))},[J,As,C]),Wa=p.useCallback(()=>{K(W=>({...W,collapsed:!W.collapsed}))},[]),Ga=p.useCallback(()=>{K(W=>({...W,collapsed:!0}))},[]),No=p.useCallback(async(W,he)=>{const Re=he.trim();if(!Re)throw new Error("Enter a file name.");if(Re.includes(".."))throw new Error("File name cannot include '..'.");if(!Jn)throw new Error("Files are still loading.");const Ae=W.replace(/\/+$/,""),Qe=Re.replace(/^\/+/,"").replace(/\/+/g,"/"),ft=(Ae?`${Ae}/${Qe}`:Qe).replace(/\/+/g,"/");if(!ft||ft.endsWith("/"))throw new Error("Enter a valid file name.");if(O&&js(O,ft))throw new Error("A file or folder with that name already exists.");kt(!0);try{await Er.mutateAsync({path:ft,content:"",parents:!0,create:!0}),Zt(ft),await z.refetch(),Je(`Created ${ft}`,{intent:"success",duration:4e3})}catch(zn){throw it(zn),zn instanceof Error?zn:new Error("Unable to create file.")}finally{kt(!1)}},[Jn,O,Er,z,Je,it]),kn=p.useCallback(async(W,he)=>{const Re=he.trim();if(!Re)throw new Error("Enter a folder name.");if(Re.includes(".."))throw new Error("Folder name cannot include '..'.");if(!ia)throw new Error("Files are still loading.");const Ae=W.replace(/\/+$/,""),Qe=Re.replace(/^\/+/,"").replace(/\/+/g,"/"),ft=(Ae?`${Ae}/${Qe}`:Qe).replace(/\/+/g,"/").replace(/\/$/,"");if(!ft)throw new Error("Enter a valid folder name.");if(O&&js(O,ft))throw new Error("A file or folder with that name already exists.");Ft(!0);try{await Yn.mutateAsync({path:ft}),await z.refetch(),Je(`Folder ready: ${ft}`,{intent:"success",duration:4e3})}catch(zn){throw it(zn),zn instanceof Error?zn:new Error("Unable to create folder.")}finally{Ft(!1)}},[ia,O,Yn,z,Je,it]),rr=p.useCallback(async W=>{if(!Qa)throw new Error("Files are still loading.");const he=O?js(O,W):null;if(!O||!he)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${W}? This cannot be undone.`)){kt(!1),mn(W);try{await Kn.mutateAsync({path:W,etag:he.metadata?.etag}),Ze.closeTab(W),Zt(Ae=>Ae===W?null:Ae),await z.refetch(),Je(`Deleted ${W}`,{intent:"info",duration:4e3})}catch(Ae){const Qe=Ae instanceof An&&Ae.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Ae instanceof Error?Ae.message:"Unable to delete file.";throw it(Qe),new Error(Qe)}finally{mn(Ae=>Ae===W?null:Ae)}}},[Qa,O,Kn,Ze,z,Je,it,mn]),Ka=p.useCallback(async W=>{if(!Ia)throw new Error("Files are still loading.");const he=O?js(O,W):null;if(!O||!he||he.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${W} and all contents? This cannot be undone.`)){Ot(W);try{await Dn.mutateAsync({path:W,recursive:!0}),Zt(Ae=>Ae===W?null:Ae),Ze.closeTab(W),await z.refetch(),Je(`Deleted folder ${W}`,{intent:"info",duration:4e3})}catch(Ae){const Qe=Ae instanceof Error?Ae.message:"Unable to delete folder.";throw it(Qe),new Error(Qe)}finally{Ot(Ae=>Ae===W?null:Ae)}}},[Ia,O,Dn,Ze,z,Je,it,Ot]),Cr=p.useCallback(()=>{if(!fs){Je("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),R(null);return}R(null),xe(!0)},[fs,Je]),_u=p.useCallback(async W=>{const he=W.target.files?.[0]??null;if(W.target.value="",!!he)try{await V.mutateAsync({file:he,ifMatch:Z}),Se?.clear?.(),Ze.closeAllTabs(),j(void 0);const Ae=(await z.refetch()).data??z.data??null,Qe=Ae?Ox(Ae):null,Yt=Qe?Fh(Qe):null;Zt(Yt?.id??null),Je("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(Re){const Ae=Re instanceof An&&Re.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":Re instanceof An&&Re.status===428?"Replace blocked: refresh the file list and try again.":Re instanceof Error?Re.message:"Unable to replace configuration.";it(Ae),Je(Ae,{intent:"danger",duration:6e3})}},[V,Z,Se,Ze,z,j,Zt,Je,it]),Gi=p.useMemo(()=>{const W=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),he=Nk.map(Re=>({id:`theme-${Re.value}`,label:`${Re.label} theme`,icon:$e.preference===Re.value?l.jsx(Vf,{}):W,onSelect:()=>$e.setPreference(Re.value)}));return he.push({id:"toggle-explorer",label:T.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:T.collapsed?W:l.jsx(Vf,{}),onSelect:()=>K(Re=>({...Re,collapsed:!Re.collapsed}))},{id:"toggle-console",label:Kt?"Show Console":"Hide Console",icon:Kt?W:l.jsx(Vf,{}),onSelect:es}),he},[$e,T.collapsed,Kt,es]),Ki=p.useMemo(()=>[{id:"export",label:Y?"Exporting":"Export (.zip)",disabled:Y,onSelect:()=>{R(null),yn()}},{id:"replace",label:"Import from zip",disabled:!fs,onSelect:Cr}],[fs,yn,Cr,Y]);p.useEffect(()=>{if(typeof document>"u"||!Rn)return;const W=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=W||""}},[Rn]);const oa=Qk(e),Ya=Hs?"S":"Ctrl+S",Co=Hs?"`":"Ctrl+`",Nu=p.useMemo(()=>{const W=!Rs;return[{id:"test-default",label:"Test",disabled:W,onSelect:()=>{$n(!1),Ve(!0),Ct(null)}},{id:"test-force",label:"Force build and test",disabled:W,onSelect:()=>{$n(!0),Ve(!0),Ct(null)}}]},[Rs,$n,Ve,Ct]);if(!i&&z.isLoading)return l.jsx(gt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&z.isError)return l.jsx(gt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!O)return l.jsx(gt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Cu=Rn?qe==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":qe==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",ku=qe==="dark"?"#1b1f27":"#ffffff",Yi=qe==="dark"?"#f5f6fb":"#0f172a",Tu=Rn?ge("fixed inset-0 z-[90] flex flex-col",qe==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):ge("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",qe==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900"),Xi=qe==="dark"?{bar:"border-[#1f2431] bg-[#0f111a] text-slate-200",hint:"text-slate-400",button:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{bar:"border-slate-300 bg-white text-slate-700",hint:"text-slate-500",button:"border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400"};return l.jsxs("div",{className:ge("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Cu),children:[Rn?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:Tu,children:[l.jsx(Tk,{configName:r,workspaceLabel:oa,validationLabel:nt,canSaveFiles:Ns,isSavingFiles:bo,onSaveFile:Fa,saveShortcutLabel:Ya,onOpenTestMenu:W=>Ct(W),onOpenActionsMenu:la,canRunValidation:Ii,isRunningValidation:Ds,onRunValidation:Qi,canRunExtraction:Rs,isRunningExtraction:Pi,onRunExtraction:W=>{Rs&&($n(W),Ve(!0))},explorerVisible:go,onToggleExplorer:Wa,consoleOpen:!Kt,onToggleConsole:es,appearance:qe,windowState:c,onMinimizeWindow:_r,onToggleMaximize:sa,onCloseWindow:Su,actionsBusy:Y||V.isPending}),l.jsxs("div",{ref:_e,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(dE,{activeView:ke,onSelectView:Ms,onOpenSettings:Wi,appearance:qe}),go?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:Nr},children:ke==="explorer"&&Ze.tree?l.jsx(L2,{width:Nr,tree:Ze.tree,activeFileId:Ze.activeTab?.id??"",openFileIds:Ze.tabs.map(W=>W.id),onSelectFile:W=>{Ze.openFile(W),j(W)},theme:qe,canCreateFile:Jn,canCreateFolder:ia,isCreatingEntry:jr||zt,onCreateFile:No,onCreateFolder:kn,canDeleteFile:Qa,canDeleteFolder:Ia,deletingFilePath:hn,deletingFolderPath:Bn,onDeleteFile:rr,onDeleteFolder:Ka,expandedStorageKey:Ek(e,n),onHide:Ga}):l.jsx(kk,{width:Nr,view:ke,appearance:qe})}),l.jsx(zx,{orientation:"vertical",onPointerDown:W=>{const he=W.clientX,Re=Nr;Bx(W,{cursor:"col-resize",onMove:Ae=>{const Qe=Ae.clientX-he,Yt=os(Re+Qe,ds.minPx,ds.maxPx);K(ft=>ft.collapsed||us<=0?ft:{...ft,fraction:Vi(Yt/us,ds)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:ku,color:Yi},children:l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Xn>0?`${Xn}px`:void 0,gridTemplateRows:`${Math.max(ks,jo)}px ${nr}px ${Math.max(0,So)}px`},children:[l.jsx(R2,{tabs:Ze.tabs,activeTabId:Ze.activeTab?.id??"",onSelectTab:W=>{Ze.selectTab(W),j(W)},onCloseTab:Ze.closeTab,onCloseOtherTabs:Ze.closeOtherTabs,onCloseTabsToRight:Ze.closeTabsToRight,onCloseAllTabs:Ze.closeAllTabs,onContentChange:Ze.updateContent,onSaveTab:vo,onSaveAllTabs:ju,onMoveTab:Ze.moveTab,onRetryTabLoad:Ze.reloadTab,onPinTab:Ze.pinTab,onUnpinTab:Ze.unpinTab,onSelectRecentTab:Ze.selectRecentTab,editorTheme:$e.resolvedTheme,menuAppearance:qe,canSaveFiles:Ns,minHeight:ks}),l.jsx(zx,{orientation:"horizontal",onPointerDown:W=>{er(!0);const he=W.clientY,Re=Va;let Ae=!1;Bx(W,{cursor:"row-resize",onMove:Qe=>{if(Kt&&!Ae&&(As(),Ae=!0),$t.maxPx<=0||Xn<=0)return;const Yt=he-Qe.clientY,ft=os(Re+Yt,$t.minPx,$t.maxPx);Ne(os(ft/Xn,0,1))},onEnd:()=>{er(!1)}})},onDoubleClick:()=>{Kt?As():Zi()},onToggle:es,collapsed:Kt}),Kt?l.jsxs("div",{className:ge("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Xi.bar),onDoubleClick:es,title:"Double-click to show console",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:"Console hidden"}),l.jsxs("span",{className:ge("text-[11px]",Xi.hint),children:["(double-click gutter or ",Co,")"]})]}),l.jsx("button",{type:"button",onClick:es,className:ge("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Xi.button),title:"Show console",children:"Show console"})]}):l.jsx(y_,{height:Math.max(0,Va),consoleLines:F,validation:G,activePane:w,onPaneChange:C,latestRun:J,onShowRunDetails:_o,onClearConsole:Pa,runStatus:P,buildPhases:N.buildPhases,runPhases:N.runPhases,runMode:ce,onToggleCollapse:es})]})})]})]}),Te?l.jsx(Ak,{open:Te,workspaceId:e,onClose:()=>{Ve(!1),$n(!1)},onRun:Eu}):null,l.jsx("input",{ref:ie,type:"file",accept:".zip",onChange:_u,className:"hidden"}),be?l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-slate-900",children:"Import from zip"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),fs?null:l.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),Ze.isDirty?l.jsx("p",{className:"text-sm font-medium text-amber-700",children:"You have unsaved changes that will be lost."}):null]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[l.jsx(Oe,{variant:"secondary",onClick:()=>xe(!1),disabled:V.isPending,children:"Cancel"}),l.jsx(Oe,{onClick:()=>{xe(!1),ie.current?.click()},disabled:!fs||V.isPending,isLoading:V.isPending,children:"Continue"})]})]})}):null,l.jsx(Mi,{open:!!ve,position:ve,onClose:()=>R(null),items:Ki,appearance:qe}),l.jsx(Mi,{open:!!Wt,position:Wt,onClose:()=>Ct(null),items:Nu,appearance:qe}),l.jsx(Mi,{open:!!Dt,position:Dt,onClose:Fs,items:Gi,appearance:qe})]})}function kk({width:e,view:n,appearance:r}){const i=Ck[n]||"Coming soon",c=r==="dark"?"border-[#111111] bg-[#1e1e1e] text-slate-300":"border-slate-200 bg-slate-50 text-slate-600";return l.jsx("div",{className:ge("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide",c),style:{width:e},"aria-live":"polite",children:i})}function Vf(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function Tk({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:d,onOpenTestMenu:m,onOpenActionsMenu:g,canRunValidation:x,isRunningValidation:b,onRunValidation:y,canRunExtraction:w,isRunningExtraction:E,onRunExtraction:_,explorerVisible:j,onToggleExplorer:C,consoleOpen:A,onToggleConsole:k,appearance:D,windowState:L,onMinimizeWindow:z,onToggleMaximize:Z,onCloseWindow:q,actionsBusy:ee=!1}){const O=D==="dark",U=O?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",X=O?"text-white/60":"text-slate-500",se=O?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",V=O?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ie=L==="maximized";return l.jsxs("div",{className:ge("flex items-center justify-between border-b px-4 py-2",U),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(zk,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:ge("text-[10px] font-semibold uppercase tracking-[0.35em]",X),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:ge("text-[11px]",X),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r?l.jsx("span",{className:ge("text-xs",X),children:r}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:ge("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",se),title:`Save (${d})`,children:[c?l.jsx(Qf,{}):l.jsx(Fk,{}),c?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:y,disabled:!x,className:ge("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",V),children:[b?l.jsx(Qf,{}):l.jsx(Px,{}),b?"Running":"Run validation"]}),l.jsx(cC,{label:E?"Running":"Test run",icon:E?l.jsx(Qf,{}):l.jsx(Px,{}),disabled:!w,isLoading:E,title:"Run test run",primaryClassName:ge(V,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:ge(V,"rounded-l-none px-2",O?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>_(!1),onOpenMenu:ve=>m(ve),onContextMenu:ve=>{ve.preventDefault(),m({x:ve.clientX,y:ve.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ci,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:C,appearance:D,active:j,icon:l.jsx(Ok,{active:j})}),l.jsx(Ci,{ariaLabel:A?"Hide console":"Show console",onClick:k,appearance:D,active:A,icon:l.jsx(Lk,{})})]}),l.jsx(Ci,{ariaLabel:"Configuration actions",onClick:ve=>{const R=ve.currentTarget.getBoundingClientRect();g({x:R.right+8,y:R.bottom})},appearance:D,disabled:ee,icon:l.jsx(Hk,{})}),l.jsxs("div",{className:ge("flex items-center gap-2 border-l pl-3",D==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(Ci,{ariaLabel:"Minimize workbench",onClick:z,appearance:D,icon:l.jsx(Bk,{})}),l.jsx(Ci,{ariaLabel:ie?"Restore workbench":"Maximize workbench",onClick:Z,appearance:D,active:ie,icon:ie?l.jsx($k,{}):l.jsx(Uk,{})}),l.jsx(Ci,{ariaLabel:"Close workbench",onClick:q,appearance:D,icon:l.jsx(qk,{})})]})]})]})}function Ak({open:e,workspaceId:n,onClose:r,onRun:i}){const c=p.useRef(null),u=dn({queryKey:["builder-documents",n],queryFn:({signal:D})=>Dk(n,D),staleTime:6e4,enabled:e}),d=p.useMemo(()=>u.data??[],[u.data]),[m,g]=p.useState("");p.useEffect(()=>{if(e){if(!d.length){g("");return}g(D=>D&&d.some(L=>L.id===D)?D:d[0]?.id??"")}},[d,e]);const x=d.find(D=>D.id===m)??null,b=dn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:D})=>ry(n,m,D),enabled:e&&!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,E]=p.useState([]);p.useEffect(()=>{if(e){if(!y.length){E([]);return}E(D=>D.filter(L=>y.some(z=>z.name===L)))}},[e,y]);const _=p.useMemo(()=>Array.from(new Set(w.filter(D=>y.some(L=>L.name===D)))),[w,y]),j=p.useCallback(D=>{E(L=>L.includes(D)?L.filter(z=>z!==D):[...L,D])},[]);if(!e)return null;const C=!x||u.isLoading||u.isError,A=y.length>0,k=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),u.isError?l.jsx(wt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):d.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(za,{id:"builder-run-document-select",value:m,onChange:D=>g(D.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:d.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",Rk(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(wt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oe,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]})]})}):A?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:_.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${_.length.toLocaleString()} worksheet${_.length===1?"":"s"} selected.`})]}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(D=>{const L=_.includes(D.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:L,onChange:()=>j(D.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[D.name,D.is_active?" (active)":""]})]},`${D.index}-${D.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(Oe,{variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(Oe,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:_.length>0?_:void 0})},disabled:C,children:"Start test run"})]})]})});return typeof document>"u"?null:Gs.createPortal(k,document.body)}async function Dk(e,n){const{data:r}=await Fe.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return r?.items??[]}function Rk(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Ci({ariaLabel:e,onClick:n,icon:r,appearance:i,active:c=!1,disabled:u=!1}){const d=i==="dark",m=d?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",g=d?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,disabled:u,className:ge("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",m,c&&g,u&&"cursor-not-allowed opacity-50"),title:e,children:r})}function Mk(e){if(e==null||!Number.isFinite(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function zk(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function Ok({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function Lk(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function Uk(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function $k(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function Bk(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function qk(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Qf(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function Px(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function Hk(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"3",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"8",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"13",cy:"8",r:"1.3",fill:"currentColor"})]})}function Fk(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Zk(e){return e instanceof An?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function Vk(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Qk(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function Wx(e){if(e.encoding==="base64"){const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const r=atob(e.content),i=new Uint8Array(r.length);for(let u=0;u<r.length;u+=1)i[u]=r.charCodeAt(u);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(i);let c="";for(let u=0;u<i.length;u+=1)c+=String.fromCharCode(i[u]);return c}catch{}}return e.content}function Ik(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const by=p.createContext(null);function vy(){const e=p.useContext(by);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function Pk({workspaceId:e,children:n}){const r=Nn(),i=Es(),[c,u]=p.useState(null),[d,m]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Ys(Ik(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>Jk(i.pathname,e),[i.pathname,e]),_=!!E;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{_||y.set(`${i.pathname}${i.search}${i.hash}`)},[_,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){x.current=null;return}const U=x.current;if(_&&E===c.configId){if(U==="dock"){x.current=null,m("minimized");return}U&&(x.current=null);return}if(U==="dock"){x.current=null;return}if(U==="close"){x.current=null;return}u(null),m("restored"),x.current=null},[c,_,E,d]),p.useEffect(()=>{if(!c||!_||E!==c.configId)return;const U=Kx(i.search);U!==c.editorSearch&&u(X=>!X||X.instanceId!==c.instanceId?X:{...X,editorSearch:U})},[c,_,E,i.search]);const j=p.useCallback(()=>y.get()??w,[y,w]),C=p.useCallback(U=>{u(X=>{if(!X)return X;const se=new URLSearchParams(X.editorSearch),V=typeof U=="function"?U(new URLSearchParams(se)):U,ve=ty(V).toString();return ve===X.editorSearch?X:{...X,editorSearch:ve}})},[]),A=p.useCallback(U=>{const X=Kx(U.editorSearch??i.search);let se=d==="minimized";u(V=>{if(V&&V.workspaceId===U.workspaceId&&V.configId===U.configId){const ie=U.seed??V.seed,ve=U.editorSearch!==void 0?X:V.editorSearch;return V.configName===U.configName&&V.seed===ie&&V.editorSearch===ve?V:{...V,configName:U.configName,seed:ie,editorSearch:ve}}return se=!0,g.current+=1,{...U,editorSearch:X,instanceId:`${U.workspaceId}:${U.configId}:${g.current}`}}),se&&m("restored")},[i.search,d]),k=p.useCallback(()=>{c&&(u(null),m("restored"),x.current="close",r(j()))},[c,r,j]),D=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),x.current="dock",r(j()))},[c,r,j]),L=p.useCallback(()=>{if(!c)return;m("restored");const U=e5(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==U&&r(U)},[c,r,i.pathname,i.search]),z=p.useCallback(()=>{c&&m("maximized")},[c]),Z=p.useCallback(()=>{const U=b.current;return b.current=!1,U},[]),q=p.useMemo(()=>({session:c,windowState:d,openSession:A,closeSession:k,minimizeWindow:D,maximizeWindow:z,restoreWindow:L,shouldBypassUnsavedGuard:Z}),[c,d,A,k,D,z,L,Z]),ee=!!c&&(!_||E!==c?.configId),O=p.useMemo(()=>ee&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:C}:null,[ee,c,C]);return l.jsxs(by.Provider,{value:q,children:[n,l.jsx(Y2,{value:O,children:l.jsx(Wk,{session:c,windowState:d,onClose:k,onMinimize:D,onMaximize:z,onRestore:L,shouldBypassUnsavedGuard:Z})}),c&&d==="minimized"?l.jsx(Gk,{configName:c.configName,onRestore:L,onDismiss:k}):null]})}function Wk({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:d}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(xy,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:d},e.instanceId)})}function Gk({configName:e,onRestore:n,onDismiss:r}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(Kk,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(Gx,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(Yk,{})}),l.jsx(Gx,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:l.jsx(Xk,{})})]})]})})})}function Gx({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ge("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function Kk(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function Yk(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function Xk(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function Jk(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function e5(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function Kx(e){return e?e.startsWith("?")?e.slice(1):e:""}function yy({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:d="k",enableShortcut:m=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:y,variant:w="default",isLoading:E=!1,loadingLabel:_="Loading suggestions",filters:j,onSelectFilter:C,emptyState:A,onChange:k,onSubmit:D,onClear:L,onFocus:z,onBlur:Z,suggestions:q=[],onSelectSuggestion:ee,renderSuggestion:O}){const U=p.useId(),X=e??U,se=`${U}-suggestions`,V=p.useRef(null),ie=n!==void 0,[ve,R]=p.useState(r),[Y,Q]=p.useState(!1),[be,xe]=p.useState(0),N=ie?n??"":ve,P=q.length>0,ce=!!j?.length,H=Y&&(P||E||!!A||ce),G=Y&&!P&&!E&&!!A,F=!!(L||!ie),J=u||"K",$=c??i;p.useEffect(()=>{ie||R(r)},[r,ie]),p.useEffect(()=>{xe(0)},[q.length,N]),p.useEffect(()=>{if(!m||typeof window>"u")return;const re=Ee=>{(Ee.metaKey||Ee.ctrlKey)&&Ee.key.toLowerCase()===d.toLowerCase()&&(Ee.preventDefault(),V.current?.focus())};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[m,d]);const le=re=>{re.preventDefault();const Ee=N.trim();!Ee&&!D||D?.(Ee)},me=re=>{ie||R(re),k?.(re)},Te=()=>{N&&(ie||R(""),k?.(""),L?.(),V.current?.focus())},Ve=re=>{re&&(ee?.(re),re.action?.(),Q(!1),V.current?.blur())},Se=re=>{if(!H||!P){re.key==="Escape"&&(Q(!1),re.currentTarget.blur());return}if(re.key==="ArrowDown"){re.preventDefault(),xe(Ee=>(Ee+1)%q.length);return}if(re.key==="ArrowUp"){re.preventDefault(),xe(Ee=>(Ee-1+q.length)%q.length);return}if(re.key==="Enter"){re.preventDefault(),Ve(q[be]);return}re.key==="Escape"&&(re.preventDefault(),Q(!1),re.currentTarget.blur())},Ce=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:ge("relative",y),children:[l.jsx("div",{className:ge("group/search overflow-hidden",Ce,H&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":$,onSubmit:le,children:[l.jsx("label",{htmlFor:X,className:"sr-only",children:$}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(n5,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:V,id:X,type:"search",value:N,onChange:re=>me(re.target.value),onFocus:()=>{Q(!0),z?.(),P||xe(0)},onBlur:()=>{Q(!1),Z?.()},onKeyDown:Se,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":H,"aria-controls":H?se:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[F&&N?l.jsx("button",{type:"button",onClick:Te,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(s5,{className:"h-3.5 w-3.5"})}):null,E?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":_,children:l.jsx(r5,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:J})]})]})}),H?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[P?l.jsx("ul",{id:se,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:q.map((re,Ee)=>{const $e=Ee===be,qe=O?.({suggestion:re,active:$e})??l.jsx(t5,{suggestion:re,active:$e});return l.jsx("li",{children:l.jsx("button",{type:"button",role:"option","aria-selected":$e,onMouseEnter:()=>xe(Ee),onMouseDown:nt=>nt.preventDefault(),onClick:()=>Ve(re),className:ge("flex w-full px-5 py-3 text-left transition",$e?"bg-brand-50/60":"hover:bg-slate-50/80"),children:qe})},re.id)})}):null,G?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:A}):null,ce?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),j?.map(re=>l.jsx("button",{type:"button",onMouseDown:Ee=>Ee.preventDefault(),onClick:()=>C?.(re),className:ge("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",re.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:re.label},re.id))]})}):null]}):null]})}function t5({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:ge("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function n5({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function s5({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function r5({className:e="h-4 w-4"}){return l.jsxs("svg",{className:ge("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function wy({brand:e,leading:n,actions:r,trailing:i,search:c,secondaryContent:u}){const d=!!c,m=c?{...c,className:ge("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:ge("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",d?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(yy,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Sy({displayName:e,email:n,actions:r=[]}){const[i,c]=p.useState(!1),[u,d]=p.useState(!1),m=p.useRef(null),g=p.useRef(null),x=Nn(),b=p.useMemo(()=>a5(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const _=C=>{const A=C.target;A&&(g.current?.contains(A)||m.current?.contains(A)||y())},j=C=>{C.key==="Escape"&&y()};return window.addEventListener("mousedown",_),window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",_),window.removeEventListener("touchstart",_),window.removeEventListener("keydown",j)}},[y,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(_=>{y(),_()},[y]),E=p.useCallback(async()=>{u||(y(),d(!0),x("/logout",{replace:!0}))},[y,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(_=>!_),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(l5,{className:ge("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:r.map(_=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(_.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:_.icon??_.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:_.label}),_.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:_.description}):null]})]})},_.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(i5,{}):null]})})]}):null]})}function a5(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function i5(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function l5({className:e}){return l.jsx("svg",{className:ge("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}const o5="1.6.0",c5=o5.trim(),u5=c5||"unknown";async function jy(e={}){const{data:n}=await Fe.GET("/api/v1/system/safe-mode",{signal:e.signal}),r=n??{},i=!!r.enabled,c=typeof r.detail=="string"&&r.detail.trim().length>0?r.detail.trim():Ks;return{enabled:i,detail:c}}async function d5(e={}){const{data:n}=await Fe.GET("/api/v1/meta/versions",{signal:e.signal}),r=n??{};return{ade_api:Yx(r.ade_api),ade_engine:Yx(r.ade_engine)}}async function f5(e,n={}){return await Fe.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),jy(n)}const Ks="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function Yx(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const hh=["system","safe-mode"],Xx=["system","versions"];function Wh(){const n=ht().getQueryData(hh);return dn({queryKey:hh,queryFn:({signal:r})=>jy({signal:r}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function h5(){const e=ht();return rn({mutationFn:n=>f5(n),onSuccess:n=>{e.setQueryData(hh,n)}})}function m5(e={}){const r=ht().getQueryData(Xx);return dn({queryKey:Xx,queryFn:({signal:i})=>d5({signal:i}),initialData:r,staleTime:300*1e3,enabled:e.enabled??!0})}function Ey({open:e,onClose:n}){const r=p.useRef(null),i=p.useRef(null),c=m5({enabled:e}),u=c.isError,d=c.data?.ade_api??(c.isPending?"Loading...":"unknown"),m=c.data?.ade_engine??(c.isPending?"Loading...":"unknown");if(p.useEffect(()=>{if(!e)return;const x=b=>{b.key==="Escape"&&n()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,n]),p.useEffect(()=>{if(!e)return;const{body:x}=document,b=x.style.overflow;return x.style.overflow="hidden",()=>{x.style.overflow=b}},[e]),p.useEffect(()=>{e&&i.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const g=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",role:"presentation",onMouseDown:x=>{x.target===x.currentTarget&&n()},children:l.jsxs("div",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-slate-200/80 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"About"}),l.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-slate-900",children:"ADE versions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),l.jsx(Oe,{ref:i,variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(If,{label:"ade-web",value:u5,hint:"Frontend build"}),l.jsx(If,{label:"ade-api",value:d,hint:"Backend service"}),l.jsx(If,{label:"ade-engine",value:m,hint:"Engine runtime"})]}),u?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(wt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),l.jsx(Oe,{size:"sm",variant:"secondary",onClick:()=>c.refetch(),children:"Retry"})]}):null]})});return Gs.createPortal(g,document.body)}function If({label:e,value:n,hint:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"text-xs text-slate-500",children:r})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("code",{className:"rounded bg-slate-900/90 px-2.5 py-1 text-xs font-mono text-white shadow-sm",children:n})})]})}function mh({to:e,replace:n,className:r,title:i,children:c,onClick:u}){const d=Nn();return l.jsx("a",{href:e,className:r,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),d(e,{replace:n}))},children:c})}function p5({to:e,end:n,className:r,children:i,title:c,onClick:u}){const{pathname:d}=Es(),m=n?d===e:d===e||d.startsWith(`${e}/`),g=typeof r=="function"?r({isActive:m}):r,x=typeof i=="function"?i({isActive:m}):i;return l.jsx(mh,{to:e,className:g,title:c,onClick:u,children:x})}function fo(e){return function({title:r,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?l.jsx("title",{children:r}):null,l.jsx("path",{d:e})]})}}const g5=fo("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),x5=fo("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),b5=fo("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),v5=fo("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),y5=fo("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),_y=[{id:"documents",path:"documents",label:"Documents",icon:g5},{id:"runs",path:"runs",label:"Runs",icon:x5},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:b5},{id:"settings",path:"settings",label:"Workspace Settings",icon:v5}],Oi=_y[0];function Ny(e){return _y.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const w5="4.25rem",S5="18.75rem";function j5({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:c}){const u=i??Ny(e),d=N5(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?w5:S5},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:l.jsxs("div",{className:ge("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:ge("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:ge("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:d}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?l.jsx(_5,{}):l.jsx(E5,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Cy,{items:u,collapsed:n})})]})})}function Cy({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:ge("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(p5,{to:u.href,end:!0,title:n?u.label:void 0,onClick:r,className:({isActive:d})=>ge("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",d?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:d})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:ge("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",d?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:ge("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",d?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:ge("h-5 w-5 flex-shrink-0 transition-colors duration-150",d?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:ge("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function E5(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function _5(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function N5(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}const C5="K",k5="Ctrl+K";function ky({macLabel:e=C5,windowsLabel:n=k5}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),r}function T5(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const A5=100;function Ty({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=A5}){return dn({queryKey:_n.list(e,{page:r,pageSize:i}),queryFn:({signal:c})=>hC(e,{page:r,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function Ay({workspaceId:e,configurationId:n,enabled:r=!0}){return dn({queryKey:_n.detail(e,n??""),queryFn:({signal:i})=>n?mC(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function D5(e){const n=ht();return rn({mutationFn:r=>EC(e,r),async onSuccess(){await n.invalidateQueries({queryKey:_n.root(e)})}})}function Dy(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const d of u){const m=n(d),g=i.get(m);if(g===void 0){i.set(m,r.length),r.push(d);continue}r[g]=d}}return r},[e,n])}const Ry={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},R5=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Il="mine",Ca={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function M5(e){return e&&Object.keys(Ca).includes(e)?e:Il}function z5(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function O5(e){return new Set(R5).has(e??"")?e:"-created_at"}const My=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Li={all:()=>["documents"],workspace:e=>[...Li.all(),e],list:(e,n,r)=>[...Li.workspace(e),"list",{sort:n,uploader:r}]},zy=50;function L5(){const{workspace:e}=ea(),n=Ua(),[r,i]=Zh(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=M5(r.get("view")),[d,m]=p.useState(u),[g,x]=p.useState(()=>{const _e=r.get("status");if(_e)return z5(_e);const ke=Ca[u].presetStatuses??[];return new Set(ke)}),[b,y]=p.useState(()=>{const _e=r.get("sort");return _e?O5(_e):Ca[u].presetSort??"-created_at"}),[w,E]=p.useState(r.get("q")??""),[_,j]=p.useState(w.trim()),C=p.useMemo(()=>Array.from(g),[g]),k=Ca[d].uploader??null,D=p.useRef(null),[L,z]=p.useState(new Set),Z=p.useMemo(()=>new Set(L),[L]),q=p.useMemo(()=>Array.from(Z),[Z]),ee=Z.size,O=$5(e.id),U=B5(e.id),X=Wh(),se=X.data?.enabled??!1,V=X.data?.detail??Ks,ie=X.isPending,[ve,R]=p.useState(null),[Y,Q]=p.useState(null),[be,xe]=p.useState(null),N=O.isPending,P=U.isPending,ce=U5(e.id,{sort:b,uploader:k}),{refetch:H}=ce,G=p.useCallback(_e=>_e.id,[]),F=Dy(ce.data?.pages,G),J=p.useMemo(()=>{const _e=_.toLowerCase(),ke=k==="me"?n.user.id:null,Pe=k==="me"?n.user.email??null:null;return F.filter(Dt=>{if(C.length>0&&!C.includes(Dt.status))return!1;if(k==="me"){const lt=Dt.uploader_id??Dt.uploader?.id??null,Wt=Dt.uploader?.email??null;if(ke&&lt&&lt!==ke||!lt&&Pe&&Wt&&Wt!==Pe)return!1}return!(_e&&!`${Dt.name??""} ${Dt.source??""}`.toLowerCase().includes(_e))})},[_,F,n.user.email,n.user.id,C,k]),$=ce.isFetchingNextPage,le=ce.isFetching&&!$,me=J.length;p.useEffect(()=>{const _e=r.get("q")??"";E(Pe=>Pe===_e?Pe:_e);const ke=_e.trim();j(Pe=>Pe===ke?Pe:ke)},[r]),p.useEffect(()=>{const _e=new URLSearchParams;g.size>0&&_e.set("status",Array.from(g).join(",")),b!=="-created_at"&&_e.set("sort",b),_&&_e.set("q",_),d!==Il&&_e.set("view",d),c.current(_e,{replace:!0})},[g,b,_,d]),p.useEffect(()=>{const _e=window.setTimeout(()=>j(w.trim()),250);return()=>window.clearTimeout(_e)},[w]),p.useEffect(()=>{z(_e=>{if(_e.size===0)return _e;const ke=new Set,Pe=new Set(J.map(lt=>lt.id));let Dt=!1;for(const lt of _e)Pe.has(lt)?ke.add(lt):Dt=!0;return Dt?ke:_e})},[J]);const Te=p.useMemo(()=>{for(const _e of J)if(Z.has(_e.id))return _e;return null},[J,Z]),Ve=p.useCallback(_e=>{const ke=Ca[_e];m(_e),x(new Set(ke.presetStatuses??[])),y(ke.presetSort??"-created_at"),E(""),j("")},[]),Se=p.useCallback(_e=>{x(ke=>{const Pe=new Set(ke);return Pe.has(_e)?Pe.delete(_e):Pe.add(_e),Pe})},[]),Ce=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const _e=ke=>{if((ke.metaKey||ke.ctrlKey)&&ke.key.toLowerCase()==="u"){ke.preventDefault(),D.current?.click();return}(ke.key==="Delete"||ke.key==="Backspace")&&ee>0&&(ke.preventDefault(),oe())};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[ee]);const re=p.useCallback(_e=>Ry[_e]??_e,[]),Ee=p.useCallback(_e=>l.jsx(cT,{document:_e}),[]),$e=p.useCallback(()=>{D.current?.click()},[]),qe=p.useCallback(async _e=>{if(_e.length){R(null);try{await O.mutateAsync({files:_e})}catch(ke){const Pe=ke instanceof Error?ke.message:"Failed to upload documents.";R({tone:"error",message:Pe})}}},[O]),nt=async _e=>{const ke=Array.from(_e.target.files??[]);await qe(ke),_e.target.value=""},T=_e=>{z(ke=>{const Pe=new Set(ke);return Pe.has(_e)?Pe.delete(_e):Pe.add(_e),Pe})},K=()=>{z(_e=>{if(J.length===0)return new Set;const ke=J.map(Pe=>Pe.id);return _e.size===J.length&&ke.every(Pe=>_e.has(Pe))?new Set:new Set(ke)})},oe=p.useCallback(async()=>{const _e=q;if(_e.length){R(null);try{await U.mutateAsync({documentIds:_e}),z(new Set)}catch(ke){const Pe=ke instanceof Error?ke.message:"Failed to delete documents.";R({tone:"error",message:Pe})}}},[U,q]),Ne=p.useCallback(async _e=>{R(null);try{await U.mutateAsync({documentIds:[_e.id]}),z(ke=>{const Pe=new Set(ke);return Pe.delete(_e.id),Pe})}catch(ke){const Pe=ke instanceof Error?ke.message:"Failed to delete document.";R({tone:"error",message:Pe})}},[U]),we=p.useCallback(async _e=>{try{Q(_e.id);const{blob:ke,filename:Pe}=await Z5(e.id,_e.id);hT(ke,Pe??_e.name)}catch(ke){const Pe=ke instanceof Error?ke.message:"Failed to download document.";R({tone:"error",message:Pe})}finally{Q(null)}},[e.id]),je=p.useCallback(_e=>{xe(_e)},[]),De=p.useCallback(()=>{H()},[H]),We=p.useCallback(_e=>{R({tone:"error",message:_e})},[]),Ke=()=>{m(Il),E(""),j(""),x(new Set),y("-created_at")},Nt=d===Il&&g.size===0&&b==="-created_at"&&!_;return l.jsxs(l.Fragment,{children:[l.jsx(aT,{workspaceName:e.name??void 0,disabled:N,onFiles:async _e=>{await qe(_e)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:D,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:nt}),l.jsx(Q5,{workspaceName:e.name,totalDocuments:me,view:d,onChangeView:Ve,sort:b,onSort:y,onReset:Ke,isFetching:ce.isFetching,isDefault:Nt,onUploadClick:$e,uploadDisabled:N,selectedStatuses:g,onToggleStatus:Se,onClearStatuses:Ce}),ve?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:ve.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:ce.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(iT,{})}):ce.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):J.length===0?l.jsx("div",{className:"p-6",children:l.jsx(oT,{onUploadClick:$e})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(W5,{documents:J,selectedIds:Z,onToggleDocument:T,onToggleAll:K,disableSelection:le||P||O.isPending,disableRowActions:U.isPending,formatStatusLabel:re,onDeleteDocument:Ne,onDownloadDocument:we,onRunDocument:je,downloadingId:Y,renderRunStatus:Ee,safeModeEnabled:se,safeModeMessage:V,safeModeLoading:ie})}),ce.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(Oe,{type:"button",variant:"ghost",onClick:()=>ce.fetchNextPage(),disabled:$,children:$?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(lT,{count:ee,onClear:()=>z(new Set),onRun:()=>{Te&&!se&&!ie&&je(Te)},onDelete:oe,busy:P,safeModeEnabled:se,safeModeMessage:V,safeModeLoading:ie}),l.jsx(sT,{open:!!be,workspaceId:e.id,documentRecord:be,onClose:()=>xe(null),onRunSuccess:De,onRunError:We,safeModeEnabled:se,safeModeMessage:V,safeModeLoading:ie})]})}function U5(e,n){const r=n.sort.trim()||null;return ev({queryKey:Li.list(e,r,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>F5(e,{sort:r,page:typeof i=="number"?i:1,pageSize:zy},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function $5(e){const n=ht();return rn({mutationFn:async({files:r})=>{const i=Array.from(r);for(const c of i)await Fe.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Li.workspace(e)})}})}function B5(e){const n=ht();return rn({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Fe.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Li.workspace(e)})}})}function q5(e){const n=ht();return rn({mutationFn:async({configId:r,options:i})=>{const{data:c}=await Fe.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:r}},body:{options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:Li.workspace(e)})}})}function H5(e,n){const r=p.useMemo(()=>Ys(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>Jx(r,n));p.useEffect(()=>{c(Jx(r,n))},[r,n]);const u=p.useCallback(d=>{c(d);const m=r.get()??{};r.set({...m,[n]:{configId:d.configId,sheetNames:d.sheetNames&&d.sheetNames.length>0?[...d.sheetNames]:null}})},[r,n]);return{preferences:i,setPreferences:u}}async function F5(e,n,r){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:zy,include_total:!1},{data:c}=await Fe.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!c)throw new Error("Expected document page payload.");return c}async function Z5(e,n){const{data:r,response:i}=await Fe.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const c=V5(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:c}}function V5(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function Jx(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const d=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,sheetNames:d}}}return{configId:null,sheetNames:null}}function Q5({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:c,onSort:u,onReset:d,isFetching:m,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}){const _=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:_})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:d,disabled:g,className:ge("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(Oe,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(I5,{view:r,onChange:i}),l.jsx(P5,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}),l.jsxs(za,{value:c,onChange:j=>u(j.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:ge("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function I5({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Ca).map(r=>{const i=Ca[r],c=r===e;return l.jsx("button",{type:"button",onClick:()=>n(r),className:ge("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function P5({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,c]=p.useState(!1),u=p.useRef(null),d=Object.entries(Ry),m=e.size>0,g=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(tT,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{r(),c(!1)},className:ge("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:d.map(([x,b])=>{const y=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function W5({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:d,onDeleteDocument:m,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:_=!1}){const j=p.useRef(null),{allSelected:C,someSelected:A}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const k=e.reduce((D,L)=>n.has(L.id)?D+1:D,0);return{allSelected:k===e.length,someSelected:k>0&&k<e.length}},[e,n]);return p.useEffect(()=>{j.current&&(j.current.indeterminate=A)},[A]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:j,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:C,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(k=>{const D=n.has(k.id);return l.jsxs("tr",{className:ge("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",D?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:D,onChange:()=>r(k.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:k.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:k.name,children:k.name}),l.jsx("div",{className:"text-xs text-slate-500",children:K5(k)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:k.created_at,className:"block text-xs text-slate-600",title:My.format(new Date(k.created_at)),children:eT(k)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:k.uploader?.name??k.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(k):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:ge("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",J5(k.status)),children:d?d(k.status):k.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(G5,{document:k,onDownload:g,onDelete:m,onRun:x,disabled:u,downloading:b===k.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:_})})]},k.id)})})]})})}function G5({document:e,onDownload:n,onDelete:r,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:d=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=c||!i||d||g,b=d?m??Ks:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(Oe,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:ge("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function K5(e){const n=[];return e.content_type&&n.push(Y5(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(X5(e.byte_size)),n.join("  ")||"Unknown type"}function Y5(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function X5(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function J5(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function eT(e){return My.format(new Date(e.created_at))}function tT({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function nT({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:ge("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function sT({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:d=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:Gs.createPortal(l.jsx(rT,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:d,safeModeMessage:m,safeModeLoading:g}),window.document.body)}function rT({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:m=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),y=Ty({workspaceId:e}),[w,E]=p.useState(""),_=q5(e),{preferences:j,setPreferences:C}=H5(e,n.id),[A,k]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{k(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const D=p.useMemo(()=>y.data?.items??[],[y.data]),L=p.useMemo(()=>D.filter(Se=>!("deleted_at"in Se&&Se.deleted_at)),[D]),z=p.useMemo(()=>{if(j.configId){const Se=L.find(Ce=>Ce.id===j.configId);if(Se)return Se.id}return L[0]?.id??""},[j.configId,L]);p.useEffect(()=>{E(z)},[z]);const Z=p.useMemo(()=>L.find(Se=>Se.id===w)??null,[L,w]),q=p.useCallback(Se=>{const Ce=typeof Se.status=="string"?Se.status:"draft";return`${Se.title??Se.display_name??"Untitled configuration"} (${Ce.charAt(0).toUpperCase()}${Ce.slice(1)})`},[]),[ee,O]=p.useState(null),U=d??Ks,X=dn({queryKey:A?Lc.detail(A):["run","none"],queryFn:({signal:Se})=>A?uo(A,Se):Promise.reject(new Error("No run selected")),enabled:!!A,refetchInterval:Se=>{const Ce=Se.state.data?.status;return Ce==="running"||Ce==="queued"?2e3:!1}}),se=dn({queryKey:A?Lc.outputs(A):["run-outputs","none"],queryFn:({signal:Se})=>{if(!A)return Promise.reject(new Error("No run selected"));const Ce=X.data??A;return hy(Ce,Se)},enabled:!!A&&(X.data?.status==="succeeded"||X.data?.status==="failed"),staleTime:5e3}),V=dn({queryKey:A?Lc.summary(A):["run-summary","none"],queryFn:({signal:Se})=>A?py(A,Se):Promise.reject(new Error("No run selected")),enabled:!!A&&(X.data?.status==="succeeded"||X.data?.status==="failed"),staleTime:5e3}),ie=dn({queryKey:A?Lc.telemetry(A):["run-telemetry","none"],queryFn:({signal:Se})=>{if(!A)return Promise.reject(new Error("No run selected"));const Ce=X.data??A;return my(Ce,Se)},enabled:!!A&&(X.data?.status==="succeeded"||X.data?.status==="failed"),staleTime:5e3}),ve=dn({queryKey:["document-sheets",e,n.id],queryFn:({signal:Se})=>ry(e,n.id,Se),staleTime:6e4}),R=p.useMemo(()=>ve.data??[],[ve.data]),[Y,Q]=p.useState([]);p.useEffect(()=>{if(!R.length){Q([]);return}const Se=(j.sheetNames??[]).filter(re=>R.some(Ee=>Ee.name===re)),Ce=Array.from(new Set(Se));Q(Ce)},[R,j.sheetNames]);const be=p.useMemo(()=>Array.from(new Set(Y.filter(Se=>R.some(Ce=>Ce.name===Se)))),[Y,R]);p.useEffect(()=>{Z&&C({configId:Z.id,sheetNames:be.length?be:null})},[be,Z,C]);const xe=p.useCallback(Se=>{Q(Ce=>Ce.includes(Se)?Ce.filter(re=>re!==Se):[...Ce,Se])},[]),N=X.data??null,P=N?.status??null,ce=P==="running"||P==="queued",H=N?dh(N):null,G=N?fh(N):null,F=se.data?.files??[],J=V.data??null,$=ie.data??[];p.useEffect(()=>{const Se=g.current;if(!Se)return;(eb(Se)[0]??Se).focus();const re=Ee=>{if(Ee.key==="Escape"){Ee.preventDefault(),r();return}if(Ee.key!=="Tab")return;const $e=eb(Se);if($e.length===0){Ee.preventDefault();return}const qe=$e[0],nt=$e[$e.length-1],T=window.document.activeElement;if(Ee.shiftKey){(!Se.contains(T)||T===qe)&&(Ee.preventDefault(),nt.focus());return}T===nt&&(Ee.preventDefault(),qe.focus())};return Se.addEventListener("keydown",re),()=>Se.removeEventListener("keydown",re)},[r]);const le=L.length>0,me=_.isPending||ce||m||u||!le||!Z,Te=u?U:m?"Checking ADE safe mode status...":void 0,Ve=()=>{if(u||m)return;if(!Z){O("Select a configuration before running the extractor.");return}O(null),k(null);const Se=be,Ce={dry_run:!1,validate_only:!1,force_rebuild:!1},re=Se.length>0?{...Ce,input_sheet_names:Se}:Ce;_.mutate({configId:Z.id,options:{...re,input_document_id:n.id}},{onSuccess:Ee=>{C({configId:Z.id,sheetNames:Se.length?Se:null}),i?.(Ee),k(Ee.id)},onError:Ee=>{const $e=Ee instanceof Error?Ee.message:"Unable to submit extraction run.";O($e),c?.($e)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:r,disabled:_.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(wt,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):le?l.jsx("div",{className:"space-y-2",children:l.jsxs(za,{value:w,onChange:Se=>{const Ce=Se.target.value;E(Ce)},disabled:_.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),L.map(Se=>l.jsx("option",{value:Se.id,children:q(Se)},Se.id))]})}):l.jsx(wt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),ve.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):ve.isError?l.jsx(wt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oe,{variant:"secondary",size:"sm",onClick:()=>ve.refetch(),disabled:ve.isFetching,children:"Retry loading"}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>Q([]),disabled:_.isPending,children:"Use all worksheets"})]})]})}):R.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:be.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${be.length.toLocaleString()} worksheet${be.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>Q([]),disabled:_.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:R.map(Se=>{const Ce=be.includes(Se.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:Ce,onChange:()=>xe(Se.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[Se.name,Se.is_active?" (active)":""]})]},`${Se.index}-${Se.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),A?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:A,children:["Run ",A]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",P??"loading"]})]}),ce?l.jsx(nT,{className:"h-4 w-4 text-slate-500"}):null]}),G?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:G,className:"inline-flex items-center rounded border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 transition hover:bg-slate-100",children:"Download logs"})}):null,l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),se.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):F.length>0?l.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:F.map(Se=>{const Ce=Se.path??Se.name,re=typeof Se.byte_size=="number"?Se.byte_size:0,Ee=Se.download_url??(H?`${H}/${Ce.split("/").map(encodeURIComponent).join("/")}`:void 0);return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[Ee?l.jsx("a",{href:Ee,className:"text-emerald-700 hover:underline",children:Se.name}):l.jsx("span",{className:"text-slate-500",children:Se.name}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[re.toLocaleString()," bytes"]})]},Ce)})}):l.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),V.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):V.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):J?l.jsx(Nv,{summary:J}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),ie.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):ie.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):$.length>0?l.jsx(Cv,{events:$}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(wt,{tone:"warning",children:U}):null,ee?l.jsx(wt,{tone:"danger",children:ee}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(Oe,{type:"button",variant:"ghost",onClick:r,disabled:_.isPending,children:"Cancel"}),l.jsx(Oe,{type:"button",onClick:Ve,isLoading:_.isPending,disabled:me,title:Te,children:"Run extraction"})]})]})]})}function aT({onFiles:e,disabled:n,workspaceName:r}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const d=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},x=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",d),window.addEventListener("dragover",m),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",d),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:ge("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function iT(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function lT({count:e,onClear:n,onRun:r,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:m=!1}){if(e===0)return null;const g=c||u||m,x=u?d??Ks:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(Oe,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(Oe,{size:"sm",onClick:()=>!g&&r(),disabled:g,title:x,children:"Run extraction"}),l.jsx(Oe,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function oT({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(Oe,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function cT({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:ge("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",uT(n.status)),children:[dT(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:fT(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function uT(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function dT(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ki=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function fT(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return ki.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return ki.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return ki.format(m,"hour");const x=Math.round(m/24);if(Math.abs(x)<30)return ki.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return ki.format(b,"month");const y=Math.round(x/365);return ki.format(y,"year")}function hT(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function eb(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function mT({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function pT(){return l.jsx(gt,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"empty"})}function Lt({label:e,hint:n,error:r,required:i=!1,children:c,className:u}){const d=p.useId(),m=p.isValidElement(c)?c.props??{}:{},g=m.id??d,x=n?`${g}-hint`:void 0,b=r?`${g}-error`:void 0,y=[x,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:ge("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:g,required:i||m.required,"aria-describedby":y,"aria-invalid":r?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,r?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const Oy="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Ht=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>l.jsx("input",{ref:i,className:ge(Oy,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));Ht.displayName="Input";const Ly=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},c)=>l.jsx("textarea",{ref:c,rows:r,className:ge(Oy,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));Ly.displayName="TextArea";const $c=[{value:"default",label:"Default template"}],Bc=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function gT(){const{workspace:e}=ea(),n=Nn(),r=p.useMemo(()=>gy(e.id),[e.id]),i=p.useMemo(()=>Ih(e.id),[e.id]),c=Ty({workspaceId:e.id}),u=D5(e.id),d=RC(e.id),[m,g]=p.useState(()=>`${e.name} Config`),[x,b]=p.useState($c[0]?.value??"default"),[y,w]=p.useState(null),[E,_]=p.useState(()=>`${e.name} Import`),[j,C]=p.useState(null),[A,k]=p.useState(null),[D,L]=p.useState(()=>i.get()),z=p.useRef(null),Z=p.useRef(null),q=p.useMemo(()=>(c.data?.items??[]).filter(Q=>!("deleted_at"in Q&&Q.deleted_at)),[c.data]),ee=p.useMemo(()=>q.find(Q=>Q.id===D?.configId)??null,[q,D]),O=p.useCallback(Q=>{L(Ph(i,Q))},[i]);p.useEffect(()=>{L(i.get())},[i]),p.useEffect(()=>{const Q=Z.current,be=Q?.id!==e.id,xe=Q?.name!==e.name;if(!(!be&&!xe)){if(Z.current={id:e.id,name:e.name},be){g(`${e.name} Config`),b($c[0]?.value??"default"),w(null),_(`${e.name} Import`),C(null),k(null),z.current&&(z.current.value="");return}xe&&(g(N=>N===`${Q?.name??""} Config`?`${e.name} Config`:N),_(N=>N===`${Q?.name??""} Import`?`${e.name} Import`:N))}},[e.id,e.name]),p.useEffect(()=>{if(typeof window>"u")return;const Q=be=>{if(!(be.storageArea!==window.localStorage||be.key!==r))try{L(be.newValue?JSON.parse(be.newValue):null)}catch{L(null)}};return window.addEventListener("storage",Q),()=>window.removeEventListener("storage",Q)},[r]),p.useEffect(()=>{D?.configId&&(q.some(Q=>Q.id===D.configId)||O(null))},[q,D?.configId,O]);const U=Q=>{O(Q),n(Bc(e.id,Q))},X=Q=>{O(Q),n(`${Bc(e.id,Q)}/editor`)},se=p.useCallback(Q=>{k(null),C(Q.target.files?.[0]??null),Q.target.value=""},[]),V=Q=>{Q.preventDefault();const be=m.trim();if(!be){w("Enter a display name for the configuration.");return}w(null),u.mutate({displayName:be,source:{type:"template",templateId:x}},{onSuccess(xe){O(xe.id),n(Bc(e.id,xe.id))}})},ie=Q=>{Q.preventDefault();const be=E.trim();if(!be){k("Enter a display name for the imported configuration.");return}if(!j){k("Select a .zip file to import.");return}k(null),d.mutate({displayName:be,file:j},{onSuccess(xe){O(xe.id),C(null),c.refetch(),n(Bc(e.id,xe.id))},onError(xe){k(xe instanceof Error?xe.message:"Unable to import configuration.")}})},ve=y??(u.error instanceof Error?u.error.message:null),R=m.trim().length>0&&!u.isPending,Y=E.trim().length>0&&!!j&&!d.isPending;return c.isLoading?l.jsx(gt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):c.isError?l.jsx(gt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):q.length===0?l.jsx(gt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("div",{className:"space-y-6 text-left",children:[l.jsxs("form",{onSubmit:V,className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsx(Lt,{label:"Configuration name",required:!0,children:l.jsx(Ht,{value:m,onChange:Q=>g(Q.target.value),placeholder:"Membership normalization",disabled:u.isPending,autoFocus:!0})}),l.jsx(Lt,{label:"Template",children:l.jsx(za,{value:x,onChange:Q=>b(Q.target.value),disabled:u.isPending,children:$c.map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))})}),ve?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:ve}):null,l.jsx(Oe,{type:"submit",className:"w-full",disabled:!R,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:ie,className:"mt-3 space-y-4",children:[l.jsx(Lt,{label:"Configuration name",required:!0,children:l.jsx(Ht,{value:E,onChange:Q=>_(Q.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(Lt,{label:"Archive (.zip)",required:!0,children:[l.jsx(Ht,{type:"file",ref:z,accept:".zip",onChange:se,disabled:d.isPending}),j?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:j.name}):null]}),A?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:A}):null,l.jsx(Oe,{type:"submit",className:"w-full",disabled:!Y,isLoading:d.isPending,children:"Import archive"})]})]})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),ee?l.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>U(ee.id),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:q.map(Q=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:Q.display_name}),l.jsx(xT,{status:Q.status}),ee?.id===Q.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",bT(Q.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(Oe,{size:"sm",variant:"secondary",onClick:()=>U(Q.id),children:"View details"}),l.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>X(Q.id),children:"Open editor"})]})]},Q.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:V,className:"space-y-4",children:[l.jsx(Lt,{label:"Configuration name",required:!0,children:l.jsx(Ht,{value:m,onChange:Q=>g(Q.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),l.jsx(Lt,{label:"Template",children:l.jsx(za,{value:x,onChange:Q=>b(Q.target.value),disabled:u.isPending,children:$c.map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))})}),ve?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:ve}):null,l.jsx(Oe,{type:"submit",className:"w-full",disabled:!R,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:ie,className:"mt-3 space-y-4",children:[l.jsx(Lt,{label:"Configuration name",required:!0,children:l.jsx(Ht,{value:E,onChange:Q=>_(Q.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(Lt,{label:"Archive (.zip)",required:!0,children:[l.jsx(Ht,{type:"file",ref:z,accept:".zip",onChange:se,disabled:d.isPending}),j?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:j.name}):null]}),A?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:A}):null,l.jsx(Oe,{type:"submit",className:"w-full",disabled:!Y,isLoading:d.isPending,children:"Import archive"})]})]})]})]})}function xT({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function bT(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function vT({params:e}={}){const{workspace:n}=ea(),r=Nn(),i=e?.configId,c=p.useMemo(()=>Ih(n.id),[n.id]),u=Ay({workspaceId:n.id,configurationId:i}),d=u.data;return p.useEffect(()=>{!i||!d||Ph(c,i)},[i,d,c]),i?u.isLoading?l.jsx(gt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u.isError?l.jsx(gt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):d?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:d.display_name})]}),l.jsx(Oe,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(d.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:d.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:d.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:yT(d.updated_at)})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(gt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(gt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function yT(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function wT({params:e}={}){const{workspace:n}=ea(),{session:r,windowState:i,openSession:c,closeSession:u,minimizeWindow:d,maximizeWindow:m,restoreWindow:g,shouldBypassUnsavedGuard:x}=vy(),b=e?.configId,y=Ay({workspaceId:n.id,configurationId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b||y.isError)return;const C=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${C}`})},[b,y.data?.display_name,y.isError,n.id,n.name,c]),p.useEffect(()=>{b&&(y.isError||y.isSuccess&&!y.data)&&u()},[u,b,y.data,y.isError,y.isSuccess]),!b)return l.jsx(gt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(y.isLoading)return l.jsx(gt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(y.isError)return l.jsx(gt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!y.data)return l.jsx(gt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const w=r&&r.configId===b?r:null,E=!!(w&&i==="minimized"),_=!!(w&&i==="restored"),j=!!(w&&i==="maximized");return _&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(xy,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:d,onMaximizeWindow:m,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(gt,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(gt,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(gt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var ho=e=>e.type==="checkbox",ka=e=>e instanceof Date,Wn=e=>e==null;const Uy=e=>typeof e=="object";var sn=e=>!Wn(e)&&!Array.isArray(e)&&Uy(e)&&!ka(e),ST=e=>sn(e)&&e.target?ho(e.target)?e.target.checked:e.target.value:e,jT=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ET=(e,n)=>e.has(jT(n)),_T=e=>{const n=e.constructor&&e.constructor.prototype;return sn(n)&&n.hasOwnProperty("isPrototypeOf")},Gh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Gh&&(e instanceof Blob||i))&&(r||sn(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!_T(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=xn(e[c]));else return e;return n}var pu=e=>/^\w*$/.test(e),It=e=>e===void 0,Kh=e=>Array.isArray(e)?e.filter(Boolean):[],Yh=e=>Kh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,n,r)=>{if(!n||!sn(e))return r;const i=(pu(n)?[n]:Yh(n)).reduce((c,u)=>Wn(c)?c:c[u],e);return It(i)||i===e?It(e[n])?r:e[n]:i},Ps=e=>typeof e=="boolean",jt=(e,n,r)=>{let i=-1;const c=pu(n)?[n]:Yh(n),u=c.length,d=u-1;for(;++i<u;){const m=c[i];let g=r;if(i!==d){const x=e[m];g=sn(x)||Array.isArray(x)?x:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const tb={BLUR:"blur",FOCUS_OUT:"focusout"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},NT=yt.createContext(null);NT.displayName="HookFormContext";var CT=(e,n,r,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const d=u;return n._proxyFormState[d]!==Us.all&&(n._proxyFormState[d]=!i||Us.all),e[d]}});return c};const kT=typeof window<"u"?yt.useLayoutEffect:yt.useEffect;var cs=e=>typeof e=="string",TT=(e,n,r,i,c)=>cs(e)?(i&&n.watch.add(e),Le(r,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Le(r,u))):(i&&(n.watchAll=!0),r),ph=e=>Wn(e)||!Uy(e);function Xr(e,n,r=new WeakSet){if(ph(e)||ph(n))return e===n;if(ka(e)&&ka(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const d=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(ka(d)&&ka(m)||sn(d)&&sn(m)||Array.isArray(d)&&Array.isArray(m)?!Xr(d,m,r):d!==m)return!1}}return!0}var Xh=(e,n,r,i,c)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:c||!0}}:{},Pl=e=>Array.isArray(e)?e:[e],nb=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function $y(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&sn(c)&&u){const d=$y(c,u);sn(d)&&(r[i]=d)}else e[i]&&(r[i]=u)}return r}var Pn=e=>sn(e)&&!Object.keys(e).length,Jh=e=>e.type==="file",$s=e=>typeof e=="function",tu=e=>{if(!Gh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},By=e=>e.type==="select-multiple",em=e=>e.type==="radio",AT=e=>em(e)||ho(e),Pf=e=>tu(e)&&e.isConnected;function DT(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=It(e)?i++:e[n[i++]];return e}function RT(e){for(const n in e)if(e.hasOwnProperty(n)&&!It(e[n]))return!1;return!0}function nn(e,n){const r=Array.isArray(n)?n:pu(n)?[n]:Yh(n),i=r.length===1?e:DT(e,r),c=r.length-1,u=r[c];return i&&delete i[u],c!==0&&(sn(i)&&Pn(i)||Array.isArray(i)&&RT(i))&&nn(e,r.slice(0,-1)),e}var MT=e=>{for(const n in e)if($s(e[n]))return!0;return!1};function qy(e){return Array.isArray(e)||sn(e)&&!MT(e)}function gh(e,n={}){for(const r in e)qy(e[r])?(n[r]=Array.isArray(e[r])?[]:{},gh(e[r],n[r])):It(e[r])||(n[r]=!0);return n}function Ai(e,n,r){r||(r=gh(n));for(const i in e)qy(e[i])?It(n)||ph(r[i])?r[i]=gh(e[i],Array.isArray(e[i])?[]:{}):Ai(e[i],Wn(n)?{}:n[i],r[i]):r[i]=!Xr(e[i],n[i]);return r}const sb={value:!1,isValid:!1},rb={value:!0,isValid:!0};var Hy=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!It(e[0].attributes.value)?It(e[0].value)||e[0].value===""?rb:{value:e[0].value,isValid:!0}:rb:sb}return sb},Fy=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>It(e)?e:n?e===""?NaN:e&&+e:r&&cs(e)?new Date(e):i?i(e):e;const ab={isValid:!1,value:null};var Zy=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,ab):ab;function ib(e){const n=e.ref;return Jh(n)?n.files:em(n)?Zy(e.refs).value:By(n)?[...n.selectedOptions].map(({value:r})=>r):ho(n)?Hy(e.refs).value:Fy(It(n.value)?e.ref.value:n.value,e)}var zT=(e,n,r,i)=>{const c={};for(const u of e){const d=Le(n,u);d&&jt(c,u,d._f)}return{criteriaMode:r,names:[...e],fields:c,shouldUseNativeValidation:i}},nu=e=>e instanceof RegExp,ql=e=>It(e)?e:nu(e)?e.source:sn(e)?nu(e.value)?e.value.source:e.value:e,lb=e=>({isOnSubmit:!e||e===Us.onSubmit,isOnBlur:e===Us.onBlur,isOnChange:e===Us.onChange,isOnAll:e===Us.all,isOnTouch:e===Us.onTouched});const ob="AsyncFunction";var OT=e=>!!e&&!!e.validate&&!!($s(e.validate)&&e.validate.constructor.name===ob||sn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===ob)),LT=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cb=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Wl=(e,n,r,i)=>{for(const c of r||Object.keys(e)){const u=Le(e,c);if(u){const{_f:d,...m}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],c)&&!i)return!0;if(d.ref&&n(d.ref,d.name)&&!i)return!0;if(Wl(m,n))break}else if(sn(m)&&Wl(m,n))break}}};function ub(e,n,r){const i=Le(e,r);if(i||pu(r))return{error:i,name:r};const c=r.split(".");for(;c.length;){const u=c.join("."),d=Le(n,u),m=Le(e,u);if(d&&!Array.isArray(d)&&r!==u)return{name:r};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:r}}var UT=(e,n,r,i)=>{r(e);const{name:c,...u}=e;return Pn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===(!i||Us.all))},$T=(e,n,r)=>!e||!n||e===n||Pl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),BT=(e,n,r,i,c)=>c.isOnAll?!1:!r&&c.isOnTouch?!(n||e):(r?i.isOnBlur:c.isOnBlur)?!e:(r?i.isOnChange:c.isOnChange)?e:!0,qT=(e,n)=>!Kh(Le(e,n)).length&&nn(e,n),HT=(e,n,r)=>{const i=Pl(Le(e,r));return jt(i,"root",n[r]),jt(e,r,i),e};function db(e,n,r="validate"){if(cs(e)||Array.isArray(e)&&e.every(cs)||Ps(e)&&!e)return{type:r,message:cs(e)?e:"",ref:n}}var Ti=e=>sn(e)&&!nu(e)?e:{value:e,message:""},fb=async(e,n,r,i,c,u)=>{const{ref:d,refs:m,required:g,maxLength:x,minLength:b,min:y,max:w,pattern:E,validate:_,name:j,valueAsNumber:C,mount:A}=e._f,k=Le(r,j);if(!A||n.has(j))return{};const D=m?m[0]:d,L=se=>{c&&D.reportValidity&&(D.setCustomValidity(Ps(se)?"":se||""),D.reportValidity())},z={},Z=em(d),q=ho(d),ee=Z||q,O=(C||Jh(d))&&It(d.value)&&It(k)||tu(d)&&d.value===""||k===""||Array.isArray(k)&&!k.length,U=Xh.bind(null,j,i,z),X=(se,V,ie,ve=yr.maxLength,R=yr.minLength)=>{const Y=se?V:ie;z[j]={type:se?ve:R,message:Y,ref:d,...U(se?ve:R,Y)}};if(u?!Array.isArray(k)||!k.length:g&&(!ee&&(O||Wn(k))||Ps(k)&&!k||q&&!Hy(m).isValid||Z&&!Zy(m).isValid)){const{value:se,message:V}=cs(g)?{value:!!g,message:g}:Ti(g);if(se&&(z[j]={type:yr.required,message:V,ref:D,...U(yr.required,V)},!i))return L(V),z}if(!O&&(!Wn(y)||!Wn(w))){let se,V;const ie=Ti(w),ve=Ti(y);if(!Wn(k)&&!isNaN(k)){const R=d.valueAsNumber||k&&+k;Wn(ie.value)||(se=R>ie.value),Wn(ve.value)||(V=R<ve.value)}else{const R=d.valueAsDate||new Date(k),Y=xe=>new Date(new Date().toDateString()+" "+xe),Q=d.type=="time",be=d.type=="week";cs(ie.value)&&k&&(se=Q?Y(k)>Y(ie.value):be?k>ie.value:R>new Date(ie.value)),cs(ve.value)&&k&&(V=Q?Y(k)<Y(ve.value):be?k<ve.value:R<new Date(ve.value))}if((se||V)&&(X(!!se,ie.message,ve.message,yr.max,yr.min),!i))return L(z[j].message),z}if((x||b)&&!O&&(cs(k)||u&&Array.isArray(k))){const se=Ti(x),V=Ti(b),ie=!Wn(se.value)&&k.length>+se.value,ve=!Wn(V.value)&&k.length<+V.value;if((ie||ve)&&(X(ie,se.message,V.message),!i))return L(z[j].message),z}if(E&&!O&&cs(k)){const{value:se,message:V}=Ti(E);if(nu(se)&&!k.match(se)&&(z[j]={type:yr.pattern,message:V,ref:d,...U(yr.pattern,V)},!i))return L(V),z}if(_){if($s(_)){const se=await _(k,r),V=db(se,D);if(V&&(z[j]={...V,...U(yr.validate,V.message)},!i))return L(V.message),z}else if(sn(_)){let se={};for(const V in _){if(!Pn(se)&&!i)break;const ie=db(await _[V](k,r),D,V);ie&&(se={...ie,...U(V,ie.message)},L(ie.message),i&&(z[j]=se))}if(!Pn(se)&&(z[j]={ref:D,...se},!i))return z}}return L(!0),z};const FT={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function ZT(e={}){let n={...FT,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$s(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=sn(n.defaultValues)||sn(n.values)?xn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:xn(c),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:nb(),state:nb()},E=n.criteriaMode===Us.all,_=T=>K=>{clearTimeout(x),x=setTimeout(T,K)},j=async T=>{if(!n.disabled&&(b.isValid||y.isValid||T)){const K=n.resolver?Pn((await q()).errors):await O(i,!0);K!==r.isValid&&w.state.next({isValid:K})}},C=(T,K)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((T||Array.from(m.mount)).forEach(oe=>{oe&&(K?jt(r.validatingFields,oe,K):nn(r.validatingFields,oe))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Pn(r.validatingFields)}))},A=(T,K=[],oe,Ne,we=!0,je=!0)=>{if(Ne&&oe&&!n.disabled){if(d.action=!0,je&&Array.isArray(Le(i,T))){const De=oe(Le(i,T),Ne.argA,Ne.argB);we&&jt(i,T,De)}if(je&&Array.isArray(Le(r.errors,T))){const De=oe(Le(r.errors,T),Ne.argA,Ne.argB);we&&jt(r.errors,T,De),qT(r.errors,T)}if((b.touchedFields||y.touchedFields)&&je&&Array.isArray(Le(r.touchedFields,T))){const De=oe(Le(r.touchedFields,T),Ne.argA,Ne.argB);we&&jt(r.touchedFields,T,De)}(b.dirtyFields||y.dirtyFields)&&(r.dirtyFields=Ai(c,u)),w.state.next({name:T,isDirty:X(T,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jt(u,T,K)},k=(T,K)=>{jt(r.errors,T,K),w.state.next({errors:r.errors})},D=T=>{r.errors=T,w.state.next({errors:r.errors,isValid:!1})},L=(T,K,oe,Ne)=>{const we=Le(i,T);if(we){const je=Le(u,T,It(oe)?Le(c,T):oe);It(je)||Ne&&Ne.defaultChecked||K?jt(u,T,K?je:ib(we._f)):ie(T,je),d.mount&&j()}},z=(T,K,oe,Ne,we)=>{let je=!1,De=!1;const We={name:T};if(!n.disabled){if(!oe||Ne){(b.isDirty||y.isDirty)&&(De=r.isDirty,r.isDirty=We.isDirty=X(),je=De!==We.isDirty);const Ke=Xr(Le(c,T),K);De=!!Le(r.dirtyFields,T),Ke?nn(r.dirtyFields,T):jt(r.dirtyFields,T,!0),We.dirtyFields=r.dirtyFields,je=je||(b.dirtyFields||y.dirtyFields)&&De!==!Ke}if(oe){const Ke=Le(r.touchedFields,T);Ke||(jt(r.touchedFields,T,oe),We.touchedFields=r.touchedFields,je=je||(b.touchedFields||y.touchedFields)&&Ke!==oe)}je&&we&&w.state.next(We)}return je?We:{}},Z=(T,K,oe,Ne)=>{const we=Le(r.errors,T),je=(b.isValid||y.isValid)&&Ps(K)&&r.isValid!==K;if(n.delayError&&oe?(g=_(()=>k(T,oe)),g(n.delayError)):(clearTimeout(x),g=null,oe?jt(r.errors,T,oe):nn(r.errors,T)),(oe?!Xr(we,oe):we)||!Pn(Ne)||je){const De={...Ne,...je&&Ps(K)?{isValid:K}:{},errors:r.errors,name:T};r={...r,...De},w.state.next(De)}},q=async T=>{C(T,!0);const K=await n.resolver(u,n.context,zT(T||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return C(T),K},ee=async T=>{const{errors:K}=await q(T);if(T)for(const oe of T){const Ne=Le(K,oe);Ne?jt(r.errors,oe,Ne):nn(r.errors,oe)}else r.errors=K;return K},O=async(T,K,oe={valid:!0})=>{for(const Ne in T){const we=T[Ne];if(we){const{_f:je,...De}=we;if(je){const We=m.array.has(je.name),Ke=we._f&&OT(we._f);Ke&&b.validatingFields&&C([je.name],!0);const Nt=await fb(we,m.disabled,u,E,n.shouldUseNativeValidation&&!K,We);if(Ke&&b.validatingFields&&C([je.name]),Nt[je.name]&&(oe.valid=!1,K))break;!K&&(Le(Nt,je.name)?We?HT(r.errors,Nt,je.name):jt(r.errors,je.name,Nt[je.name]):nn(r.errors,je.name))}!Pn(De)&&await O(De,K,oe)}}return oe.valid},U=()=>{for(const T of m.unMount){const K=Le(i,T);K&&(K._f.refs?K._f.refs.every(oe=>!Pf(oe)):!Pf(K._f.ref))&&J(T)}m.unMount=new Set},X=(T,K)=>!n.disabled&&(T&&K&&jt(u,T,K),!Xr(xe(),c)),se=(T,K,oe)=>TT(T,m,{...d.mount?u:It(K)?c:cs(T)?{[T]:K}:K},oe,K),V=T=>Kh(Le(d.mount?u:c,T,n.shouldUnregister?Le(c,T,[]):[])),ie=(T,K,oe={})=>{const Ne=Le(i,T);let we=K;if(Ne){const je=Ne._f;je&&(!je.disabled&&jt(u,T,Fy(K,je)),we=tu(je.ref)&&Wn(K)?"":K,By(je.ref)?[...je.ref.options].forEach(De=>De.selected=we.includes(De.value)):je.refs?ho(je.ref)?je.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(we)?De.checked=!!we.find(We=>We===De.value):De.checked=we===De.value||!!we)}):je.refs.forEach(De=>De.checked=De.value===we):Jh(je.ref)?je.ref.value="":(je.ref.value=we,je.ref.type||w.state.next({name:T,values:xn(u)})))}(oe.shouldDirty||oe.shouldTouch)&&z(T,we,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&be(T)},ve=(T,K,oe)=>{for(const Ne in K){if(!K.hasOwnProperty(Ne))return;const we=K[Ne],je=T+"."+Ne,De=Le(i,je);(m.array.has(T)||sn(we)||De&&!De._f)&&!ka(we)?ve(je,we,oe):ie(je,we,oe)}},R=(T,K,oe={})=>{const Ne=Le(i,T),we=m.array.has(T),je=xn(K);jt(u,T,je),we?(w.array.next({name:T,values:xn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&oe.shouldDirty&&w.state.next({name:T,dirtyFields:Ai(c,u),isDirty:X(T,je)})):Ne&&!Ne._f&&!Wn(je)?ve(T,je,oe):ie(T,je,oe),cb(T,m)&&w.state.next({...r,name:T}),w.state.next({name:d.mount?T:void 0,values:xn(u)})},Y=async T=>{d.mount=!0;const K=T.target;let oe=K.name,Ne=!0;const we=Le(i,oe),je=Ke=>{Ne=Number.isNaN(Ke)||ka(Ke)&&isNaN(Ke.getTime())||Xr(Ke,Le(u,oe,Ke))},De=lb(n.mode),We=lb(n.reValidateMode);if(we){let Ke,Nt;const _e=K.type?ib(we._f):ST(T),ke=T.type===tb.BLUR||T.type===tb.FOCUS_OUT,Pe=!LT(we._f)&&!n.resolver&&!Le(r.errors,oe)&&!we._f.deps||BT(ke,Le(r.touchedFields,oe),r.isSubmitted,We,De),Dt=cb(oe,m,ke);jt(u,oe,_e),ke?(!K||!K.readOnly)&&(we._f.onBlur&&we._f.onBlur(T),g&&g(0)):we._f.onChange&&we._f.onChange(T);const lt=z(oe,_e,ke),Wt=!Pn(lt)||Dt;if(!ke&&w.state.next({name:oe,type:T.type,values:xn(u)}),Pe)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?ke&&j():ke||j()),Wt&&w.state.next({name:oe,...Dt?{}:lt});if(!ke&&Dt&&w.state.next({...r}),n.resolver){const{errors:Ct}=await q([oe]);if(je(_e),Ne){const Sr=ub(r.errors,i,oe),$n=ub(Ct,i,Sr.name||oe);Ke=$n.error,oe=$n.name,Nt=Pn(Ct)}}else C([oe],!0),Ke=(await fb(we,m.disabled,u,E,n.shouldUseNativeValidation))[oe],C([oe]),je(_e),Ne&&(Ke?Nt=!1:(b.isValid||y.isValid)&&(Nt=await O(i,!0)));Ne&&(we._f.deps&&(!Array.isArray(we._f.deps)||we._f.deps.length>0)&&be(we._f.deps),Z(oe,Nt,Ke,lt))}},Q=(T,K)=>{if(Le(r.errors,K)&&T.focus)return T.focus(),1},be=async(T,K={})=>{let oe,Ne;const we=Pl(T);if(n.resolver){const je=await ee(It(T)?T:we);oe=Pn(je),Ne=T?!we.some(De=>Le(je,De)):oe}else T?(Ne=(await Promise.all(we.map(async je=>{const De=Le(i,je);return await O(De&&De._f?{[je]:De}:De)}))).every(Boolean),!(!Ne&&!r.isValid)&&j()):Ne=oe=await O(i);return w.state.next({...!cs(T)||(b.isValid||y.isValid)&&oe!==r.isValid?{}:{name:T},...n.resolver||!T?{isValid:oe}:{},errors:r.errors}),K.shouldFocus&&!Ne&&Wl(i,Q,T?we:m.mount),Ne},xe=(T,K)=>{let oe={...d.mount?u:c};return K&&(oe=$y(K.dirtyFields?r.dirtyFields:r.touchedFields,oe)),It(T)?oe:cs(T)?Le(oe,T):T.map(Ne=>Le(oe,Ne))},N=(T,K)=>({invalid:!!Le((K||r).errors,T),isDirty:!!Le((K||r).dirtyFields,T),error:Le((K||r).errors,T),isValidating:!!Le(r.validatingFields,T),isTouched:!!Le((K||r).touchedFields,T)}),P=T=>{T&&Pl(T).forEach(K=>nn(r.errors,K)),w.state.next({errors:T?r.errors:{}})},ce=(T,K,oe)=>{const Ne=(Le(i,T,{_f:{}})._f||{}).ref,we=Le(r.errors,T)||{},{ref:je,message:De,type:We,...Ke}=we;jt(r.errors,T,{...Ke,...K,ref:Ne}),w.state.next({name:T,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},H=(T,K)=>$s(T)?w.state.subscribe({next:oe=>"values"in oe&&T(se(void 0,K),oe)}):se(T,K,!0),G=T=>w.state.subscribe({next:K=>{$T(T.name,K.name,T.exact)&&UT(K,T.formState||b,$e,T.reRenderRoot)&&T.callback({values:{...u},...r,...K,defaultValues:c})}}).unsubscribe,F=T=>(d.mount=!0,y={...y,...T.formState},G({...T,formState:y})),J=(T,K={})=>{for(const oe of T?Pl(T):m.mount)m.mount.delete(oe),m.array.delete(oe),K.keepValue||(nn(i,oe),nn(u,oe)),!K.keepError&&nn(r.errors,oe),!K.keepDirty&&nn(r.dirtyFields,oe),!K.keepTouched&&nn(r.touchedFields,oe),!K.keepIsValidating&&nn(r.validatingFields,oe),!n.shouldUnregister&&!K.keepDefaultValue&&nn(c,oe);w.state.next({values:xn(u)}),w.state.next({...r,...K.keepDirty?{isDirty:X()}:{}}),!K.keepIsValid&&j()},$=({disabled:T,name:K})=>{(Ps(T)&&d.mount||T||m.disabled.has(K))&&(T?m.disabled.add(K):m.disabled.delete(K))},le=(T,K={})=>{let oe=Le(i,T);const Ne=Ps(K.disabled)||Ps(n.disabled);return jt(i,T,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:T}},name:T,mount:!0,...K}}),m.mount.add(T),oe?$({disabled:Ps(K.disabled)?K.disabled:n.disabled,name:T}):L(T,!0,K.value),{...Ne?{disabled:K.disabled||n.disabled}:{},...n.progressive?{required:!!K.required,min:ql(K.min),max:ql(K.max),minLength:ql(K.minLength),maxLength:ql(K.maxLength),pattern:ql(K.pattern)}:{},name:T,onChange:Y,onBlur:Y,ref:we=>{if(we){le(T,K),oe=Le(i,T);const je=It(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,De=AT(je),We=oe._f.refs||[];if(De?We.find(Ke=>Ke===je):je===oe._f.ref)return;jt(i,T,{_f:{...oe._f,...De?{refs:[...We.filter(Pf),je,...Array.isArray(Le(c,T))?[{}]:[]],ref:{type:je.type,name:T}}:{ref:je}}}),L(T,!1,void 0,je)}else oe=Le(i,T,{}),oe._f&&(oe._f.mount=!1),(n.shouldUnregister||K.shouldUnregister)&&!(ET(m.array,T)&&d.action)&&m.unMount.add(T)}}},me=()=>n.shouldFocusError&&Wl(i,Q,m.mount),Te=T=>{Ps(T)&&(w.state.next({disabled:T}),Wl(i,(K,oe)=>{const Ne=Le(i,oe);Ne&&(K.disabled=Ne._f.disabled||T,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(we=>{we.disabled=Ne._f.disabled||T}))},0,!1))},Ve=(T,K)=>async oe=>{let Ne;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let we=xn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:je,values:De}=await q();r.errors=je,we=xn(De)}else await O(i);if(m.disabled.size)for(const je of m.disabled)nn(we,je);if(nn(r.errors,"root"),Pn(r.errors)){w.state.next({errors:{}});try{await T(we,oe)}catch(je){Ne=je}}else K&&await K({...r.errors},oe),me(),setTimeout(me);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},Se=(T,K={})=>{Le(i,T)&&(It(K.defaultValue)?R(T,xn(Le(c,T))):(R(T,K.defaultValue),jt(c,T,xn(K.defaultValue))),K.keepTouched||nn(r.touchedFields,T),K.keepDirty||(nn(r.dirtyFields,T),r.isDirty=K.defaultValue?X(T,xn(Le(c,T))):X()),K.keepError||(nn(r.errors,T),b.isValid&&j()),w.state.next({...r}))},Ce=(T,K={})=>{const oe=T?xn(T):c,Ne=xn(oe),we=Pn(T),je=we?c:Ne;if(K.keepDefaultValues||(c=oe),!K.keepValues){if(K.keepDirtyValues){const De=new Set([...m.mount,...Object.keys(Ai(c,u))]);for(const We of Array.from(De))Le(r.dirtyFields,We)?jt(je,We,Le(u,We)):R(We,Le(je,We))}else{if(Gh&&It(T))for(const De of m.mount){const We=Le(i,De);if(We&&We._f){const Ke=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(tu(Ke)){const Nt=Ke.closest("form");if(Nt){Nt.reset();break}}}}if(K.keepFieldsRef)for(const De of m.mount)R(De,Le(je,De));else i={}}u=n.shouldUnregister?K.keepDefaultValues?xn(c):{}:xn(je),w.array.next({values:{...je}}),w.state.next({values:{...je}})}m={mount:K.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!K.keepIsValid||!!K.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:we?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Xr(T,c)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:K.keepDirtyValues?K.keepDefaultValues&&u?Ai(c,u):r.dirtyFields:K.keepDefaultValues&&T?Ai(c,T):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},re=(T,K)=>Ce($s(T)?T(u):T,K),Ee=(T,K={})=>{const oe=Le(i,T),Ne=oe&&oe._f;if(Ne){const we=Ne.refs?Ne.refs[0]:Ne.ref;we.focus&&(we.focus(),K.shouldSelect&&$s(we.select)&&we.select())}},$e=T=>{r={...r,...T}},nt={control:{register:le,unregister:J,getFieldState:N,handleSubmit:Ve,setError:ce,_subscribe:G,_runSchema:q,_focusError:me,_getWatch:se,_getDirty:X,_setValid:j,_setFieldArray:A,_setDisabledField:$,_setErrors:D,_getFieldArray:V,_reset:Ce,_resetDefaultValues:()=>$s(n.defaultValues)&&n.defaultValues().then(T=>{re(T,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Te,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(T){d=T},get _defaultValues(){return c},get _names(){return m},set _names(T){m=T},get _formState(){return r},get _options(){return n},set _options(T){n={...n,...T}}},subscribe:F,trigger:be,register:le,handleSubmit:Ve,watch:H,setValue:R,getValues:xe,reset:re,resetField:Se,clearErrors:P,unregister:J,setError:ce,setFocus:Ee,getFieldState:N};return{...nt,formControl:nt}}function tm(e={}){const n=yt.useRef(void 0),r=yt.useRef(void 0),[i,c]=yt.useState({isDirty:!1,isValidating:!1,isLoading:$s(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$s(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!$s(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...m}=ZT(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,kT(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,d},[u]),yt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),yt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),yt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),yt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),yt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),yt.useEffect(()=>{e.values&&!Xr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,c(d=>({...d}))):u._resetDefaultValues()},[u,e.values]),yt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=CT(i,u),n.current}function ye(e,n,r){function i(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const b in d.prototype)b in m||Object.defineProperty(m,b,{value:d.prototype[b].bind(m)});m._zod.constr=d,m._zod.def=g}const c=r?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function d(m){var g;const x=r?.Parent?new u:this;i(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class zi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Vy extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Qy={};function Oa(e){return Qy}function VT(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function xh(e,n){return typeof n=="bigint"?n.toString():n}function nm(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function sm(e){return e==null}function rm(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}const hb=Symbol("evaluating");function _t(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==hb)return i===void 0&&(i=hb,i=r()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function $a(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Ba(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function mb(e){return JSON.stringify(e)}const Iy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function su(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const QT=nm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function to(e){if(su(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(su(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Py(e){return to(e)?{...e}:Array.isArray(e)?[...e]:e}const IT=new Set(["string","number","symbol"]);function Ui(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function na(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Ie(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function PT(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function WT(e,n){const r=e._zod.def,i=Ba(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=r.shape[u])}return $a(this,"shape",c),c},checks:[]});return na(e,i)}function GT(e,n){const r=e._zod.def,i=Ba(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return $a(this,"shape",c),c},checks:[]});return na(e,i)}function KT(e,n){if(!to(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Ba(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return $a(this,"shape",u),u},checks:[]});return na(e,c)}function YT(e,n){if(!to(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return $a(this,"shape",i),i},checks:e._zod.def.checks};return na(e,r)}function XT(e,n){const r=Ba(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return $a(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return na(e,r)}function JT(e,n,r){const i=Ba(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const d in r){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=e?new e({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)u[d]=e?new e({type:"optional",innerType:c[d]}):c[d];return $a(this,"shape",u),u},checks:[]});return na(n,i)}function eA(e,n,r){const i=Ba(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new e({type:"nonoptional",innerType:c[d]}))}else for(const d in c)u[d]=new e({type:"nonoptional",innerType:c[d]});return $a(this,"shape",u),u},checks:[]});return na(n,i)}function Di(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Wy(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function qc(e){return typeof e=="string"?e:e?.message}function La(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const c=qc(e.inst?._zod.def?.error?.(e))??qc(n?.error?.(e))??qc(r.customError?.(e))??qc(r.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function am(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function no(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const Gy=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,xh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},im=ye("$ZodError",Gy),gu=ye("$ZodError",Gy,{Parent:Error});function tA(e,n=r=>r.message){const r={},i=[];for(const c of e.issues)c.path.length>0?(r[c.path[0]]=r[c.path[0]]||[],r[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:r}}function nA(e,n=r=>r.message){const r={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let d=r,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(u))):d[g]=d[g]||{_errors:[]},d=d[g],m++}}};return i(e),r}const xu=e=>(n,r,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new zi;if(d.issues.length){const m=new(c?.Err??e)(d.issues.map(g=>La(g,u,Oa())));throw Iy(m,c?.callee),m}return d.value},sA=xu(gu),bu=e=>async(n,r,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const m=new(c?.Err??e)(d.issues.map(g=>La(g,u,Oa())));throw Iy(m,c?.callee),m}return d.value},rA=bu(gu),vu=e=>(n,r,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},c);if(u instanceof Promise)throw new zi;return u.issues.length?{success:!1,error:new(e??im)(u.issues.map(d=>La(d,c,Oa())))}:{success:!0,data:u.value}},aA=vu(gu),yu=e=>async(n,r,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>La(d,c,Oa())))}:{success:!0,data:u.value}},iA=yu(gu),lA=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return xu(e)(n,r,c)},oA=e=>(n,r,i)=>xu(e)(n,r,i),cA=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return bu(e)(n,r,c)},uA=e=>async(n,r,i)=>bu(e)(n,r,i),dA=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return vu(e)(n,r,c)},fA=e=>(n,r,i)=>vu(e)(n,r,i),hA=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return yu(e)(n,r,c)},mA=e=>async(n,r,i)=>yu(e)(n,r,i),pA=/^[cC][^\s-]{8,}$/,gA=/^[0-9a-z]+$/,xA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bA=/^[0-9a-vA-V]{20}$/,vA=/^[A-Za-z0-9]{27}$/,yA=/^[a-zA-Z0-9_-]{21}$/,wA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,SA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,pb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,jA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,EA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function _A(){return new RegExp(EA,"u")}const NA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,kA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,TA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ky=/^[A-Za-z0-9_-]*$/,DA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,RA=/^\+(?:[0-9]){6,14}[0-9]$/,Yy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",MA=new RegExp(`^${Yy}$`);function Xy(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zA(e){return new RegExp(`^${Xy(e)}$`)}function OA(e){const n=Xy({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${Yy}T(?:${i})$`)}const LA=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},UA=/^[^A-Z]*$/,$A=/^[^a-z]*$/,Js=ye("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),BA=ye("$ZodCheckMaxLength",(e,n)=>{var r;Js.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!sm(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const d=am(c);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),qA=ye("$ZodCheckMinLength",(e,n)=>{var r;Js.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!sm(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const d=am(c);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),HA=ye("$ZodCheckLengthEquals",(e,n)=>{var r;Js.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!sm(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const d=am(c),m=u>n.length;i.issues.push({origin:d,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),wu=ye("$ZodCheckStringFormat",(e,n)=>{var r,i;Js.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),FA=ye("$ZodCheckRegex",(e,n)=>{wu.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),ZA=ye("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=UA),wu.init(e,n)}),VA=ye("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=$A),wu.init(e,n)}),QA=ye("$ZodCheckIncludes",(e,n)=>{Js.init(e,n);const r=Ui(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),IA=ye("$ZodCheckStartsWith",(e,n)=>{Js.init(e,n);const r=new RegExp(`^${Ui(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),PA=ye("$ZodCheckEndsWith",(e,n)=>{Js.init(e,n);const r=new RegExp(`.*${Ui(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),WA=ye("$ZodCheckOverwrite",(e,n)=>{Js.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class GA{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),c=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(c)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,c.join(`
`))}}const KA={major:4,minor:1,patch:12},an=ye("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=KA;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(d,m,g)=>{let x=Di(d),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(d))continue}else if(x)continue;const w=d.issues.length,E=y._zod.check(d);if(E instanceof Promise&&g?.async===!1)throw new zi;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,d.issues.length!==w&&(x||(x=Di(d,w)))});else{if(d.issues.length===w)continue;x||(x=Di(d,w))}}return b?b.then(()=>d):d},u=(d,m,g)=>{if(Di(d))return d.aborted=!0,d;const x=c(m,i,g);if(x instanceof Promise){if(g.async===!1)throw new zi;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(d,m)=>{if(m.skipChecks)return e._zod.parse(d,m);if(m.direction==="backward"){const x=e._zod.parse({value:d.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,d,m)):u(x,d,m)}const g=e._zod.parse(d,m);if(g instanceof Promise){if(m.async===!1)throw new zi;return g.then(x=>c(x,i,m))}return c(g,i,m)}}e["~standard"]={validate:c=>{try{const u=aA(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return iA(e,c).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),lm=ye("$ZodString",(e,n)=>{an.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??LA(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Mt=ye("$ZodStringFormat",(e,n)=>{wu.init(e,n),lm.init(e,n)}),YA=ye("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=SA),Mt.init(e,n)}),XA=ye("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=pb(i))}else n.pattern??(n.pattern=pb());Mt.init(e,n)}),JA=ye("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=jA),Mt.init(e,n)}),eD=ye("$ZodURL",(e,n)=>{Mt.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:DA.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=c.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),tD=ye("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=_A()),Mt.init(e,n)}),nD=ye("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=yA),Mt.init(e,n)}),sD=ye("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=pA),Mt.init(e,n)}),rD=ye("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=gA),Mt.init(e,n)}),aD=ye("$ZodULID",(e,n)=>{n.pattern??(n.pattern=xA),Mt.init(e,n)}),iD=ye("$ZodXID",(e,n)=>{n.pattern??(n.pattern=bA),Mt.init(e,n)}),lD=ye("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=vA),Mt.init(e,n)}),oD=ye("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=OA(n)),Mt.init(e,n)}),cD=ye("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=MA),Mt.init(e,n)}),uD=ye("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=zA(n)),Mt.init(e,n)}),dD=ye("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=wA),Mt.init(e,n)}),fD=ye("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=NA),Mt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),hD=ye("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=CA),Mt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),mD=ye("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=kA),Mt.init(e,n)}),pD=ye("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=TA),Mt.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${c}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function Jy(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const gD=ye("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=AA),Mt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Jy(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function xD(e){if(!Ky.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return Jy(r)}const bD=ye("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=Ky),Mt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{xD(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),vD=ye("$ZodE164",(e,n)=>{n.pattern??(n.pattern=RA),Mt.init(e,n)});function yD(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const wD=ye("$ZodJWT",(e,n)=>{Mt.init(e,n),e._zod.check=r=>{yD(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),SD=ye("$ZodUnknown",(e,n)=>{an.init(e,n),e._zod.parse=r=>r}),jD=ye("$ZodNever",(e,n)=>{an.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function gb(e,n,r){e.issues.length&&n.issues.push(...Wy(r,e.issues)),n.value[r]=e.value}const ED=ye("$ZodArray",(e,n)=>{an.init(e,n),e._zod.parse=(r,i)=>{const c=r.value;if(!Array.isArray(c))return r.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),r;r.value=Array(c.length);const u=[];for(let d=0;d<c.length;d++){const m=c[d],g=n.element._zod.run({value:m,issues:[]},i);g instanceof Promise?u.push(g.then(x=>gb(x,r,d))):gb(g,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function ru(e,n,r,i){e.issues.length&&n.issues.push(...Wy(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function ew(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=PT(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function tw(e,n,r,i,c,u){const d=[],m=c.keySet,g=c.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(x==="never"){d.push(b);continue}const y=g.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>ru(w,r,b,n))):ru(y,r,b,n)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const _D=ye("$ZodObject",(e,n)=>{if(an.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=nm(()=>ew(n));_t(e._zod,"propValues",()=>{const m=n.shape,g={};for(const x in m){const b=m[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const y of b.values)g[x].add(y)}}return g});const c=su,u=n.catchall;let d;e._zod.parse=(m,g)=>{d??(d=i.value);const x=m.value;if(!c(x))return m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m;m.value={};const b=[],y=d.shape;for(const w of d.keys){const _=y[w]._zod.run({value:x[w],issues:[]},g);_ instanceof Promise?b.push(_.then(j=>ru(j,m,w,x))):ru(_,m,w,x)}return u?tw(b,x,m,g,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),ND=ye("$ZodObjectJIT",(e,n)=>{_D.init(e,n);const r=e._zod.parse,i=nm(()=>ew(n)),c=w=>{const E=new GA(["shape","payload","ctx"]),_=i.value,j=D=>{const L=mb(D);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};E.write("const input = payload.value;");const C=Object.create(null);let A=0;for(const D of _.keys)C[D]=`key_${A++}`;E.write("const newResult = {};");for(const D of _.keys){const L=C[D],z=mb(D);E.write(`const ${L} = ${j(D)};`),E.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        
        if (${L}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${L}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const k=E.compile();return(D,L)=>k(w,D,L)};let u;const d=su,m=!Qy.jitless,x=m&&QT.value,b=n.catchall;let y;e._zod.parse=(w,E)=>{y??(y=i.value);const _=w.value;return d(_)?m&&x&&E?.async===!1&&E.jitless!==!0?(u||(u=c(n.shape)),w=u(w,E),b?tw([],_,w,E,y,e):w):r(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),w)}});function xb(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!Di(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(d=>La(d,i,Oa())))}),n)}const CD=ye("$ZodUnion",(e,n)=>{an.init(e,n),_t(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),_t(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),_t(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),_t(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>rm(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(r)return i(c,u);let d=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:c.value,issues:[]},u);if(x instanceof Promise)m.push(x),d=!0;else{if(x.issues.length===0)return x;m.push(x)}}return d?Promise.all(m).then(g=>xb(g,c,e,u)):xb(m,c,e,u)}}),kD=ye("$ZodIntersection",(e,n)=>{an.init(e,n),e._zod.parse=(r,i)=>{const c=r.value,u=n.left._zod.run({value:c,issues:[]},i),d=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([g,x])=>bb(r,g,x)):bb(r,u,d)}});function bh(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(to(e)&&to(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),c={...e,...n};for(const u of i){const d=bh(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};c[u]=d.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],d=bh(c,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function bb(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Di(e))return e;const i=bh(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const TD=ye("$ZodEnum",(e,n)=>{an.init(e,n);const r=VT(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(c=>IT.has(typeof c)).map(c=>typeof c=="string"?Ui(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const d=c.value;return i.has(d)||c.issues.push({code:"invalid_value",values:r,input:d,inst:e}),c}}),AD=ye("$ZodLiteral",(e,n)=>{if(an.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(r=>typeof r=="string"?Ui(r):r?Ui(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const c=r.value;return e._zod.values.has(c)||r.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),r}}),DD=ye("$ZodTransform",(e,n)=>{an.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new Vy(e.constructor.name);const c=n.transform(r.value,r);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(d=>(r.value=d,r));if(c instanceof Promise)throw new zi;return r.value=c,r}});function vb(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const RD=ye("$ZodOptional",(e,n)=>{an.init(e,n),e._zod.optin="optional",e._zod.optout="optional",_t(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),_t(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${rm(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>vb(u,r.value)):vb(c,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),MD=ye("$ZodNullable",(e,n)=>{an.init(e,n),_t(e._zod,"optin",()=>n.innerType._zod.optin),_t(e._zod,"optout",()=>n.innerType._zod.optout),_t(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${rm(r.source)}|null)$`):void 0}),_t(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),zD=ye("$ZodDefault",(e,n)=>{an.init(e,n),e._zod.optin="optional",_t(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>yb(u,n)):yb(c,n)}});function yb(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const OD=ye("$ZodPrefault",(e,n)=>{an.init(e,n),e._zod.optin="optional",_t(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),LD=ye("$ZodNonOptional",(e,n)=>{an.init(e,n),_t(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>wb(u,e)):wb(c,e)}});function wb(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const UD=ye("$ZodCatch",(e,n)=>{an.init(e,n),_t(e._zod,"optin",()=>n.innerType._zod.optin),_t(e._zod,"optout",()=>n.innerType._zod.optout),_t(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>La(d,i,Oa()))},input:r.value}),r.issues=[]),r)):(r.value=c.value,c.issues.length&&(r.value=n.catchValue({...r,error:{issues:c.issues.map(u=>La(u,i,Oa()))},input:r.value}),r.issues=[]),r)}}),$D=ye("$ZodPipe",(e,n)=>{an.init(e,n),_t(e._zod,"values",()=>n.in._zod.values),_t(e._zod,"optin",()=>n.in._zod.optin),_t(e._zod,"optout",()=>n.out._zod.optout),_t(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(d=>Hc(d,n.in,i)):Hc(u,n.in,i)}const c=n.in._zod.run(r,i);return c instanceof Promise?c.then(u=>Hc(u,n.out,i)):Hc(c,n.out,i)}});function Hc(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const BD=ye("$ZodReadonly",(e,n)=>{an.init(e,n),_t(e._zod,"propValues",()=>n.innerType._zod.propValues),_t(e._zod,"values",()=>n.innerType._zod.values),_t(e._zod,"optin",()=>n.innerType._zod.optin),_t(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(Sb):Sb(c)}});function Sb(e){return e.value=Object.freeze(e.value),e}const qD=ye("$ZodCustom",(e,n)=>{Js.init(e,n),an.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>jb(u,r,i,e));jb(c,r,i,e)}});function jb(e,n,r,i){if(!e){const c={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(no(c))}}class HD{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function FD(){return new HD}const Fc=FD();function ZD(e,n){return new e({type:"string",...Ie(n)})}function VD(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ie(n)})}function Eb(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ie(n)})}function QD(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ie(n)})}function ID(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ie(n)})}function PD(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ie(n)})}function WD(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ie(n)})}function GD(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ie(n)})}function KD(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ie(n)})}function YD(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ie(n)})}function XD(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ie(n)})}function JD(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ie(n)})}function eR(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ie(n)})}function tR(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ie(n)})}function nR(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ie(n)})}function sR(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ie(n)})}function rR(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ie(n)})}function aR(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ie(n)})}function iR(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ie(n)})}function lR(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ie(n)})}function oR(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ie(n)})}function cR(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ie(n)})}function uR(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ie(n)})}function dR(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ie(n)})}function fR(e,n){return new e({type:"string",format:"date",check:"string_format",...Ie(n)})}function hR(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ie(n)})}function mR(e,n){return new e({type:"string",format:"duration",check:"string_format",...Ie(n)})}function pR(e){return new e({type:"unknown"})}function gR(e,n){return new e({type:"never",...Ie(n)})}function nw(e,n){return new BA({check:"max_length",...Ie(n),maximum:e})}function au(e,n){return new qA({check:"min_length",...Ie(n),minimum:e})}function sw(e,n){return new HA({check:"length_equals",...Ie(n),length:e})}function xR(e,n){return new FA({check:"string_format",format:"regex",...Ie(n),pattern:e})}function bR(e){return new ZA({check:"string_format",format:"lowercase",...Ie(e)})}function vR(e){return new VA({check:"string_format",format:"uppercase",...Ie(e)})}function yR(e,n){return new QA({check:"string_format",format:"includes",...Ie(n),includes:e})}function wR(e,n){return new IA({check:"string_format",format:"starts_with",...Ie(n),prefix:e})}function SR(e,n){return new PA({check:"string_format",format:"ends_with",...Ie(n),suffix:e})}function mo(e){return new WA({check:"overwrite",tx:e})}function jR(e){return mo(n=>n.normalize(e))}function ER(){return mo(e=>e.trim())}function _R(){return mo(e=>e.toLowerCase())}function NR(){return mo(e=>e.toUpperCase())}function CR(e,n,r){return new e({type:"array",element:n,...Ie(r)})}function kR(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Ie(r)})}function TR(e){const n=AR(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(no(i,r.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=r.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),r.issues.push(no(c))}},e(r.value,r)));return n}function AR(e,n){const r=new Js({check:"custom",...Ie(n)});return r._zod.check=e,r}const DR=ye("ZodISODateTime",(e,n)=>{oD.init(e,n),Ut.init(e,n)});function RR(e){return dR(DR,e)}const MR=ye("ZodISODate",(e,n)=>{cD.init(e,n),Ut.init(e,n)});function zR(e){return fR(MR,e)}const OR=ye("ZodISOTime",(e,n)=>{uD.init(e,n),Ut.init(e,n)});function LR(e){return hR(OR,e)}const UR=ye("ZodISODuration",(e,n)=>{dD.init(e,n),Ut.init(e,n)});function $R(e){return mR(UR,e)}const BR=(e,n)=>{im.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>nA(e,r)},flatten:{value:r=>tA(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,xh,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,xh,2)}},isEmpty:{get(){return e.issues.length===0}}})},_s=ye("ZodError",BR,{Parent:Error}),qR=xu(_s),HR=bu(_s),FR=vu(_s),ZR=yu(_s),VR=lA(_s),QR=oA(_s),IR=cA(_s),PR=uA(_s),WR=dA(_s),GR=fA(_s),KR=hA(_s),YR=mA(_s),fn=ye("ZodType",(e,n)=>(an.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(Ba(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>na(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>qR(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>FR(e,r,i),e.parseAsync=async(r,i)=>HR(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>ZR(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>VR(e,r,i),e.decode=(r,i)=>QR(e,r,i),e.encodeAsync=async(r,i)=>IR(e,r,i),e.decodeAsync=async(r,i)=>PR(e,r,i),e.safeEncode=(r,i)=>WR(e,r,i),e.safeDecode=(r,i)=>GR(e,r,i),e.safeEncodeAsync=async(r,i)=>KR(e,r,i),e.safeDecodeAsync=async(r,i)=>YR(e,r,i),e.refine=(r,i)=>e.check(H4(r,i)),e.superRefine=r=>e.check(F4(r)),e.overwrite=r=>e.check(mo(r)),e.optional=()=>kb(e),e.nullable=()=>Tb(e),e.nullish=()=>kb(Tb(e)),e.nonoptional=r=>z4(e,r),e.array=()=>aw(e),e.or=r=>S4([e,r]),e.and=r=>E4(e,r),e.transform=r=>Ab(e,k4(r)),e.default=r=>D4(e,r),e.prefault=r=>M4(e,r),e.catch=r=>L4(e,r),e.pipe=r=>Ab(e,r),e.readonly=()=>B4(e),e.describe=r=>{const i=e.clone();return Fc.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return Fc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Fc.get(e);const i=e.clone();return Fc.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),rw=ye("_ZodString",(e,n)=>{lm.init(e,n),fn.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(xR(...i)),e.includes=(...i)=>e.check(yR(...i)),e.startsWith=(...i)=>e.check(wR(...i)),e.endsWith=(...i)=>e.check(SR(...i)),e.min=(...i)=>e.check(au(...i)),e.max=(...i)=>e.check(nw(...i)),e.length=(...i)=>e.check(sw(...i)),e.nonempty=(...i)=>e.check(au(1,...i)),e.lowercase=i=>e.check(bR(i)),e.uppercase=i=>e.check(vR(i)),e.trim=()=>e.check(ER()),e.normalize=(...i)=>e.check(jR(...i)),e.toLowerCase=()=>e.check(_R()),e.toUpperCase=()=>e.check(NR())}),XR=ye("ZodString",(e,n)=>{lm.init(e,n),rw.init(e,n),e.email=r=>e.check(VD(JR,r)),e.url=r=>e.check(GD(e4,r)),e.jwt=r=>e.check(uR(p4,r)),e.emoji=r=>e.check(KD(t4,r)),e.guid=r=>e.check(Eb(_b,r)),e.uuid=r=>e.check(QD(Zc,r)),e.uuidv4=r=>e.check(ID(Zc,r)),e.uuidv6=r=>e.check(PD(Zc,r)),e.uuidv7=r=>e.check(WD(Zc,r)),e.nanoid=r=>e.check(YD(n4,r)),e.guid=r=>e.check(Eb(_b,r)),e.cuid=r=>e.check(XD(s4,r)),e.cuid2=r=>e.check(JD(r4,r)),e.ulid=r=>e.check(eR(a4,r)),e.base64=r=>e.check(lR(f4,r)),e.base64url=r=>e.check(oR(h4,r)),e.xid=r=>e.check(tR(i4,r)),e.ksuid=r=>e.check(nR(l4,r)),e.ipv4=r=>e.check(sR(o4,r)),e.ipv6=r=>e.check(rR(c4,r)),e.cidrv4=r=>e.check(aR(u4,r)),e.cidrv6=r=>e.check(iR(d4,r)),e.e164=r=>e.check(cR(m4,r)),e.datetime=r=>e.check(RR(r)),e.date=r=>e.check(zR(r)),e.time=r=>e.check(LR(r)),e.duration=r=>e.check($R(r))});function Un(e){return ZD(XR,e)}const Ut=ye("ZodStringFormat",(e,n)=>{Mt.init(e,n),rw.init(e,n)}),JR=ye("ZodEmail",(e,n)=>{JA.init(e,n),Ut.init(e,n)}),_b=ye("ZodGUID",(e,n)=>{YA.init(e,n),Ut.init(e,n)}),Zc=ye("ZodUUID",(e,n)=>{XA.init(e,n),Ut.init(e,n)}),e4=ye("ZodURL",(e,n)=>{eD.init(e,n),Ut.init(e,n)}),t4=ye("ZodEmoji",(e,n)=>{tD.init(e,n),Ut.init(e,n)}),n4=ye("ZodNanoID",(e,n)=>{nD.init(e,n),Ut.init(e,n)}),s4=ye("ZodCUID",(e,n)=>{sD.init(e,n),Ut.init(e,n)}),r4=ye("ZodCUID2",(e,n)=>{rD.init(e,n),Ut.init(e,n)}),a4=ye("ZodULID",(e,n)=>{aD.init(e,n),Ut.init(e,n)}),i4=ye("ZodXID",(e,n)=>{iD.init(e,n),Ut.init(e,n)}),l4=ye("ZodKSUID",(e,n)=>{lD.init(e,n),Ut.init(e,n)}),o4=ye("ZodIPv4",(e,n)=>{fD.init(e,n),Ut.init(e,n)}),c4=ye("ZodIPv6",(e,n)=>{hD.init(e,n),Ut.init(e,n)}),u4=ye("ZodCIDRv4",(e,n)=>{mD.init(e,n),Ut.init(e,n)}),d4=ye("ZodCIDRv6",(e,n)=>{pD.init(e,n),Ut.init(e,n)}),f4=ye("ZodBase64",(e,n)=>{gD.init(e,n),Ut.init(e,n)}),h4=ye("ZodBase64URL",(e,n)=>{bD.init(e,n),Ut.init(e,n)}),m4=ye("ZodE164",(e,n)=>{vD.init(e,n),Ut.init(e,n)}),p4=ye("ZodJWT",(e,n)=>{wD.init(e,n),Ut.init(e,n)}),g4=ye("ZodUnknown",(e,n)=>{SD.init(e,n),fn.init(e,n)});function Nb(){return pR(g4)}const x4=ye("ZodNever",(e,n)=>{jD.init(e,n),fn.init(e,n)});function b4(e){return gR(x4,e)}const v4=ye("ZodArray",(e,n)=>{ED.init(e,n),fn.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(au(r,i)),e.nonempty=r=>e.check(au(1,r)),e.max=(r,i)=>e.check(nw(r,i)),e.length=(r,i)=>e.check(sw(r,i)),e.unwrap=()=>e.element});function aw(e,n){return CR(v4,e,n)}const y4=ye("ZodObject",(e,n)=>{ND.init(e,n),fn.init(e,n),_t(e,"shape",()=>n.shape),e.keyof=()=>_4(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Nb()}),e.loose=()=>e.clone({...e._zod.def,catchall:Nb()}),e.strict=()=>e.clone({...e._zod.def,catchall:b4()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>KT(e,r),e.safeExtend=r=>YT(e,r),e.merge=r=>XT(e,r),e.pick=r=>WT(e,r),e.omit=r=>GT(e,r),e.partial=(...r)=>JT(iw,e,r[0]),e.required=(...r)=>eA(lw,e,r[0])});function po(e,n){const r={type:"object",shape:e??{},...Ie(n)};return new y4(r)}const w4=ye("ZodUnion",(e,n)=>{CD.init(e,n),fn.init(e,n),e.options=n.options});function S4(e,n){return new w4({type:"union",options:e,...Ie(n)})}const j4=ye("ZodIntersection",(e,n)=>{kD.init(e,n),fn.init(e,n)});function E4(e,n){return new j4({type:"intersection",left:e,right:n})}const vh=ye("ZodEnum",(e,n)=>{TD.init(e,n),fn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new vh({...n,checks:[],...Ie(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new vh({...n,checks:[],...Ie(c),entries:u})}});function _4(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new vh({type:"enum",entries:r,...Ie(n)})}const N4=ye("ZodLiteral",(e,n)=>{AD.init(e,n),fn.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function Cb(e,n){return new N4({type:"literal",values:Array.isArray(e)?e:[e],...Ie(n)})}const C4=ye("ZodTransform",(e,n)=>{DD.init(e,n),fn.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new Vy(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(no(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=e),r.issues.push(no(d))}};const c=n.transform(r.value,r);return c instanceof Promise?c.then(u=>(r.value=u,r)):(r.value=c,r)}});function k4(e){return new C4({type:"transform",transform:e})}const iw=ye("ZodOptional",(e,n)=>{RD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function kb(e){return new iw({type:"optional",innerType:e})}const T4=ye("ZodNullable",(e,n)=>{MD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Tb(e){return new T4({type:"nullable",innerType:e})}const A4=ye("ZodDefault",(e,n)=>{zD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function D4(e,n){return new A4({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Py(n)}})}const R4=ye("ZodPrefault",(e,n)=>{OD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function M4(e,n){return new R4({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Py(n)}})}const lw=ye("ZodNonOptional",(e,n)=>{LD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function z4(e,n){return new lw({type:"nonoptional",innerType:e,...Ie(n)})}const O4=ye("ZodCatch",(e,n)=>{UD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function L4(e,n){return new O4({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const U4=ye("ZodPipe",(e,n)=>{$D.init(e,n),fn.init(e,n),e.in=n.in,e.out=n.out});function Ab(e,n){return new U4({type:"pipe",in:e,out:n})}const $4=ye("ZodReadonly",(e,n)=>{BD.init(e,n),fn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function B4(e){return new $4({type:"readonly",innerType:e})}const q4=ye("ZodCustom",(e,n)=>{qD.init(e,n),fn.init(e,n)});function H4(e,n={}){return kR(q4,e,n)}function F4(e){return TR(e)}const Db=(e,n,r)=>{if(e&&"reportValidity"in e){const i=Le(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},yh=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?Db(i.ref,r,e):i&&i.refs&&i.refs.forEach(c=>Db(c,r,e))}},Rb=(e,n)=>{n.shouldUseNativeValidation&&yh(e,n);const r={};for(const i in e){const c=Le(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(Z4(n.names||Object.keys(e),i)){const d=Object.assign({},Le(r,i));jt(d,"root",u),jt(r,i,d)}else jt(r,i,u)}return r},Z4=(e,n)=>{const r=Mb(n);return e.some(i=>Mb(i).match(`^${r}\\.\\d+`))};function Mb(e){return e.replace(/\]|\[/g,"")}function zb(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function V4(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,d=i.path.join(".");if(!r[d])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];r[d]={message:m.message,type:m.code}}else r[d]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Xh(d,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function Q4(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,d=i.path.join(".");if(!r[d])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];r[d]={message:m.message,type:m.code}}else r[d]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Xh(d,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function om(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(zb(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(d){return u.shouldUseNativeValidation&&yh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(m){return Array.isArray(m?.issues)})(d))return{values:{},errors:Rb(V4(d.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(zb(function(){return Promise.resolve((r.mode==="sync"?sA:rA)(e,i,n)).then(function(d){return u.shouldUseNativeValidation&&yh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(m){return m instanceof im})(d))return{values:{},errors:Rb(Q4(d.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}function I4(e){const n=ht();return rn({mutationFn:r=>Zj(e,r),onSuccess:r=>{n.setQueryData(Pt.list(mv),i=>i&&{...i,items:i.items.map(c=>c.id===r.id?r:c)}),n.invalidateQueries({queryKey:Pt.detail(e),exact:!1})}})}async function P4(e={}){const{page:n,pageSize:r,search:i,includeTotal:c,signal:u}=e,d={};typeof n=="number"&&n>0&&(d.page=n),typeof r=="number"&&r>0&&(d.page_size=r),c&&(d.include_total=!0);const m=i?.trim();m&&(d.q=m);const{data:g}=await Fe.GET("/api/v1/users",{params:{query:d},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function ow(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,c=r.trim(),u=c.length>=2?c:"",d=ev({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>P4(W4({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(x=>x.id,[]),g=Dy(d.data?.pages,m);return{...d,users:g}}function W4(e){const n=!e.page||e.page<1?1:e.page;return{...e,page:n}}const so=200;function G4(e){const n={page:1,pageSize:so,includeTotal:!0};return dn({queryKey:Pt.members(e,n),queryFn:({signal:r})=>Vj(e,{signal:r,pageSize:so,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function K4(e){const n=ht(),r=Pt.members(e,{page:1,pageSize:so,includeTotal:!0});return rn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return Qj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r),d={user_id:i.id,role_ids:Array.from(c),role_slugs:[],created_at:new Date().toISOString(),user:i};return n.setQueryData(r,m=>m&&{...m,items:[d,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:d.user_id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,d=>d&&(u?{...d,items:d.items.map(m=>m.user_id===u.optimisticId?{...i,user:m.user??i.user}:m)}:{...d,items:[i,...d.items],total:typeof d.total=="number"?d.total+1:d.total}))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function Y4(e){const n=ht(),r=Pt.members(e,{page:1,pageSize:so,includeTotal:!0});return rn({mutationFn:({userId:i,roleIds:c})=>Ij(e,i,{role_ids:Array.from(c)}),onMutate:async({userId:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,d=>d&&{...d,items:d.items.map(m=>m.user_id===i?{...m,role_ids:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.user_id===i.user_id?{...i,user:u.user??i.user}:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function X4(e){const n=ht(),r=Pt.members(e,{page:1,pageSize:so,includeTotal:!0});return rn({mutationFn:i=>Pj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const d=u.items.filter(m=>m.user_id!==i);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}const $i=200,Ob=200;function cw(e){const n={page:1,pageSize:$i,includeTotal:!0};return dn({queryKey:Pt.roles(e,n),queryFn:({signal:r})=>Wj({signal:r,pageSize:$i,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function J4(){const e={scope:"global",page:1,pageSize:Ob,includeTotal:!1};return dn({queryKey:Pt.permissions(e),queryFn:({signal:n})=>Xj({signal:n,scope:"global",pageSize:Ob}),staleTime:6e4,placeholderData:n=>n})}function eM(e){const n=ht(),r=Pt.roles(e,{page:1,pageSize:$i});return rn({mutationFn:i=>Gj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,permissions:Array.from(i.permissions??[]),is_system:!1,is_editable:!0,created_at:new Date().toISOString(),updated_at:null};return n.setQueryData(r,d=>Lb(d,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,d=>d&&(u?{...d,items:d.items.map(m=>m.id===u.optimisticId?i:m)}:Lb(d,i)))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function tM(e){const n=ht(),r=Pt.roles(e,{page:1,pageSize:$i});return rn({mutationFn:({roleId:i,payload:c})=>Kj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,d=>d&&{...d,items:d.items.map(m=>m.id===i?{...m,name:c.name??m.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function nM(e){const n=ht(),r=Pt.roles(e,{page:1,pageSize:$i});return rn({mutationFn:i=>Yj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const d=u.items.filter(m=>m.id!==i);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function Lb(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:$i,has_next:!1,has_previous:!1,total:1}}const sM={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function rM(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],c=r[r.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function aM({name:e,email:n,size:r="md",className:i}){const c=p.useMemo(()=>rM(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:ge("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",sM[r],i),children:c})}function iM(){const{workspace:e,hasPermission:n}=ea(),r=n("workspace.members.manage"),i=G4(e.id),c=cw(e.id),u=K4(e.id),d=Y4(e.id),m=X4(e.id),[g,x]=p.useState(null),[b,y]=p.useState([]),[w,E]=p.useState(""),[_,j]=p.useState([]),[C,A]=p.useState(""),[k,D]=p.useState(""),[L,z]=p.useState(""),[Z,q]=p.useState(null);p.useEffect(()=>{const re=window.setTimeout(()=>{D(C.trim())},250);return()=>window.clearTimeout(re)},[C]);const ee=ow({enabled:r,search:k,pageSize:50}),O=p.useMemo(()=>{const re=new Map;for(const Ee of ee.users)re.set(Ee.id,Ee);return re},[ee.users]),U=p.useMemo(()=>{const re=new Map;for(const Ee of c.data?.items??[])re.set(Ee.id,Ee);return re},[c.data]),X=p.useMemo(()=>{const Ee=(i.data?.items??[]).map(qe=>({...qe,user:qe.user??O.get(qe.user_id)})),$e=new Intl.Collator("en",{sensitivity:"base"});return Ee.sort((qe,nt)=>{const T=qe.user?.display_name??qe.user?.email??qe.user_id,K=nt.user?.display_name??nt.user?.email??nt.user_id;return $e.compare(T??"",K??"")})},[i.data,O]),se=p.useMemo(()=>new Set(X.map(re=>re.user?.id??re.user_id)),[X]),V=L.trim().toLowerCase(),ie=p.useMemo(()=>V?X.filter(re=>{const Ee=re.user?.display_name??"",$e=re.user?.email??"";return Ee.toLowerCase().includes(V)||$e.toLowerCase().includes(V)||re.user_id.toLowerCase().includes(V)}):X,[X,V]),ve=ee.isPending&&ee.users.length===0,R=ee.isFetchingNextPage,Y=p.useMemo(()=>{const re=new Intl.Collator("en",{sensitivity:"base"});return ee.users.filter(Ee=>!se.has(Ee.id)).sort((Ee,$e)=>{const qe=Ee.display_name??Ee.email,nt=$e.display_name??$e.email;return re.compare(qe??"",nt??"")})},[se,ee.users]),Q=C.trim().toLowerCase(),xe=k.trim().toLowerCase().length>=2,N=C.trim().length>0&&C.trim().length<2,P=p.useMemo(()=>!Q||xe?Y:Y.filter(re=>(re.display_name??"").toLowerCase().includes(Q)||re.email.toLowerCase().includes(Q)),[Y,Q,xe]),ce=p.useMemo(()=>Y.find(re=>re.id===w),[Y,w]),H=p.useMemo(()=>{const re=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).sort((Ee,$e)=>re.compare(Ee.name,$e.name))},[c.data]),G=(re,Ee)=>{y($e=>Ee?$e.includes(re)?$e:[...$e,re]:$e.filter(qe=>qe!==re))},F=(re,Ee)=>{j($e=>Ee?$e.includes(re)?$e:[...$e,re]:$e.filter(qe=>qe!==re))},J=re=>{x(re.user_id),y(re.role_ids),q(null)},$=()=>{x(null),y([])},le=()=>{g&&(q(null),d.mutate({userId:g,roleIds:b},{onSuccess:()=>{q({tone:"success",message:"Member roles updated."}),$()},onError:re=>{const Ee=re instanceof Error?re.message:"Unable to update member roles.";q({tone:"danger",message:Ee})}}))},me=re=>{!r||!window.confirm(`Remove ${re.user?.display_name??re.user?.email??re.user_id} from the workspace?`)||(q(null),m.mutate(re.user_id,{onSuccess:()=>{q({tone:"success",message:"Member removed."})},onError:$e=>{const qe=$e instanceof Error?$e.message:"Unable to remove member.";q({tone:"danger",message:qe})}}))},Te=u.isPending,Ve=!!w&&_.length>0,Se=async re=>{re.preventDefault(),q(null);try{if(!w){q({tone:"danger",message:"Select a user to add."});return}if(_.length===0){q({tone:"danger",message:"Select at least one role for this member."});return}const Ee=Y.find($e=>$e.id===w)??O.get(w);if(!Ee){q({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:Ee,roleIds:_}),E(""),j([]),A(""),q({tone:"success",message:`${Ee.display_name??Ee.email} added to the workspace.`})}catch(Ee){const $e=Ee instanceof Error?Ee.message:"Unable to add member.";q({tone:"danger",message:$e})}};p.useEffect(()=>{ce&&(P.some(re=>re.id===ce.id)||A(""))},[P,ce]);const Ce=()=>{E(""),A(""),j([])};return l.jsxs("div",{className:"space-y-6",children:[Z?l.jsx(wt,{tone:Z.tone,children:Z.message}):null,i.isError?l.jsx(wt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?l.jsx(wt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,r?l.jsxs("form",{onSubmit:Se,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Add member"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Add an existing teammate and choose the roles that reflect what they should be able to do here."})]}),ee.isError?l.jsx(wt,{tone:"warning",children:"We couldn't load the user directory. Retry or add a member later."}):null,l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Lt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:l.jsx(Ht,{value:C,onChange:re=>A(re.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:Te||ve})}),N?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,ee.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,l.jsx(Lt,{label:"User",required:!0,children:l.jsxs(za,{value:w,onChange:re=>{E(re.target.value),re.target.value&&A("")},disabled:Te||ve,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),ce&&!P.some(re=>re.id===ce.id)?l.jsx("option",{value:ce.id,children:ce.display_name?`${ce.display_name} (${ce.email})`:ce.email}):null,P.map(re=>l.jsx("option",{value:re.id,children:re.display_name?`${re.display_name} (${re.email})`:re.email},re.id))]})}),P.length===0&&C?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',C,'". Clear the search to see everyone.']}):null,ee.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(Oe,{type:"button",variant:"ghost",onClick:()=>ee.fetchNextPage(),disabled:ve||R,children:R?"Loading more users":"Load more users"})}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:H.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):H.map(re=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:_.includes(re.id),onChange:Ee=>F(re.id,Ee.target.checked),disabled:Te}),l.jsx("span",{children:re.name})]},re.id))}),_.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[_.length," role(s) selected."]}):null]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[w||C||_.length>0?l.jsx(Oe,{type:"button",variant:"ghost",onClick:Ce,disabled:Te,children:"Clear"}):null,l.jsx(Oe,{type:"submit",isLoading:Te,disabled:!Ve||Te,children:"Add member"})]})]}):l.jsx(wt,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${X.length} member${X.length===1?"":"s"}`})]}),l.jsx(Lt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(Ht,{value:L,onChange:re=>z(re.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):X.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Add teammates to collaborate on this workspace."}):ie.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',L,'".']}):l.jsx("ul",{className:"space-y-4",role:"list",children:ie.map(re=>{const Ee=re.user?.display_name??re.user?.email??re.user_id,$e=re.role_ids.map(nt=>U.get(nt)?.name??nt),qe=g===re.user_id;return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(aM,{name:re.user?.display_name,email:re.user?.email,size:"sm"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:Ee}),l.jsx("p",{className:"text-sm text-slate-500",children:re.user?.email??re.user_id}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:l.jsxs("span",{children:["ID: ",re.user_id]})})]})]}),r?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>qe?$():J(re),disabled:d.isPending||m.isPending||qe&&d.isPending,children:qe?"Cancel":"Manage roles"}),l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>me(re),disabled:m.isPending,children:"Remove"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:$e.length>0?$e.map(nt=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:nt},`${re.user_id}-${nt}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),qe?l.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(nt=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:b.includes(nt.id),onChange:T=>G(nt.id,T.target.checked),disabled:d.isPending}),l.jsx("span",{children:nt.name})]},nt.id))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:$,disabled:d.isPending,children:"Cancel"}),l.jsx(Oe,{type:"button",size:"sm",onClick:le,isLoading:d.isPending,disabled:d.isPending,children:"Save roles"})]})]}):null]},re.user_id)})})]})]})}const lM=po({name:Un().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:Un().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(Cb("")),description:Un().max(500,"Keep the description concise.").optional().or(Cb("")),permissions:aw(Un())});function oM(){const{workspace:e,hasPermission:n}=ea(),r=n("workspace.roles.manage"),i=cw(e.id),c=J4(),u=eM(e.id),d=tM(e.id),m=nM(e.id),[g,x]=p.useState(!1),[b,y]=p.useState(null),[w,E]=p.useState(null),_=p.useMemo(()=>(c.data?.items??[]).filter(Z=>Z.scope_type==="workspace"),[c.data]),j=p.useMemo(()=>{const Z=new Map;for(const q of _)Z.set(q.key,q);return Z},[_]),C=i.data?.items??[],A=()=>{E(null),x(!0),y(null)},k=()=>{x(!1)},D=Z=>{E(null),y(Z.id),x(!1)},L=()=>{y(null)},z=Z=>{!r||Z.is_system||!Z.is_editable||!window.confirm(`Delete the role "${Z.name}"? This action cannot be undone.`)||(E(null),m.mutate(Z.id,{onSuccess:()=>{E({tone:"success",message:"Role deleted."})},onError:ee=>{const O=ee instanceof Error?ee.message:"Unable to delete role.";E({tone:"danger",message:O})}}))};return l.jsxs("div",{className:"space-y-6",children:[w?l.jsx(wt,{tone:w.tone,children:w.message}):null,i.isError?l.jsx(wt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?l.jsx(wt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,r?l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),l.jsx(Oe,{type:"button",variant:g?"ghost":"primary",onClick:()=>g?k():A(),children:g?"Hide form":"New role"})]}),g?l.jsx("div",{className:"mt-4",children:l.jsx(Ub,{availablePermissions:_,allowSlugEdit:!0,onCancel:k,onSubmit:Z=>{E(null),u.mutate({name:Z.name.trim(),slug:Z.slug?Z.slug.trim():void 0,description:Z.description?.trim()?Z.description.trim():void 0,permissions:Z.permissions},{onSuccess:()=>{E({tone:"success",message:"Role created."}),k()},onError:q=>{const ee=q instanceof Error?q.message:"Unable to create role.";E({tone:"danger",message:ee})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${C.length} role${C.length===1?"":"s"}`})]})}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):C.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):l.jsx("ul",{className:"space-y-4",role:"list",children:C.map(Z=>{const q=b===Z.id,ee=Z.permissions.map(O=>j.get(O)?.label??O);return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:Z.name}),Z.is_system?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"System"}):null,Z.is_editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",Z.slug]}),Z.description?l.jsx("p",{className:"text-sm text-slate-600",children:Z.description}):null]}),r&&Z.is_editable?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>q?L():D(Z),disabled:d.isPending||m.isPending,children:q?"Cancel":"Edit"}),Z.is_system?null:l.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(Z),disabled:m.isPending||Z.is_system||!Z.is_editable,children:"Delete"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ee.length>0?ee.map(O=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:O},`${Z.id}-${O}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),q?l.jsx("div",{className:"mt-4",children:l.jsx(Ub,{availablePermissions:_,initialValues:{name:Z.name,slug:Z.slug,description:Z.description??"",permissions:Z.permissions},allowSlugEdit:!1,onCancel:L,onSubmit:O=>{E(null),d.mutate({roleId:Z.id,payload:{name:O.name.trim(),description:O.description?.trim()?O.description.trim():void 0,permissions:O.permissions}},{onSuccess:()=>{E({tone:"success",message:"Role updated."}),L()},onError:U=>{const X=U instanceof Error?U.message:"Unable to update role.";E({tone:"danger",message:X})}})},isSubmitting:d.isPending},Z.id)}):null]},Z.id)})})]})]})}function Ub({availablePermissions:e,initialValues:n,onSubmit:r,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:d,handleSubmit:m,watch:g,setValue:x,formState:{errors:b},reset:y}=tm({resolver:om(lM),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=g("permissions"),E=(j,C)=>{x("permissions",C?Array.from(new Set([...w??[],j])):(w??[]).filter(A=>A!==j))},_=m(j=>{const C={name:j.name.trim(),slug:u?j.slug?.trim()??"":n?.slug??"",description:j.description?.trim()??"",permissions:j.permissions??[]};r(C)});return l.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:_,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",l.jsx(Ht,{...d("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",l.jsx(Ht,{...d("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),l.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",l.jsx(Ht,{...d("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(j=>l.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(j.key)??!1,onChange:C=>E(j.key,C.target.checked),disabled:c}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:j.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:j.description})]})]},j.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[i?l.jsx(Oe,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,l.jsx(Oe,{type:"submit",isLoading:c,children:"Save role"})]})]})}function uw(){const e=Ua(),n=Wh(),r=h5(),[i,c]=p.useState(Ks),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const d=p.useMemo(()=>(e.user.permissions??[]).map(y=>y.toLowerCase()).includes("system.settings.manage"),[e.user.permissions]),m=n.isFetching||r.isPending,g=i.trim()||Ks,x=b=>{r.mutate({enabled:b,detail:g},{onSuccess:y=>{c(y.detail)}})};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?l.jsx(wt,{tone:"danger",children:"Unable to load safe mode status."}):null,d?null:l.jsxs(wt,{tone:"warning",children:["You need the ",l.jsx("strong",{children:"system.settings.manage"})," permission to change safe mode."]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),l.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Ks})]}),l.jsx(Lt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:l.jsx(Ly,{value:i,onChange:b=>c(b.target.value),disabled:!d||m})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(Oe,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Ks),disabled:!d||m,children:"Reset message"}),l.jsx(Oe,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>x(!u?.enabled),isLoading:r.isPending,disabled:!d,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}uw.displayName="SafeModeControls";const dw=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],cM=new Set(dw.map(e=>e.id)),Wf=e=>!!(e&&cM.has(e));function uM(){ea();const[e,n]=Zh(),r=e.get("view"),i=Wf(r)?r:"general";p.useEffect(()=>{if(r&&!Wf(r)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[r,e,n]);const c=u=>{if(!Wf(u))return;const d=new URLSearchParams(e);d.set("view",u),n(d,{replace:!0})};return l.jsx(Dh,{value:i,onValueChange:c,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(Rh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:dw.map(u=>{const d=u.id===i;return l.jsx(Hl,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${d?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),l.jsx(Aa,{value:"general","aria-live":"polite",children:i==="general"?l.jsx(fM,{}):null}),l.jsx(Aa,{value:"members","aria-live":"polite",children:i==="members"?l.jsx(iM,{}):null}),l.jsx(Aa,{value:"roles","aria-live":"polite",children:i==="roles"?l.jsx(oM,{}):null})]})})}const dM=po({name:Un().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:Un().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function fM(){const{workspace:e}=ea(),n=I4(e.id),[r,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:d,isDirty:m},reset:g}=tm({resolver:om(dM),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{g({name:e.name,slug:e.slug})},[g,e.name,e.slug]);const x=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:x,noValidate:!0,children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),r?l.jsx(wt,{tone:"success",children:r}):null,n.isError?l.jsx(wt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Lt,{label:"Workspace name",required:!0,error:d.name?.message,children:l.jsx(Ht,{...c("name"),placeholder:"Finance Operations",invalid:!!d.name,disabled:n.isPending})}),l.jsx(Lt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:d.slug?.message,children:l.jsx(Ht,{...c("slug"),placeholder:"finance-ops",invalid:!!d.slug,disabled:n.isPending})})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(Oe,{type:"button",variant:"ghost",onClick:()=>{g(),i(null)},disabled:n.isPending||!m,children:"Reset"}),l.jsx(Oe,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),l.jsx(uw,{})]})}function hM(){return l.jsx(uu,{children:l.jsx(mM,{})})}function mM(){const e=Es(),n=Nn(),r=ht(),i=du(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=xM(e.pathname),d=p.useMemo(()=>vM(c,u),[c,u]);return p.useEffect(()=>{i.data&&r.setQueryData(Pt.list(mv),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{d&&!u&&n(`/workspaces/${d.id}/${Oi.path}${e.search}${e.hash}`,{replace:!0})},[d,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!d||!u)&&u!==d.id){const m=yM(e.pathname,e.search,d.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[d,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{d&&pv(d)},[d]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(gt,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(gt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):d?l.jsx(cE,{workspace:d,workspaces:c,children:l.jsx(pM,{workspace:d})}):null}function pM({workspace:e}){return l.jsx(LC,{children:l.jsx(Pk,{workspaceId:e.id,children:l.jsx(gM,{workspace:e})})})}function gM({workspace:e}){const n=Ua(),r=Nn(),i=Es(),{session:c,windowState:u}=vy(),d=Wh(),m=d.data?.enabled??!1,g=d.data?.detail??Ks,x=ky(),b=p.useMemo(()=>Ny(e),[e]),[y,w]=p.useState(""),[E,_]=p.useState(!1),[j,C]=p.useState(!1),A=y.trim().toLowerCase(),k=!!(c&&u==="maximized"),D=p.useMemo(()=>b.map(F=>({id:F.id,label:F.label,description:`Jump to ${F.label}`,icon:l.jsx(F.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),L=p.useMemo(()=>Ys(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[z,Z]=p.useState(()=>{const F=L.get();return typeof F=="boolean"?F:!1});p.useEffect(()=>{const F=L.get();Z(typeof F=="boolean"?F:!1)},[L]),p.useEffect(()=>{L.set(z)},[z,L]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const F=()=>{window.innerWidth>=1024&&_(!1)};return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),p.useEffect(()=>{if(typeof document>"u")return;const F=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=F||"",()=>{document.body.style.overflow=F}},[E]),p.useEffect(()=>{k&&_(!1)},[k]);const q=p.useCallback(()=>{if(!A)return;const F=b.find(J=>J.label.toLowerCase().includes(A))??b.find(J=>J.id.toLowerCase().includes(A));F&&r(F.href)},[A,b,r]),ee=p.useCallback(F=>{const J=b.find($=>$.id===F.id);J&&(r(J.href),w(""))},[b,r]),O=p.useCallback(()=>_(!0),[]),U=p.useCallback(()=>_(!1),[]),X=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:O,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(wM,{})})}),se=n.user.display_name||n.user.email||"Signed in",V=n.user.email??"",ie=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Sy,{displayName:se,email:V,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>C(!0)}]})}),ve={value:y,onChange:w,onSubmit:q,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:D,onSelectSuggestion:ee},R=bM(i.pathname,e.id),Y=jM(e.id,R,i.search,i.hash),Q=Y?.kind==="content"&&Y.key.startsWith("documents"),be=Q?new URLSearchParams(i.search).get("q")??"":"",xe=p.useCallback(F=>{if(!Q)return;const J=new URLSearchParams(i.search);F?J.set("q",F):J.delete("q");const $=J.toString();r(`${i.pathname}${$?`?${$}`:""}${i.hash}`,{replace:!0})},[Q,i.hash,i.pathname,i.search,r]),N=p.useCallback(F=>{xe(F)},[xe]),P=p.useCallback(()=>{xe("")},[xe]),H=(Q?{value:be,onChange:xe,onSubmit:N,onClear:P,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??ve;if(p.useEffect(()=>{Y?.kind==="redirect"&&r(Y.to,{replace:!0})},[Y,r]),!Y||Y.kind==="redirect")return null;const G=Y.fullHeight??!1;return l.jsxs(l.Fragment,{children:[l.jsx(Ey,{open:j,onClose:()=>C(!1)}),l.jsxs("div",{className:ge("flex min-w-0 bg-slate-50 text-slate-900",G?"h-screen overflow-hidden":"min-h-screen"),children:[k?null:l.jsx(j5,{workspace:e,items:b,collapsed:z,onToggleCollapse:()=>Z(F=>!F),onGoToWorkspaces:()=>r("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[k?null:l.jsx(wy,{brand:X,trailing:ie,search:H}),!k&&E?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:U}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:U,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(SM,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Cy,{items:b,onNavigate:U,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:ge("relative flex-1 min-w-0",G?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:ge(G?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:ge("mb-4",G?"px-6 pt-4":""),children:l.jsx(wt,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:ge(G?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:Y.element})]})})},`section-${Y.key}`)]})]})]})}function xM(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function bM(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function vM(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function yM(e,n,r,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",d=u&&u!=="/"?u:`/${Oi.path}`;return`/workspaces/${r}${d}${n}`}function wM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function SM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function jM(e,n,r,i){const c=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Oi.path}${c}`};const[u,d,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(T5,{})};case Oi.path:case"documents":return d?{kind:"content",key:`documents:${d}`,element:l.jsx(mT,{params:{documentId:decodeURIComponent(d)}})}:{kind:"content",key:"documents",element:l.jsx(L5,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(pT,{})};case"config-builder":return d?m==="editor"?{kind:"content",key:`config-builder:${d}:editor`,element:l.jsx(EM,{configId:decodeURIComponent(d)}),fullHeight:!0}:{kind:"content",key:`config-builder:${d}`,element:l.jsx(vT,{params:{configId:decodeURIComponent(d)}})}:{kind:"content",key:"config-builder",element:l.jsx(gT,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${d?`/${d}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:l.jsx(uM,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(gt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function EM({configId:e}){return l.jsx(wT,{params:{configId:e}})}function _M(e){return`/workspaces/${e}/${Oi.path}`}function NM(){return l.jsx(uu,{children:l.jsx(CM,{})})}function CM(){const e=Es(),n=Nn(),r=Ua(),i=du(),c=i.data?.items??[],m=[oE(),r.user.preferred_workspace_id].filter(g=>!!g).map(g=>c.find(x=>x.id===g)).find(g=>!!g)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=_M(m.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(gt,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(gt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(Oe,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function kM(){return dn({queryKey:Bs.providers(),queryFn:({signal:e})=>vj({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const TM=po({email:Un().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:Un().min(1,"Enter your password.")});function AM(){const e=Es(),n=Nn(),r=ht(),i=cv(),{session:c,isLoading:u,isError:d}=i,m=!c&&!u&&!d,g=Th(m),x=kM(),b=x.data?.providers??[],y=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const z=new URLSearchParams(e.search);return Kl(z.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Kc(c.return_to,E),{replace:!0})},[n,E,c]),p.useEffect(()=>{m&&(g.isPending||g.isError||g.data?.requires_setup&&n(dv(E),{replace:!0}))},[n,E,g.data?.requires_setup,g.isError,g.isPending,m]);const[_,j]=p.useState(null),[C,A]=p.useState(!1);if(p.useEffect(()=>{j(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(d)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(Oe,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(Oe,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const k=async z=>{z.preventDefault(),j(null);const Z=new FormData(z.currentTarget),q=Object.fromEntries(Z.entries()),ee=TM.safeParse(q);if(!ee.success){const V=ee.error.issues[0]?.message??"Invalid input.";j(V);return}const{email:O,password:U}=ee.data,X=typeof q.redirectTo=="string"?q.redirectTo:null,se=Kl(X);A(!0);try{const V=await wj({email:O,password:U});r.setQueryData(Bs.detail(),V),n(Kc(V.return_to,se),{replace:!0})}catch(V){if(V instanceof An){const ie=V.problem?.detail??V.message??"Unable to sign in.";j(ie)}else V instanceof Error?j(V.message):j("Unable to sign in.")}finally{A(!1)}},D=!!_&&!C,L=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(wt,{tone:"warning",className:"mt-6",children:w}):null,L?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(z=>l.jsxs("a",{href:z.start_url??"#",className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",z.label]},z.id))}):null,y?l.jsx(wt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:k,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:E}),l.jsx(Lt,{label:"Email address",required:!0,children:l.jsx(Ht,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:C})}),l.jsx(Lt,{label:"Password",required:!0,children:l.jsx(Ht,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:C})}),D?l.jsx(wt,{tone:"danger",children:_}):null,l.jsx(Oe,{type:"submit",className:"w-full justify-center",isLoading:C,disabled:C,children:C?"Signing in":"Continue"})]})]})})}function DM(){const e=Nn(),n=Es(),r=ht(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const d=new URLSearchParams(n.search),m=d.get("code")??"",g=d.get("state")??"";if(!m||!g){c("Missing authorization details from the identity provider.");return}async function x(){try{const b=await jj({code:m,state:g});if(u)return;r.setQueryData(Bs.detail(),b);const y=Kc(b.return_to,d.get("next"));e(y,{replace:!0})}catch(b){if(u)return;b instanceof An?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,r]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(gt,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(Oe,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(gt,{title:"Finishing sign-in",variant:"loading"})})}const RM=po({displayName:Un().min(1,"Display name is required."),email:Un().min(1,"Email is required.").email("Enter a valid email address."),password:Un().min(12,"Use at least 12 characters."),confirmPassword:Un().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function MM(){const e=Es(),n=Nn(),r=ht(),i=Th(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Kl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(uv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,d]=p.useState(null),[m,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(Oe,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),d(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),E=RM.safeParse(w);if(!E.success){const j=E.error.issues[0]?.message??"Invalid input.";d(j);return}g(!0);const _=Kl(w.redirectTo);try{const j=await Dj({display_name:E.data.displayName,email:E.data.email,password:E.data.password});r.setQueryData(Bs.detail(),j),n(Kc(j.return_to,_),{replace:!0})}catch(j){if(j instanceof An){const C=j.problem?.detail??j.message??"Setup failed. Try again.";d(C)}else j instanceof Error?d(j.message):d("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Lt,{label:"Display name",required:!0,children:l.jsx(Ht,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(Lt,{label:"Email",required:!0,children:l.jsx(Ht,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(Lt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(Ht,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(Lt,{label:"Confirm password",required:!0,children:l.jsx(Ht,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(wt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(Oe,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function fw({children:e,sidePanel:n,actions:r,search:i}){const c=Ua(),u=Nn(),[d,m]=p.useState(!1),g=c.user.display_name||c.user.email||"Signed in",x=c.user.email??"";return l.jsxs(l.Fragment,{children:[l.jsx(Ey,{open:d,onClose:()=>m(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(wy,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(y5,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?l.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Sy,{displayName:g,email:x,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>m(!0)}]})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})]})}function zM(){return l.jsx(uu,{children:l.jsx(OM,{})})}function OM(){const e=Nn(),n=Ua(),r=du(),i=iE(),[c,u]=p.useState(null),[d,m]=p.useState(null),g=p.useMemo(()=>(n.user.permissions??[]).map(V=>V.toLowerCase()),[n.user.permissions]),x=g.includes("workspaces.create")||g.includes("workspaces.manage_all"),[b,y]=p.useState(""),w=ky(),E=r.data,_=p.useMemo(()=>E?.items??[],[E?.items]),j=b.trim().toLowerCase(),C=p.useMemo(()=>j?_.filter(V=>{const ie=V.name.toLowerCase(),ve=V.slug?.toLowerCase()??"";return ie.includes(j)||ve.includes(j)}):_,[_,j]),A=p.useCallback(V=>e(`/workspaces/${V}/${Oi.path}`),[e]),k=x?l.jsx(Oe,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,D=p.useCallback(()=>{if(!j)return;const V=C[0];V&&A(V.id)},[C,j,A]),L=p.useCallback(()=>y(""),[]),Z=(j?C:_).slice(0,5).map(V=>({id:V.id,label:V.name,description:V.slug?`Slug  ${V.slug}`:"Workspace"})),q=p.useCallback(V=>{y(""),A(V.id)},[A]),ee=p.useCallback(async V=>{m(null),u(V.id);try{await i.mutateAsync(V.id),pv(V)}catch(ie){console.warn("workspaces.set_default.failed",ie),m("Unable to set the default workspace. Please try again.")}finally{u(null)}},[i]),O=p.useCallback((V,ie)=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),A(ie))},[A]),U={value:b,onChange:y,onSubmit:D,placeholder:"Search workspaces or jump to one instantly",shortcutHint:w,scopeLabel:"Workspace directory",suggestions:Z,onSelectSuggestion:q,onClear:L},X={...U,shortcutHint:void 0,onClear:L,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(gt,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(gt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(Oe,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const se=_.length===0?x?l.jsx(UM,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(gt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):C.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(gt,{title:`No workspaces matching "${b}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(Oe,{variant:"secondary",onClick:L,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),d?l.jsx(wt,{tone:"danger",heading:"We couldn't update your default workspace",children:d}):null,l.jsx(yy,{...X,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:C.map(V=>{const ie=i.isPending&&c===V.id;return l.jsxs("article",{role:"button",tabIndex:0,onClick:()=>A(V.id),onKeyDown:ve=>O(ve,V.id),className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:V.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",V.slug]})]}),V.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):l.jsx(Oe,{variant:"secondary",size:"sm",isLoading:ie,disabled:ie,onClick:ve=>{ve.stopPropagation(),ee(V)},children:"Set as default"})]}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:V.permissions.length>0?V.permissions.join(", "):"None"})]},V.id)})})]});return l.jsx(fw,{actions:k,search:U,sidePanel:l.jsx(LM,{canCreate:x,onCreate:()=>e("/workspaces/new")}),children:se})}function LM({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(Oe,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function UM({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(Oe,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function $M(){const e=ht();return rn({mutationFn:Fj,onSuccess(n){e.setQueryData(Pt.detail(n.id),n),e.getQueriesData({queryKey:Pt.all()}).forEach(([r,i])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!i)return;const c=i.items.findIndex(g=>g.id===n.id),d=[...c>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(r,{...i,items:d,total:m})}),e.invalidateQueries({queryKey:Pt.all()})}})}const BM=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,qM=po({name:Un().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:Un().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(BM,"Use lowercase letters, numbers, and dashes."),ownerUserId:Un().optional()});function HM(){return l.jsx(uu,{children:l.jsx(FM,{})})}function FM(){const e=Nn(),n=Ua(),r=du(),i=$M(),u=p.useMemo(()=>(n.user.permissions??[]).map(O=>O.toLowerCase()),[n.user.permissions]).includes("users.read_all"),d=ow({enabled:u,pageSize:50}),m=p.useMemo(()=>d.users,[d.users]),g=p.useMemo(()=>n.user.id?m.filter(O=>O.id!==n.user.id):m,[m,n.user.id]),{register:x,handleSubmit:b,watch:y,setValue:w,setError:E,clearErrors:_,formState:{errors:j,dirtyFields:C}}=tm({resolver:om(qM),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),A=y("name"),k=y("slug");p.useEffect(()=>{if(C.slug)return;const O=ZM(A);O!==k&&w("slug",O,{shouldValidate:!!O})},[C.slug,A,w,k]),p.useEffect(()=>{!u&&n.user.id&&w("ownerUserId",n.user.id,{shouldDirty:!1})},[u,n.user.id,w]);const D=i.isPending,L=d.isPending&&d.users.length===0,z=D||L||!u,Z=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,q=x("ownerUserId"),ee=b(O=>{if(_("root"),u&&!O.ownerUserId){E("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:O.name.trim(),slug:O.slug.trim(),owner_user_id:u&&O.ownerUserId||void 0},{onSuccess(U){r.refetch(),e(`/workspaces/${U.id}`)},onError(U){if(U instanceof An){const X=U.problem?.detail??U.message,se=U.problem?.errors??{};E("root",{type:"server",message:X}),se.name?.[0]&&E("name",{type:"server",message:se.name[0]}),se.slug?.[0]&&E("slug",{type:"server",message:se.slug[0]}),se.owner_user_id?.[0]&&E("ownerUserId",{type:"server",message:se.owner_user_id[0]});return}E("root",{type:"server",message:U instanceof Error?U.message:"Workspace creation failed."})}})});return l.jsx(fw,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:ee,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(Lt,{label:"Workspace name",required:!0,error:j.name?.message,children:l.jsx(Ht,{id:"workspaceName",placeholder:"Finance Operations",...x("name"),invalid:!!j.name,disabled:D})}),l.jsx(Lt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:j.slug?.message,children:l.jsx(Ht,{id:"workspaceSlug",placeholder:"finance-ops",...x("slug"),invalid:!!j.slug,disabled:D})})]}),u?l.jsxs(Lt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:j.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...q,onChange:O=>{q.onChange(O),_("ownerUserId")},disabled:z,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:Z}),g.map(O=>l.jsx("option",{value:O.id,children:O.display_name?`${O.display_name} (${O.email})`:O.email},O.id))]}),d.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(Oe,{type:"button",variant:"ghost",onClick:()=>d.fetchNextPage(),disabled:d.isFetchingNextPage,children:d.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,j.root?l.jsx(wt,{tone:"danger",children:j.root.message}):null,u&&d.isError?l.jsx(wt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(Oe,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:D,children:"Cancel"}),l.jsx(Oe,{type:"submit",isLoading:D,children:D?"Creating workspace":"Create workspace"})]})]})]})})}function ZM(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}function VM(){const e=Nn(),n=ht();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await Ej({signal:i.signal})}finally{r||(n.removeQueries({queryKey:Bs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function QM(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(mh,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(mh,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function IM(){return l.jsx(oS,{children:l.jsx(WS,{children:l.jsx(PM,{})})})}function PM(){const e=Es(),r=WM(e.pathname).split("/").filter(Boolean);if(r.length===0)return l.jsx(NM,{});const[i,c]=r;switch(i){case"login":return l.jsx(AM,{});case"logout":return l.jsx(VM,{});case"auth":if(c==="callback")return l.jsx(DM,{});break;case"setup":return l.jsx(MM,{});case"workspaces":return c?c==="new"?l.jsx(HM,{}):l.jsx(hM,{}):l.jsx(zM,{})}return l.jsx(QM,{})}function WM(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}lS.createRoot(document.getElementById("root")).render(l.jsx(yt.StrictMode,{children:l.jsx(IM,{})}));export{yt as W,ge as c,l as j,p as r};
