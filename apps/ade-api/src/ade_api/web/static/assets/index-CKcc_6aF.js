(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function tv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sf={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function g1(){if(nx)return yl;nx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return yl.Fragment=n,yl.jsx=a,yl.jsxs=a,yl}var sx;function x1(){return sx||(sx=1,sf.exports=g1()),sf.exports}var o=x1(),af={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function v1(){if(ax)return Ie;ax=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function j(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,z={};function U(k,Q,O){this.props=k,this.context=Q,this.refs=z,this.updater=O||T}U.prototype.isReactComponent={},U.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function N(){}N.prototype=U.prototype;function M(k,Q,O){this.props=k,this.context=Q,this.refs=z,this.updater=O||T}var P=M.prototype=new N;P.constructor=M,E(P,U.prototype),P.isPureReactComponent=!0;var $=Array.isArray;function ne(){}var I={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function W(k,Q,O){var R=O.ref;return{$$typeof:e,type:k,key:Q,ref:R!==void 0?R:null,props:O}}function ee(k,Q){return W(k.type,Q,k.props)}function re(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function ue(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(O){return Q[O]})}var me=/\/+/g;function pe(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?ue(""+k.key):Q.toString(36)}function Se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ne,ne):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function B(k,Q,O,R,V){var H=typeof k;(H==="undefined"||H==="boolean")&&(k=null);var oe=!1;if(k===null)oe=!0;else switch(H){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(k.$$typeof){case e:case n:oe=!0;break;case b:return oe=k._init,B(oe(k._payload),Q,O,R,V)}}if(oe)return V=V(k),oe=R===""?"."+pe(k,0):R,$(V)?(O="",oe!=null&&(O=oe.replace(me,"$&/")+"/"),B(V,Q,O,"",function(F){return F})):V!=null&&(re(V)&&(V=ee(V,O+(V.key==null||k&&k.key===V.key?"":(""+V.key).replace(me,"$&/")+"/")+oe)),Q.push(V)),1;oe=0;var xe=R===""?".":R+":";if($(k))for(var Ee=0;Ee<k.length;Ee++)R=k[Ee],H=xe+pe(R,Ee),oe+=B(R,Q,O,H,V);else if(Ee=j(k),typeof Ee=="function")for(k=Ee.call(k),Ee=0;!(R=k.next()).done;)R=R.value,H=xe+pe(R,Ee++),oe+=B(R,Q,O,H,V);else if(H==="object"){if(typeof k.then=="function")return B(Se(k),Q,O,R,V);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return oe}function K(k,Q,O){if(k==null)return k;var R=[],V=0;return B(k,R,"","",function(H){return Q.call(O,H,V++)}),R}function ge(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(O){(k._status===0||k._status===-1)&&(k._status=1,k._result=O)},function(O){(k._status===0||k._status===-1)&&(k._status=2,k._result=O)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},we={map:K,forEach:function(k,Q,O){K(k,function(){Q.apply(this,arguments)},O)},count:function(k){var Q=0;return K(k,function(){Q++}),Q},toArray:function(k){return K(k,function(Q){return Q})||[]},only:function(k){if(!re(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ie.Activity=y,Ie.Children=we,Ie.Component=U,Ie.Fragment=a,Ie.Profiler=c,Ie.PureComponent=M,Ie.StrictMode=i,Ie.Suspense=x,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(k,Q,O){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var R=E({},k.props),V=k.key;if(Q!=null)for(H in Q.key!==void 0&&(V=""+Q.key),Q)!J.call(Q,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&Q.ref===void 0||(R[H]=Q[H]);var H=arguments.length-2;if(H===1)R.children=O;else if(1<H){for(var oe=Array(H),xe=0;xe<H;xe++)oe[xe]=arguments[xe+2];R.children=oe}return W(k.type,V,R)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,Q,O){var R,V={},H=null;if(Q!=null)for(R in Q.key!==void 0&&(H=""+Q.key),Q)J.call(Q,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(V[R]=Q[R]);var oe=arguments.length-2;if(oe===1)V.children=O;else if(1<oe){for(var xe=Array(oe),Ee=0;Ee<oe;Ee++)xe[Ee]=arguments[Ee+2];V.children=xe}if(k&&k.defaultProps)for(R in oe=k.defaultProps,oe)V[R]===void 0&&(V[R]=oe[R]);return W(k,H,V)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=re,Ie.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ge}},Ie.memo=function(k,Q){return{$$typeof:g,type:k,compare:Q===void 0?null:Q}},Ie.startTransition=function(k){var Q=I.T,O={};I.T=O;try{var R=k(),V=I.S;V!==null&&V(O,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(ne,be)}catch(H){be(H)}finally{Q!==null&&O.types!==null&&(Q.types=O.types),I.T=Q}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(k){return I.H.use(k)},Ie.useActionState=function(k,Q,O){return I.H.useActionState(k,Q,O)},Ie.useCallback=function(k,Q){return I.H.useCallback(k,Q)},Ie.useContext=function(k){return I.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,Q){return I.H.useDeferredValue(k,Q)},Ie.useEffect=function(k,Q){return I.H.useEffect(k,Q)},Ie.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(k,Q,O){return I.H.useImperativeHandle(k,Q,O)},Ie.useInsertionEffect=function(k,Q){return I.H.useInsertionEffect(k,Q)},Ie.useLayoutEffect=function(k,Q){return I.H.useLayoutEffect(k,Q)},Ie.useMemo=function(k,Q){return I.H.useMemo(k,Q)},Ie.useOptimistic=function(k,Q){return I.H.useOptimistic(k,Q)},Ie.useReducer=function(k,Q,O){return I.H.useReducer(k,Q,O)},Ie.useRef=function(k){return I.H.useRef(k)},Ie.useState=function(k){return I.H.useState(k)},Ie.useSyncExternalStore=function(k,Q,O){return I.H.useSyncExternalStore(k,Q,O)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var rx;function If(){return rx||(rx=1,af.exports=v1()),af.exports}var p=If();const bt=tv(p);var rf={exports:{}},wl={},lf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function b1(){return ix||(ix=1,(function(e){function n(B,K){var ge=B.length;B.push(K);e:for(;0<ge;){var be=ge-1>>>1,we=B[be];if(0<c(we,K))B[be]=K,B[ge]=we,ge=be;else break e}}function a(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var K=B[0],ge=B.pop();if(ge!==K){B[0]=ge;e:for(var be=0,we=B.length,k=we>>>1;be<k;){var Q=2*(be+1)-1,O=B[Q],R=Q+1,V=B[R];if(0>c(O,ge))R<we&&0>c(V,O)?(B[be]=V,B[R]=ge,be=R):(B[be]=O,B[Q]=ge,be=Q);else if(R<we&&0>c(V,ge))B[be]=V,B[R]=ge,be=R;else break e}}return K}function c(B,K){var ge=B.sortIndex-K.sortIndex;return ge!==0?ge:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var x=[],g=[],b=1,y=null,w=3,j=!1,T=!1,E=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var K=a(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=B)i(g),K.sortIndex=K.expirationTime,n(x,K);else break;K=a(g)}}function $(B){if(E=!1,P(B),!T)if(a(x)!==null)T=!0,ne||(ne=!0,ue());else{var K=a(g);K!==null&&Se($,K.startTime-B)}}var ne=!1,I=-1,J=5,W=-1;function ee(){return z?!0:!(e.unstable_now()-W<J)}function re(){if(z=!1,ne){var B=e.unstable_now();W=B;var K=!0;try{e:{T=!1,E&&(E=!1,N(I),I=-1),j=!0;var ge=w;try{t:{for(P(B),y=a(x);y!==null&&!(y.expirationTime>B&&ee());){var be=y.callback;if(typeof be=="function"){y.callback=null,w=y.priorityLevel;var we=be(y.expirationTime<=B);if(B=e.unstable_now(),typeof we=="function"){y.callback=we,P(B),K=!0;break t}y===a(x)&&i(x),P(B)}else i(x);y=a(x)}if(y!==null)K=!0;else{var k=a(g);k!==null&&Se($,k.startTime-B),K=!1}}break e}finally{y=null,w=ge,j=!1}K=void 0}}finally{K?ue():ne=!1}}}var ue;if(typeof M=="function")ue=function(){M(re)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,pe=me.port2;me.port1.onmessage=re,ue=function(){pe.postMessage(null)}}else ue=function(){U(re,0)};function Se(B,K){I=U(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var ge=w;w=K;try{return B()}finally{w=ge}},e.unstable_requestPaint=function(){z=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ge=w;w=B;try{return K()}finally{w=ge}},e.unstable_scheduleCallback=function(B,K,ge){var be=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?be+ge:be):ge=be,B){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ge+we,B={id:b++,callback:K,priorityLevel:B,startTime:ge,expirationTime:we,sortIndex:-1},ge>be?(B.sortIndex=ge,n(g,B),a(x)===null&&B===a(g)&&(E?(N(I),I=-1):E=!0,Se($,ge-be))):(B.sortIndex=we,n(x,B),T||j||(T=!0,ne||(ne=!0,ue()))),B},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(B){var K=w;return function(){var ge=w;w=K;try{return B.apply(this,arguments)}finally{w=ge}}}})(of)),of}var lx;function y1(){return lx||(lx=1,lf.exports=b1()),lf.exports}var cf={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function w1(){if(ox)return Cn;ox=1;var e=If();function n(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(x,g,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:x,containerInfo:g,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(x,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(x,g,null,b)},Cn.flushSync=function(x){var g=f.T,b=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=g,i.p=b,i.d.f()}},Cn.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(x,g))},Cn.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},Cn.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:j}):b==="script"&&i.d.X(x,{crossOrigin:y,integrity:w,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);i.d.M(x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(x)},Cn.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,y=m(b,g.crossOrigin);i.d.L(x,b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(x,g){if(typeof x=="string")if(g){var b=m(g.as,g.crossOrigin);i.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(x)},Cn.requestFormReset=function(x){i.d.r(x)},Cn.unstable_batchedUpdates=function(x,g){return x(g)},Cn.useFormState=function(x,g,b){return f.H.useFormState(x,g,b)},Cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var cx;function nv(){if(cx)return cf.exports;cx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),cf.exports=w1(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function S1(){if(ux)return wl;ux=1;var e=y1(),n=If(),a=nv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(i(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,l=s;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return x(d),t;if(h===l)return x(d),s;h=h.sibling}throw Error(i(188))}if(r.return!==l.return)r=d,l=h;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,l=h;break}if(S===l){v=!0,l=d,r=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===r){v=!0,r=h,l=d;break}if(S===l){v=!0,l=h,r=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case M:return t.displayName||"Context";case N:return(t._context.displayName||"Context")+".Consumer";case P:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case J:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var Se=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},be=[],we=-1;function k(t){return{current:t}}function Q(t){0>we||(t.current=be[we],be[we]=null,we--)}function O(t,s){we++,be[we]=t.current,t.current=s}var R=k(null),V=k(null),H=k(null),oe=k(null);function xe(t,s){switch(O(H,s),O(V,t),O(R,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ng(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ng(s),t=_g(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(R),O(R,t)}function Ee(){Q(R),Q(V),Q(H)}function F(t){t.memoizedState!==null&&O(oe,t);var s=R.current,r=_g(s,t.type);s!==r&&(O(V,t),O(R,r))}function Ne(t){V.current===t&&(Q(R),Q(V)),oe.current===t&&(Q(oe),gl._currentValue=ge)}var Ce,Be;function Oe(t){if(Ce===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",Be=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Be}var Ae=!1;function Qe(t,s){if(!t||Ae)return"";Ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var X=se}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(se){X=se}t.call(fe.prototype)}}else{try{throw Error()}catch(se){X=se}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&X&&typeof se.stack=="string")return[se.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var D=v.split(`
`),Y=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===Y.length)for(l=D.length-1,d=Y.length-1;1<=l&&0<=d&&D[l]!==Y[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==Y[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==Y[d]){var le=`
`+D[l].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=l&&0<=d);break}}}finally{Ae=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Oe(r):""}function at(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Qe(t.type,!1);case 11:return Qe(t.type.render,!1);case 1:return Qe(t.type,!0);case 31:return Oe("Activity");default:return""}}function rt(t){try{var s="",r=null;do s+=at(t,r),r=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kt=Object.prototype.hasOwnProperty,A=e.unstable_scheduleCallback,_=e.unstable_cancelCallback,C=e.unstable_shouldYield,ie=e.unstable_requestPaint,te=e.unstable_now,ce=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,jt=e.unstable_LowPriority,ye=e.unstable_IdlePriority,Te=e.log,Ze=e.unstable_setDisableYieldValue,Ke=null,it=null;function Et(t){if(typeof Te=="function"&&Ze(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ke,t)}catch{}}var pt=Math.clz32?Math.clz32:Ti,Gn=Math.log,Is=Math.LN2;function Ti(t){return t>>>=0,t===0?32:31-(Gn(t)/Is|0)|0}var Os=256,Ls=262144,Mt=4194304;function _e(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ht(t,s,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~h,l!==0?d=_e(l):(v&=S,v!==0?d=_e(v):r||(r=S&~t,r!==0&&(d=_e(r))))):(S=l&~h,S!==0?d=_e(S):v!==0?d=_e(v):r||(r=l&~t,r!==0&&(d=_e(r)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,r=s&-s,h>=r||h===32&&(r&4194048)!==0)?s:d}function vn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Nn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function _n(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Dt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rt(t,s,r,l,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,Y=t.hiddenUpdates;for(r=v&~r;0<r;){var le=31-pt(r),fe=1<<le;S[le]=0,D[le]=-1;var X=Y[le];if(X!==null)for(Y[le]=null,le=0;le<X.length;le++){var se=X[le];se!==null&&(se.lane&=-536870913)}r&=~fe}l!==0&&Yn(t,l,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function Yn(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-pt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Vt(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var l=31-pt(r),d=1<<l;d&s|t[l]&s&&(t[l]|=s),r&=~d}}function ln(t,s){var r=s&-s;return r=(r&42)!==0?1:ls(r),(r&(t.suspendedLanes|s))!==0?0:r}function ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Wg(t.type))}function Es(t,s){var r=K.p;try{return K.p=t,s()}finally{K.p=r}}var dt=Math.random().toString(36).slice(2),on="__reactFiber$"+dt,Ft="__reactProps$"+dt,Wn="__reactContainer$"+dt,Mr="__reactEvents$"+dt,Dr="__reactListeners$"+dt,bn="__reactHandles$"+dt,Ns="__reactResources$"+dt,Rn="__reactMarker$"+dt;function Gs(t){delete t[on],delete t[Ft],delete t[Mr],delete t[Dr],delete t[bn]}function Us(t){var s=t[on];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Wn]||r[on]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Rg(t);t!==null;){if(r=t[on])return r;t=Rg(t)}return s}t=r,r=t.parentNode}return null}function _s(t){if(t=t[on]||t[Wn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Bs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function cs(t){var s=t[Ns];return s||(s=t[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(t){t[Rn]=!0}var Kn=new Set,Jc={};function Ys(t,s){ga(t,s),ga(t+"Capture",s)}function ga(t,s){for(Jc[t]=s,t=0;t<s.length;t++)Kn.add(s[t])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Xa={};function eu(t){return Kt.call(Xa,t)?!0:Kt.call(Gl,t)?!1:Rr.test(t)?Xa[t]=!0:(Gl[t]=!0,!1)}function zr(t,s,r){if(eu(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function us(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function ds(t,s,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+l)}}function An(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ai(t,s,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Mi(t){if(!t._valueTracker){var s=Yl(t)?"checked":"value";t._valueTracker=Ai(t,s,""+t[s])}}function Wl(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return t&&(l=Yl(t)?t.checked?"true":"false":t.value),t=l,t!==r?(s.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tu=/[\n"\\]/g;function zn(t){return t.replace(tu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Lr(t,s,r,l,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+An(s)):t.value!==""+An(s)&&(t.value=""+An(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Ja(t,v,An(s)):r!=null?Ja(t,v,An(r)):l!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+An(S):t.removeAttribute("name")}function Kl(t,s,r,l,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Mi(t);return}r=r!=null?""+An(r):"",s=s!=null?""+An(s):r,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Mi(t)}function Ja(t,s,r){s==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xa(t,s,r,l){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+An(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Pl(t,s,r){if(s!=null&&(s=""+An(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+An(r):""}function Xl(t,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(i(92));if(Se(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=An(s),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Mi(t)}function qs(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(t,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,r):typeof r!="number"||r===0||nu.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function eo(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&r[d]!==l&&Jl(t,d,l)}else for(var h in s)s.hasOwnProperty(h)&&Jl(t,h,s[h])}function Di(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),au=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return au.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var Ri=null;function zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,ya=null;function to(t){var s=_s(t);if(s&&(t=s.stateNode)){var r=t[Ft]||null;e:switch(t=s.stateNode,s.type){case"input":if(Lr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==t&&l.form===t.form){var d=l[Ft]||null;if(!d)throw Error(i(90));Lr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===t.form&&Wl(l)}break e;case"textarea":Pl(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&xa(t,!!r.multiple,s,!1)}}}var Z=!1;function ae(t,s,r){if(Z)return t(s,r);Z=!0;try{var l=t(s);return l}finally{if(Z=!1,(ba!==null||ya!==null)&&($o(),ba&&(s=ba,t=ya,ya=ba=null,to(s),t)))for(s=0;s<t.length;s++)to(t[s])}}function ke(t,s){var r=t.stateNode;if(r===null)return null;var l=r[Ft]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var He=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nt=!1;if(He)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){nt=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{nt=!1}var Fe=null,Ws=null,wa=null;function Ur(){if(wa)return wa;var t,s=Ws,r=s.length,l,d="value"in Fe?Fe.value:Fe.textContent,h=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(l=1;l<=v&&s[r-l]===d[h-l];l++);return wa=d.slice(t,1<l?1-l:void 0)}function Pt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Lt(){return!0}function Ut(){return!1}function On(t){function s(r,l,d,h,v){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Lt:Ut,this.isPropagationStopped=Ut,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lt)},persist:function(){},isPersistent:Lt}),s}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=On(er),Oi=y({},er,{view:0,detail:0}),my=On(Oi),ru,iu,Li,so=y({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(ru=t.screenX-Li.screenX,iu=t.screenY-Li.screenY):iu=ru=0,Li=t),ru)},movementY:function(t){return"movementY"in t?t.movementY:iu}}),kh=On(so),py=y({},so,{dataTransfer:0}),gy=On(py),xy=y({},Oi,{relatedTarget:0}),lu=On(xy),vy=y({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),by=On(vy),yy=y({},er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wy=On(yy),Sy=y({},er,{data:0}),Th=On(Sy),jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Ny[t])?!!s[t]:!1}function ou(){return _y}var Cy=y({},Oi,{key:function(t){if(t.key){var s=jy[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(t){return t.type==="keypress"?Pt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ky=On(Cy),Ty=y({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=On(Ty),Ay=y({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),My=On(Ay),Dy=y({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=On(Dy),zy=y({},so,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=On(zy),Ly=y({},er,{newState:0,oldState:0}),Uy=On(Ly),By=[9,13,27,32],cu=He&&"CompositionEvent"in window,Ui=null;He&&"documentMode"in document&&(Ui=document.documentMode);var qy=He&&"TextEvent"in window&&!Ui,Mh=He&&(!cu||Ui&&8<Ui&&11>=Ui),Dh=" ",Rh=!1;function zh(t,s){switch(t){case"keyup":return By.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Br=!1;function $y(t,s){switch(t){case"compositionend":return Oh(s);case"keypress":return s.which!==32?null:(Rh=!0,Dh);case"textInput":return t=s.data,t===Dh&&Rh?null:t;default:return null}}function Zy(t,s){if(Br)return t==="compositionend"||!cu&&zh(t,s)?(t=Ur(),wa=Ws=Fe=null,Br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mh&&s.locale!=="ko"?null:s.data;default:return null}}var Hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Hy[t.type]:s==="textarea"}function Uh(t,s,r,l){ba?ya?ya.push(l):ya=[l]:ba=l,s=Go(s,"onChange"),0<s.length&&(r=new no("onChange","change",null,r,l),t.push({event:r,listeners:s}))}var Bi=null,qi=null;function Vy(t){bg(t,0)}function ao(t){var s=Bs(t);if(Wl(s))return t}function Bh(t,s){if(t==="change")return s}var qh=!1;if(He){var uu;if(He){var du="oninput"in document;if(!du){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),du=typeof $h.oninput=="function"}uu=du}else uu=!1;qh=uu&&(!document.documentMode||9<document.documentMode)}function Zh(){Bi&&(Bi.detachEvent("onpropertychange",Hh),qi=Bi=null)}function Hh(t){if(t.propertyName==="value"&&ao(qi)){var s=[];Uh(s,qi,t,zi(t)),ae(Vy,s)}}function Fy(t,s,r){t==="focusin"?(Zh(),Bi=s,qi=r,Bi.attachEvent("onpropertychange",Hh)):t==="focusout"&&Zh()}function Qy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ao(qi)}function Iy(t,s){if(t==="click")return ao(s)}function Gy(t,s){if(t==="input"||t==="change")return ao(s)}function Yy(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xn=typeof Object.is=="function"?Object.is:Yy;function $i(t,s){if(Xn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!Kt.call(s,d)||!Xn(t[d],s[d]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fh(t,s){var r=Vh(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=s&&l>=s)return{node:r,offset:s-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vh(r)}}function Qh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ih(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Or(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Or(t.document)}return s}function fu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Wy=He&&"documentMode"in document&&11>=document.documentMode,qr=null,hu=null,Zi=null,mu=!1;function Gh(t,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mu||qr==null||qr!==Or(l)||(l=qr,"selectionStart"in l&&fu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zi&&$i(Zi,l)||(Zi=l,l=Go(hu,"onSelect"),0<l.length&&(s=new no("onSelect","select",null,s,r),t.push({event:s,listeners:l}),s.target=qr)))}function tr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var $r={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionrun:tr("Transition","TransitionRun"),transitionstart:tr("Transition","TransitionStart"),transitioncancel:tr("Transition","TransitionCancel"),transitionend:tr("Transition","TransitionEnd")},pu={},Yh={};He&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function nr(t){if(pu[t])return pu[t];if(!$r[t])return t;var s=$r[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Yh)return pu[t]=s[r];return t}var Wh=nr("animationend"),Kh=nr("animationiteration"),Ph=nr("animationstart"),Ky=nr("transitionrun"),Py=nr("transitionstart"),Xy=nr("transitioncancel"),Xh=nr("transitionend"),Jh=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function Cs(t,s){Jh.set(t,s),Ys(s,[t])}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fs=[],Zr=0,xu=0;function io(){for(var t=Zr,s=xu=Zr=0;s<t;){var r=fs[s];fs[s++]=null;var l=fs[s];fs[s++]=null;var d=fs[s];fs[s++]=null;var h=fs[s];if(fs[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}h!==0&&em(r,d,h)}}function lo(t,s,r,l){fs[Zr++]=t,fs[Zr++]=s,fs[Zr++]=r,fs[Zr++]=l,xu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vu(t,s,r,l){return lo(t,s,r,l),oo(t)}function sr(t,s){return lo(t,null,null,s),oo(t)}function em(t,s,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-pt(r),t=h.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=r|536870912),h):null}function oo(t){if(50<cl)throw cl=0,Cd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Hr={};function Jy(t,s,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,s,r,l){return new Jy(t,s,r,l)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ks(t,s){var r=t.alternate;return r===null?(r=Jn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tm(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function co(t,s,r,l,d,h){var v=0;if(l=t,typeof t=="function")bu(t)&&(v=1);else if(typeof t=="string")v=a1(t,r,R.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Jn(31,r,s,d),t.elementType=W,t.lanes=h,t;case E:return ar(r.children,d,h,s);case z:v=8,d|=24;break;case U:return t=Jn(12,r,s,d|2),t.elementType=U,t.lanes=h,t;case $:return t=Jn(13,r,s,d),t.elementType=$,t.lanes=h,t;case ne:return t=Jn(19,r,s,d),t.elementType=ne,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:v=10;break e;case N:v=9;break e;case P:v=11;break e;case I:v=14;break e;case J:v=16,l=null;break e}v=29,r=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Jn(v,r,s,d),s.elementType=t,s.type=l,s.lanes=h,s}function ar(t,s,r,l){return t=Jn(7,t,l,s),t.lanes=r,t}function yu(t,s,r){return t=Jn(6,t,null,s),t.lanes=r,t}function nm(t){var s=Jn(18,null,null,0);return s.stateNode=t,s}function wu(t,s,r){return s=Jn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var sm=new WeakMap;function hs(t,s){if(typeof t=="object"&&t!==null){var r=sm.get(t);return r!==void 0?r:(s={value:t,source:s,stack:rt(s)},sm.set(t,s),s)}return{value:t,source:s,stack:rt(s)}}var Vr=[],Fr=0,uo=null,Hi=0,ms=[],ps=0,Sa=null,$s=1,Zs="";function Ps(t,s){Vr[Fr++]=Hi,Vr[Fr++]=uo,uo=t,Hi=s}function am(t,s,r){ms[ps++]=$s,ms[ps++]=Zs,ms[ps++]=Sa,Sa=t;var l=$s;t=Zs;var d=32-pt(l)-1;l&=~(1<<d),r+=1;var h=32-pt(s)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,$s=1<<32-pt(s)+d|r<<d|l,Zs=h+t}else $s=1<<h|r<<d|l,Zs=t}function Su(t){t.return!==null&&(Ps(t,1),am(t,1,0))}function ju(t){for(;t===uo;)uo=Vr[--Fr],Vr[Fr]=null,Hi=Vr[--Fr],Vr[Fr]=null;for(;t===Sa;)Sa=ms[--ps],ms[ps]=null,Zs=ms[--ps],ms[ps]=null,$s=ms[--ps],ms[ps]=null}function rm(t,s){ms[ps++]=$s,ms[ps++]=Zs,ms[ps++]=Sa,$s=s.id,Zs=s.overflow,Sa=t}var yn=null,Nt=null,st=!1,ja=null,gs=!1,Eu=Error(i(519));function Ea(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vi(hs(s,t)),Eu}function im(t){var s=t.stateNode,r=t.type,l=t.memoizedProps;switch(s[on]=t,s[Ft]=l,r){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(r=0;r<dl.length;r++)Je(dl[r],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Kl(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Xl(s,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||jg(s.textContent,r)?(l.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),l.onScroll!=null&&Je("scroll",s),l.onScrollEnd!=null&&Je("scrollend",s),l.onClick!=null&&(s.onclick=Pn),s=!0):s=!1,s||Ea(t,!0)}function lm(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:yn=yn.return}}function Qr(t){if(t!==yn)return!1;if(!st)return lm(t),st=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Hd(t.type,t.memoizedProps)),r=!r),r&&Nt&&Ea(t),lm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Nt=Dg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Nt=Dg(t)}else s===27?(s=Nt,Ba(t.type)?(t=Gd,Gd=null,Nt=t):Nt=s):Nt=yn?vs(t.stateNode.nextSibling):null;return!0}function rr(){Nt=yn=null,st=!1}function Nu(){var t=ja;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),ja=null),t}function Vi(t){ja===null?ja=[t]:ja.push(t)}var _u=k(null),ir=null,Xs=null;function Na(t,s,r){O(_u,s._currentValue),s._currentValue=r}function Js(t){t._currentValue=_u.current,Q(_u)}function Cu(t,s,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===r)break;t=t.return}}function ku(t,s,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var D=0;D<s.length;D++)if(S.context===s[D]){h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),Cu(h.return,r,t),l||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),Cu(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ir(t,s,r,l){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;Xn(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===oe.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}d=d.return}t!==null&&ku(s,t,r,l),s.flags|=262144}function fo(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){ir=t,Xs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return om(ir,t)}function ho(t,s){return ir===null&&lr(t),om(t,s)}function om(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Xs===null){if(t===null)throw Error(i(308));Xs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Xs=Xs.next=s;return r}var ew=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},tw=e.unstable_scheduleCallback,nw=e.unstable_NormalPriority,Xt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new ew,data:new Map,refCount:0}}function Fi(t){t.refCount--,t.refCount===0&&tw(nw,function(){t.controller.abort()})}var Qi=null,Au=0,Gr=0,Yr=null;function sw(t,s){if(Qi===null){var r=Qi=[];Au=0,Gr=Rd(),Yr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Au++,s.then(cm,cm),s}function cm(){if(--Au===0&&Qi!==null){Yr!==null&&(Yr.status="fulfilled");var t=Qi;Qi=null,Gr=0,Yr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function aw(t,s){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var um=B.S;B.S=function(t,s){Gp=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sw(t,s),um!==null&&um(t,s)};var or=k(null);function Mu(){var t=or.current;return t!==null?t:yt.pooledCache}function mo(t,s){s===null?O(or,or.current):O(or,s.pool)}function dm(){var t=Mu();return t===null?null:{parent:Xt._currentValue,pool:t}}var Wr=Error(i(460)),Du=Error(i(474)),po=Error(i(542)),go={then:function(){}};function fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hm(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Pn,Pn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,pm(t),t;default:if(typeof s.status=="string")s.then(Pn,Pn);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,pm(t),t}throw ur=s,Wr}}function cr(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ur=r,Wr):r}}var ur=null;function mm(){if(ur===null)throw Error(i(459));var t=ur;return ur=null,t}function pm(t){if(t===Wr||t===po)throw Error(i(483))}var Kr=null,Ii=0;function xo(t){var s=Ii;return Ii+=1,Kr===null&&(Kr=[]),hm(Kr,t,s)}function Gi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function vo(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function gm(t){function s(q,L){if(t){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function r(q,L){if(!t)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function d(q,L){return q=Ks(q,L),q.index=0,q.sibling=null,q}function h(q,L,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=67108866,L):G):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function v(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function S(q,L,G,de){return L===null||L.tag!==6?(L=yu(G,q.mode,de),L.return=q,L):(L=d(L,G),L.return=q,L)}function D(q,L,G,de){var Le=G.type;return Le===E?le(q,L,G.props.children,de,G.key):L!==null&&(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===J&&cr(Le)===L.type)?(L=d(L,G.props),Gi(L,G),L.return=q,L):(L=co(G.type,G.key,G.props,null,q.mode,de),Gi(L,G),L.return=q,L)}function Y(q,L,G,de){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=wu(G,q.mode,de),L.return=q,L):(L=d(L,G.children||[]),L.return=q,L)}function le(q,L,G,de,Le){return L===null||L.tag!==7?(L=ar(G,q.mode,de,Le),L.return=q,L):(L=d(L,G),L.return=q,L)}function fe(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=yu(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return G=co(L.type,L.key,L.props,null,q.mode,G),Gi(G,L),G.return=q,G;case T:return L=wu(L,q.mode,G),L.return=q,L;case J:return L=cr(L),fe(q,L,G)}if(Se(L)||ue(L))return L=ar(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return fe(q,xo(L),G);if(L.$$typeof===M)return fe(q,ho(q,L),G);vo(q,L)}return null}function X(q,L,G,de){var Le=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Le!==null?null:S(q,L,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Le?D(q,L,G,de):null;case T:return G.key===Le?Y(q,L,G,de):null;case J:return G=cr(G),X(q,L,G,de)}if(Se(G)||ue(G))return Le!==null?null:le(q,L,G,de,null);if(typeof G.then=="function")return X(q,L,xo(G),de);if(G.$$typeof===M)return X(q,L,ho(q,G),de);vo(q,G)}return null}function se(q,L,G,de,Le){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return q=q.get(G)||null,S(L,q,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case j:return q=q.get(de.key===null?G:de.key)||null,D(L,q,de,Le);case T:return q=q.get(de.key===null?G:de.key)||null,Y(L,q,de,Le);case J:return de=cr(de),se(q,L,G,de,Le)}if(Se(de)||ue(de))return q=q.get(G)||null,le(L,q,de,Le,null);if(typeof de.then=="function")return se(q,L,G,xo(de),Le);if(de.$$typeof===M)return se(q,L,G,ho(L,de),Le);vo(L,de)}return null}function Me(q,L,G,de){for(var Le=null,lt=null,Re=L,Ye=L=0,tt=null;Re!==null&&Ye<G.length;Ye++){Re.index>Ye?(tt=Re,Re=null):tt=Re.sibling;var ot=X(q,Re,G[Ye],de);if(ot===null){Re===null&&(Re=tt);break}t&&Re&&ot.alternate===null&&s(q,Re),L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot,Re=tt}if(Ye===G.length)return r(q,Re),st&&Ps(q,Ye),Le;if(Re===null){for(;Ye<G.length;Ye++)Re=fe(q,G[Ye],de),Re!==null&&(L=h(Re,L,Ye),lt===null?Le=Re:lt.sibling=Re,lt=Re);return st&&Ps(q,Ye),Le}for(Re=l(Re);Ye<G.length;Ye++)tt=se(Re,q,Ye,G[Ye],de),tt!==null&&(t&&tt.alternate!==null&&Re.delete(tt.key===null?Ye:tt.key),L=h(tt,L,Ye),lt===null?Le=tt:lt.sibling=tt,lt=tt);return t&&Re.forEach(function(Va){return s(q,Va)}),st&&Ps(q,Ye),Le}function $e(q,L,G,de){if(G==null)throw Error(i(151));for(var Le=null,lt=null,Re=L,Ye=L=0,tt=null,ot=G.next();Re!==null&&!ot.done;Ye++,ot=G.next()){Re.index>Ye?(tt=Re,Re=null):tt=Re.sibling;var Va=X(q,Re,ot.value,de);if(Va===null){Re===null&&(Re=tt);break}t&&Re&&Va.alternate===null&&s(q,Re),L=h(Va,L,Ye),lt===null?Le=Va:lt.sibling=Va,lt=Va,Re=tt}if(ot.done)return r(q,Re),st&&Ps(q,Ye),Le;if(Re===null){for(;!ot.done;Ye++,ot=G.next())ot=fe(q,ot.value,de),ot!==null&&(L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot);return st&&Ps(q,Ye),Le}for(Re=l(Re);!ot.done;Ye++,ot=G.next())ot=se(Re,q,Ye,ot.value,de),ot!==null&&(t&&ot.alternate!==null&&Re.delete(ot.key===null?Ye:ot.key),L=h(ot,L,Ye),lt===null?Le=ot:lt.sibling=ot,lt=ot);return t&&Re.forEach(function(p1){return s(q,p1)}),st&&Ps(q,Ye),Le}function vt(q,L,G,de){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var Le=G.key;L!==null;){if(L.key===Le){if(Le=G.type,Le===E){if(L.tag===7){r(q,L.sibling),de=d(L,G.props.children),de.return=q,q=de;break e}}else if(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===J&&cr(Le)===L.type){r(q,L.sibling),de=d(L,G.props),Gi(de,G),de.return=q,q=de;break e}r(q,L);break}else s(q,L);L=L.sibling}G.type===E?(de=ar(G.props.children,q.mode,de,G.key),de.return=q,q=de):(de=co(G.type,G.key,G.props,null,q.mode,de),Gi(de,G),de.return=q,q=de)}return v(q);case T:e:{for(Le=G.key;L!==null;){if(L.key===Le)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){r(q,L.sibling),de=d(L,G.children||[]),de.return=q,q=de;break e}else{r(q,L);break}else s(q,L);L=L.sibling}de=wu(G,q.mode,de),de.return=q,q=de}return v(q);case J:return G=cr(G),vt(q,L,G,de)}if(Se(G))return Me(q,L,G,de);if(ue(G)){if(Le=ue(G),typeof Le!="function")throw Error(i(150));return G=Le.call(G),$e(q,L,G,de)}if(typeof G.then=="function")return vt(q,L,xo(G),de);if(G.$$typeof===M)return vt(q,L,ho(q,G),de);vo(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(r(q,L.sibling),de=d(L,G),de.return=q,q=de):(r(q,L),de=yu(G,q.mode,de),de.return=q,q=de),v(q)):r(q,L)}return function(q,L,G,de){try{Ii=0;var Le=vt(q,L,G,de);return Kr=null,Le}catch(Re){if(Re===Wr||Re===po)throw Re;var lt=Jn(29,Re,null,q.mode);return lt.lanes=de,lt.return=q,lt}finally{}}}var dr=gm(!0),xm=gm(!1),_a=!1;function Ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ka(t,s,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ct&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=oo(t),em(t,null,r),s}return lo(t,l,s,r),oo(t)}function Yi(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Vt(t,r)}}function Ou(t,s){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=s:h=h.next=s}else d=h=s;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var Lu=!1;function Wi(){if(Lu){var t=Yr;if(t!==null)throw t}}function Ki(t,s,r,l){Lu=!1;var d=t.updateQueue;_a=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,Y=D.next;D.next=null,v===null?h=Y:v.next=Y,v=D;var le=t.alternate;le!==null&&(le=le.updateQueue,S=le.lastBaseUpdate,S!==v&&(S===null?le.firstBaseUpdate=Y:S.next=Y,le.lastBaseUpdate=D))}if(h!==null){var fe=d.baseState;v=0,le=Y=D=null,S=h;do{var X=S.lane&-536870913,se=X!==S.lane;if(se?(et&X)===X:(l&X)===X){X!==0&&X===Gr&&(Lu=!0),le!==null&&(le=le.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,$e=S;X=s;var vt=r;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){fe=Me.call(vt,fe,X);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,X=typeof Me=="function"?Me.call(vt,fe,X):Me,X==null)break e;fe=y({},fe,X);break e;case 2:_a=!0}}X=S.callback,X!==null&&(t.flags|=64,se&&(t.flags|=8192),se=d.callbacks,se===null?d.callbacks=[X]:se.push(X))}else se={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},le===null?(Y=le=se,D=fe):le=le.next=se,v|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;se=S,S=se.next,se.next=null,d.lastBaseUpdate=se,d.shared.pending=null}}while(!0);le===null&&(D=fe),d.baseState=D,d.firstBaseUpdate=Y,d.lastBaseUpdate=le,h===null&&(d.shared.lanes=0),Ra|=v,t.lanes=v,t.memoizedState=fe}}function vm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function bm(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)vm(r[t],s)}var Pr=k(null),bo=k(0);function ym(t,s){t=oa,O(bo,t),O(Pr,s),oa=t|s.baseLanes}function Uu(){O(bo,oa),O(Pr,Pr.current)}function Bu(){oa=bo.current,Q(Pr),Q(bo)}var es=k(null),xs=null;function Ta(t){var s=t.alternate;O(Qt,Qt.current&1),O(es,t),xs===null&&(s===null||Pr.current!==null||s.memoizedState!==null)&&(xs=t)}function qu(t){O(Qt,Qt.current),O(es,t),xs===null&&(xs=t)}function wm(t){t.tag===22?(O(Qt,Qt.current),O(es,t),xs===null&&(xs=t)):Aa()}function Aa(){O(Qt,Qt.current),O(es,es.current)}function ts(t){Q(es),xs===t&&(xs=null),Q(Qt)}var Qt=k(0);function yo(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qd(r)||Id(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ea=0,Ge=null,gt=null,Jt=null,wo=!1,Xr=!1,fr=!1,So=0,Pi=0,Jr=null,rw=0;function Bt(){throw Error(i(321))}function $u(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Xn(t[r],s[r]))return!1;return!0}function Zu(t,s,r,l,d,h){return ea=h,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=t===null||t.memoizedState===null?ap:nd,fr=!1,h=r(l,d),fr=!1,Xr&&(h=jm(s,r,l,d)),Sm(t),h}function Sm(t){B.H=el;var s=gt!==null&&gt.next!==null;if(ea=0,Jt=gt=Ge=null,wo=!1,Pi=0,Jr=null,s)throw Error(i(300));t===null||en||(t=t.dependencies,t!==null&&fo(t)&&(en=!0))}function jm(t,s,r,l){Ge=t;var d=0;do{if(Xr&&(Jr=null),Pi=0,Xr=!1,25<=d)throw Error(i(301));if(d+=1,Jt=gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=rp,h=s(r,l)}while(Xr);return h}function iw(){var t=B.H,s=t.useState()[0];return s=typeof s.then=="function"?Xi(s):s,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Ge.flags|=1024),s}function Hu(){var t=So!==0;return So=0,t}function Vu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Fu(t){if(wo){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}wo=!1}ea=0,Jt=gt=Ge=null,Xr=!1,Pi=So=0,Jr=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ge.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function It(){if(gt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var s=Jt===null?Ge.memoizedState:Jt.next;if(s!==null)Jt=s,gt=t;else{if(t===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Jt===null?Ge.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(t){var s=Pi;return Pi+=1,Jr===null&&(Jr=[]),t=hm(Jr,t,s),s=Ge,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?ap:nd),t}function Eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xi(t);if(t.$$typeof===M)return wn(t)}throw Error(i(438,String(t)))}function Qu(t){var s=null,r=Ge.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=jo(),Ge.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),l=0;l<t;l++)r[l]=ee;return s.index++,r}function ta(t,s){return typeof s=="function"?s(t):s}function No(t){var s=It();return Iu(s,gt,t)}function Iu(t,s,r){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=t.baseQueue,h=l.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,l.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,D=null,Y=s,le=!1;do{var fe=Y.lane&-536870913;if(fe!==Y.lane?(et&fe)===fe:(ea&fe)===fe){var X=Y.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),fe===Gr&&(le=!0);else if((ea&X)===X){Y=Y.next,X===Gr&&(le=!0);continue}else fe={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(S=D=fe,v=h):D=D.next=fe,Ge.lanes|=X,Ra|=X;fe=Y.action,fr&&r(h,fe),h=Y.hasEagerState?Y.eagerState:r(h,fe)}else X={lane:fe,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(S=D=X,v=h):D=D.next=X,Ge.lanes|=fe,Ra|=fe;Y=Y.next}while(Y!==null&&Y!==s);if(D===null?v=h:D.next=S,!Xn(h,t.memoizedState)&&(en=!0,le&&(r=Yr,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=D,l.lastRenderedState=h}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gu(t){var s=It(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,h=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);Xn(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),r.lastRenderedState=h}return[h,l]}function Em(t,s,r){var l=Ge,d=It(),h=st;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=s();var v=!Xn((gt||d).memoizedState,r);if(v&&(d.memoizedState=r,en=!0),d=d.queue,Ku(Cm.bind(null,l,d,t),[t]),d.getSnapshot!==s||v||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,ei(9,{destroy:void 0},_m.bind(null,l,d,r,s),null),yt===null)throw Error(i(349));h||(ea&127)!==0||Nm(l,s,r)}return r}function Nm(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ge.updateQueue,s===null?(s=jo(),Ge.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function _m(t,s,r,l){s.value=r,s.getSnapshot=l,km(s)&&Tm(t)}function Cm(t,s,r){return r(function(){km(s)&&Tm(t)})}function km(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Xn(t,r)}catch{return!0}}function Tm(t){var s=sr(t,2);s!==null&&$n(s,t,2)}function Yu(t){var s=Mn();if(typeof t=="function"){var r=t;if(t=r(),fr){Et(!0);try{r()}finally{Et(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},s}function Am(t,s,r,l){return t.baseState=r,Iu(t,gt,typeof l=="function"?l:ta)}function lw(t,s,r,l,d){if(ko(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};B.T!==null?r(!0):h.isTransition=!1,l(h),r=s.pending,r===null?(h.next=s.pending=h,Mm(s,h)):(h.next=r.next,s.pending=r.next=h)}}function Mm(t,s){var r=s.action,l=s.payload,d=t.state;if(s.isTransition){var h=B.T,v={};B.T=v;try{var S=r(d,l),D=B.S;D!==null&&D(v,S),Dm(t,s,S)}catch(Y){Wu(t,s,Y)}finally{h!==null&&v.types!==null&&(h.types=v.types),B.T=h}}else try{h=r(d,l),Dm(t,s,h)}catch(Y){Wu(t,s,Y)}}function Dm(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rm(t,s,l)},function(l){return Wu(t,s,l)}):Rm(t,s,r)}function Rm(t,s,r){s.status="fulfilled",s.value=r,zm(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Mm(t,r)))}function Wu(t,s,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,zm(s),s=s.next;while(s!==l)}t.action=null}function zm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Om(t,s){return s}function Lm(t,s){if(st){var r=yt.formState;if(r!==null){e:{var l=Ge;if(st){if(Nt){t:{for(var d=Nt,h=gs;d.nodeType!==8;){if(!h){d=null;break t}if(d=vs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Nt=vs(d.nextSibling),l=d.data==="F!";break e}}Ea(l)}l=!1}l&&(s=r[0])}}return r=Mn(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:s},r.queue=l,r=tp.bind(null,Ge,l),l.dispatch=r,l=Yu(!1),h=td.bind(null,Ge,!1,l.queue),l=Mn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,r=lw.bind(null,Ge,d,h,r),d.dispatch=r,l.memoizedState=t,[s,r,!1]}function Um(t){var s=It();return Bm(s,gt,t)}function Bm(t,s,r){if(s=Iu(t,s,Om)[0],t=No(ta)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Xi(s)}catch(v){throw v===Wr?po:v}else l=s;s=It();var d=s.queue,h=d.dispatch;return r!==s.memoizedState&&(Ge.flags|=2048,ei(9,{destroy:void 0},ow.bind(null,d,r),null)),[l,h,t]}function ow(t,s){t.action=s}function qm(t){var s=It(),r=gt;if(r!==null)return Bm(s,r,t);It(),s=s.memoizedState,r=It();var l=r.queue.dispatch;return r.memoizedState=t,[s,l,!1]}function ei(t,s,r,l){return t={tag:t,create:r,deps:l,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=jo(),Ge.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,s.lastEffect=t),t}function $m(){return It().memoizedState}function _o(t,s,r,l){var d=Mn();Ge.flags|=t,d.memoizedState=ei(1|s,{destroy:void 0},r,l===void 0?null:l)}function Co(t,s,r,l){var d=It();l=l===void 0?null:l;var h=d.memoizedState.inst;gt!==null&&l!==null&&$u(l,gt.memoizedState.deps)?d.memoizedState=ei(s,h,r,l):(Ge.flags|=t,d.memoizedState=ei(1|s,h,r,l))}function Zm(t,s){_o(8390656,8,t,s)}function Ku(t,s){Co(2048,8,t,s)}function cw(t){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=jo(),Ge.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Hm(t){var s=It().memoizedState;return cw({ref:s,nextImpl:t}),function(){if((ct&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Vm(t,s){return Co(4,2,t,s)}function Fm(t,s){return Co(4,4,t,s)}function Qm(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Im(t,s,r){r=r!=null?r.concat([t]):null,Co(4,4,Qm.bind(null,s,t),r)}function Pu(){}function Gm(t,s){var r=It();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&$u(s,l[1])?l[0]:(r.memoizedState=[t,s],t)}function Ym(t,s){var r=It();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&$u(s,l[1]))return l[0];if(l=t(),fr){Et(!0);try{t()}finally{Et(!1)}}return r.memoizedState=[l,s],l}function Xu(t,s,r){return r===void 0||(ea&1073741824)!==0&&(et&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Wp(),Ge.lanes|=t,Ra|=t,r)}function Wm(t,s,r,l){return Xn(r,s)?r:Pr.current!==null?(t=Xu(t,r,l),Xn(t,s)||(en=!0),t):(ea&42)===0||(ea&1073741824)!==0&&(et&261930)===0?(en=!0,t.memoizedState=r):(t=Wp(),Ge.lanes|=t,Ra|=t,s)}function Km(t,s,r,l,d){var h=K.p;K.p=h!==0&&8>h?h:8;var v=B.T,S={};B.T=S,td(t,!1,s,r);try{var D=d(),Y=B.S;if(Y!==null&&Y(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var le=aw(D,l);Ji(t,s,le,as(t))}else Ji(t,s,l,as(t))}catch(fe){Ji(t,s,{then:function(){},status:"rejected",reason:fe},as())}finally{K.p=h,v!==null&&S.types!==null&&(v.types=S.types),B.T=v}}function uw(){}function Ju(t,s,r,l){if(t.tag!==5)throw Error(i(476));var d=Pm(t).queue;Km(t,d,s,ge,r===null?uw:function(){return Xm(t),r(l)})}function Pm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:ge},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Xm(t){var s=Pm(t);s.next===null&&(s=t.alternate.memoizedState),Ji(t,s.next.queue,{},as())}function ed(){return wn(gl)}function Jm(){return It().memoizedState}function ep(){return It().memoizedState}function dw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=as();t=Ca(r);var l=ka(s,t,r);l!==null&&($n(l,s,r),Yi(l,s,r)),s={cache:Tu()},t.payload=s;return}s=s.return}}function fw(t,s,r){var l=as();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ko(t)?np(s,r):(r=vu(t,s,r,l),r!==null&&($n(r,t,l),sp(r,s,l)))}function tp(t,s,r){var l=as();Ji(t,s,r,l)}function Ji(t,s,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ko(t))np(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,r);if(d.hasEagerState=!0,d.eagerState=S,Xn(S,v))return lo(t,s,d,0),yt===null&&io(),!1}catch{}finally{}if(r=vu(t,s,d,l),r!==null)return $n(r,t,l),sp(r,s,l),!0}return!1}function td(t,s,r,l){if(l={lane:2,revertLane:Rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ko(t)){if(s)throw Error(i(479))}else s=vu(t,r,l,2),s!==null&&$n(s,t,2)}function ko(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function np(t,s){Xr=wo=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function sp(t,s,r){if((r&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Vt(t,r)}}var el={readContext:wn,use:Eo,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};el.useEffectEvent=Bt;var ap={readContext:wn,use:Eo,useCallback:function(t,s){return Mn().memoizedState=[t,s===void 0?null:s],t},useContext:wn,useEffect:Zm,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,_o(4194308,4,Qm.bind(null,s,t),r)},useLayoutEffect:function(t,s){return _o(4194308,4,t,s)},useInsertionEffect:function(t,s){_o(4,2,t,s)},useMemo:function(t,s){var r=Mn();s=s===void 0?null:s;var l=t();if(fr){Et(!0);try{t()}finally{Et(!1)}}return r.memoizedState=[l,s],l},useReducer:function(t,s,r){var l=Mn();if(r!==void 0){var d=r(s);if(fr){Et(!0);try{r(s)}finally{Et(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=fw.bind(null,Ge,t),[l.memoizedState,t]},useRef:function(t){var s=Mn();return t={current:t},s.memoizedState=t},useState:function(t){t=Yu(t);var s=t.queue,r=tp.bind(null,Ge,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Pu,useDeferredValue:function(t,s){var r=Mn();return Xu(r,t,s)},useTransition:function(){var t=Yu(!1);return t=Km.bind(null,Ge,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var l=Ge,d=Mn();if(st){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),yt===null)throw Error(i(349));(et&127)!==0||Nm(l,s,r)}d.memoizedState=r;var h={value:r,getSnapshot:s};return d.queue=h,Zm(Cm.bind(null,l,h,t),[t]),l.flags|=2048,ei(9,{destroy:void 0},_m.bind(null,l,h,r,s),null),r},useId:function(){var t=Mn(),s=yt.identifierPrefix;if(st){var r=Zs,l=$s;r=(l&~(1<<32-pt(l)-1)).toString(32)+r,s="_"+s+"R_"+r,r=So++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=rw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:ed,useFormState:Lm,useActionState:Lm,useOptimistic:function(t){var s=Mn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=td.bind(null,Ge,!0,r),r.dispatch=s,[t,s]},useMemoCache:Qu,useCacheRefresh:function(){return Mn().memoizedState=dw.bind(null,Ge)},useEffectEvent:function(t){var s=Mn(),r={impl:t};return s.memoizedState=r,function(){if((ct&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},nd={readContext:wn,use:Eo,useCallback:Gm,useContext:wn,useEffect:Ku,useImperativeHandle:Im,useInsertionEffect:Vm,useLayoutEffect:Fm,useMemo:Ym,useReducer:No,useRef:$m,useState:function(){return No(ta)},useDebugValue:Pu,useDeferredValue:function(t,s){var r=It();return Wm(r,gt.memoizedState,t,s)},useTransition:function(){var t=No(ta)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Xi(t),s]},useSyncExternalStore:Em,useId:Jm,useHostTransitionStatus:ed,useFormState:Um,useActionState:Um,useOptimistic:function(t,s){var r=It();return Am(r,gt,t,s)},useMemoCache:Qu,useCacheRefresh:ep};nd.useEffectEvent=Hm;var rp={readContext:wn,use:Eo,useCallback:Gm,useContext:wn,useEffect:Ku,useImperativeHandle:Im,useInsertionEffect:Vm,useLayoutEffect:Fm,useMemo:Ym,useReducer:Gu,useRef:$m,useState:function(){return Gu(ta)},useDebugValue:Pu,useDeferredValue:function(t,s){var r=It();return gt===null?Xu(r,t,s):Wm(r,gt.memoizedState,t,s)},useTransition:function(){var t=Gu(ta)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Xi(t),s]},useSyncExternalStore:Em,useId:Jm,useHostTransitionStatus:ed,useFormState:qm,useActionState:qm,useOptimistic:function(t,s){var r=It();return gt!==null?Am(r,gt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:ep};rp.useEffectEvent=Hm;function sd(t,s,r,l){s=t.memoizedState,r=r(l,s),r=r==null?s:y({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ad={enqueueSetState:function(t,s,r){t=t._reactInternals;var l=as(),d=Ca(l);d.payload=s,r!=null&&(d.callback=r),s=ka(t,d,l),s!==null&&($n(s,t,l),Yi(s,t,l))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var l=as(),d=Ca(l);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ka(t,d,l),s!==null&&($n(s,t,l),Yi(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=as(),l=Ca(r);l.tag=2,s!=null&&(l.callback=s),s=ka(t,l,r),s!==null&&($n(s,t,r),Yi(s,t,r))}};function ip(t,s,r,l,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,v):s.prototype&&s.prototype.isPureReactComponent?!$i(r,l)||!$i(d,h):!0}function lp(t,s,r,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==t&&ad.enqueueReplaceState(s,s.state,null)}function hr(t,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(t=t.defaultProps){r===s&&(r=y({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function op(t){ro(t)}function cp(t){console.error(t)}function up(t){ro(t)}function To(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function dp(t,s,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rd(t,s,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){To(t,s)},r}function fp(t){return t=Ca(t),t.tag=3,t}function hp(t,s,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;t.payload=function(){return d(h)},t.callback=function(){dp(s,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){dp(s,r,l),typeof d!="function"&&(za===null?za=new Set([this]):za.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function hw(t,s,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&Ir(s,r,d,!0),r=es.current,r!==null){switch(r.tag){case 31:case 13:return xs===null?Zo():r.alternate===null&&qt===0&&(qt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===go?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),Ad(t,l,d)),!1;case 22:return r.flags|=65536,l===go?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),Ad(t,l,d)),!1}throw Error(i(435,r.tag))}return Ad(t,l,d),Zo(),!1}if(st)return s=es.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Eu&&(t=Error(i(422),{cause:l}),Vi(hs(t,r)))):(l!==Eu&&(s=Error(i(423),{cause:l}),Vi(hs(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=hs(l,r),d=rd(t.stateNode,l,d),Ou(t,d),qt!==4&&(qt=2)),!1;var h=Error(i(520),{cause:l});if(h=hs(h,r),ol===null?ol=[h]:ol.push(h),qt!==4&&(qt=2),s===null)return!0;l=hs(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=rd(r.stateNode,l,t),Ou(r,t),!1;case 1:if(s=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(za===null||!za.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=fp(d),hp(d,t,r,l),Ou(r,d),!1}r=r.return}while(r!==null);return!1}var id=Error(i(461)),en=!1;function Sn(t,s,r,l){s.child=t===null?xm(s,null,r,l):dr(s,t.child,r,l)}function mp(t,s,r,l,d){r=r.render;var h=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return lr(s),l=Zu(t,s,r,v,h,d),S=Hu(),t!==null&&!en?(Vu(t,s,d),na(t,s,d)):(st&&S&&Su(s),s.flags|=1,Sn(t,s,l,d),s.child)}function pp(t,s,r,l,d){if(t===null){var h=r.type;return typeof h=="function"&&!bu(h)&&h.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=h,gp(t,s,h,l,d)):(t=co(r.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!md(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(v,l)&&t.ref===s.ref)return na(t,s,d)}return s.flags|=1,t=Ks(h,l),t.ref=s.ref,t.return=s,s.child=t}function gp(t,s,r,l,d){if(t!==null){var h=t.memoizedProps;if($i(h,l)&&t.ref===s.ref)if(en=!1,s.pendingProps=l=h,md(t,d))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,na(t,s,d)}return ld(t,s,r,l,d)}function xp(t,s,r,l){var d=l.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,s.child=null;return vp(t,s,h,r,l)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&mo(s,h!==null?h.cachePool:null),h!==null?ym(s,h):Uu(),wm(s);else return l=s.lanes=536870912,vp(t,s,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(mo(s,h.cachePool),ym(s,h),Aa(),s.memoizedState=null):(t!==null&&mo(s,null),Uu(),Aa());return Sn(t,s,d,r),s.child}function tl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vp(t,s,r,l,d){var h=Mu();return h=h===null?null:{parent:Xt._currentValue,pool:h},s.memoizedState={baseLanes:r,cachePool:h},t!==null&&mo(s,null),Uu(),wm(s),t!==null&&Ir(t,s,l,!0),s.childLanes=d,null}function Ao(t,s){return s=Do({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function bp(t,s,r){return dr(s,t.child,null,r),t=Ao(s,s.pendingProps),t.flags|=2,ts(s),s.memoizedState=null,t}function mw(t,s,r){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(st){if(l.mode==="hidden")return t=Ao(s,l),s.lanes=536870912,tl(null,t);if(qu(s),(t=Nt)?(t=Mg(t,gs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:$s,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},r=nm(t),r.return=s,s.child=r,yn=s,Nt=null)):t=null,t===null)throw Ea(s);return s.lanes=536870912,null}return Ao(s,l)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(qu(s),d)if(s.flags&256)s.flags&=-257,s=bp(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(en||Ir(t,s,r,!1),d=(r&t.childLanes)!==0,en||d){if(l=yt,l!==null&&(v=ln(l,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,sr(t,v),$n(l,t,v),id;Zo(),s=bp(t,s,r)}else t=h.treeContext,Nt=vs(v.nextSibling),yn=s,st=!0,ja=null,gs=!1,t!==null&&rm(s,t),s=Ao(s,l),s.flags|=4096;return s}return t=Ks(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Mo(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function ld(t,s,r,l,d){return lr(s),r=Zu(t,s,r,l,void 0,d),l=Hu(),t!==null&&!en?(Vu(t,s,d),na(t,s,d)):(st&&l&&Su(s),s.flags|=1,Sn(t,s,r,d),s.child)}function yp(t,s,r,l,d,h){return lr(s),s.updateQueue=null,r=jm(s,l,r,d),Sm(t),l=Hu(),t!==null&&!en?(Vu(t,s,h),na(t,s,h)):(st&&l&&Su(s),s.flags|=1,Sn(t,s,r,h),s.child)}function wp(t,s,r,l,d){if(lr(s),s.stateNode===null){var h=Hr,v=r.contextType;typeof v=="object"&&v!==null&&(h=wn(v)),h=new r(l,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ad,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=l,h.state=s.memoizedState,h.refs={},Ru(s),v=r.contextType,h.context=typeof v=="object"&&v!==null?wn(v):Hr,h.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(sd(s,r,v,l),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&ad.enqueueReplaceState(h,h.state,null),Ki(s,l,h,d),Wi(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,D=hr(r,S);h.props=D;var Y=h.context,le=r.contextType;v=Hr,typeof le=="object"&&le!==null&&(v=wn(le));var fe=r.getDerivedStateFromProps;le=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||Y!==v)&&lp(s,h,l,v),_a=!1;var X=s.memoizedState;h.state=X,Ki(s,l,h,d),Wi(),Y=s.memoizedState,S||X!==Y||_a?(typeof fe=="function"&&(sd(s,r,fe,l),Y=s.memoizedState),(D=_a||ip(s,r,D,l,X,Y,v))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),h.props=l,h.state=Y,h.context=v,l=D):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{h=s.stateNode,zu(t,s),v=s.memoizedProps,le=hr(r,v),h.props=le,fe=s.pendingProps,X=h.context,Y=r.contextType,D=Hr,typeof Y=="object"&&Y!==null&&(D=wn(Y)),S=r.getDerivedStateFromProps,(Y=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||X!==D)&&lp(s,h,l,D),_a=!1,X=s.memoizedState,h.state=X,Ki(s,l,h,d),Wi();var se=s.memoizedState;v!==fe||X!==se||_a||t!==null&&t.dependencies!==null&&fo(t.dependencies)?(typeof S=="function"&&(sd(s,r,S,l),se=s.memoizedState),(le=_a||ip(s,r,le,l,X,se,D)||t!==null&&t.dependencies!==null&&fo(t.dependencies))?(Y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,se,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,se,D)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=se),h.props=l,h.state=se,h.context=D,l=le):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),l=!1)}return h=l,Mo(t,s),l=(s.flags&128)!==0,h||l?(h=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&l?(s.child=dr(s,t.child,null,d),s.child=dr(s,null,r,d)):Sn(t,s,r,d),s.memoizedState=h.state,t=s.child):t=na(t,s,d),t}function Sp(t,s,r,l){return rr(),s.flags|=256,Sn(t,s,r,l),s.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:dm()}}function ud(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=ss),t}function jp(t,s,r){var l=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(st){if(d?Ta(s):Aa(),(t=Nt)?(t=Mg(t,gs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:$s,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},r=nm(t),r.return=s,s.child=r,yn=s,Nt=null)):t=null,t===null)throw Ea(s);return Id(t)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Aa(),d=s.mode,S=Do({mode:"hidden",children:S},d),l=ar(l,d,r,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=cd(r),l.childLanes=ud(t,v,r),s.memoizedState=od,tl(null,l)):(Ta(s),dd(s,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(h)s.flags&256?(Ta(s),s.flags&=-257,s=fd(t,s,r)):s.memoizedState!==null?(Aa(),s.child=t.child,s.flags|=128,s=null):(Aa(),S=l.fallback,d=s.mode,l=Do({mode:"visible",children:l.children},d),S=ar(S,d,r,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,dr(s,t.child,null,r),l=s.child,l.memoizedState=cd(r),l.childLanes=ud(t,v,r),s.memoizedState=od,s=tl(null,l));else if(Ta(s),Id(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(i(419)),l.stack="",l.digest=v,Vi({value:l,source:null,stack:null}),s=fd(t,s,r)}else if(en||Ir(t,s,r,!1),v=(r&t.childLanes)!==0,en||v){if(v=yt,v!==null&&(l=ln(v,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,sr(t,l),$n(v,t,l),id;Qd(S)||Zo(),s=fd(t,s,r)}else Qd(S)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,Nt=vs(S.nextSibling),yn=s,st=!0,ja=null,gs=!1,t!==null&&rm(s,t),s=dd(s,l.children),s.flags|=4096);return s}return d?(Aa(),S=l.fallback,d=s.mode,D=t.child,Y=D.sibling,l=Ks(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,Y!==null?S=Ks(Y,S):(S=ar(S,d,r,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,tl(null,l),l=s.child,S=t.child.memoizedState,S===null?S=cd(r):(d=S.cachePool,d!==null?(D=Xt._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=dm(),S={baseLanes:S.baseLanes|r,cachePool:d}),l.memoizedState=S,l.childLanes=ud(t,v,r),s.memoizedState=od,tl(t.child,l)):(Ta(s),r=t.child,t=r.sibling,r=Ks(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function dd(t,s){return s=Do({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Do(t,s){return t=Jn(22,t,null,s),t.lanes=0,t}function fd(t,s,r){return dr(s,t.child,null,r),t=dd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ep(t,s,r){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Cu(t.return,s,r)}function hd(t,s,r,l,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Np(t,s,r){var l=s.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var v=Qt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,O(Qt,v),Sn(t,s,l,r),l=st?Hi:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,r,s);else if(t.tag===19)Ep(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&yo(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),hd(s,!1,d,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&yo(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}hd(s,!0,r,null,h,l);break;case"together":hd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function na(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ra|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Ir(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Ks(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Ks(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function md(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&fo(t)))}function pw(t,s,r){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),Na(s,Xt,t.memoizedState.cache),rr();break;case 27:case 5:F(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:Na(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,qu(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ta(s),s.flags|=128,null):(r&s.child.childLanes)!==0?jp(t,s,r):(Ta(s),t=na(t,s,r),t!==null?t.sibling:null);Ta(s);break;case 19:var d=(t.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(Ir(t,s,r,!1),l=(r&s.childLanes)!==0),d){if(l)return Np(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),O(Qt,Qt.current),l)break;return null;case 22:return s.lanes=0,xp(t,s,r,s.pendingProps);case 24:Na(s,Xt,t.memoizedState.cache)}return na(t,s,r)}function _p(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!md(t,r)&&(s.flags&128)===0)return en=!1,pw(t,s,r);en=(t.flags&131072)!==0}else en=!1,st&&(s.flags&1048576)!==0&&am(s,Hi,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=cr(s.elementType),s.type=t,typeof t=="function")bu(t)?(l=hr(t,l),s.tag=1,s=wp(null,s,t,l,r)):(s.tag=0,s=ld(null,s,t,l,r));else{if(t!=null){var d=t.$$typeof;if(d===P){s.tag=11,s=mp(null,s,t,l,r);break e}else if(d===I){s.tag=14,s=pp(null,s,t,l,r);break e}}throw s=pe(t)||t,Error(i(306,s,""))}}return s;case 0:return ld(t,s,s.type,s.pendingProps,r);case 1:return l=s.type,d=hr(l,s.pendingProps),wp(t,s,l,d,r);case 3:e:{if(xe(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var h=s.memoizedState;d=h.element,zu(t,s),Ki(s,l,null,r);var v=s.memoizedState;if(l=v.cache,Na(s,Xt,l),l!==h.cache&&ku(s,[Xt],r,!0),Wi(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Sp(t,s,l,r);break e}else if(l!==d){d=hs(Error(i(424)),s),Vi(d),s=Sp(t,s,l,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=vs(t.firstChild),yn=s,st=!0,ja=null,gs=!0,r=xm(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rr(),l===d){s=na(t,s,r);break e}Sn(t,s,l,r)}s=s.child}return s;case 26:return Mo(t,s),t===null?(r=Ug(s.type,null,s.pendingProps,null))?s.memoizedState=r:st||(r=s.type,t=s.pendingProps,l=Yo(H.current).createElement(r),l[on]=s,l[Ft]=t,jn(l,r,t),Ot(l),s.stateNode=l):s.memoizedState=Ug(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return F(s),t===null&&st&&(l=s.stateNode=zg(s.type,s.pendingProps,H.current),yn=s,gs=!0,d=Nt,Ba(s.type)?(Gd=d,Nt=vs(l.firstChild)):Nt=d),Sn(t,s,s.pendingProps.children,r),Mo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&st&&((d=l=Nt)&&(l=Qw(l,s.type,s.pendingProps,gs),l!==null?(s.stateNode=l,yn=s,Nt=vs(l.firstChild),gs=!1,d=!0):d=!1),d||Ea(s)),F(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,l=h.children,Hd(d,h)?l=null:v!==null&&Hd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Zu(t,s,iw,null,null,r),gl._currentValue=d),Mo(t,s),Sn(t,s,l,r),s.child;case 6:return t===null&&st&&((t=r=Nt)&&(r=Iw(r,s.pendingProps,gs),r!==null?(s.stateNode=r,yn=s,Nt=null,t=!0):t=!1),t||Ea(s)),null;case 13:return jp(t,s,r);case 4:return xe(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=dr(s,null,l,r):Sn(t,s,l,r),s.child;case 11:return mp(t,s,s.type,s.pendingProps,r);case 7:return Sn(t,s,s.pendingProps,r),s.child;case 8:return Sn(t,s,s.pendingProps.children,r),s.child;case 12:return Sn(t,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,Na(s,s.type,l.value),Sn(t,s,l.children,r),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,lr(s),d=wn(d),l=l(d),s.flags|=1,Sn(t,s,l,r),s.child;case 14:return pp(t,s,s.type,s.pendingProps,r);case 15:return gp(t,s,s.type,s.pendingProps,r);case 19:return Np(t,s,r);case 31:return mw(t,s,r);case 22:return xp(t,s,r,s.pendingProps);case 24:return lr(s),l=wn(Xt),t===null?(d=Mu(),d===null&&(d=yt,h=Tu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),s.memoizedState={parent:l,cache:d},Ru(s),Na(s,Xt,d)):((t.lanes&r)!==0&&(zu(t,s),Ki(s,null,null,r),Wi()),d=t.memoizedState,h=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Na(s,Xt,l)):(l=h.cache,Na(s,Xt,l),l!==d.cache&&ku(s,[Xt],r,!0))),Sn(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function sa(t){t.flags|=4}function pd(t,s,r,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Jp())t.flags|=8192;else throw ur=go,Du}else t.flags&=-16777217}function Cp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hg(s))if(Jp())t.flags|=8192;else throw ur=go,Du}function Ro(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?hn():536870912,t.lanes|=s,ai|=s)}function nl(t,s){if(!st)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,s}function gw(t,s,r){var l=s.pendingProps;switch(ju(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return r=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Js(Xt),Ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qr(s)?sa(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nu())),_t(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?(sa(s),h!==null?(_t(s),Cp(s,h)):(_t(s),pd(s,d,null,l,r))):h?h!==t.memoizedState?(sa(s),_t(s),Cp(s,h)):(_t(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&sa(s),_t(s),pd(s,d,t,l,r)),null;case 27:if(Ne(s),r=H.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&sa(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return _t(s),null}t=R.current,Qr(s)?im(s):(t=zg(d,l,r),s.stateNode=t,sa(s))}return _t(s),null;case 5:if(Ne(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&sa(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(h=R.current,Qr(s))im(s);else{var v=Yo(H.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}h[on]=s,h[Ft]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(jn(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sa(s)}}return _t(s),pd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&sa(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=H.current,Qr(s)){if(t=s.stateNode,r=s.memoizedProps,l=null,d=yn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[on]=s,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||jg(t.nodeValue,r)),t||Ea(s,!0)}else t=Yo(t).createTextNode(l),t[on]=s,s.stateNode=t}return _t(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(l=Qr(s),r!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[on]=s}else rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),t=!1}else r=Nu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ts(s),s):(ts(s),null);if((s.flags&128)!==0)throw Error(i(558))}return _t(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Qr(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[on]=s}else rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),d=!1}else d=Nu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ts(s),s):(ts(s),null)}return ts(s),(s.flags&128)!==0?(s.lanes=r,s):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),Ro(s,s.updateQueue),_t(s),null);case 4:return Ee(),t===null&&Ud(s.stateNode.containerInfo),_t(s),null;case 10:return Js(s.type),_t(s),null;case 19:if(Q(Qt),l=s.memoizedState,l===null)return _t(s),null;if(d=(s.flags&128)!==0,h=l.rendering,h===null)if(d)nl(l,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=yo(t),h!==null){for(s.flags|=128,nl(l,!1),t=h.updateQueue,s.updateQueue=t,Ro(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)tm(r,t),r=r.sibling;return O(Qt,Qt.current&1|2),st&&Ps(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&te()>Bo&&(s.flags|=128,d=!0,nl(l,!1),s.lanes=4194304)}else{if(!d)if(t=yo(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Ro(s,t),nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!st)return _t(s),null}else 2*te()-l.renderingStartTime>Bo&&r!==536870912&&(s.flags|=128,d=!0,nl(l,!1),s.lanes=4194304);l.isBackwards?(h.sibling=s.child,s.child=h):(t=l.last,t!==null?t.sibling=h:s.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=te(),t.sibling=null,r=Qt.current,O(Qt,d?r&1|2:r&1),st&&Ps(s,l.treeForkCount),t):(_t(s),null);case 22:case 23:return ts(s),Bu(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),r=s.updateQueue,r!==null&&Ro(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),t!==null&&Q(or),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Js(Xt),_t(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function xw(t,s){switch(ju(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Js(Xt),Ee(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(ts(s),s.alternate===null)throw Error(i(340));rr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));rr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Q(Qt),null;case 4:return Ee(),null;case 10:return Js(s.type),null;case 22:case 23:return ts(s),Bu(),t!==null&&Q(or),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Js(Xt),null;case 25:return null;default:return null}}function kp(t,s){switch(ju(s),s.tag){case 3:Js(Xt),Ee();break;case 26:case 27:case 5:Ne(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&ts(s);break;case 13:ts(s);break;case 19:Q(Qt);break;case 10:Js(s.type);break;case 22:case 23:ts(s),Bu(),t!==null&&Q(or);break;case 24:Js(Xt)}}function sl(t,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var h=r.create,v=r.inst;l=h(),v.destroy=l}r=r.next}while(r!==d)}}catch(S){ht(s,s.return,S)}}function Ma(t,s,r){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var D=r,Y=S;try{Y()}catch(le){ht(d,D,le)}}}l=l.next}while(l!==h)}}catch(le){ht(s,s.return,le)}}function Tp(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{bm(s,r)}catch(l){ht(t,t.return,l)}}}function Ap(t,s,r){r.props=hr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ht(t,s,l)}}function al(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){ht(t,s,d)}}function Hs(t,s){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){ht(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){ht(t,s,d)}else r.current=null}function Mp(t){var s=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){ht(t,t.return,d)}}function gd(t,s,r){try{var l=t.stateNode;qw(l,t.type,r,s),l[Ft]=s}catch(d){ht(t,t.return,d)}}function Dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Pn));else if(l!==4&&(l===27&&Ba(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(vd(t,s,r),t=t.sibling;t!==null;)vd(t,s,r),t=t.sibling}function zo(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(zo(t,s,r),t=t.sibling;t!==null;)zo(t,s,r),t=t.sibling}function Rp(t){var s=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);jn(s,l,r),s[on]=t,s[Ft]=r}catch(h){ht(t,t.return,h)}}var aa=!1,tn=!1,bd=!1,zp=typeof WeakSet=="function"?WeakSet:Set,mn=null;function vw(t,s){if(t=t.containerInfo,$d=tc,t=Ih(t),fu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,S=-1,D=-1,Y=0,le=0,fe=t,X=null;t:for(;;){for(var se;fe!==r||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||l!==0&&fe.nodeType!==3||(D=v+l),fe.nodeType===3&&(v+=fe.nodeValue.length),(se=fe.firstChild)!==null;)X=fe,fe=se;for(;;){if(fe===t)break t;if(X===r&&++Y===d&&(S=v),X===h&&++le===l&&(D=v),(se=fe.nextSibling)!==null)break;fe=X,X=fe.parentNode}fe=se}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zd={focusedElem:t,selectionRange:r},tc=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=s,d=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var Me=hr(r.type,d);t=l.getSnapshotBeforeUpdate(Me,h),l.__reactInternalSnapshotBeforeUpdate=t}catch($e){ht(r,r.return,$e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Fd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function Op(t,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ia(t,r),l&4&&sl(5,r);break;case 1:if(ia(t,r),l&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){ht(r,r.return,v)}else{var d=hr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(r,r.return,v)}}l&64&&Tp(r),l&512&&al(r,r.return);break;case 3:if(ia(t,r),l&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{bm(t,s)}catch(v){ht(r,r.return,v)}}break;case 27:s===null&&l&4&&Rp(r);case 26:case 5:ia(t,r),s===null&&l&4&&Mp(r),l&512&&al(r,r.return);break;case 12:ia(t,r);break;case 31:ia(t,r),l&4&&Bp(t,r);break;case 13:ia(t,r),l&4&&qp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Cw.bind(null,r),Gw(t,r))));break;case 22:if(l=r.memoizedState!==null||aa,!l){s=s!==null&&s.memoizedState!==null||tn,d=aa;var h=tn;aa=l,(tn=s)&&!h?la(t,r,(r.subtreeFlags&8772)!==0):ia(t,r),aa=d,tn=h}break;case 30:break;default:ia(t,r)}}function Lp(t){var s=t.alternate;s!==null&&(t.alternate=null,Lp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Gs(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,Ln=!1;function ra(t,s,r){for(r=r.child;r!==null;)Up(t,s,r),r=r.sibling}function Up(t,s,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ke,r)}catch{}switch(r.tag){case 26:tn||Hs(r,s),ra(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:tn||Hs(r,s);var l=kt,d=Ln;Ba(r.type)&&(kt=r.stateNode,Ln=!1),ra(t,s,r),hl(r.stateNode),kt=l,Ln=d;break;case 5:tn||Hs(r,s);case 6:if(l=kt,d=Ln,kt=null,ra(t,s,r),kt=l,Ln=d,kt!==null)if(Ln)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(r.stateNode)}catch(h){ht(r,s,h)}else try{kt.removeChild(r.stateNode)}catch(h){ht(r,s,h)}break;case 18:kt!==null&&(Ln?(t=kt,Tg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),fi(t)):Tg(kt,r.stateNode));break;case 4:l=kt,d=Ln,kt=r.stateNode.containerInfo,Ln=!0,ra(t,s,r),kt=l,Ln=d;break;case 0:case 11:case 14:case 15:Ma(2,r,s),tn||Ma(4,r,s),ra(t,s,r);break;case 1:tn||(Hs(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ap(r,s,l)),ra(t,s,r);break;case 21:ra(t,s,r);break;case 22:tn=(l=tn)||r.memoizedState!==null,ra(t,s,r),tn=l;break;default:ra(t,s,r)}}function Bp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fi(t)}catch(r){ht(s,s.return,r)}}}function qp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fi(t)}catch(r){ht(s,s.return,r)}}function bw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new zp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new zp),s;default:throw Error(i(435,t.tag))}}function Oo(t,s){var r=bw(t);s.forEach(function(l){if(!r.has(l)){r.add(l);var d=kw.bind(null,t,l);l.then(d,d)}})}function Un(t,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ba(S.type)){kt=S.stateNode,Ln=!1;break e}break;case 5:kt=S.stateNode,Ln=!1;break e;case 3:case 4:kt=S.stateNode.containerInfo,Ln=!0;break e}S=S.return}if(kt===null)throw Error(i(160));Up(h,v,d),kt=null,Ln=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$p(s,t),s=s.sibling}var ks=null;function $p(t,s){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(s,t),Bn(t),l&4&&(Ma(3,t,t.return),sl(3,t),Ma(5,t,t.return));break;case 1:Un(s,t),Bn(t),l&512&&(tn||r===null||Hs(r,r.return)),l&64&&aa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=ks;if(Un(s,t),Bn(t),l&512&&(tn||r===null||Hs(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Rn]||h[on]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),jn(h,l,r),h[on]=t,Ot(h),l=h;break e;case"link":var v=$g("link","href",d).get(l+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(l),jn(h,l,r),d.head.appendChild(h);break;case"meta":if(v=$g("meta","content",d).get(l+(r.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}h=d.createElement(l),jn(h,l,r),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[on]=t,Ot(h),l=h}t.stateNode=l}else Zg(d,t.type,t.stateNode);else t.stateNode=qg(d,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Zg(d,t.type,t.stateNode):qg(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Un(s,t),Bn(t),l&512&&(tn||r===null||Hs(r,r.return)),r!==null&&l&4&&gd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Un(s,t),Bn(t),l&512&&(tn||r===null||Hs(r,r.return)),t.flags&32){d=t.stateNode;try{qs(d,"")}catch(Me){ht(t,t.return,Me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,gd(t,d,r!==null?r.memoizedProps:d)),l&1024&&(bd=!0);break;case 6:if(Un(s,t),Bn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Me){ht(t,t.return,Me)}}break;case 3:if(Po=null,d=ks,ks=Wo(s.containerInfo),Un(s,t),ks=d,Bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{fi(s.containerInfo)}catch(Me){ht(t,t.return,Me)}bd&&(bd=!1,Zp(t));break;case 4:l=ks,ks=Wo(t.stateNode.containerInfo),Un(s,t),Bn(t),ks=l;break;case 12:Un(s,t),Bn(t);break;case 31:Un(s,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oo(t,l)));break;case 13:Un(s,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uo=te()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oo(t,l)));break;case 22:d=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,Y=aa,le=tn;if(aa=Y||d,tn=le||D,Un(s,t),tn=le,aa=Y,Bn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||D||aa||tn||mr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){D=r=s;try{if(h=D.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=D.stateNode;var fe=D.memoizedProps.style,X=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Me){ht(D,D.return,Me)}}}else if(s.tag===6){if(r===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(Me){ht(D,D.return,Me)}}}else if(s.tag===18){if(r===null){D=s;try{var se=D.stateNode;d?Ag(se,!0):Ag(D.stateNode,!1)}catch(Me){ht(D,D.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oo(t,r))));break;case 19:Un(s,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oo(t,l)));break;case 30:break;case 21:break;default:Un(s,t),Bn(t)}}function Bn(t){var s=t.flags;if(s&2){try{for(var r,l=t.return;l!==null;){if(Dp(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=xd(t);zo(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(qs(v,""),r.flags&=-33);var S=xd(t);zo(t,S,v);break;case 3:case 4:var D=r.stateNode.containerInfo,Y=xd(t);vd(t,Y,D);break;default:throw Error(i(161))}}catch(le){ht(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Zp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Zp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ia(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Op(t,s.alternate,s),s=s.sibling}function mr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),mr(s);break;case 1:Hs(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Ap(s,s.return,r),mr(s);break;case 27:hl(s.stateNode);case 26:case 5:Hs(s,s.return),mr(s);break;case 22:s.memoizedState===null&&mr(s);break;case 30:mr(s);break;default:mr(s)}t=t.sibling}}function la(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:la(d,h,r),sl(4,h);break;case 1:if(la(d,h,r),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){ht(l,l.return,Y)}if(l=h,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)vm(D[d],S)}catch(Y){ht(l,l.return,Y)}}r&&v&64&&Tp(h),al(h,h.return);break;case 27:Rp(h);case 26:case 5:la(d,h,r),r&&l===null&&v&4&&Mp(h),al(h,h.return);break;case 12:la(d,h,r);break;case 31:la(d,h,r),r&&v&4&&Bp(d,h);break;case 13:la(d,h,r),r&&v&4&&qp(d,h);break;case 22:h.memoizedState===null&&la(d,h,r),al(h,h.return);break;case 30:break;default:la(d,h,r)}s=s.sibling}}function yd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Fi(r))}function wd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fi(t))}function Ts(t,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hp(t,s,r,l),s=s.sibling}function Hp(t,s,r,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(t,s,r,l),d&2048&&sl(9,s);break;case 1:Ts(t,s,r,l);break;case 3:Ts(t,s,r,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fi(t)));break;case 12:if(d&2048){Ts(t,s,r,l),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ht(s,s.return,D)}}else Ts(t,s,r,l);break;case 31:Ts(t,s,r,l);break;case 13:Ts(t,s,r,l);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?Ts(t,s,r,l):rl(t,s):h._visibility&2?Ts(t,s,r,l):(h._visibility|=2,ti(t,s,r,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&yd(v,s);break;case 24:Ts(t,s,r,l),d&2048&&wd(s.alternate,s);break;default:Ts(t,s,r,l)}}function ti(t,s,r,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=r,D=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:ti(h,v,S,D,d),sl(8,v);break;case 23:break;case 22:var le=v.stateNode;v.memoizedState!==null?le._visibility&2?ti(h,v,S,D,d):rl(h,v):(le._visibility|=2,ti(h,v,S,D,d)),d&&Y&2048&&yd(v.alternate,v);break;case 24:ti(h,v,S,D,d),d&&Y&2048&&wd(v.alternate,v);break;default:ti(h,v,S,D,d)}s=s.sibling}}function rl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,l=s,d=l.flags;switch(l.tag){case 22:rl(r,l),d&2048&&yd(l.alternate,l);break;case 24:rl(r,l),d&2048&&wd(l.alternate,l);break;default:rl(r,l)}s=s.sibling}}var il=8192;function ni(t,s,r){if(t.subtreeFlags&il)for(t=t.child;t!==null;)Vp(t,s,r),t=t.sibling}function Vp(t,s,r){switch(t.tag){case 26:ni(t,s,r),t.flags&il&&t.memoizedState!==null&&r1(r,ks,t.memoizedState,t.memoizedProps);break;case 5:ni(t,s,r);break;case 3:case 4:var l=ks;ks=Wo(t.stateNode.containerInfo),ni(t,s,r),ks=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=il,il=16777216,ni(t,s,r),il=l):ni(t,s,r));break;default:ni(t,s,r)}}function Fp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ll(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];mn=l,Ip(l,t)}Fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qp(t),t=t.sibling}function Qp(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&Ma(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Lo(t)):ll(t);break;default:ll(t)}}function Lo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];mn=l,Ip(l,t)}Fp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),Lo(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Lo(s));break;default:Lo(s)}t=t.sibling}}function Ip(t,s){for(;mn!==null;){var r=mn;switch(r.tag){case 0:case 11:case 15:Ma(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fi(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,mn=l;else e:for(r=t;mn!==null;){l=mn;var d=l.sibling,h=l.return;if(Lp(l),l===r){mn=null;break e}if(d!==null){d.return=h,mn=d;break e}mn=h}}}var yw={getCacheForType:function(t){var s=wn(Xt),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return wn(Xt).controller.signal}},ww=typeof WeakMap=="function"?WeakMap:Map,ct=0,yt=null,Xe=null,et=0,ft=0,ns=null,Da=!1,si=!1,Sd=!1,oa=0,qt=0,Ra=0,pr=0,jd=0,ss=0,ai=0,ol=null,qn=null,Ed=!1,Uo=0,Gp=0,Bo=1/0,qo=null,za=null,cn=0,Oa=null,ri=null,ca=0,Nd=0,_d=null,Yp=null,cl=0,Cd=null;function as(){return(ct&2)!==0&&et!==0?et&-et:B.T!==null?Rd():Tn()}function Wp(){if(ss===0)if((et&536870912)===0||st){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),ss=t}else ss=536870912;return t=es.current,t!==null&&(t.flags|=32),ss}function $n(t,s,r){(t===yt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(ii(t,0),La(t,et,ss,!1)),Dt(t,r),((ct&2)===0||t!==yt)&&(t===yt&&((ct&2)===0&&(pr|=r),qt===4&&La(t,et,ss,!1)),Vs(t))}function Kp(t,s,r){if((ct&6)!==0)throw Error(i(327));var l=!r&&(s&127)===0&&(s&t.expiredLanes)===0||vn(t,s),d=l?Ew(t,s):Td(t,s,!0),h=l;do{if(d===0){si&&!l&&La(t,s,0,!1);break}else{if(r=t.current.alternate,h&&!Sw(r)){d=Td(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=ol;var D=S.current.memoizedState.isDehydrated;if(D&&(ii(S,v).flags|=256),v=Td(S,v,!1),v!==2){if(Sd&&!D){S.errorRecoveryDisabledLanes|=h,pr|=h,d=4;break e}h=qn,qn=d,h!==null&&(qn===null?qn=h:qn.push.apply(qn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){ii(t,0),La(t,s,0,!0);break}e:{switch(l=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:La(l,s,ss,!Da);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Uo+300-te(),10<d)){if(La(l,s,ss,!Da),Ht(l,0,!0)!==0)break e;ca=s,l.timeoutHandle=Cg(Pp.bind(null,l,r,qn,qo,Ed,s,ss,pr,ai,Da,h,"Throttled",-0,0),d);break e}Pp(l,r,qn,qo,Ed,s,ss,pr,ai,Da,h,null,-0,0)}}break}while(!0);Vs(t)}function Pp(t,s,r,l,d,h,v,S,D,Y,le,fe,X,se){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Vp(s,h,fe);var Me=(h&62914560)===h?Uo-te():(h&4194048)===h?Gp-te():0;if(Me=i1(fe,Me),Me!==null){ca=h,t.cancelPendingCommit=Me(rg.bind(null,t,s,h,r,l,d,v,S,D,le,fe,null,X,se)),La(t,h,v,!Y);return}}rg(t,s,h,r,l,d,v,S,D)}function Sw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!Xn(h(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function La(t,s,r,l){s&=~jd,s&=~pr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var h=31-pt(d),v=1<<h;l[h]=-1,d&=~v}r!==0&&Yn(t,r,s)}function $o(){return(ct&6)===0?(ul(0),!1):!0}function kd(){if(Xe!==null){if(ft===0)var t=Xe.return;else t=Xe,Xs=ir=null,Fu(t),Kr=null,Ii=0,t=Xe;for(;t!==null;)kp(t.alternate,t),t=t.return;Xe=null}}function ii(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Hw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ca=0,kd(),yt=t,Xe=r=Ks(t.current,null),et=s,ft=0,ns=null,Da=!1,si=vn(t,s),Sd=!1,ai=ss=jd=pr=Ra=qt=0,qn=ol=null,Ed=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-pt(l),h=1<<d;s|=t[d],l&=~h}return oa=s,io(),r}function Xp(t,s){Ge=null,B.H=el,s===Wr||s===po?(s=mm(),ft=3):s===Du?(s=mm(),ft=4):ft=s===id?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ns=s,Xe===null&&(qt=1,To(t,hs(s,t.current)))}function Jp(){var t=es.current;return t===null?!0:(et&4194048)===et?xs===null:(et&62914560)===et||(et&536870912)!==0?t===xs:!1}function eg(){var t=B.H;return B.H=el,t===null?el:t}function tg(){var t=B.A;return B.A=yw,t}function Zo(){qt=4,Da||(et&4194048)!==et&&es.current!==null||(si=!0),(Ra&134217727)===0&&(pr&134217727)===0||yt===null||La(yt,et,ss,!1)}function Td(t,s,r){var l=ct;ct|=2;var d=eg(),h=tg();(yt!==t||et!==s)&&(qo=null,ii(t,s)),s=!1;var v=qt;e:do try{if(ft!==0&&Xe!==null){var S=Xe,D=ns;switch(ft){case 8:kd(),v=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(s=!0);var Y=ft;if(ft=0,ns=null,li(t,S,D,Y),r&&si){v=0;break e}break;default:Y=ft,ft=0,ns=null,li(t,S,D,Y)}}jw(),v=qt;break}catch(le){Xp(t,le)}while(!0);return s&&t.shellSuspendCounter++,Xs=ir=null,ct=l,B.H=d,B.A=h,Xe===null&&(yt=null,et=0,io()),v}function jw(){for(;Xe!==null;)ng(Xe)}function Ew(t,s){var r=ct;ct|=2;var l=eg(),d=tg();yt!==t||et!==s?(qo=null,Bo=te()+500,ii(t,s)):si=vn(t,s);e:do try{if(ft!==0&&Xe!==null){s=Xe;var h=ns;t:switch(ft){case 1:ft=0,ns=null,li(t,s,h,1);break;case 2:case 9:if(fm(h)){ft=0,ns=null,sg(s);break}s=function(){ft!==2&&ft!==9||yt!==t||(ft=7),Vs(t)},h.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:fm(h)?(ft=0,ns=null,sg(s)):(ft=0,ns=null,li(t,s,h,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var S=Xe;if(v?Hg(v):S.stateNode.complete){ft=0,ns=null;var D=S.sibling;if(D!==null)Xe=D;else{var Y=S.return;Y!==null?(Xe=Y,Ho(Y)):Xe=null}break t}}ft=0,ns=null,li(t,s,h,5);break;case 6:ft=0,ns=null,li(t,s,h,6);break;case 8:kd(),qt=6;break e;default:throw Error(i(462))}}Nw();break}catch(le){Xp(t,le)}while(!0);return Xs=ir=null,B.H=l,B.A=d,ct=r,Xe!==null?0:(yt=null,et=0,io(),qt)}function Nw(){for(;Xe!==null&&!C();)ng(Xe)}function ng(t){var s=_p(t.alternate,t,oa);t.memoizedProps=t.pendingProps,s===null?Ho(t):Xe=s}function sg(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=yp(r,s,s.pendingProps,s.type,void 0,et);break;case 11:s=yp(r,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:Fu(s);default:kp(r,s),s=Xe=tm(s,oa),s=_p(r,s,oa)}t.memoizedProps=t.pendingProps,s===null?Ho(t):Xe=s}function li(t,s,r,l){Xs=ir=null,Fu(s),Kr=null,Ii=0;var d=s.return;try{if(hw(t,d,s,r,et)){qt=1,To(t,hs(r,t.current)),Xe=null;return}}catch(h){if(d!==null)throw Xe=d,h;qt=1,To(t,hs(r,t.current)),Xe=null;return}s.flags&32768?(st||l===1?t=!0:si||(et&536870912)!==0?t=!1:(Da=t=!0,(l===2||l===9||l===3||l===6)&&(l=es.current,l!==null&&l.tag===13&&(l.flags|=16384))),ag(s,t)):Ho(s)}function Ho(t){var s=t;do{if((s.flags&32768)!==0){ag(s,Da);return}t=s.return;var r=gw(s.alternate,s,oa);if(r!==null){Xe=r;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=t}while(s!==null);qt===0&&(qt=5)}function ag(t,s){do{var r=xw(t.alternate,t);if(r!==null){r.flags&=32767,Xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=r}while(t!==null);qt=6,Xe=null}function rg(t,s,r,l,d,h,v,S,D){t.cancelPendingCommit=null;do Vo();while(cn!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=xu,Rt(t,r,h,v,S,D),t===yt&&(Xe=yt=null,et=0),ri=s,Oa=t,ca=r,Nd=h,_d=d,Yp=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tw(Ve,function(){return ug(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,d=K.p,K.p=2,v=ct,ct|=4;try{vw(t,s,r)}finally{ct=v,K.p=d,B.T=l}}cn=1,ig(),lg(),og()}}function ig(){if(cn===1){cn=0;var t=Oa,s=ri,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=K.p;K.p=2;var d=ct;ct|=4;try{$p(s,t);var h=Zd,v=Ih(t.containerInfo),S=h.focusedElem,D=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Qh(S.ownerDocument.documentElement,S)){if(D!==null&&fu(S)){var Y=D.start,le=D.end;if(le===void 0&&(le=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(le,S.value.length);else{var fe=S.ownerDocument||document,X=fe&&fe.defaultView||window;if(X.getSelection){var se=X.getSelection(),Me=S.textContent.length,$e=Math.min(D.start,Me),vt=D.end===void 0?$e:Math.min(D.end,Me);!se.extend&&$e>vt&&(v=vt,vt=$e,$e=v);var q=Fh(S,$e),L=Fh(S,vt);if(q&&L&&(se.rangeCount!==1||se.anchorNode!==q.node||se.anchorOffset!==q.offset||se.focusNode!==L.node||se.focusOffset!==L.offset)){var G=fe.createRange();G.setStart(q.node,q.offset),se.removeAllRanges(),$e>vt?(se.addRange(G),se.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),se.addRange(G))}}}}for(fe=[],se=S;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var de=fe[S];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}tc=!!$d,Zd=$d=null}finally{ct=d,K.p=l,B.T=r}}t.current=s,cn=2}}function lg(){if(cn===2){cn=0;var t=Oa,s=ri,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=K.p;K.p=2;var d=ct;ct|=4;try{Op(t,s.alternate,s)}finally{ct=d,K.p=l,B.T=r}}cn=3}}function og(){if(cn===4||cn===3){cn=0,ie();var t=Oa,s=ri,r=ca,l=Yp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,ri=Oa=null,cg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(za=null),os(r),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=B.T,d=K.p,K.p=2,B.T=null;try{for(var h=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];h(S.value,{componentStack:S.stack})}}finally{B.T=s,K.p=d}}(ca&3)!==0&&Vo(),Vs(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Cd?cl++:(cl=0,Cd=t):cl=0,ul(0)}}function cg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Fi(s)))}function Vo(){return ig(),lg(),og(),ug()}function ug(){if(cn!==5)return!1;var t=Oa,s=Nd;Nd=0;var r=os(ca),l=B.T,d=K.p;try{K.p=32>r?32:r,B.T=null,r=_d,_d=null;var h=Oa,v=ca;if(cn=0,ri=Oa=null,ca=0,(ct&6)!==0)throw Error(i(331));var S=ct;if(ct|=4,Qp(h.current),Hp(h,h.current,v,r),ct=S,ul(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ke,h)}catch{}return!0}finally{K.p=d,B.T=l,cg(t,s)}}function dg(t,s,r){s=hs(r,s),s=rd(t.stateNode,s,2),t=ka(t,s,2),t!==null&&(Dt(t,2),Vs(t))}function ht(t,s,r){if(t.tag===3)dg(t,t,r);else for(;s!==null;){if(s.tag===3){dg(s,t,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){t=hs(r,t),r=fp(2),l=ka(s,r,2),l!==null&&(hp(r,l,s,t),Dt(l,2),Vs(l));break}}s=s.return}}function Ad(t,s,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ww;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(r)||(Sd=!0,d.add(r),t=_w.bind(null,t,s,r),s.then(t,t))}function _w(t,s,r){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,yt===t&&(et&r)===r&&(qt===4||qt===3&&(et&62914560)===et&&300>te()-Uo?(ct&2)===0&&ii(t,0):jd|=r,ai===et&&(ai=0)),Vs(t)}function fg(t,s){s===0&&(s=hn()),t=sr(t,s),t!==null&&(Dt(t,s),Vs(t))}function Cw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),fg(t,r)}function kw(t,s){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),fg(t,r)}function Tw(t,s){return A(t,s)}var Fo=null,oi=null,Md=!1,Qo=!1,Dd=!1,Ua=0;function Vs(t){t!==oi&&t.next===null&&(oi===null?Fo=oi=t:oi=oi.next=t),Qo=!0,Md||(Md=!0,Mw())}function ul(t,s){if(!Dd&&Qo){Dd=!0;do for(var r=!1,l=Fo;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var v=l.suspendedLanes,S=l.pingedLanes;h=(1<<31-pt(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,gg(l,h))}else h=et,h=Ht(l,l===yt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||vn(l,h)||(r=!0,gg(l,h));l=l.next}while(r);Dd=!1}}function Aw(){hg()}function hg(){Qo=Md=!1;var t=0;Ua!==0&&Zw()&&(t=Ua);for(var s=te(),r=null,l=Fo;l!==null;){var d=l.next,h=mg(l,s);h===0?(l.next=null,r===null?Fo=d:r.next=d,d===null&&(oi=r)):(r=l,(t!==0||(h&3)!==0)&&(Qo=!0)),l=d}cn!==0&&cn!==5||ul(t),Ua!==0&&(Ua=0)}function mg(t,s){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-pt(h),S=1<<v,D=d[v];D===-1?((S&r)===0||(S&l)!==0)&&(d[v]=Nn(S,s)):D<=s&&(t.expiredLanes|=S),h&=~S}if(s=yt,r=et,r=Ht(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===s&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||vn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(l!==null&&_(l),os(r)){case 2:case 8:r=qe;break;case 32:r=Ve;break;case 268435456:r=ye;break;default:r=Ve}return l=pg.bind(null,t),r=A(r,l),t.callbackPriority=s,t.callbackNode=r,s}return l!==null&&l!==null&&_(l),t.callbackPriority=2,t.callbackNode=null,2}function pg(t,s){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Vo()&&t.callbackNode!==r)return null;var l=et;return l=Ht(t,t===yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kp(t,l,s),mg(t,te()),t.callbackNode!=null&&t.callbackNode===r?pg.bind(null,t):null)}function gg(t,s){if(Vo())return null;Kp(t,s,!0)}function Mw(){Vw(function(){(ct&6)!==0?A(je,Aw):hg()})}function Rd(){if(Ua===0){var t=Gr;t===0&&(t=Os,Os<<=1,(Os&261888)===0&&(Os=256)),Ua=t}return Ua}function xg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function vg(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Dw(t,s,r,l,d){if(s==="submit"&&r&&r.stateNode===d){var h=xg((d[Ft]||null).action),v=l.submitter;v&&(s=(s=v[Ft]||null)?xg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new no("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var D=v?vg(d,v):new FormData(d);Ju(r,{pending:!0,data:D,method:d.method,action:h},null,D)}}else typeof h=="function"&&(S.preventDefault(),D=v?vg(d,v):new FormData(d),Ju(r,{pending:!0,data:D,method:d.method,action:h},h,D))},currentTarget:d}]})}}for(var zd=0;zd<gu.length;zd++){var Od=gu[zd],Rw=Od.toLowerCase(),zw=Od[0].toUpperCase()+Od.slice(1);Cs(Rw,"on"+zw)}Cs(Wh,"onAnimationEnd"),Cs(Kh,"onAnimationIteration"),Cs(Ph,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(Ky,"onTransitionRun"),Cs(Py,"onTransitionStart"),Cs(Xy,"onTransitionCancel"),Cs(Xh,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function bg(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var h=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],D=S.instance,Y=S.currentTarget;if(S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=Y;try{h(d)}catch(le){ro(le)}d.currentTarget=null,h=D}else for(v=0;v<l.length;v++){if(S=l[v],D=S.instance,Y=S.currentTarget,S=S.listener,D!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=Y;try{h(d)}catch(le){ro(le)}d.currentTarget=null,h=D}}}}function Je(t,s){var r=s[Mr];r===void 0&&(r=s[Mr]=new Set);var l=t+"__bubble";r.has(l)||(yg(s,t,2,!1),r.add(l))}function Ld(t,s,r){var l=0;s&&(l|=4),yg(r,t,l,s)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Io]){t[Io]=!0,Kn.forEach(function(r){r!=="selectionchange"&&(Ow.has(r)||Ld(r,!1,t),Ld(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Io]||(s[Io]=!0,Ld("selectionchange",!1,s))}}function yg(t,s,r,l){switch(Wg(s)){case 2:var d=c1;break;case 8:d=u1;break;default:d=Xd}r=d.bind(null,s,r,t),d=void 0,!nt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function Bd(t,s,r,l,d){var h=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Us(S),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=h=v;continue e}S=S.parentNode}}l=l.return}ae(function(){var Y=h,le=zi(r),fe=[];e:{var X=Jh.get(t);if(X!==void 0){var se=no,Me=t;switch(t){case"keypress":if(Pt(r)===0)break e;case"keydown":case"keyup":se=ky;break;case"focusin":Me="focus",se=lu;break;case"focusout":Me="blur",se=lu;break;case"beforeblur":case"afterblur":se=lu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=My;break;case Wh:case Kh:case Ph:se=by;break;case Xh:se=Ry;break;case"scroll":case"scrollend":se=my;break;case"wheel":se=Oy;break;case"copy":case"cut":case"paste":se=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ah;break;case"toggle":case"beforetoggle":se=Uy}var $e=(s&4)!==0,vt=!$e&&(t==="scroll"||t==="scrollend"),q=$e?X!==null?X+"Capture":null:X;$e=[];for(var L=Y,G;L!==null;){var de=L;if(G=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||G===null||q===null||(de=ke(L,q),de!=null&&$e.push(fl(L,de,G))),vt)break;L=L.return}0<$e.length&&(X=new se(X,Me,null,r,le),fe.push({event:X,listeners:$e}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",X&&r!==Ri&&(Me=r.relatedTarget||r.fromElement)&&(Us(Me)||Me[Wn]))break e;if((se||X)&&(X=le.window===le?le:(X=le.ownerDocument)?X.defaultView||X.parentWindow:window,se?(Me=r.relatedTarget||r.toElement,se=Y,Me=Me?Us(Me):null,Me!==null&&(vt=u(Me),$e=Me.tag,Me!==vt||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(se=null,Me=Y),se!==Me)){if($e=kh,de="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&($e=Ah,de="onPointerLeave",q="onPointerEnter",L="pointer"),vt=se==null?X:Bs(se),G=Me==null?X:Bs(Me),X=new $e(de,L+"leave",se,r,le),X.target=vt,X.relatedTarget=G,de=null,Us(le)===Y&&($e=new $e(q,L+"enter",Me,r,le),$e.target=G,$e.relatedTarget=vt,de=$e),vt=de,se&&Me)t:{for($e=Lw,q=se,L=Me,G=0,de=q;de;de=$e(de))G++;de=0;for(var Le=L;Le;Le=$e(Le))de++;for(;0<G-de;)q=$e(q),G--;for(;0<de-G;)L=$e(L),de--;for(;G--;){if(q===L||L!==null&&q===L.alternate){$e=q;break t}q=$e(q),L=$e(L)}$e=null}else $e=null;se!==null&&wg(fe,X,se,$e,!1),Me!==null&&vt!==null&&wg(fe,vt,Me,$e,!0)}}e:{if(X=Y?Bs(Y):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var lt=Bh;else if(Lh(X))if(qh)lt=Gy;else{lt=Qy;var Re=Fy}else se=X.nodeName,!se||se.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Di(Y.elementType)&&(lt=Bh):lt=Iy;if(lt&&(lt=lt(t,Y))){Uh(fe,lt,r,le);break e}Re&&Re(t,X,Y),t==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ja(X,"number",X.value)}switch(Re=Y?Bs(Y):window,t){case"focusin":(Lh(Re)||Re.contentEditable==="true")&&(qr=Re,hu=Y,Zi=null);break;case"focusout":Zi=hu=qr=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Gh(fe,r,le);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":Gh(fe,r,le)}var Ye;if(cu)e:{switch(t){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Br?zh(t,r)&&(tt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(tt="onCompositionStart");tt&&(Mh&&r.locale!=="ko"&&(Br||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Br&&(Ye=Ur()):(Fe=le,Ws="value"in Fe?Fe.value:Fe.textContent,Br=!0)),Re=Go(Y,tt),0<Re.length&&(tt=new Th(tt,t,null,r,le),fe.push({event:tt,listeners:Re}),Ye?tt.data=Ye:(Ye=Oh(r),Ye!==null&&(tt.data=Ye)))),(Ye=qy?$y(t,r):Zy(t,r))&&(tt=Go(Y,"onBeforeInput"),0<tt.length&&(Re=new Th("onBeforeInput","beforeinput",null,r,le),fe.push({event:Re,listeners:tt}),Re.data=Ye)),Dw(fe,t,Y,r,le)}bg(fe,s)})}function fl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Go(t,s){for(var r=s+"Capture",l=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ke(t,r),d!=null&&l.unshift(fl(t,d,h)),d=ke(t,s),d!=null&&l.push(fl(t,d,h))),t.tag===3)return l;t=t.return}return[]}function Lw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wg(t,s,r,l,d){for(var h=s._reactName,v=[];r!==null&&r!==l;){var S=r,D=S.alternate,Y=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||Y===null||(D=Y,d?(Y=ke(r,h),Y!=null&&v.unshift(fl(r,Y,D))):d||(Y=ke(r,h),Y!=null&&v.push(fl(r,Y,D)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var Uw=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function Sg(t){return(typeof t=="string"?t:""+t).replace(Uw,`
`).replace(Bw,"")}function jg(t,s){return s=Sg(s),Sg(t)===s}function xt(t,s,r,l,d,h){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qs(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qs(t,""+l);break;case"className":us(t,"class",l);break;case"tabIndex":us(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,r,l);break;case"style":eo(t,l,h);break;case"data":if(s!=="object"){us(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(s!=="input"&&xt(t,s,"name",d.name,d,null),xt(t,s,"formEncType",d.formEncType,d,null),xt(t,s,"formMethod",d.formMethod,d,null),xt(t,s,"formTarget",d.formTarget,d,null)):(xt(t,s,"encType",d.encType,d,null),xt(t,s,"method",d.method,d,null),xt(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Pn);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),zr(t,"popover",l);break;case"xlinkActuate":ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ds(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ds(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ds(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ds(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,zr(t,r,l))}}function qd(t,s,r,l,d,h){switch(r){case"style":eo(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof l=="string"?qs(t,l):(typeof l=="number"||typeof l=="bigint")&&qs(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jc.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),h=t[Ft]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zr(t,r,l)}}}function jn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,h,v,r,null)}}d&&xt(t,s,"srcSet",r.srcSet,r,null),l&&xt(t,s,"src",r.src,r,null);return;case"input":Je("invalid",t);var S=h=v=d=null,D=null,Y=null;for(l in r)if(r.hasOwnProperty(l)){var le=r[l];if(le!=null)switch(l){case"name":d=le;break;case"type":v=le;break;case"checked":D=le;break;case"defaultChecked":Y=le;break;case"value":h=le;break;case"defaultValue":S=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:xt(t,s,l,le,r,null)}}Kl(t,h,S,D,Y,v,d,!1);return;case"select":Je("invalid",t),l=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:xt(t,s,d,S,r,null)}s=h,r=v,t.multiple=!!l,s!=null?xa(t,!!l,s,!1):r!=null&&xa(t,!!l,r,!0);return;case"textarea":Je("invalid",t),h=d=l=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:xt(t,s,v,S,r,null)}Xl(t,l,d,h);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xt(t,s,D,l,r,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<dl.length;l++)Je(dl[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(l=r[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,Y,l,r,null)}return;default:if(Di(s)){for(le in r)r.hasOwnProperty(le)&&(l=r[le],l!==void 0&&qd(t,s,le,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&xt(t,s,S,l,r,null))}function qw(t,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,D=null,Y=null,le=null;for(se in r){var fe=r[se];if(r.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":D=fe;default:l.hasOwnProperty(se)||xt(t,s,se,null,l,fe)}}for(var X in l){var se=l[X];if(fe=r[X],l.hasOwnProperty(X)&&(se!=null||fe!=null))switch(X){case"type":h=se;break;case"name":d=se;break;case"checked":Y=se;break;case"defaultChecked":le=se;break;case"value":v=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:se!==fe&&xt(t,s,X,se,l,fe)}}Lr(t,v,S,D,Y,le,h,d);return;case"select":se=v=S=X=null;for(h in r)if(D=r[h],r.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":se=D;default:l.hasOwnProperty(h)||xt(t,s,h,null,l,D)}for(d in l)if(h=l[d],D=r[d],l.hasOwnProperty(d)&&(h!=null||D!=null))switch(d){case"value":X=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==D&&xt(t,s,d,h,l,D)}s=S,r=v,l=se,X!=null?xa(t,!!r,X,!1):!!l!=!!r&&(s!=null?xa(t,!!r,s,!0):xa(t,!!r,r?[]:"",!1));return;case"textarea":se=X=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:xt(t,s,S,null,l,d)}for(v in l)if(d=l[v],h=r[v],l.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":X=d;break;case"defaultValue":se=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&xt(t,s,v,d,l,h)}Pl(t,X,se);return;case"option":for(var Me in r)if(X=r[Me],r.hasOwnProperty(Me)&&X!=null&&!l.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:xt(t,s,Me,null,l,X)}for(D in l)if(X=l[D],se=r[D],l.hasOwnProperty(D)&&X!==se&&(X!=null||se!=null))switch(D){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:xt(t,s,D,X,l,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in r)X=r[$e],r.hasOwnProperty($e)&&X!=null&&!l.hasOwnProperty($e)&&xt(t,s,$e,null,l,X);for(Y in l)if(X=l[Y],se=r[Y],l.hasOwnProperty(Y)&&X!==se&&(X!=null||se!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:xt(t,s,Y,X,l,se)}return;default:if(Di(s)){for(var vt in r)X=r[vt],r.hasOwnProperty(vt)&&X!==void 0&&!l.hasOwnProperty(vt)&&qd(t,s,vt,void 0,l,X);for(le in l)X=l[le],se=r[le],!l.hasOwnProperty(le)||X===se||X===void 0&&se===void 0||qd(t,s,le,X,l,se);return}}for(var q in r)X=r[q],r.hasOwnProperty(q)&&X!=null&&!l.hasOwnProperty(q)&&xt(t,s,q,null,l,X);for(fe in l)X=l[fe],se=r[fe],!l.hasOwnProperty(fe)||X===se||X==null&&se==null||xt(t,s,fe,X,l,se)}function Eg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $w(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&Eg(v)){for(v=0,S=d.responseEnd,l+=1;l<r.length;l++){var D=r[l],Y=D.startTime;if(Y>S)break;var le=D.transferSize,fe=D.initiatorType;le&&Eg(fe)&&(D=D.responseEnd,v+=le*(D<S?1:(S-Y)/(D-Y)))}if(--l,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Zd=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function Ng(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _g(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Hd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vd=null;function Zw(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(t){return kg.resolve(null).then(t).catch(Fw)}:Cg;function Fw(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function Tg(t,s){var r=s,l=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(d),fi(s);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")hl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,hl(r);for(var h=r.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[Rn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&hl(t.ownerDocument.body);r=d}while(r);fi(s)}function Ag(t,s){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Fd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Fd(r),Gs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Qw(t,s,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function Iw(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=vs(t.nextSibling),t===null))return null;return t}function Mg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vs(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gw(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Gd=null;function Dg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return vs(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Rg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function zg(t,s,r){switch(s=Yo(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function hl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Gs(t)}var bs=new Map,Og=new Set;function Wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ua=K.d;K.d={f:Yw,r:Ww,D:Kw,C:Pw,L:Xw,m:Jw,X:t1,S:e1,M:n1};function Yw(){var t=ua.f(),s=$o();return t||s}function Ww(t){var s=_s(t);s!==null&&s.tag===5&&s.type==="form"?Xm(s):ua.r(t)}var ci=typeof document>"u"?null:document;function Lg(t,s,r){var l=ci;if(l&&typeof s=="string"&&s){var d=zn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Og.has(d)||(Og.add(d),t={rel:t,crossOrigin:r,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),jn(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Kw(t){ua.D(t),Lg("dns-prefetch",t,null)}function Pw(t,s){ua.C(t,s),Lg("preconnect",t,s)}function Xw(t,s,r){ua.L(t,s,r);var l=ci;if(l&&t&&s){var d='link[rel="preload"][as="'+zn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+zn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+zn(r.imageSizes)+'"]')):d+='[href="'+zn(t)+'"]';var h=d;switch(s){case"style":h=ui(t);break;case"script":h=di(t)}bs.has(h)||(t=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),bs.set(h,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(ml(h))||s==="script"&&l.querySelector(pl(h))||(s=l.createElement("link"),jn(s,"link",t),Ot(s),l.head.appendChild(s)))}}function Jw(t,s){ua.m(t,s);var r=ci;if(r&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+zn(l)+'"][href="'+zn(t)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=di(t)}if(!bs.has(h)&&(t=y({rel:"modulepreload",href:t},s),bs.set(h,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(pl(h)))return}l=r.createElement("link"),jn(l,"link",t),Ot(l),r.head.appendChild(l)}}}function e1(t,s,r){ua.S(t,s,r);var l=ci;if(l&&t){var d=cs(l).hoistableStyles,h=ui(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(ml(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},r),(r=bs.get(h))&&Yd(t,r);var D=v=l.createElement("link");Ot(D),jn(D,"link",t),D._p=new Promise(function(Y,le){D.onload=Y,D.onerror=le}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ko(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function t1(t,s){ua.X(t,s);var r=ci;if(r&&t){var l=cs(r).hoistableScripts,d=di(t),h=l.get(d);h||(h=r.querySelector(pl(d)),h||(t=y({src:t,async:!0},s),(s=bs.get(d))&&Wd(t,s),h=r.createElement("script"),Ot(h),jn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function n1(t,s){ua.M(t,s);var r=ci;if(r&&t){var l=cs(r).hoistableScripts,d=di(t),h=l.get(d);h||(h=r.querySelector(pl(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=bs.get(d))&&Wd(t,s),h=r.createElement("script"),Ot(h),jn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function Ug(t,s,r,l){var d=(d=H.current)?Wo(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=ui(r.href),r=cs(d).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ui(r.href);var h=cs(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(ml(t)))&&!h._p&&(v.instance=h,v.state.loading=5),bs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bs.set(t,r),h||s1(d,t,r,v.state))),s&&l===null)throw Error(i(528,""));return v}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=di(r),r=cs(d).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ui(t){return'href="'+zn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function Bg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function s1(t,s,r,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),jn(s,"link",r),Ot(s),t.head.appendChild(s))}function di(t){return'[src="'+zn(t)+'"]'}function pl(t){return"script[async]"+t}function qg(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+zn(r.href)+'"]');if(l)return s.instance=l,Ot(l),l;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),jn(l,"style",d),Ko(l,r.precedence,t),s.instance=l;case"stylesheet":d=ui(r.href);var h=t.querySelector(ml(d));if(h)return s.state.loading|=4,s.instance=h,Ot(h),h;l=Bg(r),(d=bs.get(d))&&Yd(l,d),h=(t.ownerDocument||t).createElement("link"),Ot(h);var v=h;return v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),jn(h,"link",l),s.state.loading|=4,Ko(h,r.precedence,t),s.instance=h;case"script":return h=di(r.src),(d=t.querySelector(pl(h)))?(s.instance=d,Ot(d),d):(l=r,(d=bs.get(h))&&(l=y({},r),Wd(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ot(d),jn(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ko(l,r.precedence,t));return s.instance}function Ko(t,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Yd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Wd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Po=null;function $g(t,s,r){if(Po===null){var l=new Map,d=Po=new Map;d.set(r,l)}else d=Po,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[Rn]||h[on]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=l.get(v);S?S.push(h):l.set(v,[h])}}return l}function Zg(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function a1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function r1(t,s,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ui(l.href),h=s.querySelector(ml(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Xo.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=h,Ot(h);return}h=s.ownerDocument||s,l=Bg(l),(d=bs.get(d))&&Yd(l,d),h=h.createElement("link"),Ot(h);var v=h;v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),jn(h,"link",l),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Xo.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Kd=0;function i1(t,s){return t.stylesheets&&t.count===0&&ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&Kd===0&&(Kd=62500*$w());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Kd?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jo=null;function ec(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jo=new Map,s.forEach(l1,t),Jo=null,Xo.call(t))}function l1(t,s){if(!(s.state.loading&4)){var r=Jo.get(t);if(r)var l=r.get(null);else{r=new Map,Jo.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||l,h===l&&r.set(null,d),r.set(v,d),this.count++,l=Xo.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var gl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function o1(t,s,r,l,d,h,v,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Vg(t,s,r,l,d,h,v,S,D,Y,le,fe){return t=new o1(t,s,r,v,D,Y,le,fe,S),s=1,h===!0&&(s|=24),h=Jn(3,null,null,s),t.current=h,h.stateNode=t,s=Tu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:s},Ru(h),t}function Fg(t){return t?(t=Hr,t):Hr}function Qg(t,s,r,l,d,h){d=Fg(d),l.context===null?l.context=d:l.pendingContext=d,l=Ca(s),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=ka(t,l,s),r!==null&&($n(r,t,s),Yi(r,t,s))}function Ig(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Pd(t,s){Ig(t,s),(t=t.alternate)&&Ig(t,s)}function Gg(t){if(t.tag===13||t.tag===31){var s=sr(t,67108864);s!==null&&$n(s,t,67108864),Pd(t,67108864)}}function Yg(t){if(t.tag===13||t.tag===31){var s=as();s=ls(s);var r=sr(t,s);r!==null&&$n(r,t,s),Pd(t,s)}}var tc=!0;function c1(t,s,r,l){var d=B.T;B.T=null;var h=K.p;try{K.p=2,Xd(t,s,r,l)}finally{K.p=h,B.T=d}}function u1(t,s,r,l){var d=B.T;B.T=null;var h=K.p;try{K.p=8,Xd(t,s,r,l)}finally{K.p=h,B.T=d}}function Xd(t,s,r,l){if(tc){var d=Jd(l);if(d===null)Bd(t,s,l,nc,r),Kg(t,l);else if(f1(d,t,s,r,l))l.stopPropagation();else if(Kg(t,l),s&4&&-1<d1.indexOf(t)){for(;d!==null;){var h=_s(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=_e(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var D=1<<31-pt(v);S.entanglements[1]|=D,v&=~D}Vs(h),(ct&6)===0&&(Bo=te()+500,ul(0))}}break;case 31:case 13:S=sr(h,2),S!==null&&$n(S,h,2),$o(),Pd(h,2)}if(h=Jd(l),h===null&&Bd(t,s,l,nc,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else Bd(t,s,l,null,r)}}function Jd(t){return t=zi(t),ef(t)}var nc=null;function ef(t){if(nc=null,t=Us(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return nc=t,null}function Wg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case je:return 2;case qe:return 8;case Ve:case jt:return 32;case ye:return 268435456;default:return 32}default:return 32}}var tf=!1,qa=null,$a=null,Za=null,xl=new Map,vl=new Map,Ha=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(t,s){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(s.pointerId)}}function bl(t,s,r,l,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},s!==null&&(s=_s(s),s!==null&&Gg(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function f1(t,s,r,l,d){switch(s){case"focusin":return qa=bl(qa,t,s,r,l,d),!0;case"dragenter":return $a=bl($a,t,s,r,l,d),!0;case"mouseover":return Za=bl(Za,t,s,r,l,d),!0;case"pointerover":var h=d.pointerId;return xl.set(h,bl(xl.get(h)||null,t,s,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,vl.set(h,bl(vl.get(h)||null,t,s,r,l,d)),!0}return!1}function Pg(t){var s=Us(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,Es(t.priority,function(){Yg(r)});return}}else if(s===31){if(s=m(r),s!==null){t.blockedOn=s,Es(t.priority,function(){Yg(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Jd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ri=l,r.target.dispatchEvent(l),Ri=null}else return s=_s(r),s!==null&&Gg(s),t.blockedOn=r,!1;s.shift()}return!0}function Xg(t,s,r){sc(t)&&r.delete(s)}function h1(){tf=!1,qa!==null&&sc(qa)&&(qa=null),$a!==null&&sc($a)&&($a=null),Za!==null&&sc(Za)&&(Za=null),xl.forEach(Xg),vl.forEach(Xg)}function ac(t,s){t.blockedOn===s&&(t.blockedOn=null,tf||(tf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,h1)))}var rc=null;function Jg(t){rc!==t&&(rc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var s=0;s<t.length;s+=3){var r=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(ef(l||r)===null)continue;break}var h=_s(r);h!==null&&(t.splice(s,3),s-=3,Ju(h,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function fi(t){function s(D){return ac(D,t)}qa!==null&&ac(qa,t),$a!==null&&ac($a,t),Za!==null&&ac(Za,t),xl.forEach(s),vl.forEach(s);for(var r=0;r<Ha.length;r++){var l=Ha[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)Pg(r),r.blockedOn===null&&Ha.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],h=r[l+1],v=d[Ft]||null;if(typeof h=="function")v||Jg(r);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Ft]||null)S=v.formAction;else if(ef(d)!==null)continue}else S=v.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),Jg(r)}}}function ex(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function nf(t){this._internalRoot=t}ic.prototype.render=nf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,l=as();Qg(r,l,t,s,null,null)},ic.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qg(t.current,2,null,t,null,null),$o(),s[Wn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tn();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ha.length&&s!==0&&s<Ha[r].priority;r++);Ha.splice(r,0,t),r===0&&Pg(t)}};var tx=n.version;if(tx!=="19.2.0")throw Error(i(527,tx,"19.2.0"));K.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var m1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ke=lc.inject(m1),it=lc}catch{}}return wl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,l="",d=op,h=cp,v=up;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Vg(t,1,!1,null,null,r,l,null,d,h,v,ex),t[Wn]=s.current,Ud(t),new nf(s)},wl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var l=!1,d="",h=op,v=cp,S=up,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),s=Vg(t,1,!0,s,r??null,l,d,D,h,v,S,ex),s.context=Fg(null),r=s.current,l=as(),l=ls(l),d=Ca(l),d.callback=null,ka(r,d,l),r=l,s.current.lanes=r,Dt(s,r),Vs(s),t[Wn]=s.current,Ud(t),new ic(s)},wl.version="19.2.0",wl}var dx;function j1(){if(dx)return rf.exports;dx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),rf.exports=S1(),rf.exports}var E1=j1();const N1=tv(E1),Bc=p.createContext(null);function _1({children:e}){const[n,a]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(g=>{for(const b of i.current)if(b(g)===!1)return!1;return!0},[]);p.useEffect(()=>{const g=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const j=c.current;window.history.pushState(null,"",`${j.pathname}${j.search}${j.hash}`);return}a(b)};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[u]);const f=p.useCallback(g=>(i.current.add(g),()=>{i.current.delete(g)}),[]),m=p.useCallback((g,b)=>{const y=new URL(g,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},j=`${w.pathname}${w.search}${w.hash}`,T=b?.replace?"replace":"push";u({kind:T,to:j,location:w})&&(b?.replace?window.history.replaceState(null,"",j):window.history.pushState(null,"",j),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),x=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return o.jsx(Bc.Provider,{value:x,children:e})}function Ss(){const e=p.useContext(Bc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function En(){const e=p.useContext(Bc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function C1(e,n=!0){const a=p.useContext(Bc);if(!a)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return a.registerBlocker(e)},[e,a,n])}var Ni=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},T1=class{#e=k1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},yr=new T1;function A1(e){setTimeout(e,0)}var Er=typeof window>"u"||"Deno"in globalThis;function Dn(){}function M1(e,n){return typeof e=="function"?e(n):e}function Cf(e){return typeof e=="number"&&e>=0&&e!==1/0}function sv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ia(e,n){return typeof e=="function"?e(n):e}function ys(e,n){return typeof e=="function"?e(n):e}function fx(e,n){const{type:a="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==Gf(f,n.options))return!1}else if(!Ml(n.queryKey,f))return!1}if(a!=="all"){const x=n.isActive();if(a==="active"&&!x||a==="inactive"&&x)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function hx(e,n){const{exact:a,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(a){if(Nr(n.options.mutationKey)!==Nr(u))return!1}else if(!Ml(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function Gf(e,n){return(n?.queryKeyHashFn||Nr)(e)}function Nr(e){return JSON.stringify(e,(n,a)=>kf(a)?Object.keys(a).sort().reduce((i,c)=>(i[c]=a[c],i),{}):a)}function Ml(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>Ml(e[a],n[a])):!1}var D1=Object.prototype.hasOwnProperty;function av(e,n){if(e===n)return e;const a=mx(e)&&mx(n);if(!a&&!(kf(e)&&kf(n)))return n;const c=(a?e:Object.keys(e)).length,u=a?n:Object.keys(n),f=u.length,m=a?new Array(f):{};let x=0;for(let g=0;g<f;g++){const b=a?g:u[g],y=e[b],w=n[b];if(y===w){m[b]=y,(a?g<c:D1.call(e,b))&&x++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const j=av(y,w);m[b]=j,j===y&&x++}return c===f&&x===c?e:m}function wc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function mx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kf(e){if(!px(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!px(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function px(e){return Object.prototype.toString.call(e)==="[object Object]"}function R1(e){return new Promise(n=>{yr.setTimeout(n,e)})}function Tf(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?av(e,n):n}function z1(e,n,a=0){const i=[...e,n];return a&&i.length>a?i.slice(1):i}function O1(e,n,a=0){const i=[n,...e];return a&&i.length>a?i.slice(0,-1):i}var Yf=Symbol();function rv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===Yf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function iv(e,n){return typeof e=="function"?e(...n):!!e}var L1=class extends Ni{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Er&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Wf=new L1;function Af(){let e,n;const a=new Promise((c,u)=>{e=c,n=u});a.status="pending",a.catch(()=>{});function i(c){Object.assign(a,c),delete a.resolve,delete a.reject}return a.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},a.reject=c=>{i({status:"rejected",reason:c}),n(c)},a}var U1=A1;function B1(){let e=[],n=0,a=m=>{m()},i=m=>{m()},c=U1;const u=m=>{n?e.push(m):c(()=>{a(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(x=>{a(x)})})})};return{batch:m=>{let x;n++;try{x=m()}finally{n--,n||f()}return x},batchCalls:m=>(...x)=>{u(()=>{m(...x)})},schedule:u,setNotifyFunction:m=>{a=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var dn=B1(),q1=class extends Ni{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Er&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},Sc=new q1;function $1(e){return Math.min(1e3*2**e,3e4)}function lv(e){return(e??"online")==="online"?Sc.isOnline():!0}var Mf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ov(e){let n=!1,a=0,i;const c=Af(),u=()=>c.status!=="pending",f=E=>{if(!u()){const z=new Mf(E);w(z),e.onCancel?.(z)}},m=()=>{n=!0},x=()=>{n=!1},g=()=>Wf.isFocused()&&(e.networkMode==="always"||Sc.isOnline())&&e.canRun(),b=()=>lv(e.networkMode)&&e.canRun(),y=E=>{u()||(i?.(),c.resolve(E))},w=E=>{u()||(i?.(),c.reject(E))},j=()=>new Promise(E=>{i=z=>{(u()||g())&&E(z)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let E;const z=a===0?e.initialPromise:void 0;try{E=z??e.fn()}catch(U){E=Promise.reject(U)}Promise.resolve(E).then(y).catch(U=>{if(u())return;const N=e.retry??(Er?0:3),M=e.retryDelay??$1,P=typeof M=="function"?M(a,U):M,$=N===!0||typeof N=="number"&&a<N||typeof N=="function"&&N(a,U);if(n||!$){w(U);return}a++,e.onFail?.(a,U),R1(P).then(()=>g()?void 0:j()).then(()=>{n?w(U):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:x,canStart:b,start:()=>(b()?T():j().then(T),c)}}var cv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cf(this.gcTime)&&(this.#e=yr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Er?1/0:300*1e3))}clearGcTimeout(){this.#e&&(yr.clearTimeout(this.#e),this.#e=void 0)}},Z1=class extends cv{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=gx(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const a=Tf(this.state.data,e,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ia(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!sv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},c=()=>{const m=rv(this.options,n),g=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,g,this):m(g)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=ov({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Mf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(m,x)=>{this.#r({type:"failed",failureCount:m,error:x})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Mf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...uv(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),dn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function uv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gx(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var dv=class extends Ni{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=Af(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xx(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Df(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Df(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!wc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&vx(this.#t,a,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||Ia(this.options.staleTime,this.#t)!==Ia(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return V1(this,a)&&(this.#a=a,this.#i=this.options,this.#s=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Dn)),n}#g(){this.#y();const e=Ia(this.options.staleTime,this.#t);if(Er||this.#a.isStale||!Cf(e))return;const a=sv(this.#a.dataUpdatedAt,e)+1;this.#c=yr.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(Er||ys(this.options.enabled,this.#t)===!1||!Cf(this.#o)||this.#o===0)&&(this.#u=yr.setInterval(()=>{(this.options.refetchIntervalInBackground||Wf.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(yr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(yr.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const a=this.#t,i=this.options,c=this.#a,u=this.#s,f=this.#i,x=e!==a?e.state:this.#n,{state:g}=e;let b={...g},y=!1,w;if(n._optimisticResults){const J=this.hasListeners(),W=!J&&xx(e,n),ee=J&&vx(e,a,n,i);(W||ee)&&(b={...b,...uv(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:j,errorUpdatedAt:T,status:E}=b;w=b.data;let z=!1;if(n.placeholderData!==void 0&&w===void 0&&E==="pending"){let J;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(J=c.data,z=!0):J=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,J!==void 0&&(E="success",w=Tf(c?.data,J,n),y=!0)}if(n.select&&w!==void 0&&!z)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Tf(c?.data,w,n),this.#f=w,this.#r=null}catch(J){this.#r=J}this.#r&&(j=this.#r,w=this.#f,T=Date.now(),E="error");const U=b.fetchStatus==="fetching",N=E==="pending",M=E==="error",P=N&&U,$=w!==void 0,I={status:E,fetchStatus:b.fetchStatus,isPending:N,isSuccess:E==="success",isError:M,isInitialLoading:P,isLoading:P,data:w,dataUpdatedAt:b.dataUpdatedAt,error:j,errorUpdatedAt:T,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>x.dataUpdateCount||b.errorUpdateCount>x.errorUpdateCount,isFetching:U,isRefetching:U&&!N,isLoadingError:M&&!$,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:M&&$,isStale:Kf(e,n),refetch:this.refetch,promise:this.#l,isEnabled:ys(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=re=>{I.status==="error"?re.reject(I.error):I.data!==void 0&&re.resolve(I.data)},W=()=>{const re=this.#l=I.promise=Af();J(re)},ee=this.#l;switch(ee.status){case"pending":e.queryHash===a.queryHash&&J(ee);break;case"fulfilled":(I.status==="error"||I.data!==ee.value)&&W();break;case"rejected":(I.status!=="error"||I.error!==ee.reason)&&W();break}}return I}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),wc(n,e))return;this.#a=n;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#j({listeners:a()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function H1(e,n){return ys(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function xx(e,n){return H1(e,n)||e.state.data!==void 0&&Df(e,n,n.refetchOnMount)}function Df(e,n,a){if(ys(n.enabled,e)!==!1&&Ia(n.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&Kf(e,n)}return!1}function vx(e,n,a,i){return(e!==n||ys(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&Kf(e,a)}function Kf(e,n){return ys(n.enabled,e)!==!1&&e.isStaleByTime(Ia(n.staleTime,e))}function V1(e,n){return!wc(e.getCurrentResult(),n)}function jc(e){return{onFetch:(n,a)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=rv(n.options,n.fetchOptions),j=async(T,E,z)=>{if(b)return Promise.reject();if(E==null&&T.pages.length)return Promise.resolve(T);const N=(()=>{const ne={client:n.client,queryKey:n.queryKey,pageParam:E,direction:z?"backward":"forward",meta:n.options.meta};return y(ne),ne})(),M=await w(N),{maxPages:P}=n.options,$=z?O1:z1;return{pages:$(T.pages,M,P),pageParams:$(T.pageParams,E,P)}};if(c&&u.length){const T=c==="backward",E=T?fv:Rf,z={pages:u,pageParams:f},U=E(i,z);m=await j(z,U,T)}else{const T=e??u.length;do{const E=x===0?f[0]??i.initialPageParam:Rf(i,m);if(x>0&&E==null)break;m=await j(m,E),x++}while(x<T)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(g,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a):n.fetchFn=g}}}function Rf(e,{pages:n,pageParams:a}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,a[i],a):void 0}function fv(e,{pages:n,pageParams:a}){return n.length>0?e.getPreviousPageParam?.(n[0],n,a[0],a):void 0}function F1(e,n){return n?Rf(e,n)!=null:!1}function Q1(e,n){return!n||!e.getPreviousPageParam?!1:fv(e,n)!=null}var I1=class extends dv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:jc()})}getOptimisticResult(e){return e.behavior=jc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:a}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,x=a.fetchMeta?.fetchMore?.direction,g=f&&x==="forward",b=c&&x==="forward",y=f&&x==="backward",w=c&&x==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:F1(n,a.data),hasPreviousPage:Q1(n,a.data),isFetchNextPageError:g,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!g&&!y,isRefetching:u&&!b&&!w}}},G1=class extends cv{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||hv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=ov({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,a);const f=await this.options.onMutate?.(e,a);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,a),await this.options.onError?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,e,this.state.context,a),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function hv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Y1=class extends Ni{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,a){const i=new G1({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:a});return this.add(i),i}add(e){this.#e.add(e);const n=oc(e);if(typeof n=="string"){const a=this.#t.get(n);a?a.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=oc(e);if(typeof n=="string"){const a=this.#t.get(n);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=oc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=oc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(a=>hx(n,a))}findAll(e={}){return this.getAll().filter(n=>hx(e,n))}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}};function oc(e){return e.options.scope?.id}var W1=class extends Ni{#e;#t=void 0;#n;#a;constructor(n,a){super(),this.#e=n,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=this.#e.defaultMutationOptions(n),wc(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&Nr(a.mutationKey)!==Nr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??hv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){dn.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,a,i,c),this.#a.onSettled?.(n.data,null,a,i,c)):n?.type==="error"&&(this.#a.onError?.(n.error,a,i,c),this.#a.onSettled?.(void 0,n.error,a,i,c))}this.listeners.forEach(a=>{a(this.#t)})})}},K1=class extends Ni{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,a){const i=n.queryKey,c=n.queryHash??Gf(i,n);let u=this.get(c);return u||(u=new Z1({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>fx(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>fx(e,a)):n}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},P1=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new K1,this.#t=e.mutationCache||new Y1,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Wf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=this.#e.build(this,n),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Ia(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=M1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...a,manual:!0})}setQueriesData(e,n,a){return dn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;dn.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=this.#e;return dn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},i=dn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(a)));return Promise.all(i).then(Dn).catch(Dn)}invalidateQueries(e,n={}){return dn.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},i=dn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,a);return a.throwOnError||(u=u.catch(Dn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Dn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=this.#e.build(this,n);return a.isStaleByTime(Ia(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dn).catch(Dn)}fetchInfiniteQuery(e){return e.behavior=jc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dn).catch(Dn)}ensureInfiniteQueryData(e){return e.behavior=jc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(Nr(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],a={};return n.forEach(i=>{Ml(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,n){this.#s.set(Nr(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],a={};return n.forEach(i=>{Ml(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Gf(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Yf&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},mv=p.createContext(void 0),Tt=e=>{const n=p.useContext(mv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},X1=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(mv.Provider,{value:e,children:n})),pv=p.createContext(!1),J1=()=>p.useContext(pv);pv.Provider;function eS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tS=p.createContext(eS()),nS=()=>p.useContext(tS),sS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},aS=e=>{p.useEffect(()=>{e.clearReset()},[e])},rS=({result:e,errorResetBoundary:n,throwOnError:a,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||iv(a,[e.error,i])),iS=e=>{if(e.suspense){const a=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>a(i(...c)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lS=(e,n)=>e.isLoading&&e.isFetching&&!n,oS=(e,n)=>e?.suspense&&n.isPending,bx=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function gv(e,n,a){const i=J1(),c=nS(),u=Tt(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",iS(f),sS(f,c),aS(c);const m=!u.getQueryCache().get(f.queryHash),[x]=p.useState(()=>new n(u,f)),g=x.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?x.subscribe(dn.batchCalls(y)):Dn;return x.updateResult(),w},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),p.useEffect(()=>{x.setOptions(f)},[f,x]),oS(f,g))throw bx(f,x,c);if(rS({result:g,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!Er&&lS(g,i)&&(m?bx(f,x,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(Dn).finally(()=>{x.updateResult()}),f.notifyOnChangeProps?g:x.trackResult(g)}function fn(e,n){return gv(e,dv)}function kn(e,n){const a=Tt(),[i]=p.useState(()=>new W1(a,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(dn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch(Dn)},[i]);if(c.error&&iv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function xv(e,n){return gv(e,I1)}const cS="modulepreload",uS=function(e){return"/"+e},yx={},dS=function(n,a,i){let c=Promise.resolve();if(a&&a.length>0){let x=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=x(a.map(g=>{if(g=uS(g),g in yx)return;yx[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":cS,b||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,T)=>{w.addEventListener("load",j),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function fS({children:e}){const[n]=p.useState(()=>new P1({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return o.jsxs(X1,{client:n,children:[e,null]})}const hS=["ade_csrf","backend_app_csrf"];function mS(){return hS}function pS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,a=e.split(";");for(const i of a){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function Pf(){const e=pS();if(!e)return null;for(const n of mS()){const a=e.get(n);if(a)return a}return null}const vv="/api/v1",gS=new Set(["GET","HEAD","OPTIONS"]);class is extends Error{status;problem;constructor(n,a,i){super(n),this.name="ApiError",this.status=a,this.problem=i}}class xS{baseUrl;constructor(n=vv){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,a={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:x,...g}=a,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!gS.has(b)&&!w.has("X-CSRF-Token")){const E=Pf();E&&w.set("X-CSRF-Token",E)}const j=await fetch(y,{...g,method:b,headers:w,body:f,credentials:x??"include"});if(!j.ok){const E=await this.tryParseProblem(j),z=E?.title??`Request failed with status ${j.status}`;throw new is(z,j.status,E)}if(c)return j;if(!i||j.status===204)return;const T=await j.text();return T?JSON.parse(T):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,a){if(a){if(a instanceof Headers){a.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(a)){a.forEach(([i,c])=>n.set(i,c));return}Object.entries(a).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const bv=new xS(vv);function vS(e,n){return bv.request(e,{...n,method:"GET"})}function Xf(e,n,a){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return bv.request(e,{...a,method:"POST",body:i})}const bS=/\{[^{}]+\}/g,yS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function wS(){return Math.random().toString(36).slice(2,11)}function SS(e){let{baseUrl:n="",Request:a=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...x}={...e};m=yS()?m:void 0,n=jx(n);const g=[];async function b(y,w){const{baseUrl:j,fetch:T=i,Request:E=a,headers:z,params:U={},parseAs:N="json",querySerializer:M,bodySerializer:P=u??ES,body:$,middleware:ne=[],...I}=w||{};let J=n;j&&(J=jx(j)??n);let W=typeof c=="function"?c:wx(c);M&&(W=typeof M=="function"?M:wx({...typeof c=="object"?c:{},...M}));const ee=$===void 0?void 0:P($,Sx(f,z,U.header)),re=Sx(ee===void 0||ee instanceof FormData?{}:{"Content-Type":"application/json"},f,z,U.header),ue=[...g,...ne],me={redirect:"follow",...x,...I,body:ee,headers:re};let pe,Se,B=new E(NS(y,{baseUrl:J,params:U,querySerializer:W}),me),K;for(const be in I)be in B||(B[be]=I[be]);if(ue.length){pe=wS(),Se=Object.freeze({baseUrl:J,fetch:T,parseAs:N,querySerializer:W,bodySerializer:P});for(const be of ue)if(be&&typeof be=="object"&&typeof be.onRequest=="function"){const we=await be.onRequest({request:B,schemaPath:y,params:U,options:Se,id:pe});if(we)if(we instanceof E)B=we;else if(we instanceof Response){K=we;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!K){try{K=await T(B,m)}catch(be){let we=be;if(ue.length)for(let k=ue.length-1;k>=0;k--){const Q=ue[k];if(Q&&typeof Q=="object"&&typeof Q.onError=="function"){const O=await Q.onError({request:B,error:we,schemaPath:y,params:U,options:Se,id:pe});if(O){if(O instanceof Response){we=void 0,K=O;break}if(O instanceof Error){we=O;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(we)throw we}if(ue.length)for(let be=ue.length-1;be>=0;be--){const we=ue[be];if(we&&typeof we=="object"&&typeof we.onResponse=="function"){const k=await we.onResponse({request:B,response:K,schemaPath:y,params:U,options:Se,id:pe});if(k){if(!(k instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");K=k}}}}if(K.status===204||B.method==="HEAD"||K.headers.get("Content-Length")==="0")return K.ok?{data:void 0,response:K}:{error:void 0,response:K};if(K.ok)return N==="stream"?{data:K.body,response:K}:{data:await K[N](),response:K};let ge=await K.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:K}}return{request(y,w,j){return b(w,{...j,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");g.push(w)}},eject(...y){for(const w of y){const j=g.indexOf(w);j!==-1&&g.splice(j,1)}}}}function qc(e,n,a){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${a?.allowReserved===!0?n:encodeURIComponent(n)}`}function yv(e,n,a){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const m in n)i.push(m,a.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(a.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=a.style==="deepObject"?`${e}[${f}]`:f;i.push(qc(m,n[f],a))}const u=i.join(c);return a.style==="label"||a.style==="matrix"?`${c}${u}`:u}function wv(e,n,a){if(!Array.isArray(n))return"";if(a.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",f=(a.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(a.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[a.style]||"&",c=[];for(const u of n)a.style==="simple"||a.style==="label"?c.push(a.allowReserved===!0?u:encodeURIComponent(u)):c.push(qc(e,u,a));return a.style==="label"||a.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function wx(e){return function(a){const i=[];if(a&&typeof a=="object")for(const c in a){const u=a[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(wv(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(yv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(qc(c,u,e))}}return i.join("&")}}function jS(e,n){let a=e;for(const i of e.match(bS)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){a=a.replace(i,wv(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){a=a.replace(i,yv(c,m,{style:f,explode:u}));continue}if(f==="matrix"){a=a.replace(i,`;${qc(c,m)}`);continue}a=a.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return a}function ES(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function NS(e,n){let a=`${n.baseUrl}${e}`;n.params?.path&&(a=jS(a,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+=`?${i}`),a}function Sx(...e){const n=new Headers;for(const a of e){if(!a||typeof a!="object")continue;const i=a instanceof Headers?a.entries():Object.entries(a);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function jx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Sv=new Set(["GET","HEAD","OPTIONS","TRACE"]),uf="",Ec=uf.endsWith("/api/v1")?uf.slice(0,-7):uf;function _S(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Ec.length>0?`${Ec}${e}`:e}async function CS(e,n={}){const a=_S(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!Sv.has(c)){const f=Pf();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(a,{credentials:"include",...n,headers:i})}const We=SS({baseUrl:Ec.length>0?Ec:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),kS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Sv.has(n)){const a=Pf();a&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",a)}return e}},TS={async onResponse({response:e}){if(e.ok)return e;const n=await AS(e),a=n?.title??`Request failed with status ${e.status}`;throw new is(a,e.status,n)}};We.use(kS);We.use(TS);async function AS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Rs={root:["auth"],detail:()=>[...Rs.root,"session"],providers:()=>[...Rs.root,"providers"],setupStatus:()=>[...Rs.root,"setup-status"]};async function MS(e={}){try{const{data:n}=await We.GET("/api/v1/auth/session",{signal:e.signal});return OS(n)}catch(n){if(n instanceof is&&(n.status===401||n.status===403))return null;throw n}}async function DS(e={}){try{const{data:n}=await We.GET("/api/v1/auth/providers",{signal:e.signal});return BS(n)}catch(n){if(n instanceof is&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function RS(e,n={}){const{data:a}=await We.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!a)throw new Error("Expected session payload.");return wi(a)}async function zS(e={}){const{data:n}=await We.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return wi(n)}function wi(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}function OS(e){if(!e)return null;if(LS(e))return e.session?wi(e.session):null;if(US(e))return wi(e);throw new Error("Unexpected session payload shape returned by the server.")}function LS(e){if(!e||typeof e!="object")return!1;const n=e;return"session"in n&&"providers"in n&&Array.isArray(n.providers)&&"force_sso"in n}function US(e){return!e||typeof e!="object"?!1:!!e.user}function BS(e){return qS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function qS(e){return!jv(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every($S)}function $S(e){return!jv(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function jv(e){return typeof e=="object"&&e!==null}const Ev=p.createContext(void 0);function cc(e){return e instanceof Error?e:new Error(String(e))}function Ex({session:e,refetch:n,children:a}){return VS(e,n),o.jsx(Ev.Provider,{value:{session:e,refetch:n},children:a})}function ZS(){const e=p.useContext(Ev);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function kr(){return ZS().session}const HS=6e4;function VS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const a=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(a)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(g=>{console.warn("Failed to refetch session after refresh expiry",cc(g))});return}const u=Math.min(a,i)-HS,f=Math.max(u-c,0);let m=!1;const x=window.setTimeout(async()=>{try{if(await zS(),m)return;await n().catch(g=>{console.warn("Failed to refetch session after refresh",cc(g))})}catch(g){if(m)return;console.warn("Failed to refresh session",cc(g)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",cc(b))})}},f);return()=>{m=!0,window.clearTimeout(x)}},[n,e.expires_at,e.refresh_expires_at])}function Nv(e={}){const n=Tt(),a=fn({queryKey:Rs.detail(),queryFn:({signal:c})=>MS({signal:c}),enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=a.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Rs.providers(),exact:!1})},[n,i]),{...a,session:i}}async function FS(e={}){try{const{data:n}=await We.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof is&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function QS(e){const{data:n}=await We.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return wi(n)}function Jf(e=!0){return fn({queryKey:Rs.setupStatus(),queryFn:({signal:n})=>FS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const $l="/workspaces",IS=new Set(["/","/login","/setup","/logout"]);function GS(e){if(!e)return!0;const n=WS(e);return!!(IS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function YS(e){return`${e.pathname}${e.search}${e.hash}`}function Nx(e){const n=YS(e)||"/";return Nc(n)??$l}function Nc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?$l:GS(n)?null:n}function Dl(e){return Nc(e)??$l}function _v(e){return kv("/login",e)}function Cv(e){return kv("/setup",e)}function kv(e,n){const a=Dl(n),i=new URLSearchParams;a!==$l&&i.set("redirectTo",a);const c=i.toString();return c?`${e}?${c}`:e}function _c(e,n){const a=Nc(e);if(a)return a;const i=Nc(n);return i||$l}function WS(e){let n=e;const a=n.indexOf("#");a>=0&&(n=n.slice(0,a));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function $c({children:e}){const n=Ss(),a=En(),i=Nv(),{session:c,isLoading:u,isError:f,refetch:m}=i,x=!c&&!u&&!f,{data:g,isPending:b,isError:y,isSuccess:w,refetch:j}=Jf(x);return p.useEffect(()=>{if(c||u||f)return;if(x){if(b||y)return;if(w&&g?.requires_setup){const E=Nx(n);a(Cv(E),{replace:!0});return}}const T=Nx(n);a(_v(T),{replace:!0})},[f,u,y,b,w,n,a,c,g?.requires_setup,x]),u?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:o.jsx("p",{children:"Loading your workspace"})}):f?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[o.jsx("p",{children:"We were unable to confirm your session."}),o.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?o.jsx(Ex,{session:c,refetch:m,children:e}):o.jsx(Ex,{session:c,refetch:m,children:e??null}):x&&b?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:o.jsx("p",{children:"Preparing initial setup"})}):x&&y?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[o.jsx("p",{children:"We were unable to check whether ADE is ready."}),o.jsx("button",{onClick:()=>j(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const KS=100,PS=100,XS=100,JS=200;async function ej(e={}){const{page:n,pageSize:a,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof a=="number"&&a>0&&(u.page_size=a),i&&(u.include_total=!0);const{data:f}=await We.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((x,g)=>x.name.localeCompare(g.name));return{...f,items:m}}async function tj(e){const{data:n}=await We.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function nj(e,n){const{data:a}=await We.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace payload.");return a}async function sj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function aj(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace member payload.");return a}async function rj(e,n,a){const{data:i}=await We.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:a});if(!i)throw new Error("Expected workspace member payload.");return i}async function ij(e,n){await We.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function lj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function oj(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected role payload.");return a}async function cj(e,n,a){const{data:i}=await We.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:a});if(!i)throw new Error("Expected role payload.");return i}async function uj(e,n){await We.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function dj(e={}){const{scope:n="global",workspaceId:a,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};a&&(m.workspace_id=a),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:x}=await We.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!x)throw new Error("Expected permission page payload.");return x}const jr={page:1,pageSize:KS,includeTotal:!1},fj={page:1,pageSize:PS,includeTotal:!1},hj={page:1,pageSize:XS,includeTotal:!1},mj={scope:"global",page:1,pageSize:JS,includeTotal:!1},sn={all:()=>["workspaces"],list:(e=jr)=>[...sn.all(),"list",{...e}],detail:e=>[...sn.all(),"detail",e],members:(e,n=fj)=>[...sn.detail(e),"members",{...n}],roles:(e,n=hj)=>[...sn.detail(e),"roles",{...n}],permissions:(e=mj)=>["permissions",{...e}]};function pj(e={}){const n=e.page??jr.page,a=e.pageSize??jr.pageSize,i=e.includeTotal??jr.includeTotal;return{queryKey:sn.list({page:n,pageSize:a,includeTotal:i}),queryFn:({signal:c})=>ej({page:n,pageSize:a,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function Zc(e={}){return fn(pj(e))}const Tv={page:jr.page,pageSize:jr.pageSize,includeTotal:jr.includeTotal};function df(e){return e instanceof Error?e:new Error(String(e))}function Ya(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",df(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.warn("Failed to write to storage",df(a))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",df(n))}}}}const gj="backend.app.active_workspace",zf=Ya(gj);function xj(){return zf.get()}function vj(e){if(!e){zf.clear();return}zf.set(e.id)}function Av(e){var n,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(a=Av(e[n]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function ve(){for(var e,n,a=0,i="",c=arguments.length;a<c;a++)(e=arguments[a])&&(n=Av(e))&&(i&&(i+=" "),i+=n);return i}const Mv=p.createContext(void 0);function bj({workspace:e,workspaces:n,children:a}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return o.jsx(Mv.Provider,{value:i,children:a})}function Ka(){const e=p.useContext(Mv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var fa=nv();const yj=[{id:"explorer",label:"Explorer",icon:o.jsx(Sj,{})},{id:"search",label:"Search",icon:o.jsx(jj,{})},{id:"scm",label:"Source Control",icon:o.jsx(Ej,{})},{id:"extensions",label:"Extensions",icon:o.jsx(Nj,{})}];function wj({activeView:e,onSelectView:n,onOpenSettings:a,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return o.jsxs("aside",{className:ve("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[o.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:yj.map(u=>{const f=e===u.id;return o.jsxs("button",{type:"button",onClick:()=>n(u.id),className:ve("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:ve(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?o.jsx("span",{className:ve("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),o.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:o.jsx("button",{type:"button",onClick:a,className:ve("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:o.jsx(_j,{})})})]})}function Sj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),o.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function jj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Ej(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),o.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Nj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),o.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function _j(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const eh=p.createContext(null);function th({value:e,onValueChange:n,children:a}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),x=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),g=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:x,getValues:g}),[e,n,i,f,m,x,g]);return o.jsx(eh.Provider,{value:b,children:a})}function nh({children:e,...n}){return o.jsx("div",{role:"tablist",...n,children:e})}function Cc({value:e,children:n,className:a,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(eh);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:x,unregisterValue:g,focusValue:b,getValues:y}=m,w=m.value===e,j=`${m.baseId}-tab-${e}`,T=`${m.baseId}-panel-${e}`,E=p.useCallback(U=>{x(e,U)},[x,e]);p.useLayoutEffect(()=>()=>g(e),[g,e]);const z=U=>{if(c?.(U),U.defaultPrevented)return;const N=y(),M=N.indexOf(e);if(M===-1||N.length===0)return;let P=M;U.key==="ArrowRight"?(U.preventDefault(),P=(M+1)%N.length):U.key==="ArrowLeft"?(U.preventDefault(),P=(M-1+N.length)%N.length):U.key==="Home"?(U.preventDefault(),P=0):U.key==="End"&&(U.preventDefault(),P=N.length-1);const $=N[P];$&&$!==m.value&&m.setValue($),b($)};return o.jsx("button",{...f,ref:E,type:"button",role:"tab",id:j,"aria-selected":w,"aria-controls":T,tabIndex:w?0:-1,className:a,disabled:u,onKeyDown:z,onClick:U=>{i?.(U),!U.defaultPrevented&&!u&&m.setValue(e)},children:n})}function vi({value:e,children:n,className:a,...i}){const c=p.useContext(eh);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return o.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:a,hidden:!u,tabIndex:0,children:n})}function Dv({artifact:e}){return e.tables.length?o.jsx("div",{className:"space-y-3",children:e.tables.map(n=>o.jsxs("div",{className:"rounded-md border border-slate-200 bg-white px-3 py-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:[n.source_file,n.source_sheet?`  ${n.source_sheet}`:"",n.table_index>1?` (table ${n.table_index})`:""]}),o.jsxs("p",{className:"text-[11px] text-slate-500",children:["Header row ",n.header.row_index,", ",n.header.cells.length," columns"]})]}),o.jsxs("div",{className:"mt-2 grid gap-2 sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded border border-emerald-100 bg-emerald-50 px-2 py-1",children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-600",children:"Mapped columns"}),n.mapped_columns.length?o.jsx("ul",{className:"mt-1 space-y-0.5 text-xs text-emerald-700",children:n.mapped_columns.map(a=>o.jsxs("li",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-emerald-700",children:a.field}),o.jsxs("span",{className:"truncate",children:[" ",a.header]})]},`${a.field}-${a.source_column_index}`))}):o.jsx("p",{className:"text-[11px] text-emerald-700",children:"None mapped"})]}),o.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Unmapped columns"}),n.unmapped_columns.length?o.jsx("ul",{className:"mt-1 space-y-0.5 text-xs text-slate-700",children:n.unmapped_columns.map(a=>o.jsxs("li",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-slate-700",children:a.output_header}),o.jsxs("span",{className:"truncate",children:["from column ",a.source_column_index]})]},`${a.output_header}-${a.source_column_index}`))}):o.jsx("p",{className:"text-[11px] text-slate-600",children:"No unmapped columns"})]}),o.jsxs("div",{className:"rounded border border-amber-100 bg-amber-50 px-2 py-1",children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-amber-700",children:"Validation issues"}),n.validation_issues.length?o.jsxs("ul",{className:"mt-1 space-y-0.5 text-xs text-amber-800",children:[n.validation_issues.slice(0,4).map((a,i)=>o.jsxs("li",{className:"flex flex-wrap items-center gap-1",children:[o.jsx("span",{className:"rounded bg-white px-1 py-0.5 text-[10px] font-semibold text-amber-700",children:a.severity}),o.jsxs("span",{className:"truncate",children:["Row ",a.row_index,", ",a.field,": ",a.code]})]},`${a.field}-${a.row_index}-${i}`)),n.validation_issues.length>4?o.jsxs("li",{className:"text-[11px] text-amber-700",children:["+",n.validation_issues.length-4," more validation issues"]}):null]}):o.jsx("p",{className:"text-[11px] text-amber-700",children:"No validation issues"})]})]})]},`${n.source_file}-${n.source_sheet??""}-${n.table_index}`))}):o.jsx("p",{className:"text-xs text-slate-500",children:"No tables recorded in the artifact."})}function Rv({events:e}){if(!e.length)return o.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=c.event.level??"info";return i[u]=(i[u]??0)+1,i},{}),a=e.slice(-6).reverse();return o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>o.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),o.jsx("ul",{className:"space-y-1",children:a.map(i=>o.jsxs("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[o.jsx("span",{className:"font-semibold",children:i.event.event}),o.jsx("span",{className:"text-[11px] text-slate-500",children:Cj(i.timestamp)})]}),o.jsxs("p",{className:"text-[11px] text-slate-600",children:["Level: ",i.event.level]})]},`${i.timestamp}-${i.event.event}`))})]})}function Cj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function kj({height:e,consoleLines:n,validation:a,activePane:i,onPaneChange:c,latestRun:u}){const f=n.length>0,m=Oj(a),x=Bj(a);return o.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:o.jsxs(th,{value:i,onValueChange:g=>c(g),children:[o.jsx("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-2",children:o.jsxs(nh,{className:"flex items-center gap-2",children:[o.jsx(Cc,{value:"console",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Console"}),o.jsx(Cc,{value:"validation",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Validation"})]})}),o.jsx(vi,{value:"console",className:"flex min-h-0 flex-1 flex-col",children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[o.jsxs("div",{className:"flex flex-none items-center gap-3 border-b border-white/5 bg-slate-950/80 px-4 py-2 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[o.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),o.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"})]}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[u?o.jsx(Tj,{summary:u}):null,f?o.jsx("ul",{className:"divide-y divide-white/5",children:n.map((g,b)=>o.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-2",children:[o.jsx("span",{className:"text-[11px] text-slate-500 tabular-nums whitespace-nowrap",children:Uj(g.timestamp)}),o.jsx("span",{className:ve("text-[11px] uppercase tracking-[0.3em]",Dj(g.level)),children:Rj(g.level)}),o.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[o.jsx("span",{className:ve("text-sm",Aj(g.level)),children:"$"}),o.jsx("span",{className:ve("flex-1 whitespace-pre-wrap break-words",Mj(g.level)),children:g.message})]})]},`${g.timestamp??b}-${g.message}`))}):o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[o.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),o.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Start a build or run validation to stream live logs in this terminal window."})]})]})]})}),o.jsx(vi,{value:"validation",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[o.jsx("span",{children:m}),a.lastRunAt?o.jsxs("span",{children:["Last run ",Lj(a.lastRunAt)]}):null]}),a.messages.length>0?o.jsx("ul",{className:"space-y-2",children:a.messages.map((g,b)=>o.jsxs("li",{className:zj(g.level),children:[g.path?o.jsx("span",{className:"block text-xs font-medium uppercase tracking-wide text-slate-500",children:g.path}):null,o.jsx("span",{children:g.message})]},`${g.level}-${g.path??b}-${b}`))}):o.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:x})]})})]})})}function Tj({summary:e}){const n=e.status.charAt(0).toUpperCase()+e.status.slice(1);return o.jsxs("section",{className:"border-b border-white/5 bg-slate-900/60 px-4 py-3 text-[13px] text-slate-100",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-slate-50",title:e.runId,children:["Run ",e.runId]}),o.jsxs("p",{className:"text-xs text-slate-400",children:["Status: ",n]}),e.documentName?o.jsxs("p",{className:"text-xs text-slate-400",children:["Document: ",e.documentName]}):null,e.sheetNames?o.jsxs("p",{className:"text-xs text-slate-400",children:["Worksheets:",e.sheetNames.length===0?" All worksheets":` ${e.sheetNames.join(", ")}`]}):null]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("a",{href:`${e.downloadBase}/artifact`,className:"inline-flex items-center rounded border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-100 hover:bg-slate-800",children:"Download artifact"}),o.jsx("a",{href:`${e.downloadBase}/logfile`,className:"inline-flex items-center rounded border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-100 hover:bg-slate-800",children:"Download telemetry"})]})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Output files"}),e.error?o.jsx("p",{className:"text-xs text-rose-300",children:e.error}):e.outputsLoaded?e.outputs.length>0?o.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-100",children:e.outputs.map(a=>o.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-white/10 px-2 py-1",children:[o.jsx("a",{href:`${e.downloadBase}/outputs/${a.path.split("/").map(encodeURIComponent).join("/")}`,className:"text-emerald-400 hover:underline",children:a.path}),o.jsxs("span",{className:"text-[11px] text-slate-400",children:[a.byte_size.toLocaleString()," bytes"]})]},a.path))}):o.jsx("p",{className:"text-xs text-slate-400",children:"No output files were generated."}):o.jsx("p",{className:"text-xs text-slate-400",children:"Loading outputs"})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Artifact summary"}),e.artifactError?o.jsx("p",{className:"text-xs text-rose-300",children:e.artifactError}):e.artifactLoaded?e.artifact?o.jsx(Dv,{artifact:e.artifact}):o.jsx("p",{className:"text-xs text-slate-400",children:"Artifact not available."}):o.jsx("p",{className:"text-xs text-slate-400",children:"Loading artifact"})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-white/10 bg-slate-950/70 px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Telemetry summary"}),e.telemetryError?o.jsx("p",{className:"text-xs text-rose-300",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?o.jsx(Rv,{events:[...e.telemetry]}):o.jsx("p",{className:"text-xs text-slate-400",children:"No telemetry events captured."}):o.jsx("p",{className:"text-xs text-slate-400",children:"Loading telemetry"})]})]})}const _x={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},Cx={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},kx={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},Tx={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function Aj(e){return _x[e]??_x.info}function Mj(e){return Cx[e]??Cx.info}function Dj(e){return kx[e]??kx.info}function Rj(e){return Tx[e]??Tx.info}function zj(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function Oj(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function Lj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Uj(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),a=Date.parse(n);return!Number.isNaN(a)&&n.includes("T")?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function Bj(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function qj(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Hc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _i(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function sh(e){return"nodeType"in e}function Qn(e){var n,a;return e?_i(e)?e:sh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function ah(e){const{Document:n}=Qn(e);return e instanceof n}function Zl(e){return _i(e)?!1:e instanceof Qn(e).HTMLElement}function zv(e){return e instanceof Qn(e).SVGElement}function Ci(e){return e?_i(e)?e.document:sh(e)?ah(e)?e:Zl(e)||zv(e)?e.ownerDocument:document:document:document}const Qs=Hc?p.useLayoutEffect:p.useEffect;function rh(e){const n=p.useRef(e);return Qs(()=>{n.current=e}),p.useCallback(function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function $j(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Rl(e,n){n===void 0&&(n=[e]);const a=p.useRef(e);return Qs(()=>{a.current!==e&&(a.current=e)},n),a}function Hl(e,n){const a=p.useRef();return p.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function kc(e){const n=rh(e),a=p.useRef(null),i=p.useCallback(c=>{c!==a.current&&n?.(c,a.current),a.current=c},[]);return[a,i]}function Of(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let ff={};function Vl(e,n){return p.useMemo(()=>{if(n)return n;const a=ff[e]==null?0:ff[e]+1;return ff[e]=a,e+"-"+a},[e,n])}function Ov(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[x,g]of m){const b=u[x];b!=null&&(u[x]=b+e*g)}return u},{...n})}}const bi=Ov(1),Tc=Ov(-1);function Zj(e){return"clientX"in e&&"clientY"in e}function ih(e){if(!e)return!1;const{KeyboardEvent:n}=Qn(e.target);return n&&e instanceof n}function Hj(e){if(!e)return!1;const{TouchEvent:n}=Qn(e.target);return n&&e instanceof n}function Lf(e){if(Hj(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return Zj(e)?{x:e.clientX,y:e.clientY}:null}const zl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[zl.Translate.toString(e),zl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Ax="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vj(e){return e.matches(Ax)?e:e.querySelector(Ax)}const Fj={display:"none"};function Qj(e){let{id:n,value:a}=e;return bt.createElement("div",{id:n,style:Fj},a)}function Ij(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return bt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},a)}function Gj(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Lv=p.createContext(null);function Yj(e){const n=p.useContext(Lv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function Wj(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const Kj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Pj={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Xj(e){let{announcements:n=Pj,container:a,hiddenTextDescribedById:i,screenReaderInstructions:c=Kj}=e;const{announce:u,announcement:f}=Gj(),m=Vl("DndLiveRegion"),[x,g]=p.useState(!1);if(p.useEffect(()=>{g(!0)},[]),Yj(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:j}=y;n.onDragMove&&u(n.onDragMove({active:w,over:j}))},onDragOver(y){let{active:w,over:j}=y;u(n.onDragOver({active:w,over:j}))},onDragEnd(y){let{active:w,over:j}=y;u(n.onDragEnd({active:w,over:j}))},onDragCancel(y){let{active:w,over:j}=y;u(n.onDragCancel({active:w,over:j}))}}),[u,n])),!x)return null;const b=bt.createElement(bt.Fragment,null,bt.createElement(Qj,{id:i,value:c.draggable}),bt.createElement(Ij,{id:m,announcement:f}));return a?fa.createPortal(b,a):b}var un;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function Ac(){}function Jj(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function eE(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const zs=Object.freeze({x:0,y:0});function tE(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function nE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return a-i}function sE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function aE(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function Mx(e,n,a){return n===void 0&&(n=e.left),a===void 0&&(a=e.top),{x:n+e.width*.5,y:a+e.height*.5}}const rE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=Mx(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,x=a.get(m);if(x){const g=tE(Mx(x),c);u.push({id:m,data:{droppableContainer:f,value:g}})}}return u.sort(nE)};function iE(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-a;if(i<c&&a<u){const x=n.width*n.height,g=e.width*e.height,b=f*m,y=b/(x+g-b);return Number(y.toFixed(4))}return 0}const lE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=a.get(f);if(m){const x=iE(m,n);x>0&&c.push({id:f,data:{droppableContainer:u,value:x}})}}return c.sort(sE)};function oE(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function Uv(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:zs}function cE(e){return function(a){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...a})}}const uE=cE(1);function dE(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function fE(e,n,a){const i=dE(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,x=e.left-f-(1-c)*parseFloat(a),g=e.top-m-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:g,right:x+b,bottom:g+y,left:x}}const hE={ignoreTransform:!1};function ki(e,n){n===void 0&&(n=hE);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:b}=Qn(e).getComputedStyle(e);g&&(a=fE(a,g,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:x}=a;return{top:i,left:c,width:u,height:f,bottom:m,right:x}}function Dx(e){return ki(e,{ignoreTransform:!0})}function mE(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function pE(e,n){return n===void 0&&(n=Qn(e).getComputedStyle(e)),n.position==="fixed"}function gE(e,n){n===void 0&&(n=Qn(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?a.test(u):!1})}function lh(e,n){const a=[];function i(c){if(n!=null&&a.length>=n||!c)return a;if(ah(c)&&c.scrollingElement!=null&&!a.includes(c.scrollingElement))return a.push(c.scrollingElement),a;if(!Zl(c)||zv(c)||a.includes(c))return a;const u=Qn(e).getComputedStyle(c);return c!==e&&gE(c,u)&&a.push(c),pE(c,u)?a:i(c.parentNode)}return e?i(e):a}function Bv(e){const[n]=lh(e,1);return n??null}function hf(e){return!Hc||!e?null:_i(e)?e:sh(e)?ah(e)||e===Ci(e).scrollingElement?window:Zl(e)?e:null:null}function qv(e){return _i(e)?e.scrollX:e.scrollLeft}function $v(e){return _i(e)?e.scrollY:e.scrollTop}function Uf(e){return{x:qv(e),y:$v(e)}}var xn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(xn||(xn={}));function Zv(e){return!Hc||!e?!1:e===document.scrollingElement}function Hv(e){const n={x:0,y:0},a=Zv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const xE={x:.2,y:.2};function vE(e,n,a,i,c){let{top:u,left:f,right:m,bottom:x}=a;i===void 0&&(i=10),c===void 0&&(c=xE);const{isTop:g,isBottom:b,isLeft:y,isRight:w}=Hv(e),j={x:0,y:0},T={x:0,y:0},E={height:n.height*c.y,width:n.width*c.x};return!g&&u<=n.top+E.height?(j.y=xn.Backward,T.y=i*Math.abs((n.top+E.height-u)/E.height)):!b&&x>=n.bottom-E.height&&(j.y=xn.Forward,T.y=i*Math.abs((n.bottom-E.height-x)/E.height)),!w&&m>=n.right-E.width?(j.x=xn.Forward,T.x=i*Math.abs((n.right-E.width-m)/E.width)):!y&&f<=n.left+E.width&&(j.x=xn.Backward,T.x=i*Math.abs((n.left+E.width-f)/E.width)),{direction:j,speed:T}}function bE(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:a,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function Vv(e){return e.reduce((n,a)=>bi(n,Uf(a)),zs)}function yE(e){return e.reduce((n,a)=>n+qv(a),0)}function wE(e){return e.reduce((n,a)=>n+$v(a),0)}function SE(e,n){if(n===void 0&&(n=ki),!e)return;const{top:a,left:i,bottom:c,right:u}=n(e);Bv(e)&&(c<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const jE=[["x",["left","right"],yE],["y",["top","bottom"],wE]];class oh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=lh(a),c=Vv(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of jE)for(const x of f)Object.defineProperty(this,x,{get:()=>{const g=m(i),b=c[u]-g;return this.rect[x]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class El{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var c;(c=this.target)==null||c.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function EE(e){const{EventTarget:n}=Qn(e);return e instanceof n?e:Ci(e)}function mf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function Rx(e){e.preventDefault()}function NE(e){e.stopPropagation()}var ut;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ut||(ut={}));const Fv={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},_E=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case ut.Right:return{...a,x:a.x+25};case ut.Left:return{...a,x:a.x-25};case ut.Down:return{...a,y:a.y+25};case ut.Up:return{...a,y:a.y-25}}};class Qv{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new El(Ci(a)),this.windowListeners=new El(Qn(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&SE(i),a(zs)}handleKeyDown(n){if(ih(n)){const{active:a,context:i,options:c}=this.props,{keyboardCodes:u=Fv,coordinateGetter:f=_E,scrollBehavior:m="smooth"}=c,{code:x}=n;if(u.end.includes(x)){this.handleEnd(n);return}if(u.cancel.includes(x)){this.handleCancel(n);return}const{collisionRect:g}=i.current,b=g?{x:g.left,y:g.top}:zs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:a,context:i.current,currentCoordinates:b});if(y){const w=Tc(y,b),j={x:0,y:0},{scrollableAncestors:T}=i.current;for(const E of T){const z=n.code,{isTop:U,isRight:N,isLeft:M,isBottom:P,maxScroll:$,minScroll:ne}=Hv(E),I=bE(E),J={x:Math.min(z===ut.Right?I.right-I.width/2:I.right,Math.max(z===ut.Right?I.left:I.left+I.width/2,y.x)),y:Math.min(z===ut.Down?I.bottom-I.height/2:I.bottom,Math.max(z===ut.Down?I.top:I.top+I.height/2,y.y))},W=z===ut.Right&&!N||z===ut.Left&&!M,ee=z===ut.Down&&!P||z===ut.Up&&!U;if(W&&J.x!==y.x){const re=E.scrollLeft+w.x,ue=z===ut.Right&&re<=$.x||z===ut.Left&&re>=ne.x;if(ue&&!w.y){E.scrollTo({left:re,behavior:m});return}ue?j.x=E.scrollLeft-re:j.x=z===ut.Right?E.scrollLeft-$.x:E.scrollLeft-ne.x,j.x&&E.scrollBy({left:-j.x,behavior:m});break}else if(ee&&J.y!==y.y){const re=E.scrollTop+w.y,ue=z===ut.Down&&re<=$.y||z===ut.Up&&re>=ne.y;if(ue&&!w.x){E.scrollTo({top:re,behavior:m});return}ue?j.y=E.scrollTop-re:j.y=z===ut.Down?E.scrollTop-$.y:E.scrollTop-ne.y,j.y&&E.scrollBy({top:-j.y,behavior:m});break}}this.handleMove(n,bi(Tc(y,this.referenceCoordinates),j))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qv.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=Fv,onActivation:c}=n,{active:u}=a;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function zx(e){return!!(e&&"distance"in e)}function Ox(e){return!!(e&&"delay"in e)}class ch{constructor(n,a,i){var c;i===void 0&&(i=EE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:f}=u;this.props=n,this.events=a,this.document=Ci(f),this.documentListeners=new El(this.document),this.listeners=new El(i),this.windowListeners=new El(Qn(f)),this.initialCoordinates=(c=Lf(u))!=null?c:zs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,Rx),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,Rx),this.documentListeners.add(ws.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ox(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(zx(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(ws.Click,NE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const x=(a=Lf(n))!=null?a:zs,g=Tc(c,x);if(!i&&m){if(zx(m)){if(m.tolerance!=null&&mf(g,m.tolerance))return this.handleCancel();if(mf(g,m.distance))return this.handleStart()}if(Ox(m)&&mf(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}n.cancelable&&n.preventDefault(),f(x)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const CE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uh extends ch{constructor(n){const{event:a}=n,i=Ci(a.target);super(n,CE,i)}}uh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const kE={move:{name:"mousemove"},end:{name:"mouseup"}};var Bf;(function(e){e[e.RightClick=2]="RightClick"})(Bf||(Bf={}));class TE extends ch{constructor(n){super(n,kE,Ci(n.event.target))}}TE.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Bf.RightClick?!1:(i?.({event:a}),!0)}}];const pf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class AE extends ch{constructor(n){super(n,pf)}static setup(){return window.addEventListener(pf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(pf.move.name,n)};function n(){}}}AE.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:c}=a;return c.length>1?!1:(i?.({event:a}),!0)}}];var Nl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Nl||(Nl={}));var Mc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Mc||(Mc={}));function ME(e){let{acceleration:n,activator:a=Nl.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=Mc.TreeOrder,pointerCoordinates:x,scrollableAncestors:g,scrollableAncestorRects:b,delta:y,threshold:w}=e;const j=RE({delta:y,disabled:!u}),[T,E]=$j(),z=p.useRef({x:0,y:0}),U=p.useRef({x:0,y:0}),N=p.useMemo(()=>{switch(a){case Nl.Pointer:return x?{top:x.y,bottom:x.y,left:x.x,right:x.x}:null;case Nl.DraggableRect:return c}},[a,c,x]),M=p.useRef(null),P=p.useCallback(()=>{const ne=M.current;if(!ne)return;const I=z.current.x*U.current.x,J=z.current.y*U.current.y;ne.scrollBy(I,J)},[]),$=p.useMemo(()=>m===Mc.TreeOrder?[...g].reverse():g,[m,g]);p.useEffect(()=>{if(!u||!g.length||!N){E();return}for(const ne of $){if(i?.(ne)===!1)continue;const I=g.indexOf(ne),J=b[I];if(!J)continue;const{direction:W,speed:ee}=vE(ne,J,N,n,w);for(const re of["x","y"])j[re][W[re]]||(ee[re]=0,W[re]=0);if(ee.x>0||ee.y>0){E(),M.current=ne,T(P,f),z.current=ee,U.current=W;return}}z.current={x:0,y:0},U.current={x:0,y:0},E()},[n,P,i,E,u,f,JSON.stringify(N),JSON.stringify(j),T,g,$,b,JSON.stringify(w)])}const DE={x:{[xn.Backward]:!1,[xn.Forward]:!1},y:{[xn.Backward]:!1,[xn.Forward]:!1}};function RE(e){let{delta:n,disabled:a}=e;const i=Of(n);return Hl(c=>{if(a||!i||!c)return DE;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[xn.Backward]:c.x[xn.Backward]||u.x===-1,[xn.Forward]:c.x[xn.Forward]||u.x===1},y:{[xn.Backward]:c.y[xn.Backward]||u.y===-1,[xn.Forward]:c.y[xn.Forward]||u.y===1}}},[a,n,i])}function zE(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Hl(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function OE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...a,...u]},[]),[e,n])}var Ol;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ol||(Ol={}));var qf;(function(e){e.Optimized="optimized"})(qf||(qf={}));const Lx=new Map;function LE(e,n){let{dragging:a,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:x,strategy:g}=c,b=p.useRef(e),y=z(),w=Rl(y),j=p.useCallback(function(U){U===void 0&&(U=[]),!w.current&&f(N=>N===null?U:N.concat(U.filter(M=>!N.includes(M))))},[w]),T=p.useRef(null),E=Hl(U=>{if(y&&!a)return Lx;if(!U||U===Lx||b.current!==e||u!=null){const N=new Map;for(let M of e){if(!M)continue;if(u&&u.length>0&&!u.includes(M.id)&&M.rect.current){N.set(M.id,M.rect.current);continue}const P=M.node.current,$=P?new oh(x(P),P):null;M.rect.current=$,$&&N.set(M.id,$)}return N}return U},[e,u,a,y,x]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||j()},[a,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||T.current!==null||(T.current=setTimeout(()=>{j(),T.current=null},m))},[m,y,j,...i]),{droppableRects:E,measureDroppableContainers:j,measuringScheduled:u!=null};function z(){switch(g){case Ol.Always:return!1;case Ol.BeforeDragging:return a;default:return!a}}}function Iv(e,n){return Hl(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function UE(e,n){return Iv(e,n)}function BE(e){let{callback:n,disabled:a}=e;const i=rh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function Vc(e){let{callback:n,disabled:a}=e;const i=rh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function qE(e){return new oh(ki(e),e)}function Ux(e,n,a){n===void 0&&(n=qE);const[i,c]=p.useState(null);function u(){c(x=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=x??a)!=null?g:null}const b=n(e);return JSON.stringify(x)===JSON.stringify(b)?x:b})}const f=BE({callback(x){if(e)for(const g of x){const{type:b,target:y}=g;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=Vc({callback:u});return Qs(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function $E(e){const n=Iv(e);return Uv(e,n)}const Bx=[];function ZE(e){const n=p.useRef(e),a=Hl(i=>e?i&&i!==Bx&&e&&n.current&&e.parentNode===n.current.parentNode?i:lh(e):Bx,[e]);return p.useEffect(()=>{n.current=e},[e]),a}function HE(e){const[n,a]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=hf(u.target);f&&a(m=>m?(m.set(f,Uf(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(x=>{const g=hf(x);return g?(g.addEventListener("scroll",c,{passive:!0}),[g,Uf(g)]):null}).filter(x=>x!=null);a(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(x=>{const g=hf(x);g?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>bi(u,f),zs):Vv(e):zs,[e,n])}function qx(e,n){n===void 0&&(n=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},n),p.useEffect(()=>{const i=e!==zs;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Tc(e,a.current):zs}function VE(e){p.useEffect(()=>{if(!Hc)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function FE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{let{eventName:c,handler:u}=i;return a[c]=f=>{u(f,n)},a},{}),[e,n])}function Gv(e){return p.useMemo(()=>e?mE(e):null,[e])}const $x=[];function QE(e,n){n===void 0&&(n=ki);const[a]=e,i=Gv(a?Qn(a):null),[c,u]=p.useState($x);function f(){u(()=>e.length?e.map(x=>Zv(x)?i:new oh(n(x),x)):$x)}const m=Vc({callback:f});return Qs(()=>{m?.disconnect(),f(),e.forEach(x=>m?.observe(x))},[e]),c}function IE(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Zl(n)?n:e}function GE(e){let{measure:n}=e;const[a,i]=p.useState(null),c=p.useCallback(g=>{for(const{target:b}of g)if(Zl(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Vc({callback:c}),f=p.useCallback(g=>{const b=IE(g);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,x]=kc(f);return p.useMemo(()=>({nodeRef:m,rect:a,setRef:x}),[a,m,x])}const YE=[{sensor:uh,options:{}},{sensor:Qv,options:{}}],WE={current:{}},yc={draggable:{measure:Dx},droppable:{measure:Dx,strategy:Ol.WhileDragging,frequency:qf.Optimized},dragOverlay:{measure:ki}};class _l extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const KE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _l,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ac},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yc,measureDroppableContainers:Ac,windowRect:null,measuringScheduled:!1},PE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ac,draggableNodes:new Map,over:null,measureDroppableContainers:Ac},Fc=p.createContext(PE),Yv=p.createContext(KE);function XE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _l}}}function JE(e,n){switch(n.type){case un.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case un.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:a}=n,{id:i}=a,c=new _l(e.droppable.containers);return c.set(i,a),{...e,droppable:{...e.droppable,containers:c}}}case un.SetDroppableDisabled:{const{id:a,key:i,disabled:c}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const f=new _l(e.droppable.containers);return f.set(a,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case un.UnregisterDroppable:{const{id:a,key:i}=n,c=e.droppable.containers.get(a);if(!c||i!==c.key)return e;const u=new _l(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function eN(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:c}=p.useContext(Fc),u=Of(i),f=Of(a?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!ih(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:x,node:g}=m;if(!x.current&&!g.current)return;requestAnimationFrame(()=>{for(const b of[x.current,g.current]){if(!b)continue;const y=Vj(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function tN(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),a):a}function nN(e){return p.useMemo(()=>({draggable:{...yc.draggable,...e?.draggable},droppable:{...yc.droppable,...e?.droppable},dragOverlay:{...yc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function sN(e){let{activeNode:n,measure:a,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Qs(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const b=a(g),y=Uv(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Bv(g);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,a])}const Wv=p.createContext({...zs,scaleX:1,scaleY:1});var Fa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Fa||(Fa={}));const aN=p.memo(function(n){var a,i,c,u;let{id:f,accessibility:m,autoScroll:x=!0,children:g,sensors:b=YE,collisionDetection:y=lE,measuring:w,modifiers:j,...T}=n;const E=p.useReducer(JE,void 0,XE),[z,U]=E,[N,M]=Wj(),[P,$]=p.useState(Fa.Uninitialized),ne=P===Fa.Initialized,{draggable:{active:I,nodes:J,translate:W},droppable:{containers:ee}}=z,re=I!=null?J.get(I):null,ue=p.useRef({initial:null,translated:null}),me=p.useMemo(()=>{var Mt;return I!=null?{id:I,data:(Mt=re?.data)!=null?Mt:WE,rect:ue}:null},[I,re]),pe=p.useRef(null),[Se,B]=p.useState(null),[K,ge]=p.useState(null),be=Rl(T,Object.values(T)),we=Vl("DndDescribedBy",f),k=p.useMemo(()=>ee.getEnabled(),[ee]),Q=nN(w),{droppableRects:O,measureDroppableContainers:R,measuringScheduled:V}=LE(k,{dragging:ne,dependencies:[W.x,W.y],config:Q.droppable}),H=zE(J,I),oe=p.useMemo(()=>K?Lf(K):null,[K]),xe=Ls(),Ee=UE(H,Q.draggable.measure);sN({activeNode:I!=null?J.get(I):null,config:xe.layoutShiftCompensation,initialRect:Ee,measure:Q.draggable.measure});const F=Ux(H,Q.draggable.measure,Ee),Ne=Ux(H?H.parentElement:null),Ce=p.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:J,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=ee.getNodeFor((a=Ce.current.over)==null?void 0:a.id),Oe=GE({measure:Q.dragOverlay.measure}),Ae=(i=Oe.nodeRef.current)!=null?i:H,Qe=ne?(c=Oe.rect)!=null?c:F:null,at=!!(Oe.nodeRef.current&&Oe.rect),rt=$E(at?null:F),Kt=Gv(Ae?Qn(Ae):null),A=ZE(ne?Be??H:null),_=QE(A),C=tN(j,{transform:{x:W.x-rt.x,y:W.y-rt.y,scaleX:1,scaleY:1},activatorEvent:K,active:me,activeNodeRect:F,containerNodeRect:Ne,draggingNodeRect:Qe,over:Ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:A,scrollableAncestorRects:_,windowRect:Kt}),ie=oe?bi(oe,W):null,te=HE(A),ce=qx(te),je=qx(te,[F]),qe=bi(C,ce),Ve=Qe?uE(Qe,C):null,jt=me&&Ve?y({active:me,collisionRect:Ve,droppableRects:O,droppableContainers:k,pointerCoordinates:ie}):null,ye=aE(jt,"id"),[Te,Ze]=p.useState(null),Ke=at?C:bi(C,je),it=oE(Ke,(u=Te?.rect)!=null?u:null,F),Et=p.useRef(null),pt=p.useCallback((Mt,_e)=>{let{sensor:Ht,options:vn}=_e;if(pe.current==null)return;const Nn=J.get(pe.current);if(!Nn)return;const hn=Mt.nativeEvent,_n=new Ht({active:pe.current,activeNode:Nn,event:hn,options:vn,context:Ce,onAbort(Rt){if(!J.get(Rt))return;const{onDragAbort:Vt}=be.current,ln={id:Rt};Vt?.(ln),N({type:"onDragAbort",event:ln})},onPending(Rt,Yn,Vt,ln){if(!J.get(Rt))return;const{onDragPending:os}=be.current,Tn={id:Rt,constraint:Yn,initialCoordinates:Vt,offset:ln};os?.(Tn),N({type:"onDragPending",event:Tn})},onStart(Rt){const Yn=pe.current;if(Yn==null)return;const Vt=J.get(Yn);if(!Vt)return;const{onDragStart:ln}=be.current,ls={activatorEvent:hn,active:{id:Yn,data:Vt.data,rect:ue}};fa.unstable_batchedUpdates(()=>{ln?.(ls),$(Fa.Initializing),U({type:un.DragStart,initialCoordinates:Rt,active:Yn}),N({type:"onDragStart",event:ls}),B(Et.current),ge(hn)})},onMove(Rt){U({type:un.DragMove,coordinates:Rt})},onEnd:Dt(un.DragEnd),onCancel:Dt(un.DragCancel)});Et.current=_n;function Dt(Rt){return async function(){const{active:Vt,collisions:ln,over:ls,scrollAdjustedTranslate:os}=Ce.current;let Tn=null;if(Vt&&os){const{cancelDrop:Es}=be.current;Tn={activatorEvent:hn,active:Vt,collisions:ln,delta:os,over:ls},Rt===un.DragEnd&&typeof Es=="function"&&await Promise.resolve(Es(Tn))&&(Rt=un.DragCancel)}pe.current=null,fa.unstable_batchedUpdates(()=>{U({type:Rt}),$(Fa.Uninitialized),Ze(null),B(null),ge(null),Et.current=null;const Es=Rt===un.DragEnd?"onDragEnd":"onDragCancel";if(Tn){const dt=be.current[Es];dt?.(Tn),N({type:Es,event:Tn})}})}}},[J]),Gn=p.useCallback((Mt,_e)=>(Ht,vn)=>{const Nn=Ht.nativeEvent,hn=J.get(vn);if(pe.current!==null||!hn||Nn.dndKit||Nn.defaultPrevented)return;const _n={active:hn};Mt(Ht,_e.options,_n)===!0&&(Nn.dndKit={capturedBy:_e.sensor},pe.current=vn,pt(Ht,_e))},[J,pt]),Is=OE(b,Gn);VE(b),Qs(()=>{F&&P===Fa.Initializing&&$(Fa.Initialized)},[F,P]),p.useEffect(()=>{const{onDragMove:Mt}=be.current,{active:_e,activatorEvent:Ht,collisions:vn,over:Nn}=Ce.current;if(!_e||!Ht)return;const hn={active:_e,activatorEvent:Ht,collisions:vn,delta:{x:qe.x,y:qe.y},over:Nn};fa.unstable_batchedUpdates(()=>{Mt?.(hn),N({type:"onDragMove",event:hn})})},[qe.x,qe.y]),p.useEffect(()=>{const{active:Mt,activatorEvent:_e,collisions:Ht,droppableContainers:vn,scrollAdjustedTranslate:Nn}=Ce.current;if(!Mt||pe.current==null||!_e||!Nn)return;const{onDragOver:hn}=be.current,_n=vn.get(ye),Dt=_n&&_n.rect.current?{id:_n.id,rect:_n.rect.current,data:_n.data,disabled:_n.disabled}:null,Rt={active:Mt,activatorEvent:_e,collisions:Ht,delta:{x:Nn.x,y:Nn.y},over:Dt};fa.unstable_batchedUpdates(()=>{Ze(Dt),hn?.(Rt),N({type:"onDragOver",event:Rt})})},[ye]),Qs(()=>{Ce.current={activatorEvent:K,active:me,activeNode:H,collisionRect:Ve,collisions:jt,droppableRects:O,draggableNodes:J,draggingNode:Ae,draggingNodeRect:Qe,droppableContainers:ee,over:Te,scrollableAncestors:A,scrollAdjustedTranslate:qe},ue.current={initial:Qe,translated:Ve}},[me,H,jt,Ve,J,Ae,Qe,O,ee,Te,A,qe]),ME({...xe,delta:W,draggingRect:Ve,pointerCoordinates:ie,scrollableAncestors:A,scrollableAncestorRects:_});const Ti=p.useMemo(()=>({active:me,activeNode:H,activeNodeRect:F,activatorEvent:K,collisions:jt,containerNodeRect:Ne,dragOverlay:Oe,draggableNodes:J,droppableContainers:ee,droppableRects:O,over:Te,measureDroppableContainers:R,scrollableAncestors:A,scrollableAncestorRects:_,measuringConfiguration:Q,measuringScheduled:V,windowRect:Kt}),[me,H,F,K,jt,Ne,Oe,J,ee,O,Te,R,A,_,Q,V,Kt]),Os=p.useMemo(()=>({activatorEvent:K,activators:Is,active:me,activeNodeRect:F,ariaDescribedById:{draggable:we},dispatch:U,draggableNodes:J,over:Te,measureDroppableContainers:R}),[K,Is,me,F,U,we,J,Te,R]);return bt.createElement(Lv.Provider,{value:M},bt.createElement(Fc.Provider,{value:Os},bt.createElement(Yv.Provider,{value:Ti},bt.createElement(Wv.Provider,{value:it},g)),bt.createElement(eN,{disabled:m?.restoreFocus===!1})),bt.createElement(Xj,{...m,hiddenTextDescribedById:we}));function Ls(){const Mt=Se?.autoScrollEnabled===!1,_e=typeof x=="object"?x.enabled===!1:x===!1,Ht=ne&&!Mt&&!_e;return typeof x=="object"?{...x,enabled:Ht}:{enabled:Ht}}}),rN=p.createContext(null),Zx="button",iN="Draggable";function lN(e){let{id:n,data:a,disabled:i=!1,attributes:c}=e;const u=Vl(iN),{activators:f,activatorEvent:m,active:x,activeNodeRect:g,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(Fc),{role:j=Zx,roleDescription:T="draggable",tabIndex:E=0}=c??{},z=x?.id===n,U=p.useContext(z?Wv:rN),[N,M]=kc(),[P,$]=kc(),ne=FE(f,n),I=Rl(a);Qs(()=>(y.set(n,{id:n,key:u,node:N,activatorNode:P,data:I}),()=>{const W=y.get(n);W&&W.key===u&&y.delete(n)}),[y,n]);const J=p.useMemo(()=>({role:j,tabIndex:E,"aria-disabled":i,"aria-pressed":z&&j===Zx?!0:void 0,"aria-roledescription":T,"aria-describedby":b.draggable}),[i,j,E,z,T,b.draggable]);return{active:x,activatorEvent:m,activeNodeRect:g,attributes:J,isDragging:z,listeners:i?void 0:ne,node:N,over:w,setNodeRef:M,setActivatorNodeRef:$,transform:U}}function oN(){return p.useContext(Yv)}const cN="Droppable",uN={timeout:25};function dN(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:c}=e;const u=Vl(cN),{active:f,dispatch:m,over:x,measureDroppableContainers:g}=p.useContext(Fc),b=p.useRef({disabled:a}),y=p.useRef(!1),w=p.useRef(null),j=p.useRef(null),{disabled:T,updateMeasurementsFor:E,timeout:z}={...uN,...c},U=Rl(E??i),N=p.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{g(Array.isArray(U.current)?U.current:[U.current]),j.current=null},z)},[z]),M=Vc({callback:N,disabled:T||!f}),P=p.useCallback((J,W)=>{M&&(W&&(M.unobserve(W),y.current=!1),J&&M.observe(J))},[M]),[$,ne]=kc(P),I=Rl(n);return p.useEffect(()=>{!M||!$.current||(M.disconnect(),y.current=!1,M.observe($.current))},[$,M]),p.useEffect(()=>(m({type:un.RegisterDroppable,element:{id:i,key:u,disabled:a,node:$,rect:w,data:I}}),()=>m({type:un.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{a!==b.current.disabled&&(m({type:un.SetDroppableDisabled,id:i,key:u,disabled:a}),b.current.disabled=a)},[i,u,a,m]),{active:f,rect:w,isOver:x?.id===i,node:$,over:x,setNodeRef:ne}}function Kv(e,n,a){const i=e.slice();return i.splice(a<0?i.length+a:a,0,i.splice(n,1)[0]),i}function fN(e,n){return e.reduce((a,i,c)=>{const u=n.get(i);return u&&(a[c]=u),a},Array(e.length))}function uc(e){return e!==null&&e>=0}function hN(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}function mN(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const dc={scaleX:1,scaleY:1},pN=e=>{var n;let{rects:a,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=a[c])!=null?n:i;if(!m)return null;const x=gN(a,f,c);if(f===c){const g=a[u];return g?{x:c<u?g.left+g.width-(m.left+m.width):g.left-m.left,y:0,...dc}:null}return f>c&&f<=u?{x:-m.width-x,y:0,...dc}:f<c&&f>=u?{x:m.width+x,y:0,...dc}:{x:0,y:0,...dc}};function gN(e,n,a){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:a<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const Pv=e=>{let{rects:n,activeIndex:a,overIndex:i,index:c}=e;const u=Kv(n,i,a),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},Xv="Sortable",Jv=bt.createContext({activeIndex:-1,containerId:Xv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pv,disabled:{draggable:!1,droppable:!1}});function xN(e){let{children:n,id:a,items:i,strategy:c=Pv,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:x,over:g,measureDroppableContainers:b}=oN(),y=Vl(Xv,a),w=m.rect!==null,j=p.useMemo(()=>i.map(ne=>typeof ne=="object"&&"id"in ne?ne.id:ne),[i]),T=f!=null,E=f?j.indexOf(f.id):-1,z=g?j.indexOf(g.id):-1,U=p.useRef(j),N=!hN(j,U.current),M=z!==-1&&E===-1||N,P=mN(u);Qs(()=>{N&&T&&b(j)},[N,j,T,b]),p.useEffect(()=>{U.current=j},[j]);const $=p.useMemo(()=>({activeIndex:E,containerId:y,disabled:P,disableTransforms:M,items:j,overIndex:z,useDragOverlay:w,sortedRects:fN(j,x),strategy:c}),[E,y,P.draggable,P.droppable,M,j,z,x,w,c]);return bt.createElement(Jv.Provider,{value:$},n)}const vN=e=>{let{id:n,items:a,activeIndex:i,overIndex:c}=e;return Kv(a,i,c).indexOf(n)},bN=e=>{let{containerId:n,isSorting:a,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:x,transition:g}=e;return!g||!i||m!==u&&c===f?!1:a?!0:f!==c&&n===x},yN={duration:200,easing:"ease"},eb="transform",wN=zl.Transition.toString({property:eb,duration:0,easing:"linear"}),SN={roleDescription:"sortable"};function jN(e){let{disabled:n,index:a,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(a);return Qs(()=>{if(!n&&a!==m.current&&i.current){const x=c.current;if(x){const g=ki(i.current,{ignoreTransform:!0}),b={x:x.left-g.left,y:x.top-g.top,scaleX:x.width/g.width,scaleY:x.height/g.height};(b.x||b.y)&&f(b)}}a!==m.current&&(m.current=a)},[n,a,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function EN(e){let{animateLayoutChanges:n=bN,attributes:a,disabled:i,data:c,getNewIndex:u=vN,id:f,strategy:m,resizeObserverConfig:x,transition:g=yN}=e;const{items:b,containerId:y,activeIndex:w,disabled:j,disableTransforms:T,sortedRects:E,overIndex:z,useDragOverlay:U,strategy:N}=p.useContext(Jv),M=NN(i,j),P=b.indexOf(f),$=p.useMemo(()=>({sortable:{containerId:y,index:P,items:b},...c}),[y,c,P,b]),ne=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:I,node:J,isOver:W,setNodeRef:ee}=dN({id:f,data:$,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:ne,...x}}),{active:re,activatorEvent:ue,activeNodeRect:me,attributes:pe,setNodeRef:Se,listeners:B,isDragging:K,over:ge,setActivatorNodeRef:be,transform:we}=lN({id:f,data:$,attributes:{...SN,...a},disabled:M.draggable}),k=qj(ee,Se),Q=!!re,O=Q&&!T&&uc(w)&&uc(z),R=!U&&K,V=R&&O?we:null,oe=O?V??(m??N)({rects:E,activeNodeRect:me,activeIndex:w,overIndex:z,index:P}):null,xe=uc(w)&&uc(z)?u({id:f,items:b,activeIndex:w,overIndex:z}):P,Ee=re?.id,F=p.useRef({activeId:Ee,items:b,newIndex:xe,containerId:y}),Ne=b!==F.current.items,Ce=n({active:re,containerId:y,isDragging:K,isSorting:Q,id:f,index:P,items:b,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:g,wasDragging:F.current.activeId!=null}),Be=jN({disabled:!Ce,index:P,node:J,rect:I});return p.useEffect(()=>{Q&&F.current.newIndex!==xe&&(F.current.newIndex=xe),y!==F.current.containerId&&(F.current.containerId=y),b!==F.current.items&&(F.current.items=b)},[Q,xe,y,b]),p.useEffect(()=>{if(Ee===F.current.activeId)return;if(Ee!=null&&F.current.activeId==null){F.current.activeId=Ee;return}const Ae=setTimeout(()=>{F.current.activeId=Ee},50);return()=>clearTimeout(Ae)},[Ee]),{active:re,activeIndex:w,attributes:pe,data:$,rect:I,index:P,newIndex:xe,items:b,isOver:W,isSorting:Q,isDragging:K,listeners:B,node:J,overIndex:z,over:ge,setNodeRef:k,setActivatorNodeRef:be,setDroppableNodeRef:ee,setDraggableNodeRef:Se,transform:Be??oe,transition:Oe()};function Oe(){if(Be||Ne&&F.current.newIndex===P)return wN;if(!(R&&!ih(ue)||!g)&&(Q||Ce))return zl.Transition.toString({...g,property:eb})}}function NN(e,n){var a,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ut.Down,ut.Right,ut.Up,ut.Left;const _N=p.lazy(()=>dS(()=>import("./MonacoCodeEditor-BsNxhMR6.js"),[])),CN=p.forwardRef(function(n,a){const{className:i,...c}=n;return o.jsx(p.Suspense,{fallback:o.jsx("div",{className:ve("relative h-full w-full",i),children:o.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:o.jsx(_N,{...c,ref:a,className:i})})}),kN=232,TN=30,gr=6;function Ll({open:e,position:n,onClose:a,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,x]=p.useState(null),g=p.useMemo(()=>i.findIndex(j=>!j.disabled),[i]),[b,y]=p.useState(()=>g>=0?g:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){x(null);return}const j=i.length*TN+gr*2,T=Math.max(gr,(window.innerWidth||0)-kN-gr),E=Math.max(gr,(window.innerHeight||0)-j-gr),z=Math.min(Math.max(n.x,gr),T),U=Math.min(Math.max(n.y,gr),E);x({x:z,y:U})},[e,n,i.length]),p.useEffect(()=>{e&&y(g>=0?g:0)},[e,g]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const j=z=>{u.current&&(u.current.contains(z.target)||a())},T=z=>{if(u.current){if(u.current.contains(z.target)){z.preventDefault();return}a()}},E=z=>{if(z.key==="Escape"){z.preventDefault(),a();return}if(z.key==="ArrowDown"||z.key==="ArrowUp"){z.preventDefault();const U=z.key==="ArrowDown"?1:-1;y(N=>{if(i.length===0)return N;let M=N;for(let P=0;P<i.length;P+=1)if(M=(M+U+i.length)%i.length,!i[M]?.disabled)return M;return N});return}if(z.key==="Enter"||z.key===" "){z.preventDefault();const U=i[b];U&&!U.disabled&&(U.onSelect(),a())}};return window.addEventListener("mousedown",j),window.addEventListener("contextmenu",T),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",j),window.removeEventListener("contextmenu",T),window.removeEventListener("keydown",E)}},[e,a,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return fa.createPortal(o.jsx("div",{ref:u,role:"menu",className:ve("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:o.jsx("ul",{className:"py-1",role:"none",children:i.map((j,T)=>{const E=!!j.disabled,z=!!j.danger;return o.jsxs(p.Fragment,{children:[j.dividerAbove?o.jsx("li",{role:"separator",className:ve("mx-2 my-1 border-t",w.separator)}):null,o.jsx("li",{role:"none",children:o.jsxs("button",{ref:U=>{f.current[T]=U},type:"button",role:"menuitem",className:ve("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,E&&w.disabled,z&&!E&&w.danger,E&&"cursor-default"),onClick:U=>{U.stopPropagation(),!E&&(j.onSelect(),a())},onMouseEnter:()=>{E||y(T)},disabled:E,children:[o.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[j.icon?o.jsx("span",{className:"text-base opacity-80",children:j.icon}):o.jsx("span",{className:"inline-block h-4 w-4"}),o.jsx("span",{className:"truncate",children:j.label})]}),j.shortcut?o.jsx("span",{className:ve("text-[11px] uppercase tracking-wide",w.shortcut),children:j.shortcut}):null]})})]},j.id)})})}),window.document.body)}const Hx=220,Vx=64,AN=14;function Fx({tabs:e,activeTabId:n,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:x,onUnpinTab:g,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:j,editorTheme:T,menuAppearance:E,canSaveFiles:z=!1,minHeight:U}){const N=e.length>0,[M,P]=p.useState(null),[$,ne]=p.useState(null),[I,J]=p.useState(null),[W,ee]=p.useState({left:!1,right:!1}),[re,ue]=p.useState(0),me=p.useRef(null),pe=p.useRef(null),Se=p.useMemo(()=>e.find(F=>F.id===n)??e[0]??null,[e,n]),B=p.useMemo(()=>e.filter(F=>F.pinned),[e]),K=p.useMemo(()=>e.filter(F=>!F.pinned),[e]),ge=p.useMemo(()=>e.slice().sort((F,Ne)=>F.id.localeCompare(Ne.id)),[e]),we=p.useMemo(()=>e.filter(F=>F.status==="ready"&&F.content!==F.initialContent),[e]).length>0,k=eE(Jj(uh,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!N)return;const F=Ne=>{if(!(Ne.ctrlKey||Ne.metaKey))return;if(Ne.key.toLowerCase()==="w"){if(!n)return;Ne.preventDefault(),i(n);return}if(Ne.key==="Tab"){if(e.length<2)return;Ne.preventDefault(),j(Ne.shiftKey?"backward":"forward");return}const Ce=Be=>{if(e.length<2)return;const Oe=e.findIndex(rt=>rt.id===n),Qe=((Oe>=0?Oe:0)+Be+e.length)%e.length,at=e[Qe];at&&a(at.id)};if(Ne.key==="PageUp"){Ne.preventDefault(),Ce(-1);return}Ne.key==="PageDown"&&(Ne.preventDefault(),Ce(1))};return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}},[N,e,n,i,a,j]),p.useEffect(()=>{M&&(e.some(F=>F.id===M.tabId)||P(null))},[M,e]);const Q=F=>{J(String(F.active.id))},O=F=>{const Ne=F.active.id,Ce=F.over?.id;if(!Ce){J(null);return}if(Ne!==Ce){const Be=e.findIndex(Ae=>Ae.id===Ne),Oe=e.findIndex(Ae=>Ae.id===Ce);if(Be!==-1&&Oe!==-1){const Ae=Be<Oe?Oe+1:Oe,at=e[Oe]?.pinned?"pinned":"regular";m(String(Ne),Ae,{zone:at})}}J(null)},R=()=>{J(null)},V=p.useCallback(()=>{const F=me.current;if(!F){ee({left:!1,right:!1});return}const{scrollLeft:Ne,scrollWidth:Ce,clientWidth:Be}=F;ee({left:Ne>2,right:Ne+Be<Ce-2})},[]);p.useEffect(()=>{const F=me.current;if(!F){ee({left:!1,right:!1});return}V();const Ne=()=>V();F.addEventListener("scroll",Ne),window.addEventListener("resize",V);const Ce=typeof ResizeObserver<"u"?new ResizeObserver(V):null;return Ce?.observe(F),()=>{F.removeEventListener("scroll",Ne),window.removeEventListener("resize",V),Ce?.disconnect()}},[e.length,V]),p.useEffect(()=>{if(!I){ue(0);return}const F=Ne=>{const Ce=me.current;if(!Ce){ue(0);return}const Be=Ce.getBoundingClientRect();Ne.clientX<Be.left+Vx?ue(-1):Ne.clientX>Be.right-Vx?ue(1):ue(0)};return window.addEventListener("pointermove",F),()=>{window.removeEventListener("pointermove",F),ue(0)}},[I]),p.useEffect(()=>{if(!I||re===0)return;let F;const Ne=()=>{const Ce=me.current;Ce&&(Ce.scrollBy({left:re*AN}),F=window.requestAnimationFrame(Ne))};return F=window.requestAnimationFrame(Ne),()=>{window.cancelAnimationFrame(F)}},[re,I]),p.useEffect(()=>{if(!n)return;const F=me.current;if(!F)return;const Ne=`[data-tab-id="${QN(n)}"]`;F.querySelector(Ne)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const H=p.useMemo(()=>{if(!M)return[];const F=e.find(rt=>rt.id===M.tabId);if(!F)return[];const Ne=e.findIndex(rt=>rt.id===M.tabId),Ce=Ne>=0&&Ne<e.length-1,Be=e.length>1,Oe=F.status==="ready"&&F.content!==F.initialContent,Ae=!!y&&z&&Oe&&!F.saving,Qe=!!w&&z&&we,at={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:F.saving?"Saving":"Save",icon:o.jsx(zN,{}),disabled:!Ae,shortcut:at.save,onSelect:()=>y?.(F.id)},{id:"save-all",label:"Save All",icon:o.jsx(ON,{}),disabled:!Qe,shortcut:at.saveAll,onSelect:()=>w?.()},{id:"pin",label:F.pinned?"Unpin":"Pin",icon:F.pinned?o.jsx($N,{}):o.jsx(Gx,{}),dividerAbove:!0,onSelect:()=>F.pinned?g(F.id):x(F.id)},{id:"close",label:"Close",icon:o.jsx(LN,{}),dividerAbove:!0,shortcut:at.close,onSelect:()=>i(F.id)},{id:"close-others",label:"Close Others",icon:o.jsx(UN,{}),disabled:!Be,shortcut:at.closeOthers,onSelect:()=>c(F.id)},{id:"close-right",label:"Close Tabs to the Right",icon:o.jsx(BN,{}),disabled:!Ce,shortcut:at.closeRight,onSelect:()=>u(F.id)},{id:"close-all",label:"Close All",icon:o.jsx(qN,{}),dividerAbove:!0,disabled:e.length===0,shortcut:at.closeAll,onSelect:()=>f()}]},[M,e,we,z,x,g,i,c,u,f,y,w]),oe=p.useMemo(()=>{if(!N)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const F=[],Ne=(Ce,Be)=>{F.push({id:`switch-${Ce.id}`,label:Ce.name,icon:Ce.pinned?o.jsx(Gx,{}):o.jsx(ZN,{}),shortcut:Ce.id===n?"Active":void 0,dividerAbove:Be,onSelect:()=>a(Ce.id)})};return B.forEach(Ce=>Ne(Ce,!1)),K.forEach((Ce,Be)=>Ne(Ce,Be===0&&B.length>0)),F},[N,B,K,n,a]),xe=F=>{me.current?.scrollBy({left:F,behavior:"smooth"})},Ee=()=>{if(typeof window>"u")return;const F=pe.current?.getBoundingClientRect();F&&ne({x:F.left,y:F.bottom+6})};return!N||!Se?o.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):o.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:U?{minHeight:U}:void 0,children:[o.jsxs(th,{value:Se.id,onValueChange:a,children:[o.jsx(aN,{sensors:k,collisionDetection:rE,onDragStart:Q,onDragEnd:O,onDragCancel:R,children:o.jsx(xN,{items:e.map(F=>F.id),strategy:pN,children:o.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[o.jsx(Qx,{direction:"left",disabled:!W.left,onClick:()=>xe(-Hx)}),o.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[W.left?o.jsx(Ix,{position:"left"}):null,W.right?o.jsx(Ix,{position:"right"}):null,o.jsx("div",{ref:me,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:F=>{Math.abs(F.deltaY)>Math.abs(F.deltaX)&&(F.preventDefault(),me.current?.scrollBy({left:F.deltaY}))},children:o.jsx(nh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(F=>{const Ne=F.status==="ready"&&F.content!==F.initialContent,Ce=F.id===Se.id;return o.jsx(MN,{tab:F,isActive:Ce,isDirty:Ne,draggingId:I,onContextMenu:Be=>{Be.preventDefault(),P({tabId:F.id,x:Be.clientX,y:Be.clientY})},onCloseTab:i},F.id)})})})]}),o.jsx(Qx,{direction:"right",disabled:!W.right,onClick:()=>xe(Hx)}),o.jsx("button",{ref:pe,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:Ee,children:o.jsx(FN,{})})]})})}),ge.map(F=>o.jsx(vi,{value:F.id,className:"flex min-h-0 min-w-0 flex-1",children:F.status==="loading"?o.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",F.name,""]}):F.status==="error"?o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[o.jsx("p",{children:F.error??"Unable to load the file."}),o.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>a(F.id),children:"Retry loading"})]}):o.jsx("div",{className:ve("flex min-h-0 min-w-0 flex-1",I&&"pointer-events-none select-none"),children:o.jsx(CN,{value:F.content,language:F.language??"plaintext",path:F.id,theme:T,onChange:Ne=>b(F.id,Ne??""),onSaveShortcut:()=>{z&&y?.(F.id)}})})},F.id))]}),o.jsx(Ll,{open:!!M,position:M&&{x:M.x,y:M.y},onClose:()=>P(null),items:H,appearance:E}),o.jsx(Ll,{open:!!$,position:$,onClose:()=>ne(null),items:oe,appearance:E})]})}function MN({tab:e,isActive:n,isDirty:a,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:x,transform:g,transition:b,isDragging:y}=EN({id:e.id}),w={transform:zl.Transform.toString(g),transition:b},j=y||i===e.id,T=!!e.pinned;return o.jsxs("div",{ref:x,style:w,className:ve("group relative mr-1 flex min-w-0 items-stretch",j&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:E=>{E.button===1&&(E.preventDefault(),u(e.id))},...f,...m,children:[o.jsxs(Cc,{value:e.id,"data-tab-id":e.id,title:e.id,className:ve("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",T?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[T?o.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:o.jsx(DN,{filled:n})}):null,o.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?o.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:o.jsx(RN,{})}):null,e.saveError?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,a?o.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),o.jsx("button",{type:"button",className:ve("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:E=>{E.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function Qx({direction:e,disabled:n,onClick:a}){return o.jsx("button",{type:"button",className:ve("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:a,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?o.jsx(HN,{}):o.jsx(VN,{})})}function Ix({position:e}){return o.jsx("div",{className:ve("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function DN({filled:e}){return e?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const ma="h-4 w-4 text-current opacity-80";function RN(){return o.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),o.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function zN(){return o.jsxs("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function ON(){return o.jsxs("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),o.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function LN(){return o.jsx("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function UN(){return o.jsxs("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),o.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function BN(){return o.jsxs("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function qN(){return o.jsxs("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Gx(){return o.jsx("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function $N(){return o.jsx("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function ZN(){return o.jsx("svg",{className:ma,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function HN(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function VN(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function FN(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function QN(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const IN={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},GN={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function Yx(e){const n=new Set,a=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&a(c)})};return a(e),n}function YN({width:e,tree:n,activeFileId:a,openFileIds:i,onSelectFile:c,theme:u,onCloseFile:f,onCloseOtherFiles:m,onCloseTabsToRight:x,onCloseAllFiles:g,onHide:b}){const[y,w]=p.useState(()=>Yx(n)),[j,T]=p.useState(null);p.useEffect(()=>{w(Yx(n))},[n]);const E=p.useCallback(W=>{w(ee=>{const re=new Set(ee);return re.has(W)?re.delete(W):re.add(W),re})},[]),z=p.useCallback((W,ee)=>{w(re=>{const ue=new Set(re);return ee?ue.add(W):W!==n.id&&ue.delete(W),ue.has(n.id)||ue.add(n.id),ue})},[n.id]),U=p.useCallback(()=>{w(new Set([n.id]))},[n.id]),N=p.useMemo(()=>n.children??[],[n]),M=u==="dark"?"dark":"light",P=p.useCallback((W,ee)=>{W.preventDefault(),T({node:ee,position:{x:W.clientX,y:W.clientY}})},[]),$=p.useCallback(async W=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(W);return}catch{}if(typeof document>"u")return;const ee=document.createElement("textarea");ee.value=W,ee.setAttribute("readonly","true"),ee.style.position="absolute",ee.style.left="-9999px",document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee)},[]),ne=p.useMemo(()=>{if(!j)return[];const W=j.node,ee={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0"};if(W.kind==="file"){const ue=i.includes(W.id),me=i.length,pe=i.indexOf(W.id),Se=pe>=0&&pe<me-1;return[{id:"open-file",label:"Open",icon:o.jsx(e2,{}),shortcut:ee.open,onSelect:()=>c(W.id)},{id:"close-file",label:"Close",icon:o.jsx(a2,{}),disabled:!ue,shortcut:ee.close,onSelect:()=>f(W.id)},{id:"close-file-others",label:"Close Others",icon:o.jsx(r2,{}),disabled:!ue||me<=1,shortcut:ee.closeOthers,onSelect:()=>m(W.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:o.jsx(i2,{}),disabled:!ue||!Se,shortcut:ee.closeRight,onSelect:()=>x(W.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:me===0,icon:o.jsx(l2,{}),shortcut:ee.closeAll,onSelect:()=>g()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:o.jsx(Kx,{}),shortcut:ee.copyPath,onSelect:()=>{$(W.id)}}]}const re=y.has(W.id);return[{id:"toggle-folder",label:re?"Collapse Folder":"Expand Folder",icon:re?o.jsx(t2,{}):o.jsx(n2,{}),onSelect:()=>z(W.id,!re)},{id:"collapse-all",label:"Collapse All",icon:o.jsx(s2,{}),shortcut:ee.collapseAll,dividerAbove:!0,onSelect:()=>U()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:o.jsx(Kx,{}),shortcut:ee.copyPath,onSelect:()=>{$(W.id)}}]},[j,i,c,f,m,x,g,$,y,z,U]),I=IN[u],J=GN[u];return o.jsxs(o.Fragment,{children:[o.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:I.surface,borderColor:I.border,color:I.textPrimary},"aria-label":"Config files explorer",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:I.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[o.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:I.heading},children:"Explorer"}),o.jsx("button",{type:"button",onClick:b,"aria-label":"Hide explorer",className:ve("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:o.jsx(JN,{})})]}),o.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:o.jsx("ul",{className:"space-y-0.5",children:N.map(W=>o.jsx(tb,{node:W,depth:0,expanded:y,activeFileId:a,openFileIds:i,onToggleFolder:E,onSelectFile:c,tokens:I,focusRingClass:J,onContextMenu:P},W.id))})})]}),o.jsx(Ll,{open:!!j,position:j&&j.position,onClose:()=>T(null),items:ne,appearance:M})]})}function tb({node:e,depth:n,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g}){const y={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const z=a.has(e.id),U={...y,color:z?m.textPrimary:m.textMuted};return z&&m.folderActiveBg!=="transparent"&&(U.backgroundColor=m.folderActiveBg),o.jsxs("li",{className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:N=>g(N,e),className:ve("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x),style:U,"aria-expanded":z,children:[o.jsx(KN,{open:z,tokens:m}),o.jsx(PN,{open:z,tokens:m}),o.jsx("span",{className:"truncate",children:e.name})]}),z&&e.children?.length?o.jsx("ul",{className:"mt-0.5 space-y-0.5",children:e.children.map(N=>o.jsx(tb,{node:N,depth:n+1,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:x,onContextMenu:g},N.id))}):null]})}const w=i===e.id,j=c.includes(e.id),T=WN(e.name,e.language),E={...y,color:m.textPrimary};return w&&(E.backgroundColor=m.selectionBg,E.color=m.selectionText),o.jsx("li",{children:o.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:z=>g(z,e),className:ve("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,w&&"shadow-inner shadow-[#00000033]"),style:E,children:[o.jsx("span",{className:"inline-flex w-4 justify-center",children:o.jsx(XN,{className:T})}),o.jsx("span",{className:"flex-1 truncate",children:e.name}),w?o.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):j?o.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const Wx={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function WN(e,n){if(n==="python")return"text-sky-300";const a=e.toLowerCase().split("."),i=a.length>1?a.pop()??"":"";return i&&Wx[i]?Wx[i]:"text-slate-400"}function KN({open:e,tokens:n}){return o.jsx("svg",{className:ve("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:o.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function PN({open:e,tokens:n}){return o.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function XN({className:e}){return o.jsxs("svg",{className:ve("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function JN(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const pa="h-4 w-4 text-current opacity-80";function e2(){return o.jsx("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function Kx(){return o.jsxs("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),o.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function t2(){return o.jsx("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function n2(){return o.jsx("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function s2(){return o.jsxs("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function a2(){return o.jsx("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function r2(){return o.jsxs("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),o.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function i2(){return o.jsxs("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function l2(){return o.jsxs("svg",{className:pa,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),o.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function o2({width:e,file:n}){if(!n)return null;const a=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return o.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[o.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:o.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),o.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),o.jsx("dd",{className:"text-slate-700",children:n.name})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),o.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),o.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),o.jsx("dd",{className:"text-slate-700",children:c2(i?.size)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),o.jsx("dd",{className:"text-slate-700",children:u2(i?.modifiedAt)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),o.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),o.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),o.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),o.jsx("dd",{className:"text-slate-700",children:a?"Yes":"No"})]})]})]}),o.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function c2(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a.toFixed(a>=10?0:1)} ${n[i]}`}function u2(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function gf({orientation:e,onPointerDown:n}){const a=e==="vertical";return o.jsx("div",{role:"separator","aria-orientation":e,className:a?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",style:{touchAction:"none"},onPointerDown:n,children:o.jsx("span",{className:"sr-only",children:"Resize panel"})})}const d2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function f2(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",a=e.entries.length>0;if(!n&&!a)return null;const i=Cl(n),c={id:n,name:Px(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=x=>{if(x.length===0)return c;const g=Cl(x),b=g===i?n:g,y=u.get(b);if(y)return y;const w={id:b,name:Px(b),kind:"folder",children:[]};u.set(b,w);const j=b===n?"":p2(b)??n,T=f(j);return xf(T,w),w},m=[...e.entries].sort((x,g)=>x.depth!==g.depth?x.depth-g.depth:x.path.localeCompare(g.path));for(const x of m){const g=x.parent&&x.parent.length>0?Cl(x.parent):n,b=f(g);if(x.kind==="dir"){const w=f(x.path);w.name=x.name,w.metadata={size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag},w!==b&&xf(b,w);continue}const y={id:x.path,name:x.name,kind:"file",language:m2(x.path),metadata:{size:x.size??null,modifiedAt:x.mtime,contentType:x.content_type,etag:x.etag}};u.set(x.path,y),xf(b,y)}return c}function xf(e,n){const a=e.children??[],i=a.some(c=>c.id===n.id)?a.map(c=>c.id===n.id?n:c):[...a,n];e.children=i.sort(h2)}function h2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function m2(e){const n=e.toLowerCase(),a=n.lastIndexOf(".");if(a===-1)return;const i=n.slice(a+1);return d2[i]}function Px(e){const n=Cl(e);if(!n)return"";const a=n.lastIndexOf("/");return a>=0?n.slice(a+1):n}function p2(e){const n=Cl(e);if(!n)return;const a=n.lastIndexOf("/");return a===-1?"":n.slice(0,a)}function Cl(e){return e?e.replace(/\/+$/,""):""}function vr(e,n){if(e.id===n)return e;if(!e.children)return null;for(const a of e.children){const i=vr(a,n);if(i)return i}return null}function nb(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const a=nb(n);if(a)return a}return null}function g2({tree:e,initialActiveFileId:n,loadFile:a,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[x,g]=p.useState([]),[b,y]=p.useState(()=>!i),[w,j]=p.useState(!1),T=p.useRef(new Set),E=p.useRef([]),z=p.useRef(""),U=p.useRef([]),N=p.useCallback(O=>{m(R=>R===O?R:O),g(R=>{const V=R.filter(oe=>E.current.some(xe=>xe.id===oe));if(!O)return V;const H=V.filter(oe=>oe!==O);return[O,...H]})},[]);p.useEffect(()=>{z.current=f},[f]),p.useEffect(()=>{U.current=x},[x]),p.useEffect(()=>{if(!e){u([]),m(""),g([]);return}u(R=>R.filter(V=>!!vr(e,V.id)).map(V=>{const H=vr(e,V.id);return!H||H.kind!=="file"?V:{...V,name:H.name,language:H.language,metadata:H.metadata}}));const O=z.current;(!O||!vr(e,O))&&N("")},[e,N]);const M=p.useMemo(()=>c.find(O=>O.id===f)??c[0]??null,[f,c]),P=p.useCallback(async O=>{if(!E.current.some(V=>V.id===O))return;let R=!1;if(u(V=>V.map(H=>H.id!==O?H:H.status==="ready"?(R=!0,H):{...H,status:"loading",error:null})),!R)try{const V=await a(O);u(H=>H.map(oe=>oe.id===O?{...oe,initialContent:V.content,content:V.content,status:"ready",error:null,etag:V.etag??null,saving:!1,saveError:null}:oe))}catch(V){const H=V instanceof Error?V.message:"Unable to load file.";u(oe=>oe.map(xe=>xe.id===O?{...xe,status:"error",error:H}:xe))}},[a]),$=p.useCallback((O,R)=>{if(!e)return;const V=vr(e,O);!V||V.kind!=="file"||(u(H=>{if(H.some(xe=>xe.id===O))return H;const oe={id:V.id,name:V.name,language:V.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:V.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...H,oe]}),(R?.activate??!0)&&N(O))},[e,N]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const O=i.get(),V=(O?.openTabs??[]).map(H=>typeof H=="string"?{id:H,pinned:!1}:H).filter(H=>!!(H&&H.id));if(V.length>0){const H=[];for(const oe of V){const xe=vr(e,oe.id);!xe||xe.kind!=="file"||H.push({id:xe.id,name:xe.name,language:xe.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:xe.metadata,pinned:!!oe.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(H.length>0){u(H);const oe=(O?.activeTabId&&H.some(F=>F.id===O.activeTabId)?O.activeTabId:H[0]?.id)??"";m(oe);const Ee=(O?.mru&&O.mru.length>0?O.mru:H.map(F=>F.id)).filter(F=>H.some(Ne=>Ne.id===F));g(Ee),j(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||j(!0);return}if(w)return;const O=n&&vr(e,n)||nb(e);if(!O){j(!0);return}$(O.id),j(!0)},[e,n,$,b,c.length,w]);const ne=p.useCallback(O=>{$(O)},[$]),I=p.useCallback(O=>{N(O),u(R=>R.map(V=>V.id===O&&V.status==="error"?{...V,status:"loading",error:null}:V))},[N]),J=p.useCallback(O=>{u(R=>{const V=R.filter(xe=>xe.id!==O),H=z.current,oe=H===O?V[V.length-1]?.id??"":V.some(xe=>xe.id===H)?H:V[V.length-1]?.id??"";return N(oe),V})},[N]),W=p.useCallback(O=>{u(R=>!R.some(V=>V.id===O)||R.length<=1?R:(N(O),R.filter(V=>V.id===O)))},[N]),ee=p.useCallback(O=>{u(R=>{const V=R.findIndex(xe=>xe.id===O);if(V===-1||V===R.length-1)return R;const H=R.slice(0,V+1),oe=H.some(xe=>xe.id===z.current)?z.current:O;return N(oe),H})},[N]),re=p.useCallback(()=>{u([]),m(""),g([])},[]),ue=p.useCallback((O,R,V)=>{u(H=>{if(H.length<=1)return H;const oe=H.findIndex(Oe=>Oe.id===O);if(oe===-1)return H;const xe=Math.max(0,Math.min(R,H.length));let Ee=xe;oe<xe&&(Ee-=1);const F=[],Ne=[];let Ce=null;if(H.forEach((Oe,Ae)=>{if(Ae===oe){Ce=Oe;return}Oe.pinned?F.push(Oe):Ne.push(Oe)}),!Ce)return H;if((V?.zone??(Ee<=F.length?"pinned":"regular"))==="pinned"){const Oe=Math.max(0,Math.min(Ee,F.length));F.splice(Oe,0,{...Ce,pinned:!0})}else{const Oe=Math.max(0,Math.min(Ee-F.length,Ne.length));Ne.splice(Oe,0,{...Ce,pinned:!1})}return[...F,...Ne]})},[]),me=p.useCallback(O=>{u(R=>{const V=[],H=[];let oe=null;for(const Ee of R){if(Ee.id===O){oe=Ee;continue}Ee.pinned?V.push(Ee):H.push(Ee)}if(!oe||oe.pinned)return R;const xe={...oe,pinned:!0};return[...V,xe,...H]})},[]),pe=p.useCallback(O=>{u(R=>{const V=[],H=[];let oe=null;for(const Ee of R){if(Ee.id===O){oe=Ee;continue}Ee.pinned?V.push(Ee):H.push(Ee)}if(!oe||!oe.pinned)return R;const xe={...oe,pinned:!1};return[...V,xe,...H]})},[]),Se=p.useCallback((O,R)=>{R?me(O):pe(O)},[me,pe]),B=p.useCallback(O=>{const R=U.current.filter(Ne=>E.current.some(Ce=>Ce.id===Ne));if(R.length<=1)return;const V=z.current||R[0],H=R.indexOf(V),Ee=((H>=0?H:0)+(O==="forward"?1:-1)+R.length)%R.length,F=R[Ee];F&&F!==V&&N(F)},[N]),K=p.useCallback((O,R)=>{u(V=>V.map(H=>H.id===O?{...H,content:R,status:H.status==="ready"?H.status:"ready",error:null,saveError:null}:H))},[]),ge=p.useCallback(O=>{u(R=>R.map(V=>V.id===O?{...V,saving:!0,saveError:null}:V))},[]),be=p.useCallback((O,R)=>{u(V=>V.map(H=>{if(H.id!==O)return H;const oe=R?.metadata??H.metadata??null,xe=R?.etag??H.etag??null;return{...H,saving:!1,saveError:null,initialContent:H.content,etag:xe,metadata:oe&&{...oe,etag:oe.etag??xe??null},lastSavedAt:new Date().toISOString()}}))},[]),we=p.useCallback((O,R)=>{u(V=>V.map(H=>H.id===O?{...H,saving:!1,saveError:R}:H))},[]),k=p.useCallback((O,R)=>{u(V=>V.map(H=>H.id!==O?H:{...H,content:R.content,initialContent:R.content,status:"ready",error:null,saving:!1,saveError:null,etag:R.etag??H.etag??null,metadata:R.metadata??H.metadata}))},[]),Q=p.useMemo(()=>c.some(O=>O.status==="ready"&&O.content!==O.initialContent),[c]);return p.useEffect(()=>{E.current=c},[c]),p.useEffect(()=>{g(O=>{const R=O.filter(V=>c.some(H=>H.id===V));return R.length===O.length?O:R})},[c]),p.useEffect(()=>{const O=new Set(c.map(R=>R.id));for(const R of T.current)O.has(R)||T.current.delete(R);for(const R of c){if(R.status!=="loading"||T.current.has(R.id))continue;T.current.add(R.id),P(R.id).finally(()=>{T.current.delete(R.id)})}},[c,P]),p.useEffect(()=>{if(!i||!b)return;const O=[f,...x].filter(R=>!!R).filter((R,V,H)=>H.indexOf(R)===V).filter(R=>c.some(V=>V.id===R));i.set({openTabs:c.map(R=>({id:R.id,pinned:!!R.pinned})),activeTabId:f||null,mru:O})},[i,c,f,x,b]),{tree:e,tabs:c,activeTabId:f,activeTab:M,openFile:ne,selectTab:I,closeTab:J,closeOtherTabs:W,closeTabsToRight:ee,closeAllTabs:re,moveTab:ue,pinTab:me,unpinTab:pe,toggleTabPin:Se,selectRecentTab:B,updateContent:K,beginSavingTab:ge,completeSavingTab:be,failSavingTab:we,replaceTabContent:k,isDirty:Q}}function sb(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[a,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(a,String(u))}return n}const ab=p.createContext(null);function x2({value:e,children:n}){return p.createElement(ab.Provider,{value:e},n)}function dh(){const e=p.useContext(ab),n=Ss(),a=En(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,g=sb(m).toString(),b=`${n.pathname}${g?`?${g}`:""}${n.hash}`;a(b,{replace:f?.replace})},[n.hash,n.pathname,a,i]);return[e?.params??i,e?.setSearchParams??c]}const br={tab:"editor",pane:"console",console:"closed",view:"editor"},v2=["tab","pane","console","view","file","path"];function b2(e){return e==="open"?"open":"closed"}function y2(e){return e==="validation"||e==="problems"?"validation":"console"}function w2(e){return e==="split"||e==="zen"?e:"editor"}function rb(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),a=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:a==="editor"?"editor":br.tab,pane:y2(i),console:b2(c),view:w2(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function vf(e,n){const a=rb(e),i={...br,...a,...n},c=new URLSearchParams(e);for(const u of v2)c.delete(u);return i.tab!==br.tab&&c.set("tab",i.tab),i.pane!==br.pane&&c.set("pane",i.pane),i.console!==br.console&&c.set("console",i.console),i.view!==br.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function S2(){const[e,n]=dh(),a=p.useMemo(()=>rb(e),[e]),i=p.useCallback(f=>{a.file===f||!f&&!a.present.file||n(m=>vf(m,{file:f??void 0}),{replace:!0})},[n,a.file,a.present.file]),c=p.useCallback(f=>{a.pane!==f&&n(m=>vf(m,{pane:f}),{replace:!0})},[n,a.pane]),u=p.useCallback(f=>{a.console!==f&&n(m=>vf(m,{console:f}),{replace:!0})},[n,a.console]);return{fileId:a.file??br.file,pane:a.pane,console:a.console,consoleExplicit:a.present.console,setFileId:i,setPane:c,setConsole:u}}const j2="You have unsaved changes in the config editor. Are you sure you want to leave?";function E2({isDirty:e,confirm:n=window.confirm,message:a=j2,shouldBypassNavigation:i}){const c=Ss(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(a),[n,e,c.pathname,a,i]);C1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=a,a);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,a])}const Xx="(prefers-color-scheme: dark)";function Jx(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function N2(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function _2(e){const n=p.useMemo(()=>Ya(e),[e]),[a,i]=p.useState(()=>{const x=n.get();return Jx(x)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(Xx).matches);p.useEffect(()=>{const x=Jx(n.get());i(g=>g===x?g:x)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const x=window.matchMedia(Xx),g=b=>{u(b.matches)};return typeof x.addEventListener=="function"?x.addEventListener("change",g):typeof x.addListener=="function"&&x.addListener(g),u(x.matches),()=>{typeof x.removeEventListener=="function"?x.removeEventListener("change",g):typeof x.removeListener=="function"&&x.removeListener(g)}},[]),p.useEffect(()=>{n.set(a)},[a,n]);const f=p.useMemo(()=>N2(a,c),[a,c]),m=p.useCallback(x=>{i(x)},[]);return{preference:a,resolvedTheme:f,setPreference:m}}function Zn(e,n,a){return Math.min(Math.max(e,n),a)}function bf(e,n){const{onMove:a,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,f=e.currentTarget,m=document.body.style.cursor,x=document.body.style.userSelect;let g=null,b=null,y=!0;const w=z=>{if(y){if(y=!1,g!==null&&(cancelAnimationFrame(g),g=null),document.body.style.cursor=m,document.body.style.userSelect=x,window.removeEventListener("pointermove",j),window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),f.removeEventListener("lostpointercapture",E),f.hasPointerCapture?.(u))try{f.releasePointerCapture(u)}catch{}i&&i(z)}},j=z=>{!y||z.pointerId!==u||(b=z,g===null&&(g=window.requestAnimationFrame(()=>{g=null,b&&a(b)})))},T=z=>{z.pointerId===u&&w(z)},E=z=>{z.pointerId===u&&w(z)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{f.setPointerCapture(u)}catch{}window.addEventListener("pointermove",j),window.addEventListener("pointerup",T),window.addEventListener("pointercancel",T),f.addEventListener("lostpointercapture",E)}const C2="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",k2="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function T2({label:e,icon:n,disabled:a,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:x,menuAriaLabel:g="Open menu",menuIcon:b=o.jsx(A2,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:j}){const T=p.useRef(null),E=!!(a||i),z=U=>{if(E)return;U.preventDefault();const N=T.current?.getBoundingClientRect();if(N){w?.({x:N.left,y:N.bottom});return}w?.({x:U.clientX,y:U.clientY})};return o.jsxs("div",{role:"group",className:ve("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:j,children:[o.jsxs("button",{type:"button",title:x,disabled:E,className:ve(C2,f),onClick:U=>{E||y?.(U)},children:[n,o.jsx("span",{className:"whitespace-nowrap",children:e})]}),o.jsx("button",{ref:T,type:"button","aria-label":g,"aria-haspopup":"menu","aria-expanded":"false",disabled:E,className:ve(k2,m),onClick:z,children:b})]})}function A2(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const M2={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function Ct({title:e,description:n,action:a,variant:i="empty",className:c}){return o.jsxs("div",{className:ve("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[o.jsx("span",{"aria-hidden":"true",className:ve("mb-4 h-8 w-8 rounded-full border-current",M2[i])}),o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?o.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,a?o.jsx("div",{className:"mt-4",children:a}):null]})}const D2=new TextEncoder;async function R2(e,n={}){const{signal:a,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:a});if(!m)throw new Error("Expected configuration page payload.");return m}async function z2(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}",{params:{path:{workspace_id:e,config_id:n}},signal:a});return i??null}async function O2(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/validate",{params:{path:{workspace_id:e,config_id:n}}});if(!a)throw new Error("Expected validation payload.");return a}async function L2(e,n,a={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:x,sort:g,order:b,signal:y}=a,{data:w}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files",{params:{path:{workspace_id:e,config_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:x??void 0,sort:g,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function e0(e,n,a,i){const{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files/{file_path}",{params:{path:{workspace_id:e,config_id:n,file_path:a}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function U2(e,n,a){const i=V2(a.path),c=a.parents?"?parents=1":"",u=await CS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:D2.encode(a.content),headers:{"Content-Type":"application/octet-stream",...a.create?{"If-None-Match":"*"}:a.etag?{"If-Match":a.etag}:{}}});if(!u.ok){const m=await F2(u),x=m?.title??`Request failed with status ${u.status}`;throw new is(x,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}function B2(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",config_id:e.configId.trim()}}async function q2(e,n){const{data:a}=await We.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:B2(n.source)}});if(!a)throw new Error("Expected configuration payload.");return a}async function $2(e,n,a={}){const{signal:i}=a,{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/versions",{params:{path:{workspace_id:e,config_id:n}},signal:i});return c??[]}function Z2(e){return e.find(n=>n.status==="active"||n.activated_at)??null}function H2(e){return e.filter(a=>a.status!=="active"&&!a.deleted_at).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime())[0]??null}function V2(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function F2(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const gn={root:e=>["workspaces",e,"configs"],list:(e,n={})=>[...gn.root(e),"list",{...n}],detail:(e,n)=>[...gn.root(e),"detail",n],versions:(e,n)=>[...gn.detail(e,n),"versions"],version:(e,n,a)=>[...gn.detail(e,n),"version",a],scripts:(e,n,a)=>[...gn.version(e,n,a),"scripts"],script:(e,n,a,i)=>[...gn.scripts(e,n,a),"script",i],manifest:(e,n,a)=>[...gn.version(e,n,a),"manifest"],files:(e,n)=>[...gn.detail(e,n),"files"],file:(e,n,a)=>[...gn.files(e,n),"file",a]};function Q2({workspaceId:e,configId:n,enabled:a=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:x,pageToken:g,sort:b="path",order:y="asc"}=i;return fn({queryKey:[...gn.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",x??"",g??"",b,y],queryFn:({signal:w})=>L2(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:x,pageToken:g,sort:b,order:y,signal:w}),enabled:a&&e.length>0&&n.length>0,staleTime:5e3})}function I2(e,n){const a=Tt();return kn({mutationFn:i=>U2(e,n,i),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:gn.files(e,n)}),a.invalidateQueries({queryKey:gn.file(e,n,c.path)})])}})}function G2(e,n){return kn({mutationFn:()=>O2(e,n)})}const Y2=/\r?\n/,t0=new TextDecoder;async function*ib(e){const n=e.body;if(!n)throw new Error("Response body is not a readable stream.");const a=n.getReader();let i="";try{for(;;){const{value:u,done:f}=await a.read();if(f)break;for(i+=t0.decode(u,{stream:!0});;){const m=i.search(Y2);if(m===-1)break;const x=i.slice(0,m);i=i.slice(m+(i[m]==="\r"?2:1));const g=x.trim();g&&(yield JSON.parse(g))}}i+=t0.decode();const c=i.trim();c&&(yield JSON.parse(c))}finally{a.releaseLock()}}async function*W2(e,n,a={},i){const c=`/workspaces/${encodeURIComponent(e)}/configs/${encodeURIComponent(n)}/builds`,u=await Xf(c,{stream:!0,options:a},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:i});for await(const f of ib(u))yield f}async function*K2(e,n={},a){const i=`/configs/${encodeURIComponent(e)}/runs`,c=await Xf(i,{stream:!0,options:n},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:a});for await(const u of ib(c))yield u}async function lb(e,n){const{data:a}=await We.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run outputs unavailable");return a}async function ob(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/artifact`,{headers:{Accept:"application/json"},signal:n});if(!a.ok)throw new Error("Run artifact unavailable");return await a.json()}async function cb(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/logfile`,{headers:{Accept:"application/x-ndjson"},signal:n});if(!a.ok)throw new Error("Run telemetry unavailable");return(await a.text()).split(/\r?\n/).filter(Boolean).map(c=>{try{return JSON.parse(c)}catch(u){return console.warn("Skipping invalid telemetry line",{error:u,line:c}),null}}).filter(c=>!!c)}async function P2(e,n){const{data:a}=await We.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run not found");return a}const fc={detail:e=>["run",e],outputs:e=>["run-outputs",e],artifact:e=>["run-artifact",e],telemetry:e=>["run-telemetry",e]},X2={schema:{}},J2={properties:X2},e_=J2.properties?.schema?.const??"ade.telemetry/run-event.v1";function ub(e){return e.schema===e_}async function db(e,n,a){const{data:i}=await We.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:a});return i??[]}const t_={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Fn(e){const n=typeof e=="number"?new Date(e*1e3):e;return Number.isNaN(n.getTime())?"":n.toLocaleTimeString([],t_)}function n_(e){switch(e.type){case"build.created":return{level:"info",message:`Build ${e.build_id} created (status: ${e.status}).`,timestamp:Fn(e.created)};case"build.step":return i_(e);case"build.log":return o_(e);case"build.completed":return c_(e);default:return{level:"info",message:JSON.stringify(e),timestamp:Fn(e.created)}}}function s_(e){if(ub(e))return a_(e);switch(e.type){case"run.created":return{level:"info",message:`Run ${e.run_id} created (status: ${e.status}).`,timestamp:Fn(e.created)};case"run.started":return{level:"info",message:"Run started.",timestamp:Fn(e.created)};case"run.log":return u_(e);case"run.completed":return d_(e);default:return{level:"info",message:JSON.stringify(e),timestamp:""}}}function a_(e){const{event:n,timestamp:a}=e,{event:i,level:c,...u}=n,f=r_(c),m=Object.keys(u).length>0?` ${JSON.stringify(u)}`:"";return{level:f,message:m?`Telemetry: ${i}${m}`:`Telemetry: ${i}`,timestamp:Fn(new Date(a))}}function r_(e){switch(e){case"warning":return"warning";case"error":case"critical":return"error";default:return"info"}}function i_(e){const n=l_[e.step]??e.step.replaceAll("_"," ");return{level:"info",message:e.message?.trim()?e.message:n,timestamp:Fn(e.created)}}const l_={create_venv:"Creating virtual environment",upgrade_pip:"Upgrading pip inside the build environment",install_engine:"Installing ade_engine package",install_config:"Installing configuration package",verify_imports:"Verifying ADE imports",collect_metadata:"Collecting build metadata"};function o_(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Fn(e.created)}}function c_(e){const n=Fn(e.created);if(e.status==="active")return{level:"success",message:e.summary?.trim()||"Build completed successfully.",timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Build was canceled before completion.",timestamp:n};const a=e.error_message?.trim()||"Build failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${a}${i}`,timestamp:n}}function u_(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Fn(e.created)}}function d_(e){const n=Fn(e.created);if(e.status==="succeeded")return{level:"success",message:`Run completed successfully${typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:""}.`,timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Run was canceled before completion.",timestamp:n};const a=e.error_message?.trim()||"Run failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${a}${i}`,timestamp:n}}const fb=p.createContext(null),f_=6e3,h_=7e3,n0=4;function m_({children:e}){const[n,a]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{a(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??s0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?f_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return a(w=>{const T=[...y.persistKey?w.filter(E=>E.persistKey!==y.persistKey):w,y];return T.length>n0?T.slice(T.length-n0):T}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??s0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:h_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(T=>T.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),x=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&a(w=>w.filter(j=>j.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(j=>j.scope!==b)))},[]),g=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:x}),[n,i,f,m,u,x]);return o.jsxs(fb.Provider,{value:g,children:[e,o.jsx(p_,{})]})}function hb(){const e=p.useContext(fb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function p_(){const{toasts:e,banners:n,dismiss:a}=hb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:fa.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>o.jsx(x_,{banner:u,onDismiss:a},u.id))}),o.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>o.jsx(g_,{toast:u,onDismiss:a},u.id))})]}),document.body)}function g_({toast:e,onDismiss:n}){const a=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=v_[e.intent];return o.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:ve("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??pb(e.intent)}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[o.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?o.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>o.jsx(mb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?o.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:o.jsx(gb,{})}):null]}),a&&e.duration?o.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:o.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function x_({banner:e,onDismiss:n}){const a=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=b_[e.intent];return o.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:ve("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??pb(e.intent)}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[o.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?o.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?o.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>o.jsx(mb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?o.jsx("button",{type:"button",className:ve("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:o.jsx(gb,{})}):null]}),a&&e.duration?o.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:o.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function mb({action:e,onPress:n,appearance:a}){const i=e.variant??"secondary",c=a==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return o.jsx("button",{type:"button",className:ve("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function pb(e){switch(e){case"success":return o.jsx(w_,{});case"warning":return o.jsx(S_,{});case"danger":return o.jsx(j_,{});default:return o.jsx(y_,{})}}const v_={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},b_={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function s0(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function y_(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),o.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function w_(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function S_(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),o.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function j_(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function gb(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function E_(){const e=hb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,a)=>e.clearScope(n,a)}),[e])}const N_="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Wa=p.forwardRef(({className:e,...n},a)=>o.jsx("select",{ref:a,className:ve(N_,e),...n}));Wa.displayName="Select";const __={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},C_={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ze=p.forwardRef(({type:e="button",variant:n="primary",size:a="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},x)=>{const g=f||i;return o.jsxs("button",{ref:x,type:e,disabled:g,"aria-busy":i||void 0,className:ve("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",__[n],C_[a],c),...m,children:[i?o.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,o.jsx("span",{children:u})]})});ze.displayName="Button";const k_={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function mt({tone:e="info",heading:n,icon:a,className:i,children:c,...u}){return o.jsxs("div",{role:"status",className:ve("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",k_[e],i),...u,children:[a?o.jsx("span",{"aria-hidden":"true",children:a}):null,o.jsxs("div",{className:"space-y-1",children:[n?o.jsx("p",{className:"font-semibold",children:n}):null,c?o.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}const T_={min:200,max:420},A_={min:260,max:420},M_={max:420},hi=320,yf=140,D_=220,hc=400,Sl=4,R_=56,a0="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",z_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.tabs`,O_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.console`,L_=(e,n)=>`ade.ui.workspace.${e}.config.${n}.editor-theme`,U_=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],B_={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function xb({workspaceId:e,configId:n,configName:a,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:x,shouldBypassUnsavedGuard:g}){const b=Tt(),{fileId:y,pane:w,console:j,consoleExplicit:T,setFileId:E,setPane:z,setConsole:U}=S2(),N=!!i,M=Q2({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!N}),P=p.useMemo(()=>i?i.tree:M.data?f2(M.data):null,[i,M.data]),[$,ne]=p.useState(()=>i?.console?i.console.slice(-hc):[]);p.useEffect(()=>{i?.console&&ne(i.console.slice(-hc))},[i?.console]);const[I,J]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),W=p.useRef(null),ee=p.useRef(!0),[re,ue]=p.useState(null),[me,pe]=p.useState(null),[Se,B]=p.useState(!1),K=p.useCallback(Z=>{if(!ee.current)return;const ae=Fn(new Date);ne([{level:"info",message:Z,timestamp:ae}])},[ne]),ge=p.useCallback(Z=>{ee.current&&ne(ae=>{const ke=[...ae,Z];return ke.length>hc?ke.slice(ke.length-hc):ke})},[ne]);p.useEffect(()=>{i?.validation&&J({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(ee.current=!0,()=>{ee.current=!1,W.current?.abort()}),[]);const be=G2(e,n),we=p.useMemo(()=>i?null:Ya(z_(e,n)),[e,n,i]),k=p.useMemo(()=>i?null:Ya(O_(e,n)),[e,n,i]),Q=p.useRef(null);!Q.current&&k&&(Q.current=k.get()??null);const O=_2(L_(e,n)),R=O.resolvedTheme==="vs-light"?"light":"dark",V=I.lastRunAt?`Last run ${eC(I.lastRunAt)}`:void 0,[H,oe]=p.useState({collapsed:!1,fraction:280/1200}),[xe,Ee]=p.useState({collapsed:!1,fraction:300/1200}),[F,Ne]=p.useState(null),[Ce,Be]=p.useState(!1),[Oe,Ae]=p.useState({width:0,height:0}),[Qe,at]=p.useState(null),[rt,Kt]=p.useState("explorer"),[A,_]=p.useState(null),[C,ie]=p.useState(null),[te,ce]=p.useState(!1),[je,qe]=p.useState(!1),[Ve,jt]=p.useState(!1),{notifyBanner:ye,dismissScope:Te}=E_(),Ze=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Ke=p.useCallback((Z,ae)=>{ye({title:Z,intent:ae?.intent??"info",duration:ae?.duration??6e3,dismissible:!0,scope:Ze,persistKey:Ze})},[ye,Ze]),it=p.useCallback(()=>{Te(Ze,"banner")},[Te,Ze]),Et=p.useCallback(Z=>{if(!ee.current)return;const ae=J_(Z);ge({level:"error",message:ae,timestamp:Fn(new Date)}),Ke(ae,{intent:"danger",duration:null})},[ge,Ke]),pt=c==="maximized",Gn=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Is=p.useCallback(()=>{x()},[x]),Ti=p.useCallback(Z=>{ie(Z)},[]),Os=p.useCallback(()=>ie(null),[]),Ls=!H.collapsed,Mt=p.useCallback(async Z=>{if(i)return{content:i.content[Z]??"",etag:null};const ae=await b.fetchQuery({queryKey:gn.file(e,n,Z),queryFn:({signal:ke})=>e0(e,n,Z,ke)});if(!ae)throw new Error("File could not be loaded.");return{content:l0(ae),etag:ae.etag??null}},[i,b,e,n]),_e=g2({tree:P,initialActiveFileId:y,loadFile:Mt,persistence:we??void 0}),Ht=I2(e,n),vn=p.useCallback(async Z=>{if(N)return null;const ae=await b.fetchQuery({queryKey:gn.file(e,n,Z),queryFn:({signal:He})=>e0(e,n,Z,He)}),ke=l0(ae);return _e.replaceTabContent(Z,{content:ke,etag:ae.etag??null,metadata:{size:ae.size??null,modifiedAt:ae.mtime??null,contentType:ae.content_type??_e.tabs.find(He=>He.id===Z)?.metadata?.contentType??null,etag:ae.etag??null}}),ae},[N,b,e,n,_e]);E2({isDirty:_e.isDirty,shouldBypassNavigation:g});const Nn=p.useCallback(()=>{u()},[u]),hn=p.useCallback(()=>{pt?m():f()},[pt,f,m]),_n=p.useCallback(()=>{ce(Z=>!Z)},[]),Dt=j!=="open",Rt=p.useMemo(()=>_e.tabs.filter(Z=>Z.status==="ready"&&Z.content!==Z.initialContent),[_e.tabs]),Yn=_e.tabs.some(Z=>Z.saving),Vt=!N&&Rt.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[H.collapsed,H.fraction,xe.collapsed,xe.fraction,Dt,F,pt]);const ln=p.useCallback(async Z=>{if(N)return!1;const ae=_e.tabs.find(ke=>ke.id===Z);if(!ae||ae.status!=="ready"||ae.content===ae.initialContent||ae.saving)return!1;_e.beginSavingTab(Z);try{const ke=await Ht.mutateAsync({path:ae.id,content:ae.content,etag:ae.etag??void 0,create:!ae.etag,parents:!0}),He={size:ke.size??ae.metadata?.size??null,modifiedAt:ke.mtime??ae.metadata?.modifiedAt??null,contentType:ae.metadata?.contentType??null,etag:ke.etag??ae.metadata?.etag??null};return _e.completeSavingTab(Z,{etag:ke.etag??ae.etag??null,metadata:He}),Ke(`Saved ${ae.name}`,{intent:"success",duration:4e3}),!0}catch(ke){const He=ke instanceof is&&ke.status===412,nt=He?new Error("Save blocked because this file changed on the server. Reloading latest version."):ke;if(_e.failSavingTab(Z,nt instanceof Error?nt.message:String(nt)),He)try{await vn(Z),Ke("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Pe){Et(Pe)}return Et(nt),!1}},[N,_e,Ht,Ke,vn,Et]),ls=p.useCallback(async Z=>{const ae=[];for(const ke of Z)await ln(ke)&&ae.push(ke);return ae},[ln]),os=p.useCallback(Z=>{ln(Z)},[ln]),Tn=p.useCallback(()=>{_e.activeTab&&ln(_e.activeTab.id)},[_e.activeTab,ln]),Es=p.useCallback(()=>{if(!Vt)return;const Z=Rt.map(ae=>ae.id);(async()=>{const ae=await ls(Z);ae.length>1&&Ke(`Saved ${ae.length} files`,{intent:"success",duration:5e3})})()},[Vt,Rt,ls,Ke]);p.useEffect(()=>{const Z=Qe;if(!Z||typeof window>"u")return;const ae=()=>{const He=Z.getBoundingClientRect(),nt=He.width,Pe=He.height;Ae({width:nt,height:Pe}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(ae(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae);const ke=new window.ResizeObserver(()=>ae());return ke.observe(Z),()=>ke.disconnect()},[Qe]);const dt=p.useMemo(()=>{const Z=Math.max(0,Oe.height),ae=Math.min(M_.max,Math.max(0,Z-hi-Sl)),ke=Math.min(yf,ae);return{container:Z,minPx:ke,maxPx:ae}},[Oe.height]),on=p.useCallback((Z,ae=dt)=>Zn(Z,ae.minPx,ae.maxPx),[dt]),Ft=p.useCallback(()=>{const Z=Q.current;return Z&&"version"in Z&&Z.version===2&&typeof Z.fraction=="number"?Zn(Z.fraction,0,1):Z&&"height"in Z&&typeof Z.height=="number"&&dt.container>0?Zn(Z.height/dt.container,0,1):.25},[dt.container]);p.useEffect(()=>{F===null&&dt.container>0&&Ne(Ft())},[F,dt.container,Ft]),p.useEffect(()=>{if(typeof window>"u")return;const Z=ke=>{qe(ke.shiftKey||ke.altKey)},ae=()=>qe(!1);return window.addEventListener("keydown",Z),window.addEventListener("keyup",Z),window.addEventListener("blur",ae),()=>{window.removeEventListener("keydown",Z),window.removeEventListener("keyup",Z),window.removeEventListener("blur",ae)}},[]);const Wn=p.useCallback(()=>dt.container>0&&dt.maxPx<yf?(U("closed"),Ke(a0,{intent:"warning",duration:1e4}),!1):(it(),U("open"),Ne(Z=>Z!==null?Zn(Z,0,1):Ft()),!0),[dt,U,Ke,it,Ft]),Mr=p.useCallback(()=>{U("closed"),it()},[U,it]);p.useEffect(()=>{if(Ce)return;const Z=Q.current?.state;if(T||!Z){Be(!0);return}(Z==="open"||Z==="closed")&&Z!==j&&U(Z),Be(!0)},[T,j,U,Ce]),p.useEffect(()=>{!k||Ve||F===null||k.set({version:2,fraction:Zn(F,0,1),state:j})},[k,F,j,Ve]),p.useEffect(()=>{if(!(j!=="open"||!dt.container)){if(dt.maxPx<yf){U("closed"),Ke(a0,{intent:"warning",duration:1e4});return}Ne(Z=>Z===null?Ft():Zn(Z,0,1))}},[j,dt,U,Ke,Ft]);const Dr=p.useCallback((Z,ae)=>{if(Z<=0)return{minPx:ae.min,maxPx:ae.max,minFrac:0,maxFrac:1};const ke=Math.min(ae.min,Z),He=Math.min(ae.max,Z);return{minPx:ke,maxPx:He,minFrac:ke/Z,maxFrac:He/Z}},[]),bn=Math.max(0,Oe.width-R_),Ns=p.useMemo(()=>Dr(bn,T_),[bn,Dr]),Rn=p.useMemo(()=>Dr(bn,A_),[bn,Dr]),Gs=p.useCallback((Z,ae)=>Zn(Z,ae.minFrac,ae.maxFrac),[]);p.useEffect(()=>{bn<=0||(oe(Z=>{if(Z.collapsed)return Z;const ae=Gs(Z.fraction,Ns);return ae===Z.fraction?Z:{...Z,fraction:ae}}),Ee(Z=>{if(Z.collapsed)return Z;const ae=Gs(Z.fraction,Rn);return ae===Z.fraction?Z:{...Z,fraction:ae}}))},[bn,Ns,Rn,Gs]);const Us=!xe.collapsed&&!!_e.activeTab,_s=H.collapsed?0:Zn(H.fraction,Ns.minFrac,Ns.maxFrac)*bn,Bs=Us?Zn(xe.fraction,Rn.minFrac,Rn.maxFrac)*bn:0;let cs=_s,Ot=Bs;if(bn>0){const Z=(Ls?Sl:0)+(Us?Sl:0),ae=_s+Bs+Z;if(ae>bn){const ke=ae-bn,He=Math.min(ke,Math.max(0,Bs-Rn.minPx));Ot=Bs-He;const nt=ke-He;if(nt>0){const Pe=Math.min(nt,Math.max(0,_s-Ns.minPx));cs=_s-Pe}}}const Kn=Math.max(0,dt.container),Ys=F??(Kn>0?Zn(D_/Kn,0,1):.25),ga=Dt?0:Ys*Kn,Rr=Dt?0:Kn>0?on(ga):0,Gl=Kn>0?Math.max(hi,Kn-Sl-Rr):hi;p.useEffect(()=>{const Z=_e.activeTabId;if(!Z){E(void 0);return}E(Z)},[_e.activeTabId,E]);const Xa=p.useCallback((Z,ae)=>{if(N||!P||M.isLoading||M.isError||re!==null||ae.mode==="validation"&&be.isPending||!Wn())return null;const He=new Date().toISOString();z("console"),K(ae.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction"),ae.mode==="validation"?J(Pe=>({...Pe,status:"running",lastRunAt:He,error:null})):pe(null);const nt=new AbortController;return W.current?.abort(),W.current=nt,ue({kind:"run",startedAt:He,metadata:ae}),(async()=>{let Pe=null;try{for await(const Fe of K2(n,Z,nt.signal)){if(ge(s_(Fe)),!ee.current)return;if(!ub(Fe)&&(Fe.type==="run.created"&&(Pe=Fe.run_id),Fe.type==="run.completed")){const Ws=Fe.status==="succeeded"?"ADE run completed successfully.":Fe.status==="canceled"?"ADE run canceled.":Fe.error_message?.trim()||"ADE run failed.",wa=Fe.status==="succeeded"?"success":Fe.status==="canceled"?"info":"danger";if(Ke(Ws,{intent:wa}),ae.mode==="extraction"&&Pe){const Ur=`/api/v1/runs/${encodeURIComponent(Pe)}`;pe({runId:Pe,status:Fe.status,downloadBase:Ur,documentName:ae.documentName,sheetNames:ae.sheetNames??[],outputs:[],outputsLoaded:!1,artifact:null,artifactLoaded:!1,artifactError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:null});try{const Pt=await lb(Pe),Lt=Array.isArray(Pt.files)?Pt.files:[];pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,outputs:Lt,outputsLoaded:!0}:Ut)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run outputs.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,outputsLoaded:!0,error:Lt}:Ut)}try{const Pt=await ob(Pe);pe(Lt=>Lt&&Lt.runId===Pe?{...Lt,artifact:Pt,artifactLoaded:!0}:Lt)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run artifact.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,artifactLoaded:!0,artifactError:Lt}:Ut)}try{const Pt=await cb(Pe);pe(Lt=>Lt&&Lt.runId===Pe?{...Lt,telemetry:Pt,telemetryLoaded:!0}:Lt)}catch(Pt){const Lt=Pt instanceof Error?Pt.message:"Unable to load run telemetry.";pe(Ut=>Ut&&Ut.runId===Pe?{...Ut,telemetryLoaded:!0,telemetryError:Lt}:Ut)}}}}}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="AbortError")return;Et(Fe)}finally{W.current===nt&&(W.current=null),ee.current&&ue(null)}})(),He},[N,P,M.isLoading,M.isError,re,be.isPending,Wn,z,K,J,pe,W,ue,n,ge,Ke,Et]),eu=p.useCallback(()=>{const Z=Xa({validate_only:!0},{mode:"validation"});Z&&be.mutate(void 0,{onSuccess(ae){const He=(ae.issues??[]).map(nt=>({level:"error",message:nt.message,path:nt.path}));J({status:"success",messages:He,lastRunAt:Z,error:null,digest:ae.content_digest??null})},onError(ae){const ke=ae instanceof Error?ae.message:"Validation failed.";J({status:"error",messages:[{level:"error",message:ke}],lastRunAt:Z,error:ke,digest:null})}})},[Xa,be,J]),zr=p.useCallback(Z=>{const ae=Array.from(new Set((Z.sheetNames??[]).filter(Boolean)));Xa({input_document_id:Z.documentId,input_sheet_names:ae.length?ae:void 0,input_sheet_name:ae.length===1?ae[0]:void 0},{mode:"extraction",documentId:Z.documentId,documentName:Z.documentName,sheetNames:ae})&&B(!1)},[Xa]),us=p.useCallback(Z=>{if(Os(),N||!P||M.isLoading||M.isError||re!==null||!Wn())return;const ae=typeof Z?.force=="boolean"?Z.force:je,ke=!!Z?.wait,He=new Date().toISOString();z("console"),K(ae?"Force rebuilding environment":"Starting configuration build");const nt=Fn(new Date);ae?ge({level:"warning",message:"Force rebuild requested. ADE will recreate the environment from scratch.",timestamp:nt}):ke&&ge({level:"info",message:"Waiting for any running build to finish before starting.",timestamp:nt});const Pe=new AbortController;W.current?.abort(),W.current=Pe,ue({kind:"build",startedAt:He,metadata:{force:ae,wait:ke}}),(async()=>{try{for await(const Fe of W2(e,n,{force:ae,wait:ke},Pe.signal)){if(ge(n_(Fe)),!ee.current)return;if(Fe.type==="build.completed"){const Ws=Fe.summary?.trim();if(Ws&&/reused/i.test(Ws))ge({level:"info",message:"Environment reused. Hold Shift or open the build menu to force a rebuild.",timestamp:Fn(new Date)}),Ke("Environment already up to date. Hold Shift or use the menu to force rebuild.",{intent:"info"});else{const wa=Fe.status==="active"?Ws||"Build completed successfully.":Fe.status==="canceled"?"Build canceled.":Fe.error_message?.trim()||"Build failed.",Ur=Fe.status==="active"?"success":Fe.status==="canceled"?"info":"danger";Ke(wa,{intent:Ur})}}}}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="AbortError")return;Et(Fe)}finally{W.current===Pe&&(W.current=null),ee.current&&ue(null)}})()},[N,P,M.isLoading,M.isError,re,Os,Wn,je,z,K,ge,W,ue,e,n,Et,Ke]);p.useEffect(()=>{if(typeof window>"u")return;const Z=ae=>{if(!(Gn?ae.metaKey:ae.ctrlKey)||ae.altKey||ae.key.toLowerCase()!=="b")return;const He=ae.target;if(He){const nt=He.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||He.isContentEditable)return}ae.preventDefault(),us({force:ae.shiftKey,source:"shortcut"})};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[us,Gn]),p.useEffect(()=>{if(typeof window>"u")return;const Z=ae=>{if(!(Gn?ae.metaKey:ae.ctrlKey)||ae.altKey||ae.key.toLowerCase()!=="s")return;const He=ae.target;if(He){const nt=He.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||He.isContentEditable)return}Vt&&(ae.preventDefault(),Tn())};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[Gn,Vt,Tn]);const ds=re?.kind==="run"?re.metadata:void 0,An=re?.kind==="run",Yl=re?.kind==="build",Ai=re!==null,Mi=An&&ds?.mode==="extraction",Wl=An&&ds?.mode!=="extraction",Or=I.status==="running"||be.isPending||Wl,tu=!N&&!!P&&!M.isLoading&&!M.isError&&!Ai&&!be.isPending&&I.status!=="running",zn=Mi,Lr=!N&&!!P&&!M.isLoading&&!M.isError&&!Ai,Kl=Yl,Ja=!N&&!!P&&!M.isLoading&&!M.isError&&!Ai,xa=p.useCallback(Z=>{Kt(Z),Z==="explorer"&&oe(ae=>({...ae,collapsed:!1}))},[]),Pl=p.useCallback(Z=>{Z.preventDefault();const ae=Z.currentTarget.getBoundingClientRect();_({x:ae.right+8,y:ae.top})},[]),Xl=p.useCallback(()=>_(null),[]),qs=p.useCallback(()=>{Dt?Wn():Mr()},[Dt,Wn,Mr]),nu=p.useCallback(()=>{oe(Z=>({...Z,collapsed:!Z.collapsed}))},[]),Jl=p.useCallback(()=>{oe(Z=>({...Z,collapsed:!0}))},[]),eo=p.useCallback(()=>{Ee(Z=>({...Z,collapsed:!Z.collapsed}))},[]),Di=p.useMemo(()=>{const Z=o.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),ae=U_.map(ke=>({id:`theme-${ke.value}`,label:`${ke.label} theme`,icon:O.preference===ke.value?o.jsx(mc,{}):Z,onSelect:()=>O.setPreference(ke.value)}));return ae.push({id:"toggle-explorer",label:H.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:H.collapsed?Z:o.jsx(mc,{}),onSelect:()=>oe(ke=>({...ke,collapsed:!ke.collapsed}))},{id:"toggle-inspector",label:xe.collapsed?"Show Inspector":"Hide Inspector",icon:xe.collapsed?Z:o.jsx(mc,{}),onSelect:()=>Ee(ke=>({...ke,collapsed:!ke.collapsed}))},{id:"toggle-console",label:Dt?"Show Console":"Hide Console",icon:Dt?Z:o.jsx(mc,{}),onSelect:qs}),ae},[O,H.collapsed,xe.collapsed,Dt,qs]);p.useEffect(()=>{if(typeof document>"u"||!pt)return;const Z=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=Z||""}},[pt]);const su=tC(e),au=Gn?"S":"Ctrl+S",va=Gn?"B":"Ctrl+B",Pn=Gn?"B":"Ctrl+Shift+B",Ri=p.useMemo(()=>{const Z=!Ja;return[{id:"build-default",label:"Build / reuse environment",shortcut:va,disabled:Z,onSelect:()=>us()},{id:"build-force",label:"Force rebuild now",shortcut:Pn,disabled:Z,onSelect:()=>us({force:!0})},{id:"build-force-wait",label:"Force rebuild after current build",disabled:Z,onSelect:()=>us({force:!0,wait:!0})}]},[va,Pn,Ja,us]);if(!i&&M.isLoading)return o.jsx(Ct,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&M.isError)return o.jsx(Ct,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!P)return o.jsx(Ct,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const zi=pt?R==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":R==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",ba=R==="dark"?"#1b1f27":"#ffffff",ya=R==="dark"?"#f5f6fb":"#0f172a",to=pt?ve("fixed inset-0 z-[90] flex flex-col",R==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):ve("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",R==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return o.jsxs("div",{className:ve("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",zi),children:[pt?o.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,o.jsxs("div",{className:to,children:[o.jsx($_,{configName:a,workspaceLabel:su,validationLabel:V,canSaveFiles:Vt,isSavingFiles:Yn,onSaveFile:Tn,saveShortcutLabel:au,canBuildEnvironment:Ja,isBuildingEnvironment:Kl,onBuildEnvironment:us,onOpenBuildMenu:Ti,forceModifierActive:je,buildShortcutLabel:va,forceShortcutLabel:Pn,canRunValidation:tu,isRunningValidation:Or,onRunValidation:eu,canRunExtraction:Lr,isRunningExtraction:zn,onRunExtraction:()=>{Lr&&B(!0)},explorerVisible:Ls,onToggleExplorer:nu,consoleOpen:!Dt,onToggleConsole:qs,inspectorCollapsed:xe.collapsed,onToggleInspector:eo,appearance:R,forceNextBuild:te,onToggleForceNextBuild:_n,windowState:c,onMinimizeWindow:Nn,onToggleMaximize:hn,onCloseWindow:Is}),o.jsxs("div",{ref:at,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[o.jsx(wj,{activeView:rt,onSelectView:xa,onOpenSettings:Pl,appearance:R}),Ls?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex min-h-0",style:{width:cs},children:rt==="explorer"&&_e.tree?o.jsx(YN,{width:cs,tree:_e.tree,activeFileId:_e.activeTab?.id??"",openFileIds:_e.tabs.map(Z=>Z.id),onSelectFile:Z=>{_e.openFile(Z),E(Z)},theme:R,onCloseFile:_e.closeTab,onCloseOtherFiles:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllFiles:_e.closeAllTabs,onHide:Jl}):o.jsx(q_,{width:cs,view:rt})}),o.jsx(gf,{orientation:"vertical",onPointerDown:Z=>{const ae=Z.clientX,ke=cs;bf(Z,{cursor:"col-resize",onMove:He=>{const nt=He.clientX-ae,Pe=Zn(ke+nt,Ns.minPx,Ns.maxPx);oe(Fe=>Fe.collapsed||bn<=0?Fe:{...Fe,fraction:Gs(Pe/bn,Ns)})}})}})]}):null,o.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:ba,color:ya},children:Dt?o.jsx(Fx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:Z=>{_e.selectTab(Z),E(Z)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:os,onSaveAllTabs:Es,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:O.resolvedTheme,menuAppearance:R,canSaveFiles:Vt,minHeight:hi}):o.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Kn>0?`${Kn}px`:void 0,gridTemplateRows:`${Math.max(hi,Gl)}px ${Sl}px ${Math.max(0,Rr)}px`},children:[o.jsx(Fx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:Z=>{_e.selectTab(Z),E(Z)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:os,onSaveAllTabs:Es,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:O.resolvedTheme,menuAppearance:R,canSaveFiles:Vt,minHeight:hi}),o.jsx(gf,{orientation:"horizontal",onPointerDown:Z=>{jt(!0);const ae=Z.clientY,ke=Rr;bf(Z,{cursor:"row-resize",onMove:He=>{if(dt.maxPx<=0||Kn<=0)return;const nt=ae-He.clientY,Pe=Zn(ke+nt,dt.minPx,dt.maxPx);Ne(Zn(Pe/Kn,0,1))},onEnd:()=>{jt(!1)}})}}),o.jsx(kj,{height:Math.max(0,Rr),consoleLines:$,validation:I,activePane:w,onPaneChange:z,latestRun:me})]})}),Us?o.jsxs(o.Fragment,{children:[o.jsx(gf,{orientation:"vertical",onPointerDown:Z=>{const ae=Z.clientX,ke=Ot;bf(Z,{cursor:"col-resize",onMove:He=>{const nt=ae-He.clientX,Pe=Zn(ke+nt,Rn.minPx,Rn.maxPx);Ee(Fe=>Fe.collapsed||bn<=0?Fe:{...Fe,fraction:Gs(Pe/bn,Rn)})}})}}),o.jsx(o2,{width:Ot,file:_e.activeTab??null})]}):null]})]}),Se?o.jsx(Z_,{open:Se,workspaceId:e,onClose:()=>B(!1),onRun:zr}):null,o.jsx(Ll,{open:!!C,position:C,onClose:Os,items:Ri,appearance:R}),o.jsx(Ll,{open:!!A,position:A,onClose:Xl,items:Di,appearance:R})]})}function q_({width:e,view:n}){const a=B_[n]||"Coming soon";return o.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:a})}function mc(){return o.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function $_({configName:e,workspaceLabel:n,validationLabel:a,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:f,canBuildEnvironment:m,isBuildingEnvironment:x,onBuildEnvironment:g,onOpenBuildMenu:b,forceNextBuild:y,forceModifierActive:w,buildShortcutLabel:j,forceShortcutLabel:T,canRunValidation:E,isRunningValidation:z,onRunValidation:U,canRunExtraction:N,isRunningExtraction:M,onRunExtraction:P,explorerVisible:$,onToggleExplorer:ne,consoleOpen:I,onToggleConsole:J,inspectorCollapsed:W,onToggleInspector:ee,appearance:re,onToggleForceNextBuild:ue,windowState:me,onMinimizeWindow:pe,onToggleMaximize:Se,onCloseWindow:B}){const K=re==="dark",ge=K?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",be=K?"text-white/60":"text-slate-500",we=K?"bg-white/10 text-white hover:bg-white/20 disabled:bg-white/10 disabled:text-white/40":"bg-slate-100 text-slate-900 hover:bg-slate-200 disabled:bg-slate-50 disabled:text-slate-400",k=K?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",Q=K?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",O=me==="maximized",R=y||w,V=x?"Building":R?"Force rebuild":"Build environment",H=R?`Force rebuild (Shift+Click  ${T})`:`Build environment (${j})`;return o.jsxs("div",{className:ve("flex items-center justify-between border-b px-4 py-2",ge),children:[o.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[o.jsx(F_,{}),o.jsxs("div",{className:"min-w-0 leading-tight",children:[o.jsx("div",{className:ve("text-[10px] font-semibold uppercase tracking-[0.35em]",be),children:"Config Workbench"}),o.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),o.jsxs("div",{className:ve("text-[11px]",be),title:n,children:["Workspace  ",n]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[a?o.jsx("span",{className:ve("text-xs",be),children:a}):null,o.jsxs("button",{type:"button",onClick:u,disabled:!i,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",k),title:`Save (${f})`,children:[c?o.jsx(pc,{}):o.jsx(X_,{}),c?"Saving":"Save"]}),o.jsx(T2,{label:V,icon:x?o.jsx(pc,{}):o.jsx(r0,{}),disabled:!m,isLoading:x,highlight:R&&!x,title:H,primaryClassName:ve(we,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:ve(we,"rounded-l-none px-2",K?"border-white/20":"border-slate-300"),menuAriaLabel:"Open build options",onPrimaryClick:oe=>g({force:oe.shiftKey||oe.altKey||w}),onOpenMenu:oe=>b({x:oe.x,y:oe.y}),onContextMenu:oe=>{oe.preventDefault(),b({x:oe.clientX,y:oe.clientY})}}),o.jsxs("button",{type:"button",onClick:U,disabled:!E,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",Q),children:[z?o.jsx(pc,{}):o.jsx(i0,{}),z?"Running":"Run validation"]}),o.jsxs("button",{type:"button",onClick:P,disabled:!N,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",Q),children:[M?o.jsx(pc,{}):o.jsx(i0,{}),M?"Running":"Run extraction"]}),o.jsx(xr,{ariaLabel:y?"Force rebuild enabled for next run":"Force next rebuild",onClick:ue,appearance:re,active:y,icon:o.jsx(r0,{})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xr,{ariaLabel:$?"Hide explorer":"Show explorer",onClick:ne,appearance:re,active:$,icon:o.jsx(Q_,{active:$})}),o.jsx(xr,{ariaLabel:W?"Show inspector":"Hide inspector",onClick:ee,appearance:re,active:!W,icon:o.jsx(G_,{})}),o.jsx(xr,{ariaLabel:I?"Hide console":"Show console",onClick:J,appearance:re,active:I,icon:o.jsx(I_,{})})]}),o.jsxs("div",{className:ve("flex items-center gap-2 border-l pl-3",re==="dark"?"border-white/20":"border-slate-200/70"),children:[o.jsx(xr,{ariaLabel:"Minimize workbench",onClick:pe,appearance:re,icon:o.jsx(K_,{})}),o.jsx(xr,{ariaLabel:O?"Restore workbench":"Maximize workbench",onClick:Se,appearance:re,active:O,icon:O?o.jsx(W_,{}):o.jsx(Y_,{})}),o.jsx(xr,{ariaLabel:"Close workbench",onClick:B,appearance:re,icon:o.jsx(P_,{})})]})]})]})}function Z_({open:e,workspaceId:n,onClose:a,onRun:i}){const c=p.useRef(null),u=fn({queryKey:["builder-documents",n],queryFn:({signal:M})=>H_(n,M),staleTime:6e4}),f=p.useMemo(()=>u.data??[],[u.data]),[m,x]=p.useState("");p.useEffect(()=>{if(!f.length){x("");return}x(M=>M&&f.some(P=>P.id===M)?M:f[0]?.id??"")},[f]);const g=f.find(M=>M.id===m)??null,b=fn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:M})=>db(n,m,M),enabled:!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,j]=p.useState([]);p.useEffect(()=>{if(!y.length){j([]);return}j(M=>M.filter(P=>y.some($=>$.name===P)))},[y]);const T=p.useMemo(()=>Array.from(new Set(w.filter(M=>y.some(P=>P.name===M)))),[w,y]),E=p.useCallback(M=>{j(P=>P.includes(M)?P.filter($=>$!==M):[...P,M])},[]);if(!e)return null;const z=!g||u.isLoading||u.isError,U=y.length>0,N=o.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:o.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[o.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running the extractor."})]}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),u.isError?o.jsx(mt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?o.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):f.length===0?o.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),o.jsx(Wa,{id:"builder-run-document-select",value:m,onChange:M=>x(M.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:f.map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))}),g?o.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",V_(g.created_at)," "," ",(g.byte_size??0).toLocaleString()," bytes"]}):null]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?o.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?o.jsx(mt,{tone:"warning",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]})]})}):U?o.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),o.jsx("p",{className:"text-xs text-slate-500",children:T.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${T.length.toLocaleString()} worksheet${T.length===1?"":"s"} selected.`})]}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]}),o.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(M=>{const P=T.includes(M.name);return o.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:P,onChange:()=>E(M.name)}),o.jsxs("span",{className:"flex-1 truncate",children:[M.name,M.is_active?" (active)":""]})]},`${M.index}-${M.name}`)})})]}):o.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),o.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[o.jsx(ze,{variant:"ghost",onClick:a,children:"Cancel"}),o.jsx(ze,{onClick:()=>{g&&i({documentId:g.id,documentName:g.name,sheetNames:T.length>0?T:void 0})},disabled:z,children:"Run extraction"})]})]})});return typeof document>"u"?null:fa.createPortal(N,document.body)}async function H_(e,n){const{data:a}=await We.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return a?.items??[]}function V_(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function xr({ariaLabel:e,onClick:n,icon:a,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return o.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:a})}function F_(){return o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function Q_({active:e}){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),o.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function I_(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function G_(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function Y_(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function W_(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function K_(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function P_(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function pc(){return o.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),o.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function r0(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M11 2.5a2.5 2.5 0 0 0-2.62 3.04L4 9.92 6.08 12l4.58-4.38A2.5 2.5 0 0 0 13.5 5 2.5 2.5 0 0 0 11 2.5Z",fill:"currentColor"}),o.jsx("path",{d:"M4 10l2 2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function i0(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function X_(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function J_(e){return e instanceof is?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function eC(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function tC(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function l0(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function nC(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const vb=p.createContext(null);function bb(){const e=p.useContext(vb);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function sC({workspaceId:e,children:n}){const a=En(),i=Ss(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),x=p.useRef(0),g=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Ya(nC(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),j=p.useMemo(()=>cC(i.pathname,e),[i.pathname,e]),T=!!j;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{T||y.set(`${i.pathname}${i.search}${i.hash}`)},[T,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){g.current=null;return}const ee=g.current;if(T&&j===c.configId){if(ee==="dock"){g.current=null,m("minimized");return}ee&&(g.current=null);return}if(ee==="dock"){g.current=null;return}if(ee==="close"){g.current=null;return}u(null),m("restored"),g.current=null},[c,T,j,f]),p.useEffect(()=>{if(!c||!T||j!==c.configId)return;const ee=c0(i.search);ee!==c.editorSearch&&u(re=>!re||re.instanceId!==c.instanceId?re:{...re,editorSearch:ee})},[c,T,j,i.search]);const E=p.useCallback(()=>y.get()??w,[y,w]),z=p.useCallback(ee=>{u(re=>{if(!re)return re;const ue=new URLSearchParams(re.editorSearch),me=typeof ee=="function"?ee(new URLSearchParams(ue)):ee,Se=sb(me).toString();return Se===re.editorSearch?re:{...re,editorSearch:Se}})},[]),U=p.useCallback(ee=>{const re=c0(ee.editorSearch??i.search);let ue=f==="minimized";u(me=>{if(me&&me.workspaceId===ee.workspaceId&&me.configId===ee.configId){const pe=ee.seed??me.seed,Se=ee.editorSearch!==void 0?re:me.editorSearch;return me.configName===ee.configName&&me.seed===pe&&me.editorSearch===Se?me:{...me,configName:ee.configName,seed:pe,editorSearch:Se}}return ue=!0,x.current+=1,{...ee,editorSearch:re,instanceId:`${ee.workspaceId}:${ee.configId}:${x.current}`}}),ue&&m("restored")},[i.search,f]),N=p.useCallback(()=>{c&&(u(null),m("restored"),g.current="close",a(E()))},[c,a,E]),M=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),g.current="dock",a(E()))},[c,a,E]),P=p.useCallback(()=>{if(!c)return;m("restored");const ee=uC(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==ee&&a(ee)},[c,a,i.pathname,i.search]),$=p.useCallback(()=>{c&&m("maximized")},[c]),ne=p.useCallback(()=>{const ee=b.current;return b.current=!1,ee},[]),I=p.useMemo(()=>({session:c,windowState:f,openSession:U,closeSession:N,minimizeWindow:M,maximizeWindow:$,restoreWindow:P,shouldBypassUnsavedGuard:ne}),[c,f,U,N,M,$,P,ne]),J=!!c&&(!T||j!==c?.configId),W=p.useMemo(()=>J&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:z}:null,[J,c,z]);return o.jsxs(vb.Provider,{value:I,children:[n,o.jsx(x2,{value:W,children:o.jsx(aC,{session:c,windowState:f,onClose:N,onMinimize:M,onMaximize:$,onRestore:P,shouldBypassUnsavedGuard:ne})}),c&&f==="minimized"?o.jsx(rC,{configName:c.configName,onRestore:P,onDismiss:N}):null]})}function aC({session:e,windowState:n,onClose:a,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:o.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:o.jsx(xb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:a,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function rC({configName:e,onRestore:n,onDismiss:a}){return o.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:o.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:o.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[o.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:o.jsx(iC,{})}),o.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[o.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),o.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),o.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[o.jsx(o0,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:o.jsx(lC,{})}),o.jsx(o0,{ariaLabel:"Close minimized workbench",onClick:a,destructive:!0,children:o.jsx(oC,{})})]})]})})})}function o0({ariaLabel:e,onClick:n,children:a,destructive:i=!1}){return o.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:a})}function iC(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function lC(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function oC(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function cC(e,n){const a=`/workspaces/${n}/config-builder/`;if(!e.startsWith(a))return null;const i=e.slice(a.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function uC(e,n,a){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return a.length>0?`${i}?${a}`:i}function c0(e){return e?e.startsWith("?")?e.slice(1):e:""}function yb({id:e,value:n,defaultValue:a="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:x,leadingIcon:g,trailingIcon:b,className:y,variant:w="default",isLoading:j=!1,loadingLabel:T="Loading suggestions",filters:E,onSelectFilter:z,emptyState:U,onChange:N,onSubmit:M,onClear:P,onFocus:$,onBlur:ne,suggestions:I=[],onSelectSuggestion:J,renderSuggestion:W}){const ee=p.useId(),re=e??ee,ue=`${ee}-suggestions`,me=p.useRef(null),pe=n!==void 0,[Se,B]=p.useState(a),[K,ge]=p.useState(!1),[be,we]=p.useState(0),k=pe?n??"":Se,Q=I.length>0,O=!!E?.length,R=K&&(Q||j||!!U||O),V=K&&!Q&&!j&&!!U,H=!!(P||!pe),oe=u||"K",xe=c??i;p.useEffect(()=>{pe||B(a)},[a,pe]),p.useEffect(()=>{we(0)},[I.length,k]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Ae=Qe=>{(Qe.metaKey||Qe.ctrlKey)&&Qe.key.toLowerCase()===f.toLowerCase()&&(Qe.preventDefault(),me.current?.focus())};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[m,f]);const Ee=Ae=>{Ae.preventDefault();const Qe=k.trim();!Qe&&!M||M?.(Qe)},F=Ae=>{pe||B(Ae),N?.(Ae)},Ne=()=>{k&&(pe||B(""),N?.(""),P?.(),me.current?.focus())},Ce=Ae=>{Ae&&(J?.(Ae),Ae.action?.(),ge(!1),me.current?.blur())},Be=Ae=>{if(!R||!Q){Ae.key==="Escape"&&(ge(!1),Ae.currentTarget.blur());return}if(Ae.key==="ArrowDown"){Ae.preventDefault(),we(Qe=>(Qe+1)%I.length);return}if(Ae.key==="ArrowUp"){Ae.preventDefault(),we(Qe=>(Qe-1+I.length)%I.length);return}if(Ae.key==="Enter"){Ae.preventDefault(),Ce(I[be]);return}Ae.key==="Escape"&&(Ae.preventDefault(),ge(!1),Ae.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return o.jsxs("div",{className:ve("relative",y),children:[o.jsx("div",{className:ve("group/search overflow-hidden",Oe,R&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:o.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":xe,onSubmit:Ee,children:[o.jsx("label",{htmlFor:re,className:"sr-only",children:xe}),g??o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:o.jsx(fC,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[x?o.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:x}):null,o.jsx("input",{ref:me,id:re,type:"search",value:k,onChange:Ae=>F(Ae.target.value),onFocus:()=>{ge(!0),$?.(),Q||we(0)},onBlur:()=>{ge(!1),ne?.()},onKeyDown:Be,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":R,"aria-controls":R?ue:void 0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[H&&k?o.jsx("button",{type:"button",onClick:Ne,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:o.jsx(hC,{className:"h-3.5 w-3.5"})}):null,j?o.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":T,children:o.jsx(mC,{className:"h-4 w-4 text-brand-600"})}):null,b,o.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:oe})]})]})}),R?o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[Q?o.jsx("ul",{id:ue,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:I.map((Ae,Qe)=>{const at=Qe===be,rt=W?.({suggestion:Ae,active:at})??o.jsx(dC,{suggestion:Ae,active:at});return o.jsx("li",{children:o.jsx("button",{type:"button",role:"option","aria-selected":at,onMouseEnter:()=>we(Qe),onMouseDown:Kt=>Kt.preventDefault(),onClick:()=>Ce(Ae),className:ve("flex w-full px-5 py-3 text-left transition",at?"bg-brand-50/60":"hover:bg-slate-50/80"),children:rt})},Ae.id)})}):null,V?o.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:U}):null,O?o.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[o.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),E?.map(Ae=>o.jsx("button",{type:"button",onMouseDown:Qe=>Qe.preventDefault(),onClick:()=>z?.(Ae),className:ve("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ae.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ae.label},Ae.id))]})}):null]}):null]})}function dC({suggestion:e,active:n}){return o.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?o.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):o.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),o.jsxs("span",{className:"flex min-w-0 flex-col",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?o.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?o.jsx("span",{className:ve("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function fC({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return o.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function hC({className:e="h-3.5 w-3.5"}){return o.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),o.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function mC({className:e="h-4 w-4"}){return o.jsxs("svg",{className:ve("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),o.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function wb({brand:e,leading:n,actions:a,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:ve("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return o.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:o.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[o.jsxs("div",{className:ve("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[o.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?o.jsx(yb,{...m}):null,o.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[a,i]})]}),u?o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Sb({displayName:e,email:n,actions:a=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),x=p.useRef(null),g=En(),b=p.useMemo(()=>pC(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const T=z=>{const U=z.target;U&&(x.current?.contains(U)||m.current?.contains(U)||y())},E=z=>{z.key==="Escape"&&y()};return window.addEventListener("mousedown",T),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",E)}},[y,i]),p.useEffect(()=>{if(!i)return;x.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(T=>{y(),T()},[y]),j=p.useCallback(async()=>{u||(y(),f(!0),g("/logout",{replace:!0}))},[y,u,g]);return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(T=>!T),children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),o.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),o.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),o.jsx(xC,{className:ve("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?o.jsxs("div",{ref:x,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[o.jsxs("div",{className:"px-2 pb-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),o.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),o.jsx("ul",{className:"space-y-1",role:"none",children:a.map(T=>o.jsx("li",{role:"none",children:o.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(T.onSelect),children:[o.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:T.icon??T.label.charAt(0).toUpperCase()}),o.jsxs("span",{className:"flex min-w-0 flex-col",children:[o.jsx("span",{className:"truncate",children:T.label}),T.description?o.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:T.description}):null]})]})},T.id))}),o.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:o.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:j,disabled:u,children:[o.jsx("span",{children:"Sign out"}),u?o.jsx(gC,{}):null]})})]}):null]})}function pC(e){const n=e.split(" ").map(a=>a.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function gC(){return o.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:o.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function xC({className:e}){return o.jsx("svg",{className:ve("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:o.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Dc({to:e,replace:n,className:a,title:i,children:c,onClick:u}){const f=En();return o.jsx("a",{href:e,className:a,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),f(e,{replace:n}))},children:c})}function vC({to:e,end:n,className:a,children:i,title:c,onClick:u}){const{pathname:f}=Ss(),m=n?f===e:f===e||f.startsWith(`${e}/`),x=typeof a=="function"?a({isActive:m}):a,g=typeof i=="function"?i({isActive:m}):i;return o.jsx(Dc,{to:e,className:x,title:c,onClick:u,children:g})}function Fl(e){return function({title:a,...i}){return o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":a?void 0:!0,role:a?"img":"presentation",...i,children:[a?o.jsx("title",{children:a}):null,o.jsx("path",{d:e})]})}}const bC=Fl("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),yC=Fl("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),wC=Fl("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),SC=Fl("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),jC=Fl("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),jb=[{id:"documents",path:"documents",label:"Documents",icon:bC},{id:"runs",path:"runs",label:"Runs",icon:yC},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:wC},{id:"settings",path:"settings",label:"Workspace Settings",icon:SC}],Ga=jb[0];function Eb(e){return jb.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const EC="4.25rem",NC="18.75rem";function _C({workspace:e,collapsed:n,onToggleCollapse:a,items:i,onGoToWorkspaces:c}){const u=i??Eb(e),f=TC(e.name);return o.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?EC:NC},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:o.jsxs("div",{className:ve("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[o.jsxs("div",{className:ve("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[o.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[o.jsx("span",{className:ve("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?o.jsx("span",{className:"sr-only",children:e.name}):o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"truncate",children:e.name}),o.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),o.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?o.jsx(kC,{}):o.jsx(CC,{})})]}),o.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:o.jsx(Nb,{items:u,collapsed:n})})]})})}function Nb({items:e,collapsed:n=!1,onNavigate:a,className:i,showHeading:c=!0}){return o.jsxs(o.Fragment,{children:[c&&!n?o.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,o.jsx("ul",{className:ve("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>o.jsx("li",{className:"w-full",children:o.jsx(vC,{to:u.href,end:!0,title:n?u.label:void 0,onClick:a,className:({isActive:f})=>ve("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>o.jsxs(o.Fragment,{children:[o.jsx("span",{"aria-hidden":!0,className:ve("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),o.jsx("span",{"aria-hidden":!0,className:ve("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:o.jsx(u.icon,{className:ve("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),o.jsx("div",{className:ve("flex min-w-0 flex-col text-left",n&&"sr-only"),children:o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function CC(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:o.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function kC(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:o.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function TC(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}async function AC(e={}){const{data:n}=await We.GET("/api/v1/system/safe-mode",{signal:e.signal}),a=n??{},i=!!a.enabled,c=typeof a.detail=="string"&&a.detail.trim().length>0?a.detail.trim():Ds;return{enabled:i,detail:c}}async function MC(e,n={}){const{data:a}=await We.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),i=a??{};return{enabled:!!i.enabled,detail:typeof i.detail=="string"&&i.detail.trim().length>0?i.detail.trim():Ds}}const Ds="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.",_b=["system","safe-mode"];function fh(){return fn({queryKey:_b,queryFn:({signal:e})=>AC({signal:e}),staleTime:3e4,refetchInterval:6e4})}function DC(){const e=Tt();return kn({mutationFn:n=>MC(n),onSuccess:()=>{e.invalidateQueries({queryKey:_b})}})}const RC="K",zC="Ctrl+K";function Cb({macLabel:e=RC,windowsLabel:n=zC}={}){const[a,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),a}function OC(){return o.jsxs("section",{children:[o.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const LC=100;function hh({workspaceId:e,enabled:n=!0,page:a=1,pageSize:i=LC}){return fn({queryKey:gn.list(e,{page:a,pageSize:i}),queryFn:({signal:c})=>R2(e,{page:a,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function UC({workspaceId:e,configId:n,enabled:a=!0}){return fn({queryKey:gn.detail(e,n??""),queryFn:({signal:i})=>n?z2(e,n,i):Promise.resolve(null),enabled:a&&e.length>0&&!!n,staleTime:1e4})}function BC({workspaceId:e,configId:n,enabled:a=!0}){return fn({queryKey:gn.versions(e,n),queryFn:({signal:i})=>$2(e,n,{signal:i}),enabled:a&&e.length>0&&n.length>0,placeholderData:i=>i??[],staleTime:15e3})}function qC(e){const n=Tt();return kn({mutationFn:a=>q2(e,a),async onSuccess(){await n.invalidateQueries({queryKey:gn.root(e)})}})}function he(e,n,a){function i(m,x){var g;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(g=m._zod).traits??(g.traits=new Set),m._zod.traits.add(e),n(m,x);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=x}const c=a?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var x;const g=a?.Parent?new u:this;i(g,m),(x=g._zod).deferred??(x.deferred=[]);for(const b of g._zod.deferred)b();return g}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>a?.Parent&&m instanceof a.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class yi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class kb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Tb={};function _r(e){return Tb}function $C(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function $f(e,n){return typeof n=="bigint"?n.toString():n}function mh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function ph(e){return e==null}function gh(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}function ZC(e,n){const a=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const x=i.match(/\d?e-(\d?)/);x?.[1]&&(c=Number.parseInt(x[1]))}const u=a>c?a:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const u0=Symbol("evaluating");function St(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==u0)return i===void 0&&(i=u0,i=a()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function Tr(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function Ar(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function d0(e){return JSON.stringify(e)}const Ab="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Rc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const HC=mh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ul(e){if(Rc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(Rc(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Mb(e){return Ul(e)?{...e}:Array.isArray(e)?[...e]:e}const VC=new Set(["string","number","symbol"]);function Si(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pa(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a?.parent)&&(i._zod.parent=e),i}function Ue(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function FC(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const QC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function IC(e,n){const a=e._zod.def,i=Ar(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=a.shape[u])}return Tr(this,"shape",c),c},checks:[]});return Pa(e,i)}function GC(e,n){const a=e._zod.def,i=Ar(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return Tr(this,"shape",c),c},checks:[]});return Pa(e,i)}function YC(e,n){if(!Ul(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Ar(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Tr(this,"shape",u),u},checks:[]});return Pa(e,c)}function WC(e,n){if(!Ul(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Tr(this,"shape",i),i},checks:e._zod.def.checks};return Pa(e,a)}function KC(e,n){const a=Ar(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Tr(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Pa(e,a)}function PC(e,n,a){const i=Ar(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return Tr(this,"shape",u),u},checks:[]});return Pa(n,i)}function XC(e,n,a){const i=Ar(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return Tr(this,"shape",u),u},checks:[]});return Pa(n,i)}function xi(e,n=0){if(e.aborted===!0)return!0;for(let a=n;a<e.issues.length;a++)if(e.issues[a]?.continue!==!0)return!0;return!1}function Db(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function gc(e){return typeof e=="string"?e:e?.message}function Cr(e,n,a){const i={...e,path:e.path??[]};if(!e.message){const c=gc(e.inst?._zod.def?.error?.(e))??gc(n?.error?.(e))??gc(a.customError?.(e))??gc(a.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function xh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Bl(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const Rb=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,$f,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vh=he("$ZodError",Rb),Qc=he("$ZodError",Rb,{Parent:Error});function JC(e,n=a=>a.message){const a={},i=[];for(const c of e.issues)c.path.length>0?(a[c.path[0]]=a[c.path[0]]||[],a[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:a}}function ek(e,n=a=>a.message){const a={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let f=a,m=0;for(;m<u.path.length;){const x=u.path[m];m===u.path.length-1?(f[x]=f[x]||{_errors:[]},f[x]._errors.push(n(u))):f[x]=f[x]||{_errors:[]},f=f[x],m++}}};return i(e),a}const Ic=e=>(n,a,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise)throw new yi;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>Cr(x,u,_r())));throw Ab(m,c?.callee),m}return f.value},tk=Ic(Qc),Gc=e=>async(n,a,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(x=>Cr(x,u,_r())));throw Ab(m,c?.callee),m}return f.value},nk=Gc(Qc),Yc=e=>(n,a,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise)throw new yi;return u.issues.length?{success:!1,error:new(e??vh)(u.issues.map(f=>Cr(f,c,_r())))}:{success:!0,data:u.value}},sk=Yc(Qc),Wc=e=>async(n,a,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>Cr(f,c,_r())))}:{success:!0,data:u.value}},ak=Wc(Qc),rk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ic(e)(n,a,c)},ik=e=>(n,a,i)=>Ic(e)(n,a,i),lk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gc(e)(n,a,c)},ok=e=>async(n,a,i)=>Gc(e)(n,a,i),ck=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Yc(e)(n,a,c)},uk=e=>(n,a,i)=>Yc(e)(n,a,i),dk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wc(e)(n,a,c)},fk=e=>async(n,a,i)=>Wc(e)(n,a,i),hk=/^[cC][^\s-]{8,}$/,mk=/^[0-9a-z]+$/,pk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gk=/^[0-9a-vA-V]{20}$/,xk=/^[A-Za-z0-9]{27}$/,vk=/^[a-zA-Z0-9_-]{21}$/,bk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,f0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,wk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Sk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jk(){return new RegExp(Sk,"u")}const Ek=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_k=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ck=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,zb=/^[A-Za-z0-9_-]*$/,Tk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Ak=/^\+(?:[0-9]){6,14}[0-9]$/,Ob="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Mk=new RegExp(`^${Ob}$`);function Lb(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Dk(e){return new RegExp(`^${Lb(e)}$`)}function Rk(e){const n=Lb({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${Ob}T(?:${i})$`)}const zk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},Ok=/^-?\d+$/,Lk=/^-?\d+(?:\.\d+)?/,Uk=/^(?:true|false)$/i,Bk=/^[^A-Z]*$/,qk=/^[^a-z]*$/,In=he("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),Ub={number:"number",bigint:"bigint",object:"date"},Bb=he("$ZodCheckLessThan",(e,n)=>{In.init(e,n);const a=Ub[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),qb=he("$ZodCheckGreaterThan",(e,n)=>{In.init(e,n);const a=Ub[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),$k=he("$ZodCheckMultipleOf",(e,n)=>{In.init(e,n),e._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):ZC(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:e,continue:!n.abort})}}),Zk=he("$ZodCheckNumberFormat",(e,n)=>{In.init(e,n),n.format=n.format||"float64";const a=n.format?.includes("int"),i=a?"int":"number",[c,u]=QC[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,a&&(m.pattern=Ok)}),e._zod.check=f=>{const m=f.value;if(a){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),Hk=he("$ZodCheckMaxLength",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!ph(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=xh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Vk=he("$ZodCheckMinLength",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!ph(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=xh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Fk=he("$ZodCheckLengthEquals",(e,n)=>{var a;In.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!ph(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=xh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),Kc=he("$ZodCheckStringFormat",(e,n)=>{var a,i;In.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),Qk=he("$ZodCheckRegex",(e,n)=>{Kc.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),Ik=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=Bk),Kc.init(e,n)}),Gk=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=qk),Kc.init(e,n)}),Yk=he("$ZodCheckIncludes",(e,n)=>{In.init(e,n);const a=Si(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),Wk=he("$ZodCheckStartsWith",(e,n)=>{In.init(e,n);const a=new RegExp(`^${Si(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),Kk=he("$ZodCheckEndsWith",(e,n)=>{In.init(e,n);const a=new RegExp(`.*${Si(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),Pk=he("$ZodCheckOverwrite",(e,n)=>{In.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class Xk{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,a=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...a,c.join(`
`))}}const Jk={major:4,minor:1,patch:12},Zt=he("$ZodType",(e,n)=>{var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=Jk;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,x)=>{let g=xi(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(g)continue;const w=f.issues.length,j=y._zod.check(f);if(j instanceof Promise&&x?.async===!1)throw new yi;if(b||j instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await j,f.issues.length!==w&&(g||(g=xi(f,w)))});else{if(f.issues.length===w)continue;g||(g=xi(f,w))}}return b?b.then(()=>f):f},u=(f,m,x)=>{if(xi(f))return f.aborted=!0,f;const g=c(m,i,x);if(g instanceof Promise){if(x.async===!1)throw new yi;return g.then(b=>e._zod.parse(b,x))}return e._zod.parse(g,x)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const g=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return g instanceof Promise?g.then(b=>u(b,f,m)):u(g,f,m)}const x=e._zod.parse(f,m);if(x instanceof Promise){if(m.async===!1)throw new yi;return x.then(g=>c(g,i,m))}return c(x,i,m)}}e["~standard"]={validate:c=>{try{const u=sk(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return ak(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),bh=he("$ZodString",(e,n)=>{Zt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??zk(e._zod.bag),e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),At=he("$ZodStringFormat",(e,n)=>{Kc.init(e,n),bh.init(e,n)}),eT=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=yk),At.init(e,n)}),tT=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=f0(i))}else n.pattern??(n.pattern=f0());At.init(e,n)}),nT=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=wk),At.init(e,n)}),sT=he("$ZodURL",(e,n)=>{At.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Tk.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=c.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),aT=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=jk()),At.init(e,n)}),rT=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=vk),At.init(e,n)}),iT=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=hk),At.init(e,n)}),lT=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=mk),At.init(e,n)}),oT=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=pk),At.init(e,n)}),cT=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=gk),At.init(e,n)}),uT=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=xk),At.init(e,n)}),dT=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Rk(n)),At.init(e,n)}),fT=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=Mk),At.init(e,n)}),hT=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=Dk(n)),At.init(e,n)}),mT=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=bk),At.init(e,n)}),pT=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=Ek),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv4"})}),gT=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=Nk),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),xT=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=_k),At.init(e,n)}),vT=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=Ck),At.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function $b(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const bT=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=kk),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{$b(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function yT(e){if(!zb.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return $b(a)}const wT=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=zb),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{yT(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),ST=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=Ak),At.init(e,n)});function jT(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const ET=he("$ZodJWT",(e,n)=>{At.init(e,n),e._zod.check=a=>{jT(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),Zb=he("$ZodNumber",(e,n)=>{Zt.init(e,n),e._zod.pattern=e._zod.bag.pattern??Lk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const c=a.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return a;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),a}}),NT=he("$ZodNumber",(e,n)=>{Zk.init(e,n),Zb.init(e,n)}),_T=he("$ZodBoolean",(e,n)=>{Zt.init(e,n),e._zod.pattern=Uk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const c=a.value;return typeof c=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),a}}),CT=he("$ZodUnknown",(e,n)=>{Zt.init(e,n),e._zod.parse=a=>a}),kT=he("$ZodNever",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function h0(e,n,a){e.issues.length&&n.issues.push(...Db(a,e.issues)),n.value[a]=e.value}const TT=he("$ZodArray",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value;if(!Array.isArray(c))return a.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),a;a.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],x=n.element._zod.run({value:m,issues:[]},i);x instanceof Promise?u.push(x.then(g=>h0(g,a,f))):h0(x,a,f)}return u.length?Promise.all(u).then(()=>a):a}});function zc(e,n,a,i){e.issues.length&&n.issues.push(...Db(a,e.issues)),e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function Hb(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const a=FC(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function Vb(e,n,a,i,c,u){const f=[],m=c.keySet,x=c.catchall._zod,g=x.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(g==="never"){f.push(b);continue}const y=x.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>zc(w,a,b,n))):zc(y,a,b,n)}return f.length&&a.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const AT=he("$ZodObject",(e,n)=>{if(Zt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const x={...m};return Object.defineProperty(n,"shape",{value:x}),x}})}const i=mh(()=>Hb(n));St(e._zod,"propValues",()=>{const m=n.shape,x={};for(const g in m){const b=m[g]._zod;if(b.values){x[g]??(x[g]=new Set);for(const y of b.values)x[g].add(y)}}return x});const c=Rc,u=n.catchall;let f;e._zod.parse=(m,x)=>{f??(f=i.value);const g=m.value;if(!c(g))return m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const T=y[w]._zod.run({value:g[w],issues:[]},x);T instanceof Promise?b.push(T.then(E=>zc(E,m,w,g))):zc(T,m,w,g)}return u?Vb(b,g,m,x,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),MT=he("$ZodObjectJIT",(e,n)=>{AT.init(e,n);const a=e._zod.parse,i=mh(()=>Hb(n)),c=w=>{const j=new Xk(["shape","payload","ctx"]),T=i.value,E=M=>{const P=d0(M);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};j.write("const input = payload.value;");const z=Object.create(null);let U=0;for(const M of T.keys)z[M]=`key_${U++}`;j.write("const newResult = {};");for(const M of T.keys){const P=z[M],$=d0(M);j.write(`const ${P} = ${E(M)};`),j.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${P}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const N=j.compile();return(M,P)=>N(w,M,P)};let u;const f=Rc,m=!Tb.jitless,g=m&&HC.value,b=n.catchall;let y;e._zod.parse=(w,j)=>{y??(y=i.value);const T=w.value;return f(T)?m&&g&&j?.async===!1&&j.jitless!==!0?(u||(u=c(n.shape)),w=u(w,j),b?Vb([],T,w,j,y,e):w):a(w,j):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:e}),w)}});function m0(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!xi(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(f=>Cr(f,i,_r())))}),n)}const DT=he("$ZodUnion",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),St(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),St(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),St(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>gh(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(a)return i(c,u);let f=!1;const m=[];for(const x of n.options){const g=x._zod.run({value:c.value,issues:[]},u);if(g instanceof Promise)m.push(g),f=!0;else{if(g.issues.length===0)return g;m.push(g)}}return f?Promise.all(m).then(x=>m0(x,c,e,u)):m0(m,c,e,u)}}),RT=he("$ZodIntersection",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([x,g])=>p0(a,x,g)):p0(a,u,f)}});function Zf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Ul(e)&&Ul(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=Zf(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=Zf(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};a.push(f.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function p0(e,n,a){if(n.issues.length&&e.issues.push(...n.issues),a.issues.length&&e.issues.push(...a.issues),xi(e))return e;const i=Zf(n.value,a.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const zT=he("$ZodEnum",(e,n)=>{Zt.init(e,n);const a=$C(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(c=>VC.has(typeof c)).map(c=>typeof c=="string"?Si(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:a,input:f,inst:e}),c}}),OT=he("$ZodLiteral",(e,n)=>{if(Zt.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(a=>typeof a=="string"?Si(a):a?Si(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,i)=>{const c=a.value;return e._zod.values.has(c)||a.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),a}}),LT=he("$ZodTransform",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new kb(e.constructor.name);const c=n.transform(a.value,a);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(a.value=f,a));if(c instanceof Promise)throw new yi;return a.value=c,a}});function g0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const UT=he("$ZodOptional",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",St(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),St(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${gh(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>g0(u,a.value)):g0(c,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),BT=he("$ZodNullable",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),St(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${gh(a.source)}|null)$`):void 0}),St(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),qT=he("$ZodDefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>x0(u,n)):x0(c,n)}});function x0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const $T=he("$ZodPrefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),ZT=he("$ZodNonOptional",(e,n)=>{Zt.init(e,n),St(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>v0(u,e)):v0(c,e)}});function v0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const HT=he("$ZodCatch",(e,n)=>{Zt.init(e,n),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),St(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(f=>Cr(f,i,_r()))},input:a.value}),a.issues=[]),a)):(a.value=c.value,c.issues.length&&(a.value=n.catchValue({...a,error:{issues:c.issues.map(u=>Cr(u,i,_r()))},input:a.value}),a.issues=[]),a)}}),VT=he("$ZodPipe",(e,n)=>{Zt.init(e,n),St(e._zod,"values",()=>n.in._zod.values),St(e._zod,"optin",()=>n.in._zod.optin),St(e._zod,"optout",()=>n.out._zod.optout),St(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(f=>xc(f,n.in,i)):xc(u,n.in,i)}const c=n.in._zod.run(a,i);return c instanceof Promise?c.then(u=>xc(u,n.out,i)):xc(c,n.out,i)}});function xc(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const FT=he("$ZodReadonly",(e,n)=>{Zt.init(e,n),St(e._zod,"propValues",()=>n.innerType._zod.propValues),St(e._zod,"values",()=>n.innerType._zod.values),St(e._zod,"optin",()=>n.innerType._zod.optin),St(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(b0):b0(c)}});function b0(e){return e.value=Object.freeze(e.value),e}const QT=he("$ZodCustom",(e,n)=>{In.init(e,n),Zt.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>y0(u,a,i,e));y0(c,a,i,e)}});function y0(e,n,a,i){if(!e){const c={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(Bl(c))}}class IT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function GT(){return new IT}const vc=GT();function YT(e,n){return new e({type:"string",...Ue(n)})}function WT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ue(n)})}function w0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ue(n)})}function KT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ue(n)})}function PT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ue(n)})}function XT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ue(n)})}function JT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ue(n)})}function e5(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ue(n)})}function t5(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ue(n)})}function n5(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ue(n)})}function s5(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ue(n)})}function a5(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ue(n)})}function r5(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ue(n)})}function i5(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ue(n)})}function l5(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ue(n)})}function o5(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ue(n)})}function c5(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ue(n)})}function u5(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ue(n)})}function d5(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ue(n)})}function f5(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ue(n)})}function h5(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ue(n)})}function m5(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ue(n)})}function p5(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ue(n)})}function g5(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ue(n)})}function x5(e,n){return new e({type:"string",format:"date",check:"string_format",...Ue(n)})}function v5(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ue(n)})}function b5(e,n){return new e({type:"string",format:"duration",check:"string_format",...Ue(n)})}function y5(e,n){return new e({type:"number",checks:[],...Ue(n)})}function w5(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ue(n)})}function S5(e,n){return new e({type:"boolean",...Ue(n)})}function j5(e){return new e({type:"unknown"})}function E5(e,n){return new e({type:"never",...Ue(n)})}function S0(e,n){return new Bb({check:"less_than",...Ue(n),value:e,inclusive:!1})}function wf(e,n){return new Bb({check:"less_than",...Ue(n),value:e,inclusive:!0})}function j0(e,n){return new qb({check:"greater_than",...Ue(n),value:e,inclusive:!1})}function Sf(e,n){return new qb({check:"greater_than",...Ue(n),value:e,inclusive:!0})}function E0(e,n){return new $k({check:"multiple_of",...Ue(n),value:e})}function Fb(e,n){return new Hk({check:"max_length",...Ue(n),maximum:e})}function Oc(e,n){return new Vk({check:"min_length",...Ue(n),minimum:e})}function Qb(e,n){return new Fk({check:"length_equals",...Ue(n),length:e})}function N5(e,n){return new Qk({check:"string_format",format:"regex",...Ue(n),pattern:e})}function _5(e){return new Ik({check:"string_format",format:"lowercase",...Ue(e)})}function C5(e){return new Gk({check:"string_format",format:"uppercase",...Ue(e)})}function k5(e,n){return new Yk({check:"string_format",format:"includes",...Ue(n),includes:e})}function T5(e,n){return new Wk({check:"string_format",format:"starts_with",...Ue(n),prefix:e})}function A5(e,n){return new Kk({check:"string_format",format:"ends_with",...Ue(n),suffix:e})}function Ql(e){return new Pk({check:"overwrite",tx:e})}function M5(e){return Ql(n=>n.normalize(e))}function D5(){return Ql(e=>e.trim())}function R5(){return Ql(e=>e.toLowerCase())}function z5(){return Ql(e=>e.toUpperCase())}function O5(e,n,a){return new e({type:"array",element:n,...Ue(a)})}function L5(e,n,a){return new e({type:"custom",check:"custom",fn:n,...Ue(a)})}function U5(e){const n=B5(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(Bl(i,a.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=a.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),a.issues.push(Bl(c))}},e(a.value,a)));return n}function B5(e,n){const a=new In({check:"custom",...Ue(n)});return a._zod.check=e,a}const q5=he("ZodISODateTime",(e,n)=>{dT.init(e,n),zt.init(e,n)});function $5(e){return g5(q5,e)}const Z5=he("ZodISODate",(e,n)=>{fT.init(e,n),zt.init(e,n)});function H5(e){return x5(Z5,e)}const V5=he("ZodISOTime",(e,n)=>{hT.init(e,n),zt.init(e,n)});function F5(e){return v5(V5,e)}const Q5=he("ZodISODuration",(e,n)=>{mT.init(e,n),zt.init(e,n)});function I5(e){return b5(Q5,e)}const G5=(e,n)=>{vh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>ek(e,a)},flatten:{value:a=>JC(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,$f,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,$f,2)}},isEmpty:{get(){return e.issues.length===0}}})},js=he("ZodError",G5,{Parent:Error}),Y5=Ic(js),W5=Gc(js),K5=Yc(js),P5=Wc(js),X5=rk(js),J5=ik(js),eA=lk(js),tA=ok(js),nA=ck(js),sA=uk(js),aA=dk(js),rA=fk(js),Wt=he("ZodType",(e,n)=>(Zt.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(Ar(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(a,i)=>Pa(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>Y5(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>K5(e,a,i),e.parseAsync=async(a,i)=>W5(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>P5(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>X5(e,a,i),e.decode=(a,i)=>J5(e,a,i),e.encodeAsync=async(a,i)=>eA(e,a,i),e.decodeAsync=async(a,i)=>tA(e,a,i),e.safeEncode=(a,i)=>nA(e,a,i),e.safeDecode=(a,i)=>sA(e,a,i),e.safeEncodeAsync=async(a,i)=>aA(e,a,i),e.safeDecodeAsync=async(a,i)=>rA(e,a,i),e.refine=(a,i)=>e.check(XA(a,i)),e.superRefine=a=>e.check(JA(a)),e.overwrite=a=>e.check(Ql(a)),e.optional=()=>A0(e),e.nullable=()=>M0(e),e.nullish=()=>A0(M0(e)),e.nonoptional=a=>QA(e,a),e.array=()=>Pc(e),e.or=a=>RA([e,a]),e.and=a=>OA(e,a),e.transform=a=>D0(e,qA(a)),e.default=a=>HA(e,a),e.prefault=a=>FA(e,a),e.catch=a=>GA(e,a),e.pipe=a=>D0(e,a),e.readonly=()=>KA(e),e.describe=a=>{const i=e.clone();return vc.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){return vc.get(e)?.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return vc.get(e);const i=e.clone();return vc.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Ib=he("_ZodString",(e,n)=>{bh.init(e,n),Wt.init(e,n);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(N5(...i)),e.includes=(...i)=>e.check(k5(...i)),e.startsWith=(...i)=>e.check(T5(...i)),e.endsWith=(...i)=>e.check(A5(...i)),e.min=(...i)=>e.check(Oc(...i)),e.max=(...i)=>e.check(Fb(...i)),e.length=(...i)=>e.check(Qb(...i)),e.nonempty=(...i)=>e.check(Oc(1,...i)),e.lowercase=i=>e.check(_5(i)),e.uppercase=i=>e.check(C5(i)),e.trim=()=>e.check(D5()),e.normalize=(...i)=>e.check(M5(...i)),e.toLowerCase=()=>e.check(R5()),e.toUpperCase=()=>e.check(z5())}),iA=he("ZodString",(e,n)=>{bh.init(e,n),Ib.init(e,n),e.email=a=>e.check(WT(lA,a)),e.url=a=>e.check(e5(oA,a)),e.jwt=a=>e.check(p5(jA,a)),e.emoji=a=>e.check(t5(cA,a)),e.guid=a=>e.check(w0(N0,a)),e.uuid=a=>e.check(KT(bc,a)),e.uuidv4=a=>e.check(PT(bc,a)),e.uuidv6=a=>e.check(XT(bc,a)),e.uuidv7=a=>e.check(JT(bc,a)),e.nanoid=a=>e.check(n5(uA,a)),e.guid=a=>e.check(w0(N0,a)),e.cuid=a=>e.check(s5(dA,a)),e.cuid2=a=>e.check(a5(fA,a)),e.ulid=a=>e.check(r5(hA,a)),e.base64=a=>e.check(f5(yA,a)),e.base64url=a=>e.check(h5(wA,a)),e.xid=a=>e.check(i5(mA,a)),e.ksuid=a=>e.check(l5(pA,a)),e.ipv4=a=>e.check(o5(gA,a)),e.ipv6=a=>e.check(c5(xA,a)),e.cidrv4=a=>e.check(u5(vA,a)),e.cidrv6=a=>e.check(d5(bA,a)),e.e164=a=>e.check(m5(SA,a)),e.datetime=a=>e.check($5(a)),e.date=a=>e.check(H5(a)),e.time=a=>e.check(F5(a)),e.duration=a=>e.check(I5(a))});function $t(e){return YT(iA,e)}const zt=he("ZodStringFormat",(e,n)=>{At.init(e,n),Ib.init(e,n)}),lA=he("ZodEmail",(e,n)=>{nT.init(e,n),zt.init(e,n)}),N0=he("ZodGUID",(e,n)=>{eT.init(e,n),zt.init(e,n)}),bc=he("ZodUUID",(e,n)=>{tT.init(e,n),zt.init(e,n)}),oA=he("ZodURL",(e,n)=>{sT.init(e,n),zt.init(e,n)}),cA=he("ZodEmoji",(e,n)=>{aT.init(e,n),zt.init(e,n)}),uA=he("ZodNanoID",(e,n)=>{rT.init(e,n),zt.init(e,n)}),dA=he("ZodCUID",(e,n)=>{iT.init(e,n),zt.init(e,n)}),fA=he("ZodCUID2",(e,n)=>{lT.init(e,n),zt.init(e,n)}),hA=he("ZodULID",(e,n)=>{oT.init(e,n),zt.init(e,n)}),mA=he("ZodXID",(e,n)=>{cT.init(e,n),zt.init(e,n)}),pA=he("ZodKSUID",(e,n)=>{uT.init(e,n),zt.init(e,n)}),gA=he("ZodIPv4",(e,n)=>{pT.init(e,n),zt.init(e,n)}),xA=he("ZodIPv6",(e,n)=>{gT.init(e,n),zt.init(e,n)}),vA=he("ZodCIDRv4",(e,n)=>{xT.init(e,n),zt.init(e,n)}),bA=he("ZodCIDRv6",(e,n)=>{vT.init(e,n),zt.init(e,n)}),yA=he("ZodBase64",(e,n)=>{bT.init(e,n),zt.init(e,n)}),wA=he("ZodBase64URL",(e,n)=>{wT.init(e,n),zt.init(e,n)}),SA=he("ZodE164",(e,n)=>{ST.init(e,n),zt.init(e,n)}),jA=he("ZodJWT",(e,n)=>{ET.init(e,n),zt.init(e,n)}),Gb=he("ZodNumber",(e,n)=>{Zb.init(e,n),Wt.init(e,n),e.gt=(i,c)=>e.check(j0(i,c)),e.gte=(i,c)=>e.check(Sf(i,c)),e.min=(i,c)=>e.check(Sf(i,c)),e.lt=(i,c)=>e.check(S0(i,c)),e.lte=(i,c)=>e.check(wf(i,c)),e.max=(i,c)=>e.check(wf(i,c)),e.int=i=>e.check(_0(i)),e.safe=i=>e.check(_0(i)),e.positive=i=>e.check(j0(0,i)),e.nonnegative=i=>e.check(Sf(0,i)),e.negative=i=>e.check(S0(0,i)),e.nonpositive=i=>e.check(wf(0,i)),e.multipleOf=(i,c)=>e.check(E0(i,c)),e.step=(i,c)=>e.check(E0(i,c)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});function EA(e){return y5(Gb,e)}const NA=he("ZodNumberFormat",(e,n)=>{NT.init(e,n),Gb.init(e,n)});function _0(e){return w5(NA,e)}const _A=he("ZodBoolean",(e,n)=>{_T.init(e,n),Wt.init(e,n)});function C0(e){return S5(_A,e)}const CA=he("ZodUnknown",(e,n)=>{CT.init(e,n),Wt.init(e,n)});function k0(){return j5(CA)}const kA=he("ZodNever",(e,n)=>{kT.init(e,n),Wt.init(e,n)});function TA(e){return E5(kA,e)}const AA=he("ZodArray",(e,n)=>{TT.init(e,n),Wt.init(e,n),e.element=n.element,e.min=(a,i)=>e.check(Oc(a,i)),e.nonempty=a=>e.check(Oc(1,a)),e.max=(a,i)=>e.check(Fb(a,i)),e.length=(a,i)=>e.check(Qb(a,i)),e.unwrap=()=>e.element});function Pc(e,n){return O5(AA,e,n)}const MA=he("ZodObject",(e,n)=>{MT.init(e,n),Wt.init(e,n),St(e,"shape",()=>n.shape),e.keyof=()=>LA(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:k0()}),e.loose=()=>e.clone({...e._zod.def,catchall:k0()}),e.strict=()=>e.clone({...e._zod.def,catchall:TA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>YC(e,a),e.safeExtend=a=>WC(e,a),e.merge=a=>KC(e,a),e.pick=a=>IC(e,a),e.omit=a=>GC(e,a),e.partial=(...a)=>PC(Yb,e,a[0]),e.required=(...a)=>XC(Wb,e,a[0])});function ha(e,n){const a={type:"object",shape:e??{},...Ue(n)};return new MA(a)}const DA=he("ZodUnion",(e,n)=>{DT.init(e,n),Wt.init(e,n),e.options=n.options});function RA(e,n){return new DA({type:"union",options:e,...Ue(n)})}const zA=he("ZodIntersection",(e,n)=>{RT.init(e,n),Wt.init(e,n)});function OA(e,n){return new zA({type:"intersection",left:e,right:n})}const Hf=he("ZodEnum",(e,n)=>{zT.init(e,n),Wt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(a.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Hf({...n,checks:[],...Ue(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(a.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new Hf({...n,checks:[],...Ue(c),entries:u})}});function LA(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Hf({type:"enum",entries:a,...Ue(n)})}const UA=he("ZodLiteral",(e,n)=>{OT.init(e,n),Wt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function T0(e,n){return new UA({type:"literal",values:Array.isArray(e)?e:[e],...Ue(n)})}const BA=he("ZodTransform",(e,n)=>{LT.init(e,n),Wt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new kb(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(Bl(u,a.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=a.value),f.inst??(f.inst=e),a.issues.push(Bl(f))}};const c=n.transform(a.value,a);return c instanceof Promise?c.then(u=>(a.value=u,a)):(a.value=c,a)}});function qA(e){return new BA({type:"transform",transform:e})}const Yb=he("ZodOptional",(e,n)=>{UT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function A0(e){return new Yb({type:"optional",innerType:e})}const $A=he("ZodNullable",(e,n)=>{BT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function M0(e){return new $A({type:"nullable",innerType:e})}const ZA=he("ZodDefault",(e,n)=>{qT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function HA(e,n){return new ZA({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Mb(n)}})}const VA=he("ZodPrefault",(e,n)=>{$T.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function FA(e,n){return new VA({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Mb(n)}})}const Wb=he("ZodNonOptional",(e,n)=>{ZT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function QA(e,n){return new Wb({type:"nonoptional",innerType:e,...Ue(n)})}const IA=he("ZodCatch",(e,n)=>{HT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function GA(e,n){return new IA({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const YA=he("ZodPipe",(e,n)=>{VT.init(e,n),Wt.init(e,n),e.in=n.in,e.out=n.out});function D0(e,n){return new YA({type:"pipe",in:e,out:n})}const WA=he("ZodReadonly",(e,n)=>{FT.init(e,n),Wt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function KA(e){return new WA({type:"readonly",innerType:e})}const PA=he("ZodCustom",(e,n)=>{QT.init(e,n),Wt.init(e,n)});function XA(e,n={}){return L5(PA,e,n)}function JA(e){return U5(e)}const e4=ha({key:$t(),label:$t(),path:$t(),ordinal:EA().int(),required:C0().optional(),enabled:C0().optional(),depends_on:Pc($t()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),R0=ha({path:$t()}).strict();ha({name:$t(),files_hash:$t().default(""),columns:Pc(e4).default([]),table:ha({transform:R0.nullable().optional(),validators:R0.nullable().optional()}).partial().optional()}).passthrough();function Kb(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const a=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),x=i.get(m);if(x===void 0){i.set(m,a.length),a.push(f);continue}a[x]=f}}return a},[e,n])}const Pb={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},t4=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],kl="mine",wr={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function n4(e){return e&&Object.keys(wr).includes(e)?e:kl}function s4(e){if(!e)return new Set;const a=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(a)}function a4(e){return new Set(t4).has(e??"")?e:"-created_at"}const Xb=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),ji={all:()=>["documents"],workspace:e=>[...ji.all(),e],list:(e,n,a)=>[...ji.workspace(e),"list",{sort:n,uploader:a}]},Jb=50;function r4(){const{workspace:e}=Ka(),n=kr(),[a,i]=dh(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=n4(a.get("view")),[f,m]=p.useState(u),[x,g]=p.useState(()=>{const ye=a.get("status");if(ye)return s4(ye);const Te=wr[u].presetStatuses??[];return new Set(Te)}),[b,y]=p.useState(()=>{const ye=a.get("sort");return ye?a4(ye):wr[u].presetSort??"-created_at"}),[w,j]=p.useState(a.get("q")??""),[T,E]=p.useState(w.trim()),z=p.useMemo(()=>Array.from(x),[x]),N=wr[f].uploader??null,M=p.useRef(null),[P,$]=p.useState(new Set),ne=p.useMemo(()=>new Set(P),[P]),I=p.useMemo(()=>Array.from(ne),[ne]),J=ne.size,W=l4(e.id),ee=o4(e.id),re=fh(),ue=re.data?.enabled??!1,me=re.data?.detail??Ds,pe=re.isPending,[Se,B]=p.useState(null),[K,ge]=p.useState(null),[be,we]=p.useState(null),k=W.isPending,Q=ee.isPending,O=i4(e.id,{sort:b,uploader:N}),{refetch:R}=O,V=p.useCallback(ye=>ye.id,[]),H=Kb(O.data?.pages,V),oe=p.useMemo(()=>{const ye=T.toLowerCase(),Te=N==="me"?n.user.id:null,Ze=N==="me"?n.user.email??null:null;return H.filter(Ke=>{if(z.length>0&&!z.includes(Ke.status))return!1;if(N==="me"){const it=Ke.uploader_id??Ke.uploader?.id??null,Et=Ke.uploader?.email??null;if(Te&&it&&it!==Te||!it&&Ze&&Et&&Et!==Ze)return!1}return!(ye&&!`${Ke.name??""} ${Ke.source??""}`.toLowerCase().includes(ye))})},[T,H,n.user.email,n.user.id,z,N]),xe=O.isFetchingNextPage,Ee=O.isFetching&&!xe,F=oe.length;p.useEffect(()=>{const ye=a.get("q")??"";j(Ze=>Ze===ye?Ze:ye);const Te=ye.trim();E(Ze=>Ze===Te?Ze:Te)},[a]),p.useEffect(()=>{const ye=new URLSearchParams;x.size>0&&ye.set("status",Array.from(x).join(",")),b!=="-created_at"&&ye.set("sort",b),T&&ye.set("q",T),f!==kl&&ye.set("view",f),c.current(ye,{replace:!0})},[x,b,T,f]),p.useEffect(()=>{const ye=window.setTimeout(()=>E(w.trim()),250);return()=>window.clearTimeout(ye)},[w]),p.useEffect(()=>{$(ye=>{if(ye.size===0)return ye;const Te=new Set,Ze=new Set(oe.map(it=>it.id));let Ke=!1;for(const it of ye)Ze.has(it)?Te.add(it):Ke=!0;return Ke?Te:ye})},[oe]);const Ne=p.useMemo(()=>{for(const ye of oe)if(ne.has(ye.id))return ye;return null},[oe,ne]),Ce=p.useCallback(ye=>{const Te=wr[ye];m(ye),g(new Set(Te.presetStatuses??[])),y(Te.presetSort??"-created_at"),j(""),E("")},[]),Be=p.useCallback(ye=>{g(Te=>{const Ze=new Set(Te);return Ze.has(ye)?Ze.delete(ye):Ze.add(ye),Ze})},[]),Oe=p.useCallback(()=>{g(new Set)},[]);p.useEffect(()=>{const ye=Te=>{if((Te.metaKey||Te.ctrlKey)&&Te.key.toLowerCase()==="u"){Te.preventDefault(),M.current?.click();return}(Te.key==="Delete"||Te.key==="Backspace")&&J>0&&(Te.preventDefault(),C())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[J]);const Ae=p.useCallback(ye=>Pb[ye]??ye,[]),Qe=p.useCallback(ye=>o.jsx(D4,{document:ye}),[]),at=p.useCallback(()=>{M.current?.click()},[]),rt=p.useCallback(async ye=>{if(ye.length){B(null);try{await W.mutateAsync({files:ye})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to upload documents.";B({tone:"error",message:Ze})}}},[W]),Kt=async ye=>{const Te=Array.from(ye.target.files??[]);await rt(Te),ye.target.value=""},A=ye=>{$(Te=>{const Ze=new Set(Te);return Ze.has(ye)?Ze.delete(ye):Ze.add(ye),Ze})},_=()=>{$(ye=>{if(oe.length===0)return new Set;const Te=oe.map(Ze=>Ze.id);return ye.size===oe.length&&Te.every(Ze=>ye.has(Ze))?new Set:new Set(Te)})},C=p.useCallback(async()=>{const ye=I;if(ye.length){B(null);try{await ee.mutateAsync({documentIds:ye}),$(new Set)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete documents.";B({tone:"error",message:Ze})}}},[ee,I]),ie=p.useCallback(async ye=>{B(null);try{await ee.mutateAsync({documentIds:[ye.id]}),$(Te=>{const Ze=new Set(Te);return Ze.delete(ye.id),Ze})}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to delete document.";B({tone:"error",message:Ze})}},[ee]),te=p.useCallback(async ye=>{try{ge(ye.id);const{blob:Te,filename:Ze}=await f4(e.id,ye.id);L4(Te,Ze??ye.name)}catch(Te){const Ze=Te instanceof Error?Te.message:"Failed to download document.";B({tone:"error",message:Ze})}finally{ge(null)}},[e.id]),ce=p.useCallback(ye=>{we(ye)},[]),je=p.useCallback(()=>{R()},[R]),qe=p.useCallback(ye=>{B({tone:"error",message:ye})},[]),Ve=()=>{m(kl),j(""),E(""),g(new Set),y("-created_at")},jt=f===kl&&x.size===0&&b==="-created_at"&&!T;return o.jsxs(o.Fragment,{children:[o.jsx(k4,{workspaceName:e.name??void 0,disabled:k,onFiles:async ye=>{await rt(ye)}}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{ref:M,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Kt}),o.jsx(m4,{workspaceName:e.name,totalDocuments:F,view:f,onChangeView:Ce,sort:b,onSort:y,onReset:Ve,isFetching:O.isFetching,isDefault:jt,onUploadClick:at,uploadDisabled:k,selectedStatuses:x,onToggleStatus:Be,onClearStatuses:Oe}),Se?o.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:Se.message}):null,o.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:O.isLoading?o.jsx("div",{className:"p-4",children:o.jsx(T4,{})}):O.isError?o.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):oe.length===0?o.jsx("div",{className:"p-6",children:o.jsx(M4,{onUploadClick:at})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:o.jsx(x4,{documents:oe,selectedIds:ne,onToggleDocument:A,onToggleAll:_,disableSelection:Ee||Q||W.isPending,disableRowActions:ee.isPending,formatStatusLabel:Ae,onDeleteDocument:ie,onDownloadDocument:te,onRunDocument:ce,downloadingId:K,renderRunStatus:Qe,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe})}),O.hasNextPage?o.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:o.jsx(ze,{type:"button",variant:"ghost",onClick:()=>O.fetchNextPage(),disabled:xe,children:xe?"Loading more documents":"Load more documents"})}):null]})})]}),o.jsx(A4,{count:J,onClear:()=>$(new Set),onRun:()=>{Ne&&!ue&&!pe&&ce(Ne)},onDelete:C,busy:Q,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe}),o.jsx(_4,{open:!!be,workspaceId:e.id,documentRecord:be,onClose:()=>we(null),onRunSuccess:je,onRunError:qe,safeModeEnabled:ue,safeModeMessage:me,safeModeLoading:pe})]})}function i4(e,n){const a=n.sort.trim()||null;return xv({queryKey:ji.list(e,a,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>d4(e,{sort:a,page:typeof i=="number"?i:1,pageSize:Jb},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function l4(e){const n=Tt();return kn({mutationFn:async({files:a})=>{const i=Array.from(a);for(const c of i)await We.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:ji.workspace(e)})}})}function o4(e){const n=Tt();return kn({mutationFn:async({documentIds:a})=>{await Promise.all(a.map(i=>We.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:ji.workspace(e)})}})}function c4(e){const n=Tt();return kn({mutationFn:async({configId:a,options:i})=>{const{data:c}=await We.POST("/api/v1/configs/{config_id}/runs",{params:{path:{config_id:a}},body:{stream:!1,options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:ji.workspace(e)})}})}function u4(e,n){const a=p.useMemo(()=>Ya(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>z0(a,n));p.useEffect(()=>{c(z0(a,n))},[a,n]);const u=p.useCallback(f=>{c(f);const m=a.get()??{};a.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId,sheetNames:f.sheetNames&&f.sheetNames.length>0?[...f.sheetNames]:null}})},[a,n]);return{preferences:i,setPreferences:u}}async function d4(e,n,a){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:Jb,include_total:!1},{data:c}=await We.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:a});if(!c)throw new Error("Expected document page payload.");return c}async function f4(e,n){const{data:a,response:i}=await We.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected document download payload.");const c=h4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:a,filename:c}}function h4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function z0(e,n){const a=e.get();if(a&&typeof a=="object"&&n in a){const i=a[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const f=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,configVersionId:i.configVersionId??null,sheetNames:f}}}return{configId:null,configVersionId:null,sheetNames:null}}function m4({workspaceName:e,totalDocuments:n,view:a,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:x,onUploadClick:g,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}){const T=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return o.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),o.jsx("p",{className:"text-xs text-slate-500",children:T})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:f,disabled:x,className:ve("rounded border border-transparent px-3 py-1 text-sm font-medium",x?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),o.jsx(ze,{className:"shrink-0",onClick:g,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),o.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[o.jsx(p4,{view:a,onChange:i}),o.jsx(g4,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}),o.jsxs(Wa,{value:c,onChange:E=>u(E.target.value),className:"w-40","aria-label":"Sort documents",children:[o.jsx("option",{value:"-created_at",children:"Newest first"}),o.jsx("option",{value:"created_at",children:"Oldest first"}),o.jsx("option",{value:"-last_run_at",children:"Recent runs"}),o.jsx("option",{value:"last_run_at",children:"Least recently run"}),o.jsx("option",{value:"-byte_size",children:"Largest files"}),o.jsx("option",{value:"byte_size",children:"Smallest files"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"-name",children:"Name ZA"})]}),o.jsxs("span",{className:ve("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[o.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function p4({view:e,onChange:n}){return o.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(wr).map(a=>{const i=wr[a],c=a===e;return o.jsx("button",{type:"button",onClick:()=>n(a),className:ve("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},a)})})}function g4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:a}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(Pb),m=e.size>0,x=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const g=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",g),()=>window.removeEventListener("mousedown",g)},[i]),o.jsxs("div",{className:"relative",ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>c(g=>!g),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",x,o.jsx(E4,{className:"h-3 w-3"})]}),i?o.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[o.jsx("span",{children:"Status filters"}),o.jsx("button",{type:"button",onClick:()=>{a(),c(!1)},className:ve("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),o.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([g,b])=>{const y=e.has(g);return o.jsx("li",{children:o.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(g),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),o.jsx("span",{className:"truncate",children:b})]})},g)})}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function x4({documents:e,selectedIds:n,onToggleDocument:a,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:x,onRunDocument:g,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:j,safeModeLoading:T=!1}){const E=p.useRef(null),{allSelected:z,someSelected:U}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const N=e.reduce((M,P)=>n.has(P.id)?M+1:M,0);return{allSelected:N===e.length,someSelected:N>0&&N<e.length}},[e,n]);return p.useEffect(()=>{E.current&&(E.current.indeterminate=U)},[U]),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[o.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:o.jsxs("tr",{className:"border-b border-slate-200",children:[o.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:o.jsx("input",{ref:E,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:z,onChange:i,disabled:c||e.length===0})}),o.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),o.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),o.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),o.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),o.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),o.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),o.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),o.jsx("tbody",{children:e.map(N=>{const M=n.has(N.id);return o.jsxs("tr",{className:ve("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",M?"bg-brand-50/50":"bg-white"),children:[o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:M,onChange:()=>a(N.id),disabled:c})}),o.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:N.id.slice(-6)}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"truncate font-semibold text-slate-900",title:N.name,children:N.name}),o.jsx("div",{className:"text-xs text-slate-500",children:b4(N)})]})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("time",{dateTime:N.created_at,className:"block text-xs text-slate-600",title:Xb.format(new Date(N.created_at)),children:j4(N)})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("span",{className:"block truncate text-xs text-slate-600",children:N.uploader?.name??N.uploader?.email??""})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(N):null}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",S4(N.status)),children:f?f(N.status):N.status})}),o.jsx("td",{className:"px-2 py-2 align-middle text-right",children:o.jsx(v4,{document:N,onDownload:x,onDelete:m,onRun:g,disabled:u,downloading:b===N.id,safeModeEnabled:w,safeModeMessage:j,safeModeLoading:T})})]},N.id)})})]})})}function v4({document:e,onDownload:n,onDelete:a,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=c||!i||f||x,b=f?m??Ds:x?"Checking ADE safe mode status...":void 0;return o.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[o.jsx(ze,{type:"button",size:"sm",variant:"primary",onClick:()=>{g||i?.(e)},disabled:g,title:b,children:"Run"}),o.jsx("button",{type:"button",onClick:()=>n?.(e),className:ve("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),o.jsx("button",{type:"button",onClick:()=>a?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function b4(e){const n=[];return e.content_type&&n.push(y4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(w4(e.byte_size)),n.join("  ")||"Unknown type"}function y4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function w4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a>=10?Math.round(a):Math.round(a*10)/10} ${n[i]}`}function S4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function j4(e){return Xb.format(new Date(e.created_at))}function E4({className:e}){return o.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:o.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function N4({className:e}){return o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:ve("animate-spin text-slate-500",e),role:"presentation",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),o.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function _4({open:e,workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:x=!1}){const g=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?g.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(g.current?.focus(),g.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!a?null:fa.createPortal(o.jsx(C4,{workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:x}),window.document.body)}function C4({workspaceId:e,documentRecord:n,onClose:a,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const x=p.useRef(null),g=p.useId(),b=p.useId(),y=hh({workspaceId:e}),[w,j]=p.useState(""),[T,E]=p.useState(""),z=c4(e),{preferences:U,setPreferences:N}=u4(e,n.id),[M,P]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{P(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const $=p.useMemo(()=>y.data?.items??[],[y.data]),ne=p.useMemo(()=>$.filter(_=>!("deleted_at"in _&&_.deleted_at)),[$]),I=p.useMemo(()=>{if(U.configId){const _=ne.find(C=>C.config_id===U.configId);if(_)return _.config_id}return ne[0]?.config_id??""},[U.configId,ne]);p.useEffect(()=>{j(I)},[I]);const J=BC({workspaceId:e,configId:w,enabled:!!w}),W=p.useMemo(()=>J.data??[],[J.data]),ee=p.useMemo(()=>ne.find(_=>_.config_id===w)??null,[ne,w]),re=p.useMemo(()=>W.find(_=>_.config_version_id===T)??null,[W,T]),ue=p.useMemo(()=>Z2(W),[W]),me=p.useMemo(()=>H2(W),[W]),pe=p.useMemo(()=>{if(!w)return"";if(U.configId===w&&U.configVersionId){const _=W.find(C=>C.config_version_id===U.configVersionId);if(_)return _.config_version_id}return ue?ue.config_version_id:me?me.config_version_id:W[0]?.config_version_id??""},[ue,me,U.configId,U.configVersionId,w,W]);p.useEffect(()=>{E(pe)},[pe]);const Se=p.useCallback(_=>{const C=typeof _.status=="string"?_.status:"draft";return`${_.title??_.display_name??"Untitled configuration"} (${C.charAt(0).toUpperCase()}${C.slice(1)})`},[]),B=p.useCallback(_=>{const C=_.status==="active"?"Active":_.status==="published"?"Published":_.status==="inactive"?"Inactive":"Draft";return`v${_.semver??""} (${C})`},[]),[K,ge]=p.useState(null),be=f??Ds,we=fn({queryKey:M?fc.detail(M):["run","none"],queryFn:({signal:_})=>M?P2(M,_):Promise.reject(new Error("No run selected")),enabled:!!M,refetchInterval:_=>{const C=_.state.data?.status;return C==="running"||C==="queued"?2e3:!1}}),k=fn({queryKey:M?fc.outputs(M):["run-outputs","none"],queryFn:({signal:_})=>M?lb(M,_):Promise.reject(new Error("No run selected")),enabled:!!M&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),Q=fn({queryKey:M?fc.artifact(M):["run-artifact","none"],queryFn:({signal:_})=>M?ob(M,_):Promise.reject(new Error("No run selected")),enabled:!!M&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),O=fn({queryKey:M?fc.telemetry(M):["run-telemetry","none"],queryFn:({signal:_})=>M?cb(M,_):Promise.reject(new Error("No run selected")),enabled:!!M&&(we.data?.status==="succeeded"||we.data?.status==="failed"),staleTime:5e3}),R=fn({queryKey:["document-sheets",e,n.id],queryFn:({signal:_})=>db(e,n.id,_),staleTime:6e4}),V=p.useMemo(()=>R.data??[],[R.data]),[H,oe]=p.useState([]);p.useEffect(()=>{if(!V.length){oe([]);return}const _=(U.sheetNames??[]).filter(ie=>V.some(te=>te.name===ie)),C=Array.from(new Set(_));oe(C)},[V,U.sheetNames]);const xe=p.useMemo(()=>Array.from(new Set(H.filter(_=>V.some(C=>C.name===_)))),[H,V]);p.useEffect(()=>{!ee||!T||N({configId:ee.config_id,configVersionId:T,sheetNames:xe.length?xe:null})},[xe,ee,T,N]);const Ee=p.useCallback(_=>{oe(C=>C.includes(_)?C.filter(ie=>ie!==_):[...C,_])},[]),Ne=(we.data??null)?.status??null,Ce=Ne==="running"||Ne==="queued",Be=M?`/api/v1/runs/${encodeURIComponent(M)}`:null,Oe=k.data?.files??[],Ae=Q.data??null,Qe=O.data??[];p.useEffect(()=>{const _=x.current;if(!_)return;(O0(_)[0]??_).focus();const ie=te=>{if(te.key==="Escape"){te.preventDefault(),a();return}if(te.key!=="Tab")return;const ce=O0(_);if(ce.length===0){te.preventDefault();return}const je=ce[0],qe=ce[ce.length-1],Ve=window.document.activeElement;if(te.shiftKey){(!_.contains(Ve)||Ve===je)&&(te.preventDefault(),qe.focus());return}Ve===qe&&(te.preventDefault(),je.focus())};return _.addEventListener("keydown",ie),()=>_.removeEventListener("keydown",ie)},[a]);const at=ne.length>0,rt=z.isPending||Ce||m||u||!at||!T,Kt=u?be:m?"Checking ADE safe mode status...":void 0,A=()=>{if(u||m)return;if(!ee||!re||!T){ge("Select a configuration before running the extractor.");return}ge(null),P(null);const _=xe,C=_.length>0?{dry_run:!1,validate_only:!1,input_sheet_names:_}:{dry_run:!1,validate_only:!1};z.mutate({configId:ee.config_id,options:{...C,input_document_id:n.id}},{onSuccess:ie=>{N({configId:ee.config_id,configVersionId:T,sheetNames:_.length?_:null}),i?.(ie),P(ie.id)},onError:ie=>{const te=ie instanceof Error?ie.message:"Unable to submit extraction run.";ge(te),c?.(te)}})};return o.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[o.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:a}),o.jsxs("aside",{ref:x,role:"dialog","aria-modal":"true","aria-labelledby":g,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[o.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[o.jsxs("div",{children:[o.jsx("h2",{id:g,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),o.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:a,disabled:z.isPending,children:"Close"})]}),o.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[o.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?o.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?o.jsxs(mt,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):at?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wa,{value:w,onChange:_=>{const C=_.target.value;j(C),E("")},disabled:z.isPending,children:[o.jsx("option",{value:"",children:"Select configuration"}),ne.map(_=>o.jsx("option",{value:_.config_id,children:Se(_)},_.config_id))]}),w?J.isLoading?o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading versions"}):J.isError?o.jsxs(mt,{tone:"danger",children:["Unable to load configuration versions."," ",J.error instanceof Error?J.error.message:"Try again later."]}):W.length>0?o.jsxs(Wa,{value:T,onChange:_=>E(_.target.value),disabled:z.isPending,children:[o.jsx("option",{value:"",children:"Select version"}),W.map(_=>o.jsx("option",{value:_.config_version_id,children:B(_)},_.config_version_id))]}):o.jsx(mt,{tone:"info",children:"No versions available for this configuration."}):null]}):o.jsx(mt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),R.isLoading?o.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):R.isError?o.jsx(mt,{tone:"warning",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>R.refetch(),disabled:R.isFetching,children:"Retry loading"}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>oe([]),disabled:z.isPending,children:"Use all worksheets"})]})]})}):V.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),o.jsx("p",{className:"text-[11px] text-slate-500",children:xe.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${xe.length.toLocaleString()} worksheet${xe.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>oe([]),disabled:z.isPending,children:"Use all worksheets"})]}),o.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:V.map(_=>{const C=xe.includes(_.name);return o.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:C,onChange:()=>Ee(_.name)}),o.jsxs("span",{className:"flex-1 truncate",children:[_.name,_.is_active?" (active)":""]})]},`${_.index}-${_.name}`)})})]}):o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),M?o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-slate-800",title:M,children:["Run ",M]}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",Ne??"loading"]})]}),Ce?o.jsx(N4,{className:"h-4 w-4 text-slate-500"}):null]}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[o.jsx("a",{href:Be?`${Be}/artifact`:void 0,className:ve("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Be&&!Ce?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":Ce||!Be,children:"Download artifact"}),o.jsx("a",{href:Be?`${Be}/logs`:void 0,className:ve("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Be?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":!Be,children:"Download telemetry"})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),k.isLoading?o.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):Oe.length>0?o.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:Oe.map(_=>o.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[o.jsx("a",{href:Be?`${Be}/outputs/${_.path.split("/").map(encodeURIComponent).join("/")}`:void 0,className:"text-emerald-700 hover:underline","aria-disabled":!Be,children:_.path}),o.jsxs("span",{className:"text-[11px] text-slate-500",children:[_.byte_size.toLocaleString()," bytes"]})]},_.path))}):o.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Artifact summary"}),Q.isLoading?o.jsx("p",{className:"text-xs text-slate-500",children:"Loading artifact"}):Q.isError?o.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load artifact."}):Ae?o.jsx(Dv,{artifact:Ae}):o.jsx("p",{className:"text-xs text-slate-500",children:"Artifact not available."})]}),o.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[o.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),O.isLoading?o.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):O.isError?o.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):Qe.length>0?o.jsx(Rv,{events:Qe}):o.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?o.jsx(mt,{tone:"warning",children:be}):null,K?o.jsx(mt,{tone:"danger",children:K}):null]}),o.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[o.jsx(ze,{type:"button",variant:"ghost",onClick:a,disabled:z.isPending,children:"Cancel"}),o.jsx(ze,{type:"button",onClick:A,isLoading:z.isPending,disabled:rt,title:Kt,children:"Run extraction"})]})]})]})}function k4({onFiles:e,disabled:n,workspaceName:a}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},x=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},g=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",x),window.addEventListener("drop",g),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",x),window.removeEventListener("drop",g)}},[i,n,e]),o.jsxs("div",{"aria-hidden":!i,className:ve("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:o.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:o.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[o.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsxs("div",{className:"text-center sm:text-left",children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",o.jsx("span",{className:"font-medium",children:a??"this workspace"})]})]})]})})})]})}function T4(){return o.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),o.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function A4({count:e,onClear:n,onRun:a,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const x=c||u||m,g=u?f??Ds:m?"Checking ADE safe mode status...":void 0;return o.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[o.jsxs("span",{className:"mr-2",children:[o.jsx("strong",{children:e})," selected"]}),o.jsx(ze,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx(ze,{size:"sm",onClick:()=>!x&&a(),disabled:x,title:g,children:"Run extraction"}),o.jsx(ze,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function M4({onUploadClick:e}){return o.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:o.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[o.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),o.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),o.jsx(ze,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function D4({document:e}){const n=e.last_run;return n?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",R4(n.status)),children:[z4(n.status),n.run_at?o.jsx("span",{className:"ml-1 font-normal text-slate-500",children:O4(n.run_at)}):null]}),n.message?o.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):o.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function R4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function z4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const mi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function O4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const a=n.getTime()-Date.now(),i=Math.round(a/1e3);if(Math.abs(i)<60)return mi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return mi.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return mi.format(m,"hour");const g=Math.round(m/24);if(Math.abs(g)<30)return mi.format(g,"day");const b=Math.round(g/30);if(Math.abs(b)<12)return mi.format(b,"month");const y=Math.round(g/365);return mi.format(y,"year")}function L4(e,n){const a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(a),1e3)}function O0(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(a=>!a.hasAttribute("disabled")&&a.getAttribute("aria-hidden")!=="true")}function U4({params:e}){return o.jsxs("section",{children:[o.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function B4(){return o.jsx(Ct,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"info"})}function Yt({label:e,hint:n,error:a,required:i=!1,children:c,className:u}){const f=p.useId(),m=p.isValidElement(c)?c.props??{}:{},x=m.id??f,g=n?`${x}-hint`:void 0,b=a?`${x}-error`:void 0,y=[g,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return o.jsxs("div",{className:ve("space-y-2",u),children:[e?o.jsxs("label",{htmlFor:x,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?o.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:x,required:i||m.required,"aria-describedby":y,"aria-invalid":a?!0:m["aria-invalid"]}):c,n?o.jsx("p",{id:g,className:"text-xs text-slate-500",children:n}):null,a?o.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:a}):null]})}const ey="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",an=p.forwardRef(({className:e,invalid:n=!1,...a},i)=>o.jsx("input",{ref:i,className:ve(ey,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...a}));an.displayName="Input";const ty=p.forwardRef(({className:e,invalid:n=!1,rows:a=4,...i},c)=>o.jsx("textarea",{ref:c,rows:a,className:ve(ey,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));ty.displayName="TextArea";const jf=[{value:"default",label:"Default template"}],q4=e=>`ade.ui.workspace.${e}.config-builder.last`,Ef=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function $4(){const{workspace:e}=Ka(),n=En(),a=p.useMemo(()=>Ya(q4(e.id)),[e.id]),i=hh({workspaceId:e.id}),c=qC(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,x]=p.useState(jf[0]?.value??"default"),[g,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(N=>!("deleted_at"in N&&N.deleted_at)),[i.data]),w=p.useMemo(()=>a.get(),[a]),j=N=>{a.set({configId:N}),n(Ef(e.id,N))},T=N=>{a.set({configId:N}),n(`${Ef(e.id,N)}/editor`)},E=N=>{N.preventDefault();const M=u.trim();if(!M){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:M,source:{type:"template",templateId:m}},{onSuccess(P){a.set({configId:P.config_id}),n(Ef(e.id,P.config_id))}})},z=g??(c.error instanceof Error?c.error.message:null),U=u.trim().length>0&&!c.isPending;return i.isLoading?o.jsx(Ct,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?o.jsx(Ct,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?o.jsx(Ct,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:o.jsxs("form",{onSubmit:E,className:"space-y-4 text-left",children:[o.jsx(Yt,{label:"Configuration name",required:!0,children:o.jsx(an,{value:u,onChange:N=>f(N.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),o.jsx(Yt,{label:"Template",children:o.jsx(Wa,{value:m,onChange:N=>x(N.target.value),disabled:c.isPending,children:jf.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})}),z?o.jsx("p",{className:"text-sm font-medium text-danger-600",children:z}):null,o.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})}):o.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?o.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j(w.configId),children:"Resume last opened"}):null]}),o.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(N=>o.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:N.display_name}),o.jsx(Z4,{status:N.status}),w?.configId===N.config_id?o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(N.updated_at).toLocaleString(),"  Active version"," ",("active_version"in N?N.active_version:null)??N.config_version??""]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[o.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>j(N.config_id),children:"View details"}),o.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>T(N.config_id),children:"Open editor"})]})]},N.config_id))})]}),o.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsx(Yt,{label:"Configuration name",required:!0,children:o.jsx(an,{value:u,onChange:N=>f(N.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),o.jsx(Yt,{label:"Template",children:o.jsx(Wa,{value:m,onChange:N=>x(N.target.value),disabled:c.isPending,children:jf.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})}),z?o.jsx("p",{className:"text-sm font-medium text-danger-600",children:z}):null,o.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})]})]})}function Z4({status:e}){const n=e.toLowerCase(),a=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${a}`,children:e})}function H4({params:e}={}){const{workspace:n}=Ka(),a=En(),i=e?.configId,c=hh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.config_id===i),[c.data,i]);return i?c.isLoading?o.jsx(Ct,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?o.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),o.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),o.jsx(ze,{variant:"secondary",onClick:()=>a(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.config_id)}/editor`),children:"Open editor"})]}),o.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),o.jsx("dd",{className:"text-sm text-slate-700",children:u.config_id})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),o.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),o.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),o.jsx("dd",{className:"text-sm text-slate-700",children:("active_version"in u?u.active_version:null)??u.config_version??""})]})]})]}),o.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),o.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):o.jsx(Ct,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):o.jsx(Ct,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function V4({params:e}={}){const{workspace:n}=Ka(),{session:a,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:x,shouldBypassUnsavedGuard:g}=bb(),b=e?.configId,y=UC({workspaceId:n.id,configId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const z=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${z}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return o.jsx(Ct,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=a&&a.configId===b?a:null,j=!!(w&&i==="minimized"),T=!!(w&&i==="restored"),E=!!(w&&i==="maximized");return T&&w?o.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:o.jsx(xb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:x,onCloseWorkbench:u,shouldBypassUnsavedGuard:g})}):E?o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(Ct,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):j?o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(Ct,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(Ct,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var Il=e=>e.type==="checkbox",Sr=e=>e instanceof Date,Vn=e=>e==null;const ny=e=>typeof e=="object";var rn=e=>!Vn(e)&&!Array.isArray(e)&&ny(e)&&!Sr(e),F4=e=>rn(e)&&e.target?Il(e.target)?e.target.checked:e.target.value:e,Q4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,I4=(e,n)=>e.has(Q4(n)),G4=e=>{const n=e.constructor&&e.constructor.prototype;return rn(n)&&n.hasOwnProperty("isPrototypeOf")},yh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(yh&&(e instanceof Blob||i))&&(a||rn(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!G4(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=pn(e[c]));else return e;return n}var Xc=e=>/^\w*$/.test(e),Gt=e=>e===void 0,wh=e=>Array.isArray(e)?e.filter(Boolean):[],Sh=e=>wh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,n,a)=>{if(!n||!rn(e))return a;const i=(Xc(n)?[n]:Sh(n)).reduce((c,u)=>Vn(c)?c:c[u],e);return Gt(i)||i===e?Gt(e[n])?a:e[n]:i},Fs=e=>typeof e=="boolean",wt=(e,n,a)=>{let i=-1;const c=Xc(n)?[n]:Sh(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let x=a;if(i!==f){const g=e[m];x=rn(g)||Array.isArray(g)?g:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const L0={BLUR:"blur",FOCUS_OUT:"focusout"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y4=bt.createContext(null);Y4.displayName="HookFormContext";var W4=(e,n,a,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==As.all&&(n._proxyFormState[f]=!i||As.all),e[f]}});return c};const K4=typeof window<"u"?bt.useLayoutEffect:bt.useEffect;var rs=e=>typeof e=="string",P4=(e,n,a,i,c)=>rs(e)?(i&&n.watch.add(e),De(a,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),De(a,u))):(i&&(n.watchAll=!0),a),Vf=e=>Vn(e)||!ny(e);function Qa(e,n,a=new WeakSet){if(Vf(e)||Vf(n))return e===n;if(Sr(e)&&Sr(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(Sr(f)&&Sr(m)||rn(f)&&rn(m)||Array.isArray(f)&&Array.isArray(m)?!Qa(f,m,a):f!==m)return!1}}return!0}var jh=(e,n,a,i,c)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:c||!0}}:{},Tl=e=>Array.isArray(e)?e:[e],U0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function sy(e,n){const a={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&rn(c)&&u){const f=sy(c,u);rn(f)&&(a[i]=f)}else e[i]&&(a[i]=u)}return a}var Hn=e=>rn(e)&&!Object.keys(e).length,Eh=e=>e.type==="file",Ms=e=>typeof e=="function",Lc=e=>{if(!yh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},ay=e=>e.type==="select-multiple",Nh=e=>e.type==="radio",X4=e=>Nh(e)||Il(e),Nf=e=>Lc(e)&&e.isConnected;function J4(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Gt(e)?i++:e[n[i++]];return e}function eM(e){for(const n in e)if(e.hasOwnProperty(n)&&!Gt(e[n]))return!1;return!0}function nn(e,n){const a=Array.isArray(n)?n:Xc(n)?[n]:Sh(n),i=a.length===1?e:J4(e,a),c=a.length-1,u=a[c];return i&&delete i[u],c!==0&&(rn(i)&&Hn(i)||Array.isArray(i)&&eM(i))&&nn(e,a.slice(0,-1)),e}var tM=e=>{for(const n in e)if(Ms(e[n]))return!0;return!1};function ry(e){return Array.isArray(e)||rn(e)&&!tM(e)}function Ff(e,n={}){for(const a in e)ry(e[a])?(n[a]=Array.isArray(e[a])?[]:{},Ff(e[a],n[a])):Gt(e[a])||(n[a]=!0);return n}function gi(e,n,a){a||(a=Ff(n));for(const i in e)ry(e[i])?Gt(n)||Vf(a[i])?a[i]=Ff(e[i],Array.isArray(e[i])?[]:{}):gi(e[i],Vn(n)?{}:n[i],a[i]):a[i]=!Qa(e[i],n[i]);return a}const B0={value:!1,isValid:!1},q0={value:!0,isValid:!0};var iy=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?q0:{value:e[0].value,isValid:!0}:q0:B0}return B0},ly=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Gt(e)?e:n?e===""?NaN:e&&+e:a&&rs(e)?new Date(e):i?i(e):e;const $0={isValid:!1,value:null};var oy=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,$0):$0;function Z0(e){const n=e.ref;return Eh(n)?n.files:Nh(n)?oy(e.refs).value:ay(n)?[...n.selectedOptions].map(({value:a})=>a):Il(n)?iy(e.refs).value:ly(Gt(n.value)?e.ref.value:n.value,e)}var nM=(e,n,a,i)=>{const c={};for(const u of e){const f=De(n,u);f&&wt(c,u,f._f)}return{criteriaMode:a,names:[...e],fields:c,shouldUseNativeValidation:i}},Uc=e=>e instanceof RegExp,jl=e=>Gt(e)?e:Uc(e)?e.source:rn(e)?Uc(e.value)?e.value.source:e.value:e,H0=e=>({isOnSubmit:!e||e===As.onSubmit,isOnBlur:e===As.onBlur,isOnChange:e===As.onChange,isOnAll:e===As.all,isOnTouch:e===As.onTouched});const V0="AsyncFunction";var sM=e=>!!e&&!!e.validate&&!!(Ms(e.validate)&&e.validate.constructor.name===V0||rn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===V0)),aM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),F0=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Al=(e,n,a,i)=>{for(const c of a||Object.keys(e)){const u=De(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(Al(m,n))break}else if(rn(m)&&Al(m,n))break}}};function Q0(e,n,a){const i=De(e,a);if(i||Xc(a))return{error:i,name:a};const c=a.split(".");for(;c.length;){const u=c.join("."),f=De(n,u),m=De(e,u);if(f&&!Array.isArray(f)&&a!==u)return{name:a};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:a}}var rM=(e,n,a,i)=>{a(e);const{name:c,...u}=e;return Hn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||As.all))},iM=(e,n,a)=>!e||!n||e===n||Tl(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),lM=(e,n,a,i,c)=>c.isOnAll?!1:!a&&c.isOnTouch?!(n||e):(a?i.isOnBlur:c.isOnBlur)?!e:(a?i.isOnChange:c.isOnChange)?e:!0,oM=(e,n)=>!wh(De(e,n)).length&&nn(e,n),cM=(e,n,a)=>{const i=Tl(De(e,a));return wt(i,"root",n[a]),wt(e,a,i),e};function I0(e,n,a="validate"){if(rs(e)||Array.isArray(e)&&e.every(rs)||Fs(e)&&!e)return{type:a,message:rs(e)?e:"",ref:n}}var pi=e=>rn(e)&&!Uc(e)?e:{value:e,message:""},G0=async(e,n,a,i,c,u)=>{const{ref:f,refs:m,required:x,maxLength:g,minLength:b,min:y,max:w,pattern:j,validate:T,name:E,valueAsNumber:z,mount:U}=e._f,N=De(a,E);if(!U||n.has(E))return{};const M=m?m[0]:f,P=ue=>{c&&M.reportValidity&&(M.setCustomValidity(Fs(ue)?"":ue||""),M.reportValidity())},$={},ne=Nh(f),I=Il(f),J=ne||I,W=(z||Eh(f))&&Gt(f.value)&&Gt(N)||Lc(f)&&f.value===""||N===""||Array.isArray(N)&&!N.length,ee=jh.bind(null,E,i,$),re=(ue,me,pe,Se=da.maxLength,B=da.minLength)=>{const K=ue?me:pe;$[E]={type:ue?Se:B,message:K,ref:f,...ee(ue?Se:B,K)}};if(u?!Array.isArray(N)||!N.length:x&&(!J&&(W||Vn(N))||Fs(N)&&!N||I&&!iy(m).isValid||ne&&!oy(m).isValid)){const{value:ue,message:me}=rs(x)?{value:!!x,message:x}:pi(x);if(ue&&($[E]={type:da.required,message:me,ref:M,...ee(da.required,me)},!i))return P(me),$}if(!W&&(!Vn(y)||!Vn(w))){let ue,me;const pe=pi(w),Se=pi(y);if(!Vn(N)&&!isNaN(N)){const B=f.valueAsNumber||N&&+N;Vn(pe.value)||(ue=B>pe.value),Vn(Se.value)||(me=B<Se.value)}else{const B=f.valueAsDate||new Date(N),K=we=>new Date(new Date().toDateString()+" "+we),ge=f.type=="time",be=f.type=="week";rs(pe.value)&&N&&(ue=ge?K(N)>K(pe.value):be?N>pe.value:B>new Date(pe.value)),rs(Se.value)&&N&&(me=ge?K(N)<K(Se.value):be?N<Se.value:B<new Date(Se.value))}if((ue||me)&&(re(!!ue,pe.message,Se.message,da.max,da.min),!i))return P($[E].message),$}if((g||b)&&!W&&(rs(N)||u&&Array.isArray(N))){const ue=pi(g),me=pi(b),pe=!Vn(ue.value)&&N.length>+ue.value,Se=!Vn(me.value)&&N.length<+me.value;if((pe||Se)&&(re(pe,ue.message,me.message),!i))return P($[E].message),$}if(j&&!W&&rs(N)){const{value:ue,message:me}=pi(j);if(Uc(ue)&&!N.match(ue)&&($[E]={type:da.pattern,message:me,ref:f,...ee(da.pattern,me)},!i))return P(me),$}if(T){if(Ms(T)){const ue=await T(N,a),me=I0(ue,M);if(me&&($[E]={...me,...ee(da.validate,me.message)},!i))return P(me.message),$}else if(rn(T)){let ue={};for(const me in T){if(!Hn(ue)&&!i)break;const pe=I0(await T[me](N,a),M,me);pe&&(ue={...pe,...ee(me,pe.message)},P(pe.message),i&&($[E]=ue))}if(!Hn(ue)&&($[E]={ref:M,...ue},!i))return $}}return P(!0),$};const uM={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function dM(e={}){let n={...uM,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ms(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=rn(n.defaultValues)||rn(n.values)?pn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:pn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,g=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:U0(),state:U0()},j=n.criteriaMode===As.all,T=A=>_=>{clearTimeout(g),g=setTimeout(A,_)},E=async A=>{if(!n.disabled&&(b.isValid||y.isValid||A)){const _=n.resolver?Hn((await I()).errors):await W(i,!0);_!==a.isValid&&w.state.next({isValid:_})}},z=(A,_)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((A||Array.from(m.mount)).forEach(C=>{C&&(_?wt(a.validatingFields,C,_):nn(a.validatingFields,C))}),w.state.next({validatingFields:a.validatingFields,isValidating:!Hn(a.validatingFields)}))},U=(A,_=[],C,ie,te=!0,ce=!0)=>{if(ie&&C&&!n.disabled){if(f.action=!0,ce&&Array.isArray(De(i,A))){const je=C(De(i,A),ie.argA,ie.argB);te&&wt(i,A,je)}if(ce&&Array.isArray(De(a.errors,A))){const je=C(De(a.errors,A),ie.argA,ie.argB);te&&wt(a.errors,A,je),oM(a.errors,A)}if((b.touchedFields||y.touchedFields)&&ce&&Array.isArray(De(a.touchedFields,A))){const je=C(De(a.touchedFields,A),ie.argA,ie.argB);te&&wt(a.touchedFields,A,je)}(b.dirtyFields||y.dirtyFields)&&(a.dirtyFields=gi(c,u)),w.state.next({name:A,isDirty:re(A,_),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else wt(u,A,_)},N=(A,_)=>{wt(a.errors,A,_),w.state.next({errors:a.errors})},M=A=>{a.errors=A,w.state.next({errors:a.errors,isValid:!1})},P=(A,_,C,ie)=>{const te=De(i,A);if(te){const ce=De(u,A,Gt(C)?De(c,A):C);Gt(ce)||ie&&ie.defaultChecked||_?wt(u,A,_?ce:Z0(te._f)):pe(A,ce),f.mount&&E()}},$=(A,_,C,ie,te)=>{let ce=!1,je=!1;const qe={name:A};if(!n.disabled){if(!C||ie){(b.isDirty||y.isDirty)&&(je=a.isDirty,a.isDirty=qe.isDirty=re(),ce=je!==qe.isDirty);const Ve=Qa(De(c,A),_);je=!!De(a.dirtyFields,A),Ve?nn(a.dirtyFields,A):wt(a.dirtyFields,A,!0),qe.dirtyFields=a.dirtyFields,ce=ce||(b.dirtyFields||y.dirtyFields)&&je!==!Ve}if(C){const Ve=De(a.touchedFields,A);Ve||(wt(a.touchedFields,A,C),qe.touchedFields=a.touchedFields,ce=ce||(b.touchedFields||y.touchedFields)&&Ve!==C)}ce&&te&&w.state.next(qe)}return ce?qe:{}},ne=(A,_,C,ie)=>{const te=De(a.errors,A),ce=(b.isValid||y.isValid)&&Fs(_)&&a.isValid!==_;if(n.delayError&&C?(x=T(()=>N(A,C)),x(n.delayError)):(clearTimeout(g),x=null,C?wt(a.errors,A,C):nn(a.errors,A)),(C?!Qa(te,C):te)||!Hn(ie)||ce){const je={...ie,...ce&&Fs(_)?{isValid:_}:{},errors:a.errors,name:A};a={...a,...je},w.state.next(je)}},I=async A=>{z(A,!0);const _=await n.resolver(u,n.context,nM(A||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return z(A),_},J=async A=>{const{errors:_}=await I(A);if(A)for(const C of A){const ie=De(_,C);ie?wt(a.errors,C,ie):nn(a.errors,C)}else a.errors=_;return _},W=async(A,_,C={valid:!0})=>{for(const ie in A){const te=A[ie];if(te){const{_f:ce,...je}=te;if(ce){const qe=m.array.has(ce.name),Ve=te._f&&sM(te._f);Ve&&b.validatingFields&&z([ce.name],!0);const jt=await G0(te,m.disabled,u,j,n.shouldUseNativeValidation&&!_,qe);if(Ve&&b.validatingFields&&z([ce.name]),jt[ce.name]&&(C.valid=!1,_))break;!_&&(De(jt,ce.name)?qe?cM(a.errors,jt,ce.name):wt(a.errors,ce.name,jt[ce.name]):nn(a.errors,ce.name))}!Hn(je)&&await W(je,_,C)}}return C.valid},ee=()=>{for(const A of m.unMount){const _=De(i,A);_&&(_._f.refs?_._f.refs.every(C=>!Nf(C)):!Nf(_._f.ref))&&oe(A)}m.unMount=new Set},re=(A,_)=>!n.disabled&&(A&&_&&wt(u,A,_),!Qa(we(),c)),ue=(A,_,C)=>P4(A,m,{...f.mount?u:Gt(_)?c:rs(A)?{[A]:_}:_},C,_),me=A=>wh(De(f.mount?u:c,A,n.shouldUnregister?De(c,A,[]):[])),pe=(A,_,C={})=>{const ie=De(i,A);let te=_;if(ie){const ce=ie._f;ce&&(!ce.disabled&&wt(u,A,ly(_,ce)),te=Lc(ce.ref)&&Vn(_)?"":_,ay(ce.ref)?[...ce.ref.options].forEach(je=>je.selected=te.includes(je.value)):ce.refs?Il(ce.ref)?ce.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(te)?je.checked=!!te.find(qe=>qe===je.value):je.checked=te===je.value||!!te)}):ce.refs.forEach(je=>je.checked=je.value===te):Eh(ce.ref)?ce.ref.value="":(ce.ref.value=te,ce.ref.type||w.state.next({name:A,values:pn(u)})))}(C.shouldDirty||C.shouldTouch)&&$(A,te,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&be(A)},Se=(A,_,C)=>{for(const ie in _){if(!_.hasOwnProperty(ie))return;const te=_[ie],ce=A+"."+ie,je=De(i,ce);(m.array.has(A)||rn(te)||je&&!je._f)&&!Sr(te)?Se(ce,te,C):pe(ce,te,C)}},B=(A,_,C={})=>{const ie=De(i,A),te=m.array.has(A),ce=pn(_);wt(u,A,ce),te?(w.array.next({name:A,values:pn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&C.shouldDirty&&w.state.next({name:A,dirtyFields:gi(c,u),isDirty:re(A,ce)})):ie&&!ie._f&&!Vn(ce)?Se(A,ce,C):pe(A,ce,C),F0(A,m)&&w.state.next({...a,name:A}),w.state.next({name:f.mount?A:void 0,values:pn(u)})},K=async A=>{f.mount=!0;const _=A.target;let C=_.name,ie=!0;const te=De(i,C),ce=Ve=>{ie=Number.isNaN(Ve)||Sr(Ve)&&isNaN(Ve.getTime())||Qa(Ve,De(u,C,Ve))},je=H0(n.mode),qe=H0(n.reValidateMode);if(te){let Ve,jt;const ye=_.type?Z0(te._f):F4(A),Te=A.type===L0.BLUR||A.type===L0.FOCUS_OUT,Ze=!aM(te._f)&&!n.resolver&&!De(a.errors,C)&&!te._f.deps||lM(Te,De(a.touchedFields,C),a.isSubmitted,qe,je),Ke=F0(C,m,Te);wt(u,C,ye),Te?(!_||!_.readOnly)&&(te._f.onBlur&&te._f.onBlur(A),x&&x(0)):te._f.onChange&&te._f.onChange(A);const it=$(C,ye,Te),Et=!Hn(it)||Ke;if(!Te&&w.state.next({name:C,type:A.type,values:pn(u)}),Ze)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?Te&&E():Te||E()),Et&&w.state.next({name:C,...Ke?{}:it});if(!Te&&Ke&&w.state.next({...a}),n.resolver){const{errors:pt}=await I([C]);if(ce(ye),ie){const Gn=Q0(a.errors,i,C),Is=Q0(pt,i,Gn.name||C);Ve=Is.error,C=Is.name,jt=Hn(pt)}}else z([C],!0),Ve=(await G0(te,m.disabled,u,j,n.shouldUseNativeValidation))[C],z([C]),ce(ye),ie&&(Ve?jt=!1:(b.isValid||y.isValid)&&(jt=await W(i,!0)));ie&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&be(te._f.deps),ne(C,jt,Ve,it))}},ge=(A,_)=>{if(De(a.errors,_)&&A.focus)return A.focus(),1},be=async(A,_={})=>{let C,ie;const te=Tl(A);if(n.resolver){const ce=await J(Gt(A)?A:te);C=Hn(ce),ie=A?!te.some(je=>De(ce,je)):C}else A?(ie=(await Promise.all(te.map(async ce=>{const je=De(i,ce);return await W(je&&je._f?{[ce]:je}:je)}))).every(Boolean),!(!ie&&!a.isValid)&&E()):ie=C=await W(i);return w.state.next({...!rs(A)||(b.isValid||y.isValid)&&C!==a.isValid?{}:{name:A},...n.resolver||!A?{isValid:C}:{},errors:a.errors}),_.shouldFocus&&!ie&&Al(i,ge,A?te:m.mount),ie},we=(A,_)=>{let C={...f.mount?u:c};return _&&(C=sy(_.dirtyFields?a.dirtyFields:a.touchedFields,C)),Gt(A)?C:rs(A)?De(C,A):A.map(ie=>De(C,ie))},k=(A,_)=>({invalid:!!De((_||a).errors,A),isDirty:!!De((_||a).dirtyFields,A),error:De((_||a).errors,A),isValidating:!!De(a.validatingFields,A),isTouched:!!De((_||a).touchedFields,A)}),Q=A=>{A&&Tl(A).forEach(_=>nn(a.errors,_)),w.state.next({errors:A?a.errors:{}})},O=(A,_,C)=>{const ie=(De(i,A,{_f:{}})._f||{}).ref,te=De(a.errors,A)||{},{ref:ce,message:je,type:qe,...Ve}=te;wt(a.errors,A,{...Ve,..._,ref:ie}),w.state.next({name:A,errors:a.errors,isValid:!1}),C&&C.shouldFocus&&ie&&ie.focus&&ie.focus()},R=(A,_)=>Ms(A)?w.state.subscribe({next:C=>"values"in C&&A(ue(void 0,_),C)}):ue(A,_,!0),V=A=>w.state.subscribe({next:_=>{iM(A.name,_.name,A.exact)&&rM(_,A.formState||b,at,A.reRenderRoot)&&A.callback({values:{...u},...a,..._,defaultValues:c})}}).unsubscribe,H=A=>(f.mount=!0,y={...y,...A.formState},V({...A,formState:y})),oe=(A,_={})=>{for(const C of A?Tl(A):m.mount)m.mount.delete(C),m.array.delete(C),_.keepValue||(nn(i,C),nn(u,C)),!_.keepError&&nn(a.errors,C),!_.keepDirty&&nn(a.dirtyFields,C),!_.keepTouched&&nn(a.touchedFields,C),!_.keepIsValidating&&nn(a.validatingFields,C),!n.shouldUnregister&&!_.keepDefaultValue&&nn(c,C);w.state.next({values:pn(u)}),w.state.next({...a,..._.keepDirty?{isDirty:re()}:{}}),!_.keepIsValid&&E()},xe=({disabled:A,name:_})=>{(Fs(A)&&f.mount||A||m.disabled.has(_))&&(A?m.disabled.add(_):m.disabled.delete(_))},Ee=(A,_={})=>{let C=De(i,A);const ie=Fs(_.disabled)||Fs(n.disabled);return wt(i,A,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:A}},name:A,mount:!0,..._}}),m.mount.add(A),C?xe({disabled:Fs(_.disabled)?_.disabled:n.disabled,name:A}):P(A,!0,_.value),{...ie?{disabled:_.disabled||n.disabled}:{},...n.progressive?{required:!!_.required,min:jl(_.min),max:jl(_.max),minLength:jl(_.minLength),maxLength:jl(_.maxLength),pattern:jl(_.pattern)}:{},name:A,onChange:K,onBlur:K,ref:te=>{if(te){Ee(A,_),C=De(i,A);const ce=Gt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,je=X4(ce),qe=C._f.refs||[];if(je?qe.find(Ve=>Ve===ce):ce===C._f.ref)return;wt(i,A,{_f:{...C._f,...je?{refs:[...qe.filter(Nf),ce,...Array.isArray(De(c,A))?[{}]:[]],ref:{type:ce.type,name:A}}:{ref:ce}}}),P(A,!1,void 0,ce)}else C=De(i,A,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||_.shouldUnregister)&&!(I4(m.array,A)&&f.action)&&m.unMount.add(A)}}},F=()=>n.shouldFocusError&&Al(i,ge,m.mount),Ne=A=>{Fs(A)&&(w.state.next({disabled:A}),Al(i,(_,C)=>{const ie=De(i,C);ie&&(_.disabled=ie._f.disabled||A,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(te=>{te.disabled=ie._f.disabled||A}))},0,!1))},Ce=(A,_)=>async C=>{let ie;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let te=pn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ce,values:je}=await I();a.errors=ce,te=pn(je)}else await W(i);if(m.disabled.size)for(const ce of m.disabled)nn(te,ce);if(nn(a.errors,"root"),Hn(a.errors)){w.state.next({errors:{}});try{await A(te,C)}catch(ce){ie=ce}}else _&&await _({...a.errors},C),F(),setTimeout(F);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(a.errors)&&!ie,submitCount:a.submitCount+1,errors:a.errors}),ie)throw ie},Be=(A,_={})=>{De(i,A)&&(Gt(_.defaultValue)?B(A,pn(De(c,A))):(B(A,_.defaultValue),wt(c,A,pn(_.defaultValue))),_.keepTouched||nn(a.touchedFields,A),_.keepDirty||(nn(a.dirtyFields,A),a.isDirty=_.defaultValue?re(A,pn(De(c,A))):re()),_.keepError||(nn(a.errors,A),b.isValid&&E()),w.state.next({...a}))},Oe=(A,_={})=>{const C=A?pn(A):c,ie=pn(C),te=Hn(A),ce=te?c:ie;if(_.keepDefaultValues||(c=C),!_.keepValues){if(_.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(gi(c,u))]);for(const qe of Array.from(je))De(a.dirtyFields,qe)?wt(ce,qe,De(u,qe)):B(qe,De(ce,qe))}else{if(yh&&Gt(A))for(const je of m.mount){const qe=De(i,je);if(qe&&qe._f){const Ve=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Lc(Ve)){const jt=Ve.closest("form");if(jt){jt.reset();break}}}}if(_.keepFieldsRef)for(const je of m.mount)B(je,De(ce,je));else i={}}u=n.shouldUnregister?_.keepDefaultValues?pn(c):{}:pn(ce),w.array.next({values:{...ce}}),w.state.next({values:{...ce}})}m={mount:_.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!_.keepIsValid||!!_.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:_.keepSubmitCount?a.submitCount:0,isDirty:te?!1:_.keepDirty?a.isDirty:!!(_.keepDefaultValues&&!Qa(A,c)),isSubmitted:_.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:te?{}:_.keepDirtyValues?_.keepDefaultValues&&u?gi(c,u):a.dirtyFields:_.keepDefaultValues&&A?gi(c,A):_.keepDirty?a.dirtyFields:{},touchedFields:_.keepTouched?a.touchedFields:{},errors:_.keepErrors?a.errors:{},isSubmitSuccessful:_.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Ae=(A,_)=>Oe(Ms(A)?A(u):A,_),Qe=(A,_={})=>{const C=De(i,A),ie=C&&C._f;if(ie){const te=ie.refs?ie.refs[0]:ie.ref;te.focus&&(te.focus(),_.shouldSelect&&Ms(te.select)&&te.select())}},at=A=>{a={...a,...A}},Kt={control:{register:Ee,unregister:oe,getFieldState:k,handleSubmit:Ce,setError:O,_subscribe:V,_runSchema:I,_focusError:F,_getWatch:ue,_getDirty:re,_setValid:E,_setFieldArray:U,_setDisabledField:xe,_setErrors:M,_getFieldArray:me,_reset:Oe,_resetDefaultValues:()=>Ms(n.defaultValues)&&n.defaultValues().then(A=>{Ae(A,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:Ne,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(A){f=A},get _defaultValues(){return c},get _names(){return m},set _names(A){m=A},get _formState(){return a},get _options(){return n},set _options(A){n={...n,...A}}},subscribe:H,trigger:be,register:Ee,handleSubmit:Ce,watch:R,setValue:B,getValues:we,reset:Ae,resetField:Be,clearErrors:Q,unregister:oe,setError:O,setFocus:Qe,getFieldState:k};return{...Kt,formControl:Kt}}function _h(e={}){const n=bt.useRef(void 0),a=bt.useRef(void 0),[i,c]=bt.useState({isDirty:!1,isValidating:!1,isLoading:Ms(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ms(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ms(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=dM(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,K4(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),bt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),bt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),bt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),bt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),bt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),bt.useEffect(()=>{e.values&&!Qa(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),bt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=W4(i,u),n.current}const Y0=(e,n,a)=>{if(e&&"reportValidity"in e){const i=De(a,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Qf=(e,n)=>{for(const a in n.fields){const i=n.fields[a];i&&i.ref&&"reportValidity"in i.ref?Y0(i.ref,a,e):i&&i.refs&&i.refs.forEach(c=>Y0(c,a,e))}},W0=(e,n)=>{n.shouldUseNativeValidation&&Qf(e,n);const a={};for(const i in e){const c=De(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(fM(n.names||Object.keys(e),i)){const f=Object.assign({},De(a,i));wt(f,"root",u),wt(a,i,f)}else wt(a,i,u)}return a},fM=(e,n)=>{const a=K0(n);return e.some(i=>K0(i).match(`^${a}\\.\\d+`))};function K0(e){return e.replace(/\]|\[/g,"")}function P0(e,n){try{var a=e()}catch(i){return n(i)}return a&&a.then?a.then(void 0,n):a}function hM(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var x=a[f].types,g=x&&x[i.code];a[f]=jh(f,n,a,c,g?[].concat(g,i.message):i.message)}e.shift()}return a}function mM(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var x=a[f].types,g=x&&x[i.code];a[f]=jh(f,n,a,c,g?[].concat(g,i.message):i.message)}e.shift()}return a}function Ch(e,n,a){if(a===void 0&&(a={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(P0(function(){return Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&Qf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:W0(hM(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(P0(function(){return Promise.resolve((a.mode==="sync"?tk:nk)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&Qf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof vh})(f))return{values:{},errors:W0(mM(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function pM(e){const n=Tt();return kn({mutationFn:a=>nj(e,a),onSuccess:a=>{n.setQueryData(sn.list(Tv),i=>i&&{...i,items:i.items.map(c=>c.id===a.id?a:c)}),n.invalidateQueries({queryKey:sn.detail(e),exact:!1})}})}async function gM(e={}){const{page:n,pageSize:a,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof a=="number"&&a>0&&(f.page_size=a),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:x}=await We.GET("/api/v1/users",{params:{query:f},signal:u});if(!x)throw new Error("Expected user page payload.");return x}function xM(e){return Xf("/users/invitations",e)}function cy(e={}){const{enabled:n=!0,search:a="",pageSize:i}=e,c=a.trim(),u=c.length>=2?c:"",f=xv({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:g,signal:b})=>gM(vM({page:typeof g=="number"?g:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:g=>g.has_next?g.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(g=>g.id,[]),x=Kb(f.data?.pages,m);return{...f,users:x}}function vM(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function bM(){const e=Tt();return kn({mutationFn:({email:n,displayName:a})=>xM({email:n,display_name:a?.trim()?a.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const ql=200;function yM(e){const n={page:1,pageSize:ql};return fn({queryKey:sn.members(e,n),queryFn:({signal:a})=>sj(e,{signal:a,pageSize:ql,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function wM(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:ql});return kn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return aj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(a,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function SM(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:ql});return kn({mutationFn:({membershipId:i,roleIds:c})=>rj(e,i,EM(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function jM(e){const n=Tt(),a=sn.members(e,{page:1,pageSize:ql});return kn({mutationFn:i=>ij(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function EM(e){return{role_ids:Array.from(e)}}const Ei=200,X0=200;function uy(e){const n={page:1,pageSize:Ei};return fn({queryKey:sn.roles(e,n),queryFn:({signal:a})=>lj(e,{signal:a,pageSize:Ei,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function NM(){const e={scope:"global",page:1,pageSize:X0};return fn({queryKey:sn.permissions(e),queryFn:({signal:n})=>dj({signal:n,scope:"global",pageSize:X0}),staleTime:6e4,placeholderData:n=>n})}function _M(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ei});return kn({mutationFn:i=>oj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(a,f=>J0(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:J0(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function CM(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ei});return kn({mutationFn:({roleId:i,payload:c})=>cj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function kM(e){const n=Tt(),a=sn.roles(e,{page:1,pageSize:Ei});return kn({mutationFn:i=>uj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function J0(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:Ei,has_next:!1,has_previous:!1,total:1}}const TM={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function AM(e,n){if(e&&e.trim().length>0){const a=e.trim().split(/\s+/u),i=a[0]?.[0],c=a[a.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function MM({name:e,email:n,size:a="md",className:i}){const c=p.useMemo(()=>AM(e,n),[e,n]);return o.jsx("span",{"aria-hidden":"true",className:ve("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",TM[a],i),children:c})}function DM(){const{workspace:e,hasPermission:n}=Ka(),a=n("Workspace.Members.ReadWrite"),i=yM(e.id),c=uy(e.id),u=wM(e.id),f=SM(e.id),m=jM(e.id),x=bM(),[g,b]=p.useState(null),[y,w]=p.useState([]),[j,T]=p.useState(""),[E,z]=p.useState([]),[U,N]=p.useState(""),[M,P]=p.useState(""),[$,ne]=p.useState("existing"),[I,J]=p.useState(""),[W,ee]=p.useState(""),[re,ue]=p.useState(""),[me,pe]=p.useState(null);p.useEffect(()=>{const C=window.setTimeout(()=>{P(U.trim())},250);return()=>window.clearTimeout(C)},[U]);const Se=cy({enabled:a,search:M,pageSize:50}),B=p.useMemo(()=>{const C=new Map;for(const ie of c.data?.items??[])C.set(ie.id,ie);return C},[c.data]),K=p.useMemo(()=>{const C=i.data?.items??[],ie=new Intl.Collator("en",{sensitivity:"base"});return Array.from(C).sort((te,ce)=>{const je=te.user.display_name??te.user.email,qe=ce.user.display_name??ce.user.email;return ie.compare(je??"",qe??"")})},[i.data]),ge=p.useMemo(()=>new Set(K.map(C=>C.user.id)),[K]),be=re.trim().toLowerCase(),we=p.useMemo(()=>be?K.filter(C=>{const ie=C.user.display_name??"",te=C.user.email??"";return ie.toLowerCase().includes(be)||te.toLowerCase().includes(be)||C.id.toLowerCase().includes(be)}):K,[K,be]),k=Se.isPending&&Se.users.length===0,Q=Se.isFetchingNextPage,O=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return Se.users.filter(ie=>!ge.has(ie.id)).sort((ie,te)=>{const ce=ie.display_name??ie.email,je=te.display_name??te.email;return C.compare(ce??"",je??"")})},[ge,Se.users]),R=U.trim().toLowerCase(),H=M.trim().toLowerCase().length>=2,oe=$==="existing"&&U.trim().length>0&&U.trim().length<2,xe=p.useMemo(()=>!R||H?O:O.filter(C=>(C.display_name??"").toLowerCase().includes(R)||C.email.toLowerCase().includes(R)),[O,R,H]),Ee=p.useMemo(()=>$==="existing"?O.find(C=>C.id===j):void 0,[O,$,j]),F=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(ie=>ie.scope_type==="workspace").sort((ie,te)=>C.compare(ie.name,te.name))},[c.data]),Ne=(C,ie)=>{w(te=>ie?te.includes(C)?te:[...te,C]:te.filter(ce=>ce!==C))},Ce=(C,ie)=>{z(te=>ie?te.includes(C)?te:[...te,C]:te.filter(ce=>ce!==C))},Be=C=>{b(C.id),w(C.roles),pe(null)},Oe=()=>{b(null),w([])},Ae=()=>{g&&(pe(null),f.mutate({membershipId:g,roleIds:y},{onSuccess:()=>{pe({tone:"success",message:"Member roles updated."}),Oe()},onError:C=>{const ie=C instanceof Error?C.message:"Unable to update member roles.";pe({tone:"danger",message:ie})}}))},Qe=C=>{!a||!window.confirm(`Remove ${C.user.display_name??C.user.email} from the workspace?`)||(pe(null),m.mutate(C.id,{onSuccess:()=>{pe({tone:"success",message:"Member removed."})},onError:te=>{const ce=te instanceof Error?te.message:"Unable to remove member.";pe({tone:"danger",message:ce})}}))},at=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,rt=u.isPending||x.isPending,Kt=$==="existing"?!!j:at.test(I.trim()),A=async C=>{C.preventDefault(),pe(null);try{if($==="existing"){if(!j){pe({tone:"danger",message:"Select a user to invite."});return}const ce=O.find(je=>je.id===j);if(!ce){pe({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:ce,roleIds:E}),T(""),z([]),N(""),pe({tone:"success",message:`${ce.display_name??ce.email} added to the workspace.`});return}const ie=I.trim().toLowerCase();if(!ie||!at.test(ie)){pe({tone:"danger",message:"Enter a valid email address to send an invite."});return}const te=await x.mutateAsync({email:ie,displayName:W.trim()||void 0});await u.mutateAsync({user:te,roleIds:E}),J(""),ee(""),z([]),pe({tone:"success",message:`Invitation sent to ${te.display_name??te.email}.`})}catch(ie){const te=ie instanceof Error?ie.message:"Unable to invite member.";pe({tone:"danger",message:te})}};p.useEffect(()=>{$!=="existing"||!Ee||xe.some(C=>C.id===Ee.id)||N("")},[xe,$,Ee]),p.useEffect(()=>{if(pe(null),$==="existing"){J(""),ee("");return}T(""),N("")},[$]);const _=()=>{$==="existing"?(T(""),N("")):(J(""),ee("")),z([])};return o.jsxs("div",{className:"space-y-6",children:[me?o.jsx(mt,{tone:me.tone,children:me.message}):null,i.isError?o.jsx(mt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?o.jsx(mt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,a?o.jsxs("form",{onSubmit:A,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),Se.isError?o.jsx(mt,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${$==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[o.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:$==="existing",onChange:()=>ne("existing"),disabled:rt,className:"h-4 w-4"}),o.jsx("span",{children:"Existing teammate"})]}),o.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${$==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[o.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:$==="new",onChange:()=>ne("new"),disabled:rt,className:"h-4 w-4"}),o.jsx("span",{children:"Invite by email"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx("div",{className:"space-y-4",children:$==="existing"?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:o.jsx(an,{value:U,onChange:C=>N(C.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:rt||k})}),oe?o.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,Se.isError?o.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,o.jsx(Yt,{label:"User",required:!0,children:o.jsxs(Wa,{value:j,onChange:C=>{T(C.target.value),C.target.value&&N("")},disabled:rt||k,required:!0,children:[o.jsx("option",{value:"",children:"Select a user"}),Ee&&!xe.some(C=>C.id===Ee.id)?o.jsx("option",{value:Ee.id,children:Ee.display_name?`${Ee.display_name} (${Ee.email})`:Ee.email}):null,xe.map(C=>o.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email},C.id))]})}),xe.length===0&&U?o.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',U,'". Clear the search to see everyone.']}):null,Se.hasNextPage?o.jsx("div",{className:"pt-2",children:o.jsx(ze,{type:"button",variant:"ghost",onClick:()=>Se.fetchNextPage(),disabled:k||Q,children:Q?"Loading more users":"Load more users"})}):null]}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{label:"Email",required:!0,children:o.jsx(an,{type:"email",value:I,onChange:C=>J(C.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:rt,required:!0})}),o.jsx(Yt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:o.jsx(an,{value:W,onChange:C=>ee(C.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:rt})}),o.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),o.jsx("div",{className:"flex flex-wrap gap-2",children:F.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):F.map(C=>o.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:E.includes(C.id),onChange:ie=>Ce(C.id,ie.target.checked),disabled:rt}),o.jsx("span",{children:C.name})]},C.id))}),E.length>0?o.jsxs("p",{className:"text-xs text-slate-500",children:[E.length," role(s) selected."]}):null]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[($==="existing"?j||U||E.length>0:I||W||E.length>0)?o.jsx(ze,{type:"button",variant:"ghost",onClick:_,disabled:rt,children:"Clear"}):null,o.jsx(ze,{type:"submit",isLoading:rt,disabled:!Kt||rt,children:$==="existing"?"Add member":"Send invite"})]})]}):o.jsx(mt,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),o.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${K.length} member${K.length===1?"":"s"}`})]}),o.jsx(Yt,{label:"Search members",className:"w-full max-w-xs",children:o.jsx(an,{value:re,onChange:C=>ue(C.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?o.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):K.length===0?o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):we.length===0?o.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',re,'".']}):o.jsx("ul",{className:"space-y-4",role:"list",children:we.map(C=>{const ie=C.user.display_name??C.user.email,te=C.roles.map(je=>B.get(je)?.name??je),ce=g===C.id;return o.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(MM,{name:C.user.display_name,email:C.user.email,size:"sm"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:ie}),o.jsx("p",{className:"text-sm text-slate-500",children:C.user.email}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[C.is_default?o.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,o.jsxs("span",{children:["ID: ",C.id]})]})]})]}),a?o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>ce?Oe():Be(C),disabled:f.isPending||m.isPending||ce&&f.isPending,children:ce?"Cancel":"Manage roles"}),o.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Qe(C),disabled:m.isPending,children:"Remove"})]}):null]}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:te.length>0?te.map(je=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${C.id}-${je}`)):o.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),ce?o.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(je=>o.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:qe=>Ne(je.id,qe.target.checked),disabled:f.isPending}),o.jsx("span",{children:je.name})]},je.id))}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:Oe,disabled:f.isPending,children:"Cancel"}),o.jsx(ze,{type:"button",size:"sm",onClick:Ae,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},C.id)})})]})]})}const RM=ha({name:$t().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:$t().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(T0("")),description:$t().max(500,"Keep the description concise.").optional().or(T0("")),permissions:Pc($t())});function zM(){const{workspace:e,hasPermission:n}=Ka(),a=n("Workspace.Roles.ReadWrite"),i=uy(e.id),c=NM(),u=_M(e.id),f=CM(e.id),m=kM(e.id),[x,g]=p.useState(!1),[b,y]=p.useState(null),[w,j]=p.useState(null),T=p.useMemo(()=>(c.data?.items??[]).filter(ne=>ne.scope_type==="workspace"),[c.data]),E=p.useMemo(()=>{const ne=new Map;for(const I of T)ne.set(I.key,I);return ne},[T]),z=i.data?.items??[],U=()=>{j(null),g(!0),y(null)},N=()=>{g(!1)},M=ne=>{j(null),y(ne.id),g(!1)},P=()=>{y(null)},$=ne=>{!a||ne.built_in||!window.confirm(`Delete the role "${ne.name}"? This action cannot be undone.`)||(j(null),m.mutate(ne.id,{onSuccess:()=>{j({tone:"success",message:"Role deleted."})},onError:J=>{const W=J instanceof Error?J.message:"Unable to delete role.";j({tone:"danger",message:W})}}))};return o.jsxs("div",{className:"space-y-6",children:[w?o.jsx(mt,{tone:w.tone,children:w.message}):null,i.isError?o.jsx(mt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?o.jsx(mt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,a?o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),o.jsx(ze,{type:"button",variant:x?"ghost":"primary",onClick:()=>x?N():U(),children:x?"Hide form":"New role"})]}),x?o.jsx("div",{className:"mt-4",children:o.jsx(ev,{availablePermissions:T,allowSlugEdit:!0,onCancel:N,onSubmit:ne=>{j(null),u.mutate({name:ne.name.trim(),slug:ne.slug?ne.slug.trim():void 0,description:ne.description?.trim()?ne.description.trim():void 0,permissions:ne.permissions},{onSuccess:()=>{j({tone:"success",message:"Role created."}),N()},onError:I=>{const J=I instanceof Error?I.message:"Unable to create role.";j({tone:"danger",message:J})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),o.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${z.length} role${z.length===1?"":"s"}`})]})}),i.isLoading?o.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):z.length===0?o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):o.jsx("ul",{className:"space-y-4",role:"list",children:z.map(ne=>{const I=b===ne.id,J=ne.permissions.map(W=>E.get(W)?.label??W);return o.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:ne.name}),ne.built_in?o.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,ne.editable?null:o.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",ne.slug]}),ne.description?o.jsx("p",{className:"text-sm text-slate-600",children:ne.description}):null]}),a&&ne.editable?o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>I?P():M(ne),disabled:f.isPending||m.isPending,children:I?"Cancel":"Edit"}),ne.built_in?null:o.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(ne),disabled:m.isPending,children:"Delete"})]}):null]}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:J.length>0?J.map(W=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:W},`${ne.id}-${W}`)):o.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),I?o.jsx("div",{className:"mt-4",children:o.jsx(ev,{availablePermissions:T,initialValues:{name:ne.name,slug:ne.slug,description:ne.description??"",permissions:ne.permissions},allowSlugEdit:!1,onCancel:P,onSubmit:W=>{j(null),f.mutate({roleId:ne.id,payload:{name:W.name.trim(),description:W.description?.trim()?W.description.trim():void 0,permissions:W.permissions}},{onSuccess:()=>{j({tone:"success",message:"Role updated."}),P()},onError:ee=>{const re=ee instanceof Error?ee.message:"Unable to update role.";j({tone:"danger",message:re})}})},isSubmitting:f.isPending},ne.id)}):null]},ne.id)})})]})]})}function ev({availablePermissions:e,initialValues:n,onSubmit:a,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:x,setValue:g,formState:{errors:b},reset:y}=_h({resolver:Ch(RM),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=x("permissions"),j=(E,z)=>{g("permissions",z?Array.from(new Set([...w??[],E])):(w??[]).filter(U=>U!==E))},T=m(E=>{const z={name:E.name.trim(),slug:u?E.slug?.trim()??"":n?.slug??"",description:E.description?.trim()??"",permissions:E.permissions??[]};a(z)});return o.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:T,noValidate:!0,children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",o.jsx(an,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",o.jsx(an,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),o.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",o.jsx(an,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(E=>o.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(E.key)??!1,onChange:z=>j(E.key,z.target.checked),disabled:c}),o.jsxs("span",{children:[o.jsx("span",{className:"block font-semibold",children:E.label}),o.jsx("span",{className:"block text-xs text-slate-500",children:E.description})]})]},E.key))})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[i?o.jsx(ze,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,o.jsx(ze,{type:"submit",isLoading:c,children:"Save role"})]})]})}function dy(){const e=kr(),n=fh(),a=DC(),[i,c]=p.useState(Ds),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const f=p.useMemo(()=>(e.user.permissions??[]).includes("System.Settings.ReadWrite"),[e.user.permissions]),m=n.isFetching||a.isPending,x=i.trim()||Ds,g=b=>{a.mutate({enabled:b,detail:x},{onSuccess:y=>{c(y.detail)}})};return o.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?o.jsx(mt,{tone:"danger",children:"Unable to load safe mode status."}):null,f?null:o.jsxs(mt,{tone:"warning",children:["You need the ",o.jsx("strong",{children:"System.Settings.ReadWrite"})," permission to change safe mode."]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[o.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),o.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Ds})]}),o.jsx(Yt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:o.jsx(ty,{value:i,onChange:b=>c(b.target.value),disabled:!f||m})}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(ze,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Ds),disabled:!f||m,children:"Reset message"}),o.jsx(ze,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>g(!u?.enabled),isLoading:a.isPending,disabled:!f,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}dy.displayName="SafeModeControls";const fy=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],OM=new Set(fy.map(e=>e.id)),_f=e=>!!(e&&OM.has(e));function LM(){Ka();const[e,n]=dh(),a=e.get("view"),i=_f(a)?a:"general";p.useEffect(()=>{if(a&&!_f(a)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[a,e,n]);const c=u=>{if(!_f(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return o.jsx(th,{value:i,onValueChange:c,children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(nh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:fy.map(u=>{const f=u.id===i;return o.jsx(Cc,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),o.jsx(vi,{value:"general","aria-live":"polite",children:i==="general"?o.jsx(BM,{}):null}),o.jsx(vi,{value:"members","aria-live":"polite",children:i==="members"?o.jsx(DM,{}):null}),o.jsx(vi,{value:"roles","aria-live":"polite",children:i==="roles"?o.jsx(zM,{}):null})]})})}const UM=ha({name:$t().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function BM(){const{workspace:e}=Ka(),n=pM(e.id),[a,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:x}=_h({resolver:Ch(UM),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const g=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:g,noValidate:!0,children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),a?o.jsx(mt,{tone:"success",children:a}):null,n.isError?o.jsx(mt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsx(Yt,{label:"Workspace name",required:!0,error:f.name?.message,children:o.jsx(an,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),o.jsx(Yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:o.jsx(an,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(ze,{type:"button",variant:"ghost",onClick:()=>{x(),i(null)},disabled:n.isPending||!m,children:"Reset"}),o.jsx(ze,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),o.jsx(dy,{})]})}function qM(){return o.jsx($c,{children:o.jsx($M,{})})}function $M(){const e=Ss(),n=En(),a=Tt(),i=Zc(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=VM(e.pathname),f=p.useMemo(()=>QM(c,u),[c,u]);return p.useEffect(()=>{i.data&&a.setQueryData(sn.list(Tv),i.data)},[a,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${Ga.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=IM(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&vj(f)},[f]),i.isLoading?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(Ct,{title:"Loading workspace",variant:"loading"})}):i.isError?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[o.jsx(Ct,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),o.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?o.jsx(bj,{workspace:f,workspaces:c,children:o.jsx(ZM,{workspace:f})}):null}function ZM({workspace:e}){return o.jsx(m_,{children:o.jsx(sC,{workspaceId:e.id,children:o.jsx(HM,{workspace:e})})})}function HM({workspace:e}){const n=kr(),a=En(),i=Ss(),{session:c,windowState:u}=bb(),f=fh(),m=f.data?.enabled??!1,x=f.data?.detail??Ds,g=Cb(),b=p.useMemo(()=>Eb(e),[e]),[y,w]=p.useState(""),[j,T]=p.useState(!1),E=y.trim().toLowerCase(),z=!!(c&&u==="maximized"),U=p.useMemo(()=>b.map(R=>({id:R.id,label:R.label,description:`Jump to ${R.label}`,icon:o.jsx(R.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),N=p.useMemo(()=>Ya(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[M,P]=p.useState(()=>{const R=N.get();return typeof R=="boolean"?R:!1});p.useEffect(()=>{const R=N.get();P(typeof R=="boolean"?R:!1)},[N]),p.useEffect(()=>{N.set(M)},[M,N]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const R=()=>{window.innerWidth>=1024&&T(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),p.useEffect(()=>{if(typeof document>"u")return;const R=document.body.style.overflow;return j?document.body.style.overflow="hidden":document.body.style.overflow=R||"",()=>{document.body.style.overflow=R}},[j]),p.useEffect(()=>{z&&T(!1)},[z]);const $=p.useCallback(()=>{if(!E)return;const R=b.find(V=>V.label.toLowerCase().includes(E))??b.find(V=>V.id.toLowerCase().includes(E));R&&a(R.href)},[E,b,a]),ne=p.useCallback(R=>{const V=b.find(H=>H.id===R.id);V&&(a(V.href),w(""))},[b,a]),I=p.useCallback(()=>T(!0),[]),J=p.useCallback(()=>T(!1),[]),W=o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("button",{type:"button",onClick:I,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:o.jsx(GM,{})})}),ee=n.user.display_name||n.user.email||"Signed in",re=n.user.email??"",ue=o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Sb,{displayName:ee,email:re})}),me={value:y,onChange:w,onSubmit:$,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:g,scopeLabel:e.name,suggestions:U,onSelectSuggestion:ne},pe=FM(i.pathname,e.id),Se=WM(e.id,pe,i.search,i.hash),B=Se?.kind==="content"&&Se.key.startsWith("documents"),K=B?new URLSearchParams(i.search).get("q")??"":"",ge=p.useCallback(R=>{if(!B)return;const V=new URLSearchParams(i.search);R?V.set("q",R):V.delete("q");const H=V.toString();a(`${i.pathname}${H?`?${H}`:""}${i.hash}`,{replace:!0})},[B,i.hash,i.pathname,i.search,a]),be=p.useCallback(R=>{ge(R)},[ge]),we=p.useCallback(()=>{ge("")},[ge]),Q=(B?{value:K,onChange:ge,onSubmit:be,onClear:we,placeholder:"Search documents",shortcutHint:g,scopeLabel:"Documents",enableShortcut:!0}:void 0)??me;if(p.useEffect(()=>{Se?.kind==="redirect"&&a(Se.to,{replace:!0})},[Se,a]),!Se||Se.kind==="redirect")return null;const O=Se.fullHeight??!1;return o.jsxs("div",{className:ve("flex min-w-0 bg-slate-50 text-slate-900",O?"h-screen overflow-hidden":"min-h-screen"),children:[z?null:o.jsx(_C,{workspace:e,items:b,collapsed:M,onToggleCollapse:()=>P(R=>!R),onGoToWorkspaces:()=>a("/workspaces")}),o.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[z?null:o.jsx(wb,{brand:W,trailing:ue,search:Q}),!z&&j?o.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:J}),o.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[o.jsxs("div",{className:"flex flex-col leading-tight",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),o.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),o.jsx("button",{type:"button",onClick:J,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:o.jsx(YM,{})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:o.jsx(Nb,{items:b,onNavigate:J,showHeading:!1})})]})]}):null,o.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:o.jsx("main",{className:ve("relative flex-1 min-w-0",O?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:o.jsxs("div",{className:ve(O?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?o.jsx("div",{className:ve("mb-4",O?"px-6 pt-4":""),children:o.jsx(mt,{tone:"warning",heading:"Safe mode active",children:x})}):null,o.jsx("div",{className:ve(O?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:Se.element})]})})},`section-${Se.key}`)]})]})}function VM(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function FM(e,n){const a=`/workspaces/${n}`;return e.startsWith(a)?e.slice(a.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function QM(e,n){return n?e.find(a=>a.id===n)??e.find(a=>a.slug===n)??e[0]??null:e[0]??null}function IM(e,n,a,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${Ga.path}`;return`/workspaces/${a}${f}${n}`}function GM(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),o.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),o.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function YM(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),o.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function WM(e,n,a,i){const c=`${a}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Ga.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:o.jsx(OC,{})};case Ga.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:o.jsx(U4,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:o.jsx(r4,{})};case"runs":return{kind:"content",key:"runs",element:o.jsx(B4,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:o.jsx(KM,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:o.jsx(H4,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:o.jsx($4,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:o.jsx(LM,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:o.jsx(Ct,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function KM({configId:e}){return o.jsx(V4,{params:{configId:e}})}function PM(e){return`/workspaces/${e}/${Ga.path}`}function XM(){return o.jsx($c,{children:o.jsx(JM,{})})}function JM(){const e=Ss(),n=En(),a=kr(),i=Zc(),c=i.data?.items??[],m=[xj(),a.user.preferred_workspace_id].filter(x=>!!x).map(x=>c.find(g=>g.id===x)).find(x=>!!x)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const x=PM(m.id);e.pathname+e.search!==x&&n(x,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?o.jsx(Ct,{title:"Loading workspaces",variant:"loading"}):i.isError?o.jsx(Ct,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:o.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function eD(){return fn({queryKey:Rs.providers(),queryFn:({signal:e})=>DS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const tD=ha({email:$t().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:$t().min(1,"Enter your password.")});function nD(){const e=Ss(),n=En(),a=Tt(),i=Nv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,x=Jf(m),g=eD(),b=g.data?.providers??[],y=g.data?.force_sso??!1,w=g.isError&&!g.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,j=p.useMemo(()=>{const $=new URLSearchParams(e.search);return Dl($.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(_c(c.return_to,j),{replace:!0})},[n,j,c]),p.useEffect(()=>{m&&(x.isPending||x.isError||x.data?.requires_setup&&n(Cv(j),{replace:!0}))},[n,j,x.data?.requires_setup,x.isError,x.isPending,m]);const[T,E]=p.useState(null),[z,U]=p.useState(!1);if(p.useEffect(()=>{E(null)},[e.search]),u)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),o.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(x.isPending&&m)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(x.isError&&m)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),o.jsx(ze,{variant:"secondary",onClick:()=>x.refetch(),children:"Try again"})]});const N=async $=>{$.preventDefault(),E(null);const ne=new FormData($.currentTarget),I=Object.fromEntries(ne.entries()),J=tD.safeParse(I);if(!J.success){const me=J.error.issues[0]?.message??"Invalid input.";E(me);return}const{email:W,password:ee}=J.data,re=typeof I.redirectTo=="string"?I.redirectTo:null,ue=Dl(re);U(!0);try{const me=await RS({email:W,password:ee});a.setQueryData(Rs.detail(),me),n(_c(me.return_to,ue),{replace:!0})}catch(me){if(me instanceof is){const pe=me.problem?.detail??me.message??"Unable to sign in.";E(pe)}else me instanceof Error?E(me.message):E("Unable to sign in.")}finally{U(!1)}},M=!!T&&!z,P=g.isLoading||g.isFetching;return o.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:o.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[o.jsxs("header",{className:"space-y-2 text-center",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?o.jsx(mt,{tone:"warning",className:"mt-6",children:w}):null,P?o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),o.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?o.jsx("div",{className:"mt-6 space-y-3",children:b.map($=>o.jsxs("a",{href:$.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",$.label]},$.id))}):null,y?o.jsx(mt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):o.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:N,children:[o.jsx("input",{type:"hidden",name:"redirectTo",value:j}),o.jsx(Yt,{label:"Email address",required:!0,children:o.jsx(an,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:z})}),o.jsx(Yt,{label:"Password",required:!0,children:o.jsx(an,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:z})}),M?o.jsx(mt,{tone:"danger",children:T}):null,o.jsx(ze,{type:"submit",className:"w-full justify-center",isLoading:z,disabled:z,children:z?"Signing in":"Continue"})]})]})})}function sD(){const e=En(),n=Ss(),a=Tt(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),x=f.get("state");if(!m||!x){c("Missing authorization details from the identity provider.");return}async function g(){try{const b=f.toString(),y=await vS(`/auth/sso/callback?${b}`);if(u)return;const w=wi(y);a.setQueryData(Rs.detail(),w);const j=_c(w.return_to,f.get("next"));e(j,{replace:!0})}catch(b){if(u)return;b instanceof is?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return g(),()=>{u=!0}},[n.search,e,a]),i?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(Ct,{title:"Unable to finish sign-in",description:i,variant:"error",action:o.jsx(ze,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(Ct,{title:"Finishing sign-in",variant:"loading"})})}const aD=ha({displayName:$t().min(1,"Display name is required."),email:$t().min(1,"Email is required.").email("Enter a valid email address."),password:$t().min(12,"Use at least 12 characters."),confirmPassword:$t().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function rD(){const e=Ss(),n=En(),a=Tt(),i=Jf(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Dl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(_v(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,x]=p.useState(!1);if(i.isPending)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),o.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const g=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),j=aD.safeParse(w);if(!j.success){const E=j.error.issues[0]?.message??"Invalid input.";f(E);return}x(!0);const T=Dl(w.redirectTo);try{const E=await QS({display_name:j.data.displayName,email:j.data.email,password:j.data.password});a.setQueryData(Rs.detail(),E),n(_c(E.return_to,T),{replace:!0})}catch(E){if(E instanceof is){const z=E.problem?.detail??E.message??"Setup failed. Try again.";f(z)}else E instanceof Error?f(E.message):f("Setup failed. Try again.")}finally{x(!1)}};return o.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[o.jsxs("header",{className:"space-y-3 text-center",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?o.jsx(mt,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[o.jsx("input",{type:"hidden",name:"redirectTo",value:c}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsx(Yt,{label:"Display name",required:!0,children:o.jsx(an,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),o.jsx(Yt,{label:"Email",required:!0,children:o.jsx(an,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),o.jsx(Yt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:o.jsx(an,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),o.jsx(Yt,{label:"Confirm password",required:!0,children:o.jsx(an,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?o.jsx(mt,{tone:"danger",children:u}):null,o.jsx("div",{className:"flex justify-end",children:o.jsx(ze,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function hy({children:e,sidePanel:n,actions:a,search:i}){const c=kr(),u=En(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return o.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[o.jsx(wb,{brand:o.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[o.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:o.jsx(jC,{className:"h-5 w-5","aria-hidden":!0})}),o.jsxs("span",{className:"flex flex-col leading-tight",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),o.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:a?o.jsx("div",{className:"flex items-center gap-2",children:a}):void 0,trailing:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Sb,{displayName:f,email:m})})}),o.jsx("main",{className:"flex flex-1 overflow-y-auto",children:o.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:o.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[o.jsx("div",{children:e}),n?o.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function iD(){return o.jsx($c,{children:o.jsx(lD,{})})}function lD(){const e=En(),n=kr(),a=Zc(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=Cb(),x=a.data,g=p.useMemo(()=>x?.items??[],[x?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?g.filter($=>{const ne=$.name.toLowerCase(),I=$.slug?.toLowerCase()??"";return ne.includes(b)||I.includes(b)}):g,[g,b]),w=c?o.jsx(ze,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,j=p.useCallback(()=>{if(!b)return;const $=y[0];$&&e(`/workspaces/${$.id}/${Ga.path}`)},[y,b,e]),T=p.useCallback(()=>f(""),[]),z=(b?y:g).slice(0,5).map($=>({id:$.id,label:$.name,description:$.slug?`Slug  ${$.slug}`:"Workspace"})),U=p.useCallback($=>{f(""),e(`/workspaces/${$.id}/${Ga.path}`)},[e]),N={value:u,onChange:f,onSubmit:j,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:z,onSelectSuggestion:U,onClear:T},M={...N,shortcutHint:void 0,onClear:T,enableShortcut:!1,variant:"minimal"};if(a.isLoading)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(Ct,{title:"Loading workspaces",variant:"loading"})});if(a.isError)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(Ct,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:o.jsx(ze,{variant:"secondary",onClick:()=>a.refetch(),children:"Retry"})})});const P=g.length===0?c?o.jsx(cD,{onCreate:()=>e("/workspaces/new")}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),o.jsx(Ct,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?o.jsx("div",{className:"space-y-4",children:o.jsx(Ct,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:o.jsx(ze,{variant:"secondary",onClick:T,children:"Clear search"})})}):o.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{children:[o.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),o.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),o.jsx(yb,{...M,className:"w-full"}),o.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map($=>o.jsxs(Dc,{to:`/workspaces/${$.id}/${Ga.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:$.name}),$.is_default?o.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),o.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",$.slug]}),o.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),o.jsx("p",{className:"text-sm text-slate-600",children:$.permissions.length>0?$.permissions.join(", "):"None"})]},$.id))})]});return o.jsx(hy,{actions:w,search:N,sidePanel:o.jsx(oD,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:P})}function oD({canCreate:e,onCreate:n}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),o.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),o.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?o.jsx(ze,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),o.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),o.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[o.jsx("li",{children:"Invite at least one additional administrator."}),o.jsx("li",{children:"Review configurations before uploading production files."}),o.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function cD({onCreate:e}){return o.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[o.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),o.jsx(ze,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function uD(){const e=Tt();return kn({mutationFn:tj,onSuccess(n){e.setQueryData(sn.detail(n.id),n),e.getQueriesData({queryKey:sn.all()}).forEach(([a,i])=>{if(!Array.isArray(a)||a[0]!=="workspaces"||a[1]!=="list"||!i)return;const c=i.items.findIndex(x=>x.id===n.id),f=[...c>=0?i.items.map(x=>x.id===n.id?n:x):[...i.items,n]].sort((x,g)=>x.name.localeCompare(g.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(a,{...i,items:f,total:m})}),e.invalidateQueries({queryKey:sn.all()})}})}const dD=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,fD=ha({name:$t().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(dD,"Use lowercase letters, numbers, and dashes."),ownerUserId:$t().optional()});function hD(){return o.jsx($c,{children:o.jsx(mD,{})})}function mD(){const e=En(),n=kr(),a=Zc(),i=uD(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=cy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter(J=>J.id!==n.user.id):f,[f,n.user.id]),{register:x,handleSubmit:g,watch:b,setValue:y,setError:w,clearErrors:j,formState:{errors:T,dirtyFields:E}}=_h({resolver:Ch(fD),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),z=b("name"),U=b("slug");p.useEffect(()=>{if(E.slug)return;const J=pD(z);J!==U&&y("slug",J,{shouldValidate:!!J})},[E.slug,z,y,U]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const N=i.isPending,M=u.isPending&&u.users.length===0,P=N||M||!c,$=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,ne=x("ownerUserId"),I=g(J=>{if(j("root"),c&&!J.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:J.name.trim(),slug:J.slug.trim(),owner_user_id:c&&J.ownerUserId||void 0},{onSuccess(W){a.refetch(),e(`/workspaces/${W.id}`)},onError(W){if(W instanceof is){const ee=W.problem?.detail??W.message,re=W.problem?.errors??{};w("root",{type:"server",message:ee}),re.name?.[0]&&w("name",{type:"server",message:re.name[0]}),re.slug?.[0]&&w("slug",{type:"server",message:re.slug[0]}),re.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:re.owner_user_id[0]});return}w("root",{type:"server",message:W instanceof Error?W.message:"Workspace creation failed."})}})});return o.jsx(hy,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"space-y-2",children:[o.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),o.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:I,children:[o.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[o.jsx(Yt,{label:"Workspace name",required:!0,error:T.name?.message,children:o.jsx(an,{id:"workspaceName",placeholder:"Finance Operations",...x("name"),invalid:!!T.name,disabled:N})}),o.jsx(Yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:T.slug?.message,children:o.jsx(an,{id:"workspaceSlug",placeholder:"finance-ops",...x("slug"),invalid:!!T.slug,disabled:N})})]}),c?o.jsxs(Yt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:T.ownerUserId?.message,children:[o.jsxs("select",{id:"workspaceOwner",...ne,onChange:J=>{ne.onChange(J),j("ownerUserId")},disabled:P,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[o.jsx("option",{value:n.user.id??"",children:$}),m.map(J=>o.jsx("option",{value:J.id,children:J.display_name?`${J.display_name} (${J.email})`:J.email},J.id))]}),u.hasNextPage?o.jsx("div",{className:"pt-2",children:o.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,T.root?o.jsx(mt,{tone:"danger",children:T.root.message}):null,c&&u.isError?o.jsx(mt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[o.jsx(ze,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:N,children:"Cancel"}),o.jsx(ze,{type:"submit",isLoading:N,children:N?"Creating workspace":"Create workspace"})]})]})]})})}function pD(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function gD({signal:e}={}){try{await We.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof is&&(n.status===401||n.status===403))return}}function xD(){const e=En(),n=Tt();return p.useEffect(()=>{let a=!1;const i=new AbortController;return(async()=>{try{await gD({signal:i.signal})}finally{a||(n.removeQueries({queryKey:Rs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{a||e("/login",{replace:!0})}),()=>{a=!0,i.abort()}},[e,n]),null}function vD(){return o.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",o.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",o.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),o.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[o.jsx(Dc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),o.jsx(Dc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function bD(){return o.jsx(_1,{children:o.jsx(fS,{children:o.jsx(yD,{})})})}function yD(){const e=Ss(),a=wD(e.pathname).split("/").filter(Boolean);if(a.length===0)return o.jsx(XM,{});const[i,c]=a;switch(i){case"login":return o.jsx(nD,{});case"logout":return o.jsx(xD,{});case"auth":if(c==="callback")return o.jsx(sD,{});break;case"setup":return o.jsx(rD,{});case"workspaces":return c?c==="new"?o.jsx(hD,{}):o.jsx(qM,{}):o.jsx(iD,{})}return o.jsx(vD,{})}function wD(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}N1.createRoot(document.getElementById("root")).render(o.jsx(bt.StrictMode,{children:o.jsx(bD,{})}));export{bt as W,ve as c,o as j,p as r};
