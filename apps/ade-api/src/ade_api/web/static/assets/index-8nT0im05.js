(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function cv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function x1(){if(i0)return sl;i0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return sl.Fragment=n,sl.jsx=r,sl.jsxs=r,sl}var l0;function v1(){return l0||(l0=1,Fd.exports=x1()),Fd.exports}var o=v1(),Id={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function b1(){if(o0)return $e;o0=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function U(C,q,M){this.props=C,this.context=q,this.refs=D,this.updater=M||T}U.prototype.isReactComponent={},U.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},U.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=U.prototype;function L(C,q,M){this.props=C,this.context=q,this.refs=D,this.updater=M||T}var W=L.prototype=new j;W.constructor=L,_(W,U.prototype),W.isPureReactComponent=!0;var Z=Array.isArray;function J(){}var H={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function G(C,q,M){var R=M.ref;return{$$typeof:e,type:C,key:q,ref:R!==void 0?R:null,props:M}}function te(C,q){return G(C.type,q,C.props)}function re(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function ce(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(M){return q[M]})}var le=/\/+/g;function pe(C,q){return typeof C=="object"&&C!==null&&C.key!=null?ce(""+C.key):q.toString(36)}function ie(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(J,J):(C.status="pending",C.then(function(q){C.status==="pending"&&(C.status="fulfilled",C.value=q)},function(q){C.status==="pending"&&(C.status="rejected",C.reason=q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function O(C,q,M,R,Q){var F=typeof C;(F==="undefined"||F==="boolean")&&(C=null);var ye=!1;if(C===null)ye=!0;else switch(F){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(C.$$typeof){case e:case n:ye=!0;break;case b:return ye=C._init,O(ye(C._payload),q,M,R,Q)}}if(ye)return Q=Q(C),ye=R===""?"."+pe(C,0):R,Z(Q)?(M="",ye!=null&&(M=ye.replace(le,"$&/")+"/"),O(Q,q,M,"",function(I){return I})):Q!=null&&(re(Q)&&(Q=te(Q,M+(Q.key==null||C&&C.key===Q.key?"":(""+Q.key).replace(le,"$&/")+"/")+ye)),q.push(Q)),1;ye=0;var Ee=R===""?".":R+":";if(Z(C))for(var _e=0;_e<C.length;_e++)R=C[_e],F=Ee+pe(R,_e),ye+=O(R,q,M,F,Q);else if(_e=E(C),typeof _e=="function")for(C=_e.call(C),_e=0;!(R=C.next()).done;)R=R.value,F=Ee+pe(R,_e++),ye+=O(R,q,M,F,Q);else if(F==="object"){if(typeof C.then=="function")return O(ie(C),q,M,R,Q);throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(C,q,M){if(C==null)return C;var R=[],Q=0;return O(C,R,"","",function(F){return q.call(M,F,Q++)}),R}function ge(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(M){(C._status===0||C._status===-1)&&(C._status=1,C._result=M)},function(M){(C._status===0||C._status===-1)&&(C._status=2,C._result=M)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var ve=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},be={map:X,forEach:function(C,q,M){X(C,function(){q.apply(this,arguments)},M)},count:function(C){var q=0;return X(C,function(){q++}),q},toArray:function(C){return X(C,function(q){return q})||[]},only:function(C){if(!re(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return $e.Activity=y,$e.Children=be,$e.Component=U,$e.Fragment=r,$e.Profiler=c,$e.PureComponent=L,$e.StrictMode=i,$e.Suspense=g,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,$e.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},$e.cache=function(C){return function(){return C.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(C,q,M){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var R=_({},C.props),Q=C.key;if(q!=null)for(F in q.key!==void 0&&(Q=""+q.key),q)!$.call(q,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&q.ref===void 0||(R[F]=q[F]);var F=arguments.length-2;if(F===1)R.children=M;else if(1<F){for(var ye=Array(F),Ee=0;Ee<F;Ee++)ye[Ee]=arguments[Ee+2];R.children=ye}return G(C.type,Q,R)},$e.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},$e.createElement=function(C,q,M){var R,Q={},F=null;if(q!=null)for(R in q.key!==void 0&&(F=""+q.key),q)$.call(q,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(Q[R]=q[R]);var ye=arguments.length-2;if(ye===1)Q.children=M;else if(1<ye){for(var Ee=Array(ye),_e=0;_e<ye;_e++)Ee[_e]=arguments[_e+2];Q.children=Ee}if(C&&C.defaultProps)for(R in ye=C.defaultProps,ye)Q[R]===void 0&&(Q[R]=ye[R]);return G(C,F,Q)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(C){return{$$typeof:m,render:C}},$e.isValidElement=re,$e.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ge}},$e.memo=function(C,q){return{$$typeof:x,type:C,compare:q===void 0?null:q}},$e.startTransition=function(C){var q=H.T,M={};H.T=M;try{var R=C(),Q=H.S;Q!==null&&Q(M,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(J,ve)}catch(F){ve(F)}finally{q!==null&&M.types!==null&&(q.types=M.types),H.T=q}},$e.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},$e.use=function(C){return H.H.use(C)},$e.useActionState=function(C,q,M){return H.H.useActionState(C,q,M)},$e.useCallback=function(C,q){return H.H.useCallback(C,q)},$e.useContext=function(C){return H.H.useContext(C)},$e.useDebugValue=function(){},$e.useDeferredValue=function(C,q){return H.H.useDeferredValue(C,q)},$e.useEffect=function(C,q){return H.H.useEffect(C,q)},$e.useEffectEvent=function(C){return H.H.useEffectEvent(C)},$e.useId=function(){return H.H.useId()},$e.useImperativeHandle=function(C,q,M){return H.H.useImperativeHandle(C,q,M)},$e.useInsertionEffect=function(C,q){return H.H.useInsertionEffect(C,q)},$e.useLayoutEffect=function(C,q){return H.H.useLayoutEffect(C,q)},$e.useMemo=function(C,q){return H.H.useMemo(C,q)},$e.useOptimistic=function(C,q){return H.H.useOptimistic(C,q)},$e.useReducer=function(C,q,M){return H.H.useReducer(C,q,M)},$e.useRef=function(C){return H.H.useRef(C)},$e.useState=function(C){return H.H.useState(C)},$e.useSyncExternalStore=function(C,q,M){return H.H.useSyncExternalStore(C,q,M)},$e.useTransition=function(){return H.H.useTransition()},$e.version="19.2.0",$e}var c0;function Hf(){return c0||(c0=1,Id.exports=b1()),Id.exports}var p=Hf();const ft=cv(p);var Gd={exports:{}},al={},Yd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function y1(){return u0||(u0=1,(function(e){function n(O,X){var ge=O.length;O.push(X);e:for(;0<ge;){var ve=ge-1>>>1,be=O[ve];if(0<c(be,X))O[ve]=X,O[ge]=be,ge=ve;else break e}}function r(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var X=O[0],ge=O.pop();if(ge!==X){O[0]=ge;e:for(var ve=0,be=O.length,C=be>>>1;ve<C;){var q=2*(ve+1)-1,M=O[q],R=q+1,Q=O[R];if(0>c(M,ge))R<be&&0>c(Q,M)?(O[ve]=Q,O[R]=ge,ve=R):(O[ve]=M,O[q]=ge,ve=q);else if(R<be&&0>c(Q,ge))O[ve]=Q,O[R]=ge,ve=R;else break e}}return X}function c(O,X){var ge=O.sortIndex-X.sortIndex;return ge!==0?ge:O.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var g=[],x=[],b=1,y=null,w=3,E=!1,T=!1,_=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(O){for(var X=r(x);X!==null;){if(X.callback===null)i(x);else if(X.startTime<=O)i(x),X.sortIndex=X.expirationTime,n(g,X);else break;X=r(x)}}function Z(O){if(_=!1,W(O),!T)if(r(g)!==null)T=!0,J||(J=!0,ce());else{var X=r(x);X!==null&&ie(Z,X.startTime-O)}}var J=!1,H=-1,$=5,G=-1;function te(){return D?!0:!(e.unstable_now()-G<$)}function re(){if(D=!1,J){var O=e.unstable_now();G=O;var X=!0;try{e:{T=!1,_&&(_=!1,j(H),H=-1),E=!0;var ge=w;try{t:{for(W(O),y=r(g);y!==null&&!(y.expirationTime>O&&te());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,w=y.priorityLevel;var be=ve(y.expirationTime<=O);if(O=e.unstable_now(),typeof be=="function"){y.callback=be,W(O),X=!0;break t}y===r(g)&&i(g),W(O)}else i(g);y=r(g)}if(y!==null)X=!0;else{var C=r(x);C!==null&&ie(Z,C.startTime-O),X=!1}}break e}finally{y=null,w=ge,E=!1}X=void 0}}finally{X?ce():J=!1}}}var ce;if(typeof L=="function")ce=function(){L(re)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,pe=le.port2;le.port1.onmessage=re,ce=function(){pe.postMessage(null)}}else ce=function(){U(re,0)};function ie(O,X){H=U(function(){O(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(O){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ge=w;w=X;try{return O()}finally{w=ge}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ge=w;w=O;try{return X()}finally{w=ge}},e.unstable_scheduleCallback=function(O,X,ge){var ve=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ve+ge:ve):ge=ve,O){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ge+be,O={id:b++,callback:X,priorityLevel:O,startTime:ge,expirationTime:be,sortIndex:-1},ge>ve?(O.sortIndex=ge,n(x,O),r(g)===null&&O===r(x)&&(_?(j(H),H=-1):_=!0,ie(Z,ge-ve))):(O.sortIndex=be,n(g,O),T||E||(T=!0,J||(J=!0,ce()))),O},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(O){var X=w;return function(){var ge=w;w=X;try{return O.apply(this,arguments)}finally{w=ge}}}})(Kd)),Kd}var d0;function w1(){return d0||(d0=1,Yd.exports=y1()),Yd.exports}var Wd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function S1(){if(f0)return _n;f0=1;var e=Hf();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},_n.flushSync=function(g){var x=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=x,i.p=b,i.d.f()}},_n.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},_n.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},_n.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},_n.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},_n.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},_n.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},_n.requestFormReset=function(g){i.d.r(g)},_n.unstable_batchedUpdates=function(g,x){return g(x)},_n.useFormState=function(g,x,b){return f.H.useFormState(g,x,b)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var h0;function uv(){if(h0)return Wd.exports;h0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Wd.exports=S1(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function j1(){if(m0)return al;m0=1;var e=w1(),n=Hf(),r=uv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return g(d),t;if(h===l)return g(d),s;h=h.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=h;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var le=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case U:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case J:return"SuspenseList";case G:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case L:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case W:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case $:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var ie=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ve=[],be=-1;function C(t){return{current:t}}function q(t){0>be||(t.current=ve[be],ve[be]=null,be--)}function M(t,s){be++,ve[be]=t.current,t.current=s}var R=C(null),Q=C(null),F=C(null),ye=C(null);function Ee(t,s){switch(M(F,s),M(Q,t),M(R,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Tg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Tg(s),t=Ag(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(R),M(R,t)}function _e(){q(R),q(Q),q(F)}function I(t){t.memoizedState!==null&&M(ye,t);var s=R.current,a=Ag(s,t.type);s!==a&&(M(Q,t),M(R,a))}function Ce(t){Q.current===t&&(q(R),q(Q)),ye.current===t&&(q(ye),Ji._currentValue=ge)}var ke,Fe;function Le(t){if(ke===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ke=s&&s[1]||"",Fe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+t+Fe}var Ne=!1;function Ve(t,s){if(!t||Ne)return"";Ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ee){var P=ee}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(ee){P=ee}t.call(fe.prototype)}}else{try{throw Error()}catch(ee){P=ee}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ee){if(ee&&P&&typeof ee.stack=="string")return[ee.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var k=v.split(`
`),K=S.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===K.length)for(l=k.length-1,d=K.length-1;1<=l&&0<=d&&k[l]!==K[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==K[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==K[d]){var ae=`
`+k[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=d);break}}}finally{Ne=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Le(a):""}function st(t,s){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ve(t.type,!1);case 11:return Ve(t.type.render,!1);case 1:return Ve(t.type,!0);case 31:return Le("Activity");default:return""}}function at(t){try{var s="",a=null;do s+=st(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Jt=Object.prototype.hasOwnProperty,N=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,A=e.unstable_shouldYield,me=e.unstable_requestPaint,se=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,Se=e.unstable_LowPriority,Be=e.unstable_IdlePriority,rt=e.log,Ht=e.unstable_setDisableYieldValue,en=null,Ot=null;function Sn(t){if(typeof rt=="function"&&Ht(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(en,t)}catch{}}var St=Math.clz32?Math.clz32:De,ta=Math.log,Ns=Math.LN2;function De(t){return t>>>=0,t===0?32:31-(ta(t)/Ns|0)|0}var ks=256,Ts=262144,jt=4194304;function Et(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $t(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~h,l!==0?d=Et(l):(v&=S,v!==0?d=Et(v):a||(a=S&~t,a!==0&&(d=Et(a))))):(S=l&~h,S!==0?d=Et(S):v!==0?d=Et(v):a||(a=l&~t,a!==0&&(d=Et(a)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,a=s&-s,h>=a||h===32&&(a&4194048)!==0)?s:d}function _t(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function rn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function kt(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function tn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tt(t,s,a,l,d,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,k=t.expirationTimes,K=t.hiddenUpdates;for(a=v&~a;0<a;){var ae=31-St(a),fe=1<<ae;S[ae]=0,k[ae]=-1;var P=K[ae];if(P!==null)for(K[ae]=null,ae=0;ae<P.length;ae++){var ee=P[ae];ee!==null&&(ee.lane&=-536870913)}a&=~fe}l!==0&&Mn(t,l,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function Mn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-St(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function mn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-St(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function Cn(t,s){var a=s&-s;return a=(a&42)!==0?1:on(a),(a&(t.suspendedLanes|s))!==0?0:a}function on(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cn(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Jg(t.type))}function us(t,s){var a=X.p;try{return X.p=t,s()}finally{X.p=a}}var Dn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Dn,jn="__reactProps$"+Dn,na="__reactContainer$"+Dn,hr="__reactEvents$"+Dn,Uc="__reactListeners$"+Dn,Bc="__reactHandles$"+Dn,Al="__reactResources$"+Dn,As="__reactMarker$"+Dn;function hi(t){delete t[gt],delete t[jn],delete t[hr],delete t[Uc],delete t[Bc]}function sa(t){var s=t[gt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[na]||a[gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ug(t);t!==null;){if(a=t[gt])return a;t=Ug(t)}return s}t=a,a=t.parentNode}return null}function aa(t){if(t=t[gt]||t[na]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Ms(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function ra(t){var s=t[Al];return s||(s=t[Al]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(t){t[As]=!0}var Ml=new Set,Dl={};function Ds(t,s){ia(t,s),ia(t+"Capture",s)}function ia(t,s){for(Dl[t]=s,t=0;t<s.length;t++)Ml.add(s[t])}var mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mr={},zl={};function qc(t){return Jt.call(zl,t)?!0:Jt.call(mr,t)?!1:mi.test(t)?zl[t]=!0:(mr[t]=!0,!1)}function pr(t,s,a){if(qc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function gr(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function ds(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function ne(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xe(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ze(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ze(t){if(!t._valueTracker){var s=xe(t)?"checked":"value";t._valueTracker=ze(t,s,""+t[s])}}function ot(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=xe(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Qt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lt=/[\n"\\]/g;function En(t){return t.replace(Lt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function pi(t,s,a,l,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ne(s)):t.value!==""+ne(s)&&(t.value=""+ne(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Zc(t,v,ne(s)):a!=null?Zc(t,v,ne(a)):l!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+ne(S):t.removeAttribute("name")}function Rl(t,s,a,l,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Ze(t);return}a=a!=null?""+ne(a):"",s=s!=null?""+ne(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function Zc(t,s,a){s==="number"&&Qt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xr(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ne(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Eh(t,s,a){if(s!=null&&(s=""+ne(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+ne(a):""}function _h(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ie(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ne(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function vr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ch(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||fy.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Nh(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Ch(t,d,l)}else for(var h in s)s.hasOwnProperty(h)&&Ch(t,h,s[h])}function Hc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),my=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(t){return my.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zs(){}var $c=null;function Vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,yr=null;function kh(t){var s=aa(t);if(s&&(t=s.stateNode)){var a=t[jn]||null;e:switch(t=s.stateNode,s.type){case"input":if(pi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[jn]||null;if(!d)throw Error(i(90));pi(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&ot(l)}break e;case"textarea":Eh(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&xr(t,!!a.multiple,s,!1)}}}var Qc=!1;function Th(t,s,a){if(Qc)return t(s,a);Qc=!0;try{var l=t(s);return l}finally{if(Qc=!1,(br!==null||yr!==null)&&(jo(),br&&(s=br,t=yr,yr=br=null,kh(s),t)))for(s=0;s<t.length;s++)kh(t[s])}}function gi(t,s){var a=t.stateNode;if(a===null)return null;var l=a[jn]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(Rs)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Fc=!1}var la=null,Ic=null,Ll=null;function Ah(){if(Ll)return Ll;var t,s=Ic,a=s.length,l,d="value"in la?la.value:la.textContent,h=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===d[h-l];l++);return Ll=d.slice(t,1<l?1-l:void 0)}function Ul(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function Mh(){return!1}function zn(t){function s(a,l,d,h,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Bl:Mh,this.isPropagationStopped=Mh,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),s}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=zn(Ba),vi=y({},Ba,{view:0,detail:0}),py=zn(vi),Gc,Yc,bi,Zl=y({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Gc=t.screenX-bi.screenX,Yc=t.screenY-bi.screenY):Yc=Gc=0,bi=t),Gc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),Dh=zn(Zl),gy=y({},Zl,{dataTransfer:0}),xy=zn(gy),vy=y({},vi,{relatedTarget:0}),Kc=zn(vy),by=y({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=zn(by),wy=y({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sy=zn(wy),jy=y({},Ba,{data:0}),zh=zn(jy),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Cy[t])?!!s[t]:!1}function Wc(){return Ny}var ky=y({},vi,{key:function(t){if(t.key){var s=Ey[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_y[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ty=zn(ky),Ay=y({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=zn(Ay),My=y({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),Dy=zn(My),zy=y({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=zn(zy),Oy=y({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ly=zn(Oy),Uy=y({},Ba,{newState:0,oldState:0}),By=zn(Uy),qy=[9,13,27,32],Xc=Rs&&"CompositionEvent"in window,yi=null;Rs&&"documentMode"in document&&(yi=document.documentMode);var Zy=Rs&&"TextEvent"in window&&!yi,Oh=Rs&&(!Xc||yi&&8<yi&&11>=yi),Lh=" ",Uh=!1;function Bh(t,s){switch(t){case"keyup":return qy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function Hy(t,s){switch(t){case"compositionend":return qh(s);case"keypress":return s.which!==32?null:(Uh=!0,Lh);case"textInput":return t=s.data,t===Lh&&Uh?null:t;default:return null}}function $y(t,s){if(wr)return t==="compositionend"||!Xc&&Bh(t,s)?(t=Ah(),Ll=Ic=la=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Oh&&s.locale!=="ko"?null:s.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Vy[t.type]:s==="textarea"}function Hh(t,s,a,l){br?yr?yr.push(l):yr=[l]:br=l,s=Ao(s,"onChange"),0<s.length&&(a=new ql("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var wi=null,Si=null;function Qy(t){jg(t,0)}function Hl(t){var s=Ms(t);if(ot(s))return t}function $h(t,s){if(t==="change")return s}var Vh=!1;if(Rs){var Pc;if(Rs){var Jc="oninput"in document;if(!Jc){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),Jc=typeof Qh.oninput=="function"}Pc=Jc}else Pc=!1;Vh=Pc&&(!document.documentMode||9<document.documentMode)}function Fh(){wi&&(wi.detachEvent("onpropertychange",Ih),Si=wi=null)}function Ih(t){if(t.propertyName==="value"&&Hl(Si)){var s=[];Hh(s,Si,t,Vc(t)),Th(Qy,s)}}function Fy(t,s,a){t==="focusin"?(Fh(),wi=s,Si=a,wi.attachEvent("onpropertychange",Ih)):t==="focusout"&&Fh()}function Iy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hl(Si)}function Gy(t,s){if(t==="click")return Hl(s)}function Yy(t,s){if(t==="input"||t==="change")return Hl(s)}function Ky(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Vn=typeof Object.is=="function"?Object.is:Ky;function ji(t,s){if(Vn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Jt.call(s,d)||!Vn(t[d],s[d]))return!1}return!0}function Gh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yh(t,s){var a=Gh(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gh(a)}}function Kh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Kh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Wh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Qt(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Qt(t.document)}return s}function eu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Wy=Rs&&"documentMode"in document&&11>=document.documentMode,Sr=null,tu=null,Ei=null,nu=!1;function Xh(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nu||Sr==null||Sr!==Qt(l)||(l=Sr,"selectionStart"in l&&eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ei&&ji(Ei,l)||(Ei=l,l=Ao(tu,"onSelect"),0<l.length&&(s=new ql("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Sr)))}function qa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var jr={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},su={},Ph={};Rs&&(Ph=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Za(t){if(su[t])return su[t];if(!jr[t])return t;var s=jr[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ph)return su[t]=s[a];return t}var Jh=Za("animationend"),em=Za("animationiteration"),tm=Za("animationstart"),Xy=Za("transitionrun"),Py=Za("transitionstart"),Jy=Za("transitioncancel"),nm=Za("transitionend"),sm=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function fs(t,s){sm.set(t,s),Ds(s,[t])}var $l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Er=0,ru=0;function Vl(){for(var t=Er,s=ru=Er=0;s<t;){var a=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var d=Pn[s];Pn[s++]=null;var h=Pn[s];if(Pn[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}h!==0&&am(a,d,h)}}function Ql(t,s,a,l){Pn[Er++]=t,Pn[Er++]=s,Pn[Er++]=a,Pn[Er++]=l,ru|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function iu(t,s,a,l){return Ql(t,s,a,l),Fl(t)}function Ha(t,s){return Ql(t,null,null,s),Fl(t)}function am(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-St(a),t=h.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),h):null}function Fl(t){if(50<Ii)throw Ii=0,pd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var _r={};function ew(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,s,a,l){return new ew(t,s,a,l)}function lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,s){var a=t.alternate;return a===null?(a=Qn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Il(t,s,a,l,d,h){var v=0;if(l=t,typeof t=="function")lu(t)&&(v=1);else if(typeof t=="string")v=r1(t,a,R.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case G:return t=Qn(31,a,s,d),t.elementType=G,t.lanes=h,t;case _:return $a(a.children,d,h,s);case D:v=8,d|=24;break;case U:return t=Qn(12,a,s,d|2),t.elementType=U,t.lanes=h,t;case Z:return t=Qn(13,a,s,d),t.elementType=Z,t.lanes=h,t;case J:return t=Qn(19,a,s,d),t.elementType=J,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:v=10;break e;case j:v=9;break e;case W:v=11;break e;case H:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Qn(v,a,s,d),s.elementType=t,s.type=l,s.lanes=h,s}function $a(t,s,a,l){return t=Qn(7,t,l,s),t.lanes=a,t}function ou(t,s,a){return t=Qn(6,t,null,s),t.lanes=a,t}function im(t){var s=Qn(18,null,null,0);return s.stateNode=t,s}function cu(t,s,a){return s=Qn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var lm=new WeakMap;function Jn(t,s){if(typeof t=="object"&&t!==null){var a=lm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:at(s)},lm.set(t,s),s)}return{value:t,source:s,stack:at(s)}}var Cr=[],Nr=0,Gl=null,_i=0,es=[],ts=0,oa=null,ys=1,ws="";function Ls(t,s){Cr[Nr++]=_i,Cr[Nr++]=Gl,Gl=t,_i=s}function om(t,s,a){es[ts++]=ys,es[ts++]=ws,es[ts++]=oa,oa=t;var l=ys;t=ws;var d=32-St(l)-1;l&=~(1<<d),a+=1;var h=32-St(s)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,ys=1<<32-St(s)+d|a<<d|l,ws=h+t}else ys=1<<h|a<<d|l,ws=t}function uu(t){t.return!==null&&(Ls(t,1),om(t,1,0))}function du(t){for(;t===Gl;)Gl=Cr[--Nr],Cr[Nr]=null,_i=Cr[--Nr],Cr[Nr]=null;for(;t===oa;)oa=es[--ts],es[ts]=null,ws=es[--ts],es[ts]=null,ys=es[--ts],es[ts]=null}function cm(t,s){es[ts++]=ys,es[ts++]=ws,es[ts++]=oa,ys=s.id,ws=s.overflow,oa=t}var gn=null,xt=null,Xe=!1,ca=null,ns=!1,fu=Error(i(519));function ua(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Jn(s,t)),fu}function um(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[gt]=t,s[jn]=l,a){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(a=0;a<Yi.length;a++)Ye(Yi[a],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Rl(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),_h(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ng(s.textContent,a)?(l.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),l.onScroll!=null&&Ye("scroll",s),l.onScrollEnd!=null&&Ye("scrollend",s),l.onClick!=null&&(s.onclick=zs),s=!0):s=!1,s||ua(t,!0)}function dm(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:gn=gn.return}}function kr(t){if(t!==gn)return!1;if(!Xe)return dm(t),Xe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&xt&&ua(t),dm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));xt=Lg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));xt=Lg(t)}else s===27?(s=xt,Ea(t.type)?(t=Od,Od=null,xt=t):xt=s):xt=gn?as(t.stateNode.nextSibling):null;return!0}function Va(){xt=gn=null,Xe=!1}function hu(){var t=ca;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),ca=null),t}function Ci(t){ca===null?ca=[t]:ca.push(t)}var mu=C(null),Qa=null,Us=null;function da(t,s,a){M(mu,s._currentValue),s._currentValue=a}function Bs(t){t._currentValue=mu.current,q(mu)}function pu(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function gu(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var k=0;k<s.length;k++)if(S.context===s[k]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),pu(h.return,a,t),l||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),pu(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Tr(t,s,a,l){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;Vn(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===ye.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ji):t=[Ji])}d=d.return}t!==null&&gu(s,t,a,l),s.flags|=262144}function Yl(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fa(t){Qa=t,Us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xn(t){return fm(Qa,t)}function Kl(t,s){return Qa===null&&Fa(t),fm(t,s)}function fm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Us===null){if(t===null)throw Error(i(308));Us=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Us=Us.next=s;return a}var tw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},nw=e.unstable_scheduleCallback,sw=e.unstable_NormalPriority,Ft={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xu(){return{controller:new tw,data:new Map,refCount:0}}function Ni(t){t.refCount--,t.refCount===0&&nw(sw,function(){t.controller.abort()})}var ki=null,vu=0,Ar=0,Mr=null;function aw(t,s){if(ki===null){var a=ki=[];vu=0,Ar=wd(),Mr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vu++,s.then(hm,hm),s}function hm(){if(--vu===0&&ki!==null){Mr!==null&&(Mr.status="fulfilled");var t=ki;ki=null,Ar=0,Mr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function rw(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var mm=O.S;O.S=function(t,s){Xp=se(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aw(t,s),mm!==null&&mm(t,s)};var Ia=C(null);function bu(){var t=Ia.current;return t!==null?t:ht.pooledCache}function Wl(t,s){s===null?M(Ia,Ia.current):M(Ia,s.pool)}function pm(){var t=bu();return t===null?null:{parent:Ft._currentValue,pool:t}}var Dr=Error(i(460)),yu=Error(i(474)),Xl=Error(i(542)),Pl={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(zs,zs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,bm(t),t;default:if(typeof s.status=="string")s.then(zs,zs);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,bm(t),t}throw Ya=s,Dr}}function Ga(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ya=a,Dr):a}}var Ya=null;function vm(){if(Ya===null)throw Error(i(459));var t=Ya;return Ya=null,t}function bm(t){if(t===Dr||t===Xl)throw Error(i(483))}var zr=null,Ti=0;function Jl(t){var s=Ti;return Ti+=1,zr===null&&(zr=[]),xm(zr,t,s)}function Ai(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function eo(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function ym(t){function s(B,z){if(t){var Y=B.deletions;Y===null?(B.deletions=[z],B.flags|=16):Y.push(z)}}function a(B,z){if(!t)return null;for(;z!==null;)s(B,z),z=z.sibling;return null}function l(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function d(B,z){return B=Os(B,z),B.index=0,B.sibling=null,B}function h(B,z,Y){return B.index=Y,t?(Y=B.alternate,Y!==null?(Y=Y.index,Y<z?(B.flags|=67108866,z):Y):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,z,Y,oe){return z===null||z.tag!==6?(z=ou(Y,B.mode,oe),z.return=B,z):(z=d(z,Y),z.return=B,z)}function k(B,z,Y,oe){var Re=Y.type;return Re===_?ae(B,z,Y.props.children,oe,Y.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===$&&Ga(Re)===z.type)?(z=d(z,Y.props),Ai(z,Y),z.return=B,z):(z=Il(Y.type,Y.key,Y.props,null,B.mode,oe),Ai(z,Y),z.return=B,z)}function K(B,z,Y,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=cu(Y,B.mode,oe),z.return=B,z):(z=d(z,Y.children||[]),z.return=B,z)}function ae(B,z,Y,oe,Re){return z===null||z.tag!==7?(z=$a(Y,B.mode,oe,Re),z.return=B,z):(z=d(z,Y),z.return=B,z)}function fe(B,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ou(""+z,B.mode,Y),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return Y=Il(z.type,z.key,z.props,null,B.mode,Y),Ai(Y,z),Y.return=B,Y;case T:return z=cu(z,B.mode,Y),z.return=B,z;case $:return z=Ga(z),fe(B,z,Y)}if(ie(z)||ce(z))return z=$a(z,B.mode,Y,null),z.return=B,z;if(typeof z.then=="function")return fe(B,Jl(z),Y);if(z.$$typeof===L)return fe(B,Kl(B,z),Y);eo(B,z)}return null}function P(B,z,Y,oe){var Re=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Re!==null?null:S(B,z,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===Re?k(B,z,Y,oe):null;case T:return Y.key===Re?K(B,z,Y,oe):null;case $:return Y=Ga(Y),P(B,z,Y,oe)}if(ie(Y)||ce(Y))return Re!==null?null:ae(B,z,Y,oe,null);if(typeof Y.then=="function")return P(B,z,Jl(Y),oe);if(Y.$$typeof===L)return P(B,z,Kl(B,Y),oe);eo(B,Y)}return null}function ee(B,z,Y,oe,Re){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return B=B.get(Y)||null,S(z,B,""+oe,Re);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return B=B.get(oe.key===null?Y:oe.key)||null,k(z,B,oe,Re);case T:return B=B.get(oe.key===null?Y:oe.key)||null,K(z,B,oe,Re);case $:return oe=Ga(oe),ee(B,z,Y,oe,Re)}if(ie(oe)||ce(oe))return B=B.get(Y)||null,ae(z,B,oe,Re,null);if(typeof oe.then=="function")return ee(B,z,Y,Jl(oe),Re);if(oe.$$typeof===L)return ee(B,z,Y,Kl(z,oe),Re);eo(z,oe)}return null}function Te(B,z,Y,oe){for(var Re=null,Je=null,Me=z,Ie=z=0,We=null;Me!==null&&Ie<Y.length;Ie++){Me.index>Ie?(We=Me,Me=null):We=Me.sibling;var et=P(B,Me,Y[Ie],oe);if(et===null){Me===null&&(Me=We);break}t&&Me&&et.alternate===null&&s(B,Me),z=h(et,z,Ie),Je===null?Re=et:Je.sibling=et,Je=et,Me=We}if(Ie===Y.length)return a(B,Me),Xe&&Ls(B,Ie),Re;if(Me===null){for(;Ie<Y.length;Ie++)Me=fe(B,Y[Ie],oe),Me!==null&&(z=h(Me,z,Ie),Je===null?Re=Me:Je.sibling=Me,Je=Me);return Xe&&Ls(B,Ie),Re}for(Me=l(Me);Ie<Y.length;Ie++)We=ee(Me,B,Ie,Y[Ie],oe),We!==null&&(t&&We.alternate!==null&&Me.delete(We.key===null?Ie:We.key),z=h(We,z,Ie),Je===null?Re=We:Je.sibling=We,Je=We);return t&&Me.forEach(function(Ta){return s(B,Ta)}),Xe&&Ls(B,Ie),Re}function Ue(B,z,Y,oe){if(Y==null)throw Error(i(151));for(var Re=null,Je=null,Me=z,Ie=z=0,We=null,et=Y.next();Me!==null&&!et.done;Ie++,et=Y.next()){Me.index>Ie?(We=Me,Me=null):We=Me.sibling;var Ta=P(B,Me,et.value,oe);if(Ta===null){Me===null&&(Me=We);break}t&&Me&&Ta.alternate===null&&s(B,Me),z=h(Ta,z,Ie),Je===null?Re=Ta:Je.sibling=Ta,Je=Ta,Me=We}if(et.done)return a(B,Me),Xe&&Ls(B,Ie),Re;if(Me===null){for(;!et.done;Ie++,et=Y.next())et=fe(B,et.value,oe),et!==null&&(z=h(et,z,Ie),Je===null?Re=et:Je.sibling=et,Je=et);return Xe&&Ls(B,Ie),Re}for(Me=l(Me);!et.done;Ie++,et=Y.next())et=ee(Me,B,Ie,et.value,oe),et!==null&&(t&&et.alternate!==null&&Me.delete(et.key===null?Ie:et.key),z=h(et,z,Ie),Je===null?Re=et:Je.sibling=et,Je=et);return t&&Me.forEach(function(g1){return s(B,g1)}),Xe&&Ls(B,Ie),Re}function dt(B,z,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===_&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var Re=Y.key;z!==null;){if(z.key===Re){if(Re=Y.type,Re===_){if(z.tag===7){a(B,z.sibling),oe=d(z,Y.props.children),oe.return=B,B=oe;break e}}else if(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===$&&Ga(Re)===z.type){a(B,z.sibling),oe=d(z,Y.props),Ai(oe,Y),oe.return=B,B=oe;break e}a(B,z);break}else s(B,z);z=z.sibling}Y.type===_?(oe=$a(Y.props.children,B.mode,oe,Y.key),oe.return=B,B=oe):(oe=Il(Y.type,Y.key,Y.props,null,B.mode,oe),Ai(oe,Y),oe.return=B,B=oe)}return v(B);case T:e:{for(Re=Y.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){a(B,z.sibling),oe=d(z,Y.children||[]),oe.return=B,B=oe;break e}else{a(B,z);break}else s(B,z);z=z.sibling}oe=cu(Y,B.mode,oe),oe.return=B,B=oe}return v(B);case $:return Y=Ga(Y),dt(B,z,Y,oe)}if(ie(Y))return Te(B,z,Y,oe);if(ce(Y)){if(Re=ce(Y),typeof Re!="function")throw Error(i(150));return Y=Re.call(Y),Ue(B,z,Y,oe)}if(typeof Y.then=="function")return dt(B,z,Jl(Y),oe);if(Y.$$typeof===L)return dt(B,z,Kl(B,Y),oe);eo(B,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(a(B,z.sibling),oe=d(z,Y),oe.return=B,B=oe):(a(B,z),oe=ou(Y,B.mode,oe),oe.return=B,B=oe),v(B)):a(B,z)}return function(B,z,Y,oe){try{Ti=0;var Re=dt(B,z,Y,oe);return zr=null,Re}catch(Me){if(Me===Dr||Me===Xl)throw Me;var Je=Qn(29,Me,null,B.mode);return Je.lanes=oe,Je.return=B,Je}finally{}}}var Ka=ym(!0),wm=ym(!1),fa=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ma(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Fl(t),am(t,null,a),s}return Ql(t,l,s,a),Fl(t)}function Mi(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,mn(t,a)}}function ju(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?d=h=s:h=h.next=s}else d=h=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Eu=!1;function Di(){if(Eu){var t=Mr;if(t!==null)throw t}}function zi(t,s,a,l){Eu=!1;var d=t.updateQueue;fa=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,K=k.next;k.next=null,v===null?h=K:v.next=K,v=k;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,S=ae.lastBaseUpdate,S!==v&&(S===null?ae.firstBaseUpdate=K:S.next=K,ae.lastBaseUpdate=k))}if(h!==null){var fe=d.baseState;v=0,ae=K=k=null,S=h;do{var P=S.lane&-536870913,ee=P!==S.lane;if(ee?(Ke&P)===P:(l&P)===P){P!==0&&P===Ar&&(Eu=!0),ae!==null&&(ae=ae.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,Ue=S;P=s;var dt=a;switch(Ue.tag){case 1:if(Te=Ue.payload,typeof Te=="function"){fe=Te.call(dt,fe,P);break e}fe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ue.payload,P=typeof Te=="function"?Te.call(dt,fe,P):Te,P==null)break e;fe=y({},fe,P);break e;case 2:fa=!0}}P=S.callback,P!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=d.callbacks,ee===null?d.callbacks=[P]:ee.push(P))}else ee={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ae===null?(K=ae=ee,k=fe):ae=ae.next=ee,v|=P;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);ae===null&&(k=fe),d.baseState=k,d.firstBaseUpdate=K,d.lastBaseUpdate=ae,h===null&&(d.shared.lanes=0),ba|=v,t.lanes=v,t.memoizedState=fe}}function Sm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function jm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sm(a[t],s)}var Rr=C(null),to=C(0);function Em(t,s){t=Gs,M(to,t),M(Rr,s),Gs=t|s.baseLanes}function _u(){M(to,Gs),M(Rr,Rr.current)}function Cu(){Gs=to.current,q(Rr),q(to)}var Fn=C(null),ss=null;function pa(t){var s=t.alternate;M(Ut,Ut.current&1),M(Fn,t),ss===null&&(s===null||Rr.current!==null||s.memoizedState!==null)&&(ss=t)}function Nu(t){M(Ut,Ut.current),M(Fn,t),ss===null&&(ss=t)}function _m(t){t.tag===22?(M(Ut,Ut.current),M(Fn,t),ss===null&&(ss=t)):ga()}function ga(){M(Ut,Ut.current),M(Fn,Fn.current)}function In(t){q(Fn),ss===t&&(ss=null),q(Ut)}var Ut=C(0);function no(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Rd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qs=0,Qe=null,ct=null,It=null,so=!1,Or=!1,Wa=!1,ao=0,Ri=0,Lr=null,iw=0;function At(){throw Error(i(321))}function ku(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Vn(t[a],s[a]))return!1;return!0}function Tu(t,s,a,l,d,h){return qs=h,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=t===null||t.memoizedState===null?op:Qu,Wa=!1,h=a(l,d),Wa=!1,Or&&(h=Nm(s,a,l,d)),Cm(t),h}function Cm(t){O.H=Ui;var s=ct!==null&&ct.next!==null;if(qs=0,It=ct=Qe=null,so=!1,Ri=0,Lr=null,s)throw Error(i(300));t===null||Gt||(t=t.dependencies,t!==null&&Yl(t)&&(Gt=!0))}function Nm(t,s,a,l){Qe=t;var d=0;do{if(Or&&(Lr=null),Ri=0,Or=!1,25<=d)throw Error(i(301));if(d+=1,It=ct=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=cp,h=s(a,l)}while(Or);return h}function lw(){var t=O.H,s=t.useState()[0];return s=typeof s.then=="function"?Oi(s):s,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Qe.flags|=1024),s}function Au(){var t=ao!==0;return ao=0,t}function Mu(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Du(t){if(so){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}so=!1}qs=0,It=ct=Qe=null,Or=!1,Ri=ao=0,Lr=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Qe.memoizedState=It=t:It=It.next=t,It}function Bt(){if(ct===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var s=It===null?Qe.memoizedState:It.next;if(s!==null)It=s,ct=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},It===null?Qe.memoizedState=It=t:It=It.next=t}return It}function ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oi(t){var s=Ri;return Ri+=1,Lr===null&&(Lr=[]),t=xm(Lr,t,s),s=Qe,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?op:Qu),t}function io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oi(t);if(t.$$typeof===L)return xn(t)}throw Error(i(438,String(t)))}function zu(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ro(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=te;return s.index++,a}function Zs(t,s){return typeof s=="function"?s(t):s}function lo(t){var s=Bt();return Ru(s,ct,t)}function Ru(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=t.baseQueue,h=l.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,l.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,k=null,K=s,ae=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ke&fe)===fe:(qs&fe)===fe){var P=K.revertLane;if(P===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===Ar&&(ae=!0);else if((qs&P)===P){K=K.next,P===Ar&&(ae=!0);continue}else fe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(S=k=fe,v=h):k=k.next=fe,Qe.lanes|=P,ba|=P;fe=K.action,Wa&&a(h,fe),h=K.hasEagerState?K.eagerState:a(h,fe)}else P={lane:fe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(S=k=P,v=h):k=k.next=P,Qe.lanes|=fe,ba|=fe;K=K.next}while(K!==null&&K!==s);if(k===null?v=h:k.next=S,!Vn(h,t.memoizedState)&&(Gt=!0,ae&&(a=Mr,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=k,l.lastRenderedState=h}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ou(t){var s=Bt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,h=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);Vn(h,s.memoizedState)||(Gt=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,l]}function km(t,s,a){var l=Qe,d=Bt(),h=Xe;if(h){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!Vn((ct||d).memoizedState,a);if(v&&(d.memoizedState=a,Gt=!0),d=d.queue,Bu(Mm.bind(null,l,d,t),[t]),d.getSnapshot!==s||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ur(9,{destroy:void 0},Am.bind(null,l,d,a,s),null),ht===null)throw Error(i(349));h||(qs&127)!==0||Tm(l,s,a)}return a}function Tm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=ro(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Am(t,s,a,l){s.value=a,s.getSnapshot=l,Dm(s)&&zm(t)}function Mm(t,s,a){return a(function(){Dm(s)&&zm(t)})}function Dm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Vn(t,a)}catch{return!0}}function zm(t){var s=Ha(t,2);s!==null&&Bn(s,t,2)}function Lu(t){var s=Nn();if(typeof t=="function"){var a=t;if(t=a(),Wa){Sn(!0);try{a()}finally{Sn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},s}function Rm(t,s,a,l){return t.baseState=a,Ru(t,ct,typeof l=="function"?l:Zs)}function ow(t,s,a,l,d){if(uo(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};O.T!==null?a(!0):h.isTransition=!1,l(h),a=s.pending,a===null?(h.next=s.pending=h,Om(s,h)):(h.next=a.next,s.pending=a.next=h)}}function Om(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var h=O.T,v={};O.T=v;try{var S=a(d,l),k=O.S;k!==null&&k(v,S),Lm(t,s,S)}catch(K){Uu(t,s,K)}finally{h!==null&&v.types!==null&&(h.types=v.types),O.T=h}}else try{h=a(d,l),Lm(t,s,h)}catch(K){Uu(t,s,K)}}function Lm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Um(t,s,l)},function(l){return Uu(t,s,l)}):Um(t,s,a)}function Um(t,s,a){s.status="fulfilled",s.value=a,Bm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Om(t,a)))}function Uu(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Bm(s),s=s.next;while(s!==l)}t.action=null}function Bm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function qm(t,s){return s}function Zm(t,s){if(Xe){var a=ht.formState;if(a!==null){e:{var l=Qe;if(Xe){if(xt){t:{for(var d=xt,h=ns;d.nodeType!==8;){if(!h){d=null;break t}if(d=as(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){xt=as(d.nextSibling),l=d.data==="F!";break e}}ua(l)}l=!1}l&&(s=a[0])}}return a=Nn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:s},a.queue=l,a=rp.bind(null,Qe,l),l.dispatch=a,l=Lu(!1),h=Vu.bind(null,Qe,!1,l.queue),l=Nn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=ow.bind(null,Qe,d,h,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function Hm(t){var s=Bt();return $m(s,ct,t)}function $m(t,s,a){if(s=Ru(t,s,qm)[0],t=lo(Zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Oi(s)}catch(v){throw v===Dr?Xl:v}else l=s;s=Bt();var d=s.queue,h=d.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,Ur(9,{destroy:void 0},cw.bind(null,d,a),null)),[l,h,t]}function cw(t,s){t.action=s}function Vm(t){var s=Bt(),a=ct;if(a!==null)return $m(s,a,t);Bt(),s=s.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ur(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=ro(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Qm(){return Bt().memoizedState}function oo(t,s,a,l){var d=Nn();Qe.flags|=t,d.memoizedState=Ur(1|s,{destroy:void 0},a,l===void 0?null:l)}function co(t,s,a,l){var d=Bt();l=l===void 0?null:l;var h=d.memoizedState.inst;ct!==null&&l!==null&&ku(l,ct.memoizedState.deps)?d.memoizedState=Ur(s,h,a,l):(Qe.flags|=t,d.memoizedState=Ur(1|s,h,a,l))}function Fm(t,s){oo(8390656,8,t,s)}function Bu(t,s){co(2048,8,t,s)}function uw(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=ro(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Im(t){var s=Bt().memoizedState;return uw({ref:s,nextImpl:t}),function(){if((tt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Gm(t,s){return co(4,2,t,s)}function Ym(t,s){return co(4,4,t,s)}function Km(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wm(t,s,a){a=a!=null?a.concat([t]):null,co(4,4,Km.bind(null,s,t),a)}function qu(){}function Xm(t,s){var a=Bt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ku(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Pm(t,s){var a=Bt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ku(s,l[1]))return l[0];if(l=t(),Wa){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,s],l}function Zu(t,s,a){return a===void 0||(qs&1073741824)!==0&&(Ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Jp(),Qe.lanes|=t,ba|=t,a)}function Jm(t,s,a,l){return Vn(a,s)?a:Rr.current!==null?(t=Zu(t,a,l),Vn(t,s)||(Gt=!0),t):(qs&42)===0||(qs&1073741824)!==0&&(Ke&261930)===0?(Gt=!0,t.memoizedState=a):(t=Jp(),Qe.lanes|=t,ba|=t,s)}function ep(t,s,a,l,d){var h=X.p;X.p=h!==0&&8>h?h:8;var v=O.T,S={};O.T=S,Vu(t,!1,s,a);try{var k=d(),K=O.S;if(K!==null&&K(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ae=rw(k,l);Li(t,s,ae,Kn(t))}else Li(t,s,l,Kn(t))}catch(fe){Li(t,s,{then:function(){},status:"rejected",reason:fe},Kn())}finally{X.p=h,v!==null&&S.types!==null&&(v.types=S.types),O.T=v}}function dw(){}function Hu(t,s,a,l){if(t.tag!==5)throw Error(i(476));var d=tp(t).queue;ep(t,d,s,ge,a===null?dw:function(){return np(t),a(l)})}function tp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function np(t){var s=tp(t);s.next===null&&(s=t.alternate.memoizedState),Li(t,s.next.queue,{},Kn())}function $u(){return xn(Ji)}function sp(){return Bt().memoizedState}function ap(){return Bt().memoizedState}function fw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Kn();t=ha(a);var l=ma(s,t,a);l!==null&&(Bn(l,s,a),Mi(l,s,a)),s={cache:xu()},t.payload=s;return}s=s.return}}function hw(t,s,a){var l=Kn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uo(t)?ip(s,a):(a=iu(t,s,a,l),a!==null&&(Bn(a,t,l),lp(a,s,l)))}function rp(t,s,a){var l=Kn();Li(t,s,a,l)}function Li(t,s,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uo(t))ip(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,a);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,v))return Ql(t,s,d,0),ht===null&&Vl(),!1}catch{}finally{}if(a=iu(t,s,d,l),a!==null)return Bn(a,t,l),lp(a,s,l),!0}return!1}function Vu(t,s,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uo(t)){if(s)throw Error(i(479))}else s=iu(t,a,l,2),s!==null&&Bn(s,t,2)}function uo(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function ip(t,s){Or=so=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function lp(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,mn(t,a)}}var Ui={readContext:xn,use:io,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ui.useEffectEvent=At;var op={readContext:xn,use:io,useCallback:function(t,s){return Nn().memoizedState=[t,s===void 0?null:s],t},useContext:xn,useEffect:Fm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,oo(4194308,4,Km.bind(null,s,t),a)},useLayoutEffect:function(t,s){return oo(4194308,4,t,s)},useInsertionEffect:function(t,s){oo(4,2,t,s)},useMemo:function(t,s){var a=Nn();s=s===void 0?null:s;var l=t();if(Wa){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=Nn();if(a!==void 0){var d=a(s);if(Wa){Sn(!0);try{a(s)}finally{Sn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=hw.bind(null,Qe,t),[l.memoizedState,t]},useRef:function(t){var s=Nn();return t={current:t},s.memoizedState=t},useState:function(t){t=Lu(t);var s=t.queue,a=rp.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:qu,useDeferredValue:function(t,s){var a=Nn();return Zu(a,t,s)},useTransition:function(){var t=Lu(!1);return t=ep.bind(null,Qe,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Qe,d=Nn();if(Xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),ht===null)throw Error(i(349));(Ke&127)!==0||Tm(l,s,a)}d.memoizedState=a;var h={value:a,getSnapshot:s};return d.queue=h,Fm(Mm.bind(null,l,h,t),[t]),l.flags|=2048,Ur(9,{destroy:void 0},Am.bind(null,l,h,a,s),null),a},useId:function(){var t=Nn(),s=ht.identifierPrefix;if(Xe){var a=ws,l=ys;a=(l&~(1<<32-St(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=ao++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=iw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:$u,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var s=Nn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Vu.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:zu,useCacheRefresh:function(){return Nn().memoizedState=fw.bind(null,Qe)},useEffectEvent:function(t){var s=Nn(),a={impl:t};return s.memoizedState=a,function(){if((tt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Qu={readContext:xn,use:io,useCallback:Xm,useContext:xn,useEffect:Bu,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Pm,useReducer:lo,useRef:Qm,useState:function(){return lo(Zs)},useDebugValue:qu,useDeferredValue:function(t,s){var a=Bt();return Jm(a,ct.memoizedState,t,s)},useTransition:function(){var t=lo(Zs)[0],s=Bt().memoizedState;return[typeof t=="boolean"?t:Oi(t),s]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:$u,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,s){var a=Bt();return Rm(a,ct,t,s)},useMemoCache:zu,useCacheRefresh:ap};Qu.useEffectEvent=Im;var cp={readContext:xn,use:io,useCallback:Xm,useContext:xn,useEffect:Bu,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Pm,useReducer:Ou,useRef:Qm,useState:function(){return Ou(Zs)},useDebugValue:qu,useDeferredValue:function(t,s){var a=Bt();return ct===null?Zu(a,t,s):Jm(a,ct.memoizedState,t,s)},useTransition:function(){var t=Ou(Zs)[0],s=Bt().memoizedState;return[typeof t=="boolean"?t:Oi(t),s]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:$u,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,s){var a=Bt();return ct!==null?Rm(a,ct,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zu,useCacheRefresh:ap};cp.useEffectEvent=Im;function Fu(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Iu={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Kn(),d=ha(l);d.payload=s,a!=null&&(d.callback=a),s=ma(t,d,l),s!==null&&(Bn(s,t,l),Mi(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Kn(),d=ha(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=ma(t,d,l),s!==null&&(Bn(s,t,l),Mi(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Kn(),l=ha(a);l.tag=2,s!=null&&(l.callback=s),s=ma(t,l,a),s!==null&&(Bn(s,t,a),Mi(s,t,a))}};function up(t,s,a,l,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,v):s.prototype&&s.prototype.isPureReactComponent?!ji(a,l)||!ji(d,h):!0}function dp(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Iu.enqueueReplaceState(s,s.state,null)}function Xa(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function fp(t){$l(t)}function hp(t){console.error(t)}function mp(t){$l(t)}function fo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function pp(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gu(t,s,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){fo(t,s)},a}function gp(t){return t=ha(t),t.tag=3,t}function xp(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;t.payload=function(){return d(h)},t.callback=function(){pp(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pp(s,a,l),typeof d!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function mw(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Tr(s,a,d,!0),a=Fn.current,a!==null){switch(a.tag){case 31:case 13:return ss===null?Eo():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Pl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),vd(t,l,d)),!1;case 22:return a.flags|=65536,l===Pl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),vd(t,l,d)),!1}throw Error(i(435,a.tag))}return vd(t,l,d),Eo(),!1}if(Xe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==fu&&(t=Error(i(422),{cause:l}),Ci(Jn(t,a)))):(l!==fu&&(s=Error(i(423),{cause:l}),Ci(Jn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Jn(l,a),d=Gu(t.stateNode,l,d),ju(t,d),Mt!==4&&(Mt=2)),!1;var h=Error(i(520),{cause:l});if(h=Jn(h,a),Fi===null?Fi=[h]:Fi.push(h),Mt!==4&&(Mt=2),s===null)return!0;l=Jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Gu(a.stateNode,l,t),ju(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ya===null||!ya.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=gp(d),xp(d,t,a,l),ju(a,d),!1}a=a.return}while(a!==null);return!1}var Yu=Error(i(461)),Gt=!1;function vn(t,s,a,l){s.child=t===null?wm(s,null,a,l):Ka(s,t.child,a,l)}function vp(t,s,a,l,d){a=a.render;var h=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Fa(s),l=Tu(t,s,a,v,h,d),S=Au(),t!==null&&!Gt?(Mu(t,s,d),Hs(t,s,d)):(Xe&&S&&uu(s),s.flags|=1,vn(t,s,l,d),s.child)}function bp(t,s,a,l,d){if(t===null){var h=a.type;return typeof h=="function"&&!lu(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,yp(t,s,h,l,d)):(t=Il(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!nd(t,d)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:ji,a(v,l)&&t.ref===s.ref)return Hs(t,s,d)}return s.flags|=1,t=Os(h,l),t.ref=s.ref,t.return=s,s.child=t}function yp(t,s,a,l,d){if(t!==null){var h=t.memoizedProps;if(ji(h,l)&&t.ref===s.ref)if(Gt=!1,s.pendingProps=l=h,nd(t,d))(t.flags&131072)!==0&&(Gt=!0);else return s.lanes=t.lanes,Hs(t,s,d)}return Ku(t,s,a,l,d)}function wp(t,s,a,l){var d=l.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,s.child=null;return Sp(t,s,h,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wl(s,h!==null?h.cachePool:null),h!==null?Em(s,h):_u(),_m(s);else return l=s.lanes=536870912,Sp(t,s,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Wl(s,h.cachePool),Em(s,h),ga(),s.memoizedState=null):(t!==null&&Wl(s,null),_u(),ga());return vn(t,s,d,a),s.child}function Bi(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sp(t,s,a,l,d){var h=bu();return h=h===null?null:{parent:Ft._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wl(s,null),_u(),_m(s),t!==null&&Tr(t,s,l,!0),s.childLanes=d,null}function ho(t,s){return s=po({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function jp(t,s,a){return Ka(s,t.child,null,a),t=ho(s,s.pendingProps),t.flags|=2,In(s),s.memoizedState=null,t}function pw(t,s,a){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Xe){if(l.mode==="hidden")return t=ho(s,l),s.lanes=536870912,Bi(null,t);if(Nu(s),(t=xt)?(t=Og(t,ns),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:oa!==null?{id:ys,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=s,s.child=a,gn=s,xt=null)):t=null,t===null)throw ua(s);return s.lanes=536870912,null}return ho(s,l)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Nu(s),d)if(s.flags&256)s.flags&=-257,s=jp(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Gt||Tr(t,s,a,!1),d=(a&t.childLanes)!==0,Gt||d){if(l=ht,l!==null&&(v=Cn(l,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,Ha(t,v),Bn(l,t,v),Yu;Eo(),s=jp(t,s,a)}else t=h.treeContext,xt=as(v.nextSibling),gn=s,Xe=!0,ca=null,ns=!1,t!==null&&cm(s,t),s=ho(s,l),s.flags|=4096;return s}return t=Os(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function mo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Ku(t,s,a,l,d){return Fa(s),a=Tu(t,s,a,l,void 0,d),l=Au(),t!==null&&!Gt?(Mu(t,s,d),Hs(t,s,d)):(Xe&&l&&uu(s),s.flags|=1,vn(t,s,a,d),s.child)}function Ep(t,s,a,l,d,h){return Fa(s),s.updateQueue=null,a=Nm(s,l,a,d),Cm(t),l=Au(),t!==null&&!Gt?(Mu(t,s,h),Hs(t,s,h)):(Xe&&l&&uu(s),s.flags|=1,vn(t,s,a,h),s.child)}function _p(t,s,a,l,d){if(Fa(s),s.stateNode===null){var h=_r,v=a.contextType;typeof v=="object"&&v!==null&&(h=xn(v)),h=new a(l,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Iu,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=l,h.state=s.memoizedState,h.refs={},wu(s),v=a.contextType,h.context=typeof v=="object"&&v!==null?xn(v):_r,h.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Fu(s,a,v,l),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Iu.enqueueReplaceState(h,h.state,null),zi(s,l,h,d),Di(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,k=Xa(a,S);h.props=k;var K=h.context,ae=a.contextType;v=_r,typeof ae=="object"&&ae!==null&&(v=xn(ae));var fe=a.getDerivedStateFromProps;ae=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ae||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||K!==v)&&dp(s,h,l,v),fa=!1;var P=s.memoizedState;h.state=P,zi(s,l,h,d),Di(),K=s.memoizedState,S||P!==K||fa?(typeof fe=="function"&&(Fu(s,a,fe,l),K=s.memoizedState),(k=fa||up(s,a,k,l,P,K,v))?(ae||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),h.props=l,h.state=K,h.context=v,l=k):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{h=s.stateNode,Su(t,s),v=s.memoizedProps,ae=Xa(a,v),h.props=ae,fe=s.pendingProps,P=h.context,K=a.contextType,k=_r,typeof K=="object"&&K!==null&&(k=xn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||P!==k)&&dp(s,h,l,k),fa=!1,P=s.memoizedState,h.state=P,zi(s,l,h,d),Di();var ee=s.memoizedState;v!==fe||P!==ee||fa||t!==null&&t.dependencies!==null&&Yl(t.dependencies)?(typeof S=="function"&&(Fu(s,a,S,l),ee=s.memoizedState),(ae=fa||up(s,a,ae,l,P,ee,k)||t!==null&&t.dependencies!==null&&Yl(t.dependencies))?(K||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,ee,k),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,ee,k)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ee),h.props=l,h.state=ee,h.context=k,l=ae):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),l=!1)}return h=l,mo(t,s),l=(s.flags&128)!==0,h||l?(h=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&l?(s.child=Ka(s,t.child,null,d),s.child=Ka(s,null,a,d)):vn(t,s,a,d),s.memoizedState=h.state,t=s.child):t=Hs(t,s,d),t}function Cp(t,s,a,l){return Va(),s.flags|=256,vn(t,s,a,l),s.child}var Wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(t){return{baseLanes:t,cachePool:pm()}}function Pu(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Yn),t}function Np(t,s,a){var l=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Xe){if(d?pa(s):ga(),(t=xt)?(t=Og(t,ns),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:oa!==null?{id:ys,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=s,s.child=a,gn=s,xt=null)):t=null,t===null)throw ua(s);return Rd(t)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(ga(),d=s.mode,S=po({mode:"hidden",children:S},d),l=$a(l,d,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Xu(a),l.childLanes=Pu(t,v,a),s.memoizedState=Wu,Bi(null,l)):(pa(s),Ju(s,S))}var k=t.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(h)s.flags&256?(pa(s),s.flags&=-257,s=ed(t,s,a)):s.memoizedState!==null?(ga(),s.child=t.child,s.flags|=128,s=null):(ga(),S=l.fallback,d=s.mode,l=po({mode:"visible",children:l.children},d),S=$a(S,d,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Ka(s,t.child,null,a),l=s.child,l.memoizedState=Xu(a),l.childLanes=Pu(t,v,a),s.memoizedState=Wu,s=Bi(null,l));else if(pa(s),Rd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var K=v.dgst;v=K,l=Error(i(419)),l.stack="",l.digest=v,Ci({value:l,source:null,stack:null}),s=ed(t,s,a)}else if(Gt||Tr(t,s,a,!1),v=(a&t.childLanes)!==0,Gt||v){if(v=ht,v!==null&&(l=Cn(v,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ha(t,l),Bn(v,t,l),Yu;zd(S)||Eo(),s=ed(t,s,a)}else zd(S)?(s.flags|=192,s.child=t.child,s=null):(t=k.treeContext,xt=as(S.nextSibling),gn=s,Xe=!0,ca=null,ns=!1,t!==null&&cm(s,t),s=Ju(s,l.children),s.flags|=4096);return s}return d?(ga(),S=l.fallback,d=s.mode,k=t.child,K=k.sibling,l=Os(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,K!==null?S=Os(K,S):(S=$a(S,d,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Bi(null,l),l=s.child,S=t.child.memoizedState,S===null?S=Xu(a):(d=S.cachePool,d!==null?(k=Ft._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=pm(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=Pu(t,v,a),s.memoizedState=Wu,Bi(t.child,l)):(pa(s),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Ju(t,s){return s=po({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function po(t,s){return t=Qn(22,t,null,s),t.lanes=0,t}function ed(t,s,a){return Ka(s,t.child,null,a),t=Ju(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function kp(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),pu(t.return,s,a)}function td(t,s,a,l,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=h)}function Tp(t,s,a){var l=s.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var v=Ut.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,M(Ut,v),vn(t,s,l,a),l=Xe?_i:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,a,s);else if(t.tag===19)kp(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&no(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),td(s,!1,d,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&no(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}td(s,!0,a,null,h,l);break;case"together":td(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Hs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),ba|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Tr(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Os(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function nd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Yl(t)))}function gw(t,s,a){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),da(s,Ft,t.memoizedState.cache),Va();break;case 27:case 5:I(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:da(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nu(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Np(t,s,a):(pa(s),t=Hs(t,s,a),t!==null?t.sibling:null);pa(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Tr(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Tp(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),M(Ut,Ut.current),l)break;return null;case 22:return s.lanes=0,wp(t,s,a,s.pendingProps);case 24:da(s,Ft,t.memoizedState.cache)}return Hs(t,s,a)}function Ap(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Gt=!0;else{if(!nd(t,a)&&(s.flags&128)===0)return Gt=!1,gw(t,s,a);Gt=(t.flags&131072)!==0}else Gt=!1,Xe&&(s.flags&1048576)!==0&&om(s,_i,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Ga(s.elementType),s.type=t,typeof t=="function")lu(t)?(l=Xa(t,l),s.tag=1,s=_p(null,s,t,l,a)):(s.tag=0,s=Ku(null,s,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===W){s.tag=11,s=vp(null,s,t,l,a);break e}else if(d===H){s.tag=14,s=bp(null,s,t,l,a);break e}}throw s=pe(t)||t,Error(i(306,s,""))}}return s;case 0:return Ku(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=Xa(l,s.pendingProps),_p(t,s,l,d,a);case 3:e:{if(Ee(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var h=s.memoizedState;d=h.element,Su(t,s),zi(s,l,null,a);var v=s.memoizedState;if(l=v.cache,da(s,Ft,l),l!==h.cache&&gu(s,[Ft],a,!0),Di(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Cp(t,s,l,a);break e}else if(l!==d){d=Jn(Error(i(424)),s),Ci(d),s=Cp(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=as(t.firstChild),gn=s,Xe=!0,ca=null,ns=!0,a=wm(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Va(),l===d){s=Hs(t,s,a);break e}vn(t,s,l,a)}s=s.child}return s;case 26:return mo(t,s),t===null?(a=Hg(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xe||(a=s.type,t=s.pendingProps,l=Mo(F.current).createElement(a),l[gt]=s,l[jn]=t,bn(l,a,t),Vt(l),s.stateNode=l):s.memoizedState=Hg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return I(s),t===null&&Xe&&(l=s.stateNode=Bg(s.type,s.pendingProps,F.current),gn=s,ns=!0,d=xt,Ea(s.type)?(Od=d,xt=as(l.firstChild)):xt=d),vn(t,s,s.pendingProps.children,a),mo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Xe&&((d=l=xt)&&(l=Iw(l,s.type,s.pendingProps,ns),l!==null?(s.stateNode=l,gn=s,xt=as(l.firstChild),ns=!1,d=!0):d=!1),d||ua(s)),I(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,l=h.children,Ad(d,h)?l=null:v!==null&&Ad(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Tu(t,s,lw,null,null,a),Ji._currentValue=d),mo(t,s),vn(t,s,l,a),s.child;case 6:return t===null&&Xe&&((t=a=xt)&&(a=Gw(a,s.pendingProps,ns),a!==null?(s.stateNode=a,gn=s,xt=null,t=!0):t=!1),t||ua(s)),null;case 13:return Np(t,s,a);case 4:return Ee(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ka(s,null,l,a):vn(t,s,l,a),s.child;case 11:return vp(t,s,s.type,s.pendingProps,a);case 7:return vn(t,s,s.pendingProps,a),s.child;case 8:return vn(t,s,s.pendingProps.children,a),s.child;case 12:return vn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,da(s,s.type,l.value),vn(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Fa(s),d=xn(d),l=l(d),s.flags|=1,vn(t,s,l,a),s.child;case 14:return bp(t,s,s.type,s.pendingProps,a);case 15:return yp(t,s,s.type,s.pendingProps,a);case 19:return Tp(t,s,a);case 31:return pw(t,s,a);case 22:return wp(t,s,a,s.pendingProps);case 24:return Fa(s),l=xn(Ft),t===null?(d=bu(),d===null&&(d=ht,h=xu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),s.memoizedState={parent:l,cache:d},wu(s),da(s,Ft,d)):((t.lanes&a)!==0&&(Su(t,s),zi(s,null,null,a),Di()),d=t.memoizedState,h=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),da(s,Ft,l)):(l=h.cache,da(s,Ft,l),l!==d.cache&&gu(s,[Ft],a,!0))),vn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $s(t){t.flags|=4}function sd(t,s,a,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(sg())t.flags|=8192;else throw Ya=Pl,yu}else t.flags&=-16777217}function Mp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ig(s))if(sg())t.flags|=8192;else throw Ya=Pl,yu}function go(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ln():536870912,t.lanes|=s,Hr|=s)}function qi(t,s){if(!Xe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function xw(t,s,a){var l=s.pendingProps;switch(du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Bs(Ft),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(kr(s)?$s(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hu())),vt(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?($s(s),h!==null?(vt(s),Mp(s,h)):(vt(s),sd(s,d,null,l,a))):h?h!==t.memoizedState?($s(s),vt(s),Mp(s,h)):(vt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&$s(s),vt(s),sd(s,d,t,l,a)),null;case 27:if(Ce(s),a=F.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}t=R.current,kr(s)?um(s):(t=Bg(d,l,a),s.stateNode=t,$s(s))}return vt(s),null;case 5:if(Ce(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(h=R.current,kr(s))um(s);else{var v=Mo(F.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}h[gt]=s,h[jn]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(bn(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$s(s)}}return vt(s),sd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&$s(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=F.current,kr(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=gn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[gt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ng(t.nodeValue,a)),t||ua(s,!0)}else t=Mo(t).createTextNode(l),t[gt]=s,s.stateNode=t}return vt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=kr(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[gt]=s}else Va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),t=!1}else a=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(i(558))}return vt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=kr(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[gt]=s}else Va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),d=!1}else d=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),go(s,s.updateQueue),vt(s),null);case 4:return _e(),t===null&&_d(s.stateNode.containerInfo),vt(s),null;case 10:return Bs(s.type),vt(s),null;case 19:if(q(Ut),l=s.memoizedState,l===null)return vt(s),null;if(d=(s.flags&128)!==0,h=l.rendering,h===null)if(d)qi(l,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=no(t),h!==null){for(s.flags|=128,qi(l,!1),t=h.updateQueue,s.updateQueue=t,go(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)rm(a,t),a=a.sibling;return M(Ut,Ut.current&1|2),Xe&&Ls(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&se()>wo&&(s.flags|=128,d=!0,qi(l,!1),s.lanes=4194304)}else{if(!d)if(t=no(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,go(s,t),qi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Xe)return vt(s),null}else 2*se()-l.renderingStartTime>wo&&a!==536870912&&(s.flags|=128,d=!0,qi(l,!1),s.lanes=4194304);l.isBackwards?(h.sibling=s.child,s.child=h):(t=l.last,t!==null?t.sibling=h:s.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=se(),t.sibling=null,a=Ut.current,M(Ut,d?a&1|2:a&1),Xe&&Ls(s,l.treeForkCount),t):(vt(s),null);case 22:case 23:return In(s),Cu(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),a=s.updateQueue,a!==null&&go(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&q(Ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Bs(Ft),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function vw(t,s){switch(du(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Bs(Ft),_e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(i(340));Va()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(In(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Va()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return q(Ut),null;case 4:return _e(),null;case 10:return Bs(s.type),null;case 22:case 23:return In(s),Cu(),t!==null&&q(Ia),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Bs(Ft),null;case 25:return null;default:return null}}function Dp(t,s){switch(du(s),s.tag){case 3:Bs(Ft),_e();break;case 26:case 27:case 5:Ce(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:q(Ut);break;case 10:Bs(s.type);break;case 22:case 23:In(s),Cu(),t!==null&&q(Ia);break;case 24:Bs(Ft)}}function Zi(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var h=a.create,v=a.inst;l=h(),v.destroy=l}a=a.next}while(a!==d)}}catch(S){lt(s,s.return,S)}}function xa(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var k=a,K=S;try{K()}catch(ae){lt(d,k,ae)}}}l=l.next}while(l!==h)}}catch(ae){lt(s,s.return,ae)}}function zp(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{jm(s,a)}catch(l){lt(t,t.return,l)}}}function Rp(t,s,a){a.props=Xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,s,l)}}function Hi(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){lt(t,s,d)}}function Ss(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){lt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){lt(t,s,d)}else a.current=null}function Op(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){lt(t,t.return,d)}}function ad(t,s,a){try{var l=t.stateNode;Zw(l,t.type,a,s),l[jn]=s}catch(d){lt(t,t.return,d)}}function Lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=zs));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(id(t,s,a),t=t.sibling;t!==null;)id(t,s,a),t=t.sibling}function xo(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xo(t,s,a),t=t.sibling;t!==null;)xo(t,s,a),t=t.sibling}function Up(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);bn(s,l,a),s[gt]=t,s[jn]=a}catch(h){lt(t,t.return,h)}}var Vs=!1,Yt=!1,ld=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,un=null;function bw(t,s){if(t=t.containerInfo,kd=Bo,t=Wh(t),eu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,S=-1,k=-1,K=0,ae=0,fe=t,P=null;t:for(;;){for(var ee;fe!==a||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||l!==0&&fe.nodeType!==3||(k=v+l),fe.nodeType===3&&(v+=fe.nodeValue.length),(ee=fe.firstChild)!==null;)P=fe,fe=ee;for(;;){if(fe===t)break t;if(P===a&&++K===d&&(S=v),P===h&&++ae===l&&(k=v),(ee=fe.nextSibling)!==null)break;fe=P,P=fe.parentNode}fe=ee}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Bo=!1,un=s;un!==null;)if(s=un,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,un=t;else for(;un!==null;){switch(s=un,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,d=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var Te=Xa(a.type,d);t=l.getSnapshotBeforeUpdate(Te,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ue){lt(a,a.return,Ue)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,un=t;break}un=s.return}}function qp(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fs(t,a),l&4&&Zi(5,a);break;case 1:if(Fs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){lt(a,a.return,v)}else{var d=Xa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){lt(a,a.return,v)}}l&64&&zp(a),l&512&&Hi(a,a.return);break;case 3:if(Fs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{jm(t,s)}catch(v){lt(a,a.return,v)}}break;case 27:s===null&&l&4&&Up(a);case 26:case 5:Fs(t,a),s===null&&l&4&&Op(a),l&512&&Hi(a,a.return);break;case 12:Fs(t,a);break;case 31:Fs(t,a),l&4&&$p(t,a);break;case 13:Fs(t,a),l&4&&Vp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kw.bind(null,a),Yw(t,a))));break;case 22:if(l=a.memoizedState!==null||Vs,!l){s=s!==null&&s.memoizedState!==null||Yt,d=Vs;var h=Yt;Vs=l,(Yt=s)&&!h?Is(t,a,(a.subtreeFlags&8772)!==0):Fs(t,a),Vs=d,Yt=h}break;case 30:break;default:Fs(t,a)}}function Zp(t){var s=t.alternate;s!==null&&(t.alternate=null,Zp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&hi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Rn=!1;function Qs(t,s,a){for(a=a.child;a!==null;)Hp(t,s,a),a=a.sibling}function Hp(t,s,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(en,a)}catch{}switch(a.tag){case 26:Yt||Ss(a,s),Qs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||Ss(a,s);var l=yt,d=Rn;Ea(a.type)&&(yt=a.stateNode,Rn=!1),Qs(t,s,a),Wi(a.stateNode),yt=l,Rn=d;break;case 5:Yt||Ss(a,s);case 6:if(l=yt,d=Rn,yt=null,Qs(t,s,a),yt=l,Rn=d,yt!==null)if(Rn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(h){lt(a,s,h)}else try{yt.removeChild(a.stateNode)}catch(h){lt(a,s,h)}break;case 18:yt!==null&&(Rn?(t=yt,zg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Kr(t)):zg(yt,a.stateNode));break;case 4:l=yt,d=Rn,yt=a.stateNode.containerInfo,Rn=!0,Qs(t,s,a),yt=l,Rn=d;break;case 0:case 11:case 14:case 15:xa(2,a,s),Yt||xa(4,a,s),Qs(t,s,a);break;case 1:Yt||(Ss(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rp(a,s,l)),Qs(t,s,a);break;case 21:Qs(t,s,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,Qs(t,s,a),Yt=l;break;default:Qs(t,s,a)}}function $p(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kr(t)}catch(a){lt(s,s.return,a)}}}function Vp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kr(t)}catch(a){lt(s,s.return,a)}}function yw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Bp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Bp),s;default:throw Error(i(435,t.tag))}}function vo(t,s){var a=yw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var d=Tw.bind(null,t,l);l.then(d,d)}})}function On(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ea(S.type)){yt=S.stateNode,Rn=!1;break e}break;case 5:yt=S.stateNode,Rn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));Hp(h,v,d),yt=null,Rn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Qp(s,t),s=s.sibling}var hs=null;function Qp(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(s,t),Ln(t),l&4&&(xa(3,t,t.return),Zi(3,t),xa(5,t,t.return));break;case 1:On(s,t),Ln(t),l&512&&(Yt||a===null||Ss(a,a.return)),l&64&&Vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hs;if(On(s,t),Ln(t),l&512&&(Yt||a===null||Ss(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[As]||h[gt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),bn(h,l,a),h[gt]=t,Vt(h),l=h;break e;case"link":var v=Qg("link","href",d).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(l),bn(h,l,a),d.head.appendChild(h);break;case"meta":if(v=Qg("meta","content",d).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}h=d.createElement(l),bn(h,l,a),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[gt]=t,Vt(h),l=h}t.stateNode=l}else Fg(d,t.type,t.stateNode);else t.stateNode=Vg(d,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Fg(d,t.type,t.stateNode):Vg(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(s,t),Ln(t),l&512&&(Yt||a===null||Ss(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(s,t),Ln(t),l&512&&(Yt||a===null||Ss(a,a.return)),t.flags&32){d=t.stateNode;try{vr(d,"")}catch(Te){lt(t,t.return,Te)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,ad(t,d,a!==null?a.memoizedProps:d)),l&1024&&(ld=!0);break;case 6:if(On(s,t),Ln(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Te){lt(t,t.return,Te)}}break;case 3:if(Ro=null,d=hs,hs=Do(s.containerInfo),On(s,t),hs=d,Ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kr(s.containerInfo)}catch(Te){lt(t,t.return,Te)}ld&&(ld=!1,Fp(t));break;case 4:l=hs,hs=Do(t.stateNode.containerInfo),On(s,t),Ln(t),hs=l;break;case 12:On(s,t),Ln(t);break;case 31:On(s,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 13:On(s,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yo=se()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 22:d=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,K=Vs,ae=Yt;if(Vs=K||d,Yt=ae||k,On(s,t),Yt=ae,Vs=K,Ln(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||k||Vs||Yt||Pa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(h=k.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=k.stateNode;var fe=k.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Te){lt(k,k.return,Te)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(Te){lt(k,k.return,Te)}}}else if(s.tag===18){if(a===null){k=s;try{var ee=k.stateNode;d?Rg(ee,!0):Rg(k.stateNode,!1)}catch(Te){lt(k,k.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vo(t,a))));break;case 19:On(s,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vo(t,l)));break;case 30:break;case 21:break;default:On(s,t),Ln(t)}}function Ln(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Lp(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,h=rd(t);xo(t,h,d);break;case 5:var v=a.stateNode;a.flags&32&&(vr(v,""),a.flags&=-33);var S=rd(t);xo(t,S,v);break;case 3:case 4:var k=a.stateNode.containerInfo,K=rd(t);id(t,K,k);break;default:throw Error(i(161))}}catch(ae){lt(t,t.return,ae)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Fp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Fs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qp(t,s.alternate,s),s=s.sibling}function Pa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:xa(4,s,s.return),Pa(s);break;case 1:Ss(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Rp(s,s.return,a),Pa(s);break;case 27:Wi(s.stateNode);case 26:case 5:Ss(s,s.return),Pa(s);break;case 22:s.memoizedState===null&&Pa(s);break;case 30:Pa(s);break;default:Pa(s)}t=t.sibling}}function Is(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:Is(d,h,a),Zi(4,h);break;case 1:if(Is(d,h,a),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){lt(l,l.return,K)}if(l=h,d=l.updateQueue,d!==null){var S=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Sm(k[d],S)}catch(K){lt(l,l.return,K)}}a&&v&64&&zp(h),Hi(h,h.return);break;case 27:Up(h);case 26:case 5:Is(d,h,a),a&&l===null&&v&4&&Op(h),Hi(h,h.return);break;case 12:Is(d,h,a);break;case 31:Is(d,h,a),a&&v&4&&$p(d,h);break;case 13:Is(d,h,a),a&&v&4&&Vp(d,h);break;case 22:h.memoizedState===null&&Is(d,h,a),Hi(h,h.return);break;case 30:break;default:Is(d,h,a)}s=s.sibling}}function od(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ni(a))}function cd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Ni(t))}function ms(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ip(t,s,a,l),s=s.sibling}function Ip(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s,a,l),d&2048&&Zi(9,s);break;case 1:ms(t,s,a,l);break;case 3:ms(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Ni(t)));break;case 12:if(d&2048){ms(t,s,a,l),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){lt(s,s.return,k)}}else ms(t,s,a,l);break;case 31:ms(t,s,a,l);break;case 13:ms(t,s,a,l);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?ms(t,s,a,l):$i(t,s):h._visibility&2?ms(t,s,a,l):(h._visibility|=2,Br(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&od(v,s);break;case 24:ms(t,s,a,l),d&2048&&cd(s.alternate,s);break;default:ms(t,s,a,l)}}function Br(t,s,a,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=a,k=l,K=v.flags;switch(v.tag){case 0:case 11:case 15:Br(h,v,S,k,d),Zi(8,v);break;case 23:break;case 22:var ae=v.stateNode;v.memoizedState!==null?ae._visibility&2?Br(h,v,S,k,d):$i(h,v):(ae._visibility|=2,Br(h,v,S,k,d)),d&&K&2048&&od(v.alternate,v);break;case 24:Br(h,v,S,k,d),d&&K&2048&&cd(v.alternate,v);break;default:Br(h,v,S,k,d)}s=s.sibling}}function $i(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:$i(a,l),d&2048&&od(l.alternate,l);break;case 24:$i(a,l),d&2048&&cd(l.alternate,l);break;default:$i(a,l)}s=s.sibling}}var Vi=8192;function qr(t,s,a){if(t.subtreeFlags&Vi)for(t=t.child;t!==null;)Gp(t,s,a),t=t.sibling}function Gp(t,s,a){switch(t.tag){case 26:qr(t,s,a),t.flags&Vi&&t.memoizedState!==null&&i1(a,hs,t.memoizedState,t.memoizedProps);break;case 5:qr(t,s,a);break;case 3:case 4:var l=hs;hs=Do(t.stateNode.containerInfo),qr(t,s,a),hs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vi,Vi=16777216,qr(t,s,a),Vi=l):qr(t,s,a));break;default:qr(t,s,a)}}function Yp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Qi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,Wp(l,t)}Yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kp(t),t=t.sibling}function Kp(t){switch(t.tag){case 0:case 11:case 15:Qi(t),t.flags&2048&&xa(9,t,t.return);break;case 3:Qi(t);break;case 12:Qi(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,bo(t)):Qi(t);break;default:Qi(t)}}function bo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,Wp(l,t)}Yp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:xa(8,s,s.return),bo(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,bo(s));break;default:bo(s)}t=t.sibling}}function Wp(t,s){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:xa(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ni(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else e:for(a=t;un!==null;){l=un;var d=l.sibling,h=l.return;if(Zp(l),l===a){un=null;break e}if(d!==null){d.return=h,un=d;break e}un=h}}}var ww={getCacheForType:function(t){var s=xn(Ft),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return xn(Ft).controller.signal}},Sw=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Ge=null,Ke=0,it=0,Gn=null,va=!1,Zr=!1,ud=!1,Gs=0,Mt=0,ba=0,Ja=0,dd=0,Yn=0,Hr=0,Fi=null,Un=null,fd=!1,yo=0,Xp=0,wo=1/0,So=null,ya=null,nn=0,wa=null,$r=null,Ys=0,hd=0,md=null,Pp=null,Ii=0,pd=null;function Kn(){return(tt&2)!==0&&Ke!==0?Ke&-Ke:O.T!==null?wd():cn()}function Jp(){if(Yn===0)if((Ke&536870912)===0||Xe){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Yn=t}else Yn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Yn}function Bn(t,s,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Vr(t,0),Sa(t,Ke,Yn,!1)),tn(t,a),((tt&2)===0||t!==ht)&&(t===ht&&((tt&2)===0&&(Ja|=a),Mt===4&&Sa(t,Ke,Yn,!1)),js(t))}function eg(t,s,a){if((tt&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||_t(t,s),d=l?_w(t,s):xd(t,s,!0),h=l;do{if(d===0){Zr&&!l&&Sa(t,s,0,!1);break}else{if(a=t.current.alternate,h&&!jw(a)){d=xd(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=Fi;var k=S.current.memoizedState.isDehydrated;if(k&&(Vr(S,v).flags|=256),v=xd(S,v,!1),v!==2){if(ud&&!k){S.errorRecoveryDisabledLanes|=h,Ja|=h,d=4;break e}h=Un,Un=d,h!==null&&(Un===null?Un=h:Un.push.apply(Un,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){Vr(t,0),Sa(t,s,0,!0);break}e:{switch(l=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Sa(l,s,Yn,!va);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=yo+300-se(),10<d)){if(Sa(l,s,Yn,!va),$t(l,0,!0)!==0)break e;Ys=s,l.timeoutHandle=Mg(tg.bind(null,l,a,Un,So,fd,s,Yn,Ja,Hr,va,h,"Throttled",-0,0),d);break e}tg(l,a,Un,So,fd,s,Yn,Ja,Hr,va,h,null,-0,0)}}break}while(!0);js(t)}function tg(t,s,a,l,d,h,v,S,k,K,ae,fe,P,ee){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zs},Gp(s,h,fe);var Te=(h&62914560)===h?yo-se():(h&4194048)===h?Xp-se():0;if(Te=l1(fe,Te),Te!==null){Ys=h,t.cancelPendingCommit=Te(cg.bind(null,t,s,h,a,l,d,v,S,k,ae,fe,null,P,ee)),Sa(t,h,v,!K);return}}cg(t,s,h,a,l,d,v,S,k)}function jw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],h=d.getSnapshot;d=d.value;try{if(!Vn(h(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(t,s,a,l){s&=~dd,s&=~Ja,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var h=31-St(d),v=1<<h;l[h]=-1,d&=~v}a!==0&&Mn(t,a,s)}function jo(){return(tt&6)===0?(Gi(0),!1):!0}function gd(){if(Ge!==null){if(it===0)var t=Ge.return;else t=Ge,Us=Qa=null,Du(t),zr=null,Ti=0,t=Ge;for(;t!==null;)Dp(t.alternate,t),t=t.return;Ge=null}}function Vr(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Vw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ys=0,gd(),ht=t,Ge=a=Os(t.current,null),Ke=s,it=0,Gn=null,va=!1,Zr=_t(t,s),ud=!1,Hr=Yn=dd=Ja=ba=Mt=0,Un=Fi=null,fd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-St(l),h=1<<d;s|=t[d],l&=~h}return Gs=s,Vl(),a}function ng(t,s){Qe=null,O.H=Ui,s===Dr||s===Xl?(s=vm(),it=3):s===yu?(s=vm(),it=4):it=s===Yu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ge===null&&(Mt=1,fo(t,Jn(s,t.current)))}function sg(){var t=Fn.current;return t===null?!0:(Ke&4194048)===Ke?ss===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?t===ss:!1}function ag(){var t=O.H;return O.H=Ui,t===null?Ui:t}function rg(){var t=O.A;return O.A=ww,t}function Eo(){Mt=4,va||(Ke&4194048)!==Ke&&Fn.current!==null||(Zr=!0),(ba&134217727)===0&&(Ja&134217727)===0||ht===null||Sa(ht,Ke,Yn,!1)}function xd(t,s,a){var l=tt;tt|=2;var d=ag(),h=rg();(ht!==t||Ke!==s)&&(So=null,Vr(t,s)),s=!1;var v=Mt;e:do try{if(it!==0&&Ge!==null){var S=Ge,k=Gn;switch(it){case 8:gd(),v=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var K=it;if(it=0,Gn=null,Qr(t,S,k,K),a&&Zr){v=0;break e}break;default:K=it,it=0,Gn=null,Qr(t,S,k,K)}}Ew(),v=Mt;break}catch(ae){ng(t,ae)}while(!0);return s&&t.shellSuspendCounter++,Us=Qa=null,tt=l,O.H=d,O.A=h,Ge===null&&(ht=null,Ke=0,Vl()),v}function Ew(){for(;Ge!==null;)ig(Ge)}function _w(t,s){var a=tt;tt|=2;var l=ag(),d=rg();ht!==t||Ke!==s?(So=null,wo=se()+500,Vr(t,s)):Zr=_t(t,s);e:do try{if(it!==0&&Ge!==null){s=Ge;var h=Gn;t:switch(it){case 1:it=0,Gn=null,Qr(t,s,h,1);break;case 2:case 9:if(gm(h)){it=0,Gn=null,lg(s);break}s=function(){it!==2&&it!==9||ht!==t||(it=7),js(t)},h.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:gm(h)?(it=0,Gn=null,lg(s)):(it=0,Gn=null,Qr(t,s,h,7));break;case 5:var v=null;switch(Ge.tag){case 26:v=Ge.memoizedState;case 5:case 27:var S=Ge;if(v?Ig(v):S.stateNode.complete){it=0,Gn=null;var k=S.sibling;if(k!==null)Ge=k;else{var K=S.return;K!==null?(Ge=K,_o(K)):Ge=null}break t}}it=0,Gn=null,Qr(t,s,h,5);break;case 6:it=0,Gn=null,Qr(t,s,h,6);break;case 8:gd(),Mt=6;break e;default:throw Error(i(462))}}Cw();break}catch(ae){ng(t,ae)}while(!0);return Us=Qa=null,O.H=l,O.A=d,tt=a,Ge!==null?0:(ht=null,Ke=0,Vl(),Mt)}function Cw(){for(;Ge!==null&&!A();)ig(Ge)}function ig(t){var s=Ap(t.alternate,t,Gs);t.memoizedProps=t.pendingProps,s===null?_o(t):Ge=s}function lg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Ep(a,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=Ep(a,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Du(s);default:Dp(a,s),s=Ge=rm(s,Gs),s=Ap(a,s,Gs)}t.memoizedProps=t.pendingProps,s===null?_o(t):Ge=s}function Qr(t,s,a,l){Us=Qa=null,Du(s),zr=null,Ti=0;var d=s.return;try{if(mw(t,d,s,a,Ke)){Mt=1,fo(t,Jn(a,t.current)),Ge=null;return}}catch(h){if(d!==null)throw Ge=d,h;Mt=1,fo(t,Jn(a,t.current)),Ge=null;return}s.flags&32768?(Xe||l===1?t=!0:Zr||(Ke&536870912)!==0?t=!1:(va=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),og(s,t)):_o(s)}function _o(t){var s=t;do{if((s.flags&32768)!==0){og(s,va);return}t=s.return;var a=xw(s.alternate,s,Gs);if(a!==null){Ge=a;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=t}while(s!==null);Mt===0&&(Mt=5)}function og(t,s){do{var a=vw(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);Mt=6,Ge=null}function cg(t,s,a,l,d,h,v,S,k){t.cancelPendingCommit=null;do Co();while(nn!==0);if((tt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=ru,Tt(t,a,h,v,S,k),t===ht&&(Ge=ht=null,Ke=0),$r=s,wa=t,Ys=a,hd=h,md=d,Pp=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Aw(ue,function(){return mg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,d=X.p,X.p=2,v=tt,tt|=4;try{bw(t,s,a)}finally{tt=v,X.p=d,O.T=l}}nn=1,ug(),dg(),fg()}}function ug(){if(nn===1){nn=0;var t=wa,s=$r,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=X.p;X.p=2;var d=tt;tt|=4;try{Qp(s,t);var h=Td,v=Wh(t.containerInfo),S=h.focusedElem,k=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Kh(S.ownerDocument.documentElement,S)){if(k!==null&&eu(S)){var K=k.start,ae=k.end;if(ae===void 0&&(ae=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ae,S.value.length);else{var fe=S.ownerDocument||document,P=fe&&fe.defaultView||window;if(P.getSelection){var ee=P.getSelection(),Te=S.textContent.length,Ue=Math.min(k.start,Te),dt=k.end===void 0?Ue:Math.min(k.end,Te);!ee.extend&&Ue>dt&&(v=dt,dt=Ue,Ue=v);var B=Yh(S,Ue),z=Yh(S,dt);if(B&&z&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var Y=fe.createRange();Y.setStart(B.node,B.offset),ee.removeAllRanges(),Ue>dt?(ee.addRange(Y),ee.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),ee.addRange(Y))}}}}for(fe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&fe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var oe=fe[S];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Bo=!!kd,Td=kd=null}finally{tt=d,X.p=l,O.T=a}}t.current=s,nn=2}}function dg(){if(nn===2){nn=0;var t=wa,s=$r,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=X.p;X.p=2;var d=tt;tt|=4;try{qp(t,s.alternate,s)}finally{tt=d,X.p=l,O.T=a}}nn=3}}function fg(){if(nn===4||nn===3){nn=0,me();var t=wa,s=$r,a=Ys,l=Pp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,$r=wa=null,hg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ya=null),pn(a),s=s.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(en,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=O.T,d=X.p,X.p=2,O.T=null;try{for(var h=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];h(S.value,{componentStack:S.stack})}}finally{O.T=s,X.p=d}}(Ys&3)!==0&&Co(),js(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===pd?Ii++:(Ii=0,pd=t):Ii=0,Gi(0)}}function hg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Ni(s)))}function Co(){return ug(),dg(),fg(),mg()}function mg(){if(nn!==5)return!1;var t=wa,s=hd;hd=0;var a=pn(Ys),l=O.T,d=X.p;try{X.p=32>a?32:a,O.T=null,a=md,md=null;var h=wa,v=Ys;if(nn=0,$r=wa=null,Ys=0,(tt&6)!==0)throw Error(i(331));var S=tt;if(tt|=4,Kp(h.current),Ip(h,h.current,v,a),tt=S,Gi(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(en,h)}catch{}return!0}finally{X.p=d,O.T=l,hg(t,s)}}function pg(t,s,a){s=Jn(a,s),s=Gu(t.stateNode,s,2),t=ma(t,s,2),t!==null&&(tn(t,2),js(t))}function lt(t,s,a){if(t.tag===3)pg(t,t,a);else for(;s!==null;){if(s.tag===3){pg(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){t=Jn(a,t),a=gp(2),l=ma(s,a,2),l!==null&&(xp(a,l,s,t),tn(l,2),js(l));break}}s=s.return}}function vd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Sw;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(ud=!0,d.add(a),t=Nw.bind(null,t,s,a),s.then(t,t))}function Nw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Ke&a)===a&&(Mt===4||Mt===3&&(Ke&62914560)===Ke&&300>se()-yo?(tt&2)===0&&Vr(t,0):dd|=a,Hr===Ke&&(Hr=0)),js(t)}function gg(t,s){s===0&&(s=ln()),t=Ha(t,s),t!==null&&(tn(t,s),js(t))}function kw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),gg(t,a)}function Tw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),gg(t,a)}function Aw(t,s){return N(t,s)}var No=null,Fr=null,bd=!1,ko=!1,yd=!1,ja=0;function js(t){t!==Fr&&t.next===null&&(Fr===null?No=Fr=t:Fr=Fr.next=t),ko=!0,bd||(bd=!0,Dw())}function Gi(t,s){if(!yd&&ko){yd=!0;do for(var a=!1,l=No;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var v=l.suspendedLanes,S=l.pingedLanes;h=(1<<31-St(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,yg(l,h))}else h=Ke,h=$t(l,l===ht?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||_t(l,h)||(a=!0,yg(l,h));l=l.next}while(a);yd=!1}}function Mw(){xg()}function xg(){ko=bd=!1;var t=0;ja!==0&&$w()&&(t=ja);for(var s=se(),a=null,l=No;l!==null;){var d=l.next,h=vg(l,s);h===0?(l.next=null,a===null?No=d:a.next=d,d===null&&(Fr=a)):(a=l,(t!==0||(h&3)!==0)&&(ko=!0)),l=d}nn!==0&&nn!==5||Gi(t),ja!==0&&(ja=0)}function vg(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-St(h),S=1<<v,k=d[v];k===-1?((S&a)===0||(S&l)!==0)&&(d[v]=rn(S,s)):k<=s&&(t.expiredLanes|=S),h&=~S}if(s=ht,a=Ke,a=$t(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&V(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_t(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&V(l),pn(a)){case 2:case 8:a=He;break;case 32:a=ue;break;case 268435456:a=Be;break;default:a=ue}return l=bg.bind(null,t),a=N(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&V(l),t.callbackPriority=2,t.callbackNode=null,2}function bg(t,s){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Co()&&t.callbackNode!==a)return null;var l=Ke;return l=$t(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(eg(t,l,s),vg(t,se()),t.callbackNode!=null&&t.callbackNode===a?bg.bind(null,t):null)}function yg(t,s){if(Co())return null;eg(t,s,!0)}function Dw(){Qw(function(){(tt&6)!==0?N(je,Mw):xg()})}function wd(){if(ja===0){var t=Ar;t===0&&(t=ks,ks<<=1,(ks&261888)===0&&(ks=256)),ja=t}return ja}function wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ol(""+t)}function Sg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function zw(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var h=wg((d[jn]||null).action),v=l.submitter;v&&(s=(s=v[jn]||null)?wg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new ql("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var k=v?Sg(d,v):new FormData(d);Hu(a,{pending:!0,data:k,method:d.method,action:h},null,k)}}else typeof h=="function"&&(S.preventDefault(),k=v?Sg(d,v):new FormData(d),Hu(a,{pending:!0,data:k,method:d.method,action:h},h,k))},currentTarget:d}]})}}for(var Sd=0;Sd<au.length;Sd++){var jd=au[Sd],Rw=jd.toLowerCase(),Ow=jd[0].toUpperCase()+jd.slice(1);fs(Rw,"on"+Ow)}fs(Jh,"onAnimationEnd"),fs(em,"onAnimationIteration"),fs(tm,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Xy,"onTransitionRun"),fs(Py,"onTransitionStart"),fs(Jy,"onTransitionCancel"),fs(nm,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function jg(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var h=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],k=S.instance,K=S.currentTarget;if(S=S.listener,k!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=K;try{h(d)}catch(ae){$l(ae)}d.currentTarget=null,h=k}else for(v=0;v<l.length;v++){if(S=l[v],k=S.instance,K=S.currentTarget,S=S.listener,k!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=K;try{h(d)}catch(ae){$l(ae)}d.currentTarget=null,h=k}}}}function Ye(t,s){var a=s[hr];a===void 0&&(a=s[hr]=new Set);var l=t+"__bubble";a.has(l)||(Eg(s,t,2,!1),a.add(l))}function Ed(t,s,a){var l=0;s&&(l|=4),Eg(a,t,l,s)}var To="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[To]){t[To]=!0,Ml.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[To]||(s[To]=!0,Ed("selectionchange",!1,s))}}function Eg(t,s,a,l){switch(Jg(s)){case 2:var d=u1;break;case 8:d=d1;break;default:d=Zd}a=d.bind(null,s,a,t),d=void 0,!Fc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Cd(t,s,a,l,d){var h=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=sa(S),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=h=v;continue e}S=S.parentNode}}l=l.return}Th(function(){var K=h,ae=Vc(a),fe=[];e:{var P=sm.get(t);if(P!==void 0){var ee=ql,Te=t;switch(t){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":ee=Ty;break;case"focusin":Te="focus",ee=Kc;break;case"focusout":Te="blur",ee=Kc;break;case"beforeblur":case"afterblur":ee=Kc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Dy;break;case Jh:case em:case tm:ee=yy;break;case nm:ee=Ry;break;case"scroll":case"scrollend":ee=py;break;case"wheel":ee=Ly;break;case"copy":case"cut":case"paste":ee=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Rh;break;case"toggle":case"beforetoggle":ee=By}var Ue=(s&4)!==0,dt=!Ue&&(t==="scroll"||t==="scrollend"),B=Ue?P!==null?P+"Capture":null:P;Ue=[];for(var z=K,Y;z!==null;){var oe=z;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||B===null||(oe=gi(z,B),oe!=null&&Ue.push(Ki(z,oe,Y))),dt)break;z=z.return}0<Ue.length&&(P=new ee(P,Te,null,a,ae),fe.push({event:P,listeners:Ue}))}}if((s&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",P&&a!==$c&&(Te=a.relatedTarget||a.fromElement)&&(sa(Te)||Te[na]))break e;if((ee||P)&&(P=ae.window===ae?ae:(P=ae.ownerDocument)?P.defaultView||P.parentWindow:window,ee?(Te=a.relatedTarget||a.toElement,ee=K,Te=Te?sa(Te):null,Te!==null&&(dt=u(Te),Ue=Te.tag,Te!==dt||Ue!==5&&Ue!==27&&Ue!==6)&&(Te=null)):(ee=null,Te=K),ee!==Te)){if(Ue=Dh,oe="onMouseLeave",B="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=Rh,oe="onPointerLeave",B="onPointerEnter",z="pointer"),dt=ee==null?P:Ms(ee),Y=Te==null?P:Ms(Te),P=new Ue(oe,z+"leave",ee,a,ae),P.target=dt,P.relatedTarget=Y,oe=null,sa(ae)===K&&(Ue=new Ue(B,z+"enter",Te,a,ae),Ue.target=Y,Ue.relatedTarget=dt,oe=Ue),dt=oe,ee&&Te)t:{for(Ue=Uw,B=ee,z=Te,Y=0,oe=B;oe;oe=Ue(oe))Y++;oe=0;for(var Re=z;Re;Re=Ue(Re))oe++;for(;0<Y-oe;)B=Ue(B),Y--;for(;0<oe-Y;)z=Ue(z),oe--;for(;Y--;){if(B===z||z!==null&&B===z.alternate){Ue=B;break t}B=Ue(B),z=Ue(z)}Ue=null}else Ue=null;ee!==null&&_g(fe,P,ee,Ue,!1),Te!==null&&dt!==null&&_g(fe,dt,Te,Ue,!0)}}e:{if(P=K?Ms(K):window,ee=P.nodeName&&P.nodeName.toLowerCase(),ee==="select"||ee==="input"&&P.type==="file")var Je=$h;else if(Zh(P))if(Vh)Je=Yy;else{Je=Iy;var Me=Fy}else ee=P.nodeName,!ee||ee.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?K&&Hc(K.elementType)&&(Je=$h):Je=Gy;if(Je&&(Je=Je(t,K))){Hh(fe,Je,a,ae);break e}Me&&Me(t,P,K),t==="focusout"&&K&&P.type==="number"&&K.memoizedProps.value!=null&&Zc(P,"number",P.value)}switch(Me=K?Ms(K):window,t){case"focusin":(Zh(Me)||Me.contentEditable==="true")&&(Sr=Me,tu=K,Ei=null);break;case"focusout":Ei=tu=Sr=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Xh(fe,a,ae);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":Xh(fe,a,ae)}var Ie;if(Xc)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else wr?Bh(t,a)&&(We="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(Oh&&a.locale!=="ko"&&(wr||We!=="onCompositionStart"?We==="onCompositionEnd"&&wr&&(Ie=Ah()):(la=ae,Ic="value"in la?la.value:la.textContent,wr=!0)),Me=Ao(K,We),0<Me.length&&(We=new zh(We,t,null,a,ae),fe.push({event:We,listeners:Me}),Ie?We.data=Ie:(Ie=qh(a),Ie!==null&&(We.data=Ie)))),(Ie=Zy?Hy(t,a):$y(t,a))&&(We=Ao(K,"onBeforeInput"),0<We.length&&(Me=new zh("onBeforeInput","beforeinput",null,a,ae),fe.push({event:Me,listeners:We}),Me.data=Ie)),zw(fe,t,K,a,ae)}jg(fe,s)})}function Ki(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Ao(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=gi(t,a),d!=null&&l.unshift(Ki(t,d,h)),d=gi(t,s),d!=null&&l.push(Ki(t,d,h))),t.tag===3)return l;t=t.return}return[]}function Uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _g(t,s,a,l,d){for(var h=s._reactName,v=[];a!==null&&a!==l;){var S=a,k=S.alternate,K=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||K===null||(k=K,d?(K=gi(a,h),K!=null&&v.unshift(Ki(a,K,k))):d||(K=gi(a,h),K!=null&&v.push(Ki(a,K,k)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var Bw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function Cg(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(qw,"")}function Ng(t,s){return s=Cg(s),Cg(t)===s}function ut(t,s,a,l,d,h){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||vr(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&vr(t,""+l);break;case"className":gr(t,"class",l);break;case"tabIndex":gr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(t,a,l);break;case"style":Nh(t,l,h);break;case"data":if(s!=="object"){gr(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ol(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&ut(t,s,"name",d.name,d,null),ut(t,s,"formEncType",d.formEncType,d,null),ut(t,s,"formMethod",d.formMethod,d,null),ut(t,s,"formTarget",d.formTarget,d,null)):(ut(t,s,"encType",d.encType,d,null),ut(t,s,"method",d.method,d,null),ut(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ol(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zs);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ol(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ds(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ds(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ds(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ds(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hy.get(a)||a,pr(t,a,l))}}function Nd(t,s,a,l,d,h){switch(a){case"style":Nh(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vr(t,l):(typeof l=="number"||typeof l=="bigint")&&vr(t,""+l);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),h=t[jn]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function bn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var l=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(t,s,h,v,a,null)}}d&&ut(t,s,"srcSet",a.srcSet,a,null),l&&ut(t,s,"src",a.src,a,null);return;case"input":Ye("invalid",t);var S=h=v=d=null,k=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":d=ae;break;case"type":v=ae;break;case"checked":k=ae;break;case"defaultChecked":K=ae;break;case"value":h=ae;break;case"defaultValue":S=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ut(t,s,l,ae,a,null)}}Rl(t,h,S,k,K,v,d,!1);return;case"select":Ye("invalid",t),l=v=h=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:ut(t,s,d,S,a,null)}s=h,a=v,t.multiple=!!l,s!=null?xr(t,!!l,s,!1):a!=null&&xr(t,!!l,a,!0);return;case"textarea":Ye("invalid",t),h=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ut(t,s,v,S,a,null)}_h(t,l,d,h);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,s,k,l,a,null)}return;case"dialog":Ye("beforetoggle",t),Ye("toggle",t),Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Ye(Yi[l],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(t,s,K,l,a,null)}return;default:if(Hc(s)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Nd(t,s,ae,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ut(t,s,S,l,a,null))}function Zw(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,k=null,K=null,ae=null;for(ee in a){var fe=a[ee];if(a.hasOwnProperty(ee)&&fe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":k=fe;default:l.hasOwnProperty(ee)||ut(t,s,ee,null,l,fe)}}for(var P in l){var ee=l[P];if(fe=a[P],l.hasOwnProperty(P)&&(ee!=null||fe!=null))switch(P){case"type":h=ee;break;case"name":d=ee;break;case"checked":K=ee;break;case"defaultChecked":ae=ee;break;case"value":v=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==fe&&ut(t,s,P,ee,l,fe)}}pi(t,v,S,k,K,ae,h,d);return;case"select":ee=v=S=P=null;for(h in a)if(k=a[h],a.hasOwnProperty(h)&&k!=null)switch(h){case"value":break;case"multiple":ee=k;default:l.hasOwnProperty(h)||ut(t,s,h,null,l,k)}for(d in l)if(h=l[d],k=a[d],l.hasOwnProperty(d)&&(h!=null||k!=null))switch(d){case"value":P=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==k&&ut(t,s,d,h,l,k)}s=S,a=v,l=ee,P!=null?xr(t,!!a,P,!1):!!l!=!!a&&(s!=null?xr(t,!!a,s,!0):xr(t,!!a,a?[]:"",!1));return;case"textarea":ee=P=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(t,s,S,null,l,d)}for(v in l)if(d=l[v],h=a[v],l.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":P=d;break;case"defaultValue":ee=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ut(t,s,v,d,l,h)}Eh(t,P,ee);return;case"option":for(var Te in a)if(P=a[Te],a.hasOwnProperty(Te)&&P!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:ut(t,s,Te,null,l,P)}for(k in l)if(P=l[k],ee=a[k],l.hasOwnProperty(k)&&P!==ee&&(P!=null||ee!=null))switch(k){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ut(t,s,k,P,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)P=a[Ue],a.hasOwnProperty(Ue)&&P!=null&&!l.hasOwnProperty(Ue)&&ut(t,s,Ue,null,l,P);for(K in l)if(P=l[K],ee=a[K],l.hasOwnProperty(K)&&P!==ee&&(P!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:ut(t,s,K,P,l,ee)}return;default:if(Hc(s)){for(var dt in a)P=a[dt],a.hasOwnProperty(dt)&&P!==void 0&&!l.hasOwnProperty(dt)&&Nd(t,s,dt,void 0,l,P);for(ae in l)P=l[ae],ee=a[ae],!l.hasOwnProperty(ae)||P===ee||P===void 0&&ee===void 0||Nd(t,s,ae,P,l,ee);return}}for(var B in a)P=a[B],a.hasOwnProperty(B)&&P!=null&&!l.hasOwnProperty(B)&&ut(t,s,B,null,l,P);for(fe in l)P=l[fe],ee=a[fe],!l.hasOwnProperty(fe)||P===ee||P==null&&ee==null||ut(t,s,fe,P,l,ee)}function kg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&kg(v)){for(v=0,S=d.responseEnd,l+=1;l<a.length;l++){var k=a[l],K=k.startTime;if(K>S)break;var ae=k.transferSize,fe=k.initiatorType;ae&&kg(fe)&&(k=k.responseEnd,v+=ae*(k<S?1:(S-K)/(k-K)))}if(--l,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kd=null,Td=null;function Mo(t){return t.nodeType===9?t:t.ownerDocument}function Tg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Ad(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Md=null;function $w(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var Mg=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(t){return Dg.resolve(null).then(t).catch(Fw)}:Mg;function Fw(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function zg(t,s){var a=s,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Kr(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wi(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wi(a);for(var h=a.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[As]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Wi(t.ownerDocument.body);a=d}while(a);Kr(s)}function Rg(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Dd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Iw(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[As])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=as(t.nextSibling),t===null)break}return null}function Gw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=as(t.nextSibling),t===null))return null;return t}function Og(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=as(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Yw(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function as(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Od=null;function Lg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return as(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Ug(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Bg(t,s,a){switch(s=Mo(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Wi(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);hi(t)}var rs=new Map,qg=new Set;function Do(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ks=X.d;X.d={f:Kw,r:Ww,D:Xw,C:Pw,L:Jw,m:e1,X:n1,S:t1,M:s1};function Kw(){var t=Ks.f(),s=jo();return t||s}function Ww(t){var s=aa(t);s!==null&&s.tag===5&&s.type==="form"?np(s):Ks.r(t)}var Ir=typeof document>"u"?null:document;function Zg(t,s,a){var l=Ir;if(l&&typeof s=="string"&&s){var d=En(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),qg.has(d)||(qg.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),bn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function Xw(t){Ks.D(t),Zg("dns-prefetch",t,null)}function Pw(t,s){Ks.C(t,s),Zg("preconnect",t,s)}function Jw(t,s,a){Ks.L(t,s,a);var l=Ir;if(l&&t&&s){var d='link[rel="preload"][as="'+En(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+En(a.imageSizes)+'"]')):d+='[href="'+En(t)+'"]';var h=d;switch(s){case"style":h=Gr(t);break;case"script":h=Yr(t)}rs.has(h)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),rs.set(h,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Xi(h))||s==="script"&&l.querySelector(Pi(h))||(s=l.createElement("link"),bn(s,"link",t),Vt(s),l.head.appendChild(s)))}}function e1(t,s){Ks.m(t,s);var a=Ir;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(t)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yr(t)}if(!rs.has(h)&&(t=y({rel:"modulepreload",href:t},s),rs.set(h,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pi(h)))return}l=a.createElement("link"),bn(l,"link",t),Vt(l),a.head.appendChild(l)}}}function t1(t,s,a){Ks.S(t,s,a);var l=Ir;if(l&&t){var d=ra(l).hoistableStyles,h=Gr(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Xi(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=rs.get(h))&&Ld(t,a);var k=v=l.createElement("link");Vt(k),bn(k,"link",t),k._p=new Promise(function(K,ae){k.onload=K,k.onerror=ae}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zo(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function n1(t,s){Ks.X(t,s);var a=Ir;if(a&&t){var l=ra(a).hoistableScripts,d=Yr(t),h=l.get(d);h||(h=a.querySelector(Pi(d)),h||(t=y({src:t,async:!0},s),(s=rs.get(d))&&Ud(t,s),h=a.createElement("script"),Vt(h),bn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function s1(t,s){Ks.M(t,s);var a=Ir;if(a&&t){var l=ra(a).hoistableScripts,d=Yr(t),h=l.get(d);h||(h=a.querySelector(Pi(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=rs.get(d))&&Ud(t,s),h=a.createElement("script"),Vt(h),bn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function Hg(t,s,a,l){var d=(d=F.current)?Do(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Gr(a.href),a=ra(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Gr(a.href);var h=ra(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(Xi(t)))&&!h._p&&(v.instance=h,v.state.loading=5),rs.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rs.set(t,a),h||a1(d,t,a,v.state))),s&&l===null)throw Error(i(528,""));return v}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yr(a),a=ra(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Gr(t){return'href="'+En(t)+'"'}function Xi(t){return'link[rel="stylesheet"]['+t+"]"}function $g(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function a1(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),bn(s,"link",a),Vt(s),t.head.appendChild(s))}function Yr(t){return'[src="'+En(t)+'"]'}function Pi(t){return"script[async]"+t}function Vg(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+En(a.href)+'"]');if(l)return s.instance=l,Vt(l),l;var d=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),bn(l,"style",d),zo(l,a.precedence,t),s.instance=l;case"stylesheet":d=Gr(a.href);var h=t.querySelector(Xi(d));if(h)return s.state.loading|=4,s.instance=h,Vt(h),h;l=$g(a),(d=rs.get(d))&&Ld(l,d),h=(t.ownerDocument||t).createElement("link"),Vt(h);var v=h;return v._p=new Promise(function(S,k){v.onload=S,v.onerror=k}),bn(h,"link",l),s.state.loading|=4,zo(h,a.precedence,t),s.instance=h;case"script":return h=Yr(a.src),(d=t.querySelector(Pi(h)))?(s.instance=d,Vt(d),d):(l=a,(d=rs.get(h))&&(l=y({},a),Ud(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Vt(d),bn(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,zo(l,a.precedence,t));return s.instance}function zo(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Ld(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Ud(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ro=null;function Qg(t,s,a){if(Ro===null){var l=new Map,d=Ro=new Map;d.set(a,l)}else d=Ro,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var h=a[d];if(!(h[As]||h[gt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=l.get(v);S?S.push(h):l.set(v,[h])}}return l}function Fg(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function r1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ig(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i1(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Gr(l.href),h=s.querySelector(Xi(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Oo.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=h,Vt(h);return}h=s.ownerDocument||s,l=$g(l),(d=rs.get(d))&&Ld(l,d),h=h.createElement("link"),Vt(h);var v=h;v._p=new Promise(function(S,k){v.onload=S,v.onerror=k}),bn(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oo.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bd=0;function l1(t,s){return t.stylesheets&&t.count===0&&Uo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&Bd===0&&(Bd=62500*Hw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Bd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lo=null;function Uo(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lo=new Map,s.forEach(o1,t),Lo=null,Oo.call(t))}function o1(t,s){if(!(s.state.loading&4)){var a=Lo.get(t);if(a)var l=a.get(null);else{a=new Map,Lo.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),h=a.get(v)||l,h===l&&a.set(null,d),a.set(v,d),this.count++,l=Oo.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Ji={$$typeof:L,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function c1(t,s,a,l,d,h,v,S,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Gg(t,s,a,l,d,h,v,S,k,K,ae,fe){return t=new c1(t,s,a,v,k,K,ae,fe,S),s=1,h===!0&&(s|=24),h=Qn(3,null,null,s),t.current=h,h.stateNode=t,s=xu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:s},wu(h),t}function Yg(t){return t?(t=_r,t):_r}function Kg(t,s,a,l,d,h){d=Yg(d),l.context===null?l.context=d:l.pendingContext=d,l=ha(s),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ma(t,l,s),a!==null&&(Bn(a,t,s),Mi(a,t,s))}function Wg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function qd(t,s){Wg(t,s),(t=t.alternate)&&Wg(t,s)}function Xg(t){if(t.tag===13||t.tag===31){var s=Ha(t,67108864);s!==null&&Bn(s,t,67108864),qd(t,67108864)}}function Pg(t){if(t.tag===13||t.tag===31){var s=Kn();s=on(s);var a=Ha(t,s);a!==null&&Bn(a,t,s),qd(t,s)}}var Bo=!0;function u1(t,s,a,l){var d=O.T;O.T=null;var h=X.p;try{X.p=2,Zd(t,s,a,l)}finally{X.p=h,O.T=d}}function d1(t,s,a,l){var d=O.T;O.T=null;var h=X.p;try{X.p=8,Zd(t,s,a,l)}finally{X.p=h,O.T=d}}function Zd(t,s,a,l){if(Bo){var d=Hd(l);if(d===null)Cd(t,s,l,qo,a),e0(t,l);else if(h1(d,t,s,a,l))l.stopPropagation();else if(e0(t,l),s&4&&-1<f1.indexOf(t)){for(;d!==null;){var h=aa(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Et(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var k=1<<31-St(v);S.entanglements[1]|=k,v&=~k}js(h),(tt&6)===0&&(wo=se()+500,Gi(0))}}break;case 31:case 13:S=Ha(h,2),S!==null&&Bn(S,h,2),jo(),qd(h,2)}if(h=Hd(l),h===null&&Cd(t,s,l,qo,a),h===d)break;d=h}d!==null&&l.stopPropagation()}else Cd(t,s,l,null,a)}}function Hd(t){return t=Vc(t),$d(t)}var qo=null;function $d(t){if(qo=null,t=sa(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return qo=t,null}function Jg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case je:return 2;case He:return 8;case ue:case Se:return 32;case Be:return 268435456;default:return 32}default:return 32}}var Vd=!1,_a=null,Ca=null,Na=null,el=new Map,tl=new Map,ka=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(t,s){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":el.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(s.pointerId)}}function nl(t,s,a,l,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},s!==null&&(s=aa(s),s!==null&&Xg(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function h1(t,s,a,l,d){switch(s){case"focusin":return _a=nl(_a,t,s,a,l,d),!0;case"dragenter":return Ca=nl(Ca,t,s,a,l,d),!0;case"mouseover":return Na=nl(Na,t,s,a,l,d),!0;case"pointerover":var h=d.pointerId;return el.set(h,nl(el.get(h)||null,t,s,a,l,d)),!0;case"gotpointercapture":return h=d.pointerId,tl.set(h,nl(tl.get(h)||null,t,s,a,l,d)),!0}return!1}function t0(t){var s=sa(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,us(t.priority,function(){Pg(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,us(t.priority,function(){Pg(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$c=l,a.target.dispatchEvent(l),$c=null}else return s=aa(a),s!==null&&Xg(s),t.blockedOn=a,!1;s.shift()}return!0}function n0(t,s,a){Zo(t)&&a.delete(s)}function m1(){Vd=!1,_a!==null&&Zo(_a)&&(_a=null),Ca!==null&&Zo(Ca)&&(Ca=null),Na!==null&&Zo(Na)&&(Na=null),el.forEach(n0),tl.forEach(n0)}function Ho(t,s){t.blockedOn===s&&(t.blockedOn=null,Vd||(Vd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m1)))}var $o=null;function s0(t){$o!==t&&($o=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$o===t&&($o=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if($d(l||a)===null)continue;break}var h=aa(a);h!==null&&(t.splice(s,3),s-=3,Hu(h,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Kr(t){function s(k){return Ho(k,t)}_a!==null&&Ho(_a,t),Ca!==null&&Ho(Ca,t),Na!==null&&Ho(Na,t),el.forEach(s),tl.forEach(s);for(var a=0;a<ka.length;a++){var l=ka[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ka.length&&(a=ka[0],a.blockedOn===null);)t0(a),a.blockedOn===null&&ka.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],h=a[l+1],v=d[jn]||null;if(typeof h=="function")v||s0(a);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[jn]||null)S=v.formAction;else if($d(d)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),s0(a)}}}function a0(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Qd(t){this._internalRoot=t}Vo.prototype.render=Qd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Kn();Kg(a,l,t,s,null,null)},Vo.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Kg(t.current,2,null,t,null,null),jo(),s[na]=null}};function Vo(t){this._internalRoot=t}Vo.prototype.unstable_scheduleHydration=function(t){if(t){var s=cn();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ka.length&&s!==0&&s<ka[a].priority;a++);ka.splice(a,0,t),a===0&&t0(t)}};var r0=n.version;if(r0!=="19.2.0")throw Error(i(527,r0,"19.2.0"));X.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var p1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{en=Qo.inject(p1),Ot=Qo}catch{}}return al.createRoot=function(t,s){if(!c(t))throw Error(i(299));var a=!1,l="",d=fp,h=hp,v=mp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Gg(t,1,!1,null,null,a,l,null,d,h,v,a0),t[na]=s.current,_d(t),new Qd(s)},al.hydrateRoot=function(t,s,a){if(!c(t))throw Error(i(299));var l=!1,d="",h=fp,v=hp,S=mp,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),s=Gg(t,1,!0,s,a??null,l,d,k,h,v,S,a0),s.context=Yg(null),a=s.current,l=Kn(),l=on(l),d=ha(l),d.callback=null,ma(a,d,l),a=l,s.current.lanes=a,tn(s,a),js(s),t[na]=s.current,_d(t),new Vo(s)},al.version="19.2.0",al}var p0;function E1(){if(p0)return Gd.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Gd.exports=j1(),Gd.exports}var _1=E1();const C1=cv(_1),Sc=p.createContext(null);function N1({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const E=c.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}r(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const f=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),m=p.useCallback((x,b)=>{const y=new URL(x,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},E=`${w.pathname}${w.search}${w.hash}`,T=b?.replace?"replace":"push";u({kind:T,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return o.jsx(Sc.Provider,{value:g,children:e})}function os(){const e=p.useContext(Sc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function wn(){const e=p.useContext(Sc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function k1(e,n=!0){const r=p.useContext(Sc);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var oi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},T1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},A1=class{#e=T1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},sr=new A1;function M1(e){setTimeout(e,0)}var lr=typeof window>"u"||"Deno"in globalThis;function kn(){}function D1(e,n){return typeof e=="function"?e(n):e}function vf(e){return typeof e=="number"&&e>=0&&e!==1/0}function dv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function za(e,n){return typeof e=="function"?e(n):e}function is(e,n){return typeof e=="function"?e(n):e}function g0(e,n){const{type:r="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==$f(f,n.options))return!1}else if(!hl(n.queryKey,f))return!1}if(r!=="all"){const g=n.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function x0(e,n){const{exact:r,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(or(n.options.mutationKey)!==or(u))return!1}else if(!hl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function $f(e,n){return(n?.queryKeyHashFn||or)(e)}function or(e){return JSON.stringify(e,(n,r)=>bf(r)?Object.keys(r).sort().reduce((i,c)=>(i[c]=r[c],i),{}):r)}function hl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>hl(e[r],n[r])):!1}var z1=Object.prototype.hasOwnProperty;function fv(e,n){if(e===n)return e;const r=v0(e)&&v0(n);if(!r&&!(bf(e)&&bf(n)))return n;const c=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),f=u.length,m=r?new Array(f):{};let g=0;for(let x=0;x<f;x++){const b=r?x:u[x],y=e[b],w=n[b];if(y===w){m[b]=y,(r?x<c:z1.call(e,b))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const E=fv(y,w);m[b]=E,E===y&&g++}return c===f&&g===c?e:m}function rc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function v0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bf(e){if(!b0(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!b0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function b0(e){return Object.prototype.toString.call(e)==="[object Object]"}function R1(e){return new Promise(n=>{sr.setTimeout(n,e)})}function yf(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?fv(e,n):n}function O1(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function L1(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var Vf=Symbol();function hv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===Vf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mv(e,n){return typeof e=="function"?e(...n):!!e}var U1=class extends oi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!lr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Qf=new U1;function wf(){let e,n;const r=new Promise((c,u)=>{e=c,n=u});r.status="pending",r.catch(()=>{});function i(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},r.reject=c=>{i({status:"rejected",reason:c}),n(c)},r}var B1=M1;function q1(){let e=[],n=0,r=m=>{m()},i=m=>{m()},c=B1;const u=m=>{n?e.push(m):c(()=>{r(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;n++;try{g=m()}finally{n--,n||f()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var an=q1(),Z1=class extends oi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!lr&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ic=new Z1;function H1(e){return Math.min(1e3*2**e,3e4)}function pv(e){return(e??"online")==="online"?ic.isOnline():!0}var Sf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function gv(e){let n=!1,r=0,i;const c=wf(),u=()=>c.status!=="pending",f=_=>{if(!u()){const D=new Sf(_);w(D),e.onCancel?.(D)}},m=()=>{n=!0},g=()=>{n=!1},x=()=>Qf.isFocused()&&(e.networkMode==="always"||ic.isOnline())&&e.canRun(),b=()=>pv(e.networkMode)&&e.canRun(),y=_=>{u()||(i?.(),c.resolve(_))},w=_=>{u()||(i?.(),c.reject(_))},E=()=>new Promise(_=>{i=D=>{(u()||x())&&_(D)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let _;const D=r===0?e.initialPromise:void 0;try{_=D??e.fn()}catch(U){_=Promise.reject(U)}Promise.resolve(_).then(y).catch(U=>{if(u())return;const j=e.retry??(lr?0:3),L=e.retryDelay??H1,W=typeof L=="function"?L(r,U):L,Z=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,U);if(n||!Z){w(U);return}r++,e.onFail?.(r,U),R1(W).then(()=>x()?void 0:E()).then(()=>{n?w(U):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:g,canStart:b,start:()=>(b()?T():E().then(T),c)}}var xv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vf(this.gcTime)&&(this.#e=sr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(sr.clearTimeout(this.#e),this.#e=void 0)}},$1=class extends xv{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=y0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=y0(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=yf(this.state.data,e,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>is(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>za(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},c=()=>{const m=hv(this.options,n),x=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,x,this):m(x)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=gv({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Sf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{this.#r({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Sf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vv(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function vv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function y0(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bv=class extends oi{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=wf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),w0(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof is(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!rc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&S0(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||is(this.options.enabled,this.#t)!==is(n.enabled,this.#t)||za(this.options.staleTime,this.#t)!==za(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==r||is(this.options.enabled,this.#t)!==is(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return Q1(this,r)&&(this.#a=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(kn)),n}#g(){this.#y();const e=za(this.options.staleTime,this.#t);if(lr||this.#a.isStale||!vf(e))return;const r=dv(this.#a.dataUpdatedAt,e)+1;this.#c=sr.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(lr||is(this.options.enabled,this.#t)===!1||!vf(this.#o)||this.#o===0)&&(this.#u=sr.setInterval(()=>{(this.options.refetchIntervalInBackground||Qf.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(sr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(sr.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,c=this.#a,u=this.#s,f=this.#i,g=e!==r?e.state:this.#n,{state:x}=e;let b={...x},y=!1,w;if(n._optimisticResults){const $=this.hasListeners(),G=!$&&w0(e,n),te=$&&S0(e,r,n,i);(G||te)&&(b={...b,...vv(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:T,status:_}=b;w=b.data;let D=!1;if(n.placeholderData!==void 0&&w===void 0&&_==="pending"){let $;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?($=c.data,D=!0):$=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,$!==void 0&&(_="success",w=yf(c?.data,$,n),y=!0)}if(n.select&&w!==void 0&&!D)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=yf(c?.data,w,n),this.#f=w,this.#r=null}catch($){this.#r=$}this.#r&&(E=this.#r,w=this.#f,T=Date.now(),_="error");const U=b.fetchStatus==="fetching",j=_==="pending",L=_==="error",W=j&&U,Z=w!==void 0,H={status:_,fetchStatus:b.fetchStatus,isPending:j,isSuccess:_==="success",isError:L,isInitialLoading:W,isLoading:W,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:T,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:U,isRefetching:U&&!j,isLoadingError:L&&!Z,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:L&&Z,isStale:Ff(e,n),refetch:this.refetch,promise:this.#l,isEnabled:is(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=re=>{H.status==="error"?re.reject(H.error):H.data!==void 0&&re.resolve(H.data)},G=()=>{const re=this.#l=H.promise=wf();$(re)},te=this.#l;switch(te.status){case"pending":e.queryHash===r.queryHash&&$(te);break;case"fulfilled":(H.status==="error"||H.data!==te.value)&&G();break;case"rejected":(H.status!=="error"||H.error!==te.reason)&&G();break}}return H}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),rc(n,e))return;this.#a=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#j({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){an.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function V1(e,n){return is(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function w0(e,n){return V1(e,n)||e.state.data!==void 0&&jf(e,n,n.refetchOnMount)}function jf(e,n,r){if(is(n.enabled,e)!==!1&&za(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&Ff(e,n)}return!1}function S0(e,n,r,i){return(e!==n||is(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ff(e,r)}function Ff(e,n){return is(n.enabled,e)!==!1&&e.isStaleByTime(za(n.staleTime,e))}function Q1(e,n){return!rc(e.getCurrentResult(),n)}function lc(e){return{onFetch:(n,r)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=hv(n.options,n.fetchOptions),E=async(T,_,D)=>{if(b)return Promise.reject();if(_==null&&T.pages.length)return Promise.resolve(T);const j=(()=>{const J={client:n.client,queryKey:n.queryKey,pageParam:_,direction:D?"backward":"forward",meta:n.options.meta};return y(J),J})(),L=await w(j),{maxPages:W}=n.options,Z=D?L1:O1;return{pages:Z(T.pages,L,W),pageParams:Z(T.pageParams,_,W)}};if(c&&u.length){const T=c==="backward",_=T?yv:Ef,D={pages:u,pageParams:f},U=_(i,D);m=await E(D,U,T)}else{const T=e??u.length;do{const _=g===0?f[0]??i.initialPageParam:Ef(i,m);if(g>0&&_==null)break;m=await E(m,_),g++}while(g<T)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function Ef(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function yv(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function F1(e,n){return n?Ef(e,n)!=null:!1}function I1(e,n){return!n||!e.getPreviousPageParam?!1:yv(e,n)!=null}var G1=class extends bv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:lc()})}getOptimisticResult(e){return e.behavior=lc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,g=r.fetchMeta?.fetchMore?.direction,x=f&&g==="forward",b=c&&g==="forward",y=f&&g==="backward",w=c&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:F1(n,r.data),hasPreviousPage:I1(n,r.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!x&&!y,isRefetching:u&&!b&&!w}}},Y1=class extends xv{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||wv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=gv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,r);const f=await this.options.onMutate?.(e,r);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function wv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var K1=class extends oi{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new Y1({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=Fo(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=Fo(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Fo(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=Fo(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>x0(n,r))}findAll(e={}){return this.getAll().filter(n=>x0(e,n))}notify(e){an.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(e.map(n=>n.continue().catch(kn))))}};function Fo(e){return e.options.scope?.id}var W1=class extends oi{#e;#t=void 0;#n;#a;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),rc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&or(r.mutationKey)!==or(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??wv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){an.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,r,i,c),this.#a.onSettled?.(n.data,null,r,i,c)):n?.type==="error"&&(this.#a.onError?.(n.error,r,i,c),this.#a.onSettled?.(void 0,n.error,r,i,c))}this.listeners.forEach(r=>{r(this.#t)})})}},X1=class extends oi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,c=n.queryHash??$f(i,n);let u=this.get(c);return u||(u=new $1({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){an.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>g0(e,r)):n}notify(e){an.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){an.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},P1=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new X1,this.#t=e.mutationCache||new K1,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Qf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(za(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=D1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...r,manual:!0})}setQueriesData(e,n,r){return an.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;an.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return an.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=an.batch(()=>this.#e.findAll(e).map(c=>c.cancel(r)));return Promise.all(i).then(kn).catch(kn)}invalidateQueries(e,n={}){return an.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=an.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(kn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(kn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(za(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kn).catch(kn)}fetchInfiniteQuery(e){return e.behavior=lc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kn).catch(kn)}ensureInfiniteQueryData(e){return e.behavior=lc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ic.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(or(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],r={};return n.forEach(i=>{hl(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(or(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{hl(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=$f(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Vf&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Sv=p.createContext(void 0),Ct=e=>{const n=p.useContext(Sv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},J1=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Sv.Provider,{value:e,children:n})),jv=p.createContext(!1),eS=()=>p.useContext(jv);jv.Provider;function tS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nS=p.createContext(tS()),sS=()=>p.useContext(nS),aS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},rS=e=>{p.useEffect(()=>{e.clearReset()},[e])},iS=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||mv(r,[e.error,i])),lS=e=>{if(e.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>r(i(...c)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},oS=(e,n)=>e.isLoading&&e.isFetching&&!n,cS=(e,n)=>e?.suspense&&n.isPending,j0=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ev(e,n,r){const i=eS(),c=sS(),u=Ct(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",lS(f),aS(f,c),rS(c);const m=!u.getQueryCache().get(f.queryHash),[g]=p.useState(()=>new n(u,f)),x=g.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?g.subscribe(an.batchCalls(y)):kn;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(f)},[f,g]),cS(f,x))throw j0(f,g,c);if(iS({result:x,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,x),f.experimental_prefetchInRender&&!lr&&oS(x,i)&&(m?j0(f,g,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(kn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?x:g.trackResult(x)}function bs(e,n){return Ev(e,bv)}function An(e,n){const r=Ct(),[i]=p.useState(()=>new W1(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(an.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch(kn)},[i]);if(c.error&&mv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function If(e,n){return Ev(e,G1)}const uS="modulepreload",dS=function(e){return"/"+e},E0={},fS=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=g(r.map(x=>{if(x=dS(x),x in E0)return;E0[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":uS,b||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((E,T)=>{w.addEventListener("load",E),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function hS({children:e}){const[n]=p.useState(()=>new P1({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return o.jsxs(J1,{client:n,children:[e,null]})}const mS=["ade_csrf","backend_app_csrf"];function pS(){return mS}function gS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function Gf(){const e=gS();if(!e)return null;for(const n of pS()){const r=e.get(n);if(r)return r}return null}const _v="/api/v1",xS=new Set(["GET","HEAD","OPTIONS"]);class Xn extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}class vS{baseUrl;constructor(n=_v){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,r={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:g,...x}=r,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!xS.has(b)&&!w.has("X-CSRF-Token")){const _=Gf();_&&w.set("X-CSRF-Token",_)}const E=await fetch(y,{...x,method:b,headers:w,body:f,credentials:g??"include"});if(!E.ok){const _=await this.tryParseProblem(E),D=_?.title??`Request failed with status ${E.status}`;throw new Xn(D,E.status,_)}if(c)return E;if(!i||E.status===204)return;const T=await E.text();return T?JSON.parse(T):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,r){if(r){if(r instanceof Headers){r.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(r)){r.forEach(([i,c])=>n.set(i,c));return}Object.entries(r).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const Cv=new vS(_v);function bS(e,n){return Cv.request(e,{...n,method:"GET"})}function Yf(e,n,r){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return Cv.request(e,{...r,method:"POST",body:i})}const yS=/\{[^{}]+\}/g,wS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function SS(){return Math.random().toString(36).slice(2,11)}function jS(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...g}={...e};m=wS()?m:void 0,n=N0(n);const x=[];async function b(y,w){const{baseUrl:E,fetch:T=i,Request:_=r,headers:D,params:U={},parseAs:j="json",querySerializer:L,bodySerializer:W=u??_S,body:Z,middleware:J=[],...H}=w||{};let $=n;E&&($=N0(E)??n);let G=typeof c=="function"?c:_0(c);L&&(G=typeof L=="function"?L:_0({...typeof c=="object"?c:{},...L}));const te=Z===void 0?void 0:W(Z,C0(f,D,U.header)),re=C0(te===void 0||te instanceof FormData?{}:{"Content-Type":"application/json"},f,D,U.header),ce=[...x,...J],le={redirect:"follow",...g,...H,body:te,headers:re};let pe,ie,O=new _(CS(y,{baseUrl:$,params:U,querySerializer:G}),le),X;for(const ve in H)ve in O||(O[ve]=H[ve]);if(ce.length){pe=SS(),ie=Object.freeze({baseUrl:$,fetch:T,parseAs:j,querySerializer:G,bodySerializer:W});for(const ve of ce)if(ve&&typeof ve=="object"&&typeof ve.onRequest=="function"){const be=await ve.onRequest({request:O,schemaPath:y,params:U,options:ie,id:pe});if(be)if(be instanceof _)O=be;else if(be instanceof Response){X=be;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!X){try{X=await T(O,m)}catch(ve){let be=ve;if(ce.length)for(let C=ce.length-1;C>=0;C--){const q=ce[C];if(q&&typeof q=="object"&&typeof q.onError=="function"){const M=await q.onError({request:O,error:be,schemaPath:y,params:U,options:ie,id:pe});if(M){if(M instanceof Response){be=void 0,X=M;break}if(M instanceof Error){be=M;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(be)throw be}if(ce.length)for(let ve=ce.length-1;ve>=0;ve--){const be=ce[ve];if(be&&typeof be=="object"&&typeof be.onResponse=="function"){const C=await be.onResponse({request:O,response:X,schemaPath:y,params:U,options:ie,id:pe});if(C){if(!(C instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");X=C}}}}if(X.status===204||O.method==="HEAD"||X.headers.get("Content-Length")==="0")return X.ok?{data:void 0,response:X}:{error:void 0,response:X};if(X.ok)return j==="stream"?{data:X.body,response:X}:{data:await X[j](),response:X};let ge=await X.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:X}}return{request(y,w,E){return b(w,{...E,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...y){for(const w of y){const E=x.indexOf(w);E!==-1&&x.splice(E,1)}}}}function jc(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function Nv(e,n,r){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const m in n)i.push(m,r.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(r.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=r.style==="deepObject"?`${e}[${f}]`:f;i.push(jc(m,n[f],r))}const u=i.join(c);return r.style==="label"||r.style==="matrix"?`${c}${u}`:u}function kv(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",f=(r.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(r.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",c=[];for(const u of n)r.style==="simple"||r.style==="label"?c.push(r.allowReserved===!0?u:encodeURIComponent(u)):c.push(jc(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function _0(e){return function(r){const i=[];if(r&&typeof r=="object")for(const c in r){const u=r[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(kv(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(Nv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(jc(c,u,e))}}return i.join("&")}}function ES(e,n){let r=e;for(const i of e.match(yS)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){r=r.replace(i,kv(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){r=r.replace(i,Nv(c,m,{style:f,explode:u}));continue}if(f==="matrix"){r=r.replace(i,`;${jc(c,m)}`);continue}r=r.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return r}function _S(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function CS(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=ES(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function C0(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function N0(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Tv=new Set(["GET","HEAD","OPTIONS","TRACE"]),Xd="",oc=Xd.endsWith("/api/v1")?Xd.slice(0,-7):Xd;function NS(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return oc.length>0?`${oc}${e}`:e}async function kS(e,n={}){const r=NS(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!Tv.has(c)){const f=Gf();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(r,{credentials:"include",...n,headers:i})}const Pe=jS({baseUrl:oc.length>0?oc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),TS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Tv.has(n)){const r=Gf();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},AS={async onResponse({response:e}){if(e.ok)return e;const n=await MS(e),r=n?.title??`Request failed with status ${e.status}`;throw new Xn(r,e.status,n)}};Pe.use(TS);Pe.use(AS);async function MS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const xs={root:["auth"],detail:()=>[...xs.root,"session"],providers:()=>[...xs.root,"providers"],setupStatus:()=>[...xs.root,"setup-status"]};async function DS(e={}){try{const{data:n}=await Pe.GET("/api/v1/auth/session",{signal:e.signal});return LS(n)}catch(n){if(n instanceof Xn&&(n.status===401||n.status===403))return null;throw n}}async function zS(e={}){try{const{data:n}=await Pe.GET("/api/v1/auth/providers",{signal:e.signal});return qS(n)}catch(n){if(n instanceof Xn&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function RS(e,n={}){const{data:r}=await Pe.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload.");return ai(r)}async function OS(e={}){const{data:n}=await Pe.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return ai(n)}function ai(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}function LS(e){if(!e)return null;if(US(e))return e.session?ai(e.session):null;if(BS(e))return ai(e);throw new Error("Unexpected session payload shape returned by the server.")}function US(e){if(!e||typeof e!="object")return!1;const n=e;return"session"in n&&"providers"in n&&Array.isArray(n.providers)&&"force_sso"in n}function BS(e){return!e||typeof e!="object"?!1:!!e.user}function qS(e){return ZS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function ZS(e){return!Av(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every(HS)}function HS(e){return!Av(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function Av(e){return typeof e=="object"&&e!==null}const Mv=p.createContext(void 0);function Io(e){return e instanceof Error?e:new Error(String(e))}function k0({session:e,refetch:n,children:r}){return QS(e,n),o.jsx(Mv.Provider,{value:{session:e,refetch:n},children:r})}function $S(){const e=p.useContext(Mv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Sl(){return $S().session}const VS=6e4;function QS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",Io(x))});return}const u=Math.min(r,i)-VS,f=Math.max(u-c,0);let m=!1;const g=window.setTimeout(async()=>{try{if(await OS(),m)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",Io(x))})}catch(x){if(m)return;console.warn("Failed to refresh session",Io(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",Io(b))})}},f);return()=>{m=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function Dv(e={}){const n=Ct(),r=bs({queryKey:xs.detail(),queryFn:({signal:c})=>DS({signal:c}),enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:xs.providers(),exact:!1})},[n,i]),{...r,session:i}}async function FS(e={}){try{const{data:n}=await Pe.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof Xn&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function IS(e){const{data:n}=await Pe.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return ai(n)}function Kf(e=!0){return bs({queryKey:xs.setupStatus(),queryFn:({signal:n})=>FS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const jl="/workspaces",GS=new Set(["/","/login","/setup","/logout"]);function YS(e){if(!e)return!0;const n=WS(e);return!!(GS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function KS(e){return`${e.pathname}${e.search}${e.hash}`}function T0(e){const n=KS(e)||"/";return cc(n)??jl}function cc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?jl:YS(n)?null:n}function ml(e){return cc(e)??jl}function zv(e){return Ov("/login",e)}function Rv(e){return Ov("/setup",e)}function Ov(e,n){const r=ml(n),i=new URLSearchParams;r!==jl&&i.set("redirectTo",r);const c=i.toString();return c?`${e}?${c}`:e}function uc(e,n){const r=cc(e);if(r)return r;const i=cc(n);return i||jl}function WS(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Ec({children:e}){const n=os(),r=wn(),i=Dv(),{session:c,isLoading:u,isError:f,refetch:m}=i,g=!c&&!u&&!f,{data:x,isPending:b,isError:y,isSuccess:w,refetch:E}=Kf(g);return p.useEffect(()=>{if(c||u||f)return;if(g){if(b||y)return;if(w&&x?.requires_setup){const _=T0(n);r(Rv(_),{replace:!0});return}}const T=T0(n);r(zv(T),{replace:!0})},[f,u,y,b,w,n,r,c,x?.requires_setup,g]),u?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:o.jsx("p",{children:"Loading your workspace"})}):f?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[o.jsx("p",{children:"We were unable to confirm your session."}),o.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?o.jsx(k0,{session:c,refetch:m,children:e}):o.jsx(k0,{session:c,refetch:m,children:e??null}):g&&b?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:o.jsx("p",{children:"Preparing initial setup"})}):g&&y?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[o.jsx("p",{children:"We were unable to check whether ADE is ready."}),o.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const XS=100,PS=100,JS=100,ej=200;async function tj(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof r=="number"&&r>0&&(u.page_size=r),i&&(u.include_total=!0);const{data:f}=await Pe.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((g,x)=>g.name.localeCompare(x.name));return{...f,items:m}}async function nj(e){const{data:n}=await Pe.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function sj(e,n){const{data:r}=await Pe.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function aj(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof r=="number"&&r>0&&(f.page=r),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Pe.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function rj(e,n){const{data:r}=await Pe.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function ij(e,n,r){const{data:i}=await Pe.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function lj(e,n){await Pe.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function oj(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof r=="number"&&r>0&&(f.page=r),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Pe.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function cj(e,n){const{data:r}=await Pe.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected role payload.");return r}async function uj(e,n,r){const{data:i}=await Pe.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function dj(e,n){await Pe.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function fj(e={}){const{scope:n="global",workspaceId:r,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};r&&(m.workspace_id=r),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:g}=await Pe.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!g)throw new Error("Expected permission page payload.");return g}const ir={page:1,pageSize:XS,includeTotal:!1},hj={page:1,pageSize:PS,includeTotal:!1},mj={page:1,pageSize:JS,includeTotal:!1},pj={scope:"global",page:1,pageSize:ej,includeTotal:!1},hn={all:()=>["workspaces"],list:(e=ir)=>[...hn.all(),"list",{...e}],detail:e=>[...hn.all(),"detail",e],members:(e,n=hj)=>[...hn.detail(e),"members",{...n}],roles:(e,n=mj)=>[...hn.detail(e),"roles",{...n}],permissions:(e=pj)=>["permissions",{...e}]};function gj(e={}){const n=e.page??ir.page,r=e.pageSize??ir.pageSize,i=e.includeTotal??ir.includeTotal;return{queryKey:hn.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:c})=>tj({page:n,pageSize:r,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function _c(e={}){return bs(gj(e))}const Lv={page:ir.page,pageSize:ir.pageSize,includeTotal:ir.includeTotal};function Pd(e){return e instanceof Error?e:new Error(String(e))}function Oa(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",Pd(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",Pd(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",Pd(n))}}}}const xj="backend.app.active_workspace",_f=Oa(xj);function vj(){return _f.get()}function bj(e){if(!e){_f.clear();return}_f.set(e.id)}function Uv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(r=Uv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function we(){for(var e,n,r=0,i="",c=arguments.length;r<c;r++)(e=arguments[r])&&(n=Uv(e))&&(i&&(i+=" "),i+=n);return i}const Bv=p.createContext(void 0);function yj({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return o.jsx(Bv.Provider,{value:i,children:r})}function Ps(){const e=p.useContext(Bv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const wj=[{id:"explorer",label:"Explorer",icon:o.jsx(jj,{})},{id:"search",label:"Search",icon:o.jsx(Ej,{})},{id:"scm",label:"Source Control",icon:o.jsx(_j,{})},{id:"extensions",label:"Extensions",icon:o.jsx(Cj,{})}];function Sj({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return o.jsxs("aside",{className:we("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[o.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:wj.map(u=>{const f=e===u.id;return o.jsxs("button",{type:"button",onClick:()=>n(u.id),className:we("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:we(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?o.jsx("span",{className:we("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),o.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:o.jsx("button",{type:"button",onClick:r,className:we("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:o.jsx(Nj,{})})})]})}function jj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),o.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function Ej(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function _j(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),o.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Cj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),o.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function Nj(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const Wf=p.createContext(null);function Xf({value:e,onValueChange:n,children:r}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),g=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),x=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:g,getValues:x}),[e,n,i,f,m,g,x]);return o.jsx(Wf.Provider,{value:b,children:r})}function Pf({children:e,...n}){return o.jsx("div",{role:"tablist",...n,children:e})}function dc({value:e,children:n,className:r,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(Wf);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:y}=m,w=m.value===e,E=`${m.baseId}-tab-${e}`,T=`${m.baseId}-panel-${e}`,_=p.useCallback(U=>{g(e,U)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const D=U=>{if(c?.(U),U.defaultPrevented)return;const j=y(),L=j.indexOf(e);if(L===-1||j.length===0)return;let W=L;U.key==="ArrowRight"?(U.preventDefault(),W=(L+1)%j.length):U.key==="ArrowLeft"?(U.preventDefault(),W=(L-1+j.length)%j.length):U.key==="Home"?(U.preventDefault(),W=0):U.key==="End"&&(U.preventDefault(),W=j.length-1);const Z=j[W];Z&&Z!==m.value&&m.setValue(Z),b(Z)};return o.jsx("button",{...f,ref:_,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":T,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:D,onClick:U=>{i?.(U),!U.defaultPrevented&&!u&&m.setValue(e)},children:n})}function ti({value:e,children:n,className:r,...i}){const c=p.useContext(Wf);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return o.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:r,hidden:!u,tabIndex:0,children:n})}function kj({height:e,consoleLines:n,validation:r,activePane:i,onPaneChange:c}){const u=n.length>0,f=Rj(r),m=Uj(r);return o.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:o.jsxs(Xf,{value:i,onValueChange:g=>c(g),children:[o.jsx("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-2",children:o.jsxs(Pf,{className:"flex items-center gap-2",children:[o.jsx(dc,{value:"console",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Console"}),o.jsx(dc,{value:"validation",className:"rounded px-2 py-1 text-xs uppercase tracking-wide",children:"Validation"})]})}),o.jsx(ti,{value:"console",className:"flex min-h-0 flex-1 flex-col",children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[o.jsxs("div",{className:"flex flex-none items-center gap-3 border-b border-white/5 bg-slate-950/80 px-4 py-2 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[o.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),o.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:u?o.jsx("ul",{className:"divide-y divide-white/5",children:n.map((g,x)=>o.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-2",children:[o.jsx("span",{className:"text-[11px] text-slate-500 tabular-nums whitespace-nowrap",children:Lj(g.timestamp)}),o.jsx("span",{className:we("text-[11px] uppercase tracking-[0.3em]",Mj(g.level)),children:Dj(g.level)}),o.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[o.jsx("span",{className:we("text-sm",Tj(g.level)),children:"$"}),o.jsx("span",{className:we("flex-1 whitespace-pre-wrap break-words",Aj(g.level)),children:g.message})]})]},`${g.timestamp??x}-${g.message}`))}):o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[o.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),o.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Start a build or run validation to stream live logs in this terminal window."})]})})]})}),o.jsx(ti,{value:"validation",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[o.jsx("span",{children:f}),r.lastRunAt?o.jsxs("span",{children:["Last run ",Oj(r.lastRunAt)]}):null]}),r.messages.length>0?o.jsx("ul",{className:"space-y-2",children:r.messages.map((g,x)=>o.jsxs("li",{className:zj(g.level),children:[g.path?o.jsx("span",{className:"block text-xs font-medium uppercase tracking-wide text-slate-500",children:g.path}):null,o.jsx("span",{children:g.message})]},`${g.level}-${g.path??x}-${x}`))}):o.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:m})]})})]})})}const A0={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},M0={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},D0={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},z0={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function Tj(e){return A0[e]??A0.info}function Aj(e){return M0[e]??M0.info}function Mj(e){return D0[e]??D0.info}function Dj(e){return z0[e]??z0.info}function zj(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";case"success":return"text-emerald-600";default:return"text-slate-600"}}function Rj(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function Oj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Lj(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),r=Date.parse(n);return!Number.isNaN(r)&&n.includes("T")?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function Uj(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}var Da=uv();function Bj(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Cc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ci(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Jf(e){return"nodeType"in e}function Hn(e){var n,r;return e?ci(e)?e:Jf(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function eh(e){const{Document:n}=Hn(e);return e instanceof n}function El(e){return ci(e)?!1:e instanceof Hn(e).HTMLElement}function qv(e){return e instanceof Hn(e).SVGElement}function ui(e){return e?ci(e)?e.document:Jf(e)?eh(e)?e:El(e)||qv(e)?e.ownerDocument:document:document:document}const Cs=Cc?p.useLayoutEffect:p.useEffect;function th(e){const n=p.useRef(e);return Cs(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function qj(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function pl(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return Cs(()=>{r.current!==e&&(r.current=e)},n),r}function _l(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function fc(e){const n=th(e),r=p.useRef(null),i=p.useCallback(c=>{c!==r.current&&n?.(c,r.current),r.current=c},[]);return[r,i]}function Cf(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let Jd={};function Cl(e,n){return p.useMemo(()=>{if(n)return n;const r=Jd[e]==null?0:Jd[e]+1;return Jd[e]=r,e+"-"+r},[e,n])}function Zv(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[g,x]of m){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const ni=Zv(1),hc=Zv(-1);function Zj(e){return"clientX"in e&&"clientY"in e}function nh(e){if(!e)return!1;const{KeyboardEvent:n}=Hn(e.target);return n&&e instanceof n}function Hj(e){if(!e)return!1;const{TouchEvent:n}=Hn(e.target);return n&&e instanceof n}function Nf(e){if(Hj(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return Zj(e)?{x:e.clientX,y:e.clientY}:null}const gl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[gl.Translate.toString(e),gl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),R0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $j(e){return e.matches(R0)?e:e.querySelector(R0)}const Vj={display:"none"};function Qj(e){let{id:n,value:r}=e;return ft.createElement("div",{id:n,style:Vj},r)}function Fj(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ft.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},r)}function Ij(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Hv=p.createContext(null);function Gj(e){const n=p.useContext(Hv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function Yj(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const Kj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wj={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Xj(e){let{announcements:n=Wj,container:r,hiddenTextDescribedById:i,screenReaderInstructions:c=Kj}=e;const{announce:u,announcement:f}=Ij(),m=Cl("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),Gj(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:E}=y;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(y){let{active:w,over:E}=y;u(n.onDragOver({active:w,over:E}))},onDragEnd(y){let{active:w,over:E}=y;u(n.onDragEnd({active:w,over:E}))},onDragCancel(y){let{active:w,over:E}=y;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!g)return null;const b=ft.createElement(ft.Fragment,null,ft.createElement(Qj,{id:i,value:c.draggable}),ft.createElement(Fj,{id:m,announcement:f}));return r?Da.createPortal(b,r):b}var sn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(sn||(sn={}));function mc(){}function Pj(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function Jj(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const vs=Object.freeze({x:0,y:0});function eE(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function tE(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function nE(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function sE(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function O0(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const aE=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=O0(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,g=r.get(m);if(g){const x=eE(O0(g),c);u.push({id:m,data:{droppableContainer:f,value:x}})}}return u.sort(tE)};function rE(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-r;if(i<c&&r<u){const g=n.width*n.height,x=e.width*e.height,b=f*m,y=b/(g+x-b);return Number(y.toFixed(4))}return 0}const iE=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=r.get(f);if(m){const g=rE(m,n);g>0&&c.push({id:f,data:{droppableContainer:u,value:g}})}}return c.sort(nE)};function lE(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function $v(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:vs}function oE(e){return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...r})}}const cE=oE(1);function uE(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function dE(e,n,r){const i=uE(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,g=e.left-f-(1-c)*parseFloat(r),x=e.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:x,right:g+b,bottom:x+y,left:g}}const fE={ignoreTransform:!1};function di(e,n){n===void 0&&(n=fE);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=Hn(e).getComputedStyle(e);x&&(r=dE(r,x,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:g}=r;return{top:i,left:c,width:u,height:f,bottom:m,right:g}}function L0(e){return di(e,{ignoreTransform:!0})}function hE(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function mE(e,n){return n===void 0&&(n=Hn(e).getComputedStyle(e)),n.position==="fixed"}function pE(e,n){n===void 0&&(n=Hn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?r.test(u):!1})}function sh(e,n){const r=[];function i(c){if(n!=null&&r.length>=n||!c)return r;if(eh(c)&&c.scrollingElement!=null&&!r.includes(c.scrollingElement))return r.push(c.scrollingElement),r;if(!El(c)||qv(c)||r.includes(c))return r;const u=Hn(e).getComputedStyle(c);return c!==e&&pE(c,u)&&r.push(c),mE(c,u)?r:i(c.parentNode)}return e?i(e):r}function Vv(e){const[n]=sh(e,1);return n??null}function ef(e){return!Cc||!e?null:ci(e)?e:Jf(e)?eh(e)||e===ui(e).scrollingElement?window:El(e)?e:null:null}function Qv(e){return ci(e)?e.scrollX:e.scrollLeft}function Fv(e){return ci(e)?e.scrollY:e.scrollTop}function kf(e){return{x:Qv(e),y:Fv(e)}}var fn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fn||(fn={}));function Iv(e){return!Cc||!e?!1:e===document.scrollingElement}function Gv(e){const n={x:0,y:0},r=Iv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const gE={x:.2,y:.2};function xE(e,n,r,i,c){let{top:u,left:f,right:m,bottom:g}=r;i===void 0&&(i=10),c===void 0&&(c=gE);const{isTop:x,isBottom:b,isLeft:y,isRight:w}=Gv(e),E={x:0,y:0},T={x:0,y:0},_={height:n.height*c.y,width:n.width*c.x};return!x&&u<=n.top+_.height?(E.y=fn.Backward,T.y=i*Math.abs((n.top+_.height-u)/_.height)):!b&&g>=n.bottom-_.height&&(E.y=fn.Forward,T.y=i*Math.abs((n.bottom-_.height-g)/_.height)),!w&&m>=n.right-_.width?(E.x=fn.Forward,T.x=i*Math.abs((n.right-_.width-m)/_.width)):!y&&f<=n.left+_.width&&(E.x=fn.Backward,T.x=i*Math.abs((n.left+_.width-f)/_.width)),{direction:E,speed:T}}function vE(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:r,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function Yv(e){return e.reduce((n,r)=>ni(n,kf(r)),vs)}function bE(e){return e.reduce((n,r)=>n+Qv(r),0)}function yE(e){return e.reduce((n,r)=>n+Fv(r),0)}function wE(e,n){if(n===void 0&&(n=di),!e)return;const{top:r,left:i,bottom:c,right:u}=n(e);Vv(e)&&(c<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const SE=[["x",["left","right"],bE],["y",["top","bottom"],yE]];class ah{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=sh(r),c=Yv(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of SE)for(const g of f)Object.defineProperty(this,g,{get:()=>{const x=m(i),b=c[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class il{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var c;(c=this.target)==null||c.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function jE(e){const{EventTarget:n}=Hn(e);return e instanceof n?e:ui(e)}function tf(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var ls;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ls||(ls={}));function U0(e){e.preventDefault()}function EE(e){e.stopPropagation()}var nt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(nt||(nt={}));const Kv={start:[nt.Space,nt.Enter],cancel:[nt.Esc],end:[nt.Space,nt.Enter,nt.Tab]},_E=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case nt.Right:return{...r,x:r.x+25};case nt.Left:return{...r,x:r.x-25};case nt.Down:return{...r,y:r.y+25};case nt.Up:return{...r,y:r.y-25}}};class Wv{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new il(ui(r)),this.windowListeners=new il(Hn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ls.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&wE(i),r(vs)}handleKeyDown(n){if(nh(n)){const{active:r,context:i,options:c}=this.props,{keyboardCodes:u=Kv,coordinateGetter:f=_E,scrollBehavior:m="smooth"}=c,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:vs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:r,context:i.current,currentCoordinates:b});if(y){const w=hc(y,b),E={x:0,y:0},{scrollableAncestors:T}=i.current;for(const _ of T){const D=n.code,{isTop:U,isRight:j,isLeft:L,isBottom:W,maxScroll:Z,minScroll:J}=Gv(_),H=vE(_),$={x:Math.min(D===nt.Right?H.right-H.width/2:H.right,Math.max(D===nt.Right?H.left:H.left+H.width/2,y.x)),y:Math.min(D===nt.Down?H.bottom-H.height/2:H.bottom,Math.max(D===nt.Down?H.top:H.top+H.height/2,y.y))},G=D===nt.Right&&!j||D===nt.Left&&!L,te=D===nt.Down&&!W||D===nt.Up&&!U;if(G&&$.x!==y.x){const re=_.scrollLeft+w.x,ce=D===nt.Right&&re<=Z.x||D===nt.Left&&re>=J.x;if(ce&&!w.y){_.scrollTo({left:re,behavior:m});return}ce?E.x=_.scrollLeft-re:E.x=D===nt.Right?_.scrollLeft-Z.x:_.scrollLeft-J.x,E.x&&_.scrollBy({left:-E.x,behavior:m});break}else if(te&&$.y!==y.y){const re=_.scrollTop+w.y,ce=D===nt.Down&&re<=Z.y||D===nt.Up&&re>=J.y;if(ce&&!w.x){_.scrollTo({top:re,behavior:m});return}ce?E.y=_.scrollTop-re:E.y=D===nt.Down?_.scrollTop-Z.y:_.scrollTop-J.y,E.y&&_.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(n,ni(hc(y,this.referenceCoordinates),E))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wv.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=Kv,onActivation:c}=n,{active:u}=r;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function B0(e){return!!(e&&"distance"in e)}function q0(e){return!!(e&&"delay"in e)}class rh{constructor(n,r,i){var c;i===void 0&&(i=jE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:f}=u;this.props=n,this.events=r,this.document=ui(f),this.documentListeners=new il(this.document),this.listeners=new il(i),this.windowListeners=new il(Hn(f)),this.initialCoordinates=(c=Nf(u))!=null?c:vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.DragStart,U0),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),this.windowListeners.add(ls.ContextMenu,U0),this.documentListeners.add(ls.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(q0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(B0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(ls.Click,EE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ls.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const g=(r=Nf(n))!=null?r:vs,x=hc(c,g);if(!i&&m){if(B0(m)){if(m.tolerance!=null&&tf(x,m.tolerance))return this.handleCancel();if(tf(x,m.distance))return this.handleStart()}if(q0(m)&&tf(x,m.tolerance))return this.handleCancel();this.handlePending(m,x);return}n.cancelable&&n.preventDefault(),f(g)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===nt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const CE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ih extends rh{constructor(n){const{event:r}=n,i=ui(r.target);super(n,CE,i)}}ih.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const NE={move:{name:"mousemove"},end:{name:"mouseup"}};var Tf;(function(e){e[e.RightClick=2]="RightClick"})(Tf||(Tf={}));class kE extends rh{constructor(n){super(n,NE,ui(n.event.target))}}kE.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===Tf.RightClick?!1:(i?.({event:r}),!0)}}];const nf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TE extends rh{constructor(n){super(n,nf)}static setup(){return window.addEventListener(nf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(nf.move.name,n)};function n(){}}}TE.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:c}=r;return c.length>1?!1:(i?.({event:r}),!0)}}];var ll;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ll||(ll={}));var pc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pc||(pc={}));function AE(e){let{acceleration:n,activator:r=ll.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=pc.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:y,threshold:w}=e;const E=DE({delta:y,disabled:!u}),[T,_]=qj(),D=p.useRef({x:0,y:0}),U=p.useRef({x:0,y:0}),j=p.useMemo(()=>{switch(r){case ll.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case ll.DraggableRect:return c}},[r,c,g]),L=p.useRef(null),W=p.useCallback(()=>{const J=L.current;if(!J)return;const H=D.current.x*U.current.x,$=D.current.y*U.current.y;J.scrollBy(H,$)},[]),Z=p.useMemo(()=>m===pc.TreeOrder?[...x].reverse():x,[m,x]);p.useEffect(()=>{if(!u||!x.length||!j){_();return}for(const J of Z){if(i?.(J)===!1)continue;const H=x.indexOf(J),$=b[H];if(!$)continue;const{direction:G,speed:te}=xE(J,$,j,n,w);for(const re of["x","y"])E[re][G[re]]||(te[re]=0,G[re]=0);if(te.x>0||te.y>0){_(),L.current=J,T(W,f),D.current=te,U.current=G;return}}D.current={x:0,y:0},U.current={x:0,y:0},_()},[n,W,i,_,u,f,JSON.stringify(j),JSON.stringify(E),T,x,Z,b,JSON.stringify(w)])}const ME={x:{[fn.Backward]:!1,[fn.Forward]:!1},y:{[fn.Backward]:!1,[fn.Forward]:!1}};function DE(e){let{delta:n,disabled:r}=e;const i=Cf(n);return _l(c=>{if(r||!i||!c)return ME;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[fn.Backward]:c.x[fn.Backward]||u.x===-1,[fn.Forward]:c.x[fn.Forward]||u.x===1},y:{[fn.Backward]:c.y[fn.Backward]||u.y===-1,[fn.Forward]:c.y[fn.Forward]||u.y===1}}},[r,n,i])}function zE(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return _l(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function RE(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...r,...u]},[]),[e,n])}var xl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(xl||(xl={}));var Af;(function(e){e.Optimized="optimized"})(Af||(Af={}));const Z0=new Map;function OE(e,n){let{dragging:r,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:g,strategy:x}=c,b=p.useRef(e),y=D(),w=pl(y),E=p.useCallback(function(U){U===void 0&&(U=[]),!w.current&&f(j=>j===null?U:j.concat(U.filter(L=>!j.includes(L))))},[w]),T=p.useRef(null),_=_l(U=>{if(y&&!r)return Z0;if(!U||U===Z0||b.current!==e||u!=null){const j=new Map;for(let L of e){if(!L)continue;if(u&&u.length>0&&!u.includes(L.id)&&L.rect.current){j.set(L.id,L.rect.current);continue}const W=L.node.current,Z=W?new ah(g(W),W):null;L.rect.current=Z,Z&&j.set(L.id,Z)}return j}return U},[e,u,r,y,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||E()},[r,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||T.current!==null||(T.current=setTimeout(()=>{E(),T.current=null},m))},[m,y,E,...i]),{droppableRects:_,measureDroppableContainers:E,measuringScheduled:u!=null};function D(){switch(x){case xl.Always:return!1;case xl.BeforeDragging:return r;default:return!r}}}function Xv(e,n){return _l(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function LE(e,n){return Xv(e,n)}function UE(e){let{callback:n,disabled:r}=e;const i=th(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function Nc(e){let{callback:n,disabled:r}=e;const i=th(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function BE(e){return new ah(di(e),e)}function H0(e,n,r){n===void 0&&(n=BE);const[i,c]=p.useState(null);function u(){c(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??r)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const f=UE({callback(g){if(e)for(const x of g){const{type:b,target:y}=x;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=Nc({callback:u});return Cs(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function qE(e){const n=Xv(e);return $v(e,n)}const $0=[];function ZE(e){const n=p.useRef(e),r=_l(i=>e?i&&i!==$0&&e&&n.current&&e.parentNode===n.current.parentNode?i:sh(e):$0,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function HE(e){const[n,r]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=ef(u.target);f&&r(m=>m?(m.set(f,kf(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(g=>{const x=ef(g);return x?(x.addEventListener("scroll",c,{passive:!0}),[x,kf(x)]):null}).filter(g=>g!=null);r(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(g=>{const x=ef(g);x?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>ni(u,f),vs):Yv(e):vs,[e,n])}function V0(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==vs;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?hc(e,r.current):vs}function $E(e){p.useEffect(()=>{if(!Cc)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function VE(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:c,handler:u}=i;return r[c]=f=>{u(f,n)},r},{}),[e,n])}function Pv(e){return p.useMemo(()=>e?hE(e):null,[e])}const Q0=[];function QE(e,n){n===void 0&&(n=di);const[r]=e,i=Pv(r?Hn(r):null),[c,u]=p.useState(Q0);function f(){u(()=>e.length?e.map(g=>Iv(g)?i:new ah(n(g),g)):Q0)}const m=Nc({callback:f});return Cs(()=>{m?.disconnect(),f(),e.forEach(g=>m?.observe(g))},[e]),c}function FE(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return El(n)?n:e}function IE(e){let{measure:n}=e;const[r,i]=p.useState(null),c=p.useCallback(x=>{for(const{target:b}of x)if(El(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Nc({callback:c}),f=p.useCallback(x=>{const b=FE(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,g]=fc(f);return p.useMemo(()=>({nodeRef:m,rect:r,setRef:g}),[r,m,g])}const GE=[{sensor:ih,options:{}},{sensor:Wv,options:{}}],YE={current:{}},ac={draggable:{measure:L0},droppable:{measure:L0,strategy:xl.WhileDragging,frequency:Af.Optimized},dragOverlay:{measure:di}};class ol extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const KE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ol,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ac,measureDroppableContainers:mc,windowRect:null,measuringScheduled:!1},WE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mc,draggableNodes:new Map,over:null,measureDroppableContainers:mc},kc=p.createContext(WE),Jv=p.createContext(KE);function XE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ol}}}function PE(e,n){switch(n.type){case sn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case sn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case sn.DragEnd:case sn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sn.RegisterDroppable:{const{element:r}=n,{id:i}=r,c=new ol(e.droppable.containers);return c.set(i,r),{...e,droppable:{...e.droppable,containers:c}}}case sn.SetDroppableDisabled:{const{id:r,key:i,disabled:c}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const f=new ol(e.droppable.containers);return f.set(r,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case sn.UnregisterDroppable:{const{id:r,key:i}=n,c=e.droppable.containers.get(r);if(!c||i!==c.key)return e;const u=new ol(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function JE(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:c}=p.useContext(kc),u=Cf(i),f=Cf(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!nh(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:g,node:x}=m;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const y=$j(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function e2(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),r):r}function t2(e){return p.useMemo(()=>({draggable:{...ac.draggable,...e?.draggable},droppable:{...ac.droppable,...e?.droppable},dragOverlay:{...ac.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function n2(e){let{activeNode:n,measure:r,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Cs(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=r(x),y=$v(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Vv(x);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,r])}const eb=p.createContext({...vs,scaleX:1,scaleY:1});var Aa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Aa||(Aa={}));const s2=p.memo(function(n){var r,i,c,u;let{id:f,accessibility:m,autoScroll:g=!0,children:x,sensors:b=GE,collisionDetection:y=iE,measuring:w,modifiers:E,...T}=n;const _=p.useReducer(PE,void 0,XE),[D,U]=_,[j,L]=Yj(),[W,Z]=p.useState(Aa.Uninitialized),J=W===Aa.Initialized,{draggable:{active:H,nodes:$,translate:G},droppable:{containers:te}}=D,re=H!=null?$.get(H):null,ce=p.useRef({initial:null,translated:null}),le=p.useMemo(()=>{var jt;return H!=null?{id:H,data:(jt=re?.data)!=null?jt:YE,rect:ce}:null},[H,re]),pe=p.useRef(null),[ie,O]=p.useState(null),[X,ge]=p.useState(null),ve=pl(T,Object.values(T)),be=Cl("DndDescribedBy",f),C=p.useMemo(()=>te.getEnabled(),[te]),q=t2(w),{droppableRects:M,measureDroppableContainers:R,measuringScheduled:Q}=OE(C,{dragging:J,dependencies:[G.x,G.y],config:q.droppable}),F=zE($,H),ye=p.useMemo(()=>X?Nf(X):null,[X]),Ee=Ts(),_e=LE(F,q.draggable.measure);n2({activeNode:H!=null?$.get(H):null,config:Ee.layoutShiftCompensation,initialRect:_e,measure:q.draggable.measure});const I=H0(F,q.draggable.measure,_e),Ce=H0(F?F.parentElement:null),ke=p.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:te,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fe=te.getNodeFor((r=ke.current.over)==null?void 0:r.id),Le=IE({measure:q.dragOverlay.measure}),Ne=(i=Le.nodeRef.current)!=null?i:F,Ve=J?(c=Le.rect)!=null?c:I:null,st=!!(Le.nodeRef.current&&Le.rect),at=qE(st?null:I),Jt=Pv(Ne?Hn(Ne):null),N=ZE(J?Fe??F:null),V=QE(N),A=e2(E,{transform:{x:G.x-at.x,y:G.y-at.y,scaleX:1,scaleY:1},activatorEvent:X,active:le,activeNodeRect:I,containerNodeRect:Ce,draggingNodeRect:Ve,over:ke.current.over,overlayNodeRect:Le.rect,scrollableAncestors:N,scrollableAncestorRects:V,windowRect:Jt}),me=ye?ni(ye,G):null,se=HE(N),de=V0(se),je=V0(se,[I]),He=ni(A,de),ue=Ve?cE(Ve,A):null,Se=le&&ue?y({active:le,collisionRect:ue,droppableRects:M,droppableContainers:C,pointerCoordinates:me}):null,Be=sE(Se,"id"),[rt,Ht]=p.useState(null),en=st?A:ni(A,je),Ot=lE(en,(u=rt?.rect)!=null?u:null,I),Sn=p.useRef(null),St=p.useCallback((jt,Et)=>{let{sensor:$t,options:_t}=Et;if(pe.current==null)return;const rn=$.get(pe.current);if(!rn)return;const ln=jt.nativeEvent,kt=new $t({active:pe.current,activeNode:rn,event:ln,options:_t,context:ke,onAbort(Tt){if(!$.get(Tt))return;const{onDragAbort:mn}=ve.current,Cn={id:Tt};mn?.(Cn),j({type:"onDragAbort",event:Cn})},onPending(Tt,Mn,mn,Cn){if(!$.get(Tt))return;const{onDragPending:pn}=ve.current,cn={id:Tt,constraint:Mn,initialCoordinates:mn,offset:Cn};pn?.(cn),j({type:"onDragPending",event:cn})},onStart(Tt){const Mn=pe.current;if(Mn==null)return;const mn=$.get(Mn);if(!mn)return;const{onDragStart:Cn}=ve.current,on={activatorEvent:ln,active:{id:Mn,data:mn.data,rect:ce}};Da.unstable_batchedUpdates(()=>{Cn?.(on),Z(Aa.Initializing),U({type:sn.DragStart,initialCoordinates:Tt,active:Mn}),j({type:"onDragStart",event:on}),O(Sn.current),ge(ln)})},onMove(Tt){U({type:sn.DragMove,coordinates:Tt})},onEnd:tn(sn.DragEnd),onCancel:tn(sn.DragCancel)});Sn.current=kt;function tn(Tt){return async function(){const{active:mn,collisions:Cn,over:on,scrollAdjustedTranslate:pn}=ke.current;let cn=null;if(mn&&pn){const{cancelDrop:us}=ve.current;cn={activatorEvent:ln,active:mn,collisions:Cn,delta:pn,over:on},Tt===sn.DragEnd&&typeof us=="function"&&await Promise.resolve(us(cn))&&(Tt=sn.DragCancel)}pe.current=null,Da.unstable_batchedUpdates(()=>{U({type:Tt}),Z(Aa.Uninitialized),Ht(null),O(null),ge(null),Sn.current=null;const us=Tt===sn.DragEnd?"onDragEnd":"onDragCancel";if(cn){const Dn=ve.current[us];Dn?.(cn),j({type:us,event:cn})}})}}},[$]),ta=p.useCallback((jt,Et)=>($t,_t)=>{const rn=$t.nativeEvent,ln=$.get(_t);if(pe.current!==null||!ln||rn.dndKit||rn.defaultPrevented)return;const kt={active:ln};jt($t,Et.options,kt)===!0&&(rn.dndKit={capturedBy:Et.sensor},pe.current=_t,St($t,Et))},[$,St]),Ns=RE(b,ta);$E(b),Cs(()=>{I&&W===Aa.Initializing&&Z(Aa.Initialized)},[I,W]),p.useEffect(()=>{const{onDragMove:jt}=ve.current,{active:Et,activatorEvent:$t,collisions:_t,over:rn}=ke.current;if(!Et||!$t)return;const ln={active:Et,activatorEvent:$t,collisions:_t,delta:{x:He.x,y:He.y},over:rn};Da.unstable_batchedUpdates(()=>{jt?.(ln),j({type:"onDragMove",event:ln})})},[He.x,He.y]),p.useEffect(()=>{const{active:jt,activatorEvent:Et,collisions:$t,droppableContainers:_t,scrollAdjustedTranslate:rn}=ke.current;if(!jt||pe.current==null||!Et||!rn)return;const{onDragOver:ln}=ve.current,kt=_t.get(Be),tn=kt&&kt.rect.current?{id:kt.id,rect:kt.rect.current,data:kt.data,disabled:kt.disabled}:null,Tt={active:jt,activatorEvent:Et,collisions:$t,delta:{x:rn.x,y:rn.y},over:tn};Da.unstable_batchedUpdates(()=>{Ht(tn),ln?.(Tt),j({type:"onDragOver",event:Tt})})},[Be]),Cs(()=>{ke.current={activatorEvent:X,active:le,activeNode:F,collisionRect:ue,collisions:Se,droppableRects:M,draggableNodes:$,draggingNode:Ne,draggingNodeRect:Ve,droppableContainers:te,over:rt,scrollableAncestors:N,scrollAdjustedTranslate:He},ce.current={initial:Ve,translated:ue}},[le,F,Se,ue,$,Ne,Ve,M,te,rt,N,He]),AE({...Ee,delta:G,draggingRect:ue,pointerCoordinates:me,scrollableAncestors:N,scrollableAncestorRects:V});const De=p.useMemo(()=>({active:le,activeNode:F,activeNodeRect:I,activatorEvent:X,collisions:Se,containerNodeRect:Ce,dragOverlay:Le,draggableNodes:$,droppableContainers:te,droppableRects:M,over:rt,measureDroppableContainers:R,scrollableAncestors:N,scrollableAncestorRects:V,measuringConfiguration:q,measuringScheduled:Q,windowRect:Jt}),[le,F,I,X,Se,Ce,Le,$,te,M,rt,R,N,V,q,Q,Jt]),ks=p.useMemo(()=>({activatorEvent:X,activators:Ns,active:le,activeNodeRect:I,ariaDescribedById:{draggable:be},dispatch:U,draggableNodes:$,over:rt,measureDroppableContainers:R}),[X,Ns,le,I,U,be,$,rt,R]);return ft.createElement(Hv.Provider,{value:L},ft.createElement(kc.Provider,{value:ks},ft.createElement(Jv.Provider,{value:De},ft.createElement(eb.Provider,{value:Ot},x)),ft.createElement(JE,{disabled:m?.restoreFocus===!1})),ft.createElement(Xj,{...m,hiddenTextDescribedById:be}));function Ts(){const jt=ie?.autoScrollEnabled===!1,Et=typeof g=="object"?g.enabled===!1:g===!1,$t=J&&!jt&&!Et;return typeof g=="object"?{...g,enabled:$t}:{enabled:$t}}}),a2=p.createContext(null),F0="button",r2="Draggable";function i2(e){let{id:n,data:r,disabled:i=!1,attributes:c}=e;const u=Cl(r2),{activators:f,activatorEvent:m,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(kc),{role:E=F0,roleDescription:T="draggable",tabIndex:_=0}=c??{},D=g?.id===n,U=p.useContext(D?eb:a2),[j,L]=fc(),[W,Z]=fc(),J=VE(f,n),H=pl(r);Cs(()=>(y.set(n,{id:n,key:u,node:j,activatorNode:W,data:H}),()=>{const G=y.get(n);G&&G.key===u&&y.delete(n)}),[y,n]);const $=p.useMemo(()=>({role:E,tabIndex:_,"aria-disabled":i,"aria-pressed":D&&E===F0?!0:void 0,"aria-roledescription":T,"aria-describedby":b.draggable}),[i,E,_,D,T,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:x,attributes:$,isDragging:D,listeners:i?void 0:J,node:j,over:w,setNodeRef:L,setActivatorNodeRef:Z,transform:U}}function l2(){return p.useContext(Jv)}const o2="Droppable",c2={timeout:25};function u2(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:c}=e;const u=Cl(o2),{active:f,dispatch:m,over:g,measureDroppableContainers:x}=p.useContext(kc),b=p.useRef({disabled:r}),y=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:T,updateMeasurementsFor:_,timeout:D}={...c2,...c},U=pl(_??i),j=p.useCallback(()=>{if(!y.current){y.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{x(Array.isArray(U.current)?U.current:[U.current]),E.current=null},D)},[D]),L=Nc({callback:j,disabled:T||!f}),W=p.useCallback(($,G)=>{L&&(G&&(L.unobserve(G),y.current=!1),$&&L.observe($))},[L]),[Z,J]=fc(W),H=pl(n);return p.useEffect(()=>{!L||!Z.current||(L.disconnect(),y.current=!1,L.observe(Z.current))},[Z,L]),p.useEffect(()=>(m({type:sn.RegisterDroppable,element:{id:i,key:u,disabled:r,node:Z,rect:w,data:H}}),()=>m({type:sn.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(m({type:sn.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,m]),{active:f,rect:w,isOver:g?.id===i,node:Z,over:g,setNodeRef:J}}function tb(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function d2(e,n){return e.reduce((r,i,c)=>{const u=n.get(i);return u&&(r[c]=u),r},Array(e.length))}function Go(e){return e!==null&&e>=0}function f2(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function h2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Yo={scaleX:1,scaleY:1},m2=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=r[c])!=null?n:i;if(!m)return null;const g=p2(r,f,c);if(f===c){const x=r[u];return x?{x:c<u?x.left+x.width-(m.left+m.width):x.left-m.left,y:0,...Yo}:null}return f>c&&f<=u?{x:-m.width-g,y:0,...Yo}:f<c&&f>=u?{x:m.width+g,y:0,...Yo}:{x:0,y:0,...Yo}};function p2(e,n,r){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:r<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const nb=e=>{let{rects:n,activeIndex:r,overIndex:i,index:c}=e;const u=tb(n,i,r),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},sb="Sortable",ab=ft.createContext({activeIndex:-1,containerId:sb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nb,disabled:{draggable:!1,droppable:!1}});function g2(e){let{children:n,id:r,items:i,strategy:c=nb,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:g,over:x,measureDroppableContainers:b}=l2(),y=Cl(sb,r),w=m.rect!==null,E=p.useMemo(()=>i.map(J=>typeof J=="object"&&"id"in J?J.id:J),[i]),T=f!=null,_=f?E.indexOf(f.id):-1,D=x?E.indexOf(x.id):-1,U=p.useRef(E),j=!f2(E,U.current),L=D!==-1&&_===-1||j,W=h2(u);Cs(()=>{j&&T&&b(E)},[j,E,T,b]),p.useEffect(()=>{U.current=E},[E]);const Z=p.useMemo(()=>({activeIndex:_,containerId:y,disabled:W,disableTransforms:L,items:E,overIndex:D,useDragOverlay:w,sortedRects:d2(E,g),strategy:c}),[_,y,W.draggable,W.droppable,L,E,D,g,w,c]);return ft.createElement(ab.Provider,{value:Z},n)}const x2=e=>{let{id:n,items:r,activeIndex:i,overIndex:c}=e;return tb(r,i,c).indexOf(n)},v2=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:x}=e;return!x||!i||m!==u&&c===f?!1:r?!0:f!==c&&n===g},b2={duration:200,easing:"ease"},rb="transform",y2=gl.Transition.toString({property:rb,duration:0,easing:"linear"}),w2={roleDescription:"sortable"};function S2(e){let{disabled:n,index:r,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(r);return Cs(()=>{if(!n&&r!==m.current&&i.current){const g=c.current;if(g){const x=di(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&f(b)}}r!==m.current&&(m.current=r)},[n,r,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function j2(e){let{animateLayoutChanges:n=v2,attributes:r,disabled:i,data:c,getNewIndex:u=x2,id:f,strategy:m,resizeObserverConfig:g,transition:x=b2}=e;const{items:b,containerId:y,activeIndex:w,disabled:E,disableTransforms:T,sortedRects:_,overIndex:D,useDragOverlay:U,strategy:j}=p.useContext(ab),L=E2(i,E),W=b.indexOf(f),Z=p.useMemo(()=>({sortable:{containerId:y,index:W,items:b},...c}),[y,c,W,b]),J=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:H,node:$,isOver:G,setNodeRef:te}=u2({id:f,data:Z,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...g}}),{active:re,activatorEvent:ce,activeNodeRect:le,attributes:pe,setNodeRef:ie,listeners:O,isDragging:X,over:ge,setActivatorNodeRef:ve,transform:be}=i2({id:f,data:Z,attributes:{...w2,...r},disabled:L.draggable}),C=Bj(te,ie),q=!!re,M=q&&!T&&Go(w)&&Go(D),R=!U&&X,Q=R&&M?be:null,ye=M?Q??(m??j)({rects:_,activeNodeRect:le,activeIndex:w,overIndex:D,index:W}):null,Ee=Go(w)&&Go(D)?u({id:f,items:b,activeIndex:w,overIndex:D}):W,_e=re?.id,I=p.useRef({activeId:_e,items:b,newIndex:Ee,containerId:y}),Ce=b!==I.current.items,ke=n({active:re,containerId:y,isDragging:X,isSorting:q,id:f,index:W,items:b,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:x,wasDragging:I.current.activeId!=null}),Fe=S2({disabled:!ke,index:W,node:$,rect:H});return p.useEffect(()=>{q&&I.current.newIndex!==Ee&&(I.current.newIndex=Ee),y!==I.current.containerId&&(I.current.containerId=y),b!==I.current.items&&(I.current.items=b)},[q,Ee,y,b]),p.useEffect(()=>{if(_e===I.current.activeId)return;if(_e!=null&&I.current.activeId==null){I.current.activeId=_e;return}const Ne=setTimeout(()=>{I.current.activeId=_e},50);return()=>clearTimeout(Ne)},[_e]),{active:re,activeIndex:w,attributes:pe,data:Z,rect:H,index:W,newIndex:Ee,items:b,isOver:G,isSorting:q,isDragging:X,listeners:O,node:$,overIndex:D,over:ge,setNodeRef:C,setActivatorNodeRef:ve,setDroppableNodeRef:te,setDraggableNodeRef:ie,transform:Fe??ye,transition:Le()};function Le(){if(Fe||Ce&&I.current.newIndex===W)return y2;if(!(R&&!nh(ce)||!x)&&(q||ke))return gl.Transition.toString({...x,property:rb})}}function E2(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}nt.Down,nt.Right,nt.Up,nt.Left;const _2=p.lazy(()=>fS(()=>import("./MonacoCodeEditor-iPzNKHzh.js"),[])),C2=p.forwardRef(function(n,r){const{className:i,...c}=n;return o.jsx(p.Suspense,{fallback:o.jsx("div",{className:we("relative h-full w-full",i),children:o.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:o.jsx(_2,{...c,ref:r,className:i})})}),N2=232,k2=30,er=6;function vl({open:e,position:n,onClose:r,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,y]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const E=i.length*k2+er*2,T=Math.max(er,(window.innerWidth||0)-N2-er),_=Math.max(er,(window.innerHeight||0)-E-er),D=Math.min(Math.max(n.x,er),T),U=Math.min(Math.max(n.y,er),_);g({x:D,y:U})},[e,n,i.length]),p.useEffect(()=>{e&&y(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=D=>{u.current&&(u.current.contains(D.target)||r())},T=D=>{if(u.current){if(u.current.contains(D.target)){D.preventDefault();return}r()}},_=D=>{if(D.key==="Escape"){D.preventDefault(),r();return}if(D.key==="ArrowDown"||D.key==="ArrowUp"){D.preventDefault();const U=D.key==="ArrowDown"?1:-1;y(j=>{if(i.length===0)return j;let L=j;for(let W=0;W<i.length;W+=1)if(L=(L+U+i.length)%i.length,!i[L]?.disabled)return L;return j});return}if(D.key==="Enter"||D.key===" "){D.preventDefault();const U=i[b];U&&!U.disabled&&(U.onSelect(),r())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",T),window.addEventListener("keydown",_),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",T),window.removeEventListener("keydown",_)}},[e,r,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return Da.createPortal(o.jsx("div",{ref:u,role:"menu",className:we("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:o.jsx("ul",{className:"py-1",role:"none",children:i.map((E,T)=>{const _=!!E.disabled,D=!!E.danger;return o.jsxs(p.Fragment,{children:[E.dividerAbove?o.jsx("li",{role:"separator",className:we("mx-2 my-1 border-t",w.separator)}):null,o.jsx("li",{role:"none",children:o.jsxs("button",{ref:U=>{f.current[T]=U},type:"button",role:"menuitem",className:we("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,_&&w.disabled,D&&!_&&w.danger,_&&"cursor-default"),onClick:U=>{U.stopPropagation(),!_&&(E.onSelect(),r())},onMouseEnter:()=>{_||y(T)},disabled:_,children:[o.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?o.jsx("span",{className:"text-base opacity-80",children:E.icon}):o.jsx("span",{className:"inline-block h-4 w-4"}),o.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?o.jsx("span",{className:we("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const I0=220,G0=64,T2=14;function Y0({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:T,menuAppearance:_,canSaveFiles:D=!1,minHeight:U}){const j=e.length>0,[L,W]=p.useState(null),[Z,J]=p.useState(null),[H,$]=p.useState(null),[G,te]=p.useState({left:!1,right:!1}),[re,ce]=p.useState(0),le=p.useRef(null),pe=p.useRef(null),ie=p.useMemo(()=>e.find(I=>I.id===n)??e[0]??null,[e,n]),O=p.useMemo(()=>e.filter(I=>I.pinned),[e]),X=p.useMemo(()=>e.filter(I=>!I.pinned),[e]),ge=p.useMemo(()=>e.slice().sort((I,Ce)=>I.id.localeCompare(Ce.id)),[e]),be=p.useMemo(()=>e.filter(I=>I.status==="ready"&&I.content!==I.initialContent),[e]).length>0,C=Jj(Pj(ih,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!j)return;const I=Ce=>{if(!(Ce.ctrlKey||Ce.metaKey))return;if(Ce.key.toLowerCase()==="w"){if(!n)return;Ce.preventDefault(),i(n);return}if(Ce.key==="Tab"){if(e.length<2)return;Ce.preventDefault(),E(Ce.shiftKey?"backward":"forward");return}const ke=Fe=>{if(e.length<2)return;const Le=e.findIndex(at=>at.id===n),Ve=((Le>=0?Le:0)+Fe+e.length)%e.length,st=e[Ve];st&&r(st.id)};if(Ce.key==="PageUp"){Ce.preventDefault(),ke(-1);return}Ce.key==="PageDown"&&(Ce.preventDefault(),ke(1))};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[j,e,n,i,r,E]),p.useEffect(()=>{L&&(e.some(I=>I.id===L.tabId)||W(null))},[L,e]);const q=I=>{$(String(I.active.id))},M=I=>{const Ce=I.active.id,ke=I.over?.id;if(!ke){$(null);return}if(Ce!==ke){const Fe=e.findIndex(Ne=>Ne.id===Ce),Le=e.findIndex(Ne=>Ne.id===ke);if(Fe!==-1&&Le!==-1){const Ne=Fe<Le?Le+1:Le,st=e[Le]?.pinned?"pinned":"regular";m(String(Ce),Ne,{zone:st})}}$(null)},R=()=>{$(null)},Q=p.useCallback(()=>{const I=le.current;if(!I){te({left:!1,right:!1});return}const{scrollLeft:Ce,scrollWidth:ke,clientWidth:Fe}=I;te({left:Ce>2,right:Ce+Fe<ke-2})},[]);p.useEffect(()=>{const I=le.current;if(!I){te({left:!1,right:!1});return}Q();const Ce=()=>Q();I.addEventListener("scroll",Ce),window.addEventListener("resize",Q);const ke=typeof ResizeObserver<"u"?new ResizeObserver(Q):null;return ke?.observe(I),()=>{I.removeEventListener("scroll",Ce),window.removeEventListener("resize",Q),ke?.disconnect()}},[e.length,Q]),p.useEffect(()=>{if(!H){ce(0);return}const I=Ce=>{const ke=le.current;if(!ke){ce(0);return}const Fe=ke.getBoundingClientRect();Ce.clientX<Fe.left+G0?ce(-1):Ce.clientX>Fe.right-G0?ce(1):ce(0)};return window.addEventListener("pointermove",I),()=>{window.removeEventListener("pointermove",I),ce(0)}},[H]),p.useEffect(()=>{if(!H||re===0)return;let I;const Ce=()=>{const ke=le.current;ke&&(ke.scrollBy({left:re*T2}),I=window.requestAnimationFrame(Ce))};return I=window.requestAnimationFrame(Ce),()=>{window.cancelAnimationFrame(I)}},[re,H]),p.useEffect(()=>{if(!n)return;const I=le.current;if(!I)return;const Ce=`[data-tab-id="${Q2(n)}"]`;I.querySelector(Ce)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!L)return[];const I=e.find(at=>at.id===L.tabId);if(!I)return[];const Ce=e.findIndex(at=>at.id===L.tabId),ke=Ce>=0&&Ce<e.length-1,Fe=e.length>1,Le=I.status==="ready"&&I.content!==I.initialContent,Ne=!!y&&D&&Le&&!I.saving,Ve=!!w&&D&&be,st={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:I.saving?"Saving":"Save",icon:o.jsx(z2,{}),disabled:!Ne,shortcut:st.save,onSelect:()=>y?.(I.id)},{id:"save-all",label:"Save All",icon:o.jsx(R2,{}),disabled:!Ve,shortcut:st.saveAll,onSelect:()=>w?.()},{id:"pin",label:I.pinned?"Unpin":"Pin",icon:I.pinned?o.jsx(q2,{}):o.jsx(X0,{}),dividerAbove:!0,onSelect:()=>I.pinned?x(I.id):g(I.id)},{id:"close",label:"Close",icon:o.jsx(O2,{}),dividerAbove:!0,shortcut:st.close,onSelect:()=>i(I.id)},{id:"close-others",label:"Close Others",icon:o.jsx(L2,{}),disabled:!Fe,shortcut:st.closeOthers,onSelect:()=>c(I.id)},{id:"close-right",label:"Close Tabs to the Right",icon:o.jsx(U2,{}),disabled:!ke,shortcut:st.closeRight,onSelect:()=>u(I.id)},{id:"close-all",label:"Close All",icon:o.jsx(B2,{}),dividerAbove:!0,disabled:e.length===0,shortcut:st.closeAll,onSelect:()=>f()}]},[L,e,be,D,g,x,i,c,u,f,y,w]),ye=p.useMemo(()=>{if(!j)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const I=[],Ce=(ke,Fe)=>{I.push({id:`switch-${ke.id}`,label:ke.name,icon:ke.pinned?o.jsx(X0,{}):o.jsx(Z2,{}),shortcut:ke.id===n?"Active":void 0,dividerAbove:Fe,onSelect:()=>r(ke.id)})};return O.forEach(ke=>Ce(ke,!1)),X.forEach((ke,Fe)=>Ce(ke,Fe===0&&O.length>0)),I},[j,O,X,n,r]),Ee=I=>{le.current?.scrollBy({left:I,behavior:"smooth"})},_e=()=>{if(typeof window>"u")return;const I=pe.current?.getBoundingClientRect();I&&J({x:I.left,y:I.bottom+6})};return!j||!ie?o.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):o.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:U?{minHeight:U}:void 0,children:[o.jsxs(Xf,{value:ie.id,onValueChange:r,children:[o.jsx(s2,{sensors:C,collisionDetection:aE,onDragStart:q,onDragEnd:M,onDragCancel:R,children:o.jsx(g2,{items:e.map(I=>I.id),strategy:m2,children:o.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[o.jsx(K0,{direction:"left",disabled:!G.left,onClick:()=>Ee(-I0)}),o.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[G.left?o.jsx(W0,{position:"left"}):null,G.right?o.jsx(W0,{position:"right"}):null,o.jsx("div",{ref:le,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:I=>{Math.abs(I.deltaY)>Math.abs(I.deltaX)&&(I.preventDefault(),le.current?.scrollBy({left:I.deltaY}))},children:o.jsx(Pf,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(I=>{const Ce=I.status==="ready"&&I.content!==I.initialContent,ke=I.id===ie.id;return o.jsx(A2,{tab:I,isActive:ke,isDirty:Ce,draggingId:H,onContextMenu:Fe=>{Fe.preventDefault(),W({tabId:I.id,x:Fe.clientX,y:Fe.clientY})},onCloseTab:i},I.id)})})})]}),o.jsx(K0,{direction:"right",disabled:!G.right,onClick:()=>Ee(I0)}),o.jsx("button",{ref:pe,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:_e,children:o.jsx(V2,{})})]})})}),ge.map(I=>o.jsx(ti,{value:I.id,className:"flex min-h-0 min-w-0 flex-1",children:I.status==="loading"?o.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",I.name,""]}):I.status==="error"?o.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[o.jsx("p",{children:I.error??"Unable to load the file."}),o.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>r(I.id),children:"Retry loading"})]}):o.jsx("div",{className:we("flex min-h-0 min-w-0 flex-1",H&&"pointer-events-none select-none"),children:o.jsx(C2,{value:I.content,language:I.language??"plaintext",path:I.id,theme:T,onChange:Ce=>b(I.id,Ce??""),onSaveShortcut:()=>{D&&y?.(I.id)}})})},I.id))]}),o.jsx(vl,{open:!!L,position:L&&{x:L.x,y:L.y},onClose:()=>W(null),items:F,appearance:_}),o.jsx(vl,{open:!!Z,position:Z,onClose:()=>J(null),items:ye,appearance:_})]})}function A2({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:g,transform:x,transition:b,isDragging:y}=j2({id:e.id}),w={transform:gl.Transform.toString(x),transition:b},E=y||i===e.id,T=!!e.pinned;return o.jsxs("div",{ref:g,style:w,className:we("group relative mr-1 flex min-w-0 items-stretch",E&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:_=>{_.button===1&&(_.preventDefault(),u(e.id))},...f,...m,children:[o.jsxs(dc,{value:e.id,"data-tab-id":e.id,title:e.id,className:we("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",T?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[T?o.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:o.jsx(M2,{filled:n})}):null,o.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?o.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:o.jsx(D2,{})}):null,e.saveError?o.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?o.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),o.jsx("button",{type:"button",className:we("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:_=>{_.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function K0({direction:e,disabled:n,onClick:r}){return o.jsx("button",{type:"button",className:we("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:r,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?o.jsx(H2,{}):o.jsx($2,{})})}function W0({position:e}){return o.jsx("div",{className:we("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function M2({filled:e}){return e?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const Js="h-4 w-4 text-current opacity-80";function D2(){return o.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),o.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function z2(){return o.jsxs("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function R2(){return o.jsxs("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),o.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function O2(){return o.jsx("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function L2(){return o.jsxs("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),o.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function U2(){return o.jsxs("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function B2(){return o.jsxs("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function X0(){return o.jsx("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function q2(){return o.jsx("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function Z2(){return o.jsx("svg",{className:Js,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function H2(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function $2(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function V2(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function Q2(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const F2={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},I2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function P0(e){const n=new Set,r=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&r(c)})};return r(e),n}function G2({width:e,tree:n,activeFileId:r,openFileIds:i,onSelectFile:c,theme:u,onCloseFile:f,onCloseOtherFiles:m,onCloseTabsToRight:g,onCloseAllFiles:x,onHide:b}){const[y,w]=p.useState(()=>P0(n)),[E,T]=p.useState(null);p.useEffect(()=>{w(P0(n))},[n]);const _=p.useCallback(G=>{w(te=>{const re=new Set(te);return re.has(G)?re.delete(G):re.add(G),re})},[]),D=p.useCallback((G,te)=>{w(re=>{const ce=new Set(re);return te?ce.add(G):G!==n.id&&ce.delete(G),ce.has(n.id)||ce.add(n.id),ce})},[n.id]),U=p.useCallback(()=>{w(new Set([n.id]))},[n.id]),j=p.useMemo(()=>n.children??[],[n]),L=u==="dark"?"dark":"light",W=p.useCallback((G,te)=>{G.preventDefault(),T({node:te,position:{x:G.clientX,y:G.clientY}})},[]),Z=p.useCallback(async G=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(G);return}catch{}if(typeof document>"u")return;const te=document.createElement("textarea");te.value=G,te.setAttribute("readonly","true"),te.style.position="absolute",te.style.left="-9999px",document.body.appendChild(te),te.select(),document.execCommand("copy"),document.body.removeChild(te)},[]),J=p.useMemo(()=>{if(!E)return[];const G=E.node,te={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0"};if(G.kind==="file"){const ce=i.includes(G.id),le=i.length,pe=i.indexOf(G.id),ie=pe>=0&&pe<le-1;return[{id:"open-file",label:"Open",icon:o.jsx(J2,{}),shortcut:te.open,onSelect:()=>c(G.id)},{id:"close-file",label:"Close",icon:o.jsx(s_,{}),disabled:!ce,shortcut:te.close,onSelect:()=>f(G.id)},{id:"close-file-others",label:"Close Others",icon:o.jsx(a_,{}),disabled:!ce||le<=1,shortcut:te.closeOthers,onSelect:()=>m(G.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:o.jsx(r_,{}),disabled:!ce||!ie,shortcut:te.closeRight,onSelect:()=>g(G.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:le===0,icon:o.jsx(i_,{}),shortcut:te.closeAll,onSelect:()=>x()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:o.jsx(ex,{}),shortcut:te.copyPath,onSelect:()=>{Z(G.id)}}]}const re=y.has(G.id);return[{id:"toggle-folder",label:re?"Collapse Folder":"Expand Folder",icon:re?o.jsx(e_,{}):o.jsx(t_,{}),onSelect:()=>D(G.id,!re)},{id:"collapse-all",label:"Collapse All",icon:o.jsx(n_,{}),shortcut:te.collapseAll,dividerAbove:!0,onSelect:()=>U()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:o.jsx(ex,{}),shortcut:te.copyPath,onSelect:()=>{Z(G.id)}}]},[E,i,c,f,m,g,x,Z,y,D,U]),H=F2[u],$=I2[u];return o.jsxs(o.Fragment,{children:[o.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:H.surface,borderColor:H.border,color:H.textPrimary},"aria-label":"Config files explorer",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:H.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[o.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:H.heading},children:"Explorer"}),o.jsx("button",{type:"button",onClick:b,"aria-label":"Hide explorer",className:we("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:o.jsx(P2,{})})]}),o.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:o.jsx("ul",{className:"space-y-0.5",children:j.map(G=>o.jsx(ib,{node:G,depth:0,expanded:y,activeFileId:r,openFileIds:i,onToggleFolder:_,onSelectFile:c,tokens:H,focusRingClass:$,onContextMenu:W},G.id))})})]}),o.jsx(vl,{open:!!E,position:E&&E.position,onClose:()=>T(null),items:J,appearance:L})]})}function ib({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x}){const y={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const D=r.has(e.id),U={...y,color:D?m.textPrimary:m.textMuted};return D&&m.folderActiveBg!=="transparent"&&(U.backgroundColor=m.folderActiveBg),o.jsxs("li",{className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:j=>x(j,e),className:we("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",g),style:U,"aria-expanded":D,children:[o.jsx(K2,{open:D,tokens:m}),o.jsx(W2,{open:D,tokens:m}),o.jsx("span",{className:"truncate",children:e.name})]}),D&&e.children?.length?o.jsx("ul",{className:"mt-0.5 space-y-0.5",children:e.children.map(j=>o.jsx(ib,{node:j,depth:n+1,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x},j.id))}):null]})}const w=i===e.id,E=c.includes(e.id),T=Y2(e.name,e.language),_={...y,color:m.textPrimary};return w&&(_.backgroundColor=m.selectionBg,_.color=m.selectionText),o.jsx("li",{children:o.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:D=>x(D,e),className:we("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",g,w&&"shadow-inner shadow-[#00000033]"),style:_,children:[o.jsx("span",{className:"inline-flex w-4 justify-center",children:o.jsx(X2,{className:T})}),o.jsx("span",{className:"flex-1 truncate",children:e.name}),w?o.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):E?o.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const J0={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function Y2(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&J0[i]?J0[i]:"text-slate-400"}function K2({open:e,tokens:n}){return o.jsx("svg",{className:we("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:o.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function W2({open:e,tokens:n}){return o.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function X2({className:e}){return o.jsxs("svg",{className:we("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function P2(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const ea="h-4 w-4 text-current opacity-80";function J2(){return o.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function ex(){return o.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),o.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function e_(){return o.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function t_(){return o.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function n_(){return o.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function s_(){return o.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function a_(){return o.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),o.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function r_(){return o.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function i_(){return o.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[o.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),o.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function l_({width:e,file:n}){const r=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return o.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[o.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:o.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),o.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),o.jsx("dd",{className:"text-slate-700",children:n.name})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),o.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),o.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),o.jsx("dd",{className:"text-slate-700",children:o_(i?.size)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),o.jsx("dd",{className:"text-slate-700",children:c_(i?.modifiedAt)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),o.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),o.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),o.jsxs("section",{className:"space-y-2 text-xs",children:[o.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),o.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),o.jsx("dd",{className:"text-slate-700",children:r?"Yes":"No"})]})]})]}),o.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function o_(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r.toFixed(r>=10?0:1)} ${n[i]}`}function c_(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function sf({orientation:e,onPointerDown:n}){const r=e==="vertical";return o.jsx("div",{role:"separator","aria-orientation":e,className:r?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",onPointerDown:n,children:o.jsx("span",{className:"sr-only",children:"Resize panel"})})}const u_={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function d_(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=cl(n),c={id:n,name:tx(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=g=>{if(g.length===0)return c;const x=cl(g),b=x===i?n:x,y=u.get(b);if(y)return y;const w={id:b,name:tx(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":m_(b)??n,T=f(E);return af(T,w),w},m=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of m){const x=g.parent&&g.parent.length>0?cl(g.parent):n,b=f(x);if(g.kind==="dir"){const w=f(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&af(b,w);continue}const y={id:g.path,name:g.name,kind:"file",language:h_(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,y),af(b,y)}return c}function af(e,n){const r=e.children??[],i=r.some(c=>c.id===n.id)?r.map(c=>c.id===n.id?n:c):[...r,n];e.children=i.sort(f_)}function f_(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function h_(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return u_[i]}function tx(e){const n=cl(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function m_(e){const n=cl(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function cl(e){return e?e.replace(/\/+$/,""):""}function tr(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=tr(r,n);if(i)return i}return null}function lb(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=lb(n);if(r)return r}return null}function p_({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(()=>!i),[w,E]=p.useState(!1),T=p.useRef(new Set),_=p.useRef([]),D=p.useRef(""),U=p.useRef([]),j=p.useCallback(M=>{m(R=>R===M?R:M),x(R=>{const Q=R.filter(ye=>_.current.some(Ee=>Ee.id===ye));if(!M)return Q;const F=Q.filter(ye=>ye!==M);return[M,...F]})},[]);p.useEffect(()=>{D.current=f},[f]),p.useEffect(()=>{U.current=g},[g]),p.useEffect(()=>{if(!e){u([]),m(""),x([]);return}u(R=>R.filter(Q=>!!tr(e,Q.id)).map(Q=>{const F=tr(e,Q.id);return!F||F.kind!=="file"?Q:{...Q,name:F.name,language:F.language,metadata:F.metadata}}));const M=D.current;(!M||!tr(e,M))&&j("")},[e,j]);const L=p.useMemo(()=>c.find(M=>M.id===f)??c[0]??null,[f,c]),W=p.useCallback(async M=>{if(!_.current.some(Q=>Q.id===M))return;let R=!1;if(u(Q=>Q.map(F=>F.id!==M?F:F.status==="ready"?(R=!0,F):{...F,status:"loading",error:null})),!R)try{const Q=await r(M);u(F=>F.map(ye=>ye.id===M?{...ye,initialContent:Q.content,content:Q.content,status:"ready",error:null,etag:Q.etag??null,saving:!1,saveError:null}:ye))}catch(Q){const F=Q instanceof Error?Q.message:"Unable to load file.";u(ye=>ye.map(Ee=>Ee.id===M?{...Ee,status:"error",error:F}:Ee))}},[r]),Z=p.useCallback((M,R)=>{if(!e)return;const Q=tr(e,M);!Q||Q.kind!=="file"||(u(F=>{if(F.some(Ee=>Ee.id===M))return F;const ye={id:Q.id,name:Q.name,language:Q.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:Q.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...F,ye]}),(R?.activate??!0)&&j(M))},[e,j]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const M=i.get(),Q=(M?.openTabs??[]).map(F=>typeof F=="string"?{id:F,pinned:!1}:F).filter(F=>!!(F&&F.id));if(Q.length>0){const F=[];for(const ye of Q){const Ee=tr(e,ye.id);!Ee||Ee.kind!=="file"||F.push({id:Ee.id,name:Ee.name,language:Ee.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:Ee.metadata,pinned:!!ye.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(F.length>0){u(F);const ye=(M?.activeTabId&&F.some(I=>I.id===M.activeTabId)?M.activeTabId:F[0]?.id)??"";m(ye);const _e=(M?.mru&&M.mru.length>0?M.mru:F.map(I=>I.id)).filter(I=>F.some(Ce=>Ce.id===I));x(_e),E(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||E(!0);return}if(w)return;const M=n&&tr(e,n)||lb(e);if(!M){E(!0);return}Z(M.id),E(!0)},[e,n,Z,b,c.length,w]);const J=p.useCallback(M=>{Z(M)},[Z]),H=p.useCallback(M=>{j(M),u(R=>R.map(Q=>Q.id===M&&Q.status==="error"?{...Q,status:"loading",error:null}:Q))},[j]),$=p.useCallback(M=>{u(R=>{const Q=R.filter(Ee=>Ee.id!==M),F=D.current,ye=F===M?Q[Q.length-1]?.id??"":Q.some(Ee=>Ee.id===F)?F:Q[Q.length-1]?.id??"";return j(ye),Q})},[j]),G=p.useCallback(M=>{u(R=>!R.some(Q=>Q.id===M)||R.length<=1?R:(j(M),R.filter(Q=>Q.id===M)))},[j]),te=p.useCallback(M=>{u(R=>{const Q=R.findIndex(Ee=>Ee.id===M);if(Q===-1||Q===R.length-1)return R;const F=R.slice(0,Q+1),ye=F.some(Ee=>Ee.id===D.current)?D.current:M;return j(ye),F})},[j]),re=p.useCallback(()=>{u([]),m(""),x([])},[]),ce=p.useCallback((M,R,Q)=>{u(F=>{if(F.length<=1)return F;const ye=F.findIndex(Le=>Le.id===M);if(ye===-1)return F;const Ee=Math.max(0,Math.min(R,F.length));let _e=Ee;ye<Ee&&(_e-=1);const I=[],Ce=[];let ke=null;if(F.forEach((Le,Ne)=>{if(Ne===ye){ke=Le;return}Le.pinned?I.push(Le):Ce.push(Le)}),!ke)return F;if((Q?.zone??(_e<=I.length?"pinned":"regular"))==="pinned"){const Le=Math.max(0,Math.min(_e,I.length));I.splice(Le,0,{...ke,pinned:!0})}else{const Le=Math.max(0,Math.min(_e-I.length,Ce.length));Ce.splice(Le,0,{...ke,pinned:!1})}return[...I,...Ce]})},[]),le=p.useCallback(M=>{u(R=>{const Q=[],F=[];let ye=null;for(const _e of R){if(_e.id===M){ye=_e;continue}_e.pinned?Q.push(_e):F.push(_e)}if(!ye||ye.pinned)return R;const Ee={...ye,pinned:!0};return[...Q,Ee,...F]})},[]),pe=p.useCallback(M=>{u(R=>{const Q=[],F=[];let ye=null;for(const _e of R){if(_e.id===M){ye=_e;continue}_e.pinned?Q.push(_e):F.push(_e)}if(!ye||!ye.pinned)return R;const Ee={...ye,pinned:!1};return[...Q,Ee,...F]})},[]),ie=p.useCallback((M,R)=>{R?le(M):pe(M)},[le,pe]),O=p.useCallback(M=>{const R=U.current.filter(Ce=>_.current.some(ke=>ke.id===Ce));if(R.length<=1)return;const Q=D.current||R[0],F=R.indexOf(Q),_e=((F>=0?F:0)+(M==="forward"?1:-1)+R.length)%R.length,I=R[_e];I&&I!==Q&&j(I)},[j]),X=p.useCallback((M,R)=>{u(Q=>Q.map(F=>F.id===M?{...F,content:R,status:F.status==="ready"?F.status:"ready",error:null,saveError:null}:F))},[]),ge=p.useCallback(M=>{u(R=>R.map(Q=>Q.id===M?{...Q,saving:!0,saveError:null}:Q))},[]),ve=p.useCallback((M,R)=>{u(Q=>Q.map(F=>{if(F.id!==M)return F;const ye=R?.metadata??F.metadata??null,Ee=R?.etag??F.etag??null;return{...F,saving:!1,saveError:null,initialContent:F.content,etag:Ee,metadata:ye&&{...ye,etag:ye.etag??Ee??null},lastSavedAt:new Date().toISOString()}}))},[]),be=p.useCallback((M,R)=>{u(Q=>Q.map(F=>F.id===M?{...F,saving:!1,saveError:R}:F))},[]),C=p.useCallback((M,R)=>{u(Q=>Q.map(F=>F.id!==M?F:{...F,content:R.content,initialContent:R.content,status:"ready",error:null,saving:!1,saveError:null,etag:R.etag??F.etag??null,metadata:R.metadata??F.metadata}))},[]),q=p.useMemo(()=>c.some(M=>M.status==="ready"&&M.content!==M.initialContent),[c]);return p.useEffect(()=>{_.current=c},[c]),p.useEffect(()=>{x(M=>{const R=M.filter(Q=>c.some(F=>F.id===Q));return R.length===M.length?M:R})},[c]),p.useEffect(()=>{const M=new Set(c.map(R=>R.id));for(const R of T.current)M.has(R)||T.current.delete(R);for(const R of c){if(R.status!=="loading"||T.current.has(R.id))continue;T.current.add(R.id),W(R.id).finally(()=>{T.current.delete(R.id)})}},[c,W]),p.useEffect(()=>{!i||!b||i.set({openTabs:c.map(M=>({id:M.id,pinned:!!M.pinned})),activeTabId:f||null,mru:g})},[i,c,f,g,b]),{tree:e,tabs:c,activeTabId:f,activeTab:L,openFile:J,selectTab:H,closeTab:$,closeOtherTabs:G,closeTabsToRight:te,closeAllTabs:re,moveTab:ce,pinTab:le,unpinTab:pe,toggleTabPin:ie,selectRecentTab:O,updateContent:X,beginSavingTab:ge,completeSavingTab:ve,failSavingTab:be,replaceTabContent:C,isDirty:q}}function ob(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(r,String(u))}return n}const cb=p.createContext(null);function g_({value:e,children:n}){return p.createElement(cb.Provider,{value:e},n)}function lh(){const e=p.useContext(cb),n=os(),r=wn(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,x=ob(m).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;r(b,{replace:f?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??c]}const nr={tab:"editor",pane:"console",console:"closed",view:"editor"},x_=["tab","pane","console","view","file","path"];function v_(e){return e==="open"?"open":"closed"}function b_(e){return e==="validation"||e==="problems"?"validation":"console"}function y_(e){return e==="split"||e==="zen"?e:"editor"}function ub(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:r==="editor"?"editor":nr.tab,pane:b_(i),console:v_(c),view:y_(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function rf(e,n){const r=ub(e),i={...nr,...r,...n},c=new URLSearchParams(e);for(const u of x_)c.delete(u);return i.tab!==nr.tab&&c.set("tab",i.tab),i.pane!==nr.pane&&c.set("pane",i.pane),i.console!==nr.console&&c.set("console",i.console),i.view!==nr.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function w_(){const[e,n]=lh(),r=p.useMemo(()=>ub(e),[e]),i=p.useCallback(f=>{r.file===f||!f&&!r.present.file||n(m=>rf(m,{file:f??void 0}),{replace:!0})},[n,r.file,r.present.file]),c=p.useCallback(f=>{r.pane!==f&&n(m=>rf(m,{pane:f}),{replace:!0})},[n,r.pane]),u=p.useCallback(f=>{r.console!==f&&n(m=>rf(m,{console:f}),{replace:!0})},[n,r.console]);return{fileId:r.file??nr.file,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:c,setConsole:u}}const S_="You have unsaved changes in the config editor. Are you sure you want to leave?";function j_({isDirty:e,confirm:n=window.confirm,message:r=S_,shouldBypassNavigation:i}){const c=os(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(r),[n,e,c.pathname,r,i]);k1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=r,r);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,r])}const nx="(prefers-color-scheme: dark)";function sx(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function E_(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function __(e){const n=p.useMemo(()=>Oa(e),[e]),[r,i]=p.useState(()=>{const g=n.get();return sx(g)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(nx).matches);p.useEffect(()=>{const g=sx(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(nx),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const f=p.useMemo(()=>E_(r,c),[r,c]),m=p.useCallback(g=>{i(g)},[]);return{preference:r,resolvedTheme:f,setPreference:m}}function lf(e,n,r){return Math.min(Math.max(e,n),r)}function of(e,n){e.preventDefault();const r=c=>{n(c)},i=()=>{document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",i)};document.addEventListener("pointermove",r),document.addEventListener("pointerup",i)}const C_="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",N_="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function k_({label:e,icon:n,disabled:r,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:g,menuAriaLabel:x="Open menu",menuIcon:b=o.jsx(T_,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:E}){const T=p.useRef(null),_=!!(r||i),D=U=>{if(_)return;U.preventDefault();const j=T.current?.getBoundingClientRect();if(j){w?.({x:j.left,y:j.bottom});return}w?.({x:U.clientX,y:U.clientY})};return o.jsxs("div",{role:"group",className:we("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[o.jsxs("button",{type:"button",title:g,disabled:_,className:we(C_,f),onClick:U=>{_||y?.(U)},children:[n,o.jsx("span",{className:"whitespace-nowrap",children:e})]}),o.jsx("button",{ref:T,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:_,className:we(N_,m),onClick:D,children:b})]})}function T_(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const A_={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function bt({title:e,description:n,action:r,variant:i="empty",className:c}){return o.jsxs("div",{className:we("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[o.jsx("span",{"aria-hidden":"true",className:we("mb-4 h-8 w-8 rounded-full border-current",A_[i])}),o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?o.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?o.jsx("div",{className:"mt-4",children:r}):null]})}const M_=new TextEncoder;async function D_(e,n={}){const{signal:r,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:r});if(!m)throw new Error("Expected configuration page payload.");return m}async function z_(e,n,r){const{data:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}",{params:{path:{workspace_id:e,config_id:n}},signal:r});return i??null}async function R_(e,n){const{data:r}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/validate",{params:{path:{workspace_id:e,config_id:n}}});if(!r)throw new Error("Expected validation payload.");return r}async function O_(e,n,r={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:g,sort:x,order:b,signal:y}=r,{data:w}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files",{params:{path:{workspace_id:e,config_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:g??void 0,sort:x,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function ax(e,n,r,i){const{data:c}=await Pe.GET("/api/v1/workspaces/{workspace_id}/configurations/{config_id}/files/{file_path}",{params:{path:{workspace_id:e,config_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function L_(e,n,r){const i=q_(r.path),c=r.parents?"?parents=1":"",u=await kS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:M_.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const m=await Z_(u),g=m?.title??`Request failed with status ${u.status}`;throw new Xn(g,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}function U_(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",config_id:e.configId.trim()}}async function B_(e,n){const{data:r}=await Pe.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:U_(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}function q_(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function Z_(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const yn={root:e=>["workspaces",e,"configs"],list:(e,n={})=>[...yn.root(e),"list",{...n}],detail:(e,n)=>[...yn.root(e),"detail",n],versions:(e,n)=>[...yn.detail(e,n),"versions"],version:(e,n,r)=>[...yn.detail(e,n),"version",r],scripts:(e,n,r)=>[...yn.version(e,n,r),"scripts"],script:(e,n,r,i)=>[...yn.scripts(e,n,r),"script",i],manifest:(e,n,r)=>[...yn.version(e,n,r),"manifest"],files:(e,n)=>[...yn.detail(e,n),"files"],file:(e,n,r)=>[...yn.files(e,n),"file",r]};function H_({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:g,pageToken:x,sort:b="path",order:y="asc"}=i;return bs({queryKey:[...yn.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",g??"",x??"",b,y],queryFn:({signal:w})=>O_(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:g,pageToken:x,sort:b,order:y,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function $_(e,n){const r=Ct();return An({mutationFn:i=>L_(e,n,i),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:yn.files(e,n)}),r.invalidateQueries({queryKey:yn.file(e,n,c.path)})])}})}function V_(e,n){return An({mutationFn:()=>R_(e,n)})}const Q_=/\r?\n/,rx=new TextDecoder;async function*db(e){const n=e.body;if(!n)throw new Error("Response body is not a readable stream.");const r=n.getReader();let i="";try{for(;;){const{value:u,done:f}=await r.read();if(f)break;for(i+=rx.decode(u,{stream:!0});;){const m=i.search(Q_);if(m===-1)break;const g=i.slice(0,m);i=i.slice(m+(i[m]==="\r"?2:1));const x=g.trim();x&&(yield JSON.parse(x))}}i+=rx.decode();const c=i.trim();c&&(yield JSON.parse(c))}finally{r.releaseLock()}}async function*F_(e,n,r={},i){const c=`/workspaces/${encodeURIComponent(e)}/configs/${encodeURIComponent(n)}/builds`,u=await Yf(c,{stream:!0,options:r},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:i});for await(const f of db(u))yield f}async function*I_(e,n={},r){const i=`/configs/${encodeURIComponent(e)}/runs`,c=await Yf(i,{stream:!0,options:n},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:r});for await(const u of db(c))yield u}const G_={schema:{const:"ade.telemetry/run-event.v1"}},Y_={properties:G_},K_=Y_.properties?.schema?.const;function W_(e){return e.schema===K_}const X_={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Tn(e){const n=typeof e=="number"?new Date(e*1e3):e;return Number.isNaN(n.getTime())?"":n.toLocaleTimeString([],X_)}function P_(e){switch(e.type){case"build.created":return{level:"info",message:`Build ${e.build_id} created (status: ${e.status}).`,timestamp:Tn(e.created)};case"build.step":return nC(e);case"build.log":return aC(e);case"build.completed":return rC(e);default:return{level:"info",message:JSON.stringify(e),timestamp:Tn(e.created)}}}function J_(e){if(W_(e))return eC(e);switch(e.type){case"run.created":return{level:"info",message:`Run ${e.run_id} created (status: ${e.status}).`,timestamp:Tn(e.created)};case"run.started":return{level:"info",message:"Run started.",timestamp:Tn(e.created)};case"run.log":return iC(e);case"run.completed":return lC(e);default:return{level:"info",message:JSON.stringify(e),timestamp:Tn(e.created)}}}function eC(e){const{event:n,timestamp:r}=e,{event:i,level:c,...u}=n,f=tC(c),m=Object.keys(u).length>0?` ${JSON.stringify(u)}`:"";return{level:f,message:m?`Telemetry: ${i}${m}`:`Telemetry: ${i}`,timestamp:Tn(new Date(r))}}function tC(e){switch(e){case"warning":return"warning";case"error":case"critical":return"error";default:return"info"}}function nC(e){const n=sC[e.step]??e.step.replaceAll("_"," ");return{level:"info",message:e.message?.trim()?e.message:n,timestamp:Tn(e.created)}}const sC={create_venv:"Creating virtual environment",upgrade_pip:"Upgrading pip inside the build environment",install_engine:"Installing ade_engine package",install_config:"Installing configuration package",verify_imports:"Verifying ADE imports",collect_metadata:"Collecting build metadata"};function aC(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Tn(e.created)}}function rC(e){const n=Tn(e.created);if(e.status==="active")return{level:"success",message:e.summary?.trim()||"Build completed successfully.",timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Build was canceled before completion.",timestamp:n};const r=e.error_message?.trim()||"Build failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${r}${i}`,timestamp:n}}function iC(e){return{level:e.stream==="stderr"?"warning":"info",message:e.message,timestamp:Tn(e.created)}}function lC(e){const n=Tn(e.created);if(e.status==="succeeded")return{level:"success",message:`Run completed successfully${typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:""}.`,timestamp:n};if(e.status==="canceled")return{level:"warning",message:"Run was canceled before completion.",timestamp:n};const r=e.error_message?.trim()||"Run failed.",i=typeof e.exit_code=="number"?` (exit code ${e.exit_code})`:"";return{level:"error",message:`${r}${i}`,timestamp:n}}const fb=p.createContext(null),oC=6e3,cC=7e3,ix=4;function uC({children:e}){const[n,r]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{r(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??lx(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?oC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const T=[...y.persistKey?w.filter(_=>_.persistKey!==y.persistKey):w,y];return T.length>ix?T.slice(T.length-ix):T}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??lx(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:cC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(T=>T.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),g=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&r(w=>w.filter(E=>E.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(E=>E.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:g}),[n,i,f,m,u,g]);return o.jsxs(fb.Provider,{value:x,children:[e,o.jsx(dC,{})]})}function hb(){const e=p.useContext(fb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function dC(){const{toasts:e,banners:n,dismiss:r}=hb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:Da.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>o.jsx(hC,{banner:u,onDismiss:r},u.id))}),o.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>o.jsx(fC,{toast:u,onDismiss:r},u.id))})]}),document.body)}function fC({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=mC[e.intent];return o.jsxs("div",{className:we("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:we("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??pb(e.intent)}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[o.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?o.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>o.jsx(mb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?o.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:o.jsx(gb,{})}):null]}),r&&e.duration?o.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:o.jsx("div",{className:we("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function hC({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=pC[e.intent];return o.jsxs("div",{className:we("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:we("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??pb(e.intent)}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[o.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?o.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?o.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>o.jsx(mb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?o.jsx("button",{type:"button",className:we("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:o.jsx(gb,{})}):null]}),r&&e.duration?o.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:o.jsx("div",{className:we("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function mb({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",c=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return o.jsx("button",{type:"button",className:we("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function pb(e){switch(e){case"success":return o.jsx(xC,{});case"warning":return o.jsx(vC,{});case"danger":return o.jsx(bC,{});default:return o.jsx(gC,{})}}const mC={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},pC={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function lx(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function gC(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),o.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function xC(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vC(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),o.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function bC(){return o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),o.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function gb(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function yC(){const e=hb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const ox={min:200,max:420},cx={min:260,max:420},ux={max:420},Ko=320,Wo=140,dx=220,Xo=400,fx=4,hx="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",wC=(e,n)=>`ade.ui.workspace.${e}.config.${n}.tabs`,SC=(e,n)=>`ade.ui.workspace.${e}.config.${n}.console`,jC=(e,n)=>`ade.ui.workspace.${e}.config.${n}.editor-theme`,EC=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],_C={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function xb({workspaceId:e,configId:n,configName:r,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=Ct(),{fileId:y,pane:w,console:E,consoleExplicit:T,setFileId:_,setPane:D,setConsole:U}=w_(),j=!!i,L=H_({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!j}),W=p.useMemo(()=>i?i.tree:L.data?d_(L.data):null,[i,L.data]),[Z,J]=p.useState(()=>i?.console?i.console.slice(-Xo):[]);p.useEffect(()=>{i?.console&&J(i.console.slice(-Xo))},[i?.console]);const[H,$]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),G=p.useRef(null),te=p.useRef(!0),[re,ce]=p.useState(null),le=p.useCallback(ne=>{if(!te.current)return;const xe=Tn(new Date);J([{level:"info",message:ne,timestamp:xe}])},[J]),pe=p.useCallback(ne=>{te.current&&J(xe=>{const ze=[...xe,ne];return ze.length>Xo?ze.slice(ze.length-Xo):ze})},[J]);p.useEffect(()=>{i?.validation&&$({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(te.current=!0,()=>{te.current=!1,G.current?.abort()}),[]);const ie=V_(e,n),O=p.useMemo(()=>i?null:Oa(wC(e,n)),[e,n,i]),X=p.useMemo(()=>i?null:Oa(SC(e,n)),[e,n,i]),ge=p.useRef(null);!ge.current&&X&&(ge.current=X.get()??null);const ve=__(jC(e,n)),be=ve.resolvedTheme==="vs-light"?"light":"dark",C=H.lastRunAt?`Last run ${ZC(H.lastRunAt)}`:void 0,[q,M]=p.useState({collapsed:!1,width:280}),[R,Q]=p.useState({collapsed:!1,width:300}),[F,ye]=p.useState(()=>ge.current?.height??dx),[Ee,_e]=p.useState(!1),[I,Ce]=p.useState(null),[ke,Fe]=p.useState(0),[Le,Ne]=p.useState(!1),[Ve,st]=p.useState("explorer"),[at,Jt]=p.useState(null),[N,V]=p.useState(null),[A,me]=p.useState(!1),[se,de]=p.useState(!1),{notifyBanner:je,dismissScope:He}=yC(),ue=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Se=p.useCallback((ne,xe)=>{je({title:ne,intent:xe?.intent??"info",duration:xe?.duration??6e3,dismissible:!0,scope:ue,persistKey:ue})},[je,ue]),Be=p.useCallback(()=>{He(ue,"banner")},[He,ue]),rt=p.useCallback(ne=>{if(!te.current)return;const xe=qC(ne);pe({level:"error",message:xe,timestamp:Tn(new Date)}),Se(xe,{intent:"danger",duration:null})},[pe,Se]),Ht=c==="maximized",en=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Ot=p.useCallback(()=>{g()},[g]),Sn=p.useCallback(ne=>{V(ne)},[]),St=p.useCallback(()=>V(null),[]),ta=!q.collapsed,Ns=p.useCallback(async ne=>{if(i)return{content:i.content[ne]??"",etag:null};const xe=await b.fetchQuery({queryKey:yn.file(e,n,ne),queryFn:({signal:ze})=>ax(e,n,ne,ze)});if(!xe)throw new Error("File could not be loaded.");return{content:mx(xe),etag:xe.etag??null}},[i,b,e,n]),De=p_({tree:W,initialActiveFileId:y,loadFile:Ns,persistence:O??void 0}),ks=$_(e,n),Ts=p.useCallback(async ne=>{if(j)return null;const xe=await b.fetchQuery({queryKey:yn.file(e,n,ne),queryFn:({signal:Ze})=>ax(e,n,ne,Ze)}),ze=mx(xe);return De.replaceTabContent(ne,{content:ze,etag:xe.etag??null,metadata:{size:xe.size??null,modifiedAt:xe.mtime??null,contentType:xe.content_type??De.tabs.find(Ze=>Ze.id===ne)?.metadata?.contentType??null,etag:xe.etag??null}}),xe},[j,b,e,n,De]);j_({isDirty:De.isDirty,shouldBypassNavigation:x});const jt=p.useCallback(()=>{u()},[u]),Et=p.useCallback(()=>{Ht?m():f()},[Ht,f,m]),$t=p.useCallback(()=>{me(ne=>!ne)},[]),_t=E!=="open",rn=p.useMemo(()=>De.tabs.filter(ne=>ne.status==="ready"&&ne.content!==ne.initialContent),[De.tabs]),ln=De.tabs.some(ne=>ne.saving),kt=!j&&rn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("ade:workbench-layout"))})},[q.collapsed,q.width,R.collapsed,R.width,_t,F,Ht]);const tn=p.useCallback(async ne=>{if(j)return!1;const xe=De.tabs.find(ze=>ze.id===ne);if(!xe||xe.status!=="ready"||xe.content===xe.initialContent||xe.saving)return!1;De.beginSavingTab(ne);try{const ze=await ks.mutateAsync({path:xe.id,content:xe.content,etag:xe.etag??void 0,create:!xe.etag,parents:!0}),Ze={size:ze.size??xe.metadata?.size??null,modifiedAt:ze.mtime??xe.metadata?.modifiedAt??null,contentType:xe.metadata?.contentType??null,etag:ze.etag??xe.metadata?.etag??null};return De.completeSavingTab(ne,{etag:ze.etag??xe.etag??null,metadata:Ze}),Se(`Saved ${xe.name}`,{intent:"success",duration:4e3}),!0}catch(ze){const Ze=ze instanceof Xn&&ze.status===412,ot=Ze?new Error("Save blocked because this file changed on the server. Reloading latest version."):ze;if(De.failSavingTab(ne,ot instanceof Error?ot.message:String(ot)),Ze)try{await Ts(ne),Se("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Qt){rt(Qt)}return rt(ot),!1}},[j,De,ks,Se,Ts,rt]),Tt=p.useCallback(async ne=>{const xe=[];for(const ze of ne)await tn(ze)&&xe.push(ze);return xe},[tn]),Mn=p.useCallback(ne=>{tn(ne)},[tn]),mn=p.useCallback(()=>{De.activeTab&&tn(De.activeTab.id)},[De.activeTab,tn]),Cn=p.useCallback(()=>{if(!kt)return;const ne=rn.map(xe=>xe.id);(async()=>{const xe=await Tt(ne);xe.length>1&&Se(`Saved ${xe.length} files`,{intent:"success",duration:5e3})})()},[kt,rn,Tt,Se]);p.useEffect(()=>{if(!I){Fe(0),Ne(!1);return}const ne=()=>{Fe(I.getBoundingClientRect().height),Ne(!0)};if(ne(),!(typeof window>"u")){if("ResizeObserver"in window){const xe=new window.ResizeObserver(()=>ne());return xe.observe(I),()=>xe.disconnect()}return window.addEventListener("resize",ne),()=>{window.removeEventListener("resize",ne)}}},[I]);const on=p.useMemo(()=>{if(!Le)return{min:Wo,max:ux.max,canFitMin:!0,hasMeasurement:!1};const ne=Math.max(0,ke-Ko-fx),xe=Math.min(ux.max,ne);return{min:Math.min(Wo,xe),max:xe,canFitMin:ne>=Wo,hasMeasurement:!0}},[ke,Le]),pn=p.useCallback(ne=>{const{max:xe}=on;if(xe<=0)return 0;const ze=Math.min(Math.max(Wo,0),xe);return lf(ne,ze,xe)},[on]);p.useEffect(()=>{ye(ne=>pn(ne))},[pn]),p.useEffect(()=>{if(typeof window>"u")return;const ne=ze=>{de(ze.shiftKey||ze.altKey)},xe=()=>de(!1);return window.addEventListener("keydown",ne),window.addEventListener("keyup",ne),window.addEventListener("blur",xe),()=>{window.removeEventListener("keydown",ne),window.removeEventListener("keyup",ne),window.removeEventListener("blur",xe)}},[]);const cn=p.useCallback(()=>on.hasMeasurement&&!on.canFitMin?(U("closed"),Se(hx,{intent:"warning",duration:1e4}),!1):(Be(),U("open"),ye(ne=>pn(ne>0?ne:dx)),!0),[on,pn,U,Se,Be]),us=p.useCallback(()=>{U("closed"),Be()},[U,Be]);p.useEffect(()=>{if(Ee)return;const ne=ge.current?.state;if(T||!ne){_e(!0);return}ne!==E&&U(ne),_e(!0)},[T,E,U,Ee]),p.useEffect(()=>{X&&X.set({height:F,state:E})},[X,F,E]),p.useEffect(()=>{if(!(E!=="open"||!on.hasMeasurement)){if(!on.canFitMin){U("closed"),Se(hx,{intent:"warning",duration:1e4});return}ye(ne=>pn(ne))}},[E,on,pn,U,Se]),p.useEffect(()=>{const ne=De.activeTabId;if(!ne){_(void 0);return}_(ne)},[De.activeTabId,_]);const Dn=p.useCallback(()=>{if(j||!W||L.isLoading||L.isError||re!==null||ie.isPending||!cn())return;const xe=new Date().toISOString();D("console"),le("Starting ADE run (validate-only)"),$(Ze=>({...Ze,status:"running",lastRunAt:xe,error:null}));const ze=new AbortController;G.current?.abort(),G.current=ze,ce({kind:"run",startedAt:xe}),(async()=>{try{for await(const Ze of I_(n,{validate_only:!0},ze.signal)){if(pe(J_(Ze)),!te.current)return;if(Ze.type==="run.completed"){const ot=Ze.status==="succeeded"?"ADE run completed successfully.":Ze.status==="canceled"?"ADE run canceled.":Ze.error_message?.trim()||"ADE run failed.",Qt=Ze.status==="succeeded"?"success":Ze.status==="canceled"?"info":"danger";Se(ot,{intent:Qt})}}}catch(Ze){if(Ze instanceof DOMException&&Ze.name==="AbortError")return;rt(Ze)}finally{G.current===ze&&(G.current=null),te.current&&ce(null)}})(),ie.mutate(void 0,{onSuccess(Ze){const Qt=(Ze.issues??[]).map(Lt=>({level:"error",message:Lt.message,path:Lt.path}));$({status:"success",messages:Qt,lastRunAt:xe,error:null,digest:Ze.content_digest??null})},onError(Ze){const ot=Ze instanceof Error?Ze.message:"Validation failed.";$({status:"error",messages:[{level:"error",message:ot}],lastRunAt:xe,error:ot,digest:null})}})},[j,W,L.isLoading,L.isError,re,ie,cn,D,le,G,ce,n,pe,rt,Se]),gt=p.useCallback(ne=>{if(St(),j||!W||L.isLoading||L.isError||re!==null||!cn())return;const xe=typeof ne?.force=="boolean"?ne.force:se,ze=!!ne?.wait,Ze=new Date().toISOString();D("console"),le(xe?"Force rebuilding environment":"Starting configuration build");const ot=Tn(new Date);xe?pe({level:"warning",message:"Force rebuild requested. ADE will recreate the environment from scratch.",timestamp:ot}):ze&&pe({level:"info",message:"Waiting for any running build to finish before starting.",timestamp:ot});const Qt=new AbortController;G.current?.abort(),G.current=Qt,ce({kind:"build",startedAt:Ze,metadata:{force:xe,wait:ze}}),(async()=>{try{for await(const Lt of F_(e,n,{force:xe,wait:ze},Qt.signal)){if(pe(P_(Lt)),!te.current)return;if(Lt.type==="build.completed"){const En=Lt.summary?.trim();if(En&&/reused/i.test(En))pe({level:"info",message:"Environment reused. Hold Shift or open the build menu to force a rebuild.",timestamp:Tn(new Date)}),Se("Environment already up to date. Hold Shift or use the menu to force rebuild.",{intent:"info"});else{const pi=Lt.status==="active"?En||"Build completed successfully.":Lt.status==="canceled"?"Build canceled.":Lt.error_message?.trim()||"Build failed.",Rl=Lt.status==="active"?"success":Lt.status==="canceled"?"info":"danger";Se(pi,{intent:Rl})}}}}catch(Lt){if(Lt instanceof DOMException&&Lt.name==="AbortError")return;rt(Lt)}finally{G.current===Qt&&(G.current=null),te.current&&ce(null)}})()},[j,W,L.isLoading,L.isError,re,St,cn,se,D,le,pe,G,ce,e,n,rt,Se]);p.useEffect(()=>{if(typeof window>"u")return;const ne=xe=>{if(!(en?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key.toLowerCase()!=="b")return;const Ze=xe.target;if(Ze){const ot=Ze.tagName;if(ot==="INPUT"||ot==="TEXTAREA"||Ze.isContentEditable)return}xe.preventDefault(),gt({force:xe.shiftKey,source:"shortcut"})};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[gt,en]),p.useEffect(()=>{if(typeof window>"u")return;const ne=xe=>{if(!(en?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key.toLowerCase()!=="s")return;const Ze=xe.target;if(Ze){const ot=Ze.tagName;if(ot==="INPUT"||ot==="TEXTAREA"||Ze.isContentEditable)return}kt&&(xe.preventDefault(),mn())};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[en,kt,mn]);const jn=re?.kind==="run",na=re?.kind==="build",hr=re!==null,Uc=H.status==="running"||ie.isPending||jn,Bc=!j&&!!W&&!L.isLoading&&!L.isError&&!hr&&!ie.isPending&&H.status!=="running",Al=na,As=!j&&!!W&&!L.isLoading&&!L.isError&&!hr,hi=p.useCallback(ne=>{st(ne),ne==="explorer"&&M(xe=>({...xe,collapsed:!1}))},[]),sa=p.useCallback(ne=>{ne.preventDefault();const xe=ne.currentTarget.getBoundingClientRect();Jt({x:xe.right+8,y:xe.top})},[]),aa=p.useCallback(()=>Jt(null),[]),Ms=p.useCallback(()=>{_t?cn():us()},[_t,cn,us]),ra=p.useCallback(()=>{M(ne=>({...ne,collapsed:!ne.collapsed}))},[]),Vt=p.useCallback(()=>{M(ne=>({...ne,collapsed:!0}))},[]),Ml=p.useCallback(()=>{Q(ne=>({...ne,collapsed:!ne.collapsed}))},[]),Dl=p.useMemo(()=>{const ne=o.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),xe=EC.map(ze=>({id:`theme-${ze.value}`,label:`${ze.label} theme`,icon:ve.preference===ze.value?o.jsx(Po,{}):ne,onSelect:()=>ve.setPreference(ze.value)}));return xe.push({id:"toggle-explorer",label:q.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:q.collapsed?ne:o.jsx(Po,{}),onSelect:()=>M(ze=>({...ze,collapsed:!ze.collapsed}))},{id:"toggle-inspector",label:R.collapsed?"Show Inspector":"Hide Inspector",icon:R.collapsed?ne:o.jsx(Po,{}),onSelect:()=>Q(ze=>({...ze,collapsed:!ze.collapsed}))},{id:"toggle-console",label:_t?"Show Console":"Hide Console",icon:_t?ne:o.jsx(Po,{}),onSelect:Ms}),xe},[ve,q.collapsed,R.collapsed,_t,Ms]);p.useEffect(()=>{if(typeof document>"u"||!Ht)return;const ne=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=ne||""}},[Ht]);const Ds=HC(e),ia=en?"S":"Ctrl+S",mi=en?"B":"Ctrl+B",mr=en?"B":"Ctrl+Shift+B",zl=p.useMemo(()=>{const ne=!As;return[{id:"build-default",label:"Build / reuse environment",shortcut:mi,disabled:ne,onSelect:()=>gt()},{id:"build-force",label:"Force rebuild now",shortcut:mr,disabled:ne,onSelect:()=>gt({force:!0})},{id:"build-force-wait",label:"Force rebuild after current build",disabled:ne,onSelect:()=>gt({force:!0,wait:!0})}]},[mi,mr,As,gt]);if(!i&&L.isLoading)return o.jsx(bt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&L.isError)return o.jsx(bt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!W)return o.jsx(bt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const qc=Ht?be==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":be==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",pr=be==="dark"?"#1b1f27":"#ffffff",gr=be==="dark"?"#f5f6fb":"#0f172a",ds=Ht?we("fixed inset-0 z-[90] flex flex-col",be==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):we("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",be==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return o.jsxs("div",{className:we("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",qc),children:[Ht?o.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,o.jsxs("div",{className:ds,children:[o.jsx(NC,{configName:r,workspaceLabel:Ds,validationLabel:C,canSaveFiles:kt,isSavingFiles:ln,onSaveFile:mn,saveShortcutLabel:ia,canBuildEnvironment:As,isBuildingEnvironment:Al,onBuildEnvironment:gt,onOpenBuildMenu:Sn,forceModifierActive:se,buildShortcutLabel:mi,forceShortcutLabel:mr,canRunValidation:Bc,isRunningValidation:Uc,onRunValidation:Dn,explorerVisible:ta,onToggleExplorer:ra,consoleOpen:!_t,onToggleConsole:Ms,inspectorCollapsed:R.collapsed,onToggleInspector:Ml,appearance:be,forceNextBuild:A,onToggleForceNextBuild:$t,windowState:c,onMinimizeWindow:jt,onToggleMaximize:Et,onCloseWindow:Ot}),o.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1",children:[o.jsx(Sj,{activeView:Ve,onSelectView:hi,onOpenSettings:sa,appearance:be}),ta?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex min-h-0",style:{width:q.width},children:Ve==="explorer"&&De.tree?o.jsx(G2,{width:q.width,tree:De.tree,activeFileId:De.activeTab?.id??"",openFileIds:De.tabs.map(ne=>ne.id),onSelectFile:ne=>{De.openFile(ne),_(ne)},theme:be,onCloseFile:De.closeTab,onCloseOtherFiles:De.closeOtherTabs,onCloseTabsToRight:De.closeTabsToRight,onCloseAllFiles:De.closeAllTabs,onHide:Vt}):o.jsx(CC,{width:q.width,view:Ve})}),o.jsx(sf,{orientation:"vertical",onPointerDown:ne=>{const xe=ne.clientX,ze=q.width;of(ne,Ze=>{const ot=Ze.clientX-xe,Qt=lf(ze+ot,ox.min,ox.max);M(Lt=>({...Lt,width:Qt}))})}})]}):null,o.jsx("div",{ref:Ce,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:pr,color:gr},children:_t?o.jsx(Y0,{tabs:De.tabs,activeTabId:De.activeTab?.id??"",onSelectTab:ne=>{De.selectTab(ne),_(ne)},onCloseTab:De.closeTab,onCloseOtherTabs:De.closeOtherTabs,onCloseTabsToRight:De.closeTabsToRight,onCloseAllTabs:De.closeAllTabs,onContentChange:De.updateContent,onSaveTab:Mn,onSaveAllTabs:Cn,onMoveTab:De.moveTab,onPinTab:De.pinTab,onUnpinTab:De.unpinTab,onSelectRecentTab:De.selectRecentTab,editorTheme:ve.resolvedTheme,menuAppearance:be,canSaveFiles:kt,minHeight:Ko}):o.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{gridTemplateRows:`minmax(${Ko}px, 1fr) ${fx}px ${Math.max(0,F)}px`},children:[o.jsx(Y0,{tabs:De.tabs,activeTabId:De.activeTab?.id??"",onSelectTab:ne=>{De.selectTab(ne),_(ne)},onCloseTab:De.closeTab,onCloseOtherTabs:De.closeOtherTabs,onCloseTabsToRight:De.closeTabsToRight,onCloseAllTabs:De.closeAllTabs,onContentChange:De.updateContent,onSaveTab:Mn,onSaveAllTabs:Cn,onMoveTab:De.moveTab,onPinTab:De.pinTab,onUnpinTab:De.unpinTab,onSelectRecentTab:De.selectRecentTab,editorTheme:ve.resolvedTheme,menuAppearance:be,canSaveFiles:kt,minHeight:Ko}),o.jsx(sf,{orientation:"horizontal",onPointerDown:ne=>{const xe=ne.clientY,ze=F;of(ne,Ze=>{const ot=xe-Ze.clientY,Qt=pn(ze+ot);ye(Qt)})}}),o.jsx(kj,{height:Math.max(0,F),consoleLines:Z,validation:H,activePane:w,onPaneChange:D})]})}),!R.collapsed&&De.activeTab?o.jsxs(o.Fragment,{children:[o.jsx(sf,{orientation:"vertical",onPointerDown:ne=>{const xe=ne.clientX,ze=R.width;of(ne,Ze=>{const ot=xe-Ze.clientX,Qt=lf(ze+ot,cx.min,cx.max);Q(Lt=>({...Lt,width:Qt}))})}}),o.jsx(l_,{width:R.width,file:De.activeTab})]}):null]})]}),o.jsx(vl,{open:!!N,position:N??void 0,onClose:St,items:zl,appearance:be}),o.jsx(vl,{open:!!at,position:at,onClose:aa,items:Dl,appearance:be})]})}function CC({width:e,view:n}){const r=_C[n]||"Coming soon";return o.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:r})}function Po(){return o.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function NC({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:f,canBuildEnvironment:m,isBuildingEnvironment:g,onBuildEnvironment:x,onOpenBuildMenu:b,forceNextBuild:y,forceModifierActive:w,buildShortcutLabel:E,forceShortcutLabel:T,canRunValidation:_,isRunningValidation:D,onRunValidation:U,explorerVisible:j,onToggleExplorer:L,consoleOpen:W,onToggleConsole:Z,inspectorCollapsed:J,onToggleInspector:H,appearance:$,windowState:G,onMinimizeWindow:te,onToggleMaximize:re,onCloseWindow:ce}){const le=$==="dark",pe=le?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",ie=le?"text-white/60":"text-slate-500",O=le?"bg-white/10 text-white hover:bg-white/20 disabled:bg-white/10 disabled:text-white/40":"bg-slate-100 text-slate-900 hover:bg-slate-200 disabled:bg-slate-50 disabled:text-slate-400",X=le?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",ge=le?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ve=G==="maximized",be=y||w,C=g?"Building":be?"Force rebuild":"Build environment",q=be?`Force rebuild (Shift+Click  ${T})`:`Build environment (${E})`;return o.jsxs("div",{className:we("flex items-center justify-between border-b px-4 py-2",pe),children:[o.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[o.jsx(kC,{}),o.jsxs("div",{className:"min-w-0 leading-tight",children:[o.jsx("div",{className:we("text-[10px] font-semibold uppercase tracking-[0.35em]",ie),children:"Config Workbench"}),o.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),o.jsxs("div",{className:we("text-[11px]",ie),title:n,children:["Workspace  ",n]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[r?o.jsx("span",{className:we("text-xs",ie),children:r}):null,o.jsxs("button",{type:"button",onClick:u,disabled:!i,className:we("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",X),title:`Save (${f})`,children:[c?o.jsx(cf,{}):o.jsx(BC,{}),c?"Saving":"Save"]}),o.jsx(k_,{label:C,icon:g?o.jsx(cf,{}):o.jsx(LC,{}),disabled:!m,isLoading:g,highlight:be&&!g,title:q,primaryClassName:we(O,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:we(O,"rounded-l-none px-2",le?"border-white/20":"border-slate-300"),menuAriaLabel:"Open build options",onPrimaryClick:M=>x({force:M.shiftKey||M.altKey||w}),onOpenMenu:M=>b({x:M.x,y:M.y}),onContextMenu:M=>{M.preventDefault(),b({x:M.clientX,y:M.clientY})}}),o.jsxs("button",{type:"button",onClick:U,disabled:!_,className:we("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",ge),children:[D?o.jsx(cf,{}):o.jsx(UC,{}),D?"Running":"Run validation"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wr,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:L,appearance:$,active:j,icon:o.jsx(TC,{active:j})}),o.jsx(Wr,{ariaLabel:J?"Show inspector":"Hide inspector",onClick:H,appearance:$,active:!J,icon:o.jsx(MC,{})}),o.jsx(Wr,{ariaLabel:W?"Hide console":"Show console",onClick:Z,appearance:$,active:W,icon:o.jsx(AC,{})})]}),o.jsxs("div",{className:we("flex items-center gap-2 border-l pl-3",$==="dark"?"border-white/20":"border-slate-200/70"),children:[o.jsx(Wr,{ariaLabel:"Minimize workbench",onClick:te,appearance:$,icon:o.jsx(RC,{})}),o.jsx(Wr,{ariaLabel:ve?"Restore workbench":"Maximize workbench",onClick:re,appearance:$,active:ve,icon:ve?o.jsx(zC,{}):o.jsx(DC,{})}),o.jsx(Wr,{ariaLabel:"Close workbench",onClick:ce,appearance:$,icon:o.jsx(OC,{})})]})]})]})}function Wr({ariaLabel:e,onClick:n,icon:r,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return o.jsx("button",{type:"button","aria-label":e,onClick:n,className:we("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:r})}function kC(){return o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function TC({active:e}){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),o.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function AC(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function MC(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function DC(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function zC(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function RC(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function OC(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function cf(){return o.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[o.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),o.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function LC(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M11 2.5a2.5 2.5 0 0 0-2.62 3.04L4 9.92 6.08 12l4.58-4.38A2.5 2.5 0 0 0 13.5 5 2.5 2.5 0 0 0 11 2.5Z",fill:"currentColor"}),o.jsx("path",{d:"M4 10l2 2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function UC(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function BC(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function qC(e){return e instanceof Xn?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function ZC(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function HC(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function mx(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function $C(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const vb=p.createContext(null);function bb(){const e=p.useContext(vb);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function VC({workspaceId:e,children:n}){const r=wn(),i=os(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Oa($C(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>KC(i.pathname,e),[i.pathname,e]),T=!!E;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{T||y.set(`${i.pathname}${i.search}${i.hash}`)},[T,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){x.current=null;return}const te=x.current;if(T&&E===c.configId){if(te==="dock"){x.current=null,m("minimized");return}te&&(x.current=null);return}if(te==="dock"){x.current=null;return}if(te==="close"){x.current=null;return}u(null),m("restored"),x.current=null},[c,T,E,f]),p.useEffect(()=>{if(!c||!T||E!==c.configId)return;const te=gx(i.search);te!==c.editorSearch&&u(re=>!re||re.instanceId!==c.instanceId?re:{...re,editorSearch:te})},[c,T,E,i.search]);const _=p.useCallback(()=>y.get()??w,[y,w]),D=p.useCallback(te=>{u(re=>{if(!re)return re;const ce=new URLSearchParams(re.editorSearch),le=typeof te=="function"?te(new URLSearchParams(ce)):te,ie=ob(le).toString();return ie===re.editorSearch?re:{...re,editorSearch:ie}})},[]),U=p.useCallback(te=>{const re=gx(te.editorSearch??i.search);let ce=f==="minimized";u(le=>{if(le&&le.workspaceId===te.workspaceId&&le.configId===te.configId){const pe=te.seed??le.seed,ie=te.editorSearch!==void 0?re:le.editorSearch;return le.configName===te.configName&&le.seed===pe&&le.editorSearch===ie?le:{...le,configName:te.configName,seed:pe,editorSearch:ie}}return ce=!0,g.current+=1,{...te,editorSearch:re,instanceId:`${te.workspaceId}:${te.configId}:${g.current}`}}),ce&&m("restored")},[i.search,f]),j=p.useCallback(()=>{c&&(u(null),m("restored"),x.current="close",r(_()))},[c,r,_]),L=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),x.current="dock",r(_()))},[c,r,_]),W=p.useCallback(()=>{if(!c)return;m("restored");const te=WC(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==te&&r(te)},[c,r,i.pathname,i.search]),Z=p.useCallback(()=>{c&&m("maximized")},[c]),J=p.useCallback(()=>{const te=b.current;return b.current=!1,te},[]),H=p.useMemo(()=>({session:c,windowState:f,openSession:U,closeSession:j,minimizeWindow:L,maximizeWindow:Z,restoreWindow:W,shouldBypassUnsavedGuard:J}),[c,f,U,j,L,Z,W,J]),$=!!c&&(!T||E!==c?.configId),G=p.useMemo(()=>$&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:D}:null,[$,c,D]);return o.jsxs(vb.Provider,{value:H,children:[n,o.jsx(g_,{value:G,children:o.jsx(QC,{session:c,windowState:f,onClose:j,onMinimize:L,onMaximize:Z,onRestore:W,shouldBypassUnsavedGuard:J})}),c&&f==="minimized"?o.jsx(FC,{configName:c.configName,onRestore:W,onDismiss:j}):null]})}function QC({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:o.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:o.jsx(xb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function FC({configName:e,onRestore:n,onDismiss:r}){return o.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:o.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:o.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[o.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:o.jsx(IC,{})}),o.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[o.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),o.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),o.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[o.jsx(px,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:o.jsx(GC,{})}),o.jsx(px,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:o.jsx(YC,{})})]})]})})})}function px({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return o.jsx("button",{type:"button","aria-label":e,onClick:n,className:we("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function IC(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function GC(){return o.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:o.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function YC(){return o.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[o.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),o.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function KC(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function WC(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function gx(e){return e?e.startsWith("?")?e.slice(1):e:""}function yb({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:y,variant:w="default",isLoading:E=!1,loadingLabel:T="Loading suggestions",filters:_,onSelectFilter:D,emptyState:U,onChange:j,onSubmit:L,onClear:W,onFocus:Z,onBlur:J,suggestions:H=[],onSelectSuggestion:$,renderSuggestion:G}){const te=p.useId(),re=e??te,ce=`${te}-suggestions`,le=p.useRef(null),pe=n!==void 0,[ie,O]=p.useState(r),[X,ge]=p.useState(!1),[ve,be]=p.useState(0),C=pe?n??"":ie,q=H.length>0,M=!!_?.length,R=X&&(q||E||!!U||M),Q=X&&!q&&!E&&!!U,F=!!(W||!pe),ye=u||"K",Ee=c??i;p.useEffect(()=>{pe||O(r)},[r,pe]),p.useEffect(()=>{be(0)},[H.length,C]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Ne=Ve=>{(Ve.metaKey||Ve.ctrlKey)&&Ve.key.toLowerCase()===f.toLowerCase()&&(Ve.preventDefault(),le.current?.focus())};return window.addEventListener("keydown",Ne),()=>window.removeEventListener("keydown",Ne)},[m,f]);const _e=Ne=>{Ne.preventDefault();const Ve=C.trim();!Ve&&!L||L?.(Ve)},I=Ne=>{pe||O(Ne),j?.(Ne)},Ce=()=>{C&&(pe||O(""),j?.(""),W?.(),le.current?.focus())},ke=Ne=>{Ne&&($?.(Ne),Ne.action?.(),ge(!1),le.current?.blur())},Fe=Ne=>{if(!R||!q){Ne.key==="Escape"&&(ge(!1),Ne.currentTarget.blur());return}if(Ne.key==="ArrowDown"){Ne.preventDefault(),be(Ve=>(Ve+1)%H.length);return}if(Ne.key==="ArrowUp"){Ne.preventDefault(),be(Ve=>(Ve-1+H.length)%H.length);return}if(Ne.key==="Enter"){Ne.preventDefault(),ke(H[ve]);return}Ne.key==="Escape"&&(Ne.preventDefault(),ge(!1),Ne.currentTarget.blur())},Le=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return o.jsxs("div",{className:we("relative",y),children:[o.jsx("div",{className:we("group/search overflow-hidden",Le,R&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:o.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":Ee,onSubmit:_e,children:[o.jsx("label",{htmlFor:re,className:"sr-only",children:Ee}),x??o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:o.jsx(PC,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?o.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,o.jsx("input",{ref:le,id:re,type:"search",value:C,onChange:Ne=>I(Ne.target.value),onFocus:()=>{ge(!0),Z?.(),q||be(0)},onBlur:()=>{ge(!1),J?.()},onKeyDown:Fe,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":R,"aria-controls":R?ce:void 0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[F&&C?o.jsx("button",{type:"button",onClick:Ce,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:o.jsx(JC,{className:"h-3.5 w-3.5"})}):null,E?o.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":T,children:o.jsx(eN,{className:"h-4 w-4 text-brand-600"})}):null,b,o.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:ye})]})]})}),R?o.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[q?o.jsx("ul",{id:ce,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:H.map((Ne,Ve)=>{const st=Ve===ve,at=G?.({suggestion:Ne,active:st})??o.jsx(XC,{suggestion:Ne,active:st});return o.jsx("li",{children:o.jsx("button",{type:"button",role:"option","aria-selected":st,onMouseEnter:()=>be(Ve),onMouseDown:Jt=>Jt.preventDefault(),onClick:()=>ke(Ne),className:we("flex w-full px-5 py-3 text-left transition",st?"bg-brand-50/60":"hover:bg-slate-50/80"),children:at})},Ne.id)})}):null,Q?o.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:U}):null,M?o.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[o.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),_?.map(Ne=>o.jsx("button",{type:"button",onMouseDown:Ve=>Ve.preventDefault(),onClick:()=>D?.(Ne),className:we("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ne.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ne.label},Ne.id))]})}):null]}):null]})}function XC({suggestion:e,active:n}){return o.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?o.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):o.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),o.jsxs("span",{className:"flex min-w-0 flex-col",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?o.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?o.jsx("span",{className:we("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function PC({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return o.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function JC({className:e="h-3.5 w-3.5"}){return o.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),o.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function eN({className:e="h-4 w-4"}){return o.jsxs("svg",{className:we("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),o.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function wb({brand:e,leading:n,actions:r,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:we("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return o.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:o.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[o.jsxs("div",{className:we("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[o.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?o.jsx(yb,{...m}):null,o.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Sb({displayName:e,email:n,actions:r=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),g=p.useRef(null),x=wn(),b=p.useMemo(()=>tN(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const T=D=>{const U=D.target;U&&(g.current?.contains(U)||m.current?.contains(U)||y())},_=D=>{D.key==="Escape"&&y()};return window.addEventListener("mousedown",T),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",_),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",_)}},[y,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(T=>{y(),T()},[y]),E=p.useCallback(async()=>{u||(y(),f(!0),x("/logout",{replace:!0}))},[y,u,x]);return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(T=>!T),children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),o.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),o.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),o.jsx(sN,{className:we("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?o.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[o.jsxs("div",{className:"px-2 pb-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),o.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),o.jsx("ul",{className:"space-y-1",role:"none",children:r.map(T=>o.jsx("li",{role:"none",children:o.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(T.onSelect),children:[o.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:T.icon??T.label.charAt(0).toUpperCase()}),o.jsxs("span",{className:"flex min-w-0 flex-col",children:[o.jsx("span",{className:"truncate",children:T.label}),T.description?o.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:T.description}):null]})]})},T.id))}),o.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:o.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[o.jsx("span",{children:"Sign out"}),u?o.jsx(nN,{}):null]})})]}):null]})}function tN(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function nN(){return o.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:o.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function sN({className:e}){return o.jsx("svg",{className:we("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:o.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function gc({to:e,replace:n,className:r,children:i,onClick:c}){const u=wn();return o.jsx("a",{href:e,className:r,onClick:f=>{c?.(f),!(f.defaultPrevented||f.metaKey||f.ctrlKey||f.shiftKey||f.altKey)&&(f.preventDefault(),u(e,{replace:n}))},children:i})}function aN({to:e,end:n,className:r,children:i}){const{pathname:c}=os(),u=n?c===e:c===e||c.startsWith(`${e}/`),f=typeof r=="function"?r({isActive:u}):r,m=typeof i=="function"?i({isActive:u}):i;return o.jsx(gc,{to:e,className:f,children:m})}function Nl(e){return function({title:r,...i}){return o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?o.jsx("title",{children:r}):null,o.jsx("path",{d:e})]})}}const rN=Nl("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),iN=Nl("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),lN=Nl("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),oN=Nl("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),cN=Nl("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),jb=[{id:"documents",path:"documents",label:"Documents",icon:rN},{id:"jobs",path:"jobs",label:"Jobs",icon:iN},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:lN},{id:"settings",path:"settings",label:"Workspace Settings",icon:oN}],Ra=jb[0];function Eb(e){return jb.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const uN="4.25rem",dN="18.75rem";function fN({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:c}){const u=i??Eb(e),f=pN(e.name);return o.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?uN:dN},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:o.jsxs("div",{className:we("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[o.jsxs("div",{className:we("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[o.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[o.jsx("span",{className:we("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?o.jsx("span",{className:"sr-only",children:e.name}):o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"truncate",children:e.name}),o.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),o.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?o.jsx(mN,{}):o.jsx(hN,{})})]}),o.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:o.jsx(_b,{items:u,collapsed:n})})]})})}function _b({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:c=!0}){return o.jsxs(o.Fragment,{children:[c&&!n?o.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,o.jsx("ul",{className:we("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>o.jsx("li",{className:"w-full",children:o.jsx(aN,{to:u.href,end:!0,title:n?u.label:void 0,onClick:r,className:({isActive:f})=>we("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>o.jsxs(o.Fragment,{children:[o.jsx("span",{"aria-hidden":!0,className:we("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),o.jsx("span",{"aria-hidden":!0,className:we("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:o.jsx(u.icon,{className:we("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),o.jsx("div",{className:we("flex min-w-0 flex-col text-left",n&&"sr-only"),children:o.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function hN(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:o.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function mN(){return o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:o.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function pN(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}async function gN(e={}){const{data:n}=await Pe.GET("/api/v1/health",{signal:e.signal}),r=n??{},c=(Array.isArray(r.components)?r.components:[]).find(m=>m?.name==="safe-mode"),u=c?.status==="degraded",f=typeof c?.detail=="string"&&c.detail.trim().length>0?c.detail.trim():fi;return{enabled:u,detail:f}}const fi="ADE_SAFE_MODE is enabled. Job execution is temporarily disabled so you can revert config changes and restart without safe mode.",xN=["system","safe-mode"];function Cb(){return bs({queryKey:xN,queryFn:({signal:e})=>gN({signal:e}),staleTime:3e4,refetchInterval:6e4})}const vN={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function Dt({tone:e="info",heading:n,icon:r,className:i,children:c,...u}){return o.jsxs("div",{role:"status",className:we("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",vN[e],i),...u,children:[r?o.jsx("span",{"aria-hidden":"true",children:r}):null,o.jsxs("div",{className:"space-y-1",children:[n?o.jsx("p",{className:"font-semibold",children:n}):null,c?o.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}const bN="K",yN="Ctrl+K";function Nb({macLabel:e=bN,windowsLabel:n=yN}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),r}function wN(){return o.jsxs("section",{children:[o.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const SN=100;function oh({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=SN}){return bs({queryKey:yn.list(e,{page:r,pageSize:i}),queryFn:({signal:c})=>D_(e,{page:r,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function jN({workspaceId:e,configId:n,enabled:r=!0}){return bs({queryKey:yn.detail(e,n??""),queryFn:({signal:i})=>n?z_(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function EN(e){const n=Ct();return An({mutationFn:r=>B_(e,r),async onSuccess(){await n.invalidateQueries({queryKey:yn.root(e)})}})}function he(e,n,r){function i(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=g}const c=r?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var g;const x=r?.Parent?new u:this;i(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class si extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class kb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Tb={};function cr(e){return Tb}function _N(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function Mf(e,n){return typeof n=="bigint"?n.toString():n}function ch(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function uh(e){return e==null}function dh(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}function CN(e,n){const r=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const g=i.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const u=r>c?r:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const xx=Symbol("evaluating");function pt(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==xx)return i===void 0&&(i=xx,i=r()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function dr(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function fr(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function vx(e){return JSON.stringify(e)}const Ab="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function xc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const NN=ch(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function bl(e){if(xc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(xc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Mb(e){return bl(e)?{...e}:Array.isArray(e)?[...e]:e}const kN=new Set(["string","number","symbol"]);function ri(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ua(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Oe(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function TN(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const AN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function MN(e,n){const r=e._zod.def,i=fr(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=r.shape[u])}return dr(this,"shape",c),c},checks:[]});return Ua(e,i)}function DN(e,n){const r=e._zod.def,i=fr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return dr(this,"shape",c),c},checks:[]});return Ua(e,i)}function zN(e,n){if(!bl(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=fr(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return dr(this,"shape",u),u},checks:[]});return Ua(e,c)}function RN(e,n){if(!bl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return dr(this,"shape",i),i},checks:e._zod.def.checks};return Ua(e,r)}function ON(e,n){const r=fr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return dr(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Ua(e,r)}function LN(e,n,r){const i=fr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const f in r){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);r[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return dr(this,"shape",u),u},checks:[]});return Ua(n,i)}function UN(e,n,r){const i=fr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const f in r){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);r[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return dr(this,"shape",u),u},checks:[]});return Ua(n,i)}function ei(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Db(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function Jo(e){return typeof e=="string"?e:e?.message}function ur(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const c=Jo(e.inst?._zod.def?.error?.(e))??Jo(n?.error?.(e))??Jo(r.customError?.(e))??Jo(r.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function fh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function yl(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const zb=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Mf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},hh=he("$ZodError",zb),Tc=he("$ZodError",zb,{Parent:Error});function BN(e,n=r=>r.message){const r={},i=[];for(const c of e.issues)c.path.length>0?(r[c.path[0]]=r[c.path[0]]||[],r[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:r}}function qN(e,n=r=>r.message){const r={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let f=r,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(n(u))):f[g]=f[g]||{_errors:[]},f=f[g],m++}}};return i(e),r}const Ac=e=>(n,r,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:r,issues:[]},u);if(f instanceof Promise)throw new si;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>ur(g,u,cr())));throw Ab(m,c?.callee),m}return f.value},ZN=Ac(Tc),Mc=e=>async(n,r,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:r,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>ur(g,u,cr())));throw Ab(m,c?.callee),m}return f.value},HN=Mc(Tc),Dc=e=>(n,r,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},c);if(u instanceof Promise)throw new si;return u.issues.length?{success:!1,error:new(e??hh)(u.issues.map(f=>ur(f,c,cr())))}:{success:!0,data:u.value}},$N=Dc(Tc),zc=e=>async(n,r,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>ur(f,c,cr())))}:{success:!0,data:u.value}},VN=zc(Tc),QN=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ac(e)(n,r,c)},FN=e=>(n,r,i)=>Ac(e)(n,r,i),IN=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Mc(e)(n,r,c)},GN=e=>async(n,r,i)=>Mc(e)(n,r,i),YN=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Dc(e)(n,r,c)},KN=e=>(n,r,i)=>Dc(e)(n,r,i),WN=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return zc(e)(n,r,c)},XN=e=>async(n,r,i)=>zc(e)(n,r,i),PN=/^[cC][^\s-]{8,}$/,JN=/^[0-9a-z]+$/,ek=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tk=/^[0-9a-vA-V]{20}$/,nk=/^[A-Za-z0-9]{27}$/,sk=/^[a-zA-Z0-9_-]{21}$/,ak=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,rk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bx=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ik=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,lk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ok(){return new RegExp(lk,"u")}const ck=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,fk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Rb=/^[A-Za-z0-9_-]*$/,mk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,pk=/^\+(?:[0-9]){6,14}[0-9]$/,Ob="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gk=new RegExp(`^${Ob}$`);function Lb(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xk(e){return new RegExp(`^${Lb(e)}$`)}function vk(e){const n=Lb({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${Ob}T(?:${i})$`)}const bk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},yk=/^-?\d+$/,wk=/^-?\d+(?:\.\d+)?/,Sk=/^(?:true|false)$/i,jk=/^[^A-Z]*$/,Ek=/^[^a-z]*$/,$n=he("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),Ub={number:"number",bigint:"bigint",object:"date"},Bb=he("$ZodCheckLessThan",(e,n)=>{$n.init(e,n);const r=Ub[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:r,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),qb=he("$ZodCheckGreaterThan",(e,n)=>{$n.init(e,n);const r=Ub[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:r,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),_k=he("$ZodCheckMultipleOf",(e,n)=>{$n.init(e,n),e._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):CN(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:e,continue:!n.abort})}}),Ck=he("$ZodCheckNumberFormat",(e,n)=>{$n.init(e,n),n.format=n.format||"float64";const r=n.format?.includes("int"),i=r?"int":"number",[c,u]=AN[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,r&&(m.pattern=yk)}),e._zod.check=f=>{const m=f.value;if(r){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),Nk=he("$ZodCheckMaxLength",(e,n)=>{var r;$n.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!uh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=fh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),kk=he("$ZodCheckMinLength",(e,n)=>{var r;$n.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!uh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=fh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Tk=he("$ZodCheckLengthEquals",(e,n)=>{var r;$n.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!uh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=fh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),Rc=he("$ZodCheckStringFormat",(e,n)=>{var r,i;$n.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),Ak=he("$ZodCheckRegex",(e,n)=>{Rc.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),Mk=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=jk),Rc.init(e,n)}),Dk=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=Ek),Rc.init(e,n)}),zk=he("$ZodCheckIncludes",(e,n)=>{$n.init(e,n);const r=ri(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),Rk=he("$ZodCheckStartsWith",(e,n)=>{$n.init(e,n);const r=new RegExp(`^${ri(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),Ok=he("$ZodCheckEndsWith",(e,n)=>{$n.init(e,n);const r=new RegExp(`.*${ri(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),Lk=he("$ZodCheckOverwrite",(e,n)=>{$n.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class Uk{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,r=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,c.join(`
`))}}const Bk={major:4,minor:1,patch:12},Rt=he("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=Bk;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,g)=>{let x=ei(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(x)continue;const w=f.issues.length,E=y._zod.check(f);if(E instanceof Promise&&g?.async===!1)throw new si;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,f.issues.length!==w&&(x||(x=ei(f,w)))});else{if(f.issues.length===w)continue;x||(x=ei(f,w))}}return b?b.then(()=>f):f},u=(f,m,g)=>{if(ei(f))return f.aborted=!0,f;const x=c(m,i,g);if(x instanceof Promise){if(g.async===!1)throw new si;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const x=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,f,m)):u(x,f,m)}const g=e._zod.parse(f,m);if(g instanceof Promise){if(m.async===!1)throw new si;return g.then(x=>c(x,i,m))}return c(g,i,m)}}e["~standard"]={validate:c=>{try{const u=$N(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return VN(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),mh=he("$ZodString",(e,n)=>{Rt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??bk(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),wt=he("$ZodStringFormat",(e,n)=>{Rc.init(e,n),mh.init(e,n)}),qk=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=rk),wt.init(e,n)}),Zk=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=bx(i))}else n.pattern??(n.pattern=bx());wt.init(e,n)}),Hk=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=ik),wt.init(e,n)}),$k=he("$ZodURL",(e,n)=>{wt.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:mk.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=c.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),Vk=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=ok()),wt.init(e,n)}),Qk=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=sk),wt.init(e,n)}),Fk=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=PN),wt.init(e,n)}),Ik=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=JN),wt.init(e,n)}),Gk=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=ek),wt.init(e,n)}),Yk=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=tk),wt.init(e,n)}),Kk=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=nk),wt.init(e,n)}),Wk=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=vk(n)),wt.init(e,n)}),Xk=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=gk),wt.init(e,n)}),Pk=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=xk(n)),wt.init(e,n)}),Jk=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=ak),wt.init(e,n)}),eT=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=ck),wt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),tT=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=uk),wt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),nT=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=dk),wt.init(e,n)}),sT=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=fk),wt.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function Zb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const aT=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=hk),wt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Zb(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function rT(e){if(!Rb.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return Zb(r)}const iT=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=Rb),wt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{rT(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),lT=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=pk),wt.init(e,n)});function oT(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const cT=he("$ZodJWT",(e,n)=>{wt.init(e,n),e._zod.check=r=>{oT(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),Hb=he("$ZodNumber",(e,n)=>{Rt.init(e,n),e._zod.pattern=e._zod.bag.pattern??wk,e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const c=r.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return r;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),r}}),uT=he("$ZodNumber",(e,n)=>{Ck.init(e,n),Hb.init(e,n)}),dT=he("$ZodBoolean",(e,n)=>{Rt.init(e,n),e._zod.pattern=Sk,e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=!!r.value}catch{}const c=r.value;return typeof c=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),r}}),fT=he("$ZodUnknown",(e,n)=>{Rt.init(e,n),e._zod.parse=r=>r}),hT=he("$ZodNever",(e,n)=>{Rt.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function yx(e,n,r){e.issues.length&&n.issues.push(...Db(r,e.issues)),n.value[r]=e.value}const mT=he("$ZodArray",(e,n)=>{Rt.init(e,n),e._zod.parse=(r,i)=>{const c=r.value;if(!Array.isArray(c))return r.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),r;r.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],g=n.element._zod.run({value:m,issues:[]},i);g instanceof Promise?u.push(g.then(x=>yx(x,r,f))):yx(g,r,f)}return u.length?Promise.all(u).then(()=>r):r}});function vc(e,n,r,i){e.issues.length&&n.issues.push(...Db(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function $b(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=TN(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function Vb(e,n,r,i,c,u){const f=[],m=c.keySet,g=c.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(x==="never"){f.push(b);continue}const y=g.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>vc(w,r,b,n))):vc(y,r,b,n)}return f.length&&r.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const pT=he("$ZodObject",(e,n)=>{if(Rt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=ch(()=>$b(n));pt(e._zod,"propValues",()=>{const m=n.shape,g={};for(const x in m){const b=m[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const y of b.values)g[x].add(y)}}return g});const c=xc,u=n.catchall;let f;e._zod.parse=(m,g)=>{f??(f=i.value);const x=m.value;if(!c(x))return m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const T=y[w]._zod.run({value:x[w],issues:[]},g);T instanceof Promise?b.push(T.then(_=>vc(_,m,w,x))):vc(T,m,w,x)}return u?Vb(b,x,m,g,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),gT=he("$ZodObjectJIT",(e,n)=>{pT.init(e,n);const r=e._zod.parse,i=ch(()=>$b(n)),c=w=>{const E=new Uk(["shape","payload","ctx"]),T=i.value,_=L=>{const W=vx(L);return`shape[${W}]._zod.run({ value: input[${W}], issues: [] }, ctx)`};E.write("const input = payload.value;");const D=Object.create(null);let U=0;for(const L of T.keys)D[L]=`key_${U++}`;E.write("const newResult = {};");for(const L of T.keys){const W=D[L],Z=vx(L);E.write(`const ${W} = ${_(L)};`),E.write(`
        if (${W}.issues.length) {
          payload.issues = payload.issues.concat(${W}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        
        if (${W}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${W}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const j=E.compile();return(L,W)=>j(w,L,W)};let u;const f=xc,m=!Tb.jitless,x=m&&NN.value,b=n.catchall;let y;e._zod.parse=(w,E)=>{y??(y=i.value);const T=w.value;return f(T)?m&&x&&E?.async===!1&&E.jitless!==!0?(u||(u=c(n.shape)),w=u(w,E),b?Vb([],T,w,E,y,e):w):r(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:e}),w)}});function wx(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!ei(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(f=>ur(f,i,cr())))}),n)}const xT=he("$ZodUnion",(e,n)=>{Rt.init(e,n),pt(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),pt(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),pt(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),pt(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>dh(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(r)return i(c,u);let f=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:c.value,issues:[]},u);if(x instanceof Promise)m.push(x),f=!0;else{if(x.issues.length===0)return x;m.push(x)}}return f?Promise.all(m).then(g=>wx(g,c,e,u)):wx(m,c,e,u)}}),vT=he("$ZodIntersection",(e,n)=>{Rt.init(e,n),e._zod.parse=(r,i)=>{const c=r.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([g,x])=>Sx(r,g,x)):Sx(r,u,f)}});function Df(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(bl(e)&&bl(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=Df(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=Df(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};r.push(f.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Sx(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),ei(e))return e;const i=Df(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const bT=he("$ZodEnum",(e,n)=>{Rt.init(e,n);const r=_N(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(c=>kN.has(typeof c)).map(c=>typeof c=="string"?ri(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:r,input:f,inst:e}),c}}),yT=he("$ZodLiteral",(e,n)=>{if(Rt.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(r=>typeof r=="string"?ri(r):r?ri(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const c=r.value;return e._zod.values.has(c)||r.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),r}}),wT=he("$ZodTransform",(e,n)=>{Rt.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new kb(e.constructor.name);const c=n.transform(r.value,r);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(r.value=f,r));if(c instanceof Promise)throw new si;return r.value=c,r}});function jx(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const ST=he("$ZodOptional",(e,n)=>{Rt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",pt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),pt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${dh(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>jx(u,r.value)):jx(c,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),jT=he("$ZodNullable",(e,n)=>{Rt.init(e,n),pt(e._zod,"optin",()=>n.innerType._zod.optin),pt(e._zod,"optout",()=>n.innerType._zod.optout),pt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${dh(r.source)}|null)$`):void 0}),pt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),ET=he("$ZodDefault",(e,n)=>{Rt.init(e,n),e._zod.optin="optional",pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>Ex(u,n)):Ex(c,n)}});function Ex(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const _T=he("$ZodPrefault",(e,n)=>{Rt.init(e,n),e._zod.optin="optional",pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),CT=he("$ZodNonOptional",(e,n)=>{Rt.init(e,n),pt(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>_x(u,e)):_x(c,e)}});function _x(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const NT=he("$ZodCatch",(e,n)=>{Rt.init(e,n),pt(e._zod,"optin",()=>n.innerType._zod.optin),pt(e._zod,"optout",()=>n.innerType._zod.optout),pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(f=>ur(f,i,cr()))},input:r.value}),r.issues=[]),r)):(r.value=c.value,c.issues.length&&(r.value=n.catchValue({...r,error:{issues:c.issues.map(u=>ur(u,i,cr()))},input:r.value}),r.issues=[]),r)}}),kT=he("$ZodPipe",(e,n)=>{Rt.init(e,n),pt(e._zod,"values",()=>n.in._zod.values),pt(e._zod,"optin",()=>n.in._zod.optin),pt(e._zod,"optout",()=>n.out._zod.optout),pt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(f=>ec(f,n.in,i)):ec(u,n.in,i)}const c=n.in._zod.run(r,i);return c instanceof Promise?c.then(u=>ec(u,n.out,i)):ec(c,n.out,i)}});function ec(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const TT=he("$ZodReadonly",(e,n)=>{Rt.init(e,n),pt(e._zod,"propValues",()=>n.innerType._zod.propValues),pt(e._zod,"values",()=>n.innerType._zod.values),pt(e._zod,"optin",()=>n.innerType._zod.optin),pt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(Cx):Cx(c)}});function Cx(e){return e.value=Object.freeze(e.value),e}const AT=he("$ZodCustom",(e,n)=>{$n.init(e,n),Rt.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>Nx(u,r,i,e));Nx(c,r,i,e)}});function Nx(e,n,r,i){if(!e){const c={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(yl(c))}}class MT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function DT(){return new MT}const tc=DT();function zT(e,n){return new e({type:"string",...Oe(n)})}function RT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Oe(n)})}function kx(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Oe(n)})}function OT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Oe(n)})}function LT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Oe(n)})}function UT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Oe(n)})}function BT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Oe(n)})}function qT(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Oe(n)})}function ZT(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Oe(n)})}function HT(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Oe(n)})}function $T(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Oe(n)})}function VT(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Oe(n)})}function QT(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Oe(n)})}function FT(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Oe(n)})}function IT(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Oe(n)})}function GT(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Oe(n)})}function YT(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Oe(n)})}function KT(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Oe(n)})}function WT(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Oe(n)})}function XT(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Oe(n)})}function PT(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Oe(n)})}function JT(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Oe(n)})}function e5(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Oe(n)})}function t5(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Oe(n)})}function n5(e,n){return new e({type:"string",format:"date",check:"string_format",...Oe(n)})}function s5(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Oe(n)})}function a5(e,n){return new e({type:"string",format:"duration",check:"string_format",...Oe(n)})}function r5(e,n){return new e({type:"number",checks:[],...Oe(n)})}function i5(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Oe(n)})}function l5(e,n){return new e({type:"boolean",...Oe(n)})}function o5(e){return new e({type:"unknown"})}function c5(e,n){return new e({type:"never",...Oe(n)})}function Tx(e,n){return new Bb({check:"less_than",...Oe(n),value:e,inclusive:!1})}function uf(e,n){return new Bb({check:"less_than",...Oe(n),value:e,inclusive:!0})}function Ax(e,n){return new qb({check:"greater_than",...Oe(n),value:e,inclusive:!1})}function df(e,n){return new qb({check:"greater_than",...Oe(n),value:e,inclusive:!0})}function Mx(e,n){return new _k({check:"multiple_of",...Oe(n),value:e})}function Qb(e,n){return new Nk({check:"max_length",...Oe(n),maximum:e})}function bc(e,n){return new kk({check:"min_length",...Oe(n),minimum:e})}function Fb(e,n){return new Tk({check:"length_equals",...Oe(n),length:e})}function u5(e,n){return new Ak({check:"string_format",format:"regex",...Oe(n),pattern:e})}function d5(e){return new Mk({check:"string_format",format:"lowercase",...Oe(e)})}function f5(e){return new Dk({check:"string_format",format:"uppercase",...Oe(e)})}function h5(e,n){return new zk({check:"string_format",format:"includes",...Oe(n),includes:e})}function m5(e,n){return new Rk({check:"string_format",format:"starts_with",...Oe(n),prefix:e})}function p5(e,n){return new Ok({check:"string_format",format:"ends_with",...Oe(n),suffix:e})}function kl(e){return new Lk({check:"overwrite",tx:e})}function g5(e){return kl(n=>n.normalize(e))}function x5(){return kl(e=>e.trim())}function v5(){return kl(e=>e.toLowerCase())}function b5(){return kl(e=>e.toUpperCase())}function y5(e,n,r){return new e({type:"array",element:n,...Oe(r)})}function w5(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Oe(r)})}function S5(e){const n=j5(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(yl(i,r.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=r.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),r.issues.push(yl(c))}},e(r.value,r)));return n}function j5(e,n){const r=new $n({check:"custom",...Oe(n)});return r._zod.check=e,r}const E5=he("ZodISODateTime",(e,n)=>{Wk.init(e,n),Nt.init(e,n)});function _5(e){return t5(E5,e)}const C5=he("ZodISODate",(e,n)=>{Xk.init(e,n),Nt.init(e,n)});function N5(e){return n5(C5,e)}const k5=he("ZodISOTime",(e,n)=>{Pk.init(e,n),Nt.init(e,n)});function T5(e){return s5(k5,e)}const A5=he("ZodISODuration",(e,n)=>{Jk.init(e,n),Nt.init(e,n)});function M5(e){return a5(A5,e)}const D5=(e,n)=>{hh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>qN(e,r)},flatten:{value:r=>BN(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Mf,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Mf,2)}},isEmpty:{get(){return e.issues.length===0}}})},cs=he("ZodError",D5,{Parent:Error}),z5=Ac(cs),R5=Mc(cs),O5=Dc(cs),L5=zc(cs),U5=QN(cs),B5=FN(cs),q5=IN(cs),Z5=GN(cs),H5=YN(cs),$5=KN(cs),V5=WN(cs),Q5=XN(cs),Zt=he("ZodType",(e,n)=>(Rt.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(fr(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>Ua(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>z5(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>O5(e,r,i),e.parseAsync=async(r,i)=>R5(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>L5(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>U5(e,r,i),e.decode=(r,i)=>B5(e,r,i),e.encodeAsync=async(r,i)=>q5(e,r,i),e.decodeAsync=async(r,i)=>Z5(e,r,i),e.safeEncode=(r,i)=>H5(e,r,i),e.safeDecode=(r,i)=>$5(e,r,i),e.safeEncodeAsync=async(r,i)=>V5(e,r,i),e.safeDecodeAsync=async(r,i)=>Q5(e,r,i),e.refine=(r,i)=>e.check(UA(r,i)),e.superRefine=r=>e.check(BA(r)),e.overwrite=r=>e.check(kl(r)),e.optional=()=>Ux(e),e.nullable=()=>Bx(e),e.nullish=()=>Ux(Bx(e)),e.nonoptional=r=>AA(e,r),e.array=()=>Oc(e),e.or=r=>vA([e,r]),e.and=r=>yA(e,r),e.transform=r=>qx(e,EA(r)),e.default=r=>NA(e,r),e.prefault=r=>TA(e,r),e.catch=r=>DA(e,r),e.pipe=r=>qx(e,r),e.readonly=()=>OA(e),e.describe=r=>{const i=e.clone();return tc.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return tc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return tc.get(e);const i=e.clone();return tc.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Ib=he("_ZodString",(e,n)=>{mh.init(e,n),Zt.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(u5(...i)),e.includes=(...i)=>e.check(h5(...i)),e.startsWith=(...i)=>e.check(m5(...i)),e.endsWith=(...i)=>e.check(p5(...i)),e.min=(...i)=>e.check(bc(...i)),e.max=(...i)=>e.check(Qb(...i)),e.length=(...i)=>e.check(Fb(...i)),e.nonempty=(...i)=>e.check(bc(1,...i)),e.lowercase=i=>e.check(d5(i)),e.uppercase=i=>e.check(f5(i)),e.trim=()=>e.check(x5()),e.normalize=(...i)=>e.check(g5(...i)),e.toLowerCase=()=>e.check(v5()),e.toUpperCase=()=>e.check(b5())}),F5=he("ZodString",(e,n)=>{mh.init(e,n),Ib.init(e,n),e.email=r=>e.check(RT(I5,r)),e.url=r=>e.check(qT(G5,r)),e.jwt=r=>e.check(e5(oA,r)),e.emoji=r=>e.check(ZT(Y5,r)),e.guid=r=>e.check(kx(Dx,r)),e.uuid=r=>e.check(OT(nc,r)),e.uuidv4=r=>e.check(LT(nc,r)),e.uuidv6=r=>e.check(UT(nc,r)),e.uuidv7=r=>e.check(BT(nc,r)),e.nanoid=r=>e.check(HT(K5,r)),e.guid=r=>e.check(kx(Dx,r)),e.cuid=r=>e.check($T(W5,r)),e.cuid2=r=>e.check(VT(X5,r)),e.ulid=r=>e.check(QT(P5,r)),e.base64=r=>e.check(XT(rA,r)),e.base64url=r=>e.check(PT(iA,r)),e.xid=r=>e.check(FT(J5,r)),e.ksuid=r=>e.check(IT(eA,r)),e.ipv4=r=>e.check(GT(tA,r)),e.ipv6=r=>e.check(YT(nA,r)),e.cidrv4=r=>e.check(KT(sA,r)),e.cidrv6=r=>e.check(WT(aA,r)),e.e164=r=>e.check(JT(lA,r)),e.datetime=r=>e.check(_5(r)),e.date=r=>e.check(N5(r)),e.time=r=>e.check(T5(r)),e.duration=r=>e.check(M5(r))});function zt(e){return zT(F5,e)}const Nt=he("ZodStringFormat",(e,n)=>{wt.init(e,n),Ib.init(e,n)}),I5=he("ZodEmail",(e,n)=>{Hk.init(e,n),Nt.init(e,n)}),Dx=he("ZodGUID",(e,n)=>{qk.init(e,n),Nt.init(e,n)}),nc=he("ZodUUID",(e,n)=>{Zk.init(e,n),Nt.init(e,n)}),G5=he("ZodURL",(e,n)=>{$k.init(e,n),Nt.init(e,n)}),Y5=he("ZodEmoji",(e,n)=>{Vk.init(e,n),Nt.init(e,n)}),K5=he("ZodNanoID",(e,n)=>{Qk.init(e,n),Nt.init(e,n)}),W5=he("ZodCUID",(e,n)=>{Fk.init(e,n),Nt.init(e,n)}),X5=he("ZodCUID2",(e,n)=>{Ik.init(e,n),Nt.init(e,n)}),P5=he("ZodULID",(e,n)=>{Gk.init(e,n),Nt.init(e,n)}),J5=he("ZodXID",(e,n)=>{Yk.init(e,n),Nt.init(e,n)}),eA=he("ZodKSUID",(e,n)=>{Kk.init(e,n),Nt.init(e,n)}),tA=he("ZodIPv4",(e,n)=>{eT.init(e,n),Nt.init(e,n)}),nA=he("ZodIPv6",(e,n)=>{tT.init(e,n),Nt.init(e,n)}),sA=he("ZodCIDRv4",(e,n)=>{nT.init(e,n),Nt.init(e,n)}),aA=he("ZodCIDRv6",(e,n)=>{sT.init(e,n),Nt.init(e,n)}),rA=he("ZodBase64",(e,n)=>{aT.init(e,n),Nt.init(e,n)}),iA=he("ZodBase64URL",(e,n)=>{iT.init(e,n),Nt.init(e,n)}),lA=he("ZodE164",(e,n)=>{lT.init(e,n),Nt.init(e,n)}),oA=he("ZodJWT",(e,n)=>{cT.init(e,n),Nt.init(e,n)}),Gb=he("ZodNumber",(e,n)=>{Hb.init(e,n),Zt.init(e,n),e.gt=(i,c)=>e.check(Ax(i,c)),e.gte=(i,c)=>e.check(df(i,c)),e.min=(i,c)=>e.check(df(i,c)),e.lt=(i,c)=>e.check(Tx(i,c)),e.lte=(i,c)=>e.check(uf(i,c)),e.max=(i,c)=>e.check(uf(i,c)),e.int=i=>e.check(zx(i)),e.safe=i=>e.check(zx(i)),e.positive=i=>e.check(Ax(0,i)),e.nonnegative=i=>e.check(df(0,i)),e.negative=i=>e.check(Tx(0,i)),e.nonpositive=i=>e.check(uf(0,i)),e.multipleOf=(i,c)=>e.check(Mx(i,c)),e.step=(i,c)=>e.check(Mx(i,c)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function cA(e){return r5(Gb,e)}const uA=he("ZodNumberFormat",(e,n)=>{uT.init(e,n),Gb.init(e,n)});function zx(e){return i5(uA,e)}const dA=he("ZodBoolean",(e,n)=>{dT.init(e,n),Zt.init(e,n)});function Rx(e){return l5(dA,e)}const fA=he("ZodUnknown",(e,n)=>{fT.init(e,n),Zt.init(e,n)});function Ox(){return o5(fA)}const hA=he("ZodNever",(e,n)=>{hT.init(e,n),Zt.init(e,n)});function mA(e){return c5(hA,e)}const pA=he("ZodArray",(e,n)=>{mT.init(e,n),Zt.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(bc(r,i)),e.nonempty=r=>e.check(bc(1,r)),e.max=(r,i)=>e.check(Qb(r,i)),e.length=(r,i)=>e.check(Fb(r,i)),e.unwrap=()=>e.element});function Oc(e,n){return y5(pA,e,n)}const gA=he("ZodObject",(e,n)=>{gT.init(e,n),Zt.init(e,n),pt(e,"shape",()=>n.shape),e.keyof=()=>wA(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ox()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ox()}),e.strict=()=>e.clone({...e._zod.def,catchall:mA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>zN(e,r),e.safeExtend=r=>RN(e,r),e.merge=r=>ON(e,r),e.pick=r=>MN(e,r),e.omit=r=>DN(e,r),e.partial=(...r)=>LN(Yb,e,r[0]),e.required=(...r)=>UN(Kb,e,r[0])});function Xs(e,n){const r={type:"object",shape:e??{},...Oe(n)};return new gA(r)}const xA=he("ZodUnion",(e,n)=>{xT.init(e,n),Zt.init(e,n),e.options=n.options});function vA(e,n){return new xA({type:"union",options:e,...Oe(n)})}const bA=he("ZodIntersection",(e,n)=>{vT.init(e,n),Zt.init(e,n)});function yA(e,n){return new bA({type:"intersection",left:e,right:n})}const zf=he("ZodEnum",(e,n)=>{bT.init(e,n),Zt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(r.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new zf({...n,checks:[],...Oe(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(r.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new zf({...n,checks:[],...Oe(c),entries:u})}});function wA(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new zf({type:"enum",entries:r,...Oe(n)})}const SA=he("ZodLiteral",(e,n)=>{yT.init(e,n),Zt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function Lx(e,n){return new SA({type:"literal",values:Array.isArray(e)?e:[e],...Oe(n)})}const jA=he("ZodTransform",(e,n)=>{wT.init(e,n),Zt.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new kb(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(yl(u,r.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=r.value),f.inst??(f.inst=e),r.issues.push(yl(f))}};const c=n.transform(r.value,r);return c instanceof Promise?c.then(u=>(r.value=u,r)):(r.value=c,r)}});function EA(e){return new jA({type:"transform",transform:e})}const Yb=he("ZodOptional",(e,n)=>{ST.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Ux(e){return new Yb({type:"optional",innerType:e})}const _A=he("ZodNullable",(e,n)=>{jT.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Bx(e){return new _A({type:"nullable",innerType:e})}const CA=he("ZodDefault",(e,n)=>{ET.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function NA(e,n){return new CA({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Mb(n)}})}const kA=he("ZodPrefault",(e,n)=>{_T.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function TA(e,n){return new kA({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Mb(n)}})}const Kb=he("ZodNonOptional",(e,n)=>{CT.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function AA(e,n){return new Kb({type:"nonoptional",innerType:e,...Oe(n)})}const MA=he("ZodCatch",(e,n)=>{NT.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function DA(e,n){return new MA({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const zA=he("ZodPipe",(e,n)=>{kT.init(e,n),Zt.init(e,n),e.in=n.in,e.out=n.out});function qx(e,n){return new zA({type:"pipe",in:e,out:n})}const RA=he("ZodReadonly",(e,n)=>{TT.init(e,n),Zt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function OA(e){return new RA({type:"readonly",innerType:e})}const LA=he("ZodCustom",(e,n)=>{AT.init(e,n),Zt.init(e,n)});function UA(e,n={}){return w5(LA,e,n)}function BA(e){return S5(e)}const qA=Xs({key:zt(),label:zt(),path:zt(),ordinal:cA().int(),required:Rx().optional(),enabled:Rx().optional(),depends_on:Oc(zt()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),Zx=Xs({path:zt()}).strict();Xs({name:zt(),files_hash:zt().default(""),columns:Oc(qA).default([]),table:Xs({transform:Zx.nullable().optional(),validators:Zx.nullable().optional()}).partial().optional()}).passthrough();function ph(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),g=i.get(m);if(g===void 0){i.set(m,r.length),r.push(f);continue}r[g]=f}}return r},[e,n])}const ZA="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",La=p.forwardRef(({className:e,...n},r)=>o.jsx("select",{ref:r,className:we(ZA,e),...n}));La.displayName="Select";const HA={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},$A={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},qe=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},g)=>{const x=f||i;return o.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:we("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",HA[n],$A[r],c),...m,children:[i?o.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,o.jsx("span",{children:u})]})});qe.displayName="Button";const Wb={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},VA=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],ul="mine",ar={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function QA(e){return e&&Object.keys(ar).includes(e)?e:ul}function FA(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function IA(e){return new Set(VA).has(e??"")?e:"-created_at"}const Xb=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),ii={all:()=>["documents"],workspace:e=>[...ii.all(),e],list:(e,n,r,i,c)=>[...ii.workspace(e),"list",{status:n,search:r,sort:i,uploader:c}]},GA=50;function YA(){const{workspace:e}=Ps(),[n,r]=lh(),i=p.useRef(r);p.useEffect(()=>{i.current=r},[r]);const c=QA(n.get("view")),[u,f]=p.useState(c),[m,g]=p.useState(()=>{const ue=n.get("status");if(ue)return FA(ue);const Se=ar[c].presetStatuses??[];return new Set(Se)}),[x,b]=p.useState(()=>{const ue=n.get("sort");return ue?IA(ue):ar[c].presetSort??"-created_at"}),[y,w]=p.useState(n.get("q")??""),[E,T]=p.useState(y.trim()),_=p.useMemo(()=>Array.from(m),[m]),U=ar[u].uploader??null,j=p.useRef(null),[L,W]=p.useState(new Set),Z=p.useMemo(()=>new Set(L),[L]),J=p.useMemo(()=>Array.from(Z),[Z]),H=Z.size,$=WA(e.id),G=XA(e.id),te=Cb(),re=te.data?.enabled??!1,ce=te.data?.detail??fi,le=te.isPending,[pe,ie]=p.useState(null),[O,X]=p.useState(null),[ge,ve]=p.useState(null),be=$.isPending,C=G.isPending,q=KA(e.id,{statuses:_,search:E,sort:x,uploader:U}),{refetch:M}=q,R=p.useCallback(ue=>ue.id,[]),Q=ph(q.data?.pages,R),F=q.isFetchingNextPage,ye=q.isFetching&&!F,Ee=q.data?.pages?.[0]?.total??null;p.useEffect(()=>{const ue=n.get("q")??"";w(Be=>Be===ue?Be:ue);const Se=ue.trim();T(Be=>Be===Se?Be:Se)},[n]),p.useEffect(()=>{const ue=new URLSearchParams;m.size>0&&ue.set("status",Array.from(m).join(",")),x!=="-created_at"&&ue.set("sort",x),E&&ue.set("q",E),u!==ul&&ue.set("view",u),i.current(ue,{replace:!0})},[m,x,E,u]),p.useEffect(()=>{const ue=window.setTimeout(()=>T(y.trim()),250);return()=>window.clearTimeout(ue)},[y]),p.useEffect(()=>{W(ue=>{if(ue.size===0)return ue;const Se=new Set,Be=new Set(Q.map(Ht=>Ht.id));let rt=!1;for(const Ht of ue)Be.has(Ht)?Se.add(Ht):rt=!0;return rt?Se:ue})},[Q]);const _e=p.useMemo(()=>{for(const ue of Q)if(Z.has(ue.id))return ue;return null},[Q,Z]),I=p.useCallback(ue=>{const Se=ar[ue];f(ue),g(new Set(Se.presetStatuses??[])),b(Se.presetSort??"-created_at"),w(""),T("")},[]),Ce=p.useCallback(ue=>{g(Se=>{const Be=new Set(Se);return Be.has(ue)?Be.delete(ue):Be.add(ue),Be})},[]),ke=p.useCallback(()=>{g(new Set)},[]);p.useEffect(()=>{const ue=Se=>{if((Se.metaKey||Se.ctrlKey)&&Se.key.toLowerCase()==="u"){Se.preventDefault(),j.current?.click();return}(Se.key==="Delete"||Se.key==="Backspace")&&H>0&&(Se.preventDefault(),N())};return window.addEventListener("keydown",ue),()=>window.removeEventListener("keydown",ue)},[H]);const Fe=p.useCallback(ue=>Wb[ue]??ue,[]),Le=p.useCallback(ue=>o.jsx(wM,{document:ue}),[]),Ne=p.useCallback(()=>{j.current?.click()},[]),Ve=p.useCallback(async ue=>{if(ue.length){ie(null);try{await $.mutateAsync({files:ue})}catch(Se){const Be=Se instanceof Error?Se.message:"Failed to upload documents.";ie({tone:"error",message:Be})}}},[$]),st=async ue=>{const Se=Array.from(ue.target.files??[]);await Ve(Se),ue.target.value=""},at=ue=>{W(Se=>{const Be=new Set(Se);return Be.has(ue)?Be.delete(ue):Be.add(ue),Be})},Jt=()=>{W(ue=>{if(Q.length===0)return new Set;const Se=Q.map(Be=>Be.id);return ue.size===Q.length&&Se.every(Be=>ue.has(Be))?new Set:new Set(Se)})},N=p.useCallback(async()=>{const ue=J;if(ue.length){ie(null);try{await G.mutateAsync({documentIds:ue}),W(new Set)}catch(Se){const Be=Se instanceof Error?Se.message:"Failed to delete documents.";ie({tone:"error",message:Be})}}},[G,J]),V=p.useCallback(async ue=>{ie(null);try{await G.mutateAsync({documentIds:[ue.id]}),W(Se=>{const Be=new Set(Se);return Be.delete(ue.id),Be})}catch(Se){const Be=Se instanceof Error?Se.message:"Failed to delete document.";ie({tone:"error",message:Be})}},[G]),A=p.useCallback(async ue=>{try{X(ue.id);const{blob:Se,filename:Be}=await tM(e.id,ue.id);_M(Se,Be??ue.name)}catch(Se){const Be=Se instanceof Error?Se.message:"Failed to download document.";ie({tone:"error",message:Be})}finally{X(null)}},[e.id]),me=p.useCallback(ue=>{ve(ue)},[]),se=p.useCallback(()=>{M()},[M]),de=p.useCallback(ue=>{ie({tone:"error",message:ue})},[]),je=()=>{f(ul),w(""),T(""),g(new Set),b("-created_at")},He=u===ul&&m.size===0&&x==="-created_at"&&!E;return o.jsxs(o.Fragment,{children:[o.jsx(xM,{workspaceName:e.name??void 0,disabled:be,onFiles:async ue=>{await Ve(ue)}}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{ref:j,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:st}),o.jsx(aM,{workspaceName:e.name,totalDocuments:Ee,view:u,onChangeView:I,sort:x,onSort:b,onReset:je,isFetching:q.isFetching,isDefault:He,onUploadClick:Ne,uploadDisabled:be,selectedStatuses:m,onToggleStatus:Ce,onClearStatuses:ke}),pe?o.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:pe.message}):null,o.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:q.isLoading?o.jsx("div",{className:"p-4",children:o.jsx(vM,{})}):q.isError?o.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):Q.length===0?o.jsx("div",{className:"p-6",children:o.jsx(yM,{onUploadClick:Ne})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:o.jsx(lM,{documents:Q,selectedIds:Z,onToggleDocument:at,onToggleAll:Jt,disableSelection:ye||C||$.isPending,disableRowActions:G.isPending,formatStatusLabel:Fe,onDeleteDocument:V,onDownloadDocument:A,onRunDocument:me,downloadingId:O,renderJobStatus:Le,safeModeEnabled:re,safeModeMessage:ce,safeModeLoading:le})}),q.hasNextPage?o.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:o.jsx(qe,{type:"button",variant:"ghost",onClick:()=>q.fetchNextPage(),disabled:F,children:F?"Loading more documents":"Load more documents"})}):null]})})]}),o.jsx(bM,{count:H,onClear:()=>W(new Set),onRun:()=>{_e&&!re&&!le&&me(_e)},onDelete:N,busy:C,safeModeEnabled:re,safeModeMessage:ce,safeModeLoading:le}),o.jsx(pM,{open:!!ge,workspaceId:e.id,documentRecord:ge,onClose:()=>ve(null),onRunSuccess:se,onRunError:de,safeModeEnabled:re,safeModeMessage:ce,safeModeLoading:le})]})}function KA(e,n){const r=sM(n.statuses??null)??null,i=n.search.trim()||null,c=n.sort.trim()||null,u=n.uploader?.trim()||null;return If({queryKey:ii.list(e,r,i,c,u),initialPageParam:1,queryFn:({pageParam:f,signal:m})=>eM(e,{statuses:r,search:i,sort:c,uploader:u,page:typeof f=="number"?f:1,pageSize:GA},m),getNextPageParam:f=>f.has_next?f.page+1:void 0,enabled:e.length>0,placeholderData:f=>f,staleTime:15e3})}function WA(e){const n=Ct();return An({mutationFn:async({files:r})=>{const i=Array.from(r);for(const c of i)await Pe.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:ii.workspace(e)})}})}function XA(e){const n=Ct();return An({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Pe.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:ii.workspace(e)})}})}function PA(e){const n=Ct();return An({mutationFn:async r=>{const{data:i}=await Pe.POST("/api/v1/workspaces/{workspace_id}/jobs",{params:{path:{workspace_id:e}},body:r});if(!i)throw new Error("Expected job payload.");return i},onSuccess:()=>{n.invalidateQueries({queryKey:ii.workspace(e)})}})}function JA(e,n){const r=p.useMemo(()=>Oa(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>Hx(r,n));p.useEffect(()=>{c(Hx(r,n))},[r,n]);const u=p.useCallback(f=>{c(f);const m=r.get()??{};r.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId}})},[r,n]);return{preferences:i,setPreferences:u}}async function eM(e,n,r){const i={};n.statuses&&n.statuses.length>0&&(i.status=Array.from(n.statuses)),n.search&&(i.q=n.search),n.sort&&(i.sort=n.sort),n.uploader&&(i.uploader=n.uploader),n.page&&n.page>0&&(i.page=n.page),n.pageSize&&n.pageSize>0&&(i.page_size=n.pageSize);const{data:c}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!c)throw new Error("Expected document page payload.");return c}async function tM(e,n){const{data:r,response:i}=await Pe.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const c=nM(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:c}}function nM(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function sM(e){if(e!=null){if(Array.isArray(e)){const n=e.filter(r=>!!r);return n.length>0?n:void 0}return[e]}}function Hx(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object")return{configId:i.configId??null,configVersionId:i.configVersionId??null}}return{configId:null,configVersionId:null}}function aM({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}){const T=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return o.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),o.jsx("p",{className:"text-xs text-slate-500",children:T})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:f,disabled:g,className:we("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),o.jsx(qe,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),o.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[o.jsx(rM,{view:r,onChange:i}),o.jsx(iM,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}),o.jsxs(La,{value:c,onChange:_=>u(_.target.value),className:"w-40","aria-label":"Sort documents",children:[o.jsx("option",{value:"-created_at",children:"Newest first"}),o.jsx("option",{value:"created_at",children:"Oldest first"}),o.jsx("option",{value:"-last_run_at",children:"Recent runs"}),o.jsx("option",{value:"last_run_at",children:"Least recently run"}),o.jsx("option",{value:"-byte_size",children:"Largest files"}),o.jsx("option",{value:"byte_size",children:"Smallest files"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"-name",children:"Name ZA"})]}),o.jsxs("span",{className:we("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[o.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function rM({view:e,onChange:n}){return o.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(ar).map(r=>{const i=ar[r],c=r===e;return o.jsx("button",{type:"button",onClick:()=>n(r),className:we("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function iM({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(Wb),m=e.size>0,g=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),o.jsxs("div",{className:"relative",ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>c(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,o.jsx(mM,{className:"h-3 w-3"})]}),i?o.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[o.jsx("span",{children:"Status filters"}),o.jsx("button",{type:"button",onClick:()=>{r(),c(!1)},className:we("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),o.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([x,b])=>{const y=e.has(x);return o.jsx("li",{children:o.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),o.jsx("span",{className:"truncate",children:b})]})},x)})}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function lM({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderJobStatus:y,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:T=!1}){const _=p.useRef(null),{allSelected:D,someSelected:U}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const j=e.reduce((L,W)=>n.has(W.id)?L+1:L,0);return{allSelected:j===e.length,someSelected:j>0&&j<e.length}},[e,n]);return p.useEffect(()=>{_.current&&(_.current.indeterminate=U)},[U]),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[o.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:o.jsxs("tr",{className:"border-b border-slate-200",children:[o.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:o.jsx("input",{ref:_,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:D,onChange:i,disabled:c||e.length===0})}),o.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),o.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),o.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),o.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),o.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),o.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),o.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),o.jsx("tbody",{children:e.map(j=>{const L=n.has(j.id);return o.jsxs("tr",{className:we("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",L?"bg-brand-50/50":"bg-white"),children:[o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:L,onChange:()=>r(j.id),disabled:c})}),o.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:j.id.slice(-6)}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"truncate font-semibold text-slate-900",title:j.name,children:j.name}),o.jsx("div",{className:"text-xs text-slate-500",children:cM(j)})]})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("time",{dateTime:j.created_at,className:"block text-xs text-slate-600",title:Xb.format(new Date(j.created_at)),children:hM(j)})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("span",{className:"block truncate text-xs text-slate-600",children:j.uploader?.name??j.uploader?.email??""})}),o.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(j):null}),o.jsx("td",{className:"px-2 py-2 align-middle",children:o.jsx("span",{className:we("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",fM(j.status)),children:f?f(j.status):j.status})}),o.jsx("td",{className:"px-2 py-2 align-middle text-right",children:o.jsx(oM,{document:j,onDownload:g,onDelete:m,onRun:x,disabled:u,downloading:b===j.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:T})})]},j.id)})})]})})}function oM({document:e,onDownload:n,onDelete:r,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=c||!i||f||g,b=f?m??fi:g?"Checking ADE safe mode status...":void 0;return o.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[o.jsx(qe,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),o.jsx("button",{type:"button",onClick:()=>n?.(e),className:we("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),o.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function cM(e){const n=[];return e.content_type&&n.push(uM(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(dM(e.byte_size)),n.join("  ")||"Unknown type"}function uM(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function dM(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function fM(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function hM(e){return Xb.format(new Date(e.created_at))}function mM({className:e}){return o.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:o.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function pM({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:Da.createPortal(o.jsx(gM,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:g}),window.document.body)}function gM({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),y=oh({workspaceId:e}),w=PA(e),{preferences:E,setPreferences:T}=JA(e,n.id),_=p.useMemo(()=>y.data?.items??[],[y.data]),D=p.useMemo(()=>_.filter(ie=>!ie.deleted_at&&ie.active_version),[_]),U=p.useMemo(()=>{if(E.configId){const O=D.find(X=>X.config_id===E.configId);if(O)return{configId:O.config_id,versionId:E.configVersionId??O.active_version?.config_version_id??null}}const ie=D[0];return{configId:ie?.config_id??"",versionId:ie?.active_version?.config_version_id??null}},[E.configId,E.configVersionId,D]),[j,L]=p.useState(U.configId),[W,Z]=p.useState(U.versionId??"");p.useEffect(()=>{L(U.configId),Z(U.versionId??"")},[U]);const J=p.useMemo(()=>D.find(ie=>ie.config_id===j)??null,[D,j]),H=J?.active_version??null,[$,G]=p.useState(null),te=f??fi;p.useEffect(()=>{const ie=g.current;if(!ie)return;($x(ie)[0]??ie).focus();const X=ge=>{if(ge.key==="Escape"){ge.preventDefault(),r();return}if(ge.key!=="Tab")return;const ve=$x(ie);if(ve.length===0){ge.preventDefault();return}const be=ve[0],C=ve[ve.length-1],q=window.document.activeElement;if(ge.shiftKey){(!ie.contains(q)||q===be)&&(ge.preventDefault(),C.focus());return}q===C&&(ge.preventDefault(),be.focus())};return ie.addEventListener("keydown",X),()=>ie.removeEventListener("keydown",X)},[r]);const re=D.length>0,ce=w.isPending||m||u||!re||!W,le=u?te:m?"Checking ADE safe mode status...":void 0,pe=()=>{if(!(u||m)){if(!J||!H||!W){G("Select a configuration before running the extractor.");return}G(null),w.mutate({input_document_id:n.id,config_version_id:W},{onSuccess:ie=>{T({configId:J.config_id,configVersionId:W}),i?.(ie),r()},onError:ie=>{const O=ie instanceof Error?ie.message:"Unable to submit extraction job.";G(O),c?.(O)}})}};return o.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[o.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),o.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[o.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[o.jsxs("div",{children:[o.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),o.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing job."})]}),o.jsx(qe,{variant:"ghost",size:"sm",onClick:r,disabled:w.isPending,children:"Close"})]}),o.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[o.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?o.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?o.jsxs(Dt,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):re?o.jsxs(La,{value:j,onChange:ie=>{const O=ie.target.value;L(O);const X=D.find(ve=>ve.config_id===O)??null,ge=X?.active_version?.config_version_id??"";Z(ge),X&&ge&&T({configId:X.config_id,configVersionId:ge})},disabled:w.isPending,children:[o.jsx("option",{value:"",children:"Select configuration"}),D.map(ie=>o.jsxs("option",{value:ie.config_id,children:[ie.title," (Active v",ie.active_version?.semver??"",")"]},ie.config_id))]}):o.jsx(Dt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Sheet selection and advanced flags will appear here once the processor supports them."})]}),u?o.jsx(Dt,{tone:"warning",children:te}):null,$?o.jsx(Dt,{tone:"danger",children:$}):null]}),o.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[o.jsx(qe,{type:"button",variant:"ghost",onClick:r,disabled:w.isPending,children:"Cancel"}),o.jsx(qe,{type:"button",onClick:pe,isLoading:w.isPending,disabled:ce,title:le,children:"Run extraction"})]})]})]})}function xM({onFiles:e,disabled:n,workspaceName:r}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},x=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),o.jsxs("div",{"aria-hidden":!i,className:we("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:o.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:o.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[o.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsxs("div",{className:"text-center sm:text-left",children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",o.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function vM(){return o.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),o.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),o.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function bM({count:e,onClear:n,onRun:r,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const g=c||u||m,x=u?f??fi:m?"Checking ADE safe mode status...":void 0;return o.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[o.jsxs("span",{className:"mr-2",children:[o.jsx("strong",{children:e})," selected"]}),o.jsx(qe,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx(qe,{size:"sm",onClick:()=>!g&&r(),disabled:g,title:x,children:"Run extraction"}),o.jsx(qe,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function yM({onUploadClick:e}){return o.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:o.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[o.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),o.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),o.jsx(qe,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function wM({document:e}){const n=e.last_run;return n?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("span",{className:we("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",SM(n.status)),children:[jM(n.status),n.run_at?o.jsx("span",{className:"ml-1 font-normal text-slate-500",children:EM(n.run_at)}):null]}),n.message?o.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):o.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function SM(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function jM(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Xr=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function EM(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return Xr.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return Xr.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return Xr.format(m,"hour");const x=Math.round(m/24);if(Math.abs(x)<30)return Xr.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return Xr.format(b,"month");const y=Math.round(x/365);return Xr.format(y,"year")}function _M(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function $x(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function CM({params:e}){return o.jsxs("section",{children:[o.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}async function NM(e,n,r){const i={};n.status&&n.status!=="all"&&(i.status=n.status),n.inputDocumentId&&(i.input_document_id=n.inputDocumentId),typeof n.limit=="number"&&(i.limit=n.limit),typeof n.offset=="number"&&(i.offset=n.offset);const{data:c}=await Pe.GET("/api/v1/workspaces/{workspace_id}/jobs",{params:{path:{workspace_id:e},query:i},signal:r});return c??[]}const Pb={all:e=>["workspace-jobs",e],list:(e,n)=>[...Pb.all(e),"list",n]},Rf={succeeded:"Succeeded",failed:"Failed",running:"Running",queued:"Queued",cancelled:"Cancelled"},kM={succeeded:"bg-success-100 text-success-700",failed:"bg-rose-100 text-rose-700",running:"bg-brand-50 text-brand-700",queued:"bg-slate-100 text-slate-700",cancelled:"bg-slate-200 text-slate-700"},Vx=[{value:"24h",label:"Last 24 hours",durationMs:1440*60*1e3},{value:"7d",label:"Last 7 days",durationMs:10080*60*1e3},{value:"30d",label:"Last 30 days",durationMs:720*60*60*1e3},{value:"all",label:"All time",durationMs:null},{value:"custom",label:"Custom range",durationMs:null}],TM=[{value:"recent",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"duration_desc",label:"Longest duration"}],ff=100;function AM(){const{workspace:e}=Ps(),[n,r]=p.useState(new Set),[i,c]=p.useState("7d"),[u,f]=p.useState("recent"),[m,g]=p.useState(""),[x,b]=p.useState({start:"",end:""}),y=n.size===1?Array.from(n)[0]:null,w=If({queryKey:Pb.list(e.id,{status:y??"all"}),initialPageParam:0,queryFn:({pageParam:j,signal:L})=>NM(e.id,{status:y,limit:ff,offset:j},L),getNextPageParam:(j,L)=>j.length===ff?L.length*ff:void 0,enabled:!!e.id,staleTime:3e4}),E=ph(w.data?.pages,j=>j.id),T=p.useMemo(()=>{const j=Date.now(),L=m.trim().toLowerCase(),W=Vx.find($=>$.value===i),Z=W?.value==="custom"?null:W?.durationMs??null;let J=x.start?new Date(x.start).getTime():null,H=x.end?new Date(x.end).getTime():null;return J&&H&&J>H&&([J,H]=[H,J]),E.filter($=>{if(n.size>0&&!n.has($.status))return!1;if(i==="custom"){const G=Es($);if(J&&G<J||H&&G>H)return!1}else if(Z){const G=Es($);if(j-G>Z)return!1}return!(L&&!DM($).includes(L))}).sort(($,G)=>{switch(u){case"oldest":return Es($)-Es(G);case"duration_desc":return sc(G)-sc($);case"recent":default:return Es(G)-Es($)}})},[E,n,i,u,m,x]),_=j=>{r(L=>{const W=new Set(L);return W.has(j)?W.delete(j):W.add(j),W})},D=()=>{r(new Set),c("7d"),f("recent"),g(""),b({start:"",end:""})},U=()=>{if(T.length===0)return;const j=T.map($=>[$.id,Of($)??"",Lf($),Uf($)??"",$.status,hf(Es($)),hf(Jb($)),(sc($)/1e3).toFixed(1),$.error_message??""]),W=[["Job ID","Document","Config","Triggered by","Status","Started","Finished","Duration (s)","Error message"],...j].map($=>$.map(G=>`"${String(G).replace(/"/g,'""')}"`).join(",")).join(`
`),Z=new Blob([W],{type:"text/csv"}),J=URL.createObjectURL(Z),H=document.createElement("a");H.href=J,H.download=`jobs-${new Date().toISOString()}.csv`,H.click(),setTimeout(()=>URL.revokeObjectURL(J),1e3)};return o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/95 p-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Jobs"}),o.jsxs("h1",{className:"text-lg font-semibold text-slate-900 sm:text-xl",children:[e.name??"Workspace"," jobs"]}),o.jsx("p",{className:"text-xs text-slate-500",children:"Review previous runs, filter by status, and export job history."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qe,{variant:"secondary",size:"sm",onClick:U,disabled:T.length===0,children:"Export CSV"}),o.jsx(qe,{variant:"ghost",size:"sm",onClick:D,children:"Reset filters"})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[o.jsx(MM,{selected:n,onToggle:_}),o.jsx(La,{value:i,onChange:j=>c(j.target.value),className:"w-48",children:Vx.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))}),i==="custom"?o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:[o.jsxs("label",{className:"flex flex-col gap-1",children:["Start",o.jsx("input",{type:"datetime-local",value:x.start,onChange:j=>b(L=>({...L,start:j.target.value})),className:"rounded-lg border border-slate-200 px-2 py-1 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:["End",o.jsx("input",{type:"datetime-local",value:x.end,onChange:j=>b(L=>({...L,end:j.target.value})),className:"rounded-lg border border-slate-200 px-2 py-1 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})]})]}):null,o.jsx(La,{value:u,onChange:j=>f(j.target.value),className:"w-48",children:TM.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))}),o.jsx("div",{className:"flex-1 min-w-[220px]",children:o.jsx("input",{type:"search",placeholder:"Search jobs by ID, document, or config",value:m,onChange:j=>g(j.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})})]})]}),o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white",children:w.isError?o.jsx("div",{className:"py-16",children:o.jsx(bt,{variant:"error",title:"Unable to load jobs",description:"We couldnt fetch job history right now. Try reloading the page."})}):w.isLoading?o.jsx("div",{className:"py-16 text-center text-sm text-slate-500",children:"Loading jobs"}):T.length===0?o.jsx("div",{className:"py-16 text-center",children:o.jsx("p",{className:"text-sm text-slate-500",children:"No jobs match the current filters."})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left",children:"Job ID"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Document"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Config"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Triggered by"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Started"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Duration"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),o.jsx("tbody",{children:T.map(j=>{const L=Of(j),W=Lf(j),Z=Uf(j),J=j.status;return o.jsxs("tr",{className:"border-t border-slate-100",children:[o.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-500",children:j.id}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsx("p",{className:"truncate font-semibold text-slate-900",children:L??""}),o.jsx("p",{className:"text-xs text-slate-500",children:Array.isArray(j.input_documents)?`${j.input_documents?.length??0} document(s)`:""})]}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("p",{className:"truncate text-slate-800",children:W})}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:Z??""}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:o.jsx("time",{dateTime:new Date(Es(j)).toISOString(),children:hf(Es(j))})}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:zM(sc(j))}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:we("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",kM[J]??"bg-slate-200 text-slate-700"),children:Rf[J]??J})})]},j.id)})})]})}),w.hasNextPage?o.jsx("div",{className:"border-t border-slate-200 bg-slate-50/60 px-3 py-2 text-center",children:o.jsx(qe,{variant:"ghost",onClick:()=>w.fetchNextPage(),disabled:w.isFetchingNextPage,isLoading:w.isFetchingNextPage,children:"Load more jobs"})}):null]})})]})}function MM({selected:e,onToggle:n}){return o.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Rf).map(r=>{const i=e.has(r);return o.jsx("button",{type:"button",onClick:()=>n(r),className:we("rounded-full px-3 py-1 text-xs font-medium",i?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),children:Rf[r]},r)})})}function Of(e){const n=e.input_documents;if(!Array.isArray(n)||n.length===0)return null;const r=n[0];return r?r.display_name??r.name??r.original_filename??r.id??null:null}function Lf(e){const n=e.config_version;return n?n.title??n.semver??n.config_version_id??"":e.config_title??e.config_id??""}function Uf(e){const n=e.submitted_by_user;return n?n.display_name??n.email??null:e.submitted_by??null}function DM(e){return[e.id,Of(e),Lf(e),Uf(e),e.status,e.error_message,e.summary].filter(Boolean).join(" ").toLowerCase()}function Es(e){const n=e.started_at??e.queued_at??e.created_at??(e.created?e.created*1e3:null);return typeof n=="string"?new Date(n).getTime():typeof n=="number"?n:Date.now()}function Jb(e){const n=e.completed_at??e.cancelled_at??e.updated_at;return typeof n=="string"?new Date(n).getTime():typeof n=="number"?n:Date.now()}function sc(e){const n=Es(e),r=Jb(e);return!n||!r?0:Math.max(0,r-n)}function zM(e){if(e<=0)return"";const n=Math.round(e/100)/10;if(n<60)return`${n.toFixed(1)}s`;const r=Math.floor(n/60),i=Math.round(n%60);return`${r}m ${i}s`}function hf(e){return e?new Date(e).toLocaleString():""}function Wt({label:e,hint:n,error:r,required:i=!1,children:c,className:u}){const f=p.useId(),m=c.props??{},g=m.id??f,x=n?`${g}-hint`:void 0,b=r?`${g}-error`:void 0,y=[x,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return o.jsxs("div",{className:we("space-y-2",u),children:[e?o.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?o.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:g,required:i||m.required,"aria-describedby":y,"aria-invalid":r?!0:m["aria-invalid"]}):c,n?o.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,r?o.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const ey="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Xt=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>o.jsx("input",{ref:i,className:we(ey,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));Xt.displayName="Input";const RM=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},c)=>o.jsx("textarea",{ref:c,rows:r,className:we(ey,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));RM.displayName="TextArea";const mf=[{value:"default",label:"Default template"}],OM=e=>`ade.ui.workspace.${e}.config-builder.last`,pf=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function LM(){const{workspace:e}=Ps(),n=wn(),r=p.useMemo(()=>Oa(OM(e.id)),[e.id]),i=oh({workspaceId:e.id}),c=EN(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,g]=p.useState(mf[0]?.value??"default"),[x,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(j=>!j.deleted_at),[i.data]),w=p.useMemo(()=>r.get(),[r]),E=j=>{r.set({configId:j}),n(pf(e.id,j))},T=j=>{r.set({configId:j}),n(`${pf(e.id,j)}/editor`)},_=j=>{j.preventDefault();const L=u.trim();if(!L){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:L,source:{type:"template",templateId:m}},{onSuccess(W){r.set({configId:W.config_id}),n(pf(e.id,W.config_id))}})},D=x??(c.error instanceof Error?c.error.message:null),U=u.trim().length>0&&!c.isPending;return i.isLoading?o.jsx(bt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?o.jsx(bt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?o.jsx(bt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:o.jsxs("form",{onSubmit:_,className:"space-y-4 text-left",children:[o.jsx(Wt,{label:"Configuration name",required:!0,children:o.jsx(Xt,{value:u,onChange:j=>f(j.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),o.jsx(Wt,{label:"Template",children:o.jsx(La,{value:m,onChange:j=>g(j.target.value),disabled:c.isPending,children:mf.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))})}),D?o.jsx("p",{className:"text-sm font-medium text-danger-600",children:D}):null,o.jsx(qe,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})}):o.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?o.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>E(w.configId),children:"Resume last opened"}):null]}),o.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(j=>o.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:j.display_name}),o.jsx(UM,{status:j.status}),w?.configId===j.config_id?o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(j.updated_at).toLocaleString(),"  Active version ",j.active_version??""]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[o.jsx(qe,{size:"sm",variant:"secondary",onClick:()=>E(j.config_id),children:"View details"}),o.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>T(j.config_id),children:"Open editor"})]})]},j.config_id))})]}),o.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsx(Wt,{label:"Configuration name",required:!0,children:o.jsx(Xt,{value:u,onChange:j=>f(j.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),o.jsx(Wt,{label:"Template",children:o.jsx(La,{value:m,onChange:j=>g(j.target.value),disabled:c.isPending,children:mf.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))})}),D?o.jsx("p",{className:"text-sm font-medium text-danger-600",children:D}):null,o.jsx(qe,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})]})]})}function UM({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function BM({params:e}={}){const{workspace:n}=Ps(),r=wn(),i=e?.configId,c=oh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.config_id===i),[c.data,i]);return i?c.isLoading?o.jsx(bt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?o.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),o.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),o.jsx(qe,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.config_id)}/editor`),children:"Open editor"})]}),o.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),o.jsx("dd",{className:"text-sm text-slate-700",children:u.config_id})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),o.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),o.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),o.jsx("dd",{className:"text-sm text-slate-700",children:u.active_version??""})]})]})]}),o.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),o.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):o.jsx(bt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):o.jsx(bt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function qM({params:e}={}){const{workspace:n}=Ps(),{session:r,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:g,shouldBypassUnsavedGuard:x}=bb(),b=e?.configId,y=jN({workspaceId:n.id,configId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const D=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${D}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return o.jsx(bt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=r&&r.configId===b?r:null,E=!!(w&&i==="minimized"),T=!!(w&&i==="restored"),_=!!(w&&i==="maximized");return T&&w?o.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:o.jsx(xb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):_?o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(bt,{variant:"info",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(bt,{variant:"info",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):o.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:o.jsx(bt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var Tl=e=>e.type==="checkbox",rr=e=>e instanceof Date,Zn=e=>e==null;const ty=e=>typeof e=="object";var Pt=e=>!Zn(e)&&!Array.isArray(e)&&ty(e)&&!rr(e),ZM=e=>Pt(e)&&e.target?Tl(e.target)?e.target.checked:e.target.value:e,HM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$M=(e,n)=>e.has(HM(n)),VM=e=>{const n=e.constructor&&e.constructor.prototype;return Pt(n)&&n.hasOwnProperty("isPrototypeOf")},gh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(gh&&(e instanceof Blob||i))&&(r||Pt(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!VM(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=dn(e[c]));else return e;return n}var Lc=e=>/^\w*$/.test(e),qt=e=>e===void 0,xh=e=>Array.isArray(e)?e.filter(Boolean):[],vh=e=>xh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(e,n,r)=>{if(!n||!Pt(e))return r;const i=(Lc(n)?[n]:vh(n)).reduce((c,u)=>Zn(c)?c:c[u],e);return qt(i)||i===e?qt(e[n])?r:e[n]:i},_s=e=>typeof e=="boolean",mt=(e,n,r)=>{let i=-1;const c=Lc(n)?[n]:vh(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let g=r;if(i!==f){const x=e[m];g=Pt(x)||Array.isArray(x)?x:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const Qx={BLUR:"blur",FOCUS_OUT:"focusout"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QM=ft.createContext(null);QM.displayName="HookFormContext";var FM=(e,n,r,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==ps.all&&(n._proxyFormState[f]=!i||ps.all),e[f]}});return c};const IM=typeof window<"u"?ft.useLayoutEffect:ft.useEffect;var Wn=e=>typeof e=="string",GM=(e,n,r,i,c)=>Wn(e)?(i&&n.watch.add(e),Ae(r,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Ae(r,u))):(i&&(n.watchAll=!0),r),Bf=e=>Zn(e)||!ty(e);function Ma(e,n,r=new WeakSet){if(Bf(e)||Bf(n))return e===n;if(rr(e)&&rr(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(rr(f)&&rr(m)||Pt(f)&&Pt(m)||Array.isArray(f)&&Array.isArray(m)?!Ma(f,m,r):f!==m)return!1}}return!0}var bh=(e,n,r,i,c)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:c||!0}}:{},dl=e=>Array.isArray(e)?e:[e],Fx=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function ny(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&Pt(c)&&u){const f=ny(c,u);Pt(f)&&(r[i]=f)}else e[i]&&(r[i]=u)}return r}var qn=e=>Pt(e)&&!Object.keys(e).length,yh=e=>e.type==="file",gs=e=>typeof e=="function",yc=e=>{if(!gh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},sy=e=>e.type==="select-multiple",wh=e=>e.type==="radio",YM=e=>wh(e)||Tl(e),gf=e=>yc(e)&&e.isConnected;function KM(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=qt(e)?i++:e[n[i++]];return e}function WM(e){for(const n in e)if(e.hasOwnProperty(n)&&!qt(e[n]))return!1;return!0}function Kt(e,n){const r=Array.isArray(n)?n:Lc(n)?[n]:vh(n),i=r.length===1?e:KM(e,r),c=r.length-1,u=r[c];return i&&delete i[u],c!==0&&(Pt(i)&&qn(i)||Array.isArray(i)&&WM(i))&&Kt(e,r.slice(0,-1)),e}var XM=e=>{for(const n in e)if(gs(e[n]))return!0;return!1};function ay(e){return Array.isArray(e)||Pt(e)&&!XM(e)}function qf(e,n={}){for(const r in e)ay(e[r])?(n[r]=Array.isArray(e[r])?[]:{},qf(e[r],n[r])):qt(e[r])||(n[r]=!0);return n}function Jr(e,n,r){r||(r=qf(n));for(const i in e)ay(e[i])?qt(n)||Bf(r[i])?r[i]=qf(e[i],Array.isArray(e[i])?[]:{}):Jr(e[i],Zn(n)?{}:n[i],r[i]):r[i]=!Ma(e[i],n[i]);return r}const Ix={value:!1,isValid:!1},Gx={value:!0,isValid:!0};var ry=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qt(e[0].attributes.value)?qt(e[0].value)||e[0].value===""?Gx:{value:e[0].value,isValid:!0}:Gx:Ix}return Ix},iy=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>qt(e)?e:n?e===""?NaN:e&&+e:r&&Wn(e)?new Date(e):i?i(e):e;const Yx={isValid:!1,value:null};var ly=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,Yx):Yx;function Kx(e){const n=e.ref;return yh(n)?n.files:wh(n)?ly(e.refs).value:sy(n)?[...n.selectedOptions].map(({value:r})=>r):Tl(n)?ry(e.refs).value:iy(qt(n.value)?e.ref.value:n.value,e)}var PM=(e,n,r,i)=>{const c={};for(const u of e){const f=Ae(n,u);f&&mt(c,u,f._f)}return{criteriaMode:r,names:[...e],fields:c,shouldUseNativeValidation:i}},wc=e=>e instanceof RegExp,rl=e=>qt(e)?e:wc(e)?e.source:Pt(e)?wc(e.value)?e.value.source:e.value:e,Wx=e=>({isOnSubmit:!e||e===ps.onSubmit,isOnBlur:e===ps.onBlur,isOnChange:e===ps.onChange,isOnAll:e===ps.all,isOnTouch:e===ps.onTouched});const Xx="AsyncFunction";var JM=e=>!!e&&!!e.validate&&!!(gs(e.validate)&&e.validate.constructor.name===Xx||Pt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===Xx)),e4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Px=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fl=(e,n,r,i)=>{for(const c of r||Object.keys(e)){const u=Ae(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(fl(m,n))break}else if(Pt(m)&&fl(m,n))break}}};function Jx(e,n,r){const i=Ae(e,r);if(i||Lc(r))return{error:i,name:r};const c=r.split(".");for(;c.length;){const u=c.join("."),f=Ae(n,u),m=Ae(e,u);if(f&&!Array.isArray(f)&&r!==u)return{name:r};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:r}}var t4=(e,n,r,i)=>{r(e);const{name:c,...u}=e;return qn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||ps.all))},n4=(e,n,r)=>!e||!n||e===n||dl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),s4=(e,n,r,i,c)=>c.isOnAll?!1:!r&&c.isOnTouch?!(n||e):(r?i.isOnBlur:c.isOnBlur)?!e:(r?i.isOnChange:c.isOnChange)?e:!0,a4=(e,n)=>!xh(Ae(e,n)).length&&Kt(e,n),r4=(e,n,r)=>{const i=dl(Ae(e,r));return mt(i,"root",n[r]),mt(e,r,i),e};function ev(e,n,r="validate"){if(Wn(e)||Array.isArray(e)&&e.every(Wn)||_s(e)&&!e)return{type:r,message:Wn(e)?e:"",ref:n}}var Pr=e=>Pt(e)&&!wc(e)?e:{value:e,message:""},tv=async(e,n,r,i,c,u)=>{const{ref:f,refs:m,required:g,maxLength:x,minLength:b,min:y,max:w,pattern:E,validate:T,name:_,valueAsNumber:D,mount:U}=e._f,j=Ae(r,_);if(!U||n.has(_))return{};const L=m?m[0]:f,W=ce=>{c&&L.reportValidity&&(L.setCustomValidity(_s(ce)?"":ce||""),L.reportValidity())},Z={},J=wh(f),H=Tl(f),$=J||H,G=(D||yh(f))&&qt(f.value)&&qt(j)||yc(f)&&f.value===""||j===""||Array.isArray(j)&&!j.length,te=bh.bind(null,_,i,Z),re=(ce,le,pe,ie=Ws.maxLength,O=Ws.minLength)=>{const X=ce?le:pe;Z[_]={type:ce?ie:O,message:X,ref:f,...te(ce?ie:O,X)}};if(u?!Array.isArray(j)||!j.length:g&&(!$&&(G||Zn(j))||_s(j)&&!j||H&&!ry(m).isValid||J&&!ly(m).isValid)){const{value:ce,message:le}=Wn(g)?{value:!!g,message:g}:Pr(g);if(ce&&(Z[_]={type:Ws.required,message:le,ref:L,...te(Ws.required,le)},!i))return W(le),Z}if(!G&&(!Zn(y)||!Zn(w))){let ce,le;const pe=Pr(w),ie=Pr(y);if(!Zn(j)&&!isNaN(j)){const O=f.valueAsNumber||j&&+j;Zn(pe.value)||(ce=O>pe.value),Zn(ie.value)||(le=O<ie.value)}else{const O=f.valueAsDate||new Date(j),X=be=>new Date(new Date().toDateString()+" "+be),ge=f.type=="time",ve=f.type=="week";Wn(pe.value)&&j&&(ce=ge?X(j)>X(pe.value):ve?j>pe.value:O>new Date(pe.value)),Wn(ie.value)&&j&&(le=ge?X(j)<X(ie.value):ve?j<ie.value:O<new Date(ie.value))}if((ce||le)&&(re(!!ce,pe.message,ie.message,Ws.max,Ws.min),!i))return W(Z[_].message),Z}if((x||b)&&!G&&(Wn(j)||u&&Array.isArray(j))){const ce=Pr(x),le=Pr(b),pe=!Zn(ce.value)&&j.length>+ce.value,ie=!Zn(le.value)&&j.length<+le.value;if((pe||ie)&&(re(pe,ce.message,le.message),!i))return W(Z[_].message),Z}if(E&&!G&&Wn(j)){const{value:ce,message:le}=Pr(E);if(wc(ce)&&!j.match(ce)&&(Z[_]={type:Ws.pattern,message:le,ref:f,...te(Ws.pattern,le)},!i))return W(le),Z}if(T){if(gs(T)){const ce=await T(j,r),le=ev(ce,L);if(le&&(Z[_]={...le,...te(Ws.validate,le.message)},!i))return W(le.message),Z}else if(Pt(T)){let ce={};for(const le in T){if(!qn(ce)&&!i)break;const pe=ev(await T[le](j,r),L,le);pe&&(ce={...pe,...te(le,pe.message)},W(pe.message),i&&(Z[_]=ce))}if(!qn(ce)&&(Z[_]={ref:L,...ce},!i))return Z}}return W(!0),Z};const i4={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function l4(e={}){let n={...i4,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:gs(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=Pt(n.defaultValues)||Pt(n.values)?dn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:dn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:Fx(),state:Fx()},E=n.criteriaMode===ps.all,T=N=>V=>{clearTimeout(x),x=setTimeout(N,V)},_=async N=>{if(!n.disabled&&(b.isValid||y.isValid||N)){const V=n.resolver?qn((await H()).errors):await G(i,!0);V!==r.isValid&&w.state.next({isValid:V})}},D=(N,V)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((N||Array.from(m.mount)).forEach(A=>{A&&(V?mt(r.validatingFields,A,V):Kt(r.validatingFields,A))}),w.state.next({validatingFields:r.validatingFields,isValidating:!qn(r.validatingFields)}))},U=(N,V=[],A,me,se=!0,de=!0)=>{if(me&&A&&!n.disabled){if(f.action=!0,de&&Array.isArray(Ae(i,N))){const je=A(Ae(i,N),me.argA,me.argB);se&&mt(i,N,je)}if(de&&Array.isArray(Ae(r.errors,N))){const je=A(Ae(r.errors,N),me.argA,me.argB);se&&mt(r.errors,N,je),a4(r.errors,N)}if((b.touchedFields||y.touchedFields)&&de&&Array.isArray(Ae(r.touchedFields,N))){const je=A(Ae(r.touchedFields,N),me.argA,me.argB);se&&mt(r.touchedFields,N,je)}(b.dirtyFields||y.dirtyFields)&&(r.dirtyFields=Jr(c,u)),w.state.next({name:N,isDirty:re(N,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mt(u,N,V)},j=(N,V)=>{mt(r.errors,N,V),w.state.next({errors:r.errors})},L=N=>{r.errors=N,w.state.next({errors:r.errors,isValid:!1})},W=(N,V,A,me)=>{const se=Ae(i,N);if(se){const de=Ae(u,N,qt(A)?Ae(c,N):A);qt(de)||me&&me.defaultChecked||V?mt(u,N,V?de:Kx(se._f)):pe(N,de),f.mount&&_()}},Z=(N,V,A,me,se)=>{let de=!1,je=!1;const He={name:N};if(!n.disabled){if(!A||me){(b.isDirty||y.isDirty)&&(je=r.isDirty,r.isDirty=He.isDirty=re(),de=je!==He.isDirty);const ue=Ma(Ae(c,N),V);je=!!Ae(r.dirtyFields,N),ue?Kt(r.dirtyFields,N):mt(r.dirtyFields,N,!0),He.dirtyFields=r.dirtyFields,de=de||(b.dirtyFields||y.dirtyFields)&&je!==!ue}if(A){const ue=Ae(r.touchedFields,N);ue||(mt(r.touchedFields,N,A),He.touchedFields=r.touchedFields,de=de||(b.touchedFields||y.touchedFields)&&ue!==A)}de&&se&&w.state.next(He)}return de?He:{}},J=(N,V,A,me)=>{const se=Ae(r.errors,N),de=(b.isValid||y.isValid)&&_s(V)&&r.isValid!==V;if(n.delayError&&A?(g=T(()=>j(N,A)),g(n.delayError)):(clearTimeout(x),g=null,A?mt(r.errors,N,A):Kt(r.errors,N)),(A?!Ma(se,A):se)||!qn(me)||de){const je={...me,...de&&_s(V)?{isValid:V}:{},errors:r.errors,name:N};r={...r,...je},w.state.next(je)}},H=async N=>{D(N,!0);const V=await n.resolver(u,n.context,PM(N||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return D(N),V},$=async N=>{const{errors:V}=await H(N);if(N)for(const A of N){const me=Ae(V,A);me?mt(r.errors,A,me):Kt(r.errors,A)}else r.errors=V;return V},G=async(N,V,A={valid:!0})=>{for(const me in N){const se=N[me];if(se){const{_f:de,...je}=se;if(de){const He=m.array.has(de.name),ue=se._f&&JM(se._f);ue&&b.validatingFields&&D([de.name],!0);const Se=await tv(se,m.disabled,u,E,n.shouldUseNativeValidation&&!V,He);if(ue&&b.validatingFields&&D([de.name]),Se[de.name]&&(A.valid=!1,V))break;!V&&(Ae(Se,de.name)?He?r4(r.errors,Se,de.name):mt(r.errors,de.name,Se[de.name]):Kt(r.errors,de.name))}!qn(je)&&await G(je,V,A)}}return A.valid},te=()=>{for(const N of m.unMount){const V=Ae(i,N);V&&(V._f.refs?V._f.refs.every(A=>!gf(A)):!gf(V._f.ref))&&ye(N)}m.unMount=new Set},re=(N,V)=>!n.disabled&&(N&&V&&mt(u,N,V),!Ma(be(),c)),ce=(N,V,A)=>GM(N,m,{...f.mount?u:qt(V)?c:Wn(N)?{[N]:V}:V},A,V),le=N=>xh(Ae(f.mount?u:c,N,n.shouldUnregister?Ae(c,N,[]):[])),pe=(N,V,A={})=>{const me=Ae(i,N);let se=V;if(me){const de=me._f;de&&(!de.disabled&&mt(u,N,iy(V,de)),se=yc(de.ref)&&Zn(V)?"":V,sy(de.ref)?[...de.ref.options].forEach(je=>je.selected=se.includes(je.value)):de.refs?Tl(de.ref)?de.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(se)?je.checked=!!se.find(He=>He===je.value):je.checked=se===je.value||!!se)}):de.refs.forEach(je=>je.checked=je.value===se):yh(de.ref)?de.ref.value="":(de.ref.value=se,de.ref.type||w.state.next({name:N,values:dn(u)})))}(A.shouldDirty||A.shouldTouch)&&Z(N,se,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&ve(N)},ie=(N,V,A)=>{for(const me in V){if(!V.hasOwnProperty(me))return;const se=V[me],de=N+"."+me,je=Ae(i,de);(m.array.has(N)||Pt(se)||je&&!je._f)&&!rr(se)?ie(de,se,A):pe(de,se,A)}},O=(N,V,A={})=>{const me=Ae(i,N),se=m.array.has(N),de=dn(V);mt(u,N,de),se?(w.array.next({name:N,values:dn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&A.shouldDirty&&w.state.next({name:N,dirtyFields:Jr(c,u),isDirty:re(N,de)})):me&&!me._f&&!Zn(de)?ie(N,de,A):pe(N,de,A),Px(N,m)&&w.state.next({...r,name:N}),w.state.next({name:f.mount?N:void 0,values:dn(u)})},X=async N=>{f.mount=!0;const V=N.target;let A=V.name,me=!0;const se=Ae(i,A),de=ue=>{me=Number.isNaN(ue)||rr(ue)&&isNaN(ue.getTime())||Ma(ue,Ae(u,A,ue))},je=Wx(n.mode),He=Wx(n.reValidateMode);if(se){let ue,Se;const Be=V.type?Kx(se._f):ZM(N),rt=N.type===Qx.BLUR||N.type===Qx.FOCUS_OUT,Ht=!e4(se._f)&&!n.resolver&&!Ae(r.errors,A)&&!se._f.deps||s4(rt,Ae(r.touchedFields,A),r.isSubmitted,He,je),en=Px(A,m,rt);mt(u,A,Be),rt?(!V||!V.readOnly)&&(se._f.onBlur&&se._f.onBlur(N),g&&g(0)):se._f.onChange&&se._f.onChange(N);const Ot=Z(A,Be,rt),Sn=!qn(Ot)||en;if(!rt&&w.state.next({name:A,type:N.type,values:dn(u)}),Ht)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?rt&&_():rt||_()),Sn&&w.state.next({name:A,...en?{}:Ot});if(!rt&&en&&w.state.next({...r}),n.resolver){const{errors:St}=await H([A]);if(de(Be),me){const ta=Jx(r.errors,i,A),Ns=Jx(St,i,ta.name||A);ue=Ns.error,A=Ns.name,Se=qn(St)}}else D([A],!0),ue=(await tv(se,m.disabled,u,E,n.shouldUseNativeValidation))[A],D([A]),de(Be),me&&(ue?Se=!1:(b.isValid||y.isValid)&&(Se=await G(i,!0)));me&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&ve(se._f.deps),J(A,Se,ue,Ot))}},ge=(N,V)=>{if(Ae(r.errors,V)&&N.focus)return N.focus(),1},ve=async(N,V={})=>{let A,me;const se=dl(N);if(n.resolver){const de=await $(qt(N)?N:se);A=qn(de),me=N?!se.some(je=>Ae(de,je)):A}else N?(me=(await Promise.all(se.map(async de=>{const je=Ae(i,de);return await G(je&&je._f?{[de]:je}:je)}))).every(Boolean),!(!me&&!r.isValid)&&_()):me=A=await G(i);return w.state.next({...!Wn(N)||(b.isValid||y.isValid)&&A!==r.isValid?{}:{name:N},...n.resolver||!N?{isValid:A}:{},errors:r.errors}),V.shouldFocus&&!me&&fl(i,ge,N?se:m.mount),me},be=(N,V)=>{let A={...f.mount?u:c};return V&&(A=ny(V.dirtyFields?r.dirtyFields:r.touchedFields,A)),qt(N)?A:Wn(N)?Ae(A,N):N.map(me=>Ae(A,me))},C=(N,V)=>({invalid:!!Ae((V||r).errors,N),isDirty:!!Ae((V||r).dirtyFields,N),error:Ae((V||r).errors,N),isValidating:!!Ae(r.validatingFields,N),isTouched:!!Ae((V||r).touchedFields,N)}),q=N=>{N&&dl(N).forEach(V=>Kt(r.errors,V)),w.state.next({errors:N?r.errors:{}})},M=(N,V,A)=>{const me=(Ae(i,N,{_f:{}})._f||{}).ref,se=Ae(r.errors,N)||{},{ref:de,message:je,type:He,...ue}=se;mt(r.errors,N,{...ue,...V,ref:me}),w.state.next({name:N,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&me&&me.focus&&me.focus()},R=(N,V)=>gs(N)?w.state.subscribe({next:A=>"values"in A&&N(ce(void 0,V),A)}):ce(N,V,!0),Q=N=>w.state.subscribe({next:V=>{n4(N.name,V.name,N.exact)&&t4(V,N.formState||b,st,N.reRenderRoot)&&N.callback({values:{...u},...r,...V,defaultValues:c})}}).unsubscribe,F=N=>(f.mount=!0,y={...y,...N.formState},Q({...N,formState:y})),ye=(N,V={})=>{for(const A of N?dl(N):m.mount)m.mount.delete(A),m.array.delete(A),V.keepValue||(Kt(i,A),Kt(u,A)),!V.keepError&&Kt(r.errors,A),!V.keepDirty&&Kt(r.dirtyFields,A),!V.keepTouched&&Kt(r.touchedFields,A),!V.keepIsValidating&&Kt(r.validatingFields,A),!n.shouldUnregister&&!V.keepDefaultValue&&Kt(c,A);w.state.next({values:dn(u)}),w.state.next({...r,...V.keepDirty?{isDirty:re()}:{}}),!V.keepIsValid&&_()},Ee=({disabled:N,name:V})=>{(_s(N)&&f.mount||N||m.disabled.has(V))&&(N?m.disabled.add(V):m.disabled.delete(V))},_e=(N,V={})=>{let A=Ae(i,N);const me=_s(V.disabled)||_s(n.disabled);return mt(i,N,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:N}},name:N,mount:!0,...V}}),m.mount.add(N),A?Ee({disabled:_s(V.disabled)?V.disabled:n.disabled,name:N}):W(N,!0,V.value),{...me?{disabled:V.disabled||n.disabled}:{},...n.progressive?{required:!!V.required,min:rl(V.min),max:rl(V.max),minLength:rl(V.minLength),maxLength:rl(V.maxLength),pattern:rl(V.pattern)}:{},name:N,onChange:X,onBlur:X,ref:se=>{if(se){_e(N,V),A=Ae(i,N);const de=qt(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,je=YM(de),He=A._f.refs||[];if(je?He.find(ue=>ue===de):de===A._f.ref)return;mt(i,N,{_f:{...A._f,...je?{refs:[...He.filter(gf),de,...Array.isArray(Ae(c,N))?[{}]:[]],ref:{type:de.type,name:N}}:{ref:de}}}),W(N,!1,void 0,de)}else A=Ae(i,N,{}),A._f&&(A._f.mount=!1),(n.shouldUnregister||V.shouldUnregister)&&!($M(m.array,N)&&f.action)&&m.unMount.add(N)}}},I=()=>n.shouldFocusError&&fl(i,ge,m.mount),Ce=N=>{_s(N)&&(w.state.next({disabled:N}),fl(i,(V,A)=>{const me=Ae(i,A);me&&(V.disabled=me._f.disabled||N,Array.isArray(me._f.refs)&&me._f.refs.forEach(se=>{se.disabled=me._f.disabled||N}))},0,!1))},ke=(N,V)=>async A=>{let me;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let se=dn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:de,values:je}=await H();r.errors=de,se=dn(je)}else await G(i);if(m.disabled.size)for(const de of m.disabled)Kt(se,de);if(Kt(r.errors,"root"),qn(r.errors)){w.state.next({errors:{}});try{await N(se,A)}catch(de){me=de}}else V&&await V({...r.errors},A),I(),setTimeout(I);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qn(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},Fe=(N,V={})=>{Ae(i,N)&&(qt(V.defaultValue)?O(N,dn(Ae(c,N))):(O(N,V.defaultValue),mt(c,N,dn(V.defaultValue))),V.keepTouched||Kt(r.touchedFields,N),V.keepDirty||(Kt(r.dirtyFields,N),r.isDirty=V.defaultValue?re(N,dn(Ae(c,N))):re()),V.keepError||(Kt(r.errors,N),b.isValid&&_()),w.state.next({...r}))},Le=(N,V={})=>{const A=N?dn(N):c,me=dn(A),se=qn(N),de=se?c:me;if(V.keepDefaultValues||(c=A),!V.keepValues){if(V.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(Jr(c,u))]);for(const He of Array.from(je))Ae(r.dirtyFields,He)?mt(de,He,Ae(u,He)):O(He,Ae(de,He))}else{if(gh&&qt(N))for(const je of m.mount){const He=Ae(i,je);if(He&&He._f){const ue=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(yc(ue)){const Se=ue.closest("form");if(Se){Se.reset();break}}}}if(V.keepFieldsRef)for(const je of m.mount)O(je,Ae(de,je));else i={}}u=n.shouldUnregister?V.keepDefaultValues?dn(c):{}:dn(de),w.array.next({values:{...de}}),w.state.next({values:{...de}})}m={mount:V.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!V.keepIsValid||!!V.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:se?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!Ma(N,c)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:se?{}:V.keepDirtyValues?V.keepDefaultValues&&u?Jr(c,u):r.dirtyFields:V.keepDefaultValues&&N?Jr(c,N):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Ne=(N,V)=>Le(gs(N)?N(u):N,V),Ve=(N,V={})=>{const A=Ae(i,N),me=A&&A._f;if(me){const se=me.refs?me.refs[0]:me.ref;se.focus&&(se.focus(),V.shouldSelect&&gs(se.select)&&se.select())}},st=N=>{r={...r,...N}},Jt={control:{register:_e,unregister:ye,getFieldState:C,handleSubmit:ke,setError:M,_subscribe:Q,_runSchema:H,_focusError:I,_getWatch:ce,_getDirty:re,_setValid:_,_setFieldArray:U,_setDisabledField:Ee,_setErrors:L,_getFieldArray:le,_reset:Le,_resetDefaultValues:()=>gs(n.defaultValues)&&n.defaultValues().then(N=>{Ne(N,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Ce,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(N){f=N},get _defaultValues(){return c},get _names(){return m},set _names(N){m=N},get _formState(){return r},get _options(){return n},set _options(N){n={...n,...N}}},subscribe:F,trigger:ve,register:_e,handleSubmit:ke,watch:R,setValue:O,getValues:be,reset:Ne,resetField:Fe,clearErrors:q,unregister:ye,setError:M,setFocus:Ve,getFieldState:C};return{...Jt,formControl:Jt}}function Sh(e={}){const n=ft.useRef(void 0),r=ft.useRef(void 0),[i,c]=ft.useState({isDirty:!1,isValidating:!1,isLoading:gs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:gs(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!gs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=l4(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,IM(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),ft.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),ft.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),ft.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),ft.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),ft.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),ft.useEffect(()=>{e.values&&!Ma(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),ft.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=FM(i,u),n.current}const nv=(e,n,r)=>{if(e&&"reportValidity"in e){const i=Ae(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Zf=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?nv(i.ref,r,e):i&&i.refs&&i.refs.forEach(c=>nv(c,r,e))}},sv=(e,n)=>{n.shouldUseNativeValidation&&Zf(e,n);const r={};for(const i in e){const c=Ae(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(o4(n.names||Object.keys(e),i)){const f=Object.assign({},Ae(r,i));mt(f,"root",u),mt(r,i,f)}else mt(r,i,u)}return r},o4=(e,n)=>{const r=av(n);return e.some(i=>av(i).match(`^${r}\\.\\d+`))};function av(e){return e.replace(/\]|\[/g,"")}function rv(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function c4(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!r[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var g=r[f].types,x=g&&g[i.code];r[f]=bh(f,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function u4(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!r[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];r[f]={message:m.message,type:m.code}}else r[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var g=r[f].types,x=g&&g[i.code];r[f]=bh(f,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function jh(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(rv(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&Zf({},u),{errors:{},values:r.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:sv(c4(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(rv(function(){return Promise.resolve((r.mode==="sync"?ZN:HN)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&Zf({},u),{errors:{},values:r.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof hh})(f))return{values:{},errors:sv(u4(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function d4(e){const n=Ct();return An({mutationFn:r=>sj(e,r),onSuccess:r=>{n.setQueryData(hn.list(Lv),i=>i&&{...i,items:i.items.map(c=>c.id===r.id?r:c)}),n.invalidateQueries({queryKey:hn.detail(e),exact:!1})}})}async function f4(e={}){const{page:n,pageSize:r,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof r=="number"&&r>0&&(f.page_size=r),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:g}=await Pe.GET("/api/v1/users",{params:{query:f},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function h4(e){return Yf("/users/invitations",e)}function oy(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,c=r.trim(),u=c.length>=2?c:"",f=If({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>f4(m4({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(x=>x.id,[]),g=ph(f.data?.pages,m);return{...f,users:g}}function m4(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function p4(){const e=Ct();return An({mutationFn:({email:n,displayName:r})=>h4({email:n,display_name:r?.trim()?r.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const wl=200;function g4(e){const n={page:1,pageSize:wl};return bs({queryKey:hn.members(e,n),queryFn:({signal:r})=>aj(e,{signal:r,pageSize:wl,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function x4(e){const n=Ct(),r=hn.members(e,{page:1,pageSize:wl});return An({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return rj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(r,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function v4(e){const n=Ct(),r=hn.members(e,{page:1,pageSize:wl});return An({mutationFn:({membershipId:i,roleIds:c})=>ij(e,i,y4(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function b4(e){const n=Ct(),r=hn.members(e,{page:1,pageSize:wl});return An({mutationFn:i=>lj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function y4(e){return{role_ids:Array.from(e)}}const li=200,iv=200;function cy(e){const n={page:1,pageSize:li};return bs({queryKey:hn.roles(e,n),queryFn:({signal:r})=>oj(e,{signal:r,pageSize:li,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:r=>r})}function w4(){const e={scope:"global",page:1,pageSize:iv};return bs({queryKey:hn.permissions(e),queryFn:({signal:n})=>fj({signal:n,scope:"global",pageSize:iv}),staleTime:6e4,placeholderData:n=>n})}function S4(e){const n=Ct(),r=hn.roles(e,{page:1,pageSize:li});return An({mutationFn:i=>cj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(r,f=>lv(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(r,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:lv(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function j4(e){const n=Ct(),r=hn.roles(e,{page:1,pageSize:li});return An({mutationFn:({roleId:i,payload:c})=>uj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:r});const u=n.getQueryData(r);return n.setQueryData(r,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function E4(e){const n=Ct(),r=hn.roles(e,{page:1,pageSize:li});return An({mutationFn:i=>dj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:r});const c=n.getQueryData(r);return n.setQueryData(r,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(r,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function lv(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:li,has_next:!1,has_previous:!1,total:1}}const _4={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function C4(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],c=r[r.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function N4({name:e,email:n,size:r="md",className:i}){const c=p.useMemo(()=>C4(e,n),[e,n]);return o.jsx("span",{"aria-hidden":"true",className:we("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",_4[r],i),children:c})}function k4(){const{workspace:e,hasPermission:n}=Ps(),r=n("Workspace.Members.ReadWrite"),i=g4(e.id),c=cy(e.id),u=x4(e.id),f=v4(e.id),m=b4(e.id),g=p4(),[x,b]=p.useState(null),[y,w]=p.useState([]),[E,T]=p.useState(""),[_,D]=p.useState([]),[U,j]=p.useState(""),[L,W]=p.useState(""),[Z,J]=p.useState("existing"),[H,$]=p.useState(""),[G,te]=p.useState(""),[re,ce]=p.useState(""),[le,pe]=p.useState(null);p.useEffect(()=>{const A=window.setTimeout(()=>{W(U.trim())},250);return()=>window.clearTimeout(A)},[U]);const ie=oy({enabled:r,search:L,pageSize:50}),O=p.useMemo(()=>{const A=new Map;for(const me of c.data?.items??[])A.set(me.id,me);return A},[c.data]),X=p.useMemo(()=>{const A=i.data?.items??[],me=new Intl.Collator("en",{sensitivity:"base"});return Array.from(A).sort((se,de)=>{const je=se.user.display_name??se.user.email,He=de.user.display_name??de.user.email;return me.compare(je??"",He??"")})},[i.data]),ge=p.useMemo(()=>new Set(X.map(A=>A.user.id)),[X]),ve=re.trim().toLowerCase(),be=p.useMemo(()=>ve?X.filter(A=>{const me=A.user.display_name??"",se=A.user.email??"";return me.toLowerCase().includes(ve)||se.toLowerCase().includes(ve)||A.id.toLowerCase().includes(ve)}):X,[X,ve]),C=ie.isPending&&ie.users.length===0,q=ie.isFetchingNextPage,M=p.useMemo(()=>{const A=new Intl.Collator("en",{sensitivity:"base"});return ie.users.filter(me=>!ge.has(me.id)).sort((me,se)=>{const de=me.display_name??me.email,je=se.display_name??se.email;return A.compare(de??"",je??"")})},[ge,ie.users]),R=U.trim().toLowerCase(),F=L.trim().toLowerCase().length>=2,ye=Z==="existing"&&U.trim().length>0&&U.trim().length<2,Ee=p.useMemo(()=>!R||F?M:M.filter(A=>(A.display_name??"").toLowerCase().includes(R)||A.email.toLowerCase().includes(R)),[M,R,F]),_e=p.useMemo(()=>Z==="existing"?M.find(A=>A.id===E):void 0,[M,Z,E]),I=p.useMemo(()=>{const A=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(me=>me.scope_type==="workspace").sort((me,se)=>A.compare(me.name,se.name))},[c.data]),Ce=(A,me)=>{w(se=>me?se.includes(A)?se:[...se,A]:se.filter(de=>de!==A))},ke=(A,me)=>{D(se=>me?se.includes(A)?se:[...se,A]:se.filter(de=>de!==A))},Fe=A=>{b(A.id),w(A.roles),pe(null)},Le=()=>{b(null),w([])},Ne=()=>{x&&(pe(null),f.mutate({membershipId:x,roleIds:y},{onSuccess:()=>{pe({tone:"success",message:"Member roles updated."}),Le()},onError:A=>{const me=A instanceof Error?A.message:"Unable to update member roles.";pe({tone:"danger",message:me})}}))},Ve=A=>{!r||!window.confirm(`Remove ${A.user.display_name??A.user.email} from the workspace?`)||(pe(null),m.mutate(A.id,{onSuccess:()=>{pe({tone:"success",message:"Member removed."})},onError:se=>{const de=se instanceof Error?se.message:"Unable to remove member.";pe({tone:"danger",message:de})}}))},st=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,at=u.isPending||g.isPending,Jt=Z==="existing"?!!E:st.test(H.trim()),N=async A=>{A.preventDefault(),pe(null);try{if(Z==="existing"){if(!E){pe({tone:"danger",message:"Select a user to invite."});return}const de=M.find(je=>je.id===E);if(!de){pe({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:de,roleIds:_}),T(""),D([]),j(""),pe({tone:"success",message:`${de.display_name??de.email} added to the workspace.`});return}const me=H.trim().toLowerCase();if(!me||!st.test(me)){pe({tone:"danger",message:"Enter a valid email address to send an invite."});return}const se=await g.mutateAsync({email:me,displayName:G.trim()||void 0});await u.mutateAsync({user:se,roleIds:_}),$(""),te(""),D([]),pe({tone:"success",message:`Invitation sent to ${se.display_name??se.email}.`})}catch(me){const se=me instanceof Error?me.message:"Unable to invite member.";pe({tone:"danger",message:se})}};p.useEffect(()=>{Z!=="existing"||!_e||Ee.some(A=>A.id===_e.id)||j("")},[Ee,Z,_e]),p.useEffect(()=>{if(pe(null),Z==="existing"){$(""),te("");return}T(""),j("")},[Z]);const V=()=>{Z==="existing"?(T(""),j("")):($(""),te("")),D([])};return o.jsxs("div",{className:"space-y-6",children:[le?o.jsx(Dt,{tone:le.tone,children:le.message}):null,i.isError?o.jsx(Dt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?o.jsx(Dt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,r?o.jsxs("form",{onSubmit:N,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),ie.isError?o.jsx(Dt,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[o.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:Z==="existing",onChange:()=>J("existing"),disabled:at,className:"h-4 w-4"}),o.jsx("span",{children:"Existing teammate"})]}),o.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[o.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:Z==="new",onChange:()=>J("new"),disabled:at,className:"h-4 w-4"}),o.jsx("span",{children:"Invite by email"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx("div",{className:"space-y-4",children:Z==="existing"?o.jsxs(o.Fragment,{children:[o.jsx(Wt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:o.jsx(Xt,{value:U,onChange:A=>j(A.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:at||C})}),ye?o.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,ie.isError?o.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,o.jsx(Wt,{label:"User",required:!0,children:o.jsxs(La,{value:E,onChange:A=>{T(A.target.value),A.target.value&&j("")},disabled:at||C,required:!0,children:[o.jsx("option",{value:"",children:"Select a user"}),_e&&!Ee.some(A=>A.id===_e.id)?o.jsx("option",{value:_e.id,children:_e.display_name?`${_e.display_name} (${_e.email})`:_e.email}):null,Ee.map(A=>o.jsx("option",{value:A.id,children:A.display_name?`${A.display_name} (${A.email})`:A.email},A.id))]})}),Ee.length===0&&U?o.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',U,'". Clear the search to see everyone.']}):null,ie.hasNextPage?o.jsx("div",{className:"pt-2",children:o.jsx(qe,{type:"button",variant:"ghost",onClick:()=>ie.fetchNextPage(),disabled:C||q,children:q?"Loading more users":"Load more users"})}):null]}):o.jsxs(o.Fragment,{children:[o.jsx(Wt,{label:"Email",required:!0,children:o.jsx(Xt,{type:"email",value:H,onChange:A=>$(A.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:at,required:!0})}),o.jsx(Wt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:o.jsx(Xt,{value:G,onChange:A=>te(A.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:at})}),o.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),o.jsx("div",{className:"flex flex-wrap gap-2",children:I.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):I.map(A=>o.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:_.includes(A.id),onChange:me=>ke(A.id,me.target.checked),disabled:at}),o.jsx("span",{children:A.name})]},A.id))}),_.length>0?o.jsxs("p",{className:"text-xs text-slate-500",children:[_.length," role(s) selected."]}):null]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[(Z==="existing"?E||U||_.length>0:H||G||_.length>0)?o.jsx(qe,{type:"button",variant:"ghost",onClick:V,disabled:at,children:"Clear"}):null,o.jsx(qe,{type:"submit",isLoading:at,disabled:!Jt||at,children:Z==="existing"?"Add member":"Send invite"})]})]}):o.jsx(Dt,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),o.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${X.length} member${X.length===1?"":"s"}`})]}),o.jsx(Wt,{label:"Search members",className:"w-full max-w-xs",children:o.jsx(Xt,{value:re,onChange:A=>ce(A.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?o.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):X.length===0?o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):be.length===0?o.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',re,'".']}):o.jsx("ul",{className:"space-y-4",role:"list",children:be.map(A=>{const me=A.user.display_name??A.user.email,se=A.roles.map(je=>O.get(je)?.name??je),de=x===A.id;return o.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(N4,{name:A.user.display_name,email:A.user.email,size:"sm"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:me}),o.jsx("p",{className:"text-sm text-slate-500",children:A.user.email}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[A.is_default?o.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,o.jsxs("span",{children:["ID: ",A.id]})]})]})]}),r?o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:()=>de?Le():Fe(A),disabled:f.isPending||m.isPending||de&&f.isPending,children:de?"Cancel":"Manage roles"}),o.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ve(A),disabled:m.isPending,children:"Remove"})]}):null]}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:se.length>0?se.map(je=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${A.id}-${je}`)):o.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),de?o.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(je=>o.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:He=>Ce(je.id,He.target.checked),disabled:f.isPending}),o.jsx("span",{children:je.name})]},je.id))}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:Le,disabled:f.isPending,children:"Cancel"}),o.jsx(qe,{type:"button",size:"sm",onClick:Ne,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},A.id)})})]})]})}const T4=Xs({name:zt().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:zt().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(Lx("")),description:zt().max(500,"Keep the description concise.").optional().or(Lx("")),permissions:Oc(zt())});function A4(){const{workspace:e,hasPermission:n}=Ps(),r=n("Workspace.Roles.ReadWrite"),i=cy(e.id),c=w4(),u=S4(e.id),f=j4(e.id),m=E4(e.id),[g,x]=p.useState(!1),[b,y]=p.useState(null),[w,E]=p.useState(null),T=p.useMemo(()=>(c.data?.items??[]).filter(J=>J.scope_type==="workspace"),[c.data]),_=p.useMemo(()=>{const J=new Map;for(const H of T)J.set(H.key,H);return J},[T]),D=i.data?.items??[],U=()=>{E(null),x(!0),y(null)},j=()=>{x(!1)},L=J=>{E(null),y(J.id),x(!1)},W=()=>{y(null)},Z=J=>{!r||J.built_in||!window.confirm(`Delete the role "${J.name}"? This action cannot be undone.`)||(E(null),m.mutate(J.id,{onSuccess:()=>{E({tone:"success",message:"Role deleted."})},onError:$=>{const G=$ instanceof Error?$.message:"Unable to delete role.";E({tone:"danger",message:G})}}))};return o.jsxs("div",{className:"space-y-6",children:[w?o.jsx(Dt,{tone:w.tone,children:w.message}):null,i.isError?o.jsx(Dt,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?o.jsx(Dt,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,r?o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),o.jsx(qe,{type:"button",variant:g?"ghost":"primary",onClick:()=>g?j():U(),children:g?"Hide form":"New role"})]}),g?o.jsx("div",{className:"mt-4",children:o.jsx(ov,{availablePermissions:T,allowSlugEdit:!0,onCancel:j,onSubmit:J=>{E(null),u.mutate({name:J.name.trim(),slug:J.slug?J.slug.trim():void 0,description:J.description?.trim()?J.description.trim():void 0,permissions:J.permissions},{onSuccess:()=>{E({tone:"success",message:"Role created."}),j()},onError:H=>{const $=H instanceof Error?H.message:"Unable to create role.";E({tone:"danger",message:$})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,o.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),o.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${D.length} role${D.length===1?"":"s"}`})]})}),i.isLoading?o.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):D.length===0?o.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):o.jsx("ul",{className:"space-y-4",role:"list",children:D.map(J=>{const H=b===J.id,$=J.permissions.map(G=>_.get(G)?.label??G);return o.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:J.name}),J.built_in?o.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,J.editable?null:o.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",J.slug]}),J.description?o.jsx("p",{className:"text-sm text-slate-600",children:J.description}):null]}),r&&J.editable?o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:()=>H?W():L(J),disabled:f.isPending||m.isPending,children:H?"Cancel":"Edit"}),J.built_in?null:o.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(J),disabled:m.isPending,children:"Delete"})]}):null]}),o.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:$.length>0?$.map(G=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:G},`${J.id}-${G}`)):o.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),H?o.jsx("div",{className:"mt-4",children:o.jsx(ov,{availablePermissions:T,initialValues:{name:J.name,slug:J.slug,description:J.description??"",permissions:J.permissions},allowSlugEdit:!1,onCancel:W,onSubmit:G=>{E(null),f.mutate({roleId:J.id,payload:{name:G.name.trim(),description:G.description?.trim()?G.description.trim():void 0,permissions:G.permissions}},{onSuccess:()=>{E({tone:"success",message:"Role updated."}),W()},onError:te=>{const re=te instanceof Error?te.message:"Unable to update role.";E({tone:"danger",message:re})}})},isSubmitting:f.isPending},J.id)}):null]},J.id)})})]})]})}function ov({availablePermissions:e,initialValues:n,onSubmit:r,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:g,setValue:x,formState:{errors:b},reset:y}=Sh({resolver:jh(T4),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=g("permissions"),E=(_,D)=>{x("permissions",D?Array.from(new Set([...w??[],_])):(w??[]).filter(U=>U!==_))},T=m(_=>{const D={name:_.name.trim(),slug:u?_.slug?.trim()??"":n?.slug??"",description:_.description?.trim()??"",permissions:_.permissions??[]};r(D)});return o.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:T,noValidate:!0,children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",o.jsx(Xt,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",o.jsx(Xt,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),o.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),o.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",o.jsx(Xt,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?o.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(_=>o.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[o.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(_.key)??!1,onChange:D=>E(_.key,D.target.checked),disabled:c}),o.jsxs("span",{children:[o.jsx("span",{className:"block font-semibold",children:_.label}),o.jsx("span",{className:"block text-xs text-slate-500",children:_.description})]})]},_.key))})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[i?o.jsx(qe,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,o.jsx(qe,{type:"submit",isLoading:c,children:"Save role"})]})]})}const uy=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],M4=new Set(uy.map(e=>e.id)),xf=e=>!!(e&&M4.has(e));function D4(){Ps();const[e,n]=lh(),r=e.get("view"),i=xf(r)?r:"general";p.useEffect(()=>{if(r&&!xf(r)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[r,e,n]);const c=u=>{if(!xf(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return o.jsx(Xf,{value:i,onValueChange:c,children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(Pf,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:uy.map(u=>{const f=u.id===i;return o.jsx(dc,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),o.jsx(ti,{value:"general","aria-live":"polite",children:i==="general"?o.jsx(R4,{}):null}),o.jsx(ti,{value:"members","aria-live":"polite",children:i==="members"?o.jsx(k4,{}):null}),o.jsx(ti,{value:"roles","aria-live":"polite",children:i==="roles"?o.jsx(A4,{}):null})]})})}const z4=Xs({name:zt().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:zt().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function R4(){const{workspace:e}=Ps(),n=d4(e.id),[r,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:g}=Sh({resolver:jh(z4),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{g({name:e.name,slug:e.slug})},[g,e.name,e.slug]);const x=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return o.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:x,noValidate:!0,children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),r?o.jsx(Dt,{tone:"success",children:r}):null,n.isError?o.jsx(Dt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsx(Wt,{label:"Workspace name",required:!0,error:f.name?.message,children:o.jsx(Xt,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),o.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:o.jsx(Xt,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(qe,{type:"button",variant:"ghost",onClick:()=>{g(),i(null)},disabled:n.isPending||!m,children:"Reset"}),o.jsx(qe,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]})}function O4(){return o.jsx(Ec,{children:o.jsx(L4,{})})}function L4(){const e=os(),n=wn(),r=Ct(),i=_c(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=q4(e.pathname),f=p.useMemo(()=>H4(c,u),[c,u]);return p.useEffect(()=>{i.data&&r.setQueryData(hn.list(Lv),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${Ra.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=$4(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&bj(f)},[f]),i.isLoading?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(bt,{title:"Loading workspace",variant:"loading"})}):i.isError?o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[o.jsx(bt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),o.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?o.jsx(yj,{workspace:f,workspaces:c,children:o.jsx(U4,{workspace:f})}):null}function U4({workspace:e}){return o.jsx(uC,{children:o.jsx(VC,{workspaceId:e.id,children:o.jsx(B4,{workspace:e})})})}function B4({workspace:e}){const n=Sl(),r=wn(),i=os(),{session:c,windowState:u}=bb(),f=Cb(),m=f.data?.enabled??!1,g=f.data?.detail??fi,x=Nb(),b=p.useMemo(()=>Eb(e),[e]),[y,w]=p.useState(""),[E,T]=p.useState(!1),_=y.trim().toLowerCase(),D=!!(c&&u==="maximized"),U=p.useMemo(()=>b.map(R=>({id:R.id,label:R.label,description:`Jump to ${R.label}`,icon:o.jsx(R.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),j=p.useMemo(()=>Oa(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[L,W]=p.useState(()=>{const R=j.get();return typeof R=="boolean"?R:!1});p.useEffect(()=>{const R=j.get();W(typeof R=="boolean"?R:!1)},[j]),p.useEffect(()=>{j.set(L)},[L,j]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const R=()=>{window.innerWidth>=1024&&T(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),p.useEffect(()=>{if(typeof document>"u")return;const R=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=R||"",()=>{document.body.style.overflow=R}},[E]),p.useEffect(()=>{D&&T(!1)},[D]);const Z=p.useCallback(()=>{if(!_)return;const R=b.find(Q=>Q.label.toLowerCase().includes(_))??b.find(Q=>Q.id.toLowerCase().includes(_));R&&r(R.href)},[_,b,r]),J=p.useCallback(R=>{const Q=b.find(F=>F.id===R.id);Q&&(r(Q.href),w(""))},[b,r]),H=p.useCallback(()=>T(!0),[]),$=p.useCallback(()=>T(!1),[]),G=o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("button",{type:"button",onClick:H,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:o.jsx(V4,{})})}),te=n.user.display_name||n.user.email||"Signed in",re=n.user.email??"",ce=o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Sb,{displayName:te,email:re})}),le={value:y,onChange:w,onSubmit:Z,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:U,onSelectSuggestion:J},pe=Z4(i.pathname,e.id),ie=F4(e.id,pe,i.search,i.hash),O=ie?.kind==="content"&&ie.key.startsWith("documents"),X=O?new URLSearchParams(i.search).get("q")??"":"",ge=p.useCallback(R=>{if(!O)return;const Q=new URLSearchParams(i.search);R?Q.set("q",R):Q.delete("q");const F=Q.toString();r(`${i.pathname}${F?`?${F}`:""}${i.hash}`,{replace:!0})},[O,i.hash,i.pathname,i.search,r]),ve=p.useCallback(R=>{ge(R)},[ge]),be=p.useCallback(()=>{ge("")},[ge]),q=(O?{value:X,onChange:ge,onSubmit:ve,onClear:be,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??le;if(p.useEffect(()=>{ie?.kind==="redirect"&&r(ie.to,{replace:!0})},[ie,r]),!ie||ie.kind==="redirect")return null;const M=ie.fullHeight??!1;return o.jsxs("div",{className:"flex min-h-screen min-w-0 bg-slate-50 text-slate-900",children:[D?null:o.jsx(fN,{workspace:e,items:b,collapsed:L,onToggleCollapse:()=>W(R=>!R),onGoToWorkspaces:()=>r("/workspaces")}),o.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[D?null:o.jsx(wb,{brand:G,trailing:ce,search:q}),!D&&E?o.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:$}),o.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[o.jsxs("div",{className:"flex flex-col leading-tight",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),o.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),o.jsx("button",{type:"button",onClick:$,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:o.jsx(Q4,{})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:o.jsx(_b,{items:b,onNavigate:$,showHeading:!1})})]})]}):null,o.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:o.jsx("main",{className:we("relative flex-1 min-w-0",M?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:o.jsxs("div",{className:we(M?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?o.jsx("div",{className:we("mb-4",M?"px-6 pt-4":""),children:o.jsx(Dt,{tone:"warning",heading:"Safe mode active",children:g})}):null,o.jsx("div",{className:we(M?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:ie.element})]})})},`section-${ie.key}`)]})]})}function q4(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function Z4(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function H4(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function $4(e,n,r,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${Ra.path}`;return`/workspaces/${r}${f}${n}`}function V4(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),o.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),o.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function Q4(){return o.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[o.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),o.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function F4(e,n,r,i){const c=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Ra.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:o.jsx(wN,{})};case Ra.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:o.jsx(CM,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:o.jsx(YA,{})};case"jobs":return{kind:"content",key:"jobs",element:o.jsx(AM,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:o.jsx(I4,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:o.jsx(BM,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:o.jsx(LM,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:o.jsx(D4,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:o.jsx(bt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function I4({configId:e}){return o.jsx(qM,{params:{configId:e}})}function G4(e){return`/workspaces/${e}/${Ra.path}`}function Y4(){return o.jsx(Ec,{children:o.jsx(K4,{})})}function K4(){const e=os(),n=wn(),r=Sl(),i=_c(),c=i.data?.items??[],m=[vj(),r.user.preferred_workspace_id].filter(g=>!!g).map(g=>c.find(x=>x.id===g)).find(g=>!!g)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=G4(m.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?o.jsx(bt,{title:"Loading workspaces",variant:"loading"}):i.isError?o.jsx(bt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:o.jsx(qe,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function W4(){return bs({queryKey:xs.providers(),queryFn:({signal:e})=>zS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const X4=Xs({email:zt().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:zt().min(1,"Enter your password.")});function P4(){const e=os(),n=wn(),r=Ct(),i=Dv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,g=Kf(m),x=W4(),b=x.data?.providers??[],y=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const Z=new URLSearchParams(e.search);return ml(Z.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(uc(c.return_to,E),{replace:!0})},[n,E,c]),p.useEffect(()=>{m&&(g.isPending||g.isError||g.data?.requires_setup&&n(Rv(E),{replace:!0}))},[n,E,g.data?.requires_setup,g.isError,g.isPending,m]);const[T,_]=p.useState(null),[D,U]=p.useState(!1);if(p.useEffect(()=>{_(null)},[e.search]),u)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),o.jsx(qe,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&m)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&m)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),o.jsx(qe,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const j=async Z=>{Z.preventDefault(),_(null);const J=new FormData(Z.currentTarget),H=Object.fromEntries(J.entries()),$=X4.safeParse(H);if(!$.success){const le=$.error.issues[0]?.message??"Invalid input.";_(le);return}const{email:G,password:te}=$.data,re=typeof H.redirectTo=="string"?H.redirectTo:null,ce=ml(re);U(!0);try{const le=await RS({email:G,password:te});r.setQueryData(xs.detail(),le),n(uc(le.return_to,ce),{replace:!0})}catch(le){if(le instanceof Xn){const pe=le.problem?.detail??le.message??"Unable to sign in.";_(pe)}else le instanceof Error?_(le.message):_("Unable to sign in.")}finally{U(!1)}},L=!!T&&!D,W=x.isLoading||x.isFetching;return o.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:o.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[o.jsxs("header",{className:"space-y-2 text-center",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?o.jsx(Dt,{tone:"warning",className:"mt-6",children:w}):null,W?o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),o.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?o.jsx("div",{className:"mt-6 space-y-3",children:b.map(Z=>o.jsxs("a",{href:Z.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",Z.label]},Z.id))}):null,y?o.jsx(Dt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):o.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:j,children:[o.jsx("input",{type:"hidden",name:"redirectTo",value:E}),o.jsx(Wt,{label:"Email address",required:!0,children:o.jsx(Xt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:D})}),o.jsx(Wt,{label:"Password",required:!0,children:o.jsx(Xt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:D})}),L?o.jsx(Dt,{tone:"danger",children:T}):null,o.jsx(qe,{type:"submit",className:"w-full justify-center",isLoading:D,disabled:D,children:D?"Signing in":"Continue"})]})]})})}function J4(){const e=wn(),n=os(),r=Ct(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),g=f.get("state");if(!m||!g){c("Missing authorization details from the identity provider.");return}async function x(){try{const b=f.toString(),y=await bS(`/auth/sso/callback?${b}`);if(u)return;const w=ai(y);r.setQueryData(xs.detail(),w);const E=uc(w.return_to,f.get("next"));e(E,{replace:!0})}catch(b){if(u)return;b instanceof Xn?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,r]),i?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(bt,{title:"Unable to finish sign-in",description:i,variant:"error",action:o.jsx(qe,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(bt,{title:"Finishing sign-in",variant:"loading"})})}const eD=Xs({displayName:zt().min(1,"Display name is required."),email:zt().min(1,"Email is required.").email("Enter a valid email address."),password:zt().min(12,"Use at least 12 characters."),confirmPassword:zt().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function tD(){const e=os(),n=wn(),r=Ct(),i=Kf(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return ml(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(zv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,g]=p.useState(!1);if(i.isPending)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),o.jsx(qe,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),E=eD.safeParse(w);if(!E.success){const _=E.error.issues[0]?.message??"Invalid input.";f(_);return}g(!0);const T=ml(w.redirectTo);try{const _=await IS({display_name:E.data.displayName,email:E.data.email,password:E.data.password});r.setQueryData(xs.detail(),_),n(uc(_.return_to,T),{replace:!0})}catch(_){if(_ instanceof Xn){const D=_.problem?.detail??_.message??"Setup failed. Try again.";f(D)}else _ instanceof Error?f(_.message):f("Setup failed. Try again.")}finally{g(!1)}};return o.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[o.jsxs("header",{className:"space-y-3 text-center",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?o.jsx(Dt,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[o.jsx("input",{type:"hidden",name:"redirectTo",value:c}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsx(Wt,{label:"Display name",required:!0,children:o.jsx(Xt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),o.jsx(Wt,{label:"Email",required:!0,children:o.jsx(Xt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),o.jsx(Wt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:o.jsx(Xt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),o.jsx(Wt,{label:"Confirm password",required:!0,children:o.jsx(Xt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?o.jsx(Dt,{tone:"danger",children:u}):null,o.jsx("div",{className:"flex justify-end",children:o.jsx(qe,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function dy({children:e,sidePanel:n,actions:r,search:i}){const c=Sl(),u=wn(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return o.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[o.jsx(wb,{brand:o.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[o.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:o.jsx(cN,{className:"h-5 w-5","aria-hidden":!0})}),o.jsxs("span",{className:"flex flex-col leading-tight",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),o.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?o.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Sb,{displayName:f,email:m})})}),o.jsx("main",{className:"flex flex-1 overflow-y-auto",children:o.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:o.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[o.jsx("div",{children:e}),n?o.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function nD(){return o.jsx(Ec,{children:o.jsx(sD,{})})}function sD(){const e=wn(),n=Sl(),r=_c(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=Nb(),g=r.data,x=p.useMemo(()=>g?.items??[],[g?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?x.filter(Z=>{const J=Z.name.toLowerCase(),H=Z.slug?.toLowerCase()??"";return J.includes(b)||H.includes(b)}):x,[x,b]),w=c?o.jsx(qe,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,E=p.useCallback(()=>{if(!b)return;const Z=y[0];Z&&e(`/workspaces/${Z.id}/${Ra.path}`)},[y,b,e]),T=p.useCallback(()=>f(""),[]),D=(b?y:x).slice(0,5).map(Z=>({id:Z.id,label:Z.name,description:Z.slug?`Slug  ${Z.slug}`:"Workspace"})),U=p.useCallback(Z=>{f(""),e(`/workspaces/${Z.id}/${Ra.path}`)},[e]),j={value:u,onChange:f,onSubmit:E,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:D,onSelectSuggestion:U,onClear:T},L={...j,shortcutHint:void 0,onClear:T,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(bt,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:o.jsx(bt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:o.jsx(qe,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const W=x.length===0?c?o.jsx(rD,{onCreate:()=>e("/workspaces/new")}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),o.jsx(bt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?o.jsx("div",{className:"space-y-4",children:o.jsx(bt,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:o.jsx(qe,{variant:"secondary",onClick:T,children:"Clear search"})})}):o.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[o.jsxs("header",{children:[o.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),o.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),o.jsx(yb,{...L,className:"w-full"}),o.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map(Z=>o.jsxs(gc,{to:`/workspaces/${Z.id}/${Ra.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:Z.name}),Z.is_default?o.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),o.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",Z.slug]}),o.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),o.jsx("p",{className:"text-sm text-slate-600",children:Z.permissions.length>0?Z.permissions.join(", "):"None"})]},Z.id))})]});return o.jsx(dy,{actions:w,search:j,sidePanel:o.jsx(aD,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:W})}function aD({canCreate:e,onCreate:n}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),o.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),o.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?o.jsx(qe,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),o.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[o.jsxs("header",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),o.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),o.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[o.jsx("li",{children:"Invite at least one additional administrator."}),o.jsx("li",{children:"Review configurations before uploading production files."}),o.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function rD({onCreate:e}){return o.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[o.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),o.jsx(qe,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function iD(){const e=Ct();return An({mutationFn:nj,onSuccess(){e.invalidateQueries({queryKey:hn.all()})}})}const lD=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,oD=Xs({name:zt().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:zt().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(lD,"Use lowercase letters, numbers, and dashes."),ownerUserId:zt().optional()});function cD(){return o.jsx(Ec,{children:o.jsx(uD,{})})}function uD(){const e=wn(),n=Sl(),r=_c(),i=iD(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=oy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter($=>$.id!==n.user.id):f,[f,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:y,setError:w,clearErrors:E,formState:{errors:T,dirtyFields:_}}=Sh({resolver:jh(oD),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),D=b("name"),U=b("slug");p.useEffect(()=>{if(_.slug)return;const $=dD(D);$!==U&&y("slug",$,{shouldValidate:!!$})},[_.slug,D,y,U]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const j=i.isPending,L=u.isPending&&u.users.length===0,W=j||L||!c,Z=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,J=g("ownerUserId"),H=x($=>{if(E("root"),c&&!$.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:$.name.trim(),slug:$.slug.trim(),owner_user_id:c&&$.ownerUserId||void 0},{onSuccess(G){r.refetch(),e(`/workspaces/${G.id}`)},onError(G){if(G instanceof Xn){const te=G.problem?.detail??G.message,re=G.problem?.errors??{};w("root",{type:"server",message:te}),re.name?.[0]&&w("name",{type:"server",message:re.name[0]}),re.slug?.[0]&&w("slug",{type:"server",message:re.slug[0]}),re.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:re.owner_user_id[0]});return}w("root",{type:"server",message:G instanceof Error?G.message:"Workspace creation failed."})}})});return o.jsx(dy,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"space-y-2",children:[o.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),o.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:H,children:[o.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[o.jsx(Wt,{label:"Workspace name",required:!0,error:T.name?.message,children:o.jsx(Xt,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!T.name,disabled:j})}),o.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:T.slug?.message,children:o.jsx(Xt,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!T.slug,disabled:j})})]}),c?o.jsxs(Wt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:T.ownerUserId?.message,children:[o.jsxs("select",{id:"workspaceOwner",...J,onChange:$=>{J.onChange($),E("ownerUserId")},disabled:W,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[o.jsx("option",{value:n.user.id??"",children:Z}),m.map($=>o.jsx("option",{value:$.id,children:$.display_name?`${$.display_name} (${$.email})`:$.email},$.id))]}),u.hasNextPage?o.jsx("div",{className:"pt-2",children:o.jsx(qe,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,T.root?o.jsx(Dt,{tone:"danger",children:T.root.message}):null,c&&u.isError?o.jsx(Dt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[o.jsx(qe,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:j,children:"Cancel"}),o.jsx(qe,{type:"submit",isLoading:j,children:j?"Creating workspace":"Create workspace"})]})]})]})})}function dD(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function fD({signal:e}={}){try{await Pe.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof Xn&&(n.status===401||n.status===403))return}}function hD(){const e=wn(),n=Ct();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await fD({signal:i.signal})}finally{r||(n.removeQueries({queryKey:xs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function mD(){return o.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",o.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",o.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),o.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[o.jsx(gc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),o.jsx(gc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function pD(){return o.jsx(N1,{children:o.jsx(hS,{children:o.jsx(gD,{})})})}function gD(){const e=os(),r=xD(e.pathname).split("/").filter(Boolean);if(r.length===0)return o.jsx(Y4,{});const[i,c]=r;switch(i){case"login":return o.jsx(P4,{});case"logout":return o.jsx(hD,{});case"auth":if(c==="callback")return o.jsx(J4,{});break;case"setup":return o.jsx(tD,{});case"workspaces":return c?c==="new"?o.jsx(cD,{}):o.jsx(O4,{}):o.jsx(nD,{})}return o.jsx(mD,{})}function xD(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}C1.createRoot(document.getElementById("root")).render(o.jsx(ft.StrictMode,{children:o.jsx(pD,{})}));export{ft as W,we as c,o as j,p as r};
