(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function N1(){if(ix)return kl;ix=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return kl.Fragment=n,kl.jsx=a,kl.jsxs=a,kl}var lx;function E1(){return lx||(lx=1,lf.exports=N1()),lf.exports}var l=E1(),of={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function C1(){if(ox)return Qe;ox=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function B(E,H,z){this.props=E,this.context=H,this.refs=O,this.updater=z||T}B.prototype.isReactComponent={},B.prototype.setState=function(E,H){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,H,"setState")},B.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=B.prototype;function A(E,H,z){this.props=E,this.context=H,this.refs=O,this.updater=z||T}var V=A.prototype=new C;V.constructor=A,N(V,B.prototype),V.isPureReactComponent=!0;var Z=Array.isArray;function G(){}var Y={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function se(E,H,z){var R=z.ref;return{$$typeof:e,type:E,key:H,ref:R!==void 0?R:null,props:z}}function ie(E,H){return se(E.type,H,E.props)}function le(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function pe(E){var H={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(z){return H[z]})}var de=/\/+/g;function ge(E,H){return typeof E=="object"&&E!==null&&E.key!=null?pe(""+E.key):H.toString(36)}function Se(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(G,G):(E.status="pending",E.then(function(H){E.status==="pending"&&(E.status="fulfilled",E.value=H)},function(H){E.status==="pending"&&(E.status="rejected",E.reason=H)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,H,z,R,Q){var F=typeof E;(F==="undefined"||F==="boolean")&&(E=null);var me=!1;if(E===null)me=!0;else switch(F){case"bigint":case"string":case"number":me=!0;break;case"object":switch(E.$$typeof){case e:case n:me=!0;break;case b:return me=E._init,U(me(E._payload),H,z,R,Q)}}if(me)return Q=Q(E),me=R===""?"."+ge(E,0):R,Z(Q)?(z="",me!=null&&(z=me.replace(de,"$&/")+"/"),U(Q,H,z,"",function(I){return I})):Q!=null&&(le(Q)&&(Q=ie(Q,z+(Q.key==null||E&&E.key===Q.key?"":(""+Q.key).replace(de,"$&/")+"/")+me)),H.push(Q)),1;me=0;var be=R===""?".":R+":";if(Z(E))for(var Ne=0;Ne<E.length;Ne++)R=E[Ne],F=be+ge(R,Ne),me+=U(R,H,z,F,Q);else if(Ne=j(E),typeof Ne=="function")for(E=Ne.call(E),Ne=0;!(R=E.next()).done;)R=R.value,F=be+ge(R,Ne++),me+=U(R,H,z,F,Q);else if(F==="object"){if(typeof E.then=="function")return U(Se(E),H,z,R,Q);throw H=String(E),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function X(E,H,z){if(E==null)return E;var R=[],Q=0;return U(E,R,"","",function(F){return H.call(z,F,Q++)}),R}function xe(E){if(E._status===-1){var H=E._result;H=H(),H.then(function(z){(E._status===0||E._status===-1)&&(E._status=1,E._result=z)},function(z){(E._status===0||E._status===-1)&&(E._status=2,E._result=z)}),E._status===-1&&(E._status=0,E._result=H)}if(E._status===1)return E._result.default;throw E._result}var we=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},oe={map:X,forEach:function(E,H,z){X(E,function(){H.apply(this,arguments)},z)},count:function(E){var H=0;return X(E,function(){H++}),H},toArray:function(E){return X(E,function(H){return H})||[]},only:function(E){if(!le(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Qe.Activity=y,Qe.Children=oe,Qe.Component=B,Qe.Fragment=a,Qe.Profiler=c,Qe.PureComponent=A,Qe.StrictMode=i,Qe.Suspense=g,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Y.H.useMemoCache(E)}},Qe.cache=function(E){return function(){return E.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(E,H,z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var R=N({},E.props),Q=E.key;if(H!=null)for(F in H.key!==void 0&&(Q=""+H.key),H)!P.call(H,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&H.ref===void 0||(R[F]=H[F]);var F=arguments.length-2;if(F===1)R.children=z;else if(1<F){for(var me=Array(F),be=0;be<F;be++)me[be]=arguments[be+2];R.children=me}return se(E.type,Q,R)},Qe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Qe.createElement=function(E,H,z){var R,Q={},F=null;if(H!=null)for(R in H.key!==void 0&&(F=""+H.key),H)P.call(H,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(Q[R]=H[R]);var me=arguments.length-2;if(me===1)Q.children=z;else if(1<me){for(var be=Array(me),Ne=0;Ne<me;Ne++)be[Ne]=arguments[Ne+2];Q.children=be}if(E&&E.defaultProps)for(R in me=E.defaultProps,me)Q[R]===void 0&&(Q[R]=me[R]);return se(E,F,Q)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(E){return{$$typeof:m,render:E}},Qe.isValidElement=le,Qe.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:xe}},Qe.memo=function(E,H){return{$$typeof:x,type:E,compare:H===void 0?null:H}},Qe.startTransition=function(E){var H=Y.T,z={};Y.T=z;try{var R=E(),Q=Y.S;Q!==null&&Q(z,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(G,we)}catch(F){we(F)}finally{H!==null&&z.types!==null&&(H.types=z.types),Y.T=H}},Qe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Qe.use=function(E){return Y.H.use(E)},Qe.useActionState=function(E,H,z){return Y.H.useActionState(E,H,z)},Qe.useCallback=function(E,H){return Y.H.useCallback(E,H)},Qe.useContext=function(E){return Y.H.useContext(E)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(E,H){return Y.H.useDeferredValue(E,H)},Qe.useEffect=function(E,H){return Y.H.useEffect(E,H)},Qe.useEffectEvent=function(E){return Y.H.useEffectEvent(E)},Qe.useId=function(){return Y.H.useId()},Qe.useImperativeHandle=function(E,H,z){return Y.H.useImperativeHandle(E,H,z)},Qe.useInsertionEffect=function(E,H){return Y.H.useInsertionEffect(E,H)},Qe.useLayoutEffect=function(E,H){return Y.H.useLayoutEffect(E,H)},Qe.useMemo=function(E,H){return Y.H.useMemo(E,H)},Qe.useOptimistic=function(E,H){return Y.H.useOptimistic(E,H)},Qe.useReducer=function(E,H,z){return Y.H.useReducer(E,H,z)},Qe.useRef=function(E){return Y.H.useRef(E)},Qe.useState=function(E){return Y.H.useState(E)},Qe.useSyncExternalStore=function(E,H,z){return Y.H.useSyncExternalStore(E,H,z)},Qe.useTransition=function(){return Y.H.useTransition()},Qe.version="19.2.0",Qe}var cx;function Kf(){return cx||(cx=1,of.exports=C1()),of.exports}var p=Kf();const mt=iv(p);var cf={exports:{}},Tl={},uf={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function _1(){return ux||(ux=1,(function(e){function n(U,X){var xe=U.length;U.push(X);e:for(;0<xe;){var we=xe-1>>>1,oe=U[we];if(0<c(oe,X))U[we]=X,U[xe]=oe,xe=we;else break e}}function a(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var X=U[0],xe=U.pop();if(xe!==X){U[0]=xe;e:for(var we=0,oe=U.length,E=oe>>>1;we<E;){var H=2*(we+1)-1,z=U[H],R=H+1,Q=U[R];if(0>c(z,xe))R<oe&&0>c(Q,z)?(U[we]=Q,U[R]=xe,we=R):(U[we]=z,U[H]=xe,we=H);else if(R<oe&&0>c(Q,xe))U[we]=Q,U[R]=xe,we=R;else break e}}return X}function c(U,X){var xe=U.sortIndex-X.sortIndex;return xe!==0?xe:U.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var g=[],x=[],b=1,y=null,w=3,j=!1,T=!1,N=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V(U){for(var X=a(x);X!==null;){if(X.callback===null)i(x);else if(X.startTime<=U)i(x),X.sortIndex=X.expirationTime,n(g,X);else break;X=a(x)}}function Z(U){if(N=!1,V(U),!T)if(a(g)!==null)T=!0,G||(G=!0,pe());else{var X=a(x);X!==null&&Se(Z,X.startTime-U)}}var G=!1,Y=-1,P=5,se=-1;function ie(){return O?!0:!(e.unstable_now()-se<P)}function le(){if(O=!1,G){var U=e.unstable_now();se=U;var X=!0;try{e:{T=!1,N&&(N=!1,C(Y),Y=-1),j=!0;var xe=w;try{t:{for(V(U),y=a(g);y!==null&&!(y.expirationTime>U&&ie());){var we=y.callback;if(typeof we=="function"){y.callback=null,w=y.priorityLevel;var oe=we(y.expirationTime<=U);if(U=e.unstable_now(),typeof oe=="function"){y.callback=oe,V(U),X=!0;break t}y===a(g)&&i(g),V(U)}else i(g);y=a(g)}if(y!==null)X=!0;else{var E=a(x);E!==null&&Se(Z,E.startTime-U),X=!1}}break e}finally{y=null,w=xe,j=!1}X=void 0}}finally{X?pe():G=!1}}}var pe;if(typeof A=="function")pe=function(){A(le)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ge=de.port2;de.port1.onmessage=le,pe=function(){ge.postMessage(null)}}else pe=function(){B(le,0)};function Se(U,X){Y=B(function(){U(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(U){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var xe=w;w=X;try{return U()}finally{w=xe}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var xe=w;w=U;try{return X()}finally{w=xe}},e.unstable_scheduleCallback=function(U,X,xe){var we=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?we+xe:we):xe=we,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=xe+oe,U={id:b++,callback:X,priorityLevel:U,startTime:xe,expirationTime:oe,sortIndex:-1},xe>we?(U.sortIndex=xe,n(x,U),a(g)===null&&U===a(x)&&(N?(C(Y),Y=-1):N=!0,Se(Z,xe-we))):(U.sortIndex=oe,n(g,U),T||j||(T=!0,G||(G=!0,pe()))),U},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(U){var X=w;return function(){var xe=w;w=X;try{return U.apply(this,arguments)}finally{w=xe}}}})(df)),df}var dx;function k1(){return dx||(dx=1,uf.exports=_1()),uf.exports}var ff={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function T1(){if(fx)return On;fx=1;var e=Kf();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},On.flushSync=function(g){var x=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=x,i.p=b,i.d.f()}},On.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},On.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},On.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:j}):b==="script"&&i.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},On.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},On.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},On.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},On.requestFormReset=function(g){i.d.r(g)},On.unstable_batchedUpdates=function(g,x){return g(x)},On.useFormState=function(g,x,b){return f.H.useFormState(g,x,b)},On.useFormStatus=function(){return f.H.useHostTransitionStatus()},On.version="19.2.0",On}var hx;function lv(){if(hx)return ff.exports;hx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ff.exports=T1(),ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function A1(){if(mx)return Tl;mx=1;var e=k1(),n=Kf(),a=lv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return g(d),t;if(h===o)return g(d),s;h=h.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=h;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,o=h;break}if(S===o){v=!0,o=d,r=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===r){v=!0,r=h,o=d;break}if(S===o){v=!0,o=h,r=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case G:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case A:return t.displayName||"Context";case C:return(t._context.displayName||"Context")+".Consumer";case V:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:ge(t.type)||"Memo";case P:s=t._payload,t=t._init;try{return ge(t(s))}catch{}}return null}var Se=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},we=[],oe=-1;function E(t){return{current:t}}function H(t){0>oe||(t.current=we[oe],we[oe]=null,oe--)}function z(t,s){oe++,we[oe]=t.current,t.current=s}var R=E(null),Q=E(null),F=E(null),me=E(null);function be(t,s){switch(z(F,s),z(Q,t),z(R,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Tg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Tg(s),t=Ag(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(R),z(R,t)}function Ne(){H(R),H(Q),H(F)}function I(t){t.memoizedState!==null&&z(me,t);var s=R.current,r=Ag(s,t.type);s!==r&&(z(Q,t),z(R,r))}function Ee(t){Q.current===t&&(H(R),H(Q)),me.current===t&&(H(me),Nl._currentValue=xe)}var ke,$e;function Oe(t){if(ke===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ke=s&&s[1]||"",$e=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+t+$e}var Ae=!1;function Fe(t,s){if(!t||Ae)return"";Ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var J=te}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(te){J=te}t.call(fe.prototype)}}else{try{throw Error()}catch(te){J=te}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var M=v.split(`
`),K=S.split(`
`);for(d=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(o===M.length||d===K.length)for(o=M.length-1,d=K.length-1;1<=o&&0<=d&&M[o]!==K[d];)d--;for(;1<=o&&0<=d;o--,d--)if(M[o]!==K[d]){if(o!==1||d!==1)do if(o--,d--,0>d||M[o]!==K[d]){var re=`
`+M[o].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=o&&0<=d);break}}}finally{Ae=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Oe(r):""}function et(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Fe(t.type,!1);case 11:return Fe(t.type.render,!1);case 1:return Fe(t.type,!0);case 31:return Oe("Activity");default:return""}}function tt(t){try{var s="",r=null;do s+=et(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pt=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,k=e.unstable_cancelCallback,_=e.unstable_shouldYield,ne=e.unstable_requestPaint,ee=e.unstable_now,ae=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,He=e.unstable_NormalPriority,xt=e.unstable_LowPriority,ye=e.unstable_IdlePriority,Ce=e.log,Ve=e.unstable_setDisableYieldValue,bt=null,st=null;function Xt(t){if(typeof Ce=="function"&&Ve(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(bt,t)}catch{}}var yt=Math.clz32?Math.clz32:xa,Ys=Math.log,wt=Math.LN2;function xa(t){return t>>>=0,t===0?32:31-(Ys(t)/wt|0)|0}var Dn=256,Ln=262144,St=4194304;function Mt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Lt(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?d=Mt(o):(v&=S,v!==0?d=Mt(v):r||(r=S&~t,r!==0&&(d=Mt(r))))):(S=o&~h,S!==0?d=Mt(S):v!==0?d=Mt(v):r||(r=o&~t,r!==0&&(d=Mt(r)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,r=s&-s,h>=r||h===32&&(r&4194048)!==0)?s:d}function Mn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function _e(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function wn(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Hn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ft(t,s,r,o,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,K=t.hiddenUpdates;for(r=v&~r;0<r;){var re=31-yt(r),fe=1<<re;S[re]=0,M[re]=-1;var J=K[re];if(J!==null)for(K[re]=null,re=0;re<J.length;re++){var te=J[re];te!==null&&(te.lane&=-536870913)}r&=~fe}o!==0&&Rt(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function Rt(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-yt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Sn(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-yt(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function Vn(t,s){var r=s&-s;return r=(r&42)!==0?1:jn(r),(r&(t.suspendedLanes|s))!==0?0:r}function jn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fn(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Jg(t.type))}function Ns(t,s){var r=X.p;try{return X.p=t,s()}finally{X.p=r}}var zn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+zn,Ut="__reactProps$"+zn,_t="__reactContainer$"+zn,Mi="__reactEvents$"+zn,va="__reactListeners$"+zn,ba="__reactHandles$"+zn,Ri="__reactResources$"+zn,qs="__reactMarker$"+zn;function dn(t){delete t[Jt],delete t[Ut],delete t[Mi],delete t[va],delete t[ba]}function Un(t){var s=t[Jt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[_t]||r[Jt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Ug(t);t!==null;){if(r=t[Jt])return r;t=Ug(t)}return s}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Jt]||t[_t]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Es(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Zs(t){var s=t[Ri];return s||(s=t[Ri]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zt(t){t[qs]=!0}var tr=new Set,ya={};function Cs(t,s){Nn(t,s),Nn(t+"Capture",s)}function Nn(t,s){for(ya[t]=s,t=0;t<s.length;t++)tr.add(s[t])}var Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},so={};function Or(t){return Pt.call(so,t)?!0:Pt.call(no,t)?!1:Mh.test(t)?so[t]=!0:(no[t]=!0,!1)}function Lr(t,s,r){if(Or(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Ks(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function _s(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function Qn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ao(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ur(t){if(!t._valueTracker){var s=zi(t)?"checked":"value";t._valueTracker=ao(t,s,""+t[s])}}function ro(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=zi(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lu=/[\n"\\]/g;function In(t){return t.replace(lu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Oi(t,s,r,o,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Qn(s)):t.value!==""+Qn(s)&&(t.value=""+Qn(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?wa(t,v,Qn(s)):r!=null?wa(t,v,Qn(r)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Qn(S):t.removeAttribute("name")}function nr(t,s,r,o,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Ur(t);return}r=r!=null?""+Qn(r):"",s=s!=null?""+Qn(s):r,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ur(t)}function wa(t,s,r){s==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function $s(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Qn(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function io(t,s,r){if(s!=null&&(s=""+Qn(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Qn(r):""}function lo(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(Se(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=Qn(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Ur(t)}function Sa(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||Li.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Ui(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&oo(t,d,o)}else for(var h in s)s.hasOwnProperty(h)&&oo(t,h,s[h])}function Bi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(t){return cu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ks(){}var qi=null;function Zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ja=null,Na=null;function co(t){var s=Bn(t);if(s&&(t=s.stateNode)){var r=t[Ut]||null;e:switch(t=s.stateNode,s.type){case"input":if(Oi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[Ut]||null;if(!d)throw Error(i(90));Oi(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&ro(o)}break e;case"textarea":io(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&$s(t,!!r.multiple,s,!1)}}}var $i=!1;function uo(t,s,r){if($i)return t(s,r);$i=!0;try{var o=t(s);return o}finally{if($i=!1,(ja!==null||Na!==null)&&(Wo(),ja&&(s=ja,t=Na,Na=ja=null,co(s),t)))for(s=0;s<t.length;s++)co(t[s])}}function sr(t,s){var r=t.stateNode;if(r===null)return null;var o=r[Ut]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var $=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ce=!1;if($)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){ce=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{ce=!1}var Le=null,nt=null,Bt=null;function Qt(){if(Bt)return Bt;var t,s=nt,r=s.length,o,d="value"in Le?Le.value:Le.textContent,h=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(o=1;o<=v&&s[r-o]===d[h-o];o++);return Bt=d.slice(t,1<o?1-o:void 0)}function kt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function Zr(){return!1}function Tt(t){function s(r,o,d,h,v){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?qn:Zr,this.isPropagationStopped=Zr,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),s}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Tt(Ps),$r=y({},Ps,{view:0,detail:0}),Vi=Tt($r),Fi,ar,rr,en=y({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(Fi=t.screenX-rr.screenX,ar=t.screenY-rr.screenY):ar=Fi=0,rr=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),fn=Tt(en),xn=y({},en,{dataTransfer:0}),Ts=Tt(xn),fo=y({},$r,{relatedTarget:0}),uu=Tt(fo),Cy=y({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=Tt(Cy),ky=y({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ty=Tt(ky),Ay=y({},Ps,{data:0}),Rh=Tt(Ay),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zy(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Ry[t])?!!s[t]:!1}function du(){return zy}var Oy=y({},$r,{key:function(t){if(t.key){var s=Dy[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=kt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?My[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?kt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ly=Tt(Oy),Uy=y({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Tt(Uy),By=y({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),qy=Tt(By),Zy=y({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=Tt(Zy),Hy=y({},en,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=Tt(Hy),Fy=y({},Ps,{newState:0,oldState:0}),Qy=Tt(Fy),Iy=[9,13,27,32],fu=$&&"CompositionEvent"in window,Qi=null;$&&"documentMode"in document&&(Qi=document.documentMode);var Gy=$&&"TextEvent"in window&&!Qi,Oh=$&&(!fu||Qi&&8<Qi&&11>=Qi),Lh=" ",Uh=!1;function Bh(t,s){switch(t){case"keyup":return Iy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function Wy(t,s){switch(t){case"compositionend":return qh(s);case"keypress":return s.which!==32?null:(Uh=!0,Lh);case"textInput":return t=s.data,t===Lh&&Uh?null:t;default:return null}}function Yy(t,s){if(Hr)return t==="compositionend"||!fu&&Bh(t,s)?(t=Qt(),Bt=nt=Le=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Oh&&s.locale!=="ko"?null:s.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ky[t.type]:s==="textarea"}function $h(t,s,r,o){ja?Na?Na.push(o):Na=[o]:ja=o,s=tc(s,"onChange"),0<s.length&&(r=new Hi("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var Ii=null,Gi=null;function Py(t){jg(t,0)}function ho(t){var s=Es(t);if(ro(s))return t}function Hh(t,s){if(t==="change")return s}var Vh=!1;if($){var hu;if($){var mu="oninput"in document;if(!mu){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),mu=typeof Fh.oninput=="function"}hu=mu}else hu=!1;Vh=hu&&(!document.documentMode||9<document.documentMode)}function Qh(){Ii&&(Ii.detachEvent("onpropertychange",Ih),Gi=Ii=null)}function Ih(t){if(t.propertyName==="value"&&ho(Gi)){var s=[];$h(s,Gi,t,Zi(t)),uo(Py,s)}}function Xy(t,s,r){t==="focusin"?(Qh(),Ii=s,Gi=r,Ii.attachEvent("onpropertychange",Ih)):t==="focusout"&&Qh()}function Jy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(Gi)}function ew(t,s){if(t==="click")return ho(s)}function tw(t,s){if(t==="input"||t==="change")return ho(s)}function nw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var as=typeof Object.is=="function"?Object.is:nw;function Wi(t,s){if(as(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Pt.call(s,d)||!as(t[d],s[d]))return!1}return!0}function Gh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wh(t,s){var r=Gh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gh(r)}}function Yh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Yh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Kh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Br(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Br(t.document)}return s}function pu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var sw=$&&"documentMode"in document&&11>=document.documentMode,Vr=null,gu=null,Yi=null,xu=!1;function Ph(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xu||Vr==null||Vr!==Br(o)||(o=Vr,"selectionStart"in o&&pu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yi&&Wi(Yi,o)||(Yi=o,o=tc(gu,"onSelect"),0<o.length&&(s=new Hi("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=Vr)))}function ir(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Fr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},vu={},Xh={};$&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function lr(t){if(vu[t])return vu[t];if(!Fr[t])return t;var s=Fr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Xh)return vu[t]=s[r];return t}var Jh=lr("animationend"),em=lr("animationiteration"),tm=lr("animationstart"),aw=lr("transitionrun"),rw=lr("transitionstart"),iw=lr("transitioncancel"),nm=lr("transitionend"),sm=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function As(t,s){sm.set(t,s),Cs(s,[t])}var mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fs=[],Qr=0,yu=0;function po(){for(var t=Qr,s=yu=Qr=0;s<t;){var r=fs[s];fs[s++]=null;var o=fs[s];fs[s++]=null;var d=fs[s];fs[s++]=null;var h=fs[s];if(fs[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}h!==0&&am(r,d,h)}}function go(t,s,r,o){fs[Qr++]=t,fs[Qr++]=s,fs[Qr++]=r,fs[Qr++]=o,yu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function wu(t,s,r,o){return go(t,s,r,o),xo(t)}function or(t,s){return go(t,null,null,s),xo(t)}function am(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-yt(r),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),h):null}function xo(t){if(50<xl)throw xl=0,Ad=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ir={};function lw(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(t,s,r,o){return new lw(t,s,r,o)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var r=t.alternate;return r===null?(r=rs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function rm(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function vo(t,s,r,o,d,h){var v=0;if(o=t,typeof t=="function")Su(t)&&(v=1);else if(typeof t=="string")v=f1(t,r,R.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=rs(31,r,s,d),t.elementType=se,t.lanes=h,t;case N:return cr(r.children,d,h,s);case O:v=8,d|=24;break;case B:return t=rs(12,r,s,d|2),t.elementType=B,t.lanes=h,t;case Z:return t=rs(13,r,s,d),t.elementType=Z,t.lanes=h,t;case G:return t=rs(19,r,s,d),t.elementType=G,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:v=10;break e;case C:v=9;break e;case V:v=11;break e;case Y:v=14;break e;case P:v=16,o=null;break e}v=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=rs(v,r,s,d),s.elementType=t,s.type=o,s.lanes=h,s}function cr(t,s,r,o){return t=rs(7,t,o,s),t.lanes=r,t}function ju(t,s,r){return t=rs(6,t,null,s),t.lanes=r,t}function im(t){var s=rs(18,null,null,0);return s.stateNode=t,s}function Nu(t,s,r){return s=rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var lm=new WeakMap;function hs(t,s){if(typeof t=="object"&&t!==null){var r=lm.get(t);return r!==void 0?r:(s={value:t,source:s,stack:tt(s)},lm.set(t,s),s)}return{value:t,source:s,stack:tt(s)}}var Gr=[],Wr=0,bo=null,Ki=0,ms=[],ps=0,Ea=null,Hs=1,Vs="";function Js(t,s){Gr[Wr++]=Ki,Gr[Wr++]=bo,bo=t,Ki=s}function om(t,s,r){ms[ps++]=Hs,ms[ps++]=Vs,ms[ps++]=Ea,Ea=t;var o=Hs;t=Vs;var d=32-yt(o)-1;o&=~(1<<d),r+=1;var h=32-yt(s)+d;if(30<h){var v=d-d%5;h=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Hs=1<<32-yt(s)+d|r<<d|o,Vs=h+t}else Hs=1<<h|r<<d|o,Vs=t}function Eu(t){t.return!==null&&(Js(t,1),om(t,1,0))}function Cu(t){for(;t===bo;)bo=Gr[--Wr],Gr[Wr]=null,Ki=Gr[--Wr],Gr[Wr]=null;for(;t===Ea;)Ea=ms[--ps],ms[ps]=null,Vs=ms[--ps],ms[ps]=null,Hs=ms[--ps],ms[ps]=null}function cm(t,s){ms[ps++]=Hs,ms[ps++]=Vs,ms[ps++]=Ea,Hs=s.id,Vs=s.overflow,Ea=t}var En=null,jt=null,Je=!1,Ca=null,gs=!1,_u=Error(i(519));function _a(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pi(hs(s,t)),_u}function um(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[Jt]=t,s[Ut]=o,r){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(r=0;r<bl.length;r++)Ke(bl[r],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),nr(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),lo(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||_g(s.textContent,r)?(o.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),o.onScroll!=null&&Ke("scroll",s),o.onScrollEnd!=null&&Ke("scrollend",s),o.onClick!=null&&(s.onclick=ks),s=!0):s=!1,s||_a(t,!0)}function dm(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:En=En.return}}function Yr(t){if(t!==En)return!1;if(!Je)return dm(t),Je=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Qd(t.type,t.memoizedProps)),r=!r),r&&jt&&_a(t),dm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));jt=Lg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));jt=Lg(t)}else s===27?(s=jt,$a(t.type)?(t=Kd,Kd=null,jt=t):jt=s):jt=En?vs(t.stateNode.nextSibling):null;return!0}function ur(){jt=En=null,Je=!1}function ku(){var t=Ca;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),Ca=null),t}function Pi(t){Ca===null?Ca=[t]:Ca.push(t)}var Tu=E(null),dr=null,ea=null;function ka(t,s,r){z(Tu,s._currentValue),s._currentValue=r}function ta(t){t._currentValue=Tu.current,H(Tu)}function Au(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Du(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var M=0;M<s.length;M++)if(S.context===s[M]){h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),Au(h.return,r,t),o||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),Au(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Kr(t,s,r,o){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;as(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===me.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}d=d.return}t!==null&&Du(s,t,r,o),s.flags|=262144}function yo(t){for(t=t.firstContext;t!==null;){if(!as(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fr(t){dr=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Cn(t){return fm(dr,t)}function wo(t,s){return dr===null&&fr(t),fm(t,s)}function fm(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},ea===null){if(t===null)throw Error(i(308));ea=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ea=ea.next=s;return r}var ow=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},cw=e.unstable_scheduleCallback,uw=e.unstable_NormalPriority,tn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new ow,data:new Map,refCount:0}}function Xi(t){t.refCount--,t.refCount===0&&cw(uw,function(){t.controller.abort()})}var Ji=null,Ru=0,Pr=0,Xr=null;function dw(t,s){if(Ji===null){var r=Ji=[];Ru=0,Pr=Ld(),Xr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ru++,s.then(hm,hm),s}function hm(){if(--Ru===0&&Ji!==null){Xr!==null&&(Xr.status="fulfilled");var t=Ji;Ji=null,Pr=0,Xr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function fw(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var mm=U.S;U.S=function(t,s){Pp=ee(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&dw(t,s),mm!==null&&mm(t,s)};var hr=E(null);function zu(){var t=hr.current;return t!==null?t:pt.pooledCache}function So(t,s){s===null?z(hr,hr.current):z(hr,s.pool)}function pm(){var t=zu();return t===null?null:{parent:tn._currentValue,pool:t}}var Jr=Error(i(460)),Ou=Error(i(474)),jo=Error(i(542)),No={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xm(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(ks,ks),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,bm(t),t;default:if(typeof s.status=="string")s.then(ks,ks);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,bm(t),t}throw pr=s,Jr}}function mr(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(pr=r,Jr):r}}var pr=null;function vm(){if(pr===null)throw Error(i(459));var t=pr;return pr=null,t}function bm(t){if(t===Jr||t===jo)throw Error(i(483))}var ei=null,el=0;function Eo(t){var s=el;return el+=1,ei===null&&(ei=[]),xm(ei,t,s)}function tl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Co(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function ym(t){function s(q,L){if(t){var W=q.deletions;W===null?(q.deletions=[L],q.flags|=16):W.push(L)}}function r(q,L){if(!t)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function o(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function d(q,L){return q=Xs(q,L),q.index=0,q.sibling=null,q}function h(q,L,W){return q.index=W,t?(W=q.alternate,W!==null?(W=W.index,W<L?(q.flags|=67108866,L):W):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function v(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function S(q,L,W,ue){return L===null||L.tag!==6?(L=ju(W,q.mode,ue),L.return=q,L):(L=d(L,W),L.return=q,L)}function M(q,L,W,ue){var Ue=W.type;return Ue===N?re(q,L,W.props.children,ue,W.key):L!==null&&(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===P&&mr(Ue)===L.type)?(L=d(L,W.props),tl(L,W),L.return=q,L):(L=vo(W.type,W.key,W.props,null,q.mode,ue),tl(L,W),L.return=q,L)}function K(q,L,W,ue){return L===null||L.tag!==4||L.stateNode.containerInfo!==W.containerInfo||L.stateNode.implementation!==W.implementation?(L=Nu(W,q.mode,ue),L.return=q,L):(L=d(L,W.children||[]),L.return=q,L)}function re(q,L,W,ue,Ue){return L===null||L.tag!==7?(L=cr(W,q.mode,ue,Ue),L.return=q,L):(L=d(L,W),L.return=q,L)}function fe(q,L,W){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=ju(""+L,q.mode,W),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return W=vo(L.type,L.key,L.props,null,q.mode,W),tl(W,L),W.return=q,W;case T:return L=Nu(L,q.mode,W),L.return=q,L;case P:return L=mr(L),fe(q,L,W)}if(Se(L)||pe(L))return L=cr(L,q.mode,W,null),L.return=q,L;if(typeof L.then=="function")return fe(q,Eo(L),W);if(L.$$typeof===A)return fe(q,wo(q,L),W);Co(q,L)}return null}function J(q,L,W,ue){var Ue=L!==null?L.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ue!==null?null:S(q,L,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===Ue?M(q,L,W,ue):null;case T:return W.key===Ue?K(q,L,W,ue):null;case P:return W=mr(W),J(q,L,W,ue)}if(Se(W)||pe(W))return Ue!==null?null:re(q,L,W,ue,null);if(typeof W.then=="function")return J(q,L,Eo(W),ue);if(W.$$typeof===A)return J(q,L,wo(q,W),ue);Co(q,W)}return null}function te(q,L,W,ue,Ue){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return q=q.get(W)||null,S(L,q,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return q=q.get(ue.key===null?W:ue.key)||null,M(L,q,ue,Ue);case T:return q=q.get(ue.key===null?W:ue.key)||null,K(L,q,ue,Ue);case P:return ue=mr(ue),te(q,L,W,ue,Ue)}if(Se(ue)||pe(ue))return q=q.get(W)||null,re(L,q,ue,Ue,null);if(typeof ue.then=="function")return te(q,L,W,Eo(ue),Ue);if(ue.$$typeof===A)return te(q,L,W,wo(L,ue),Ue);Co(L,ue)}return null}function De(q,L,W,ue){for(var Ue=null,at=null,Re=L,We=L=0,Xe=null;Re!==null&&We<W.length;We++){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var rt=J(q,Re,W[We],ue);if(rt===null){Re===null&&(Re=Xe);break}t&&Re&&rt.alternate===null&&s(q,Re),L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt,Re=Xe}if(We===W.length)return r(q,Re),Je&&Js(q,We),Ue;if(Re===null){for(;We<W.length;We++)Re=fe(q,W[We],ue),Re!==null&&(L=h(Re,L,We),at===null?Ue=Re:at.sibling=Re,at=Re);return Je&&Js(q,We),Ue}for(Re=o(Re);We<W.length;We++)Xe=te(Re,q,We,W[We],ue),Xe!==null&&(t&&Xe.alternate!==null&&Re.delete(Xe.key===null?We:Xe.key),L=h(Xe,L,We),at===null?Ue=Xe:at.sibling=Xe,at=Xe);return t&&Re.forEach(function(Ia){return s(q,Ia)}),Je&&Js(q,We),Ue}function Ze(q,L,W,ue){if(W==null)throw Error(i(151));for(var Ue=null,at=null,Re=L,We=L=0,Xe=null,rt=W.next();Re!==null&&!rt.done;We++,rt=W.next()){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var Ia=J(q,Re,rt.value,ue);if(Ia===null){Re===null&&(Re=Xe);break}t&&Re&&Ia.alternate===null&&s(q,Re),L=h(Ia,L,We),at===null?Ue=Ia:at.sibling=Ia,at=Ia,Re=Xe}if(rt.done)return r(q,Re),Je&&Js(q,We),Ue;if(Re===null){for(;!rt.done;We++,rt=W.next())rt=fe(q,rt.value,ue),rt!==null&&(L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt);return Je&&Js(q,We),Ue}for(Re=o(Re);!rt.done;We++,rt=W.next())rt=te(Re,q,We,rt.value,ue),rt!==null&&(t&&rt.alternate!==null&&Re.delete(rt.key===null?We:rt.key),L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt);return t&&Re.forEach(function(j1){return s(q,j1)}),Je&&Js(q,We),Ue}function ht(q,L,W,ue){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:e:{for(var Ue=W.key;L!==null;){if(L.key===Ue){if(Ue=W.type,Ue===N){if(L.tag===7){r(q,L.sibling),ue=d(L,W.props.children),ue.return=q,q=ue;break e}}else if(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===P&&mr(Ue)===L.type){r(q,L.sibling),ue=d(L,W.props),tl(ue,W),ue.return=q,q=ue;break e}r(q,L);break}else s(q,L);L=L.sibling}W.type===N?(ue=cr(W.props.children,q.mode,ue,W.key),ue.return=q,q=ue):(ue=vo(W.type,W.key,W.props,null,q.mode,ue),tl(ue,W),ue.return=q,q=ue)}return v(q);case T:e:{for(Ue=W.key;L!==null;){if(L.key===Ue)if(L.tag===4&&L.stateNode.containerInfo===W.containerInfo&&L.stateNode.implementation===W.implementation){r(q,L.sibling),ue=d(L,W.children||[]),ue.return=q,q=ue;break e}else{r(q,L);break}else s(q,L);L=L.sibling}ue=Nu(W,q.mode,ue),ue.return=q,q=ue}return v(q);case P:return W=mr(W),ht(q,L,W,ue)}if(Se(W))return De(q,L,W,ue);if(pe(W)){if(Ue=pe(W),typeof Ue!="function")throw Error(i(150));return W=Ue.call(W),Ze(q,L,W,ue)}if(typeof W.then=="function")return ht(q,L,Eo(W),ue);if(W.$$typeof===A)return ht(q,L,wo(q,W),ue);Co(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,L!==null&&L.tag===6?(r(q,L.sibling),ue=d(L,W),ue.return=q,q=ue):(r(q,L),ue=ju(W,q.mode,ue),ue.return=q,q=ue),v(q)):r(q,L)}return function(q,L,W,ue){try{el=0;var Ue=ht(q,L,W,ue);return ei=null,Ue}catch(Re){if(Re===Jr||Re===jo)throw Re;var at=rs(29,Re,null,q.mode);return at.lanes=ue,at.return=q,at}finally{}}}var gr=ym(!0),wm=ym(!1),Ta=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=xo(t),am(t,null,r),s}return go(t,o,s,r),xo(t)}function nl(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Sn(t,r)}}function Bu(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=s:h=h.next=s}else d=h=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var qu=!1;function sl(){if(qu){var t=Xr;if(t!==null)throw t}}function al(t,s,r,o){qu=!1;var d=t.updateQueue;Ta=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,K=M.next;M.next=null,v===null?h=K:v.next=K,v=M;var re=t.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==v&&(S===null?re.firstBaseUpdate=K:S.next=K,re.lastBaseUpdate=M))}if(h!==null){var fe=d.baseState;v=0,re=K=M=null,S=h;do{var J=S.lane&-536870913,te=J!==S.lane;if(te?(Pe&J)===J:(o&J)===J){J!==0&&J===Pr&&(qu=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=t,Ze=S;J=s;var ht=r;switch(Ze.tag){case 1:if(De=Ze.payload,typeof De=="function"){fe=De.call(ht,fe,J);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ze.payload,J=typeof De=="function"?De.call(ht,fe,J):De,J==null)break e;fe=y({},fe,J);break e;case 2:Ta=!0}}J=S.callback,J!==null&&(t.flags|=64,te&&(t.flags|=8192),te=d.callbacks,te===null?d.callbacks=[J]:te.push(J))}else te={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(K=re=te,M=fe):re=re.next=te,v|=J;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);re===null&&(M=fe),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=re,h===null&&(d.shared.lanes=0),La|=v,t.lanes=v,t.memoizedState=fe}}function Sm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function jm(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sm(r[t],s)}var ti=E(null),_o=E(0);function Nm(t,s){t=ua,z(_o,t),z(ti,s),ua=t|s.baseLanes}function Zu(){z(_o,ua),z(ti,ti.current)}function $u(){ua=_o.current,H(ti),H(_o)}var is=E(null),xs=null;function Ma(t){var s=t.alternate;z(It,It.current&1),z(is,t),xs===null&&(s===null||ti.current!==null||s.memoizedState!==null)&&(xs=t)}function Hu(t){z(It,It.current),z(is,t),xs===null&&(xs=t)}function Em(t){t.tag===22?(z(It,It.current),z(is,t),xs===null&&(xs=t)):Ra()}function Ra(){z(It,It.current),z(is,is.current)}function ls(t){H(is),xs===t&&(xs=null),H(It)}var It=E(0);function ko(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Wd(r)||Yd(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var na=0,Ie=null,dt=null,nn=null,To=!1,ni=!1,xr=!1,Ao=0,rl=0,si=null,hw=0;function qt(){throw Error(i(321))}function Vu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!as(t[r],s[r]))return!1;return!0}function Fu(t,s,r,o,d,h){return na=h,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=t===null||t.memoizedState===null?op:rd,xr=!1,h=r(o,d),xr=!1,ni&&(h=_m(s,r,o,d)),Cm(t),h}function Cm(t){U.H=ol;var s=dt!==null&&dt.next!==null;if(na=0,nn=dt=Ie=null,To=!1,rl=0,si=null,s)throw Error(i(300));t===null||sn||(t=t.dependencies,t!==null&&yo(t)&&(sn=!0))}function _m(t,s,r,o){Ie=t;var d=0;do{if(ni&&(si=null),rl=0,ni=!1,25<=d)throw Error(i(301));if(d+=1,nn=dt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=cp,h=s(r,o)}while(ni);return h}function mw(){var t=U.H,s=t.useState()[0];return s=typeof s.then=="function"?il(s):s,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ie.flags|=1024),s}function Qu(){var t=Ao!==0;return Ao=0,t}function Iu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Gu(t){if(To){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}To=!1}na=0,nn=dt=Ie=null,ni=!1,rl=Ao=0,si=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ie.memoizedState=nn=t:nn=nn.next=t,nn}function Gt(){if(dt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var s=nn===null?Ie.memoizedState:nn.next;if(s!==null)nn=s,dt=t;else{if(t===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},nn===null?Ie.memoizedState=nn=t:nn=nn.next=t}return nn}function Do(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var s=rl;return rl+=1,si===null&&(si=[]),t=xm(si,t,s),s=Ie,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?op:rd),t}function Mo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===A)return Cn(t)}throw Error(i(438,String(t)))}function Wu(t){var s=null,r=Ie.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Do(),Ie.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=ie;return s.index++,r}function sa(t,s){return typeof s=="function"?s(t):s}function Ro(t){var s=Gt();return Yu(s,dt,t)}function Yu(t,s,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,M=null,K=s,re=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Pe&fe)===fe:(na&fe)===fe){var J=K.revertLane;if(J===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===Pr&&(re=!0);else if((na&J)===J){K=K.next,J===Pr&&(re=!0);continue}else fe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=fe,v=h):M=M.next=fe,Ie.lanes|=J,La|=J;fe=K.action,xr&&r(h,fe),h=K.hasEagerState?K.eagerState:r(h,fe)}else J={lane:fe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=J,v=h):M=M.next=J,Ie.lanes|=fe,La|=fe;K=K.next}while(K!==null&&K!==s);if(M===null?v=h:M.next=S,!as(h,t.memoizedState)&&(sn=!0,re&&(r=Xr,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=M,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ku(t){var s=Gt(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,h=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);as(h,s.memoizedState)||(sn=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),r.lastRenderedState=h}return[h,o]}function km(t,s,r){var o=Ie,d=Gt(),h=Je;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=s();var v=!as((dt||d).memoizedState,r);if(v&&(d.memoizedState=r,sn=!0),d=d.queue,Ju(Dm.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||nn!==null&&nn.memoizedState.tag&1){if(o.flags|=2048,ai(9,{destroy:void 0},Am.bind(null,o,d,r,s),null),pt===null)throw Error(i(349));h||(na&127)!==0||Tm(o,s,r)}return r}function Tm(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ie.updateQueue,s===null?(s=Do(),Ie.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Am(t,s,r,o){s.value=r,s.getSnapshot=o,Mm(s)&&Rm(t)}function Dm(t,s,r){return r(function(){Mm(s)&&Rm(t)})}function Mm(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!as(t,r)}catch{return!0}}function Rm(t){var s=or(t,2);s!==null&&Pn(s,t,2)}function Pu(t){var s=Zn();if(typeof t=="function"){var r=t;if(t=r(),xr){Xt(!0);try{r()}finally{Xt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},s}function zm(t,s,r,o){return t.baseState=r,Yu(t,dt,typeof o=="function"?o:sa)}function pw(t,s,r,o,d){if(Lo(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};U.T!==null?r(!0):h.isTransition=!1,o(h),r=s.pending,r===null?(h.next=s.pending=h,Om(s,h)):(h.next=r.next,s.pending=r.next=h)}}function Om(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var h=U.T,v={};U.T=v;try{var S=r(d,o),M=U.S;M!==null&&M(v,S),Lm(t,s,S)}catch(K){Xu(t,s,K)}finally{h!==null&&v.types!==null&&(h.types=v.types),U.T=h}}else try{h=r(d,o),Lm(t,s,h)}catch(K){Xu(t,s,K)}}function Lm(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Um(t,s,o)},function(o){return Xu(t,s,o)}):Um(t,s,r)}function Um(t,s,r){s.status="fulfilled",s.value=r,Bm(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Om(t,r)))}function Xu(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,Bm(s),s=s.next;while(s!==o)}t.action=null}function Bm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function qm(t,s){return s}function Zm(t,s){if(Je){var r=pt.formState;if(r!==null){e:{var o=Ie;if(Je){if(jt){t:{for(var d=jt,h=gs;d.nodeType!==8;){if(!h){d=null;break t}if(d=vs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){jt=vs(d.nextSibling),o=d.data==="F!";break e}}_a(o)}o=!1}o&&(s=r[0])}}return r=Zn(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:s},r.queue=o,r=rp.bind(null,Ie,o),o.dispatch=r,o=Pu(!1),h=ad.bind(null,Ie,!1,o.queue),o=Zn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=pw.bind(null,Ie,d,h,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function $m(t){var s=Gt();return Hm(s,dt,t)}function Hm(t,s,r){if(s=Yu(t,s,qm)[0],t=Ro(sa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=il(s)}catch(v){throw v===Jr?jo:v}else o=s;s=Gt();var d=s.queue,h=d.dispatch;return r!==s.memoizedState&&(Ie.flags|=2048,ai(9,{destroy:void 0},gw.bind(null,d,r),null)),[o,h,t]}function gw(t,s){t.action=s}function Vm(t){var s=Gt(),r=dt;if(r!==null)return Hm(s,r,t);Gt(),s=s.memoizedState,r=Gt();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function ai(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Do(),Ie.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function Fm(){return Gt().memoizedState}function zo(t,s,r,o){var d=Zn();Ie.flags|=t,d.memoizedState=ai(1|s,{destroy:void 0},r,o===void 0?null:o)}function Oo(t,s,r,o){var d=Gt();o=o===void 0?null:o;var h=d.memoizedState.inst;dt!==null&&o!==null&&Vu(o,dt.memoizedState.deps)?d.memoizedState=ai(s,h,r,o):(Ie.flags|=t,d.memoizedState=ai(1|s,h,r,o))}function Qm(t,s){zo(8390656,8,t,s)}function Ju(t,s){Oo(2048,8,t,s)}function xw(t){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Do(),Ie.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Im(t){var s=Gt().memoizedState;return xw({ref:s,nextImpl:t}),function(){if((it&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Gm(t,s){return Oo(4,2,t,s)}function Wm(t,s){return Oo(4,4,t,s)}function Ym(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Km(t,s,r){r=r!=null?r.concat([t]):null,Oo(4,4,Ym.bind(null,s,t),r)}function ed(){}function Pm(t,s){var r=Gt();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&Vu(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function Xm(t,s){var r=Gt();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&Vu(s,o[1]))return o[0];if(o=t(),xr){Xt(!0);try{t()}finally{Xt(!1)}}return r.memoizedState=[o,s],o}function td(t,s,r){return r===void 0||(na&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Jp(),Ie.lanes|=t,La|=t,r)}function Jm(t,s,r,o){return as(r,s)?r:ti.current!==null?(t=td(t,r,o),as(t,s)||(sn=!0),t):(na&42)===0||(na&1073741824)!==0&&(Pe&261930)===0?(sn=!0,t.memoizedState=r):(t=Jp(),Ie.lanes|=t,La|=t,s)}function ep(t,s,r,o,d){var h=X.p;X.p=h!==0&&8>h?h:8;var v=U.T,S={};U.T=S,ad(t,!1,s,r);try{var M=d(),K=U.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var re=fw(M,o);ll(t,s,re,us(t))}else ll(t,s,o,us(t))}catch(fe){ll(t,s,{then:function(){},status:"rejected",reason:fe},us())}finally{X.p=h,v!==null&&S.types!==null&&(v.types=S.types),U.T=v}}function vw(){}function nd(t,s,r,o){if(t.tag!==5)throw Error(i(476));var d=tp(t).queue;ep(t,d,s,xe,r===null?vw:function(){return np(t),r(o)})}function tp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:xe},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function np(t){var s=tp(t);s.next===null&&(s=t.alternate.memoizedState),ll(t,s.next.queue,{},us())}function sd(){return Cn(Nl)}function sp(){return Gt().memoizedState}function ap(){return Gt().memoizedState}function bw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=us();t=Aa(r);var o=Da(s,t,r);o!==null&&(Pn(o,s,r),nl(o,s,r)),s={cache:Mu()},t.payload=s;return}s=s.return}}function yw(t,s,r){var o=us();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lo(t)?ip(s,r):(r=wu(t,s,r,o),r!==null&&(Pn(r,t,o),lp(r,s,o)))}function rp(t,s,r){var o=us();ll(t,s,r,o)}function ll(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lo(t))ip(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,r);if(d.hasEagerState=!0,d.eagerState=S,as(S,v))return go(t,s,d,0),pt===null&&po(),!1}catch{}finally{}if(r=wu(t,s,d,o),r!==null)return Pn(r,t,o),lp(r,s,o),!0}return!1}function ad(t,s,r,o){if(o={lane:2,revertLane:Ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lo(t)){if(s)throw Error(i(479))}else s=wu(t,r,o,2),s!==null&&Pn(s,t,2)}function Lo(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function ip(t,s){ni=To=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function lp(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,Sn(t,r)}}var ol={readContext:Cn,use:Mo,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};ol.useEffectEvent=qt;var op={readContext:Cn,use:Mo,useCallback:function(t,s){return Zn().memoizedState=[t,s===void 0?null:s],t},useContext:Cn,useEffect:Qm,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,zo(4194308,4,Ym.bind(null,s,t),r)},useLayoutEffect:function(t,s){return zo(4194308,4,t,s)},useInsertionEffect:function(t,s){zo(4,2,t,s)},useMemo:function(t,s){var r=Zn();s=s===void 0?null:s;var o=t();if(xr){Xt(!0);try{t()}finally{Xt(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Zn();if(r!==void 0){var d=r(s);if(xr){Xt(!0);try{r(s)}finally{Xt(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=yw.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var s=Zn();return t={current:t},s.memoizedState=t},useState:function(t){t=Pu(t);var s=t.queue,r=rp.bind(null,Ie,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:ed,useDeferredValue:function(t,s){var r=Zn();return td(r,t,s)},useTransition:function(){var t=Pu(!1);return t=ep.bind(null,Ie,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=Ie,d=Zn();if(Je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),pt===null)throw Error(i(349));(Pe&127)!==0||Tm(o,s,r)}d.memoizedState=r;var h={value:r,getSnapshot:s};return d.queue=h,Qm(Dm.bind(null,o,h,t),[t]),o.flags|=2048,ai(9,{destroy:void 0},Am.bind(null,o,h,r,s),null),r},useId:function(){var t=Zn(),s=pt.identifierPrefix;if(Je){var r=Vs,o=Hs;r=(o&~(1<<32-yt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Ao++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=hw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:sd,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var s=Zn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=ad.bind(null,Ie,!0,r),r.dispatch=s,[t,s]},useMemoCache:Wu,useCacheRefresh:function(){return Zn().memoizedState=bw.bind(null,Ie)},useEffectEvent:function(t){var s=Zn(),r={impl:t};return s.memoizedState=r,function(){if((it&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},rd={readContext:Cn,use:Mo,useCallback:Pm,useContext:Cn,useEffect:Ju,useImperativeHandle:Km,useInsertionEffect:Gm,useLayoutEffect:Wm,useMemo:Xm,useReducer:Ro,useRef:Fm,useState:function(){return Ro(sa)},useDebugValue:ed,useDeferredValue:function(t,s){var r=Gt();return Jm(r,dt.memoizedState,t,s)},useTransition:function(){var t=Ro(sa)[0],s=Gt().memoizedState;return[typeof t=="boolean"?t:il(t),s]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:sd,useFormState:$m,useActionState:$m,useOptimistic:function(t,s){var r=Gt();return zm(r,dt,t,s)},useMemoCache:Wu,useCacheRefresh:ap};rd.useEffectEvent=Im;var cp={readContext:Cn,use:Mo,useCallback:Pm,useContext:Cn,useEffect:Ju,useImperativeHandle:Km,useInsertionEffect:Gm,useLayoutEffect:Wm,useMemo:Xm,useReducer:Ku,useRef:Fm,useState:function(){return Ku(sa)},useDebugValue:ed,useDeferredValue:function(t,s){var r=Gt();return dt===null?td(r,t,s):Jm(r,dt.memoizedState,t,s)},useTransition:function(){var t=Ku(sa)[0],s=Gt().memoizedState;return[typeof t=="boolean"?t:il(t),s]},useSyncExternalStore:km,useId:sp,useHostTransitionStatus:sd,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,s){var r=Gt();return dt!==null?zm(r,dt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:ap};cp.useEffectEvent=Im;function id(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:y({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ld={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=us(),d=Aa(o);d.payload=s,r!=null&&(d.callback=r),s=Da(t,d,o),s!==null&&(Pn(s,t,o),nl(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=us(),d=Aa(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Da(t,d,o),s!==null&&(Pn(s,t,o),nl(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=us(),o=Aa(r);o.tag=2,s!=null&&(o.callback=s),s=Da(t,o,r),s!==null&&(Pn(s,t,r),nl(s,t,r))}};function up(t,s,r,o,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!Wi(r,o)||!Wi(d,h):!0}function dp(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&ld.enqueueReplaceState(s,s.state,null)}function vr(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=y({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function fp(t){mo(t)}function hp(t){console.error(t)}function mp(t){mo(t)}function Uo(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function pp(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function od(t,s,r){return r=Aa(r),r.tag=3,r.payload={element:null},r.callback=function(){Uo(t,s)},r}function gp(t){return t=Aa(t),t.tag=3,t}function xp(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){pp(s,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pp(s,r,o),typeof d!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function ww(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&Kr(s,r,d,!0),r=is.current,r!==null){switch(r.tag){case 31:case 13:return xs===null?Yo():r.alternate===null&&Zt===0&&(Zt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===No?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),Rd(t,o,d)),!1;case 22:return r.flags|=65536,o===No?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),Rd(t,o,d)),!1}throw Error(i(435,r.tag))}return Rd(t,o,d),Yo(),!1}if(Je)return s=is.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==_u&&(t=Error(i(422),{cause:o}),Pi(hs(t,r)))):(o!==_u&&(s=Error(i(423),{cause:o}),Pi(hs(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=hs(o,r),d=od(t.stateNode,o,d),Bu(t,d),Zt!==4&&(Zt=2)),!1;var h=Error(i(520),{cause:o});if(h=hs(h,r),gl===null?gl=[h]:gl.push(h),Zt!==4&&(Zt=2),s===null)return!0;o=hs(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=od(r.stateNode,o,t),Bu(r,t),!1;case 1:if(s=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ua===null||!Ua.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=gp(d),xp(d,t,r,o),Bu(r,d),!1}r=r.return}while(r!==null);return!1}var cd=Error(i(461)),sn=!1;function _n(t,s,r,o){s.child=t===null?wm(s,null,r,o):gr(s,t.child,r,o)}function vp(t,s,r,o,d){r=r.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return fr(s),o=Fu(t,s,r,v,h,d),S=Qu(),t!==null&&!sn?(Iu(t,s,d),aa(t,s,d)):(Je&&S&&Eu(s),s.flags|=1,_n(t,s,o,d),s.child)}function bp(t,s,r,o,d){if(t===null){var h=r.type;return typeof h=="function"&&!Su(h)&&h.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=h,yp(t,s,h,o,d)):(t=vo(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!xd(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Wi,r(v,o)&&t.ref===s.ref)return aa(t,s,d)}return s.flags|=1,t=Xs(h,o),t.ref=s.ref,t.return=s,s.child=t}function yp(t,s,r,o,d){if(t!==null){var h=t.memoizedProps;if(Wi(h,o)&&t.ref===s.ref)if(sn=!1,s.pendingProps=o=h,xd(t,d))(t.flags&131072)!==0&&(sn=!0);else return s.lanes=t.lanes,aa(t,s,d)}return ud(t,s,r,o,d)}function wp(t,s,r,o){var d=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,s.child=null;return Sp(t,s,h,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&So(s,h!==null?h.cachePool:null),h!==null?Nm(s,h):Zu(),Em(s);else return o=s.lanes=536870912,Sp(t,s,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(So(s,h.cachePool),Nm(s,h),Ra(),s.memoizedState=null):(t!==null&&So(s,null),Zu(),Ra());return _n(t,s,d,r),s.child}function cl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sp(t,s,r,o,d){var h=zu();return h=h===null?null:{parent:tn._currentValue,pool:h},s.memoizedState={baseLanes:r,cachePool:h},t!==null&&So(s,null),Zu(),Em(s),t!==null&&Kr(t,s,o,!0),s.childLanes=d,null}function Bo(t,s){return s=Zo({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function jp(t,s,r){return gr(s,t.child,null,r),t=Bo(s,s.pendingProps),t.flags|=2,ls(s),s.memoizedState=null,t}function Sw(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=Bo(s,o),s.lanes=536870912,cl(null,t);if(Hu(s),(t=jt)?(t=Og(t,gs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Hs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},r=im(t),r.return=s,s.child=r,En=s,jt=null)):t=null,t===null)throw _a(s);return s.lanes=536870912,null}return Bo(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Hu(s),d)if(s.flags&256)s.flags&=-257,s=jp(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(sn||Kr(t,s,r,!1),d=(r&t.childLanes)!==0,sn||d){if(o=pt,o!==null&&(v=Vn(o,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,or(t,v),Pn(o,t,v),cd;Yo(),s=jp(t,s,r)}else t=h.treeContext,jt=vs(v.nextSibling),En=s,Je=!0,Ca=null,gs=!1,t!==null&&cm(s,t),s=Bo(s,o),s.flags|=4096;return s}return t=Xs(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function qo(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function ud(t,s,r,o,d){return fr(s),r=Fu(t,s,r,o,void 0,d),o=Qu(),t!==null&&!sn?(Iu(t,s,d),aa(t,s,d)):(Je&&o&&Eu(s),s.flags|=1,_n(t,s,r,d),s.child)}function Np(t,s,r,o,d,h){return fr(s),s.updateQueue=null,r=_m(s,o,r,d),Cm(t),o=Qu(),t!==null&&!sn?(Iu(t,s,h),aa(t,s,h)):(Je&&o&&Eu(s),s.flags|=1,_n(t,s,r,h),s.child)}function Ep(t,s,r,o,d){if(fr(s),s.stateNode===null){var h=Ir,v=r.contextType;typeof v=="object"&&v!==null&&(h=Cn(v)),h=new r(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ld,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},Lu(s),v=r.contextType,h.context=typeof v=="object"&&v!==null?Cn(v):Ir,h.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(id(s,r,v,o),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&ld.enqueueReplaceState(h,h.state,null),al(s,o,h,d),sl(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,M=vr(r,S);h.props=M;var K=h.context,re=r.contextType;v=Ir,typeof re=="object"&&re!==null&&(v=Cn(re));var fe=r.getDerivedStateFromProps;re=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||K!==v)&&dp(s,h,o,v),Ta=!1;var J=s.memoizedState;h.state=J,al(s,o,h,d),sl(),K=s.memoizedState,S||J!==K||Ta?(typeof fe=="function"&&(id(s,r,fe,o),K=s.memoizedState),(M=Ta||up(s,r,M,o,J,K,v))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=K),h.props=o,h.state=K,h.context=v,o=M):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,Uu(t,s),v=s.memoizedProps,re=vr(r,v),h.props=re,fe=s.pendingProps,J=h.context,K=r.contextType,M=Ir,typeof K=="object"&&K!==null&&(M=Cn(K)),S=r.getDerivedStateFromProps,(K=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||J!==M)&&dp(s,h,o,M),Ta=!1,J=s.memoizedState,h.state=J,al(s,o,h,d),sl();var te=s.memoizedState;v!==fe||J!==te||Ta||t!==null&&t.dependencies!==null&&yo(t.dependencies)?(typeof S=="function"&&(id(s,r,S,o),te=s.memoizedState),(re=Ta||up(s,r,re,o,J,te,M)||t!==null&&t.dependencies!==null&&yo(t.dependencies))?(K||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,te,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,te,M)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=te),h.props=o,h.state=te,h.context=M,o=re):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,qo(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=gr(s,t.child,null,d),s.child=gr(s,null,r,d)):_n(t,s,r,d),s.memoizedState=h.state,t=s.child):t=aa(t,s,d),t}function Cp(t,s,r,o){return ur(),s.flags|=256,_n(t,s,r,o),s.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:pm()}}function hd(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=cs),t}function _p(t,s,r){var o=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Je){if(d?Ma(s):Ra(),(t=jt)?(t=Og(t,gs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Hs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},r=im(t),r.return=s,s.child=r,En=s,jt=null)):t=null,t===null)throw _a(s);return Yd(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,d?(Ra(),d=s.mode,S=Zo({mode:"hidden",children:S},d),o=cr(o,d,r,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=fd(r),o.childLanes=hd(t,v,r),s.memoizedState=dd,cl(null,o)):(Ma(s),md(s,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(h)s.flags&256?(Ma(s),s.flags&=-257,s=pd(t,s,r)):s.memoizedState!==null?(Ra(),s.child=t.child,s.flags|=128,s=null):(Ra(),S=o.fallback,d=s.mode,o=Zo({mode:"visible",children:o.children},d),S=cr(S,d,r,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,gr(s,t.child,null,r),o=s.child,o.memoizedState=fd(r),o.childLanes=hd(t,v,r),s.memoizedState=dd,s=cl(null,o));else if(Ma(s),Yd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var K=v.dgst;v=K,o=Error(i(419)),o.stack="",o.digest=v,Pi({value:o,source:null,stack:null}),s=pd(t,s,r)}else if(sn||Kr(t,s,r,!1),v=(r&t.childLanes)!==0,sn||v){if(v=pt,v!==null&&(o=Vn(v,r),o!==0&&o!==M.retryLane))throw M.retryLane=o,or(t,o),Pn(v,t,o),cd;Wd(S)||Yo(),s=pd(t,s,r)}else Wd(S)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,jt=vs(S.nextSibling),En=s,Je=!0,Ca=null,gs=!1,t!==null&&cm(s,t),s=md(s,o.children),s.flags|=4096);return s}return d?(Ra(),S=o.fallback,d=s.mode,M=t.child,K=M.sibling,o=Xs(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,K!==null?S=Xs(K,S):(S=cr(S,d,r,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,cl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=fd(r):(d=S.cachePool,d!==null?(M=tn._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=pm(),S={baseLanes:S.baseLanes|r,cachePool:d}),o.memoizedState=S,o.childLanes=hd(t,v,r),s.memoizedState=dd,cl(t.child,o)):(Ma(s),r=t.child,t=r.sibling,r=Xs(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function md(t,s){return s=Zo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Zo(t,s){return t=rs(22,t,null,s),t.lanes=0,t}function pd(t,s,r){return gr(s,t.child,null,r),t=md(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function kp(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Au(t.return,s,r)}function gd(t,s,r,o,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Tp(t,s,r){var o=s.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var v=It.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,z(It,v),_n(t,s,o,r),o=Je?Ki:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,r,s);else if(t.tag===19)kp(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&ko(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),gd(s,!1,d,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&ko(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}gd(s,!0,r,null,h,o);break;case"together":gd(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function aa(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),La|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Kr(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Xs(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Xs(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function xd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yo(t)))}function jw(t,s,r){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),ka(s,tn,t.memoizedState.cache),ur();break;case 27:case 5:I(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:ka(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hu(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Ma(s),s.flags|=128,null):(r&s.child.childLanes)!==0?_p(t,s,r):(Ma(s),t=aa(t,s,r),t!==null?t.sibling:null);Ma(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(Kr(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return Tp(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),z(It,It.current),o)break;return null;case 22:return s.lanes=0,wp(t,s,r,s.pendingProps);case 24:ka(s,tn,t.memoizedState.cache)}return aa(t,s,r)}function Ap(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)sn=!0;else{if(!xd(t,r)&&(s.flags&128)===0)return sn=!1,jw(t,s,r);sn=(t.flags&131072)!==0}else sn=!1,Je&&(s.flags&1048576)!==0&&om(s,Ki,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=mr(s.elementType),s.type=t,typeof t=="function")Su(t)?(o=vr(t,o),s.tag=1,s=Ep(null,s,t,o,r)):(s.tag=0,s=ud(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===V){s.tag=11,s=vp(null,s,t,o,r);break e}else if(d===Y){s.tag=14,s=bp(null,s,t,o,r);break e}}throw s=ge(t)||t,Error(i(306,s,""))}}return s;case 0:return ud(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=vr(o,s.pendingProps),Ep(t,s,o,d,r);case 3:e:{if(be(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;d=h.element,Uu(t,s),al(s,o,null,r);var v=s.memoizedState;if(o=v.cache,ka(s,tn,o),o!==h.cache&&Du(s,[tn],r,!0),sl(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Cp(t,s,o,r);break e}else if(o!==d){d=hs(Error(i(424)),s),Pi(d),s=Cp(t,s,o,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jt=vs(t.firstChild),En=s,Je=!0,Ca=null,gs=!0,r=wm(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ur(),o===d){s=aa(t,s,r);break e}_n(t,s,o,r)}s=s.child}return s;case 26:return qo(t,s),t===null?(r=$g(s.type,null,s.pendingProps,null))?s.memoizedState=r:Je||(r=s.type,t=s.pendingProps,o=nc(F.current).createElement(r),o[Jt]=s,o[Ut]=t,kn(o,r,t),zt(o),s.stateNode=o):s.memoizedState=$g(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return I(s),t===null&&Je&&(o=s.stateNode=Bg(s.type,s.pendingProps,F.current),En=s,gs=!0,d=jt,$a(s.type)?(Kd=d,jt=vs(o.firstChild)):jt=d),_n(t,s,s.pendingProps.children,r),qo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Je&&((d=o=jt)&&(o=Jw(o,s.type,s.pendingProps,gs),o!==null?(s.stateNode=o,En=s,jt=vs(o.firstChild),gs=!1,d=!0):d=!1),d||_a(s)),I(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Qd(d,h)?o=null:v!==null&&Qd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Fu(t,s,mw,null,null,r),Nl._currentValue=d),qo(t,s),_n(t,s,o,r),s.child;case 6:return t===null&&Je&&((t=r=jt)&&(r=e1(r,s.pendingProps,gs),r!==null?(s.stateNode=r,En=s,jt=null,t=!0):t=!1),t||_a(s)),null;case 13:return _p(t,s,r);case 4:return be(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=gr(s,null,o,r):_n(t,s,o,r),s.child;case 11:return vp(t,s,s.type,s.pendingProps,r);case 7:return _n(t,s,s.pendingProps,r),s.child;case 8:return _n(t,s,s.pendingProps.children,r),s.child;case 12:return _n(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,ka(s,s.type,o.value),_n(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,fr(s),d=Cn(d),o=o(d),s.flags|=1,_n(t,s,o,r),s.child;case 14:return bp(t,s,s.type,s.pendingProps,r);case 15:return yp(t,s,s.type,s.pendingProps,r);case 19:return Tp(t,s,r);case 31:return Sw(t,s,r);case 22:return wp(t,s,r,s.pendingProps);case 24:return fr(s),o=Cn(tn),t===null?(d=zu(),d===null&&(d=pt,h=Mu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),s.memoizedState={parent:o,cache:d},Lu(s),ka(s,tn,d)):((t.lanes&r)!==0&&(Uu(t,s),al(s,null,null,r),sl()),d=t.memoizedState,h=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ka(s,tn,o)):(o=h.cache,ka(s,tn,o),o!==d.cache&&Du(s,[tn],r,!0))),_n(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ra(t){t.flags|=4}function vd(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(sg())t.flags|=8192;else throw pr=No,Ou}else t.flags&=-16777217}function Dp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ig(s))if(sg())t.flags|=8192;else throw pr=No,Ou}function $o(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Vt():536870912,t.lanes|=s,oi|=s)}function ul(t,s){if(!Je)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Nt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function Nw(t,s,r){var o=s.pendingProps;switch(Cu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ta(tn),Ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yr(s)?ra(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ku())),Nt(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?(ra(s),h!==null?(Nt(s),Dp(s,h)):(Nt(s),vd(s,d,null,o,r))):h?h!==t.memoizedState?(ra(s),Nt(s),Dp(s,h)):(Nt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ra(s),Nt(s),vd(s,d,t,o,r)),null;case 27:if(Ee(s),r=F.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}t=R.current,Yr(s)?um(s):(t=Bg(d,o,r),s.stateNode=t,ra(s))}return Nt(s),null;case 5:if(Ee(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(h=R.current,Yr(s))um(s);else{var v=nc(F.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}h[Jt]=s,h[Ut]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(kn(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ra(s)}}return Nt(s),vd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ra(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=F.current,Yr(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=En,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Jt]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||_g(t.nodeValue,r)),t||_a(s,!0)}else t=nc(t).createTextNode(o),t[Jt]=s,s.stateNode=t}return Nt(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=Yr(s),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Jt]=s}else ur(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),t=!1}else r=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ls(s),s):(ls(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Nt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Yr(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Jt]=s}else ur(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),d=!1}else d=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ls(s),s):(ls(s),null)}return ls(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),$o(s,s.updateQueue),Nt(s),null);case 4:return Ne(),t===null&&Zd(s.stateNode.containerInfo),Nt(s),null;case 10:return ta(s.type),Nt(s),null;case 19:if(H(It),o=s.memoizedState,o===null)return Nt(s),null;if(d=(s.flags&128)!==0,h=o.rendering,h===null)if(d)ul(o,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=ko(t),h!==null){for(s.flags|=128,ul(o,!1),t=h.updateQueue,s.updateQueue=t,$o(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)rm(r,t),r=r.sibling;return z(It,It.current&1|2),Je&&Js(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&ee()>Io&&(s.flags|=128,d=!0,ul(o,!1),s.lanes=4194304)}else{if(!d)if(t=ko(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,$o(s,t),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Je)return Nt(s),null}else 2*ee()-o.renderingStartTime>Io&&r!==536870912&&(s.flags|=128,d=!0,ul(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ee(),t.sibling=null,r=It.current,z(It,d?r&1|2:r&1),Je&&Js(s,o.treeForkCount),t):(Nt(s),null);case 22:case 23:return ls(s),$u(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),r=s.updateQueue,r!==null&&$o(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&H(hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),ta(tn),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Ew(t,s){switch(Cu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ta(tn),Ne(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(ls(s),s.alternate===null)throw Error(i(340));ur()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ls(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ur()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return H(It),null;case 4:return Ne(),null;case 10:return ta(s.type),null;case 22:case 23:return ls(s),$u(),t!==null&&H(hr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ta(tn),null;case 25:return null;default:return null}}function Mp(t,s){switch(Cu(s),s.tag){case 3:ta(tn),Ne();break;case 26:case 27:case 5:Ee(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&ls(s);break;case 13:ls(s);break;case 19:H(It);break;case 10:ta(s.type);break;case 22:case 23:ls(s),$u(),t!==null&&H(hr);break;case 24:ta(tn)}}function dl(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var h=r.create,v=r.inst;o=h(),v.destroy=o}r=r.next}while(r!==d)}}catch(S){ct(s,s.return,S)}}function za(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var M=r,K=S;try{K()}catch(re){ct(d,M,re)}}}o=o.next}while(o!==h)}}catch(re){ct(s,s.return,re)}}function Rp(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{jm(s,r)}catch(o){ct(t,t.return,o)}}}function zp(t,s,r){r.props=vr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ct(t,s,o)}}function fl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){ct(t,s,d)}}function Fs(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){ct(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){ct(t,s,d)}else r.current=null}function Op(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){ct(t,t.return,d)}}function bd(t,s,r){try{var o=t.stateNode;Gw(o,t.type,r,s),o[Ut]=s}catch(d){ct(t,t.return,d)}}function Lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$a(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$a(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=ks));else if(o!==4&&(o===27&&$a(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(wd(t,s,r),t=t.sibling;t!==null;)wd(t,s,r),t=t.sibling}function Ho(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&$a(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ho(t,s,r),t=t.sibling;t!==null;)Ho(t,s,r),t=t.sibling}function Up(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);kn(s,o,r),s[Jt]=t,s[Ut]=r}catch(h){ct(t,t.return,h)}}var ia=!1,an=!1,Sd=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,vn=null;function Cw(t,s){if(t=t.containerInfo,Vd=cc,t=Kh(t),pu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,S=-1,M=-1,K=0,re=0,fe=t,J=null;t:for(;;){for(var te;fe!==r||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||o!==0&&fe.nodeType!==3||(M=v+o),fe.nodeType===3&&(v+=fe.nodeValue.length),(te=fe.firstChild)!==null;)J=fe,fe=te;for(;;){if(fe===t)break t;if(J===r&&++K===d&&(S=v),J===h&&++re===o&&(M=v),(te=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=te}r=S===-1||M===-1?null:{start:S,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fd={focusedElem:t,selectionRange:r},cc=!1,vn=s;vn!==null;)if(s=vn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,vn=t;else for(;vn!==null;){switch(s=vn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=s,d=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var De=vr(r.type,d);t=o.getSnapshotBeforeUpdate(De,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ze){ct(r,r.return,Ze)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Gd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,vn=t;break}vn=s.return}}function qp(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:oa(t,r),o&4&&dl(5,r);break;case 1:if(oa(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){ct(r,r.return,v)}else{var d=vr(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ct(r,r.return,v)}}o&64&&Rp(r),o&512&&fl(r,r.return);break;case 3:if(oa(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{jm(t,s)}catch(v){ct(r,r.return,v)}}break;case 27:s===null&&o&4&&Up(r);case 26:case 5:oa(t,r),s===null&&o&4&&Op(r),o&512&&fl(r,r.return);break;case 12:oa(t,r);break;case 31:oa(t,r),o&4&&Hp(t,r);break;case 13:oa(t,r),o&4&&Vp(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Ow.bind(null,r),t1(t,r))));break;case 22:if(o=r.memoizedState!==null||ia,!o){s=s!==null&&s.memoizedState!==null||an,d=ia;var h=an;ia=o,(an=s)&&!h?ca(t,r,(r.subtreeFlags&8772)!==0):oa(t,r),ia=d,an=h}break;case 30:break;default:oa(t,r)}}function Zp(t){var s=t.alternate;s!==null&&(t.alternate=null,Zp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&dn(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Gn=!1;function la(t,s,r){for(r=r.child;r!==null;)$p(t,s,r),r=r.sibling}function $p(t,s,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(bt,r)}catch{}switch(r.tag){case 26:an||Fs(r,s),la(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:an||Fs(r,s);var o=At,d=Gn;$a(r.type)&&(At=r.stateNode,Gn=!1),la(t,s,r),wl(r.stateNode),At=o,Gn=d;break;case 5:an||Fs(r,s);case 6:if(o=At,d=Gn,At=null,la(t,s,r),At=o,Gn=d,At!==null)if(Gn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(h){ct(r,s,h)}else try{At.removeChild(r.stateNode)}catch(h){ct(r,s,h)}break;case 18:At!==null&&(Gn?(t=At,Rg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),gi(t)):Rg(At,r.stateNode));break;case 4:o=At,d=Gn,At=r.stateNode.containerInfo,Gn=!0,la(t,s,r),At=o,Gn=d;break;case 0:case 11:case 14:case 15:za(2,r,s),an||za(4,r,s),la(t,s,r);break;case 1:an||(Fs(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&zp(r,s,o)),la(t,s,r);break;case 21:la(t,s,r);break;case 22:an=(o=an)||r.memoizedState!==null,la(t,s,r),an=o;break;default:la(t,s,r)}}function Hp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gi(t)}catch(r){ct(s,s.return,r)}}}function Vp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gi(t)}catch(r){ct(s,s.return,r)}}function _w(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Bp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Bp),s;default:throw Error(i(435,t.tag))}}function Vo(t,s){var r=_w(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=Lw.bind(null,t,o);o.then(d,d)}})}function Wn(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if($a(S.type)){At=S.stateNode,Gn=!1;break e}break;case 5:At=S.stateNode,Gn=!1;break e;case 3:case 4:At=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(At===null)throw Error(i(160));$p(h,v,d),At=null,Gn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Fp(s,t),s=s.sibling}var Ds=null;function Fp(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Wn(s,t),Yn(t),o&4&&(za(3,t,t.return),dl(3,t),za(5,t,t.return));break;case 1:Wn(s,t),Yn(t),o&512&&(an||r===null||Fs(r,r.return)),o&64&&ia&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Ds;if(Wn(s,t),Yn(t),o&512&&(an||r===null||Fs(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[qs]||h[Jt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),kn(h,o,r),h[Jt]=t,zt(h),o=h;break e;case"link":var v=Fg("link","href",d).get(o+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(o),kn(h,o,r),d.head.appendChild(h);break;case"meta":if(v=Fg("meta","content",d).get(o+(r.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}h=d.createElement(o),kn(h,o,r),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[Jt]=t,zt(h),o=h}t.stateNode=o}else Qg(d,t.type,t.stateNode);else t.stateNode=Vg(d,o,t.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?Qg(d,t.type,t.stateNode):Vg(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Wn(s,t),Yn(t),o&512&&(an||r===null||Fs(r,r.return)),r!==null&&o&4&&bd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Wn(s,t),Yn(t),o&512&&(an||r===null||Fs(r,r.return)),t.flags&32){d=t.stateNode;try{Sa(d,"")}catch(De){ct(t,t.return,De)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,bd(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Sd=!0);break;case 6:if(Wn(s,t),Yn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(De){ct(t,t.return,De)}}break;case 3:if(rc=null,d=Ds,Ds=sc(s.containerInfo),Wn(s,t),Ds=d,Yn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{gi(s.containerInfo)}catch(De){ct(t,t.return,De)}Sd&&(Sd=!1,Qp(t));break;case 4:o=Ds,Ds=sc(t.stateNode.containerInfo),Wn(s,t),Yn(t),Ds=o;break;case 12:Wn(s,t),Yn(t);break;case 31:Wn(s,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vo(t,o)));break;case 13:Wn(s,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qo=ee()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vo(t,o)));break;case 22:d=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,K=ia,re=an;if(ia=K||d,an=re||M,Wn(s,t),an=re,ia=K,Yn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||M||ia||an||br(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){M=r=s;try{if(h=M.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=M.stateNode;var fe=M.memoizedProps.style,J=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(De){ct(M,M.return,De)}}}else if(s.tag===6){if(r===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(De){ct(M,M.return,De)}}}else if(s.tag===18){if(r===null){M=s;try{var te=M.stateNode;d?zg(te,!0):zg(M.stateNode,!1)}catch(De){ct(M,M.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Vo(t,r))));break;case 19:Wn(s,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Vo(t,o)));break;case 30:break;case 21:break;default:Wn(s,t),Yn(t)}}function Yn(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if(Lp(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=yd(t);Ho(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(Sa(v,""),r.flags&=-33);var S=yd(t);Ho(t,S,v);break;case 3:case 4:var M=r.stateNode.containerInfo,K=yd(t);wd(t,K,M);break;default:throw Error(i(161))}}catch(re){ct(t,t.return,re)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Qp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function oa(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qp(t,s.alternate,s),s=s.sibling}function br(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),br(s);break;case 1:Fs(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&zp(s,s.return,r),br(s);break;case 27:wl(s.stateNode);case 26:case 5:Fs(s,s.return),br(s);break;case 22:s.memoizedState===null&&br(s);break;case 30:br(s);break;default:br(s)}t=t.sibling}}function ca(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:ca(d,h,r),dl(4,h);break;case 1:if(ca(d,h,r),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){ct(o,o.return,K)}if(o=h,d=o.updateQueue,d!==null){var S=o.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Sm(M[d],S)}catch(K){ct(o,o.return,K)}}r&&v&64&&Rp(h),fl(h,h.return);break;case 27:Up(h);case 26:case 5:ca(d,h,r),r&&o===null&&v&4&&Op(h),fl(h,h.return);break;case 12:ca(d,h,r);break;case 31:ca(d,h,r),r&&v&4&&Hp(d,h);break;case 13:ca(d,h,r),r&&v&4&&Vp(d,h);break;case 22:h.memoizedState===null&&ca(d,h,r),fl(h,h.return);break;case 30:break;default:ca(d,h,r)}s=s.sibling}}function jd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xi(r))}function Nd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xi(t))}function Ms(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ip(t,s,r,o),s=s.sibling}function Ip(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ms(t,s,r,o),d&2048&&dl(9,s);break;case 1:Ms(t,s,r,o);break;case 3:Ms(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xi(t)));break;case 12:if(d&2048){Ms(t,s,r,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ct(s,s.return,M)}}else Ms(t,s,r,o);break;case 31:Ms(t,s,r,o);break;case 13:Ms(t,s,r,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?Ms(t,s,r,o):hl(t,s):h._visibility&2?Ms(t,s,r,o):(h._visibility|=2,ri(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&jd(v,s);break;case 24:Ms(t,s,r,o),d&2048&&Nd(s.alternate,s);break;default:Ms(t,s,r,o)}}function ri(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=r,M=o,K=v.flags;switch(v.tag){case 0:case 11:case 15:ri(h,v,S,M,d),dl(8,v);break;case 23:break;case 22:var re=v.stateNode;v.memoizedState!==null?re._visibility&2?ri(h,v,S,M,d):hl(h,v):(re._visibility|=2,ri(h,v,S,M,d)),d&&K&2048&&jd(v.alternate,v);break;case 24:ri(h,v,S,M,d),d&&K&2048&&Nd(v.alternate,v);break;default:ri(h,v,S,M,d)}s=s.sibling}}function hl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:hl(r,o),d&2048&&jd(o.alternate,o);break;case 24:hl(r,o),d&2048&&Nd(o.alternate,o);break;default:hl(r,o)}s=s.sibling}}var ml=8192;function ii(t,s,r){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Gp(t,s,r),t=t.sibling}function Gp(t,s,r){switch(t.tag){case 26:ii(t,s,r),t.flags&ml&&t.memoizedState!==null&&h1(r,Ds,t.memoizedState,t.memoizedProps);break;case 5:ii(t,s,r);break;case 3:case 4:var o=Ds;Ds=sc(t.stateNode.containerInfo),ii(t,s,r),Ds=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,ii(t,s,r),ml=o):ii(t,s,r));break;default:ii(t,s,r)}}function Wp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function pl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];vn=o,Kp(o,t)}Wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yp(t),t=t.sibling}function Yp(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&za(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Fo(t)):pl(t);break;default:pl(t)}}function Fo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];vn=o,Kp(o,t)}Wp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:za(8,s,s.return),Fo(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Fo(s));break;default:Fo(s)}t=t.sibling}}function Kp(t,s){for(;vn!==null;){var r=vn;switch(r.tag){case 0:case 11:case 15:za(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xi(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,vn=o;else e:for(r=t;vn!==null;){o=vn;var d=o.sibling,h=o.return;if(Zp(o),o===r){vn=null;break e}if(d!==null){d.return=h,vn=d;break e}vn=h}}}var kw={getCacheForType:function(t){var s=Cn(tn),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return Cn(tn).controller.signal}},Tw=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Ye=null,Pe=0,ot=0,os=null,Oa=!1,li=!1,Ed=!1,ua=0,Zt=0,La=0,yr=0,Cd=0,cs=0,oi=0,gl=null,Kn=null,_d=!1,Qo=0,Pp=0,Io=1/0,Go=null,Ua=null,hn=0,Ba=null,ci=null,da=0,kd=0,Td=null,Xp=null,xl=0,Ad=null;function us(){return(it&2)!==0&&Pe!==0?Pe&-Pe:U.T!==null?Ld():Fn()}function Jp(){if(cs===0)if((Pe&536870912)===0||Je){var t=Ln;Ln<<=1,(Ln&3932160)===0&&(Ln=262144),cs=t}else cs=536870912;return t=is.current,t!==null&&(t.flags|=32),cs}function Pn(t,s,r){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(ui(t,0),qa(t,Pe,cs,!1)),Hn(t,r),((it&2)===0||t!==pt)&&(t===pt&&((it&2)===0&&(yr|=r),Zt===4&&qa(t,Pe,cs,!1)),Qs(t))}function eg(t,s,r){if((it&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||Mn(t,s),d=o?Mw(t,s):Md(t,s,!0),h=o;do{if(d===0){li&&!o&&qa(t,s,0,!1);break}else{if(r=t.current.alternate,h&&!Aw(r)){d=Md(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=gl;var M=S.current.memoizedState.isDehydrated;if(M&&(ui(S,v).flags|=256),v=Md(S,v,!1),v!==2){if(Ed&&!M){S.errorRecoveryDisabledLanes|=h,yr|=h,d=4;break e}h=Kn,Kn=d,h!==null&&(Kn===null?Kn=h:Kn.push.apply(Kn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){ui(t,0),qa(t,s,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:qa(o,s,cs,!Oa);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Qo+300-ee(),10<d)){if(qa(o,s,cs,!Oa),Lt(o,0,!0)!==0)break e;da=s,o.timeoutHandle=Dg(tg.bind(null,o,r,Kn,Go,_d,s,cs,yr,oi,Oa,h,"Throttled",-0,0),d);break e}tg(o,r,Kn,Go,_d,s,cs,yr,oi,Oa,h,null,-0,0)}}break}while(!0);Qs(t)}function tg(t,s,r,o,d,h,v,S,M,K,re,fe,J,te){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ks},Gp(s,h,fe);var De=(h&62914560)===h?Qo-ee():(h&4194048)===h?Pp-ee():0;if(De=m1(fe,De),De!==null){da=h,t.cancelPendingCommit=De(cg.bind(null,t,s,h,r,o,d,v,S,M,re,fe,null,J,te)),qa(t,h,v,!K);return}}cg(t,s,h,r,o,d,v,S,M)}function Aw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],h=d.getSnapshot;d=d.value;try{if(!as(h(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qa(t,s,r,o){s&=~Cd,s&=~yr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var h=31-yt(d),v=1<<h;o[h]=-1,d&=~v}r!==0&&Rt(t,r,s)}function Wo(){return(it&6)===0?(vl(0),!1):!0}function Dd(){if(Ye!==null){if(ot===0)var t=Ye.return;else t=Ye,ea=dr=null,Gu(t),ei=null,el=0,t=Ye;for(;t!==null;)Mp(t.alternate,t),t=t.return;Ye=null}}function ui(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Kw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),da=0,Dd(),pt=t,Ye=r=Xs(t.current,null),Pe=s,ot=0,os=null,Oa=!1,li=Mn(t,s),Ed=!1,oi=cs=Cd=yr=La=Zt=0,Kn=gl=null,_d=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-yt(o),h=1<<d;s|=t[d],o&=~h}return ua=s,po(),r}function ng(t,s){Ie=null,U.H=ol,s===Jr||s===jo?(s=vm(),ot=3):s===Ou?(s=vm(),ot=4):ot=s===cd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,os=s,Ye===null&&(Zt=1,Uo(t,hs(s,t.current)))}function sg(){var t=is.current;return t===null?!0:(Pe&4194048)===Pe?xs===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===xs:!1}function ag(){var t=U.H;return U.H=ol,t===null?ol:t}function rg(){var t=U.A;return U.A=kw,t}function Yo(){Zt=4,Oa||(Pe&4194048)!==Pe&&is.current!==null||(li=!0),(La&134217727)===0&&(yr&134217727)===0||pt===null||qa(pt,Pe,cs,!1)}function Md(t,s,r){var o=it;it|=2;var d=ag(),h=rg();(pt!==t||Pe!==s)&&(Go=null,ui(t,s)),s=!1;var v=Zt;e:do try{if(ot!==0&&Ye!==null){var S=Ye,M=os;switch(ot){case 8:Dd(),v=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(s=!0);var K=ot;if(ot=0,os=null,di(t,S,M,K),r&&li){v=0;break e}break;default:K=ot,ot=0,os=null,di(t,S,M,K)}}Dw(),v=Zt;break}catch(re){ng(t,re)}while(!0);return s&&t.shellSuspendCounter++,ea=dr=null,it=o,U.H=d,U.A=h,Ye===null&&(pt=null,Pe=0,po()),v}function Dw(){for(;Ye!==null;)ig(Ye)}function Mw(t,s){var r=it;it|=2;var o=ag(),d=rg();pt!==t||Pe!==s?(Go=null,Io=ee()+500,ui(t,s)):li=Mn(t,s);e:do try{if(ot!==0&&Ye!==null){s=Ye;var h=os;t:switch(ot){case 1:ot=0,os=null,di(t,s,h,1);break;case 2:case 9:if(gm(h)){ot=0,os=null,lg(s);break}s=function(){ot!==2&&ot!==9||pt!==t||(ot=7),Qs(t)},h.then(s,s);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:gm(h)?(ot=0,os=null,lg(s)):(ot=0,os=null,di(t,s,h,7));break;case 5:var v=null;switch(Ye.tag){case 26:v=Ye.memoizedState;case 5:case 27:var S=Ye;if(v?Ig(v):S.stateNode.complete){ot=0,os=null;var M=S.sibling;if(M!==null)Ye=M;else{var K=S.return;K!==null?(Ye=K,Ko(K)):Ye=null}break t}}ot=0,os=null,di(t,s,h,5);break;case 6:ot=0,os=null,di(t,s,h,6);break;case 8:Dd(),Zt=6;break e;default:throw Error(i(462))}}Rw();break}catch(re){ng(t,re)}while(!0);return ea=dr=null,U.H=o,U.A=d,it=r,Ye!==null?0:(pt=null,Pe=0,po(),Zt)}function Rw(){for(;Ye!==null&&!_();)ig(Ye)}function ig(t){var s=Ap(t.alternate,t,ua);t.memoizedProps=t.pendingProps,s===null?Ko(t):Ye=s}function lg(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=Np(r,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=Np(r,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Gu(s);default:Mp(r,s),s=Ye=rm(s,ua),s=Ap(r,s,ua)}t.memoizedProps=t.pendingProps,s===null?Ko(t):Ye=s}function di(t,s,r,o){ea=dr=null,Gu(s),ei=null,el=0;var d=s.return;try{if(ww(t,d,s,r,Pe)){Zt=1,Uo(t,hs(r,t.current)),Ye=null;return}}catch(h){if(d!==null)throw Ye=d,h;Zt=1,Uo(t,hs(r,t.current)),Ye=null;return}s.flags&32768?(Je||o===1?t=!0:li||(Pe&536870912)!==0?t=!1:(Oa=t=!0,(o===2||o===9||o===3||o===6)&&(o=is.current,o!==null&&o.tag===13&&(o.flags|=16384))),og(s,t)):Ko(s)}function Ko(t){var s=t;do{if((s.flags&32768)!==0){og(s,Oa);return}t=s.return;var r=Nw(s.alternate,s,ua);if(r!==null){Ye=r;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=t}while(s!==null);Zt===0&&(Zt=5)}function og(t,s){do{var r=Ew(t.alternate,t);if(r!==null){r.flags&=32767,Ye=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=r}while(t!==null);Zt=6,Ye=null}function cg(t,s,r,o,d,h,v,S,M){t.cancelPendingCommit=null;do Po();while(hn!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=yu,Ft(t,r,h,v,S,M),t===pt&&(Ye=pt=null,Pe=0),ci=s,Ba=t,da=r,kd=h,Td=d,Xp=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Uw(He,function(){return mg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,d=X.p,X.p=2,v=it,it|=4;try{Cw(t,s,r)}finally{it=v,X.p=d,U.T=o}}hn=1,ug(),dg(),fg()}}function ug(){if(hn===1){hn=0;var t=Ba,s=ci,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var d=it;it|=4;try{Fp(s,t);var h=Fd,v=Kh(t.containerInfo),S=h.focusedElem,M=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Yh(S.ownerDocument.documentElement,S)){if(M!==null&&pu(S)){var K=M.start,re=M.end;if(re===void 0&&(re=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(re,S.value.length);else{var fe=S.ownerDocument||document,J=fe&&fe.defaultView||window;if(J.getSelection){var te=J.getSelection(),De=S.textContent.length,Ze=Math.min(M.start,De),ht=M.end===void 0?Ze:Math.min(M.end,De);!te.extend&&Ze>ht&&(v=ht,ht=Ze,Ze=v);var q=Wh(S,Ze),L=Wh(S,ht);if(q&&L&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==L.node||te.focusOffset!==L.offset)){var W=fe.createRange();W.setStart(q.node,q.offset),te.removeAllRanges(),Ze>ht?(te.addRange(W),te.extend(L.node,L.offset)):(W.setEnd(L.node,L.offset),te.addRange(W))}}}}for(fe=[],te=S;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var ue=fe[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}cc=!!Vd,Fd=Vd=null}finally{it=d,X.p=o,U.T=r}}t.current=s,hn=2}}function dg(){if(hn===2){hn=0;var t=Ba,s=ci,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var d=it;it|=4;try{qp(t,s.alternate,s)}finally{it=d,X.p=o,U.T=r}}hn=3}}function fg(){if(hn===4||hn===3){hn=0,ne();var t=Ba,s=ci,r=da,o=Xp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,ci=Ba=null,hg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ua=null),Rn(r),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=U.T,d=X.p,X.p=2,U.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{U.T=s,X.p=d}}(da&3)!==0&&Po(),Qs(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Ad?xl++:(xl=0,Ad=t):xl=0,vl(0)}}function hg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Xi(s)))}function Po(){return ug(),dg(),fg(),mg()}function mg(){if(hn!==5)return!1;var t=Ba,s=kd;kd=0;var r=Rn(da),o=U.T,d=X.p;try{X.p=32>r?32:r,U.T=null,r=Td,Td=null;var h=Ba,v=da;if(hn=0,ci=Ba=null,da=0,(it&6)!==0)throw Error(i(331));var S=it;if(it|=4,Yp(h.current),Ip(h,h.current,v,r),it=S,vl(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(bt,h)}catch{}return!0}finally{X.p=d,U.T=o,hg(t,s)}}function pg(t,s,r){s=hs(r,s),s=od(t.stateNode,s,2),t=Da(t,s,2),t!==null&&(Hn(t,2),Qs(t))}function ct(t,s,r){if(t.tag===3)pg(t,t,r);else for(;s!==null;){if(s.tag===3){pg(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ua===null||!Ua.has(o))){t=hs(r,t),r=gp(2),o=Da(s,r,2),o!==null&&(xp(r,o,s,t),Hn(o,2),Qs(o));break}}s=s.return}}function Rd(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Tw;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(Ed=!0,d.add(r),t=zw.bind(null,t,s,r),s.then(t,t))}function zw(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,pt===t&&(Pe&r)===r&&(Zt===4||Zt===3&&(Pe&62914560)===Pe&&300>ee()-Qo?(it&2)===0&&ui(t,0):Cd|=r,oi===Pe&&(oi=0)),Qs(t)}function gg(t,s){s===0&&(s=Vt()),t=or(t,s),t!==null&&(Hn(t,s),Qs(t))}function Ow(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),gg(t,r)}function Lw(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),gg(t,r)}function Uw(t,s){return D(t,s)}var Xo=null,fi=null,zd=!1,Jo=!1,Od=!1,Za=0;function Qs(t){t!==fi&&t.next===null&&(fi===null?Xo=fi=t:fi=fi.next=t),Jo=!0,zd||(zd=!0,qw())}function vl(t,s){if(!Od&&Jo){Od=!0;do for(var r=!1,o=Xo;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-yt(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,yg(o,h))}else h=Pe,h=Lt(o,o===pt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Mn(o,h)||(r=!0,yg(o,h));o=o.next}while(r);Od=!1}}function Bw(){xg()}function xg(){Jo=zd=!1;var t=0;Za!==0&&Yw()&&(t=Za);for(var s=ee(),r=null,o=Xo;o!==null;){var d=o.next,h=vg(o,s);h===0?(o.next=null,r===null?Xo=d:r.next=d,d===null&&(fi=r)):(r=o,(t!==0||(h&3)!==0)&&(Jo=!0)),o=d}hn!==0&&hn!==5||vl(t),Za!==0&&(Za=0)}function vg(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-yt(h),S=1<<v,M=d[v];M===-1?((S&r)===0||(S&o)!==0)&&(d[v]=_e(S,s)):M<=s&&(t.expiredLanes|=S),h&=~S}if(s=pt,r=Pe,r=Lt(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&k(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Mn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&k(o),Rn(r)){case 2:case 8:r=qe;break;case 32:r=He;break;case 268435456:r=ye;break;default:r=He}return o=bg.bind(null,t),r=D(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&k(o),t.callbackPriority=2,t.callbackNode=null,2}function bg(t,s){if(hn!==0&&hn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Po()&&t.callbackNode!==r)return null;var o=Pe;return o=Lt(t,t===pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(eg(t,o,s),vg(t,ee()),t.callbackNode!=null&&t.callbackNode===r?bg.bind(null,t):null)}function yg(t,s){if(Po())return null;eg(t,s,!0)}function qw(){Pw(function(){(it&6)!==0?D(je,Bw):xg()})}function Ld(){if(Za===0){var t=Pr;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Za=t}return Za}function wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qr(""+t)}function Sg(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Zw(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var h=wg((d[Ut]||null).action),v=o.submitter;v&&(s=(s=v[Ut]||null)?wg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new Hi("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Za!==0){var M=v?Sg(d,v):new FormData(d);nd(r,{pending:!0,data:M,method:d.method,action:h},null,M)}}else typeof h=="function"&&(S.preventDefault(),M=v?Sg(d,v):new FormData(d),nd(r,{pending:!0,data:M,method:d.method,action:h},h,M))},currentTarget:d}]})}}for(var Ud=0;Ud<bu.length;Ud++){var Bd=bu[Ud],$w=Bd.toLowerCase(),Hw=Bd[0].toUpperCase()+Bd.slice(1);As($w,"on"+Hw)}As(Jh,"onAnimationEnd"),As(em,"onAnimationIteration"),As(tm,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(aw,"onTransitionRun"),As(rw,"onTransitionStart"),As(iw,"onTransitionCancel"),As(nm,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function jg(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=K;try{h(d)}catch(re){mo(re)}d.currentTarget=null,h=M}else for(v=0;v<o.length;v++){if(S=o[v],M=S.instance,K=S.currentTarget,S=S.listener,M!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=K;try{h(d)}catch(re){mo(re)}d.currentTarget=null,h=M}}}}function Ke(t,s){var r=s[Mi];r===void 0&&(r=s[Mi]=new Set);var o=t+"__bubble";r.has(o)||(Ng(s,t,2,!1),r.add(o))}function qd(t,s,r){var o=0;s&&(o|=4),Ng(r,t,o,s)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[ec]){t[ec]=!0,tr.forEach(function(r){r!=="selectionchange"&&(Vw.has(r)||qd(r,!1,t),qd(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ec]||(s[ec]=!0,qd("selectionchange",!1,s))}}function Ng(t,s,r,o){switch(Jg(s)){case 2:var d=x1;break;case 8:d=v1;break;default:d=tf}r=d.bind(null,s,r,t),d=void 0,!ce||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function $d(t,s,r,o,d){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=o.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Un(S),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){o=h=v;continue e}S=S.parentNode}}o=o.return}uo(function(){var K=h,re=Zi(r),fe=[];e:{var J=sm.get(t);if(J!==void 0){var te=Hi,De=t;switch(t){case"keypress":if(kt(r)===0)break e;case"keydown":case"keyup":te=Ly;break;case"focusin":De="focus",te=uu;break;case"focusout":De="blur",te=uu;break;case"beforeblur":case"afterblur":te=uu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=qy;break;case Jh:case em:case tm:te=_y;break;case nm:te=$y;break;case"scroll":case"scrollend":te=Vi;break;case"wheel":te=Vy;break;case"copy":case"cut":case"paste":te=Ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=zh;break;case"toggle":case"beforetoggle":te=Qy}var Ze=(s&4)!==0,ht=!Ze&&(t==="scroll"||t==="scrollend"),q=Ze?J!==null?J+"Capture":null:J;Ze=[];for(var L=K,W;L!==null;){var ue=L;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||q===null||(ue=sr(L,q),ue!=null&&Ze.push(yl(L,ue,W))),ht)break;L=L.return}0<Ze.length&&(J=new te(J,De,null,r,re),fe.push({event:J,listeners:Ze}))}}if((s&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",J&&r!==qi&&(De=r.relatedTarget||r.fromElement)&&(Un(De)||De[_t]))break e;if((te||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,te?(De=r.relatedTarget||r.toElement,te=K,De=De?Un(De):null,De!==null&&(ht=u(De),Ze=De.tag,De!==ht||Ze!==5&&Ze!==27&&Ze!==6)&&(De=null)):(te=null,De=K),te!==De)){if(Ze=fn,ue="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ze=zh,ue="onPointerLeave",q="onPointerEnter",L="pointer"),ht=te==null?J:Es(te),W=De==null?J:Es(De),J=new Ze(ue,L+"leave",te,r,re),J.target=ht,J.relatedTarget=W,ue=null,Un(re)===K&&(Ze=new Ze(q,L+"enter",De,r,re),Ze.target=W,Ze.relatedTarget=ht,ue=Ze),ht=ue,te&&De)t:{for(Ze=Fw,q=te,L=De,W=0,ue=q;ue;ue=Ze(ue))W++;ue=0;for(var Ue=L;Ue;Ue=Ze(Ue))ue++;for(;0<W-ue;)q=Ze(q),W--;for(;0<ue-W;)L=Ze(L),ue--;for(;W--;){if(q===L||L!==null&&q===L.alternate){Ze=q;break t}q=Ze(q),L=Ze(L)}Ze=null}else Ze=null;te!==null&&Eg(fe,J,te,Ze,!1),De!==null&&ht!==null&&Eg(fe,ht,De,Ze,!0)}}e:{if(J=K?Es(K):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var at=Hh;else if(Zh(J))if(Vh)at=tw;else{at=Jy;var Re=Xy}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&Bi(K.elementType)&&(at=Hh):at=ew;if(at&&(at=at(t,K))){$h(fe,at,r,re);break e}Re&&Re(t,J,K),t==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&wa(J,"number",J.value)}switch(Re=K?Es(K):window,t){case"focusin":(Zh(Re)||Re.contentEditable==="true")&&(Vr=Re,gu=K,Yi=null);break;case"focusout":Yi=gu=Vr=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Ph(fe,r,re);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":Ph(fe,r,re)}var We;if(fu)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Hr?Bh(t,r)&&(Xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Xe="onCompositionStart");Xe&&(Oh&&r.locale!=="ko"&&(Hr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Hr&&(We=Qt()):(Le=re,nt="value"in Le?Le.value:Le.textContent,Hr=!0)),Re=tc(K,Xe),0<Re.length&&(Xe=new Rh(Xe,t,null,r,re),fe.push({event:Xe,listeners:Re}),We?Xe.data=We:(We=qh(r),We!==null&&(Xe.data=We)))),(We=Gy?Wy(t,r):Yy(t,r))&&(Xe=tc(K,"onBeforeInput"),0<Xe.length&&(Re=new Rh("onBeforeInput","beforeinput",null,r,re),fe.push({event:Re,listeners:Xe}),Re.data=We)),Zw(fe,t,K,r,re)}jg(fe,s)})}function yl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function tc(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=sr(t,r),d!=null&&o.unshift(yl(t,d,h)),d=sr(t,s),d!=null&&o.push(yl(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Fw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Eg(t,s,r,o,d){for(var h=s._reactName,v=[];r!==null&&r!==o;){var S=r,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===o)break;S!==5&&S!==26&&S!==27||K===null||(M=K,d?(K=sr(r,h),K!=null&&v.unshift(yl(r,K,M))):d||(K=sr(r,h),K!=null&&v.push(yl(r,K,M)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var Qw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function Cg(t){return(typeof t=="string"?t:""+t).replace(Qw,`
`).replace(Iw,"")}function _g(t,s){return s=Cg(s),Cg(t)===s}function ft(t,s,r,o,d,h){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Sa(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Sa(t,""+o);break;case"className":Ks(t,"class",o);break;case"tabIndex":Ks(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(t,r,o);break;case"style":Ui(t,o,h);break;case"data":if(s!=="object"){Ks(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=qr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(s!=="input"&&ft(t,s,"name",d.name,d,null),ft(t,s,"formEncType",d.formEncType,d,null),ft(t,s,"formMethod",d.formMethod,d,null),ft(t,s,"formTarget",d.formTarget,d,null)):(ft(t,s,"encType",d.encType,d,null),ft(t,s,"method",d.method,d,null),ft(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=qr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ks);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=qr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),Lr(t,"popover",o);break;case"xlinkActuate":_s(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_s(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_s(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_s(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_s(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_s(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_s(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_s(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_s(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Lr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ou.get(r)||r,Lr(t,r,o))}}function Hd(t,s,r,o,d,h){switch(r){case"style":Ui(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Sa(t,o):(typeof o=="number"||typeof o=="bigint")&&Sa(t,""+o);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),h=t[Ut]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Lr(t,r,o)}}}function kn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var o=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(t,s,h,v,r,null)}}d&&ft(t,s,"srcSet",r.srcSet,r,null),o&&ft(t,s,"src",r.src,r,null);return;case"input":Ke("invalid",t);var S=h=v=d=null,M=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var re=r[o];if(re!=null)switch(o){case"name":d=re;break;case"type":v=re;break;case"checked":M=re;break;case"defaultChecked":K=re;break;case"value":h=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:ft(t,s,o,re,r,null)}}nr(t,h,S,M,K,v,d,!1);return;case"select":Ke("invalid",t),o=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:ft(t,s,d,S,r,null)}s=h,r=v,t.multiple=!!o,s!=null?$s(t,!!o,s,!1):r!=null&&$s(t,!!o,r,!0);return;case"textarea":Ke("invalid",t),h=d=o=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ft(t,s,v,S,r,null)}lo(t,o,d,h);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(o=r[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ft(t,s,M,o,r,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ke(bl[o],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(t,s,K,o,r,null)}return;default:if(Bi(s)){for(re in r)r.hasOwnProperty(re)&&(o=r[re],o!==void 0&&Hd(t,s,re,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&ft(t,s,S,o,r,null))}function Gw(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,M=null,K=null,re=null;for(te in r){var fe=r[te];if(r.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=fe;default:o.hasOwnProperty(te)||ft(t,s,te,null,o,fe)}}for(var J in o){var te=o[J];if(fe=r[J],o.hasOwnProperty(J)&&(te!=null||fe!=null))switch(J){case"type":h=te;break;case"name":d=te;break;case"checked":K=te;break;case"defaultChecked":re=te;break;case"value":v=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==fe&&ft(t,s,J,te,o,fe)}}Oi(t,v,S,M,K,re,h,d);return;case"select":te=v=S=J=null;for(h in r)if(M=r[h],r.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":te=M;default:o.hasOwnProperty(h)||ft(t,s,h,null,o,M)}for(d in o)if(h=o[d],M=r[d],o.hasOwnProperty(d)&&(h!=null||M!=null))switch(d){case"value":J=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==M&&ft(t,s,d,h,o,M)}s=S,r=v,o=te,J!=null?$s(t,!!r,J,!1):!!o!=!!r&&(s!=null?$s(t,!!r,s,!0):$s(t,!!r,r?[]:"",!1));return;case"textarea":te=J=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ft(t,s,S,null,o,d)}for(v in o)if(d=o[v],h=r[v],o.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":J=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ft(t,s,v,d,o,h)}io(t,J,te);return;case"option":for(var De in r)if(J=r[De],r.hasOwnProperty(De)&&J!=null&&!o.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:ft(t,s,De,null,o,J)}for(M in o)if(J=o[M],te=r[M],o.hasOwnProperty(M)&&J!==te&&(J!=null||te!=null))switch(M){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ft(t,s,M,J,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in r)J=r[Ze],r.hasOwnProperty(Ze)&&J!=null&&!o.hasOwnProperty(Ze)&&ft(t,s,Ze,null,o,J);for(K in o)if(J=o[K],te=r[K],o.hasOwnProperty(K)&&J!==te&&(J!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:ft(t,s,K,J,o,te)}return;default:if(Bi(s)){for(var ht in r)J=r[ht],r.hasOwnProperty(ht)&&J!==void 0&&!o.hasOwnProperty(ht)&&Hd(t,s,ht,void 0,o,J);for(re in o)J=o[re],te=r[re],!o.hasOwnProperty(re)||J===te||J===void 0&&te===void 0||Hd(t,s,re,J,o,te);return}}for(var q in r)J=r[q],r.hasOwnProperty(q)&&J!=null&&!o.hasOwnProperty(q)&&ft(t,s,q,null,o,J);for(fe in o)J=o[fe],te=r[fe],!o.hasOwnProperty(fe)||J===te||J==null&&te==null||ft(t,s,fe,J,o,te)}function kg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ww(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&kg(v)){for(v=0,S=d.responseEnd,o+=1;o<r.length;o++){var M=r[o],K=M.startTime;if(K>S)break;var re=M.transferSize,fe=M.initiatorType;re&&kg(fe)&&(M=M.responseEnd,v+=re*(M<S?1:(S-K)/(M-K)))}if(--o,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vd=null,Fd=null;function nc(t){return t.nodeType===9?t:t.ownerDocument}function Tg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Qd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Id=null;function Yw(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var Dg=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(t){return Mg.resolve(null).then(t).catch(Xw)}:Dg;function Xw(t){setTimeout(function(){throw t})}function $a(t){return t==="head"}function Rg(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),gi(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wl(r);for(var h=r.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[qs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&wl(t.ownerDocument.body);r=d}while(r);gi(s)}function zg(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Gd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Gd(r),dn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Jw(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function e1(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=vs(t.nextSibling),t===null))return null;return t}function Og(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vs(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function t1(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Kd=null;function Lg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return vs(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Ug(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Bg(t,s,r){switch(s=nc(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function wl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);dn(t)}var bs=new Map,qg=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=X.d;X.d={f:n1,r:s1,D:a1,C:r1,L:i1,m:l1,X:c1,S:o1,M:u1};function n1(){var t=fa.f(),s=Wo();return t||s}function s1(t){var s=Bn(t);s!==null&&s.tag===5&&s.type==="form"?np(s):fa.r(t)}var hi=typeof document>"u"?null:document;function Zg(t,s,r){var o=hi;if(o&&typeof s=="string"&&s){var d=In(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),qg.has(d)||(qg.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),kn(s,"link",t),zt(s),o.head.appendChild(s)))}}function a1(t){fa.D(t),Zg("dns-prefetch",t,null)}function r1(t,s){fa.C(t,s),Zg("preconnect",t,s)}function i1(t,s,r){fa.L(t,s,r);var o=hi;if(o&&t&&s){var d='link[rel="preload"][as="'+In(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+In(r.imageSizes)+'"]')):d+='[href="'+In(t)+'"]';var h=d;switch(s){case"style":h=mi(t);break;case"script":h=pi(t)}bs.has(h)||(t=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),bs.set(h,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(Sl(h))||s==="script"&&o.querySelector(jl(h))||(s=o.createElement("link"),kn(s,"link",t),zt(s),o.head.appendChild(s)))}}function l1(t,s){fa.m(t,s);var r=hi;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=pi(t)}if(!bs.has(h)&&(t=y({rel:"modulepreload",href:t},s),bs.set(h,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jl(h)))return}o=r.createElement("link"),kn(o,"link",t),zt(o),r.head.appendChild(o)}}}function o1(t,s,r){fa.S(t,s,r);var o=hi;if(o&&t){var d=Zs(o).hoistableStyles,h=mi(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Sl(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},r),(r=bs.get(h))&&Pd(t,r);var M=v=o.createElement("link");zt(M),kn(M,"link",t),M._p=new Promise(function(K,re){M.onload=K,M.onerror=re}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ac(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function c1(t,s){fa.X(t,s);var r=hi;if(r&&t){var o=Zs(r).hoistableScripts,d=pi(t),h=o.get(d);h||(h=r.querySelector(jl(d)),h||(t=y({src:t,async:!0},s),(s=bs.get(d))&&Xd(t,s),h=r.createElement("script"),zt(h),kn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function u1(t,s){fa.M(t,s);var r=hi;if(r&&t){var o=Zs(r).hoistableScripts,d=pi(t),h=o.get(d);h||(h=r.querySelector(jl(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=bs.get(d))&&Xd(t,s),h=r.createElement("script"),zt(h),kn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function $g(t,s,r,o){var d=(d=F.current)?sc(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=mi(r.href),r=Zs(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=mi(r.href);var h=Zs(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(Sl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),bs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bs.set(t,r),h||d1(d,t,r,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pi(r),r=Zs(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function mi(t){return'href="'+In(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Hg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function d1(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),kn(s,"link",r),zt(s),t.head.appendChild(s))}function pi(t){return'[src="'+In(t)+'"]'}function jl(t){return"script[async]"+t}function Vg(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+In(r.href)+'"]');if(o)return s.instance=o,zt(o),o;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zt(o),kn(o,"style",d),ac(o,r.precedence,t),s.instance=o;case"stylesheet":d=mi(r.href);var h=t.querySelector(Sl(d));if(h)return s.state.loading|=4,s.instance=h,zt(h),h;o=Hg(r),(d=bs.get(d))&&Pd(o,d),h=(t.ownerDocument||t).createElement("link"),zt(h);var v=h;return v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),kn(h,"link",o),s.state.loading|=4,ac(h,r.precedence,t),s.instance=h;case"script":return h=pi(r.src),(d=t.querySelector(jl(h)))?(s.instance=d,zt(d),d):(o=r,(d=bs.get(h))&&(o=y({},r),Xd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),zt(d),kn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,ac(o,r.precedence,t));return s.instance}function ac(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Xd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var rc=null;function Fg(t,s,r){if(rc===null){var o=new Map,d=rc=new Map;d.set(r,o)}else d=rc,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[qs]||h[Jt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function Qg(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function f1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ig(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h1(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=mi(o.href),h=s.querySelector(Sl(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ic.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=h,zt(h);return}h=s.ownerDocument||s,o=Hg(o),(d=bs.get(d))&&Pd(o,d),h=h.createElement("link"),zt(h);var v=h;v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),kn(h,"link",o),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ic.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Jd=0;function m1(t,s){return t.stylesheets&&t.count===0&&oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&Jd===0&&(Jd=62500*Ww());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Jd?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function oc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,s.forEach(p1,t),lc=null,ic.call(t))}function p1(t,s){if(!(s.state.loading&4)){var r=lc.get(t);if(r)var o=r.get(null);else{r=new Map,lc.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||o,h===o&&r.set(null,d),r.set(v,d),this.count++,o=ic.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Nl={$$typeof:A,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function g1(t,s,r,o,d,h,v,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Gg(t,s,r,o,d,h,v,S,M,K,re,fe){return t=new g1(t,s,r,v,M,K,re,fe,S),s=1,h===!0&&(s|=24),h=rs(3,null,null,s),t.current=h,h.stateNode=t,s=Mu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:s},Lu(h),t}function Wg(t){return t?(t=Ir,t):Ir}function Yg(t,s,r,o,d,h){d=Wg(d),o.context===null?o.context=d:o.pendingContext=d,o=Aa(s),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=Da(t,o,s),r!==null&&(Pn(r,t,s),nl(r,t,s))}function Kg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function ef(t,s){Kg(t,s),(t=t.alternate)&&Kg(t,s)}function Pg(t){if(t.tag===13||t.tag===31){var s=or(t,67108864);s!==null&&Pn(s,t,67108864),ef(t,67108864)}}function Xg(t){if(t.tag===13||t.tag===31){var s=us();s=jn(s);var r=or(t,s);r!==null&&Pn(r,t,s),ef(t,s)}}var cc=!0;function x1(t,s,r,o){var d=U.T;U.T=null;var h=X.p;try{X.p=2,tf(t,s,r,o)}finally{X.p=h,U.T=d}}function v1(t,s,r,o){var d=U.T;U.T=null;var h=X.p;try{X.p=8,tf(t,s,r,o)}finally{X.p=h,U.T=d}}function tf(t,s,r,o){if(cc){var d=nf(o);if(d===null)$d(t,s,o,uc,r),ex(t,o);else if(y1(d,t,s,r,o))o.stopPropagation();else if(ex(t,o),s&4&&-1<b1.indexOf(t)){for(;d!==null;){var h=Bn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Mt(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var M=1<<31-yt(v);S.entanglements[1]|=M,v&=~M}Qs(h),(it&6)===0&&(Io=ee()+500,vl(0))}}break;case 31:case 13:S=or(h,2),S!==null&&Pn(S,h,2),Wo(),ef(h,2)}if(h=nf(o),h===null&&$d(t,s,o,uc,r),h===d)break;d=h}d!==null&&o.stopPropagation()}else $d(t,s,o,null,r)}}function nf(t){return t=Zi(t),sf(t)}var uc=null;function sf(t){if(uc=null,t=Un(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return uc=t,null}function Jg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case je:return 2;case qe:return 8;case He:case xt:return 32;case ye:return 268435456;default:return 32}default:return 32}}var af=!1,Ha=null,Va=null,Fa=null,El=new Map,Cl=new Map,Qa=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ex(t,s){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":El.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function _l(t,s,r,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},s!==null&&(s=Bn(s),s!==null&&Pg(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function y1(t,s,r,o,d){switch(s){case"focusin":return Ha=_l(Ha,t,s,r,o,d),!0;case"dragenter":return Va=_l(Va,t,s,r,o,d),!0;case"mouseover":return Fa=_l(Fa,t,s,r,o,d),!0;case"pointerover":var h=d.pointerId;return El.set(h,_l(El.get(h)||null,t,s,r,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Cl.set(h,_l(Cl.get(h)||null,t,s,r,o,d)),!0}return!1}function tx(t){var s=Un(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,Ns(t.priority,function(){Xg(r)});return}}else if(s===31){if(s=m(r),s!==null){t.blockedOn=s,Ns(t.priority,function(){Xg(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);qi=o,r.target.dispatchEvent(o),qi=null}else return s=Bn(r),s!==null&&Pg(s),t.blockedOn=r,!1;s.shift()}return!0}function nx(t,s,r){dc(t)&&r.delete(s)}function w1(){af=!1,Ha!==null&&dc(Ha)&&(Ha=null),Va!==null&&dc(Va)&&(Va=null),Fa!==null&&dc(Fa)&&(Fa=null),El.forEach(nx),Cl.forEach(nx)}function fc(t,s){t.blockedOn===s&&(t.blockedOn=null,af||(af=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,w1)))}var hc=null;function sx(t){hc!==t&&(hc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hc===t&&(hc=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(sf(o||r)===null)continue;break}var h=Bn(r);h!==null&&(t.splice(s,3),s-=3,nd(h,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function gi(t){function s(M){return fc(M,t)}Ha!==null&&fc(Ha,t),Va!==null&&fc(Va,t),Fa!==null&&fc(Fa,t),El.forEach(s),Cl.forEach(s);for(var r=0;r<Qa.length;r++){var o=Qa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Qa.length&&(r=Qa[0],r.blockedOn===null);)tx(r),r.blockedOn===null&&Qa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],h=r[o+1],v=d[Ut]||null;if(typeof h=="function")v||sx(r);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Ut]||null)S=v.formAction;else if(sf(d)!==null)continue}else S=v.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),sx(r)}}}function ax(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function rf(t){this._internalRoot=t}mc.prototype.render=rf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=us();Yg(r,o,t,s,null,null)},mc.prototype.unmount=rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Yg(t.current,2,null,t,null,null),Wo(),s[_t]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Fn();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Qa.length&&s!==0&&s<Qa[r].priority;r++);Qa.splice(r,0,t),r===0&&tx(t)}};var rx=n.version;if(rx!=="19.2.0")throw Error(i(527,rx,"19.2.0"));X.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var S1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{bt=pc.inject(S1),st=pc}catch{}}return Tl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,o="",d=fp,h=hp,v=mp;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Gg(t,1,!1,null,null,r,o,null,d,h,v,ax),t[_t]=s.current,Zd(t),new rf(s)},Tl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var o=!1,d="",h=fp,v=hp,S=mp,M=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),s=Gg(t,1,!0,s,r??null,o,d,M,h,v,S,ax),s.context=Wg(null),r=s.current,o=us(),o=jn(o),d=Aa(o),d.callback=null,Da(r,d,o),r=o,s.current.lanes=r,Hn(s,r),Qs(s),t[_t]=s.current,Zd(t),new mc(s)},Tl.version="19.2.0",Tl}var px;function D1(){if(px)return cf.exports;px=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),cf.exports=A1(),cf.exports}var M1=D1();const R1=iv(M1),Ic=p.createContext(null);function z1({children:e}){const[n,a]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const j=c.current;window.history.pushState(null,"",`${j.pathname}${j.search}${j.hash}`);return}a(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const f=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),m=p.useCallback((x,b)=>{const y=new URL(x,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},j=`${w.pathname}${w.search}${w.hash}`,T=b?.replace?"replace":"push";u({kind:T,to:j,location:w})&&(b?.replace?window.history.replaceState(null,"",j):window.history.pushState(null,"",j),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return l.jsx(Ic.Provider,{value:g,children:e})}function Ss(){const e=p.useContext(Ic);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function Tn(){const e=p.useContext(Ic);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function O1(e,n=!0){const a=p.useContext(Ic);if(!a)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return a.registerBlocker(e)},[e,a,n])}var ki=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},U1=class{#e=L1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},jr=new U1;function B1(e){setTimeout(e,0)}var kr=typeof window>"u"||"Deno"in globalThis;function $n(){}function q1(e,n){return typeof e=="function"?e(n):e}function Df(e){return typeof e=="number"&&e>=0&&e!==1/0}function ov(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ya(e,n){return typeof e=="function"?e(n):e}function ys(e,n){return typeof e=="function"?e(n):e}function gx(e,n){const{type:a="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==Pf(f,n.options))return!1}else if(!Zl(n.queryKey,f))return!1}if(a!=="all"){const g=n.isActive();if(a==="active"&&!g||a==="inactive"&&g)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function xx(e,n){const{exact:a,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(a){if(Tr(n.options.mutationKey)!==Tr(u))return!1}else if(!Zl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function Pf(e,n){return(n?.queryKeyHashFn||Tr)(e)}function Tr(e){return JSON.stringify(e,(n,a)=>Mf(a)?Object.keys(a).sort().reduce((i,c)=>(i[c]=a[c],i),{}):a)}function Zl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>Zl(e[a],n[a])):!1}var Z1=Object.prototype.hasOwnProperty;function cv(e,n){if(e===n)return e;const a=vx(e)&&vx(n);if(!a&&!(Mf(e)&&Mf(n)))return n;const c=(a?e:Object.keys(e)).length,u=a?n:Object.keys(n),f=u.length,m=a?new Array(f):{};let g=0;for(let x=0;x<f;x++){const b=a?x:u[x],y=e[b],w=n[b];if(y===w){m[b]=y,(a?x<c:Z1.call(e,b))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const j=cv(y,w);m[b]=j,j===y&&g++}return c===f&&g===c?e:m}function Ac(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function vx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mf(e){if(!bx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!bx(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bx(e){return Object.prototype.toString.call(e)==="[object Object]"}function $1(e){return new Promise(n=>{jr.setTimeout(n,e)})}function Rf(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?cv(e,n):n}function H1(e,n,a=0){const i=[...e,n];return a&&i.length>a?i.slice(1):i}function V1(e,n,a=0){const i=[n,...e];return a&&i.length>a?i.slice(0,-1):i}var Xf=Symbol();function uv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===Xf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dv(e,n){return typeof e=="function"?e(...n):!!e}var F1=class extends ki{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!kr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Jf=new F1;function zf(){let e,n;const a=new Promise((c,u)=>{e=c,n=u});a.status="pending",a.catch(()=>{});function i(c){Object.assign(a,c),delete a.resolve,delete a.reject}return a.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},a.reject=c=>{i({status:"rejected",reason:c}),n(c)},a}var Q1=B1;function I1(){let e=[],n=0,a=m=>{m()},i=m=>{m()},c=Q1;const u=m=>{n?e.push(m):c(()=>{a(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(g=>{a(g)})})})};return{batch:m=>{let g;n++;try{g=m()}finally{n--,n||f()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{a=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var pn=I1(),G1=class extends ki{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!kr&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},Dc=new G1;function W1(e){return Math.min(1e3*2**e,3e4)}function fv(e){return(e??"online")==="online"?Dc.isOnline():!0}var Of=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function hv(e){let n=!1,a=0,i;const c=zf(),u=()=>c.status!=="pending",f=N=>{if(!u()){const O=new Of(N);w(O),e.onCancel?.(O)}},m=()=>{n=!0},g=()=>{n=!1},x=()=>Jf.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),b=()=>fv(e.networkMode)&&e.canRun(),y=N=>{u()||(i?.(),c.resolve(N))},w=N=>{u()||(i?.(),c.reject(N))},j=()=>new Promise(N=>{i=O=>{(u()||x())&&N(O)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let N;const O=a===0?e.initialPromise:void 0;try{N=O??e.fn()}catch(B){N=Promise.reject(B)}Promise.resolve(N).then(y).catch(B=>{if(u())return;const C=e.retry??(kr?0:3),A=e.retryDelay??W1,V=typeof A=="function"?A(a,B):A,Z=C===!0||typeof C=="number"&&a<C||typeof C=="function"&&C(a,B);if(n||!Z){w(B);return}a++,e.onFail?.(a,B),$1(V).then(()=>x()?void 0:j()).then(()=>{n?w(B):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:g,canStart:b,start:()=>(b()?T():j().then(T),c)}}var mv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Df(this.gcTime)&&(this.#e=jr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jr.clearTimeout(this.#e),this.#e=void 0)}},Y1=class extends mv{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=yx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=yx(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const a=Rf(this.state.data,e,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ya(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ov(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},c=()=>{const m=uv(this.options,n),x=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,x,this):m(x)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=hv({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Of&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(m,g)=>{this.#r({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Of){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...pv(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),pn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function pv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yx(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var gv=class extends ki{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=zf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wx(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!Ac(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Sx(this.#t,a,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||Ya(this.options.staleTime,this.#t)!==Ya(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==a||ys(this.options.enabled,this.#t)!==ys(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return P1(this,a)&&(this.#a=a,this.#i=this.options,this.#s=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch($n)),n}#g(){this.#y();const e=Ya(this.options.staleTime,this.#t);if(kr||this.#a.isStale||!Df(e))return;const a=ov(this.#a.dataUpdatedAt,e)+1;this.#c=jr.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(kr||ys(this.options.enabled,this.#t)===!1||!Df(this.#o)||this.#o===0)&&(this.#u=jr.setInterval(()=>{(this.options.refetchIntervalInBackground||Jf.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(jr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(jr.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const a=this.#t,i=this.options,c=this.#a,u=this.#s,f=this.#i,g=e!==a?e.state:this.#n,{state:x}=e;let b={...x},y=!1,w;if(n._optimisticResults){const P=this.hasListeners(),se=!P&&wx(e,n),ie=P&&Sx(e,a,n,i);(se||ie)&&(b={...b,...pv(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:j,errorUpdatedAt:T,status:N}=b;w=b.data;let O=!1;if(n.placeholderData!==void 0&&w===void 0&&N==="pending"){let P;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(P=c.data,O=!0):P=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,P!==void 0&&(N="success",w=Rf(c?.data,P,n),y=!0)}if(n.select&&w!==void 0&&!O)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Rf(c?.data,w,n),this.#f=w,this.#r=null}catch(P){this.#r=P}this.#r&&(j=this.#r,w=this.#f,T=Date.now(),N="error");const B=b.fetchStatus==="fetching",C=N==="pending",A=N==="error",V=C&&B,Z=w!==void 0,Y={status:N,fetchStatus:b.fetchStatus,isPending:C,isSuccess:N==="success",isError:A,isInitialLoading:V,isLoading:V,data:w,dataUpdatedAt:b.dataUpdatedAt,error:j,errorUpdatedAt:T,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!C,isLoadingError:A&&!Z,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&Z,isStale:eh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:ys(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=le=>{Y.status==="error"?le.reject(Y.error):Y.data!==void 0&&le.resolve(Y.data)},se=()=>{const le=this.#l=Y.promise=zf();P(le)},ie=this.#l;switch(ie.status){case"pending":e.queryHash===a.queryHash&&P(ie);break;case"fulfilled":(Y.status==="error"||Y.data!==ie.value)&&se();break;case"rejected":(Y.status!=="error"||Y.error!==ie.reason)&&se();break}}return Y}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Ac(n,e))return;this.#a=n;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#j({listeners:a()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){pn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function K1(e,n){return ys(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function wx(e,n){return K1(e,n)||e.state.data!==void 0&&Lf(e,n,n.refetchOnMount)}function Lf(e,n,a){if(ys(n.enabled,e)!==!1&&Ya(n.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&eh(e,n)}return!1}function Sx(e,n,a,i){return(e!==n||ys(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&eh(e,a)}function eh(e,n){return ys(n.enabled,e)!==!1&&e.isStaleByTime(Ya(n.staleTime,e))}function P1(e,n){return!Ac(e.getCurrentResult(),n)}function Mc(e){return{onFetch:(n,a)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=uv(n.options,n.fetchOptions),j=async(T,N,O)=>{if(b)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const G={client:n.client,queryKey:n.queryKey,pageParam:N,direction:O?"backward":"forward",meta:n.options.meta};return y(G),G})(),A=await w(C),{maxPages:V}=n.options,Z=O?V1:H1;return{pages:Z(T.pages,A,V),pageParams:Z(T.pageParams,N,V)}};if(c&&u.length){const T=c==="backward",N=T?xv:Uf,O={pages:u,pageParams:f},B=N(i,O);m=await j(O,B,T)}else{const T=e??u.length;do{const N=g===0?f[0]??i.initialPageParam:Uf(i,m);if(g>0&&N==null)break;m=await j(m,N),g++}while(g<T)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a):n.fetchFn=x}}}function Uf(e,{pages:n,pageParams:a}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,a[i],a):void 0}function xv(e,{pages:n,pageParams:a}){return n.length>0?e.getPreviousPageParam?.(n[0],n,a[0],a):void 0}function X1(e,n){return n?Uf(e,n)!=null:!1}function J1(e,n){return!n||!e.getPreviousPageParam?!1:xv(e,n)!=null}var eS=class extends gv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Mc()})}getOptimisticResult(e){return e.behavior=Mc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:a}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,g=a.fetchMeta?.fetchMore?.direction,x=f&&g==="forward",b=c&&g==="forward",y=f&&g==="backward",w=c&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:X1(n,a.data),hasPreviousPage:J1(n,a.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!x&&!y,isRefetching:u&&!b&&!w}}},tS=class extends mv{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||vv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=hv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,a);const f=await this.options.onMutate?.(e,a);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,a),await this.options.onError?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,e,this.state.context,a),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function vv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nS=class extends ki{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,a){const i=new tS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:a});return this.add(i),i}add(e){this.#e.add(e);const n=gc(e);if(typeof n=="string"){const a=this.#t.get(n);a?a.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=gc(e);if(typeof n=="string"){const a=this.#t.get(n);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=gc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(a=>xx(n,a))}findAll(e={}){return this.getAll().filter(n=>xx(e,n))}notify(e){pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pn.batch(()=>Promise.all(e.map(n=>n.continue().catch($n))))}};function gc(e){return e.options.scope?.id}var sS=class extends ki{#e;#t=void 0;#n;#a;constructor(n,a){super(),this.#e=n,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=this.#e.defaultMutationOptions(n),Ac(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&Tr(a.mutationKey)!==Tr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??vv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){pn.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,a,i,c),this.#a.onSettled?.(n.data,null,a,i,c)):n?.type==="error"&&(this.#a.onError?.(n.error,a,i,c),this.#a.onSettled?.(void 0,n.error,a,i,c))}this.listeners.forEach(a=>{a(this.#t)})})}},aS=class extends ki{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,a){const i=n.queryKey,c=n.queryHash??Pf(i,n);let u=this.get(c);return u||(u=new Y1({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>gx(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>gx(e,a)):n}notify(e){pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rS=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new aS,this.#t=e.mutationCache||new nS,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Jf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=this.#e.build(this,n),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Ya(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=q1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...a,manual:!0})}setQueriesData(e,n,a){return pn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;pn.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=this.#e;return pn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},i=pn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(a)));return Promise.all(i).then($n).catch($n)}invalidateQueries(e,n={}){return pn.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},i=pn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,a);return a.throwOnError||(u=u.catch($n)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then($n)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=this.#e.build(this,n);return a.isStaleByTime(Ya(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($n).catch($n)}fetchInfiniteQuery(e){return e.behavior=Mc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($n).catch($n)}ensureInfiniteQueryData(e){return e.behavior=Mc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(Tr(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],a={};return n.forEach(i=>{Zl(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,n){this.#s.set(Tr(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],a={};return n.forEach(i=>{Zl(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Pf(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Xf&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bv=p.createContext(void 0),Ct=e=>{const n=p.useContext(bv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},iS=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(bv.Provider,{value:e,children:n})),yv=p.createContext(!1),lS=()=>p.useContext(yv);yv.Provider;function oS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cS=p.createContext(oS()),uS=()=>p.useContext(cS),dS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},fS=e=>{p.useEffect(()=>{e.clearReset()},[e])},hS=({result:e,errorResetBoundary:n,throwOnError:a,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||dv(a,[e.error,i])),mS=e=>{if(e.suspense){const a=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>a(i(...c)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},pS=(e,n)=>e.isLoading&&e.isFetching&&!n,gS=(e,n)=>e?.suspense&&n.isPending,jx=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function wv(e,n,a){const i=lS(),c=uS(),u=Ct(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",mS(f),dS(f,c),fS(c);const m=!u.getQueryCache().get(f.queryHash),[g]=p.useState(()=>new n(u,f)),x=g.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?g.subscribe(pn.batchCalls(y)):$n;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(f)},[f,g]),gS(f,x))throw jx(f,g,c);if(hS({result:x,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,x),f.experimental_prefetchInRender&&!kr&&pS(x,i)&&(m?jx(f,g,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch($n).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?x:g.trackResult(x)}function gn(e,n){return wv(e,gv)}function An(e,n){const a=Ct(),[i]=p.useState(()=>new sS(a,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(pn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch($n)},[i]);if(c.error&&dv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function Sv(e,n){return wv(e,eS)}const xS="modulepreload",vS=function(e){return"/"+e},Nx={},bS=function(n,a,i){let c=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=g(a.map(x=>{if(x=vS(x),x in Nx)return;Nx[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":xS,b||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,T)=>{w.addEventListener("load",j),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function yS({children:e}){const[n]=p.useState(()=>new rS({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(iS,{client:n,children:[e,null]})}const wS=["ade_csrf","backend_app_csrf"];function SS(){return wS}function jS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,a=e.split(";");for(const i of a){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function th(){const e=jS();if(!e)return null;for(const n of SS()){const a=e.get(n);if(a)return a}return null}const jv="/api/v1",NS=new Set(["GET","HEAD","OPTIONS"]);class ts extends Error{status;problem;constructor(n,a,i){super(n),this.name="ApiError",this.status=a,this.problem=i}}class ES{baseUrl;constructor(n=jv){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,a={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:g,...x}=a,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!NS.has(b)&&!w.has("X-CSRF-Token")){const N=th();N&&w.set("X-CSRF-Token",N)}const j=await fetch(y,{...x,method:b,headers:w,body:f,credentials:g??"include"});if(!j.ok){const N=await this.tryParseProblem(j),O=N?.title??`Request failed with status ${j.status}`;throw new ts(O,j.status,N)}if(c)return j;if(!i||j.status===204)return;const T=await j.text();return T?JSON.parse(T):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,a){if(a){if(a instanceof Headers){a.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(a)){a.forEach(([i,c])=>n.set(i,c));return}Object.entries(a).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const Nv=new ES(jv);function CS(e,n){return Nv.request(e,{...n,method:"GET"})}function Ev(e,n,a){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return Nv.request(e,{...a,method:"POST",body:i})}const _S=/\{[^{}]+\}/g,kS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function TS(){return Math.random().toString(36).slice(2,11)}function AS(e){let{baseUrl:n="",Request:a=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...g}={...e};m=kS()?m:void 0,n=_x(n);const x=[];async function b(y,w){const{baseUrl:j,fetch:T=i,Request:N=a,headers:O,params:B={},parseAs:C="json",querySerializer:A,bodySerializer:V=u??MS,body:Z,middleware:G=[],...Y}=w||{};let P=n;j&&(P=_x(j)??n);let se=typeof c=="function"?c:Ex(c);A&&(se=typeof A=="function"?A:Ex({...typeof c=="object"?c:{},...A}));const ie=Z===void 0?void 0:V(Z,Cx(f,O,B.header)),le=Cx(ie===void 0||ie instanceof FormData?{}:{"Content-Type":"application/json"},f,O,B.header),pe=[...x,...G],de={redirect:"follow",...g,...Y,body:ie,headers:le};let ge,Se,U=new N(RS(y,{baseUrl:P,params:B,querySerializer:se}),de),X;for(const we in Y)we in U||(U[we]=Y[we]);if(pe.length){ge=TS(),Se=Object.freeze({baseUrl:P,fetch:T,parseAs:C,querySerializer:se,bodySerializer:V});for(const we of pe)if(we&&typeof we=="object"&&typeof we.onRequest=="function"){const oe=await we.onRequest({request:U,schemaPath:y,params:B,options:Se,id:ge});if(oe)if(oe instanceof N)U=oe;else if(oe instanceof Response){X=oe;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!X){try{X=await T(U,m)}catch(we){let oe=we;if(pe.length)for(let E=pe.length-1;E>=0;E--){const H=pe[E];if(H&&typeof H=="object"&&typeof H.onError=="function"){const z=await H.onError({request:U,error:oe,schemaPath:y,params:B,options:Se,id:ge});if(z){if(z instanceof Response){oe=void 0,X=z;break}if(z instanceof Error){oe=z;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(oe)throw oe}if(pe.length)for(let we=pe.length-1;we>=0;we--){const oe=pe[we];if(oe&&typeof oe=="object"&&typeof oe.onResponse=="function"){const E=await oe.onResponse({request:U,response:X,schemaPath:y,params:B,options:Se,id:ge});if(E){if(!(E instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");X=E}}}}if(X.status===204||U.method==="HEAD"||X.headers.get("Content-Length")==="0")return X.ok?{data:void 0,response:X}:{error:void 0,response:X};if(X.ok)return C==="stream"?{data:X.body,response:X}:{data:await X[C](),response:X};let xe=await X.text();try{xe=JSON.parse(xe)}catch{}return{error:xe,response:X}}return{request(y,w,j){return b(w,{...j,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...y){for(const w of y){const j=x.indexOf(w);j!==-1&&x.splice(j,1)}}}}function Gc(e,n,a){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${a?.allowReserved===!0?n:encodeURIComponent(n)}`}function Cv(e,n,a){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const m in n)i.push(m,a.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(a.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=a.style==="deepObject"?`${e}[${f}]`:f;i.push(Gc(m,n[f],a))}const u=i.join(c);return a.style==="label"||a.style==="matrix"?`${c}${u}`:u}function _v(e,n,a){if(!Array.isArray(n))return"";if(a.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",f=(a.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(a.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[a.style]||"&",c=[];for(const u of n)a.style==="simple"||a.style==="label"?c.push(a.allowReserved===!0?u:encodeURIComponent(u)):c.push(Gc(e,u,a));return a.style==="label"||a.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function Ex(e){return function(a){const i=[];if(a&&typeof a=="object")for(const c in a){const u=a[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(_v(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(Cv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Gc(c,u,e))}}return i.join("&")}}function DS(e,n){let a=e;for(const i of e.match(_S)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){a=a.replace(i,_v(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){a=a.replace(i,Cv(c,m,{style:f,explode:u}));continue}if(f==="matrix"){a=a.replace(i,`;${Gc(c,m)}`);continue}a=a.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return a}function MS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function RS(e,n){let a=`${n.baseUrl}${e}`;n.params?.path&&(a=DS(a,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+=`?${i}`),a}function Cx(...e){const n=new Headers;for(const a of e){if(!a||typeof a!="object")continue;const i=a instanceof Headers?a.entries():Object.entries(a);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function _x(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const kv=new Set(["GET","HEAD","OPTIONS","TRACE"]),hf="",Rc=hf.endsWith("/api/v1")?hf.slice(0,-7):hf;function zS(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Rc.length>0?`${Rc}${e}`:e}async function OS(e,n={}){const a=zS(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!kv.has(c)){const f=th();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(a,{credentials:"include",...n,headers:i})}const Ge=AS({baseUrl:Rc.length>0?Rc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),LS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!kv.has(n)){const a=th();a&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",a)}return e}},US={async onResponse({response:e}){if(e.ok)return e;const n=await BS(e),a=n?.title??`Request failed with status ${e.status}`;throw new ts(a,e.status,n)}};Ge.use(LS);Ge.use(US);async function BS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Ls={root:["auth"],detail:()=>[...Ls.root,"session"],providers:()=>[...Ls.root,"providers"],setupStatus:()=>[...Ls.root,"setup-status"]};async function qS(e={}){try{const{data:n}=await Ge.GET("/api/v1/auth/session",{signal:e.signal});return VS(n)}catch(n){if(n instanceof ts&&(n.status===401||n.status===403))return null;throw n}}async function ZS(e={}){try{const{data:n}=await Ge.GET("/api/v1/auth/providers",{signal:e.signal});return IS(n)}catch(n){if(n instanceof ts&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function $S(e,n={}){const{data:a}=await Ge.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!a)throw new Error("Expected session payload.");return Ni(a)}async function HS(e={}){const{data:n}=await Ge.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return Ni(n)}function Ni(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}function VS(e){if(!e)return null;if(FS(e))return e.session?Ni(e.session):null;if(QS(e))return Ni(e);throw new Error("Unexpected session payload shape returned by the server.")}function FS(e){if(!e||typeof e!="object")return!1;const n=e;return"session"in n&&"providers"in n&&Array.isArray(n.providers)&&"force_sso"in n}function QS(e){return!e||typeof e!="object"?!1:!!e.user}function IS(e){return GS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function GS(e){return!Tv(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every(WS)}function WS(e){return!Tv(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function Tv(e){return typeof e=="object"&&e!==null}const Av=p.createContext(void 0);function xc(e){return e instanceof Error?e:new Error(String(e))}function kx({session:e,refetch:n,children:a}){return PS(e,n),l.jsx(Av.Provider,{value:{session:e,refetch:n},children:a})}function YS(){const e=p.useContext(Av);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Mr(){return YS().session}const KS=6e4;function PS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const a=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(a)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",xc(x))});return}const u=Math.min(a,i)-KS,f=Math.max(u-c,0);let m=!1;const g=window.setTimeout(async()=>{try{if(await HS(),m)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",xc(x))})}catch(x){if(m)return;console.warn("Failed to refresh session",xc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",xc(b))})}},f);return()=>{m=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function Dv(e={}){const n=Ct(),a=gn({queryKey:Ls.detail(),queryFn:({signal:c})=>qS({signal:c}),enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=a.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Ls.providers(),exact:!1})},[n,i]),{...a,session:i}}async function XS(e={}){try{const{data:n}=await Ge.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof ts&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function JS(e){const{data:n}=await Ge.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return Ni(n)}function nh(e=!0){return gn({queryKey:Ls.setupStatus(),queryFn:({signal:n})=>XS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const Yl="/workspaces",ej=new Set(["/","/login","/setup","/logout"]);function tj(e){if(!e)return!0;const n=sj(e);return!!(ej.has(n)||n==="/auth"||n.startsWith("/auth/"))}function nj(e){return`${e.pathname}${e.search}${e.hash}`}function Tx(e){const n=nj(e)||"/";return zc(n)??Yl}function zc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?Yl:tj(n)?null:n}function $l(e){return zc(e)??Yl}function Mv(e){return zv("/login",e)}function Rv(e){return zv("/setup",e)}function zv(e,n){const a=$l(n),i=new URLSearchParams;a!==Yl&&i.set("redirectTo",a);const c=i.toString();return c?`${e}?${c}`:e}function Oc(e,n){const a=zc(e);if(a)return a;const i=zc(n);return i||Yl}function sj(e){let n=e;const a=n.indexOf("#");a>=0&&(n=n.slice(0,a));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Wc({children:e}){const n=Ss(),a=Tn(),i=Dv(),{session:c,isLoading:u,isError:f,refetch:m}=i,g=!c&&!u&&!f,{data:x,isPending:b,isError:y,isSuccess:w,refetch:j}=nh(g);return p.useEffect(()=>{if(c||u||f)return;if(g){if(b||y)return;if(w&&x?.requires_setup){const N=Tx(n);a(Rv(N),{replace:!0});return}}const T=Tx(n);a(Mv(T),{replace:!0})},[f,u,y,b,w,n,a,c,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):f?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx(kx,{session:c,refetch:m,children:e}):l.jsx(kx,{session:c,refetch:m,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>j(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const aj=100,rj=100,ij=100,lj=200;async function oj(e={}){const{page:n,pageSize:a,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof a=="number"&&a>0&&(u.page_size=a),i&&(u.include_total=!0);const{data:f}=await Ge.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((g,x)=>g.name.localeCompare(x.name));return{...f,items:m}}async function cj(e){const{data:n}=await Ge.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function uj(e,n){const{data:a}=await Ge.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace payload.");return a}async function dj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function fj(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace member payload.");return a}async function hj(e,n,a){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:a});if(!i)throw new Error("Expected workspace member payload.");return i}async function mj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function pj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function gj(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected role payload.");return a}async function xj(e,n,a){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:a});if(!i)throw new Error("Expected role payload.");return i}async function vj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function bj(e={}){const{scope:n="global",workspaceId:a,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};a&&(m.workspace_id=a),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:g}=await Ge.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!g)throw new Error("Expected permission page payload.");return g}const Cr={page:1,pageSize:aj,includeTotal:!1},yj={page:1,pageSize:rj,includeTotal:!1},wj={page:1,pageSize:ij,includeTotal:!1},Sj={scope:"global",page:1,pageSize:lj,includeTotal:!1},on={all:()=>["workspaces"],list:(e=Cr)=>[...on.all(),"list",{...e}],detail:e=>[...on.all(),"detail",e],members:(e,n=yj)=>[...on.detail(e),"members",{...n}],roles:(e,n=wj)=>[...on.detail(e),"roles",{...n}],permissions:(e=Sj)=>["permissions",{...e}]};function jj(e={}){const n=e.page??Cr.page,a=e.pageSize??Cr.pageSize,i=e.includeTotal??Cr.includeTotal;return{queryKey:on.list({page:n,pageSize:a,includeTotal:i}),queryFn:({signal:c})=>oj({page:n,pageSize:a,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function Yc(e={}){return gn(jj(e))}const Ov={page:Cr.page,pageSize:Cr.pageSize,includeTotal:Cr.includeTotal};function mf(e){return e instanceof Error?e:new Error(String(e))}function Pa(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",mf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.warn("Failed to write to storage",mf(a))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",mf(n))}}}}const Nj="backend.app.active_workspace",Bf=Pa(Nj);function Ej(){return Bf.get()}function Cj(e){if(!e){Bf.clear();return}Bf.set(e.id)}function Lv(e){var n,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(a=Lv(e[n]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function ve(){for(var e,n,a=0,i="",c=arguments.length;a<c;a++)(e=arguments[a])&&(n=Lv(e))&&(i&&(i+=" "),i+=n);return i}const Uv=p.createContext(void 0);function _j({workspace:e,workspaces:n,children:a}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return l.jsx(Uv.Provider,{value:i,children:a})}function Ja(){const e=p.useContext(Uv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var ma=lv();const kj=[{id:"explorer",label:"Explorer",icon:l.jsx(Aj,{})},{id:"search",label:"Search",icon:l.jsx(Dj,{})},{id:"scm",label:"Source Control",icon:l.jsx(Mj,{})},{id:"extensions",label:"Extensions",icon:l.jsx(Rj,{})}];function Tj({activeView:e,onSelectView:n,onOpenSettings:a,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:ve("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:kj.map(u=>{const f=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:ve("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:ve(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?l.jsx("span",{className:ve("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:a,className:ve("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(zj,{})})})]})}function Aj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function Dj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Mj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Rj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function zj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const sh=p.createContext(null);function ah({value:e,onValueChange:n,children:a}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),g=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),x=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:g,getValues:x}),[e,n,i,f,m,g,x]);return l.jsx(sh.Provider,{value:b,children:a})}function rh({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Ml({value:e,children:n,className:a,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(sh);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:y}=m,w=m.value===e,j=`${m.baseId}-tab-${e}`,T=`${m.baseId}-panel-${e}`,N=p.useCallback(B=>{g(e,B)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const O=B=>{if(c?.(B),B.defaultPrevented)return;const C=y(),A=C.indexOf(e);if(A===-1||C.length===0)return;let V=A;B.key==="ArrowRight"?(B.preventDefault(),V=(A+1)%C.length):B.key==="ArrowLeft"?(B.preventDefault(),V=(A-1+C.length)%C.length):B.key==="Home"?(B.preventDefault(),V=0):B.key==="End"&&(B.preventDefault(),V=C.length-1);const Z=C[V];Z&&Z!==m.value&&m.setValue(Z),b(Z)};return l.jsx("button",{...f,ref:N,type:"button",role:"tab",id:j,"aria-selected":w,"aria-controls":T,tabIndex:w?0:-1,className:a,disabled:u,onKeyDown:O,onClick:B=>{i?.(B),!B.defaultPrevented&&!u&&m.setValue(e)},children:n})}function _r({value:e,children:n,className:a,...i}){const c=p.useContext(sh);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:a,hidden:!u,tabIndex:0,children:n})}function Bv({summary:e}){const n=e.core.validation_issue_count_total;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(vc,{label:"Tables",value:e.core.table_count}),l.jsx(vc,{label:"Rows",value:e.core.row_count??""}),l.jsx(vc,{label:"Mapped fields",value:e.core.mapped_field_count}),l.jsx(vc,{label:"Issues",value:n,intent:n>0?"warn":"ok"})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Files"}),e.breakdowns.by_file.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No files recorded."}):l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:e.breakdowns.by_file.map(a=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:a.source_file}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[a.table_count," tables  ",a.row_count??"?"," rows  ",a.validation_issue_count_total," issues"]})]},a.source_file))})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),e.breakdowns.by_field.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[e.breakdowns.by_field.slice(0,6).map(a=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[a.label||a.field," ",a.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[a.mapped?"mapped":"unmapped","  ",a.validation_issue_count_total," issues"]})]},a.field)),e.breakdowns.by_field.length>6?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",e.breakdowns.by_field.length-6," more fields"]}):null]})]})]})]})}function qv({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=c.stream==="stderr"?"warning":void 0,f=c.level??u??"info";return i[f]=(i[f]??0)+1,i},{}),a=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:a.map(i=>l.jsxs("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.type}),l.jsx("span",{className:"text-[11px] text-slate-500",children:Oj(i.created_at)})]}),l.jsxs("p",{className:"text-[11px] text-slate-600",children:["Level: ",Lj(i)]})]},`${i.created_at}-${i.type}`))})]})}function Oj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Lj(e){const n=e.stream==="stderr"?"warning":void 0;return e.level??n??"info"}function vc({label:e,value:n,intent:a="default"}){const i=a==="warn"?"text-amber-700":a==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}function Uj({height:e,consoleLines:n,validation:a,activePane:i,onPaneChange:c,latestRun:u,onShowRunDetails:f,onClearConsole:m}){const[g,x]=p.useState("all"),[b,y]=p.useState("all"),[w,j]=p.useState(!0),T=p.useMemo(()=>{const A=Ox(b);return n.filter(V=>{const Z=g==="all"||(V.origin??"run")===g,G=Ox(V.level),Y=b==="all"||G>=A;return Z&&Y})},[n,g,b]),N=T.length>0,O=n.length>0,B=a.messages.length>0,C=!!u;return l.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:l.jsxs(ah,{value:i,onValueChange:A=>c(A),children:[l.jsxs("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-1.5",children:[l.jsxs(rh,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Ml,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Ml,{value:"runSummary",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Run",C?l.jsx("span",{className:"ml-1 text-[10px] lowercase text-slate-500",children:u?.status}):null]}),l.jsxs(Ml,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",B?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:a.messages.length}):null]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Origin",l.jsxs("select",{value:g,onChange:A=>x(A.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"}),l.jsx("option",{value:"raw",children:"Raw"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Level",l.jsxs("select",{value:b,onChange:A=>y(A.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>j(A=>!A),className:ve("rounded px-2 py-1 font-semibold uppercase tracking-wide transition",w?"border border-emerald-500 bg-emerald-50 text-emerald-700":"border border-slate-300 bg-white text-slate-600 hover:border-slate-400"),children:w?"Follow":"Scroll"}),l.jsx("button",{type:"button",onClick:()=>m?.(),className:"rounded border border-slate-300 bg-white px-2 py-1 font-semibold uppercase tracking-wide text-slate-600 transition hover:border-slate-400",children:"Clear"})]})]}),l.jsx(_r,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(Bj,{consoleLines:T,hasConsoleLines:N,hasAnyConsoleLines:O,latestRun:u,onShowRunDetails:f,followLogs:w})}),l.jsx(_r,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(qj,{validation:a})}),l.jsx(_r,{value:"runSummary",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(Zj,{latestRun:u})})]})})}function Bj({consoleLines:e,hasConsoleLines:n,hasAnyConsoleLines:a,latestRun:i,onShowRunDetails:c,followLogs:u}){const f=p.useRef(null);return p.useEffect(()=>{u&&f.current?.scrollIntoView({behavior:"smooth"})},[e,u]),l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[l.jsxs("div",{className:"flex flex-col border-b border-white/5 bg-slate-950/80",children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-1.5 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[l.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),l.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"})]}),i?l.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-white/5 px-4 py-1.5 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(Zv,{status:i.status}),l.jsxs("span",{className:"truncate",title:i.runId,children:["Run ",i.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[i.documentName??"Document not recorded",zx(i.sheetNames)?`  ${zx(i.sheetNames)}`:""]}),i.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",Hv(i.durationMs)]}):null]}),l.jsx("button",{type:"button",className:"text-[11px] font-semibold text-emerald-300 transition hover:text-emerald-200",onClick:()=>c?.(),children:"View details "})]}):null]}),l.jsx("div",{className:"flex-1 overflow-auto",children:n?l.jsxs("ul",{className:"divide-y divide-white/5",children:[e.map((m,g)=>l.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-1.5",children:[l.jsx("span",{className:"whitespace-nowrap text-[11px] tabular-nums text-slate-500",children:Pj(m.timestamp)}),l.jsx("span",{className:ve("text-[10px] uppercase tracking-[0.3em]",Gj(m.level)),children:Wj(m.level)}),l.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[l.jsx("span",{className:ve("text-sm",Qj(m.level)),children:"$"}),l.jsx("span",{className:ve("flex-1 whitespace-pre-wrap break-words",Ij(m.level)),children:m.message})]})]},`${m.timestamp??g}-${m.message}`)),l.jsx("div",{ref:f})]}):a?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"No console output matches these filters."}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Adjust origin or level filters to see more."})]}):l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Run validation or a test to stream logs into this terminal."})]})})]})}function qj({validation:e}){const n=Kj(e),a=Xj(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",$v(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,c)=>l.jsxs("li",{className:Yj(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??c}-${c}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:a})]})}function Zj({latestRun:e}){return e?l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 overflow-auto",children:[l.jsx($j,{summary:e}),l.jsx(Hj,{summary:e}),l.jsx(Vj,{summary:e}),l.jsx(Fj,{summary:e})]}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-xs text-slate-500",children:"No run yet. Run a test or validation to see details here."})}function $j({summary:e}){const n=e.durationMs!=null?Hv(e.durationMs):null,a=e.sheetNames&&e.sheetNames.length>0?e.sheetNames.join(", "):e.sheetNames?"All worksheets":null;return l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.18em] text-slate-500",children:[l.jsx(Zv,{status:e.status}),l.jsx("span",{className:"font-semibold text-slate-700",children:"Run"}),l.jsxs("span",{className:"text-slate-400",title:e.runId,children:["#",e.runId]})]}),l.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[Jj(e.status),n?l.jsxs("span",{className:"font-normal text-slate-500",children:["  ",n]}):null]}),l.jsxs("div",{className:"text-xs text-slate-500",children:[e.documentName??"Document not recorded",a?`  ${a}`:null]}),e.completedAt?l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Completed ",$v(e.completedAt)]}):null]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l.jsx("a",{href:`${e.downloadBase}/logfile`,className:"inline-flex items-center gap-2 rounded-md border border-slate-200 bg-slate-50 px-3 py-1.5 text-[12px] font-semibold text-slate-700 shadow-sm hover:border-slate-300 hover:bg-white",children:"Download telemetry"})})]})}function Hj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Output files"}),e.outputsLoaded?null:l.jsx("span",{className:"text-[12px] text-slate-400",children:"Loading"})]}),e.error?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.error}):e.outputsLoaded?e.outputs.length>0?l.jsx("ul",{className:"mt-2 space-y-1 text-sm text-slate-800",children:e.outputs.map(n=>{const a=n.path?.split("/").map(encodeURIComponent).join("/")??n.name.split("/").map(encodeURIComponent).join("/"),i=n.download_url?n.download_url:`${e.downloadBase}/outputs/${a}`;return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:i,className:"text-brand-600 hover:underline",children:n.name||n.path}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[n.byte_size.toLocaleString()," bytes"]})]},n.path??n.name)})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No output files were generated."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading outputs"})]})}function Vj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Run summary"}),e.summaryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.summaryError}):e.summaryLoaded?e.summary?l.jsx("div",{className:"mt-2",children:l.jsx(Bv,{summary:e.summary})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Summary not available."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading summary"})]})}function Fj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Telemetry summary"}),e.telemetryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?l.jsx("div",{className:"mt-2",children:l.jsx(qv,{events:[...e.telemetry]})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No telemetry events captured."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading telemetry"})]})}function Zv({status:e}){const n=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"||e==="active"?"bg-amber-400":e==="canceled"?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ve("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}const Ax={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},Dx={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},Mx={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},Rx={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function Qj(e){return Ax[e]??Ax.info}function Ij(e){return Dx[e]??Dx.info}function Gj(e){return Mx[e]??Mx.info}function Wj(e){return Rx[e]??Rx.info}function Yj(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function Kj(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function $v(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Pj(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),a=Date.parse(n);return!Number.isNaN(a)&&n.includes("T")?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function Xj(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function Hv(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return`${n}m ${a}s`}function Jj(e){switch(e){case"succeeded":return"Succeeded";case"failed":return"Failed";case"canceled":return"Canceled";case"queued":return"Queued";case"active":case"running":return"Running";default:return e}}function zx(e){return e?e.length===0?"All worksheets":e.join(", "):null}function Ox(e){return e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function eN(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Kc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ti(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function ih(e){return"nodeType"in e}function ns(e){var n,a;return e?Ti(e)?e:ih(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function lh(e){const{Document:n}=ns(e);return e instanceof n}function Kl(e){return Ti(e)?!1:e instanceof ns(e).HTMLElement}function Vv(e){return e instanceof ns(e).SVGElement}function Ai(e){return e?Ti(e)?e.document:ih(e)?lh(e)?e:Kl(e)||Vv(e)?e.ownerDocument:document:document:document}const Ws=Kc?p.useLayoutEffect:p.useEffect;function oh(e){const n=p.useRef(e);return Ws(()=>{n.current=e}),p.useCallback(function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function tN(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Hl(e,n){n===void 0&&(n=[e]);const a=p.useRef(e);return Ws(()=>{a.current!==e&&(a.current=e)},n),a}function Pl(e,n){const a=p.useRef();return p.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function Lc(e){const n=oh(e),a=p.useRef(null),i=p.useCallback(c=>{c!==a.current&&n?.(c,a.current),a.current=c},[]);return[a,i]}function qf(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let pf={};function Xl(e,n){return p.useMemo(()=>{if(n)return n;const a=pf[e]==null?0:pf[e]+1;return pf[e]=a,e+"-"+a},[e,n])}function Fv(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[g,x]of m){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const Si=Fv(1),Uc=Fv(-1);function nN(e){return"clientX"in e&&"clientY"in e}function ch(e){if(!e)return!1;const{KeyboardEvent:n}=ns(e.target);return n&&e instanceof n}function sN(e){if(!e)return!1;const{TouchEvent:n}=ns(e.target);return n&&e instanceof n}function Zf(e){if(sN(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return nN(e)?{x:e.clientX,y:e.clientY}:null}const Vl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Vl.Translate.toString(e),Vl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Lx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aN(e){return e.matches(Lx)?e:e.querySelector(Lx)}const rN={display:"none"};function iN(e){let{id:n,value:a}=e;return mt.createElement("div",{id:n,style:rN},a)}function lN(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},a)}function oN(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Qv=p.createContext(null);function cN(e){const n=p.useContext(Qv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function uN(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const dN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fN={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function hN(e){let{announcements:n=fN,container:a,hiddenTextDescribedById:i,screenReaderInstructions:c=dN}=e;const{announce:u,announcement:f}=oN(),m=Xl("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),cN(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:j}=y;n.onDragMove&&u(n.onDragMove({active:w,over:j}))},onDragOver(y){let{active:w,over:j}=y;u(n.onDragOver({active:w,over:j}))},onDragEnd(y){let{active:w,over:j}=y;u(n.onDragEnd({active:w,over:j}))},onDragCancel(y){let{active:w,over:j}=y;u(n.onDragCancel({active:w,over:j}))}}),[u,n])),!g)return null;const b=mt.createElement(mt.Fragment,null,mt.createElement(iN,{id:i,value:c.draggable}),mt.createElement(lN,{id:m,announcement:f}));return a?ma.createPortal(b,a):b}var mn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mn||(mn={}));function Bc(){}function mN(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function pN(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const Us=Object.freeze({x:0,y:0});function gN(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function xN(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return a-i}function vN(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function bN(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function Ux(e,n,a){return n===void 0&&(n=e.left),a===void 0&&(a=e.top),{x:n+e.width*.5,y:a+e.height*.5}}const yN=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=Ux(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,g=a.get(m);if(g){const x=gN(Ux(g),c);u.push({id:m,data:{droppableContainer:f,value:x}})}}return u.sort(xN)};function wN(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-a;if(i<c&&a<u){const g=n.width*n.height,x=e.width*e.height,b=f*m,y=b/(g+x-b);return Number(y.toFixed(4))}return 0}const SN=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=a.get(f);if(m){const g=wN(m,n);g>0&&c.push({id:f,data:{droppableContainer:u,value:g}})}}return c.sort(vN)};function jN(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function Iv(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Us}function NN(e){return function(a){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...a})}}const EN=NN(1);function CN(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function _N(e,n,a){const i=CN(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,g=e.left-f-(1-c)*parseFloat(a),x=e.top-m-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:x,right:g+b,bottom:x+y,left:g}}const kN={ignoreTransform:!1};function Di(e,n){n===void 0&&(n=kN);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=ns(e).getComputedStyle(e);x&&(a=_N(a,x,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:g}=a;return{top:i,left:c,width:u,height:f,bottom:m,right:g}}function Bx(e){return Di(e,{ignoreTransform:!0})}function TN(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function AN(e,n){return n===void 0&&(n=ns(e).getComputedStyle(e)),n.position==="fixed"}function DN(e,n){n===void 0&&(n=ns(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?a.test(u):!1})}function uh(e,n){const a=[];function i(c){if(n!=null&&a.length>=n||!c)return a;if(lh(c)&&c.scrollingElement!=null&&!a.includes(c.scrollingElement))return a.push(c.scrollingElement),a;if(!Kl(c)||Vv(c)||a.includes(c))return a;const u=ns(e).getComputedStyle(c);return c!==e&&DN(c,u)&&a.push(c),AN(c,u)?a:i(c.parentNode)}return e?i(e):a}function Gv(e){const[n]=uh(e,1);return n??null}function gf(e){return!Kc||!e?null:Ti(e)?e:ih(e)?lh(e)||e===Ai(e).scrollingElement?window:Kl(e)?e:null:null}function Wv(e){return Ti(e)?e.scrollX:e.scrollLeft}function Yv(e){return Ti(e)?e.scrollY:e.scrollTop}function $f(e){return{x:Wv(e),y:Yv(e)}}var yn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(yn||(yn={}));function Kv(e){return!Kc||!e?!1:e===document.scrollingElement}function Pv(e){const n={x:0,y:0},a=Kv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const MN={x:.2,y:.2};function RN(e,n,a,i,c){let{top:u,left:f,right:m,bottom:g}=a;i===void 0&&(i=10),c===void 0&&(c=MN);const{isTop:x,isBottom:b,isLeft:y,isRight:w}=Pv(e),j={x:0,y:0},T={x:0,y:0},N={height:n.height*c.y,width:n.width*c.x};return!x&&u<=n.top+N.height?(j.y=yn.Backward,T.y=i*Math.abs((n.top+N.height-u)/N.height)):!b&&g>=n.bottom-N.height&&(j.y=yn.Forward,T.y=i*Math.abs((n.bottom-N.height-g)/N.height)),!w&&m>=n.right-N.width?(j.x=yn.Forward,T.x=i*Math.abs((n.right-N.width-m)/N.width)):!y&&f<=n.left+N.width&&(j.x=yn.Backward,T.x=i*Math.abs((n.left+N.width-f)/N.width)),{direction:j,speed:T}}function zN(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:a,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function Xv(e){return e.reduce((n,a)=>Si(n,$f(a)),Us)}function ON(e){return e.reduce((n,a)=>n+Wv(a),0)}function LN(e){return e.reduce((n,a)=>n+Yv(a),0)}function UN(e,n){if(n===void 0&&(n=Di),!e)return;const{top:a,left:i,bottom:c,right:u}=n(e);Gv(e)&&(c<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const BN=[["x",["left","right"],ON],["y",["top","bottom"],LN]];class dh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=uh(a),c=Xv(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of BN)for(const g of f)Object.defineProperty(this,g,{get:()=>{const x=m(i),b=c[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var c;(c=this.target)==null||c.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function qN(e){const{EventTarget:n}=ns(e);return e instanceof n?e:Ai(e)}function xf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var ws;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ws||(ws={}));function qx(e){e.preventDefault()}function ZN(e){e.stopPropagation()}var lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(lt||(lt={}));const Jv={start:[lt.Space,lt.Enter],cancel:[lt.Esc],end:[lt.Space,lt.Enter,lt.Tab]},$N=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case lt.Right:return{...a,x:a.x+25};case lt.Left:return{...a,x:a.x-25};case lt.Down:return{...a,y:a.y+25};case lt.Up:return{...a,y:a.y-25}}};class eb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new Rl(Ai(a)),this.windowListeners=new Rl(ns(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&UN(i),a(Us)}handleKeyDown(n){if(ch(n)){const{active:a,context:i,options:c}=this.props,{keyboardCodes:u=Jv,coordinateGetter:f=$N,scrollBehavior:m="smooth"}=c,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:Us;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:a,context:i.current,currentCoordinates:b});if(y){const w=Uc(y,b),j={x:0,y:0},{scrollableAncestors:T}=i.current;for(const N of T){const O=n.code,{isTop:B,isRight:C,isLeft:A,isBottom:V,maxScroll:Z,minScroll:G}=Pv(N),Y=zN(N),P={x:Math.min(O===lt.Right?Y.right-Y.width/2:Y.right,Math.max(O===lt.Right?Y.left:Y.left+Y.width/2,y.x)),y:Math.min(O===lt.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(O===lt.Down?Y.top:Y.top+Y.height/2,y.y))},se=O===lt.Right&&!C||O===lt.Left&&!A,ie=O===lt.Down&&!V||O===lt.Up&&!B;if(se&&P.x!==y.x){const le=N.scrollLeft+w.x,pe=O===lt.Right&&le<=Z.x||O===lt.Left&&le>=G.x;if(pe&&!w.y){N.scrollTo({left:le,behavior:m});return}pe?j.x=N.scrollLeft-le:j.x=O===lt.Right?N.scrollLeft-Z.x:N.scrollLeft-G.x,j.x&&N.scrollBy({left:-j.x,behavior:m});break}else if(ie&&P.y!==y.y){const le=N.scrollTop+w.y,pe=O===lt.Down&&le<=Z.y||O===lt.Up&&le>=G.y;if(pe&&!w.x){N.scrollTo({top:le,behavior:m});return}pe?j.y=N.scrollTop-le:j.y=O===lt.Down?N.scrollTop-Z.y:N.scrollTop-G.y,j.y&&N.scrollBy({top:-j.y,behavior:m});break}}this.handleMove(n,Si(Uc(y,this.referenceCoordinates),j))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}eb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=Jv,onActivation:c}=n,{active:u}=a;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function Zx(e){return!!(e&&"distance"in e)}function $x(e){return!!(e&&"delay"in e)}class fh{constructor(n,a,i){var c;i===void 0&&(i=qN(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:f}=u;this.props=n,this.events=a,this.document=Ai(f),this.documentListeners=new Rl(this.document),this.listeners=new Rl(i),this.windowListeners=new Rl(ns(f)),this.initialCoordinates=(c=Zf(u))!=null?c:Us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(ws.Resize,this.handleCancel),this.windowListeners.add(ws.DragStart,qx),this.windowListeners.add(ws.VisibilityChange,this.handleCancel),this.windowListeners.add(ws.ContextMenu,qx),this.documentListeners.add(ws.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($x(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Zx(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(ws.Click,ZN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ws.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const g=(a=Zf(n))!=null?a:Us,x=Uc(c,g);if(!i&&m){if(Zx(m)){if(m.tolerance!=null&&xf(x,m.tolerance))return this.handleCancel();if(xf(x,m.distance))return this.handleStart()}if($x(m)&&xf(x,m.tolerance))return this.handleCancel();this.handlePending(m,x);return}n.cancelable&&n.preventDefault(),f(g)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===lt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const HN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hh extends fh{constructor(n){const{event:a}=n,i=Ai(a.target);super(n,HN,i)}}hh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const VN={move:{name:"mousemove"},end:{name:"mouseup"}};var Hf;(function(e){e[e.RightClick=2]="RightClick"})(Hf||(Hf={}));class FN extends fh{constructor(n){super(n,VN,Ai(n.event.target))}}FN.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Hf.RightClick?!1:(i?.({event:a}),!0)}}];const vf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QN extends fh{constructor(n){super(n,vf)}static setup(){return window.addEventListener(vf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(vf.move.name,n)};function n(){}}}QN.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:c}=a;return c.length>1?!1:(i?.({event:a}),!0)}}];var zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zl||(zl={}));var qc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(qc||(qc={}));function IN(e){let{acceleration:n,activator:a=zl.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=qc.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:y,threshold:w}=e;const j=WN({delta:y,disabled:!u}),[T,N]=tN(),O=p.useRef({x:0,y:0}),B=p.useRef({x:0,y:0}),C=p.useMemo(()=>{switch(a){case zl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case zl.DraggableRect:return c}},[a,c,g]),A=p.useRef(null),V=p.useCallback(()=>{const G=A.current;if(!G)return;const Y=O.current.x*B.current.x,P=O.current.y*B.current.y;G.scrollBy(Y,P)},[]),Z=p.useMemo(()=>m===qc.TreeOrder?[...x].reverse():x,[m,x]);p.useEffect(()=>{if(!u||!x.length||!C){N();return}for(const G of Z){if(i?.(G)===!1)continue;const Y=x.indexOf(G),P=b[Y];if(!P)continue;const{direction:se,speed:ie}=RN(G,P,C,n,w);for(const le of["x","y"])j[le][se[le]]||(ie[le]=0,se[le]=0);if(ie.x>0||ie.y>0){N(),A.current=G,T(V,f),O.current=ie,B.current=se;return}}O.current={x:0,y:0},B.current={x:0,y:0},N()},[n,V,i,N,u,f,JSON.stringify(C),JSON.stringify(j),T,x,Z,b,JSON.stringify(w)])}const GN={x:{[yn.Backward]:!1,[yn.Forward]:!1},y:{[yn.Backward]:!1,[yn.Forward]:!1}};function WN(e){let{delta:n,disabled:a}=e;const i=qf(n);return Pl(c=>{if(a||!i||!c)return GN;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[yn.Backward]:c.x[yn.Backward]||u.x===-1,[yn.Forward]:c.x[yn.Forward]||u.x===1},y:{[yn.Backward]:c.y[yn.Backward]||u.y===-1,[yn.Forward]:c.y[yn.Forward]||u.y===1}}},[a,n,i])}function YN(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Pl(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function KN(e,n){return p.useMemo(()=>e.reduce((a,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...a,...u]},[]),[e,n])}var Fl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fl||(Fl={}));var Vf;(function(e){e.Optimized="optimized"})(Vf||(Vf={}));const Hx=new Map;function PN(e,n){let{dragging:a,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:g,strategy:x}=c,b=p.useRef(e),y=O(),w=Hl(y),j=p.useCallback(function(B){B===void 0&&(B=[]),!w.current&&f(C=>C===null?B:C.concat(B.filter(A=>!C.includes(A))))},[w]),T=p.useRef(null),N=Pl(B=>{if(y&&!a)return Hx;if(!B||B===Hx||b.current!==e||u!=null){const C=new Map;for(let A of e){if(!A)continue;if(u&&u.length>0&&!u.includes(A.id)&&A.rect.current){C.set(A.id,A.rect.current);continue}const V=A.node.current,Z=V?new dh(g(V),V):null;A.rect.current=Z,Z&&C.set(A.id,Z)}return C}return B},[e,u,a,y,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||j()},[a,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||T.current!==null||(T.current=setTimeout(()=>{j(),T.current=null},m))},[m,y,j,...i]),{droppableRects:N,measureDroppableContainers:j,measuringScheduled:u!=null};function O(){switch(x){case Fl.Always:return!1;case Fl.BeforeDragging:return a;default:return!a}}}function tb(e,n){return Pl(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function XN(e,n){return tb(e,n)}function JN(e){let{callback:n,disabled:a}=e;const i=oh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function Pc(e){let{callback:n,disabled:a}=e;const i=oh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function eE(e){return new dh(Di(e),e)}function Vx(e,n,a){n===void 0&&(n=eE);const[i,c]=p.useState(null);function u(){c(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??a)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const f=JN({callback(g){if(e)for(const x of g){const{type:b,target:y}=x;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=Pc({callback:u});return Ws(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function tE(e){const n=tb(e);return Iv(e,n)}const Fx=[];function nE(e){const n=p.useRef(e),a=Pl(i=>e?i&&i!==Fx&&e&&n.current&&e.parentNode===n.current.parentNode?i:uh(e):Fx,[e]);return p.useEffect(()=>{n.current=e},[e]),a}function sE(e){const[n,a]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=gf(u.target);f&&a(m=>m?(m.set(f,$f(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(g=>{const x=gf(g);return x?(x.addEventListener("scroll",c,{passive:!0}),[x,$f(x)]):null}).filter(g=>g!=null);a(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(g=>{const x=gf(g);x?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>Si(u,f),Us):Xv(e):Us,[e,n])}function Qx(e,n){n===void 0&&(n=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},n),p.useEffect(()=>{const i=e!==Us;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Uc(e,a.current):Us}function aE(e){p.useEffect(()=>{if(!Kc)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function rE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{let{eventName:c,handler:u}=i;return a[c]=f=>{u(f,n)},a},{}),[e,n])}function nb(e){return p.useMemo(()=>e?TN(e):null,[e])}const Ix=[];function iE(e,n){n===void 0&&(n=Di);const[a]=e,i=nb(a?ns(a):null),[c,u]=p.useState(Ix);function f(){u(()=>e.length?e.map(g=>Kv(g)?i:new dh(n(g),g)):Ix)}const m=Pc({callback:f});return Ws(()=>{m?.disconnect(),f(),e.forEach(g=>m?.observe(g))},[e]),c}function lE(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Kl(n)?n:e}function oE(e){let{measure:n}=e;const[a,i]=p.useState(null),c=p.useCallback(x=>{for(const{target:b}of x)if(Kl(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Pc({callback:c}),f=p.useCallback(x=>{const b=lE(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,g]=Lc(f);return p.useMemo(()=>({nodeRef:m,rect:a,setRef:g}),[a,m,g])}const cE=[{sensor:hh,options:{}},{sensor:eb,options:{}}],uE={current:{}},kc={draggable:{measure:Bx},droppable:{measure:Bx,strategy:Fl.WhileDragging,frequency:Vf.Optimized},dragOverlay:{measure:Di}};class Ol extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const dE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ol,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kc,measureDroppableContainers:Bc,windowRect:null,measuringScheduled:!1},fE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bc,draggableNodes:new Map,over:null,measureDroppableContainers:Bc},Xc=p.createContext(fE),sb=p.createContext(dE);function hE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ol}}}function mE(e,n){switch(n.type){case mn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case mn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case mn.DragEnd:case mn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mn.RegisterDroppable:{const{element:a}=n,{id:i}=a,c=new Ol(e.droppable.containers);return c.set(i,a),{...e,droppable:{...e.droppable,containers:c}}}case mn.SetDroppableDisabled:{const{id:a,key:i,disabled:c}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const f=new Ol(e.droppable.containers);return f.set(a,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case mn.UnregisterDroppable:{const{id:a,key:i}=n,c=e.droppable.containers.get(a);if(!c||i!==c.key)return e;const u=new Ol(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function pE(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:c}=p.useContext(Xc),u=qf(i),f=qf(a?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!ch(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:g,node:x}=m;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const y=aN(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function gE(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),a):a}function xE(e){return p.useMemo(()=>({draggable:{...kc.draggable,...e?.draggable},droppable:{...kc.droppable,...e?.droppable},dragOverlay:{...kc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function vE(e){let{activeNode:n,measure:a,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Ws(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=a(x),y=Iv(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Gv(x);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,a])}const ab=p.createContext({...Us,scaleX:1,scaleY:1});var Ga;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ga||(Ga={}));const bE=p.memo(function(n){var a,i,c,u;let{id:f,accessibility:m,autoScroll:g=!0,children:x,sensors:b=cE,collisionDetection:y=SN,measuring:w,modifiers:j,...T}=n;const N=p.useReducer(mE,void 0,hE),[O,B]=N,[C,A]=uN(),[V,Z]=p.useState(Ga.Uninitialized),G=V===Ga.Initialized,{draggable:{active:Y,nodes:P,translate:se},droppable:{containers:ie}}=O,le=Y!=null?P.get(Y):null,pe=p.useRef({initial:null,translated:null}),de=p.useMemo(()=>{var St;return Y!=null?{id:Y,data:(St=le?.data)!=null?St:uE,rect:pe}:null},[Y,le]),ge=p.useRef(null),[Se,U]=p.useState(null),[X,xe]=p.useState(null),we=Hl(T,Object.values(T)),oe=Xl("DndDescribedBy",f),E=p.useMemo(()=>ie.getEnabled(),[ie]),H=xE(w),{droppableRects:z,measureDroppableContainers:R,measuringScheduled:Q}=PN(E,{dragging:G,dependencies:[se.x,se.y],config:H.droppable}),F=YN(P,Y),me=p.useMemo(()=>X?Zf(X):null,[X]),be=Ln(),Ne=XN(F,H.draggable.measure);vE({activeNode:Y!=null?P.get(Y):null,config:be.layoutShiftCompensation,initialRect:Ne,measure:H.draggable.measure});const I=Vx(F,H.draggable.measure,Ne),Ee=Vx(F?F.parentElement:null),ke=p.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$e=ie.getNodeFor((a=ke.current.over)==null?void 0:a.id),Oe=oE({measure:H.dragOverlay.measure}),Ae=(i=Oe.nodeRef.current)!=null?i:F,Fe=G?(c=Oe.rect)!=null?c:I:null,et=!!(Oe.nodeRef.current&&Oe.rect),tt=tE(et?null:I),Pt=nb(Ae?ns(Ae):null),D=nE(G?$e??F:null),k=iE(D),_=gE(j,{transform:{x:se.x-tt.x,y:se.y-tt.y,scaleX:1,scaleY:1},activatorEvent:X,active:de,activeNodeRect:I,containerNodeRect:Ee,draggingNodeRect:Fe,over:ke.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:D,scrollableAncestorRects:k,windowRect:Pt}),ne=me?Si(me,se):null,ee=sE(D),ae=Qx(ee),je=Qx(ee,[I]),qe=Si(_,ae),He=Fe?EN(Fe,_):null,xt=de&&He?y({active:de,collisionRect:He,droppableRects:z,droppableContainers:E,pointerCoordinates:ne}):null,ye=bN(xt,"id"),[Ce,Ve]=p.useState(null),bt=et?_:Si(_,je),st=jN(bt,(u=Ce?.rect)!=null?u:null,I),Xt=p.useRef(null),yt=p.useCallback((St,Mt)=>{let{sensor:Lt,options:Mn}=Mt;if(ge.current==null)return;const _e=P.get(ge.current);if(!_e)return;const Vt=St.nativeEvent,wn=new Lt({active:ge.current,activeNode:_e,event:Vt,options:Mn,context:ke,onAbort(Ft){if(!P.get(Ft))return;const{onDragAbort:Sn}=we.current,Vn={id:Ft};Sn?.(Vn),C({type:"onDragAbort",event:Vn})},onPending(Ft,Rt,Sn,Vn){if(!P.get(Ft))return;const{onDragPending:Rn}=we.current,Fn={id:Ft,constraint:Rt,initialCoordinates:Sn,offset:Vn};Rn?.(Fn),C({type:"onDragPending",event:Fn})},onStart(Ft){const Rt=ge.current;if(Rt==null)return;const Sn=P.get(Rt);if(!Sn)return;const{onDragStart:Vn}=we.current,jn={activatorEvent:Vt,active:{id:Rt,data:Sn.data,rect:pe}};ma.unstable_batchedUpdates(()=>{Vn?.(jn),Z(Ga.Initializing),B({type:mn.DragStart,initialCoordinates:Ft,active:Rt}),C({type:"onDragStart",event:jn}),U(Xt.current),xe(Vt)})},onMove(Ft){B({type:mn.DragMove,coordinates:Ft})},onEnd:Hn(mn.DragEnd),onCancel:Hn(mn.DragCancel)});Xt.current=wn;function Hn(Ft){return async function(){const{active:Sn,collisions:Vn,over:jn,scrollAdjustedTranslate:Rn}=ke.current;let Fn=null;if(Sn&&Rn){const{cancelDrop:Ns}=we.current;Fn={activatorEvent:Vt,active:Sn,collisions:Vn,delta:Rn,over:jn},Ft===mn.DragEnd&&typeof Ns=="function"&&await Promise.resolve(Ns(Fn))&&(Ft=mn.DragCancel)}ge.current=null,ma.unstable_batchedUpdates(()=>{B({type:Ft}),Z(Ga.Uninitialized),Ve(null),U(null),xe(null),Xt.current=null;const Ns=Ft===mn.DragEnd?"onDragEnd":"onDragCancel";if(Fn){const zn=we.current[Ns];zn?.(Fn),C({type:Ns,event:Fn})}})}}},[P]),Ys=p.useCallback((St,Mt)=>(Lt,Mn)=>{const _e=Lt.nativeEvent,Vt=P.get(Mn);if(ge.current!==null||!Vt||_e.dndKit||_e.defaultPrevented)return;const wn={active:Vt};St(Lt,Mt.options,wn)===!0&&(_e.dndKit={capturedBy:Mt.sensor},ge.current=Mn,yt(Lt,Mt))},[P,yt]),wt=KN(b,Ys);aE(b),Ws(()=>{I&&V===Ga.Initializing&&Z(Ga.Initialized)},[I,V]),p.useEffect(()=>{const{onDragMove:St}=we.current,{active:Mt,activatorEvent:Lt,collisions:Mn,over:_e}=ke.current;if(!Mt||!Lt)return;const Vt={active:Mt,activatorEvent:Lt,collisions:Mn,delta:{x:qe.x,y:qe.y},over:_e};ma.unstable_batchedUpdates(()=>{St?.(Vt),C({type:"onDragMove",event:Vt})})},[qe.x,qe.y]),p.useEffect(()=>{const{active:St,activatorEvent:Mt,collisions:Lt,droppableContainers:Mn,scrollAdjustedTranslate:_e}=ke.current;if(!St||ge.current==null||!Mt||!_e)return;const{onDragOver:Vt}=we.current,wn=Mn.get(ye),Hn=wn&&wn.rect.current?{id:wn.id,rect:wn.rect.current,data:wn.data,disabled:wn.disabled}:null,Ft={active:St,activatorEvent:Mt,collisions:Lt,delta:{x:_e.x,y:_e.y},over:Hn};ma.unstable_batchedUpdates(()=>{Ve(Hn),Vt?.(Ft),C({type:"onDragOver",event:Ft})})},[ye]),Ws(()=>{ke.current={activatorEvent:X,active:de,activeNode:F,collisionRect:He,collisions:xt,droppableRects:z,draggableNodes:P,draggingNode:Ae,draggingNodeRect:Fe,droppableContainers:ie,over:Ce,scrollableAncestors:D,scrollAdjustedTranslate:qe},pe.current={initial:Fe,translated:He}},[de,F,xt,He,P,Ae,Fe,z,ie,Ce,D,qe]),IN({...be,delta:se,draggingRect:He,pointerCoordinates:ne,scrollableAncestors:D,scrollableAncestorRects:k});const xa=p.useMemo(()=>({active:de,activeNode:F,activeNodeRect:I,activatorEvent:X,collisions:xt,containerNodeRect:Ee,dragOverlay:Oe,draggableNodes:P,droppableContainers:ie,droppableRects:z,over:Ce,measureDroppableContainers:R,scrollableAncestors:D,scrollableAncestorRects:k,measuringConfiguration:H,measuringScheduled:Q,windowRect:Pt}),[de,F,I,X,xt,Ee,Oe,P,ie,z,Ce,R,D,k,H,Q,Pt]),Dn=p.useMemo(()=>({activatorEvent:X,activators:wt,active:de,activeNodeRect:I,ariaDescribedById:{draggable:oe},dispatch:B,draggableNodes:P,over:Ce,measureDroppableContainers:R}),[X,wt,de,I,B,oe,P,Ce,R]);return mt.createElement(Qv.Provider,{value:A},mt.createElement(Xc.Provider,{value:Dn},mt.createElement(sb.Provider,{value:xa},mt.createElement(ab.Provider,{value:st},x)),mt.createElement(pE,{disabled:m?.restoreFocus===!1})),mt.createElement(hN,{...m,hiddenTextDescribedById:oe}));function Ln(){const St=Se?.autoScrollEnabled===!1,Mt=typeof g=="object"?g.enabled===!1:g===!1,Lt=G&&!St&&!Mt;return typeof g=="object"?{...g,enabled:Lt}:{enabled:Lt}}}),yE=p.createContext(null),Gx="button",wE="Draggable";function SE(e){let{id:n,data:a,disabled:i=!1,attributes:c}=e;const u=Xl(wE),{activators:f,activatorEvent:m,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(Xc),{role:j=Gx,roleDescription:T="draggable",tabIndex:N=0}=c??{},O=g?.id===n,B=p.useContext(O?ab:yE),[C,A]=Lc(),[V,Z]=Lc(),G=rE(f,n),Y=Hl(a);Ws(()=>(y.set(n,{id:n,key:u,node:C,activatorNode:V,data:Y}),()=>{const se=y.get(n);se&&se.key===u&&y.delete(n)}),[y,n]);const P=p.useMemo(()=>({role:j,tabIndex:N,"aria-disabled":i,"aria-pressed":O&&j===Gx?!0:void 0,"aria-roledescription":T,"aria-describedby":b.draggable}),[i,j,N,O,T,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:x,attributes:P,isDragging:O,listeners:i?void 0:G,node:C,over:w,setNodeRef:A,setActivatorNodeRef:Z,transform:B}}function jE(){return p.useContext(sb)}const NE="Droppable",EE={timeout:25};function CE(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:c}=e;const u=Xl(NE),{active:f,dispatch:m,over:g,measureDroppableContainers:x}=p.useContext(Xc),b=p.useRef({disabled:a}),y=p.useRef(!1),w=p.useRef(null),j=p.useRef(null),{disabled:T,updateMeasurementsFor:N,timeout:O}={...EE,...c},B=Hl(N??i),C=p.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{x(Array.isArray(B.current)?B.current:[B.current]),j.current=null},O)},[O]),A=Pc({callback:C,disabled:T||!f}),V=p.useCallback((P,se)=>{A&&(se&&(A.unobserve(se),y.current=!1),P&&A.observe(P))},[A]),[Z,G]=Lc(V),Y=Hl(n);return p.useEffect(()=>{!A||!Z.current||(A.disconnect(),y.current=!1,A.observe(Z.current))},[Z,A]),p.useEffect(()=>(m({type:mn.RegisterDroppable,element:{id:i,key:u,disabled:a,node:Z,rect:w,data:Y}}),()=>m({type:mn.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{a!==b.current.disabled&&(m({type:mn.SetDroppableDisabled,id:i,key:u,disabled:a}),b.current.disabled=a)},[i,u,a,m]),{active:f,rect:w,isOver:g?.id===i,node:Z,over:g,setNodeRef:G}}function rb(e,n,a){const i=e.slice();return i.splice(a<0?i.length+a:a,0,i.splice(n,1)[0]),i}function _E(e,n){return e.reduce((a,i,c)=>{const u=n.get(i);return u&&(a[c]=u),a},Array(e.length))}function bc(e){return e!==null&&e>=0}function kE(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}function TE(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const yc={scaleX:1,scaleY:1},AE=e=>{var n;let{rects:a,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=a[c])!=null?n:i;if(!m)return null;const g=DE(a,f,c);if(f===c){const x=a[u];return x?{x:c<u?x.left+x.width-(m.left+m.width):x.left-m.left,y:0,...yc}:null}return f>c&&f<=u?{x:-m.width-g,y:0,...yc}:f<c&&f>=u?{x:m.width+g,y:0,...yc}:{x:0,y:0,...yc}};function DE(e,n,a){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:a<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const ib=e=>{let{rects:n,activeIndex:a,overIndex:i,index:c}=e;const u=rb(n,i,a),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},lb="Sortable",ob=mt.createContext({activeIndex:-1,containerId:lb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ib,disabled:{draggable:!1,droppable:!1}});function ME(e){let{children:n,id:a,items:i,strategy:c=ib,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:g,over:x,measureDroppableContainers:b}=jE(),y=Xl(lb,a),w=m.rect!==null,j=p.useMemo(()=>i.map(G=>typeof G=="object"&&"id"in G?G.id:G),[i]),T=f!=null,N=f?j.indexOf(f.id):-1,O=x?j.indexOf(x.id):-1,B=p.useRef(j),C=!kE(j,B.current),A=O!==-1&&N===-1||C,V=TE(u);Ws(()=>{C&&T&&b(j)},[C,j,T,b]),p.useEffect(()=>{B.current=j},[j]);const Z=p.useMemo(()=>({activeIndex:N,containerId:y,disabled:V,disableTransforms:A,items:j,overIndex:O,useDragOverlay:w,sortedRects:_E(j,g),strategy:c}),[N,y,V.draggable,V.droppable,A,j,O,g,w,c]);return mt.createElement(ob.Provider,{value:Z},n)}const RE=e=>{let{id:n,items:a,activeIndex:i,overIndex:c}=e;return rb(a,i,c).indexOf(n)},zE=e=>{let{containerId:n,isSorting:a,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:x}=e;return!x||!i||m!==u&&c===f?!1:a?!0:f!==c&&n===g},OE={duration:200,easing:"ease"},cb="transform",LE=Vl.Transition.toString({property:cb,duration:0,easing:"linear"}),UE={roleDescription:"sortable"};function BE(e){let{disabled:n,index:a,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(a);return Ws(()=>{if(!n&&a!==m.current&&i.current){const g=c.current;if(g){const x=Di(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&f(b)}}a!==m.current&&(m.current=a)},[n,a,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function qE(e){let{animateLayoutChanges:n=zE,attributes:a,disabled:i,data:c,getNewIndex:u=RE,id:f,strategy:m,resizeObserverConfig:g,transition:x=OE}=e;const{items:b,containerId:y,activeIndex:w,disabled:j,disableTransforms:T,sortedRects:N,overIndex:O,useDragOverlay:B,strategy:C}=p.useContext(ob),A=ZE(i,j),V=b.indexOf(f),Z=p.useMemo(()=>({sortable:{containerId:y,index:V,items:b},...c}),[y,c,V,b]),G=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:Y,node:P,isOver:se,setNodeRef:ie}=CE({id:f,data:Z,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...g}}),{active:le,activatorEvent:pe,activeNodeRect:de,attributes:ge,setNodeRef:Se,listeners:U,isDragging:X,over:xe,setActivatorNodeRef:we,transform:oe}=SE({id:f,data:Z,attributes:{...UE,...a},disabled:A.draggable}),E=eN(ie,Se),H=!!le,z=H&&!T&&bc(w)&&bc(O),R=!B&&X,Q=R&&z?oe:null,me=z?Q??(m??C)({rects:N,activeNodeRect:de,activeIndex:w,overIndex:O,index:V}):null,be=bc(w)&&bc(O)?u({id:f,items:b,activeIndex:w,overIndex:O}):V,Ne=le?.id,I=p.useRef({activeId:Ne,items:b,newIndex:be,containerId:y}),Ee=b!==I.current.items,ke=n({active:le,containerId:y,isDragging:X,isSorting:H,id:f,index:V,items:b,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:x,wasDragging:I.current.activeId!=null}),$e=BE({disabled:!ke,index:V,node:P,rect:Y});return p.useEffect(()=>{H&&I.current.newIndex!==be&&(I.current.newIndex=be),y!==I.current.containerId&&(I.current.containerId=y),b!==I.current.items&&(I.current.items=b)},[H,be,y,b]),p.useEffect(()=>{if(Ne===I.current.activeId)return;if(Ne!=null&&I.current.activeId==null){I.current.activeId=Ne;return}const Ae=setTimeout(()=>{I.current.activeId=Ne},50);return()=>clearTimeout(Ae)},[Ne]),{active:le,activeIndex:w,attributes:ge,data:Z,rect:Y,index:V,newIndex:be,items:b,isOver:se,isSorting:H,isDragging:X,listeners:U,node:P,overIndex:O,over:xe,setNodeRef:E,setActivatorNodeRef:we,setDroppableNodeRef:ie,setDraggableNodeRef:Se,transform:$e??me,transition:Oe()};function Oe(){if($e||Ee&&I.current.newIndex===V)return LE;if(!(R&&!ch(pe)||!x)&&(H||ke))return Vl.Transition.toString({...x,property:cb})}}function ZE(e,n){var a,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}lt.Down,lt.Right,lt.Up,lt.Left;const $E=p.lazy(()=>bS(()=>import("./MonacoCodeEditor-BlJucCA1.js"),[])),HE=p.forwardRef(function(n,a){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:ve("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx($E,{...c,ref:a,className:i})})}),VE=232,FE=30,wr=6;function Ql({open:e,position:n,onClose:a,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(j=>!j.disabled),[i]),[b,y]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const j=i.length*FE+wr*2,T=Math.max(wr,(window.innerWidth||0)-VE-wr),N=Math.max(wr,(window.innerHeight||0)-j-wr),O=Math.min(Math.max(n.x,wr),T),B=Math.min(Math.max(n.y,wr),N);g({x:O,y:B})},[e,n,i.length]),p.useEffect(()=>{e&&y(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const j=O=>{u.current&&(u.current.contains(O.target)||a())},T=O=>{if(u.current){if(u.current.contains(O.target)){O.preventDefault();return}a()}},N=O=>{if(O.key==="Escape"){O.preventDefault(),a();return}if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const B=O.key==="ArrowDown"?1:-1;y(C=>{if(i.length===0)return C;let A=C;for(let V=0;V<i.length;V+=1)if(A=(A+B+i.length)%i.length,!i[A]?.disabled)return A;return C});return}if(O.key==="Enter"||O.key===" "){O.preventDefault();const B=i[b];B&&!B.disabled&&(B.onSelect(),a())}};return window.addEventListener("mousedown",j),window.addEventListener("contextmenu",T),window.addEventListener("keydown",N),()=>{window.removeEventListener("mousedown",j),window.removeEventListener("contextmenu",T),window.removeEventListener("keydown",N)}},[e,a,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return ma.createPortal(l.jsx("div",{ref:u,role:"menu",className:ve("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((j,T)=>{const N=!!j.disabled,O=!!j.danger;return l.jsxs(p.Fragment,{children:[j.dividerAbove?l.jsx("li",{role:"separator",className:ve("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:B=>{f.current[T]=B},type:"button",role:"menuitem",className:ve("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,N&&w.disabled,O&&!N&&w.danger,N&&"cursor-default"),onClick:B=>{B.stopPropagation(),!N&&(j.onSelect(),a())},onMouseEnter:()=>{N||y(T)},disabled:N,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[j.icon?l.jsx("span",{className:"text-base opacity-80",children:j.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:j.label})]}),j.shortcut?l.jsx("span",{className:ve("text-[11px] uppercase tracking-wide",w.shortcut),children:j.shortcut}):null]})})]},j.id)})})}),window.document.body)}const Wx=220,Yx=64,QE=14;function Kx({tabs:e,activeTabId:n,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:j,editorTheme:T,menuAppearance:N,canSaveFiles:O=!1,minHeight:B}){const C=e.length>0,[A,V]=p.useState(null),[Z,G]=p.useState(null),[Y,P]=p.useState(null),[se,ie]=p.useState({left:!1,right:!1}),[le,pe]=p.useState(0),de=p.useRef(null),ge=p.useRef(null),Se=p.useMemo(()=>e.find(I=>I.id===n)??e[0]??null,[e,n]),U=p.useMemo(()=>e.filter(I=>I.pinned),[e]),X=p.useMemo(()=>e.filter(I=>!I.pinned),[e]),xe=p.useMemo(()=>e.slice().sort((I,Ee)=>I.id.localeCompare(Ee.id)),[e]),oe=p.useMemo(()=>e.filter(I=>I.status==="ready"&&I.content!==I.initialContent),[e]).length>0,E=pN(mN(hh,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!C)return;const I=Ee=>{if(!(Ee.ctrlKey||Ee.metaKey))return;if(Ee.key.toLowerCase()==="w"){if(!n)return;Ee.preventDefault(),i(n);return}if(Ee.key==="Tab"){if(e.length<2)return;Ee.preventDefault(),j(Ee.shiftKey?"backward":"forward");return}const ke=$e=>{if(e.length<2)return;const Oe=e.findIndex(tt=>tt.id===n),Fe=((Oe>=0?Oe:0)+$e+e.length)%e.length,et=e[Fe];et&&a(et.id)};if(Ee.key==="PageUp"){Ee.preventDefault(),ke(-1);return}Ee.key==="PageDown"&&(Ee.preventDefault(),ke(1))};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[C,e,n,i,a,j]),p.useEffect(()=>{A&&(e.some(I=>I.id===A.tabId)||V(null))},[A,e]);const H=I=>{P(String(I.active.id))},z=I=>{const Ee=I.active.id,ke=I.over?.id;if(!ke){P(null);return}if(Ee!==ke){const $e=e.findIndex(Ae=>Ae.id===Ee),Oe=e.findIndex(Ae=>Ae.id===ke);if($e!==-1&&Oe!==-1){const Ae=$e<Oe?Oe+1:Oe,et=e[Oe]?.pinned?"pinned":"regular";m(String(Ee),Ae,{zone:et})}}P(null)},R=()=>{P(null)},Q=p.useCallback(()=>{const I=de.current;if(!I){ie({left:!1,right:!1});return}const{scrollLeft:Ee,scrollWidth:ke,clientWidth:$e}=I;ie({left:Ee>2,right:Ee+$e<ke-2})},[]);p.useEffect(()=>{const I=de.current;if(!I){ie({left:!1,right:!1});return}Q();const Ee=()=>Q();I.addEventListener("scroll",Ee),window.addEventListener("resize",Q);const ke=typeof ResizeObserver<"u"?new ResizeObserver(Q):null;return ke?.observe(I),()=>{I.removeEventListener("scroll",Ee),window.removeEventListener("resize",Q),ke?.disconnect()}},[e.length,Q]),p.useEffect(()=>{if(!Y){pe(0);return}const I=Ee=>{const ke=de.current;if(!ke){pe(0);return}const $e=ke.getBoundingClientRect();Ee.clientX<$e.left+Yx?pe(-1):Ee.clientX>$e.right-Yx?pe(1):pe(0)};return window.addEventListener("pointermove",I),()=>{window.removeEventListener("pointermove",I),pe(0)}},[Y]),p.useEffect(()=>{if(!Y||le===0)return;let I;const Ee=()=>{const ke=de.current;ke&&(ke.scrollBy({left:le*QE}),I=window.requestAnimationFrame(Ee))};return I=window.requestAnimationFrame(Ee),()=>{window.cancelAnimationFrame(I)}},[le,Y]),p.useEffect(()=>{if(!n)return;const I=de.current;if(!I)return;const Ee=`[data-tab-id="${i2(n)}"]`;I.querySelector(Ee)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!A)return[];const I=e.find(tt=>tt.id===A.tabId);if(!I)return[];const Ee=e.findIndex(tt=>tt.id===A.tabId),ke=Ee>=0&&Ee<e.length-1,$e=e.length>1,Oe=I.status==="ready"&&I.content!==I.initialContent,Ae=!!y&&O&&Oe&&!I.saving,Fe=!!w&&O&&oe,et={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:I.saving?"Saving":"Save",icon:l.jsx(YE,{}),disabled:!Ae,shortcut:et.save,onSelect:()=>y?.(I.id)},{id:"save-all",label:"Save All",icon:l.jsx(KE,{}),disabled:!Fe,shortcut:et.saveAll,onSelect:()=>w?.()},{id:"pin",label:I.pinned?"Unpin":"Pin",icon:I.pinned?l.jsx(t2,{}):l.jsx(Jx,{}),dividerAbove:!0,onSelect:()=>I.pinned?x(I.id):g(I.id)},{id:"close",label:"Close",icon:l.jsx(PE,{}),dividerAbove:!0,shortcut:et.close,onSelect:()=>i(I.id)},{id:"close-others",label:"Close Others",icon:l.jsx(XE,{}),disabled:!$e,shortcut:et.closeOthers,onSelect:()=>c(I.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(JE,{}),disabled:!ke,shortcut:et.closeRight,onSelect:()=>u(I.id)},{id:"close-all",label:"Close All",icon:l.jsx(e2,{}),dividerAbove:!0,disabled:e.length===0,shortcut:et.closeAll,onSelect:()=>f()}]},[A,e,oe,O,g,x,i,c,u,f,y,w]),me=p.useMemo(()=>{if(!C)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const I=[],Ee=(ke,$e)=>{I.push({id:`switch-${ke.id}`,label:ke.name,icon:ke.pinned?l.jsx(Jx,{}):l.jsx(n2,{}),shortcut:ke.id===n?"Active":void 0,dividerAbove:$e,onSelect:()=>a(ke.id)})};return U.forEach(ke=>Ee(ke,!1)),X.forEach((ke,$e)=>Ee(ke,$e===0&&U.length>0)),I},[C,U,X,n,a]),be=I=>{de.current?.scrollBy({left:I,behavior:"smooth"})},Ne=()=>{if(typeof window>"u")return;const I=ge.current?.getBoundingClientRect();I&&G({x:I.left,y:I.bottom+6})};return!C||!Se?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:B?{minHeight:B}:void 0,children:[l.jsxs(ah,{value:Se.id,onValueChange:a,children:[l.jsx(bE,{sensors:E,collisionDetection:yN,onDragStart:H,onDragEnd:z,onDragCancel:R,children:l.jsx(ME,{items:e.map(I=>I.id),strategy:AE,children:l.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[l.jsx(Px,{direction:"left",disabled:!se.left,onClick:()=>be(-Wx)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[se.left?l.jsx(Xx,{position:"left"}):null,se.right?l.jsx(Xx,{position:"right"}):null,l.jsx("div",{ref:de,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:I=>{Math.abs(I.deltaY)>Math.abs(I.deltaX)&&(I.preventDefault(),de.current?.scrollBy({left:I.deltaY}))},children:l.jsx(rh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(I=>{const Ee=I.status==="ready"&&I.content!==I.initialContent,ke=I.id===Se.id;return l.jsx(IE,{tab:I,isActive:ke,isDirty:Ee,draggingId:Y,onContextMenu:$e=>{$e.preventDefault(),V({tabId:I.id,x:$e.clientX,y:$e.clientY})},onCloseTab:i},I.id)})})})]}),l.jsx(Px,{direction:"right",disabled:!se.right,onClick:()=>be(Wx)}),l.jsx("button",{ref:ge,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:Ne,children:l.jsx(r2,{})})]})})}),xe.map(I=>l.jsx(_r,{value:I.id,className:"flex min-h-0 min-w-0 flex-1",children:I.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",I.name,""]}):I.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:I.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>a(I.id),children:"Retry loading"})]}):l.jsx("div",{className:ve("flex min-h-0 min-w-0 flex-1",Y&&"pointer-events-none select-none"),children:l.jsx(HE,{value:I.content,language:I.language??"plaintext",path:I.id,theme:T,onChange:Ee=>b(I.id,Ee??""),onSaveShortcut:()=>{O&&y?.(I.id)}})})},I.id))]}),l.jsx(Ql,{open:!!A,position:A&&{x:A.x,y:A.y},onClose:()=>V(null),items:F,appearance:N}),l.jsx(Ql,{open:!!Z,position:Z,onClose:()=>G(null),items:me,appearance:N})]})}function IE({tab:e,isActive:n,isDirty:a,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:g,transform:x,transition:b,isDragging:y}=qE({id:e.id}),w={transform:Vl.Transform.toString(x),transition:b},j=y||i===e.id,T=!!e.pinned;return l.jsxs("div",{ref:g,style:w,className:ve("group relative mr-1 flex min-w-0 items-stretch",j&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:N=>{N.button===1&&(N.preventDefault(),u(e.id))},...f,...m,children:[l.jsxs(Ml,{value:e.id,"data-tab-id":e.id,title:e.id,className:ve("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",T?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[T?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(GE,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(WE,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,a?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:ve("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:N=>{N.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function Px({direction:e,disabled:n,onClick:a}){return l.jsx("button",{type:"button",className:ve("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:a,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?l.jsx(s2,{}):l.jsx(a2,{})})}function Xx({position:e}){return l.jsx("div",{className:ve("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function GE({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const ga="h-4 w-4 text-current opacity-80";function WE(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function YE(){return l.jsxs("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function KE(){return l.jsxs("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function PE(){return l.jsx("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function XE(){return l.jsxs("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function JE(){return l.jsxs("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function e2(){return l.jsxs("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Jx(){return l.jsx("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function t2(){return l.jsx("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function n2(){return l.jsx("svg",{className:ga,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function s2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function a2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function r2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function i2(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const ub={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},l2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function e0(e){const n=new Set,a=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&a(c)})};return a(e),n}function o2({width:e,tree:n,activeFileId:a,openFileIds:i,onSelectFile:c,theme:u,canCreateFile:f=!1,isCreatingFile:m=!1,onCreateFile:g,canDeleteFile:x=!1,deletingFilePath:b=null,onDeleteFile:y,onCloseFile:w,onCloseOtherFiles:j,onCloseTabsToRight:T,onCloseAllFiles:N,onHide:O}){const[B,C]=p.useState(()=>e0(n)),[A,V]=p.useState(null),[Z,G]=p.useState(null),[Y,P]=p.useState(null),se=Z?.folderId??null;p.useEffect(()=>{C(e0(n))},[n]);const ie=p.useCallback(oe=>{C(E=>{const H=new Set(E);return H.has(oe)?H.delete(oe):H.add(oe),H})},[]),le=p.useCallback((oe,E)=>{C(H=>{const z=new Set(H);return E?z.add(oe):oe!==n.id&&z.delete(oe),z.has(n.id)||z.add(n.id),z})},[n.id]),pe=p.useCallback(()=>{C(new Set([n.id]))},[n.id]),de=p.useMemo(()=>n.children??[],[n]),ge=u==="dark"?"dark":"light",Se=p.useCallback((oe,E)=>{oe.preventDefault(),V({node:E,position:{x:oe.clientX,y:oe.clientY}})},[]),U=p.useCallback(async oe=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(oe);return}catch{}if(typeof document>"u")return;const E=document.createElement("textarea");E.value=oe,E.setAttribute("readonly","true"),E.style.position="absolute",E.style.left="-9999px",document.body.appendChild(E),E.select(),document.execCommand("copy"),document.body.removeChild(E)},[]),X=p.useMemo(()=>{if(!A)return[];const oe=A.node,E={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(oe.kind==="file"){const z=i.includes(oe.id),R=i.length,Q=i.indexOf(oe.id),F=Q>=0&&Q<R-1;return[{id:"open-file",label:"Open",icon:l.jsx(m2,{}),shortcut:E.open,onSelect:()=>c(oe.id)},{id:"close-file",label:"Close",icon:l.jsx(v2,{}),disabled:!z,shortcut:E.close,onSelect:()=>w(oe.id)},{id:"close-file-others",label:"Close Others",icon:l.jsx(b2,{}),disabled:!z||R<=1,shortcut:E.closeOthers,onSelect:()=>j(oe.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:l.jsx(y2,{}),disabled:!z||!F,shortcut:E.closeRight,onSelect:()=>T(oe.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:R===0,icon:l.jsx(w2,{}),shortcut:E.closeAll,onSelect:()=>N()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(n0,{}),shortcut:E.copyPath,onSelect:()=>{U(oe.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(S2,{}),shortcut:E.delete,disabled:!x||!y,onSelect:()=>{y&&(y(oe.id),V(null))}}]}const H=B.has(oe.id);return[{id:"new-file",label:"New File",icon:l.jsx(fb,{}),disabled:!f||!g,onSelect:()=>{!f||!g||(P(null),le(oe.id,!0),G({folderId:oe.id}),V(null))}},{id:"toggle-folder",label:H?"Collapse Folder":"Expand Folder",icon:H?l.jsx(p2,{}):l.jsx(g2,{}),onSelect:()=>le(oe.id,!H)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(x2,{}),shortcut:E.collapseAll,dividerAbove:!0,onSelect:()=>pe()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(n0,{}),shortcut:E.copyPath,onSelect:()=>{U(oe.id)}}]},[A,i,c,w,j,T,N,U,B,le,pe,f,g,x,y,P,G,V]),xe=ub[u],we=l2[u];return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:xe.surface,borderColor:xe.border,color:xe.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:xe.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:xe.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:O,"aria-label":"Hide explorer",className:ve("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(h2,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[de.map(oe=>l.jsx(db,{node:oe,depth:0,expanded:B,activeFileId:a,openFileIds:i,onToggleFolder:ie,onSelectFile:c,tokens:xe,focusRingClass:we,onContextMenu:Se,canCreateFile:f,isCreatingFile:m,pendingCreateFolderId:se,createError:Y,onSubmitCreateFile:async(E,H)=>{if(g){P(null);try{await g(E,H),G(null)}catch(z){const R=z instanceof Error?z.message:"Unable to create file.";P(R)}}},onCancelCreateFile:()=>{G(null),P(null)},canDeleteFile:x,deletingFilePath:b,onDeleteFile:y},oe.id)),se&&!de.some(oe=>oe.id===se)?l.jsx("li",{className:"pl-2",children:l.jsx(hb,{appearance:u,onSubmit:oe=>{g&&(P(null),g("",oe).then(()=>G(null),E=>P(E instanceof Error?E.message:"Unable to create file.")))},onCancel:()=>{G(null),P(null)},isSubmitting:m,error:Y})}):null]})})]}),l.jsx(Ql,{open:!!A,position:A&&A.position,onClose:()=>V(null),items:X,appearance:ge})]})}function db({node:e,depth:n,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:N,canDeleteFile:O,deletingFilePath:B,onDeleteFile:C}){const V={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const se=a.has(e.id),ie={...V,color:se?m.textPrimary:m.textMuted};return se&&m.folderActiveBg!=="transparent"&&(ie.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:le=>x(le,e),className:ve("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",g),style:ie,"aria-expanded":se,children:[l.jsx(u2,{open:se,tokens:m}),l.jsx(d2,{open:se,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),se&&(e.children?.length||w===e.id)?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(le=>l.jsx(db,{node:le,depth:n+1,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:N,canDeleteFile:O,deletingFilePath:B,onDeleteFile:C},le.id)),w===e.id?l.jsx("li",{className:"pl-2",children:l.jsx(hb,{appearance:m===ub.dark?"dark":"light",onSubmit:le=>T(e.id,le),onCancel:N,isSubmitting:y,error:j})}):null]}):null]})}const Z=i===e.id,G=c.includes(e.id),Y=c2(e.name,e.language),P={...V,color:m.textPrimary};return Z&&(P.backgroundColor=m.selectionBg,P.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:se=>x(se,e),className:ve("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",g,Z&&"shadow-inner shadow-[#00000033]",B===e.id&&"opacity-60"),style:P,disabled:B===e.id,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(f2,{className:Y})}),l.jsx("span",{className:"flex-1 truncate",children:e.name}),Z?l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):G?l.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const t0={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function c2(e,n){if(n==="python")return"text-sky-300";const a=e.toLowerCase().split("."),i=a.length>1?a.pop()??"":"";return i&&t0[i]?t0[i]:"text-slate-400"}function u2({open:e,tokens:n}){return l.jsx("svg",{className:ve("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function d2({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function f2({className:e}){return l.jsxs("svg",{className:ve("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function h2(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Bs="h-4 w-4 text-current opacity-80";function m2(){return l.jsx("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function n0(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function p2(){return l.jsx("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function fb(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function g2(){return l.jsx("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function x2(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function v2(){return l.jsx("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function b2(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function y2(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function w2(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function S2(){return l.jsxs("svg",{className:Bs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function hb({appearance:e,onSubmit:n,onCancel:a,isSubmitting:i,error:c}){const[u,f]=p.useState(""),m=p.useRef(null);p.useEffect(()=>{m.current?.focus(),m.current?.select()},[]);const g=e==="dark"?"text-slate-300":"text-slate-600",x=e==="dark"?"#232323":"#e8e8e8",b=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:x,borderColor:b},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:l.jsx(fb,{})}),l.jsx("input",{ref:m,value:u,onChange:y=>f(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),n(u.trim())),y.key==="Escape"&&(y.preventDefault(),a())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:"new_file.py",disabled:i}),l.jsx("button",{type:"button",className:ve("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",i?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:()=>n(u.trim()),disabled:i,children:i?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:a,disabled:i,children:"Cancel"})]}),l.jsx("div",{className:ve("mt-1 text-[11px]",g),children:"Enter a name and press Enter. Escape to cancel."}),c?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:c}):null]})}function j2({width:e,file:n}){if(!n)return null;const a=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return l.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[l.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:l.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),l.jsx("dd",{className:"text-slate-700",children:n.name})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),l.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),l.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),l.jsx("dd",{className:"text-slate-700",children:N2(i?.size)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),l.jsx("dd",{className:"text-slate-700",children:E2(i?.modifiedAt)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),l.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),l.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),l.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),l.jsx("dd",{className:"text-slate-700",children:a?"Yes":"No"})]})]})]}),l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function N2(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a.toFixed(a>=10?0:1)} ${n[i]}`}function E2(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function bf({orientation:e,onPointerDown:n}){const a=e==="vertical";return l.jsx("div",{role:"separator","aria-orientation":e,className:a?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",style:{touchAction:"none"},onPointerDown:n,children:l.jsx("span",{className:"sr-only",children:"Resize panel"})})}const C2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function _2(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",a=e.entries.length>0;if(!n&&!a)return null;const i=Ll(n),c={id:n,name:s0(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=g=>{if(g.length===0)return c;const x=Ll(g),b=x===i?n:x,y=u.get(b);if(y)return y;const w={id:b,name:s0(b),kind:"folder",children:[]};u.set(b,w);const j=b===n?"":A2(b)??n,T=f(j);return yf(T,w),w},m=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of m){const x=g.parent&&g.parent.length>0?Ll(g.parent):n,b=f(x);if(g.kind==="dir"){const w=f(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&yf(b,w);continue}const y={id:g.path,name:g.name,kind:"file",language:T2(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,y),yf(b,y)}return c}function yf(e,n){const a=e.children??[],i=a.some(c=>c.id===n.id)?a.map(c=>c.id===n.id?n:c):[...a,n];e.children=i.sort(k2)}function k2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function T2(e){const n=e.toLowerCase(),a=n.lastIndexOf(".");if(a===-1)return;const i=n.slice(a+1);return C2[i]}function s0(e){const n=Ll(e);if(!n)return"";const a=n.lastIndexOf("/");return a>=0?n.slice(a+1):n}function A2(e){const n=Ll(e);if(!n)return;const a=n.lastIndexOf("/");return a===-1?"":n.slice(0,a)}function Ll(e){return e?e.replace(/\/+$/,""):""}function Gs(e,n){if(e.id===n)return e;if(!e.children)return null;for(const a of e.children){const i=Gs(a,n);if(i)return i}return null}function mb(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const a=mb(n);if(a)return a}return null}function D2({tree:e,initialActiveFileId:n,loadFile:a,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(()=>!i),[w,j]=p.useState(!1),T=p.useRef(new Set),N=p.useRef([]),O=p.useRef(""),B=p.useRef([]),C=p.useCallback(z=>{m(R=>R===z?R:z),x(R=>{const Q=R.filter(me=>N.current.some(be=>be.id===me));if(!z)return Q;const F=Q.filter(me=>me!==z);return[z,...F]})},[]);p.useEffect(()=>{O.current=f},[f]),p.useEffect(()=>{B.current=g},[g]),p.useEffect(()=>{if(!e){u([]),m(""),x([]);return}u(R=>R.filter(Q=>!!Gs(e,Q.id)).map(Q=>{const F=Gs(e,Q.id);return!F||F.kind!=="file"?Q:{...Q,name:F.name,language:F.language,metadata:F.metadata}}));const z=O.current;(!z||!Gs(e,z))&&C("")},[e,C]);const A=p.useMemo(()=>c.find(z=>z.id===f)??c[0]??null,[f,c]),V=p.useCallback(async z=>{if(!N.current.some(Q=>Q.id===z))return;let R=!1;if(u(Q=>Q.map(F=>F.id!==z?F:F.status==="ready"?(R=!0,F):{...F,status:"loading",error:null})),!R)try{const Q=await a(z);u(F=>F.map(me=>me.id===z?{...me,initialContent:Q.content,content:Q.content,status:"ready",error:null,etag:Q.etag??null,saving:!1,saveError:null}:me))}catch(Q){const F=Q instanceof Error?Q.message:"Unable to load file.";u(me=>me.map(be=>be.id===z?{...be,status:"error",error:F}:be))}},[a]),Z=p.useCallback((z,R)=>{if(!e)return;const Q=Gs(e,z);!Q||Q.kind!=="file"||(u(F=>{if(F.some(be=>be.id===z))return F;const me={id:Q.id,name:Q.name,language:Q.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:Q.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...F,me]}),(R?.activate??!0)&&C(z))},[e,C]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const z=i.get(),Q=(z?.openTabs??[]).map(F=>typeof F=="string"?{id:F,pinned:!1}:F).filter(F=>!!(F&&F.id));if(Q.length>0){const F=[];for(const me of Q){const be=Gs(e,me.id);!be||be.kind!=="file"||F.push({id:be.id,name:be.name,language:be.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:be.metadata,pinned:!!me.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(F.length>0){u(F);const me=(z?.activeTabId&&F.some(I=>I.id===z.activeTabId)?z.activeTabId:F[0]?.id)??"";m(me);const Ne=(z?.mru&&z.mru.length>0?z.mru:F.map(I=>I.id)).filter(I=>F.some(Ee=>Ee.id===I));x(Ne),j(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||j(!0);return}if(w)return;const z=n&&Gs(e,n)||mb(e);if(!z){j(!0);return}Z(z.id),j(!0)},[e,n,Z,b,c.length,w]);const G=p.useCallback(z=>{Z(z)},[Z]),Y=p.useCallback(z=>{C(z),u(R=>R.map(Q=>Q.id===z&&Q.status==="error"?{...Q,status:"loading",error:null}:Q))},[C]),P=p.useCallback(z=>{u(R=>{const Q=R.filter(be=>be.id!==z),F=O.current,me=F===z?Q[Q.length-1]?.id??"":Q.some(be=>be.id===F)?F:Q[Q.length-1]?.id??"";return C(me),Q})},[C]),se=p.useCallback(z=>{u(R=>!R.some(Q=>Q.id===z)||R.length<=1?R:(C(z),R.filter(Q=>Q.id===z)))},[C]),ie=p.useCallback(z=>{u(R=>{const Q=R.findIndex(be=>be.id===z);if(Q===-1||Q===R.length-1)return R;const F=R.slice(0,Q+1),me=F.some(be=>be.id===O.current)?O.current:z;return C(me),F})},[C]),le=p.useCallback(()=>{u([]),m(""),x([])},[]),pe=p.useCallback((z,R,Q)=>{u(F=>{if(F.length<=1)return F;const me=F.findIndex(Oe=>Oe.id===z);if(me===-1)return F;const be=Math.max(0,Math.min(R,F.length));let Ne=be;me<be&&(Ne-=1);const I=[],Ee=[];let ke=null;if(F.forEach((Oe,Ae)=>{if(Ae===me){ke=Oe;return}Oe.pinned?I.push(Oe):Ee.push(Oe)}),!ke)return F;if((Q?.zone??(Ne<=I.length?"pinned":"regular"))==="pinned"){const Oe=Math.max(0,Math.min(Ne,I.length));I.splice(Oe,0,{...ke,pinned:!0})}else{const Oe=Math.max(0,Math.min(Ne-I.length,Ee.length));Ee.splice(Oe,0,{...ke,pinned:!1})}return[...I,...Ee]})},[]),de=p.useCallback(z=>{u(R=>{const Q=[],F=[];let me=null;for(const Ne of R){if(Ne.id===z){me=Ne;continue}Ne.pinned?Q.push(Ne):F.push(Ne)}if(!me||me.pinned)return R;const be={...me,pinned:!0};return[...Q,be,...F]})},[]),ge=p.useCallback(z=>{u(R=>{const Q=[],F=[];let me=null;for(const Ne of R){if(Ne.id===z){me=Ne;continue}Ne.pinned?Q.push(Ne):F.push(Ne)}if(!me||!me.pinned)return R;const be={...me,pinned:!1};return[...Q,be,...F]})},[]),Se=p.useCallback((z,R)=>{R?de(z):ge(z)},[de,ge]),U=p.useCallback(z=>{const R=B.current.filter(Ee=>N.current.some(ke=>ke.id===Ee));if(R.length<=1)return;const Q=O.current||R[0],F=R.indexOf(Q),Ne=((F>=0?F:0)+(z==="forward"?1:-1)+R.length)%R.length,I=R[Ne];I&&I!==Q&&C(I)},[C]),X=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id===z?{...F,content:R,status:F.status==="ready"?F.status:"ready",error:null,saveError:null}:F))},[]),xe=p.useCallback(z=>{u(R=>R.map(Q=>Q.id===z?{...Q,saving:!0,saveError:null}:Q))},[]),we=p.useCallback((z,R)=>{u(Q=>Q.map(F=>{if(F.id!==z)return F;const me=R?.metadata??F.metadata??null,be=R?.etag??F.etag??null;return{...F,saving:!1,saveError:null,initialContent:F.content,etag:be,metadata:me&&{...me,etag:me.etag??be??null},lastSavedAt:new Date().toISOString()}}))},[]),oe=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id===z?{...F,saving:!1,saveError:R}:F))},[]),E=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id!==z?F:{...F,content:R.content,initialContent:R.content,status:"ready",error:null,saving:!1,saveError:null,etag:R.etag??F.etag??null,metadata:R.metadata??F.metadata}))},[]),H=p.useMemo(()=>c.some(z=>z.status==="ready"&&z.content!==z.initialContent),[c]);return p.useEffect(()=>{N.current=c},[c]),p.useEffect(()=>{x(z=>{const R=z.filter(Q=>c.some(F=>F.id===Q));return R.length===z.length?z:R})},[c]),p.useEffect(()=>{const z=new Set(c.map(R=>R.id));for(const R of T.current)z.has(R)||T.current.delete(R);for(const R of c){if(R.status!=="loading"||T.current.has(R.id))continue;T.current.add(R.id),V(R.id).finally(()=>{T.current.delete(R.id)})}},[c,V]),p.useEffect(()=>{if(!i||!b)return;const z=[f,...g].filter(R=>!!R).filter((R,Q,F)=>F.indexOf(R)===Q).filter(R=>c.some(Q=>Q.id===R));i.set({openTabs:c.map(R=>({id:R.id,pinned:!!R.pinned})),activeTabId:f||null,mru:z})},[i,c,f,g,b]),{tree:e,tabs:c,activeTabId:f,activeTab:A,openFile:G,selectTab:Y,closeTab:P,closeOtherTabs:se,closeTabsToRight:ie,closeAllTabs:le,moveTab:pe,pinTab:de,unpinTab:ge,toggleTabPin:Se,selectRecentTab:U,updateContent:X,beginSavingTab:xe,completeSavingTab:we,failSavingTab:oe,replaceTabContent:E,isDirty:H}}function pb(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[a,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(a,String(u))}return n}const gb=p.createContext(null);function M2({value:e,children:n}){return p.createElement(gb.Provider,{value:e},n)}function mh(){const e=p.useContext(gb),n=Ss(),a=Tn(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,x=pb(m).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;a(b,{replace:f?.replace})},[n.hash,n.pathname,a,i]);return[e?.params??i,e?.setSearchParams??c]}const Sr={tab:"editor",pane:"terminal",console:"closed",view:"editor"},R2=["tab","pane","console","view","file","path"];function z2(e){return e==="open"?"open":"closed"}function O2(e){return e==="runSummary"||e==="run-summary"||e==="summary"?"runSummary":e==="validation"||e==="problems"||e==="issues"?"problems":"terminal"}function L2(e){return e==="split"||e==="zen"?e:"editor"}function xb(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),a=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:a==="editor"?"editor":Sr.tab,pane:O2(i),console:z2(c),view:L2(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function wf(e,n){const a=xb(e),i={...Sr,...a,...n},c=new URLSearchParams(e);for(const u of R2)c.delete(u);return i.tab!==Sr.tab&&c.set("tab",i.tab),i.pane!==Sr.pane&&c.set("pane",i.pane),i.console!==Sr.console&&c.set("console",i.console),i.view!==Sr.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function U2(){const[e,n]=mh(),a=p.useMemo(()=>xb(e),[e]),i=p.useCallback(f=>{a.file===f||!f&&!a.present.file||n(m=>wf(m,{file:f??void 0}),{replace:!0})},[n,a.file,a.present.file]),c=p.useCallback(f=>{a.pane!==f&&n(m=>wf(m,{pane:f}),{replace:!0})},[n,a.pane]),u=p.useCallback(f=>{a.console!==f&&n(m=>wf(m,{console:f}),{replace:!0})},[n,a.console]);return{fileId:a.file??Sr.file,pane:a.pane,console:a.console,consoleExplicit:a.present.console,setFileId:i,setPane:c,setConsole:u}}const B2="You have unsaved changes in the config editor. Are you sure you want to leave?";function q2({isDirty:e,confirm:n=window.confirm,message:a=B2,shouldBypassNavigation:i}){const c=Ss(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(a),[n,e,c.pathname,a,i]);O1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=a,a);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,a])}const a0="(prefers-color-scheme: dark)";function r0(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function Z2(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function $2(e){const n=p.useMemo(()=>Pa(e),[e]),[a,i]=p.useState(()=>{const g=n.get();return r0(g)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(a0).matches);p.useEffect(()=>{const g=r0(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(a0),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(a)},[a,n]);const f=p.useMemo(()=>Z2(a,c),[a,c]),m=p.useCallback(g=>{i(g)},[]);return{preference:a,resolvedTheme:f,setPreference:m}}function Xn(e,n,a){return Math.min(Math.max(e,n),a)}function Sf(e,n){const{onMove:a,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,f=e.currentTarget,m=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,y=!0;const w=O=>{if(y){if(y=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=m,document.body.style.userSelect=g,window.removeEventListener("pointermove",j),window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),f.removeEventListener("lostpointercapture",N),f.hasPointerCapture?.(u))try{f.releasePointerCapture(u)}catch{}i&&i(O)}},j=O=>{!y||O.pointerId!==u||(b=O,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&a(b)})))},T=O=>{O.pointerId===u&&w(O)},N=O=>{O.pointerId===u&&w(O)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{f.setPointerCapture(u)}catch{}window.addEventListener("pointermove",j),window.addEventListener("pointerup",T),window.addEventListener("pointercancel",T),f.addEventListener("lostpointercapture",N)}const H2="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",V2="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function F2({label:e,icon:n,disabled:a,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(Q2,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:j}){const T=p.useRef(null),N=!!(a||i),O=B=>{if(N)return;B.preventDefault();const C=T.current?.getBoundingClientRect();if(C){w?.({x:C.left,y:C.bottom});return}w?.({x:B.clientX,y:B.clientY})};return l.jsxs("div",{role:"group",className:ve("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:j,children:[l.jsxs("button",{type:"button",title:g,disabled:N,className:ve(H2,f),onClick:B=>{N||y?.(B)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:T,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:N,className:ve(V2,m),onClick:O,children:b})]})}function Q2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const I2={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function Et({title:e,description:n,action:a,variant:i="empty",className:c}){return l.jsxs("div",{className:ve("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:ve("mb-4 h-8 w-8 rounded-full border-current",I2[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,a?l.jsx("div",{className:"mt-4",children:a}):null]})}const G2=new TextEncoder;async function W2(e,n={}){const{signal:a,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:a});if(!m)throw new Error("Expected configuration page payload.");return m}async function Y2(e,n,a){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:a});return i??null}async function K2(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/validate",{params:{path:{workspace_id:e,configuration_id:n}}});if(!a)throw new Error("Expected validation payload.");return a}async function P2(e,n,a={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:g,sort:x,order:b,signal:y}=a,{data:w}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:g??void 0,sort:x,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function i0(e,n,a,i){const{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function X2(e,n,a){const i=rC(a.path),c=a.parents?"?parents=1":"",u=await OS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:G2.encode(a.content),headers:{"Content-Type":"application/octet-stream",...a.create?{"If-None-Match":"*"}:a.etag?{"If-Match":a.etag}:{}}});if(!u.ok){const m=await iC(u),g=m?.title??`Request failed with status ${u.status}`;throw new ts(g,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}async function J2(e,n,a,i={}){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:i.etag?{"If-Match":i.etag}:void 0})}function eC(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",configuration_id:e.configurationId.trim()}}async function tC(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:eC(n.source)}});if(!a)throw new Error("Expected configuration payload.");return a}async function nC(e,n,a={}){const{signal:i}=a,{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/versions",{params:{path:{workspace_id:e,configuration_id:n}},signal:i});return c??[]}function sC(e){return e.find(n=>n.status==="active"||n.activated_at)??null}function aC(e){return e.filter(a=>a.status!=="active"&&!a.deleted_at).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime())[0]??null}function rC(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function iC(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const ln={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...ln.root(e),"list",{...n}],detail:(e,n)=>[...ln.root(e),"detail",n],versions:(e,n)=>[...ln.detail(e,n),"versions"],version:(e,n,a)=>[...ln.detail(e,n),"version",a],scripts:(e,n,a)=>[...ln.version(e,n,a),"scripts"],script:(e,n,a,i)=>[...ln.scripts(e,n,a),"script",i],manifest:(e,n,a)=>[...ln.version(e,n,a),"manifest"],files:(e,n)=>[...ln.detail(e,n),"files"],file:(e,n,a)=>[...ln.files(e,n),"file",a]};function lC({workspaceId:e,configId:n,enabled:a=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:g,pageToken:x,sort:b="path",order:y="asc"}=i;return gn({queryKey:[...ln.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",g??"",x??"",b,y],queryFn:({signal:w})=>P2(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:g,pageToken:x,sort:b,order:y,signal:w}),enabled:a&&e.length>0&&n.length>0,staleTime:5e3})}function oC(e,n){const a=Ct();return An({mutationFn:i=>X2(e,n,i),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:ln.files(e,n)}),a.invalidateQueries({queryKey:ln.file(e,n,c.path)})])}})}function cC(e,n){const a=Ct();return An({mutationFn:i=>J2(e,n,i.path,{etag:i.etag}),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:ln.files(e,n)}),a.invalidateQueries({queryKey:ln.file(e,n,c.path)})])}})}function uC(e,n){return An({mutationFn:()=>K2(e,n)})}const dC=/\r?\n/,l0=new TextDecoder;async function*fC(e){const n=e.body;if(!n)throw new Error("Response body is not a readable stream.");const a=n.getReader();let i="";try{for(;;){const{value:u,done:f}=await a.read();if(f)break;for(i+=l0.decode(u,{stream:!0});;){const m=i.search(dC);if(m===-1)break;const g=i.slice(0,m);i=i.slice(m+(i[m]==="\r"?2:1));const x=g.trim();x&&(yield JSON.parse(x))}}i+=l0.decode();const c=i.trim();c&&(yield JSON.parse(c))}finally{a.releaseLock()}}async function*hC(e,n={},a){const i=`/configurations/${encodeURIComponent(e)}/runs`,c=await Ev(i,{stream:!0,options:n},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:a});for await(const u of fC(c))yield u}async function vb(e,n){const{data:a}=await Ge.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run outputs unavailable");return a}async function bb(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/logfile`,{headers:{Accept:"application/x-ndjson"},signal:n});if(!a.ok)throw new Error("Run telemetry unavailable");return(await a.text()).split(/\r?\n/).filter(Boolean).map(c=>{try{return JSON.parse(c)}catch(u){return console.warn("Skipping invalid telemetry line",{error:u,line:c}),null}}).filter(c=>!!c)}async function yb(e,n){const{data:a}=await Ge.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run not found");return a}async function wb(e,n){try{const{data:c}=await Ge.GET("/api/v1/runs/{run_id}/summary",{params:{path:{run_id:e}},signal:n});if(c)return c}catch(c){console.warn("Falling back to embedded run summary",c)}const i=(await yb(e,n))?.summary;if(!i)return null;if(typeof i=="string")try{return JSON.parse(i)}catch(c){return console.warn("Unable to parse run summary",{error:c}),null}return i}const wc={detail:e=>["run",e],outputs:e=>["run-outputs",e],telemetry:e=>["run-telemetry",e],summary:e=>["run-summary",e]};async function Sb(e,n,a){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:a});return i??[]}function mC(e){return!!(e&&typeof e=="object"&&e.object==="ade.event"&&typeof e.type=="string")}function pC(e){const n=e.created_at;if(n instanceof Date)return n.toISOString();if(typeof n=="string")return n;if(typeof n=="number"){const a=n>1e12?n:n*1e3;return new Date(a).toISOString()}return new Date().toISOString()}const gC={hour:"2-digit",minute:"2-digit",second:"2-digit"};function Tc(e){const n=e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():e;if(!n)return"";const a=new Date(n);return Number.isNaN(a.getTime())?"":a.toLocaleTimeString([],gC)}function xC(e){if(!mC(e))return{level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"};const n=Tc(pC(e)),a=e.type;if(!a?.startsWith("run."))return{level:"info",message:JSON.stringify(e),timestamp:n,origin:"run"};switch(a){case"run.queued":return{level:"info",message:`Run ${e.run_id??""} queued${e.mode?` (${e.mode})`:""}.`,timestamp:n,origin:"run"};case"run.started":return{level:"info",message:`Run started${e.mode?` (${e.mode})`:""}.`,timestamp:n,origin:"run"};case"run.phase.started":{const i=e.phase??"progress";return{level:ph(e.level??"info"),message:`Phase: ${i}`,timestamp:n,origin:"run"}}case"run.table.summary":return{level:"info",message:`Table completed (${e.source_sheet??e.source_file??e.table_id??"table"})`,timestamp:n,origin:"run"};case"run.validation.issue":{const i=e.severity??"info";return{level:i==="error"?"error":i==="warning"?"warning":"info",message:`Validation issue${e.code?`: ${e.code}`:""}`,timestamp:n,origin:"run"}}case"run.console":return vC(e,n);case"run.completed":return bC(e,n);default:return{level:"info",message:JSON.stringify(e),timestamp:n,origin:"run"}}}function vC(e,n){const a=e.stream,i=e.level??(a==="stderr"?"warning":"info");return{level:ph(i),message:String(e.message??""),timestamp:n,origin:e.type?.startsWith("build.")?"build":"run"}}function bC(e,n){const a=e.status??"completed",i=e.execution??{},c=typeof i.exit_code=="number"?i.exit_code:void 0,u=e.error?.message,f=ph(a==="failed"?"error":a==="canceled"?"warning":a==="succeeded"?"success":void 0),m=typeof c=="number"?` (exit code ${c})`:"",g=u||`Run ${a}`;return{level:f,message:`${g}${m}.`,timestamp:n,origin:"run"}}function ph(e){return e==="error"?"error":e==="warning"||e==="warn"?"warning":e==="success"?"success":"info"}const jb=p.createContext(null),yC=6e3,wC=7e3,o0=4;function SC({children:e}){const[n,a]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{a(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??c0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?yC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return a(w=>{const T=[...y.persistKey?w.filter(N=>N.persistKey!==y.persistKey):w,y];return T.length>o0?T.slice(T.length-o0):T}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??c0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:wC:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(T=>T.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),g=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&a(w=>w.filter(j=>j.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(j=>j.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:g}),[n,i,f,m,u,g]);return l.jsxs(jb.Provider,{value:x,children:[e,l.jsx(jC,{})]})}function Nb(){const e=p.useContext(jb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function jC(){const{toasts:e,banners:n,dismiss:a}=Nb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:ma.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(EC,{banner:u,onDismiss:a},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(NC,{toast:u,onDismiss:a},u.id))})]}),document.body)}function NC({toast:e,onDismiss:n}){const a=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=CC[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:ve("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Cb(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>l.jsx(Eb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(_b,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function EC({banner:e,onDismiss:n}){const a=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=_C[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:ve("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Cb(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>l.jsx(Eb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:ve("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(_b,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function Eb({action:e,onPress:n,appearance:a}){const i=e.variant??"secondary",c=a==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:ve("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function Cb(e){switch(e){case"success":return l.jsx(TC,{});case"warning":return l.jsx(AC,{});case"danger":return l.jsx(DC,{});default:return l.jsx(kC,{})}}const CC={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},_C={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function c0(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function kC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function TC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function AC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function DC(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function _b(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function MC(){const e=Nb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,a)=>e.clearScope(n,a)}),[e])}const RC="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Xa=p.forwardRef(({className:e,...n},a)=>l.jsx("select",{ref:a,className:ve(RC,e),...n}));Xa.displayName="Select";const zC={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},OC={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ze=p.forwardRef(({type:e="button",variant:n="primary",size:a="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},g)=>{const x=f||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:ve("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",zC[n],OC[a],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});ze.displayName="Button";const LC={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function ut({tone:e="info",heading:n,icon:a,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:ve("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",LC[e],i),...u,children:[a?l.jsx("span",{"aria-hidden":"true",children:a}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}const UC={min:200,max:420},BC={min:260,max:420},qC=320,ZC=120,jf=140,$C=220,Sc=400,Al=4,HC=56,u0="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",VC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,FC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,QC=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,IC=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],GC={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function kb({workspaceId:e,configId:n,configName:a,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=Ct(),{fileId:y,pane:w,console:j,consoleExplicit:T,setFileId:N,setPane:O,setConsole:B}=U2(),C=!!i,A=lC({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!C}),V=p.useMemo(()=>i?i.tree:A.data?_2(A.data):null,[i,A.data]),[Z,G]=p.useState(()=>i?.console?i.console.slice(-Sc):[]);p.useEffect(()=>{i?.console&&G(i.console.slice(-Sc))},[i?.console]);const[Y,P]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),se=p.useRef(null),ie=p.useRef(!0),[le,pe]=p.useState(null),[de,ge]=p.useState(null),[Se,U]=p.useState(!1),X=p.useCallback($=>{if(!ie.current)return;const ce=Tc(new Date);G([{level:"info",message:$,timestamp:ce,origin:"run"}])},[G]),xe=p.useCallback($=>{ie.current&&G(ce=>{const Te=[...ce,$];return Te.length>Sc?Te.slice(Te.length-Sc):Te})},[G]);p.useEffect(()=>{i?.validation&&P({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(ie.current=!0,()=>{ie.current=!1,se.current?.abort()}),[]);const we=uC(e,n),oe=p.useMemo(()=>i?null:Pa(VC(e,n)),[e,n,i]),E=p.useMemo(()=>i?null:Pa(FC(e,n)),[e,n,i]),H=p.useRef(null);!H.current&&E&&(H.current=E.get()??null);const z=$2(QC(e,n)),R=z.resolvedTheme==="vs-light"?"light":"dark",Q=Y.lastRunAt?`Last run ${h_(Y.lastRunAt)}`:void 0,[F,me]=p.useState({collapsed:!1,fraction:280/1200}),[be,Ne]=p.useState({collapsed:!1,fraction:300/1200}),[I,Ee]=p.useState(null),[ke,$e]=p.useState(!1),[Oe,Ae]=p.useState({width:0,height:0}),[Fe,et]=p.useState(null),[tt,Pt]=p.useState("explorer"),[D,k]=p.useState(null),[_,ne]=p.useState(null),[ee,ae]=p.useState(!1),[je,qe]=p.useState(!1),[He,xt]=p.useState(!1),[ye,Ce]=p.useState(null),[Ve,bt]=p.useState(null),{notifyBanner:st,dismissScope:Xt}=MC(),yt=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Ys=cC(e,n),wt=p.useCallback(($,ce)=>{st({title:$,intent:ce?.intent??"info",duration:ce?.duration??6e3,dismissible:!0,scope:yt,persistKey:yt})},[st,yt]),xa=p.useCallback(()=>{Xt(yt,"banner")},[Xt,yt]),Dn=p.useCallback($=>{if(!ie.current)return;const ce=f_($);xe({level:"error",message:ce,timestamp:Tc(new Date),origin:"run"}),wt(ce,{intent:"danger",duration:null})},[xe,wt]),Ln=c==="maximized",St=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Mt=p.useCallback(()=>{g()},[g]),Lt=!F.collapsed,Mn=p.useCallback(async $=>{if(i)return{content:i.content[$]??"",etag:null};const ce=await b.fetchQuery({queryKey:ln.file(e,n,$),queryFn:({signal:Te})=>i0(e,n,$,Te)});if(!ce)throw new Error("File could not be loaded.");return{content:f0(ce),etag:ce.etag??null}},[i,b,e,n]),_e=D2({tree:V,initialActiveFileId:y,loadFile:Mn,persistence:oe??void 0}),Vt=oC(e,n),wn=p.useCallback(async $=>{if(C)return null;const ce=await b.fetchQuery({queryKey:ln.file(e,n,$),queryFn:({signal:Le})=>i0(e,n,$,Le)}),Te=f0(ce);return _e.replaceTabContent($,{content:Te,etag:ce.etag??null,metadata:{size:ce.size??null,modifiedAt:ce.mtime??null,contentType:ce.content_type??_e.tabs.find(Le=>Le.id===$)?.metadata?.contentType??null,etag:ce.etag??null}}),ce},[C,b,e,n,_e]);q2({isDirty:_e.isDirty,shouldBypassNavigation:x});const Hn=p.useCallback(()=>{u()},[u]),Ft=p.useCallback(()=>{Ln?m():f()},[Ln,f,m]),Rt=j!=="open",Sn=p.useMemo(()=>_e.tabs.filter($=>$.status==="ready"&&$.content!==$.initialContent),[_e.tabs]),Vn=_e.tabs.some($=>$.saving),jn=!C&&Sn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[F.collapsed,F.fraction,be.collapsed,be.fraction,Rt,I,Ln]);const Rn=p.useCallback(async $=>{if(C)return!1;const ce=_e.tabs.find(Te=>Te.id===$);if(!ce||ce.status!=="ready"||ce.content===ce.initialContent||ce.saving)return!1;_e.beginSavingTab($);try{const Te=await Vt.mutateAsync({path:ce.id,content:ce.content,etag:ce.etag??void 0,create:!ce.etag,parents:!0}),Le={size:Te.size??ce.metadata?.size??null,modifiedAt:Te.mtime??ce.metadata?.modifiedAt??null,contentType:ce.metadata?.contentType??null,etag:Te.etag??ce.metadata?.etag??null};return _e.completeSavingTab($,{etag:Te.etag??ce.etag??null,metadata:Le}),wt(`Saved ${ce.name}`,{intent:"success",duration:4e3}),!0}catch(Te){const Le=Te instanceof ts&&Te.status===412,nt=Le?new Error("Save blocked because this file changed on the server. Reloading latest version."):Te;if(_e.failSavingTab($,nt instanceof Error?nt.message:String(nt)),Le)try{await wn($),wt("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Bt){Dn(Bt)}return Dn(nt),!1}},[C,_e,Vt,wt,wn,Dn]),Fn=p.useCallback(async $=>{const ce=[];for(const Te of $)await Rn(Te)&&ce.push(Te);return ce},[Rn]),Ns=p.useCallback($=>{Rn($)},[Rn]),zn=p.useCallback(()=>{_e.activeTab&&Rn(_e.activeTab.id)},[_e.activeTab,Rn]),Jt=p.useCallback(()=>{if(!jn)return;const $=Sn.map(ce=>ce.id);(async()=>{const ce=await Fn($);ce.length>1&&wt(`Saved ${ce.length} files`,{intent:"success",duration:5e3})})()},[jn,Sn,Fn,wt]);p.useEffect(()=>{const $=Fe;if(!$||typeof window>"u")return;const ce=()=>{const Le=$.getBoundingClientRect(),nt=Le.width,Bt=Le.height;Ae({width:nt,height:Bt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(ce(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce);const Te=new window.ResizeObserver(()=>ce());return Te.observe($),()=>Te.disconnect()},[Fe]);const Ut=Rt?qC:ZC,_t=p.useMemo(()=>{const $=Math.max(0,Oe.height),Te=Math.max(0,$-Ut-Al),Le=Math.min(jf,Te);return{container:$,minPx:Le,maxPx:Te}},[Oe.height,Ut]),Mi=p.useCallback(($,ce=_t)=>Xn($,ce.minPx,ce.maxPx),[_t]),va=p.useCallback(()=>{const $=H.current;return $&&"version"in $&&$.version===2&&typeof $.fraction=="number"?Xn($.fraction,0,1):$&&"height"in $&&typeof $.height=="number"&&_t.container>0?Xn($.height/_t.container,0,1):.25},[_t.container]);p.useEffect(()=>{I===null&&_t.container>0&&Ee(va())},[I,_t.container,va]);const ba=p.useCallback(()=>_t.container>0&&_t.maxPx<jf?(B("closed"),wt(u0,{intent:"warning",duration:1e4}),!1):(xa(),B("open"),Ee($=>$!==null?Xn($,0,1):va()),!0),[_t,B,wt,xa,va]),Ri=p.useCallback(()=>{B("closed"),xa()},[B,xa]);p.useEffect(()=>{if(ke)return;const $=H.current?.state;if(T||!$){$e(!0);return}($==="open"||$==="closed")&&$!==j&&B($),$e(!0)},[T,j,B,ke]),p.useEffect(()=>{!E||je||I===null||E.set({version:2,fraction:Xn(I,0,1),state:j})},[E,I,j,je]),p.useEffect(()=>{if(!(j!=="open"||!_t.container)){if(_t.maxPx<jf){B("closed"),wt(u0,{intent:"warning",duration:1e4});return}Ee($=>$===null?va():Xn($,0,1))}},[j,_t,B,wt,va]);const qs=p.useCallback(($,ce)=>{if($<=0)return{minPx:ce.min,maxPx:ce.max,minFrac:0,maxFrac:1};const Te=Math.min(ce.min,$),Le=Math.min(ce.max,$);return{minPx:Te,maxPx:Le,minFrac:Te/$,maxFrac:Le/$}},[]),dn=Math.max(0,Oe.width-HC),Un=p.useMemo(()=>qs(dn,UC),[dn,qs]),Bn=p.useMemo(()=>qs(dn,BC),[dn,qs]),Es=p.useCallback(($,ce)=>Xn($,ce.minFrac,ce.maxFrac),[]);p.useEffect(()=>{dn<=0||(me($=>{if($.collapsed)return $;const ce=Es($.fraction,Un);return ce===$.fraction?$:{...$,fraction:ce}}),Ne($=>{if($.collapsed)return $;const ce=Es($.fraction,Bn);return ce===$.fraction?$:{...$,fraction:ce}}))},[dn,Un,Bn,Es]);const Zs=!be.collapsed&&!!_e.activeTab,zt=F.collapsed?0:Xn(F.fraction,Un.minFrac,Un.maxFrac)*dn,tr=Zs?Xn(be.fraction,Bn.minFrac,Bn.maxFrac)*dn:0;let ya=zt,Cs=tr;if(dn>0){const $=(Lt?Al:0)+(Zs?Al:0),ce=zt+tr+$;if(ce>dn){const Te=ce-dn,Le=Math.min(Te,Math.max(0,tr-Bn.minPx));Cs=tr-Le;const nt=Te-Le;if(nt>0){const Bt=Math.min(nt,Math.max(0,zt-Un.minPx));ya=zt-Bt}}}const Nn=Math.max(0,_t.container),no=I??(Nn>0?Xn($C/Nn,0,1):.25),so=Rt?0:no*Nn,Or=Rt?0:Nn>0?Mi(so):0,Lr=Nn>0?Math.max(Ut,Nn-Al-Or):Ut;p.useEffect(()=>{const $=_e.activeTabId;if(!$){N(void 0);return}N($)},[_e.activeTabId,N]),p.useEffect(()=>{!ye||!V||Gs(V,ye)&&(_e.openFile(ye),N(ye),Ce(null))},[ye,V,_e,N]);const Ks=p.useCallback(($,ce,Te=!1)=>{const Le=Te?{...$,force_rebuild:!0}:$;if(C||!V||A.isLoading||A.isError||le!==null||ce.mode==="validation"&&we.isPending||!ba())return null;const nt=new Date,Bt=nt.toISOString();O("terminal"),X(ce.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction"),ce.mode==="validation"?P(kt=>({...kt,status:"running",lastRunAt:Bt,error:null})):ge(null);const Qt=new AbortController;return se.current?.abort(),se.current=Qt,pe({kind:"run",startedAt:Bt,metadata:ce}),(async()=>{let kt=null;try{for await(const qn of hC(n,Le,Qt.signal)){if(xe(xC(qn)),!ie.current)return;const Zr=qn.type;if(Zr?.startsWith("run.")&&(Zr==="run.queued"&&(kt=qn.run_id??qn.id??null),Zr==="run.completed")){const Tt=qn.status??"succeeded",Ps=qn.error?.message?.trim()||"ADE run failed.";if(wt(Tt==="succeeded"?"ADE run completed successfully.":Tt==="canceled"?"ADE run canceled.":Ps,{intent:Tt==="succeeded"?"success":Tt==="canceled"?"info":"danger"}),ce.mode==="extraction"&&kt){const Vi=new Date,Fi=Vi.toISOString(),ar=Math.max(0,Vi.getTime()-nt.getTime()),rr=`/api/v1/runs/${encodeURIComponent(kt)}`;ge({runId:kt,status:Tt,downloadBase:rr,documentName:ce.documentName,sheetNames:ce.sheetNames??[],outputs:[],outputsLoaded:!1,summary:null,summaryLoaded:!1,summaryError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:null,startedAt:Bt,completedAt:Fi,durationMs:ar}),xe({level:Tt==="succeeded"?"success":Tt==="canceled"?"warning":"error",message:ar>0?`Run ${Tt} in ${Tb(ar)}. Open Run summary for details.`:`Run ${Tt}. Open Run summary for details.`,timestamp:Tc(Vi),origin:"run"});try{const en=await vb(kt),xn=(Array.isArray(en.files)?en.files:[]).map(Ts=>{const fo=Ts.path;return{name:Ts.name??fo??"output",path:fo,byte_size:Ts.byte_size??0,download_url:Ts.download_url??void 0}});ge(Ts=>Ts&&Ts.runId===kt?{...Ts,outputs:xn,outputsLoaded:!0}:Ts)}catch(en){const fn=en instanceof Error?en.message:"Unable to load run outputs.";ge(xn=>xn&&xn.runId===kt?{...xn,outputsLoaded:!0,error:fn}:xn)}try{const en=await wb(kt);ge(fn=>fn&&fn.runId===kt?{...fn,summary:en,summaryLoaded:!0}:fn)}catch(en){const fn=en instanceof Error?en.message:"Unable to load run summary.";ge(xn=>xn&&xn.runId===kt?{...xn,summaryLoaded:!0,summaryError:fn}:xn)}try{const en=await bb(kt);ge(fn=>fn&&fn.runId===kt?{...fn,telemetry:en,telemetryLoaded:!0}:fn)}catch(en){const fn=en instanceof Error?en.message:"Unable to load run telemetry.";ge(xn=>xn&&xn.runId===kt?{...xn,telemetryLoaded:!0,telemetryError:fn}:xn)}}}}}catch(qn){if(qn instanceof DOMException&&qn.name==="AbortError")return;Dn(qn)}finally{se.current===Qt&&(se.current=null),ie.current&&pe(null)}})(),Bt},[C,V,A.isLoading,A.isError,le,we.isPending,ba,O,X,P,ge,se,pe,n,xe,wt,Dn]),_s=p.useCallback(()=>{const $=Ks({validate_only:!0},{mode:"validation"},!1);$&&we.mutate(void 0,{onSuccess(ce){const Le=(ce.issues??[]).map(nt=>({level:"error",message:nt.message,path:nt.path}));P({status:"success",messages:Le,lastRunAt:$,error:null,digest:ce.content_digest??null})},onError(ce){const Te=ce instanceof Error?ce.message:"Validation failed.";P({status:"error",messages:[{level:"error",message:Te}],lastRunAt:$,error:Te,digest:null})}})},[Ks,we,P]),Qn=p.useCallback($=>{const ce=Array.from(new Set(($.sheetNames??[]).filter(Boolean)));Ks({input_document_id:$.documentId,input_sheet_names:ce.length?ce:void 0,input_sheet_name:ce.length===1?ce[0]:void 0},{mode:"extraction",documentId:$.documentId,documentName:$.documentName,sheetNames:ce},ee)&&(U(!1),ae(!1))},[Ks,U,ae,ee]);p.useEffect(()=>{if(typeof window>"u")return;const $=ce=>{if(!(St?ce.metaKey:ce.ctrlKey)||ce.altKey||ce.key.toLowerCase()!=="s")return;const Le=ce.target;if(Le){const nt=Le.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||Le.isContentEditable)return}jn&&(ce.preventDefault(),zn())};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[St,jn,zn]);const zi=le?.metadata,ao=le!==null,Ur=le!==null,ro=ao&&zi?.mode==="extraction",Br=ao&&zi?.mode!=="extraction",lu=Y.status==="running"||we.isPending||Br,In=!C&&!!V&&!A.isLoading&&!A.isError&&!Ur&&!we.isPending&&Y.status!=="running",Oi=ro,nr=!C&&!!V&&!A.isLoading&&!A.isError&&!Ur,wa=!C&&!A.isLoading&&!A.isError,$s=wa&&!Ys.isPending,io=p.useCallback($=>{Pt($),$==="explorer"&&me(ce=>({...ce,collapsed:!1}))},[]),lo=p.useCallback($=>{$.preventDefault();const ce=$.currentTarget.getBoundingClientRect();k({x:ce.right+8,y:ce.top})},[]),Sa=p.useCallback(()=>k(null),[]),Li=p.useCallback(()=>{Rt?ba():Ri()},[Rt,ba,Ri]),oo=p.useCallback(()=>{G([])},[]),Ui=p.useCallback(()=>{de&&(ba(),O("runSummary"))},[de,ba,O]),Bi=p.useCallback(()=>{me($=>({...$,collapsed:!$.collapsed}))},[]),ou=p.useCallback(()=>{me($=>({...$,collapsed:!0}))},[]),cu=p.useCallback(()=>{Ne($=>({...$,collapsed:!$.collapsed}))},[]),qr=p.useCallback(async($,ce)=>{const Te=ce.trim();if(!Te)throw new Error("Enter a file name.");if(Te.includes(".."))throw new Error("File name cannot include '..'.");if(!wa)throw new Error("Files are still loading.");const Le=$.replace(/\/+$/,""),nt=Te.replace(/^\/+/,"").replace(/\/+/g,"/"),Qt=(Le?`${Le}/${nt}`:nt).replace(/\/+/g,"/");if(!Qt||Qt.endsWith("/"))throw new Error("Enter a valid file name.");if(V&&Gs(V,Qt))throw new Error("A file or folder with that name already exists.");xt(!0);try{await Vt.mutateAsync({path:Qt,content:"",parents:!0,create:!0}),Ce(Qt),await A.refetch(),wt(`Created ${Qt}`,{intent:"success",duration:4e3})}catch(kt){throw Dn(kt),kt instanceof Error?kt:new Error("Unable to create file.")}finally{xt(!1)}},[wa,V,Vt,A,wt,Dn]),ks=p.useCallback(async $=>{if(!$s)throw new Error("Files are still loading.");const ce=V?Gs(V,$):null;if(!V||!ce)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${$}? This cannot be undone.`)){xt(!1),bt($);try{await Ys.mutateAsync({path:$,etag:ce.metadata?.etag}),_e.closeTab($),Ce(Le=>Le===$?null:Le),await A.refetch(),wt(`Deleted ${$}`,{intent:"info",duration:4e3})}catch(Le){const nt=Le instanceof ts&&Le.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Le instanceof Error?Le.message:"Unable to delete file.";throw Dn(nt),new Error(nt)}finally{bt(Le=>Le===$?null:Le)}}},[$s,V,Ys,_e,A,wt,Dn,bt]),qi=p.useMemo(()=>{const $=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),ce=IC.map(Te=>({id:`theme-${Te.value}`,label:`${Te.label} theme`,icon:z.preference===Te.value?l.jsx(jc,{}):$,onSelect:()=>z.setPreference(Te.value)}));return ce.push({id:"toggle-explorer",label:F.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:F.collapsed?$:l.jsx(jc,{}),onSelect:()=>me(Te=>({...Te,collapsed:!Te.collapsed}))},{id:"toggle-inspector",label:be.collapsed?"Show Inspector":"Hide Inspector",icon:be.collapsed?$:l.jsx(jc,{}),onSelect:()=>Ne(Te=>({...Te,collapsed:!Te.collapsed}))},{id:"toggle-console",label:Rt?"Show Console":"Hide Console",icon:Rt?$:l.jsx(jc,{}),onSelect:Li}),ce},[z,F.collapsed,be.collapsed,Rt,Li]);p.useEffect(()=>{if(typeof document>"u"||!Ln)return;const $=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=$||""}},[Ln]);const Zi=m_(e),ja=St?"S":"Ctrl+S",Na=p.useMemo(()=>{const $=!nr;return[{id:"test-default",label:"Test",disabled:$,onSelect:()=>{ae(!1),U(!0),ne(null)}},{id:"test-force",label:"Force build and test",disabled:$,onSelect:()=>{ae(!0),U(!0),ne(null)}}]},[nr,ae,U,ne]);if(!i&&A.isLoading)return l.jsx(Et,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&A.isError)return l.jsx(Et,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!V)return l.jsx(Et,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const co=Ln?R==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":R==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",$i=R==="dark"?"#1b1f27":"#ffffff",uo=R==="dark"?"#f5f6fb":"#0f172a",sr=Ln?ve("fixed inset-0 z-[90] flex flex-col",R==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):ve("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",R==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return l.jsxs("div",{className:ve("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",co),children:[Ln?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:sr,children:[l.jsx(KC,{configName:a,workspaceLabel:Zi,validationLabel:Q,latestRun:de,onShowRunSummary:Ui,canSaveFiles:jn,isSavingFiles:Vn,onSaveFile:zn,saveShortcutLabel:ja,onOpenTestMenu:$=>ne($),canRunValidation:In,isRunningValidation:lu,onRunValidation:_s,canRunExtraction:nr,isRunningExtraction:Oi,onRunExtraction:$=>{nr&&(ae($),U(!0))},explorerVisible:Lt,onToggleExplorer:Bi,consoleOpen:!Rt,onToggleConsole:Li,inspectorCollapsed:be.collapsed,onToggleInspector:cu,appearance:R,windowState:c,onMinimizeWindow:Hn,onToggleMaximize:Ft,onCloseWindow:Mt}),l.jsxs("div",{ref:et,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(Tj,{activeView:tt,onSelectView:io,onOpenSettings:lo,appearance:R}),Lt?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:ya},children:tt==="explorer"&&_e.tree?l.jsx(o2,{width:ya,tree:_e.tree,activeFileId:_e.activeTab?.id??"",openFileIds:_e.tabs.map($=>$.id),onSelectFile:$=>{_e.openFile($),N($)},theme:R,canCreateFile:wa,isCreatingFile:He,onCreateFile:qr,canDeleteFile:$s,deletingFilePath:Ve,onDeleteFile:ks,onCloseFile:_e.closeTab,onCloseOtherFiles:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllFiles:_e.closeAllTabs,onHide:ou}):l.jsx(YC,{width:ya,view:tt})}),l.jsx(bf,{orientation:"vertical",onPointerDown:$=>{const ce=$.clientX,Te=ya;Sf($,{cursor:"col-resize",onMove:Le=>{const nt=Le.clientX-ce,Bt=Xn(Te+nt,Un.minPx,Un.maxPx);me(Qt=>Qt.collapsed||dn<=0?Qt:{...Qt,fraction:Es(Bt/dn,Un)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:$i,color:uo},children:Rt?l.jsx(Kx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:$=>{_e.selectTab($),N($)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:Ns,onSaveAllTabs:Jt,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:z.resolvedTheme,menuAppearance:R,canSaveFiles:jn,minHeight:Ut}):l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Nn>0?`${Nn}px`:void 0,gridTemplateRows:`${Math.max(Ut,Lr)}px ${Al}px ${Math.max(0,Or)}px`},children:[l.jsx(Kx,{tabs:_e.tabs,activeTabId:_e.activeTab?.id??"",onSelectTab:$=>{_e.selectTab($),N($)},onCloseTab:_e.closeTab,onCloseOtherTabs:_e.closeOtherTabs,onCloseTabsToRight:_e.closeTabsToRight,onCloseAllTabs:_e.closeAllTabs,onContentChange:_e.updateContent,onSaveTab:Ns,onSaveAllTabs:Jt,onMoveTab:_e.moveTab,onPinTab:_e.pinTab,onUnpinTab:_e.unpinTab,onSelectRecentTab:_e.selectRecentTab,editorTheme:z.resolvedTheme,menuAppearance:R,canSaveFiles:jn,minHeight:Ut}),l.jsx(bf,{orientation:"horizontal",onPointerDown:$=>{qe(!0);const ce=$.clientY,Te=Or;Sf($,{cursor:"row-resize",onMove:Le=>{if(_t.maxPx<=0||Nn<=0)return;const nt=ce-Le.clientY,Bt=Xn(Te+nt,_t.minPx,_t.maxPx);Ee(Xn(Bt/Nn,0,1))},onEnd:()=>{qe(!1)}})}}),l.jsx(Uj,{height:Math.max(0,Or),consoleLines:Z,validation:Y,activePane:w,onPaneChange:O,latestRun:de,onShowRunDetails:Ui,onClearConsole:oo})]})}),Zs?l.jsxs(l.Fragment,{children:[l.jsx(bf,{orientation:"vertical",onPointerDown:$=>{const ce=$.clientX,Te=Cs;Sf($,{cursor:"col-resize",onMove:Le=>{const nt=ce-Le.clientX,Bt=Xn(Te+nt,Bn.minPx,Bn.maxPx);Ne(Qt=>Qt.collapsed||dn<=0?Qt:{...Qt,fraction:Es(Bt/dn,Bn)})}})}}),l.jsx(j2,{width:Cs,file:_e.activeTab??null})]}):null]})]}),Se?l.jsx(PC,{open:Se,workspaceId:e,onClose:()=>{U(!1),ae(!1)},onRun:Qn}):null,l.jsx(Ql,{open:!!_,position:_,onClose:()=>ne(null),items:Na,appearance:R}),l.jsx(Ql,{open:!!D,position:D,onClose:Sa,items:qi,appearance:R})]})}function WC({summary:e,appearance:n,onClick:a}){const i=Tb(e.durationMs),c=t_(e.sheetNames),u=e.documentName??"Document not recorded",f=n_(e.status),m=n==="dark"?"border-white/15 bg-white/5 text-white hover:border-white/25 hover:bg-white/10 focus-visible:ring-white/40":"border-slate-200 bg-slate-100 text-slate-800 hover:border-slate-300 hover:bg-white focus-visible:ring-slate-400/40",g=n==="dark"?"text-white/70":"text-slate-500",x=n==="dark"?"text-brand-200":"text-brand-700";return l.jsxs("button",{type:"button",onClick:a,className:ve("flex max-w-sm flex-col items-start gap-1 rounded-md border px-3 py-2 text-left text-[13px] shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",m),title:"View the latest run summary",children:[l.jsxs("span",{className:"flex items-center gap-2 text-xs font-semibold",children:[l.jsx(e_,{status:e.status}),l.jsxs("span",{className:"leading-none",children:["Last run: ",f]}),i?l.jsxs("span",{className:ve("font-normal",g),children:[" ",i]}):null]}),l.jsxs("span",{className:ve("line-clamp-1 text-[12px]",g),children:[u,c?`  ${c}`:""]}),l.jsx("span",{className:ve("text-[11px] font-semibold",x),children:"View summary"})]})}function YC({width:e,view:n}){const a=GC[n]||"Coming soon";return l.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:a})}function jc(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function KC({configName:e,workspaceLabel:n,validationLabel:a,latestRun:i,onShowRunSummary:c,canSaveFiles:u,isSavingFiles:f,onSaveFile:m,saveShortcutLabel:g,onOpenTestMenu:x,canRunValidation:b,isRunningValidation:y,onRunValidation:w,canRunExtraction:j,isRunningExtraction:T,onRunExtraction:N,explorerVisible:O,onToggleExplorer:B,consoleOpen:C,onToggleConsole:A,inspectorCollapsed:V,onToggleInspector:Z,appearance:G,windowState:Y,onMinimizeWindow:P,onToggleMaximize:se,onCloseWindow:ie}){const le=G==="dark",pe=le?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",de=le?"text-white/60":"text-slate-500",ge=le?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",Se=le?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",U=Y==="maximized";return l.jsxs("div",{className:ve("flex items-center justify-between border-b px-4 py-2",pe),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(s_,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:ve("text-[10px] font-semibold uppercase tracking-[0.35em]",de),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:ve("text-[11px]",de),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[i?l.jsx(WC,{summary:i,appearance:G,onClick:c}):null,a?l.jsx("span",{className:ve("text-xs",de),children:a}):null,l.jsxs("button",{type:"button",onClick:m,disabled:!u,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",ge),title:`Save (${g})`,children:[f?l.jsx(Nf,{}):l.jsx(d_,{}),f?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:w,disabled:!b,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",Se),children:[y?l.jsx(Nf,{}):l.jsx(d0,{}),y?"Running":"Run validation"]}),l.jsx(F2,{label:T?"Running":"Test run",icon:T?l.jsx(Nf,{}):l.jsx(d0,{}),disabled:!j,isLoading:T,title:"Run test run",primaryClassName:ve(Se,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:ve(Se,"rounded-l-none px-2",le?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>N(!1),onOpenMenu:X=>x(X),onContextMenu:X=>{X.preventDefault(),x({x:X.clientX,y:X.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(xi,{ariaLabel:O?"Hide explorer":"Show explorer",onClick:B,appearance:G,active:O,icon:l.jsx(a_,{active:O})}),l.jsx(xi,{ariaLabel:V?"Show inspector":"Hide inspector",onClick:Z,appearance:G,active:!V,icon:l.jsx(i_,{})}),l.jsx(xi,{ariaLabel:C?"Hide console":"Show console",onClick:A,appearance:G,active:C,icon:l.jsx(r_,{})})]}),l.jsxs("div",{className:ve("flex items-center gap-2 border-l pl-3",G==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(xi,{ariaLabel:"Minimize workbench",onClick:P,appearance:G,icon:l.jsx(c_,{})}),l.jsx(xi,{ariaLabel:U?"Restore workbench":"Maximize workbench",onClick:se,appearance:G,active:U,icon:U?l.jsx(o_,{}):l.jsx(l_,{})}),l.jsx(xi,{ariaLabel:"Close workbench",onClick:ie,appearance:G,icon:l.jsx(u_,{})})]})]})]})}function PC({open:e,workspaceId:n,onClose:a,onRun:i}){const c=p.useRef(null),u=gn({queryKey:["builder-documents",n],queryFn:({signal:A})=>XC(n,A),staleTime:6e4}),f=p.useMemo(()=>u.data??[],[u.data]),[m,g]=p.useState("");p.useEffect(()=>{if(!f.length){g("");return}g(A=>A&&f.some(V=>V.id===A)?A:f[0]?.id??"")},[f]);const x=f.find(A=>A.id===m)??null,b=gn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:A})=>Sb(n,m,A),enabled:!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,j]=p.useState([]);p.useEffect(()=>{if(!y.length){j([]);return}j(A=>A.filter(V=>y.some(Z=>Z.name===V)))},[y]);const T=p.useMemo(()=>Array.from(new Set(w.filter(A=>y.some(V=>V.name===A)))),[w,y]),N=p.useCallback(A=>{j(V=>V.includes(A)?V.filter(Z=>Z!==A):[...V,A])},[]);if(!e)return null;const O=!x||u.isLoading||u.isError,B=y.length>0,C=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),u.isError?l.jsx(ut,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):f.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(Xa,{id:"builder-run-document-select",value:m,onChange:A=>g(A.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:f.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",JC(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(ut,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]})]})}):B?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:T.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${T.length.toLocaleString()} worksheet${T.length===1?"":"s"} selected.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(A=>{const V=T.includes(A.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:V,onChange:()=>N(A.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[A.name,A.is_active?" (active)":""]})]},`${A.index}-${A.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(ze,{variant:"ghost",onClick:a,children:"Cancel"}),l.jsx(ze,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:T.length>0?T:void 0})},disabled:O,children:"Start test run"})]})]})});return typeof document>"u"?null:ma.createPortal(C,document.body)}async function XC(e,n){const{data:a}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return a?.items??[]}function JC(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function xi({ariaLabel:e,onClick:n,icon:a,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:a})}function e_({status:e}){const n=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"||e==="active"?"bg-amber-400":e==="canceled"?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ve("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}function t_(e){return e?e.length===0?"All worksheets":e.join(", "):null}function n_(e){switch(e){case"succeeded":return"Succeeded";case"failed":return"Failed";case"canceled":return"Canceled";case"queued":return"Queued";case"running":case"active":return"Running";default:return e}}function Tb(e){if(e==null||!Number.isFinite(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return`${n}m ${a}s`}function s_(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function a_({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function r_(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function i_(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function l_(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function o_(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function c_(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function u_(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Nf(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function d0(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function d_(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function f_(e){return e instanceof ts?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function h_(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function m_(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function f0(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function p_(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Ab=p.createContext(null);function Db(){const e=p.useContext(Ab);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function g_({workspaceId:e,children:n}){const a=Tn(),i=Ss(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Pa(p_(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),j=p.useMemo(()=>S_(i.pathname,e),[i.pathname,e]),T=!!j;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{T||y.set(`${i.pathname}${i.search}${i.hash}`)},[T,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){x.current=null;return}const ie=x.current;if(T&&j===c.configId){if(ie==="dock"){x.current=null,m("minimized");return}ie&&(x.current=null);return}if(ie==="dock"){x.current=null;return}if(ie==="close"){x.current=null;return}u(null),m("restored"),x.current=null},[c,T,j,f]),p.useEffect(()=>{if(!c||!T||j!==c.configId)return;const ie=m0(i.search);ie!==c.editorSearch&&u(le=>!le||le.instanceId!==c.instanceId?le:{...le,editorSearch:ie})},[c,T,j,i.search]);const N=p.useCallback(()=>y.get()??w,[y,w]),O=p.useCallback(ie=>{u(le=>{if(!le)return le;const pe=new URLSearchParams(le.editorSearch),de=typeof ie=="function"?ie(new URLSearchParams(pe)):ie,Se=pb(de).toString();return Se===le.editorSearch?le:{...le,editorSearch:Se}})},[]),B=p.useCallback(ie=>{const le=m0(ie.editorSearch??i.search);let pe=f==="minimized";u(de=>{if(de&&de.workspaceId===ie.workspaceId&&de.configId===ie.configId){const ge=ie.seed??de.seed,Se=ie.editorSearch!==void 0?le:de.editorSearch;return de.configName===ie.configName&&de.seed===ge&&de.editorSearch===Se?de:{...de,configName:ie.configName,seed:ge,editorSearch:Se}}return pe=!0,g.current+=1,{...ie,editorSearch:le,instanceId:`${ie.workspaceId}:${ie.configId}:${g.current}`}}),pe&&m("restored")},[i.search,f]),C=p.useCallback(()=>{c&&(u(null),m("restored"),x.current="close",a(N()))},[c,a,N]),A=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),x.current="dock",a(N()))},[c,a,N]),V=p.useCallback(()=>{if(!c)return;m("restored");const ie=j_(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==ie&&a(ie)},[c,a,i.pathname,i.search]),Z=p.useCallback(()=>{c&&m("maximized")},[c]),G=p.useCallback(()=>{const ie=b.current;return b.current=!1,ie},[]),Y=p.useMemo(()=>({session:c,windowState:f,openSession:B,closeSession:C,minimizeWindow:A,maximizeWindow:Z,restoreWindow:V,shouldBypassUnsavedGuard:G}),[c,f,B,C,A,Z,V,G]),P=!!c&&(!T||j!==c?.configId),se=p.useMemo(()=>P&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:O}:null,[P,c,O]);return l.jsxs(Ab.Provider,{value:Y,children:[n,l.jsx(M2,{value:se,children:l.jsx(x_,{session:c,windowState:f,onClose:C,onMinimize:A,onMaximize:Z,onRestore:V,shouldBypassUnsavedGuard:G})}),c&&f==="minimized"?l.jsx(v_,{configName:c.configName,onRestore:V,onDismiss:C}):null]})}function x_({session:e,windowState:n,onClose:a,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(kb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:a,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function v_({configName:e,onRestore:n,onDismiss:a}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(b_,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(h0,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(y_,{})}),l.jsx(h0,{ariaLabel:"Close minimized workbench",onClick:a,destructive:!0,children:l.jsx(w_,{})})]})]})})})}function h0({ariaLabel:e,onClick:n,children:a,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:a})}function b_(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function y_(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function w_(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function S_(e,n){const a=`/workspaces/${n}/config-builder/`;if(!e.startsWith(a))return null;const i=e.slice(a.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function j_(e,n,a){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return a.length>0?`${i}?${a}`:i}function m0(e){return e?e.startsWith("?")?e.slice(1):e:""}function Mb({id:e,value:n,defaultValue:a="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:y,variant:w="default",isLoading:j=!1,loadingLabel:T="Loading suggestions",filters:N,onSelectFilter:O,emptyState:B,onChange:C,onSubmit:A,onClear:V,onFocus:Z,onBlur:G,suggestions:Y=[],onSelectSuggestion:P,renderSuggestion:se}){const ie=p.useId(),le=e??ie,pe=`${ie}-suggestions`,de=p.useRef(null),ge=n!==void 0,[Se,U]=p.useState(a),[X,xe]=p.useState(!1),[we,oe]=p.useState(0),E=ge?n??"":Se,H=Y.length>0,z=!!N?.length,R=X&&(H||j||!!B||z),Q=X&&!H&&!j&&!!B,F=!!(V||!ge),me=u||"K",be=c??i;p.useEffect(()=>{ge||U(a)},[a,ge]),p.useEffect(()=>{oe(0)},[Y.length,E]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Ae=Fe=>{(Fe.metaKey||Fe.ctrlKey)&&Fe.key.toLowerCase()===f.toLowerCase()&&(Fe.preventDefault(),de.current?.focus())};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[m,f]);const Ne=Ae=>{Ae.preventDefault();const Fe=E.trim();!Fe&&!A||A?.(Fe)},I=Ae=>{ge||U(Ae),C?.(Ae)},Ee=()=>{E&&(ge||U(""),C?.(""),V?.(),de.current?.focus())},ke=Ae=>{Ae&&(P?.(Ae),Ae.action?.(),xe(!1),de.current?.blur())},$e=Ae=>{if(!R||!H){Ae.key==="Escape"&&(xe(!1),Ae.currentTarget.blur());return}if(Ae.key==="ArrowDown"){Ae.preventDefault(),oe(Fe=>(Fe+1)%Y.length);return}if(Ae.key==="ArrowUp"){Ae.preventDefault(),oe(Fe=>(Fe-1+Y.length)%Y.length);return}if(Ae.key==="Enter"){Ae.preventDefault(),ke(Y[we]);return}Ae.key==="Escape"&&(Ae.preventDefault(),xe(!1),Ae.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:ve("relative",y),children:[l.jsx("div",{className:ve("group/search overflow-hidden",Oe,R&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":be,onSubmit:Ne,children:[l.jsx("label",{htmlFor:le,className:"sr-only",children:be}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(E_,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:de,id:le,type:"search",value:E,onChange:Ae=>I(Ae.target.value),onFocus:()=>{xe(!0),Z?.(),H||oe(0)},onBlur:()=>{xe(!1),G?.()},onKeyDown:$e,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":R,"aria-controls":R?pe:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[F&&E?l.jsx("button",{type:"button",onClick:Ee,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(C_,{className:"h-3.5 w-3.5"})}):null,j?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":T,children:l.jsx(__,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:me})]})]})}),R?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[H?l.jsx("ul",{id:pe,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:Y.map((Ae,Fe)=>{const et=Fe===we,tt=se?.({suggestion:Ae,active:et})??l.jsx(N_,{suggestion:Ae,active:et});return l.jsx("li",{children:l.jsx("button",{type:"button",role:"option","aria-selected":et,onMouseEnter:()=>oe(Fe),onMouseDown:Pt=>Pt.preventDefault(),onClick:()=>ke(Ae),className:ve("flex w-full px-5 py-3 text-left transition",et?"bg-brand-50/60":"hover:bg-slate-50/80"),children:tt})},Ae.id)})}):null,Q?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:B}):null,z?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),N?.map(Ae=>l.jsx("button",{type:"button",onMouseDown:Fe=>Fe.preventDefault(),onClick:()=>O?.(Ae),className:ve("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ae.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ae.label},Ae.id))]})}):null]}):null]})}function N_({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:ve("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function E_({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function C_({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function __({className:e="h-4 w-4"}){return l.jsxs("svg",{className:ve("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function Rb({brand:e,leading:n,actions:a,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:ve("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:ve("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(Mb,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[a,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function zb({displayName:e,email:n,actions:a=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),g=p.useRef(null),x=Tn(),b=p.useMemo(()=>k_(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const T=O=>{const B=O.target;B&&(g.current?.contains(B)||m.current?.contains(B)||y())},N=O=>{O.key==="Escape"&&y()};return window.addEventListener("mousedown",T),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",N),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",N)}},[y,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(T=>{y(),T()},[y]),j=p.useCallback(async()=>{u||(y(),f(!0),x("/logout",{replace:!0}))},[y,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(T=>!T),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(A_,{className:ve("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:a.map(T=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(T.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:T.icon??T.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:T.label}),T.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:T.description}):null]})]})},T.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:j,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(T_,{}):null]})})]}):null]})}function k_(e){const n=e.split(" ").map(a=>a.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function T_(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function A_({className:e}){return l.jsx("svg",{className:ve("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Zc({to:e,replace:n,className:a,title:i,children:c,onClick:u}){const f=Tn();return l.jsx("a",{href:e,className:a,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),f(e,{replace:n}))},children:c})}function D_({to:e,end:n,className:a,children:i,title:c,onClick:u}){const{pathname:f}=Ss(),m=n?f===e:f===e||f.startsWith(`${e}/`),g=typeof a=="function"?a({isActive:m}):a,x=typeof i=="function"?i({isActive:m}):i;return l.jsx(Zc,{to:e,className:g,title:c,onClick:u,children:x})}function Jl(e){return function({title:a,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":a?void 0:!0,role:a?"img":"presentation",...i,children:[a?l.jsx("title",{children:a}):null,l.jsx("path",{d:e})]})}}const M_=Jl("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),R_=Jl("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),z_=Jl("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),O_=Jl("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),L_=Jl("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),Ob=[{id:"documents",path:"documents",label:"Documents",icon:M_},{id:"runs",path:"runs",label:"Runs",icon:R_},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:z_},{id:"settings",path:"settings",label:"Workspace Settings",icon:O_}],Ka=Ob[0];function Lb(e){return Ob.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const U_="4.25rem",B_="18.75rem";function q_({workspace:e,collapsed:n,onToggleCollapse:a,items:i,onGoToWorkspaces:c}){const u=i??Lb(e),f=H_(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?U_:B_},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:l.jsxs("div",{className:ve("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:ve("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:ve("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?l.jsx($_,{}):l.jsx(Z_,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Ub,{items:u,collapsed:n})})]})})}function Ub({items:e,collapsed:n=!1,onNavigate:a,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:ve("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(D_,{to:u.href,end:!0,title:n?u.label:void 0,onClick:a,className:({isActive:f})=>ve("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:ve("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:ve("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:ve("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:ve("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function Z_(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function $_(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function H_(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}async function V_(e={}){const{data:n}=await Ge.GET("/api/v1/system/safe-mode",{signal:e.signal}),a=n??{},i=!!a.enabled,c=typeof a.detail=="string"&&a.detail.trim().length>0?a.detail.trim():Os;return{enabled:i,detail:c}}async function F_(e,n={}){const{data:a}=await Ge.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),i=a??{};return{enabled:!!i.enabled,detail:typeof i.detail=="string"&&i.detail.trim().length>0?i.detail.trim():Os}}const Os="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.",Bb=["system","safe-mode"];function gh(){return gn({queryKey:Bb,queryFn:({signal:e})=>V_({signal:e}),staleTime:3e4,refetchInterval:6e4})}function Q_(){const e=Ct();return An({mutationFn:n=>F_(n),onSuccess:()=>{e.invalidateQueries({queryKey:Bb})}})}const I_="K",G_="Ctrl+K";function qb({macLabel:e=I_,windowsLabel:n=G_}={}){const[a,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),a}function W_(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const Y_=100;function xh({workspaceId:e,enabled:n=!0,page:a=1,pageSize:i=Y_}){return gn({queryKey:ln.list(e,{page:a,pageSize:i}),queryFn:({signal:c})=>W2(e,{page:a,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function K_({workspaceId:e,configurationId:n,enabled:a=!0}){return gn({queryKey:ln.detail(e,n??""),queryFn:({signal:i})=>n?Y2(e,n,i):Promise.resolve(null),enabled:a&&e.length>0&&!!n,staleTime:1e4})}function P_({workspaceId:e,configId:n,enabled:a=!0}){return gn({queryKey:ln.versions(e,n),queryFn:({signal:i})=>nC(e,n,{signal:i}),enabled:a&&e.length>0&&n.length>0,placeholderData:i=>i??[],staleTime:15e3})}function X_(e){const n=Ct();return An({mutationFn:a=>tC(e,a),async onSuccess(){await n.invalidateQueries({queryKey:ln.root(e)})}})}function he(e,n,a){function i(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=g}const c=a?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var g;const x=a?.Parent?new u:this;i(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>a?.Parent&&m instanceof a.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class ji extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Zb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const $b={};function Ar(e){return $b}function J_(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function Ff(e,n){return typeof n=="bigint"?n.toString():n}function vh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function bh(e){return e==null}function yh(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}function ek(e,n){const a=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const g=i.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const u=a>c?a:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const p0=Symbol("evaluating");function vt(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==p0)return i===void 0&&(i=p0,i=a()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function Rr(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function zr(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function g0(e){return JSON.stringify(e)}const Hb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function $c(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const tk=vh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Il(e){if($c(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!($c(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Vb(e){return Il(e)?{...e}:Array.isArray(e)?[...e]:e}const nk=new Set(["string","number","symbol"]);function Ei(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function er(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a?.parent)&&(i._zod.parent=e),i}function Be(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function sk(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const ak={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function rk(e,n){const a=e._zod.def,i=zr(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=a.shape[u])}return Rr(this,"shape",c),c},checks:[]});return er(e,i)}function ik(e,n){const a=e._zod.def,i=zr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return Rr(this,"shape",c),c},checks:[]});return er(e,i)}function lk(e,n){if(!Il(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=zr(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Rr(this,"shape",u),u},checks:[]});return er(e,c)}function ok(e,n){if(!Il(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Rr(this,"shape",i),i},checks:e._zod.def.checks};return er(e,a)}function ck(e,n){const a=zr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Rr(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return er(e,a)}function uk(e,n,a){const i=zr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return Rr(this,"shape",u),u},checks:[]});return er(n,i)}function dk(e,n,a){const i=zr(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return Rr(this,"shape",u),u},checks:[]});return er(n,i)}function wi(e,n=0){if(e.aborted===!0)return!0;for(let a=n;a<e.issues.length;a++)if(e.issues[a]?.continue!==!0)return!0;return!1}function Fb(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function Nc(e){return typeof e=="string"?e:e?.message}function Dr(e,n,a){const i={...e,path:e.path??[]};if(!e.message){const c=Nc(e.inst?._zod.def?.error?.(e))??Nc(n?.error?.(e))??Nc(a.customError?.(e))??Nc(a.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function wh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Gl(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const Qb=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Ff,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Sh=he("$ZodError",Qb),Jc=he("$ZodError",Qb,{Parent:Error});function fk(e,n=a=>a.message){const a={},i=[];for(const c of e.issues)c.path.length>0?(a[c.path[0]]=a[c.path[0]]||[],a[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:a}}function hk(e,n=a=>a.message){const a={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let f=a,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(n(u))):f[g]=f[g]||{_errors:[]},f=f[g],m++}}};return i(e),a}const eu=e=>(n,a,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise)throw new ji;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>Dr(g,u,Ar())));throw Hb(m,c?.callee),m}return f.value},mk=eu(Jc),tu=e=>async(n,a,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>Dr(g,u,Ar())));throw Hb(m,c?.callee),m}return f.value},pk=tu(Jc),nu=e=>(n,a,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise)throw new ji;return u.issues.length?{success:!1,error:new(e??Sh)(u.issues.map(f=>Dr(f,c,Ar())))}:{success:!0,data:u.value}},gk=nu(Jc),su=e=>async(n,a,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>Dr(f,c,Ar())))}:{success:!0,data:u.value}},xk=su(Jc),vk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eu(e)(n,a,c)},bk=e=>(n,a,i)=>eu(e)(n,a,i),yk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return tu(e)(n,a,c)},wk=e=>async(n,a,i)=>tu(e)(n,a,i),Sk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return nu(e)(n,a,c)},jk=e=>(n,a,i)=>nu(e)(n,a,i),Nk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return su(e)(n,a,c)},Ek=e=>async(n,a,i)=>su(e)(n,a,i),Ck=/^[cC][^\s-]{8,}$/,_k=/^[0-9a-z]+$/,kk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Tk=/^[0-9a-vA-V]{20}$/,Ak=/^[A-Za-z0-9]{27}$/,Dk=/^[a-zA-Z0-9_-]{21}$/,Mk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Rk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,x0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,zk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ok="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Lk(){return new RegExp(Ok,"u")}const Uk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,qk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Zk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$k=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ib=/^[A-Za-z0-9_-]*$/,Hk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Vk=/^\+(?:[0-9]){6,14}[0-9]$/,Gb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fk=new RegExp(`^${Gb}$`);function Wb(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Qk(e){return new RegExp(`^${Wb(e)}$`)}function Ik(e){const n=Wb({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${Gb}T(?:${i})$`)}const Gk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},Wk=/^-?\d+$/,Yk=/^-?\d+(?:\.\d+)?/,Kk=/^(?:true|false)$/i,Pk=/^[^A-Z]*$/,Xk=/^[^a-z]*$/,ss=he("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),Yb={number:"number",bigint:"bigint",object:"date"},Kb=he("$ZodCheckLessThan",(e,n)=>{ss.init(e,n);const a=Yb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Pb=he("$ZodCheckGreaterThan",(e,n)=>{ss.init(e,n);const a=Yb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Jk=he("$ZodCheckMultipleOf",(e,n)=>{ss.init(e,n),e._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):ek(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:e,continue:!n.abort})}}),e5=he("$ZodCheckNumberFormat",(e,n)=>{ss.init(e,n),n.format=n.format||"float64";const a=n.format?.includes("int"),i=a?"int":"number",[c,u]=ak[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,a&&(m.pattern=Wk)}),e._zod.check=f=>{const m=f.value;if(a){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),t5=he("$ZodCheckMaxLength",(e,n)=>{var a;ss.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!bh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=wh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),n5=he("$ZodCheckMinLength",(e,n)=>{var a;ss.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!bh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=wh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),s5=he("$ZodCheckLengthEquals",(e,n)=>{var a;ss.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!bh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=wh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),au=he("$ZodCheckStringFormat",(e,n)=>{var a,i;ss.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),a5=he("$ZodCheckRegex",(e,n)=>{au.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),r5=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=Pk),au.init(e,n)}),i5=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=Xk),au.init(e,n)}),l5=he("$ZodCheckIncludes",(e,n)=>{ss.init(e,n);const a=Ei(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),o5=he("$ZodCheckStartsWith",(e,n)=>{ss.init(e,n);const a=new RegExp(`^${Ei(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),c5=he("$ZodCheckEndsWith",(e,n)=>{ss.init(e,n);const a=new RegExp(`.*${Ei(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),u5=he("$ZodCheckOverwrite",(e,n)=>{ss.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class d5{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,a=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...a,c.join(`
`))}}const f5={major:4,minor:1,patch:12},Ht=he("$ZodType",(e,n)=>{var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=f5;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,g)=>{let x=wi(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(x)continue;const w=f.issues.length,j=y._zod.check(f);if(j instanceof Promise&&g?.async===!1)throw new ji;if(b||j instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await j,f.issues.length!==w&&(x||(x=wi(f,w)))});else{if(f.issues.length===w)continue;x||(x=wi(f,w))}}return b?b.then(()=>f):f},u=(f,m,g)=>{if(wi(f))return f.aborted=!0,f;const x=c(m,i,g);if(x instanceof Promise){if(g.async===!1)throw new ji;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const x=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,f,m)):u(x,f,m)}const g=e._zod.parse(f,m);if(g instanceof Promise){if(m.async===!1)throw new ji;return g.then(x=>c(x,i,m))}return c(g,i,m)}}e["~standard"]={validate:c=>{try{const u=gk(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return xk(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),jh=he("$ZodString",(e,n)=>{Ht.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Gk(e._zod.bag),e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),Dt=he("$ZodStringFormat",(e,n)=>{au.init(e,n),jh.init(e,n)}),h5=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=Rk),Dt.init(e,n)}),m5=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=x0(i))}else n.pattern??(n.pattern=x0());Dt.init(e,n)}),p5=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=zk),Dt.init(e,n)}),g5=he("$ZodURL",(e,n)=>{Dt.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Hk.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=c.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),x5=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=Lk()),Dt.init(e,n)}),v5=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=Dk),Dt.init(e,n)}),b5=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=Ck),Dt.init(e,n)}),y5=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=_k),Dt.init(e,n)}),w5=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=kk),Dt.init(e,n)}),S5=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=Tk),Dt.init(e,n)}),j5=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=Ak),Dt.init(e,n)}),N5=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Ik(n)),Dt.init(e,n)}),E5=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=Fk),Dt.init(e,n)}),C5=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=Qk(n)),Dt.init(e,n)}),_5=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=Mk),Dt.init(e,n)}),k5=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=Uk),Dt.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv4"})}),T5=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=Bk),Dt.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),A5=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=qk),Dt.init(e,n)}),D5=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=Zk),Dt.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function Xb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const M5=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=$k),Dt.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{Xb(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function R5(e){if(!Ib.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return Xb(a)}const z5=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=Ib),Dt.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{R5(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),O5=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=Vk),Dt.init(e,n)});function L5(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const U5=he("$ZodJWT",(e,n)=>{Dt.init(e,n),e._zod.check=a=>{L5(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),Jb=he("$ZodNumber",(e,n)=>{Ht.init(e,n),e._zod.pattern=e._zod.bag.pattern??Yk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const c=a.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return a;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),a}}),B5=he("$ZodNumber",(e,n)=>{e5.init(e,n),Jb.init(e,n)}),q5=he("$ZodBoolean",(e,n)=>{Ht.init(e,n),e._zod.pattern=Kk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const c=a.value;return typeof c=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),a}}),Z5=he("$ZodUnknown",(e,n)=>{Ht.init(e,n),e._zod.parse=a=>a}),$5=he("$ZodNever",(e,n)=>{Ht.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function v0(e,n,a){e.issues.length&&n.issues.push(...Fb(a,e.issues)),n.value[a]=e.value}const H5=he("$ZodArray",(e,n)=>{Ht.init(e,n),e._zod.parse=(a,i)=>{const c=a.value;if(!Array.isArray(c))return a.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),a;a.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],g=n.element._zod.run({value:m,issues:[]},i);g instanceof Promise?u.push(g.then(x=>v0(x,a,f))):v0(g,a,f)}return u.length?Promise.all(u).then(()=>a):a}});function Hc(e,n,a,i){e.issues.length&&n.issues.push(...Fb(a,e.issues)),e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function ey(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const a=sk(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function ty(e,n,a,i,c,u){const f=[],m=c.keySet,g=c.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(x==="never"){f.push(b);continue}const y=g.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>Hc(w,a,b,n))):Hc(y,a,b,n)}return f.length&&a.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const V5=he("$ZodObject",(e,n)=>{if(Ht.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=vh(()=>ey(n));vt(e._zod,"propValues",()=>{const m=n.shape,g={};for(const x in m){const b=m[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const y of b.values)g[x].add(y)}}return g});const c=$c,u=n.catchall;let f;e._zod.parse=(m,g)=>{f??(f=i.value);const x=m.value;if(!c(x))return m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const T=y[w]._zod.run({value:x[w],issues:[]},g);T instanceof Promise?b.push(T.then(N=>Hc(N,m,w,x))):Hc(T,m,w,x)}return u?ty(b,x,m,g,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),F5=he("$ZodObjectJIT",(e,n)=>{V5.init(e,n);const a=e._zod.parse,i=vh(()=>ey(n)),c=w=>{const j=new d5(["shape","payload","ctx"]),T=i.value,N=A=>{const V=g0(A);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};j.write("const input = payload.value;");const O=Object.create(null);let B=0;for(const A of T.keys)O[A]=`key_${B++}`;j.write("const newResult = {};");for(const A of T.keys){const V=O[A],Z=g0(A);j.write(`const ${V} = ${N(A)};`),j.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        
        if (${V}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${V}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const C=j.compile();return(A,V)=>C(w,A,V)};let u;const f=$c,m=!$b.jitless,x=m&&tk.value,b=n.catchall;let y;e._zod.parse=(w,j)=>{y??(y=i.value);const T=w.value;return f(T)?m&&x&&j?.async===!1&&j.jitless!==!0?(u||(u=c(n.shape)),w=u(w,j),b?ty([],T,w,j,y,e):w):a(w,j):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:e}),w)}});function b0(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!wi(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(f=>Dr(f,i,Ar())))}),n)}const Q5=he("$ZodUnion",(e,n)=>{Ht.init(e,n),vt(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),vt(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),vt(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),vt(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>yh(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(a)return i(c,u);let f=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:c.value,issues:[]},u);if(x instanceof Promise)m.push(x),f=!0;else{if(x.issues.length===0)return x;m.push(x)}}return f?Promise.all(m).then(g=>b0(g,c,e,u)):b0(m,c,e,u)}}),I5=he("$ZodIntersection",(e,n)=>{Ht.init(e,n),e._zod.parse=(a,i)=>{const c=a.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([g,x])=>y0(a,g,x)):y0(a,u,f)}});function Qf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Il(e)&&Il(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=Qf(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=Qf(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};a.push(f.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function y0(e,n,a){if(n.issues.length&&e.issues.push(...n.issues),a.issues.length&&e.issues.push(...a.issues),wi(e))return e;const i=Qf(n.value,a.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const G5=he("$ZodEnum",(e,n)=>{Ht.init(e,n);const a=J_(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(c=>nk.has(typeof c)).map(c=>typeof c=="string"?Ei(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:a,input:f,inst:e}),c}}),W5=he("$ZodLiteral",(e,n)=>{if(Ht.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(a=>typeof a=="string"?Ei(a):a?Ei(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,i)=>{const c=a.value;return e._zod.values.has(c)||a.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),a}}),Y5=he("$ZodTransform",(e,n)=>{Ht.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Zb(e.constructor.name);const c=n.transform(a.value,a);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(a.value=f,a));if(c instanceof Promise)throw new ji;return a.value=c,a}});function w0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const K5=he("$ZodOptional",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",e._zod.optout="optional",vt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),vt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${yh(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>w0(u,a.value)):w0(c,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),P5=he("$ZodNullable",(e,n)=>{Ht.init(e,n),vt(e._zod,"optin",()=>n.innerType._zod.optin),vt(e._zod,"optout",()=>n.innerType._zod.optout),vt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${yh(a.source)}|null)$`):void 0}),vt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),X5=he("$ZodDefault",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",vt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>S0(u,n)):S0(c,n)}});function S0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const J5=he("$ZodPrefault",(e,n)=>{Ht.init(e,n),e._zod.optin="optional",vt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),eT=he("$ZodNonOptional",(e,n)=>{Ht.init(e,n),vt(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>j0(u,e)):j0(c,e)}});function j0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const tT=he("$ZodCatch",(e,n)=>{Ht.init(e,n),vt(e._zod,"optin",()=>n.innerType._zod.optin),vt(e._zod,"optout",()=>n.innerType._zod.optout),vt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(f=>Dr(f,i,Ar()))},input:a.value}),a.issues=[]),a)):(a.value=c.value,c.issues.length&&(a.value=n.catchValue({...a,error:{issues:c.issues.map(u=>Dr(u,i,Ar()))},input:a.value}),a.issues=[]),a)}}),nT=he("$ZodPipe",(e,n)=>{Ht.init(e,n),vt(e._zod,"values",()=>n.in._zod.values),vt(e._zod,"optin",()=>n.in._zod.optin),vt(e._zod,"optout",()=>n.out._zod.optout),vt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(f=>Ec(f,n.in,i)):Ec(u,n.in,i)}const c=n.in._zod.run(a,i);return c instanceof Promise?c.then(u=>Ec(u,n.out,i)):Ec(c,n.out,i)}});function Ec(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const sT=he("$ZodReadonly",(e,n)=>{Ht.init(e,n),vt(e._zod,"propValues",()=>n.innerType._zod.propValues),vt(e._zod,"values",()=>n.innerType._zod.values),vt(e._zod,"optin",()=>n.innerType._zod.optin),vt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(N0):N0(c)}});function N0(e){return e.value=Object.freeze(e.value),e}const aT=he("$ZodCustom",(e,n)=>{ss.init(e,n),Ht.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>E0(u,a,i,e));E0(c,a,i,e)}});function E0(e,n,a,i){if(!e){const c={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(Gl(c))}}class rT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function iT(){return new rT}const Cc=iT();function lT(e,n){return new e({type:"string",...Be(n)})}function oT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(n)})}function C0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(n)})}function cT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(n)})}function uT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(n)})}function dT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(n)})}function fT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(n)})}function hT(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(n)})}function mT(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(n)})}function pT(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(n)})}function gT(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(n)})}function xT(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(n)})}function vT(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(n)})}function bT(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(n)})}function yT(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(n)})}function wT(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(n)})}function ST(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(n)})}function jT(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(n)})}function NT(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(n)})}function ET(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(n)})}function CT(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(n)})}function _T(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(n)})}function kT(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(n)})}function TT(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(n)})}function AT(e,n){return new e({type:"string",format:"date",check:"string_format",...Be(n)})}function DT(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(n)})}function MT(e,n){return new e({type:"string",format:"duration",check:"string_format",...Be(n)})}function RT(e,n){return new e({type:"number",checks:[],...Be(n)})}function zT(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(n)})}function OT(e,n){return new e({type:"boolean",...Be(n)})}function LT(e){return new e({type:"unknown"})}function UT(e,n){return new e({type:"never",...Be(n)})}function _0(e,n){return new Kb({check:"less_than",...Be(n),value:e,inclusive:!1})}function Ef(e,n){return new Kb({check:"less_than",...Be(n),value:e,inclusive:!0})}function k0(e,n){return new Pb({check:"greater_than",...Be(n),value:e,inclusive:!1})}function Cf(e,n){return new Pb({check:"greater_than",...Be(n),value:e,inclusive:!0})}function T0(e,n){return new Jk({check:"multiple_of",...Be(n),value:e})}function ny(e,n){return new t5({check:"max_length",...Be(n),maximum:e})}function Vc(e,n){return new n5({check:"min_length",...Be(n),minimum:e})}function sy(e,n){return new s5({check:"length_equals",...Be(n),length:e})}function BT(e,n){return new a5({check:"string_format",format:"regex",...Be(n),pattern:e})}function qT(e){return new r5({check:"string_format",format:"lowercase",...Be(e)})}function ZT(e){return new i5({check:"string_format",format:"uppercase",...Be(e)})}function $T(e,n){return new l5({check:"string_format",format:"includes",...Be(n),includes:e})}function HT(e,n){return new o5({check:"string_format",format:"starts_with",...Be(n),prefix:e})}function VT(e,n){return new c5({check:"string_format",format:"ends_with",...Be(n),suffix:e})}function eo(e){return new u5({check:"overwrite",tx:e})}function FT(e){return eo(n=>n.normalize(e))}function QT(){return eo(e=>e.trim())}function IT(){return eo(e=>e.toLowerCase())}function GT(){return eo(e=>e.toUpperCase())}function WT(e,n,a){return new e({type:"array",element:n,...Be(a)})}function YT(e,n,a){return new e({type:"custom",check:"custom",fn:n,...Be(a)})}function KT(e){const n=PT(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(Gl(i,a.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=a.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),a.issues.push(Gl(c))}},e(a.value,a)));return n}function PT(e,n){const a=new ss({check:"custom",...Be(n)});return a._zod.check=e,a}const XT=he("ZodISODateTime",(e,n)=>{N5.init(e,n),Ot.init(e,n)});function JT(e){return TT(XT,e)}const eA=he("ZodISODate",(e,n)=>{E5.init(e,n),Ot.init(e,n)});function tA(e){return AT(eA,e)}const nA=he("ZodISOTime",(e,n)=>{C5.init(e,n),Ot.init(e,n)});function sA(e){return DT(nA,e)}const aA=he("ZodISODuration",(e,n)=>{_5.init(e,n),Ot.init(e,n)});function rA(e){return MT(aA,e)}const iA=(e,n)=>{Sh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>hk(e,a)},flatten:{value:a=>fk(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,Ff,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,Ff,2)}},isEmpty:{get(){return e.issues.length===0}}})},js=he("ZodError",iA,{Parent:Error}),lA=eu(js),oA=tu(js),cA=nu(js),uA=su(js),dA=vk(js),fA=bk(js),hA=yk(js),mA=wk(js),pA=Sk(js),gA=jk(js),xA=Nk(js),vA=Ek(js),Kt=he("ZodType",(e,n)=>(Ht.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(zr(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(a,i)=>er(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>lA(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>cA(e,a,i),e.parseAsync=async(a,i)=>oA(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>uA(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>dA(e,a,i),e.decode=(a,i)=>fA(e,a,i),e.encodeAsync=async(a,i)=>hA(e,a,i),e.decodeAsync=async(a,i)=>mA(e,a,i),e.safeEncode=(a,i)=>pA(e,a,i),e.safeDecode=(a,i)=>gA(e,a,i),e.safeEncodeAsync=async(a,i)=>xA(e,a,i),e.safeDecodeAsync=async(a,i)=>vA(e,a,i),e.refine=(a,i)=>e.check(d4(a,i)),e.superRefine=a=>e.check(f4(a)),e.overwrite=a=>e.check(eo(a)),e.optional=()=>O0(e),e.nullable=()=>L0(e),e.nullish=()=>O0(L0(e)),e.nonoptional=a=>a4(e,a),e.array=()=>ru(e),e.or=a=>IA([e,a]),e.and=a=>WA(e,a),e.transform=a=>U0(e,XA(a)),e.default=a=>t4(e,a),e.prefault=a=>s4(e,a),e.catch=a=>i4(e,a),e.pipe=a=>U0(e,a),e.readonly=()=>c4(e),e.describe=a=>{const i=e.clone();return Cc.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){return Cc.get(e)?.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return Cc.get(e);const i=e.clone();return Cc.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),ay=he("_ZodString",(e,n)=>{jh.init(e,n),Kt.init(e,n);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(BT(...i)),e.includes=(...i)=>e.check($T(...i)),e.startsWith=(...i)=>e.check(HT(...i)),e.endsWith=(...i)=>e.check(VT(...i)),e.min=(...i)=>e.check(Vc(...i)),e.max=(...i)=>e.check(ny(...i)),e.length=(...i)=>e.check(sy(...i)),e.nonempty=(...i)=>e.check(Vc(1,...i)),e.lowercase=i=>e.check(qT(i)),e.uppercase=i=>e.check(ZT(i)),e.trim=()=>e.check(QT()),e.normalize=(...i)=>e.check(FT(...i)),e.toLowerCase=()=>e.check(IT()),e.toUpperCase=()=>e.check(GT())}),bA=he("ZodString",(e,n)=>{jh.init(e,n),ay.init(e,n),e.email=a=>e.check(oT(yA,a)),e.url=a=>e.check(hT(wA,a)),e.jwt=a=>e.check(kT(LA,a)),e.emoji=a=>e.check(mT(SA,a)),e.guid=a=>e.check(C0(A0,a)),e.uuid=a=>e.check(cT(_c,a)),e.uuidv4=a=>e.check(uT(_c,a)),e.uuidv6=a=>e.check(dT(_c,a)),e.uuidv7=a=>e.check(fT(_c,a)),e.nanoid=a=>e.check(pT(jA,a)),e.guid=a=>e.check(C0(A0,a)),e.cuid=a=>e.check(gT(NA,a)),e.cuid2=a=>e.check(xT(EA,a)),e.ulid=a=>e.check(vT(CA,a)),e.base64=a=>e.check(ET(RA,a)),e.base64url=a=>e.check(CT(zA,a)),e.xid=a=>e.check(bT(_A,a)),e.ksuid=a=>e.check(yT(kA,a)),e.ipv4=a=>e.check(wT(TA,a)),e.ipv6=a=>e.check(ST(AA,a)),e.cidrv4=a=>e.check(jT(DA,a)),e.cidrv6=a=>e.check(NT(MA,a)),e.e164=a=>e.check(_T(OA,a)),e.datetime=a=>e.check(JT(a)),e.date=a=>e.check(tA(a)),e.time=a=>e.check(sA(a)),e.duration=a=>e.check(rA(a))});function $t(e){return lT(bA,e)}const Ot=he("ZodStringFormat",(e,n)=>{Dt.init(e,n),ay.init(e,n)}),yA=he("ZodEmail",(e,n)=>{p5.init(e,n),Ot.init(e,n)}),A0=he("ZodGUID",(e,n)=>{h5.init(e,n),Ot.init(e,n)}),_c=he("ZodUUID",(e,n)=>{m5.init(e,n),Ot.init(e,n)}),wA=he("ZodURL",(e,n)=>{g5.init(e,n),Ot.init(e,n)}),SA=he("ZodEmoji",(e,n)=>{x5.init(e,n),Ot.init(e,n)}),jA=he("ZodNanoID",(e,n)=>{v5.init(e,n),Ot.init(e,n)}),NA=he("ZodCUID",(e,n)=>{b5.init(e,n),Ot.init(e,n)}),EA=he("ZodCUID2",(e,n)=>{y5.init(e,n),Ot.init(e,n)}),CA=he("ZodULID",(e,n)=>{w5.init(e,n),Ot.init(e,n)}),_A=he("ZodXID",(e,n)=>{S5.init(e,n),Ot.init(e,n)}),kA=he("ZodKSUID",(e,n)=>{j5.init(e,n),Ot.init(e,n)}),TA=he("ZodIPv4",(e,n)=>{k5.init(e,n),Ot.init(e,n)}),AA=he("ZodIPv6",(e,n)=>{T5.init(e,n),Ot.init(e,n)}),DA=he("ZodCIDRv4",(e,n)=>{A5.init(e,n),Ot.init(e,n)}),MA=he("ZodCIDRv6",(e,n)=>{D5.init(e,n),Ot.init(e,n)}),RA=he("ZodBase64",(e,n)=>{M5.init(e,n),Ot.init(e,n)}),zA=he("ZodBase64URL",(e,n)=>{z5.init(e,n),Ot.init(e,n)}),OA=he("ZodE164",(e,n)=>{O5.init(e,n),Ot.init(e,n)}),LA=he("ZodJWT",(e,n)=>{U5.init(e,n),Ot.init(e,n)}),ry=he("ZodNumber",(e,n)=>{Jb.init(e,n),Kt.init(e,n),e.gt=(i,c)=>e.check(k0(i,c)),e.gte=(i,c)=>e.check(Cf(i,c)),e.min=(i,c)=>e.check(Cf(i,c)),e.lt=(i,c)=>e.check(_0(i,c)),e.lte=(i,c)=>e.check(Ef(i,c)),e.max=(i,c)=>e.check(Ef(i,c)),e.int=i=>e.check(D0(i)),e.safe=i=>e.check(D0(i)),e.positive=i=>e.check(k0(0,i)),e.nonnegative=i=>e.check(Cf(0,i)),e.negative=i=>e.check(_0(0,i)),e.nonpositive=i=>e.check(Ef(0,i)),e.multipleOf=(i,c)=>e.check(T0(i,c)),e.step=(i,c)=>e.check(T0(i,c)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});function UA(e){return RT(ry,e)}const BA=he("ZodNumberFormat",(e,n)=>{B5.init(e,n),ry.init(e,n)});function D0(e){return zT(BA,e)}const qA=he("ZodBoolean",(e,n)=>{q5.init(e,n),Kt.init(e,n)});function M0(e){return OT(qA,e)}const ZA=he("ZodUnknown",(e,n)=>{Z5.init(e,n),Kt.init(e,n)});function R0(){return LT(ZA)}const $A=he("ZodNever",(e,n)=>{$5.init(e,n),Kt.init(e,n)});function HA(e){return UT($A,e)}const VA=he("ZodArray",(e,n)=>{H5.init(e,n),Kt.init(e,n),e.element=n.element,e.min=(a,i)=>e.check(Vc(a,i)),e.nonempty=a=>e.check(Vc(1,a)),e.max=(a,i)=>e.check(ny(a,i)),e.length=(a,i)=>e.check(sy(a,i)),e.unwrap=()=>e.element});function ru(e,n){return WT(VA,e,n)}const FA=he("ZodObject",(e,n)=>{F5.init(e,n),Kt.init(e,n),vt(e,"shape",()=>n.shape),e.keyof=()=>YA(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:R0()}),e.loose=()=>e.clone({...e._zod.def,catchall:R0()}),e.strict=()=>e.clone({...e._zod.def,catchall:HA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>lk(e,a),e.safeExtend=a=>ok(e,a),e.merge=a=>ck(e,a),e.pick=a=>rk(e,a),e.omit=a=>ik(e,a),e.partial=(...a)=>uk(iy,e,a[0]),e.required=(...a)=>dk(ly,e,a[0])});function pa(e,n){const a={type:"object",shape:e??{},...Be(n)};return new FA(a)}const QA=he("ZodUnion",(e,n)=>{Q5.init(e,n),Kt.init(e,n),e.options=n.options});function IA(e,n){return new QA({type:"union",options:e,...Be(n)})}const GA=he("ZodIntersection",(e,n)=>{I5.init(e,n),Kt.init(e,n)});function WA(e,n){return new GA({type:"intersection",left:e,right:n})}const If=he("ZodEnum",(e,n)=>{G5.init(e,n),Kt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(a.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new If({...n,checks:[],...Be(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(a.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new If({...n,checks:[],...Be(c),entries:u})}});function YA(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new If({type:"enum",entries:a,...Be(n)})}const KA=he("ZodLiteral",(e,n)=>{W5.init(e,n),Kt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function z0(e,n){return new KA({type:"literal",values:Array.isArray(e)?e:[e],...Be(n)})}const PA=he("ZodTransform",(e,n)=>{Y5.init(e,n),Kt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Zb(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(Gl(u,a.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=a.value),f.inst??(f.inst=e),a.issues.push(Gl(f))}};const c=n.transform(a.value,a);return c instanceof Promise?c.then(u=>(a.value=u,a)):(a.value=c,a)}});function XA(e){return new PA({type:"transform",transform:e})}const iy=he("ZodOptional",(e,n)=>{K5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function O0(e){return new iy({type:"optional",innerType:e})}const JA=he("ZodNullable",(e,n)=>{P5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function L0(e){return new JA({type:"nullable",innerType:e})}const e4=he("ZodDefault",(e,n)=>{X5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function t4(e,n){return new e4({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Vb(n)}})}const n4=he("ZodPrefault",(e,n)=>{J5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function s4(e,n){return new n4({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Vb(n)}})}const ly=he("ZodNonOptional",(e,n)=>{eT.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function a4(e,n){return new ly({type:"nonoptional",innerType:e,...Be(n)})}const r4=he("ZodCatch",(e,n)=>{tT.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function i4(e,n){return new r4({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const l4=he("ZodPipe",(e,n)=>{nT.init(e,n),Kt.init(e,n),e.in=n.in,e.out=n.out});function U0(e,n){return new l4({type:"pipe",in:e,out:n})}const o4=he("ZodReadonly",(e,n)=>{sT.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function c4(e){return new o4({type:"readonly",innerType:e})}const u4=he("ZodCustom",(e,n)=>{aT.init(e,n),Kt.init(e,n)});function d4(e,n={}){return YT(u4,e,n)}function f4(e){return KT(e)}const h4=pa({key:$t(),label:$t(),path:$t(),ordinal:UA().int(),required:M0().optional(),enabled:M0().optional(),depends_on:ru($t()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),B0=pa({path:$t()}).strict();pa({name:$t(),files_hash:$t().default(""),columns:ru(h4).default([]),table:pa({transform:B0.nullable().optional(),validators:B0.nullable().optional()}).partial().optional()}).passthrough();function oy(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const a=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),g=i.get(m);if(g===void 0){i.set(m,a.length),a.push(f);continue}a[g]=f}}return a},[e,n])}const cy={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},m4=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Ul="mine",Nr={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function p4(e){return e&&Object.keys(Nr).includes(e)?e:Ul}function g4(e){if(!e)return new Set;const a=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(a)}function x4(e){return new Set(m4).has(e??"")?e:"-created_at"}const uy=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ci={all:()=>["documents"],workspace:e=>[...Ci.all(),e],list:(e,n,a)=>[...Ci.workspace(e),"list",{sort:n,uploader:a}]},dy=50;function v4(){const{workspace:e}=Ja(),n=Mr(),[a,i]=mh(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=p4(a.get("view")),[f,m]=p.useState(u),[g,x]=p.useState(()=>{const ye=a.get("status");if(ye)return g4(ye);const Ce=Nr[u].presetStatuses??[];return new Set(Ce)}),[b,y]=p.useState(()=>{const ye=a.get("sort");return ye?x4(ye):Nr[u].presetSort??"-created_at"}),[w,j]=p.useState(a.get("q")??""),[T,N]=p.useState(w.trim()),O=p.useMemo(()=>Array.from(g),[g]),C=Nr[f].uploader??null,A=p.useRef(null),[V,Z]=p.useState(new Set),G=p.useMemo(()=>new Set(V),[V]),Y=p.useMemo(()=>Array.from(G),[G]),P=G.size,se=y4(e.id),ie=w4(e.id),le=gh(),pe=le.data?.enabled??!1,de=le.data?.detail??Os,ge=le.isPending,[Se,U]=p.useState(null),[X,xe]=p.useState(null),[we,oe]=p.useState(null),E=se.isPending,H=ie.isPending,z=b4(e.id,{sort:b,uploader:C}),{refetch:R}=z,Q=p.useCallback(ye=>ye.id,[]),F=oy(z.data?.pages,Q),me=p.useMemo(()=>{const ye=T.toLowerCase(),Ce=C==="me"?n.user.id:null,Ve=C==="me"?n.user.email??null:null;return F.filter(bt=>{if(O.length>0&&!O.includes(bt.status))return!1;if(C==="me"){const st=bt.uploader_id??bt.uploader?.id??null,Xt=bt.uploader?.email??null;if(Ce&&st&&st!==Ce||!st&&Ve&&Xt&&Xt!==Ve)return!1}return!(ye&&!`${bt.name??""} ${bt.source??""}`.toLowerCase().includes(ye))})},[T,F,n.user.email,n.user.id,O,C]),be=z.isFetchingNextPage,Ne=z.isFetching&&!be,I=me.length;p.useEffect(()=>{const ye=a.get("q")??"";j(Ve=>Ve===ye?Ve:ye);const Ce=ye.trim();N(Ve=>Ve===Ce?Ve:Ce)},[a]),p.useEffect(()=>{const ye=new URLSearchParams;g.size>0&&ye.set("status",Array.from(g).join(",")),b!=="-created_at"&&ye.set("sort",b),T&&ye.set("q",T),f!==Ul&&ye.set("view",f),c.current(ye,{replace:!0})},[g,b,T,f]),p.useEffect(()=>{const ye=window.setTimeout(()=>N(w.trim()),250);return()=>window.clearTimeout(ye)},[w]),p.useEffect(()=>{Z(ye=>{if(ye.size===0)return ye;const Ce=new Set,Ve=new Set(me.map(st=>st.id));let bt=!1;for(const st of ye)Ve.has(st)?Ce.add(st):bt=!0;return bt?Ce:ye})},[me]);const Ee=p.useMemo(()=>{for(const ye of me)if(G.has(ye.id))return ye;return null},[me,G]),ke=p.useCallback(ye=>{const Ce=Nr[ye];m(ye),x(new Set(Ce.presetStatuses??[])),y(Ce.presetSort??"-created_at"),j(""),N("")},[]),$e=p.useCallback(ye=>{x(Ce=>{const Ve=new Set(Ce);return Ve.has(ye)?Ve.delete(ye):Ve.add(ye),Ve})},[]),Oe=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const ye=Ce=>{if((Ce.metaKey||Ce.ctrlKey)&&Ce.key.toLowerCase()==="u"){Ce.preventDefault(),A.current?.click();return}(Ce.key==="Delete"||Ce.key==="Backspace")&&P>0&&(Ce.preventDefault(),_())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[P]);const Ae=p.useCallback(ye=>cy[ye]??ye,[]),Fe=p.useCallback(ye=>l.jsx(Q4,{document:ye}),[]),et=p.useCallback(()=>{A.current?.click()},[]),tt=p.useCallback(async ye=>{if(ye.length){U(null);try{await se.mutateAsync({files:ye})}catch(Ce){const Ve=Ce instanceof Error?Ce.message:"Failed to upload documents.";U({tone:"error",message:Ve})}}},[se]),Pt=async ye=>{const Ce=Array.from(ye.target.files??[]);await tt(Ce),ye.target.value=""},D=ye=>{Z(Ce=>{const Ve=new Set(Ce);return Ve.has(ye)?Ve.delete(ye):Ve.add(ye),Ve})},k=()=>{Z(ye=>{if(me.length===0)return new Set;const Ce=me.map(Ve=>Ve.id);return ye.size===me.length&&Ce.every(Ve=>ye.has(Ve))?new Set:new Set(Ce)})},_=p.useCallback(async()=>{const ye=Y;if(ye.length){U(null);try{await ie.mutateAsync({documentIds:ye}),Z(new Set)}catch(Ce){const Ve=Ce instanceof Error?Ce.message:"Failed to delete documents.";U({tone:"error",message:Ve})}}},[ie,Y]),ne=p.useCallback(async ye=>{U(null);try{await ie.mutateAsync({documentIds:[ye.id]}),Z(Ce=>{const Ve=new Set(Ce);return Ve.delete(ye.id),Ve})}catch(Ce){const Ve=Ce instanceof Error?Ce.message:"Failed to delete document.";U({tone:"error",message:Ve})}},[ie]),ee=p.useCallback(async ye=>{try{xe(ye.id);const{blob:Ce,filename:Ve}=await E4(e.id,ye.id);Y4(Ce,Ve??ye.name)}catch(Ce){const Ve=Ce instanceof Error?Ce.message:"Failed to download document.";U({tone:"error",message:Ve})}finally{xe(null)}},[e.id]),ae=p.useCallback(ye=>{oe(ye)},[]),je=p.useCallback(()=>{R()},[R]),qe=p.useCallback(ye=>{U({tone:"error",message:ye})},[]),He=()=>{m(Ul),j(""),N(""),x(new Set),y("-created_at")},xt=f===Ul&&g.size===0&&b==="-created_at"&&!T;return l.jsxs(l.Fragment,{children:[l.jsx($4,{workspaceName:e.name??void 0,disabled:E,onFiles:async ye=>{await tt(ye)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:A,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Pt}),l.jsx(_4,{workspaceName:e.name,totalDocuments:I,view:f,onChangeView:ke,sort:b,onSort:y,onReset:He,isFetching:z.isFetching,isDefault:xt,onUploadClick:et,uploadDisabled:E,selectedStatuses:g,onToggleStatus:$e,onClearStatuses:Oe}),Se?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:Se.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:z.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(H4,{})}):z.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):me.length===0?l.jsx("div",{className:"p-6",children:l.jsx(F4,{onUploadClick:et})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(A4,{documents:me,selectedIds:G,onToggleDocument:D,onToggleAll:k,disableSelection:Ne||H||se.isPending,disableRowActions:ie.isPending,formatStatusLabel:Ae,onDeleteDocument:ne,onDownloadDocument:ee,onRunDocument:ae,downloadingId:X,renderRunStatus:Fe,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge})}),z.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>z.fetchNextPage(),disabled:be,children:be?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(V4,{count:P,onClear:()=>Z(new Set),onRun:()=>{Ee&&!pe&&!ge&&ae(Ee)},onDelete:_,busy:H,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge}),l.jsx(q4,{open:!!we,workspaceId:e.id,documentRecord:we,onClose:()=>oe(null),onRunSuccess:je,onRunError:qe,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge})]})}function b4(e,n){const a=n.sort.trim()||null;return Sv({queryKey:Ci.list(e,a,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>N4(e,{sort:a,page:typeof i=="number"?i:1,pageSize:dy},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function y4(e){const n=Ct();return An({mutationFn:async({files:a})=>{const i=Array.from(a);for(const c of i)await Ge.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ci.workspace(e)})}})}function w4(e){const n=Ct();return An({mutationFn:async({documentIds:a})=>{await Promise.all(a.map(i=>Ge.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ci.workspace(e)})}})}function S4(e){const n=Ct();return An({mutationFn:async({configId:a,options:i})=>{const{data:c}=await Ge.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:a}},body:{stream:!1,options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:Ci.workspace(e)})}})}function j4(e,n){const a=p.useMemo(()=>Pa(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>q0(a,n));p.useEffect(()=>{c(q0(a,n))},[a,n]);const u=p.useCallback(f=>{c(f);const m=a.get()??{};a.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId,sheetNames:f.sheetNames&&f.sheetNames.length>0?[...f.sheetNames]:null}})},[a,n]);return{preferences:i,setPreferences:u}}async function N4(e,n,a){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:dy,include_total:!1},{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:a});if(!c)throw new Error("Expected document page payload.");return c}async function E4(e,n){const{data:a,response:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected document download payload.");const c=C4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:a,filename:c}}function C4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function q0(e,n){const a=e.get();if(a&&typeof a=="object"&&n in a){const i=a[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const f=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,configVersionId:i.configVersionId??null,sheetNames:f}}}return{configId:null,configVersionId:null,sheetNames:null}}function _4({workspaceName:e,totalDocuments:n,view:a,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}){const T=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:T})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:f,disabled:g,className:ve("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(ze,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(k4,{view:a,onChange:i}),l.jsx(T4,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}),l.jsxs(Xa,{value:c,onChange:N=>u(N.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:ve("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function k4({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Nr).map(a=>{const i=Nr[a],c=a===e;return l.jsx("button",{type:"button",onClick:()=>n(a),className:ve("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},a)})})}function T4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:a}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(cy),m=e.size>0,g=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(U4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{a(),c(!1)},className:ve("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([x,b])=>{const y=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function A4({documents:e,selectedIds:n,onToggleDocument:a,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:j,safeModeLoading:T=!1}){const N=p.useRef(null),{allSelected:O,someSelected:B}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const C=e.reduce((A,V)=>n.has(V.id)?A+1:A,0);return{allSelected:C===e.length,someSelected:C>0&&C<e.length}},[e,n]);return p.useEffect(()=>{N.current&&(N.current.indeterminate=B)},[B]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:N,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:O,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(C=>{const A=n.has(C.id);return l.jsxs("tr",{className:ve("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",A?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:A,onChange:()=>a(C.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:C.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:C.name,children:C.name}),l.jsx("div",{className:"text-xs text-slate-500",children:M4(C)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:C.created_at,className:"block text-xs text-slate-600",title:uy.format(new Date(C.created_at)),children:L4(C)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:C.uploader?.name??C.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(C):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",O4(C.status)),children:f?f(C.status):C.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(D4,{document:C,onDownload:g,onDelete:m,onRun:x,disabled:u,downloading:b===C.id,safeModeEnabled:w,safeModeMessage:j,safeModeLoading:T})})]},C.id)})})]})})}function D4({document:e,onDownload:n,onDelete:a,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=c||!i||f||g,b=f?m??Os:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(ze,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:ve("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>a?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function M4(e){const n=[];return e.content_type&&n.push(R4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(z4(e.byte_size)),n.join("  ")||"Unknown type"}function R4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function z4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a>=10?Math.round(a):Math.round(a*10)/10} ${n[i]}`}function O4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function L4(e){return uy.format(new Date(e.created_at))}function U4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function B4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:ve("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function q4({open:e,workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!a?null:ma.createPortal(l.jsx(Z4,{workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:g}),window.document.body)}function Z4({workspaceId:e,documentRecord:n,onClose:a,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),y=xh({workspaceId:e}),[w,j]=p.useState(""),[T,N]=p.useState(""),O=S4(e),{preferences:B,setPreferences:C}=j4(e,n.id),[A,V]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{V(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const Z=p.useMemo(()=>y.data?.items??[],[y.data]),G=p.useMemo(()=>Z.filter(k=>!("deleted_at"in k&&k.deleted_at)),[Z]),Y=p.useMemo(()=>{if(B.configId){const k=G.find(_=>_.id===B.configId);if(k)return k.id}return G[0]?.id??""},[B.configId,G]);p.useEffect(()=>{j(Y)},[Y]);const P=P_({workspaceId:e,configId:w,enabled:!!w}),se=p.useMemo(()=>P.data??[],[P.data]),ie=p.useMemo(()=>G.find(k=>k.id===w)??null,[G,w]),le=p.useMemo(()=>se.find(k=>k.configuration_version_id===T)??null,[se,T]),pe=p.useMemo(()=>sC(se),[se]),de=p.useMemo(()=>aC(se),[se]),ge=p.useMemo(()=>{if(!w)return"";if(B.configId===w&&B.configVersionId){const k=se.find(_=>_.configuration_version_id===B.configVersionId);if(k)return k.configuration_version_id}return pe?pe.configuration_version_id:de?de.configuration_version_id:se[0]?.configuration_version_id??""},[pe,de,B.configId,B.configVersionId,w,se]);p.useEffect(()=>{N(ge)},[ge]);const Se=p.useCallback(k=>{const _=typeof k.status=="string"?k.status:"draft";return`${k.title??k.display_name??"Untitled configuration"} (${_.charAt(0).toUpperCase()}${_.slice(1)})`},[]),U=p.useCallback(k=>{const _=k.status==="active"?"Active":k.status==="published"?"Published":k.status==="inactive"?"Inactive":"Draft";return`v${k.semver??""} (${_})`},[]),[X,xe]=p.useState(null),we=f??Os,oe=gn({queryKey:A?wc.detail(A):["run","none"],queryFn:({signal:k})=>A?yb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A,refetchInterval:k=>{const _=k.state.data?.status;return _==="running"||_==="queued"?2e3:!1}}),E=gn({queryKey:A?wc.outputs(A):["run-outputs","none"],queryFn:({signal:k})=>A?vb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),H=gn({queryKey:A?wc.summary(A):["run-summary","none"],queryFn:({signal:k})=>A?wb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),z=gn({queryKey:A?wc.telemetry(A):["run-telemetry","none"],queryFn:({signal:k})=>A?bb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),R=gn({queryKey:["document-sheets",e,n.id],queryFn:({signal:k})=>Sb(e,n.id,k),staleTime:6e4}),Q=p.useMemo(()=>R.data??[],[R.data]),[F,me]=p.useState([]);p.useEffect(()=>{if(!Q.length){me([]);return}const k=(B.sheetNames??[]).filter(ne=>Q.some(ee=>ee.name===ne)),_=Array.from(new Set(k));me(_)},[Q,B.sheetNames]);const be=p.useMemo(()=>Array.from(new Set(F.filter(k=>Q.some(_=>_.name===k)))),[F,Q]);p.useEffect(()=>{!ie||!T||C({configId:ie.id,configVersionId:T,sheetNames:be.length?be:null})},[be,ie,T,C]);const Ne=p.useCallback(k=>{me(_=>_.includes(k)?_.filter(ne=>ne!==k):[..._,k])},[]),Ee=(oe.data??null)?.status??null,ke=Ee==="running"||Ee==="queued",$e=A?`/api/v1/runs/${encodeURIComponent(A)}`:null,Oe=E.data?.files??[],Ae=H.data??null,Fe=z.data??[];p.useEffect(()=>{const k=g.current;if(!k)return;(Z0(k)[0]??k).focus();const ne=ee=>{if(ee.key==="Escape"){ee.preventDefault(),a();return}if(ee.key!=="Tab")return;const ae=Z0(k);if(ae.length===0){ee.preventDefault();return}const je=ae[0],qe=ae[ae.length-1],He=window.document.activeElement;if(ee.shiftKey){(!k.contains(He)||He===je)&&(ee.preventDefault(),qe.focus());return}He===qe&&(ee.preventDefault(),je.focus())};return k.addEventListener("keydown",ne),()=>k.removeEventListener("keydown",ne)},[a]);const et=G.length>0,tt=O.isPending||ke||m||u||!et||!T,Pt=u?we:m?"Checking ADE safe mode status...":void 0,D=()=>{if(u||m)return;if(!ie||!le||!T){xe("Select a configuration before running the extractor.");return}xe(null),V(null);const k=be,_=k.length>0?{dry_run:!1,validate_only:!1,input_sheet_names:k}:{dry_run:!1,validate_only:!1};O.mutate({configId:ie.id,options:{..._,input_document_id:n.id}},{onSuccess:ne=>{C({configId:ie.id,configVersionId:T,sheetNames:k.length?k:null}),i?.(ne),V(ne.id)},onError:ne=>{const ee=ne instanceof Error?ne.message:"Unable to submit extraction run.";xe(ee),c?.(ee)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:a}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,disabled:O.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(ut,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):et?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Xa,{value:w,onChange:k=>{const _=k.target.value;j(_),N("")},disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),G.map(k=>l.jsx("option",{value:k.id,children:Se(k)},k.id))]}),w?P.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading versions"}):P.isError?l.jsxs(ut,{tone:"danger",children:["Unable to load configuration versions."," ",P.error instanceof Error?P.error.message:"Try again later."]}):se.length>0?l.jsxs(Xa,{value:T,onChange:k=>N(k.target.value),disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select version"}),se.map(k=>l.jsx("option",{value:k.configuration_version_id,children:U(k)},k.configuration_version_id))]}):l.jsx(ut,{tone:"info",children:"No versions available for this configuration."}):null]}):l.jsx(ut,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),R.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):R.isError?l.jsx(ut,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>R.refetch(),disabled:R.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>me([]),disabled:O.isPending,children:"Use all worksheets"})]})]})}):Q.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:be.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${be.length.toLocaleString()} worksheet${be.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>me([]),disabled:O.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:Q.map(k=>{const _=be.includes(k.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:_,onChange:()=>Ne(k.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[k.name,k.is_active?" (active)":""]})]},`${k.index}-${k.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),A?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:A,children:["Run ",A]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",Ee??"loading"]})]}),ke?l.jsx(B4,{className:"h-4 w-4 text-slate-500"}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:$e?`${$e}/logs`:void 0,className:ve("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",$e?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":!$e,children:"Download telemetry"})}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),E.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):Oe.length>0?l.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:Oe.map(k=>{const _=k.path??k.name,ne=typeof k.byte_size=="number"?k.byte_size:0,ee=k.download_url??($e?`${$e}/outputs/${_.split("/").map(encodeURIComponent).join("/")}`:void 0);return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:ee,className:"text-emerald-700 hover:underline","aria-disabled":!ee,children:k.name}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[ne.toLocaleString()," bytes"]})]},_)})}):l.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),H.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):H.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):Ae?l.jsx(Bv,{summary:Ae}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),z.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):z.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):Fe.length>0?l.jsx(qv,{events:Fe}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(ut,{tone:"warning",children:we}):null,X?l.jsx(ut,{tone:"danger",children:X}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:a,disabled:O.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",onClick:D,isLoading:O.isPending,disabled:tt,title:Pt,children:"Run extraction"})]})]})]})}function $4({onFiles:e,disabled:n,workspaceName:a}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},x=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:ve("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:a??"this workspace"})]})]})]})})})]})}function H4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function V4({count:e,onClear:n,onRun:a,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const g=c||u||m,x=u?f??Os:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(ze,{size:"sm",onClick:()=>!g&&a(),disabled:g,title:x,children:"Run extraction"}),l.jsx(ze,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function F4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(ze,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function Q4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",I4(n.status)),children:[G4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:W4(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function I4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function G4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const vi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function W4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const a=n.getTime()-Date.now(),i=Math.round(a/1e3);if(Math.abs(i)<60)return vi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return vi.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return vi.format(m,"hour");const x=Math.round(m/24);if(Math.abs(x)<30)return vi.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return vi.format(b,"month");const y=Math.round(x/365);return vi.format(y,"year")}function Y4(e,n){const a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(a),1e3)}function Z0(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(a=>!a.hasAttribute("disabled")&&a.getAttribute("aria-hidden")!=="true")}function K4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function P4(){return l.jsx(Et,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"info"})}function Yt({label:e,hint:n,error:a,required:i=!1,children:c,className:u}){const f=p.useId(),m=p.isValidElement(c)?c.props??{}:{},g=m.id??f,x=n?`${g}-hint`:void 0,b=a?`${g}-error`:void 0,y=[x,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:ve("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:g,required:i||m.required,"aria-describedby":y,"aria-invalid":a?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,a?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:a}):null]})}const fy="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",cn=p.forwardRef(({className:e,invalid:n=!1,...a},i)=>l.jsx("input",{ref:i,className:ve(fy,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...a}));cn.displayName="Input";const hy=p.forwardRef(({className:e,invalid:n=!1,rows:a=4,...i},c)=>l.jsx("textarea",{ref:c,rows:a,className:ve(fy,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));hy.displayName="TextArea";const _f=[{value:"default",label:"Default template"}],X4=e=>`ade.ui.workspace.${e}.config-builder.last`,kf=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function J4(){const{workspace:e}=Ja(),n=Tn(),a=p.useMemo(()=>Pa(X4(e.id)),[e.id]),i=xh({workspaceId:e.id}),c=X_(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,g]=p.useState(_f[0]?.value??"default"),[x,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(C=>!("deleted_at"in C&&C.deleted_at)),[i.data]),w=p.useMemo(()=>a.get(),[a]),j=C=>{a.set({configId:C}),n(kf(e.id,C))},T=C=>{a.set({configId:C}),n(`${kf(e.id,C)}/editor`)},N=C=>{C.preventDefault();const A=u.trim();if(!A){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:A,source:{type:"template",templateId:m}},{onSuccess(V){a.set({configId:V.id}),n(kf(e.id,V.id))}})},O=x??(c.error instanceof Error?c.error.message:null),B=u.trim().length>0&&!c.isPending;return i.isLoading?l.jsx(Et,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?l.jsx(Et,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?l.jsx(Et,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("form",{onSubmit:N,className:"space-y-4 text-left",children:[l.jsx(Yt,{label:"Configuration name",required:!0,children:l.jsx(cn,{value:u,onChange:C=>f(C.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),l.jsx(Yt,{label:"Template",children:l.jsx(Xa,{value:m,onChange:C=>g(C.target.value),disabled:c.isPending,children:_f.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!B,isLoading:c.isPending,children:"Create from template"})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j(w.configId),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(C=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:C.display_name}),l.jsx(eD,{status:C.status}),w?.configId===C.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(C.updated_at).toLocaleString(),"  Active version"," ",("active_version"in C?C.active_version:null)??C.configuration_version??""]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>j(C.id),children:"View details"}),l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>T(C.id),children:"Open editor"})]})]},C.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsx(Yt,{label:"Configuration name",required:!0,children:l.jsx(cn,{value:u,onChange:C=>f(C.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),l.jsx(Yt,{label:"Template",children:l.jsx(Xa,{value:m,onChange:C=>g(C.target.value),disabled:c.isPending,children:_f.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!B,isLoading:c.isPending,children:"Create from template"})]})]})]})}function eD({status:e}){const n=e.toLowerCase(),a=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${a}`,children:e})}function tD({params:e}={}){const{workspace:n}=Ja(),a=Tn(),i=e?.configId,c=xh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.id===i),[c.data,i]);return i?c.isLoading?l.jsx(Et,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),l.jsx(ze,{variant:"secondary",onClick:()=>a(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:u.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),l.jsx("dd",{className:"text-sm text-slate-700",children:("active_version"in u?u.active_version:null)??u.configuration_version??""})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(Et,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(Et,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function nD({params:e}={}){const{workspace:n}=Ja(),{session:a,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:g,shouldBypassUnsavedGuard:x}=Db(),b=e?.configId,y=K_({workspaceId:n.id});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const O=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${O}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return l.jsx(Et,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=a&&a.configId===b?a:null,j=!!(w&&i==="minimized"),T=!!(w&&i==="restored"),N=!!(w&&i==="maximized");return T&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(kb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):N?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Et,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Et,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(Et,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var to=e=>e.type==="checkbox",Er=e=>e instanceof Date,es=e=>e==null;const my=e=>typeof e=="object";var un=e=>!es(e)&&!Array.isArray(e)&&my(e)&&!Er(e),sD=e=>un(e)&&e.target?to(e.target)?e.target.checked:e.target.value:e,aD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rD=(e,n)=>e.has(aD(n)),iD=e=>{const n=e.constructor&&e.constructor.prototype;return un(n)&&n.hasOwnProperty("isPrototypeOf")},Nh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Nh&&(e instanceof Blob||i))&&(a||un(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!iD(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=bn(e[c]));else return e;return n}var iu=e=>/^\w*$/.test(e),Wt=e=>e===void 0,Eh=e=>Array.isArray(e)?e.filter(Boolean):[],Ch=e=>Eh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,n,a)=>{if(!n||!un(e))return a;const i=(iu(n)?[n]:Ch(n)).reduce((c,u)=>es(c)?c:c[u],e);return Wt(i)||i===e?Wt(e[n])?a:e[n]:i},Is=e=>typeof e=="boolean",gt=(e,n,a)=>{let i=-1;const c=iu(n)?[n]:Ch(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let g=a;if(i!==f){const x=e[m];g=un(x)||Array.isArray(x)?x:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const $0={BLUR:"blur",FOCUS_OUT:"focusout"},Rs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lD=mt.createContext(null);lD.displayName="HookFormContext";var oD=(e,n,a,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==Rs.all&&(n._proxyFormState[f]=!i||Rs.all),e[f]}});return c};const cD=typeof window<"u"?mt.useLayoutEffect:mt.useEffect;var ds=e=>typeof e=="string",uD=(e,n,a,i,c)=>ds(e)?(i&&n.watch.add(e),Me(a,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Me(a,u))):(i&&(n.watchAll=!0),a),Gf=e=>es(e)||!my(e);function Wa(e,n,a=new WeakSet){if(Gf(e)||Gf(n))return e===n;if(Er(e)&&Er(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(Er(f)&&Er(m)||un(f)&&un(m)||Array.isArray(f)&&Array.isArray(m)?!Wa(f,m,a):f!==m)return!1}}return!0}var _h=(e,n,a,i,c)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:c||!0}}:{},Bl=e=>Array.isArray(e)?e:[e],H0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function py(e,n){const a={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&un(c)&&u){const f=py(c,u);un(f)&&(a[i]=f)}else e[i]&&(a[i]=u)}return a}var Jn=e=>un(e)&&!Object.keys(e).length,kh=e=>e.type==="file",zs=e=>typeof e=="function",Fc=e=>{if(!Nh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},gy=e=>e.type==="select-multiple",Th=e=>e.type==="radio",dD=e=>Th(e)||to(e),Tf=e=>Fc(e)&&e.isConnected;function fD(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Wt(e)?i++:e[n[i++]];return e}function hD(e){for(const n in e)if(e.hasOwnProperty(n)&&!Wt(e[n]))return!1;return!0}function rn(e,n){const a=Array.isArray(n)?n:iu(n)?[n]:Ch(n),i=a.length===1?e:fD(e,a),c=a.length-1,u=a[c];return i&&delete i[u],c!==0&&(un(i)&&Jn(i)||Array.isArray(i)&&hD(i))&&rn(e,a.slice(0,-1)),e}var mD=e=>{for(const n in e)if(zs(e[n]))return!0;return!1};function xy(e){return Array.isArray(e)||un(e)&&!mD(e)}function Wf(e,n={}){for(const a in e)xy(e[a])?(n[a]=Array.isArray(e[a])?[]:{},Wf(e[a],n[a])):Wt(e[a])||(n[a]=!0);return n}function yi(e,n,a){a||(a=Wf(n));for(const i in e)xy(e[i])?Wt(n)||Gf(a[i])?a[i]=Wf(e[i],Array.isArray(e[i])?[]:{}):yi(e[i],es(n)?{}:n[i],a[i]):a[i]=!Wa(e[i],n[i]);return a}const V0={value:!1,isValid:!1},F0={value:!0,isValid:!0};var vy=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?F0:{value:e[0].value,isValid:!0}:F0:V0}return V0},by=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Wt(e)?e:n?e===""?NaN:e&&+e:a&&ds(e)?new Date(e):i?i(e):e;const Q0={isValid:!1,value:null};var yy=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,Q0):Q0;function I0(e){const n=e.ref;return kh(n)?n.files:Th(n)?yy(e.refs).value:gy(n)?[...n.selectedOptions].map(({value:a})=>a):to(n)?vy(e.refs).value:by(Wt(n.value)?e.ref.value:n.value,e)}var pD=(e,n,a,i)=>{const c={};for(const u of e){const f=Me(n,u);f&&gt(c,u,f._f)}return{criteriaMode:a,names:[...e],fields:c,shouldUseNativeValidation:i}},Qc=e=>e instanceof RegExp,Dl=e=>Wt(e)?e:Qc(e)?e.source:un(e)?Qc(e.value)?e.value.source:e.value:e,G0=e=>({isOnSubmit:!e||e===Rs.onSubmit,isOnBlur:e===Rs.onBlur,isOnChange:e===Rs.onChange,isOnAll:e===Rs.all,isOnTouch:e===Rs.onTouched});const W0="AsyncFunction";var gD=e=>!!e&&!!e.validate&&!!(zs(e.validate)&&e.validate.constructor.name===W0||un(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===W0)),xD=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Y0=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ql=(e,n,a,i)=>{for(const c of a||Object.keys(e)){const u=Me(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(ql(m,n))break}else if(un(m)&&ql(m,n))break}}};function K0(e,n,a){const i=Me(e,a);if(i||iu(a))return{error:i,name:a};const c=a.split(".");for(;c.length;){const u=c.join("."),f=Me(n,u),m=Me(e,u);if(f&&!Array.isArray(f)&&a!==u)return{name:a};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:a}}var vD=(e,n,a,i)=>{a(e);const{name:c,...u}=e;return Jn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||Rs.all))},bD=(e,n,a)=>!e||!n||e===n||Bl(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),yD=(e,n,a,i,c)=>c.isOnAll?!1:!a&&c.isOnTouch?!(n||e):(a?i.isOnBlur:c.isOnBlur)?!e:(a?i.isOnChange:c.isOnChange)?e:!0,wD=(e,n)=>!Eh(Me(e,n)).length&&rn(e,n),SD=(e,n,a)=>{const i=Bl(Me(e,a));return gt(i,"root",n[a]),gt(e,a,i),e};function P0(e,n,a="validate"){if(ds(e)||Array.isArray(e)&&e.every(ds)||Is(e)&&!e)return{type:a,message:ds(e)?e:"",ref:n}}var bi=e=>un(e)&&!Qc(e)?e:{value:e,message:""},X0=async(e,n,a,i,c,u)=>{const{ref:f,refs:m,required:g,maxLength:x,minLength:b,min:y,max:w,pattern:j,validate:T,name:N,valueAsNumber:O,mount:B}=e._f,C=Me(a,N);if(!B||n.has(N))return{};const A=m?m[0]:f,V=pe=>{c&&A.reportValidity&&(A.setCustomValidity(Is(pe)?"":pe||""),A.reportValidity())},Z={},G=Th(f),Y=to(f),P=G||Y,se=(O||kh(f))&&Wt(f.value)&&Wt(C)||Fc(f)&&f.value===""||C===""||Array.isArray(C)&&!C.length,ie=_h.bind(null,N,i,Z),le=(pe,de,ge,Se=ha.maxLength,U=ha.minLength)=>{const X=pe?de:ge;Z[N]={type:pe?Se:U,message:X,ref:f,...ie(pe?Se:U,X)}};if(u?!Array.isArray(C)||!C.length:g&&(!P&&(se||es(C))||Is(C)&&!C||Y&&!vy(m).isValid||G&&!yy(m).isValid)){const{value:pe,message:de}=ds(g)?{value:!!g,message:g}:bi(g);if(pe&&(Z[N]={type:ha.required,message:de,ref:A,...ie(ha.required,de)},!i))return V(de),Z}if(!se&&(!es(y)||!es(w))){let pe,de;const ge=bi(w),Se=bi(y);if(!es(C)&&!isNaN(C)){const U=f.valueAsNumber||C&&+C;es(ge.value)||(pe=U>ge.value),es(Se.value)||(de=U<Se.value)}else{const U=f.valueAsDate||new Date(C),X=oe=>new Date(new Date().toDateString()+" "+oe),xe=f.type=="time",we=f.type=="week";ds(ge.value)&&C&&(pe=xe?X(C)>X(ge.value):we?C>ge.value:U>new Date(ge.value)),ds(Se.value)&&C&&(de=xe?X(C)<X(Se.value):we?C<Se.value:U<new Date(Se.value))}if((pe||de)&&(le(!!pe,ge.message,Se.message,ha.max,ha.min),!i))return V(Z[N].message),Z}if((x||b)&&!se&&(ds(C)||u&&Array.isArray(C))){const pe=bi(x),de=bi(b),ge=!es(pe.value)&&C.length>+pe.value,Se=!es(de.value)&&C.length<+de.value;if((ge||Se)&&(le(ge,pe.message,de.message),!i))return V(Z[N].message),Z}if(j&&!se&&ds(C)){const{value:pe,message:de}=bi(j);if(Qc(pe)&&!C.match(pe)&&(Z[N]={type:ha.pattern,message:de,ref:f,...ie(ha.pattern,de)},!i))return V(de),Z}if(T){if(zs(T)){const pe=await T(C,a),de=P0(pe,A);if(de&&(Z[N]={...de,...ie(ha.validate,de.message)},!i))return V(de.message),Z}else if(un(T)){let pe={};for(const de in T){if(!Jn(pe)&&!i)break;const ge=P0(await T[de](C,a),A,de);ge&&(pe={...ge,...ie(de,ge.message)},V(ge.message),i&&(Z[N]=pe))}if(!Jn(pe)&&(Z[N]={ref:A,...pe},!i))return Z}}return V(!0),Z};const jD={mode:Rs.onSubmit,reValidateMode:Rs.onChange,shouldFocusError:!0};function ND(e={}){let n={...jD,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=un(n.defaultValues)||un(n.values)?bn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:bn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:H0(),state:H0()},j=n.criteriaMode===Rs.all,T=D=>k=>{clearTimeout(x),x=setTimeout(D,k)},N=async D=>{if(!n.disabled&&(b.isValid||y.isValid||D)){const k=n.resolver?Jn((await Y()).errors):await se(i,!0);k!==a.isValid&&w.state.next({isValid:k})}},O=(D,k)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(m.mount)).forEach(_=>{_&&(k?gt(a.validatingFields,_,k):rn(a.validatingFields,_))}),w.state.next({validatingFields:a.validatingFields,isValidating:!Jn(a.validatingFields)}))},B=(D,k=[],_,ne,ee=!0,ae=!0)=>{if(ne&&_&&!n.disabled){if(f.action=!0,ae&&Array.isArray(Me(i,D))){const je=_(Me(i,D),ne.argA,ne.argB);ee&&gt(i,D,je)}if(ae&&Array.isArray(Me(a.errors,D))){const je=_(Me(a.errors,D),ne.argA,ne.argB);ee&&gt(a.errors,D,je),wD(a.errors,D)}if((b.touchedFields||y.touchedFields)&&ae&&Array.isArray(Me(a.touchedFields,D))){const je=_(Me(a.touchedFields,D),ne.argA,ne.argB);ee&&gt(a.touchedFields,D,je)}(b.dirtyFields||y.dirtyFields)&&(a.dirtyFields=yi(c,u)),w.state.next({name:D,isDirty:le(D,k),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else gt(u,D,k)},C=(D,k)=>{gt(a.errors,D,k),w.state.next({errors:a.errors})},A=D=>{a.errors=D,w.state.next({errors:a.errors,isValid:!1})},V=(D,k,_,ne)=>{const ee=Me(i,D);if(ee){const ae=Me(u,D,Wt(_)?Me(c,D):_);Wt(ae)||ne&&ne.defaultChecked||k?gt(u,D,k?ae:I0(ee._f)):ge(D,ae),f.mount&&N()}},Z=(D,k,_,ne,ee)=>{let ae=!1,je=!1;const qe={name:D};if(!n.disabled){if(!_||ne){(b.isDirty||y.isDirty)&&(je=a.isDirty,a.isDirty=qe.isDirty=le(),ae=je!==qe.isDirty);const He=Wa(Me(c,D),k);je=!!Me(a.dirtyFields,D),He?rn(a.dirtyFields,D):gt(a.dirtyFields,D,!0),qe.dirtyFields=a.dirtyFields,ae=ae||(b.dirtyFields||y.dirtyFields)&&je!==!He}if(_){const He=Me(a.touchedFields,D);He||(gt(a.touchedFields,D,_),qe.touchedFields=a.touchedFields,ae=ae||(b.touchedFields||y.touchedFields)&&He!==_)}ae&&ee&&w.state.next(qe)}return ae?qe:{}},G=(D,k,_,ne)=>{const ee=Me(a.errors,D),ae=(b.isValid||y.isValid)&&Is(k)&&a.isValid!==k;if(n.delayError&&_?(g=T(()=>C(D,_)),g(n.delayError)):(clearTimeout(x),g=null,_?gt(a.errors,D,_):rn(a.errors,D)),(_?!Wa(ee,_):ee)||!Jn(ne)||ae){const je={...ne,...ae&&Is(k)?{isValid:k}:{},errors:a.errors,name:D};a={...a,...je},w.state.next(je)}},Y=async D=>{O(D,!0);const k=await n.resolver(u,n.context,pD(D||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return O(D),k},P=async D=>{const{errors:k}=await Y(D);if(D)for(const _ of D){const ne=Me(k,_);ne?gt(a.errors,_,ne):rn(a.errors,_)}else a.errors=k;return k},se=async(D,k,_={valid:!0})=>{for(const ne in D){const ee=D[ne];if(ee){const{_f:ae,...je}=ee;if(ae){const qe=m.array.has(ae.name),He=ee._f&&gD(ee._f);He&&b.validatingFields&&O([ae.name],!0);const xt=await X0(ee,m.disabled,u,j,n.shouldUseNativeValidation&&!k,qe);if(He&&b.validatingFields&&O([ae.name]),xt[ae.name]&&(_.valid=!1,k))break;!k&&(Me(xt,ae.name)?qe?SD(a.errors,xt,ae.name):gt(a.errors,ae.name,xt[ae.name]):rn(a.errors,ae.name))}!Jn(je)&&await se(je,k,_)}}return _.valid},ie=()=>{for(const D of m.unMount){const k=Me(i,D);k&&(k._f.refs?k._f.refs.every(_=>!Tf(_)):!Tf(k._f.ref))&&me(D)}m.unMount=new Set},le=(D,k)=>!n.disabled&&(D&&k&&gt(u,D,k),!Wa(oe(),c)),pe=(D,k,_)=>uD(D,m,{...f.mount?u:Wt(k)?c:ds(D)?{[D]:k}:k},_,k),de=D=>Eh(Me(f.mount?u:c,D,n.shouldUnregister?Me(c,D,[]):[])),ge=(D,k,_={})=>{const ne=Me(i,D);let ee=k;if(ne){const ae=ne._f;ae&&(!ae.disabled&&gt(u,D,by(k,ae)),ee=Fc(ae.ref)&&es(k)?"":k,gy(ae.ref)?[...ae.ref.options].forEach(je=>je.selected=ee.includes(je.value)):ae.refs?to(ae.ref)?ae.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(ee)?je.checked=!!ee.find(qe=>qe===je.value):je.checked=ee===je.value||!!ee)}):ae.refs.forEach(je=>je.checked=je.value===ee):kh(ae.ref)?ae.ref.value="":(ae.ref.value=ee,ae.ref.type||w.state.next({name:D,values:bn(u)})))}(_.shouldDirty||_.shouldTouch)&&Z(D,ee,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&we(D)},Se=(D,k,_)=>{for(const ne in k){if(!k.hasOwnProperty(ne))return;const ee=k[ne],ae=D+"."+ne,je=Me(i,ae);(m.array.has(D)||un(ee)||je&&!je._f)&&!Er(ee)?Se(ae,ee,_):ge(ae,ee,_)}},U=(D,k,_={})=>{const ne=Me(i,D),ee=m.array.has(D),ae=bn(k);gt(u,D,ae),ee?(w.array.next({name:D,values:bn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&_.shouldDirty&&w.state.next({name:D,dirtyFields:yi(c,u),isDirty:le(D,ae)})):ne&&!ne._f&&!es(ae)?Se(D,ae,_):ge(D,ae,_),Y0(D,m)&&w.state.next({...a,name:D}),w.state.next({name:f.mount?D:void 0,values:bn(u)})},X=async D=>{f.mount=!0;const k=D.target;let _=k.name,ne=!0;const ee=Me(i,_),ae=He=>{ne=Number.isNaN(He)||Er(He)&&isNaN(He.getTime())||Wa(He,Me(u,_,He))},je=G0(n.mode),qe=G0(n.reValidateMode);if(ee){let He,xt;const ye=k.type?I0(ee._f):sD(D),Ce=D.type===$0.BLUR||D.type===$0.FOCUS_OUT,Ve=!xD(ee._f)&&!n.resolver&&!Me(a.errors,_)&&!ee._f.deps||yD(Ce,Me(a.touchedFields,_),a.isSubmitted,qe,je),bt=Y0(_,m,Ce);gt(u,_,ye),Ce?(!k||!k.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(D),g&&g(0)):ee._f.onChange&&ee._f.onChange(D);const st=Z(_,ye,Ce),Xt=!Jn(st)||bt;if(!Ce&&w.state.next({name:_,type:D.type,values:bn(u)}),Ve)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?Ce&&N():Ce||N()),Xt&&w.state.next({name:_,...bt?{}:st});if(!Ce&&bt&&w.state.next({...a}),n.resolver){const{errors:yt}=await Y([_]);if(ae(ye),ne){const Ys=K0(a.errors,i,_),wt=K0(yt,i,Ys.name||_);He=wt.error,_=wt.name,xt=Jn(yt)}}else O([_],!0),He=(await X0(ee,m.disabled,u,j,n.shouldUseNativeValidation))[_],O([_]),ae(ye),ne&&(He?xt=!1:(b.isValid||y.isValid)&&(xt=await se(i,!0)));ne&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&we(ee._f.deps),G(_,xt,He,st))}},xe=(D,k)=>{if(Me(a.errors,k)&&D.focus)return D.focus(),1},we=async(D,k={})=>{let _,ne;const ee=Bl(D);if(n.resolver){const ae=await P(Wt(D)?D:ee);_=Jn(ae),ne=D?!ee.some(je=>Me(ae,je)):_}else D?(ne=(await Promise.all(ee.map(async ae=>{const je=Me(i,ae);return await se(je&&je._f?{[ae]:je}:je)}))).every(Boolean),!(!ne&&!a.isValid)&&N()):ne=_=await se(i);return w.state.next({...!ds(D)||(b.isValid||y.isValid)&&_!==a.isValid?{}:{name:D},...n.resolver||!D?{isValid:_}:{},errors:a.errors}),k.shouldFocus&&!ne&&ql(i,xe,D?ee:m.mount),ne},oe=(D,k)=>{let _={...f.mount?u:c};return k&&(_=py(k.dirtyFields?a.dirtyFields:a.touchedFields,_)),Wt(D)?_:ds(D)?Me(_,D):D.map(ne=>Me(_,ne))},E=(D,k)=>({invalid:!!Me((k||a).errors,D),isDirty:!!Me((k||a).dirtyFields,D),error:Me((k||a).errors,D),isValidating:!!Me(a.validatingFields,D),isTouched:!!Me((k||a).touchedFields,D)}),H=D=>{D&&Bl(D).forEach(k=>rn(a.errors,k)),w.state.next({errors:D?a.errors:{}})},z=(D,k,_)=>{const ne=(Me(i,D,{_f:{}})._f||{}).ref,ee=Me(a.errors,D)||{},{ref:ae,message:je,type:qe,...He}=ee;gt(a.errors,D,{...He,...k,ref:ne}),w.state.next({name:D,errors:a.errors,isValid:!1}),_&&_.shouldFocus&&ne&&ne.focus&&ne.focus()},R=(D,k)=>zs(D)?w.state.subscribe({next:_=>"values"in _&&D(pe(void 0,k),_)}):pe(D,k,!0),Q=D=>w.state.subscribe({next:k=>{bD(D.name,k.name,D.exact)&&vD(k,D.formState||b,et,D.reRenderRoot)&&D.callback({values:{...u},...a,...k,defaultValues:c})}}).unsubscribe,F=D=>(f.mount=!0,y={...y,...D.formState},Q({...D,formState:y})),me=(D,k={})=>{for(const _ of D?Bl(D):m.mount)m.mount.delete(_),m.array.delete(_),k.keepValue||(rn(i,_),rn(u,_)),!k.keepError&&rn(a.errors,_),!k.keepDirty&&rn(a.dirtyFields,_),!k.keepTouched&&rn(a.touchedFields,_),!k.keepIsValidating&&rn(a.validatingFields,_),!n.shouldUnregister&&!k.keepDefaultValue&&rn(c,_);w.state.next({values:bn(u)}),w.state.next({...a,...k.keepDirty?{isDirty:le()}:{}}),!k.keepIsValid&&N()},be=({disabled:D,name:k})=>{(Is(D)&&f.mount||D||m.disabled.has(k))&&(D?m.disabled.add(k):m.disabled.delete(k))},Ne=(D,k={})=>{let _=Me(i,D);const ne=Is(k.disabled)||Is(n.disabled);return gt(i,D,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:D}},name:D,mount:!0,...k}}),m.mount.add(D),_?be({disabled:Is(k.disabled)?k.disabled:n.disabled,name:D}):V(D,!0,k.value),{...ne?{disabled:k.disabled||n.disabled}:{},...n.progressive?{required:!!k.required,min:Dl(k.min),max:Dl(k.max),minLength:Dl(k.minLength),maxLength:Dl(k.maxLength),pattern:Dl(k.pattern)}:{},name:D,onChange:X,onBlur:X,ref:ee=>{if(ee){Ne(D,k),_=Me(i,D);const ae=Wt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,je=dD(ae),qe=_._f.refs||[];if(je?qe.find(He=>He===ae):ae===_._f.ref)return;gt(i,D,{_f:{..._._f,...je?{refs:[...qe.filter(Tf),ae,...Array.isArray(Me(c,D))?[{}]:[]],ref:{type:ae.type,name:D}}:{ref:ae}}}),V(D,!1,void 0,ae)}else _=Me(i,D,{}),_._f&&(_._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(rD(m.array,D)&&f.action)&&m.unMount.add(D)}}},I=()=>n.shouldFocusError&&ql(i,xe,m.mount),Ee=D=>{Is(D)&&(w.state.next({disabled:D}),ql(i,(k,_)=>{const ne=Me(i,_);ne&&(k.disabled=ne._f.disabled||D,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||D}))},0,!1))},ke=(D,k)=>async _=>{let ne;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let ee=bn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ae,values:je}=await Y();a.errors=ae,ee=bn(je)}else await se(i);if(m.disabled.size)for(const ae of m.disabled)rn(ee,ae);if(rn(a.errors,"root"),Jn(a.errors)){w.state.next({errors:{}});try{await D(ee,_)}catch(ae){ne=ae}}else k&&await k({...a.errors},_),I(),setTimeout(I);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jn(a.errors)&&!ne,submitCount:a.submitCount+1,errors:a.errors}),ne)throw ne},$e=(D,k={})=>{Me(i,D)&&(Wt(k.defaultValue)?U(D,bn(Me(c,D))):(U(D,k.defaultValue),gt(c,D,bn(k.defaultValue))),k.keepTouched||rn(a.touchedFields,D),k.keepDirty||(rn(a.dirtyFields,D),a.isDirty=k.defaultValue?le(D,bn(Me(c,D))):le()),k.keepError||(rn(a.errors,D),b.isValid&&N()),w.state.next({...a}))},Oe=(D,k={})=>{const _=D?bn(D):c,ne=bn(_),ee=Jn(D),ae=ee?c:ne;if(k.keepDefaultValues||(c=_),!k.keepValues){if(k.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(yi(c,u))]);for(const qe of Array.from(je))Me(a.dirtyFields,qe)?gt(ae,qe,Me(u,qe)):U(qe,Me(ae,qe))}else{if(Nh&&Wt(D))for(const je of m.mount){const qe=Me(i,je);if(qe&&qe._f){const He=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Fc(He)){const xt=He.closest("form");if(xt){xt.reset();break}}}}if(k.keepFieldsRef)for(const je of m.mount)U(je,Me(ae,je));else i={}}u=n.shouldUnregister?k.keepDefaultValues?bn(c):{}:bn(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}m={mount:k.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!k.keepIsValid||!!k.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:k.keepSubmitCount?a.submitCount:0,isDirty:ee?!1:k.keepDirty?a.isDirty:!!(k.keepDefaultValues&&!Wa(D,c)),isSubmitted:k.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:ee?{}:k.keepDirtyValues?k.keepDefaultValues&&u?yi(c,u):a.dirtyFields:k.keepDefaultValues&&D?yi(c,D):k.keepDirty?a.dirtyFields:{},touchedFields:k.keepTouched?a.touchedFields:{},errors:k.keepErrors?a.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Ae=(D,k)=>Oe(zs(D)?D(u):D,k),Fe=(D,k={})=>{const _=Me(i,D),ne=_&&_._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),k.shouldSelect&&zs(ee.select)&&ee.select())}},et=D=>{a={...a,...D}},Pt={control:{register:Ne,unregister:me,getFieldState:E,handleSubmit:ke,setError:z,_subscribe:Q,_runSchema:Y,_focusError:I,_getWatch:pe,_getDirty:le,_setValid:N,_setFieldArray:B,_setDisabledField:be,_setErrors:A,_getFieldArray:de,_reset:Oe,_resetDefaultValues:()=>zs(n.defaultValues)&&n.defaultValues().then(D=>{Ae(D,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:Ee,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(D){f=D},get _defaultValues(){return c},get _names(){return m},set _names(D){m=D},get _formState(){return a},get _options(){return n},set _options(D){n={...n,...D}}},subscribe:F,trigger:we,register:Ne,handleSubmit:ke,watch:R,setValue:U,getValues:oe,reset:Ae,resetField:$e,clearErrors:H,unregister:me,setError:z,setFocus:Fe,getFieldState:E};return{...Pt,formControl:Pt}}function Ah(e={}){const n=mt.useRef(void 0),a=mt.useRef(void 0),[i,c]=mt.useState({isDirty:!1,isValidating:!1,isLoading:zs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zs(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!zs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=ND(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,cD(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),mt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),mt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),mt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),mt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),mt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),mt.useEffect(()=>{e.values&&!Wa(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),mt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=oD(i,u),n.current}const J0=(e,n,a)=>{if(e&&"reportValidity"in e){const i=Me(a,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Yf=(e,n)=>{for(const a in n.fields){const i=n.fields[a];i&&i.ref&&"reportValidity"in i.ref?J0(i.ref,a,e):i&&i.refs&&i.refs.forEach(c=>J0(c,a,e))}},ev=(e,n)=>{n.shouldUseNativeValidation&&Yf(e,n);const a={};for(const i in e){const c=Me(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(ED(n.names||Object.keys(e),i)){const f=Object.assign({},Me(a,i));gt(f,"root",u),gt(a,i,f)}else gt(a,i,u)}return a},ED=(e,n)=>{const a=tv(n);return e.some(i=>tv(i).match(`^${a}\\.\\d+`))};function tv(e){return e.replace(/\]|\[/g,"")}function nv(e,n){try{var a=e()}catch(i){return n(i)}return a&&a.then?a.then(void 0,n):a}function CD(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var g=a[f].types,x=g&&g[i.code];a[f]=_h(f,n,a,c,x?[].concat(x,i.message):i.message)}e.shift()}return a}function _D(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var g=a[f].types,x=g&&g[i.code];a[f]=_h(f,n,a,c,x?[].concat(x,i.message):i.message)}e.shift()}return a}function Dh(e,n,a){if(a===void 0&&(a={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(nv(function(){return Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&Yf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:ev(CD(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(nv(function(){return Promise.resolve((a.mode==="sync"?mk:pk)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&Yf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof Sh})(f))return{values:{},errors:ev(_D(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function kD(e){const n=Ct();return An({mutationFn:a=>uj(e,a),onSuccess:a=>{n.setQueryData(on.list(Ov),i=>i&&{...i,items:i.items.map(c=>c.id===a.id?a:c)}),n.invalidateQueries({queryKey:on.detail(e),exact:!1})}})}async function TD(e={}){const{page:n,pageSize:a,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof a=="number"&&a>0&&(f.page_size=a),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:g}=await Ge.GET("/api/v1/users",{params:{query:f},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function AD(e){return Ev("/users/invitations",e)}function wy(e={}){const{enabled:n=!0,search:a="",pageSize:i}=e,c=a.trim(),u=c.length>=2?c:"",f=Sv({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>TD(DD({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(x=>x.id,[]),g=oy(f.data?.pages,m);return{...f,users:g}}function DD(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function MD(){const e=Ct();return An({mutationFn:({email:n,displayName:a})=>AD({email:n,display_name:a?.trim()?a.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const Wl=200;function RD(e){const n={page:1,pageSize:Wl};return gn({queryKey:on.members(e,n),queryFn:({signal:a})=>dj(e,{signal:a,pageSize:Wl,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function zD(e){const n=Ct(),a=on.members(e,{page:1,pageSize:Wl});return An({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return fj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(a,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function OD(e){const n=Ct(),a=on.members(e,{page:1,pageSize:Wl});return An({mutationFn:({membershipId:i,roleIds:c})=>hj(e,i,UD(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function LD(e){const n=Ct(),a=on.members(e,{page:1,pageSize:Wl});return An({mutationFn:i=>mj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function UD(e){return{role_ids:Array.from(e)}}const _i=200,sv=200;function Sy(e){const n={page:1,pageSize:_i};return gn({queryKey:on.roles(e,n),queryFn:({signal:a})=>pj(e,{signal:a,pageSize:_i,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function BD(){const e={scope:"global",page:1,pageSize:sv};return gn({queryKey:on.permissions(e),queryFn:({signal:n})=>bj({signal:n,scope:"global",pageSize:sv}),staleTime:6e4,placeholderData:n=>n})}function qD(e){const n=Ct(),a=on.roles(e,{page:1,pageSize:_i});return An({mutationFn:i=>gj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(a,f=>av(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:av(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function ZD(e){const n=Ct(),a=on.roles(e,{page:1,pageSize:_i});return An({mutationFn:({roleId:i,payload:c})=>xj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function $D(e){const n=Ct(),a=on.roles(e,{page:1,pageSize:_i});return An({mutationFn:i=>vj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function av(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:_i,has_next:!1,has_previous:!1,total:1}}const HD={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function VD(e,n){if(e&&e.trim().length>0){const a=e.trim().split(/\s+/u),i=a[0]?.[0],c=a[a.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function FD({name:e,email:n,size:a="md",className:i}){const c=p.useMemo(()=>VD(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:ve("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",HD[a],i),children:c})}function QD(){const{workspace:e,hasPermission:n}=Ja(),a=n("Workspace.Members.ReadWrite"),i=RD(e.id),c=Sy(e.id),u=zD(e.id),f=OD(e.id),m=LD(e.id),g=MD(),[x,b]=p.useState(null),[y,w]=p.useState([]),[j,T]=p.useState(""),[N,O]=p.useState([]),[B,C]=p.useState(""),[A,V]=p.useState(""),[Z,G]=p.useState("existing"),[Y,P]=p.useState(""),[se,ie]=p.useState(""),[le,pe]=p.useState(""),[de,ge]=p.useState(null);p.useEffect(()=>{const _=window.setTimeout(()=>{V(B.trim())},250);return()=>window.clearTimeout(_)},[B]);const Se=wy({enabled:a,search:A,pageSize:50}),U=p.useMemo(()=>{const _=new Map;for(const ne of c.data?.items??[])_.set(ne.id,ne);return _},[c.data]),X=p.useMemo(()=>{const _=i.data?.items??[],ne=new Intl.Collator("en",{sensitivity:"base"});return Array.from(_).sort((ee,ae)=>{const je=ee.user.display_name??ee.user.email,qe=ae.user.display_name??ae.user.email;return ne.compare(je??"",qe??"")})},[i.data]),xe=p.useMemo(()=>new Set(X.map(_=>_.user.id)),[X]),we=le.trim().toLowerCase(),oe=p.useMemo(()=>we?X.filter(_=>{const ne=_.user.display_name??"",ee=_.user.email??"";return ne.toLowerCase().includes(we)||ee.toLowerCase().includes(we)||_.id.toLowerCase().includes(we)}):X,[X,we]),E=Se.isPending&&Se.users.length===0,H=Se.isFetchingNextPage,z=p.useMemo(()=>{const _=new Intl.Collator("en",{sensitivity:"base"});return Se.users.filter(ne=>!xe.has(ne.id)).sort((ne,ee)=>{const ae=ne.display_name??ne.email,je=ee.display_name??ee.email;return _.compare(ae??"",je??"")})},[xe,Se.users]),R=B.trim().toLowerCase(),F=A.trim().toLowerCase().length>=2,me=Z==="existing"&&B.trim().length>0&&B.trim().length<2,be=p.useMemo(()=>!R||F?z:z.filter(_=>(_.display_name??"").toLowerCase().includes(R)||_.email.toLowerCase().includes(R)),[z,R,F]),Ne=p.useMemo(()=>Z==="existing"?z.find(_=>_.id===j):void 0,[z,Z,j]),I=p.useMemo(()=>{const _=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(ne=>ne.scope_type==="workspace").sort((ne,ee)=>_.compare(ne.name,ee.name))},[c.data]),Ee=(_,ne)=>{w(ee=>ne?ee.includes(_)?ee:[...ee,_]:ee.filter(ae=>ae!==_))},ke=(_,ne)=>{O(ee=>ne?ee.includes(_)?ee:[...ee,_]:ee.filter(ae=>ae!==_))},$e=_=>{b(_.id),w(_.roles),ge(null)},Oe=()=>{b(null),w([])},Ae=()=>{x&&(ge(null),f.mutate({membershipId:x,roleIds:y},{onSuccess:()=>{ge({tone:"success",message:"Member roles updated."}),Oe()},onError:_=>{const ne=_ instanceof Error?_.message:"Unable to update member roles.";ge({tone:"danger",message:ne})}}))},Fe=_=>{!a||!window.confirm(`Remove ${_.user.display_name??_.user.email} from the workspace?`)||(ge(null),m.mutate(_.id,{onSuccess:()=>{ge({tone:"success",message:"Member removed."})},onError:ee=>{const ae=ee instanceof Error?ee.message:"Unable to remove member.";ge({tone:"danger",message:ae})}}))},et=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,tt=u.isPending||g.isPending,Pt=Z==="existing"?!!j:et.test(Y.trim()),D=async _=>{_.preventDefault(),ge(null);try{if(Z==="existing"){if(!j){ge({tone:"danger",message:"Select a user to invite."});return}const ae=z.find(je=>je.id===j);if(!ae){ge({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:ae,roleIds:N}),T(""),O([]),C(""),ge({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`});return}const ne=Y.trim().toLowerCase();if(!ne||!et.test(ne)){ge({tone:"danger",message:"Enter a valid email address to send an invite."});return}const ee=await g.mutateAsync({email:ne,displayName:se.trim()||void 0});await u.mutateAsync({user:ee,roleIds:N}),P(""),ie(""),O([]),ge({tone:"success",message:`Invitation sent to ${ee.display_name??ee.email}.`})}catch(ne){const ee=ne instanceof Error?ne.message:"Unable to invite member.";ge({tone:"danger",message:ee})}};p.useEffect(()=>{Z!=="existing"||!Ne||be.some(_=>_.id===Ne.id)||C("")},[be,Z,Ne]),p.useEffect(()=>{if(ge(null),Z==="existing"){P(""),ie("");return}T(""),C("")},[Z]);const k=()=>{Z==="existing"?(T(""),C("")):(P(""),ie("")),O([])};return l.jsxs("div",{className:"space-y-6",children:[de?l.jsx(ut,{tone:de.tone,children:de.message}):null,i.isError?l.jsx(ut,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?l.jsx(ut,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,a?l.jsxs("form",{onSubmit:D,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),Se.isError?l.jsx(ut,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:Z==="existing",onChange:()=>G("existing"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Existing teammate"})]}),l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:Z==="new",onChange:()=>G("new"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Invite by email"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx("div",{className:"space-y-4",children:Z==="existing"?l.jsxs(l.Fragment,{children:[l.jsx(Yt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:l.jsx(cn,{value:B,onChange:_=>C(_.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:tt||E})}),me?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,Se.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,l.jsx(Yt,{label:"User",required:!0,children:l.jsxs(Xa,{value:j,onChange:_=>{T(_.target.value),_.target.value&&C("")},disabled:tt||E,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),Ne&&!be.some(_=>_.id===Ne.id)?l.jsx("option",{value:Ne.id,children:Ne.display_name?`${Ne.display_name} (${Ne.email})`:Ne.email}):null,be.map(_=>l.jsx("option",{value:_.id,children:_.display_name?`${_.display_name} (${_.email})`:_.email},_.id))]})}),be.length===0&&B?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',B,'". Clear the search to see everyone.']}):null,Se.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>Se.fetchNextPage(),disabled:E||H,children:H?"Loading more users":"Load more users"})}):null]}):l.jsxs(l.Fragment,{children:[l.jsx(Yt,{label:"Email",required:!0,children:l.jsx(cn,{type:"email",value:Y,onChange:_=>P(_.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:tt,required:!0})}),l.jsx(Yt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:l.jsx(cn,{value:se,onChange:_=>ie(_.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:tt})}),l.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:I.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):I.map(_=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:N.includes(_.id),onChange:ne=>ke(_.id,ne.target.checked),disabled:tt}),l.jsx("span",{children:_.name})]},_.id))}),N.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[N.length," role(s) selected."]}):null]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[(Z==="existing"?j||B||N.length>0:Y||se||N.length>0)?l.jsx(ze,{type:"button",variant:"ghost",onClick:k,disabled:tt,children:"Clear"}):null,l.jsx(ze,{type:"submit",isLoading:tt,disabled:!Pt||tt,children:Z==="existing"?"Add member":"Send invite"})]})]}):l.jsx(ut,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${X.length} member${X.length===1?"":"s"}`})]}),l.jsx(Yt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(cn,{value:le,onChange:_=>pe(_.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):X.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):oe.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',le,'".']}):l.jsx("ul",{className:"space-y-4",role:"list",children:oe.map(_=>{const ne=_.user.display_name??_.user.email,ee=_.roles.map(je=>U.get(je)?.name??je),ae=x===_.id;return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(FD,{name:_.user.display_name,email:_.user.email,size:"sm"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:ne}),l.jsx("p",{className:"text-sm text-slate-500",children:_.user.email}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[_.is_default?l.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,l.jsxs("span",{children:["ID: ",_.id]})]})]})]}),a?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae?Oe():$e(_),disabled:f.isPending||m.isPending||ae&&f.isPending,children:ae?"Cancel":"Manage roles"}),l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Fe(_),disabled:m.isPending,children:"Remove"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ee.length>0?ee.map(je=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${_.id}-${je}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),ae?l.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(je=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:qe=>Ee(je.id,qe.target.checked),disabled:f.isPending}),l.jsx("span",{children:je.name})]},je.id))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:Oe,disabled:f.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",size:"sm",onClick:Ae,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},_.id)})})]})]})}const ID=pa({name:$t().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:$t().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(z0("")),description:$t().max(500,"Keep the description concise.").optional().or(z0("")),permissions:ru($t())});function GD(){const{workspace:e,hasPermission:n}=Ja(),a=n("Workspace.Roles.ReadWrite"),i=Sy(e.id),c=BD(),u=qD(e.id),f=ZD(e.id),m=$D(e.id),[g,x]=p.useState(!1),[b,y]=p.useState(null),[w,j]=p.useState(null),T=p.useMemo(()=>(c.data?.items??[]).filter(G=>G.scope_type==="workspace"),[c.data]),N=p.useMemo(()=>{const G=new Map;for(const Y of T)G.set(Y.key,Y);return G},[T]),O=i.data?.items??[],B=()=>{j(null),x(!0),y(null)},C=()=>{x(!1)},A=G=>{j(null),y(G.id),x(!1)},V=()=>{y(null)},Z=G=>{!a||G.built_in||!window.confirm(`Delete the role "${G.name}"? This action cannot be undone.`)||(j(null),m.mutate(G.id,{onSuccess:()=>{j({tone:"success",message:"Role deleted."})},onError:P=>{const se=P instanceof Error?P.message:"Unable to delete role.";j({tone:"danger",message:se})}}))};return l.jsxs("div",{className:"space-y-6",children:[w?l.jsx(ut,{tone:w.tone,children:w.message}):null,i.isError?l.jsx(ut,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?l.jsx(ut,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,a?l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),l.jsx(ze,{type:"button",variant:g?"ghost":"primary",onClick:()=>g?C():B(),children:g?"Hide form":"New role"})]}),g?l.jsx("div",{className:"mt-4",children:l.jsx(rv,{availablePermissions:T,allowSlugEdit:!0,onCancel:C,onSubmit:G=>{j(null),u.mutate({name:G.name.trim(),slug:G.slug?G.slug.trim():void 0,description:G.description?.trim()?G.description.trim():void 0,permissions:G.permissions},{onSuccess:()=>{j({tone:"success",message:"Role created."}),C()},onError:Y=>{const P=Y instanceof Error?Y.message:"Unable to create role.";j({tone:"danger",message:P})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${O.length} role${O.length===1?"":"s"}`})]})}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):O.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):l.jsx("ul",{className:"space-y-4",role:"list",children:O.map(G=>{const Y=b===G.id,P=G.permissions.map(se=>N.get(se)?.label??se);return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:G.name}),G.built_in?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,G.editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",G.slug]}),G.description?l.jsx("p",{className:"text-sm text-slate-600",children:G.description}):null]}),a&&G.editable?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y?V():A(G),disabled:f.isPending||m.isPending,children:Y?"Cancel":"Edit"}),G.built_in?null:l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(G),disabled:m.isPending,children:"Delete"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:P.length>0?P.map(se=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:se},`${G.id}-${se}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),Y?l.jsx("div",{className:"mt-4",children:l.jsx(rv,{availablePermissions:T,initialValues:{name:G.name,slug:G.slug,description:G.description??"",permissions:G.permissions},allowSlugEdit:!1,onCancel:V,onSubmit:se=>{j(null),f.mutate({roleId:G.id,payload:{name:se.name.trim(),description:se.description?.trim()?se.description.trim():void 0,permissions:se.permissions}},{onSuccess:()=>{j({tone:"success",message:"Role updated."}),V()},onError:ie=>{const le=ie instanceof Error?ie.message:"Unable to update role.";j({tone:"danger",message:le})}})},isSubmitting:f.isPending},G.id)}):null]},G.id)})})]})]})}function rv({availablePermissions:e,initialValues:n,onSubmit:a,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:g,setValue:x,formState:{errors:b},reset:y}=Ah({resolver:Dh(ID),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=g("permissions"),j=(N,O)=>{x("permissions",O?Array.from(new Set([...w??[],N])):(w??[]).filter(B=>B!==N))},T=m(N=>{const O={name:N.name.trim(),slug:u?N.slug?.trim()??"":n?.slug??"",description:N.description?.trim()??"",permissions:N.permissions??[]};a(O)});return l.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:T,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",l.jsx(cn,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",l.jsx(cn,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),l.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",l.jsx(cn,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(N=>l.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(N.key)??!1,onChange:O=>j(N.key,O.target.checked),disabled:c}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:N.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:N.description})]})]},N.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[i?l.jsx(ze,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,l.jsx(ze,{type:"submit",isLoading:c,children:"Save role"})]})]})}function jy(){const e=Mr(),n=gh(),a=Q_(),[i,c]=p.useState(Os),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const f=p.useMemo(()=>(e.user.permissions??[]).includes("System.Settings.ReadWrite"),[e.user.permissions]),m=n.isFetching||a.isPending,g=i.trim()||Os,x=b=>{a.mutate({enabled:b,detail:g},{onSuccess:y=>{c(y.detail)}})};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?l.jsx(ut,{tone:"danger",children:"Unable to load safe mode status."}):null,f?null:l.jsxs(ut,{tone:"warning",children:["You need the ",l.jsx("strong",{children:"System.Settings.ReadWrite"})," permission to change safe mode."]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),l.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Os})]}),l.jsx(Yt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:l.jsx(hy,{value:i,onChange:b=>c(b.target.value),disabled:!f||m})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Os),disabled:!f||m,children:"Reset message"}),l.jsx(ze,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>x(!u?.enabled),isLoading:a.isPending,disabled:!f,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}jy.displayName="SafeModeControls";const Ny=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],WD=new Set(Ny.map(e=>e.id)),Af=e=>!!(e&&WD.has(e));function YD(){Ja();const[e,n]=mh(),a=e.get("view"),i=Af(a)?a:"general";p.useEffect(()=>{if(a&&!Af(a)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[a,e,n]);const c=u=>{if(!Af(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return l.jsx(ah,{value:i,onValueChange:c,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(rh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:Ny.map(u=>{const f=u.id===i;return l.jsx(Ml,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),l.jsx(_r,{value:"general","aria-live":"polite",children:i==="general"?l.jsx(PD,{}):null}),l.jsx(_r,{value:"members","aria-live":"polite",children:i==="members"?l.jsx(QD,{}):null}),l.jsx(_r,{value:"roles","aria-live":"polite",children:i==="roles"?l.jsx(GD,{}):null})]})})}const KD=pa({name:$t().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function PD(){const{workspace:e}=Ja(),n=kD(e.id),[a,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:g}=Ah({resolver:Dh(KD),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{g({name:e.name,slug:e.slug})},[g,e.name,e.slug]);const x=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:x,noValidate:!0,children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),a?l.jsx(ut,{tone:"success",children:a}):null,n.isError?l.jsx(ut,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Yt,{label:"Workspace name",required:!0,error:f.name?.message,children:l.jsx(cn,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),l.jsx(Yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:l.jsx(cn,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>{g(),i(null)},disabled:n.isPending||!m,children:"Reset"}),l.jsx(ze,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),l.jsx(jy,{})]})}function XD(){return l.jsx(Wc,{children:l.jsx(JD,{})})}function JD(){const e=Ss(),n=Tn(),a=Ct(),i=Yc(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=nM(e.pathname),f=p.useMemo(()=>aM(c,u),[c,u]);return p.useEffect(()=>{i.data&&a.setQueryData(on.list(Ov),i.data)},[a,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${Ka.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=rM(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&Cj(f)},[f]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Et,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(Et,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?l.jsx(_j,{workspace:f,workspaces:c,children:l.jsx(eM,{workspace:f})}):null}function eM({workspace:e}){return l.jsx(SC,{children:l.jsx(g_,{workspaceId:e.id,children:l.jsx(tM,{workspace:e})})})}function tM({workspace:e}){const n=Mr(),a=Tn(),i=Ss(),{session:c,windowState:u}=Db(),f=gh(),m=f.data?.enabled??!1,g=f.data?.detail??Os,x=qb(),b=p.useMemo(()=>Lb(e),[e]),[y,w]=p.useState(""),[j,T]=p.useState(!1),N=y.trim().toLowerCase(),O=!!(c&&u==="maximized"),B=p.useMemo(()=>b.map(R=>({id:R.id,label:R.label,description:`Jump to ${R.label}`,icon:l.jsx(R.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),C=p.useMemo(()=>Pa(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[A,V]=p.useState(()=>{const R=C.get();return typeof R=="boolean"?R:!1});p.useEffect(()=>{const R=C.get();V(typeof R=="boolean"?R:!1)},[C]),p.useEffect(()=>{C.set(A)},[A,C]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const R=()=>{window.innerWidth>=1024&&T(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),p.useEffect(()=>{if(typeof document>"u")return;const R=document.body.style.overflow;return j?document.body.style.overflow="hidden":document.body.style.overflow=R||"",()=>{document.body.style.overflow=R}},[j]),p.useEffect(()=>{O&&T(!1)},[O]);const Z=p.useCallback(()=>{if(!N)return;const R=b.find(Q=>Q.label.toLowerCase().includes(N))??b.find(Q=>Q.id.toLowerCase().includes(N));R&&a(R.href)},[N,b,a]),G=p.useCallback(R=>{const Q=b.find(F=>F.id===R.id);Q&&(a(Q.href),w(""))},[b,a]),Y=p.useCallback(()=>T(!0),[]),P=p.useCallback(()=>T(!1),[]),se=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:Y,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(iM,{})})}),ie=n.user.display_name||n.user.email||"Signed in",le=n.user.email??"",pe=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(zb,{displayName:ie,email:le})}),de={value:y,onChange:w,onSubmit:Z,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:B,onSelectSuggestion:G},ge=sM(i.pathname,e.id),Se=oM(e.id,ge,i.search,i.hash),U=Se?.kind==="content"&&Se.key.startsWith("documents"),X=U?new URLSearchParams(i.search).get("q")??"":"",xe=p.useCallback(R=>{if(!U)return;const Q=new URLSearchParams(i.search);R?Q.set("q",R):Q.delete("q");const F=Q.toString();a(`${i.pathname}${F?`?${F}`:""}${i.hash}`,{replace:!0})},[U,i.hash,i.pathname,i.search,a]),we=p.useCallback(R=>{xe(R)},[xe]),oe=p.useCallback(()=>{xe("")},[xe]),H=(U?{value:X,onChange:xe,onSubmit:we,onClear:oe,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??de;if(p.useEffect(()=>{Se?.kind==="redirect"&&a(Se.to,{replace:!0})},[Se,a]),!Se||Se.kind==="redirect")return null;const z=Se.fullHeight??!1;return l.jsxs("div",{className:ve("flex min-w-0 bg-slate-50 text-slate-900",z?"h-screen overflow-hidden":"min-h-screen"),children:[O?null:l.jsx(q_,{workspace:e,items:b,collapsed:A,onToggleCollapse:()=>V(R=>!R),onGoToWorkspaces:()=>a("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[O?null:l.jsx(Rb,{brand:se,trailing:pe,search:H}),!O&&j?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:P}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:P,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(lM,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Ub,{items:b,onNavigate:P,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:ve("relative flex-1 min-w-0",z?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:ve(z?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:ve("mb-4",z?"px-6 pt-4":""),children:l.jsx(ut,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:ve(z?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:Se.element})]})})},`section-${Se.key}`)]})]})}function nM(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function sM(e,n){const a=`/workspaces/${n}`;return e.startsWith(a)?e.slice(a.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function aM(e,n){return n?e.find(a=>a.id===n)??e.find(a=>a.slug===n)??e[0]??null:e[0]??null}function rM(e,n,a,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${Ka.path}`;return`/workspaces/${a}${f}${n}`}function iM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function lM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function oM(e,n,a,i){const c=`${a}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Ka.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(W_,{})};case Ka.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:l.jsx(K4,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:l.jsx(v4,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(P4,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:l.jsx(cM,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:l.jsx(tD,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:l.jsx(J4,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:l.jsx(YD,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(Et,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function cM({configId:e}){return l.jsx(nD,{params:{configId:e}})}function uM(e){return`/workspaces/${e}/${Ka.path}`}function dM(){return l.jsx(Wc,{children:l.jsx(fM,{})})}function fM(){const e=Ss(),n=Tn(),a=Mr(),i=Yc(),c=i.data?.items??[],m=[Ej(),a.user.preferred_workspace_id].filter(g=>!!g).map(g=>c.find(x=>x.id===g)).find(g=>!!g)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=uM(m.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(Et,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(Et,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function hM(){return gn({queryKey:Ls.providers(),queryFn:({signal:e})=>ZS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const mM=pa({email:$t().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:$t().min(1,"Enter your password.")});function pM(){const e=Ss(),n=Tn(),a=Ct(),i=Dv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,g=nh(m),x=hM(),b=x.data?.providers??[],y=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,j=p.useMemo(()=>{const Z=new URLSearchParams(e.search);return $l(Z.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Oc(c.return_to,j),{replace:!0})},[n,j,c]),p.useEffect(()=>{m&&(g.isPending||g.isError||g.data?.requires_setup&&n(Rv(j),{replace:!0}))},[n,j,g.data?.requires_setup,g.isError,g.isPending,m]);const[T,N]=p.useState(null),[O,B]=p.useState(!1);if(p.useEffect(()=>{N(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(ze,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const C=async Z=>{Z.preventDefault(),N(null);const G=new FormData(Z.currentTarget),Y=Object.fromEntries(G.entries()),P=mM.safeParse(Y);if(!P.success){const de=P.error.issues[0]?.message??"Invalid input.";N(de);return}const{email:se,password:ie}=P.data,le=typeof Y.redirectTo=="string"?Y.redirectTo:null,pe=$l(le);B(!0);try{const de=await $S({email:se,password:ie});a.setQueryData(Ls.detail(),de),n(Oc(de.return_to,pe),{replace:!0})}catch(de){if(de instanceof ts){const ge=de.problem?.detail??de.message??"Unable to sign in.";N(ge)}else de instanceof Error?N(de.message):N("Unable to sign in.")}finally{B(!1)}},A=!!T&&!O,V=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(ut,{tone:"warning",className:"mt-6",children:w}):null,V?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(Z=>l.jsxs("a",{href:Z.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",Z.label]},Z.id))}):null,y?l.jsx(ut,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:C,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:j}),l.jsx(Yt,{label:"Email address",required:!0,children:l.jsx(cn,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:O})}),l.jsx(Yt,{label:"Password",required:!0,children:l.jsx(cn,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:O})}),A?l.jsx(ut,{tone:"danger",children:T}):null,l.jsx(ze,{type:"submit",className:"w-full justify-center",isLoading:O,disabled:O,children:O?"Signing in":"Continue"})]})]})})}function gM(){const e=Tn(),n=Ss(),a=Ct(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),g=f.get("state");if(!m||!g){c("Missing authorization details from the identity provider.");return}async function x(){try{const b=f.toString(),y=await CS(`/auth/sso/callback?${b}`);if(u)return;const w=Ni(y);a.setQueryData(Ls.detail(),w);const j=Oc(w.return_to,f.get("next"));e(j,{replace:!0})}catch(b){if(u)return;b instanceof ts?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,a]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Et,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Et,{title:"Finishing sign-in",variant:"loading"})})}const xM=pa({displayName:$t().min(1,"Display name is required."),email:$t().min(1,"Email is required.").email("Enter a valid email address."),password:$t().min(12,"Use at least 12 characters."),confirmPassword:$t().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function vM(){const e=Ss(),n=Tn(),a=Ct(),i=nh(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return $l(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(Mv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),j=xM.safeParse(w);if(!j.success){const N=j.error.issues[0]?.message??"Invalid input.";f(N);return}g(!0);const T=$l(w.redirectTo);try{const N=await JS({display_name:j.data.displayName,email:j.data.email,password:j.data.password});a.setQueryData(Ls.detail(),N),n(Oc(N.return_to,T),{replace:!0})}catch(N){if(N instanceof ts){const O=N.problem?.detail??N.message??"Setup failed. Try again.";f(O)}else N instanceof Error?f(N.message):f("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?l.jsx(ut,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Yt,{label:"Display name",required:!0,children:l.jsx(cn,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(Yt,{label:"Email",required:!0,children:l.jsx(cn,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(Yt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(cn,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(Yt,{label:"Confirm password",required:!0,children:l.jsx(cn,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(ut,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(ze,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function Ey({children:e,sidePanel:n,actions:a,search:i}){const c=Mr(),u=Tn(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(Rb,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(L_,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:a?l.jsx("div",{className:"flex items-center gap-2",children:a}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(zb,{displayName:f,email:m})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function bM(){return l.jsx(Wc,{children:l.jsx(yM,{})})}function yM(){const e=Tn(),n=Mr(),a=Yc(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=qb(),g=a.data,x=p.useMemo(()=>g?.items??[],[g?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?x.filter(Z=>{const G=Z.name.toLowerCase(),Y=Z.slug?.toLowerCase()??"";return G.includes(b)||Y.includes(b)}):x,[x,b]),w=c?l.jsx(ze,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,j=p.useCallback(()=>{if(!b)return;const Z=y[0];Z&&e(`/workspaces/${Z.id}/${Ka.path}`)},[y,b,e]),T=p.useCallback(()=>f(""),[]),O=(b?y:x).slice(0,5).map(Z=>({id:Z.id,label:Z.name,description:Z.slug?`Slug  ${Z.slug}`:"Workspace"})),B=p.useCallback(Z=>{f(""),e(`/workspaces/${Z.id}/${Ka.path}`)},[e]),C={value:u,onChange:f,onSubmit:j,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:O,onSelectSuggestion:B,onClear:T},A={...C,shortcutHint:void 0,onClear:T,enableShortcut:!1,variant:"minimal"};if(a.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Et,{title:"Loading workspaces",variant:"loading"})});if(a.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(Et,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>a.refetch(),children:"Retry"})})});const V=x.length===0?c?l.jsx(SM,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(Et,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(Et,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(ze,{variant:"secondary",onClick:T,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),l.jsx(Mb,{...A,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map(Z=>l.jsxs(Zc,{to:`/workspaces/${Z.id}/${Ka.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:Z.name}),Z.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),l.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",Z.slug]}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:Z.permissions.length>0?Z.permissions.join(", "):"None"})]},Z.id))})]});return l.jsx(Ey,{actions:w,search:C,sidePanel:l.jsx(wM,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:V})}function wM({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(ze,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function SM({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(ze,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function jM(){const e=Ct();return An({mutationFn:cj,onSuccess(n){e.setQueryData(on.detail(n.id),n),e.getQueriesData({queryKey:on.all()}).forEach(([a,i])=>{if(!Array.isArray(a)||a[0]!=="workspaces"||a[1]!=="list"||!i)return;const c=i.items.findIndex(g=>g.id===n.id),f=[...c>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(a,{...i,items:f,total:m})}),e.invalidateQueries({queryKey:on.all()})}})}const NM=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,EM=pa({name:$t().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(NM,"Use lowercase letters, numbers, and dashes."),ownerUserId:$t().optional()});function CM(){return l.jsx(Wc,{children:l.jsx(_M,{})})}function _M(){const e=Tn(),n=Mr(),a=Yc(),i=jM(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=wy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter(P=>P.id!==n.user.id):f,[f,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:y,setError:w,clearErrors:j,formState:{errors:T,dirtyFields:N}}=Ah({resolver:Dh(EM),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),O=b("name"),B=b("slug");p.useEffect(()=>{if(N.slug)return;const P=kM(O);P!==B&&y("slug",P,{shouldValidate:!!P})},[N.slug,O,y,B]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const C=i.isPending,A=u.isPending&&u.users.length===0,V=C||A||!c,Z=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,G=g("ownerUserId"),Y=x(P=>{if(j("root"),c&&!P.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:P.name.trim(),slug:P.slug.trim(),owner_user_id:c&&P.ownerUserId||void 0},{onSuccess(se){a.refetch(),e(`/workspaces/${se.id}`)},onError(se){if(se instanceof ts){const ie=se.problem?.detail??se.message,le=se.problem?.errors??{};w("root",{type:"server",message:ie}),le.name?.[0]&&w("name",{type:"server",message:le.name[0]}),le.slug?.[0]&&w("slug",{type:"server",message:le.slug[0]}),le.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:le.owner_user_id[0]});return}w("root",{type:"server",message:se instanceof Error?se.message:"Workspace creation failed."})}})});return l.jsx(Ey,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:Y,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(Yt,{label:"Workspace name",required:!0,error:T.name?.message,children:l.jsx(cn,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!T.name,disabled:C})}),l.jsx(Yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:T.slug?.message,children:l.jsx(cn,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!T.slug,disabled:C})})]}),c?l.jsxs(Yt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:T.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...G,onChange:P=>{G.onChange(P),j("ownerUserId")},disabled:V,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:Z}),m.map(P=>l.jsx("option",{value:P.id,children:P.display_name?`${P.display_name} (${P.email})`:P.email},P.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,T.root?l.jsx(ut,{tone:"danger",children:T.root.message}):null,c&&u.isError?l.jsx(ut,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:C,children:"Cancel"}),l.jsx(ze,{type:"submit",isLoading:C,children:C?"Creating workspace":"Create workspace"})]})]})]})})}function kM(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function TM({signal:e}={}){try{await Ge.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof ts&&(n.status===401||n.status===403))return}}function AM(){const e=Tn(),n=Ct();return p.useEffect(()=>{let a=!1;const i=new AbortController;return(async()=>{try{await TM({signal:i.signal})}finally{a||(n.removeQueries({queryKey:Ls.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{a||e("/login",{replace:!0})}),()=>{a=!0,i.abort()}},[e,n]),null}function DM(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(Zc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(Zc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function MM(){return l.jsx(z1,{children:l.jsx(yS,{children:l.jsx(RM,{})})})}function RM(){const e=Ss(),a=zM(e.pathname).split("/").filter(Boolean);if(a.length===0)return l.jsx(dM,{});const[i,c]=a;switch(i){case"login":return l.jsx(pM,{});case"logout":return l.jsx(AM,{});case"auth":if(c==="callback")return l.jsx(gM,{});break;case"setup":return l.jsx(vM,{});case"workspaces":return c?c==="new"?l.jsx(CM,{}):l.jsx(XD,{}):l.jsx(bM,{})}return l.jsx(DM,{})}function zM(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}R1.createRoot(document.getElementById("root")).render(l.jsx(mt.StrictMode,{children:l.jsx(MM,{})}));export{mt as W,ve as c,l as j,p as r};
