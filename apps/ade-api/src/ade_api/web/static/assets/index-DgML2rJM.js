(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Ub(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function J1(){if(Ax)return Ol;Ax=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=n,Ol.jsx=r,Ol.jsxs=r,Ol}var Dx;function ej(){return Dx||(Dx=1,jf.exports=J1()),jf.exports}var l=ej(),Sf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function tj(){if(Mx)return Ie;Mx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function T(k,Q,ce){this.props=k,this.context=Q,this.refs=C,this.updater=ce||N}T.prototype.isReactComponent={},T.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=T.prototype;function F(k,Q,ce){this.props=k,this.context=Q,this.refs=C,this.updater=ce||N}var U=F.prototype=new _;U.constructor=F,j(U,T.prototype),U.isPureReactComponent=!0;var D=Array.isArray;function K(){}var O={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function W(k,Q,ce){var q=ce.ref;return{$$typeof:e,type:k,key:Q,ref:q!==void 0?q:null,props:ce}}function X(k,Q){return W(k.type,Q,k.props)}function re(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function B(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return Q[ce]})}var G=/\/+/g;function ue(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):Q.toString(36)}function we(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(K,K):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function M(k,Q,ce,q,te){var H=typeof k;(H==="undefined"||H==="boolean")&&(k=null);var Y=!1;if(k===null)Y=!0;else switch(H){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(k.$$typeof){case e:case n:Y=!0;break;case b:return Y=k._init,M(Y(k._payload),Q,ce,q,te)}}if(Y)return te=te(k),Y=q===""?"."+ue(k,0):q,D(te)?(ce="",Y!=null&&(ce=Y.replace(G,"$&/")+"/"),M(te,Q,ce,"",function(ge){return ge})):te!=null&&(re(te)&&(te=X(te,ce+(te.key==null||k&&k.key===te.key?"":(""+te.key).replace(G,"$&/")+"/")+Y)),Q.push(te)),1;Y=0;var $=q===""?".":q+":";if(D(k))for(var le=0;le<k.length;le++)q=k[le],H=$+ue(q,le),Y+=M(q,Q,ce,H,te);else if(le=E(k),typeof le=="function")for(k=le.call(k),le=0;!(q=k.next()).done;)q=q.value,H=$+ue(q,le++),Y+=M(q,Q,ce,H,te);else if(H==="object"){if(typeof k.then=="function")return M(we(k),Q,ce,q,te);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Y}function A(k,Q,ce){if(k==null)return k;var q=[],te=0;return M(k,q,"","",function(H){return Q.call(ce,H,te++)}),q}function se(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var de=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ae={map:A,forEach:function(k,Q,ce){A(k,function(){Q.apply(this,arguments)},ce)},count:function(k){var Q=0;return A(k,function(){Q++}),Q},toArray:function(k){return A(k,function(Q){return Q})||[]},only:function(k){if(!re(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ie.Activity=v,Ie.Children=ae,Ie.Component=T,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=i,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(k,Q,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var q=j({},k.props),te=k.key;if(Q!=null)for(H in Q.key!==void 0&&(te=""+Q.key),Q)!Z.call(Q,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&Q.ref===void 0||(q[H]=Q[H]);var H=arguments.length-2;if(H===1)q.children=ce;else if(1<H){for(var Y=Array(H),$=0;$<H;$++)Y[$]=arguments[$+2];q.children=Y}return W(k.type,te,q)},Ie.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,Q,ce){var q,te={},H=null;if(Q!=null)for(q in Q.key!==void 0&&(H=""+Q.key),Q)Z.call(Q,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(te[q]=Q[q]);var Y=arguments.length-2;if(Y===1)te.children=ce;else if(1<Y){for(var $=Array(Y),le=0;le<Y;le++)$[le]=arguments[le+2];te.children=$}if(k&&k.defaultProps)for(q in Y=k.defaultProps,Y)te[q]===void 0&&(te[q]=Y[q]);return W(k,H,te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:h,render:k}},Ie.isValidElement=re,Ie.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:se}},Ie.memo=function(k,Q){return{$$typeof:x,type:k,compare:Q===void 0?null:Q}},Ie.startTransition=function(k){var Q=O.T,ce={};O.T=ce;try{var q=k(),te=O.S;te!==null&&te(ce,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(K,de)}catch(H){de(H)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),O.T=Q}},Ie.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ie.use=function(k){return O.H.use(k)},Ie.useActionState=function(k,Q,ce){return O.H.useActionState(k,Q,ce)},Ie.useCallback=function(k,Q){return O.H.useCallback(k,Q)},Ie.useContext=function(k){return O.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,Q){return O.H.useDeferredValue(k,Q)},Ie.useEffect=function(k,Q){return O.H.useEffect(k,Q)},Ie.useEffectEvent=function(k){return O.H.useEffectEvent(k)},Ie.useId=function(){return O.H.useId()},Ie.useImperativeHandle=function(k,Q,ce){return O.H.useImperativeHandle(k,Q,ce)},Ie.useInsertionEffect=function(k,Q){return O.H.useInsertionEffect(k,Q)},Ie.useLayoutEffect=function(k,Q){return O.H.useLayoutEffect(k,Q)},Ie.useMemo=function(k,Q){return O.H.useMemo(k,Q)},Ie.useOptimistic=function(k,Q){return O.H.useOptimistic(k,Q)},Ie.useReducer=function(k,Q,ce){return O.H.useReducer(k,Q,ce)},Ie.useRef=function(k){return O.H.useRef(k)},Ie.useState=function(k){return O.H.useState(k)},Ie.useSyncExternalStore=function(k,Q,ce){return O.H.useSyncExternalStore(k,Q,ce)},Ie.useTransition=function(){return O.H.useTransition()},Ie.version="19.2.0",Ie}var Rx;function ph(){return Rx||(Rx=1,Sf.exports=tj()),Sf.exports}var p=ph();const vt=Ub(p);var Ef={exports:{}},Ll={},Nf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function nj(){return zx||(zx=1,(function(e){function n(M,A){var se=M.length;M.push(A);e:for(;0<se;){var de=se-1>>>1,ae=M[de];if(0<o(ae,A))M[de]=A,M[se]=ae,se=de;else break e}}function r(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var A=M[0],se=M.pop();if(se!==A){M[0]=se;e:for(var de=0,ae=M.length,k=ae>>>1;de<k;){var Q=2*(de+1)-1,ce=M[Q],q=Q+1,te=M[q];if(0>o(ce,se))q<ae&&0>o(te,ce)?(M[de]=te,M[q]=se,de=q):(M[de]=ce,M[Q]=se,de=Q);else if(q<ae&&0>o(te,se))M[de]=te,M[q]=se,de=q;else break e}}return A}function o(M,A){var se=M.sortIndex-A.sortIndex;return se!==0?se:M.id-A.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],x=[],b=1,v=null,w=3,E=!1,N=!1,j=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function U(M){for(var A=r(x);A!==null;){if(A.callback===null)i(x);else if(A.startTime<=M)i(x),A.sortIndex=A.expirationTime,n(g,A);else break;A=r(x)}}function D(M){if(j=!1,U(M),!N)if(r(g)!==null)N=!0,K||(K=!0,B());else{var A=r(x);A!==null&&we(D,A.startTime-M)}}var K=!1,O=-1,Z=5,W=-1;function X(){return C?!0:!(e.unstable_now()-W<Z)}function re(){if(C=!1,K){var M=e.unstable_now();W=M;var A=!0;try{e:{N=!1,j&&(j=!1,_(O),O=-1),E=!0;var se=w;try{t:{for(U(M),v=r(g);v!==null&&!(v.expirationTime>M&&X());){var de=v.callback;if(typeof de=="function"){v.callback=null,w=v.priorityLevel;var ae=de(v.expirationTime<=M);if(M=e.unstable_now(),typeof ae=="function"){v.callback=ae,U(M),A=!0;break t}v===r(g)&&i(g),U(M)}else i(g);v=r(g)}if(v!==null)A=!0;else{var k=r(x);k!==null&&we(D,k.startTime-M),A=!1}}break e}finally{v=null,w=se,E=!1}A=void 0}}finally{A?B():K=!1}}}var B;if(typeof F=="function")B=function(){F(re)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=re,B=function(){ue.postMessage(null)}}else B=function(){T(re,0)};function we(M,A){O=T(function(){M(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(M){switch(w){case 1:case 2:case 3:var A=3;break;default:A=w}var se=w;w=A;try{return M()}finally{w=se}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(M,A){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var se=w;w=M;try{return A()}finally{w=se}},e.unstable_scheduleCallback=function(M,A,se){var de=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?de+se:de):se=de,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=se+ae,M={id:b++,callback:A,priorityLevel:M,startTime:se,expirationTime:ae,sortIndex:-1},se>de?(M.sortIndex=se,n(x,M),r(g)===null&&M===r(x)&&(j?(_(O),O=-1):j=!0,we(D,se-de))):(M.sortIndex=ae,n(g,M),N||E||(N=!0,K||(K=!0,B()))),M},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(M){var A=w;return function(){var se=w;w=A;try{return M.apply(this,arguments)}finally{w=se}}}})(Cf)),Cf}var Ox;function sj(){return Ox||(Ox=1,Nf.exports=nj()),Nf.exports}var _f={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function rj(){if(Lx)return Rn;Lx=1;var e=ph();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,x,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:x,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},Rn.flushSync=function(g){var x=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=x,i.p=b,i.d.f()}},Rn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Rn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Rn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Rn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=h(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Rn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Rn.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=h(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Rn.requestFormReset=function(g){i.d.r(g)},Rn.unstable_batchedUpdates=function(g,x){return g(x)},Rn.useFormState=function(g,x,b){return d.H.useFormState(g,x,b)},Rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var Ux;function Bb(){if(Ux)return _f.exports;Ux=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),_f.exports=rj(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function aj(){if(Bx)return Ll;Bx=1;var e=sj(),n=ph(),r=Bb();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===c)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var y=!1,S=f.child;S;){if(S===a){y=!0,a=f,c=m;break}if(S===c){y=!0,c=f,a=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===a){y=!0,a=m,c=f;break}if(S===c){y=!0,c=m,a=f;break}S=S.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var G=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===G?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case K:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case F:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case U:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return s=t.displayName||null,s!==null?s:ue(t.type)||"Memo";case Z:s=t._payload,t=t._init;try{return ue(t(s))}catch{}}return null}var we=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function k(t){return{current:t}}function Q(t){0>ae||(t.current=de[ae],de[ae]=null,ae--)}function ce(t,s){ae++,de[ae]=t.current,t.current=s}var q=k(null),te=k(null),H=k(null),Y=k(null);function $(t,s){switch(ce(H,s),ce(te,t),ce(q,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Jg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Jg(s),t=ex(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(q),ce(q,t)}function le(){Q(q),Q(te),Q(H)}function ge(t){t.memoizedState!==null&&ce(Y,t);var s=q.current,a=ex(s,t.type);s!==a&&(ce(te,t),ce(q,a))}function xe(t){te.current===t&&(Q(q),Q(te)),Y.current===t&&(Q(Y),Dl._currentValue=se)}var Ce,We;function Oe(t){if(Ce===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",We=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+We}var Te=!1;function Ge(t,s){if(!t||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ne=oe}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(oe){ne=oe}t.call(pe.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var z=y.split(`
`),ee=S.split(`
`);for(f=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(c===z.length||f===ee.length)for(c=z.length-1,f=ee.length-1;1<=c&&0<=f&&z[c]!==ee[f];)f--;for(;1<=c&&0<=f;c--,f--)if(z[c]!==ee[f]){if(c!==1||f!==1)do if(c--,f--,0>f||z[c]!==ee[f]){var fe=`
`+z[c].replace(" at new "," at ");return t.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",t.displayName)),fe}while(1<=c&&0<=f);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function Ut(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ge(t.type,!1);case 11:return Ge(t.type.render,!1);case 1:return Ge(t.type,!0);case 31:return Oe("Activity");default:return""}}function it(t){try{var s="",a=null;do s+=Ut(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Cn=Object.prototype.hasOwnProperty,R=e.unstable_scheduleCallback,P=e.unstable_cancelCallback,ie=e.unstable_shouldYield,Ee=e.unstable_requestPaint,ye=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,_t=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Ne=e.log,$e=e.unstable_setDisableYieldValue,Dt=null,st=null;function Kt(t){if(typeof Ne=="function"&&$e(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Dt,t)}catch{}}var Mt=Math.clz32?Math.clz32:$i,br=Math.log,Os=Math.LN2;function $i(t){return t>>>=0,t===0?32:31-(br(t)/Os|0)|0}var Ls=256,vr=262144,Rt=4194304;function wt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kt(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~m,c!==0?f=wt(c):(y&=S,y!==0?f=wt(y):a||(a=S&~t,a!==0&&(f=wt(a))))):(S=c&~m,S!==0?f=wt(S):y!==0?f=wt(y):a||(a=c&~t,a!==0&&(f=wt(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function _n(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function dn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function hn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function On(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,s,a,c,f,m){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,z=t.expirationTimes,ee=t.hiddenUpdates;for(a=y&~a;0<a;){var fe=31-Mt(a),pe=1<<fe;S[fe]=0,z[fe]=-1;var ne=ee[fe];if(ne!==null)for(ee[fe]=null,fe=0;fe<ne.length;fe++){var oe=ne[fe];oe!==null&&(oe.lane&=-536870913)}a&=~pe}c!==0&&bn(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(y&~s))}function bn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Mt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function vn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Mt(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function kn(t,s){var a=s&-s;return a=(a&42)!==0?1:Gn(a),(a&(t.suspendedLanes|s))!==0?0:a}function Gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=A.p;return t!==0?t:(t=window.event,t===void 0?32:Sx(t.type))}function zt(t,s){var a=A.p;try{return A.p=t,s()}finally{A.p=a}}var Ln=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Ln,Vt="__reactProps$"+Ln,yr="__reactContainer$"+Ln,Ma="__reactEvents$"+Ln,yu="__reactListeners$"+Ln,qe="__reactHandles$"+Ln,ea="__reactResources$"+Ln,wr="__reactMarker$"+Ln;function qi(t){delete t[Nt],delete t[Vt],delete t[Ma],delete t[yu],delete t[qe]}function jr(t){var s=t[Nt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[yr]||a[Nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=lx(t);t!==null;){if(a=t[Nt])return a;t=lx(t)}return s}t=a,a=t.parentNode}return null}function Gt(t){if(t=t[Nt]||t[yr]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Sr(t){var s=t[ea];return s||(s=t[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(t){t[wr]=!0}var Ys=new Set,ta={};function os(t,s){Er(t,s),Er(t+"Capture",s)}function Er(t,s){for(ta[t]=s,t=0;t<s.length;t++)Ys.add(s[t])}var Fi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Xs={};function rn(t){return Cn.call(Xs,t)?!0:Cn.call(oo,t)?!1:Fi.test(t)?Xs[t]=!0:(oo[t]=!0,!1)}function Ra(t,s,a){if(rn(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function js(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function An(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ss(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,m.call(this,y)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Es(t){if(!t._valueTracker){var s=Hi(t)?"checked":"value";t._valueTracker=Ss(t,s,""+t[s])}}function za(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=Hi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oa=/[\n"\\]/g;function Bt(t){return t.replace(Oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(t,s,a,c,f,m,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),s!=null?y==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Dn(s)):t.value!==""+Dn(s)&&(t.value=""+Dn(s)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),s!=null?Zi(t,y,Dn(s)):a!=null?Zi(t,y,Dn(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Dn(S):t.removeAttribute("name")}function wu(t,s,a,c,f,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Es(t);return}a=a!=null?""+Dn(a):"",s=s!=null?""+Dn(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Es(t)}function Zi(t,s,a){s==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Us(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Dn(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Ii(t,s,a){if(s!=null&&(s=""+Dn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Dn(a):""}function Vi(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(we(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Dn(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Es(t)}function Nr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||La.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function fo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&uo(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&uo(t,m,s[m])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(t){return ju.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ns(){}var Cr=null;function Bs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $s=null,qs=null;function qa(t){var s=Gt(t);if(s&&(t=s.stateNode)){var a=t[Vt]||null;e:switch(t=s.stateNode,s.type){case"input":if(co(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[Vt]||null;if(!f)throw Error(i(90));co(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&za(c)}break e;case"textarea":Ii(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Us(t,!!a.multiple,s,!1)}}}var Fs=!1;function ho(t,s,a){if(Fs)return t(s,a);Fs=!0;try{var c=t(s);return c}finally{if(Fs=!1,($s!==null||qs!==null)&&(Xo(),$s&&(s=$s,t=qs,qs=$s=null,qa(s),t)))for(s=0;s<t.length;s++)qa(t[s])}}function sa(t,s){var a=t.stateNode;if(a===null)return null;var c=a[Vt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=!1;if(Cs)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Qi=!1}var Hs=null,Wi=null,Fa=null;function mo(){if(Fa)return Fa;var t,s=Wi,a=s.length,c,f="value"in Hs?Hs.value:Hs.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var y=a-t;for(c=1;c<=y&&s[a-c]===f[m-c];c++);return Fa=f.slice(t,1<c?1-c:void 0)}function Ha(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Za(){return!0}function po(){return!1}function yn(t){function s(a,c,f,m,y){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Za:po,this.isPropagationStopped=po,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),s}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=yn(Js),ra=v({},Js,{view:0,detail:0}),Su=yn(ra),Pi,Ki,aa,Va=v({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Pi=t.screenX-aa.screenX,Ki=t.screenY-aa.screenY):Ki=Pi=0,aa=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),go=yn(Va),Eu=v({},Va,{dataTransfer:0}),Nu=yn(Eu),Gi=v({},ra,{relatedTarget:0}),V=yn(Gi),be=v({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),De=yn(be),ke=v({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ze=yn(ke),an=v({},Js,{data:0}),ct=yn(an),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yi(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=sm[t])?!!s[t]:!1}function Cu(){return Yi}var uw=v({},ra,{key:function(t){if(t.key){var s=Mn[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dw=yn(uw),fw=v({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=yn(fw),hw=v({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),mw=yn(hw),pw=v({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=yn(pw),xw=v({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=yn(xw),vw=v({},Js,{newState:0,oldState:0}),yw=yn(vw),ww=[9,13,27,32],_u=Cs&&"CompositionEvent"in window,Xi=null;Cs&&"documentMode"in document&&(Xi=document.documentMode);var jw=Cs&&"TextEvent"in window&&!Xi,am=Cs&&(!_u||Xi&&8<Xi&&11>=Xi),im=" ",lm=!1;function om(t,s){switch(t){case"keyup":return ww.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Sw(t,s){switch(t){case"compositionend":return cm(s);case"keypress":return s.which!==32?null:(lm=!0,im);case"textInput":return t=s.data,t===im&&lm?null:t;default:return null}}function Ew(t,s){if(Qa)return t==="compositionend"||!_u&&om(t,s)?(t=mo(),Fa=Wi=Hs=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return am&&s.locale!=="ko"?null:s.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Nw[t.type]:s==="textarea"}function dm(t,s,a,c){$s?qs?qs.push(c):qs=[c]:$s=c,s=ac(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Ji=null,el=null;function Cw(t){Wg(t,0)}function xo(t){var s=Yn(t);if(za(s))return t}function fm(t,s){if(t==="change")return s}var hm=!1;if(Cs){var ku;if(Cs){var Tu="oninput"in document;if(!Tu){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Tu=typeof mm.oninput=="function"}ku=Tu}else ku=!1;hm=ku&&(!document.documentMode||9<document.documentMode)}function pm(){Ji&&(Ji.detachEvent("onpropertychange",gm),el=Ji=null)}function gm(t){if(t.propertyName==="value"&&xo(el)){var s=[];dm(s,el,t,Bs(t)),ho(Cw,s)}}function _w(t,s,a){t==="focusin"?(pm(),Ji=s,el=a,Ji.attachEvent("onpropertychange",gm)):t==="focusout"&&pm()}function kw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(el)}function Tw(t,s){if(t==="click")return xo(s)}function Aw(t,s){if(t==="input"||t==="change")return xo(s)}function Dw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xn=typeof Object.is=="function"?Object.is:Dw;function tl(t,s){if(Xn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Cn.call(s,f)||!Xn(t[f],s[f]))return!1}return!0}function xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,s){var a=xm(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function vm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=na(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=na(t.document)}return s}function Au(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Mw=Cs&&"documentMode"in document&&11>=document.documentMode,Wa=null,Du=null,nl=null,Mu=!1;function wm(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mu||Wa==null||Wa!==na(c)||(c=Wa,"selectionStart"in c&&Au(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),nl&&tl(nl,c)||(nl=c,c=ac(Du,"onSelect"),0<c.length&&(s=new Ia("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=Wa)))}function ia(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Pa={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Ru={},jm={};Cs&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function la(t){if(Ru[t])return Ru[t];if(!Pa[t])return t;var s=Pa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in jm)return Ru[t]=s[a];return t}var Sm=la("animationend"),Em=la("animationiteration"),Nm=la("animationstart"),Rw=la("transitionrun"),zw=la("transitionstart"),Ow=la("transitioncancel"),Cm=la("transitionend"),_m=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function _s(t,s){_m.set(t,s),os(s,[t])}var bo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cs=[],Ka=0,Ou=0;function vo(){for(var t=Ka,s=Ou=Ka=0;s<t;){var a=cs[s];cs[s++]=null;var c=cs[s];cs[s++]=null;var f=cs[s];cs[s++]=null;var m=cs[s];if(cs[s++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}m!==0&&km(a,f,m)}}function yo(t,s,a,c){cs[Ka++]=t,cs[Ka++]=s,cs[Ka++]=a,cs[Ka++]=c,Ou|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Lu(t,s,a,c){return yo(t,s,a,c),wo(t)}function oa(t,s){return yo(t,null,null,s),wo(t)}function km(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Mt(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function wo(t){if(50<El)throw El=0,Vd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ga={};function Lw(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,s,a,c){return new Lw(t,s,a,c)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function er(t,s){var a=t.alternate;return a===null?(a=Jn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function jo(t,s,a,c,f,m){var y=0;if(c=t,typeof t=="function")Uu(t)&&(y=1);else if(typeof t=="string")y=F1(t,a,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Jn(31,a,s,f),t.elementType=W,t.lanes=m,t;case j:return ca(a.children,f,m,s);case C:y=8,f|=24;break;case T:return t=Jn(12,a,s,f|2),t.elementType=T,t.lanes=m,t;case D:return t=Jn(13,a,s,f),t.elementType=D,t.lanes=m,t;case K:return t=Jn(19,a,s,f),t.elementType=K,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:y=10;break e;case _:y=9;break e;case U:y=11;break e;case O:y=14;break e;case Z:y=16,c=null;break e}y=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=Jn(y,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function ca(t,s,a,c){return t=Jn(7,t,c,s),t.lanes=a,t}function Bu(t,s,a){return t=Jn(6,t,null,s),t.lanes=a,t}function Am(t){var s=Jn(18,null,null,0);return s.stateNode=t,s}function $u(t,s,a){return s=Jn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Dm=new WeakMap;function us(t,s){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:it(s)},Dm.set(t,s),s)}return{value:t,source:s,stack:it(s)}}var Ya=[],Xa=0,So=null,sl=0,ds=[],fs=0,_r=null,Zs=1,Is="";function tr(t,s){Ya[Xa++]=sl,Ya[Xa++]=So,So=t,sl=s}function Mm(t,s,a){ds[fs++]=Zs,ds[fs++]=Is,ds[fs++]=_r,_r=t;var c=Zs;t=Is;var f=32-Mt(c)-1;c&=~(1<<f),a+=1;var m=32-Mt(s)+f;if(30<m){var y=f-f%5;m=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Zs=1<<32-Mt(s)+f|a<<f|c,Is=m+t}else Zs=1<<m|a<<f|c,Is=t}function qu(t){t.return!==null&&(tr(t,1),Mm(t,1,0))}function Fu(t){for(;t===So;)So=Ya[--Xa],Ya[Xa]=null,sl=Ya[--Xa],Ya[Xa]=null;for(;t===_r;)_r=ds[--fs],ds[fs]=null,Is=ds[--fs],ds[fs]=null,Zs=ds[--fs],ds[fs]=null}function Rm(t,s){ds[fs++]=Zs,ds[fs++]=Is,ds[fs++]=_r,Zs=s.id,Is=s.overflow,_r=t}var wn=null,Tt=null,tt=!1,kr=null,hs=!1,Hu=Error(i(519));function Tr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(us(s,t)),Hu}function zm(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Nt]=t,s[Vt]=c,a){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Xe(Cl[a],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),wu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),Vi(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Yg(s.textContent,a)?(c.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),c.onScroll!=null&&Xe("scroll",s),c.onScrollEnd!=null&&Xe("scrollend",s),c.onClick!=null&&(s.onclick=Ns),s=!0):s=!1,s||Tr(t,!0)}function Om(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:wn=wn.return}}function Ja(t){if(t!==wn)return!1;if(!tt)return Om(t),tt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&Tt&&Tr(t),Om(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=ix(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=ix(t)}else s===27?(s=Tt,Zr(t.type)?(t=ff,ff=null,Tt=t):Tt=s):Tt=wn?ps(t.stateNode.nextSibling):null;return!0}function ua(){Tt=wn=null,tt=!1}function Zu(){var t=kr;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),kr=null),t}function rl(t){kr===null?kr=[t]:kr.push(t)}var Iu=k(null),da=null,nr=null;function Ar(t,s,a){ce(Iu,s._currentValue),s._currentValue=a}function sr(t){t._currentValue=Iu.current,Q(Iu)}function Vu(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function Qu(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var y=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var z=0;z<s.length;z++)if(S.context===s[z]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Vu(m.return,a,t),c||(y=null);break e}m=S.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=a,m=y.alternate,m!==null&&(m.lanes|=a),Vu(y,a,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function ei(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var S=f.type;Xn(f.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(f===Y.current){if(y=f.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}f=f.return}t!==null&&Qu(s,t,a,c),s.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fa(t){da=t,nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jn(t){return Lm(da,t)}function No(t,s){return da===null&&fa(t),Lm(t,s)}function Lm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},nr===null){if(t===null)throw Error(i(308));nr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else nr=nr.next=s;return a}var Uw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Bw=e.unstable_scheduleCallback,$w=e.unstable_NormalPriority,Yt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new Uw,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&Bw($w,function(){t.controller.abort()})}var il=null,Pu=0,ti=0,ni=null;function qw(t,s){if(il===null){var a=il=[];Pu=0,ti=Yd(),ni={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Pu++,s.then(Um,Um),s}function Um(){if(--Pu===0&&il!==null){ni!==null&&(ni.status="fulfilled");var t=il;il=null,ti=0,ni=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Fw(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Bm=M.S;M.S=function(t,s){wg=ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qw(t,s),Bm!==null&&Bm(t,s)};var ha=k(null);function Ku(){var t=ha.current;return t!==null?t:St.pooledCache}function Co(t,s){s===null?ce(ha,ha.current):ce(ha,s.pool)}function $m(){var t=Ku();return t===null?null:{parent:Yt._currentValue,pool:t}}var si=Error(i(460)),Gu=Error(i(474)),_o=Error(i(542)),ko={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ns,Ns),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Zm(t),t;default:if(typeof s.status=="string")s.then(Ns,Ns);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Zm(t),t}throw pa=s,si}}function ma(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pa=a,si):a}}var pa=null;function Hm(){if(pa===null)throw Error(i(459));var t=pa;return pa=null,t}function Zm(t){if(t===si||t===_o)throw Error(i(483))}var ri=null,ll=0;function To(t){var s=ll;return ll+=1,ri===null&&(ri=[]),Fm(ri,t,s)}function ol(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ao(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Im(t){function s(I,L){if(t){var J=I.deletions;J===null?(I.deletions=[L],I.flags|=16):J.push(L)}}function a(I,L){if(!t)return null;for(;L!==null;)s(I,L),L=L.sibling;return null}function c(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function f(I,L){return I=er(I,L),I.index=0,I.sibling=null,I}function m(I,L,J){return I.index=J,t?(J=I.alternate,J!==null?(J=J.index,J<L?(I.flags|=67108866,L):J):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function y(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function S(I,L,J,he){return L===null||L.tag!==6?(L=Bu(J,I.mode,he),L.return=I,L):(L=f(L,J),L.return=I,L)}function z(I,L,J,he){var Le=J.type;return Le===j?fe(I,L,J.props.children,he,J.key):L!==null&&(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Z&&ma(Le)===L.type)?(L=f(L,J.props),ol(L,J),L.return=I,L):(L=jo(J.type,J.key,J.props,null,I.mode,he),ol(L,J),L.return=I,L)}function ee(I,L,J,he){return L===null||L.tag!==4||L.stateNode.containerInfo!==J.containerInfo||L.stateNode.implementation!==J.implementation?(L=$u(J,I.mode,he),L.return=I,L):(L=f(L,J.children||[]),L.return=I,L)}function fe(I,L,J,he,Le){return L===null||L.tag!==7?(L=ca(J,I.mode,he,Le),L.return=I,L):(L=f(L,J),L.return=I,L)}function pe(I,L,J){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Bu(""+L,I.mode,J),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return J=jo(L.type,L.key,L.props,null,I.mode,J),ol(J,L),J.return=I,J;case N:return L=$u(L,I.mode,J),L.return=I,L;case Z:return L=ma(L),pe(I,L,J)}if(we(L)||B(L))return L=ca(L,I.mode,J,null),L.return=I,L;if(typeof L.then=="function")return pe(I,To(L),J);if(L.$$typeof===F)return pe(I,No(I,L),J);Ao(I,L)}return null}function ne(I,L,J,he){var Le=L!==null?L.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Le!==null?null:S(I,L,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===Le?z(I,L,J,he):null;case N:return J.key===Le?ee(I,L,J,he):null;case Z:return J=ma(J),ne(I,L,J,he)}if(we(J)||B(J))return Le!==null?null:fe(I,L,J,he,null);if(typeof J.then=="function")return ne(I,L,To(J),he);if(J.$$typeof===F)return ne(I,L,No(I,J),he);Ao(I,J)}return null}function oe(I,L,J,he,Le){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return I=I.get(J)||null,S(L,I,""+he,Le);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return I=I.get(he.key===null?J:he.key)||null,z(L,I,he,Le);case N:return I=I.get(he.key===null?J:he.key)||null,ee(L,I,he,Le);case Z:return he=ma(he),oe(I,L,J,he,Le)}if(we(he)||B(he))return I=I.get(J)||null,fe(L,I,he,Le,null);if(typeof he.then=="function")return oe(I,L,J,To(he),Le);if(he.$$typeof===F)return oe(I,L,J,No(L,he),Le);Ao(L,he)}return null}function Me(I,L,J,he){for(var Le=null,rt=null,ze=L,Ke=L=0,et=null;ze!==null&&Ke<J.length;Ke++){ze.index>Ke?(et=ze,ze=null):et=ze.sibling;var at=ne(I,ze,J[Ke],he);if(at===null){ze===null&&(ze=et);break}t&&ze&&at.alternate===null&&s(I,ze),L=m(at,L,Ke),rt===null?Le=at:rt.sibling=at,rt=at,ze=et}if(Ke===J.length)return a(I,ze),tt&&tr(I,Ke),Le;if(ze===null){for(;Ke<J.length;Ke++)ze=pe(I,J[Ke],he),ze!==null&&(L=m(ze,L,Ke),rt===null?Le=ze:rt.sibling=ze,rt=ze);return tt&&tr(I,Ke),Le}for(ze=c(ze);Ke<J.length;Ke++)et=oe(ze,I,Ke,J[Ke],he),et!==null&&(t&&et.alternate!==null&&ze.delete(et.key===null?Ke:et.key),L=m(et,L,Ke),rt===null?Le=et:rt.sibling=et,rt=et);return t&&ze.forEach(function(Pr){return s(I,Pr)}),tt&&tr(I,Ke),Le}function Ue(I,L,J,he){if(J==null)throw Error(i(151));for(var Le=null,rt=null,ze=L,Ke=L=0,et=null,at=J.next();ze!==null&&!at.done;Ke++,at=J.next()){ze.index>Ke?(et=ze,ze=null):et=ze.sibling;var Pr=ne(I,ze,at.value,he);if(Pr===null){ze===null&&(ze=et);break}t&&ze&&Pr.alternate===null&&s(I,ze),L=m(Pr,L,Ke),rt===null?Le=Pr:rt.sibling=Pr,rt=Pr,ze=et}if(at.done)return a(I,ze),tt&&tr(I,Ke),Le;if(ze===null){for(;!at.done;Ke++,at=J.next())at=pe(I,at.value,he),at!==null&&(L=m(at,L,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return tt&&tr(I,Ke),Le}for(ze=c(ze);!at.done;Ke++,at=J.next())at=oe(ze,I,Ke,at.value,he),at!==null&&(t&&at.alternate!==null&&ze.delete(at.key===null?Ke:at.key),L=m(at,L,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return t&&ze.forEach(function(X1){return s(I,X1)}),tt&&tr(I,Ke),Le}function bt(I,L,J,he){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:e:{for(var Le=J.key;L!==null;){if(L.key===Le){if(Le=J.type,Le===j){if(L.tag===7){a(I,L.sibling),he=f(L,J.props.children),he.return=I,I=he;break e}}else if(L.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Z&&ma(Le)===L.type){a(I,L.sibling),he=f(L,J.props),ol(he,J),he.return=I,I=he;break e}a(I,L);break}else s(I,L);L=L.sibling}J.type===j?(he=ca(J.props.children,I.mode,he,J.key),he.return=I,I=he):(he=jo(J.type,J.key,J.props,null,I.mode,he),ol(he,J),he.return=I,I=he)}return y(I);case N:e:{for(Le=J.key;L!==null;){if(L.key===Le)if(L.tag===4&&L.stateNode.containerInfo===J.containerInfo&&L.stateNode.implementation===J.implementation){a(I,L.sibling),he=f(L,J.children||[]),he.return=I,I=he;break e}else{a(I,L);break}else s(I,L);L=L.sibling}he=$u(J,I.mode,he),he.return=I,I=he}return y(I);case Z:return J=ma(J),bt(I,L,J,he)}if(we(J))return Me(I,L,J,he);if(B(J)){if(Le=B(J),typeof Le!="function")throw Error(i(150));return J=Le.call(J),Ue(I,L,J,he)}if(typeof J.then=="function")return bt(I,L,To(J),he);if(J.$$typeof===F)return bt(I,L,No(I,J),he);Ao(I,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,L!==null&&L.tag===6?(a(I,L.sibling),he=f(L,J),he.return=I,I=he):(a(I,L),he=Bu(J,I.mode,he),he.return=I,I=he),y(I)):a(I,L)}return function(I,L,J,he){try{ll=0;var Le=bt(I,L,J,he);return ri=null,Le}catch(ze){if(ze===si||ze===_o)throw ze;var rt=Jn(29,ze,null,I.mode);return rt.lanes=he,rt.return=I,rt}finally{}}}var ga=Im(!0),Vm=Im(!1),Dr=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=wo(t),km(t,null,a),s}return yo(t,c,s,a),wo(t)}function cl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,vn(t,a)}}function Ju(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=y:m=m.next=y,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ed=!1;function ul(){if(ed){var t=ni;if(t!==null)throw t}}function dl(t,s,a,c){ed=!1;var f=t.updateQueue;Dr=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var z=S,ee=z.next;z.next=null,y===null?m=ee:y.next=ee,y=z;var fe=t.alternate;fe!==null&&(fe=fe.updateQueue,S=fe.lastBaseUpdate,S!==y&&(S===null?fe.firstBaseUpdate=ee:S.next=ee,fe.lastBaseUpdate=z))}if(m!==null){var pe=f.baseState;y=0,fe=ee=z=null,S=m;do{var ne=S.lane&-536870913,oe=ne!==S.lane;if(oe?(Je&ne)===ne:(c&ne)===ne){ne!==0&&ne===ti&&(ed=!0),fe!==null&&(fe=fe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,Ue=S;ne=s;var bt=a;switch(Ue.tag){case 1:if(Me=Ue.payload,typeof Me=="function"){pe=Me.call(bt,pe,ne);break e}pe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ue.payload,ne=typeof Me=="function"?Me.call(bt,pe,ne):Me,ne==null)break e;pe=v({},pe,ne);break e;case 2:Dr=!0}}ne=S.callback,ne!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=f.callbacks,oe===null?f.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:S.tag,payload:S.payload,callback:S.callback,next:null},fe===null?(ee=fe=oe,z=pe):fe=fe.next=oe,y|=ne;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;oe=S,S=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);fe===null&&(z=pe),f.baseState=z,f.firstBaseUpdate=ee,f.lastBaseUpdate=fe,m===null&&(f.shared.lanes=0),Br|=y,t.lanes=y,t.memoizedState=pe}}function Qm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Wm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qm(a[t],s)}var ai=k(null),Do=k(0);function Pm(t,s){t=fr,ce(Do,t),ce(ai,s),fr=t|s.baseLanes}function td(){ce(Do,fr),ce(ai,ai.current)}function nd(){fr=Do.current,Q(ai),Q(Do)}var es=k(null),ms=null;function zr(t){var s=t.alternate;ce(Qt,Qt.current&1),ce(es,t),ms===null&&(s===null||ai.current!==null||s.memoizedState!==null)&&(ms=t)}function sd(t){ce(Qt,Qt.current),ce(es,t),ms===null&&(ms=t)}function Km(t){t.tag===22?(ce(Qt,Qt.current),ce(es,t),ms===null&&(ms=t)):Or()}function Or(){ce(Qt,Qt.current),ce(es,es.current)}function ts(t){Q(es),ms===t&&(ms=null),Q(Qt)}var Qt=k(0);function Mo(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||uf(a)||df(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rr=0,Qe=null,gt=null,Xt=null,Ro=!1,ii=!1,xa=!1,zo=0,fl=0,li=null,Hw=0;function Ft(){throw Error(i(321))}function rd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Xn(t[a],s[a]))return!1;return!0}function ad(t,s,a,c,f,m){return rr=m,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=t===null||t.memoizedState===null?Mp:yd,xa=!1,m=a(c,f),xa=!1,ii&&(m=Ym(s,a,c,f)),Gm(t),m}function Gm(t){M.H=pl;var s=gt!==null&&gt.next!==null;if(rr=0,Xt=gt=Qe=null,Ro=!1,fl=0,li=null,s)throw Error(i(300));t===null||Jt||(t=t.dependencies,t!==null&&Eo(t)&&(Jt=!0))}function Ym(t,s,a,c){Qe=t;var f=0;do{if(ii&&(li=null),fl=0,ii=!1,25<=f)throw Error(i(301));if(f+=1,Xt=gt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Rp,m=s(a,c)}while(ii);return m}function Zw(){var t=M.H,s=t.useState()[0];return s=typeof s.then=="function"?hl(s):s,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Qe.flags|=1024),s}function id(){var t=zo!==0;return zo=0,t}function ld(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function od(t){if(Ro){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ro=!1}rr=0,Xt=gt=Qe=null,ii=!1,fl=zo=0,li=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Qe.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Wt(){if(gt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var s=Xt===null?Qe.memoizedState:Xt.next;if(s!==null)Xt=s,gt=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?Qe.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var s=fl;return fl+=1,li===null&&(li=[]),t=Fm(li,t,s),s=Qe,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?Mp:yd),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===F)return jn(t)}throw Error(i(438,String(t)))}function cd(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Oo(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=X;return s.index++,a}function ar(t,s){return typeof s=="function"?s(t):s}function Uo(t){var s=Wt();return ud(s,gt,t)}function ud(t,s,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var S=y=null,z=null,ee=s,fe=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(Je&pe)===pe:(rr&pe)===pe){var ne=ee.revertLane;if(ne===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===ti&&(fe=!0);else if((rr&ne)===ne){ee=ee.next,ne===ti&&(fe=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(S=z=pe,y=m):z=z.next=pe,Qe.lanes|=ne,Br|=ne;pe=ee.action,xa&&a(m,pe),m=ee.hasEagerState?ee.eagerState:a(m,pe)}else ne={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(S=z=ne,y=m):z=z.next=ne,Qe.lanes|=pe,Br|=pe;ee=ee.next}while(ee!==null&&ee!==s);if(z===null?y=m:z.next=S,!Xn(m,t.memoizedState)&&(Jt=!0,fe&&(a=ni,a!==null)))throw a;t.memoizedState=m,t.baseState=y,t.baseQueue=z,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function dd(t){var s=Wt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do m=t(m,y.action),y=y.next;while(y!==f);Xn(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Xm(t,s,a){var c=Qe,f=Wt(),m=tt;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var y=!Xn((gt||f).memoizedState,a);if(y&&(f.memoizedState=a,Jt=!0),f=f.queue,md(tp.bind(null,c,f,t),[t]),f.getSnapshot!==s||y||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,oi(9,{destroy:void 0},ep.bind(null,c,f,a,s),null),St===null)throw Error(i(349));m||(rr&127)!==0||Jm(c,s,a)}return a}function Jm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=Oo(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function ep(t,s,a,c){s.value=a,s.getSnapshot=c,np(s)&&sp(t)}function tp(t,s,a){return a(function(){np(s)&&sp(t)})}function np(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Xn(t,a)}catch{return!0}}function sp(t){var s=oa(t,2);s!==null&&Qn(s,t,2)}function fd(t){var s=Bn();if(typeof t=="function"){var a=t;if(t=a(),xa){Kt(!0);try{a()}finally{Kt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},s}function rp(t,s,a,c){return t.baseState=a,ud(t,gt,typeof c=="function"?c:ar)}function Iw(t,s,a,c,f){if(qo(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};M.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,ap(s,m)):(m.next=a.next,s.pending=a.next=m)}}function ap(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=M.T,y={};M.T=y;try{var S=a(f,c),z=M.S;z!==null&&z(y,S),ip(t,s,S)}catch(ee){hd(t,s,ee)}finally{m!==null&&y.types!==null&&(m.types=y.types),M.T=m}}else try{m=a(f,c),ip(t,s,m)}catch(ee){hd(t,s,ee)}}function ip(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){lp(t,s,c)},function(c){return hd(t,s,c)}):lp(t,s,a)}function lp(t,s,a){s.status="fulfilled",s.value=a,op(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,ap(t,a)))}function hd(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,op(s),s=s.next;while(s!==c)}t.action=null}function op(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function cp(t,s){return s}function up(t,s){if(tt){var a=St.formState;if(a!==null){e:{var c=Qe;if(tt){if(Tt){t:{for(var f=Tt,m=hs;f.nodeType!==8;){if(!m){f=null;break t}if(f=ps(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Tt=ps(f.nextSibling),c=f.data==="F!";break e}}Tr(c)}c=!1}c&&(s=a[0])}}return a=Bn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:s},a.queue=c,a=Tp.bind(null,Qe,c),c.dispatch=a,c=fd(!1),m=vd.bind(null,Qe,!1,c.queue),c=Bn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=Iw.bind(null,Qe,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function dp(t){var s=Wt();return fp(s,gt,t)}function fp(t,s,a){if(s=ud(t,s,cp)[0],t=Uo(ar)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=hl(s)}catch(y){throw y===si?_o:y}else c=s;s=Wt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,oi(9,{destroy:void 0},Vw.bind(null,f,a),null)),[c,m,t]}function Vw(t,s){t.action=s}function hp(t){var s=Wt(),a=gt;if(a!==null)return fp(s,a,t);Wt(),s=s.memoizedState,a=Wt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function oi(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Oo(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function mp(){return Wt().memoizedState}function Bo(t,s,a,c){var f=Bn();Qe.flags|=t,f.memoizedState=oi(1|s,{destroy:void 0},a,c===void 0?null:c)}function $o(t,s,a,c){var f=Wt();c=c===void 0?null:c;var m=f.memoizedState.inst;gt!==null&&c!==null&&rd(c,gt.memoizedState.deps)?f.memoizedState=oi(s,m,a,c):(Qe.flags|=t,f.memoizedState=oi(1|s,m,a,c))}function pp(t,s){Bo(8390656,8,t,s)}function md(t,s){$o(2048,8,t,s)}function Qw(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=Oo(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function gp(t){var s=Wt().memoizedState;return Qw({ref:s,nextImpl:t}),function(){if((lt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function xp(t,s){return $o(4,2,t,s)}function bp(t,s){return $o(4,4,t,s)}function vp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function yp(t,s,a){a=a!=null?a.concat([t]):null,$o(4,4,vp.bind(null,s,t),a)}function pd(){}function wp(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&rd(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function jp(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&rd(s,c[1]))return c[0];if(c=t(),xa){Kt(!0);try{t()}finally{Kt(!1)}}return a.memoizedState=[c,s],c}function gd(t,s,a){return a===void 0||(rr&1073741824)!==0&&(Je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Sg(),Qe.lanes|=t,Br|=t,a)}function Sp(t,s,a,c){return Xn(a,s)?a:ai.current!==null?(t=gd(t,a,c),Xn(t,s)||(Jt=!0),t):(rr&42)===0||(rr&1073741824)!==0&&(Je&261930)===0?(Jt=!0,t.memoizedState=a):(t=Sg(),Qe.lanes|=t,Br|=t,s)}function Ep(t,s,a,c,f){var m=A.p;A.p=m!==0&&8>m?m:8;var y=M.T,S={};M.T=S,vd(t,!1,s,a);try{var z=f(),ee=M.S;if(ee!==null&&ee(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var fe=Fw(z,c);ml(t,s,fe,rs(t))}else ml(t,s,c,rs(t))}catch(pe){ml(t,s,{then:function(){},status:"rejected",reason:pe},rs())}finally{A.p=m,y!==null&&S.types!==null&&(y.types=S.types),M.T=y}}function Ww(){}function xd(t,s,a,c){if(t.tag!==5)throw Error(i(476));var f=Np(t).queue;Ep(t,f,s,se,a===null?Ww:function(){return Cp(t),a(c)})}function Np(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:se},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Cp(t){var s=Np(t);s.next===null&&(s=t.alternate.memoizedState),ml(t,s.next.queue,{},rs())}function bd(){return jn(Dl)}function _p(){return Wt().memoizedState}function kp(){return Wt().memoizedState}function Pw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=rs();t=Mr(a);var c=Rr(s,t,a);c!==null&&(Qn(c,s,a),cl(c,s,a)),s={cache:Wu()},t.payload=s;return}s=s.return}}function Kw(t,s,a){var c=rs();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qo(t)?Ap(s,a):(a=Lu(t,s,a,c),a!==null&&(Qn(a,t,c),Dp(a,s,c)))}function Tp(t,s,a){var c=rs();ml(t,s,a,c)}function ml(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qo(t))Ap(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,S=m(y,a);if(f.hasEagerState=!0,f.eagerState=S,Xn(S,y))return yo(t,s,f,0),St===null&&vo(),!1}catch{}finally{}if(a=Lu(t,s,f,c),a!==null)return Qn(a,t,c),Dp(a,s,c),!0}return!1}function vd(t,s,a,c){if(c={lane:2,revertLane:Yd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(s)throw Error(i(479))}else s=Lu(t,a,c,2),s!==null&&Qn(s,t,2)}function qo(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function Ap(t,s){ii=Ro=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Dp(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,vn(t,a)}}var pl={readContext:jn,use:Lo,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};pl.useEffectEvent=Ft;var Mp={readContext:jn,use:Lo,useCallback:function(t,s){return Bn().memoizedState=[t,s===void 0?null:s],t},useContext:jn,useEffect:pp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Bo(4194308,4,vp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Bo(4194308,4,t,s)},useInsertionEffect:function(t,s){Bo(4,2,t,s)},useMemo:function(t,s){var a=Bn();s=s===void 0?null:s;var c=t();if(xa){Kt(!0);try{t()}finally{Kt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=Bn();if(a!==void 0){var f=a(s);if(xa){Kt(!0);try{a(s)}finally{Kt(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=Kw.bind(null,Qe,t),[c.memoizedState,t]},useRef:function(t){var s=Bn();return t={current:t},s.memoizedState=t},useState:function(t){t=fd(t);var s=t.queue,a=Tp.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(t,s){var a=Bn();return gd(a,t,s)},useTransition:function(){var t=fd(!1);return t=Ep.bind(null,Qe,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Qe,f=Bn();if(tt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),St===null)throw Error(i(349));(Je&127)!==0||Jm(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,pp(tp.bind(null,c,m,t),[t]),c.flags|=2048,oi(9,{destroy:void 0},ep.bind(null,c,m,a,s),null),a},useId:function(){var t=Bn(),s=St.identifierPrefix;if(tt){var a=Is,c=Zs;a=(c&~(1<<32-Mt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=zo++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Hw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:bd,useFormState:up,useActionState:up,useOptimistic:function(t){var s=Bn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=vd.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:cd,useCacheRefresh:function(){return Bn().memoizedState=Pw.bind(null,Qe)},useEffectEvent:function(t){var s=Bn(),a={impl:t};return s.memoizedState=a,function(){if((lt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:jn,use:Lo,useCallback:wp,useContext:jn,useEffect:md,useImperativeHandle:yp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:jp,useReducer:Uo,useRef:mp,useState:function(){return Uo(ar)},useDebugValue:pd,useDeferredValue:function(t,s){var a=Wt();return Sp(a,gt.memoizedState,t,s)},useTransition:function(){var t=Uo(ar)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:hl(t),s]},useSyncExternalStore:Xm,useId:_p,useHostTransitionStatus:bd,useFormState:dp,useActionState:dp,useOptimistic:function(t,s){var a=Wt();return rp(a,gt,t,s)},useMemoCache:cd,useCacheRefresh:kp};yd.useEffectEvent=gp;var Rp={readContext:jn,use:Lo,useCallback:wp,useContext:jn,useEffect:md,useImperativeHandle:yp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:jp,useReducer:dd,useRef:mp,useState:function(){return dd(ar)},useDebugValue:pd,useDeferredValue:function(t,s){var a=Wt();return gt===null?gd(a,t,s):Sp(a,gt.memoizedState,t,s)},useTransition:function(){var t=dd(ar)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:hl(t),s]},useSyncExternalStore:Xm,useId:_p,useHostTransitionStatus:bd,useFormState:hp,useActionState:hp,useOptimistic:function(t,s){var a=Wt();return gt!==null?rp(a,gt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:kp};Rp.useEffectEvent=gp;function wd(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jd={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=rs(),f=Mr(c);f.payload=s,a!=null&&(f.callback=a),s=Rr(t,f,c),s!==null&&(Qn(s,t,c),cl(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=rs(),f=Mr(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Rr(t,f,c),s!==null&&(Qn(s,t,c),cl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=rs(),c=Mr(a);c.tag=2,s!=null&&(c.callback=s),s=Rr(t,c,a),s!==null&&(Qn(s,t,a),cl(s,t,a))}};function zp(t,s,a,c,f,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!tl(a,c)||!tl(f,m):!0}function Op(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&jd.enqueueReplaceState(s,s.state,null)}function ba(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Lp(t){bo(t)}function Up(t){console.error(t)}function Bp(t){bo(t)}function Fo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $p(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,s,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fo(t,s)},a}function qp(t){return t=Mr(t),t.tag=3,t}function Fp(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){$p(s,a,c)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$p(s,a,c),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Gw(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&ei(s,a,f,!0),a=es.current,a!==null){switch(a.tag){case 31:case 13:return ms===null?Jo():a.alternate===null&&Ht===0&&(Ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===ko?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Pd(t,c,f)),!1;case 22:return a.flags|=65536,c===ko?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Pd(t,c,f)),!1}throw Error(i(435,a.tag))}return Pd(t,c,f),Jo(),!1}if(tt)return s=es.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Hu&&(t=Error(i(422),{cause:c}),rl(us(t,a)))):(c!==Hu&&(s=Error(i(423),{cause:c}),rl(us(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=us(c,a),f=Sd(t.stateNode,c,f),Ju(t,f),Ht!==4&&(Ht=2)),!1;var m=Error(i(520),{cause:c});if(m=us(m,a),Sl===null?Sl=[m]:Sl.push(m),Ht!==4&&(Ht=2),s===null)return!0;c=us(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,c,t),Ju(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($r===null||!$r.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=qp(f),Fp(f,t,a,c),Ju(a,f),!1}a=a.return}while(a!==null);return!1}var Ed=Error(i(461)),Jt=!1;function Sn(t,s,a,c){s.child=t===null?Vm(s,null,a,c):ga(s,t.child,a,c)}function Hp(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var y={};for(var S in c)S!=="ref"&&(y[S]=c[S])}else y=c;return fa(s),c=ad(t,s,a,y,m,f),S=id(),t!==null&&!Jt?(ld(t,s,f),ir(t,s,f)):(tt&&S&&qu(s),s.flags|=1,Sn(t,s,c,f),s.child)}function Zp(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!Uu(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Ip(t,s,m,c,f)):(t=jo(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Md(t,f)){var y=m.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(y,c)&&t.ref===s.ref)return ir(t,s,f)}return s.flags|=1,t=er(m,c),t.ref=s.ref,t.return=s,s.child=t}function Ip(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(tl(m,c)&&t.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,Md(t,f))(t.flags&131072)!==0&&(Jt=!0);else return s.lanes=t.lanes,ir(t,s,f)}return Nd(t,s,a,c,f)}function Vp(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Qp(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Co(s,m!==null?m.cachePool:null),m!==null?Pm(s,m):td(),Km(s);else return c=s.lanes=536870912,Qp(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Co(s,m.cachePool),Pm(s,m),Or(),s.memoizedState=null):(t!==null&&Co(s,null),td(),Or());return Sn(t,s,f,a),s.child}function gl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qp(t,s,a,c,f){var m=Ku();return m=m===null?null:{parent:Yt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Co(s,null),td(),Km(s),t!==null&&ei(t,s,c,!0),s.childLanes=f,null}function Ho(t,s){return s=Io({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Wp(t,s,a){return ga(s,t.child,null,a),t=Ho(s,s.pendingProps),t.flags|=2,ts(s),s.memoizedState=null,t}function Yw(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(tt){if(c.mode==="hidden")return t=Ho(s,c),s.lanes=536870912,gl(null,t);if(sd(s),(t=Tt)?(t=ax(t,hs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Zs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=Am(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Tr(s);return s.lanes=536870912,null}return Ho(s,c)}var m=t.memoizedState;if(m!==null){var y=m.dehydrated;if(sd(s),f)if(s.flags&256)s.flags&=-257,s=Wp(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Jt||ei(t,s,a,!1),f=(a&t.childLanes)!==0,Jt||f){if(c=St,c!==null&&(y=kn(c,a),y!==0&&y!==m.retryLane))throw m.retryLane=y,oa(t,y),Qn(c,t,y),Ed;Jo(),s=Wp(t,s,a)}else t=m.treeContext,Tt=ps(y.nextSibling),wn=s,tt=!0,kr=null,hs=!1,t!==null&&Rm(s,t),s=Ho(s,c),s.flags|=4096;return s}return t=er(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Zo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Nd(t,s,a,c,f){return fa(s),a=ad(t,s,a,c,void 0,f),c=id(),t!==null&&!Jt?(ld(t,s,f),ir(t,s,f)):(tt&&c&&qu(s),s.flags|=1,Sn(t,s,a,f),s.child)}function Pp(t,s,a,c,f,m){return fa(s),s.updateQueue=null,a=Ym(s,c,a,f),Gm(t),c=id(),t!==null&&!Jt?(ld(t,s,m),ir(t,s,m)):(tt&&c&&qu(s),s.flags|=1,Sn(t,s,a,m),s.child)}function Kp(t,s,a,c,f){if(fa(s),s.stateNode===null){var m=Ga,y=a.contextType;typeof y=="object"&&y!==null&&(m=jn(y)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Yu(s),y=a.contextType,m.context=typeof y=="object"&&y!==null?jn(y):Ga,m.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wd(s,a,y,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&jd.enqueueReplaceState(m,m.state,null),dl(s,c,m,f),ul(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var S=s.memoizedProps,z=ba(a,S);m.props=z;var ee=m.context,fe=a.contextType;y=Ga,typeof fe=="object"&&fe!==null&&(y=jn(fe));var pe=a.getDerivedStateFromProps;fe=typeof pe=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,fe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||ee!==y)&&Op(s,m,c,y),Dr=!1;var ne=s.memoizedState;m.state=ne,dl(s,c,m,f),ul(),ee=s.memoizedState,S||ne!==ee||Dr?(typeof pe=="function"&&(wd(s,a,pe,c),ee=s.memoizedState),(z=Dr||zp(s,a,z,c,ne,ee,y))?(fe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),m.props=c,m.state=ee,m.context=y,c=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Xu(t,s),y=s.memoizedProps,fe=ba(a,y),m.props=fe,pe=s.pendingProps,ne=m.context,ee=a.contextType,z=Ga,typeof ee=="object"&&ee!==null&&(z=jn(ee)),S=a.getDerivedStateFromProps,(ee=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==pe||ne!==z)&&Op(s,m,c,z),Dr=!1,ne=s.memoizedState,m.state=ne,dl(s,c,m,f),ul();var oe=s.memoizedState;y!==pe||ne!==oe||Dr||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof S=="function"&&(wd(s,a,S,c),oe=s.memoizedState),(fe=Dr||zp(s,a,fe,c,ne,oe,z)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,oe,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,oe,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),m.props=c,m.state=oe,m.context=z,c=fe):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,Zo(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=ga(s,t.child,null,f),s.child=ga(s,null,a,f)):Sn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ir(t,s,f),t}function Gp(t,s,a,c){return ua(),s.flags|=256,Sn(t,s,a,c),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:$m()}}function kd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ss),t}function Yp(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),y&&(f=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,t===null){if(tt){if(f?zr(s):Or(),(t=Tt)?(t=ax(t,hs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Zs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=Am(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Tr(s);return df(t)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(Or(),f=s.mode,S=Io({mode:"hidden",children:S},f),c=ca(c,f,a,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=_d(a),c.childLanes=kd(t,y,a),s.memoizedState=Cd,gl(null,c)):(zr(s),Td(s,S))}var z=t.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(m)s.flags&256?(zr(s),s.flags&=-257,s=Ad(t,s,a)):s.memoizedState!==null?(Or(),s.child=t.child,s.flags|=128,s=null):(Or(),S=c.fallback,f=s.mode,c=Io({mode:"visible",children:c.children},f),S=ca(S,f,a,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,ga(s,t.child,null,a),c=s.child,c.memoizedState=_d(a),c.childLanes=kd(t,y,a),s.memoizedState=Cd,s=gl(null,c));else if(zr(s),df(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var ee=y.dgst;y=ee,c=Error(i(419)),c.stack="",c.digest=y,rl({value:c,source:null,stack:null}),s=Ad(t,s,a)}else if(Jt||ei(t,s,a,!1),y=(a&t.childLanes)!==0,Jt||y){if(y=St,y!==null&&(c=kn(y,a),c!==0&&c!==z.retryLane))throw z.retryLane=c,oa(t,c),Qn(y,t,c),Ed;uf(S)||Jo(),s=Ad(t,s,a)}else uf(S)?(s.flags|=192,s.child=t.child,s=null):(t=z.treeContext,Tt=ps(S.nextSibling),wn=s,tt=!0,kr=null,hs=!1,t!==null&&Rm(s,t),s=Td(s,c.children),s.flags|=4096);return s}return f?(Or(),S=c.fallback,f=s.mode,z=t.child,ee=z.sibling,c=er(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,ee!==null?S=er(ee,S):(S=ca(S,f,a,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,gl(null,c),c=s.child,S=t.child.memoizedState,S===null?S=_d(a):(f=S.cachePool,f!==null?(z=Yt._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=$m(),S={baseLanes:S.baseLanes|a,cachePool:f}),c.memoizedState=S,c.childLanes=kd(t,y,a),s.memoizedState=Cd,gl(t.child,c)):(zr(s),a=t.child,t=a.sibling,a=er(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(y=s.deletions,y===null?(s.deletions=[t],s.flags|=16):y.push(t)),s.child=a,s.memoizedState=null,a)}function Td(t,s){return s=Io({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Io(t,s){return t=Jn(22,t,null,s),t.lanes=0,t}function Ad(t,s,a){return ga(s,t.child,null,a),t=Td(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Xp(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Vu(t.return,s,a)}function Dd(t,s,a,c,f,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=f,y.treeForkCount=m)}function Jp(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var y=Qt.current,S=(y&2)!==0;if(S?(y=y&1|2,s.flags|=128):y&=1,ce(Qt,y),Sn(t,s,c,a),c=tt?sl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xp(t,a,s);else if(t.tag===19)Xp(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Mo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Dd(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Mo(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Dd(s,!0,a,null,m,c);break;case"together":Dd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function ir(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Br|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ei(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=er(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=er(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Md(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function Xw(t,s,a){switch(s.tag){case 3:$(s,s.stateNode.containerInfo),Ar(s,Yt,t.memoizedState.cache),ua();break;case 27:case 5:ge(s);break;case 4:$(s,s.stateNode.containerInfo);break;case 10:Ar(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(zr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Yp(t,s,a):(zr(s),t=ir(t,s,a),t!==null?t.sibling:null);zr(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(ei(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return Jp(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Qt,Qt.current),c)break;return null;case 22:return s.lanes=0,Vp(t,s,a,s.pendingProps);case 24:Ar(s,Yt,t.memoizedState.cache)}return ir(t,s,a)}function eg(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Md(t,a)&&(s.flags&128)===0)return Jt=!1,Xw(t,s,a);Jt=(t.flags&131072)!==0}else Jt=!1,tt&&(s.flags&1048576)!==0&&Mm(s,sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=ma(s.elementType),s.type=t,typeof t=="function")Uu(t)?(c=ba(t,c),s.tag=1,s=Kp(null,s,t,c,a)):(s.tag=0,s=Nd(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===U){s.tag=11,s=Hp(null,s,t,c,a);break e}else if(f===O){s.tag=14,s=Zp(null,s,t,c,a);break e}}throw s=ue(t)||t,Error(i(306,s,""))}}return s;case 0:return Nd(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=ba(c,s.pendingProps),Kp(t,s,c,f,a);case 3:e:{if($(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,Xu(t,s),dl(s,c,null,a);var y=s.memoizedState;if(c=y.cache,Ar(s,Yt,c),c!==m.cache&&Qu(s,[Yt],a,!0),ul(),c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Gp(t,s,c,a);break e}else if(c!==f){f=us(Error(i(424)),s),rl(f),s=Gp(t,s,c,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=ps(t.firstChild),wn=s,tt=!0,kr=null,hs=!0,a=Vm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),c===f){s=ir(t,s,a);break e}Sn(t,s,c,a)}s=s.child}return s;case 26:return Zo(t,s),t===null?(a=dx(s.type,null,s.pendingProps,null))?s.memoizedState=a:tt||(a=s.type,t=s.pendingProps,c=ic(H.current).createElement(a),c[Nt]=s,c[Vt]=t,En(c,a,t),jt(c),s.stateNode=c):s.memoizedState=dx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ge(s),t===null&&tt&&(c=s.stateNode=ox(s.type,s.pendingProps,H.current),wn=s,hs=!0,f=Tt,Zr(s.type)?(ff=f,Tt=ps(c.firstChild)):Tt=f),Sn(t,s,s.pendingProps.children,a),Zo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&tt&&((f=c=Tt)&&(c=k1(c,s.type,s.pendingProps,hs),c!==null?(s.stateNode=c,wn=s,Tt=ps(c.firstChild),hs=!1,f=!0):f=!1),f||Tr(s)),ge(s),f=s.type,m=s.pendingProps,y=t!==null?t.memoizedProps:null,c=m.children,lf(f,m)?c=null:y!==null&&lf(f,y)&&(s.flags|=32),s.memoizedState!==null&&(f=ad(t,s,Zw,null,null,a),Dl._currentValue=f),Zo(t,s),Sn(t,s,c,a),s.child;case 6:return t===null&&tt&&((t=a=Tt)&&(a=T1(a,s.pendingProps,hs),a!==null?(s.stateNode=a,wn=s,Tt=null,t=!0):t=!1),t||Tr(s)),null;case 13:return Yp(t,s,a);case 4:return $(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=ga(s,null,c,a):Sn(t,s,c,a),s.child;case 11:return Hp(t,s,s.type,s.pendingProps,a);case 7:return Sn(t,s,s.pendingProps,a),s.child;case 8:return Sn(t,s,s.pendingProps.children,a),s.child;case 12:return Sn(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Ar(s,s.type,c.value),Sn(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,fa(s),f=jn(f),c=c(f),s.flags|=1,Sn(t,s,c,a),s.child;case 14:return Zp(t,s,s.type,s.pendingProps,a);case 15:return Ip(t,s,s.type,s.pendingProps,a);case 19:return Jp(t,s,a);case 31:return Yw(t,s,a);case 22:return Vp(t,s,a,s.pendingProps);case 24:return fa(s),c=jn(Yt),t===null?(f=Ku(),f===null&&(f=St,m=Wu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},Yu(s),Ar(s,Yt,f)):((t.lanes&a)!==0&&(Xu(t,s),dl(s,null,null,a),ul()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ar(s,Yt,c)):(c=m.cache,Ar(s,Yt,c),c!==f.cache&&Qu(s,[Yt],a,!0))),Sn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function lr(t){t.flags|=4}function Rd(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(_g())t.flags|=8192;else throw pa=ko,Gu}else t.flags&=-16777217}function tg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gx(s))if(_g())t.flags|=8192;else throw pa=ko,Gu}function Vo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?fn():536870912,t.lanes|=s,fi|=s)}function xl(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function At(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function Jw(t,s,a){var c=s.pendingProps;switch(Fu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),sr(Yt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(s)?lr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zu())),At(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(lr(s),m!==null?(At(s),tg(s,m)):(At(s),Rd(s,f,null,c,a))):m?m!==t.memoizedState?(lr(s),At(s),tg(s,m)):(At(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&lr(s),At(s),Rd(s,f,t,c,a)),null;case 27:if(xe(s),a=H.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&lr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}t=q.current,Ja(s)?zm(s):(t=ox(f,c,a),s.stateNode=t,lr(s))}return At(s),null;case 5:if(xe(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&lr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(m=q.current,Ja(s))zm(s);else{var y=ic(H.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?y.createElement(f,{is:c.is}):y.createElement(f)}}m[Nt]=s,m[Vt]=c;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=m;e:switch(En(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&lr(s)}}return At(s),Rd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&lr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=H.current,Ja(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=wn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Nt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Yg(t.nodeValue,a)),t||Tr(s,!0)}else t=ic(t).createTextNode(c),t[Nt]=s,s.stateNode=t}return At(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=Ja(s),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),t=!1}else a=Zu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(ts(s),s):(ts(s),null);if((s.flags&128)!==0)throw Error(i(558))}return At(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),f=!1}else f=Zu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ts(s),s):(ts(s),null)}return ts(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Vo(s,s.updateQueue),At(s),null);case 4:return le(),t===null&&tf(s.stateNode.containerInfo),At(s),null;case 10:return sr(s.type),At(s),null;case 19:if(Q(Qt),c=s.memoizedState,c===null)return At(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)xl(c,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Mo(t),m!==null){for(s.flags|=128,xl(c,!1),t=m.updateQueue,s.updateQueue=t,Vo(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Tm(a,t),a=a.sibling;return ce(Qt,Qt.current&1|2),tt&&tr(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&ye()>Go&&(s.flags|=128,f=!0,xl(c,!1),s.lanes=4194304)}else{if(!f)if(t=Mo(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Vo(s,t),xl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!tt)return At(s),null}else 2*ye()-c.renderingStartTime>Go&&a!==536870912&&(s.flags|=128,f=!0,xl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ye(),t.sibling=null,a=Qt.current,ce(Qt,f?a&1|2:a&1),tt&&tr(s,c.treeForkCount),t):(At(s),null);case 22:case 23:return ts(s),nd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),a=s.updateQueue,a!==null&&Vo(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&Q(ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),sr(Yt),At(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function e1(t,s){switch(Fu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return sr(Yt),le(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return xe(s),null;case 31:if(s.memoizedState!==null){if(ts(s),s.alternate===null)throw Error(i(340));ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Q(Qt),null;case 4:return le(),null;case 10:return sr(s.type),null;case 22:case 23:return ts(s),nd(),t!==null&&Q(ha),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return sr(Yt),null;case 25:return null;default:return null}}function ng(t,s){switch(Fu(s),s.tag){case 3:sr(Yt),le();break;case 26:case 27:case 5:xe(s);break;case 4:le();break;case 31:s.memoizedState!==null&&ts(s);break;case 13:ts(s);break;case 19:Q(Qt);break;case 10:sr(s.type);break;case 22:case 23:ts(s),nd(),t!==null&&Q(ha);break;case 24:sr(Yt)}}function bl(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,y=a.inst;c=m(),y.destroy=c}a=a.next}while(a!==f)}}catch(S){mt(s,s.return,S)}}function Lr(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var y=c.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,f=s;var z=a,ee=S;try{ee()}catch(fe){mt(f,z,fe)}}}c=c.next}while(c!==m)}}catch(fe){mt(s,s.return,fe)}}function sg(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Wm(s,a)}catch(c){mt(t,t.return,c)}}}function rg(t,s,a){a.props=ba(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){mt(t,s,c)}}function vl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){mt(t,s,f)}}function Vs(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){mt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){mt(t,s,f)}else a.current=null}function ag(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){mt(t,t.return,f)}}function zd(t,s,a){try{var c=t.stateNode;j1(c,t.type,a,s),c[Vt]=s}catch(f){mt(t,t.return,f)}}function ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zr(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ns));else if(c!==4&&(c===27&&Zr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Ld(t,s,a),t=t.sibling;t!==null;)Ld(t,s,a),t=t.sibling}function Qo(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Qo(t,s,a),t=t.sibling;t!==null;)Qo(t,s,a),t=t.sibling}function lg(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,c,a),s[Nt]=t,s[Vt]=a}catch(m){mt(t,t.return,m)}}var or=!1,en=!1,Ud=!1,og=typeof WeakSet=="function"?WeakSet:Set,mn=null;function t1(t,s){if(t=t.containerInfo,rf=hc,t=ym(t),Au(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var y=0,S=-1,z=-1,ee=0,fe=0,pe=t,ne=null;t:for(;;){for(var oe;pe!==a||f!==0&&pe.nodeType!==3||(S=y+f),pe!==m||c!==0&&pe.nodeType!==3||(z=y+c),pe.nodeType===3&&(y+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ne=pe,pe=oe;for(;;){if(pe===t)break t;if(ne===a&&++ee===f&&(S=y),ne===m&&++fe===c&&(z=y),(oe=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=oe}a=S===-1||z===-1?null:{start:S,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(af={focusedElem:t,selectionRange:a},hc=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Me=ba(a.type,f);t=c.getSnapshotBeforeUpdate(Me,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ue){mt(a,a.return,Ue)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function cg(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ur(t,a),c&4&&bl(5,a);break;case 1:if(ur(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(y){mt(a,a.return,y)}else{var f=ba(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){mt(a,a.return,y)}}c&64&&sg(a),c&512&&vl(a,a.return);break;case 3:if(ur(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Wm(t,s)}catch(y){mt(a,a.return,y)}}break;case 27:s===null&&c&4&&lg(a);case 26:case 5:ur(t,a),s===null&&c&4&&ag(a),c&512&&vl(a,a.return);break;case 12:ur(t,a);break;case 31:ur(t,a),c&4&&fg(t,a);break;case 13:ur(t,a),c&4&&hg(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),A1(t,a))));break;case 22:if(c=a.memoizedState!==null||or,!c){s=s!==null&&s.memoizedState!==null||en,f=or;var m=en;or=c,(en=s)&&!m?dr(t,a,(a.subtreeFlags&8772)!==0):ur(t,a),or=f,en=m}break;case 30:break;default:ur(t,a)}}function ug(t){var s=t.alternate;s!==null&&(t.alternate=null,ug(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&qi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Hn=!1;function cr(t,s,a){for(a=a.child;a!==null;)dg(t,s,a),a=a.sibling}function dg(t,s,a){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:en||Vs(a,s),cr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||Vs(a,s);var c=Ot,f=Hn;Zr(a.type)&&(Ot=a.stateNode,Hn=!1),cr(t,s,a),kl(a.stateNode),Ot=c,Hn=f;break;case 5:en||Vs(a,s);case 6:if(c=Ot,f=Hn,Ot=null,cr(t,s,a),Ot=c,Hn=f,Ot!==null)if(Hn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(m){mt(a,s,m)}else try{Ot.removeChild(a.stateNode)}catch(m){mt(a,s,m)}break;case 18:Ot!==null&&(Hn?(t=Ot,sx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yi(t)):sx(Ot,a.stateNode));break;case 4:c=Ot,f=Hn,Ot=a.stateNode.containerInfo,Hn=!0,cr(t,s,a),Ot=c,Hn=f;break;case 0:case 11:case 14:case 15:Lr(2,a,s),en||Lr(4,a,s),cr(t,s,a);break;case 1:en||(Vs(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&rg(a,s,c)),cr(t,s,a);break;case 21:cr(t,s,a);break;case 22:en=(c=en)||a.memoizedState!==null,cr(t,s,a),en=c;break;default:cr(t,s,a)}}function fg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yi(t)}catch(a){mt(s,s.return,a)}}}function hg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yi(t)}catch(a){mt(s,s.return,a)}}function n1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new og),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new og),s;default:throw Error(i(435,t.tag))}}function Wo(t,s){var a=n1(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=d1.bind(null,t,c);c.then(f,f)}})}function Zn(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,y=s,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Zr(S.type)){Ot=S.stateNode,Hn=!1;break e}break;case 5:Ot=S.stateNode,Hn=!1;break e;case 3:case 4:Ot=S.stateNode.containerInfo,Hn=!0;break e}S=S.return}if(Ot===null)throw Error(i(160));dg(m,y,f),Ot=null,Hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)mg(s,t),s=s.sibling}var ks=null;function mg(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zn(s,t),In(t),c&4&&(Lr(3,t,t.return),bl(3,t),Lr(5,t,t.return));break;case 1:Zn(s,t),In(t),c&512&&(en||a===null||Vs(a,a.return)),c&64&&or&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=ks;if(Zn(s,t),In(t),c&512&&(en||a===null||Vs(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wr]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,c,a),m[Nt]=t,jt(m),c=m;break e;case"link":var y=mx("link","href",f).get(c+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;case"meta":if(y=mx("meta","content",f).get(c+(a.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[Nt]=t,jt(m),c=m}t.stateNode=c}else px(f,t.type,t.stateNode);else t.stateNode=hx(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?px(f,t.type,t.stateNode):hx(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Zn(s,t),In(t),c&512&&(en||a===null||Vs(a,a.return)),a!==null&&c&4&&zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Zn(s,t),In(t),c&512&&(en||a===null||Vs(a,a.return)),t.flags&32){f=t.stateNode;try{Nr(f,"")}catch(Me){mt(t,t.return,Me)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,zd(t,f,a!==null?a.memoizedProps:f)),c&1024&&(Ud=!0);break;case 6:if(Zn(s,t),In(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Me){mt(t,t.return,Me)}}break;case 3:if(cc=null,f=ks,ks=lc(s.containerInfo),Zn(s,t),ks=f,In(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{yi(s.containerInfo)}catch(Me){mt(t,t.return,Me)}Ud&&(Ud=!1,pg(t));break;case 4:c=ks,ks=lc(t.stateNode.containerInfo),Zn(s,t),In(t),ks=c;break;case 12:Zn(s,t),In(t);break;case 31:Zn(s,t),In(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 13:Zn(s,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ko=ye()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 22:f=t.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,ee=or,fe=en;if(or=ee||f,en=fe||z,Zn(s,t),en=fe,or=ee,In(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||z||or||en||va(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){z=a=s;try{if(m=z.stateNode,f)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=z.stateNode;var pe=z.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;S.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Me){mt(z,z.return,Me)}}}else if(s.tag===6){if(a===null){z=s;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(Me){mt(z,z.return,Me)}}}else if(s.tag===18){if(a===null){z=s;try{var oe=z.stateNode;f?rx(oe,!0):rx(z.stateNode,!1)}catch(Me){mt(z,z.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Wo(t,a))));break;case 19:Zn(s,t),In(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 30:break;case 21:break;default:Zn(s,t),In(t)}}function In(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(ig(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Od(t);Qo(t,m,f);break;case 5:var y=a.stateNode;a.flags&32&&(Nr(y,""),a.flags&=-33);var S=Od(t);Qo(t,S,y);break;case 3:case 4:var z=a.stateNode.containerInfo,ee=Od(t);Ld(t,ee,z);break;default:throw Error(i(161))}}catch(fe){mt(t,t.return,fe)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;pg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ur(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cg(t,s.alternate,s),s=s.sibling}function va(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Lr(4,s,s.return),va(s);break;case 1:Vs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&rg(s,s.return,a),va(s);break;case 27:kl(s.stateNode);case 26:case 5:Vs(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}t=t.sibling}}function dr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,y=m.flags;switch(m.tag){case 0:case 11:case 15:dr(f,m,a),bl(4,m);break;case 1:if(dr(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=m,f=c.updateQueue,f!==null){var S=c.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)Qm(z[f],S)}catch(ee){mt(c,c.return,ee)}}a&&y&64&&sg(m),vl(m,m.return);break;case 27:lg(m);case 26:case 5:dr(f,m,a),a&&c===null&&y&4&&ag(m),vl(m,m.return);break;case 12:dr(f,m,a);break;case 31:dr(f,m,a),a&&y&4&&fg(f,m);break;case 13:dr(f,m,a),a&&y&4&&hg(f,m);break;case 22:m.memoizedState===null&&dr(f,m,a),vl(m,m.return);break;case 30:break;default:dr(f,m,a)}s=s.sibling}}function Bd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function $d(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&al(t))}function Ts(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gg(t,s,a,c),s=s.sibling}function gg(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(t,s,a,c),f&2048&&bl(9,s);break;case 1:Ts(t,s,a,c);break;case 3:Ts(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&al(t)));break;case 12:if(f&2048){Ts(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){mt(s,s.return,z)}}else Ts(t,s,a,c);break;case 31:Ts(t,s,a,c);break;case 13:Ts(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,y=s.alternate,s.memoizedState!==null?m._visibility&2?Ts(t,s,a,c):yl(t,s):m._visibility&2?Ts(t,s,a,c):(m._visibility|=2,ci(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(y,s);break;case 24:Ts(t,s,a,c),f&2048&&$d(s.alternate,s);break;default:Ts(t,s,a,c)}}function ci(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,y=s,S=a,z=c,ee=y.flags;switch(y.tag){case 0:case 11:case 15:ci(m,y,S,z,f),bl(8,y);break;case 23:break;case 22:var fe=y.stateNode;y.memoizedState!==null?fe._visibility&2?ci(m,y,S,z,f):yl(m,y):(fe._visibility|=2,ci(m,y,S,z,f)),f&&ee&2048&&Bd(y.alternate,y);break;case 24:ci(m,y,S,z,f),f&&ee&2048&&$d(y.alternate,y);break;default:ci(m,y,S,z,f)}s=s.sibling}}function yl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:yl(a,c),f&2048&&Bd(c.alternate,c);break;case 24:yl(a,c),f&2048&&$d(c.alternate,c);break;default:yl(a,c)}s=s.sibling}}var wl=8192;function ui(t,s,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)xg(t,s,a),t=t.sibling}function xg(t,s,a){switch(t.tag){case 26:ui(t,s,a),t.flags&wl&&t.memoizedState!==null&&H1(a,ks,t.memoizedState,t.memoizedProps);break;case 5:ui(t,s,a);break;case 3:case 4:var c=ks;ks=lc(t.stateNode.containerInfo),ui(t,s,a),ks=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=wl,wl=16777216,ui(t,s,a),wl=c):ui(t,s,a));break;default:ui(t,s,a)}}function bg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function jl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,yg(c,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vg(t),t=t.sibling}function vg(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Po(t)):jl(t);break;default:jl(t)}}function Po(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,yg(c,t)}bg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Lr(8,s,s.return),Po(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Po(s));break;default:Po(s)}t=t.sibling}}function yg(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Lr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:al(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var f=c.sibling,m=c.return;if(ug(c),c===a){mn=null;break e}if(f!==null){f.return=m,mn=f;break e}mn=m}}}var s1={getCacheForType:function(t){var s=jn(Yt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return jn(Yt).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,lt=0,St=null,Ye=null,Je=0,ht=0,ns=null,Ur=!1,di=!1,qd=!1,fr=0,Ht=0,Br=0,ya=0,Fd=0,ss=0,fi=0,Sl=null,Vn=null,Hd=!1,Ko=0,wg=0,Go=1/0,Yo=null,$r=null,ln=0,qr=null,hi=null,hr=0,Zd=0,Id=null,jg=null,El=0,Vd=null;function rs(){return(lt&2)!==0&&Je!==0?Je&-Je:M.T!==null?Yd():Tn()}function Sg(){if(ss===0)if((Je&536870912)===0||tt){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),ss=t}else ss=536870912;return t=es.current,t!==null&&(t.flags|=32),ss}function Qn(t,s,a){(t===St&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(mi(t,0),Fr(t,Je,ss,!1)),On(t,a),((lt&2)===0||t!==St)&&(t===St&&((lt&2)===0&&(ya|=a),Ht===4&&Fr(t,Je,ss,!1)),Qs(t))}function Eg(t,s,a){if((lt&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||_n(t,s),f=c?l1(t,s):Wd(t,s,!0),m=c;do{if(f===0){di&&!c&&Fr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!a1(a)){f=Wd(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var S=t;f=Sl;var z=S.current.memoizedState.isDehydrated;if(z&&(mi(S,y).flags|=256),y=Wd(S,y,!1),y!==2){if(qd&&!z){S.errorRecoveryDisabledLanes|=m,ya|=m,f=4;break e}m=Vn,Vn=f,m!==null&&(Vn===null?Vn=m:Vn.push.apply(Vn,m))}f=y}if(m=!1,f!==2)continue}}if(f===1){mi(t,0),Fr(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fr(c,s,ss,!Ur);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Ko+300-ye(),10<f)){if(Fr(c,s,ss,!Ur),kt(c,0,!0)!==0)break e;hr=s,c.timeoutHandle=tx(Ng.bind(null,c,a,Vn,Yo,Hd,s,ss,ya,fi,Ur,m,"Throttled",-0,0),f);break e}Ng(c,a,Vn,Yo,Hd,s,ss,ya,fi,Ur,m,null,-0,0)}}break}while(!0);Qs(t)}function Ng(t,s,a,c,f,m,y,S,z,ee,fe,pe,ne,oe){if(t.timeoutHandle=-1,pe=s.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ns},xg(s,m,pe);var Me=(m&62914560)===m?Ko-ye():(m&4194048)===m?wg-ye():0;if(Me=Z1(pe,Me),Me!==null){hr=m,t.cancelPendingCommit=Me(Rg.bind(null,t,s,m,a,c,f,y,S,z,fe,pe,null,ne,oe)),Fr(t,m,y,!ee);return}}Rg(t,s,m,a,c,f,y,S,z)}function a1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Xn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fr(t,s,a,c){s&=~Fd,s&=~ya,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-Mt(f),y=1<<m;c[m]=-1,f&=~y}a!==0&&bn(t,a,s)}function Xo(){return(lt&6)===0?(Nl(0),!1):!0}function Qd(){if(Ye!==null){if(ht===0)var t=Ye.return;else t=Ye,nr=da=null,od(t),ri=null,ll=0,t=Ye;for(;t!==null;)ng(t.alternate,t),t=t.return;Ye=null}}function mi(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,Qd(),St=t,Ye=a=er(t.current,null),Je=s,ht=0,ns=null,Ur=!1,di=_n(t,s),qd=!1,fi=ss=Fd=ya=Br=Ht=0,Vn=Sl=null,Hd=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-Mt(c),m=1<<f;s|=t[f],c&=~m}return fr=s,vo(),a}function Cg(t,s){Qe=null,M.H=pl,s===si||s===_o?(s=Hm(),ht=3):s===Gu?(s=Hm(),ht=4):ht=s===Ed?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ns=s,Ye===null&&(Ht=1,Fo(t,us(s,t.current)))}function _g(){var t=es.current;return t===null?!0:(Je&4194048)===Je?ms===null:(Je&62914560)===Je||(Je&536870912)!==0?t===ms:!1}function kg(){var t=M.H;return M.H=pl,t===null?pl:t}function Tg(){var t=M.A;return M.A=s1,t}function Jo(){Ht=4,Ur||(Je&4194048)!==Je&&es.current!==null||(di=!0),(Br&134217727)===0&&(ya&134217727)===0||St===null||Fr(St,Je,ss,!1)}function Wd(t,s,a){var c=lt;lt|=2;var f=kg(),m=Tg();(St!==t||Je!==s)&&(Yo=null,mi(t,s)),s=!1;var y=Ht;e:do try{if(ht!==0&&Ye!==null){var S=Ye,z=ns;switch(ht){case 8:Qd(),y=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(s=!0);var ee=ht;if(ht=0,ns=null,pi(t,S,z,ee),a&&di){y=0;break e}break;default:ee=ht,ht=0,ns=null,pi(t,S,z,ee)}}i1(),y=Ht;break}catch(fe){Cg(t,fe)}while(!0);return s&&t.shellSuspendCounter++,nr=da=null,lt=c,M.H=f,M.A=m,Ye===null&&(St=null,Je=0,vo()),y}function i1(){for(;Ye!==null;)Ag(Ye)}function l1(t,s){var a=lt;lt|=2;var c=kg(),f=Tg();St!==t||Je!==s?(Yo=null,Go=ye()+500,mi(t,s)):di=_n(t,s);e:do try{if(ht!==0&&Ye!==null){s=Ye;var m=ns;t:switch(ht){case 1:ht=0,ns=null,pi(t,s,m,1);break;case 2:case 9:if(qm(m)){ht=0,ns=null,Dg(s);break}s=function(){ht!==2&&ht!==9||St!==t||(ht=7),Qs(t)},m.then(s,s);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:qm(m)?(ht=0,ns=null,Dg(s)):(ht=0,ns=null,pi(t,s,m,7));break;case 5:var y=null;switch(Ye.tag){case 26:y=Ye.memoizedState;case 5:case 27:var S=Ye;if(y?gx(y):S.stateNode.complete){ht=0,ns=null;var z=S.sibling;if(z!==null)Ye=z;else{var ee=S.return;ee!==null?(Ye=ee,ec(ee)):Ye=null}break t}}ht=0,ns=null,pi(t,s,m,5);break;case 6:ht=0,ns=null,pi(t,s,m,6);break;case 8:Qd(),Ht=6;break e;default:throw Error(i(462))}}o1();break}catch(fe){Cg(t,fe)}while(!0);return nr=da=null,M.H=c,M.A=f,lt=a,Ye!==null?0:(St=null,Je=0,vo(),Ht)}function o1(){for(;Ye!==null&&!ie();)Ag(Ye)}function Ag(t){var s=eg(t.alternate,t,fr);t.memoizedProps=t.pendingProps,s===null?ec(t):Ye=s}function Dg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Pp(a,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=Pp(a,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:od(s);default:ng(a,s),s=Ye=Tm(s,fr),s=eg(a,s,fr)}t.memoizedProps=t.pendingProps,s===null?ec(t):Ye=s}function pi(t,s,a,c){nr=da=null,od(s),ri=null,ll=0;var f=s.return;try{if(Gw(t,f,s,a,Je)){Ht=1,Fo(t,us(a,t.current)),Ye=null;return}}catch(m){if(f!==null)throw Ye=f,m;Ht=1,Fo(t,us(a,t.current)),Ye=null;return}s.flags&32768?(tt||c===1?t=!0:di||(Je&536870912)!==0?t=!1:(Ur=t=!0,(c===2||c===9||c===3||c===6)&&(c=es.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mg(s,t)):ec(s)}function ec(t){var s=t;do{if((s.flags&32768)!==0){Mg(s,Ur);return}t=s.return;var a=Jw(s.alternate,s,fr);if(a!==null){Ye=a;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=t}while(s!==null);Ht===0&&(Ht=5)}function Mg(t,s){do{var a=e1(t.alternate,t);if(a!==null){a.flags&=32767,Ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=a}while(t!==null);Ht=6,Ye=null}function Rg(t,s,a,c,f,m,y,S,z){t.cancelPendingCommit=null;do tc();while(ln!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Ou,qt(t,a,m,y,S,z),t===St&&(Ye=St=null,Je=0),hi=s,qr=t,hr=a,Zd=m,Id=f,jg=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f1(Ve,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,f=A.p,A.p=2,y=lt,lt|=4;try{t1(t,s,a)}finally{lt=y,A.p=f,M.T=c}}ln=1,zg(),Og(),Lg()}}function zg(){if(ln===1){ln=0;var t=qr,s=hi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var c=A.p;A.p=2;var f=lt;lt|=4;try{mg(s,t);var m=af,y=ym(t.containerInfo),S=m.focusedElem,z=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&vm(S.ownerDocument.documentElement,S)){if(z!==null&&Au(S)){var ee=z.start,fe=z.end;if(fe===void 0&&(fe=ee),"selectionStart"in S)S.selectionStart=ee,S.selectionEnd=Math.min(fe,S.value.length);else{var pe=S.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var oe=ne.getSelection(),Me=S.textContent.length,Ue=Math.min(z.start,Me),bt=z.end===void 0?Ue:Math.min(z.end,Me);!oe.extend&&Ue>bt&&(y=bt,bt=Ue,Ue=y);var I=bm(S,Ue),L=bm(S,bt);if(I&&L&&(oe.rangeCount!==1||oe.anchorNode!==I.node||oe.anchorOffset!==I.offset||oe.focusNode!==L.node||oe.focusOffset!==L.offset)){var J=pe.createRange();J.setStart(I.node,I.offset),oe.removeAllRanges(),Ue>bt?(oe.addRange(J),oe.extend(L.node,L.offset)):(J.setEnd(L.node,L.offset),oe.addRange(J))}}}}for(pe=[],oe=S;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<pe.length;S++){var he=pe[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}hc=!!rf,af=rf=null}finally{lt=f,A.p=c,M.T=a}}t.current=s,ln=2}}function Og(){if(ln===2){ln=0;var t=qr,s=hi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var c=A.p;A.p=2;var f=lt;lt|=4;try{cg(t,s.alternate,s)}finally{lt=f,A.p=c,M.T=a}}ln=3}}function Lg(){if(ln===4||ln===3){ln=0,Ee();var t=qr,s=hi,a=hr,c=jg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,hi=qr=null,Ug(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($r=null),Pe(a),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=M.T,f=A.p,A.p=2,M.T=null;try{for(var m=t.onRecoverableError,y=0;y<c.length;y++){var S=c[y];m(S.value,{componentStack:S.stack})}}finally{M.T=s,A.p=f}}(hr&3)!==0&&tc(),Qs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Vd?El++:(El=0,Vd=t):El=0,Nl(0)}}function Ug(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,al(s)))}function tc(){return zg(),Og(),Lg(),Bg()}function Bg(){if(ln!==5)return!1;var t=qr,s=Zd;Zd=0;var a=Pe(hr),c=M.T,f=A.p;try{A.p=32>a?32:a,M.T=null,a=Id,Id=null;var m=qr,y=hr;if(ln=0,hi=qr=null,hr=0,(lt&6)!==0)throw Error(i(331));var S=lt;if(lt|=4,vg(m.current),gg(m,m.current,y,a),lt=S,Nl(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Dt,m)}catch{}return!0}finally{A.p=f,M.T=c,Ug(t,s)}}function $g(t,s,a){s=us(a,s),s=Sd(t.stateNode,s,2),t=Rr(t,s,2),t!==null&&(On(t,2),Qs(t))}function mt(t,s,a){if(t.tag===3)$g(t,t,a);else for(;s!==null;){if(s.tag===3){$g(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){t=us(a,t),a=qp(2),c=Rr(s,a,2),c!==null&&(Fp(a,c,s,t),On(c,2),Qs(c));break}}s=s.return}}function Pd(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new r1;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(qd=!0,f.add(a),t=c1.bind(null,t,s,a),s.then(t,t))}function c1(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,St===t&&(Je&a)===a&&(Ht===4||Ht===3&&(Je&62914560)===Je&&300>ye()-Ko?(lt&2)===0&&mi(t,0):Fd|=a,fi===Je&&(fi=0)),Qs(t)}function qg(t,s){s===0&&(s=fn()),t=oa(t,s),t!==null&&(On(t,s),Qs(t))}function u1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),qg(t,a)}function d1(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),qg(t,a)}function f1(t,s){return R(t,s)}var nc=null,gi=null,Kd=!1,sc=!1,Gd=!1,Hr=0;function Qs(t){t!==gi&&t.next===null&&(gi===null?nc=gi=t:gi=gi.next=t),sc=!0,Kd||(Kd=!0,m1())}function Nl(t,s){if(!Gd&&sc){Gd=!0;do for(var a=!1,c=nc;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var y=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-Mt(42|t)+1)-1,m&=f&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Ig(c,m))}else m=Je,m=kt(c,c===St?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||_n(c,m)||(a=!0,Ig(c,m));c=c.next}while(a);Gd=!1}}function h1(){Fg()}function Fg(){sc=Kd=!1;var t=0;Hr!==0&&E1()&&(t=Hr);for(var s=ye(),a=null,c=nc;c!==null;){var f=c.next,m=Hg(c,s);m===0?(c.next=null,a===null?nc=f:a.next=f,f===null&&(gi=a)):(a=c,(t!==0||(m&3)!==0)&&(sc=!0)),c=f}ln!==0&&ln!==5||Nl(t),Hr!==0&&(Hr=0)}function Hg(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var y=31-Mt(m),S=1<<y,z=f[y];z===-1?((S&a)===0||(S&c)!==0)&&(f[y]=dn(S,s)):z<=s&&(t.expiredLanes|=S),m&=~S}if(s=St,a=Je,a=kt(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&P(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_n(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&P(c),Pe(a)){case 2:case 8:a=He;break;case 32:a=Ve;break;case 268435456:a=Se;break;default:a=Ve}return c=Zg.bind(null,t),a=R(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&P(c),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,s){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tc()&&t.callbackNode!==a)return null;var c=Je;return c=kt(t,t===St?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Eg(t,c,s),Hg(t,ye()),t.callbackNode!=null&&t.callbackNode===a?Zg.bind(null,t):null)}function Ig(t,s){if(tc())return null;Eg(t,s,!0)}function m1(){C1(function(){(lt&6)!==0?R(Ae,h1):Fg()})}function Yd(){if(Hr===0){var t=ti;t===0&&(t=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),Hr=t}return Hr}function Vg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$a(""+t)}function Qg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function p1(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=Vg((f[Vt]||null).action),y=c.submitter;y&&(s=(s=y[Vt]||null)?Vg(s.formAction):y.getAttribute("formAction"),s!==null&&(m=s,y=null));var S=new Ia("action","action",null,c,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hr!==0){var z=y?Qg(f,y):new FormData(f);xd(a,{pending:!0,data:z,method:f.method,action:m},null,z)}}else typeof m=="function"&&(S.preventDefault(),z=y?Qg(f,y):new FormData(f),xd(a,{pending:!0,data:z,method:f.method,action:m},m,z))},currentTarget:f}]})}}for(var Xd=0;Xd<zu.length;Xd++){var Jd=zu[Xd],g1=Jd.toLowerCase(),x1=Jd[0].toUpperCase()+Jd.slice(1);_s(g1,"on"+x1)}_s(Sm,"onAnimationEnd"),_s(Em,"onAnimationIteration"),_s(Nm,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Rw,"onTransitionRun"),_s(zw,"onTransitionStart"),_s(Ow,"onTransitionCancel"),_s(Cm,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Wg(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var S=c[y],z=S.instance,ee=S.currentTarget;if(S=S.listener,z!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=ee;try{m(f)}catch(fe){bo(fe)}f.currentTarget=null,m=z}else for(y=0;y<c.length;y++){if(S=c[y],z=S.instance,ee=S.currentTarget,S=S.listener,z!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=ee;try{m(f)}catch(fe){bo(fe)}f.currentTarget=null,m=z}}}}function Xe(t,s){var a=s[Ma];a===void 0&&(a=s[Ma]=new Set);var c=t+"__bubble";a.has(c)||(Pg(s,t,2,!1),a.add(c))}function ef(t,s,a){var c=0;s&&(c|=4),Pg(a,t,c,s)}var rc="_reactListening"+Math.random().toString(36).slice(2);function tf(t){if(!t[rc]){t[rc]=!0,Ys.forEach(function(a){a!=="selectionchange"&&(b1.has(a)||ef(a,!1,t),ef(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[rc]||(s[rc]=!0,ef("selectionchange",!1,s))}}function Pg(t,s,a,c){switch(Sx(s)){case 2:var f=Q1;break;case 8:f=W1;break;default:f=xf}a=f.bind(null,s,a,t),f=void 0,!Qi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function nf(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var S=c.stateNode.containerInfo;if(S===f)break;if(y===4)for(y=c.return;y!==null;){var z=y.tag;if((z===3||z===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;S!==null;){if(y=jr(S),y===null)return;if(z=y.tag,z===5||z===6||z===26||z===27){c=m=y;continue e}S=S.parentNode}}c=c.return}ho(function(){var ee=m,fe=Bs(a),pe=[];e:{var ne=_m.get(t);if(ne!==void 0){var oe=Ia,Me=t;switch(t){case"keypress":if(Ha(a)===0)break e;case"keydown":case"keyup":oe=dw;break;case"focusin":Me="focus",oe=V;break;case"focusout":Me="blur",oe=V;break;case"beforeblur":case"afterblur":oe=V;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=mw;break;case Sm:case Em:case Nm:oe=De;break;case Cm:oe=gw;break;case"scroll":case"scrollend":oe=Su;break;case"wheel":oe=bw;break;case"copy":case"cut":case"paste":oe=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=rm;break;case"toggle":case"beforetoggle":oe=yw}var Ue=(s&4)!==0,bt=!Ue&&(t==="scroll"||t==="scrollend"),I=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var L=ee,J;L!==null;){var he=L;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||I===null||(he=sa(L,I),he!=null&&Ue.push(_l(L,he,J))),bt)break;L=L.return}0<Ue.length&&(ne=new oe(ne,Me,null,a,fe),pe.push({event:ne,listeners:Ue}))}}if((s&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",ne&&a!==Cr&&(Me=a.relatedTarget||a.fromElement)&&(jr(Me)||Me[yr]))break e;if((oe||ne)&&(ne=fe.window===fe?fe:(ne=fe.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(Me=a.relatedTarget||a.toElement,oe=ee,Me=Me?jr(Me):null,Me!==null&&(bt=u(Me),Ue=Me.tag,Me!==bt||Ue!==5&&Ue!==27&&Ue!==6)&&(Me=null)):(oe=null,Me=ee),oe!==Me)){if(Ue=go,he="onMouseLeave",I="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=rm,he="onPointerLeave",I="onPointerEnter",L="pointer"),bt=oe==null?ne:Yn(oe),J=Me==null?ne:Yn(Me),ne=new Ue(he,L+"leave",oe,a,fe),ne.target=bt,ne.relatedTarget=J,he=null,jr(fe)===ee&&(Ue=new Ue(I,L+"enter",Me,a,fe),Ue.target=J,Ue.relatedTarget=bt,he=Ue),bt=he,oe&&Me)t:{for(Ue=v1,I=oe,L=Me,J=0,he=I;he;he=Ue(he))J++;he=0;for(var Le=L;Le;Le=Ue(Le))he++;for(;0<J-he;)I=Ue(I),J--;for(;0<he-J;)L=Ue(L),he--;for(;J--;){if(I===L||L!==null&&I===L.alternate){Ue=I;break t}I=Ue(I),L=Ue(L)}Ue=null}else Ue=null;oe!==null&&Kg(pe,ne,oe,Ue,!1),Me!==null&&bt!==null&&Kg(pe,bt,Me,Ue,!0)}}e:{if(ne=ee?Yn(ee):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var rt=fm;else if(um(ne))if(hm)rt=Aw;else{rt=kw;var ze=_w}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Ua(ee.elementType)&&(rt=fm):rt=Tw;if(rt&&(rt=rt(t,ee))){dm(pe,rt,a,fe);break e}ze&&ze(t,ne,ee),t==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Zi(ne,"number",ne.value)}switch(ze=ee?Yn(ee):window,t){case"focusin":(um(ze)||ze.contentEditable==="true")&&(Wa=ze,Du=ee,nl=null);break;case"focusout":nl=Du=Wa=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,wm(pe,a,fe);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":wm(pe,a,fe)}var Ke;if(_u)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Qa?om(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(am&&a.locale!=="ko"&&(Qa||et!=="onCompositionStart"?et==="onCompositionEnd"&&Qa&&(Ke=mo()):(Hs=fe,Wi="value"in Hs?Hs.value:Hs.textContent,Qa=!0)),ze=ac(ee,et),0<ze.length&&(et=new ct(et,t,null,a,fe),pe.push({event:et,listeners:ze}),Ke?et.data=Ke:(Ke=cm(a),Ke!==null&&(et.data=Ke)))),(Ke=jw?Sw(t,a):Ew(t,a))&&(et=ac(ee,"onBeforeInput"),0<et.length&&(ze=new ct("onBeforeInput","beforeinput",null,a,fe),pe.push({event:ze,listeners:et}),ze.data=Ke)),p1(pe,t,ee,a,fe)}Wg(pe,s)})}function _l(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ac(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=sa(t,a),f!=null&&c.unshift(_l(t,f,m)),f=sa(t,s),f!=null&&c.push(_l(t,f,m))),t.tag===3)return c;t=t.return}return[]}function v1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,s,a,c,f){for(var m=s._reactName,y=[];a!==null&&a!==c;){var S=a,z=S.alternate,ee=S.stateNode;if(S=S.tag,z!==null&&z===c)break;S!==5&&S!==26&&S!==27||ee===null||(z=ee,f?(ee=sa(a,m),ee!=null&&y.unshift(_l(a,ee,z))):f||(ee=sa(a,m),ee!=null&&y.push(_l(a,ee,z)))),a=a.return}y.length!==0&&t.push({event:s,listeners:y})}var y1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Gg(t){return(typeof t=="string"?t:""+t).replace(y1,`
`).replace(w1,"")}function Yg(t,s){return s=Gg(s),Gg(t)===s}function xt(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Nr(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Nr(t,""+c);break;case"className":js(t,"class",c);break;case"tabIndex":js(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":js(t,a,c);break;case"style":fo(t,c,m);break;case"data":if(s!=="object"){js(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=$a(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&xt(t,s,"name",f.name,f,null),xt(t,s,"formEncType",f.formEncType,f,null),xt(t,s,"formMethod",f.formMethod,f,null),xt(t,s,"formTarget",f.formTarget,f,null)):(xt(t,s,"encType",f.encType,f,null),xt(t,s,"method",f.method,f,null),xt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=$a(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Ns);break;case"onScroll":c!=null&&Xe("scroll",t);break;case"onScrollEnd":c!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=$a(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Ra(t,"popover",c);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ra(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ba.get(a)||a,Ra(t,a,c))}}function sf(t,s,a,c,f,m){switch(a){case"style":fo(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Nr(t,c):(typeof c=="number"||typeof c=="bigint")&&Nr(t,""+c);break;case"onScroll":c!=null&&Xe("scroll",t);break;case"onScrollEnd":c!=null&&Xe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ra(t,a,c)}}}function En(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var y=a[m];if(y!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,m,y,a,null)}}f&&xt(t,s,"srcSet",a.srcSet,a,null),c&&xt(t,s,"src",a.src,a,null);return;case"input":Xe("invalid",t);var S=m=y=f=null,z=null,ee=null;for(c in a)if(a.hasOwnProperty(c)){var fe=a[c];if(fe!=null)switch(c){case"name":f=fe;break;case"type":y=fe;break;case"checked":z=fe;break;case"defaultChecked":ee=fe;break;case"value":m=fe;break;case"defaultValue":S=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:xt(t,s,c,fe,a,null)}}wu(t,m,S,z,ee,y,f,!1);return;case"select":Xe("invalid",t),c=y=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":c=S;default:xt(t,s,f,S,a,null)}s=m,a=y,t.multiple=!!c,s!=null?Us(t,!!c,s,!1):a!=null&&Us(t,!!c,a,!0);return;case"textarea":Xe("invalid",t),m=f=c=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":c=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:xt(t,s,y,S,a,null)}Vi(t,c,f,m);return;case"option":for(z in a)if(a.hasOwnProperty(z)&&(c=a[z],c!=null))switch(z){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:xt(t,s,z,c,a,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(c=0;c<Cl.length;c++)Xe(Cl[c],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in a)if(a.hasOwnProperty(ee)&&(c=a[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,ee,c,a,null)}return;default:if(Ua(s)){for(fe in a)a.hasOwnProperty(fe)&&(c=a[fe],c!==void 0&&sf(t,s,fe,c,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(c=a[S],c!=null&&xt(t,s,S,c,a,null))}function j1(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,y=null,S=null,z=null,ee=null,fe=null;for(oe in a){var pe=a[oe];if(a.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=pe;default:c.hasOwnProperty(oe)||xt(t,s,oe,null,c,pe)}}for(var ne in c){var oe=c[ne];if(pe=a[ne],c.hasOwnProperty(ne)&&(oe!=null||pe!=null))switch(ne){case"type":m=oe;break;case"name":f=oe;break;case"checked":ee=oe;break;case"defaultChecked":fe=oe;break;case"value":y=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:oe!==pe&&xt(t,s,ne,oe,c,pe)}}co(t,y,S,z,ee,fe,m,f);return;case"select":oe=y=S=ne=null;for(m in a)if(z=a[m],a.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":oe=z;default:c.hasOwnProperty(m)||xt(t,s,m,null,c,z)}for(f in c)if(m=c[f],z=a[f],c.hasOwnProperty(f)&&(m!=null||z!=null))switch(f){case"value":ne=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==z&&xt(t,s,f,m,c,z)}s=S,a=y,c=oe,ne!=null?Us(t,!!a,ne,!1):!!c!=!!a&&(s!=null?Us(t,!!a,s,!0):Us(t,!!a,a?[]:"",!1));return;case"textarea":oe=ne=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:xt(t,s,S,null,c,f)}for(y in c)if(f=c[y],m=a[y],c.hasOwnProperty(y)&&(f!=null||m!=null))switch(y){case"value":ne=f;break;case"defaultValue":oe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&xt(t,s,y,f,c,m)}Ii(t,ne,oe);return;case"option":for(var Me in a)if(ne=a[Me],a.hasOwnProperty(Me)&&ne!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:xt(t,s,Me,null,c,ne)}for(z in c)if(ne=c[z],oe=a[z],c.hasOwnProperty(z)&&ne!==oe&&(ne!=null||oe!=null))switch(z){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:xt(t,s,z,ne,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)ne=a[Ue],a.hasOwnProperty(Ue)&&ne!=null&&!c.hasOwnProperty(Ue)&&xt(t,s,Ue,null,c,ne);for(ee in c)if(ne=c[ee],oe=a[ee],c.hasOwnProperty(ee)&&ne!==oe&&(ne!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:xt(t,s,ee,ne,c,oe)}return;default:if(Ua(s)){for(var bt in a)ne=a[bt],a.hasOwnProperty(bt)&&ne!==void 0&&!c.hasOwnProperty(bt)&&sf(t,s,bt,void 0,c,ne);for(fe in c)ne=c[fe],oe=a[fe],!c.hasOwnProperty(fe)||ne===oe||ne===void 0&&oe===void 0||sf(t,s,fe,ne,c,oe);return}}for(var I in a)ne=a[I],a.hasOwnProperty(I)&&ne!=null&&!c.hasOwnProperty(I)&&xt(t,s,I,null,c,ne);for(pe in c)ne=c[pe],oe=a[pe],!c.hasOwnProperty(pe)||ne===oe||ne==null&&oe==null||xt(t,s,pe,ne,c,oe)}function Xg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,y=f.initiatorType,S=f.duration;if(m&&S&&Xg(y)){for(y=0,S=f.responseEnd,c+=1;c<a.length;c++){var z=a[c],ee=z.startTime;if(ee>S)break;var fe=z.transferSize,pe=z.initiatorType;fe&&Xg(pe)&&(z=z.responseEnd,y+=fe*(z<S?1:(S-ee)/(z-ee)))}if(--c,s+=8*(m+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,af=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function Jg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function lf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var of=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var tx=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(t){return nx.resolve(null).then(t).catch(_1)}:tx;function _1(t){setTimeout(function(){throw t})}function Zr(t){return t==="head"}function sx(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),yi(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var m=a.firstChild;m;){var y=m.nextSibling,S=m.nodeName;m[wr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}else a==="body"&&kl(t.ownerDocument.body);a=f}while(a);yi(s)}function rx(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function cf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k1(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[wr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ps(t.nextSibling),t===null)break}return null}function T1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ps(t.nextSibling),t===null))return null;return t}function ax(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ps(t.nextSibling),t===null))return null;return t}function uf(t){return t.data==="$?"||t.data==="$~"}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function A1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ps(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ff=null;function ix(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ps(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function lx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function ox(t,s,a){switch(s=ic(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function kl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);qi(t)}var gs=new Map,cx=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mr=A.d;A.d={f:D1,r:M1,D:R1,C:z1,L:O1,m:L1,X:B1,S:U1,M:$1};function D1(){var t=mr.f(),s=Xo();return t||s}function M1(t){var s=Gt(t);s!==null&&s.tag===5&&s.type==="form"?Cp(s):mr.r(t)}var xi=typeof document>"u"?null:document;function ux(t,s,a){var c=xi;if(c&&typeof s=="string"&&s){var f=Bt(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),cx.has(f)||(cx.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),En(s,"link",t),jt(s),c.head.appendChild(s)))}}function R1(t){mr.D(t),ux("dns-prefetch",t,null)}function z1(t,s){mr.C(t,s),ux("preconnect",t,s)}function O1(t,s,a){mr.L(t,s,a);var c=xi;if(c&&t&&s){var f='link[rel="preload"][as="'+Bt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Bt(a.imageSizes)+'"]')):f+='[href="'+Bt(t)+'"]';var m=f;switch(s){case"style":m=bi(t);break;case"script":m=vi(t)}gs.has(m)||(t=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),gs.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(Tl(m))||s==="script"&&c.querySelector(Al(m))||(s=c.createElement("link"),En(s,"link",t),jt(s),c.head.appendChild(s)))}}function L1(t,s){mr.m(t,s);var a=xi;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Bt(c)+'"][href="'+Bt(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vi(t)}if(!gs.has(m)&&(t=v({rel:"modulepreload",href:t},s),gs.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(m)))return}c=a.createElement("link"),En(c,"link",t),jt(c),a.head.appendChild(c)}}}function U1(t,s,a){mr.S(t,s,a);var c=xi;if(c&&t){var f=Sr(c).hoistableStyles,m=bi(t);s=s||"default";var y=f.get(m);if(!y){var S={loading:0,preload:null};if(y=c.querySelector(Tl(m)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},a),(a=gs.get(m))&&hf(t,a);var z=y=c.createElement("link");jt(z),En(z,"link",t),z._p=new Promise(function(ee,fe){z.onload=ee,z.onerror=fe}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oc(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:S},f.set(m,y)}}}function B1(t,s){mr.X(t,s);var a=xi;if(a&&t){var c=Sr(a).hoistableScripts,f=vi(t),m=c.get(f);m||(m=a.querySelector(Al(f)),m||(t=v({src:t,async:!0},s),(s=gs.get(f))&&mf(t,s),m=a.createElement("script"),jt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function $1(t,s){mr.M(t,s);var a=xi;if(a&&t){var c=Sr(a).hoistableScripts,f=vi(t),m=c.get(f);m||(m=a.querySelector(Al(f)),m||(t=v({src:t,async:!0,type:"module"},s),(s=gs.get(f))&&mf(t,s),m=a.createElement("script"),jt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function dx(t,s,a,c){var f=(f=H.current)?lc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=bi(a.href),a=Sr(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bi(a.href);var m=Sr(f).hoistableStyles,y=m.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,y),(m=f.querySelector(Tl(t)))&&!m._p&&(y.instance=m,y.state.loading=5),gs.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gs.set(t,a),m||q1(f,t,a,y.state))),s&&c===null)throw Error(i(528,""));return y}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vi(a),a=Sr(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function bi(t){return'href="'+Bt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function fx(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),jt(s),t.head.appendChild(s))}function vi(t){return'[src="'+Bt(t)+'"]'}function Al(t){return"script[async]"+t}function hx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(c)return s.instance=c,jt(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),jt(c),En(c,"style",f),oc(c,a.precedence,t),s.instance=c;case"stylesheet":f=bi(a.href);var m=t.querySelector(Tl(f));if(m)return s.state.loading|=4,s.instance=m,jt(m),m;c=fx(a),(f=gs.get(f))&&hf(c,f),m=(t.ownerDocument||t).createElement("link"),jt(m);var y=m;return y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),En(m,"link",c),s.state.loading|=4,oc(m,a.precedence,t),s.instance=m;case"script":return m=vi(a.src),(f=t.querySelector(Al(m)))?(s.instance=f,jt(f),f):(c=a,(f=gs.get(m))&&(c=v({},a),mf(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),jt(f),En(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,oc(c,a.precedence,t));return s.instance}function oc(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,y=0;y<c.length;y++){var S=c[y];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function hf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function mf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var cc=null;function mx(t,s,a){if(cc===null){var c=new Map,f=cc=new Map;f.set(a,c)}else f=cc,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[wr]||m[Nt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(s)||"";y=t+y;var S=c.get(y);S?S.push(m):c.set(y,[m])}}return c}function px(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function F1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function H1(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bi(c.href),m=s.querySelector(Tl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=uc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,jt(m);return}m=s.ownerDocument||s,c=fx(c),(f=gs.get(f))&&hf(c,f),m=m.createElement("link"),jt(m);var y=m;y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),En(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var pf=0;function Z1(t,s){return t.stylesheets&&t.count===0&&fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&pf===0&&(pf=62500*S1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>pf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function fc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,s.forEach(I1,t),dc=null,uc.call(t))}function I1(t,s){if(!(s.state.loading&4)){var a=dc.get(t);if(a)var c=a.get(null);else{a=new Map,dc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var y=f[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),c=y)}c&&a.set(null,c)}f=s.instance,y=f.getAttribute("data-precedence"),m=a.get(y)||c,m===c&&a.set(null,f),a.set(y,f),this.count++,c=uc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Dl={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function V1(t,s,a,c,f,m,y,S,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hn(0),this.hiddenUpdates=hn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function xx(t,s,a,c,f,m,y,S,z,ee,fe,pe){return t=new V1(t,s,a,y,z,ee,fe,pe,S),s=1,m===!0&&(s|=24),m=Jn(3,null,null,s),t.current=m,m.stateNode=t,s=Wu(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},Yu(m),t}function bx(t){return t?(t=Ga,t):Ga}function vx(t,s,a,c,f,m){f=bx(f),c.context===null?c.context=f:c.pendingContext=f,c=Mr(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Rr(t,c,s),a!==null&&(Qn(a,t,s),cl(a,t,s))}function yx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function gf(t,s){yx(t,s),(t=t.alternate)&&yx(t,s)}function wx(t){if(t.tag===13||t.tag===31){var s=oa(t,67108864);s!==null&&Qn(s,t,67108864),gf(t,67108864)}}function jx(t){if(t.tag===13||t.tag===31){var s=rs();s=Gn(s);var a=oa(t,s);a!==null&&Qn(a,t,s),gf(t,s)}}var hc=!0;function Q1(t,s,a,c){var f=M.T;M.T=null;var m=A.p;try{A.p=2,xf(t,s,a,c)}finally{A.p=m,M.T=f}}function W1(t,s,a,c){var f=M.T;M.T=null;var m=A.p;try{A.p=8,xf(t,s,a,c)}finally{A.p=m,M.T=f}}function xf(t,s,a,c){if(hc){var f=bf(c);if(f===null)nf(t,s,c,mc,a),Ex(t,c);else if(K1(f,t,s,a,c))c.stopPropagation();else if(Ex(t,c),s&4&&-1<P1.indexOf(t)){for(;f!==null;){var m=Gt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=wt(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var z=1<<31-Mt(y);S.entanglements[1]|=z,y&=~z}Qs(m),(lt&6)===0&&(Go=ye()+500,Nl(0))}}break;case 31:case 13:S=oa(m,2),S!==null&&Qn(S,m,2),Xo(),gf(m,2)}if(m=bf(c),m===null&&nf(t,s,c,mc,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else nf(t,s,c,null,a)}}function bf(t){return t=Bs(t),vf(t)}var mc=null;function vf(t){if(mc=null,t=jr(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=h(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return mc=t,null}function Sx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ae:return 2;case He:return 8;case Ve:case _t:return 32;case Se:return 268435456;default:return 32}default:return 32}}var yf=!1,Ir=null,Vr=null,Qr=null,Ml=new Map,Rl=new Map,Wr=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ex(t,s){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function zl(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Gt(s),s!==null&&wx(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function K1(t,s,a,c,f){switch(s){case"focusin":return Ir=zl(Ir,t,s,a,c,f),!0;case"dragenter":return Vr=zl(Vr,t,s,a,c,f),!0;case"mouseover":return Qr=zl(Qr,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return Ml.set(m,zl(Ml.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Rl.set(m,zl(Rl.get(m)||null,t,s,a,c,f)),!0}return!1}function Nx(t){var s=jr(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,zt(t.priority,function(){jx(a)});return}}else if(s===31){if(s=h(a),s!==null){t.blockedOn=s,zt(t.priority,function(){jx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Cr=c,a.target.dispatchEvent(c),Cr=null}else return s=Gt(a),s!==null&&wx(s),t.blockedOn=a,!1;s.shift()}return!0}function Cx(t,s,a){pc(t)&&a.delete(s)}function G1(){yf=!1,Ir!==null&&pc(Ir)&&(Ir=null),Vr!==null&&pc(Vr)&&(Vr=null),Qr!==null&&pc(Qr)&&(Qr=null),Ml.forEach(Cx),Rl.forEach(Cx)}function gc(t,s){t.blockedOn===s&&(t.blockedOn=null,yf||(yf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G1)))}var xc=null;function _x(t){xc!==t&&(xc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(vf(c||a)===null)continue;break}var m=Gt(a);m!==null&&(t.splice(s,3),s-=3,xd(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function yi(t){function s(z){return gc(z,t)}Ir!==null&&gc(Ir,t),Vr!==null&&gc(Vr,t),Qr!==null&&gc(Qr,t),Ml.forEach(s),Rl.forEach(s);for(var a=0;a<Wr.length;a++){var c=Wr[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Nx(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],y=f[Vt]||null;if(typeof m=="function")y||_x(a);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,y=m[Vt]||null)S=y.formAction;else if(vf(f)!==null)continue}else S=y.action;typeof S=="function"?a[c+1]=S:(a.splice(c,3),c-=3),_x(a)}}}function kx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function wf(t){this._internalRoot=t}bc.prototype.render=wf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=rs();vx(a,c,t,s,null,null)},bc.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;vx(t.current,2,null,t,null,null),Xo(),s[yr]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tn();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Nx(t)}};var Tx=n.version;if(Tx!=="19.2.0")throw Error(i(527,Tx,"19.2.0"));A.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Y1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Dt=vc.inject(Y1),st=vc}catch{}}return Ll.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,c="",f=Lp,m=Up,y=Bp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=xx(t,1,!1,null,null,a,c,null,f,m,y,kx),t[yr]=s.current,tf(t),new wf(s)},Ll.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var c=!1,f="",m=Lp,y=Up,S=Bp,z=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),s=xx(t,1,!0,s,a??null,c,f,z,m,y,S,kx),s.context=bx(null),a=s.current,c=rs(),c=Gn(c),f=Mr(c),f.callback=null,Rr(a,f,c),a=c,s.current.lanes=a,On(s,a),Qs(s),t[yr]=s.current,tf(t),new bc(s)},Ll.version="19.2.0",Ll}var $x;function ij(){if($x)return Ef.exports;$x=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Ef.exports=aj(),Ef.exports}var lj=ij();const oj=Ub(lj),Xc=p.createContext(null);function cj({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),o=p.useRef(n);p.useEffect(()=>{o.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},v=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:v,location:b})){const E=o.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}r(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const d=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),h=p.useCallback((x,b)=>{const v=new URL(x,window.location.origin),w={pathname:v.pathname,search:v.search,hash:v.hash},E=`${w.pathname}${w.search}${w.hash}`,N=b?.replace?"replace":"push";u({kind:N,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:h,registerBlocker:d}),[n,h,d]);return l.jsx(Xc.Provider,{value:g,children:e})}function Fn(){const e=p.useContext(Xc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function It(){const e=p.useContext(Xc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function $b(e,n=!0){const r=p.useContext(Xc);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var Mi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uj={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},dj=class{#e=uj;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Sa=new dj;function fj(e){setTimeout(e,0)}var Ca=typeof window>"u"||"Deno"in globalThis;function $n(){}function hj(e,n){return typeof e=="function"?e(n):e}function If(e){return typeof e=="number"&&e>=0&&e!==1/0}function qb(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Yr(e,n){return typeof e=="function"?e(n):e}function bs(e,n){return typeof e=="function"?e(n):e}function qx(e,n){const{type:r="all",exact:i,fetchStatus:o,predicate:u,queryKey:d,stale:h}=e;if(d){if(i){if(n.queryHash!==gh(d,n.options))return!1}else if(!Ql(n.queryKey,d))return!1}if(r!=="all"){const g=n.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||o&&o!==n.state.fetchStatus||u&&!u(n))}function Fx(e,n){const{exact:r,status:i,predicate:o,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(_a(n.options.mutationKey)!==_a(u))return!1}else if(!Ql(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||o&&!o(n))}function gh(e,n){return(n?.queryKeyHashFn||_a)(e)}function _a(e){return JSON.stringify(e,(n,r)=>Vf(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function Ql(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Ql(e[r],n[r])):!1}var mj=Object.prototype.hasOwnProperty;function Fb(e,n){if(e===n)return e;const r=Hx(e)&&Hx(n);if(!r&&!(Vf(e)&&Vf(n)))return n;const o=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),d=u.length,h=r?new Array(d):{};let g=0;for(let x=0;x<d;x++){const b=r?x:u[x],v=e[b],w=n[b];if(v===w){h[b]=v,(r?x<o:mj.call(e,b))&&g++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){h[b]=w;continue}const E=Fb(v,w);h[b]=E,E===v&&g++}return o===d&&g===o?e:h}function Lc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vf(e){if(!Zx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Zx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zx(e){return Object.prototype.toString.call(e)==="[object Object]"}function pj(e){return new Promise(n=>{Sa.setTimeout(n,e)})}function Qf(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?Fb(e,n):n}function gj(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function xj(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var xh=Symbol();function Hb(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===xh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Zb(e,n){return typeof e=="function"?e(...n):!!e}var bj=class extends Mi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ca&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},bh=new bj;function Wf(){let e,n;const r=new Promise((o,u)=>{e=o,n=u});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},r.reject=o=>{i({status:"rejected",reason:o}),n(o)},r}var vj=fj;function yj(){let e=[],n=0,r=h=>{h()},i=h=>{h()},o=vj;const u=h=>{n?e.push(h):o(()=>{r(h)})},d=()=>{const h=e;e=[],h.length&&o(()=>{i(()=>{h.forEach(g=>{r(g)})})})};return{batch:h=>{let g;n++;try{g=h()}finally{n--,n||d()}return g},batchCalls:h=>(...g)=>{u(()=>{h(...g)})},schedule:u,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{o=h}}}var cn=yj(),wj=class extends Mi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ca&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Uc=new wj;function jj(e){return Math.min(1e3*2**e,3e4)}function Ib(e){return(e??"online")==="online"?Uc.isOnline():!0}var Pf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Vb(e){let n=!1,r=0,i;const o=Wf(),u=()=>o.status!=="pending",d=j=>{if(!u()){const C=new Pf(j);w(C),e.onCancel?.(C)}},h=()=>{n=!0},g=()=>{n=!1},x=()=>bh.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),b=()=>Ib(e.networkMode)&&e.canRun(),v=j=>{u()||(i?.(),o.resolve(j))},w=j=>{u()||(i?.(),o.reject(j))},E=()=>new Promise(j=>{i=C=>{(u()||x())&&j(C)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),N=()=>{if(u())return;let j;const C=r===0?e.initialPromise:void 0;try{j=C??e.fn()}catch(T){j=Promise.reject(T)}Promise.resolve(j).then(v).catch(T=>{if(u())return;const _=e.retry??(Ca?0:3),F=e.retryDelay??jj,U=typeof F=="function"?F(r,T):F,D=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,T);if(n||!D){w(T);return}r++,e.onFail?.(r,T),pj(U).then(()=>x()?void 0:E()).then(()=>{n?w(T):N()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i?.(),o),cancelRetry:h,continueRetry:g,canStart:b,start:()=>(b()?N():E().then(N),o)}}var Qb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),If(this.gcTime)&&(this.#e=Sa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ca?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Sa.clearTimeout(this.#e),this.#e=void 0)}},Sj=class extends Qb{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ix(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ix(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Qf(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},o=()=>{const h=Hb(this.options,n),x=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(h,x,this):h(x)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Vb({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Pf&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,g)=>{this.#a({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Pf){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wb(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Wb(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ib(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ix(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pb=class extends Mi{constructor(e,n){super(),this.options=n,this.#e=e,this.#a=null,this.#l=Wf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Vx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!Lc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Qx(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||bs(this.options.enabled,this.#t)!==bs(n.enabled,this.#t)||Yr(this.options.staleTime,this.#t)!==Yr(n.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==r||bs(this.options.enabled,this.#t)!==bs(n.enabled,this.#t)||o!==this.#o)&&this.#b(o)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return Nj(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#j();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch($n)),n}#g(){this.#y();const e=Yr(this.options.staleTime,this.#t);if(Ca||this.#r.isStale||!If(e))return;const r=qb(this.#r.dataUpdatedAt,e)+1;this.#c=Sa.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#o=e,!(Ca||bs(this.options.enabled,this.#t)===!1||!If(this.#o)||this.#o===0)&&(this.#u=Sa.setInterval(()=>{(this.options.refetchIntervalInBackground||bh.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Sa.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Sa.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,o=this.#r,u=this.#s,d=this.#i,g=e!==r?e.state:this.#n,{state:x}=e;let b={...x},v=!1,w;if(n._optimisticResults){const Z=this.hasListeners(),W=!Z&&Vx(e,n),X=Z&&Qx(e,r,n,i);(W||X)&&(b={...b,...Wb(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:N,status:j}=b;w=b.data;let C=!1;if(n.placeholderData!==void 0&&w===void 0&&j==="pending"){let Z;o?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(Z=o.data,C=!0):Z=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,Z!==void 0&&(j="success",w=Qf(o?.data,Z,n),v=!0)}if(n.select&&w!==void 0&&!C)if(o&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Qf(o?.data,w,n),this.#f=w,this.#a=null}catch(Z){this.#a=Z}this.#a&&(E=this.#a,w=this.#f,N=Date.now(),j="error");const T=b.fetchStatus==="fetching",_=j==="pending",F=j==="error",U=_&&T,D=w!==void 0,O={status:j,fetchStatus:b.fetchStatus,isPending:_,isSuccess:j==="success",isError:F,isInitialLoading:U,isLoading:U,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:N,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!_,isLoadingError:F&&!D,isPaused:b.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:F&&D,isStale:vh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:bs(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Z=re=>{O.status==="error"?re.reject(O.error):O.data!==void 0&&re.resolve(O.data)},W=()=>{const re=this.#l=O.promise=Wf();Z(re)},X=this.#l;switch(X.status){case"pending":e.queryHash===r.queryHash&&Z(X);break;case"fulfilled":(O.status==="error"||O.data!==X.value)&&W();break;case"rejected":(O.status!=="error"||O.error!==X.reason)&&W();break}}return O}updateResult(){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Lc(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const h=d;return this.#r[h]!==e[h]&&u.has(h)})};this.#S({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ej(e,n){return bs(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Vx(e,n){return Ej(e,n)||e.state.data!==void 0&&Kf(e,n,n.refetchOnMount)}function Kf(e,n,r){if(bs(n.enabled,e)!==!1&&Yr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&vh(e,n)}return!1}function Qx(e,n,r,i){return(e!==n||bs(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vh(e,r)}function vh(e,n){return bs(n.enabled,e)!==!1&&e.isStaleByTime(Yr(n.staleTime,e))}function Nj(e,n){return!Lc(e.getCurrentResult(),n)}function Bc(e){return{onFetch:(n,r)=>{const i=n.options,o=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Hb(n.options,n.fetchOptions),E=async(N,j,C)=>{if(b)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const _=(()=>{const K={client:n.client,queryKey:n.queryKey,pageParam:j,direction:C?"backward":"forward",meta:n.options.meta};return v(K),K})(),F=await w(_),{maxPages:U}=n.options,D=C?xj:gj;return{pages:D(N.pages,F,U),pageParams:D(N.pageParams,j,U)}};if(o&&u.length){const N=o==="backward",j=N?Kb:Gf,C={pages:u,pageParams:d},T=j(i,C);h=await E(C,T,N)}else{const N=e??u.length;do{const j=g===0?d[0]??i.initialPageParam:Gf(i,h);if(g>0&&j==null)break;h=await E(h,j),g++}while(g<N)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function Gf(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Kb(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function Cj(e,n){return n?Gf(e,n)!=null:!1}function _j(e,n){return!n||!e.getPreviousPageParam?!1:Kb(e,n)!=null}var kj=class extends Pb{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Bc()})}getOptimisticResult(e){return e.behavior=Bc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:o,isRefetching:u,isError:d,isRefetchError:h}=i,g=r.fetchMeta?.fetchMore?.direction,x=d&&g==="forward",b=o&&g==="forward",v=d&&g==="backward",w=o&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Cj(n,r.data),hasPreviousPage:_j(n,r.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:v,isFetchingPreviousPage:w,isRefetchError:h&&!x&&!v,isRefetching:u&&!b&&!w}}},Tj=class extends Qb{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Gb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Vb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#r.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:o})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Gb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aj=class extends Mi{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new Tj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=yc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){cn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Fx(n,r))}findAll(e={}){return this.getAll().filter(n=>Fx(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch($n))))}};function yc(e){return e.options.scope?.id}var Dj=class extends Mi{#e;#t=void 0;#n;#r;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Lc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&_a(r.mutationKey)!==_a(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Gb();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){cn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#r.onSuccess?.(n.data,r,i,o),this.#r.onSettled?.(n.data,null,r,i,o)):n?.type==="error"&&(this.#r.onError?.(n.error,r,i,o),this.#r.onSettled?.(void 0,n.error,r,i,o))}this.listeners.forEach(r=>{r(this.#t)})})}},Mj=class extends Mi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,o=n.queryHash??gh(i,n);let u=this.get(o);return u||(u=new Sj({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qx(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rj=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new Mj,this.#t=e.mutationCache||new Aj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Yr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=hj(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(e,n,r){return cn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;cn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return cn.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=cn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then($n).catch($n)}invalidateQueries(e,n={}){return cn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=cn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,r);return r.throwOnError||(u=u.catch($n)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then($n)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Yr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($n).catch($n)}fetchInfiniteQuery(e){return e.behavior=Bc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($n).catch($n)}ensureInfiniteQueryData(e){return e.behavior=Bc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(_a(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Ql(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(_a(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{Ql(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=gh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===xh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Yb=p.createContext(void 0),ft=e=>{const n=p.useContext(Yb);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},zj=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Yb.Provider,{value:e,children:n})),Xb=p.createContext(!1),Oj=()=>p.useContext(Xb);Xb.Provider;function Lj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Uj=p.createContext(Lj()),Bj=()=>p.useContext(Uj),$j=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},qj=e=>{p.useEffect(()=>{e.clearReset()},[e])},Fj=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:o})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Zb(r,[e.error,i])),Hj=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>r(i(...o)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Zj=(e,n)=>e.isLoading&&e.isFetching&&!n,Ij=(e,n)=>e?.suspense&&n.isPending,Wx=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Jb(e,n,r){const i=Oj(),o=Bj(),u=ft(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",Hj(d),$j(d,o),qj(o);const h=!u.getQueryCache().get(d.queryHash),[g]=p.useState(()=>new n(u,d)),x=g.getOptimisticResult(d),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const w=b?g.subscribe(cn.batchCalls(v)):$n;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(d)},[d,g]),Ij(d,x))throw Wx(d,g,o);if(Fj({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!Ca&&Zj(x,i)&&(h?Wx(d,g,o):u.getQueryCache().get(d.queryHash)?.promise)?.catch($n).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function zn(e,n){return Jb(e,Pb)}function sn(e,n){const r=ft(),[i]=p.useState(()=>new Dj(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const o=p.useSyncExternalStore(p.useCallback(d=>i.subscribe(cn.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((d,h)=>{i.mutate(d,h).catch($n)},[i]);if(o.error&&Zb(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function yh(e,n){return Jb(e,kj)}const Vj="modulepreload",Qj=function(e){return"/"+e},Px={},Wj=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=g(r.map(x=>{if(x=Qj(x),x in Px)return;Px[x]=!0;const b=x.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Vj,b||(w.as="script"),w.crossOrigin="",w.href=x,h&&w.setAttribute("nonce",h),document.head.appendChild(w),b)return new Promise((E,N)=>{w.addEventListener("load",E),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function Pj({children:e}){const[n]=p.useState(()=>new Rj({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(zj,{client:n,children:[e,null]})}class qn extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}const Kj=/\{[^{}]+\}/g,Gj=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function Yj(){return Math.random().toString(36).slice(2,11)}function Xj(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:o,bodySerializer:u,headers:d,requestInitExt:h=void 0,...g}={...e};h=Gj()?h:void 0,n=Yx(n);const x=[];async function b(v,w){const{baseUrl:E,fetch:N=i,Request:j=r,headers:C,params:T={},parseAs:_="json",querySerializer:F,bodySerializer:U=u??eS,body:D,middleware:K=[],...O}=w||{};let Z=n;E&&(Z=Yx(E)??n);let W=typeof o=="function"?o:Kx(o);F&&(W=typeof F=="function"?F:Kx({...typeof o=="object"?o:{},...F}));const X=D===void 0?void 0:U(D,Gx(d,C,T.header)),re=Gx(X===void 0||X instanceof FormData?{}:{"Content-Type":"application/json"},d,C,T.header),B=[...x,...K],G={redirect:"follow",...g,...O,body:X,headers:re};let ue,we,M=new j(tS(v,{baseUrl:Z,params:T,querySerializer:W}),G),A;for(const de in O)de in M||(M[de]=O[de]);if(B.length){ue=Yj(),we=Object.freeze({baseUrl:Z,fetch:N,parseAs:_,querySerializer:W,bodySerializer:U});for(const de of B)if(de&&typeof de=="object"&&typeof de.onRequest=="function"){const ae=await de.onRequest({request:M,schemaPath:v,params:T,options:we,id:ue});if(ae)if(ae instanceof j)M=ae;else if(ae instanceof Response){A=ae;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!A){try{A=await N(M,h)}catch(de){let ae=de;if(B.length)for(let k=B.length-1;k>=0;k--){const Q=B[k];if(Q&&typeof Q=="object"&&typeof Q.onError=="function"){const ce=await Q.onError({request:M,error:ae,schemaPath:v,params:T,options:we,id:ue});if(ce){if(ce instanceof Response){ae=void 0,A=ce;break}if(ce instanceof Error){ae=ce;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ae)throw ae}if(B.length)for(let de=B.length-1;de>=0;de--){const ae=B[de];if(ae&&typeof ae=="object"&&typeof ae.onResponse=="function"){const k=await ae.onResponse({request:M,response:A,schemaPath:v,params:T,options:we,id:ue});if(k){if(!(k instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");A=k}}}}if(A.status===204||M.method==="HEAD"||A.headers.get("Content-Length")==="0")return A.ok?{data:void 0,response:A}:{error:void 0,response:A};if(A.ok)return _==="stream"?{data:A.body,response:A}:{data:await A[_](),response:A};let se=await A.text();try{se=JSON.parse(se)}catch{}return{error:se,response:A}}return{request(v,w,E){return b(w,{...E,method:v.toUpperCase()})},GET(v,w){return b(v,{...w,method:"GET"})},PUT(v,w){return b(v,{...w,method:"PUT"})},POST(v,w){return b(v,{...w,method:"POST"})},DELETE(v,w){return b(v,{...w,method:"DELETE"})},OPTIONS(v,w){return b(v,{...w,method:"OPTIONS"})},HEAD(v,w){return b(v,{...w,method:"HEAD"})},PATCH(v,w){return b(v,{...w,method:"PATCH"})},TRACE(v,w){return b(v,{...w,method:"TRACE"})},use(...v){for(const w of v)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...v){for(const w of v){const E=x.indexOf(w);E!==-1&&x.splice(E,1)}}}}function Jc(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function ev(e,n,r){if(!n||typeof n!="object")return"";const i=[],o={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const h in n)i.push(h,r.allowReserved===!0?n[h]:encodeURIComponent(n[h]));const d=i.join(",");switch(r.style){case"form":return`${e}=${d}`;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return d}}for(const d in n){const h=r.style==="deepObject"?`${e}[${d}]`:d;i.push(Jc(h,n[d],r))}const u=i.join(o);return r.style==="label"||r.style==="matrix"?`${o}${u}`:u}function tv(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",d=(r.allowReserved===!0?n:n.map(h=>encodeURIComponent(h))).join(u);switch(r.style){case"simple":return d;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return`${e}=${d}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",o=[];for(const u of n)r.style==="simple"||r.style==="label"?o.push(r.allowReserved===!0?u:encodeURIComponent(u)):o.push(Jc(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${o.join(i)}`:o.join(i)}function Kx(e){return function(r){const i=[];if(r&&typeof r=="object")for(const o in r){const u=r[o];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(tv(o,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(ev(o,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Jc(o,u,e))}}return i.join("&")}}function Jj(e,n){let r=e;for(const i of e.match(Kj)??[]){let o=i.substring(1,i.length-1),u=!1,d="simple";if(o.endsWith("*")&&(u=!0,o=o.substring(0,o.length-1)),o.startsWith(".")?(d="label",o=o.substring(1)):o.startsWith(";")&&(d="matrix",o=o.substring(1)),!n||n[o]===void 0||n[o]===null)continue;const h=n[o];if(Array.isArray(h)){r=r.replace(i,tv(o,h,{style:d,explode:u}));continue}if(typeof h=="object"){r=r.replace(i,ev(o,h,{style:d,explode:u}));continue}if(d==="matrix"){r=r.replace(i,`;${Jc(o,h)}`);continue}r=r.replace(i,d==="label"?`.${encodeURIComponent(h)}`:encodeURIComponent(h))}return r}function eS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function tS(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=Jj(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function Gx(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[o,u]of i)if(u===null)n.delete(o);else if(Array.isArray(u))for(const d of u)n.append(o,d);else u!==void 0&&n.set(o,u)}return n}function Yx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const nS=["ade_csrf","backend_app_csrf"];function sS(){return nS}function rS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[o,...u]=i.trim().split("=");o&&n.set(o,decodeURIComponent(u.join("=")))}return n}function nv(){const e=rS();if(!e)return null;for(const n of sS()){const r=e.get(n);if(r)return r}return null}const sv=new Set(["GET","HEAD","OPTIONS","TRACE"]),aS="ade.auth.tokens",kf="",$c=kf.endsWith("/api/v1")?kf.slice(0,-7):kf;function Ri(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return $c.length>0?`${$c}${e}`:e}async function iS(e,n={}){const r=Ri(e),i=new Headers(n.headers??{});if(i.set("X-Requested-With","fetch"),!i.has("Authorization")){const d=rv();d&&i.set("Authorization",`${d.token_type} ${d.access_token}`)}const o=n.method?.toUpperCase()??"GET";if(!sv.has(o)){const d=nv();d&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",d)}return await fetch(r,{credentials:"include",...n,headers:i})}const Be=Xj({baseUrl:$c.length>0?$c:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),lS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!sv.has(n)){const r=nv();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},oS={onRequest({request:e}){if(!e.headers.has("Authorization")){const n=rv();n&&e.headers.set("Authorization",`${n.token_type} ${n.access_token}`)}return e}},cS={async onResponse({response:e}){if(e.ok)return e;const n=await uS(e),r=n?.title??`Request failed with status ${e.status}`;throw new qn(r,e.status,n)}};Be.use(lS);Be.use(oS);Be.use(cS);function rv(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(aS);if(!e)return null;const n=JSON.parse(e);if(n&&typeof n.access_token=="string")return{access_token:n.access_token,token_type:n.token_type??"bearer"}}catch{}return null}async function uS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Rs={root:["auth"],detail:()=>[...Rs.root,"session"],providers:()=>[...Rs.root,"providers"],setupStatus:()=>[...Rs.root,"setup-status"]},wh="ade.auth.tokens";let eo=dS();function dS(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(wh);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.access_token!="string"?null:{access_token:n.access_token,token_type:n.token_type??"bearer",expires_at:n.expires_at??null,refresh_expires_at:n.refresh_expires_at??null}}catch{return null}}function Xx(e,n){if(e){const r=Date.parse(e);if(!Number.isNaN(r))return r}return typeof n=="number"?Date.now()+n*1e3:null}function fS(e){const n={access_token:e.access_token,token_type:e.token_type??"bearer",expires_at:Xx(e.expires_at,e.expires_in),refresh_expires_at:Xx(e.refresh_expires_at,e.refresh_expires_in)};if(eo=n,typeof window<"u")try{window.localStorage.setItem(wh,JSON.stringify(n))}catch{}return n}function jh(){if(eo=null,typeof window<"u")try{window.localStorage.removeItem(wh)}catch{}}function hS(){return eo}function mS(e=eo){return e?.access_token?{Authorization:`${e.token_type?.trim()||"bearer"} ${e.access_token}`}:{}}function Jx(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toISOString()}function pS(e){const n=e.items.find(r=>r.is_default);return n?n.id:null}function e0(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function gS(e){return e?{...e,items:e.items??[]}:{items:[],page:1,page_size:0,total:0,has_next:!1,has_previous:!1}}async function av(e,n){const r="/api/v1/me/bootstrap";try{const{data:i}=await Be.GET(r,{signal:n,headers:mS(e),params:{query:{page:1,page_size:200,include_total:!1}}});return i??null}catch(i){if(i instanceof qn&&(i.status===401||i.status===403))return null;throw i}}function iv(e,n=eo,r=null,i=null){const o=e0(e.roles),u=e0(e.permissions),d=gS(e.workspaces);return{user:{...e.user,roles:o,permissions:u,preferred_workspace_id:pS(d)??null},workspaces:d,roles:o,permissions:u,expires_at:Jx(n?.expires_at??null),refresh_expires_at:Jx(n?.refresh_expires_at??null),return_to:r,state:i}}async function eu(e,n={}){const r=fS(e.session),i=await av(r,n.signal);if(!i)throw jh(),new Error("Unable to load session after authentication.");return iv(i,r,null,null)}async function xS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/providers",{signal:e.signal});return n?SS(n):{providers:[],force_sso:!1}}catch(n){if(n instanceof qn&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function bS(e={}){const n=hS(),r=await av(n,e.signal);return r?iv(r,n):(n&&jh(),null)}async function vS(e,n={}){const{data:r}=await Be.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload from login response.");return eu(r,n)}async function yS(e={}){const{data:n}=await Be.POST("/api/v1/auth/session/refresh",{body:void 0,signal:e.signal});if(!n)throw new Error("Expected session payload from refresh response.");return eu(n,e)}async function wS(e){const{code:n,state:r,provider:i="sso",signal:o}=e,{data:u}=await Be.GET("/api/v1/auth/sso/{provider}/callback",{signal:o,params:{path:{provider:i},query:{code:n,state:r}}});if(!u)throw new Error("Expected session payload from SSO callback.");return eu(u,{signal:o})}async function jS(e={}){try{await Be.DELETE("/api/v1/auth/session",{signal:e.signal,body:void 0})}catch(n){!(n instanceof qn)||n.status!==401&&n.status}finally{jh()}}function SS(e){return{providers:(e.providers??[]).map(ES),force_sso:!!e.force_sso}}function ES(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}const lv=p.createContext(void 0);function wc(e){return e instanceof Error?e:new Error(String(e))}function t0({session:e,refetch:n,children:r}){return _S(e,n),l.jsx(lv.Provider,{value:{session:e,refetch:n},children:r})}function NS(){const e=p.useContext(lv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function zi(){return NS().session}const CS=6e4;function _S(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const o=Date.now();if(i<=o){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",wc(x))});return}const u=Math.min(r,i)-CS,d=Math.max(u-o,0);let h=!1;const g=window.setTimeout(async()=>{try{if(await yS(),h)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",wc(x))})}catch(x){if(h)return;console.warn("Failed to refresh session",wc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",wc(b))})}},d);return()=>{h=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function ov(e={}){const n=ft(),r=zn({queryKey:Rs.detail(),queryFn:async({signal:o})=>{const u=await bS({signal:o});return u||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Rs.providers(),exact:!1})},[n,i]),{...r,session:i}}async function kS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/setup",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof qn&&n.status===404)return{requires_setup:!1,has_users:!0};throw n}}async function TS(e){const{data:n}=await Be.POST("/api/v1/auth/setup",{body:e});if(!n)throw new Error("Expected session payload from setup response.");return eu(n)}function Sh(e=!0){return zn({queryKey:Rs.setupStatus(),queryFn:({signal:n})=>kS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const to="/workspaces",AS=new Set(["/","/login","/setup","/logout"]);function DS(e){if(!e)return!0;const n=RS(e);return!!(AS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function MS(e){return`${e.pathname}${e.search}${e.hash}`}function n0(e){const n=MS(e)||"/";return qc(n)??to}function qc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?to:DS(n)?null:n}function Wl(e){return qc(e)??to}function cv(e){return dv("/login",e)}function uv(e){return dv("/setup",e)}function dv(e,n){const r=Wl(n),i=new URLSearchParams;r!==to&&i.set("redirectTo",r);const o=i.toString();return o?`${e}?${o}`:e}function Fc(e,n){const r=qc(e);if(r)return r;const i=qc(n);return i||to}function RS(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function tu({children:e}){const n=Fn(),r=It(),i=ov(),{session:o,isLoading:u,isError:d,refetch:h}=i,g=!o&&!u&&!d,{data:x,isPending:b,isError:v,isSuccess:w,refetch:E}=Sh(g);return p.useEffect(()=>{if(o||u||d)return;if(g){if(b||v)return;if(w&&x?.requires_setup){const j=n0(n);r(uv(j),{replace:!0});return}}const N=n0(n);r(cv(N),{replace:!0})},[d,u,v,b,w,n,r,o,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):d?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>h(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):o?e?l.jsx(t0,{session:o,refetch:h,children:e}):l.jsx(t0,{session:o,refetch:h,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&v?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const no=100,Eh=50;function nu(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,no)}async function fv(e,n={}){const{maxPages:r=50}=n,i=[];let o=[],u;for(let g=1;g<=r;g+=1){const x=await e(g);if(i.push(x),o=o.concat(x.items??[]),u===void 0&&x.total!==void 0&&(u=x.total??null),!x.has_next)break}const d=i.at(-1),h=i.at(0);if(!d||!h)throw new Error("No pages were returned while collecting pagination results.");return{...d,items:o,page:1,page_size:h.page_size,has_next:!1,has_previous:!1,total:u??d.total}}function Nh(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const o of e){const u=Array.isArray(o.items)?o.items:[];for(const d of u){const h=n(d),g=i.get(h);if(g===void 0){i.set(h,r.length),r.push(d);continue}r[g]=d}}return r},[e,n])}const hv=no,mv=Eh,pv=Eh,gv=Eh,zS="workspace",Dc={page:1,pageSize:hv,includeTotal:!1},OS={page:1,pageSize:mv,includeTotal:!1},LS={page:1,pageSize:pv,includeTotal:!1},US={scope:zS,page:1,pageSize:gv,includeTotal:!1},Zt={all:()=>["workspaces"],list:(e=Dc)=>[...Zt.all(),"list",{...e}],detail:e=>[...Zt.all(),"detail",e],members:(e,n=OS)=>[...Zt.detail(e),"members",{...n}],roles:(e,n=LS)=>[...Zt.detail(e),"roles",{...n}],permissions:(e=US)=>["permissions",{...e}]},Mc={page:Dc.page,pageSize:Dc.pageSize,includeTotal:Dc.includeTotal},xv="workspace";async function BS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:o}=e,u={};typeof n=="number"&&n>0&&(u.page=n);const d=nu(r??hv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Be.GET("/api/v1/workspaces",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace page payload.");const g=[...h.items].sort((x,b)=>x.name.localeCompare(b.name));return{...h,items:g}}async function $S(e){const{data:n}=await Be.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function qS(e,n){const{data:r}=await Be.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function FS(e){await Be.DELETE("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}}})}async function HS(e,n={}){const{page:r,pageSize:i,includeTotal:o,signal:u}=n,d={};typeof r=="number"&&r>0&&(d.page=r);const h=nu(i??mv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:d},signal:u});if(!g)throw new Error("Expected workspace member page payload.");return g}async function ZS(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function IS(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function VS(e,n){await Be.DELETE("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}}})}async function QS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:o}=e,u={scope:xv};typeof n=="number"&&n>0&&(u.page=n);const d=nu(r??pv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Be.GET("/api/v1/rbac/roles",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace role page payload.");return h}async function WS(e,n){const{data:r}=await Be.POST("/api/v1/rbac/roles",{body:n});if(!r)throw new Error("Expected role payload.");return r}async function PS(e,n,r){const{data:i}=await Be.PATCH("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function KS(e,n){await Be.DELETE("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}}})}async function GS(e={}){const{scope:n=xv,page:r,pageSize:i,includeTotal:o,signal:u}=e,d={scope:n};typeof r=="number"&&r>0&&(d.page=r);const h=nu(i??gv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/rbac/permissions",{params:{query:d},signal:u});if(!g)throw new Error("Expected permission page payload.");return g}const YS="/api/v1/workspaces/{workspace_id}/default";async function XS(e){await Be.PUT(YS,{params:{path:{workspace_id:e}}})}function JS(){const e=ft();return sn({mutationFn:$S,onSuccess(n){e.setQueryData(Zt.detail(n.id),n),e.getQueriesData({queryKey:Zt.all()}).forEach(([r,i])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!i)return;const o=i.items.findIndex(g=>g.id===n.id),d=[...o>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),h=typeof i.total=="number"&&o===-1?i.total+1:i.total;e.setQueryData(r,{...i,items:d,total:h})}),e.invalidateQueries({queryKey:Zt.all()})}})}function eE(e,n){if(!e||typeof e!="object")return e;if("items"in e){const r=e;if(!Array.isArray(r.items))return e;const i=r.items.map(o=>({...o,is_default:o.id===n}));return{...r,items:i}}if("id"in e&&"is_default"in e){const r=e;return{...r,is_default:r.id===n}}return e}function bv(){const e=ft();return sn({mutationFn:n=>XS(n),onSuccess:(n,r)=>{e.setQueriesData({queryKey:Zt.all()},i=>eE(i,r))}})}function tE(e){const n=ft();return sn({mutationFn:r=>qS(e,r),onSuccess:r=>{n.setQueryData(Zt.detail(r.id),r),n.getQueriesData({queryKey:Zt.all()}).forEach(([i,o])=>{if(!Array.isArray(i)||i[0]!=="workspaces"||i[1]!=="list"||!o)return;const d=[...o.items.map(h=>h.id===r.id?r:h)].sort((h,g)=>h.name.localeCompare(g.name));n.setQueryData(i,{...o,items:d})})}})}function nE(e={}){const n=e.page??Mc.page,r=e.pageSize??Mc.pageSize,i=e.includeTotal??Mc.includeTotal;return{queryKey:Zt.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:o})=>BS({page:n,pageSize:r,includeTotal:i,signal:o}),staleTime:6e4,enabled:e.enabled??!0}}function Ch(e={}){const n=ft(),r=nE(e),i=n.getQueryData(r.queryKey);return zn({...r,initialData:i})}const sE="documents";function _h(e){return`/workspaces/${e}/${sE}`}function Tf(e){return e instanceof Error?e:new Error(String(e))}function Ps(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",Tf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",Tf(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",Tf(n))}}}}const rE="backend.app.active_workspace",Yf=Ps(rE);function aE(){return Yf.get()}function vv(e){if(!e){Yf.clear();return}Yf.set(e)}function yv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=yv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function me(){for(var e,n,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=yv(e))&&(i&&(i+=" "),i+=n);return i}const iE={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},lE={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},_e=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:o,children:u,disabled:d,...h},g)=>{const x=d||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:me("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",iE[n],lE[r],o),...h,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});_e.displayName="Button";const oE={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function dt({title:e,description:n,action:r,variant:i="empty",className:o}){return l.jsxs("div",{className:me("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",o),children:[l.jsx("span",{"aria-hidden":"true",className:me("mb-4 h-8 w-8 rounded-full border-current",oE[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?l.jsx("div",{className:"mt-4",children:r}):null]})}function cE(){return l.jsx(tu,{children:l.jsx(uE,{})})}function uE(){const e=Fn(),n=It(),r=zi(),i=Ch(),o=i.data?.items??[],h=[aE(),r.user.preferred_workspace_id].filter(g=>!!g).map(g=>o.find(x=>x.id===g)).find(g=>!!g)??o[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!h){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=_h(h.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,h,i.isError,i.isLoading]),i.isLoading?l.jsx(dt,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(dt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function ve(e,n,r){function i(h,g){var x;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(x=h._zod).traits??(x.traits=new Set),h._zod.traits.add(e),n(h,g);for(const b in d.prototype)b in h||Object.defineProperty(h,b,{value:d.prototype[b].bind(h)});h._zod.constr=d,h._zod.def=g}const o=r?.Parent??Object;class u extends o{}Object.defineProperty(u,"name",{value:e});function d(h){var g;const x=r?.Parent?new u:this;i(x,h),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class _i extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class wv extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const jv={};function ka(e){return jv}function dE(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,o])=>n.indexOf(+i)===-1).map(([i,o])=>o)}function Xf(e,n){return typeof n=="bigint"?n.toString():n}function kh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Th(e){return e==null}function Ah(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}const s0=Symbol("evaluating");function Ct(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==s0)return i===void 0&&(i=s0,i=r()),i},set(o){Object.defineProperty(e,n,{value:o})},configurable:!0})}function Aa(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Da(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function r0(e){return JSON.stringify(e)}const Sv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Hc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fE=kh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Pl(e){if(Hc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(Hc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Ev(e){return Pl(e)?{...e}:Array.isArray(e)?[...e]:e}const hE=new Set(["string","number","symbol"]);function su(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xr(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Fe(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function mE(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function pE(e,n){const r=e._zod.def,i=Da(e._zod.def,{get shape(){const o={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=r.shape[u])}return Aa(this,"shape",o),o},checks:[]});return Xr(e,i)}function gE(e,n){const r=e._zod.def,i=Da(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete o[u]}return Aa(this,"shape",o),o},checks:[]});return Xr(e,i)}function xE(e,n){if(!Pl(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Da(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Aa(this,"shape",u),u},checks:[]});return Xr(e,o)}function bE(e,n){if(!Pl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Aa(this,"shape",i),i},checks:e._zod.def.checks};return Xr(e,r)}function vE(e,n){const r=Da(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Aa(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Xr(e,r)}function yE(e,n,r){const i=Da(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(r)for(const d in r){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)u[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return Aa(this,"shape",u),u},checks:[]});return Xr(n,i)}function wE(e,n,r){const i=Da(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new e({type:"nonoptional",innerType:o[d]}))}else for(const d in o)u[d]=new e({type:"nonoptional",innerType:o[d]});return Aa(this,"shape",u),u},checks:[]});return Xr(n,i)}function Ci(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Nv(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function jc(e){return typeof e=="string"?e:e?.message}function Ta(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const o=jc(e.inst?._zod.def?.error?.(e))??jc(n?.error?.(e))??jc(r.customError?.(e))??jc(r.localeError?.(e))??"Invalid input";i.message=o}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Dh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Kl(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const Cv=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Xf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Mh=ve("$ZodError",Cv),ru=ve("$ZodError",Cv,{Parent:Error});function jE(e,n=r=>r.message){const r={},i=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:r}}function SE(e,n=r=>r.message){const r={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let d=r,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(u))):d[g]=d[g]||{_errors:[]},d=d[g],h++}}};return i(e),r}const au=e=>(n,r,i,o)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new _i;if(d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>Ta(g,u,ka())));throw Sv(h,o?.callee),h}return d.value},EE=au(ru),iu=e=>async(n,r,i,o)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>Ta(g,u,ka())));throw Sv(h,o?.callee),h}return d.value},NE=iu(ru),lu=e=>(n,r,i)=>{const o=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},o);if(u instanceof Promise)throw new _i;return u.issues.length?{success:!1,error:new(e??Mh)(u.issues.map(d=>Ta(d,o,ka())))}:{success:!0,data:u.value}},CE=lu(ru),ou=e=>async(n,r,i)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},o);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>Ta(d,o,ka())))}:{success:!0,data:u.value}},_E=ou(ru),kE=e=>(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return au(e)(n,r,o)},TE=e=>(n,r,i)=>au(e)(n,r,i),AE=e=>async(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return iu(e)(n,r,o)},DE=e=>async(n,r,i)=>iu(e)(n,r,i),ME=e=>(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return lu(e)(n,r,o)},RE=e=>(n,r,i)=>lu(e)(n,r,i),zE=e=>async(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ou(e)(n,r,o)},OE=e=>async(n,r,i)=>ou(e)(n,r,i),LE=/^[cC][^\s-]{8,}$/,UE=/^[0-9a-z]+$/,BE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$E=/^[0-9a-vA-V]{20}$/,qE=/^[A-Za-z0-9]{27}$/,FE=/^[a-zA-Z0-9_-]{21}$/,HE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ZE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,VE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function QE(){return new RegExp(VE,"u")}const WE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,KE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,GE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_v=/^[A-Za-z0-9_-]*$/,XE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,JE=/^\+(?:[0-9]){6,14}[0-9]$/,kv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",eN=new RegExp(`^${kv}$`);function Tv(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tN(e){return new RegExp(`^${Tv(e)}$`)}function nN(e){const n=Tv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${kv}T(?:${i})$`)}const sN=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},rN=/^[^A-Z]*$/,aN=/^[^a-z]*$/,Gs=ve("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),iN=ve("$ZodCheckMaxLength",(e,n)=>{var r;Gs.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const o=i.value;if(o.length<=n.maximum)return;const d=Dh(o);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),lN=ve("$ZodCheckMinLength",(e,n)=>{var r;Gs.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const o=i.value;if(o.length>=n.minimum)return;const d=Dh(o);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),oN=ve("$ZodCheckLengthEquals",(e,n)=>{var r;Gs.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),e._zod.check=i=>{const o=i.value,u=o.length;if(u===n.length)return;const d=Dh(o),h=u>n.length;i.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),cu=ve("$ZodCheckStringFormat",(e,n)=>{var r,i;Gs.init(e,n),e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),cN=ve("$ZodCheckRegex",(e,n)=>{cu.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),uN=ve("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=rN),cu.init(e,n)}),dN=ve("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=aN),cu.init(e,n)}),fN=ve("$ZodCheckIncludes",(e,n)=>{Gs.init(e,n);const r=su(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(o=>{const u=o._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:e,continue:!n.abort})}}),hN=ve("$ZodCheckStartsWith",(e,n)=>{Gs.init(e,n);const r=new RegExp(`^${su(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),mN=ve("$ZodCheckEndsWith",(e,n)=>{Gs.init(e,n);const r=new RegExp(`.*${su(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),pN=ve("$ZodCheckOverwrite",(e,n)=>{Gs.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class gN{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),o=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(o)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,o=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,o.join(`
`))}}const xN={major:4,minor:1,patch:12},un=ve("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=xN;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const u of o._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,h,g)=>{let x=Ci(d),b;for(const v of h){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(x)continue;const w=d.issues.length,E=v._zod.check(d);if(E instanceof Promise&&g?.async===!1)throw new _i;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,d.issues.length!==w&&(x||(x=Ci(d,w)))});else{if(d.issues.length===w)continue;x||(x=Ci(d,w))}}return b?b.then(()=>d):d},u=(d,h,g)=>{if(Ci(d))return d.aborted=!0,d;const x=o(h,i,g);if(x instanceof Promise){if(g.async===!1)throw new _i;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(d,h)=>{if(h.skipChecks)return e._zod.parse(d,h);if(h.direction==="backward"){const x=e._zod.parse({value:d.value,issues:[]},{...h,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,d,h)):u(x,d,h)}const g=e._zod.parse(d,h);if(g instanceof Promise){if(h.async===!1)throw new _i;return g.then(x=>o(x,i,h))}return o(g,i,h)}}e["~standard"]={validate:o=>{try{const u=CE(e,o);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return _E(e,o).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),Rh=ve("$ZodString",(e,n)=>{un.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??sN(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Lt=ve("$ZodStringFormat",(e,n)=>{cu.init(e,n),Rh.init(e,n)}),bN=ve("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=ZE),Lt.init(e,n)}),vN=ve("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=a0(i))}else n.pattern??(n.pattern=a0());Lt.init(e,n)}),yN=ve("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=IE),Lt.init(e,n)}),wN=ve("$ZodURL",(e,n)=>{Lt.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),o=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:XE.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=o.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),jN=ve("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=QE()),Lt.init(e,n)}),SN=ve("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=FE),Lt.init(e,n)}),EN=ve("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=LE),Lt.init(e,n)}),NN=ve("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=UE),Lt.init(e,n)}),CN=ve("$ZodULID",(e,n)=>{n.pattern??(n.pattern=BE),Lt.init(e,n)}),_N=ve("$ZodXID",(e,n)=>{n.pattern??(n.pattern=$E),Lt.init(e,n)}),kN=ve("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=qE),Lt.init(e,n)}),TN=ve("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=nN(n)),Lt.init(e,n)}),AN=ve("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=eN),Lt.init(e,n)}),DN=ve("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=tN(n)),Lt.init(e,n)}),MN=ve("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=HE),Lt.init(e,n)}),RN=ve("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=WE),Lt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),zN=ve("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=PE),Lt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),ON=ve("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=KE),Lt.init(e,n)}),LN=ve("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=GE),Lt.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[o,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function Av(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const UN=ve("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=YE),Lt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Av(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function BN(e){if(!_v.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return Av(r)}const $N=ve("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=_v),Lt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{BN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),qN=ve("$ZodE164",(e,n)=>{n.pattern??(n.pattern=JE),Lt.init(e,n)});function FN(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const o=JSON.parse(atob(i));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const HN=ve("$ZodJWT",(e,n)=>{Lt.init(e,n),e._zod.check=r=>{FN(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),ZN=ve("$ZodUnknown",(e,n)=>{un.init(e,n),e._zod.parse=r=>r}),IN=ve("$ZodNever",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function i0(e,n,r){e.issues.length&&n.issues.push(...Nv(r,e.issues)),n.value[r]=e.value}const VN=ve("$ZodArray",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const u=[];for(let d=0;d<o.length;d++){const h=o[d],g=n.element._zod.run({value:h,issues:[]},i);g instanceof Promise?u.push(g.then(x=>i0(x,r,d))):i0(g,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function Zc(e,n,r,i){e.issues.length&&n.issues.push(...Nv(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function Dv(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=mE(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function Mv(e,n,r,i,o,u){const d=[],h=o.keySet,g=o.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(h.has(b))continue;if(x==="never"){d.push(b);continue}const v=g.run({value:n[b],issues:[]},i);v instanceof Promise?e.push(v.then(w=>Zc(w,r,b,n))):Zc(v,r,b,n)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const QN=ve("$ZodObject",(e,n)=>{if(un.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const h=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...h};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=kh(()=>Dv(n));Ct(e._zod,"propValues",()=>{const h=n.shape,g={};for(const x in h){const b=h[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const v of b.values)g[x].add(v)}}return g});const o=Hc,u=n.catchall;let d;e._zod.parse=(h,g)=>{d??(d=i.value);const x=h.value;if(!o(x))return h.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),h;h.value={};const b=[],v=d.shape;for(const w of d.keys){const N=v[w]._zod.run({value:x[w],issues:[]},g);N instanceof Promise?b.push(N.then(j=>Zc(j,h,w,x))):Zc(N,h,w,x)}return u?Mv(b,x,h,g,i.value,e):b.length?Promise.all(b).then(()=>h):h}}),WN=ve("$ZodObjectJIT",(e,n)=>{QN.init(e,n);const r=e._zod.parse,i=kh(()=>Dv(n)),o=w=>{const E=new gN(["shape","payload","ctx"]),N=i.value,j=F=>{const U=r0(F);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};E.write("const input = payload.value;");const C=Object.create(null);let T=0;for(const F of N.keys)C[F]=`key_${T++}`;E.write("const newResult = {};");for(const F of N.keys){const U=C[F],D=r0(F);E.write(`const ${U} = ${j(F)};`),E.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${U}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const _=E.compile();return(F,U)=>_(w,F,U)};let u;const d=Hc,h=!jv.jitless,x=h&&fE.value,b=n.catchall;let v;e._zod.parse=(w,E)=>{v??(v=i.value);const N=w.value;return d(N)?h&&x&&E?.async===!1&&E.jitless!==!0?(u||(u=o(n.shape)),w=u(w,E),b?Mv([],N,w,E,v,e):w):r(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:N,inst:e}),w)}});function l0(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const o=e.filter(u=>!Ci(u));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(d=>Ta(d,i,ka())))}),n)}const PN=ve("$ZodUnion",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Ct(e._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Ct(e._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),Ct(e._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${o.map(u=>Ah(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(o,u)=>{if(r)return i(o,u);let d=!1;const h=[];for(const g of n.options){const x=g._zod.run({value:o.value,issues:[]},u);if(x instanceof Promise)h.push(x),d=!0;else{if(x.issues.length===0)return x;h.push(x)}}return d?Promise.all(h).then(g=>l0(g,o,e,u)):l0(h,o,e,u)}}),KN=ve("$ZodIntersection",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{const o=r.value,u=n.left._zod.run({value:o,issues:[]},i),d=n.right._zod.run({value:o,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([g,x])=>o0(r,g,x)):o0(r,u,d)}});function Jf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Pl(e)&&Pl(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),o={...e,...n};for(const u of i){const d=Jf(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};o[u]=d.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const o=e[i],u=n[i],d=Jf(o,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function o0(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Ci(e))return e;const i=Jf(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const GN=ve("$ZodEnum",(e,n)=>{un.init(e,n);const r=dE(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(o=>hE.has(typeof o)).map(o=>typeof o=="string"?su(o):o.toString()).join("|")})$`),e._zod.parse=(o,u)=>{const d=o.value;return i.has(d)||o.issues.push({code:"invalid_value",values:r,input:d,inst:e}),o}}),YN=ve("$ZodTransform",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new wv(e.constructor.name);const o=n.transform(r.value,r);if(i.async)return(o instanceof Promise?o:Promise.resolve(o)).then(d=>(r.value=d,r));if(o instanceof Promise)throw new _i;return r.value=o,r}});function c0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const XN=ve("$ZodOptional",(e,n)=>{un.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Ct(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Ct(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ah(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>c0(u,r.value)):c0(o,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),JN=ve("$ZodNullable",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),Ct(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ah(r.source)}|null)$`):void 0}),Ct(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),eC=ve("$ZodDefault",(e,n)=>{un.init(e,n),e._zod.optin="optional",Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>u0(u,n)):u0(o,n)}});function u0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const tC=ve("$ZodPrefault",(e,n)=>{un.init(e,n),e._zod.optin="optional",Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),nC=ve("$ZodNonOptional",(e,n)=>{un.init(e,n),Ct(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>d0(u,e)):d0(o,e)}});function d0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const sC=ve("$ZodCatch",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>Ta(d,i,ka()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=n.catchValue({...r,error:{issues:o.issues.map(u=>Ta(u,i,ka()))},input:r.value}),r.issues=[]),r)}}),rC=ve("$ZodPipe",(e,n)=>{un.init(e,n),Ct(e._zod,"values",()=>n.in._zod.values),Ct(e._zod,"optin",()=>n.in._zod.optin),Ct(e._zod,"optout",()=>n.out._zod.optout),Ct(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(d=>Sc(d,n.in,i)):Sc(u,n.in,i)}const o=n.in._zod.run(r,i);return o instanceof Promise?o.then(u=>Sc(u,n.out,i)):Sc(o,n.out,i)}});function Sc(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const aC=ve("$ZodReadonly",(e,n)=>{un.init(e,n),Ct(e._zod,"propValues",()=>n.innerType._zod.propValues),Ct(e._zod,"values",()=>n.innerType._zod.values),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(f0):f0(o)}});function f0(e){return e.value=Object.freeze(e.value),e}const iC=ve("$ZodCustom",(e,n)=>{Gs.init(e,n),un.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,o=n.fn(i);if(o instanceof Promise)return o.then(u=>h0(u,r,i,e));h0(o,r,i,e)}});function h0(e,n,r,i){if(!e){const o={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(o.params=i._zod.def.params),n.issues.push(Kl(o))}}class lC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const o={...i,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function oC(){return new lC}const Ec=oC();function cC(e,n){return new e({type:"string",...Fe(n)})}function uC(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Fe(n)})}function m0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(n)})}function dC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(n)})}function fC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(n)})}function hC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(n)})}function mC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(n)})}function pC(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Fe(n)})}function gC(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(n)})}function xC(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(n)})}function bC(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(n)})}function vC(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(n)})}function yC(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(n)})}function wC(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(n)})}function jC(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(n)})}function SC(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(n)})}function EC(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(n)})}function NC(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(n)})}function CC(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(n)})}function _C(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(n)})}function kC(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(n)})}function TC(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(n)})}function AC(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(n)})}function DC(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(n)})}function MC(e,n){return new e({type:"string",format:"date",check:"string_format",...Fe(n)})}function RC(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Fe(n)})}function zC(e,n){return new e({type:"string",format:"duration",check:"string_format",...Fe(n)})}function OC(e){return new e({type:"unknown"})}function LC(e,n){return new e({type:"never",...Fe(n)})}function Rv(e,n){return new iN({check:"max_length",...Fe(n),maximum:e})}function Ic(e,n){return new lN({check:"min_length",...Fe(n),minimum:e})}function zv(e,n){return new oN({check:"length_equals",...Fe(n),length:e})}function UC(e,n){return new cN({check:"string_format",format:"regex",...Fe(n),pattern:e})}function BC(e){return new uN({check:"string_format",format:"lowercase",...Fe(e)})}function $C(e){return new dN({check:"string_format",format:"uppercase",...Fe(e)})}function qC(e,n){return new fN({check:"string_format",format:"includes",...Fe(n),includes:e})}function FC(e,n){return new hN({check:"string_format",format:"starts_with",...Fe(n),prefix:e})}function HC(e,n){return new mN({check:"string_format",format:"ends_with",...Fe(n),suffix:e})}function so(e){return new pN({check:"overwrite",tx:e})}function ZC(e){return so(n=>n.normalize(e))}function IC(){return so(e=>e.trim())}function VC(){return so(e=>e.toLowerCase())}function QC(){return so(e=>e.toUpperCase())}function WC(e,n,r){return new e({type:"array",element:n,...Fe(r)})}function PC(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Fe(r)})}function KC(e){const n=GC(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Kl(i,r.value,n._zod.def));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),r.issues.push(Kl(o))}},e(r.value,r)));return n}function GC(e,n){const r=new Gs({check:"custom",...Fe(n)});return r._zod.check=e,r}const YC=ve("ZodISODateTime",(e,n)=>{TN.init(e,n),$t.init(e,n)});function XC(e){return DC(YC,e)}const JC=ve("ZodISODate",(e,n)=>{AN.init(e,n),$t.init(e,n)});function e_(e){return MC(JC,e)}const t_=ve("ZodISOTime",(e,n)=>{DN.init(e,n),$t.init(e,n)});function n_(e){return RC(t_,e)}const s_=ve("ZodISODuration",(e,n)=>{MN.init(e,n),$t.init(e,n)});function r_(e){return zC(s_,e)}const a_=(e,n)=>{Mh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>SE(e,r)},flatten:{value:r=>jE(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Xf,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Xf,2)}},isEmpty:{get(){return e.issues.length===0}}})},ws=ve("ZodError",a_,{Parent:Error}),i_=au(ws),l_=iu(ws),o_=lu(ws),c_=ou(ws),u_=kE(ws),d_=TE(ws),f_=AE(ws),h_=DE(ws),m_=ME(ws),p_=RE(ws),g_=zE(ws),x_=OE(ws),xn=ve("ZodType",(e,n)=>(un.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(Da(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>Xr(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>i_(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>o_(e,r,i),e.parseAsync=async(r,i)=>l_(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>c_(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>u_(e,r,i),e.decode=(r,i)=>d_(e,r,i),e.encodeAsync=async(r,i)=>f_(e,r,i),e.decodeAsync=async(r,i)=>h_(e,r,i),e.safeEncode=(r,i)=>m_(e,r,i),e.safeDecode=(r,i)=>p_(e,r,i),e.safeEncodeAsync=async(r,i)=>g_(e,r,i),e.safeDecodeAsync=async(r,i)=>x_(e,r,i),e.refine=(r,i)=>e.check(lk(r,i)),e.superRefine=r=>e.check(ok(r)),e.overwrite=r=>e.check(so(r)),e.optional=()=>x0(e),e.nullable=()=>b0(e),e.nullish=()=>x0(b0(e)),e.nonoptional=r=>ek(e,r),e.array=()=>q_(e),e.or=r=>Z_([e,r]),e.and=r=>V_(e,r),e.transform=r=>v0(e,P_(r)),e.default=r=>Y_(e,r),e.prefault=r=>J_(e,r),e.catch=r=>nk(e,r),e.pipe=r=>v0(e,r),e.readonly=()=>ak(e),e.describe=r=>{const i=e.clone();return Ec.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return Ec.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Ec.get(e);const i=e.clone();return Ec.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Ov=ve("_ZodString",(e,n)=>{Rh.init(e,n),xn.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(UC(...i)),e.includes=(...i)=>e.check(qC(...i)),e.startsWith=(...i)=>e.check(FC(...i)),e.endsWith=(...i)=>e.check(HC(...i)),e.min=(...i)=>e.check(Ic(...i)),e.max=(...i)=>e.check(Rv(...i)),e.length=(...i)=>e.check(zv(...i)),e.nonempty=(...i)=>e.check(Ic(1,...i)),e.lowercase=i=>e.check(BC(i)),e.uppercase=i=>e.check($C(i)),e.trim=()=>e.check(IC()),e.normalize=(...i)=>e.check(ZC(...i)),e.toLowerCase=()=>e.check(VC()),e.toUpperCase=()=>e.check(QC())}),b_=ve("ZodString",(e,n)=>{Rh.init(e,n),Ov.init(e,n),e.email=r=>e.check(uC(v_,r)),e.url=r=>e.check(pC(y_,r)),e.jwt=r=>e.check(AC(O_,r)),e.emoji=r=>e.check(gC(w_,r)),e.guid=r=>e.check(m0(p0,r)),e.uuid=r=>e.check(dC(Nc,r)),e.uuidv4=r=>e.check(fC(Nc,r)),e.uuidv6=r=>e.check(hC(Nc,r)),e.uuidv7=r=>e.check(mC(Nc,r)),e.nanoid=r=>e.check(xC(j_,r)),e.guid=r=>e.check(m0(p0,r)),e.cuid=r=>e.check(bC(S_,r)),e.cuid2=r=>e.check(vC(E_,r)),e.ulid=r=>e.check(yC(N_,r)),e.base64=r=>e.check(_C(M_,r)),e.base64url=r=>e.check(kC(R_,r)),e.xid=r=>e.check(wC(C_,r)),e.ksuid=r=>e.check(jC(__,r)),e.ipv4=r=>e.check(SC(k_,r)),e.ipv6=r=>e.check(EC(T_,r)),e.cidrv4=r=>e.check(NC(A_,r)),e.cidrv6=r=>e.check(CC(D_,r)),e.e164=r=>e.check(TC(z_,r)),e.datetime=r=>e.check(XC(r)),e.date=r=>e.check(e_(r)),e.time=r=>e.check(n_(r)),e.duration=r=>e.check(r_(r))});function Ms(e){return cC(b_,e)}const $t=ve("ZodStringFormat",(e,n)=>{Lt.init(e,n),Ov.init(e,n)}),v_=ve("ZodEmail",(e,n)=>{yN.init(e,n),$t.init(e,n)}),p0=ve("ZodGUID",(e,n)=>{bN.init(e,n),$t.init(e,n)}),Nc=ve("ZodUUID",(e,n)=>{vN.init(e,n),$t.init(e,n)}),y_=ve("ZodURL",(e,n)=>{wN.init(e,n),$t.init(e,n)}),w_=ve("ZodEmoji",(e,n)=>{jN.init(e,n),$t.init(e,n)}),j_=ve("ZodNanoID",(e,n)=>{SN.init(e,n),$t.init(e,n)}),S_=ve("ZodCUID",(e,n)=>{EN.init(e,n),$t.init(e,n)}),E_=ve("ZodCUID2",(e,n)=>{NN.init(e,n),$t.init(e,n)}),N_=ve("ZodULID",(e,n)=>{CN.init(e,n),$t.init(e,n)}),C_=ve("ZodXID",(e,n)=>{_N.init(e,n),$t.init(e,n)}),__=ve("ZodKSUID",(e,n)=>{kN.init(e,n),$t.init(e,n)}),k_=ve("ZodIPv4",(e,n)=>{RN.init(e,n),$t.init(e,n)}),T_=ve("ZodIPv6",(e,n)=>{zN.init(e,n),$t.init(e,n)}),A_=ve("ZodCIDRv4",(e,n)=>{ON.init(e,n),$t.init(e,n)}),D_=ve("ZodCIDRv6",(e,n)=>{LN.init(e,n),$t.init(e,n)}),M_=ve("ZodBase64",(e,n)=>{UN.init(e,n),$t.init(e,n)}),R_=ve("ZodBase64URL",(e,n)=>{$N.init(e,n),$t.init(e,n)}),z_=ve("ZodE164",(e,n)=>{qN.init(e,n),$t.init(e,n)}),O_=ve("ZodJWT",(e,n)=>{HN.init(e,n),$t.init(e,n)}),L_=ve("ZodUnknown",(e,n)=>{ZN.init(e,n),xn.init(e,n)});function g0(){return OC(L_)}const U_=ve("ZodNever",(e,n)=>{IN.init(e,n),xn.init(e,n)});function B_(e){return LC(U_,e)}const $_=ve("ZodArray",(e,n)=>{VN.init(e,n),xn.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(Ic(r,i)),e.nonempty=r=>e.check(Ic(1,r)),e.max=(r,i)=>e.check(Rv(r,i)),e.length=(r,i)=>e.check(zv(r,i)),e.unwrap=()=>e.element});function q_(e,n){return WC($_,e,n)}const F_=ve("ZodObject",(e,n)=>{WN.init(e,n),xn.init(e,n),Ct(e,"shape",()=>n.shape),e.keyof=()=>Q_(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:g0()}),e.loose=()=>e.clone({...e._zod.def,catchall:g0()}),e.strict=()=>e.clone({...e._zod.def,catchall:B_()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>xE(e,r),e.safeExtend=r=>bE(e,r),e.merge=r=>vE(e,r),e.pick=r=>pE(e,r),e.omit=r=>gE(e,r),e.partial=(...r)=>yE(Lv,e,r[0]),e.required=(...r)=>wE(Uv,e,r[0])});function uu(e,n){const r={type:"object",shape:e??{},...Fe(n)};return new F_(r)}const H_=ve("ZodUnion",(e,n)=>{PN.init(e,n),xn.init(e,n),e.options=n.options});function Z_(e,n){return new H_({type:"union",options:e,...Fe(n)})}const I_=ve("ZodIntersection",(e,n)=>{KN.init(e,n),xn.init(e,n)});function V_(e,n){return new I_({type:"intersection",left:e,right:n})}const eh=ve("ZodEnum",(e,n)=>{GN.init(e,n),xn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,o)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new eh({...n,checks:[],...Fe(o),entries:u})},e.exclude=(i,o)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new eh({...n,checks:[],...Fe(o),entries:u})}});function Q_(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new eh({type:"enum",entries:r,...Fe(n)})}const W_=ve("ZodTransform",(e,n)=>{YN.init(e,n),xn.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new wv(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(Kl(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=e),r.issues.push(Kl(d))}};const o=n.transform(r.value,r);return o instanceof Promise?o.then(u=>(r.value=u,r)):(r.value=o,r)}});function P_(e){return new W_({type:"transform",transform:e})}const Lv=ve("ZodOptional",(e,n)=>{XN.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function x0(e){return new Lv({type:"optional",innerType:e})}const K_=ve("ZodNullable",(e,n)=>{JN.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function b0(e){return new K_({type:"nullable",innerType:e})}const G_=ve("ZodDefault",(e,n)=>{eC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Y_(e,n){return new G_({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Ev(n)}})}const X_=ve("ZodPrefault",(e,n)=>{tC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function J_(e,n){return new X_({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Ev(n)}})}const Uv=ve("ZodNonOptional",(e,n)=>{nC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function ek(e,n){return new Uv({type:"nonoptional",innerType:e,...Fe(n)})}const tk=ve("ZodCatch",(e,n)=>{sC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function nk(e,n){return new tk({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const sk=ve("ZodPipe",(e,n)=>{rC.init(e,n),xn.init(e,n),e.in=n.in,e.out=n.out});function v0(e,n){return new sk({type:"pipe",in:e,out:n})}const rk=ve("ZodReadonly",(e,n)=>{aC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function ak(e){return new rk({type:"readonly",innerType:e})}const ik=ve("ZodCustom",(e,n)=>{iC.init(e,n),xn.init(e,n)});function lk(e,n={}){return PC(ik,e,n)}function ok(e){return KC(e)}function ck(){return zn({queryKey:Rs.providers(),queryFn:({signal:e})=>xS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const uk={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function nt({tone:e="info",heading:n,icon:r,className:i,children:o,...u}){return l.jsxs("div",{role:"status",className:me("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",uk[e],i),...u,children:[r?l.jsx("span",{"aria-hidden":"true",children:r}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,o?l.jsx("p",{className:"leading-relaxed",children:o}):null]})]})}function yt({label:e,hint:n,error:r,required:i=!1,children:o,className:u}){const d=p.useId(),h=p.isValidElement(o)?o.props??{}:{},g=h.id??d,x=n?`${g}-hint`:void 0,b=r?`${g}-error`:void 0,v=[x,b,h["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:me("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(o)?p.cloneElement(o,{id:g,required:i||h.required,"aria-describedby":v,"aria-invalid":r?!0:h["aria-invalid"]}):o,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,r?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const Bv="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",pt=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>l.jsx("input",{ref:i,className:me(Bv,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));pt.displayName="Input";const dk=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},o)=>l.jsx("textarea",{ref:o,rows:r,className:me(Bv,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));dk.displayName="TextArea";const fk=uu({email:Ms().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:Ms().min(1,"Enter your password.")});function hk(){const e=Fn(),n=It(),r=ft(),i=ov(),{session:o,isLoading:u,isError:d}=i,h=!o&&!u&&!d,g=Sh(h),x=ck(),b=x.data?.providers??[],v=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const D=new URLSearchParams(e.search);return Wl(D.get("redirectTo"))},[e.search]);p.useEffect(()=>{o&&n(Fc(o.return_to,E),{replace:!0})},[n,E,o]),p.useEffect(()=>{h&&(g.isPending||g.isError||g.data?.requires_setup&&n(uv(E),{replace:!0}))},[n,E,g.data?.requires_setup,g.isError,g.isPending,h]);const[N,j]=p.useState(null),[C,T]=p.useState(!1);if(p.useEffect(()=>{j(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(d)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&h)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&h)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(_e,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const _=async D=>{D.preventDefault(),j(null);const K=new FormData(D.currentTarget),O=Object.fromEntries(K.entries()),Z=fk.safeParse(O);if(!Z.success){const G=Z.error.issues[0]?.message??"Invalid input.";j(G);return}const{email:W,password:X}=Z.data,re=typeof O.redirectTo=="string"?O.redirectTo:null,B=Wl(re);T(!0);try{const G=await vS({email:W,password:X});r.setQueryData(Rs.detail(),G),n(Fc(G.return_to,B),{replace:!0})}catch(G){if(G instanceof qn){const ue=G.problem?.detail??G.message??"Unable to sign in.";j(ue)}else G instanceof Error?j(G.message):j("Unable to sign in.")}finally{T(!1)}},F=!!N&&!C,U=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(nt,{tone:"warning",className:"mt-6",children:w}):null,U?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(D=>l.jsxs("a",{href:D.start_url??"#",className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",D.label]},D.id))}):null,v?l.jsx(nt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:_,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:E}),l.jsx(yt,{label:"Email address",required:!0,children:l.jsx(pt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:C})}),l.jsx(yt,{label:"Password",required:!0,children:l.jsx(pt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:C})}),F?l.jsx(nt,{tone:"danger",children:N}):null,l.jsx(_e,{type:"submit",className:"w-full justify-center",isLoading:C,disabled:C,children:C?"Signing in":"Continue"})]})]})})}function mk(){const e=It(),n=Fn(),r=ft(),[i,o]=p.useState(null);return p.useEffect(()=>{let u=!1;const d=new URLSearchParams(n.search),h=d.get("code")??"",g=d.get("state")??"";if(!h||!g){o("Missing authorization details from the identity provider.");return}async function x(){try{const b=await wS({code:h,state:g});if(u)return;r.setQueryData(Rs.detail(),b);const v=Fc(b.return_to,d.get("next"));e(v,{replace:!0})}catch(b){if(u)return;b instanceof qn?o(b.problem?.detail??b.message):b instanceof Error?o(b.message):o("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,r]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Finishing sign-in",variant:"loading"})})}const pk=uu({displayName:Ms().min(1,"Display name is required."),email:Ms().min(1,"Email is required.").email("Enter a valid email address."),password:Ms().min(12,"Use at least 12 characters."),confirmPassword:Ms().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function gk(){const e=Fn(),n=It(),r=ft(),i=Sh(!0),o=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Wl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(cv(o),{replace:!0})},[n,o,i.data?.requires_setup,i.isError,i.isPending]);const[u,d]=p.useState(null),[h,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),d(null);const v=new FormData(b.currentTarget),w=Object.fromEntries(v.entries()),E=pk.safeParse(w);if(!E.success){const j=E.error.issues[0]?.message??"Invalid input.";d(j);return}g(!0);const N=Wl(w.redirectTo);try{const j=await TS({display_name:E.data.displayName,email:E.data.email,password:E.data.password});r.setQueryData(Rs.detail(),j),n(Fc(j.return_to,N),{replace:!0})}catch(j){if(j instanceof qn){const C=j.problem?.detail??j.message??"Setup failed. Try again.";d(C)}else j instanceof Error?d(j.message):d("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:o}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yt,{label:"Display name",required:!0,children:l.jsx(pt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:h})}),l.jsx(yt,{label:"Email",required:!0,children:l.jsx(pt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:h})})]}),l.jsx(yt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(pt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:h})}),l.jsx(yt,{label:"Confirm password",required:!0,children:l.jsx(pt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:h})}),u?l.jsx(nt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(_e,{type:"submit",isLoading:h,disabled:h,children:h?"Creating administrator":"Create administrator"})})]})]})})}function $v({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:o,shortcutHint:u="K",shortcutKey:d="k",enableShortcut:h=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:v,variant:w="default",isLoading:E=!1,loadingLabel:N="Loading suggestions",filters:j,onSelectFilter:C,emptyState:T,onChange:_,onSubmit:F,onClear:U,onFocus:D,onBlur:K,suggestions:O=[],onSelectSuggestion:Z,renderSuggestion:W}){const X=p.useId(),re=e??X,B=`${X}-suggestions`,G=p.useRef(null),ue=n!==void 0,[we,M]=p.useState(r),[A,se]=p.useState(!1),[de,ae]=p.useState(0),k=ue?n??"":we,Q=O.length>0,ce=!!j?.length,q=A&&(Q||E||!!T||ce),te=A&&!Q&&!E&&!!T,H=!!(U||!ue),Y=u||"K",$=o??i;p.useEffect(()=>{ue||M(r)},[r,ue]),p.useEffect(()=>{ae(0)},[O.length,k]),p.useEffect(()=>{if(!h||typeof window>"u")return;const Te=Ge=>{(Ge.metaKey||Ge.ctrlKey)&&Ge.key.toLowerCase()===d.toLowerCase()&&(Ge.preventDefault(),G.current?.focus())};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[h,d]);const le=Te=>{Te.preventDefault();const Ge=k.trim();!Ge&&!F||F?.(Ge)},ge=Te=>{ue||M(Te),_?.(Te)},xe=()=>{k&&(ue||M(""),_?.(""),U?.(),G.current?.focus())},Ce=Te=>{Te&&(Z?.(Te),Te.action?.(),se(!1),G.current?.blur())},We=Te=>{if(!q||!Q){Te.key==="Escape"&&(se(!1),Te.currentTarget.blur());return}if(Te.key==="ArrowDown"){Te.preventDefault(),ae(Ge=>(Ge+1)%O.length);return}if(Te.key==="ArrowUp"){Te.preventDefault(),ae(Ge=>(Ge-1+O.length)%O.length);return}if(Te.key==="Enter"){Te.preventDefault(),Ce(O[de]);return}Te.key==="Escape"&&(Te.preventDefault(),se(!1),Te.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:me("relative",v),children:[l.jsx("div",{className:me("group/search overflow-hidden",Oe,q&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":$,onSubmit:le,children:[l.jsx("label",{htmlFor:re,className:"sr-only",children:$}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(bk,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:G,id:re,type:"search",value:k,onChange:Te=>ge(Te.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onFocus:()=>{se(!0),D?.(),Q||ae(0)},onBlur:()=>{se(!1),K?.()},onKeyDown:We,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":q,"aria-controls":q?B:void 0,"aria-activedescendant":q&&Q?`${B}-option-${de}`:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[H&&k?l.jsx("button",{type:"button",onClick:xe,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(vk,{className:"h-3.5 w-3.5"})}):null,E?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":N,children:l.jsx(yk,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:Y})]})]})}),q?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[Q?l.jsx("ul",{id:B,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:O.map((Te,Ge)=>{const Ut=Ge===de,it=W?.({suggestion:Te,active:Ut})??l.jsx(xk,{suggestion:Te,active:Ut});return l.jsx("li",{children:l.jsx("button",{id:`${B}-option-${Ge}`,type:"button",role:"option","aria-selected":Ut,onMouseEnter:()=>ae(Ge),onMouseDown:Cn=>Cn.preventDefault(),onClick:()=>Ce(Te),className:me("flex w-full px-5 py-3 text-left transition",Ut?"bg-brand-50/60":"hover:bg-slate-50/80"),children:it})},Te.id)})}):null,te?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:T}):null,ce?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),j?.map(Te=>l.jsx("button",{type:"button",onMouseDown:Ge=>Ge.preventDefault(),onClick:()=>C?.(Te),className:me("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Te.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Te.label},Te.id))]})}):null]}):null]})}function xk({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:me("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function bk({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vk({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function yk({className:e="h-4 w-4"}){return l.jsxs("svg",{className:me("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function qv({brand:e,leading:n,actions:r,trailing:i,search:o,secondaryContent:u}){const d=!!o,h=o?{...o,className:me("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",o.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:me("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",d?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),h?l.jsx($v,{...h}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Fv({displayName:e,email:n,actions:r=[]}){const[i,o]=p.useState(!1),[u,d]=p.useState(!1),h=p.useRef(null),g=p.useRef(null),x=It(),b=p.useMemo(()=>wk(e||n),[e,n]),v=p.useCallback(()=>o(!1),[]);p.useEffect(()=>{if(!i)return;const N=C=>{const T=C.target;T&&(g.current?.contains(T)||h.current?.contains(T)||v())},j=C=>{C.key==="Escape"&&v()};return window.addEventListener("mousedown",N),window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",N),window.removeEventListener("touchstart",N),window.removeEventListener("keydown",j)}},[v,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(N=>{v(),N()},[v]),E=p.useCallback(async()=>{u||(v(),d(!0),x("/logout",{replace:!0}))},[v,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:h,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>o(N=>!N),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(Sk,{className:me("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:r.map(N=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(N.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:N.icon??N.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:N.label}),N.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:N.description}):null]})]})},N.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(jk,{}):null]})})]}):null]})}function wk(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function jk(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function Sk({className:e}){return l.jsx("svg",{className:me("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}var ls=Bb();const Ek="1.6.2",Nk=Ek.trim(),Ck=Nk||"unknown";async function _k(e={}){const{data:n}=await Be.GET("/api/v1/system/safe-mode",{signal:e.signal}),r=n??{},i=!!r.enabled,o=typeof r.detail=="string"&&r.detail.trim().length>0?r.detail.trim():Oi;return{enabled:i,detail:o}}async function kk(e={}){const{data:n}=await Be.GET("/api/v1/meta/versions",{signal:e.signal}),r=n??{};return{ade_api:y0(r.ade_api),ade_engine:y0(r.ade_engine)}}const Oi="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function y0(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const w0=["system","safe-mode"],j0=["system","versions"];function Hv(){const n=ft().getQueryData(w0);return zn({queryKey:w0,queryFn:({signal:r})=>_k({signal:r}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function Tk(e={}){const r=ft().getQueryData(j0);return zn({queryKey:j0,queryFn:({signal:i})=>kk({signal:i}),initialData:r,staleTime:300*1e3,enabled:e.enabled??!0})}function Zv({open:e,onClose:n}){const r=p.useRef(null),i=p.useRef(null),o=Tk({enabled:e}),u=o.isError,d=o.data?.ade_api??(o.isPending?"Loading...":"unknown"),h=o.data?.ade_engine??(o.isPending?"Loading...":"unknown");if(p.useEffect(()=>{if(!e)return;const x=b=>{b.key==="Escape"&&n()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,n]),p.useEffect(()=>{if(!e)return;const{body:x}=document,b=x.style.overflow;return x.style.overflow="hidden",()=>{x.style.overflow=b}},[e]),p.useEffect(()=>{e&&i.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const g=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",role:"presentation",onMouseDown:x=>{x.target===x.currentTarget&&n()},children:l.jsxs("div",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-slate-200/80 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"About"}),l.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-slate-900",children:"ADE versions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),l.jsx(_e,{ref:i,variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Af,{label:"ade-web",value:Ck,hint:"Frontend build"}),l.jsx(Af,{label:"ade-api",value:d,hint:"Backend service"}),l.jsx(Af,{label:"ade-engine",value:h,hint:"Engine runtime"})]}),u?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(nt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),l.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>o.refetch(),children:"Retry"})]}):null]})});return ls.createPortal(g,document.body)}function Af({label:e,value:n,hint:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"text-xs text-slate-500",children:r})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("code",{className:"rounded bg-slate-900/90 px-2.5 py-1 text-xs font-mono text-white shadow-sm",children:n})})]})}function Ak({title:e,...n}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":e?void 0:!0,role:e?"img":"presentation",...n,children:[e?l.jsx("title",{children:e}):null,l.jsx("path",{d:"M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"})]})}function Iv({children:e,sidePanel:n,actions:r,search:i}){const o=zi(),u=It(),[d,h]=p.useState(!1),g=o.user.display_name||o.user.email||"Signed in",x=o.user.email??"";return l.jsxs(l.Fragment,{children:[l.jsx(Zv,{open:d,onClose:()=>h(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(qv,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(Ak,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?l.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Fv,{displayName:g,email:x,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>h(!0)}]})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})]})}const Dk="K",Mk="Ctrl+K";function Vv({macLabel:e=Dk,windowsLabel:n=Mk}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const o=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(o);i(u?e:n)},[e,n]),r}function Rk(){return l.jsx(tu,{children:l.jsx(zk,{})})}function zk(){const e=It(),n=zi(),r=Ch(),i=bv(),[o,u]=p.useState(null),[d,h]=p.useState(null),g=p.useMemo(()=>(n.user.permissions??[]).map(B=>B.toLowerCase()),[n.user.permissions]),x=g.includes("workspaces.create")||g.includes("workspaces.manage_all"),[b,v]=p.useState(""),w=Vv(),E=r.data,N=p.useMemo(()=>E?.items??[],[E?.items]),j=b.trim().toLowerCase(),C=p.useMemo(()=>j?N.filter(B=>{const G=B.name.toLowerCase(),ue=B.slug?.toLowerCase()??"";return G.includes(j)||ue.includes(j)}):N,[N,j]),T=p.useCallback(B=>e(_h(B)),[e]),_=x?l.jsx(_e,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,F=p.useCallback(()=>{if(!j)return;const B=C[0];B&&T(B.id)},[C,j,T]),U=p.useCallback(()=>v(""),[]),K=(j?C:N).slice(0,5).map(B=>({id:B.id,label:B.name,description:B.slug?`Slug  ${B.slug}`:"Workspace"})),O=p.useCallback(B=>{v(""),T(B.id)},[T]),Z=p.useCallback(async B=>{h(null),u(B.id);try{await i.mutateAsync(B.id),vv(B.id)}catch(G){console.warn("workspaces.set_default.failed",G),h("Unable to set the default workspace. Please try again.")}finally{u(null)}},[i]),W={value:b,onChange:v,onSubmit:F,placeholder:"Search workspaces or jump to one instantly",shortcutHint:w,scopeLabel:"Workspace directory",suggestions:K,onSelectSuggestion:O,onClear:U},X={...W,shortcutHint:void 0,onClear:U,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const re=N.length===0?x?l.jsx(Lk,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(dt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):C.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(dt,{title:`No workspaces matching "${b}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(_e,{variant:"secondary",onClick:U,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),d?l.jsx(nt,{tone:"danger",heading:"We couldn't update your default workspace",children:d}):null,l.jsx($v,{...X,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:C.map(B=>{const G=i.isPending&&o===B.id;return l.jsxs("div",{className:"group relative rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-white",children:[l.jsxs("button",{type:"button",onClick:()=>T(B.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${B.name}`,children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"space-y-1 pr-24",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:B.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",B.slug]})]})}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:B.permissions.length>0?B.permissions.join(", "):"None"})]}),l.jsx("div",{className:"absolute right-5 top-5",children:B.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):l.jsx(_e,{variant:"secondary",size:"sm",isLoading:G,disabled:G,onClick:()=>void Z(B),children:"Set as default"})})]},B.id)})})]});return l.jsx(Iv,{actions:_,search:W,sidePanel:l.jsx(Ok,{canCreate:x,onCreate:()=>e("/workspaces/new")}),children:re})}function Ok({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(_e,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function Lk({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(_e,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var ro=e=>e.type==="checkbox",Ea=e=>e instanceof Date,Pn=e=>e==null;const Qv=e=>typeof e=="object";var nn=e=>!Pn(e)&&!Array.isArray(e)&&Qv(e)&&!Ea(e),Uk=e=>nn(e)&&e.target?ro(e.target)?e.target.checked:e.target.value:e,Bk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$k=(e,n)=>e.has(Bk(n)),qk=e=>{const n=e.constructor&&e.constructor.prototype;return nn(n)&&n.hasOwnProperty("isPrototypeOf")},zh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(zh&&(e instanceof Blob||i))&&(r||nn(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!qk(e))n=e;else for(const o in e)e.hasOwnProperty(o)&&(n[o]=pn(e[o]));else return e;return n}var du=e=>/^\w*$/.test(e),Pt=e=>e===void 0,Oh=e=>Array.isArray(e)?e.filter(Boolean):[],Lh=e=>Oh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,n,r)=>{if(!n||!nn(e))return r;const i=(du(n)?[n]:Lh(n)).reduce((o,u)=>Pn(o)?o:o[u],e);return Pt(i)||i===e?Pt(e[n])?r:e[n]:i},Ws=e=>typeof e=="boolean",Et=(e,n,r)=>{let i=-1;const o=du(n)?[n]:Lh(n),u=o.length,d=u-1;for(;++i<u;){const h=o[i];let g=r;if(i!==d){const x=e[h];g=nn(x)||Array.isArray(x)?x:isNaN(+o[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const S0={BLUR:"blur",FOCUS_OUT:"focusout"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Fk=vt.createContext(null);Fk.displayName="HookFormContext";var Hk=(e,n,r,i=!0)=>{const o={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(o,u,{get:()=>{const d=u;return n._proxyFormState[d]!==As.all&&(n._proxyFormState[d]=!i||As.all),e[d]}});return o};const Zk=typeof window<"u"?vt.useLayoutEffect:vt.useEffect;var is=e=>typeof e=="string",Ik=(e,n,r,i,o)=>is(e)?(i&&n.watch.add(e),Re(r,e,o)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Re(r,u))):(i&&(n.watchAll=!0),r),th=e=>Pn(e)||!Qv(e);function Gr(e,n,r=new WeakSet){if(th(e)||th(n))return e===n;if(Ea(e)&&Ea(n))return e.getTime()===n.getTime();const i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const d=e[u];if(!o.includes(u))return!1;if(u!=="ref"){const h=n[u];if(Ea(d)&&Ea(h)||nn(d)&&nn(h)||Array.isArray(d)&&Array.isArray(h)?!Gr(d,h,r):d!==h)return!1}}return!0}var Uh=(e,n,r,i,o)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},$l=e=>Array.isArray(e)?e:[e],E0=()=>{let e=[];return{get observers(){return e},next:o=>{for(const u of e)u.next&&u.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(u=>u!==o)}}),unsubscribe:()=>{e=[]}}};function Wv(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],u=n[i];if(o&&nn(o)&&u){const d=Wv(o,u);nn(d)&&(r[i]=d)}else e[i]&&(r[i]=u)}return r}var Wn=e=>nn(e)&&!Object.keys(e).length,Bh=e=>e.type==="file",Ds=e=>typeof e=="function",Vc=e=>{if(!zh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Pv=e=>e.type==="select-multiple",$h=e=>e.type==="radio",Vk=e=>$h(e)||ro(e),Df=e=>Vc(e)&&e.isConnected;function Qk(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=Pt(e)?i++:e[n[i++]];return e}function Wk(e){for(const n in e)if(e.hasOwnProperty(n)&&!Pt(e[n]))return!1;return!0}function tn(e,n){const r=Array.isArray(n)?n:du(n)?[n]:Lh(n),i=r.length===1?e:Qk(e,r),o=r.length-1,u=r[o];return i&&delete i[u],o!==0&&(nn(i)&&Wn(i)||Array.isArray(i)&&Wk(i))&&tn(e,r.slice(0,-1)),e}var Pk=e=>{for(const n in e)if(Ds(e[n]))return!0;return!1};function Kv(e){return Array.isArray(e)||nn(e)&&!Pk(e)}function nh(e,n={}){for(const r in e)Kv(e[r])?(n[r]=Array.isArray(e[r])?[]:{},nh(e[r],n[r])):Pt(e[r])||(n[r]=!0);return n}function Ni(e,n,r){r||(r=nh(n));for(const i in e)Kv(e[i])?Pt(n)||th(r[i])?r[i]=nh(e[i],Array.isArray(e[i])?[]:{}):Ni(e[i],Pn(n)?{}:n[i],r[i]):r[i]=!Gr(e[i],n[i]);return r}const N0={value:!1,isValid:!1},C0={value:!0,isValid:!0};var Gv=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?C0:{value:e[0].value,isValid:!0}:C0:N0}return N0},Yv=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>Pt(e)?e:n?e===""?NaN:e&&+e:r&&is(e)?new Date(e):i?i(e):e;const _0={isValid:!1,value:null};var Xv=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,_0):_0;function k0(e){const n=e.ref;return Bh(n)?n.files:$h(n)?Xv(e.refs).value:Pv(n)?[...n.selectedOptions].map(({value:r})=>r):ro(n)?Gv(e.refs).value:Yv(Pt(n.value)?e.ref.value:n.value,e)}var Kk=(e,n,r,i)=>{const o={};for(const u of e){const d=Re(n,u);d&&Et(o,u,d._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},Qc=e=>e instanceof RegExp,Ul=e=>Pt(e)?e:Qc(e)?e.source:nn(e)?Qc(e.value)?e.value.source:e.value:e,T0=e=>({isOnSubmit:!e||e===As.onSubmit,isOnBlur:e===As.onBlur,isOnChange:e===As.onChange,isOnAll:e===As.all,isOnTouch:e===As.onTouched});const A0="AsyncFunction";var Gk=e=>!!e&&!!e.validate&&!!(Ds(e.validate)&&e.validate.constructor.name===A0||nn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===A0)),Yk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),D0=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ql=(e,n,r,i)=>{for(const o of r||Object.keys(e)){const u=Re(e,o);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],o)&&!i)return!0;if(d.ref&&n(d.ref,d.name)&&!i)return!0;if(ql(h,n))break}else if(nn(h)&&ql(h,n))break}}};function M0(e,n,r){const i=Re(e,r);if(i||du(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const u=o.join("."),d=Re(n,u),h=Re(e,u);if(d&&!Array.isArray(d)&&r!==u)return{name:r};if(h&&h.type)return{name:u,error:h};if(h&&h.root&&h.root.type)return{name:`${u}.root`,error:h.root};o.pop()}return{name:r}}var Xk=(e,n,r,i)=>{r(e);const{name:o,...u}=e;return Wn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===(!i||As.all))},Jk=(e,n,r)=>!e||!n||e===n||$l(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),e2=(e,n,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(n||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,t2=(e,n)=>!Oh(Re(e,n)).length&&tn(e,n),n2=(e,n,r)=>{const i=$l(Re(e,r));return Et(i,"root",n[r]),Et(e,r,i),e};function R0(e,n,r="validate"){if(is(e)||Array.isArray(e)&&e.every(is)||Ws(e)&&!e)return{type:r,message:is(e)?e:"",ref:n}}var wi=e=>nn(e)&&!Qc(e)?e:{value:e,message:""},z0=async(e,n,r,i,o,u)=>{const{ref:d,refs:h,required:g,maxLength:x,minLength:b,min:v,max:w,pattern:E,validate:N,name:j,valueAsNumber:C,mount:T}=e._f,_=Re(r,j);if(!T||n.has(j))return{};const F=h?h[0]:d,U=B=>{o&&F.reportValidity&&(F.setCustomValidity(Ws(B)?"":B||""),F.reportValidity())},D={},K=$h(d),O=ro(d),Z=K||O,W=(C||Bh(d))&&Pt(d.value)&&Pt(_)||Vc(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,X=Uh.bind(null,j,i,D),re=(B,G,ue,we=pr.maxLength,M=pr.minLength)=>{const A=B?G:ue;D[j]={type:B?we:M,message:A,ref:d,...X(B?we:M,A)}};if(u?!Array.isArray(_)||!_.length:g&&(!Z&&(W||Pn(_))||Ws(_)&&!_||O&&!Gv(h).isValid||K&&!Xv(h).isValid)){const{value:B,message:G}=is(g)?{value:!!g,message:g}:wi(g);if(B&&(D[j]={type:pr.required,message:G,ref:F,...X(pr.required,G)},!i))return U(G),D}if(!W&&(!Pn(v)||!Pn(w))){let B,G;const ue=wi(w),we=wi(v);if(!Pn(_)&&!isNaN(_)){const M=d.valueAsNumber||_&&+_;Pn(ue.value)||(B=M>ue.value),Pn(we.value)||(G=M<we.value)}else{const M=d.valueAsDate||new Date(_),A=ae=>new Date(new Date().toDateString()+" "+ae),se=d.type=="time",de=d.type=="week";is(ue.value)&&_&&(B=se?A(_)>A(ue.value):de?_>ue.value:M>new Date(ue.value)),is(we.value)&&_&&(G=se?A(_)<A(we.value):de?_<we.value:M<new Date(we.value))}if((B||G)&&(re(!!B,ue.message,we.message,pr.max,pr.min),!i))return U(D[j].message),D}if((x||b)&&!W&&(is(_)||u&&Array.isArray(_))){const B=wi(x),G=wi(b),ue=!Pn(B.value)&&_.length>+B.value,we=!Pn(G.value)&&_.length<+G.value;if((ue||we)&&(re(ue,B.message,G.message),!i))return U(D[j].message),D}if(E&&!W&&is(_)){const{value:B,message:G}=wi(E);if(Qc(B)&&!_.match(B)&&(D[j]={type:pr.pattern,message:G,ref:d,...X(pr.pattern,G)},!i))return U(G),D}if(N){if(Ds(N)){const B=await N(_,r),G=R0(B,F);if(G&&(D[j]={...G,...X(pr.validate,G.message)},!i))return U(G.message),D}else if(nn(N)){let B={};for(const G in N){if(!Wn(B)&&!i)break;const ue=R0(await N[G](_,r),F,G);ue&&(B={...ue,...X(G,ue.message)},U(ue.message),i&&(D[j]=B))}if(!Wn(B)&&(D[j]={ref:F,...B},!i))return D}}return U(!0),D};const s2={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function r2(e={}){let n={...s2,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ds(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=nn(n.defaultValues)||nn(n.values)?pn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:pn(o),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...b};const w={array:E0(),state:E0()},E=n.criteriaMode===As.all,N=R=>P=>{clearTimeout(x),x=setTimeout(R,P)},j=async R=>{if(!n.disabled&&(b.isValid||v.isValid||R)){const P=n.resolver?Wn((await O()).errors):await W(i,!0);P!==r.isValid&&w.state.next({isValid:P})}},C=(R,P)=>{!n.disabled&&(b.isValidating||b.validatingFields||v.isValidating||v.validatingFields)&&((R||Array.from(h.mount)).forEach(ie=>{ie&&(P?Et(r.validatingFields,ie,P):tn(r.validatingFields,ie))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Wn(r.validatingFields)}))},T=(R,P=[],ie,Ee,ye=!0,je=!0)=>{if(Ee&&ie&&!n.disabled){if(d.action=!0,je&&Array.isArray(Re(i,R))){const Ae=ie(Re(i,R),Ee.argA,Ee.argB);ye&&Et(i,R,Ae)}if(je&&Array.isArray(Re(r.errors,R))){const Ae=ie(Re(r.errors,R),Ee.argA,Ee.argB);ye&&Et(r.errors,R,Ae),t2(r.errors,R)}if((b.touchedFields||v.touchedFields)&&je&&Array.isArray(Re(r.touchedFields,R))){const Ae=ie(Re(r.touchedFields,R),Ee.argA,Ee.argB);ye&&Et(r.touchedFields,R,Ae)}(b.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Ni(o,u)),w.state.next({name:R,isDirty:re(R,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(u,R,P)},_=(R,P)=>{Et(r.errors,R,P),w.state.next({errors:r.errors})},F=R=>{r.errors=R,w.state.next({errors:r.errors,isValid:!1})},U=(R,P,ie,Ee)=>{const ye=Re(i,R);if(ye){const je=Re(u,R,Pt(ie)?Re(o,R):ie);Pt(je)||Ee&&Ee.defaultChecked||P?Et(u,R,P?je:k0(ye._f)):ue(R,je),d.mount&&j()}},D=(R,P,ie,Ee,ye)=>{let je=!1,Ae=!1;const He={name:R};if(!n.disabled){if(!ie||Ee){(b.isDirty||v.isDirty)&&(Ae=r.isDirty,r.isDirty=He.isDirty=re(),je=Ae!==He.isDirty);const Ve=Gr(Re(o,R),P);Ae=!!Re(r.dirtyFields,R),Ve?tn(r.dirtyFields,R):Et(r.dirtyFields,R,!0),He.dirtyFields=r.dirtyFields,je=je||(b.dirtyFields||v.dirtyFields)&&Ae!==!Ve}if(ie){const Ve=Re(r.touchedFields,R);Ve||(Et(r.touchedFields,R,ie),He.touchedFields=r.touchedFields,je=je||(b.touchedFields||v.touchedFields)&&Ve!==ie)}je&&ye&&w.state.next(He)}return je?He:{}},K=(R,P,ie,Ee)=>{const ye=Re(r.errors,R),je=(b.isValid||v.isValid)&&Ws(P)&&r.isValid!==P;if(n.delayError&&ie?(g=N(()=>_(R,ie)),g(n.delayError)):(clearTimeout(x),g=null,ie?Et(r.errors,R,ie):tn(r.errors,R)),(ie?!Gr(ye,ie):ye)||!Wn(Ee)||je){const Ae={...Ee,...je&&Ws(P)?{isValid:P}:{},errors:r.errors,name:R};r={...r,...Ae},w.state.next(Ae)}},O=async R=>{C(R,!0);const P=await n.resolver(u,n.context,Kk(R||h.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return C(R),P},Z=async R=>{const{errors:P}=await O(R);if(R)for(const ie of R){const Ee=Re(P,ie);Ee?Et(r.errors,ie,Ee):tn(r.errors,ie)}else r.errors=P;return P},W=async(R,P,ie={valid:!0})=>{for(const Ee in R){const ye=R[Ee];if(ye){const{_f:je,...Ae}=ye;if(je){const He=h.array.has(je.name),Ve=ye._f&&Gk(ye._f);Ve&&b.validatingFields&&C([je.name],!0);const _t=await z0(ye,h.disabled,u,E,n.shouldUseNativeValidation&&!P,He);if(Ve&&b.validatingFields&&C([je.name]),_t[je.name]&&(ie.valid=!1,P))break;!P&&(Re(_t,je.name)?He?n2(r.errors,_t,je.name):Et(r.errors,je.name,_t[je.name]):tn(r.errors,je.name))}!Wn(Ae)&&await W(Ae,P,ie)}}return ie.valid},X=()=>{for(const R of h.unMount){const P=Re(i,R);P&&(P._f.refs?P._f.refs.every(ie=>!Df(ie)):!Df(P._f.ref))&&Y(R)}h.unMount=new Set},re=(R,P)=>!n.disabled&&(R&&P&&Et(u,R,P),!Gr(ae(),o)),B=(R,P,ie)=>Ik(R,h,{...d.mount?u:Pt(P)?o:is(R)?{[R]:P}:P},ie,P),G=R=>Oh(Re(d.mount?u:o,R,n.shouldUnregister?Re(o,R,[]):[])),ue=(R,P,ie={})=>{const Ee=Re(i,R);let ye=P;if(Ee){const je=Ee._f;je&&(!je.disabled&&Et(u,R,Yv(P,je)),ye=Vc(je.ref)&&Pn(P)?"":P,Pv(je.ref)?[...je.ref.options].forEach(Ae=>Ae.selected=ye.includes(Ae.value)):je.refs?ro(je.ref)?je.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ye)?Ae.checked=!!ye.find(He=>He===Ae.value):Ae.checked=ye===Ae.value||!!ye)}):je.refs.forEach(Ae=>Ae.checked=Ae.value===ye):Bh(je.ref)?je.ref.value="":(je.ref.value=ye,je.ref.type||w.state.next({name:R,values:pn(u)})))}(ie.shouldDirty||ie.shouldTouch)&&D(R,ye,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&de(R)},we=(R,P,ie)=>{for(const Ee in P){if(!P.hasOwnProperty(Ee))return;const ye=P[Ee],je=R+"."+Ee,Ae=Re(i,je);(h.array.has(R)||nn(ye)||Ae&&!Ae._f)&&!Ea(ye)?we(je,ye,ie):ue(je,ye,ie)}},M=(R,P,ie={})=>{const Ee=Re(i,R),ye=h.array.has(R),je=pn(P);Et(u,R,je),ye?(w.array.next({name:R,values:pn(u)}),(b.isDirty||b.dirtyFields||v.isDirty||v.dirtyFields)&&ie.shouldDirty&&w.state.next({name:R,dirtyFields:Ni(o,u),isDirty:re(R,je)})):Ee&&!Ee._f&&!Pn(je)?we(R,je,ie):ue(R,je,ie),D0(R,h)&&w.state.next({...r,name:R}),w.state.next({name:d.mount?R:void 0,values:pn(u)})},A=async R=>{d.mount=!0;const P=R.target;let ie=P.name,Ee=!0;const ye=Re(i,ie),je=Ve=>{Ee=Number.isNaN(Ve)||Ea(Ve)&&isNaN(Ve.getTime())||Gr(Ve,Re(u,ie,Ve))},Ae=T0(n.mode),He=T0(n.reValidateMode);if(ye){let Ve,_t;const Se=P.type?k0(ye._f):Uk(R),Ne=R.type===S0.BLUR||R.type===S0.FOCUS_OUT,$e=!Yk(ye._f)&&!n.resolver&&!Re(r.errors,ie)&&!ye._f.deps||e2(Ne,Re(r.touchedFields,ie),r.isSubmitted,He,Ae),Dt=D0(ie,h,Ne);Et(u,ie,Se),Ne?(!P||!P.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(R),g&&g(0)):ye._f.onChange&&ye._f.onChange(R);const st=D(ie,Se,Ne),Kt=!Wn(st)||Dt;if(!Ne&&w.state.next({name:ie,type:R.type,values:pn(u)}),$e)return(b.isValid||v.isValid)&&(n.mode==="onBlur"?Ne&&j():Ne||j()),Kt&&w.state.next({name:ie,...Dt?{}:st});if(!Ne&&Dt&&w.state.next({...r}),n.resolver){const{errors:Mt}=await O([ie]);if(je(Se),Ee){const br=M0(r.errors,i,ie),Os=M0(Mt,i,br.name||ie);Ve=Os.error,ie=Os.name,_t=Wn(Mt)}}else C([ie],!0),Ve=(await z0(ye,h.disabled,u,E,n.shouldUseNativeValidation))[ie],C([ie]),je(Se),Ee&&(Ve?_t=!1:(b.isValid||v.isValid)&&(_t=await W(i,!0)));Ee&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&de(ye._f.deps),K(ie,_t,Ve,st))}},se=(R,P)=>{if(Re(r.errors,P)&&R.focus)return R.focus(),1},de=async(R,P={})=>{let ie,Ee;const ye=$l(R);if(n.resolver){const je=await Z(Pt(R)?R:ye);ie=Wn(je),Ee=R?!ye.some(Ae=>Re(je,Ae)):ie}else R?(Ee=(await Promise.all(ye.map(async je=>{const Ae=Re(i,je);return await W(Ae&&Ae._f?{[je]:Ae}:Ae)}))).every(Boolean),!(!Ee&&!r.isValid)&&j()):Ee=ie=await W(i);return w.state.next({...!is(R)||(b.isValid||v.isValid)&&ie!==r.isValid?{}:{name:R},...n.resolver||!R?{isValid:ie}:{},errors:r.errors}),P.shouldFocus&&!Ee&&ql(i,se,R?ye:h.mount),Ee},ae=(R,P)=>{let ie={...d.mount?u:o};return P&&(ie=Wv(P.dirtyFields?r.dirtyFields:r.touchedFields,ie)),Pt(R)?ie:is(R)?Re(ie,R):R.map(Ee=>Re(ie,Ee))},k=(R,P)=>({invalid:!!Re((P||r).errors,R),isDirty:!!Re((P||r).dirtyFields,R),error:Re((P||r).errors,R),isValidating:!!Re(r.validatingFields,R),isTouched:!!Re((P||r).touchedFields,R)}),Q=R=>{R&&$l(R).forEach(P=>tn(r.errors,P)),w.state.next({errors:R?r.errors:{}})},ce=(R,P,ie)=>{const Ee=(Re(i,R,{_f:{}})._f||{}).ref,ye=Re(r.errors,R)||{},{ref:je,message:Ae,type:He,...Ve}=ye;Et(r.errors,R,{...Ve,...P,ref:Ee}),w.state.next({name:R,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},q=(R,P)=>Ds(R)?w.state.subscribe({next:ie=>"values"in ie&&R(B(void 0,P),ie)}):B(R,P,!0),te=R=>w.state.subscribe({next:P=>{Jk(R.name,P.name,R.exact)&&Xk(P,R.formState||b,Ut,R.reRenderRoot)&&R.callback({values:{...u},...r,...P,defaultValues:o})}}).unsubscribe,H=R=>(d.mount=!0,v={...v,...R.formState},te({...R,formState:v})),Y=(R,P={})=>{for(const ie of R?$l(R):h.mount)h.mount.delete(ie),h.array.delete(ie),P.keepValue||(tn(i,ie),tn(u,ie)),!P.keepError&&tn(r.errors,ie),!P.keepDirty&&tn(r.dirtyFields,ie),!P.keepTouched&&tn(r.touchedFields,ie),!P.keepIsValidating&&tn(r.validatingFields,ie),!n.shouldUnregister&&!P.keepDefaultValue&&tn(o,ie);w.state.next({values:pn(u)}),w.state.next({...r,...P.keepDirty?{isDirty:re()}:{}}),!P.keepIsValid&&j()},$=({disabled:R,name:P})=>{(Ws(R)&&d.mount||R||h.disabled.has(P))&&(R?h.disabled.add(P):h.disabled.delete(P))},le=(R,P={})=>{let ie=Re(i,R);const Ee=Ws(P.disabled)||Ws(n.disabled);return Et(i,R,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:R}},name:R,mount:!0,...P}}),h.mount.add(R),ie?$({disabled:Ws(P.disabled)?P.disabled:n.disabled,name:R}):U(R,!0,P.value),{...Ee?{disabled:P.disabled||n.disabled}:{},...n.progressive?{required:!!P.required,min:Ul(P.min),max:Ul(P.max),minLength:Ul(P.minLength),maxLength:Ul(P.maxLength),pattern:Ul(P.pattern)}:{},name:R,onChange:A,onBlur:A,ref:ye=>{if(ye){le(R,P),ie=Re(i,R);const je=Pt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ae=Vk(je),He=ie._f.refs||[];if(Ae?He.find(Ve=>Ve===je):je===ie._f.ref)return;Et(i,R,{_f:{...ie._f,...Ae?{refs:[...He.filter(Df),je,...Array.isArray(Re(o,R))?[{}]:[]],ref:{type:je.type,name:R}}:{ref:je}}}),U(R,!1,void 0,je)}else ie=Re(i,R,{}),ie._f&&(ie._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!($k(h.array,R)&&d.action)&&h.unMount.add(R)}}},ge=()=>n.shouldFocusError&&ql(i,se,h.mount),xe=R=>{Ws(R)&&(w.state.next({disabled:R}),ql(i,(P,ie)=>{const Ee=Re(i,ie);Ee&&(P.disabled=Ee._f.disabled||R,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ye=>{ye.disabled=Ee._f.disabled||R}))},0,!1))},Ce=(R,P)=>async ie=>{let Ee;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ye=pn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:je,values:Ae}=await O();r.errors=je,ye=pn(Ae)}else await W(i);if(h.disabled.size)for(const je of h.disabled)tn(ye,je);if(tn(r.errors,"root"),Wn(r.errors)){w.state.next({errors:{}});try{await R(ye,ie)}catch(je){Ee=je}}else P&&await P({...r.errors},ie),ge(),setTimeout(ge);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},We=(R,P={})=>{Re(i,R)&&(Pt(P.defaultValue)?M(R,pn(Re(o,R))):(M(R,P.defaultValue),Et(o,R,pn(P.defaultValue))),P.keepTouched||tn(r.touchedFields,R),P.keepDirty||(tn(r.dirtyFields,R),r.isDirty=P.defaultValue?re(R,pn(Re(o,R))):re()),P.keepError||(tn(r.errors,R),b.isValid&&j()),w.state.next({...r}))},Oe=(R,P={})=>{const ie=R?pn(R):o,Ee=pn(ie),ye=Wn(R),je=ye?o:Ee;if(P.keepDefaultValues||(o=ie),!P.keepValues){if(P.keepDirtyValues){const Ae=new Set([...h.mount,...Object.keys(Ni(o,u))]);for(const He of Array.from(Ae))Re(r.dirtyFields,He)?Et(je,He,Re(u,He)):M(He,Re(je,He))}else{if(zh&&Pt(R))for(const Ae of h.mount){const He=Re(i,Ae);if(He&&He._f){const Ve=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Vc(Ve)){const _t=Ve.closest("form");if(_t){_t.reset();break}}}}if(P.keepFieldsRef)for(const Ae of h.mount)M(Ae,Re(je,Ae));else i={}}u=n.shouldUnregister?P.keepDefaultValues?pn(o):{}:pn(je),w.array.next({values:{...je}}),w.state.next({values:{...je}})}h={mount:P.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!P.keepIsValid||!!P.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!Gr(R,o)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:P.keepDirtyValues?P.keepDefaultValues&&u?Ni(o,u):r.dirtyFields:P.keepDefaultValues&&R?Ni(o,R):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Te=(R,P)=>Oe(Ds(R)?R(u):R,P),Ge=(R,P={})=>{const ie=Re(i,R),Ee=ie&&ie._f;if(Ee){const ye=Ee.refs?Ee.refs[0]:Ee.ref;ye.focus&&(ye.focus(),P.shouldSelect&&Ds(ye.select)&&ye.select())}},Ut=R=>{r={...r,...R}},Cn={control:{register:le,unregister:Y,getFieldState:k,handleSubmit:Ce,setError:ce,_subscribe:te,_runSchema:O,_focusError:ge,_getWatch:B,_getDirty:re,_setValid:j,_setFieldArray:T,_setDisabledField:$,_setErrors:F,_getFieldArray:G,_reset:Oe,_resetDefaultValues:()=>Ds(n.defaultValues)&&n.defaultValues().then(R=>{Te(R,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:xe,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(R){d=R},get _defaultValues(){return o},get _names(){return h},set _names(R){h=R},get _formState(){return r},get _options(){return n},set _options(R){n={...n,...R}}},subscribe:H,trigger:de,register:le,handleSubmit:Ce,watch:q,setValue:M,getValues:ae,reset:Te,resetField:We,clearErrors:Q,unregister:Y,setError:ce,setFocus:Ge,getFieldState:k};return{...Cn,formControl:Cn}}function Jv(e={}){const n=vt.useRef(void 0),r=vt.useRef(void 0),[i,o]=vt.useState({isDirty:!1,isValidating:!1,isLoading:Ds(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ds(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ds(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...h}=r2(e);n.current={...h,formState:i}}const u=n.current.control;return u._options=e,Zk(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),u._formState.isReady=!0,d},[u]),vt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),vt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),vt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),vt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),vt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),vt.useEffect(()=>{e.values&&!Gr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,o(d=>({...d}))):u._resetDefaultValues()},[u,e.values]),vt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=Hk(i,u),n.current}const O0=(e,n,r)=>{if(e&&"reportValidity"in e){const i=Re(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},sh=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?O0(i.ref,r,e):i&&i.refs&&i.refs.forEach(o=>O0(o,r,e))}},L0=(e,n)=>{n.shouldUseNativeValidation&&sh(e,n);const r={};for(const i in e){const o=Re(n.fields,i),u=Object.assign(e[i]||{},{ref:o&&o.ref});if(a2(n.names||Object.keys(e),i)){const d=Object.assign({},Re(r,i));Et(d,"root",u),Et(r,i,d)}else Et(r,i,u)}return r},a2=(e,n)=>{const r=U0(n);return e.some(i=>U0(i).match(`^${r}\\.\\d+`))};function U0(e){return e.replace(/\]|\[/g,"")}function B0(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function i2(e,n){for(var r={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!r[d])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];r[d]={message:h.message,type:h.code}}else r[d]={message:u,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(v){return e.push(v)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Uh(d,n,r,o,x?[].concat(x,i.message):i.message)}e.shift()}return r}function l2(e,n){for(var r={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!r[d])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];r[d]={message:h.message,type:h.code}}else r[d]={message:u,type:o};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(v){return e.push(v)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Uh(d,n,r,o,x?[].concat(x,i.message):i.message)}e.shift()}return r}function ey(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,o,u){try{return Promise.resolve(B0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(d){return u.shouldUseNativeValidation&&sh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(h){return Array.isArray(h?.issues)})(d))return{values:{},errors:L0(i2(d.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,o,u){try{return Promise.resolve(B0(function(){return Promise.resolve((r.mode==="sync"?EE:NE)(e,i,n)).then(function(d){return u.shouldUseNativeValidation&&sh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(h){return h instanceof Mh})(d))return{values:{},errors:L0(l2(d.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}async function o2(e={}){const{page:n,pageSize:r,search:i,includeTotal:o,signal:u}=e,d={};typeof n=="number"&&n>0&&(d.page=n),typeof r=="number"&&r>0&&(d.page_size=r),o&&(d.include_total=!0);const h=i?.trim();h&&(d.q=h);const{data:g}=await Be.GET("/api/v1/users",{params:{query:d},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function ty(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,o=r.trim(),u=o.length>=2?o:"",d=yh({queryKey:["users","all",{search:o,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>o2(c2({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),h=p.useCallback(x=>x.id,[]),g=Nh(d.data?.pages,h);return{...d,users:g}}function c2(e){const n=!e.page||e.page<1?1:e.page;return{...e,page:n}}const u2=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,d2=uu({name:Ms().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:Ms().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(u2,"Use lowercase letters, numbers, and dashes."),ownerUserId:Ms().optional()});function f2(){return l.jsx(tu,{children:l.jsx(h2,{})})}function h2(){const e=It(),n=zi(),r=JS(),o=p.useMemo(()=>(n.user.permissions??[]).map(Z=>Z.toLowerCase()),[n.user.permissions]).includes("users.read_all"),u=ty({enabled:o,pageSize:50}),d=p.useMemo(()=>u.users,[u.users]),h=p.useMemo(()=>n.user.id?d.filter(Z=>Z.id!==n.user.id):d,[d,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:v,setError:w,clearErrors:E,formState:{errors:N,dirtyFields:j}}=Jv({resolver:ey(d2),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),C=b("name"),T=b("slug");p.useEffect(()=>{if(j.slug)return;const Z=m2(C);Z!==T&&v("slug",Z,{shouldValidate:!!Z})},[j.slug,C,v,T]),p.useEffect(()=>{!o&&n.user.id&&v("ownerUserId",n.user.id,{shouldDirty:!1})},[o,n.user.id,v]);const _=r.isPending,F=u.isPending&&u.users.length===0,U=_||F||!o,D=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,K=g("ownerUserId"),O=x(Z=>{if(E("root"),o&&!Z.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}r.mutate({name:Z.name.trim(),slug:Z.slug.trim(),owner_user_id:o&&Z.ownerUserId||void 0},{onSuccess(W){e(_h(W.id))},onError(W){if(W instanceof qn){const X=W.problem?.detail??W.message,re=W.problem?.errors??{};w("root",{type:"server",message:X}),re.name?.[0]&&w("name",{type:"server",message:re.name[0]}),re.slug?.[0]&&w("slug",{type:"server",message:re.slug[0]}),re.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:re.owner_user_id[0]});return}w("root",{type:"server",message:W instanceof Error?W.message:"Workspace creation failed."})}})});return l.jsx(Iv,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:O,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(yt,{label:"Workspace name",required:!0,error:N.name?.message,children:l.jsx(pt,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!N.name,disabled:_})}),l.jsx(yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:N.slug?.message,children:l.jsx(pt,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!N.slug,disabled:_})})]}),o?l.jsxs(yt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:N.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...K,onChange:Z=>{K.onChange(Z),E("ownerUserId")},disabled:U,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:D}),h.map(Z=>l.jsx("option",{value:Z.id,children:Z.display_name?`${Z.display_name} (${Z.email})`:Z.email},Z.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,N.root?l.jsx(nt,{tone:"danger",children:N.root.message}):null,o&&u.isError?l.jsx(nt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(_e,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:_,children:"Cancel"}),l.jsx(_e,{type:"submit",isLoading:_,children:_?"Creating workspace":"Create workspace"})]})]})]})})}function m2(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const ny=p.createContext(void 0);function p2({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const o=e.permissions;return{workspace:e,workspaces:n,permissions:o,hasPermission(u){const d=u.toLowerCase();return o.includes(u)||o.includes(d)}}},[e,n]);return l.jsx(ny.Provider,{value:i,children:r})}function gr(){const e=p.useContext(ny);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const g2=[{id:"explorer",label:"Explorer",icon:l.jsx(b2,{})},{id:"search",label:"Search",icon:l.jsx(v2,{})},{id:"scm",label:"Source Control",icon:l.jsx(y2,{})},{id:"extensions",label:"Extensions",icon:l.jsx(w2,{})}];function x2({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const o=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:me("flex h-full w-14 flex-col items-center justify-between border-r",o.bg,o.border,o.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:g2.map(u=>{const d=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:me("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",d?o.iconActive:me(o.iconIdle,o.hover)),"aria-label":u.label,"aria-pressed":d,children:[d?l.jsx("span",{className:me("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",o.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:r,className:me("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",o.iconIdle,o.hover),"aria-label":"Open settings",children:l.jsx(j2,{})})})]})}function b2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function v2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function y2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function w2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function j2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const qh=p.createContext(null);function sy({value:e,onValueChange:n,children:r}){const i=p.useId(),o=p.useRef([]),u=p.useRef(new Map),d=p.useCallback((v,w)=>{o.current.includes(v)||o.current.push(v),u.current.set(v,w)},[]),h=p.useCallback(v=>{o.current=o.current.filter(w=>w!==v),u.current.delete(v)},[]),g=p.useCallback(v=>{v&&u.current.get(v)?.focus()},[]),x=p.useCallback(()=>o.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:d,unregisterValue:h,focusValue:g,getValues:x}),[e,n,i,d,h,g,x]);return l.jsx(qh.Provider,{value:b,children:r})}function ry({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function rh({value:e,children:n,className:r,onClick:i,onKeyDown:o,disabled:u,...d}){const h=p.useContext(qh);if(!h)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:v}=h,w=h.value===e,E=`${h.baseId}-tab-${e}`,N=`${h.baseId}-panel-${e}`,j=p.useCallback(T=>{g(e,T)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const C=T=>{if(o?.(T),T.defaultPrevented)return;const _=v(),F=_.indexOf(e);if(F===-1||_.length===0)return;let U=F;T.key==="ArrowRight"?(T.preventDefault(),U=(F+1)%_.length):T.key==="ArrowLeft"?(T.preventDefault(),U=(F-1+_.length)%_.length):T.key==="Home"?(T.preventDefault(),U=0):T.key==="End"&&(T.preventDefault(),U=_.length-1);const D=_[U];D&&D!==h.value&&h.setValue(D),b(D)};return l.jsx("button",{...d,ref:j,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":N,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:C,onClick:T=>{i?.(T),!T.defaultPrevented&&!u&&h.setValue(e)},children:n})}function ah({value:e,children:n,className:r,...i}){const o=p.useContext(qh);if(!o)throw new Error("TabsContent must be used within a TabsRoot");const u=o.value===e,d=`${o.baseId}-panel-${e}`,h=`${o.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:d,"aria-labelledby":h,className:r,hidden:!u,tabIndex:0,children:n})}function ji(e,n,r){let i=r.initialDeps??[],o,u=!0;function d(){var h,g,x;let b;r.key&&((h=r.debug)!=null&&h.call(r))&&(b=Date.now());const v=e();if(!(v.length!==i.length||v.some((N,j)=>i[j]!==N)))return o;i=v;let E;if(r.key&&((g=r.debug)!=null&&g.call(r))&&(E=Date.now()),o=n(...v),r.key&&((x=r.debug)!=null&&x.call(r))){const N=Math.round((Date.now()-b)*100)/100,j=Math.round((Date.now()-E)*100)/100,C=j/16,T=(_,F)=>{for(_=String(_);_.length<F;)_=" "+_;return _};console.info(`%c ${T(j,5)} /${T(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,r?.key)}return r?.onChange&&!(u&&r.skipInitialOnChange)&&r.onChange(o),u=!1,o}return d.updateDeps=h=>{i=h},d}function $0(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const S2=(e,n)=>Math.abs(e-n)<1.01,E2=(e,n,r)=>{let i;return function(...o){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,o),r)}},q0=e=>{const{offsetWidth:n,offsetHeight:r}=e;return{width:n,height:r}},N2=e=>e,C2=e=>{const n=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let o=n;o<=r;o++)i.push(o);return i},_2=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;const o=d=>{const{width:h,height:g}=d;n({width:Math.round(h),height:Math.round(g)})};if(o(q0(r)),!i.ResizeObserver)return()=>{};const u=new i.ResizeObserver(d=>{const h=()=>{const g=d[0];if(g?.borderBoxSize){const x=g.borderBoxSize[0];if(x){o({width:x.inlineSize,height:x.blockSize});return}}o(q0(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return u.observe(r,{box:"border-box"}),()=>{u.unobserve(r)}},F0={passive:!0},H0=typeof window>"u"?!0:"onscrollend"in window,k2=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;let o=0;const u=e.options.useScrollendEvent&&H0?()=>{}:E2(i,()=>{n(o,!1)},e.options.isScrollingResetDelay),d=b=>()=>{const{horizontal:v,isRtl:w}=e.options;o=v?r.scrollLeft*(w&&-1||1):r.scrollTop,u(),n(o,b)},h=d(!0),g=d(!1);g(),r.addEventListener("scroll",h,F0);const x=e.options.useScrollendEvent&&H0;return x&&r.addEventListener("scrollend",g,F0),()=>{r.removeEventListener("scroll",h),x&&r.removeEventListener("scrollend",g)}},T2=(e,n,r)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},A2=(e,{adjustments:n=0,behavior:r},i)=>{var o,u;const d=e+n;(u=(o=i.scrollElement)==null?void 0:o.scrollTo)==null||u.call(o,{[i.options.horizontal?"left":"top"]:d,behavior:r})};class D2{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const i=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(o=>{o.forEach(u=>{const d=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var o;(o=i())==null||o.disconnect(),r=null},observe:o=>{var u;return(u=i())==null?void 0:u.observe(o,{box:"border-box"})},unobserve:o=>{var u;return(u=i())==null?void 0:u.unobserve(o)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([i,o])=>{typeof o>"u"&&delete r[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:N2,rangeExtractor:C2,onChange:()=>{},measureElement:T2,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var i,o;(o=(i=this.options).onChange)==null||o.call(i,this,r)},this.maybeNotify=ji(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=u,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,i)=>{const o=new Map,u=new Map;for(let d=i-1;d>=0;d--){const h=r[d];if(o.has(h.lane))continue;const g=u.get(h.lane);if(g==null||h.end>g.end?u.set(h.lane,h):h.end<g.end&&o.set(h.lane,!0),o.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((d,h)=>d.end===h.end?d.index-h.index:d.end-h.end)[0]:void 0},this.getMeasurementOptions=ji(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(r,i,o,u,d,h)=>(this.prevLanes!==void 0&&this.prevLanes!==h&&(this.lanesChangedFlag=!0),this.prevLanes=h,this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=ji(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h},g)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>r)for(const w of this.laneAssignments.keys())w>=r&&this.laneAssignments.delete(w);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(w=>{this.itemSizeCache.set(w.key,w.size)}));const x=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===r&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,x),v=new Array(h).fill(void 0);for(let w=0;w<x;w++){const E=b[w];E&&(v[E.lane]=w)}for(let w=x;w<r;w++){const E=u(w),N=this.laneAssignments.get(w);let j,C;if(N!==void 0&&this.options.lanes>1){j=N;const U=v[j],D=U!==void 0?b[U]:void 0;C=D?D.end+this.options.gap:i+o}else{const U=this.options.lanes===1?b[w-1]:this.getFurthestMeasurement(b,w);C=U?U.end+this.options.gap:i+o,j=U?U.lane:w%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(w,j)}const T=g.get(E),_=typeof T=="number"?T:this.options.estimateSize(w),F=C+_;b[w]={index:w,start:C,size:_,end:F,key:E,lane:j},v[j]=w}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ji(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,i,o,u)=>this.range=r.length>0&&i>0?M2({measurements:r,outerSize:i,scrollOffset:o,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ji(()=>{let r=null,i=null;const o=this.calculateRange();return o&&(r=o.startIndex,i=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,i]},(r,i,o,u,d)=>u===null||d===null?[]:r({startIndex:u,endIndex:d,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const i=this.options.indexAttribute,o=r.getAttribute(i);return o?parseInt(o,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(r,i)=>{const o=this.indexFromElement(r),u=this.measurementsCache[o];if(!u)return;const d=u.key,h=this.elementsCache.get(d);h!==r&&(h&&this.observer.unobserve(h),this.observer.observe(r),this.elementsCache.set(d,r)),r.isConnected&&this.resizeItem(o,this.options.measureElement(r,i,this))},this.resizeItem=(r,i)=>{const o=this.measurementsCache[r];if(!o)return;const u=this.itemSizeCache.get(o.key)??o.size,d=i-u;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,d,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,i)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((i,o)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(o))});return}this._measureElement(r,void 0)},this.getVirtualItems=ji(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,i)=>{const o=[];for(let u=0,d=r.length;u<d;u++){const h=r[u],g=i[h];o.push(g)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const i=this.getMeasurements();if(i.length!==0)return $0(i[ay(0,i.length-1,o=>$0(i[o]).start,r)])},this.getOffsetForAlignment=(r,i,o=0)=>{const u=this.getSize(),d=this.getScrollOffset();i==="auto"&&(i=r>=d+u?"end":"start"),i==="center"?r+=(o-u)/2:i==="end"&&(r-=u);const h=this.getTotalSize()+this.options.scrollMargin-u;return Math.max(Math.min(h,r),0)},this.getOffsetForIndex=(r,i="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const o=this.measurementsCache[r];if(!o)return;const u=this.getSize(),d=this.getScrollOffset();if(i==="auto")if(o.end>=d+u-this.options.scrollPaddingEnd)i="end";else if(o.start<=d+this.options.scrollPaddingStart)i="start";else return[d,i];const h=i==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,i,o.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:i="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,i),{adjustments:void 0,behavior:o})},this.scrollToIndex=(r,{align:i="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let u=0;const d=10,h=x=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(r,x);if(!b){console.warn("Failed to get offset for index:",r);return}const[v,w]=b;this._scrollToOffset(v,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const E=this.getScrollOffset(),N=this.getOffsetForIndex(r,w);if(!N){console.warn("Failed to get offset for index:",r);return}S2(N[0],E)||g(w)})},g=x=>{this.targetWindow&&(u++,u<d?this.targetWindow.requestAnimationFrame(()=>h(x)):console.warn(`Failed to scroll to index ${r} after ${d} attempts.`))};h(i)},this.scrollBy=(r,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var r;const i=this.getMeasurements();let o;if(i.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((r=i[i.length-1])==null?void 0:r.end)??0;else{const u=Array(this.options.lanes).fill(null);let d=i.length-1;for(;d>=0&&u.some(h=>h===null);){const h=i[d];u[h.lane]===null&&(u[h.lane]=h.end),d--}o=Math.max(...u.filter(h=>h!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:i,behavior:o})=>{this.options.scrollToFn(r,{behavior:o,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const ay=(e,n,r,i)=>{for(;e<=n;){const o=(e+n)/2|0,u=r(o);if(u<i)e=o+1;else if(u>i)n=o-1;else return o}return e>0?e-1:0};function M2({measurements:e,outerSize:n,scrollOffset:r,lanes:i}){const o=e.length-1,u=g=>e[g].start;if(e.length<=i)return{startIndex:0,endIndex:o};let d=ay(0,o,u,r),h=d;if(i===1)for(;h<o&&e[h].end<r+n;)h++;else if(i>1){const g=Array(i).fill(0);for(;h<o&&g.some(b=>b<r+n);){const b=e[h];g[b.lane]=b.end,h++}const x=Array(i).fill(r+n);for(;d>=0&&x.some(b=>b>=r);){const b=e[d];x[b.lane]=b.start,d--}d=Math.max(0,d-d%i),h=Math.min(o,h+(i-1-h%i))}return{startIndex:d,endIndex:h}}const Z0=typeof document<"u"?p.useLayoutEffect:p.useEffect;function R2(e){const n=p.useReducer(()=>({}),{})[1],r={...e,onChange:(o,u)=>{var d;u?ls.flushSync(n):n(),(d=e.onChange)==null||d.call(e,o,u)}},[i]=p.useState(()=>new D2(r));return i.setOptions(r),Z0(()=>i._didMount(),[]),Z0(()=>i._willUpdate()),i}function z2(e){return R2({observeElementRect:_2,observeElementOffset:k2,scrollToFn:A2,...e})}function I0(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function O2(e){const n=e.raw;if(n&&typeof n=="object"){const r=$2(n);if(r)return r}return B2(e.message)}function iy(e){const n=e.raw;if(!n||typeof n!="object")return null;try{return JSON.stringify(n)}catch{return null}}function L2(e){if(e==null)return l.jsx("span",{className:"text-slate-500",children:"null"});let n;try{n=JSON.stringify(e,null,2)}catch{n=String(e)}return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed text-[#d4d4d4]",children:ly(n)})}function U2(e){try{const n=JSON.parse(e);if(n&&typeof n=="object")return n}catch{return null}return null}function B2(e){if(e.includes(`
`)){const i=e.split(/\r?\n/),[o,...u]=i;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:o||" "}),u.length>0?l.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-[#2f2f2f] pl-3 text-[12px] leading-snug text-[#9da5b4]",children:u.join(`
`)}):null]})}const n=U2(e);if(!n)return e;const r=JSON.stringify(n,null,2);return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-[#d4d4d4]",children:ly(r)})}function ly(e){const n=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,r=[];let i=0,o,u=0;for(;(o=n.exec(e))!==null;){o.index>i&&r.push(e.slice(i,o.index));const d=o[0],h=o[1]?"text-sky-300":o[2]?"text-amber-300":"text-rose-300";r.push(l.jsx("span",{className:h,children:d},`json-${u++}`)),i=n.lastIndex}return i<e.length&&r.push(e.slice(i)),r}function $2(e){const n=typeof e.event=="string"?e.event:typeof e.type=="string"?e.type:"";if(!n)return null;const r=typeof e.level=="string"?e.level.toLowerCase():"",i=typeof e.message=="string"?e.message:"",o=e.data&&typeof e.data=="object"?e.data:{};if(n==="console.line"){const u=typeof o.message=="string"?o.message:i;return l.jsx("span",{className:"break-words",children:u||" "})}if(n==="engine.log"){const u=Z2(i);return l.jsx("span",{className:"break-words",children:u.text||" "})}if(n.startsWith("build.")||n.startsWith("run.")){const u=typeof o.status=="string"?o.status:void 0,d=typeof o.reason=="string"?o.reason:void 0,h=typeof o.phase=="string"?o.phase:void 0,g=typeof o.message=="string"?o.message:void 0,x=b=>{if(!b||b<0)return"";if(b<1e3)return`${Math.round(b)} ms`;if(b<6e4)return`${(b/1e3).toFixed(1)} s`;const v=Math.floor(b/6e4),w=Math.round(b%6e4/1e3);return`${v}m ${w}s`};if(n==="build.phase.start")return l.jsx("span",{className:"break-words",children:g||(h?`Build: ${h}`:"Build phase started")});if(n==="build.start")return l.jsx("span",{className:"break-words",children:`Build started${d?` (${d})`:""}`});if(n==="build.queued")return l.jsx("span",{className:"break-words",children:`Build queued${d?` (${d})`:""}`});if(n==="build.complete")return l.jsx("span",{className:"break-words",children:`Build ${u??"completed"}`});if(n==="run.queued"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run queued${b?` (${b})`:""}`})}if(n==="run.waiting_for_build")return l.jsx("span",{className:"break-words",children:`Waiting for build${d?` (${d})`:""}`});if(n==="run.start"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run started${b?` (${b})`:""}`})}if(n==="run.complete"){const b=o.execution&&typeof o.execution=="object"?o.execution:{},v=typeof b.duration_ms=="number"?b.duration_ms:void 0,w=v?`  ${x(v)}`:"";return l.jsx("span",{className:"break-words",children:`Run ${u??"completed"}${w}`})}return i.trim()?l.jsx("span",{className:"break-words",children:i}):n.startsWith("build.")?l.jsx("span",{className:"break-words",children:g||h||u||n}):l.jsx("span",{className:"break-words",children:u||n})}if(n==="engine.config.loaded"){const u=ut(o.config_package)??ut(o.config_package_name),d=ut(o.entrypoint),h=Array.isArray(o.fields)?o.fields.length:void 0,g=xs(o.settings),x=ut(g?.log_format),b=typeof g?.log_level=="number"?g.log_level:void 0,v=u?ja(u):void 0,w=["Config loaded",d?`entry=${d}`:null,typeof h=="number"?`fields=${h}`:null,x?`log=${x}${typeof b=="number"?`(${b})`:""}`:null,v&&v!=="src"?v:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:w.join("  ")})}if(n==="engine.settings.effective"){const u=xs(o.settings);if(!u)return l.jsx("span",{className:"break-words",children:"Settings (effective)"});const d=ut(u.log_format),h=typeof u.log_level=="number"?u.log_level:void 0,g=typeof u.max_empty_rows_run=="number"?u.max_empty_rows_run:void 0,x=typeof u.max_empty_cols_run=="number"?u.max_empty_cols_run:void 0,b=ut(u.unmapped_prefix),v=["Settings",d?`log=${d}${typeof h=="number"?`(${h})`:""}`:null,b?`unmapped=${b}`:null,typeof g=="number"?`maxEmptyRows=${g}`:null,typeof x=="number"?`maxEmptyCols=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.hook.start"||n==="engine.hook.end"){const u=ut(o.hook_name)??ut(o.hook),d=n.endsWith(".start")?"start":"end";return l.jsx("span",{className:"break-words",children:u?`Hook ${u}  ${d}`:`Hook  ${d}`})}if(n==="engine.run.started"){const u=ut(o.input_file),d=ut(o.config_package),h=["Run started",u?ja(u):null,d?`config=${ja(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.planned"){const u=ut(o.output_file),d=ut(o.logs_file),h=["Run planned",u?`output=${ja(u)}`:null,d?`logs=${ja(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.completed"){const u=xs(o.execution)??{},d=xs(o.evaluation)??{},h=xs(o.counts)??{},g=ut(u.status),x=ut(d.outcome),b=typeof u.duration_ms=="number"?u.duration_ms:void 0,v=typeof h.tables=="number"?h.tables:void 0,w=["Run completed",g||null,x?`outcome=${x}`:null,typeof v=="number"?`tables=${v}`:null,typeof b=="number"?`${Math.round(b)}ms`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:w.join("  ")})}if(n==="engine.workbook.started"){const u=typeof o.sheet_count=="number"?o.sheet_count:void 0;return l.jsx("span",{className:"break-words",children:`Workbook start${typeof u=="number"?`  sheets=${u}`:""}`})}if(n==="engine.sheet.started"){const u=ut(o.sheet_name),d=typeof o.sheet_index=="number"?o.sheet_index+1:void 0,h=["Sheet start",u||null,typeof d=="number"?`#${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.sheet.tables_detected"){const u=ut(o.sheet_name),d=typeof o.table_count=="number"?o.table_count:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=[u||"Sheet",typeof d=="number"?`tables=${d}`:null,typeof h=="number"?`rows=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.table.detected"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.column_count=="number"?o.column_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","detected",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.extracted"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.col_count=="number"?o.col_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","extracted",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.mapped"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.mapped_fields=="number"?o.mapped_fields:void 0,g=typeof o.total_fields=="number"?o.total_fields:void 0,x=typeof o.passthrough_fields=="number"?o.passthrough_fields:void 0,b=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapped",typeof h=="number"&&typeof g=="number"?`mapped=${h}/${g}`:null,typeof x=="number"?`passthrough=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.table.mapping_patched"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapping patched"].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.table.normalized"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.issue_count=="number"?o.issue_count:void 0,x=xs(o.issues_by_severity),b=x?F2(x,2):null,v=[u||null,typeof d=="number"?`Table ${d}`:"Table","normalized",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`issues=${g}`:null,b||null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.table.written"){const u=ut(o.sheet_name),d=typeof o.table_index=="number"?o.table_index:void 0,h=ut(o.output_range),g=H2(i),x=[u||null,typeof d=="number"?`Table ${d+1}`:null,"written",h||null,g?`mapped=${g.mapped} unmapped=${g.unmapped}`:null].filter(Boolean).join("  ");return l.jsx("span",{className:"break-words",children:x||"Table written"})}if(n==="engine.validation.result"){const u=typeof o.validator=="string"?o.validator:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.issues_found=="number"?o.issues_found:void 0,g=typeof o.column_index=="number"?o.column_index:void 0,x=Array.isArray(o.results_sample)?o.results_sample:[],b=typeof h=="number"&&h>0&&x.length>0?`sample=${V0(JSON.stringify(x[0]),80)}`:null,v=["Validate",d??null,typeof g=="number"?`Col ${Cc(g)}`:null,u?`via ${u}`:null,typeof h=="number"?`issues=${h}`:null,b].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.validation.summary"){const u=typeof o.issues_total=="number"?o.issues_total:void 0;return l.jsx("span",{className:"break-words",children:`Validation summary${typeof u=="number"?`  issues=${u}`:""}`})}if(n==="engine.transform.result"){const u=typeof o.transform=="string"?o.transform:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.input_len=="number"?o.input_len:void 0,g=typeof o.output_len=="number"?o.output_len:void 0,x=typeof o.row_count=="number"?o.row_count:void 0,b=[u?`Transform ${u}`:"Transform",d??null,typeof x=="number"?`rows=${x}`:null,typeof h=="number"&&typeof g=="number"?`${h}${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.transform.derived_merge"){const u=ut(o.field),d=ut(o.mode),h=["Derived merge",u??null,d?`mode=${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.column_detector.candidate"){const u=typeof o.column_index=="number"?o.column_index:void 0,d=typeof o.header=="string"?o.header:void 0,h=typeof o.best_field=="string"?o.best_field:void 0,g=typeof o.best_score=="number"?o.best_score:void 0,x=xs(o.scores),b=x?Bl(x,3):null,v=xs(o.contributions),w=v?Bl(v,2):null,E=[typeof u=="number"?`Col ${Cc(u)}`:null,d?`"${V0(d,32)}"`:null,h?`suggested=${h}`:null,typeof g=="number"?`(${g.toFixed(3)})`:null,b?`why: ${b}`:null,w?`signals: ${w}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:E.join("  ")})}if(n==="engine.column_detector.summary"){const u=Array.isArray(o.mapped)?o.mapped:[],d=typeof o.total_columns=="number"?o.total_columns:void 0,h=Array.isArray(o.unmapped_indices)?o.unmapped_indices.length:void 0,g=["Columns",typeof d=="number"?`total=${d}`:null,`mapped=${u.length}`,typeof h=="number"?`unmapped=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.row_detector.summary"){const u=ut(o.sheet_name),d=typeof o.header_row_index=="number"?o.header_row_index+1:void 0,h=typeof o.header_score=="number"?o.header_score:void 0,g=typeof o.data_start_index=="number"?o.data_start_index+1:void 0,x=typeof o.data_end_index=="number"?o.data_end_index+1:void 0,b=[u?`${u}`:"Rows",typeof d=="number"?`headerRow=${d}`:null,typeof h=="number"?`score=${h.toFixed(3)}`:null,typeof g=="number"&&typeof x=="number"?`dataRows=${g}..${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.detector.column_result"||n==="engine.detector.row_result"){const u=typeof o.sheet_name=="string"?o.sheet_name:void 0,d=typeof o.column_index=="number"?o.column_index:void 0,h=typeof o.row_index=="number"?o.row_index:void 0,g=o.detector&&typeof o.detector=="object"?o.detector:{},x=typeof g.name=="string"?g.name:void 0,b=typeof g.duration_ms=="number"?g.duration_ms:void 0,v=g.scores&&typeof g.scores=="object"?g.scores:null,w=v?Bl(v,2):null;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${Cc(d)}`:null,typeof h=="number"?`Row ${h+1}`:null,x?`ran ${x}`:"ran detector",typeof b=="number"?q2(b):null,w?`scores: ${w}`:null].filter(Boolean).join("  ")})}if(n==="engine.row_classification"){const u=ut(o.sheet_name),d=typeof o.row_index=="number"?o.row_index+1:void 0,h=xs(o.scores),g=h?Bl(h,2):null,x=xs(o.classification),b=ut(x?.row_kind),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_row_kinds)?x?.considered_row_kinds.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Row ${d}`:"Row",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}if(n==="engine.column_classification"){const u=ut(o.sheet_name),d=typeof o.column_index=="number"?o.column_index:void 0,h=xs(o.scores),g=h?Bl(h,2):null,x=xs(o.classification),b=ut(x?.field),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_fields)?x?.considered_fields.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${Cc(d)}`:"Col",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}return i&&i!==n?l.jsx("span",{className:"break-words",children:i}):Object.keys(o).length?r==="debug"&&n.startsWith("engine.")?l.jsx("span",{className:"break-words",children:n}):l.jsx("span",{className:"break-words",children:n}):null}function ut(e){return typeof e=="string"&&e.trim().length?e:null}function xs(e){return!e||typeof e!="object"?null:e}function ja(e){const n=e.trim();if(!n)return"";const r=n.split(/[\\/]/).filter(Boolean);return r[r.length-1]??n}function V0(e,n){return e.length<=n?e:e.slice(0,Math.max(0,n-1))+""}function Cc(e){let n=Math.floor(e);if(!Number.isFinite(n)||n<0)return String(e);let r="";for(;n>=0;)r=String.fromCharCode(n%26+65)+r,n=Math.floor(n/26)-1;return r}function q2(e){return!Number.isFinite(e)||e<0?`${e}ms`:e<1?`${e.toFixed(3)}ms`:e<10?`${e.toFixed(2)}ms`:e<100?`${e.toFixed(1)}ms`:e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}function Bl(e,n){const r=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&r.push([i,o]);return r.length?(r.sort((i,o)=>o[1]-i[1]),r.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${o.toFixed(3)}`).join(" ")):null}function F2(e,n){const r=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&r.push([i,o]);return r.length?(r.sort((i,o)=>o[1]-i[1]),r.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${Math.round(o)}`).join(" ")):null}function H2(e){const n=e.match(/Rendered table with\s+(\d+)\s+\w+\s+columns?\s+and\s+(\d+)\s+unmapped/i);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);return!Number.isFinite(r)||!Number.isFinite(i)?null:{mapped:r,unmapped:i}}function Z2(e){const n=(e||"").trim();if(!n)return{text:""};const r="Config hook:",i=n.startsWith(r)?n.slice(r.length).trim():n,o=i.match(/^workbook start\s*\((.+)\)\s*$/i);if(o){const b=o[1];return{text:`Workbook start  ${ja(b)}`,title:b}}const u=i.match(/^workbook before save\s*\((.+)\)\s*$/i);if(u){const b=u[1];return{text:`Workbook save  ${ja(b)}`,title:b}}const d=i.match(/^sheet start\s*\((.+)\)\s*$/i);if(d)return{text:`Sheet start  ${d[1]}`};const h=i.match(/^table detected\s*\((.+)\)\s*$/i);if(h)return{text:`Table detected  ${h[1].replace(/\s*,\s*/g,"  ")}`};const g=i.match(/^table mapped\s*\((.+)\)\s*$/i);if(g){const b=g[1],v=b.match(/fields=\[(.*)\]/i);return v?{text:`Table mapped  fields=${v[1].split(",").map(E=>E.trim()).filter(Boolean).length}`,title:b}:{text:`Table mapped  ${b}`}}const x=i.match(/^table written\s*\((.+)\)\s*$/i);return x?{text:`Table written  ${x[1].replace(/\s*,\s*/g,"  ")}`}:{text:n}}const Q0="ade.ui.workbench.console.levelFilter.v1";function I2({console:e,latestRun:n,onClearConsole:r,runStatus:i}){const[o,u]=p.useState(()=>{const A={origin:"all",level:"info"};if(typeof window>"u")return A;try{const se=window.localStorage.getItem(Q0);if(se==="all"||se==="debug"||se==="info"||se==="warning"||se==="error"||se==="success")return{...A,level:se}}catch{}return A}),[d,h]=p.useState(!0),[g,x]=p.useState(!1),[b,v]=p.useState(!1),[w,E]=p.useState("parsed"),[N,j]=p.useState(null),[C,T]=p.useState(!1),_=p.useRef(null),F=p.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),U=F.length,D=p.useMemo(()=>{const A=I0(o.level),se=[];for(let de=0;de<F.length;de+=1){const ae=e.getLine(de);if(!ae)continue;const k=o.origin==="all"||(ae.origin??"run")===o.origin,Q=I0(ae.level),ce=o.level==="all"||Q>=A;k&&ce&&se.push(de)}return se},[e,F,o]),K=D.length>0,O=U>0,Z=i&&i!=="idle"?i:null,W=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",X=z2({count:D.length,getScrollElement:()=>_.current,estimateSize:()=>22,overscan:16});p.useEffect(()=>{d&&D.length!==0&&X.scrollToIndex(D.length-1,{align:"end"})},[d,D.length,F,X]),p.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Q0,o.level)}catch{}},[o.level]);const re=A=>{const se=A.currentTarget,ae=se.scrollHeight-se.scrollTop-se.clientHeight<16;!ae&&d?h(!1):ae&&!d&&h(!0)},B=()=>{h(!0),X.scrollToIndex(D.length-1,{align:"end"})},G=p.useCallback(async A=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(A),!0}catch{}if(typeof document>"u")return!1;try{const se=document.createElement("textarea");se.value=A,se.setAttribute("readonly","true"),se.style.position="fixed",se.style.left="-9999px",document.body.appendChild(se),se.select();const de=document.execCommand("copy");return document.body.removeChild(se),de}catch{return!1}},[]),ue=async()=>{if(!K)return;const A=[];for(const de of D){const ae=e.getLine(de);ae&&A.push(X2(ae,w))}const se=await G(A.join(`
`));x(se),se&&window.setTimeout(()=>x(!1),1500)},we=p.useCallback(A=>{!A.raw||typeof A.raw!="object"||(j(A),T(!0))},[]),M=()=>{T(!1)};return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-[#2a2a2a] bg-[#1e1e1e] font-mono text-[13px] leading-relaxed text-[#d4d4d4] shadow-[0_8px_24px_rgba(0,0,0,0.45)]",children:[l.jsxs("div",{className:"flex flex-col border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#232323]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-[#9da5b4]",children:[l.jsx("span",{className:"font-semibold tracking-[0.3em] text-slate-200",children:"ADE"}),l.jsx("span",{className:"text-slate-400",children:"Terminal"}),Z?l.jsx("span",{className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-slate-200",children:Z}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter logs by scope",children:["Origin",l.jsxs("select",{value:o.origin,onChange:A=>u(se=>({...se,origin:A.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by severity",children:["Level",l.jsxs("select",{value:o.level,onChange:A=>u(se=>({...se,level:A.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"debug",children:"Debug"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>d?h(!1):B(),className:me("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",d?"border border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),title:"Auto-scroll to newest logs",children:d?"Following":"Follow"}),l.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"View"}),l.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",role:"radio","aria-checked":w==="parsed",onClick:()=>E("parsed"),className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="parsed"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"Parsed"}),l.jsx("button",{type:"button",role:"radio","aria-checked":w==="ndjson",onClick:()=>E("ndjson"),className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="ndjson"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"NDJSON"})]})]}),l.jsx("button",{type:"button",onClick:ue,className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",g?"border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),disabled:!K,title:W?"Copy visible console output":"Copy may be blocked by browser permissions",children:g?"Copied":"Copy"}),l.jsx("button",{type:"button",onClick:()=>r?.(),className:"rounded border border-slate-600 bg-[#0f0f0f] px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-200 transition hover:border-slate-400",title:"Clear console output",children:"Clear"})]})]}),n?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-[#2a2a2a] bg-[#181818] px-4 py-1.5 text-[11px] text-[#7f8794]",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(V2,{status:n.status}),l.jsxs("span",{className:"truncate",title:n.runId,children:["Run ",n.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[n.documentName??"Document not recorded",P0(n.sheetNames)?`  ${P0(n.sheetNames)}`:""]}),n.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",J2(n.durationMs)]}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-600",children:"Downloads"}),l.jsx(Mf,{href:n.outputUrl,label:n.outputFilename?`Output (${n.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),l.jsx(Mf,{href:n.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),l.jsx(Mf,{href:n.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),l.jsx("div",{ref:_,onScroll:re,className:"flex-1 overflow-auto bg-[#1e1e1e] [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:K?l.jsx("div",{style:{height:X.getTotalSize(),position:"relative"},children:X.getVirtualItems().map(A=>{const se=D[A.index],de=typeof se=="number"?e.getLine(se):void 0;if(!de)return null;const ae=de.id??`${de.timestamp??"tbd"}-${de.origin??"run"}-${se}`,k=!!(de.raw&&typeof de.raw=="object"),Q=w==="ndjson"?l.jsx("span",{className:"whitespace-pre-wrap break-words",children:iy(de)??de.message}):O2(de);return l.jsx("div",{"data-index":A.index,ref:X.measureElement,className:"group flex items-start gap-3 border-b border-[#1a1a1a] px-3 py-[2px] transition hover:bg-[#232323] last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${A.start}px)`},children:l.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[K2(de.timestamp),l.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-[#606674]",children:ih(de.origin)}),l.jsx("span",{className:me("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",Y2(de.level)),children:G2(de.level)}),l.jsx("div",{className:me("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",Q2(de.level)),children:Q}),k?l.jsx("button",{type:"button",onClick:()=>we(de),className:"ml-2 shrink-0 rounded border border-slate-700 bg-[#101010] px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.12em] text-slate-300 opacity-0 transition hover:border-slate-500 hover:text-slate-100 group-hover:opacity-100",title:"Inspect pretty JSON",children:"JSON"}):null]})},ae)})}):O?l.jsx(W0,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):l.jsx(W0,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})}),C&&N?.raw&&typeof N.raw=="object"?l.jsxs("div",{className:"border-t border-[#2a2a2a] bg-[#151515]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"min-w-0 truncate",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Inspector"}),N.timestamp?l.jsxs("span",{className:"ml-2 text-slate-500",children:["[",Fh(N.timestamp),"]"]}):null,l.jsx("span",{className:"ml-2 text-slate-300",children:ih(N.origin)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:async()=>{const A=N.raw,se=JSON.stringify(A,null,2),de=await G(se);v(de),de&&window.setTimeout(()=>v(!1),1500)},className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Copy pretty JSON",children:b?"Copied":"Copy JSON"}),l.jsx("button",{type:"button",onClick:M,className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Close inspector",children:"Close"})]})]}),l.jsx("div",{className:"max-h-[260px] overflow-auto px-3 pb-3 [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:L2(N.raw)})]}):null]})}function W0({title:e,description:n}){return l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:e}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:n})]})}function V2({status:e}){const n=P2(e),r=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:me("inline-block h-2.5 w-2.5 rounded-full",r),"aria-hidden":!0})}function Q2(e){switch(e){case"warning":return"text-amber-100";case"error":return"text-rose-100";case"success":return"text-emerald-100";default:return"text-[#d4d4d4]"}}function W2(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function P2(e){return e==="cancelled"}function ih(e){return e==="build"?"[build]":"[run]"}function K2(e){const n=Fh(e);return n?l.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#7a8090]",children:["[",n,"]"]}):l.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#4f5665]","aria-hidden":!0,children:""})}function G2(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function Y2(e){switch(e){case"warning":return"text-amber-300";case"error":return"text-rose-300";case"success":return"text-emerald-300";default:return"text-[#6f7683]"}}function Fh(e){if(!e)return"";const n=new Date(e);if(!Number.isNaN(n.getTime()))return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const r=e.trim();return r.length>0?r:""}function X2(e,n){const r=Fh(e.timestamp),i=ih(e.origin),o=W2(e.level).toLowerCase(),u=n==="ndjson"?iy(e)??e.message??"":e.message??"";return`${r?`[${r}] `:""}${i} ${o} ${u}`.trim()}function P0(e){return e?e.length===0?"All worksheets":e.join(", "):null}function J2(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function Mf({href:e,label:n,disabledLabel:r,disabledReason:i}){const o=typeof e=="string"&&e.trim().length>0,u="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",d="border-slate-700 bg-[#101010] text-slate-200 hover:border-slate-500",h="border-slate-800 bg-[#0f0f0f] text-slate-600 cursor-not-allowed";return o?l.jsxs("a",{className:me(u,d),href:e,title:n,children:[l.jsx(e5,{}),l.jsx("span",{className:"truncate",children:n})]}):l.jsx("span",{className:me(u,h),title:i,children:r})}function e5(){return l.jsxs("svg",{viewBox:"0 0 20 20",className:"h-3.5 w-3.5 text-slate-300",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 3v8m0 0 3-3m-3 3-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 13.5v2A1.5 1.5 0 0 0 5.5 17h9A1.5 1.5 0 0 0 16 15.5v-2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function t5({validation:e}){const n=s5(e),r=r5(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",a5(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,o)=>l.jsxs("li",{className:n5(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??o}-${o}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:r})]})}function n5(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function s5(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function r5(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function a5(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function i5({height:e,console:n,validation:r,activePane:i,onPaneChange:o,latestRun:u,onClearConsole:d,runStatus:h,onToggleCollapse:g,appearance:x="light"}){const b=r.messages.length>0,v=x==="dark"?{surface:"border-[#1f2431] bg-[#0f111a] text-slate-100",header:"border-[#1f2431] bg-[#0f111a]",hideButton:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{surface:"border-slate-200 bg-slate-50 text-slate-800",header:"border-slate-200 bg-slate-50",hideButton:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"};return l.jsx("section",{className:me("flex min-h-0 flex-col overflow-hidden border-t",v.surface),style:{height:e},children:l.jsxs(sy,{value:i,onValueChange:w=>o(w),children:[l.jsxs("div",{className:me("flex flex-none items-center justify-between border-b px-3 py-1.5",v.header),onDoubleClick:g,title:g?"Double-click to hide console":void 0,children:[l.jsxs(ry,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(rh,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(rh,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",b?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:r.messages.length}):null]})]}),g?l.jsx("button",{type:"button",onClick:g,className:me("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",v.hideButton),title:"Hide console",children:"Hide"}):null]}),l.jsx(ah,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(I2,{console:n,latestRun:u,onClearConsole:d,runStatus:h})}),l.jsx(ah,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(t5,{validation:r})})]})})}function l5({containerRef:e,tabs:n,activeTabId:r,onCloseTab:i,onSelectRecentTab:o,onSelectTab:u}){return p.useEffect(()=>{if(!n.length)return;const d=g=>{const x=e.current;if(!x)return!1;const b=g.target;if(b instanceof Node&&x.contains(b))return!0;const v=document.activeElement;return!!(v&&x.contains(v))},h=g=>{if(!(g.ctrlKey||g.metaKey)||!d(g))return;if(g.key.toLowerCase()==="w"){if(!r)return;g.preventDefault(),i(r);return}if(g.key==="Tab"){if(n.length<2)return;g.preventDefault(),o(g.shiftKey?"backward":"forward");return}const x=b=>{if(n.length<2)return;const v=n.findIndex(j=>j.id===r),E=((v>=0?v:0)+b+n.length)%n.length,N=n[E];N&&u(N.id)};if(g.key==="PageUp"){g.preventDefault(),x(-1);return}g.key==="PageDown"&&(g.preventDefault(),x(1))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[n,r,i,o,u,e]),null}const o5=p.lazy(()=>Wj(()=>import("./MonacoCodeEditor-3JfT-GpG.js"),[])),c5=p.forwardRef(function(n,r){const{className:i,...o}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:me("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(o5,{...o,ref:r,className:i})})});function u5({tabs:e,activeTabId:n,editorTheme:r,onContentChange:i,onSaveTab:o,canSaveFiles:u=!1,onRetryTabLoad:d,onSelectTab:h,isTabDragging:g=!1}){return p.useMemo(()=>e.find(b=>b.id===n)??null,[e,n])?l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(b=>l.jsx(ah,{value:b.id,className:"flex min-h-0 min-w-0 flex-1",children:b.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",b.name,""]}):b.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:b.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>d?d(b.id):h(b.id),children:"Retry loading"})]}):l.jsx("div",{className:me("flex min-h-0 min-w-0 flex-1",g&&"pointer-events-none select-none"),children:l.jsx(c5,{value:b.content,language:b.language??"plaintext",path:b.id,theme:r,onChange:v=>i(b.id,v??""),onSaveShortcut:()=>{u&&o?.(b.id)}})})},b.id))}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."})}function d5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(o=>o(i))},n)}const fu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Li(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Hh(e){return"nodeType"in e}function Kn(e){var n,r;return e?Li(e)?e:Hh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Zh(e){const{Document:n}=Kn(e);return e instanceof n}function ao(e){return Li(e)?!1:e instanceof Kn(e).HTMLElement}function oy(e){return e instanceof Kn(e).SVGElement}function Ui(e){return e?Li(e)?e.document:Hh(e)?Zh(e)?e:ao(e)||oy(e)?e.ownerDocument:document:document:document}const Ks=fu?p.useLayoutEffect:p.useEffect;function Ih(e){const n=p.useRef(e);return Ks(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.current==null?void 0:n.current(...i)},[])}function f5(){const e=p.useRef(null),n=p.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Gl(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return Ks(()=>{r.current!==e&&(r.current=e)},n),r}function io(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Wc(e){const n=Ih(e),r=p.useRef(null),i=p.useCallback(o=>{o!==r.current&&n?.(o,r.current),r.current=o},[]);return[r,i]}function lh(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let Rf={};function lo(e,n){return p.useMemo(()=>{if(n)return n;const r=Rf[e]==null?0:Rf[e]+1;return Rf[e]=r,e+"-"+r},[e,n])}function cy(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((u,d)=>{const h=Object.entries(d);for(const[g,x]of h){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const ki=cy(1),Pc=cy(-1);function h5(e){return"clientX"in e&&"clientY"in e}function Vh(e){if(!e)return!1;const{KeyboardEvent:n}=Kn(e.target);return n&&e instanceof n}function m5(e){if(!e)return!1;const{TouchEvent:n}=Kn(e.target);return n&&e instanceof n}function oh(e){if(m5(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return h5(e)?{x:e.clientX,y:e.clientY}:null}const Yl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Yl.Translate.toString(e),Yl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),K0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function p5(e){return e.matches(K0)?e:e.querySelector(K0)}const g5={display:"none"};function x5(e){let{id:n,value:r}=e;return vt.createElement("div",{id:n,style:g5},r)}function b5(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vt.createElement("div",{id:n,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function v5(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const uy=p.createContext(null);function y5(e){const n=p.useContext(uy);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function w5(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:o,event:u}=i;e.forEach(d=>{var h;return(h=d[o])==null?void 0:h.call(d,u)})},[e]),n]}const j5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S5={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function E5(e){let{announcements:n=S5,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=j5}=e;const{announce:u,announcement:d}=v5(),h=lo("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),y5(p.useMemo(()=>({onDragStart(v){let{active:w}=v;u(n.onDragStart({active:w}))},onDragMove(v){let{active:w,over:E}=v;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(v){let{active:w,over:E}=v;u(n.onDragOver({active:w,over:E}))},onDragEnd(v){let{active:w,over:E}=v;u(n.onDragEnd({active:w,over:E}))},onDragCancel(v){let{active:w,over:E}=v;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!g)return null;const b=vt.createElement(vt.Fragment,null,vt.createElement(x5,{id:i,value:o.draggable}),vt.createElement(b5,{id:h,announcement:d}));return r?ls.createPortal(b,r):b}var on;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(on||(on={}));function Kc(){}function N5(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function C5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const zs=Object.freeze({x:0,y:0});function _5(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function k5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function T5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function A5(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function G0(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const D5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=G0(n,n.left,n.top),u=[];for(const d of i){const{id:h}=d,g=r.get(h);if(g){const x=_5(G0(g),o);u.push({id:h,data:{droppableContainer:d,value:x}})}}return u.sort(k5)};function M5(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),d=o-i,h=u-r;if(i<o&&r<u){const g=n.width*n.height,x=e.width*e.height,b=d*h,v=b/(g+x-b);return Number(v.toFixed(4))}return 0}const R5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=[];for(const u of i){const{id:d}=u,h=r.get(d);if(h){const g=M5(h,n);g>0&&o.push({id:d,data:{droppableContainer:u,value:g}})}}return o.sort(T5)};function z5(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function dy(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:zs}function O5(e){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return o.reduce((d,h)=>({...d,top:d.top+e*h.y,bottom:d.bottom+e*h.y,left:d.left+e*h.x,right:d.right+e*h.x}),{...r})}}const L5=O5(1);function U5(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function B5(e,n,r){const i=U5(n);if(!i)return e;const{scaleX:o,scaleY:u,x:d,y:h}=i,g=e.left-d-(1-o)*parseFloat(r),x=e.top-h-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=o?e.width/o:e.width,v=u?e.height/u:e.height;return{width:b,height:v,top:x,right:g+b,bottom:x+v,left:g}}const $5={ignoreTransform:!1};function Bi(e,n){n===void 0&&(n=$5);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=Kn(e).getComputedStyle(e);x&&(r=B5(r,x,b))}const{top:i,left:o,width:u,height:d,bottom:h,right:g}=r;return{top:i,left:o,width:u,height:d,bottom:h,right:g}}function Y0(e){return Bi(e,{ignoreTransform:!0})}function q5(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function F5(e,n){return n===void 0&&(n=Kn(e).getComputedStyle(e)),n.position==="fixed"}function H5(e,n){n===void 0&&(n=Kn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=n[o];return typeof u=="string"?r.test(u):!1})}function Qh(e,n){const r=[];function i(o){if(n!=null&&r.length>=n||!o)return r;if(Zh(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!ao(o)||oy(o)||r.includes(o))return r;const u=Kn(e).getComputedStyle(o);return o!==e&&H5(o,u)&&r.push(o),F5(o,u)?r:i(o.parentNode)}return e?i(e):r}function fy(e){const[n]=Qh(e,1);return n??null}function zf(e){return!fu||!e?null:Li(e)?e:Hh(e)?Zh(e)||e===Ui(e).scrollingElement?window:ao(e)?e:null:null}function hy(e){return Li(e)?e.scrollX:e.scrollLeft}function my(e){return Li(e)?e.scrollY:e.scrollTop}function ch(e){return{x:hy(e),y:my(e)}}var gn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(gn||(gn={}));function py(e){return!fu||!e?!1:e===document.scrollingElement}function gy(e){const n={x:0,y:0},r=py(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,h=e.scrollLeft>=i.x;return{isTop:o,isLeft:u,isBottom:d,isRight:h,maxScroll:i,minScroll:n}}const Z5={x:.2,y:.2};function I5(e,n,r,i,o){let{top:u,left:d,right:h,bottom:g}=r;i===void 0&&(i=10),o===void 0&&(o=Z5);const{isTop:x,isBottom:b,isLeft:v,isRight:w}=gy(e),E={x:0,y:0},N={x:0,y:0},j={height:n.height*o.y,width:n.width*o.x};return!x&&u<=n.top+j.height?(E.y=gn.Backward,N.y=i*Math.abs((n.top+j.height-u)/j.height)):!b&&g>=n.bottom-j.height&&(E.y=gn.Forward,N.y=i*Math.abs((n.bottom-j.height-g)/j.height)),!w&&h>=n.right-j.width?(E.x=gn.Forward,N.x=i*Math.abs((n.right-j.width-h)/j.width)):!v&&d<=n.left+j.width&&(E.x=gn.Backward,N.x=i*Math.abs((n.left+j.width-d)/j.width)),{direction:E,speed:N}}function V5(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:n,left:r,right:i,bottom:o}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function xy(e){return e.reduce((n,r)=>ki(n,ch(r)),zs)}function Q5(e){return e.reduce((n,r)=>n+hy(r),0)}function W5(e){return e.reduce((n,r)=>n+my(r),0)}function P5(e,n){if(n===void 0&&(n=Bi),!e)return;const{top:r,left:i,bottom:o,right:u}=n(e);fy(e)&&(o<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K5=[["x",["left","right"],Q5],["y",["top","bottom"],W5]];class Wh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Qh(r),o=xy(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,d,h]of K5)for(const g of d)Object.defineProperty(this,g,{get:()=>{const x=h(i),b=o[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Fl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var o;(o=this.target)==null||o.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function G5(e){const{EventTarget:n}=Kn(e);return e instanceof n?e:Ui(e)}function Of(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var vs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(vs||(vs={}));function X0(e){e.preventDefault()}function Y5(e){e.stopPropagation()}var ot;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ot||(ot={}));const by={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},X5=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case ot.Right:return{...r,x:r.x+25};case ot.Left:return{...r,x:r.x-25};case ot.Down:return{...r,y:r.y+25};case ot.Up:return{...r,y:r.y-25}}};class vy{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Fl(Ui(r)),this.windowListeners=new Fl(Kn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vs.Resize,this.handleCancel),this.windowListeners.add(vs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&P5(i),r(zs)}handleKeyDown(n){if(Vh(n)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:u=by,coordinateGetter:d=X5,scrollBehavior:h="smooth"}=o,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:zs;this.referenceCoordinates||(this.referenceCoordinates=b);const v=d(n,{active:r,context:i.current,currentCoordinates:b});if(v){const w=Pc(v,b),E={x:0,y:0},{scrollableAncestors:N}=i.current;for(const j of N){const C=n.code,{isTop:T,isRight:_,isLeft:F,isBottom:U,maxScroll:D,minScroll:K}=gy(j),O=V5(j),Z={x:Math.min(C===ot.Right?O.right-O.width/2:O.right,Math.max(C===ot.Right?O.left:O.left+O.width/2,v.x)),y:Math.min(C===ot.Down?O.bottom-O.height/2:O.bottom,Math.max(C===ot.Down?O.top:O.top+O.height/2,v.y))},W=C===ot.Right&&!_||C===ot.Left&&!F,X=C===ot.Down&&!U||C===ot.Up&&!T;if(W&&Z.x!==v.x){const re=j.scrollLeft+w.x,B=C===ot.Right&&re<=D.x||C===ot.Left&&re>=K.x;if(B&&!w.y){j.scrollTo({left:re,behavior:h});return}B?E.x=j.scrollLeft-re:E.x=C===ot.Right?j.scrollLeft-D.x:j.scrollLeft-K.x,E.x&&j.scrollBy({left:-E.x,behavior:h});break}else if(X&&Z.y!==v.y){const re=j.scrollTop+w.y,B=C===ot.Down&&re<=D.y||C===ot.Up&&re>=K.y;if(B&&!w.x){j.scrollTo({top:re,behavior:h});return}B?E.y=j.scrollTop-re:E.y=C===ot.Down?j.scrollTop-D.y:j.scrollTop-K.y,E.y&&j.scrollBy({top:-E.y,behavior:h});break}}this.handleMove(n,ki(Pc(v,this.referenceCoordinates),E))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vy.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=by,onActivation:o}=n,{active:u}=r;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const h=u.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function J0(e){return!!(e&&"distance"in e)}function eb(e){return!!(e&&"delay"in e)}class Ph{constructor(n,r,i){var o;i===void 0&&(i=G5(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:d}=u;this.props=n,this.events=r,this.document=Ui(d),this.documentListeners=new Fl(this.document),this.listeners=new Fl(i),this.windowListeners=new Fl(Kn(d)),this.initialCoordinates=(o=oh(u))!=null?o:zs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(vs.Resize,this.handleCancel),this.windowListeners.add(vs.DragStart,X0),this.windowListeners.add(vs.VisibilityChange,this.handleCancel),this.windowListeners.add(vs.ContextMenu,X0),this.documentListeners.add(vs.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eb(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(J0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:o}=this.props;o(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(vs.Click,Y5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vs.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:o,props:u}=this,{onMove:d,options:{activationConstraint:h}}=u;if(!o)return;const g=(r=oh(n))!=null?r:zs,x=Pc(o,g);if(!i&&h){if(J0(h)){if(h.tolerance!=null&&Of(x,h.tolerance))return this.handleCancel();if(Of(x,h.distance))return this.handleStart()}if(eb(h)&&Of(x,h.tolerance))return this.handleCancel();this.handlePending(h,x);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const J5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kh extends Ph{constructor(n){const{event:r}=n,i=Ui(r.target);super(n,J5,i)}}Kh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const eT={move:{name:"mousemove"},end:{name:"mouseup"}};var uh;(function(e){e[e.RightClick=2]="RightClick"})(uh||(uh={}));class tT extends Ph{constructor(n){super(n,eT,Ui(n.event.target))}}tT.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===uh.RightClick?!1:(i?.({event:r}),!0)}}];const Lf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nT extends Ph{constructor(n){super(n,Lf)}static setup(){return window.addEventListener(Lf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Lf.move.name,n)};function n(){}}}nT.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:o}=r;return o.length>1?!1:(i?.({event:r}),!0)}}];var Hl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hl||(Hl={}));var Gc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Gc||(Gc={}));function sT(e){let{acceleration:n,activator:r=Hl.Pointer,canScroll:i,draggingRect:o,enabled:u,interval:d=5,order:h=Gc.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:v,threshold:w}=e;const E=aT({delta:v,disabled:!u}),[N,j]=f5(),C=p.useRef({x:0,y:0}),T=p.useRef({x:0,y:0}),_=p.useMemo(()=>{switch(r){case Hl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Hl.DraggableRect:return o}},[r,o,g]),F=p.useRef(null),U=p.useCallback(()=>{const K=F.current;if(!K)return;const O=C.current.x*T.current.x,Z=C.current.y*T.current.y;K.scrollBy(O,Z)},[]),D=p.useMemo(()=>h===Gc.TreeOrder?[...x].reverse():x,[h,x]);p.useEffect(()=>{if(!u||!x.length||!_){j();return}for(const K of D){if(i?.(K)===!1)continue;const O=x.indexOf(K),Z=b[O];if(!Z)continue;const{direction:W,speed:X}=I5(K,Z,_,n,w);for(const re of["x","y"])E[re][W[re]]||(X[re]=0,W[re]=0);if(X.x>0||X.y>0){j(),F.current=K,N(U,d),C.current=X,T.current=W;return}}C.current={x:0,y:0},T.current={x:0,y:0},j()},[n,U,i,j,u,d,JSON.stringify(_),JSON.stringify(E),N,x,D,b,JSON.stringify(w)])}const rT={x:{[gn.Backward]:!1,[gn.Forward]:!1},y:{[gn.Backward]:!1,[gn.Forward]:!1}};function aT(e){let{delta:n,disabled:r}=e;const i=lh(n);return io(o=>{if(r||!i||!o)return rT;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[gn.Backward]:o.x[gn.Backward]||u.x===-1,[gn.Forward]:o.x[gn.Forward]||u.x===1},y:{[gn.Backward]:o.y[gn.Backward]||u.y===-1,[gn.Forward]:o.y[gn.Forward]||u.y===1}}},[r,n,i])}function iT(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return io(o=>{var u;return n==null?null:(u=i??o)!=null?u:null},[i,n])}function lT(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:o}=i,u=o.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...r,...u]},[]),[e,n])}var Xl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xl||(Xl={}));var dh;(function(e){e.Optimized="optimized"})(dh||(dh={}));const tb=new Map;function oT(e,n){let{dragging:r,dependencies:i,config:o}=n;const[u,d]=p.useState(null),{frequency:h,measure:g,strategy:x}=o,b=p.useRef(e),v=C(),w=Gl(v),E=p.useCallback(function(T){T===void 0&&(T=[]),!w.current&&d(_=>_===null?T:_.concat(T.filter(F=>!_.includes(F))))},[w]),N=p.useRef(null),j=io(T=>{if(v&&!r)return tb;if(!T||T===tb||b.current!==e||u!=null){const _=new Map;for(let F of e){if(!F)continue;if(u&&u.length>0&&!u.includes(F.id)&&F.rect.current){_.set(F.id,F.rect.current);continue}const U=F.node.current,D=U?new Wh(g(U),U):null;F.rect.current=D,D&&_.set(F.id,D)}return _}return T},[e,u,r,v,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{v||E()},[r,v]),p.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),p.useEffect(()=>{v||typeof h!="number"||N.current!==null||(N.current=setTimeout(()=>{E(),N.current=null},h))},[h,v,E,...i]),{droppableRects:j,measureDroppableContainers:E,measuringScheduled:u!=null};function C(){switch(x){case Xl.Always:return!1;case Xl.BeforeDragging:return r;default:return!r}}}function yy(e,n){return io(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function cT(e,n){return yy(e,n)}function uT(e){let{callback:n,disabled:r}=e;const i=Ih(n),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function hu(e){let{callback:n,disabled:r}=e;const i=Ih(n),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function dT(e){return new Wh(Bi(e),e)}function nb(e,n,r){n===void 0&&(n=dT);const[i,o]=p.useState(null);function u(){o(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??r)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=uT({callback(g){if(e)for(const x of g){const{type:b,target:v}=x;if(b==="childList"&&v instanceof HTMLElement&&v.contains(e)){u();break}}}}),h=hu({callback:u});return Ks(()=>{u(),e?(h?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),d?.disconnect())},[e]),i}function fT(e){const n=yy(e);return dy(e,n)}const sb=[];function hT(e){const n=p.useRef(e),r=io(i=>e?i&&i!==sb&&e&&n.current&&e.parentNode===n.current.parentNode?i:Qh(e):sb,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function mT(e){const[n,r]=p.useState(null),i=p.useRef(e),o=p.useCallback(u=>{const d=zf(u.target);d&&r(h=>h?(h.set(d,ch(d)),new Map(h)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){d(u);const h=e.map(g=>{const x=zf(g);return x?(x.addEventListener("scroll",o,{passive:!0}),[x,ch(x)]):null}).filter(g=>g!=null);r(h.length?new Map(h):null),i.current=e}return()=>{d(e),d(u)};function d(h){h.forEach(g=>{const x=zf(g);x?.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,d)=>ki(u,d),zs):xy(e):zs,[e,n])}function rb(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==zs;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Pc(e,r.current):zs}function pT(e){p.useEffect(()=>{if(!fu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function gT(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:o,handler:u}=i;return r[o]=d=>{u(d,n)},r},{}),[e,n])}function wy(e){return p.useMemo(()=>e?q5(e):null,[e])}const ab=[];function xT(e,n){n===void 0&&(n=Bi);const[r]=e,i=wy(r?Kn(r):null),[o,u]=p.useState(ab);function d(){u(()=>e.length?e.map(g=>py(g)?i:new Wh(n(g),g)):ab)}const h=hu({callback:d});return Ks(()=>{h?.disconnect(),d(),e.forEach(g=>h?.observe(g))},[e]),o}function bT(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return ao(n)?n:e}function vT(e){let{measure:n}=e;const[r,i]=p.useState(null),o=p.useCallback(x=>{for(const{target:b}of x)if(ao(b)){i(v=>{const w=n(b);return v?{...v,width:w.width,height:w.height}:w});break}},[n]),u=hu({callback:o}),d=p.useCallback(x=>{const b=bT(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[h,g]=Wc(d);return p.useMemo(()=>({nodeRef:h,rect:r,setRef:g}),[r,h,g])}const yT=[{sensor:Kh,options:{}},{sensor:vy,options:{}}],wT={current:{}},Rc={draggable:{measure:Y0},droppable:{measure:Y0,strategy:Xl.WhileDragging,frequency:dh.Optimized},dragOverlay:{measure:Bi}};class Zl extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const jT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rc,measureDroppableContainers:Kc,windowRect:null,measuringScheduled:!1},ST={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kc,draggableNodes:new Map,over:null,measureDroppableContainers:Kc},mu=p.createContext(ST),jy=p.createContext(jT);function ET(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zl}}}function NT(e,n){switch(n.type){case on.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case on.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case on.DragEnd:case on.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case on.RegisterDroppable:{const{element:r}=n,{id:i}=r,o=new Zl(e.droppable.containers);return o.set(i,r),{...e,droppable:{...e.droppable,containers:o}}}case on.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const d=new Zl(e.droppable.containers);return d.set(r,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case on.UnregisterDroppable:{const{id:r,key:i}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const u=new Zl(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function CT(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:o}=p.useContext(mu),u=lh(i),d=lh(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&d!=null){if(!Vh(u)||document.activeElement===u.target)return;const h=o.get(d);if(!h)return;const{activatorNode:g,node:x}=h;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const v=p5(b);if(v){v.focus();break}}})}},[i,n,o,d,u]),null}function _T(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...i}),r):r}function kT(e){return p.useMemo(()=>({draggable:{...Rc.draggable,...e?.draggable},droppable:{...Rc.droppable,...e?.droppable},dragOverlay:{...Rc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function TT(e){let{activeNode:n,measure:r,initialRect:i,config:o=!0}=e;const u=p.useRef(!1),{x:d,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Ks(()=>{if(!d&&!h||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=r(x),v=dy(b,i);if(d||(v.x=0),h||(v.y=0),u.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=fy(x);w&&w.scrollBy({top:v.y,left:v.x})}},[n,d,h,i,r])}const Sy=p.createContext({...zs,scaleX:1,scaleY:1});var Kr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Kr||(Kr={}));const AT=p.memo(function(n){var r,i,o,u;let{id:d,accessibility:h,autoScroll:g=!0,children:x,sensors:b=yT,collisionDetection:v=R5,measuring:w,modifiers:E,...N}=n;const j=p.useReducer(NT,void 0,ET),[C,T]=j,[_,F]=w5(),[U,D]=p.useState(Kr.Uninitialized),K=U===Kr.Initialized,{draggable:{active:O,nodes:Z,translate:W},droppable:{containers:X}}=C,re=O!=null?Z.get(O):null,B=p.useRef({initial:null,translated:null}),G=p.useMemo(()=>{var Rt;return O!=null?{id:O,data:(Rt=re?.data)!=null?Rt:wT,rect:B}:null},[O,re]),ue=p.useRef(null),[we,M]=p.useState(null),[A,se]=p.useState(null),de=Gl(N,Object.values(N)),ae=lo("DndDescribedBy",d),k=p.useMemo(()=>X.getEnabled(),[X]),Q=kT(w),{droppableRects:ce,measureDroppableContainers:q,measuringScheduled:te}=oT(k,{dragging:K,dependencies:[W.x,W.y],config:Q.droppable}),H=iT(Z,O),Y=p.useMemo(()=>A?oh(A):null,[A]),$=vr(),le=cT(H,Q.draggable.measure);TT({activeNode:O!=null?Z.get(O):null,config:$.layoutShiftCompensation,initialRect:le,measure:Q.draggable.measure});const ge=nb(H,Q.draggable.measure,le),xe=nb(H?H.parentElement:null),Ce=p.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:X,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=X.getNodeFor((r=Ce.current.over)==null?void 0:r.id),Oe=vT({measure:Q.dragOverlay.measure}),Te=(i=Oe.nodeRef.current)!=null?i:H,Ge=K?(o=Oe.rect)!=null?o:ge:null,Ut=!!(Oe.nodeRef.current&&Oe.rect),it=fT(Ut?null:ge),Cn=wy(Te?Kn(Te):null),R=hT(K?We??H:null),P=xT(R),ie=_T(E,{transform:{x:W.x-it.x,y:W.y-it.y,scaleX:1,scaleY:1},activatorEvent:A,active:G,activeNodeRect:ge,containerNodeRect:xe,draggingNodeRect:Ge,over:Ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:R,scrollableAncestorRects:P,windowRect:Cn}),Ee=Y?ki(Y,W):null,ye=mT(R),je=rb(ye),Ae=rb(ye,[ge]),He=ki(ie,je),Ve=Ge?L5(Ge,ie):null,_t=G&&Ve?v({active:G,collisionRect:Ve,droppableRects:ce,droppableContainers:k,pointerCoordinates:Ee}):null,Se=A5(_t,"id"),[Ne,$e]=p.useState(null),Dt=Ut?ie:ki(ie,Ae),st=z5(Dt,(u=Ne?.rect)!=null?u:null,ge),Kt=p.useRef(null),Mt=p.useCallback((Rt,wt)=>{let{sensor:kt,options:_n}=wt;if(ue.current==null)return;const dn=Z.get(ue.current);if(!dn)return;const fn=Rt.nativeEvent,hn=new kt({active:ue.current,activeNode:dn,event:fn,options:_n,context:Ce,onAbort(qt){if(!Z.get(qt))return;const{onDragAbort:vn}=de.current,kn={id:qt};vn?.(kn),_({type:"onDragAbort",event:kn})},onPending(qt,bn,vn,kn){if(!Z.get(qt))return;const{onDragPending:Pe}=de.current,Tn={id:qt,constraint:bn,initialCoordinates:vn,offset:kn};Pe?.(Tn),_({type:"onDragPending",event:Tn})},onStart(qt){const bn=ue.current;if(bn==null)return;const vn=Z.get(bn);if(!vn)return;const{onDragStart:kn}=de.current,Gn={activatorEvent:fn,active:{id:bn,data:vn.data,rect:B}};ls.unstable_batchedUpdates(()=>{kn?.(Gn),D(Kr.Initializing),T({type:on.DragStart,initialCoordinates:qt,active:bn}),_({type:"onDragStart",event:Gn}),M(Kt.current),se(fn)})},onMove(qt){T({type:on.DragMove,coordinates:qt})},onEnd:On(on.DragEnd),onCancel:On(on.DragCancel)});Kt.current=hn;function On(qt){return async function(){const{active:vn,collisions:kn,over:Gn,scrollAdjustedTranslate:Pe}=Ce.current;let Tn=null;if(vn&&Pe){const{cancelDrop:zt}=de.current;Tn={activatorEvent:fn,active:vn,collisions:kn,delta:Pe,over:Gn},qt===on.DragEnd&&typeof zt=="function"&&await Promise.resolve(zt(Tn))&&(qt=on.DragCancel)}ue.current=null,ls.unstable_batchedUpdates(()=>{T({type:qt}),D(Kr.Uninitialized),$e(null),M(null),se(null),Kt.current=null;const zt=qt===on.DragEnd?"onDragEnd":"onDragCancel";if(Tn){const Ln=de.current[zt];Ln?.(Tn),_({type:zt,event:Tn})}})}}},[Z]),br=p.useCallback((Rt,wt)=>(kt,_n)=>{const dn=kt.nativeEvent,fn=Z.get(_n);if(ue.current!==null||!fn||dn.dndKit||dn.defaultPrevented)return;const hn={active:fn};Rt(kt,wt.options,hn)===!0&&(dn.dndKit={capturedBy:wt.sensor},ue.current=_n,Mt(kt,wt))},[Z,Mt]),Os=lT(b,br);pT(b),Ks(()=>{ge&&U===Kr.Initializing&&D(Kr.Initialized)},[ge,U]),p.useEffect(()=>{const{onDragMove:Rt}=de.current,{active:wt,activatorEvent:kt,collisions:_n,over:dn}=Ce.current;if(!wt||!kt)return;const fn={active:wt,activatorEvent:kt,collisions:_n,delta:{x:He.x,y:He.y},over:dn};ls.unstable_batchedUpdates(()=>{Rt?.(fn),_({type:"onDragMove",event:fn})})},[He.x,He.y]),p.useEffect(()=>{const{active:Rt,activatorEvent:wt,collisions:kt,droppableContainers:_n,scrollAdjustedTranslate:dn}=Ce.current;if(!Rt||ue.current==null||!wt||!dn)return;const{onDragOver:fn}=de.current,hn=_n.get(Se),On=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,qt={active:Rt,activatorEvent:wt,collisions:kt,delta:{x:dn.x,y:dn.y},over:On};ls.unstable_batchedUpdates(()=>{$e(On),fn?.(qt),_({type:"onDragOver",event:qt})})},[Se]),Ks(()=>{Ce.current={activatorEvent:A,active:G,activeNode:H,collisionRect:Ve,collisions:_t,droppableRects:ce,draggableNodes:Z,draggingNode:Te,draggingNodeRect:Ge,droppableContainers:X,over:Ne,scrollableAncestors:R,scrollAdjustedTranslate:He},B.current={initial:Ge,translated:Ve}},[G,H,_t,Ve,Z,Te,Ge,ce,X,Ne,R,He]),sT({...$,delta:W,draggingRect:Ve,pointerCoordinates:Ee,scrollableAncestors:R,scrollableAncestorRects:P});const $i=p.useMemo(()=>({active:G,activeNode:H,activeNodeRect:ge,activatorEvent:A,collisions:_t,containerNodeRect:xe,dragOverlay:Oe,draggableNodes:Z,droppableContainers:X,droppableRects:ce,over:Ne,measureDroppableContainers:q,scrollableAncestors:R,scrollableAncestorRects:P,measuringConfiguration:Q,measuringScheduled:te,windowRect:Cn}),[G,H,ge,A,_t,xe,Oe,Z,X,ce,Ne,q,R,P,Q,te,Cn]),Ls=p.useMemo(()=>({activatorEvent:A,activators:Os,active:G,activeNodeRect:ge,ariaDescribedById:{draggable:ae},dispatch:T,draggableNodes:Z,over:Ne,measureDroppableContainers:q}),[A,Os,G,ge,T,ae,Z,Ne,q]);return vt.createElement(uy.Provider,{value:F},vt.createElement(mu.Provider,{value:Ls},vt.createElement(jy.Provider,{value:$i},vt.createElement(Sy.Provider,{value:st},x)),vt.createElement(CT,{disabled:h?.restoreFocus===!1})),vt.createElement(E5,{...h,hiddenTextDescribedById:ae}));function vr(){const Rt=we?.autoScrollEnabled===!1,wt=typeof g=="object"?g.enabled===!1:g===!1,kt=K&&!Rt&&!wt;return typeof g=="object"?{...g,enabled:kt}:{enabled:kt}}}),DT=p.createContext(null),ib="button",MT="Draggable";function RT(e){let{id:n,data:r,disabled:i=!1,attributes:o}=e;const u=lo(MT),{activators:d,activatorEvent:h,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:v,over:w}=p.useContext(mu),{role:E=ib,roleDescription:N="draggable",tabIndex:j=0}=o??{},C=g?.id===n,T=p.useContext(C?Sy:DT),[_,F]=Wc(),[U,D]=Wc(),K=gT(d,n),O=Gl(r);Ks(()=>(v.set(n,{id:n,key:u,node:_,activatorNode:U,data:O}),()=>{const W=v.get(n);W&&W.key===u&&v.delete(n)}),[v,n]);const Z=p.useMemo(()=>({role:E,tabIndex:j,"aria-disabled":i,"aria-pressed":C&&E===ib?!0:void 0,"aria-roledescription":N,"aria-describedby":b.draggable}),[i,E,j,C,N,b.draggable]);return{active:g,activatorEvent:h,activeNodeRect:x,attributes:Z,isDragging:C,listeners:i?void 0:K,node:_,over:w,setNodeRef:F,setActivatorNodeRef:D,transform:T}}function zT(){return p.useContext(jy)}const OT="Droppable",LT={timeout:25};function UT(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:o}=e;const u=lo(OT),{active:d,dispatch:h,over:g,measureDroppableContainers:x}=p.useContext(mu),b=p.useRef({disabled:r}),v=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:C}={...LT,...o},T=Gl(j??i),_=p.useCallback(()=>{if(!v.current){v.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{x(Array.isArray(T.current)?T.current:[T.current]),E.current=null},C)},[C]),F=hu({callback:_,disabled:N||!d}),U=p.useCallback((Z,W)=>{F&&(W&&(F.unobserve(W),v.current=!1),Z&&F.observe(Z))},[F]),[D,K]=Wc(U),O=Gl(n);return p.useEffect(()=>{!F||!D.current||(F.disconnect(),v.current=!1,F.observe(D.current))},[D,F]),p.useEffect(()=>(h({type:on.RegisterDroppable,element:{id:i,key:u,disabled:r,node:D,rect:w,data:O}}),()=>h({type:on.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(h({type:on.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,h]),{active:d,rect:w,isOver:g?.id===i,node:D,over:g,setNodeRef:K}}function Ey(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function BT(e,n){return e.reduce((r,i,o)=>{const u=n.get(i);return u&&(r[o]=u),r},Array(e.length))}function _c(e){return e!==null&&e>=0}function $T(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function qT(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kc={scaleX:1,scaleY:1},FT=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:o,overIndex:u,index:d}=e;const h=(n=r[o])!=null?n:i;if(!h)return null;const g=HT(r,d,o);if(d===o){const x=r[u];return x?{x:o<u?x.left+x.width-(h.left+h.width):x.left-h.left,y:0,...kc}:null}return d>o&&d<=u?{x:-h.width-g,y:0,...kc}:d<o&&d>=u?{x:h.width+g,y:0,...kc}:{x:0,y:0,...kc}};function HT(e,n,r){const i=e[n],o=e[n-1],u=e[n+1];return!i||!o&&!u?0:r<n?o?i.left-(o.left+o.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(o.left+o.width)}const Ny=e=>{let{rects:n,activeIndex:r,overIndex:i,index:o}=e;const u=Ey(n,i,r),d=n[o],h=u[o];return!h||!d?null:{x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height}},Cy="Sortable",_y=vt.createContext({activeIndex:-1,containerId:Cy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ny,disabled:{draggable:!1,droppable:!1}});function ZT(e){let{children:n,id:r,items:i,strategy:o=Ny,disabled:u=!1}=e;const{active:d,dragOverlay:h,droppableRects:g,over:x,measureDroppableContainers:b}=zT(),v=lo(Cy,r),w=h.rect!==null,E=p.useMemo(()=>i.map(K=>typeof K=="object"&&"id"in K?K.id:K),[i]),N=d!=null,j=d?E.indexOf(d.id):-1,C=x?E.indexOf(x.id):-1,T=p.useRef(E),_=!$T(E,T.current),F=C!==-1&&j===-1||_,U=qT(u);Ks(()=>{_&&N&&b(E)},[_,E,N,b]),p.useEffect(()=>{T.current=E},[E]);const D=p.useMemo(()=>({activeIndex:j,containerId:v,disabled:U,disableTransforms:F,items:E,overIndex:C,useDragOverlay:w,sortedRects:BT(E,g),strategy:o}),[j,v,U.draggable,U.droppable,F,E,C,g,w,o]);return vt.createElement(_y.Provider,{value:D},n)}const IT=e=>{let{id:n,items:r,activeIndex:i,overIndex:o}=e;return Ey(r,i,o).indexOf(n)},VT=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:o,items:u,newIndex:d,previousItems:h,previousContainerId:g,transition:x}=e;return!x||!i||h!==u&&o===d?!1:r?!0:d!==o&&n===g},QT={duration:200,easing:"ease"},ky="transform",WT=Yl.Transition.toString({property:ky,duration:0,easing:"linear"}),PT={roleDescription:"sortable"};function KT(e){let{disabled:n,index:r,node:i,rect:o}=e;const[u,d]=p.useState(null),h=p.useRef(r);return Ks(()=>{if(!n&&r!==h.current&&i.current){const g=o.current;if(g){const x=Bi(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&d(b)}}r!==h.current&&(h.current=r)},[n,r,i,o]),p.useEffect(()=>{u&&d(null)},[u]),u}function GT(e){let{animateLayoutChanges:n=VT,attributes:r,disabled:i,data:o,getNewIndex:u=IT,id:d,strategy:h,resizeObserverConfig:g,transition:x=QT}=e;const{items:b,containerId:v,activeIndex:w,disabled:E,disableTransforms:N,sortedRects:j,overIndex:C,useDragOverlay:T,strategy:_}=p.useContext(_y),F=YT(i,E),U=b.indexOf(d),D=p.useMemo(()=>({sortable:{containerId:v,index:U,items:b},...o}),[v,o,U,b]),K=p.useMemo(()=>b.slice(b.indexOf(d)),[b,d]),{rect:O,node:Z,isOver:W,setNodeRef:X}=UT({id:d,data:D,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:K,...g}}),{active:re,activatorEvent:B,activeNodeRect:G,attributes:ue,setNodeRef:we,listeners:M,isDragging:A,over:se,setActivatorNodeRef:de,transform:ae}=RT({id:d,data:D,attributes:{...PT,...r},disabled:F.draggable}),k=d5(X,we),Q=!!re,ce=Q&&!N&&_c(w)&&_c(C),q=!T&&A,te=q&&ce?ae:null,Y=ce?te??(h??_)({rects:j,activeNodeRect:G,activeIndex:w,overIndex:C,index:U}):null,$=_c(w)&&_c(C)?u({id:d,items:b,activeIndex:w,overIndex:C}):U,le=re?.id,ge=p.useRef({activeId:le,items:b,newIndex:$,containerId:v}),xe=b!==ge.current.items,Ce=n({active:re,containerId:v,isDragging:A,isSorting:Q,id:d,index:U,items:b,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:x,wasDragging:ge.current.activeId!=null}),We=KT({disabled:!Ce,index:U,node:Z,rect:O});return p.useEffect(()=>{Q&&ge.current.newIndex!==$&&(ge.current.newIndex=$),v!==ge.current.containerId&&(ge.current.containerId=v),b!==ge.current.items&&(ge.current.items=b)},[Q,$,v,b]),p.useEffect(()=>{if(le===ge.current.activeId)return;if(le!=null&&ge.current.activeId==null){ge.current.activeId=le;return}const Te=setTimeout(()=>{ge.current.activeId=le},50);return()=>clearTimeout(Te)},[le]),{active:re,activeIndex:w,attributes:ue,data:D,rect:O,index:U,newIndex:$,items:b,isOver:W,isSorting:Q,isDragging:A,listeners:M,node:Z,overIndex:C,over:se,setNodeRef:k,setActivatorNodeRef:de,setDroppableNodeRef:X,setDraggableNodeRef:we,transform:We??Y,transition:Oe()};function Oe(){if(We||xe&&ge.current.newIndex===U)return WT;if(!(q&&!Vh(B)||!x)&&(Q||Ce))return Yl.Transition.toString({...x,property:ky})}}function YT(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ot.Down,ot.Right,ot.Up,ot.Left;const XT=232,JT=30,wa=6;function Ti({open:e,position:n,onClose:r,items:i,appearance:o="dark"}){const u=p.useRef(null),d=p.useRef([]),[h,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,v]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const E=i.length*JT+wa*2,N=Math.max(wa,(window.innerWidth||0)-XT-wa),j=Math.max(wa,(window.innerHeight||0)-E-wa),C=Math.min(Math.max(n.x,wa),N),T=Math.min(Math.max(n.y,wa),j);g({x:C,y:T})},[e,n,i.length]),p.useEffect(()=>{e&&v(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;d.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=C=>{u.current&&(u.current.contains(C.target)||r())},N=C=>{if(u.current){if(u.current.contains(C.target)){C.preventDefault();return}r()}},j=C=>{if(C.key==="Escape"){C.preventDefault(),r();return}if(C.key==="ArrowDown"||C.key==="ArrowUp"){C.preventDefault();const T=C.key==="ArrowDown"?1:-1;v(_=>{if(i.length===0)return _;let F=_;for(let U=0;U<i.length;U+=1)if(F=(F+T+i.length)%i.length,!i[F]?.disabled)return F;return _});return}if(C.key==="Enter"||C.key===" "){C.preventDefault();const T=i[b];T&&!T.disabled&&(T.onSelect(),r())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",N),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",N),window.removeEventListener("keydown",j)}},[e,r,i,b]),!e||!n||typeof window>"u"||!h)return null;const w=o==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return ls.createPortal(l.jsx("div",{ref:u,role:"menu",className:me("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:h.y,left:h.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((E,N)=>{const j=!!E.disabled,C=!!E.danger;return l.jsxs(p.Fragment,{children:[E.dividerAbove?l.jsx("li",{role:"separator",className:me("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:T=>{d.current[N]=T},type:"button",role:"menuitem",className:me("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,C&&!j&&w.danger,j&&"cursor-default"),onClick:T=>{T.stopPropagation(),!j&&(E.onSelect(),r())},onMouseEnter:()=>{j||v(N)},disabled:j,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?l.jsx("span",{className:"text-base opacity-80",children:E.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?l.jsx("span",{className:me("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const xr="h-4 w-4 text-current opacity-80";function eA({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}function tA(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function nA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function sA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function rA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function aA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function iA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function lA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Ty(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function oA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function cA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function uA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function dA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function fA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function hA({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:o,onCloseTab:u,setTabNode:d}){const{attributes:h,listeners:g,setNodeRef:x,transform:b,transition:v,isDragging:w}=GT({id:e.id}),E={transform:Yl.Transform.toString(b),transition:v},N=w||i===e.id,j=!!e.pinned;return l.jsxs("div",{ref:C=>{x(C),d(e.id,C)},style:E,className:me("group relative mr-1 flex min-w-0 items-stretch",N&&"opacity-60"),"data-editor-tab":"true",...h,...g,children:[l.jsxs(rh,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:o,onMouseDown:C=>{C.button===1&&(C.preventDefault(),u(e.id))},className:me("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",j?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[j?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(eA,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(tA,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:me("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:C=>{C.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function mA({currentTab:e,tabs:n,canSaveFiles:r,hasDirtyTabs:i,onCloseTab:o,onCloseOtherTabs:u,onCloseTabsToRight:d,onCloseAllTabs:h,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:v}){const w=n.findIndex(F=>F.id===e.id),E=w>=0&&w<n.length-1,N=n.length>1,j=e.status==="ready"&&e.content!==e.initialContent,C=!!b&&r&&j&&!e.saving,T=!!v&&r&&i,_={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:l.jsx(nA,{}),disabled:!C,shortcut:_.save,onSelect:()=>b?.(e.id)},{id:"save-all",label:"Save All",icon:l.jsx(sA,{}),disabled:!T,shortcut:_.saveAll,onSelect:()=>v?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?l.jsx(oA,{}):l.jsx(Ty,{}),dividerAbove:!0,onSelect:()=>e.pinned?x(e.id):g(e.id)},{id:"close",label:"Close",icon:l.jsx(rA,{}),dividerAbove:!0,shortcut:_.close,onSelect:()=>o(e.id)},{id:"close-others",label:"Close Others",icon:l.jsx(aA,{}),disabled:!N,shortcut:_.closeOthers,onSelect:()=>u(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(iA,{}),disabled:!E,shortcut:_.closeRight,onSelect:()=>d(e.id)},{id:"close-all",label:"Close All",icon:l.jsx(lA,{}),dividerAbove:!0,disabled:n.length===0,shortcut:_.closeAll,onSelect:()=>h()}]}function pA({pinnedTabs:e,regularTabs:n,activeTabId:r,onSelectTab:i}){if(e.length===0&&n.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const o=[],u=(d,h)=>{const g=d.status==="ready"&&d.content!==d.initialContent,x=[];d.id===r&&x.push("Active"),d.saving?x.push("Saving"):g&&x.push("Unsaved"),o.push({id:`switch-${d.id}`,label:`${d.saving?" ":g?" ":""}${d.name}`,icon:d.pinned?l.jsx(Ty,{}):l.jsx(cA,{}),shortcut:x.length>0?x.join("  "):void 0,dividerAbove:h,onSelect:()=>i(d.id)})};return e.forEach(d=>u(d,!1)),n.forEach((d,h)=>u(d,h===0&&e.length>0)),o}const lb=220,ob=64,gA=14;function xA({tabs:e,activeTabId:n,menuAppearance:r,canSaveFiles:i=!1,onSelectTab:o,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onMoveTab:x,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:E,onTabDragStateChange:N}){const[j,C]=p.useState(null),[T,_]=p.useState(null),[F,U]=p.useState(null),[D,K]=p.useState({left:!1,right:!1}),[O,Z]=p.useState(0),W=p.useRef(null),X=p.useRef(null),re=p.useRef(new Map),B=p.useMemo(()=>e.filter($=>$.pinned),[e]),G=p.useMemo(()=>e.filter($=>!$.pinned),[e]),we=p.useMemo(()=>e.filter($=>$.status==="ready"&&$.content!==$.initialContent),[e]).length>0,M=C5(N5(Kh,{activationConstraint:{distance:5}})),A=r==="dark"?"border-[#1f2937] bg-[#0f172a]":"border-slate-200 bg-slate-900/5",se=r==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white focus-visible:ring-white/30 focus-visible:ring-offset-0":"text-slate-500 hover:bg-white hover:text-slate-900 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5",de=p.useCallback(($,le)=>{const ge=re.current;le?ge.set($,le):ge.delete($)},[]);p.useEffect(()=>{j&&!e.some($=>$.id===j.tabId)&&C(null),e.length||_(null)},[j,e]);const ae=p.useCallback($=>{U(String($.active.id)),N?.(!0)},[N]),k=p.useCallback($=>{const le=$.active.id,ge=$.over?.id;if(ge&&le!==ge){const xe=e.findIndex(We=>We.id===le),Ce=e.findIndex(We=>We.id===ge);if(xe!==-1&&Ce!==-1){const We=xe<Ce?Ce+1:Ce;x(String(le),We)}}U(null),N?.(!1)},[x,N,e]),Q=p.useCallback(()=>{U(null),N?.(!1)},[N]),ce=p.useCallback(()=>{const $=W.current;if(!$){K({left:!1,right:!1});return}const{scrollLeft:le,scrollWidth:ge,clientWidth:xe}=$;K({left:le>2,right:le+xe<ge-2})},[]);p.useEffect(()=>{const $=W.current;if(!$){K({left:!1,right:!1});return}ce();const le=()=>ce();$.addEventListener("scroll",le),window.addEventListener("resize",ce);const ge=typeof ResizeObserver<"u"?new ResizeObserver(ce):null;return ge?.observe($),()=>{$.removeEventListener("scroll",le),window.removeEventListener("resize",ce),ge?.disconnect()}},[e.length,ce]),p.useEffect(()=>{if(!F){Z(0);return}const $=le=>{const ge=W.current;if(!ge){Z(0);return}const xe=ge.getBoundingClientRect();le.clientX<xe.left+ob?Z(-1):le.clientX>xe.right-ob?Z(1):Z(0)};return window.addEventListener("pointermove",$),()=>{window.removeEventListener("pointermove",$),Z(0)}},[F]),p.useEffect(()=>{if(!F||O===0)return;let $;const le=()=>{const ge=W.current;ge&&(ge.scrollBy({left:O*gA}),$=window.requestAnimationFrame(le))};return $=window.requestAnimationFrame(le),()=>window.cancelAnimationFrame($)},[O,F]),p.useEffect(()=>{re.current.get(n)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const q=p.useMemo(()=>{if(!j)return[];const $=e.find(le=>le.id===j.tabId);return $?mA({currentTab:$,tabs:e,canSaveFiles:i,hasDirtyTabs:we,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:E}):[]},[i,j,we,g,d,u,h,b,E,w,v,e]),te=p.useMemo(()=>pA({pinnedTabs:B,regularTabs:G,activeTabId:n,onSelectTab:o}),[B,G,n,o]),H=p.useCallback($=>{W.current?.scrollBy({left:$,behavior:"smooth"})},[]),Y=p.useCallback(()=>{const $=X.current?.getBoundingClientRect();$&&_({x:$.left,y:$.bottom+6})},[]);return l.jsxs(l.Fragment,{children:[l.jsx(AT,{sensors:M,collisionDetection:D5,onDragStart:ae,onDragEnd:k,onDragCancel:Q,children:l.jsx(ZT,{items:e.map($=>$.id),strategy:FT,children:l.jsxs("div",{className:me("flex items-center gap-1 px-1",A,"border-b"),children:[l.jsx(cb,{appearance:r,direction:"left",disabled:!D.left,onClick:()=>H(-lb)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[D.left?l.jsx(ub,{position:"left",appearance:r}):null,D.right?l.jsx(ub,{position:"right",appearance:r}):null,l.jsx("div",{ref:W,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:$=>{Math.abs($.deltaY)>Math.abs($.deltaX)&&($.preventDefault(),W.current?.scrollBy({left:$.deltaY}))},children:l.jsx(ry,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map($=>{const le=$.status==="ready"&&$.content!==$.initialContent,ge=$.id===n;return l.jsx(hA,{tab:$,isActive:ge,isDirty:le,draggingId:F,setTabNode:de,onContextMenu:xe=>{xe.preventDefault(),C({tabId:$.id,x:xe.clientX,y:xe.clientY})},onCloseTab:u},$.id)})})})]}),l.jsx(cb,{appearance:r,direction:"right",disabled:!D.right,onClick:()=>H(lb)}),l.jsx("button",{ref:X,type:"button",className:me("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",se),"aria-label":"Open editors list",onClick:Y,children:l.jsx(fA,{})})]})})}),l.jsx(Ti,{open:!!j,position:j&&{x:j.x,y:j.y},onClose:()=>C(null),items:q,appearance:r}),l.jsx(Ti,{open:!!T,position:T,onClose:()=>_(null),items:te,appearance:r})]})}function cb({appearance:e,direction:n,disabled:r,onClick:i}){const o=e==="dark"?"hover:bg-white/10 hover:text-white focus-visible:ring-2 focus-visible:ring-white/30":"hover:bg-white hover:text-slate-900 focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5";return l.jsx("button",{type:"button",className:me("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none",e==="dark"?"text-slate-300":"text-slate-500",r?"cursor-default opacity-30":o),onClick:i,disabled:r,"aria-label":n==="left"?"Scroll tabs left":"Scroll tabs right",children:n==="left"?l.jsx(uA,{}):l.jsx(dA,{})})}function ub({position:e,appearance:n}){const r=n==="dark"?e==="left"?"left-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent":"right-0 bg-gradient-to-l from-[#0f172a] via-[#0f172a]/80 to-transparent":e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent";return l.jsx("div",{className:me("pointer-events-none absolute top-0 bottom-0 w-8",r)})}function bA({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:v,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:N,menuAppearance:j,canSaveFiles:C=!1,minHeight:T,onRetryTabLoad:_}){const F=e.length>0,U=p.useRef(null),[D,K]=p.useState(!1),O=p.useMemo(()=>e.find(Z=>Z.id===n)??null,[e,n]);return!F||!O?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{ref:U,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:T?{minHeight:T}:void 0,"data-editor-area":!0,children:[l.jsx(l5,{containerRef:U,tabs:e,activeTabId:n,onCloseTab:i,onSelectTab:r,onSelectRecentTab:E}),l.jsxs(sy,{value:O.id,onValueChange:r,children:[l.jsx(xA,{tabs:e,activeTabId:O.id,menuAppearance:j,canSaveFiles:C,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onSaveTab:v,onSaveAllTabs:w,onTabDragStateChange:K}),l.jsx(u5,{tabs:e,activeTabId:O.id,editorTheme:N,onContentChange:b,onSaveTab:v,canSaveFiles:C,onRetryTabLoad:_,onSelectTab:r,isTabDragging:D})]})]})}const vA={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},yA={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function wA(e){const n=new Set,r=i=>{i.kind==="folder"&&(n.add(i.id),i.children?.forEach(r))};return r(e),n}function Uf(e,n,r){const i=new Set;for(const o of e)n.has(o)&&i.add(o);return i.add(r),i}function db(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function jA({width:e,tree:n,activeFileId:r="",openFileIds:i=[],onSelectFile:o,theme:u,canCreateFile:d=!1,canCreateFolder:h=!1,isCreatingEntry:g=!1,onCreateFile:x,onCreateFolder:b,canDeleteFile:v=!1,deletingFilePath:w=null,canDeleteFolder:E=!1,deletingFolderPath:N=null,onDeleteFile:j,onDeleteFolder:C,expandedStorageKey:T,onHide:_}){const F=p.useMemo(()=>T?Ps(T):null,[T]),U=p.useMemo(()=>wA(n),[n]),[D,K]=p.useState(()=>{const $=F?.get()??null,le=$?new Set($):new Set([n.id]);return Uf(le,U,n.id)}),[O,Z]=p.useState(null),[W,X]=p.useState(null),[re,B]=p.useState(null);p.useEffect(()=>{X(null),B(null)},[n.id]),p.useEffect(()=>{K($=>{const le=Uf($,U,n.id);return db($,le)?$:le})},[U,n.id]),p.useEffect(()=>{if(!F)return;const $=F.get();if(!$)return;const le=Uf(new Set($),U,n.id);K(ge=>db(ge,le)?ge:le)},[F,U,n.id]),p.useEffect(()=>{if(!F)return;const $=Array.from(D).filter(le=>le!==n.id&&U.has(le));F.set($)},[D,F,U,n.id]);const G=p.useCallback($=>{K(le=>{const ge=new Set(le);return ge.has($)?ge.delete($):ge.add($),ge.add(n.id),ge})},[n.id]),ue=p.useCallback(($,le)=>{K(ge=>{const xe=new Set(ge);return le?xe.add($):$!==n.id&&xe.delete($),xe.add(n.id),xe})},[n.id]),we=p.useCallback(()=>{K(new Set([n.id]))},[n.id]),M=p.useCallback(($,le)=>{B(null),K(ge=>{const xe=new Set(ge);return xe.add(n.id),xe.add($),xe}),X({parentId:$,kind:le})},[n.id]),A=p.useCallback(async($,le,ge)=>{const xe=le.trim();if(!xe){B("Name cannot be empty.");return}const Ce=ge==="folder"?b:x;if(Ce)try{B(null),await Ce($===n.id?"":$,xe),X(null)}catch(We){const Oe=We instanceof Error?We.message:"Unable to create entry.";B(Oe)}},[x,b,n.id]),se=p.useCallback(()=>{X(null),B(null)},[]),de=p.useCallback(($,le)=>{$.preventDefault(),Z({node:le,position:{x:$.clientX,y:$.clientY}})},[]),ae=p.useCallback(async $=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText($);return}catch{}if(typeof document>"u")return;const le=document.createElement("textarea");le.value=$,le.setAttribute("readonly","true"),le.style.position="absolute",le.style.left="-9999px",document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le)},[]),k=p.useCallback($=>{j&&(j($),Z(null))},[j]),Q=p.useCallback($=>{C&&(C($),Z(null))},[C]),ce=p.useMemo(()=>{if(!O)return[];const{node:$}=O,le={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if($.kind==="file")return[{id:"open-file",label:"Open",icon:l.jsx(kA,{}),shortcut:le.open,onSelect:()=>o($.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(hb,{}),shortcut:le.copyPath,onSelect:()=>{ae($.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(mb,{}),shortcut:le.delete,disabled:!v||!j,onSelect:()=>k($.id)}];const ge=D.has($.id);return[{id:"new-file",label:"New File",icon:l.jsx(Dy,{}),shortcut:le.newFile,disabled:!d||!x,onSelect:()=>{!d||!x||(M($.id,"file"),Z(null))}},{id:"new-folder",label:"New Folder",icon:l.jsx(fh,{}),shortcut:le.newFolder,disabled:!h||!b,onSelect:()=>{!h||!b||(M($.id,"folder"),Z(null))}},{id:"toggle-folder",label:ge?"Collapse Folder":"Expand Folder",icon:ge?l.jsx(TA,{}):l.jsx(AA,{}),onSelect:()=>ue($.id,!ge)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(DA,{}),shortcut:le.collapseAll,dividerAbove:!0,onSelect:()=>we()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(hb,{}),shortcut:le.copyPath,onSelect:()=>{ae($.id)}},{id:"delete-folder",label:"Delete Folder",icon:l.jsx(mb,{}),shortcut:le.delete,disabled:!E||!C,onSelect:()=>Q($.id)}]},[O,o,ae,v,j,D,ue,we,d,h,x,b,M,E,C,Q,k]),q=vA[u],te=yA[u],H=p.useMemo(()=>n.children??[],[n]),Y=u==="dark"?"dark":"light";return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:q.surface,borderColor:q.border,color:q.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:q.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:q.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:_,"aria-label":"Hide explorer",className:me("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(_A,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[H.map($=>l.jsx(Ay,{node:$,depth:0,expanded:D,activeFileId:r,openFileIds:i,onToggleFolder:G,onSelectFile:o,tokens:q,theme:u,focusRingClass:te,onContextMenu:de,editing:W,onSubmitCreateEntry:A,onCancelCreateEntry:se,createError:re,isCreatingEntry:g,deletingFilePath:w,deletingFolderPath:N,onClearCreateError:()=>B(null)},$.id)),W?.parentId===n.id?l.jsx("li",{className:"pl-2",children:l.jsx(My,{appearance:u,icon:W.kind==="folder"?l.jsx(fh,{}):void 0,placeholder:W.kind==="folder"?"new_folder":"new_file.py",onSubmit:$=>A(n.id,$,W.kind),onCancel:se,onChange:()=>B(null),isSubmitting:g,error:re})}):null]})})]}),l.jsx(Ti,{open:!!O,position:O?O.position:null,onClose:()=>Z(null),items:ce,appearance:Y})]})}function Ay({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:o,onToggleFolder:u,onSelectFile:d,tokens:h,theme:g,focusRingClass:x,onContextMenu:b,editing:v,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:C,deletingFolderPath:T,onClearCreateError:_}){const U={paddingLeft:8+n*16,"--tree-hover-bg":h.rowHover};if(e.kind==="folder"){const X=r.has(e.id),re=T===e.id,B=v?.parentId===e.id,G={...U,color:X?h.textPrimary:h.textMuted};return X&&h.folderActiveBg!=="transparent"&&(G.backgroundColor=h.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:ue=>b(ue,e),className:me("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x,re&&"opacity-60"),style:G,"aria-expanded":X,disabled:re,children:[l.jsx(EA,{open:X,tokens:h}),l.jsx(NA,{open:X,tokens:h}),l.jsx("span",{className:"truncate",children:e.name})]}),X?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(ue=>l.jsx(Ay,{node:ue,depth:n+1,expanded:r,activeFileId:i,openFileIds:o,onToggleFolder:u,onSelectFile:d,tokens:h,theme:g,focusRingClass:x,onContextMenu:b,editing:v,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:C,deletingFolderPath:T,onClearCreateError:_},ue.id)),B?l.jsx("li",{className:"pl-2",children:l.jsx(My,{appearance:g,icon:v?.kind==="folder"?l.jsx(fh,{}):void 0,placeholder:v?.kind==="folder"?"new_folder":"new_file.py",onSubmit:ue=>{v&&w(e.id,ue,v.kind)},onCancel:E,onChange:_,isSubmitting:j,error:N})}):null]}):null]})}const D=i===e.id,K=o.includes(e.id),O=C===e.id,Z=SA(e.name,e.language),W={...U,color:h.textPrimary};return D&&(W.backgroundColor=h.selectionBg,W.color=h.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:X=>b(X,e),className:me("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,D&&"shadow-inner shadow-[#00000033]",O&&"opacity-60"),style:W,disabled:O,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(CA,{className:me(Z,K&&!D&&"opacity-90",!K&&!D&&"opacity-75")})}),l.jsx("span",{className:me("flex-1 truncate",D&&"font-semibold"),children:e.name}),K&&!D?l.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:h.badgeOpen}}):null]})})}const fb={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function SA(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&fb[i]?fb[i]:"text-slate-400"}function EA({open:e,tokens:n}){return l.jsx("svg",{className:me("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function NA({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function CA({className:e}){return l.jsxs("svg",{className:me("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function _A(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Jr="h-4 w-4 text-current opacity-80";function kA(){return l.jsx("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function hb(){return l.jsxs("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function TA(){return l.jsx("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Dy(){return l.jsxs("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function fh(){return l.jsxs("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 5h3.5l1.2 1.4H12.5a1 1 0 0 1 1 1V12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 8v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 9.5h3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function AA(){return l.jsx("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function DA(){return l.jsxs("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function mb(){return l.jsxs("svg",{className:Jr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function My({appearance:e,onSubmit:n,onCancel:r,onChange:i,isSubmitting:o,error:u,placeholder:d="new_file.py",icon:h}){const[g,x]=p.useState(""),b=p.useRef(null);p.useEffect(()=>{b.current?.focus(),b.current?.select()},[]);const v=p.useCallback(()=>{n(g.trim())},[n,g]),w=e==="dark"?"text-slate-300":"text-slate-600",E=e==="dark"?"#232323":"#e8e8e8",N=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:E,borderColor:N},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:h??l.jsx(Dy,{})}),l.jsx("input",{ref:b,value:g,onChange:j=>{x(j.target.value),i?.()},onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),v()),j.key==="Escape"&&(j.preventDefault(),r())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:d,disabled:o}),l.jsx("button",{type:"button",className:me("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",o?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:v,disabled:o,children:o?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:r,disabled:o,children:"Cancel"})]}),l.jsx("div",{className:me("mt-1 text-[11px]",w),children:"Enter a name and press Enter. Escape to cancel."}),u?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:u}):null]})}function pb({orientation:e,onPointerDown:n,onDoubleClick:r,onToggle:i,collapsed:o}){const u=e==="vertical",d=u?"":o?"":"";return l.jsxs("div",{role:"separator","aria-orientation":e,className:me("relative select-none bg-transparent group",u?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:n,onDoubleClick:r,title:u?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[l.jsx("span",{className:"sr-only",children:"Resize panel"}),l.jsx("div",{className:me("absolute inset-0 flex items-center justify-center",u?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:l.jsx("div",{className:me(u?"h-full w-px":"h-px w-full","bg-slate-400/50")})}),i&&!u?l.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),i()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-slate-800/70 text-[10px] text-slate-100 opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":o?"Show console":"Hide console",title:o?"Show console":"Hide console",children:d}):null]})}const MA={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function gb(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=Il(n),o={id:n,name:xb(n),kind:"folder",children:[]},u=new Map([[n,o]]),d=g=>{if(g.length===0)return o;const x=Il(g),b=x===i?n:x,v=u.get(b);if(v)return v;const w={id:b,name:xb(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":OA(b)??n,N=d(E);return Bf(N,w),w},h=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of h){const x=g.parent&&g.parent.length>0?Il(g.parent):n,b=d(x);if(g.kind==="dir"){const w=d(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&Bf(b,w);continue}const v={id:g.path,name:g.name,kind:"file",language:zA(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,v),Bf(b,v)}return o}function Bf(e,n){const r=e.children??[],i=r.some(o=>o.id===n.id)?r.map(o=>o.id===n.id?n:o):[...r,n];e.children=i.sort(RA)}function RA(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function zA(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return MA[i]}function xb(e){const n=Il(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function OA(e){const n=Il(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function Il(e){return e?e.replace(/\/+$/,""):""}function ys(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=ys(r,n);if(i)return i}return null}function Gh(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=Gh(n);if(r)return r}return null}function LA({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[o,u]=p.useState([]),[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(()=>!i),[w,E]=p.useState(!1),N=p.useRef(new Set),j=p.useRef([]),C=p.useRef(""),T=p.useRef([]),_=p.useCallback(q=>{h(te=>te===q?te:q),x(te=>{const H=te.filter($=>j.current.some(le=>le.id===$));if(!q)return H;const Y=H.filter($=>$!==q);return[q,...Y]})},[]);p.useEffect(()=>{C.current=d},[d]),p.useEffect(()=>{T.current=g},[g]),p.useEffect(()=>{if(!e){u([]),h(""),x([]);return}u(te=>te.filter(H=>!!ys(e,H.id)).map(H=>{const Y=ys(e,H.id);return!Y||Y.kind!=="file"?H:{...H,name:Y.name,language:Y.language,metadata:Y.metadata}}));const q=C.current;(!q||!ys(e,q))&&_("")},[e,_]);const F=p.useMemo(()=>o.find(q=>q.id===d)??o[0]??null,[d,o]),U=p.useCallback(async q=>{if(!j.current.some(H=>H.id===q))return;let te=!1;if(u(H=>H.map(Y=>Y.id!==q?Y:Y.status==="ready"?(te=!0,Y):{...Y,status:"loading",error:null})),!te)try{const H=await r(q);u(Y=>Y.map($=>$.id===q?{...$,initialContent:H.content,content:H.content,status:"ready",error:null,etag:H.etag??null,saving:!1,saveError:null}:$))}catch(H){const Y=H instanceof Error?H.message:"Unable to load file.";u($=>$.map(le=>le.id===q?{...le,status:"error",error:Y}:le))}},[r]),D=p.useCallback((q,te)=>{if(!e)return;const H=ys(e,q);!H||H.kind!=="file"||(u(Y=>{if(Y.some(le=>le.id===q))return Y;const $={id:H.id,name:H.name,language:H.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:H.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...Y,$]}),(te?.activate??!0)&&_(q))},[e,_]);p.useEffect(()=>{if(b||!i||!e){i||v(!0);return}const q=i.get(),H=(q?.openTabs??[]).map(Y=>typeof Y=="string"?{id:Y,pinned:!1}:Y).filter(Y=>!!(Y&&Y.id));if(H.length>0){const Y=[];for(const $ of H){const le=ys(e,$.id);!le||le.kind!=="file"||Y.push({id:le.id,name:le.name,language:le.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:le.metadata,pinned:!!$.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(Y.length>0){u(Y);const $=(q?.activeTabId&&Y.some(xe=>xe.id===q.activeTabId)?q.activeTabId:Y[0]?.id)??"";h($);const ge=(q?.mru&&q.mru.length>0?q.mru:Y.map(xe=>xe.id)).filter(xe=>Y.some(Ce=>Ce.id===xe));x(ge),E(!0)}}v(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(o.length>0){w||E(!0);return}if(w)return;const q=n&&ys(e,n)||Gh(e);if(!q){E(!0);return}D(q.id),E(!0)},[e,n,D,b,o.length,w]);const K=p.useCallback(q=>{D(q)},[D]),O=p.useCallback(q=>{_(q),u(te=>te.map(H=>H.id===q&&H.status==="error"?{...H,status:"loading",error:null}:H))},[_]),Z=p.useCallback(q=>{u(te=>{const H=te.filter(le=>le.id!==q),Y=C.current,$=Y===q?H[H.length-1]?.id??"":H.some(le=>le.id===Y)?Y:H[H.length-1]?.id??"";return _($),H})},[_]),W=p.useCallback(q=>{u(te=>!te.some(H=>H.id===q)||te.length<=1?te:(_(q),te.filter(H=>H.id===q)))},[_]),X=p.useCallback(q=>{u(te=>{const H=te.findIndex(le=>le.id===q);if(H===-1||H===te.length-1)return te;const Y=te.slice(0,H+1),$=Y.some(le=>le.id===C.current)?C.current:q;return _($),Y})},[_]),re=p.useCallback(()=>{u([]),h(""),x([])},[]),B=p.useCallback((q,te)=>{u(H=>{if(H.length<=1)return H;const Y=H.findIndex(Oe=>Oe.id===q);if(Y===-1)return H;const $=H.filter((Oe,Te)=>Te!==Y),le=Math.max(0,Math.min(te,$.length)),ge=[],xe=[],Ce=H[Y];if($.forEach(Oe=>{Oe.pinned?ge.push(Oe):xe.push(Oe)}),(le<=ge.length?"pinned":"regular")==="pinned"){const Oe=Math.max(0,Math.min(le,ge.length));ge.splice(Oe,0,{...Ce,pinned:!0})}else{const Oe=Math.max(0,Math.min(le-ge.length,xe.length));xe.splice(Oe,0,{...Ce,pinned:!1})}return[...ge,...xe]})},[]),G=p.useCallback(q=>{if(N.current.has(q))return;let te=!1;u(H=>H.map(Y=>Y.id!==q?Y:(te=!0,{...Y,status:"loading",error:null}))),te&&(N.current.add(q),U(q).finally(()=>{N.current.delete(q)}))},[U]),ue=p.useCallback(q=>{u(te=>{const H=[],Y=[];let $=null;for(const ge of te){if(ge.id===q){$=ge;continue}ge.pinned?H.push(ge):Y.push(ge)}if(!$||$.pinned)return te;const le={...$,pinned:!0};return[...H,le,...Y]})},[]),we=p.useCallback(q=>{u(te=>{const H=[],Y=[];let $=null;for(const ge of te){if(ge.id===q){$=ge;continue}ge.pinned?H.push(ge):Y.push(ge)}if(!$||!$.pinned)return te;const le={...$,pinned:!1};return[...H,le,...Y]})},[]),M=p.useCallback((q,te)=>{te?ue(q):we(q)},[ue,we]),A=p.useCallback(q=>{const te=T.current.filter(Ce=>j.current.some(We=>We.id===Ce));if(te.length<=1)return;const H=C.current||te[0],Y=te.indexOf(H),ge=((Y>=0?Y:0)+(q==="forward"?1:-1)+te.length)%te.length,xe=te[ge];xe&&xe!==H&&_(xe)},[_]),se=p.useCallback((q,te)=>{u(H=>H.map(Y=>Y.id===q?{...Y,content:te,status:Y.status==="ready"?Y.status:"ready",error:null,saveError:null}:Y))},[]),de=p.useCallback(q=>{u(te=>te.map(H=>H.id===q?{...H,saving:!0,saveError:null}:H))},[]),ae=p.useCallback((q,te)=>{u(H=>H.map(Y=>{if(Y.id!==q)return Y;const $=te?.metadata??Y.metadata??null,le=te?.etag??Y.etag??null,ge=te?.savedContent??Y.content;return{...Y,saving:!1,saveError:null,initialContent:ge,etag:le,metadata:$&&{...$,etag:$.etag??le??null},lastSavedAt:new Date().toISOString()}}))},[]),k=p.useCallback((q,te)=>{u(H=>H.map(Y=>Y.id===q?{...Y,saving:!1,saveError:te}:Y))},[]),Q=p.useCallback((q,te)=>{u(H=>H.map(Y=>Y.id!==q?Y:{...Y,content:te.content,initialContent:te.content,status:"ready",error:null,saving:!1,saveError:null,etag:te.etag??Y.etag??null,metadata:te.metadata??Y.metadata}))},[]),ce=p.useMemo(()=>o.some(q=>q.status==="ready"&&q.content!==q.initialContent),[o]);return p.useEffect(()=>{j.current=o},[o]),p.useEffect(()=>{x(q=>{const te=q.filter(H=>o.some(Y=>Y.id===H));return te.length===q.length?q:te})},[o]),p.useEffect(()=>{const q=new Set(o.map(te=>te.id));for(const te of N.current)q.has(te)||N.current.delete(te);for(const te of o){if(te.status!=="loading"||N.current.has(te.id))continue;N.current.add(te.id),U(te.id).finally(()=>{N.current.delete(te.id)})}},[o,U]),p.useEffect(()=>{if(!i||!b)return;const q=[d,...g].filter(te=>!!te).filter((te,H,Y)=>Y.indexOf(te)===H).filter(te=>o.some(H=>H.id===te));i.set({openTabs:o.map(te=>({id:te.id,pinned:!!te.pinned})),activeTabId:d||null,mru:q})},[i,o,d,g,b]),{tree:e,tabs:o,activeTabId:d,activeTab:F,openFile:K,selectTab:O,closeTab:Z,closeOtherTabs:W,closeTabsToRight:X,closeAllTabs:re,moveTab:B,reloadTab:G,pinTab:ue,unpinTab:we,toggleTabPin:M,selectRecentTab:A,updateContent:se,beginSavingTab:de,completeSavingTab:ae,failSavingTab:k,replaceTabContent:Q,isDirty:ce}}function Ry(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const o=Array.isArray(i)?i:[i];for(const u of o)u!=null&&n.append(r,String(u))}return n}const zy=p.createContext(null);function UA({value:e,children:n}){return p.createElement(zy.Provider,{value:e},n)}function Oy(){const e=p.useContext(zy),n=Fn(),r=It(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),o=p.useCallback((u,d)=>{const h=typeof u=="function"?u(new URLSearchParams(i)):u,x=Ry(h).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;r(b,{replace:d?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??o]}const zc={pane:"terminal",console:"closed"},BA=["pane","console","file"],$A=["tab","view","runId"];function qA(e){return e==="open"?"open":"closed"}function FA(e){return e==="problems"?"problems":"terminal"}function Ly(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("pane"),i=n.get("console"),o=n.get("file");return{...{pane:FA(r),console:qA(i),fileId:o??void 0},present:{pane:n.has("pane"),console:n.has("console"),fileId:n.has("file")}}}function $f(e,n){const r=Ly(e),i={...zc,...r,...n},o=new URLSearchParams(e);for(const u of BA)o.delete(u);for(const u of $A)o.delete(u);return i.pane!==zc.pane&&o.set("pane",i.pane),i.console!==zc.console&&o.set("console",i.console),i.fileId&&i.fileId.length>0&&o.set("file",i.fileId),o}function HA(){const[e,n]=Oy(),r=p.useMemo(()=>Ly(e),[e]),i=p.useCallback(d=>{r.fileId===d||!d&&!r.present.fileId||n(h=>$f(h,{fileId:d??void 0}),{replace:!0})},[n,r.fileId,r.present.fileId]),o=p.useCallback(d=>{r.pane!==d&&n(h=>$f(h,{pane:d}),{replace:!0})},[n,r.pane]),u=p.useCallback(d=>{r.console!==d&&n(h=>$f(h,{console:d}),{replace:!0})},[n,r.console]);return{fileId:r.fileId??zc.fileId,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:o,setConsole:u}}const ZA="You have unsaved changes in the config editor. Are you sure you want to leave?";function IA({isDirty:e,confirm:n=window.confirm,message:r=ZA,shouldBypassNavigation:i}){const o=Fn(),u=p.useCallback(d=>!e||i?.()||d.location.pathname===o.pathname?!0:n(r),[n,e,o.pathname,r,i]);$b(u,e),p.useEffect(()=>{if(!e)return;const d=h=>(h.preventDefault(),h.returnValue=r,r);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[e,r])}const bb="(prefers-color-scheme: dark)";function vb(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function VA(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function QA(e){const n=p.useMemo(()=>Ps(e),[e]),[r,i]=p.useState(()=>{const g=n.get();return vb(g)}),[o,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(bb).matches);p.useEffect(()=>{const g=vb(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(bb),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const d=p.useMemo(()=>VA(r,o),[r,o]),h=p.useCallback(g=>{i(g)},[]);return{preference:r,resolvedTheme:d,setPreference:h}}function as(e,n,r){return Math.min(Math.max(e,n),r)}function yb(e,n){const{onMove:r,onEnd:i,cursor:o}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,d=e.currentTarget,h=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,v=!0;const w=C=>{if(v){if(v=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=h,document.body.style.userSelect=g,window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",N),d.removeEventListener("lostpointercapture",j),d.hasPointerCapture?.(u))try{d.releasePointerCapture(u)}catch{}i&&i(C)}},E=C=>{!v||C.pointerId!==u||(b=C,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&r(b)})))},N=C=>{C.pointerId===u&&w(C)},j=C=>{C.pointerId===u&&w(C)};o&&(document.body.style.cursor=o),document.body.style.userSelect="none";try{d.setPointerCapture(u)}catch{}window.addEventListener("pointermove",E),window.addEventListener("pointerup",N),window.addEventListener("pointercancel",N),d.addEventListener("lostpointercapture",j)}const WA="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",PA="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function KA({label:e,icon:n,disabled:r,isLoading:i,highlight:o,className:u,primaryClassName:d,menuClassName:h,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(GA,{}),onPrimaryClick:v,onOpenMenu:w,onContextMenu:E}){const N=p.useRef(null),j=!!(r||i),C=T=>{if(j)return;T.preventDefault();const _=N.current?.getBoundingClientRect();if(_){w?.({x:_.left,y:_.bottom});return}w?.({x:T.clientX,y:T.clientY})};return l.jsxs("div",{role:"group",className:me("inline-flex items-stretch rounded-md shadow-sm",o&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[l.jsxs("button",{type:"button",title:g,disabled:j,className:me(WA,d),onClick:T=>{j||v?.(T)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:N,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:j,className:me(PA,h),onClick:C,children:b})]})}function GA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const YA=new TextEncoder;async function XA(e,n={}){const{signal:r,page:i,pageSize:o,includeTotal:u}=n,d={};typeof i=="number"&&i>0&&(d.page=i),typeof o=="number"&&o>0&&(d.page_size=o),u&&(d.include_total=!0);const{data:h}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:d},signal:r});if(!h)throw new Error("Expected configuration page payload.");return h}async function JA(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:r});return i??null}async function eD(e,n,r={}){const{prefix:i,depth:o,include:u,exclude:d,limit:h,pageToken:g,sort:x,order:b,signal:v}=r,{data:w}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:o??"infinity",include:u?.length?[...u]:void 0,exclude:d?.length?[...d]:void 0,limit:h,page_token:g??void 0,sort:x,order:b}},signal:v,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function wb(e,n,r,i){const{data:o}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!o)throw new Error("Expected file payload.");return o}async function tD(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/export",{params:{path:{workspace_id:e,configuration_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected configuration archive payload.");const d=(i?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:r,filename:d??void 0}}async function nD(e,n,r){const i=uD(r.path),o=r.parents?"?parents=1":"",u=await iS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${o}`,{method:"PUT",body:YA.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const h=await dD(u),g=h?.title??`Request failed with status ${u.status}`;throw new qn(g,u.status,h)}const d=await u.json().catch(()=>({}));if(!d||!d.path)throw new Error("Expected write response payload.");return d}async function sD(e,n,r,i={}){await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:i.etag?{"If-Match":i.etag}:void 0})}async function rD(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r}}});if(!i)throw new Error("Expected directory response payload.");return i}async function aD(e,n,r,i={}){const o={};i.recursive&&(o.recursive=!0),await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r},query:o}})}async function iD(e,n){const r=new FormData;r.append("display_name",n.displayName),r.append("file",n.file);const{data:i}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations/import",{params:{path:{workspace_id:e}},body:r,bodySerializer:()=>r});if(!i)throw new Error("Expected configuration payload.");return i}async function lD(e,n,r){const i=new FormData;i.append("file",r.file);const{data:o}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/import",{params:{path:{workspace_id:e,configuration_id:n}},headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0,body:i,bodySerializer:()=>i});if(!o)throw new Error("Expected configuration payload.");return o}function oD(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function cD(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:oD(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}function uD(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function dD(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Nn={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...Nn.root(e),"list",{...n}],detail:(e,n)=>[...Nn.root(e),"detail",n],files:(e,n)=>[...Nn.detail(e,n),"files"],file:(e,n,r)=>[...Nn.files(e,n),"file",r]};function fD({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:o="",depth:u="infinity",include:d,exclude:h,limit:g,pageToken:x,sort:b="path",order:v="asc"}=i;return zn({queryKey:[...Nn.files(e,n),o,u,d?.join("|")??"",h?.join("|")??"",g??"",x??"",b,v],queryFn:({signal:w})=>eD(e,n,{prefix:o,depth:u,include:d,exclude:h,limit:g,pageToken:x,sort:b,order:v,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function hD(e,n){const r=ft();return sn({mutationFn:i=>nD(e,n,i),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function mD(e,n){const r=ft();return sn({mutationFn:i=>sD(e,n,i.path,{etag:i.etag}),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function pD(e,n){const r=ft();return sn({mutationFn:i=>rD(e,n,i.path),async onSuccess(){await r.invalidateQueries({queryKey:Nn.files(e,n)})}})}function gD(e,n){const r=ft();return sn({mutationFn:i=>aD(e,n,i.path,{recursive:i.recursive}),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function xD(e){return sn({mutationFn:n=>iD(e,n)})}function bD(e,n){return sn({mutationFn:r=>lD(e,n,r)})}async function Uy(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:r});return i??[]}const By=p.createContext(null),vD=6e3,yD=7e3,jb=4;function wD({children:e}){const[n,r]=p.useState([]),[i,o]=p.useState([]),u=p.useCallback(b=>{r(v=>v.filter(w=>w.id!==b)),o(v=>v.filter(w=>w.id!==b))},[]),d=p.useCallback(b=>{const v={kind:"toast",id:b.id??Sb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?vD:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const N=[...v.persistKey?w.filter(j=>j.persistKey!==v.persistKey):w,v];return N.length>jb?N.slice(N.length-jb):N}),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),h=p.useCallback(b=>{const v={kind:"banner",id:b.id??Sb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:yD:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return o(w=>[...v.persistKey?w.filter(N=>N.persistKey!==v.persistKey):w,v]),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),g=p.useCallback((b,v)=>{b&&((!v||v==="toast")&&r(w=>w.filter(E=>E.scope!==b)),(!v||v==="banner")&&o(w=>w.filter(E=>E.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:d,pushBanner:h,dismiss:u,clearScope:g}),[n,i,d,h,u,g]);return l.jsxs(By.Provider,{value:x,children:[e,l.jsx(jD,{})]})}function $y(){const e=p.useContext(By);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function jD(){const{toasts:e,banners:n,dismiss:r}=$y(),[i,o]=p.useState(!1);return p.useEffect(()=>o(!0),[]),!i||typeof document>"u"?null:ls.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(ED,{banner:u,onDismiss:r},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(SD,{toast:u,onDismiss:r},u.id))})]}),document.body)}function SD({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[r,e.duration,e.id,n]);const u=ND[e.intent];return l.jsxs("div",{className:me("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:me("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Fy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(d=>l.jsx(qy,{action:d,onPress:()=>{d.onSelect(),n(e.id)},appearance:"dark"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Hy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:me("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function ED({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[r,e.duration,e.id,n]);const u=CD[e.intent];return l.jsxs("div",{className:me("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:me("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Fy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(d=>l.jsx(qy,{action:d,onPress:()=>{d.onSelect(),e.sticky||n(e.id)},appearance:"light"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:me("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Hy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:me("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function qy({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",o=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:me("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":o),onClick:n,children:e.label})}function Fy(e){switch(e){case"success":return l.jsx(kD,{});case"warning":return l.jsx(TD,{});case"danger":return l.jsx(AD,{});default:return l.jsx(_D,{})}}const ND={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},CD={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function Sb(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function _D(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function kD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function TD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function AD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Hy(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function DD(){const e=$y();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const MD="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",Ai=p.forwardRef(({className:e,...n},r)=>l.jsx("select",{ref:r,className:me(MD,e),...n}));Ai.displayName="Select";class RD{constructor(n){if(this.capacity=n,!Number.isFinite(n)||n<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(n)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(n){if(this._length<this.capacity){const r=(this.start+this._length)%this.capacity;this.buffer[r]=n,this._length+=1;return}this.buffer[this.start]=n,this.start=(this.start+1)%this.capacity}get(n){if(n<0||n>=this._length)return;const r=(this.start+n)%this.capacity;return this.buffer[r]}toArray(){const n=[];for(let r=0;r<this._length;r+=1){const i=this.get(r);i!==void 0&&n.push(i)}return n}}class zD{constructor(n,r){this.capacity=n,this.buffer=new RD(n),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},r?.length&&this.appendMany(r)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(n){return this.buffer.get(n)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(n){this.buffer.push(Eb(n,this.nextId++)),this.scheduleNotify()}appendMany(n){for(const r of n)this.buffer.push(Eb(r,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const n of this.listeners)n()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const n=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(n);return}setTimeout(n,0)}}function Eb(e,n){if(e.id)return e;const r=e.origin??"run",i=e.timestamp??"ts";return{...e,id:`console-${r}-${i}-${n}`}}function OD(e,n){const r=new URLSearchParams;n.dry_run&&r.set("dry_run","true"),n.validate_only&&r.set("validate_only","true"),n.force_rebuild&&r.set("force_rebuild","true"),n.debug&&r.set("debug","true"),n.log_level&&r.set("log_level",n.log_level),n.input_document_id&&r.set("input_document_id",n.input_document_id);const i=n.input_sheet_names??[];for(const d of i)r.append("input_sheet_names",d);const o=Ri(`/api/v1/configurations/${e}/jobs/stream`),u=r.toString();return u?`${o}?${u}`:o}async function*LD(e,n,r){const i=OD(e,n);yield*UD(i,r)}async function*UD(e,n){const r=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),i=new AbortController,o=()=>i.abort();let u=null;n?.aborted?i.abort():n&&n.addEventListener("abort",o);try{const d=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:i.signal});if(!d.body||!d.ok)throw new Error("Job event stream unavailable.");u=d.body.getReader();const h=new TextDecoder;let g="";for(;;){const{value:x,done:b}=await u.read();g+=h.decode(x??new Uint8Array,{stream:!b});const v=g.split(`

`);g=v.pop()??"";for(const w of v){const E=Nb(w);E&&(yield E)}if(b){const w=Nb(g);w&&(yield w);return}}}catch(d){throw i.signal.aborted?r:d}finally{if(n&&n.removeEventListener("abort",o),u)try{await u.cancel()}catch{}i.signal.aborted||i.abort()}}function Nb(e){const n=[];let r=null,i=null;for(const u of e.split(/\n/)){if(u.startsWith("data:")){const d=u.slice(5);n.push(d.startsWith(" ")?d.slice(1):d);continue}if(u.startsWith("id:")){r=u.slice(3).trim();continue}if(u.startsWith("event:")){i=u.slice(6).trim();continue}}if(!n.length)return null;const o=n.join(`
`);if(!o.trim())return null;try{const u=JSON.parse(o);if(u._raw=o,i&&!u.event&&!u.type&&(u.event=i),r&&u.sequence===void 0){const d=Number(r);Number.isFinite(d)?u.sequence=d:u.sse_id=r}return u}catch{return null}}function BD(e){const n=e.timestamp??e.created_at,r=new Date(n);return Number.isNaN(r.getTime())?new Date().toISOString():r.toISOString()}function Cb(e){return(e.event??e.type??"").toString()}function qf(e){const n=e.data??e.payload;return n&&typeof n=="object"?n:{}}function $D({configId:e,onJobIdChange:n,seed:r,maxConsoleLines:i=2e3,onError:o}){const u=p.useRef(new zD(i,r?.console?[...r.console].slice(-i):void 0)),d=p.useRef(null),h=p.useRef(!1),[g,x]=p.useState(null),[b,v]=p.useState(null),[w,E]=p.useState("idle"),[N,j]=p.useState(null),C=w==="running",T=p.useCallback(()=>{const K=d.current;K&&(K.abort(),d.current=null)},[]);p.useEffect(()=>()=>{T()},[T]);const _=p.useCallback(()=>{u.current.clear()},[]),F=p.useCallback(K=>{o&&o(K)},[o]),U=p.useCallback(K=>{const O=Cb(K);if(O==="job.meta"){const M=qf(K),A=typeof M.jobId=="string"?M.jobId:null;A&&(x(se=>se??A),n?.(A));return}const Z=qf(K),X=(O.startsWith("build.")?"build":O==="console.line"&&typeof Z.scope=="string"?Z.scope:"run")==="build"?"build":"run",re=typeof K.level=="string"?K.level.toLowerCase():"info",B=re==="debug"||re==="warning"||re==="error"||re==="success"?re:"info",G=typeof K.message=="string"?K.message:"",ue=G.trim()?G:O,we={id:typeof K.event_id=="string"?K.event_id:void 0,level:B,message:ue,timestamp:BD(K),origin:X,raw:K};if(u.current.append(we),O==="run.complete"){j(Z);const M=typeof Z.status=="string"?Z.status.toLowerCase():"";E(M==="succeeded"||M==="success"?"succeeded":M==="cancelled"||M==="canceled"?"cancelled":"failed")}},[n]),D=p.useCallback(async(K,O,Z)=>{if(h.current||C||Z?.prepare&&Z.prepare()===!1)return null;T(),_(),j(null),v(O.mode),E("running"),x(null),n?.(null);const W=new Date().toISOString(),X=new AbortController;d.current=X,h.current=!0;let re=null;try{for await(const B of LD(e,K,X.signal)){U(B);const G=Cb(B);if(G==="job.meta"){const ue=qf(B),we=typeof ue.jobId=="string"?ue.jobId:null;we&&!re&&(re=we,x(we),n?.(we))}if(G==="run.complete")break}if(!re)throw new Error("Job stream ended before returning a job id.");return{jobId:re,startedAt:W}}catch(B){return X.signal.aborted||(E("failed"),F(B)),null}finally{h.current=!1,d.current===X&&(d.current=null)}},[_,e,C,n,F,U,T]);return p.useMemo(()=>({console:u.current,jobId:g,jobMode:b,jobStatus:w,jobInProgress:C,completedDetails:N,clearConsole:_,startJob:D}),[g,b,w,C,N,_,D])}async function qD(e,n){const r=typeof e=="string"?await Yh(e,n):e,i=r.events_download_url??r.links?.events_download??r.links?.logs;if(!i)throw new Error("Run logs link unavailable.");const o=await fetch(Ri(i),{method:"GET",credentials:"include",headers:{Accept:"application/x-ndjson"},signal:n});if(!o.ok)throw new Error(`Run telemetry unavailable (${o.status}).`);return(await o.text()??"").split(/\r?\n/).filter(Boolean).map(h=>{try{return JSON.parse(h)}catch(g){return console.warn("Skipping invalid telemetry line",{error:g,line:h}),null}}).filter(h=>!!h)}async function Yh(e,n){const{data:r}=await Be.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run not found");return r}function Zy(e){const n=e.output,r=n?.ready,i=n?.download_url??e.links?.output_download??e.links?.output;return r===!1||!i?null:Ri(i)}function Iy(e){const n=e.events_download_url??e.links?.events_download??e.links?.logs;return n?Ri(n):null}function FD(e){const n=e.links?.input_download??e.links?.input;return n?Ri(n):null}const _b={detail:e=>["run",e],telemetry:e=>["run-telemetry",e]};function HD(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function ZD(e){const n=(e??"").toLowerCase();return n==="succeeded"||n==="failed"||n==="cancelled"?n:n==="success"?"succeeded":"failed"}function ID({configId:e,runId:n,seed:r,maxConsoleLines:i,onRunIdChange:o,onRunComplete:u}){const d=p.useRef(null),{console:h,jobId:g,jobMode:x,jobStatus:b,jobInProgress:v,completedDetails:w,clearConsole:E,startJob:N}=$D({configId:e,onJobIdChange:o,seed:r?{console:r.console}:void 0,maxConsoleLines:i}),j=g??n,C=x??null,[T,_]=p.useState(null),F=p.useRef(null),U=p.useMemo(()=>({status:v&&C==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[v,C]);p.useEffect(()=>{if(!j||!HD(b)||F.current===j)return;F.current=j;const O=ZD(typeof w?.status=="string"?w.status:null),Z=C??"extraction",W=w?.execution??{},X=typeof W.started_at=="string"?W.started_at:null,re=typeof W.completed_at=="string"?W.completed_at:new Date().toISOString(),B=typeof W.duration_ms=="number"?W.duration_ms:null;if(u?.({runId:j,status:O,mode:Z,startedAt:X,completedAt:re,durationMs:B,payload:w}),Z==="validation")return;const G=d.current,ue=w?.artifacts??{},we=typeof ue.output_path=="string"?ue.output_path:null,M=typeof ue.processed_file=="string"?ue.processed_file:null;_({runId:j,status:O,outputUrl:void 0,inputUrl:void 0,outputReady:we?!0:void 0,outputFilename:we?VD(we):null,outputPath:we,logsUrl:void 0,processedFile:M,outputLoaded:!1,summary:null,summaryLoaded:!0,summaryError:null,telemetry:null,telemetryLoaded:!0,telemetryError:null,documentName:G?.documentName,sheetNames:G?.sheetNames??[],error:null,startedAt:X,completedAt:re,durationMs:B}),(async()=>{try{const A=await Yh(j),se=Zy(A)??void 0,de=Iy(A)??void 0,ae=FD(A)??void 0;_(k=>k&&k.runId===j?{...k,outputUrl:se??k.outputUrl,outputReady:se?!0:k.outputReady,logsUrl:de??k.logsUrl,inputUrl:ae??k.inputUrl,outputLoaded:!0}:k)}catch{_(A=>A&&A.runId===j?{...A,outputLoaded:!0}:A)}})()},[j,b,w,u,C]);const D=p.useCallback(async(O,Z,W)=>{d.current=Z;const X=W?.forceRebuild?{...O,force_rebuild:!0}:O,re=await N(X,Z,{prepare:W?.prepare});return re&&Z.mode==="extraction"&&_(null),re?{runId:re.jobId,startedAt:re.startedAt}:null},[N]),K=b==="running"?"running":b;return p.useMemo(()=>({runStatus:K,runMode:C??void 0,runInProgress:v,validation:U,console:h,latestRun:T,clearConsole:E,startRun:D}),[K,C,v,U,h,T,E,D])}function VD(e){const n=e.trim();if(!n)return"";const r=n.split("/");return r[r.length-1]||n}const Vy=e=>`ade.ui.workspace.${e}.config-builder.last`;function Xh(e){return Ps(Vy(e))}function Jh(e,n){if(n){const r={configId:n};return e.set(r),r}return e.clear(),null}const QD={min:200,max:420},WD=320,PD=120,Ff=140,KD=220,GD=40,YD=2e3,kb=10,XD=56,Tb="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",JD=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,eM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,tM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,nM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.explorer.expanded`,sM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.layout`,rM=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],aM={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"},iM=[{value:"DEBUG",label:"Debug"},{value:"INFO",label:"Info"},{value:"WARNING",label:"Warning"},{value:"ERROR",label:"Error"}];function Qy({workspaceId:e,configId:n,configName:r,seed:i,windowState:o,onMinimizeWindow:u,onMaximizeWindow:d,onRestoreWindow:h,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=ft(),{fileId:v,pane:w,console:E,consoleExplicit:N,setFileId:j,setPane:C,setConsole:T}=HA(),[_,F]=p.useState(null),U=!!i,D=fD({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!U}),K=D.data?.fileset_hash??null,O=D.data?.status==="draft",Z=p.useMemo(()=>Xh(e),[e]),W=p.useMemo(()=>i?i.tree:D.data?gb(D.data):null,[i,D.data]);p.useEffect(()=>{n&&(U||D.isSuccess)&&Jh(Z,n)},[n,U,D.isSuccess,Z]);const[X,re]=p.useState(null),B=p.useCallback(V=>{re(V)},[]),G=bD(e,n),ue=p.useRef(null),[we,M]=p.useState(null),[A,se]=p.useState(!1),[de,ae]=p.useState(!1),{runStatus:k,runMode:Q,runInProgress:ce,validation:q,console:te,latestRun:H,clearConsole:Y,startRun:$}=ID({configId:n,runId:_,seed:i,maxConsoleLines:YD,onRunIdChange:F,onRunComplete:B}),[le,ge]=p.useState(!1),[xe,Ce]=p.useState(!1),We=p.useMemo(()=>i?null:Ps(JD(e,n)),[e,n,i]),Oe=p.useMemo(()=>i?null:Ps(eM(e,n)),[e,n,i]),Te=p.useMemo(()=>Ps(sM(e,n)),[e,n]),Ge=p.useRef(null),Ut=QA(tM(e,n)),it=Ut.resolvedTheme==="vs-light"?"light":"dark",Cn=q.lastRunAt?`Last run ${jM(q.lastRunAt)}`:void 0,[R,P]=p.useState(()=>{const V=Te.get();return V?.explorer?{collapsed:!!V.explorer.collapsed,fraction:V.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[ie,Ee]=p.useState(null),ye=p.useRef(null),[je,Ae]=p.useState(!1);p.useEffect(()=>{Oe?Ge.current=Oe.get()??null:Ge.current=null,ye.current=null,Ee(null),Ae(!1)},[Oe]);const[He,Ve]=p.useState({width:0,height:0}),[_t,Se]=p.useState(null),[Ne,$e]=p.useState("explorer"),[Dt,st]=p.useState(null),[Kt,Mt]=p.useState(null),[br,Os]=p.useState(!1),[$i,Ls]=p.useState(!1),[vr,Rt]=p.useState(!1),[wt,kt]=p.useState(null),[_n,dn]=p.useState(null),[fn,hn]=p.useState(null),{notifyBanner:On,dismissScope:qt}=DD(),bn=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),vn=mD(e,n),kn=pD(e,n),Gn=gD(e,n),Pe=p.useCallback((V,be)=>{On({title:V,intent:be?.intent??"info",duration:be?.duration??6e3,dismissible:!0,scope:bn,persistKey:bn})},[On,bn]),Tn=p.useCallback(()=>{qt(bn,"banner")},[qt,bn]),zt=p.useCallback(V=>{const be=wM(V);Pe(be,{intent:"danger",duration:null})},[Pe]),Ln=p.useCallback(async()=>{se(!0);try{const V=await tD(e,n),be=V.filename??`${n}.zip`,De=URL.createObjectURL(V.blob),ke=document.createElement("a");ke.href=De,ke.download=be,ke.click(),URL.revokeObjectURL(De),Pe(`Exported ${be}`,{intent:"success",duration:4e3})}catch(V){zt(V),Pe("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{se(!1)}},[e,n,Pe,zt]);p.useEffect(()=>{if(!X)return;const{runId:V,status:be,payload:De}=X,ke=De?.failure??void 0,Ze=typeof ke?.message=="string"?ke.message.trim():null,an=typeof De?.summary=="string"?De.summary.trim():null,ct=Ze||an||"ADE run failed.",Mn=be==="cancelled";Pe(be==="succeeded"?"ADE run completed successfully.":Mn?"ADE run cancelled.":ct,{intent:be==="succeeded"?"success":Mn?"info":"danger"}),re(Yi=>Yi&&Yi.runId===V?null:Yi)},[X,Pe,re]);const Nt=o==="maximized",Vt=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,yr=p.useCallback(()=>{g()},[g]),Ma=!R.collapsed,yu=p.useCallback(async V=>{if(i)return{content:i.content[V]??"",etag:null};const be=await b.fetchQuery({queryKey:Nn.file(e,n,V),queryFn:({signal:De})=>wb(e,n,V,De)});if(!be)throw new Error("File could not be loaded.");return{content:Db(be),etag:be.etag??null}},[i,b,e,n]),qe=LA({tree:W,initialActiveFileId:v,loadFile:yu,persistence:We??void 0}),ea=hD(e,n),wr=p.useCallback(async V=>{if(U)return null;const be=await b.fetchQuery({queryKey:Nn.file(e,n,V),queryFn:({signal:ke})=>wb(e,n,V,ke)}),De=Db(be);return qe.replaceTabContent(V,{content:De,etag:be.etag??null,metadata:{size:be.size??null,modifiedAt:be.mtime??null,contentType:be.content_type??qe.tabs.find(ke=>ke.id===V)?.metadata?.contentType??null,etag:be.etag??null}}),be},[U,b,e,n,qe]);IA({isDirty:qe.isDirty,shouldBypassNavigation:x});const qi=p.useCallback(()=>{u()},[u]),jr=p.useCallback(()=>{Nt?h():d()},[Nt,d,h]),Gt=E!=="open",Yn=p.useMemo(()=>qe.tabs.filter(V=>V.status==="ready"&&V.content!==V.initialContent),[qe.tabs]),Sr=qe.tabs.some(V=>V.saving),jt=!U&&Yn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[R.collapsed,R.fraction,Gt,ie,Nt,w]);const Ys=p.useCallback(async V=>{if(U)return!1;const be=qe.tabs.find(Ze=>Ze.id===V);if(!be||be.status!=="ready"||be.content===be.initialContent||be.saving)return!1;const De=be.content,ke=be.etag??void 0;qe.beginSavingTab(V);try{const Ze=await ea.mutateAsync({path:be.id,content:De,etag:ke,create:!ke,parents:!0}),an={size:Ze.size??be.metadata?.size??null,modifiedAt:Ze.mtime??be.metadata?.modifiedAt??null,contentType:be.metadata?.contentType??null,etag:Ze.etag??be.metadata?.etag??null};return qe.completeSavingTab(V,{etag:Ze.etag??be.etag??null,metadata:an,savedContent:De}),Pe(`Saved ${be.name}`,{intent:"success",duration:4e3}),!0}catch(Ze){const an=Ze instanceof qn&&Ze.status===412,ct=an?new Error("Save blocked because this file changed on the server. Reloading latest version."):Ze;if(qe.failSavingTab(V,ct instanceof Error?ct.message:String(ct)),an)try{await wr(V),Pe("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Mn){zt(Mn)}return zt(ct),!1}},[U,qe,ea,Pe,wr,zt]),ta=p.useCallback(async V=>{const be=[];for(const De of V)await Ys(De)&&be.push(De);return be},[Ys]),os=p.useCallback(async()=>{if(!jt||Yn.length===0)return!0;const be=(await ta(Yn.map(De=>De.id))).length===Yn.length;return be||Pe("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),be},[jt,Yn,ta,Pe]),Er=p.useCallback(V=>{Ys(V)},[Ys]),Fi=p.useCallback(()=>{qe.activeTab&&Ys(qe.activeTab.id)},[qe.activeTab,Ys]),oo=p.useCallback(()=>{if(!jt)return;const V=Yn.map(be=>be.id);(async()=>{const be=await ta(V);be.length>1&&Pe(`Saved ${be.length} files`,{intent:"success",duration:5e3})})()},[jt,Yn,ta,Pe]);p.useEffect(()=>{const V=_t;if(!V||typeof window>"u")return;const be=()=>{const ke=V.getBoundingClientRect(),Ze=ke.width,an=ke.height;Ve({width:Ze,height:an}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(be(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be);const De=new window.ResizeObserver(()=>be());return De.observe(V),()=>De.disconnect()},[_t]);const Xs=Gt?WD:PD,rn=p.useMemo(()=>{const V=Math.max(0,He.height),De=Math.max(0,V-Xs-kb),ke=Math.min(Ff,De);return{container:V,minPx:ke,maxPx:De}},[He.height,Xs]),Ra=p.useCallback((V,be=rn)=>as(V,be.minPx,be.maxPx),[rn]),js=p.useCallback(()=>{const V=Ge.current;return V&&"version"in V&&V.version===2&&typeof V.fraction=="number"?as(V.fraction,0,1):V&&"height"in V&&typeof V.height=="number"&&rn.container>0?as(V.height/rn.container,0,1):.25},[rn.container]);p.useEffect(()=>{ie===null&&rn.container>0&&Ee(js())},[ie,rn.container,js]);const An=p.useCallback(()=>rn.container>0&&rn.maxPx<Ff?(T("closed"),Pe(Tb,{intent:"warning",duration:1e4}),!1):(Tn(),T("open"),Ee(V=>V!==null?as(V,0,1):ye.current!==null?as(ye.current,0,1):js()),!0),[rn,T,Pe,Tn,js]),Dn=p.useCallback(()=>{ye.current=ie,T("closed"),Tn()},[ie,T,Tn]);p.useEffect(()=>{if(je)return;const V=Ge.current?.state;if(N||!V){Ae(!0);return}(V==="open"||V==="closed")&&V!==E&&T(V),Ae(!0)},[N,E,T,je]),p.useEffect(()=>{!Oe||br||ie===null||Oe.set({version:2,fraction:as(ie,0,1),state:E})},[Oe,ie,E,br]),p.useEffect(()=>{if(!(E!=="open"||!rn.container)){if(rn.maxPx<Ff){T("closed"),Pe(Tb,{intent:"warning",duration:1e4});return}Ee(V=>V===null?js():as(V,0,1))}},[E,rn,T,Pe,js]);const Hi=p.useCallback((V,be)=>{if(V<=0)return{minPx:be.min,maxPx:be.max,minFrac:0,maxFrac:1};const De=Math.min(be.min,V),ke=Math.min(be.max,V);return{minPx:De,maxPx:ke,minFrac:De/V,maxFrac:ke/V}},[]),Ss=Math.max(0,He.width-XD),Es=p.useMemo(()=>Hi(Ss,QD),[Ss,Hi]),za=p.useCallback((V,be)=>as(V,be.minFrac,be.maxFrac),[]);p.useEffect(()=>{Ss<=0||P(V=>{if(V.collapsed)return V;const be=za(V.fraction,Es);return be===V.fraction?V:{...V,fraction:be}})},[Ss,Es,za]),p.useEffect(()=>{Te.set({version:2,explorer:{collapsed:R.collapsed,fraction:R.fraction}})},[Te,R]);const na=R.collapsed?0:as(R.fraction,Es.minFrac,Es.maxFrac)*Ss,Oa=Ss>0?Math.min(na,Ss):na,Bt=Math.max(0,rn.container),Zi=(ie??(Bt>0?as(KD/Bt,0,1):.25))*Bt,Us=Bt>0?Ra(Zi):0,Ii=kb,Vi=Gt?GD:Us,Nr=Bt>0?Math.max(Xs,Bt-Ii-Vi):Xs;p.useEffect(()=>{const V=qe.activeTabId;if(!V){j(void 0);return}j(V)},[qe.activeTabId,j]),p.useEffect(()=>{!wt||!W||ys(W,wt)&&(qe.openFile(wt),j(wt),kt(null))},[wt,W,qe,j]);const La=p.useCallback(()=>An()?(C("terminal"),!0):!1,[An,C]),uo=p.useCallback(async()=>{U||!W||D.isLoading||D.isError||!await os()||await $({validate_only:!0},{mode:"validation"},{prepare:La})},[U,W,D.isLoading,D.isError,os,$,La]),fo=p.useCallback(async V=>{if(ge(!1),Ce(!1),U||!W||D.isLoading||D.isError||!await os())return;const De=Array.from(new Set((V.sheetNames??[]).filter(Boolean)));$({input_document_id:V.documentId,input_sheet_names:De.length?De:void 0,log_level:V.logLevel},{mode:"extraction",documentId:V.documentId,documentName:V.documentName,sheetNames:De},{forceRebuild:xe,prepare:La})},[U,W,D.isLoading,D.isError,$,xe,La,os]);p.useEffect(()=>{if(typeof window>"u")return;const V=be=>{if(!(Vt?be.metaKey:be.ctrlKey)||be.altKey||be.key.toLowerCase()!=="s")return;const ke=be.target;if(ke){const Ze=ke.tagName;if(Ze==="INPUT"||Ze==="TEXTAREA"||ke.isContentEditable)return}jt&&(be.preventDefault(),Fi())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[Vt,jt,Fi]);const Ua=Q??(ce?"extraction":void 0),Ba=ce,ju=q.status==="running"||Ba&&Ua==="validation",$a=!U&&!!W&&!D.isLoading&&!D.isError&&!Ba&&q.status!=="running",Ns=Ba&&Ua!=="validation",Cr=!U&&!!W&&!D.isLoading&&!D.isError&&!Ba,Bs=!U&&!D.isLoading&&!D.isError,$s=Bs&&!vn.isPending,qs=Bs&&!kn.isPending,qa=Bs&&!Gn.isPending,Fs=O&&!U&&!G.isPending&&!!K,ho=p.useCallback(V=>{$e(V),V==="explorer"&&P(be=>({...be,collapsed:!1}))},[]),sa=p.useCallback(V=>{V.preventDefault();const be=V.currentTarget.getBoundingClientRect();st({x:be.right+8,y:be.top})},[]),Cs=p.useCallback(V=>{M(V)},[]),Qi=p.useCallback(()=>st(null),[]),Un=p.useCallback(()=>{Gt?An():Dn()},[Gt,An,Dn]);p.useEffect(()=>{if(typeof window>"u")return;const V=be=>{if(!(Vt?be.metaKey:be.ctrlKey)||be.altKey||be.key?.toLowerCase()!=="`"&&be.code!=="Backquote")return;const Ze=be.target;if(Ze&&!(typeof Ze.closest=="function"?Ze.closest("[data-editor-area]"):null)){const ct=Ze.tagName,Mn=Ze.getAttribute("role");if(ct==="INPUT"||ct==="TEXTAREA"||Mn==="textbox"||Ze.isContentEditable)return}be.preventDefault(),Un()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[Vt,Un]);const Hs=p.useCallback(()=>{Y()},[Y]),Wi=p.useCallback(()=>{P(V=>({...V,collapsed:!V.collapsed}))},[]),Fa=p.useCallback(()=>{P(V=>({...V,collapsed:!0}))},[]),mo=p.useCallback(async(V,be)=>{const De=be.trim();if(!De)throw new Error("Enter a file name.");if(De.includes(".."))throw new Error("File name cannot include '..'.");if(!Bs)throw new Error("Files are still loading.");const ke=V.replace(/\/+$/,""),Ze=De.replace(/^\/+/,"").replace(/\/+/g,"/"),ct=(ke?`${ke}/${Ze}`:Ze).replace(/\/+/g,"/");if(!ct||ct.endsWith("/"))throw new Error("Enter a valid file name.");if(W&&ys(W,ct))throw new Error("A file or folder with that name already exists.");Ls(!0);try{await ea.mutateAsync({path:ct,content:"",parents:!0,create:!0}),kt(ct),await D.refetch(),Pe(`Created ${ct}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create file.")}finally{Ls(!1)}},[Bs,W,ea,D,Pe,zt]),Ha=p.useCallback(async(V,be)=>{const De=be.trim();if(!De)throw new Error("Enter a folder name.");if(De.includes(".."))throw new Error("Folder name cannot include '..'.");if(!qs)throw new Error("Files are still loading.");const ke=V.replace(/\/+$/,""),Ze=De.replace(/^\/+/,"").replace(/\/+/g,"/"),ct=(ke?`${ke}/${Ze}`:Ze).replace(/\/+/g,"/").replace(/\/$/,"");if(!ct)throw new Error("Enter a valid folder name.");if(W&&ys(W,ct))throw new Error("A file or folder with that name already exists.");Rt(!0);try{await kn.mutateAsync({path:ct}),await D.refetch(),Pe(`Folder ready: ${ct}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create folder.")}finally{Rt(!1)}},[qs,W,kn,D,Pe,zt]),Za=p.useCallback(async V=>{if(!$s)throw new Error("Files are still loading.");const be=W?ys(W,V):null;if(!W||!be)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${V}? This cannot be undone.`)){Ls(!1),dn(V);try{await vn.mutateAsync({path:V,etag:be.metadata?.etag}),qe.closeTab(V),kt(ke=>ke===V?null:ke),await D.refetch(),Pe(`Deleted ${V}`,{intent:"info",duration:4e3})}catch(ke){const Ze=ke instanceof qn&&ke.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":ke instanceof Error?ke.message:"Unable to delete file.";throw zt(Ze),new Error(Ze)}finally{dn(ke=>ke===V?null:ke)}}},[$s,W,vn,qe,D,Pe,zt,dn]),po=p.useCallback(async V=>{if(!qa)throw new Error("Files are still loading.");const be=W?ys(W,V):null;if(!W||!be||be.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${V} and all contents? This cannot be undone.`)){hn(V);try{await Gn.mutateAsync({path:V,recursive:!0}),kt(ke=>ke===V?null:ke),qe.closeTab(V),await D.refetch(),Pe(`Deleted folder ${V}`,{intent:"info",duration:4e3})}catch(ke){const Ze=ke instanceof Error?ke.message:"Unable to delete folder.";throw zt(Ze),new Error(Ze)}finally{hn(ke=>ke===V?null:ke)}}},[qa,W,Gn,qe,D,Pe,zt,hn]),yn=p.useCallback(()=>{if(!Fs){Pe("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),M(null);return}M(null),ae(!0)},[Fs,Pe]),Js=p.useCallback(async V=>{const be=V.target.files?.[0]??null;if(V.target.value="",!!be)try{await G.mutateAsync({file:be,ifMatch:K}),We?.clear?.(),qe.closeAllTabs(),j(void 0);const ke=(await D.refetch()).data??D.data??null,Ze=ke?gb(ke):null,an=Ze?Gh(Ze):null;kt(an?.id??null),Pe("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(De){const ke=De instanceof qn&&De.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":De instanceof qn&&De.status===428?"Replace blocked: refresh the file list and try again.":De instanceof Error?De.message:"Unable to replace configuration.";zt(ke),Pe(ke,{intent:"danger",duration:6e3})}},[G,K,We,qe,D,j,kt,Pe,zt]),Ia=p.useMemo(()=>{const V=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),be=rM.map(De=>({id:`theme-${De.value}`,label:`${De.label} theme`,icon:Ut.preference===De.value?l.jsx(Hf,{}):V,onSelect:()=>Ut.setPreference(De.value)}));return be.push({id:"toggle-explorer",label:R.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:R.collapsed?V:l.jsx(Hf,{}),onSelect:()=>P(De=>({...De,collapsed:!De.collapsed}))},{id:"toggle-console",label:Gt?"Show Console":"Hide Console",icon:Gt?V:l.jsx(Hf,{}),onSelect:Un}),be},[Ut,R.collapsed,Gt,Un]),ra=p.useMemo(()=>[{id:"export",label:A?"Exporting":"Export (.zip)",disabled:A,onSelect:()=>{M(null),Ln()}},{id:"replace",label:"Import from zip",disabled:!Fs,onSelect:yn}],[Fs,Ln,yn,A]);p.useEffect(()=>{if(typeof document>"u"||!Nt)return;const V=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=V||""}},[Nt]);const Su=SM(e),Pi=Vt?"S":"Ctrl+S",Ki=Vt?"`":"Ctrl+`",aa=p.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!Cr,onSelect:()=>{Ce(!0),ge(!0),Mt(null)}}],[Cr,Ce,ge,Mt]);if(!i&&D.isLoading)return l.jsx(dt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&D.isError)return l.jsx(dt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!W)return l.jsx(dt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Va=Nt?it==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":it==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",go=it==="dark"?"#1b1f27":"#ffffff",Eu=it==="dark"?"#f5f6fb":"#0f172a",Nu=Nt?me("fixed inset-0 z-[90] flex flex-col",it==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):me("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",it==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900"),Gi=it==="dark"?{bar:"border-[#1f2431] bg-[#0f111a] text-slate-200",hint:"text-slate-400",button:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{bar:"border-slate-300 bg-white text-slate-700",hint:"text-slate-500",button:"border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400"};return l.jsxs("div",{className:me("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Va),children:[Nt?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:Nu,children:[l.jsx(oM,{configName:r,workspaceLabel:Su,validationLabel:Cn,canSaveFiles:jt,isSavingFiles:Sr,onSaveFile:Fi,saveShortcutLabel:Pi,onOpenTestMenu:V=>Mt(V),onOpenActionsMenu:Cs,canRunValidation:$a,isRunningValidation:ju,onRunValidation:uo,canRunExtraction:Cr,isRunningExtraction:Ns,onRunExtraction:V=>{Cr&&(Ce(V),ge(!0))},explorerVisible:Ma,onToggleExplorer:Wi,consoleOpen:!Gt,onToggleConsole:Un,appearance:it,windowState:o,onMinimizeWindow:qi,onToggleMaximize:jr,onCloseWindow:yr,actionsBusy:A||G.isPending}),l.jsxs("div",{ref:Se,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(x2,{activeView:Ne,onSelectView:ho,onOpenSettings:sa,appearance:it}),Ma?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:Oa},children:Ne==="explorer"&&qe.tree?l.jsx(jA,{width:Oa,tree:qe.tree,activeFileId:qe.activeTab?.id??"",openFileIds:qe.tabs.map(V=>V.id),onSelectFile:V=>{qe.openFile(V),j(V)},theme:it,canCreateFile:Bs,canCreateFolder:qs,isCreatingEntry:$i||vr,onCreateFile:mo,onCreateFolder:Ha,canDeleteFile:$s,canDeleteFolder:qa,deletingFilePath:_n,deletingFolderPath:fn,onDeleteFile:Za,onDeleteFolder:po,expandedStorageKey:nM(e,n),onHide:Fa}):l.jsx(lM,{width:Oa,view:Ne,appearance:it})}),l.jsx(pb,{orientation:"vertical",onPointerDown:V=>{const be=V.clientX,De=Oa;yb(V,{cursor:"col-resize",onMove:ke=>{const Ze=ke.clientX-be,an=as(De+Ze,Es.minPx,Es.maxPx);P(ct=>ct.collapsed||Ss<=0?ct:{...ct,fraction:za(an/Ss,Es)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:go,color:Eu},children:l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Bt>0?`${Bt}px`:void 0,gridTemplateRows:`${Math.max(Xs,Nr)}px ${Ii}px ${Math.max(0,Vi)}px`},children:[l.jsx(bA,{tabs:qe.tabs,activeTabId:qe.activeTab?.id??"",onSelectTab:V=>{qe.selectTab(V),j(V)},onCloseTab:qe.closeTab,onCloseOtherTabs:qe.closeOtherTabs,onCloseTabsToRight:qe.closeTabsToRight,onCloseAllTabs:qe.closeAllTabs,onContentChange:qe.updateContent,onSaveTab:Er,onSaveAllTabs:oo,onMoveTab:qe.moveTab,onRetryTabLoad:qe.reloadTab,onPinTab:qe.pinTab,onUnpinTab:qe.unpinTab,onSelectRecentTab:qe.selectRecentTab,editorTheme:Ut.resolvedTheme,menuAppearance:it,canSaveFiles:jt,minHeight:Xs}),l.jsx(pb,{orientation:"horizontal",onPointerDown:V=>{Os(!0);const be=V.clientY,De=Us;let ke=!1;yb(V,{cursor:"row-resize",onMove:Ze=>{if(Gt&&!ke&&(An(),ke=!0),rn.maxPx<=0||Bt<=0)return;const an=be-Ze.clientY,ct=as(De+an,rn.minPx,rn.maxPx);Ee(as(ct/Bt,0,1))},onEnd:()=>{Os(!1)}})},onDoubleClick:()=>{Gt?An():Dn()},onToggle:Un,collapsed:Gt}),Gt?l.jsxs("div",{className:me("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Gi.bar),onDoubleClick:Un,title:"Double-click to show console",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:"Console hidden"}),l.jsxs("span",{className:me("text-[11px]",Gi.hint),children:["(double-click gutter or ",Ki,")"]})]}),l.jsx("button",{type:"button",onClick:Un,className:me("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Gi.button),title:"Show console",children:"Show console"})]}):l.jsx(i5,{height:Math.max(0,Us),console:te,validation:q,activePane:w,onPaneChange:C,latestRun:H,onClearConsole:Hs,runStatus:k,onToggleCollapse:Un})]})})]})]}),le?l.jsx(cM,{open:le,workspaceId:e,onClose:()=>{ge(!1),Ce(!1)},onRun:fo}):null,l.jsx("input",{ref:ue,type:"file",accept:".zip",onChange:Js,className:"hidden"}),de?l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-slate-900",children:"Import from zip"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),Fs?null:l.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),qe.isDirty?l.jsx("p",{className:"text-sm font-medium text-amber-700",children:"You have unsaved changes that will be lost."}):null]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[l.jsx(_e,{variant:"secondary",onClick:()=>ae(!1),disabled:G.isPending,children:"Cancel"}),l.jsx(_e,{onClick:()=>{ae(!1),ue.current?.click()},disabled:!Fs||G.isPending,isLoading:G.isPending,children:"Continue"})]})]})}):null,l.jsx(Ti,{open:!!we,position:we,onClose:()=>M(null),items:ra,appearance:it}),l.jsx(Ti,{open:!!Kt,position:Kt,onClose:()=>Mt(null),items:aa,appearance:it}),l.jsx(Ti,{open:!!Dt,position:Dt,onClose:Qi,items:Ia,appearance:it})]})}function lM({width:e,view:n,appearance:r}){const i=aM[n]||"Coming soon",o=r==="dark"?"border-[#111111] bg-[#1e1e1e] text-slate-300":"border-slate-200 bg-slate-50 text-slate-600";return l.jsx("div",{className:me("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide",o),style:{width:e},"aria-live":"polite",children:i})}function Hf(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function oM({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:o,onSaveFile:u,saveShortcutLabel:d,onOpenTestMenu:h,onOpenActionsMenu:g,canRunValidation:x,isRunningValidation:b,onRunValidation:v,canRunExtraction:w,isRunningExtraction:E,onRunExtraction:N,explorerVisible:j,onToggleExplorer:C,consoleOpen:T,onToggleConsole:_,appearance:F,windowState:U,onMinimizeWindow:D,onToggleMaximize:K,onCloseWindow:O,actionsBusy:Z=!1}){const W=F==="dark",X=W?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",re=W?"text-white/60":"text-slate-500",B=W?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",G=W?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ue=U==="maximized";return l.jsxs("div",{className:me("flex items-center justify-between border-b px-4 py-2",X),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(fM,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:me("text-[10px] font-semibold uppercase tracking-[0.35em]",re),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:me("text-[11px]",re),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r?l.jsx("span",{className:me("text-xs",re),children:r}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:me("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",B),title:`Save (${d})`,children:[o?l.jsx(Zf,{}):l.jsx(yM,{}),o?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:v,disabled:!x,className:me("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",G),children:[b?l.jsx(Zf,{}):l.jsx(Ab,{}),b?"Running":"Run validation"]}),l.jsx(KA,{label:E?"Running":"Test run",icon:E?l.jsx(Zf,{}):l.jsx(Ab,{}),disabled:!w,isLoading:E,title:"Run test run",primaryClassName:me(G,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:me(G,"rounded-l-none px-2",W?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>N(!1),onOpenMenu:we=>h(we),onContextMenu:we=>{we.preventDefault(),h({x:we.clientX,y:we.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Si,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:C,appearance:F,active:j,icon:l.jsx(hM,{active:j})}),l.jsx(Si,{ariaLabel:T?"Hide console":"Show console",onClick:_,appearance:F,active:T,icon:l.jsx(mM,{})})]}),l.jsx(Si,{ariaLabel:"Configuration actions",onClick:we=>{const M=we.currentTarget.getBoundingClientRect();g({x:M.right+8,y:M.bottom})},appearance:F,disabled:Z,icon:l.jsx(vM,{})}),l.jsxs("div",{className:me("flex items-center gap-2 border-l pl-3",F==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(Si,{ariaLabel:"Minimize workbench",onClick:D,appearance:F,icon:l.jsx(xM,{})}),l.jsx(Si,{ariaLabel:ue?"Restore workbench":"Maximize workbench",onClick:K,appearance:F,active:ue,icon:ue?l.jsx(gM,{}):l.jsx(pM,{})}),l.jsx(Si,{ariaLabel:"Close workbench",onClick:O,appearance:F,icon:l.jsx(bM,{})})]})]})]})}function cM({open:e,workspaceId:n,onClose:r,onRun:i}){const o=p.useRef(null),u=zn({queryKey:["builder-documents",n],queryFn:({signal:D})=>uM(n,D),staleTime:6e4,enabled:e}),d=p.useMemo(()=>u.data??[],[u.data]),[h,g]=p.useState("");p.useEffect(()=>{if(e){if(!d.length){g("");return}g(D=>D&&d.some(K=>K.id===D)?D:d[0]?.id??"")}},[d,e]);const x=d.find(D=>D.id===h)??null,b=zn({queryKey:["builder-document-sheets",n,h],queryFn:({signal:D})=>Uy(n,h,D),enabled:e&&!!h,staleTime:6e4}),v=p.useMemo(()=>b.data??[],[b.data]),[w,E]=p.useState([]),[N,j]=p.useState("INFO");p.useEffect(()=>{if(e){if(!v.length){E([]);return}E(D=>D.filter(K=>v.some(O=>O.name===K)))}},[e,v]);const C=p.useMemo(()=>Array.from(new Set(w.filter(D=>v.some(K=>K.name===D)))),[w,v]),T=p.useCallback(D=>{E(K=>K.includes(D)?K.filter(O=>O!==D):[...K,D])},[]);if(!e)return null;const _=!x||u.isLoading||u.isError,F=v.length>0,U=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:o,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),u.isError?l.jsx(nt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):d.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(Ai,{id:"builder-run-document-select",value:h,onChange:D=>g(D.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:d.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",dM(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-log-level-select",children:"Log level"}),l.jsx(Ai,{id:"builder-run-log-level-select",value:N,onChange:D=>j(D.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:iM.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))}),l.jsx("p",{className:"text-xs text-slate-500",children:"Controls the engine runtime verbosity for this run."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]})]})}):F?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:C.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${C.length.toLocaleString()} worksheet${C.length===1?"":"s"} selected.`})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:v.map(D=>{const K=C.includes(D.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:K,onChange:()=>T(D.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[D.name,D.is_active?" (active)":""]})]},`${D.index}-${D.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(_e,{variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(_e,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:C.length>0?C:void 0,logLevel:N})},disabled:_,children:"Start test run"})]})]})});return typeof document>"u"?null:ls.createPortal(U,document.body)}async function uM(e,n){const{data:r}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return r?.items??[]}function dM(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Si({ariaLabel:e,onClick:n,icon:r,appearance:i,active:o=!1,disabled:u=!1}){const d=i==="dark",h=d?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",g=d?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,disabled:u,className:me("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",h,o&&g,u&&"cursor-not-allowed opacity-50"),title:e,children:r})}function fM(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function hM({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function mM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function pM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function gM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function xM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function bM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Zf(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function Ab(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function vM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"3",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"8",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"13",cy:"8",r:"1.3",fill:"currentColor"})]})}function yM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function wM(e){return e instanceof qn?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function jM(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function SM(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function Db(e){if(e.encoding==="base64"){const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const r=atob(e.content),i=new Uint8Array(r.length);for(let u=0;u<r.length;u+=1)i[u]=r.charCodeAt(u);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(i);let o="";for(let u=0;u<i.length;u+=1)o+=String.fromCharCode(i[u]);return o}catch{}}return e.content}function EM(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Wy=p.createContext(null);function Py(){const e=p.useContext(Wy);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function NM({workspaceId:e,children:n}){const r=It(),i=Fn(),[o,u]=p.useState(null),[d,h]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),v=p.useMemo(()=>Ps(EM(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>DM(i.pathname,e),[i.pathname,e]),N=!!E;p.useEffect(()=>{v.get()||v.set(w)},[v,w]),p.useEffect(()=>{N||v.set(`${i.pathname}${i.search}${i.hash}`)},[N,i.pathname,i.search,i.hash,v]),p.useEffect(()=>{if(!o){x.current=null;return}const X=x.current;if(N&&E===o.configId){if(X==="dock"){x.current=null,h("minimized");return}X&&(x.current=null);return}if(X==="dock"){x.current=null;return}if(X==="close"){x.current=null;return}u(null),h("restored"),x.current=null},[o,N,E,d]),p.useEffect(()=>{if(!o||!N||E!==o.configId)return;const X=Rb(i.search);X!==o.editorSearch&&u(re=>!re||re.instanceId!==o.instanceId?re:{...re,editorSearch:X})},[o,N,E,i.search]);const j=p.useCallback(()=>v.get()??w,[v,w]),C=p.useCallback(X=>{u(re=>{if(!re)return re;const B=new URLSearchParams(re.editorSearch),G=typeof X=="function"?X(new URLSearchParams(B)):X,we=Ry(G).toString();return we===re.editorSearch?re:{...re,editorSearch:we}})},[]),T=p.useCallback(X=>{const re=Rb(X.editorSearch??i.search);let B=d==="minimized";u(G=>{if(G&&G.workspaceId===X.workspaceId&&G.configId===X.configId){const ue=X.seed??G.seed,we=X.editorSearch!==void 0?re:G.editorSearch;return G.configName===X.configName&&G.seed===ue&&G.editorSearch===we?G:{...G,configName:X.configName,seed:ue,editorSearch:we}}return B=!0,g.current+=1,{...X,editorSearch:re,instanceId:`${X.workspaceId}:${X.configId}:${g.current}`}}),B&&h("restored")},[i.search,d]),_=p.useCallback(()=>{o&&(u(null),h("restored"),x.current="close",r(j()))},[o,r,j]),F=p.useCallback(()=>{o&&(b.current=!0,h("minimized"),x.current="dock",r(j()))},[o,r,j]),U=p.useCallback(()=>{if(!o)return;h("restored");const X=MM(o.workspaceId,o.configId,o.editorSearch);`${i.pathname}${i.search}`!==X&&r(X)},[o,r,i.pathname,i.search]),D=p.useCallback(()=>{o&&h("maximized")},[o]),K=p.useCallback(()=>{const X=b.current;return b.current=!1,X},[]),O=p.useMemo(()=>({session:o,windowState:d,openSession:T,closeSession:_,minimizeWindow:F,maximizeWindow:D,restoreWindow:U,shouldBypassUnsavedGuard:K}),[o,d,T,_,F,D,U,K]),Z=!!o&&(!N||E!==o?.configId),W=p.useMemo(()=>Z&&o?{params:new URLSearchParams(o.editorSearch),setSearchParams:C}:null,[Z,o,C]);return l.jsxs(Wy.Provider,{value:O,children:[n,l.jsx(UA,{value:W,children:l.jsx(CM,{session:o,windowState:d,onClose:_,onMinimize:F,onMaximize:D,onRestore:U,shouldBypassUnsavedGuard:K})}),o&&d==="minimized"?l.jsx(_M,{configName:o.configName,onRestore:U,onDismiss:_}):null]})}function CM({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:o,onRestore:u,shouldBypassUnsavedGuard:d}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Qy,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:o,onRestoreWindow:u,shouldBypassUnsavedGuard:d},e.instanceId)})}function _M({configName:e,onRestore:n,onDismiss:r}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(kM,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(Mb,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(TM,{})}),l.jsx(Mb,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:l.jsx(AM,{})})]})]})})})}function Mb({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:me("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function kM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function TM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function AM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function DM(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function MM(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function Rb(e){return e?e.startsWith("?")?e.slice(1):e:""}function hh({to:e,replace:n,className:r,title:i,children:o,onClick:u}){const d=It();return l.jsx("a",{href:e,className:r,title:i,onClick:h=>{u?.(h),!(h.defaultPrevented||h.metaKey||h.ctrlKey||h.shiftKey||h.altKey)&&(h.preventDefault(),d(e,{replace:n}))},children:o})}function Ky({to:e,end:n,className:r,children:i,title:o,onClick:u}){const{pathname:d}=Fn(),h=n?d===e:d===e||d.startsWith(`${e}/`),g=typeof r=="function"?r({isActive:h}):r,x=typeof i=="function"?i({isActive:h}):i;return l.jsx(hh,{to:e,className:g,title:o,onClick:u,children:x})}function pu(e){return function({title:r,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?l.jsx("title",{children:r}):null,l.jsx("path",{d:e})]})}}const RM=pu("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),zM=pu("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),OM=pu("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),LM=pu("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),Gy=[{id:"documents",path:"documents",label:"Documents",icon:RM},{id:"runs",path:"runs",label:"Runs",icon:zM},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:OM},{id:"settings",path:"settings",label:"Workspace Settings",icon:LM,matchPrefix:!0}],Yc=Gy[0];function Yy(e){return Gy.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon,matchPrefix:n.matchPrefix}))}const UM="4.25rem",BM="18.75rem";function $M({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:o}){const u=i??Yy(e),d=HM(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?UM:BM},"aria-label":"Primary workspace navigation",children:l.jsxs("div",{className:me("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:me("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:o,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:me("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:d}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation","aria-expanded":!n,children:n?l.jsx(FM,{}):l.jsx(qM,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Xy,{items:u,collapsed:n})})]})})}function Xy({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:o=!0}){return l.jsxs(l.Fragment,{children:[o&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:me("flex flex-col gap-1.5",n?"items-center":void 0,i),children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(Ky,{to:u.href,end:!(u.matchPrefix??!1),title:n?u.label:void 0,onClick:r,className:({isActive:d})=>me("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",d?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:d})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:me("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",d?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:me("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",d?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:me("h-5 w-5 flex-shrink-0 transition-colors duration-150",d?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:me("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function qM(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function FM(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function HM(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}function ZM(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const IM=100;function Jy({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=IM}){return zn({queryKey:Nn.list(e,{page:r,pageSize:i}),queryFn:({signal:o})=>XA(e,{page:r,pageSize:i,signal:o}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:o=>o})}function ew({workspaceId:e,configurationId:n,enabled:r=!0}){return zn({queryKey:Nn.detail(e,n??""),queryFn:({signal:i})=>n?JA(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function VM(e){const n=ft();return sn({mutationFn:r=>cD(e,r),async onSuccess(){await n.invalidateQueries({queryKey:Nn.root(e)})}})}function QM({summary:e}){const n=e.counts,r=e.validation?.issues_total,i=e.fields??[],o=e.columns??[],u=i.slice(0,6),d=o.slice(0,5),h=typeof r=="number"?r>0?"warn":"ok":"default";return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(Tc,{label:"Tables",value:n?.tables?.total??""}),l.jsx(Tc,{label:"Rows",value:n?.rows?.total??""}),l.jsx(Tc,{label:"Mapped fields",value:n?.fields?.mapped??""}),l.jsx(Tc,{label:"Issues",value:r??"",intent:h})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),i.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[u.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[g.label||g.field," ",g.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped",typeof g.tables_mapped=="number"?`  ${g.tables_mapped} tables`:""]})]},g.field)),i.length>u.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",i.length-u.length," more fields"]}):null]})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Columns"}),o.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No column details recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[d.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:g.header}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped","  ",g.occurrences?.tables_seen??""," tables"]})]},g.header_normalized)),o.length>d.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",o.length-d.length," more headers"]}):null]}),l.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Distinct headers mapped: ",n?.columns?.distinct_headers_mapped??""," /"," ",n?.columns?.distinct_headers??""]})]})]})]})}function WM({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,o)=>{const u=tw(o),d=u.stream==="stderr"?"warning":void 0,h=u.level??d??"info";return i[h]=(i[h]??0)+1,i},{}),r=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,o])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",o]},i))}),l.jsx("ul",{className:"space-y-1",children:r.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const o=typeof i.message=="string"?i.message.trim():void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.event}),l.jsx("span",{className:"text-[11px] text-slate-500",children:PM(i.timestamp??i.created_at??"unknown")})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:o||`Level: ${KM(i)}`})]})})()},`${i.timestamp}-${i.event}`))})]})}function PM(e){const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?String(e):n.toLocaleString()}function KM(e){const n=tw(e),r=n.stream==="stderr"?"warning":void 0;return n.level??r??"info"}function tw(e){const n=e.data;return n&&typeof n=="object"?n:{}}function Tc({label:e,value:n,intent:r="default"}){const i=r==="warn"?"text-amber-700":r==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}const nw={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},GM=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Vl="mine",Na={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function YM(e){return e&&Object.keys(Na).includes(e)?e:Vl}function XM(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function JM(e){return new Set(GM).has(e??"")?e:"-created_at"}const sw=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Di={all:()=>["documents"],workspace:e=>[...Di.all(),e],list:(e,n,r)=>[...Di.workspace(e),"list",{sort:n,uploader:r}]},rw=50;function eR(){const{workspace:e}=gr(),n=zi(),[r,i]=Oy(),o=p.useRef(i);p.useEffect(()=>{o.current=i},[i]);const u=YM(r.get("view")),[d,h]=p.useState(u),[g,x]=p.useState(()=>{const Se=r.get("status");if(Se)return XM(Se);const Ne=Na[u].presetStatuses??[];return new Set(Ne)}),[b,v]=p.useState(()=>{const Se=r.get("sort");return Se?JM(Se):Na[u].presetSort??"-created_at"}),[w,E]=p.useState(r.get("q")??""),[N,j]=p.useState(w.trim()),C=p.useMemo(()=>Array.from(g),[g]),_=Na[d].uploader??null,F=p.useRef(null),[U,D]=p.useState(new Set),K=p.useMemo(()=>new Set(U),[U]),O=p.useMemo(()=>Array.from(K),[K]),Z=K.size,W=nR(e.id),X=sR(e.id),re=Hv(),B=re.data?.enabled??!1,G=re.data?.detail??Oi,ue=re.isPending,[we,M]=p.useState(null),[A,se]=p.useState(null),[de,ae]=p.useState(null),k=W.isPending,Q=X.isPending,ce=tR(e.id,{sort:b,uploader:_}),{refetch:q}=ce,te=p.useCallback(Se=>Se.id,[]),H=Nh(ce.data?.pages,te),Y=p.useMemo(()=>{const Se=N.toLowerCase(),Ne=_==="me"?n.user.id:null,$e=_==="me"?n.user.email??null:null;return H.filter(Dt=>{if(C.length>0&&!C.includes(Dt.status))return!1;if(_==="me"){const st=Dt.uploader_id??Dt.uploader?.id??null,Kt=Dt.uploader?.email??null;if(Ne&&st&&st!==Ne||!st&&$e&&Kt&&Kt!==$e)return!1}return!(Se&&!`${Dt.name??""} ${Dt.source??""}`.toLowerCase().includes(Se))})},[N,H,n.user.email,n.user.id,C,_]),$=ce.isFetchingNextPage,le=ce.isFetching&&!$,ge=Y.length;p.useEffect(()=>{const Se=r.get("q")??"";E($e=>$e===Se?$e:Se);const Ne=Se.trim();j($e=>$e===Ne?$e:Ne)},[r]),p.useEffect(()=>{const Se=new URLSearchParams;g.size>0&&Se.set("status",Array.from(g).join(",")),b!=="-created_at"&&Se.set("sort",b),N&&Se.set("q",N),d!==Vl&&Se.set("view",d),o.current(Se,{replace:!0})},[g,b,N,d]),p.useEffect(()=>{const Se=window.setTimeout(()=>j(w.trim()),250);return()=>window.clearTimeout(Se)},[w]),p.useEffect(()=>{D(Se=>{if(Se.size===0)return Se;const Ne=new Set,$e=new Set(Y.map(st=>st.id));let Dt=!1;for(const st of Se)$e.has(st)?Ne.add(st):Dt=!0;return Dt?Ne:Se})},[Y]);const xe=p.useMemo(()=>{for(const Se of Y)if(K.has(Se.id))return Se;return null},[Y,K]),Ce=p.useCallback(Se=>{const Ne=Na[Se];h(Se),x(new Set(Ne.presetStatuses??[])),v(Ne.presetSort??"-created_at"),E(""),j("")},[]),We=p.useCallback(Se=>{x(Ne=>{const $e=new Set(Ne);return $e.has(Se)?$e.delete(Se):$e.add(Se),$e})},[]),Oe=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const Se=Ne=>{if((Ne.metaKey||Ne.ctrlKey)&&Ne.key.toLowerCase()==="u"){Ne.preventDefault(),F.current?.click();return}(Ne.key==="Delete"||Ne.key==="Backspace")&&Z>0&&(Ne.preventDefault(),ie())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[Z]);const Te=p.useCallback(Se=>nw[Se]??Se,[]),Ge=p.useCallback(Se=>l.jsx(kR,{document:Se}),[]),Ut=p.useCallback(()=>{F.current?.click()},[]),it=p.useCallback(async Se=>{if(Se.length){M(null);try{await W.mutateAsync({files:Se})}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to upload documents.";M({tone:"error",message:$e})}}},[W]),Cn=async Se=>{const Ne=Array.from(Se.target.files??[]);await it(Ne),Se.target.value=""},R=Se=>{D(Ne=>{const $e=new Set(Ne);return $e.has(Se)?$e.delete(Se):$e.add(Se),$e})},P=()=>{D(Se=>{if(Y.length===0)return new Set;const Ne=Y.map($e=>$e.id);return Se.size===Y.length&&Ne.every($e=>Se.has($e))?new Set:new Set(Ne)})},ie=p.useCallback(async()=>{const Se=O;if(Se.length){M(null);try{await X.mutateAsync({documentIds:Se}),D(new Set)}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to delete documents.";M({tone:"error",message:$e})}}},[X,O]),Ee=p.useCallback(async Se=>{M(null);try{await X.mutateAsync({documentIds:[Se.id]}),D(Ne=>{const $e=new Set(Ne);return $e.delete(Se.id),$e})}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to delete document.";M({tone:"error",message:$e})}},[X]),ye=p.useCallback(async Se=>{try{se(Se.id);const{blob:Ne,filename:$e}=await lR(e.id,Se.id);MR(Ne,$e??Se.name)}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to download document.";M({tone:"error",message:$e})}finally{se(null)}},[e.id]),je=p.useCallback(Se=>{ae(Se)},[]),Ae=p.useCallback(()=>{q()},[q]),He=p.useCallback(Se=>{M({tone:"error",message:Se})},[]),Ve=()=>{h(Vl),E(""),j(""),x(new Set),v("-created_at")},_t=d===Vl&&g.size===0&&b==="-created_at"&&!N;return l.jsxs(l.Fragment,{children:[l.jsx(SR,{workspaceName:e.name??void 0,disabled:k,onFiles:async Se=>{await it(Se)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:F,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Cn}),l.jsx(cR,{workspaceName:e.name,totalDocuments:ge,view:d,onChangeView:Ce,sort:b,onSort:v,onReset:Ve,isFetching:ce.isFetching,isDefault:_t,onUploadClick:Ut,uploadDisabled:k,selectedStatuses:g,onToggleStatus:We,onClearStatuses:Oe}),we?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:we.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:ce.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(ER,{})}):ce.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):Y.length===0?l.jsx("div",{className:"p-6",children:l.jsx(CR,{onUploadClick:Ut})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(fR,{documents:Y,selectedIds:K,onToggleDocument:R,onToggleAll:P,disableSelection:le||Q||W.isPending,disableRowActions:X.isPending,formatStatusLabel:Te,onDeleteDocument:Ee,onDownloadDocument:ye,onRunDocument:je,downloadingId:A,renderRunStatus:Ge,safeModeEnabled:B,safeModeMessage:G,safeModeLoading:ue})}),ce.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>ce.fetchNextPage(),disabled:$,children:$?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(NR,{count:Z,onClear:()=>D(new Set),onRun:()=>{xe&&!B&&!ue&&je(xe)},onDelete:ie,busy:Q,safeModeEnabled:B,safeModeMessage:G,safeModeLoading:ue}),l.jsx(wR,{open:!!de,workspaceId:e.id,documentRecord:de,onClose:()=>ae(null),onRunSuccess:Ae,onRunError:He,safeModeEnabled:B,safeModeMessage:G,safeModeLoading:ue})]})}function tR(e,n){const r=n.sort.trim()||null;return yh({queryKey:Di.list(e,r,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:o})=>iR(e,{sort:r,page:typeof i=="number"?i:1,pageSize:rw},o),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function nR(e){const n=ft();return sn({mutationFn:async({files:r})=>{const i=Array.from(r);for(const o of i)await Be.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",o),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Di.workspace(e)})}})}function sR(e){const n=ft();return sn({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Be.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Di.workspace(e)})}})}function rR(e){const n=ft();return sn({mutationFn:async({configId:r,options:i})=>{const{data:o}=await Be.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:r}},body:{options:i}});if(!o)throw new Error("Expected run payload.");return o},onSuccess:()=>{n.invalidateQueries({queryKey:Di.workspace(e)})}})}function aR(e,n){const r=p.useMemo(()=>Ps(`ade.workspace.${e}.document_runs`),[e]),[i,o]=p.useState(()=>zb(r,n));p.useEffect(()=>{o(zb(r,n))},[r,n]);const u=p.useCallback(d=>{o(d);const h=r.get()??{};r.set({...h,[n]:{configId:d.configId,sheetNames:d.sheetNames&&d.sheetNames.length>0?[...d.sheetNames]:null}})},[r,n]);return{preferences:i,setPreferences:u}}async function iR(e,n,r){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:rw,include_total:!1},{data:o}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!o)throw new Error("Expected document page payload.");return o}async function lR(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const o=oR(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:o}}function oR(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function zb(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object"){const o=[];if("sheetName"in i){const h=i.sheetName;typeof h=="string"&&o.push(h)}const d=(Array.isArray(i.sheetNames)?i.sheetNames.filter(h=>typeof h=="string"&&h.length>0):null)??(o.length>0?o:null);return{configId:i.configId??null,sheetNames:d}}}return{configId:null,sheetNames:null}}function cR({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:o,onSort:u,onReset:d,isFetching:h,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:v,onToggleStatus:w,onClearStatuses:E}){const N=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:N})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:d,disabled:g,className:me("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(_e,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(uR,{view:r,onChange:i}),l.jsx(dR,{selectedStatuses:v,onToggleStatus:w,onClearStatuses:E}),l.jsxs(Ai,{value:o,onChange:j=>u(j.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:me("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",h?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function uR({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Na).map(r=>{const i=Na[r],o=r===e;return l.jsx("button",{type:"button",onClick:()=>n(r),className:me("rounded-full px-3 py-1 text-xs font-medium transition",o?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function dR({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,o]=p.useState(!1),u=p.useRef(null),d=Object.entries(nw),h=e.size>0,g=h?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&o(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>o(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(vR,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{r(),o(!1)},className:me("text-[11px]",h?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:d.map(([x,b])=>{const v=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>o(!1),children:"Done"})})]}):null]})}function fR({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:o=!1,disableRowActions:u=!1,formatStatusLabel:d,onDeleteDocument:h,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:v,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:N=!1}){const j=p.useRef(null),{allSelected:C,someSelected:T}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const _=e.reduce((F,U)=>n.has(U.id)?F+1:F,0);return{allSelected:_===e.length,someSelected:_>0&&_<e.length}},[e,n]);return p.useEffect(()=>{j.current&&(j.current.indeterminate=T)},[T]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:j,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:C,onChange:i,disabled:o||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(_=>{const F=n.has(_.id);return l.jsxs("tr",{className:me("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",F?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:F,onChange:()=>r(_.id),disabled:o})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:_.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:_.name,children:_.name}),l.jsx("div",{className:"text-xs text-slate-500",children:mR(_)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:_.created_at,className:"block text-xs text-slate-600",title:sw.format(new Date(_.created_at)),children:bR(_)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:_.uploader?.name??_.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:v?v(_):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:me("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",xR(_.status)),children:d?d(_.status):_.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(hR,{document:_,onDownload:g,onDelete:h,onRun:x,disabled:u,downloading:b===_.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:N})})]},_.id)})})]})})}function hR({document:e,onDownload:n,onDelete:r,onRun:i,disabled:o=!1,downloading:u=!1,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=o||!i||d||g,b=d?h??Oi:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(_e,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:me("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:o||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:o,children:"Delete"})]})}function mR(e){const n=[];return e.content_type&&n.push(pR(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(gR(e.byte_size)),n.join("  ")||"Unknown type"}function pR(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function gR(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function xR(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function bR(e){return sw.format(new Date(e.created_at))}function vR({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function yR({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:me("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function wR({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:ls.createPortal(l.jsx(jR,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d,safeModeMessage:h,safeModeLoading:g}),window.document.body)}function jR({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),v=Jy({workspaceId:e}),[w,E]=p.useState(""),N=rR(e),{preferences:j,setPreferences:C}=aR(e,n.id),[T,_]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{_(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const F=p.useMemo(()=>v.data?.items??[],[v.data]),U=p.useMemo(()=>F.filter(xe=>!("deleted_at"in xe&&xe.deleted_at)),[F]),D=p.useMemo(()=>{if(j.configId){const xe=U.find(Ce=>Ce.id===j.configId);if(xe)return xe.id}return U[0]?.id??""},[j.configId,U]);p.useEffect(()=>{E(D)},[D]);const K=p.useMemo(()=>U.find(xe=>xe.id===w)??null,[U,w]),O=p.useCallback(xe=>{const Ce=typeof xe.status=="string"?xe.status:"draft";return`${xe.title??xe.display_name??"Untitled configuration"} (${Ce.charAt(0).toUpperCase()}${Ce.slice(1)})`},[]),[Z,W]=p.useState(null),X=d??Oi,re=zn({queryKey:T?_b.detail(T):["run","none"],queryFn:({signal:xe})=>T?Yh(T,xe):Promise.reject(new Error("No run selected")),enabled:!!T,refetchInterval:xe=>{const Ce=xe.state.data?.status;return Ce==="running"||Ce==="queued"?2e3:!1}}),B=zn({queryKey:T?_b.telemetry(T):["run-telemetry","none"],queryFn:({signal:xe})=>{if(!T)return Promise.reject(new Error("No run selected"));const Ce=re.data??T;return qD(Ce,xe)},enabled:!!T&&(re.data?.status==="succeeded"||re.data?.status==="failed"),staleTime:5e3}),G=zn({queryKey:["document-sheets",e,n.id],queryFn:({signal:xe})=>Uy(e,n.id,xe),staleTime:6e4}),ue=p.useMemo(()=>G.data??[],[G.data]),[we,M]=p.useState([]);p.useEffect(()=>{if(!ue.length){M([]);return}const xe=(j.sheetNames??[]).filter(We=>ue.some(Oe=>Oe.name===We)),Ce=Array.from(new Set(xe));M(Ce)},[ue,j.sheetNames]);const A=p.useMemo(()=>Array.from(new Set(we.filter(xe=>ue.some(Ce=>Ce.name===xe)))),[we,ue]);p.useEffect(()=>{K&&C({configId:K.id,sheetNames:A.length?A:null})},[A,K,C]);const se=p.useCallback(xe=>{M(Ce=>Ce.includes(xe)?Ce.filter(We=>We!==xe):[...Ce,xe])},[]),de=re.data??null,ae=de?.status??null,k=ae==="running"||ae==="queued",Q=de?Zy(de):null,ce=de?.output?.output_path??null,q=de?Iy(de):null,te=B.data??[],H=p.useMemo(()=>_R(B.data??[]),[B.data]);p.useEffect(()=>{const xe=g.current;if(!xe)return;(Ob(xe)[0]??xe).focus();const We=Oe=>{if(Oe.key==="Escape"){Oe.preventDefault(),r();return}if(Oe.key!=="Tab")return;const Te=Ob(xe);if(Te.length===0){Oe.preventDefault();return}const Ge=Te[0],Ut=Te[Te.length-1],it=window.document.activeElement;if(Oe.shiftKey){(!xe.contains(it)||it===Ge)&&(Oe.preventDefault(),Ut.focus());return}it===Ut&&(Oe.preventDefault(),Ge.focus())};return xe.addEventListener("keydown",We),()=>xe.removeEventListener("keydown",We)},[r]);const Y=U.length>0,$=N.isPending||k||h||u||!Y||!K,le=u?X:h?"Checking ADE safe mode status...":void 0,ge=()=>{if(u||h)return;if(!K){W("Select a configuration before running the extractor.");return}W(null),_(null);const xe=A,Ce={dry_run:!1,validate_only:!1,force_rebuild:!1,debug:!1,log_level:"INFO"},We=xe.length>0?{...Ce,input_sheet_names:xe}:Ce;N.mutate({configId:K.id,options:{...We,input_document_id:n.id}},{onSuccess:Oe=>{C({configId:K.id,sheetNames:xe.length?xe:null}),i?.(Oe),_(Oe.id)},onError:Oe=>{const Te=Oe instanceof Error?Oe.message:"Unable to submit extraction run.";W(Te),o?.(Te)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:r,disabled:N.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),v.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):v.isError?l.jsxs(nt,{tone:"danger",children:["Unable to load configurations."," ",v.error instanceof Error?v.error.message:"Try again later."]}):Y?l.jsx("div",{className:"space-y-2",children:l.jsxs(Ai,{value:w,onChange:xe=>{const Ce=xe.target.value;E(Ce)},disabled:N.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),U.map(xe=>l.jsx("option",{value:xe.id,children:O(xe)},xe.id))]})}):l.jsx(nt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),G.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):G.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"secondary",size:"sm",onClick:()=>G.refetch(),disabled:G.isFetching,children:"Retry loading"}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>M([]),disabled:N.isPending,children:"Use all worksheets"})]})]})}):ue.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:A.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${A.length.toLocaleString()} worksheet${A.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>M([]),disabled:N.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:ue.map(xe=>{const Ce=A.includes(xe.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:Ce,onChange:()=>se(xe.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[xe.name,xe.is_active?" (active)":""]})]},`${xe.index}-${xe.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),T?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:T,children:["Run ",T]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",ae??"loading"]})]}),k?l.jsx(yR,{className:"h-4 w-4 text-slate-500"}):null]}),q?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:q,className:"inline-flex items-center rounded border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 transition hover:bg-slate-100",children:"Download logs"})}):null,l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output"}),re.isFetching&&!Q?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading output"}):Q?l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1 text-xs text-slate-700",children:[l.jsx("a",{href:Q,className:"text-emerald-700 hover:underline",children:ce?.split("/").pop()??"Download output"}),ce?l.jsx("span",{className:"text-[11px] text-slate-500",children:ce}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Output will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),B.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):B.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):H?l.jsx(QM,{summary:H}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),B.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):B.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):te.length>0?l.jsx(WM,{events:te}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(nt,{tone:"warning",children:X}):null,Z?l.jsx(nt,{tone:"danger",children:Z}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:r,disabled:N.isPending,children:"Cancel"}),l.jsx(_e,{type:"button",onClick:ge,isLoading:N.isPending,disabled:$,title:le,children:"Run extraction"})]})]})]})}function SR({onFiles:e,disabled:n,workspaceName:r}){const[i,o]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const d=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,o(!0))},h=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&o(!1)},x=b=>{b.preventDefault(),o(!1),u.current=0;const v=Array.from(b.dataTransfer?.files??[]);v.length&&e(v)};return window.addEventListener("dragenter",d),window.addEventListener("dragover",h),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",d),window.removeEventListener("dragover",h),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:me("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function ER(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function NR({count:e,onClear:n,onRun:r,onDelete:i,busy:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){if(e===0)return null;const g=o||u||h,x=u?d??Oi:h?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(_e,{size:"sm",onClick:()=>!g&&r(),disabled:g,title:x,children:"Run extraction"}),l.jsx(_e,{size:"sm",variant:"danger",onClick:i,disabled:o,isLoading:o,children:"Delete selected"})]})]})})}function CR({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(_e,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function _R(e){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if((typeof r.event=="string"?r.event:typeof r.type=="string"?r.type:null)!=="engine.run.summary")continue;const o=r.data;if(o&&typeof o=="object")return o}return null}function kR({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:me("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",TR(n.status)),children:[AR(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:DR(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function TR(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function AR(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ei=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function DR(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return Ei.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return Ei.format(u,"minute");const h=Math.round(u/60);if(Math.abs(h)<24)return Ei.format(h,"hour");const x=Math.round(h/24);if(Math.abs(x)<30)return Ei.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return Ei.format(b,"month");const v=Math.round(x/365);return Ei.format(v,"year")}function MR(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function Ob(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function RR({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function zR(){return l.jsx(dt,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"empty"})}const OR="Default template",Ac=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function LR(){const{workspace:e}=gr(),n=It(),r=p.useMemo(()=>Vy(e.id),[e.id]),i=p.useMemo(()=>Xh(e.id),[e.id]),o=Jy({workspaceId:e.id}),u=VM(e.id),d=xD(e.id),[h,g]=p.useState(()=>`${e.name} Config`),[x,b]=p.useState(null),[v,w]=p.useState(()=>`${e.name} Import`),[E,N]=p.useState(null),[j,C]=p.useState(null),[T,_]=p.useState(()=>i.get()),F=p.useRef(null),U=p.useRef(null),D=p.useMemo(()=>(o.data?.items??[]).filter(A=>!("deleted_at"in A&&A.deleted_at)),[o.data]),K=p.useMemo(()=>D.find(A=>A.id===T?.configId)??null,[D,T]),O=p.useCallback(A=>{_(Jh(i,A))},[i]);p.useEffect(()=>{_(i.get())},[i]),p.useEffect(()=>{const A=U.current,se=A?.id!==e.id,de=A?.name!==e.name;if(!(!se&&!de)){if(U.current={id:e.id,name:e.name},se){g(`${e.name} Config`),b(null),w(`${e.name} Import`),N(null),C(null),F.current&&(F.current.value="");return}de&&(g(ae=>ae===`${A?.name??""} Config`?`${e.name} Config`:ae),w(ae=>ae===`${A?.name??""} Import`?`${e.name} Import`:ae))}},[e.id,e.name]),p.useEffect(()=>{if(typeof window>"u")return;const A=se=>{if(!(se.storageArea!==window.localStorage||se.key!==r))try{_(se.newValue?JSON.parse(se.newValue):null)}catch{_(null)}};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[r]),p.useEffect(()=>{T?.configId&&(D.some(A=>A.id===T.configId)||O(null))},[D,T?.configId,O]);const Z=A=>{O(A),n(Ac(e.id,A))},W=A=>{O(A),n(`${Ac(e.id,A)}/editor`)},X=p.useCallback(A=>{C(null),N(A.target.files?.[0]??null),A.target.value=""},[]),re=A=>{A.preventDefault();const se=h.trim();if(!se){b("Enter a display name for the configuration.");return}b(null),u.mutate({displayName:se,source:{type:"template"}},{onSuccess(de){O(de.id),n(Ac(e.id,de.id))}})},B=A=>{A.preventDefault();const se=v.trim();if(!se){C("Enter a display name for the imported configuration.");return}if(!E){C("Select a .zip file to import.");return}C(null),d.mutate({displayName:se,file:E},{onSuccess(de){O(de.id),N(null),o.refetch(),n(Ac(e.id,de.id))},onError(de){C(de instanceof Error?de.message:"Unable to import configuration.")}})},G=x??(u.error instanceof Error?u.error.message:null),ue=h.trim().length>0&&!u.isPending,we=v.trim().length>0&&!!E&&!d.isPending,M=A=>l.jsx(yt,{label:"Template",children:l.jsx(pt,{value:OR,readOnly:!0,disabled:A})});return o.isLoading?l.jsx(dt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):o.isError?l.jsx(dt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):D.length===0?l.jsx(dt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("div",{className:"space-y-6 text-left",children:[l.jsxs("form",{onSubmit:re,className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:h,onChange:A=>g(A.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),M(u.isPending),G?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:G}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!ue,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:B,className:"mt-3 space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:v,onChange:A=>w(A.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(yt,{label:"Archive (.zip)",required:!0,children:[l.jsx(pt,{type:"file",ref:F,accept:".zip",onChange:X,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),K?l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>Z(K.id),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:D.map(A=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:A.display_name}),l.jsx(UR,{status:A.status}),K?.id===A.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",BR(A.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>Z(A.id),children:"View details"}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>W(A.id),children:"Open editor"})]})]},A.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:h,onChange:A=>g(A.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),M(u.isPending),G?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:G}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!ue,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:B,className:"mt-3 space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:v,onChange:A=>w(A.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(yt,{label:"Archive (.zip)",required:!0,children:[l.jsx(pt,{type:"file",ref:F,accept:".zip",onChange:X,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})]})}function UR({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function BR(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function $R({params:e}={}){const{workspace:n}=gr(),r=It(),i=e?.configId,o=p.useMemo(()=>Xh(n.id),[n.id]),u=ew({workspaceId:n.id,configurationId:i}),d=u.data;return p.useEffect(()=>{!i||!d||Jh(o,i)},[i,d,o]),i?u.isLoading?l.jsx(dt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u.isError?l.jsx(dt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):d?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:d.display_name})]}),l.jsx(_e,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(d.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:d.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:d.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:qR(d.updated_at)})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(dt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(dt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function qR(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function FR({params:e}={}){const{workspace:n}=gr(),{session:r,windowState:i,openSession:o,closeSession:u,minimizeWindow:d,maximizeWindow:h,restoreWindow:g,shouldBypassUnsavedGuard:x}=Py(),b=e?.configId,v=ew({workspaceId:n.id,configurationId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b||v.isError)return;const C=v.data?.display_name??b;o({workspaceId:n.id,configId:b,configName:`${n.name}  ${C}`})},[b,v.data?.display_name,v.isError,n.id,n.name,o]),p.useEffect(()=>{b&&(v.isError||v.isSuccess&&!v.data)&&u()},[u,b,v.data,v.isError,v.isSuccess]),!b)return l.jsx(dt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(v.isLoading)return l.jsx(dt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(v.isError)return l.jsx(dt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!v.data)return l.jsx(dt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const w=r&&r.configId===b?r:null,E=!!(w&&i==="minimized"),N=!!(w&&i==="restored"),j=!!(w&&i==="maximized");return N&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Qy,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:d,onMaximizeWindow:h,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function HR({workspaceName:e,navGroups:n,activeSectionId:r,activeSectionLabel:i,activeSectionDescription:o,activeGroupLabel:u,children:d}){const g=n.flatMap(N=>N.items).find(N=>N.id===r)?.tone??"default",[x,b]=p.useState(""),v=x.trim().toLowerCase(),w=p.useMemo(()=>v?n.map(N=>({...N,items:N.items.filter(j=>`${j.label} ${j.description}`.toLowerCase().includes(v))})).filter(N=>N.items.length>0):n,[n,v]),E=p.useMemo(()=>["Settings",u,i].filter(Boolean),[u,i]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.28em] text-slate-400",children:[l.jsx("span",{children:"Workspace"}),l.jsx("span",{"aria-hidden":!0,children:""}),l.jsx("span",{children:"Settings"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:"Settings"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:E.map((N,j)=>l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:j===E.length-1?"font-semibold text-slate-900":"text-slate-600",children:N}),j<E.length-1?l.jsx("span",{"aria-hidden":!0,className:"text-slate-400",children:"/"}):null]},N))}),o?l.jsx("p",{className:"max-w-3xl text-sm text-slate-600",children:o}):null]}),l.jsxs("div",{className:"w-full max-w-xs",children:[l.jsx(pt,{value:x,onChange:N=>b(N.target.value),placeholder:"Search settings","aria-label":"Search workspace settings"}),l.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Filter sections by name or description."})]})]})}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[l.jsx("nav",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft","aria-label":"Workspace settings sections",children:l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:['No sections match "',x,'".']}):w.map(N=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"px-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:N.label}),l.jsx("ul",{className:"space-y-1",children:N.items.map(j=>{const C=j.id===r,T=j.tone==="danger"?{active:"bg-danger-50 text-danger-700 ring-danger-100",idle:"hover:bg-danger-50/60 text-danger-700",badgeActive:"bg-danger-500 text-white",badgeIdle:"bg-danger-100 text-danger-700 group-hover:bg-danger-200"}:{active:"bg-brand-50 text-brand-700 ring-brand-100",idle:"hover:bg-slate-50 text-slate-700",badgeActive:"bg-brand-500 text-white",badgeIdle:"bg-slate-100 text-slate-500 group-hover:bg-slate-200"},_=me("group flex w-full items-start gap-3 rounded-xl px-3 py-2.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2",C?T.active:T.idle,j.disabled&&"cursor-not-allowed opacity-50 ring-0 hover:bg-white");return j.disabled?l.jsx("li",{className:"w-full",children:l.jsx("div",{className:_,"aria-disabled":!0,children:l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]})})},j.id):l.jsx("li",{className:"w-full",children:l.jsxs(Ky,{to:j.href,className:_,children:[l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]}),l.jsx("span",{"aria-hidden":!0,className:me("ml-auto inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] font-bold transition",C?T.badgeActive:T.badgeIdle),children:j.label.slice(0,1).toUpperCase()})]})},j.id)})})]},N.id))})}),l.jsx("div",{className:me("space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",g==="danger"&&"border-danger-100 bg-danger-50/40"),children:d})]})]})}const aw=p.createContext(null);function ZR({value:e,children:n}){return l.jsx(aw.Provider,{value:e,children:n})}function iw(){const e=p.useContext(aw);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function gu({open:e,title:n,description:r,confirmLabel:i="Confirm",cancelLabel:o="Cancel",onConfirm:u,onCancel:d,isConfirming:h,children:g,confirmDisabled:x,tone:b="default"}){const v=p.useRef(null);if(p.useEffect(()=>{if(!e)return;const E=j=>{if(j.key==="Escape"&&d(),j.key==="Tab"){const C=v.current;if(!C)return;const T=Array.from(C.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(U=>!U.hasAttribute("disabled"));if(T.length===0)return;const _=T.indexOf(document.activeElement),F=j.shiftKey?_<=0?T.length-1:_-1:_===T.length-1?0:_+1;T[F]?.focus(),j.preventDefault()}};return window.addEventListener("keydown",E),v.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",E)},[d,e]),!e)return null;const w=b==="danger"?{badge:"bg-danger-100 text-danger-700",confirmVariant:"danger"}:{badge:"bg-brand-50 text-brand-700",confirmVariant:"primary"};return ls.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:d,"aria-label":"Close dialog"}),l.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:l.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":n,className:"w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",ref:v,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:me("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",w.badge),children:"Confirm"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),g?l.jsx("div",{className:"mt-4 space-y-3",children:g}):null,l.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:d,disabled:h,children:o}),l.jsx(_e,{type:"button",variant:w.confirmVariant,onClick:u,isLoading:h,disabled:x||h,className:b==="danger"?"hover:bg-danger-600":void 0,children:i})]})]})})]}),document.body)}function xu({title:e,description:n,actions:r}){return l.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"text-sm text-slate-600",children:n}):null]}),r?l.jsx("div",{className:"flex items-center gap-2",children:r}):null]})}function IR(){const{workspace:e,hasPermission:n}=gr(),r=It(),i=ft(),[o,u]=p.useState(!1),[d,h]=p.useState(""),[g,x]=p.useState(null),b=sn({mutationFn:()=>FS(e.id),onSuccess:()=>{i.invalidateQueries({queryKey:Zt.all()}),r("/workspaces",{replace:!0})},onError:E=>{x(E instanceof Error?E.message:"Unable to delete workspace.")}}),v=n("workspace.delete")||n("workspace.settings.manage"),w=p.useMemo(()=>{const E=d.trim().toLowerCase();return E.length>0&&(E===e.slug.toLowerCase()||E===e.name.toLowerCase())},[d,e.name,e.slug]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Danger zone",description:"Delete this workspace when it is no longer needed."}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Permanently remove this workspace and all associated data. This action cannot be undone."})]}),l.jsx(_e,{type:"button",variant:"danger",onClick:()=>u(!0),disabled:!v||b.isPending,isLoading:b.isPending,children:"Delete workspace"})]}),v?null:l.jsx(nt,{tone:"warning",className:"mt-3",children:"You need additional permissions to delete this workspace."}),g?l.jsx(nt,{tone:"danger",className:"mt-3",children:g}):null,l.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50 p-4 text-sm text-amber-800",children:[l.jsx("p",{className:"font-semibold",children:"Looking for ADE safe mode?"}),l.jsx("p",{className:"mt-1",children:"Safe mode is a system-wide control. Manage it from the system settings area instead of workspace settings."})]}),l.jsxs(gu,{open:o,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{u(!1),h(""),x(null)},onConfirm:()=>{w&&(x(null),b.mutate())},isConfirming:b.isPending,confirmDisabled:!w,children:[l.jsx(yt,{label:"Workspace slug",required:!0,children:l.jsx(pt,{value:d,onChange:E=>h(E.target.value),placeholder:e.slug,disabled:b.isPending})}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Enter ",l.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function lw({when:e,title:n="Discard unsaved changes?",description:r="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:i="Leave without saving",cancelLabel:o="Stay on page"}){const u=It(),[d,h]=p.useState(null),[g,x]=p.useState(!1),b=p.useRef(!1);p.useEffect(()=>{if(!e){x(!1),h(null);return}const E=N=>{N.preventDefault(),N.returnValue=""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[e]),$b(E=>e?b.current?(b.current=!1,!0):(h(E),x(!0),!1):!0,e);const v=()=>{if(!d)return;b.current=!0;const E=d.kind==="replace"||d.kind==="pop";u(d.to,{replace:E}),x(!1),h(null),setTimeout(()=>{b.current=!1},0)},w=()=>{x(!1),h(null)};return l.jsx(gu,{open:g&&e,title:n,description:r,confirmLabel:i,cancelLabel:o,tone:"danger",onConfirm:v,onCancel:w})}lw.displayName="UnsavedChangesPrompt";function VR({isDirty:e,isSaving:n,onCancel:r,onSave:i,saveLabel:o="Save changes",cancelLabel:u="Discard",children:d}){return!e&&!d?null:l.jsx("div",{className:"sticky bottom-0 left-0 right-0 mt-4 rounded-b-2xl border border-t bg-white/95 p-4 shadow-[0_-8px_20px_-12px_rgba(15,23,42,0.25)] backdrop-blur",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("div",{className:"text-sm text-slate-600",children:d}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?l.jsx(_e,{type:"button",variant:"ghost",onClick:r,disabled:n||!e,children:u}):null,l.jsx(_e,{type:"button",onClick:i,isLoading:n,disabled:!e||n,children:o})]})]})})}const QR=uu({name:Ms().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:Ms().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function WR(){const{workspace:e}=gr(),n=tE(e.id),r=bv(),[i,o]=p.useState(null),{register:u,handleSubmit:d,formState:{errors:h,isDirty:g},reset:x}=Jv({resolver:ey(QR),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const b=d(E=>{o(null),n.mutate({name:E.name.trim(),slug:E.slug.trim()},{onSuccess:()=>{o({tone:"success",message:"Workspace details saved."})},onError:N=>{const j=N instanceof Error?N.message:"Unable to save workspace details.";o({tone:"danger",message:j})}})}),v=e.is_default,w=r.isPending;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(lw,{when:g&&!n.isPending}),l.jsx(xu,{title:"General",description:"Manage the workspace identity and your default workspace preference."}),i?l.jsx(nt,{tone:i.tone,children:i.message}):null,l.jsxs("form",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-soft",onSubmit:b,noValidate:!0,children:[l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yt,{label:"Workspace name",required:!0,error:h.name?.message,children:l.jsx(pt,{...u("name"),placeholder:"Finance Operations",invalid:!!h.name,disabled:n.isPending})}),l.jsx(yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:h.slug?.message,children:l.jsx(pt,{...u("slug"),placeholder:"finance-ops",invalid:!!h.slug,disabled:n.isPending})})]}),n.isError?l.jsx(nt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null]}),l.jsx(VR,{isDirty:g,isSaving:n.isPending,onCancel:()=>{x(),o(null)},onSave:b,children:"Changes apply to everyone who can access this workspace."})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Default workspace"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose the workspace you land on first after signing in. This only affects your account."})]}),l.jsx(_e,{type:"button",variant:v?"secondary":"primary",onClick:()=>{o(null),r.mutate(e.id,{onSuccess:()=>o({tone:"success",message:"Workspace set as your default."}),onError:E=>{const N=E instanceof Error?E.message:"Unable to set the default workspace right now.";o({tone:"danger",message:N})}})},disabled:v||w,isLoading:w,children:v?"Default workspace":"Make default"})]}),l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:v?"This workspace is already your default.":"You can switch the default workspace at any time."})]})]})}function em({open:e,title:n,description:r,onClose:i,children:o,footer:u,widthClassName:d="w-full max-w-xl"}){const h=p.useRef(null);return p.useEffect(()=>{if(!e)return;const g=b=>{if(b.key==="Escape"&&i(),b.key==="Tab"){const v=h.current;if(!v)return;const w=Array.from(v.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(j=>!j.hasAttribute("disabled"));if(w.length===0)return;const E=w.indexOf(document.activeElement),N=b.shiftKey?E<=0?w.length-1:E-1:E===w.length-1?0:E+1;w[N]?.focus(),b.preventDefault()}};return window.addEventListener("keydown",g),h.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",g)},[i,e]),e?ls.createPortal(l.jsxs("div",{className:"fixed inset-0 z-40",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:i,"aria-label":"Close drawer"}),l.jsxs("div",{ref:h,role:"dialog","aria-modal":"true","aria-label":n,className:me("absolute inset-y-0 right-0 flex h-full flex-col bg-white shadow-2xl transition",d),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Details"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),l.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-slate-200 bg-white p-2 text-slate-500 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2","aria-label":"Close drawer",children:l.jsx(PR,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:o}),u?l.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-5 py-4",children:u}):null]})]}),document.body):null}function PR(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}const mh=no,bu={page:1,pageSize:mh,includeTotal:!0};function KR(e){const n=yh({queryKey:Zt.members(e,bu),initialPageParam:1,queryFn:({pageParam:u,signal:d})=>HS(e,{page:typeof u=="number"?u:1,pageSize:mh,includeTotal:u===1,signal:d}),getNextPageParam:u=>u.has_next?u.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:u=>u}),r=n.data?.pages??[],i=Nh(r,u=>u.user_id),o=r[0]?.total??r[r.length-1]?.total??void 0;return{...n,members:i,total:o,pageSize:mh}}function GR(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:async({user:i,roleIds:o})=>{const u={user_id:i.id,role_ids:Array.from(o)};return ZS(e,u)},onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function YR(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:({userId:i,roleIds:o})=>IS(e,i,{role_ids:Array.from(o)}),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function XR(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:i=>VS(e,i),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}const tm=no,JR=no,vu={page:1,pageSize:tm,includeTotal:!0},e4={scope:"workspace",page:1,pageSize:JR,includeTotal:!1};function ow(e){return zn({queryKey:Zt.roles(e,vu),queryFn:({signal:n})=>fv(r=>QS({page:r,pageSize:tm,includeTotal:r===1,signal:n})),enabled:e.length>0,staleTime:15e3,placeholderData:n=>n})}function t4(e="workspace"){const n={...e4,scope:e};return zn({queryKey:Zt.permissions(n),queryFn:({signal:r})=>fv(i=>GS({scope:e,page:i,pageSize:n.pageSize,includeTotal:i===1,signal:r})),staleTime:6e4,placeholderData:r=>r})}function n4(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:i=>WS(e,i),onSuccess:i=>{n.setQueryData(r,o=>a4(o,i))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function s4(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:({roleId:i,payload:o})=>PS(e,i,o),onSuccess:i=>{n.setQueryData(r,o=>o&&{...o,items:o.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function r4(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:i=>KS(e,i),onSuccess:(i,o)=>{n.setQueryData(r,u=>{if(!u)return u;const d=u.items.filter(h=>h.id!==o);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function a4(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total,has_next:!1,has_previous:!1}:{items:[n],page:1,page_size:tm,has_next:!1,has_previous:!1,total:1}}const i4={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function l4(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],o=r[r.length-1]?.[0];if(i)return`${i}${o??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function cw({name:e,email:n,size:r="md",className:i}){const o=p.useMemo(()=>l4(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:me("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",i4[r],i),children:o})}function o4(){const{workspace:e,hasPermission:n}=gr(),{params:r}=iw(),i=It(),o=Fn(),u=n("workspace.members.manage"),d=KR(e.id),h=ow(e.id),g=GR(e.id),x=YR(e.id),b=XR(e.id),[v,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>{const ae=d.members,k=new Intl.Collator("en",{sensitivity:"base"});return[...ae].sort((Q,ce)=>{const q=Q.user?.display_name??Q.user?.email??Q.user_id,te=ce.user?.display_name??ce.user?.email??ce.user_id;return k.compare(q??"",te??"")})},[d.members]),C=p.useMemo(()=>new Set(j.map(ae=>ae.user_id)),[j]),T=d.total??j.length,_=v.trim().toLowerCase(),F=p.useMemo(()=>_?j.filter(ae=>{const k=ae.user?.display_name??"",Q=ae.user?.email??"";return k.toLowerCase().includes(_)||Q.toLowerCase().includes(_)||ae.user_id.toLowerCase().includes(_)}):j,[j,_]),U=!!d.hasNextPage,D=d.isLoading,K=d.isFetchingNextPage,O=p.useMemo(()=>{const ae=new Intl.Collator("en",{sensitivity:"base"});return(h.data?.items??[]).slice().sort((k,Q)=>ae.compare(k.name,Q.name))},[h.data]),Z=r[0],W=Z==="new",X=Z&&Z!=="new"?decodeURIComponent(Z):null,re=j.find(ae=>ae.user_id===X),B=`/workspaces/${e.id}/settings/access/members`,G=`${o.search}${o.hash}`,ue=()=>i(`${B}${G}`,{replace:!0}),we=()=>i(`${B}/new${G}`),M=ae=>i(`${B}/${encodeURIComponent(ae)}${G}`),A=async({user:ae,roleIds:k})=>{N(null),await g.mutateAsync({user:ae,roleIds:k}),N({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`}),ue()},se=async(ae,k)=>{N(null),await x.mutateAsync({userId:ae,roleIds:k}),N({tone:"success",message:"Member roles updated."}),ue()},de=async ae=>{N(null),await b.mutateAsync(ae.user_id),N({tone:"success",message:"Member removed."}),ue()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Members",description:"Invite teammates, adjust their workspace roles, or remove their access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," member",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace members."}):null,h.isError?l.jsx(nt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load workspace roles."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace members"}),l.jsx("p",{className:"text-sm text-slate-500",children:D?"Loading members":`${T} member${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(yt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(pt,{value:v,onChange:ae=>w(ae.target.value),placeholder:"Search by name, email, or ID",disabled:D})}),u?l.jsx(_e,{type:"button",onClick:we,children:"Add member"}):null]})]}),D?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):F.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No members match "${v}".`:"No members yet. Add teammates to collaborate."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Member"}),l.jsx("th",{className:"px-4 py-3",children:"Roles"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:F.map(ae=>{const k=ae.role_ids.map(ce=>O.find(q=>q.id===ce)?.name??ce).sort((ce,q)=>ce.localeCompare(q)),Q=ae.user?.display_name??ae.user?.email??ae.user_id;return l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(cw,{name:ae.user?.display_name,email:ae.user?.email,size:"sm"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-semibold text-slate-900",children:Q}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:ae.user?.email??ae.user_id})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:k.length===0?l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."}):k.map(ce=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:ce},`${ae.user_id}-${ce}`))})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(ae.user_id),disabled:!u,children:"Manage"})})]},ae.user_id)})})]})}),U?l.jsx("div",{className:"pt-4",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>d.fetchNextPage(),disabled:K,children:K?"Loading more members":"Load more members"})}):null,u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),l.jsx(c4,{open:W&&u,onClose:ue,availableRoles:O,memberIds:C,isSubmitting:g.isPending,onInvite:A}),l.jsx(u4,{open:!!X&&u,member:re,availableRoles:O,onClose:ue,onSaveRoles:ae=>se(X??"",ae),onRemove:()=>re?de(re):Promise.resolve(),isSaving:x.isPending,isRemoving:b.isPending})]})}function c4({open:e,onClose:n,availableRoles:r,memberIds:i,isSubmitting:o,onInvite:u}){const[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(""),[w,E]=p.useState(""),[N,j]=p.useState(null);p.useEffect(()=>{const O=window.setTimeout(()=>E(b.trim()),250);return()=>window.clearTimeout(O)},[b]),p.useEffect(()=>{e||(h(""),x([]),v(""),j(null))},[e]);const C=ty({enabled:e,search:w,pageSize:50}),T=p.useMemo(()=>{const O=new Intl.Collator("en",{sensitivity:"base"});return C.users.filter(Z=>!i.has(Z.id)).sort((Z,W)=>{const X=Z.display_name??Z.email,re=W.display_name??W.email;return O.compare(X??"",re??"")})},[i,C.users]),_=p.useMemo(()=>T.find(O=>O.id===d),[T,d]),F=!!d&&g.length>0&&!o,U=b.trim().length>0&&b.trim().length<2,D=C.isPending&&C.users.length===0,K=async O=>{O.preventDefault(),j(null);const Z=T.find(W=>W.id===d);if(!Z){j("Select a user to add.");return}if(g.length===0){j("Select at least one role for this member.");return}try{await u({user:Z,roleIds:g}),h(""),v(""),x([])}catch(W){const X=W instanceof Error?W.message:"Unable to add member.";j(X)}};return l.jsx(em,{open:e,onClose:n,title:"Add member",description:"Invite an existing teammate and choose their workspace roles.",children:l.jsxs("form",{className:"space-y-4",onSubmit:K,children:[N?l.jsx(nt,{tone:"danger",children:N}):null,C.isError?l.jsx(nt,{tone:"warning",children:C.error instanceof Error?C.error.message:"Unable to load the user directory."}):null,l.jsxs(yt,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[l.jsx(pt,{value:b,onChange:O=>v(O.target.value),placeholder:"Search users",disabled:o||D}),U?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null]}),l.jsxs(yt,{label:"User",required:!0,children:[l.jsxs(Ai,{value:d,onChange:O=>{h(O.target.value),O.target.value&&v("")},disabled:o||D,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),_&&!T.some(O=>O.id===_.id)?l.jsx("option",{value:_.id,children:_.display_name?`${_.display_name} (${_.email})`:_.email}):null,T.map(O=>l.jsx("option",{value:O.id,children:O.display_name?`${O.display_name} (${O.email})`:O.email},O.id))]}),T.length===0&&b?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',b,'".']}):null]}),l.jsxs("fieldset",{className:"space-y-2",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Assign at least one role to grant access."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):r.map(O=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(O.id),onChange:Z=>x(W=>Z.target.checked?[...W,O.id]:W.filter(X=>X!==O.id)),disabled:o}),l.jsx("span",{children:O.name})]},O.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]}),C.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>C.fetchNextPage(),disabled:C.isFetchingNextPage,children:C.isFetchingNextPage?"Loading more users":"Load more users"})}):null,l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:n,disabled:o,children:"Cancel"}),l.jsx(_e,{type:"submit",isLoading:o,disabled:!F,children:"Add member"})]})]})})}function u4({open:e,member:n,availableRoles:r,onClose:i,onSaveRoles:o,onRemove:u,isSaving:d,isRemoving:h}){const[g,x]=p.useState([]),[b,v]=p.useState(null),[w,E]=p.useState(!1);p.useEffect(()=>{if(!e||!n){x([]),v(null),E(!1);return}x(n.role_ids),v(null),E(!1)},[n,e]);const N=async()=>{if(n){v(null);try{await o(g)}catch(T){const _=T instanceof Error?T.message:"Unable to save member roles.";v(_)}}},j=async()=>{if(n){v(null);try{await u()}catch(T){const _=T instanceof Error?T.message:"Unable to remove member.";v(_)}finally{E(!1)}}},C=n?n.user?.display_name??n.user?.email??n.user_id:"Member details";return l.jsxs(l.Fragment,{children:[l.jsxs(em,{open:e,onClose:i,title:C,description:n?"Update roles or remove this member from the workspace.":void 0,children:[n?l.jsxs("div",{className:"space-y-4",children:[b?l.jsx(nt,{tone:"danger",children:b}):null,l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx(cw,{name:n.user?.display_name,email:n.user?.email,size:"md"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:n.user?.display_name??n.user?.email??n.user_id}),l.jsx("p",{className:"text-sm text-slate-500",children:n.user?.email??"No email available"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["User ID: ",n.user_id]})]})]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Select the roles this member should have inside the workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available."}):r.map(T=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(T.id),onChange:_=>x(F=>_.target.checked?Array.from(new Set([...F,T.id])):F.filter(U=>U!==T.id)),disabled:d}),l.jsx("span",{children:T.name})]},T.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]})]}):l.jsx(nt,{tone:"warning",children:"This member could not be found."}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:i,disabled:d||h,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsx(_e,{type:"button",variant:"danger",onClick:()=>E(!0),disabled:h,isLoading:h,children:"Remove"}):null,l.jsx(_e,{type:"button",onClick:N,isLoading:d,disabled:!n||d,children:"Save changes"})]})]})]}),l.jsx(gu,{open:w,title:"Remove member?",description:n?`Remove ${n.user?.display_name??n.user?.email??n.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>E(!1),onConfirm:j,isConfirming:h})]})}function d4(){const{workspace:e,hasPermission:n}=gr(),{params:r}=iw(),i=It(),o=Fn(),u=n("workspace.roles.manage"),d=ow(e.id),h=t4(),g=n4(e.id),x=s4(e.id),b=r4(e.id),[v,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>(h.data?.items??[]).filter(M=>M.scope_type==="workspace"),[h.data]),C=p.useMemo(()=>{const M=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((A,se)=>M.compare(A.name,se.name))},[d.data]),T=d.data?.total??C.length,_=v.trim().toLowerCase(),F=p.useMemo(()=>_?C.filter(M=>`${M.name} ${M.slug??""}`.toLowerCase().includes(_)):C,[_,C]),U=r[0],D=U==="new",K=U&&U!=="new"?decodeURIComponent(U):null,O=C.find(M=>M.id===K),Z=`/workspaces/${e.id}/settings/access/roles`,W=`${o.search}${o.hash}`,X=()=>i(`${Z}${W}`,{replace:!0}),re=()=>i(`${Z}/new${W}`),B=M=>i(`${Z}/${encodeURIComponent(M)}${W}`),G=async M=>{N(null),await g.mutateAsync({name:M.name.trim(),slug:M.slug.trim()||void 0,description:M.description.trim()||void 0,permissions:M.permissions}),N({tone:"success",message:"Role created."}),X()},ue=async(M,A)=>{N(null),await x.mutateAsync({roleId:M,payload:{name:A.name.trim(),description:A.description.trim()||void 0,permissions:A.permissions}}),N({tone:"success",message:"Role updated."}),X()},we=async M=>{N(null),await b.mutateAsync(M.id),N({tone:"success",message:`Deleted role "${M.name}".`}),X()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Roles",description:"Workspace roles group permissions so you can safely delegate access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," role",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,h.isError?l.jsx(nt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load permission catalog."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:d.isLoading?"Loading roles":`${T} role${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(yt,{label:"Search roles",className:"w-full max-w-xs",children:l.jsx(pt,{value:v,onChange:M=>w(M.target.value),placeholder:"Search by name or slug",disabled:d.isLoading})}),u?l.jsx(_e,{type:"button",onClick:re,children:"New role"}):null]})]}),d.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):F.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No roles match "${v}".`:"No workspace roles yet. Create one to tailor permissions."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Role"}),l.jsx("th",{className:"px-4 py-3",children:"Slug"}),l.jsx("th",{className:"px-4 py-3",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:F.map(M=>l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:M.name}),M.is_system?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"System"}):null,M.is_editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:M.slug}),l.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[M.permissions.length," permission",M.permissions.length===1?"":"s"]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>B(M.id),disabled:!u,children:"Manage"})})]},M.id))})]})}),u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),l.jsx(Lb,{open:D&&u,mode:"create",permissions:j,onClose:X,onSave:M=>G(M),isSaving:g.isPending,isDeleting:!1}),l.jsx(Lb,{open:!!K&&u,mode:"edit",role:O,permissions:j,onClose:X,onSave:M=>K?ue(K,M):Promise.resolve(),onDelete:O?()=>we(O):void 0,isSaving:x.isPending,isDeleting:b.isPending})]})}function Lb({open:e,mode:n,role:r,permissions:i,onClose:o,onSave:u,onDelete:d,isSaving:h,isDeleting:g}){const[x,b]=p.useState({name:"",slug:"",description:"",permissions:[]}),[v,w]=p.useState(""),[E,N]=p.useState(null),[j,C]=p.useState(!1),[T,_]=p.useState("");p.useEffect(()=>{if(!e){N(null),w(""),C(!1),_("");return}b(n==="edit"&&r?{name:r.name,slug:r.slug,description:r.description??"",permissions:r.permissions}:{name:"",slug:"",description:"",permissions:[]})},[n,e,r]);const F=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,U=n==="create"||(r?.is_editable??!1),D=n==="edit"&&r&&r.is_editable&&!r.is_system&&d,K=p.useMemo(()=>{const B=v.trim().toLowerCase();return B?i.filter(G=>`${G.label} ${G.key}`.toLowerCase().includes(B)):i},[v,i]),O=(B,G)=>{b(ue=>({...ue,permissions:G?Array.from(new Set([...ue.permissions??[],B])):(ue.permissions??[]).filter(we=>we!==B)}))},Z=async()=>{if(N(null),!x.name.trim()){N("Role name is required.");return}if(n==="create"&&x.slug&&!F.test(x.slug)){N("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await u({...x,name:x.name.trim(),slug:n==="create"?x.slug.trim():r?.slug??"",description:x.description.trim(),permissions:x.permissions})}catch(B){const G=B instanceof Error?B.message:"Unable to save role.";N(G)}},W=async()=>{if(!(!d||!r)){N(null);try{await d()}catch(B){const G=B instanceof Error?B.message:"Unable to delete role.";N(G)}finally{C(!1),_("")}}},X=l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:o,disabled:h||g,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[D?l.jsx(_e,{type:"button",variant:"danger",onClick:()=>C(!0),disabled:g,isLoading:g,children:"Delete"}):null,l.jsx(_e,{type:"button",onClick:Z,isLoading:h,disabled:!U||h,children:n==="create"?"Create role":"Save changes"})]})]}),re=n==="create"?"New role":r?.name??"Role details";return l.jsxs(l.Fragment,{children:[l.jsxs(em,{open:e,onClose:o,title:re,description:n==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:X,children:[E?l.jsx(nt,{tone:"danger",children:E}):null,n==="edit"&&r&&!r.is_editable?l.jsx(nt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,l.jsxs("div",{className:"space-y-4",children:[l.jsx(yt,{label:"Role name",required:!0,children:l.jsx(pt,{value:x.name,onChange:B=>b(G=>({...G,name:B.target.value})),placeholder:"Data reviewer",disabled:h||!U})}),n==="create"?l.jsx(yt,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:l.jsx(pt,{value:x.slug,onChange:B=>b(G=>({...G,slug:B.target.value})),placeholder:"data-reviewer",disabled:h||!U})}):l.jsx(yt,{label:"Role slug",children:l.jsx(pt,{value:r?.slug??"",disabled:!0})}),l.jsx(yt,{label:"Description",hint:"Optional context about what this role controls.",children:l.jsx(pt,{value:x.description,onChange:B=>b(G=>({...G,description:B.target.value})),placeholder:"What does this role control?",disabled:h||!U})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Select the permissions included with this role. ",x.permissions.length," selected."]})]}),l.jsx(pt,{value:v,onChange:B=>w(B.target.value),placeholder:"Filter permissions",disabled:h})]}),l.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-slate-200 p-3",children:K.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No permissions match this filter."}):K.map(B=>{const G=`permission-${B.key.replaceAll(".","-")}`;return l.jsxs("label",{htmlFor:G,"aria-label":B.label,className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{id:G,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:x.permissions.includes(B.key),onChange:ue=>O(B.key,ue.target.checked),disabled:h||!U}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:B.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:B.description})]})]},B.key)})})]})]})]}),l.jsx(gu,{open:j&&!!r,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:T.trim()!==(r?.slug??""),onCancel:()=>{C(!1),_("")},onConfirm:W,isConfirming:g,children:l.jsx(yt,{label:"Type the role slug to confirm",required:!0,children:l.jsx(pt,{value:T,onChange:B=>_(B.target.value),placeholder:r?.slug??"role-slug",disabled:g})})})]})}const f4={workspace:"Workspace",access:"Access",lifecycle:"Lifecycle"},Jl=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:l.jsx(WR,{})},{id:"access.members",group:"access",label:"Members",description:"Invite teammates and manage access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:l.jsx(o4,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:l.jsx(d4,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:l.jsx(IR,{})}],Oc=Jl[0];function h4(e){const n=e.join("/");return Jl.find(r=>n===r.path||n.startsWith(`${r.path}/`))}function m4(e,n){const r=Jl.map(i=>{const o=i.required?.view?i.required.view.some(d=>n(d)):!0,u=i.required?.edit?i.required.edit.some(d=>n(d)):!0;return{id:i.id,label:i.label,description:i.description,href:`/workspaces/${e}/settings/${i.path}`,disabled:!(o||u),tone:i.tone??"default"}});return Object.values(r.reduce((i,o)=>{const u=Jl.find(g=>g.id===o.id);if(!u)return i;const d=i[u.group],h=d?{...d,items:[...d.items,o]}:{id:u.group,label:f4[u.group],items:[o]};return i[u.group]=h,i},{}))}function p4({sectionSegments:e=[]}){const{workspace:n,hasPermission:r}=gr(),i=It(),o=Fn(),{effectiveSegments:u,redirectTo:d}=p.useMemo(()=>g4(e,n.id,o.search,o.hash),[e,n.id,o.search,o.hash]),h=h4(u)??Oc;p.useEffect(()=>{d&&i(d,{replace:!0})},[d,i]);const g=p.useMemo(()=>{const j=h.path.split("/");return u.slice(j.length)},[h.path,u]),x=p.useMemo(()=>m4(n.id,r),[n.id,r]),v=x.flatMap(j=>j.items).find(j=>j.id===h.id),w=x.find(j=>j.items.some(C=>C.id===h.id))?.label,N=v?.disabled?l.jsx(dt,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):h.element;return l.jsx(HR,{workspaceName:n.name,navGroups:x,activeSectionId:h.id,activeSectionLabel:h.label,activeSectionDescription:h.description,activeGroupLabel:w??"Settings",children:l.jsx(ZR,{value:{sectionId:h.id,params:g},children:N})})}function g4(e,n,r,i){const o={members:"access/members",roles:"access/roles",danger:"lifecycle/danger"},u=e.length>0?[...e]:Oc.path.split("/"),d=o[u[0]],h=d?[...d.split("/"),...u.slice(1)]:u,g=h.join("/"),x=d&&g?`/workspaces/${n}/settings/${g}${r}${i}`:void 0,b=e.length===0,v=Jl.some(E=>g===E.path||g.startsWith(`${E.path}/`))||d!==void 0,w=`/workspaces/${n}/settings/${Oc.path}${r}${i}`;return{effectiveSegments:v?h:Oc.path.split("/"),redirectTo:b||!v||d?x??w:null}}function x4(){return l.jsx(tu,{children:l.jsx(b4,{})})}function b4(){const e=Fn(),n=It(),r=ft(),i=Ch(),o=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=w4(e.pathname),d=p.useMemo(()=>S4(o,u),[o,u]);return p.useEffect(()=>{i.data&&r.setQueryData(Zt.list(Mc),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&o.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,o.length,n]),p.useEffect(()=>{d&&!u&&n(`/workspaces/${d.id}/${Yc.path}${e.search}${e.hash}`,{replace:!0})},[d,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!d||!u)&&u!==d.id){const h=E4(e.pathname,e.search,d.id,u);h!==e.pathname+e.search&&n(h+e.hash,{replace:!0})}},[d,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{d&&vv(d.id)},[d]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(dt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):d?l.jsx(p2,{workspace:d,workspaces:o,children:l.jsx(v4,{workspace:d})}):null}function v4({workspace:e}){return l.jsx(wD,{children:l.jsx(NM,{workspaceId:e.id,children:l.jsx(y4,{workspace:e})})})}function y4({workspace:e}){const n=zi(),r=It(),i=Fn(),{session:o,windowState:u}=Py(),d=Hv(),h=d.data?.enabled??!1,g=d.data?.detail??Oi,x=Vv(),b=p.useMemo(()=>Yy(e),[e]),[v,w]=p.useState(""),[E,N]=p.useState(!1),[j,C]=p.useState(!1),T=v.trim().toLowerCase(),_=!!(o&&u==="maximized"),F=p.useMemo(()=>b.map(H=>({id:H.id,label:H.label,description:`Jump to ${H.label}`,icon:l.jsx(H.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),U=p.useMemo(()=>Ps(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[D,K]=p.useState(()=>{const H=U.get();return typeof H=="boolean"?H:!1});p.useEffect(()=>{const H=U.get();K(typeof H=="boolean"?H:!1)},[U]),p.useEffect(()=>{U.set(D)},[D,U]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const H=()=>{window.innerWidth>=1024&&N(!1)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),p.useEffect(()=>{if(typeof document>"u")return;const H=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=H||"",()=>{document.body.style.overflow=H}},[E]),p.useEffect(()=>{_&&N(!1)},[_]);const O=p.useCallback(()=>{if(!T)return;const H=b.find(Y=>Y.label.toLowerCase().includes(T))??b.find(Y=>Y.id.toLowerCase().includes(T));H&&r(H.href)},[T,b,r]),Z=p.useCallback(H=>{const Y=b.find($=>$.id===H.id);Y&&(r(Y.href),w(""))},[b,r]),W=p.useCallback(()=>N(!0),[]),X=p.useCallback(()=>N(!1),[]),re=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:W,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(N4,{})})}),B=n.user.display_name||n.user.email||"Signed in",G=n.user.email??"",ue=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Fv,{displayName:B,email:G,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>C(!0)}]})}),we={value:v,onChange:w,onSubmit:O,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:F,onSelectSuggestion:Z},M=j4(i.pathname,e.id),A=_4(e.id,M,i.search,i.hash),se=A?.kind==="content"&&A.key.startsWith("documents"),de=se?new URLSearchParams(i.search).get("q")??"":"",ae=p.useCallback(H=>{if(!se)return;const Y=new URLSearchParams(i.search);H?Y.set("q",H):Y.delete("q");const $=Y.toString();r(`${i.pathname}${$?`?${$}`:""}${i.hash}`,{replace:!0})},[se,i.hash,i.pathname,i.search,r]),k=p.useCallback(H=>{ae(H)},[ae]),Q=p.useCallback(()=>{ae("")},[ae]),q=(se?{value:de,onChange:ae,onSubmit:k,onClear:Q,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??we;if(p.useEffect(()=>{A?.kind==="redirect"&&r(A.to,{replace:!0})},[A,r]),!A||A.kind==="redirect")return null;const te=A.fullHeight??!1;return l.jsxs(l.Fragment,{children:[l.jsx(Zv,{open:j,onClose:()=>C(!1)}),l.jsxs("div",{className:me("flex min-w-0 bg-slate-50 text-slate-900",te?"h-screen overflow-hidden":"min-h-screen"),children:[_?null:l.jsx($M,{workspace:e,items:b,collapsed:D,onToggleCollapse:()=>K(H=>!H),onGoToWorkspaces:()=>r("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[_?null:l.jsx(qv,{brand:re,trailing:ue,search:q}),!_&&E?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:X,"aria-label":"Close navigation"}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:X,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(C4,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Xy,{items:b,onNavigate:X,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:me("relative flex-1 min-w-0",te?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:me(te?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[h?l.jsx("div",{className:me("mb-4",te?"px-6 pt-4":""),children:l.jsx(nt,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:me(te?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:A.element})]})})},`section-${A.key}`)]})]})]})}function w4(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function j4(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(o=>o.trim()).filter(o=>o.length>0):[]}function S4(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function E4(e,n,r,i){const o=`/workspaces/${i}`,u=e.startsWith(o)?e.slice(o.length):"",d=u&&u!=="/"?u:`/${Yc.path}`;return`/workspaces/${r}${d}${n}`}function N4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function C4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function _4(e,n,r,i){const o=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Yc.path}${o}`};const[u,d,h]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(ZM,{})};case Yc.path:case"documents":return d?{kind:"content",key:`documents:${d}`,element:l.jsx(RR,{params:{documentId:decodeURIComponent(d)}})}:{kind:"content",key:"documents",element:l.jsx(eR,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(zR,{})};case"config-builder":return d?h==="editor"?{kind:"content",key:`config-builder:${d}:editor`,element:l.jsx(k4,{configId:decodeURIComponent(d)}),fullHeight:!0}:{kind:"content",key:`config-builder:${d}`,element:l.jsx($R,{params:{configId:decodeURIComponent(d)}})}:{kind:"content",key:"config-builder",element:l.jsx(LR,{})};case"settings":{const g=n.slice(1),x=g.length>0?g:[];return{kind:"content",key:`settings:${x.length>0?x.join(":"):"general"}`,element:l.jsx(p4,{sectionSegments:x})}}default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(dt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function k4({configId:e}){return l.jsx(FR,{params:{configId:e}})}function T4(){const e=It(),n=ft();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await jS({signal:i.signal})}finally{r||(n.removeQueries({queryKey:Rs.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function A4(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(hh,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(hh,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function D4(){return l.jsx(cj,{children:l.jsx(Pj,{children:l.jsx(M4,{})})})}function M4(){const e=Fn(),r=R4(e.pathname).split("/").filter(Boolean);if(r.length===0)return l.jsx(cE,{});const[i,o]=r;switch(i){case"login":return l.jsx(hk,{});case"logout":return l.jsx(T4,{});case"auth":if(o==="callback")return l.jsx(mk,{});break;case"setup":return l.jsx(gk,{});case"workspaces":return o?o==="new"?l.jsx(f2,{}):l.jsx(x4,{}):l.jsx(Rk,{})}return l.jsx(A4,{})}function R4(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}oj.createRoot(document.getElementById("root")).render(l.jsx(vt.StrictMode,{children:l.jsx(D4,{})}));export{vt as W,me as c,l as j,p as r};
