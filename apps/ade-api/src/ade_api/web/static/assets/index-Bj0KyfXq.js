(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function Tb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xf={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function Q1(){if(Sx)return Ml;Sx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:d,ref:c!==void 0?c:null,props:u}}return Ml.Fragment=n,Ml.jsx=r,Ml.jsxs=r,Ml}var Ex;function W1(){return Ex||(Ex=1,xf.exports=Q1()),xf.exports}var l=W1(),bf={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function P1(){if(Nx)return Ve;Nx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function E(_){return _===null||typeof _!="object"?null:(_=w&&_[w]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function T(_,K,le){this.props=_,this.context=K,this.refs=k,this.updater=le||N}T.prototype.isReactComponent={},T.prototype.setState=function(_,K){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,K,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=T.prototype;function R(_,K,le){this.props=_,this.context=K,this.refs=k,this.updater=le||N}var O=R.prototype=new C;O.constructor=R,j(O,T.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function se(){}var B={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function H(_,K,le){var F=le.ref;return{$$typeof:e,type:_,key:K,ref:F!==void 0?F:null,props:le}}function Z(_,K){return H(_.type,K,_.props)}function P(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function U(_){var K={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(le){return K[le]})}var G=/\/+/g;function ce(_,K){return typeof _=="object"&&_!==null&&_.key!=null?U(""+_.key):K.toString(36)}function we(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(se,se):(_.status="pending",_.then(function(K){_.status==="pending"&&(_.status="fulfilled",_.value=K)},function(K){_.status==="pending"&&(_.status="rejected",_.reason=K)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function A(_,K,le,F,te){var V=typeof _;(V==="undefined"||V==="boolean")&&(_=null);var X=!1;if(_===null)X=!0;else switch(V){case"bigint":case"string":case"number":X=!0;break;case"object":switch(_.$$typeof){case e:case n:X=!0;break;case b:return X=_._init,A(X(_._payload),K,le,F,te)}}if(X)return te=te(_),X=F===""?"."+ce(_,0):F,L(te)?(le="",X!=null&&(le=X.replace(G,"$&/")+"/"),A(te,K,le,"",function(me){return me})):te!=null&&(P(te)&&(te=Z(te,le+(te.key==null||_&&_.key===te.key?"":(""+te.key).replace(G,"$&/")+"/")+X)),K.push(te)),1;X=0;var $=F===""?".":F+":";if(L(_))for(var ae=0;ae<_.length;ae++)F=_[ae],V=$+ce(F,ae),X+=A(F,K,le,V,te);else if(ae=E(_),typeof ae=="function")for(_=ae.call(_),ae=0;!(F=_.next()).done;)F=F.value,V=$+ce(F,ae++),X+=A(F,K,le,V,te);else if(V==="object"){if(typeof _.then=="function")return A(we(_),K,le,F,te);throw K=String(_),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return X}function z(_,K,le){if(_==null)return _;var F=[],te=0;return A(_,F,"","",function(V){return K.call(le,V,te++)}),F}function ge(_){if(_._status===-1){var K=_._result;K=K(),K.then(function(le){(_._status===0||_._status===-1)&&(_._status=1,_._result=le)},function(le){(_._status===0||_._status===-1)&&(_._status=2,_._result=le)}),_._status===-1&&(_._status=0,_._result=K)}if(_._status===1)return _._result.default;throw _._result}var ye=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},oe={map:z,forEach:function(_,K,le){z(_,function(){K.apply(this,arguments)},le)},count:function(_){var K=0;return z(_,function(){K++}),K},toArray:function(_){return z(_,function(K){return K})||[]},only:function(_){if(!P(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ve.Activity=y,Ve.Children=oe,Ve.Component=T,Ve.Fragment=r,Ve.Profiler=c,Ve.PureComponent=R,Ve.StrictMode=i,Ve.Suspense=g,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(_){return B.H.useMemoCache(_)}},Ve.cache=function(_){return function(){return _.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(_,K,le){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var F=j({},_.props),te=_.key;if(K!=null)for(V in K.key!==void 0&&(te=""+K.key),K)!I.call(K,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&K.ref===void 0||(F[V]=K[V]);var V=arguments.length-2;if(V===1)F.children=le;else if(1<V){for(var X=Array(V),$=0;$<V;$++)X[$]=arguments[$+2];F.children=X}return H(_.type,te,F)},Ve.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},Ve.createElement=function(_,K,le){var F,te={},V=null;if(K!=null)for(F in K.key!==void 0&&(V=""+K.key),K)I.call(K,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(te[F]=K[F]);var X=arguments.length-2;if(X===1)te.children=le;else if(1<X){for(var $=Array(X),ae=0;ae<X;ae++)$[ae]=arguments[ae+2];te.children=$}if(_&&_.defaultProps)for(F in X=_.defaultProps,X)te[F]===void 0&&(te[F]=X[F]);return H(_,V,te)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(_){return{$$typeof:m,render:_}},Ve.isValidElement=P,Ve.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:ge}},Ve.memo=function(_,K){return{$$typeof:x,type:_,compare:K===void 0?null:K}},Ve.startTransition=function(_){var K=B.T,le={};B.T=le;try{var F=_(),te=B.S;te!==null&&te(le,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(se,ye)}catch(V){ye(V)}finally{K!==null&&le.types!==null&&(K.types=le.types),B.T=K}},Ve.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ve.use=function(_){return B.H.use(_)},Ve.useActionState=function(_,K,le){return B.H.useActionState(_,K,le)},Ve.useCallback=function(_,K){return B.H.useCallback(_,K)},Ve.useContext=function(_){return B.H.useContext(_)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(_,K){return B.H.useDeferredValue(_,K)},Ve.useEffect=function(_,K){return B.H.useEffect(_,K)},Ve.useEffectEvent=function(_){return B.H.useEffectEvent(_)},Ve.useId=function(){return B.H.useId()},Ve.useImperativeHandle=function(_,K,le){return B.H.useImperativeHandle(_,K,le)},Ve.useInsertionEffect=function(_,K){return B.H.useInsertionEffect(_,K)},Ve.useLayoutEffect=function(_,K){return B.H.useLayoutEffect(_,K)},Ve.useMemo=function(_,K){return B.H.useMemo(_,K)},Ve.useOptimistic=function(_,K){return B.H.useOptimistic(_,K)},Ve.useReducer=function(_,K,le){return B.H.useReducer(_,K,le)},Ve.useRef=function(_){return B.H.useRef(_)},Ve.useState=function(_){return B.H.useState(_)},Ve.useSyncExternalStore=function(_,K,le){return B.H.useSyncExternalStore(_,K,le)},Ve.useTransition=function(){return B.H.useTransition()},Ve.version="19.2.0",Ve}var Cx;function ch(){return Cx||(Cx=1,bf.exports=P1()),bf.exports}var p=ch();const bt=Tb(p);var vf={exports:{}},Dl={},yf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function K1(){return kx||(kx=1,(function(e){function n(A,z){var ge=A.length;A.push(z);e:for(;0<ge;){var ye=ge-1>>>1,oe=A[ye];if(0<c(oe,z))A[ye]=z,A[ge]=oe,ge=ye;else break e}}function r(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var z=A[0],ge=A.pop();if(ge!==z){A[0]=ge;e:for(var ye=0,oe=A.length,_=oe>>>1;ye<_;){var K=2*(ye+1)-1,le=A[K],F=K+1,te=A[F];if(0>c(le,ge))F<oe&&0>c(te,le)?(A[ye]=te,A[F]=ge,ye=F):(A[ye]=le,A[K]=ge,ye=K);else if(F<oe&&0>c(te,ge))A[ye]=te,A[F]=ge,ye=F;else break e}}return z}function c(A,z){var ge=A.sortIndex-z.sortIndex;return ge!==0?ge:A.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var g=[],x=[],b=1,y=null,w=3,E=!1,N=!1,j=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(A){for(var z=r(x);z!==null;){if(z.callback===null)i(x);else if(z.startTime<=A)i(x),z.sortIndex=z.expirationTime,n(g,z);else break;z=r(x)}}function L(A){if(j=!1,O(A),!N)if(r(g)!==null)N=!0,se||(se=!0,U());else{var z=r(x);z!==null&&we(L,z.startTime-A)}}var se=!1,B=-1,I=5,H=-1;function Z(){return k?!0:!(e.unstable_now()-H<I)}function P(){if(k=!1,se){var A=e.unstable_now();H=A;var z=!0;try{e:{N=!1,j&&(j=!1,C(B),B=-1),E=!0;var ge=w;try{t:{for(O(A),y=r(g);y!==null&&!(y.expirationTime>A&&Z());){var ye=y.callback;if(typeof ye=="function"){y.callback=null,w=y.priorityLevel;var oe=ye(y.expirationTime<=A);if(A=e.unstable_now(),typeof oe=="function"){y.callback=oe,O(A),z=!0;break t}y===r(g)&&i(g),O(A)}else i(g);y=r(g)}if(y!==null)z=!0;else{var _=r(x);_!==null&&we(L,_.startTime-A),z=!1}}break e}finally{y=null,w=ge,E=!1}z=void 0}}finally{z?U():se=!1}}}var U;if(typeof R=="function")U=function(){R(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ce=G.port2;G.port1.onmessage=P,U=function(){ce.postMessage(null)}}else U=function(){T(P,0)};function we(A,z){B=T(function(){A(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(A){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var ge=w;w=z;try{return A()}finally{w=ge}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ge=w;w=A;try{return z()}finally{w=ge}},e.unstable_scheduleCallback=function(A,z,ge){var ye=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ye+ge:ye):ge=ye,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ge+oe,A={id:b++,callback:z,priorityLevel:A,startTime:ge,expirationTime:oe,sortIndex:-1},ge>ye?(A.sortIndex=ge,n(x,A),r(g)===null&&A===r(x)&&(j?(C(B),B=-1):j=!0,we(L,ge-ye))):(A.sortIndex=oe,n(g,A),N||E||(N=!0,se||(se=!0,U()))),A},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(A){var z=w;return function(){var ge=w;w=z;try{return A.apply(this,arguments)}finally{w=ge}}}})(wf)),wf}var _x;function Y1(){return _x||(_x=1,yf.exports=K1()),yf.exports}var jf={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function G1(){if(Tx)return Dn;Tx=1;var e=ch();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},Dn.flushSync=function(g){var x=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=x,i.p=b,i.d.f()}},Dn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Dn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Dn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Dn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Dn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Dn.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Dn.requestFormReset=function(g){i.d.r(g)},Dn.unstable_batchedUpdates=function(g,x){return g(x)},Dn.useFormState=function(g,x,b){return d.H.useFormState(g,x,b)},Dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var Ax;function Ab(){if(Ax)return jf.exports;Ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),jf.exports=G1(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function X1(){if(Mx)return Dl;Mx=1;var e=Y1(),n=ch(),r=Ab();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,o=s;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return g(f),t;if(h===o)return g(f),s;h=h.sibling}throw Error(i(188))}if(a.return!==o.return)a=f,o=h;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,o=h;break}if(S===o){v=!0,o=f,a=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===a){v=!0,a=h,o=f;break}if(S===o){v=!0,o=h,a=f;break}S=S.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var G=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===G?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case L:return"Suspense";case se:return"SuspenseList";case H:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case R:return t.displayName||"Context";case C:return(t._context.displayName||"Context")+".Consumer";case O:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return s=t.displayName||null,s!==null?s:ce(t.type)||"Memo";case I:s=t._payload,t=t._init;try{return ce(t(s))}catch{}}return null}var we=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ye=[],oe=-1;function _(t){return{current:t}}function K(t){0>oe||(t.current=ye[oe],ye[oe]=null,oe--)}function le(t,s){oe++,ye[oe]=t.current,t.current=s}var F=_(null),te=_(null),V=_(null),X=_(null);function $(t,s){switch(le(V,s),le(te,t),le(F,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Qg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Qg(s),t=Wg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(F),le(F,t)}function ae(){K(F),K(te),K(V)}function me(t){t.memoizedState!==null&&le(X,t);var s=F.current,a=Wg(s,t.type);s!==a&&(le(te,t),le(F,a))}function pe(t){te.current===t&&(K(F),K(te)),X.current===t&&(K(X),kl._currentValue=ge)}var Ce,We;function Oe(t){if(Ce===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",We=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+We}var Te=!1;function Ye(t,s){if(!t||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var ne=ie}Reflect.construct(t,[],he)}else{try{he.call()}catch(ie){ne=ie}t.call(he.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(he=t())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var D=v.split(`
`),ee=S.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===ee.length)for(o=D.length-1,f=ee.length-1;1<=o&&0<=f&&D[o]!==ee[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==ee[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==ee[f]){var ue=`
`+D[o].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=o&&0<=f);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function Lt(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ye(t.type,!1);case 11:return Ye(t.type.render,!1);case 1:return Ye(t.type,!0);case 31:return Oe("Activity");default:return""}}function it(t){try{var s="",a=null;do s+=Lt(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Nn=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,re=e.unstable_shouldYield,Ee=e.unstable_requestPaint,ve=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,Ct=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Ne=e.log,qe=e.unstable_setDisableYieldValue,At=null,st=null;function Pt(t){if(typeof Ne=="function"&&qe(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(At,t)}catch{}}var Mt=Math.clz32?Math.clz32:Oi,gr=Math.log,zs=Math.LN2;function Oi(t){return t>>>=0,t===0?32:31-(gr(t)/zs|0)|0}var Rs=256,xr=262144,Dt=4194304;function yt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kt(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?f=yt(o):(v&=S,v!==0?f=yt(v):a||(a=S&~t,a!==0&&(f=yt(a))))):(S=o&~h,S!==0?f=yt(S):v!==0?f=yt(v):a||(a=o&~t,a!==0&&(f=yt(a)))),f===0?0:s!==0&&s!==f&&(s&h)===0&&(h=f&-f,a=s&-s,h>=a||h===32&&(a&4194048)!==0)?s:f}function Cn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function un(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function fn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Rn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,s,a,o,f,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,ee=t.hiddenUpdates;for(a=v&~a;0<a;){var ue=31-Mt(a),he=1<<ue;S[ue]=0,D[ue]=-1;var ne=ee[ue];if(ne!==null)for(ee[ue]=null,ue=0;ue<ne.length;ue++){var ie=ne[ue];ie!==null&&(ie.lane&=-536870913)}a&=~he}o!==0&&xn(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function xn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Mt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Mt(a),f=1<<o;f&s|t[o]&s&&(t[o]|=s),a&=~f}}function kn(t,s){var a=s&-s;return a=(a&42)!==0?1:Kn(a),(a&(t.suspendedLanes|s))!==0?0:a}function Kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _n(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:gx(t.type))}function zt(t,s){var a=z.p;try{return z.p=t,s()}finally{z.p=a}}var On=Math.random().toString(36).slice(2),Et="__reactFiber$"+On,Vt="__reactProps$"+On,br="__reactContainer$"+On,Ta="__reactEvents$"+On,pu="__reactListeners$"+On,$e="__reactHandles$"+On,Xr="__reactResources$"+On,vr="__reactMarker$"+On;function Li(t){delete t[Et],delete t[Vt],delete t[Ta],delete t[pu],delete t[$e]}function yr(t){var s=t[Et];if(s)return s;for(var a=t.parentNode;a;){if(s=a[br]||a[Et]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=ex(t);t!==null;){if(a=t[Et])return a;t=ex(t)}return s}t=a,a=t.parentNode}return null}function Kt(t){if(t=t[Et]||t[br]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function wr(t){var s=t[Xr];return s||(s=t[Xr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[vr]=!0}var Ks=new Set,Jr={};function ls(t,s){jr(t,s),jr(t+"Capture",s)}function jr(t,s){for(Jr[t]=s,t=0;t<s.length;t++)Ks.add(s[t])}var Ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},Ys={};function sn(t){return Nn.call(Ys,t)?!0:Nn.call(ro,t)?!1:Ui.test(t)?Ys[t]=!0:(ro[t]=!0,!1)}function Aa(t,s,a){if(sn(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ys(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Tn(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function An(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ws(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function js(t){if(!t._valueTracker){var s=Bi(t)?"checked":"value";t._valueTracker=ws(t,s,""+t[s])}}function Ma(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Bi(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Da=/[\n"\\]/g;function Ut(t){return t.replace(Da,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ao(t,s,a,o,f,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+An(s)):t.value!==""+An(s)&&(t.value=""+An(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?qi(t,v,An(s)):a!=null?qi(t,v,An(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+An(S):t.removeAttribute("name")}function gu(t,s,a,o,f,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){js(t);return}a=a!=null?""+An(a):"",s=s!=null?""+An(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),js(t)}function qi(t,s,a){s==="number"&&ea(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Os(t,s,a,o){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+An(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function $i(t,s,a){if(s!=null&&(s=""+An(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+An(a):""}function Fi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(i(92));if(we(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=An(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),js(t)}function Sr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||za.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function lo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in s)o=s[f],s.hasOwnProperty(f)&&a[f]!==o&&io(t,f,o)}else for(var h in s)s.hasOwnProperty(h)&&io(t,h,s[h])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return xu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ss(){}var Er=null;function Ls(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,Bs=null;function Ua(t){var s=Kt(t);if(s&&(t=s.stateNode)){var a=t[Vt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ao(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var f=o[Vt]||null;if(!f)throw Error(i(90));ao(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Ma(o)}break e;case"textarea":$i(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Os(t,!!a.multiple,s,!1)}}}var qs=!1;function oo(t,s,a){if(qs)return t(s,a);qs=!0;try{var o=t(s);return o}finally{if(qs=!1,(Us!==null||Bs!==null)&&(Po(),Us&&(s=Us,t=Bs,Bs=Us=null,Ua(s),t)))for(s=0;s<t.length;s++)Ua(t[s])}}function ta(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(Es)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Hi=!1}var $s=null,Zi=null,Ba=null;function co(){if(Ba)return Ba;var t,s=Zi,a=s.length,o,f="value"in $s?$s.value:$s.textContent,h=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(o=1;o<=v&&s[a-o]===f[h-o];o++);return Ba=f.slice(t,1<o?1-o:void 0)}function qa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function uo(){return!1}function vn(t){function s(a,o,f,h,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$a:uo,this.isPropagationStopped=uo,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),s}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=vn(Gs),na=y({},Gs,{view:0,detail:0}),bu=vn(na),Vi,Ii,sa,Ha=y({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(Vi=t.screenX-sa.screenX,Ii=t.screenY-sa.screenY):Ii=Vi=0,sa=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:Ii}}),fo=vn(Ha),vu=y({},Ha,{dataTransfer:0}),yu=vn(vu),Qi=y({},na,{relatedTarget:0}),W=vn(Qi),xe=y({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Me=vn(xe),_e=y({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ze=vn(_e),rn=y({},Gs,{data:0}),ct=vn(rn),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wi(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Yh[t])?!!s[t]:!1}function wu(){return Wi}var sw=y({},na,{key:function(t){if(t.key){var s=Mn[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rw=vn(sw),aw=y({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=vn(aw),iw=y({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),lw=vn(iw),ow=y({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=vn(ow),uw=y({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dw=vn(uw),fw=y({},Gs,{newState:0,oldState:0}),hw=vn(fw),mw=[9,13,27,32],ju=Es&&"CompositionEvent"in window,Pi=null;Es&&"documentMode"in document&&(Pi=document.documentMode);var pw=Es&&"TextEvent"in window&&!Pi,Xh=Es&&(!ju||Pi&&8<Pi&&11>=Pi),Jh=" ",em=!1;function tm(t,s){switch(t){case"keyup":return mw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function gw(t,s){switch(t){case"compositionend":return nm(s);case"keypress":return s.which!==32?null:(em=!0,Jh);case"textInput":return t=s.data,t===Jh&&em?null:t;default:return null}}function xw(t,s){if(Za)return t==="compositionend"||!ju&&tm(t,s)?(t=co(),Ba=Zi=$s=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xh&&s.locale!=="ko"?null:s.data;default:return null}}var bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!bw[t.type]:s==="textarea"}function rm(t,s,a,o){Us?Bs?Bs.push(o):Bs=[o]:Us=o,s=tc(s,"onChange"),0<s.length&&(a=new Fa("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Ki=null,Yi=null;function vw(t){$g(t,0)}function ho(t){var s=Yn(t);if(Ma(s))return t}function am(t,s){if(t==="change")return s}var im=!1;if(Es){var Su;if(Es){var Eu="oninput"in document;if(!Eu){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Eu=typeof lm.oninput=="function"}Su=Eu}else Su=!1;im=Su&&(!document.documentMode||9<document.documentMode)}function om(){Ki&&(Ki.detachEvent("onpropertychange",cm),Yi=Ki=null)}function cm(t){if(t.propertyName==="value"&&ho(Yi)){var s=[];rm(s,Yi,t,Ls(t)),oo(vw,s)}}function yw(t,s,a){t==="focusin"?(om(),Ki=s,Yi=a,Ki.attachEvent("onpropertychange",cm)):t==="focusout"&&om()}function ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(Yi)}function jw(t,s){if(t==="click")return ho(s)}function Sw(t,s){if(t==="input"||t==="change")return ho(s)}function Ew(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gn=typeof Object.is=="function"?Object.is:Ew;function Gi(t,s){if(Gn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Nn.call(s,f)||!Gn(t[f],s[f]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,s){var a=um(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=um(a)}}function fm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?fm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ea(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ea(t.document)}return s}function Nu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Nw=Es&&"documentMode"in document&&11>=document.documentMode,Va=null,Cu=null,Xi=null,ku=!1;function mm(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ku||Va==null||Va!==ea(o)||(o=Va,"selectionStart"in o&&Nu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xi&&Gi(Xi,o)||(Xi=o,o=tc(Cu,"onSelect"),0<o.length&&(s=new Fa("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Va)))}function ra(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ia={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},_u={},pm={};Es&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function aa(t){if(_u[t])return _u[t];if(!Ia[t])return t;var s=Ia[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in pm)return _u[t]=s[a];return t}var gm=aa("animationend"),xm=aa("animationiteration"),bm=aa("animationstart"),Cw=aa("transitionrun"),kw=aa("transitionstart"),_w=aa("transitioncancel"),vm=aa("transitionend"),ym=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function Ns(t,s){ym.set(t,s),ls(s,[t])}var mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},os=[],Qa=0,Au=0;function po(){for(var t=Qa,s=Au=Qa=0;s<t;){var a=os[s];os[s++]=null;var o=os[s];os[s++]=null;var f=os[s];os[s++]=null;var h=os[s];if(os[s++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&wm(a,f,h)}}function go(t,s,a,o){os[Qa++]=t,os[Qa++]=s,os[Qa++]=a,os[Qa++]=o,Au|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Mu(t,s,a,o){return go(t,s,a,o),xo(t)}function ia(t,s){return go(t,null,null,s),xo(t)}function wm(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&s!==null&&(f=31-Mt(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[s]:o.push(s),s.lane=a|536870912),h):null}function xo(t){if(50<yl)throw yl=0,$d=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Wa={};function Tw(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,s,a,o){return new Tw(t,s,a,o)}function Du(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var a=t.alternate;return a===null?(a=Xn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function bo(t,s,a,o,f,h){var v=0;if(o=t,typeof t=="function")Du(t)&&(v=1);else if(typeof t=="string")v=R1(t,a,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case H:return t=Xn(31,a,s,f),t.elementType=H,t.lanes=h,t;case j:return la(a.children,f,h,s);case k:v=8,f|=24;break;case T:return t=Xn(12,a,s,f|2),t.elementType=T,t.lanes=h,t;case L:return t=Xn(13,a,s,f),t.elementType=L,t.lanes=h,t;case se:return t=Xn(19,a,s,f),t.elementType=se,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:v=10;break e;case C:v=9;break e;case O:v=11;break e;case B:v=14;break e;case I:v=16,o=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=Xn(v,a,s,f),s.elementType=t,s.type=o,s.lanes=h,s}function la(t,s,a,o){return t=Xn(7,t,o,s),t.lanes=a,t}function zu(t,s,a){return t=Xn(6,t,null,s),t.lanes=a,t}function Sm(t){var s=Xn(18,null,null,0);return s.stateNode=t,s}function Ru(t,s,a){return s=Xn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Em=new WeakMap;function cs(t,s){if(typeof t=="object"&&t!==null){var a=Em.get(t);return a!==void 0?a:(s={value:t,source:s,stack:it(s)},Em.set(t,s),s)}return{value:t,source:s,stack:it(s)}}var Pa=[],Ka=0,vo=null,Ji=0,us=[],ds=0,Nr=null,Fs=1,Hs="";function Js(t,s){Pa[Ka++]=Ji,Pa[Ka++]=vo,vo=t,Ji=s}function Nm(t,s,a){us[ds++]=Fs,us[ds++]=Hs,us[ds++]=Nr,Nr=t;var o=Fs;t=Hs;var f=32-Mt(o)-1;o&=~(1<<f),a+=1;var h=32-Mt(s)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Fs=1<<32-Mt(s)+f|a<<f|o,Hs=h+t}else Fs=1<<h|a<<f|o,Hs=t}function Ou(t){t.return!==null&&(Js(t,1),Nm(t,1,0))}function Lu(t){for(;t===vo;)vo=Pa[--Ka],Pa[Ka]=null,Ji=Pa[--Ka],Pa[Ka]=null;for(;t===Nr;)Nr=us[--ds],us[ds]=null,Hs=us[--ds],us[ds]=null,Fs=us[--ds],us[ds]=null}function Cm(t,s){us[ds++]=Fs,us[ds++]=Hs,us[ds++]=Nr,Fs=s.id,Hs=s.overflow,Nr=t}var yn=null,_t=null,tt=!1,Cr=null,fs=!1,Uu=Error(i(519));function kr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(cs(s,t)),Uu}function km(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Et]=t,s[Vt]=o,a){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(a=0;a<jl.length;a++)Xe(jl[a],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),gu(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),Fi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||Vg(s.textContent,a)?(o.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),o.onScroll!=null&&Xe("scroll",s),o.onScrollEnd!=null&&Xe("scrollend",s),o.onClick!=null&&(s.onclick=Ss),s=!0):s=!1,s||kr(t,!0)}function _m(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 31:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:yn=yn.return}}function Ya(t){if(t!==yn)return!1;if(!tt)return _m(t),tt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tf(t.type,t.memoizedProps)),a=!a),a&&_t&&kr(t),_m(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Jg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Jg(t)}else s===27?(s=_t,Fr(t.type)?(t=lf,lf=null,_t=t):_t=s):_t=yn?ms(t.stateNode.nextSibling):null;return!0}function oa(){_t=yn=null,tt=!1}function Bu(){var t=Cr;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Cr=null),t}function el(t){Cr===null?Cr=[t]:Cr.push(t)}var qu=_(null),ca=null,er=null;function _r(t,s,a){le(qu,s._currentValue),s._currentValue=a}function tr(t){t._currentValue=qu.current,K(qu)}function $u(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Fu(t,s,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),$u(h.return,a,t),o||(v=null);break e}h=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),$u(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ga(t,s,a,o){t=null;for(var f=s,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=f.type;Gn(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===X.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&Fu(s,t,a,o),s.flags|=262144}function yo(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){ca=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return Tm(ca,t)}function wo(t,s){return ca===null&&ua(t),Tm(t,s)}function Tm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},er===null){if(t===null)throw Error(i(308));er=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else er=er.next=s;return a}var Aw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Mw=e.unstable_scheduleCallback,Dw=e.unstable_NormalPriority,Yt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hu(){return{controller:new Aw,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&Mw(Dw,function(){t.controller.abort()})}var nl=null,Zu=0,Xa=0,Ja=null;function zw(t,s){if(nl===null){var a=nl=[];Zu=0,Xa=Qd(),Ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zu++,s.then(Am,Am),s}function Am(){if(--Zu===0&&nl!==null){Ja!==null&&(Ja.status="fulfilled");var t=nl;nl=null,Xa=0,Ja=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Rw(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Mm=A.S;A.S=function(t,s){mg=ve(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zw(t,s),Mm!==null&&Mm(t,s)};var da=_(null);function Vu(){var t=da.current;return t!==null?t:jt.pooledCache}function jo(t,s){s===null?le(da,da.current):le(da,s.pool)}function Dm(){var t=Vu();return t===null?null:{parent:Yt._currentValue,pool:t}}var ei=Error(i(460)),Iu=Error(i(474)),So=Error(i(542)),Eo={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ss,Ss),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lm(t),t;default:if(typeof s.status=="string")s.then(Ss,Ss);else{if(t=jt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=o}},function(o){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lm(t),t}throw ha=s,ei}}function fa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ha=a,ei):a}}var ha=null;function Om(){if(ha===null)throw Error(i(459));var t=ha;return ha=null,t}function Lm(t){if(t===ei||t===So)throw Error(i(483))}var ti=null,sl=0;function No(t){var s=sl;return sl+=1,ti===null&&(ti=[]),Rm(ti,t,s)}function rl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Co(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Um(t){function s(Q,q){if(t){var J=Q.deletions;J===null?(Q.deletions=[q],Q.flags|=16):J.push(q)}}function a(Q,q){if(!t)return null;for(;q!==null;)s(Q,q),q=q.sibling;return null}function o(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=Xs(Q,q),Q.index=0,Q.sibling=null,Q}function h(Q,q,J){return Q.index=J,t?(J=Q.alternate,J!==null?(J=J.index,J<q?(Q.flags|=67108866,q):J):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function v(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function S(Q,q,J,de){return q===null||q.tag!==6?(q=zu(J,Q.mode,de),q.return=Q,q):(q=f(q,J),q.return=Q,q)}function D(Q,q,J,de){var Le=J.type;return Le===j?ue(Q,q,J.props.children,de,J.key):q!==null&&(q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===I&&fa(Le)===q.type)?(q=f(q,J.props),rl(q,J),q.return=Q,q):(q=bo(J.type,J.key,J.props,null,Q.mode,de),rl(q,J),q.return=Q,q)}function ee(Q,q,J,de){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Ru(J,Q.mode,de),q.return=Q,q):(q=f(q,J.children||[]),q.return=Q,q)}function ue(Q,q,J,de,Le){return q===null||q.tag!==7?(q=la(J,Q.mode,de,Le),q.return=Q,q):(q=f(q,J),q.return=Q,q)}function he(Q,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=zu(""+q,Q.mode,J),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return J=bo(q.type,q.key,q.props,null,Q.mode,J),rl(J,q),J.return=Q,J;case N:return q=Ru(q,Q.mode,J),q.return=Q,q;case I:return q=fa(q),he(Q,q,J)}if(we(q)||U(q))return q=la(q,Q.mode,J,null),q.return=Q,q;if(typeof q.then=="function")return he(Q,No(q),J);if(q.$$typeof===R)return he(Q,wo(Q,q),J);Co(Q,q)}return null}function ne(Q,q,J,de){var Le=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Le!==null?null:S(Q,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===Le?D(Q,q,J,de):null;case N:return J.key===Le?ee(Q,q,J,de):null;case I:return J=fa(J),ne(Q,q,J,de)}if(we(J)||U(J))return Le!==null?null:ue(Q,q,J,de,null);if(typeof J.then=="function")return ne(Q,q,No(J),de);if(J.$$typeof===R)return ne(Q,q,wo(Q,J),de);Co(Q,J)}return null}function ie(Q,q,J,de,Le){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(J)||null,S(q,Q,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return Q=Q.get(de.key===null?J:de.key)||null,D(q,Q,de,Le);case N:return Q=Q.get(de.key===null?J:de.key)||null,ee(q,Q,de,Le);case I:return de=fa(de),ie(Q,q,J,de,Le)}if(we(de)||U(de))return Q=Q.get(J)||null,ue(q,Q,de,Le,null);if(typeof de.then=="function")return ie(Q,q,J,No(de),Le);if(de.$$typeof===R)return ie(Q,q,J,wo(q,de),Le);Co(q,de)}return null}function De(Q,q,J,de){for(var Le=null,rt=null,Re=q,Ke=q=0,et=null;Re!==null&&Ke<J.length;Ke++){Re.index>Ke?(et=Re,Re=null):et=Re.sibling;var at=ne(Q,Re,J[Ke],de);if(at===null){Re===null&&(Re=et);break}t&&Re&&at.alternate===null&&s(Q,Re),q=h(at,q,Ke),rt===null?Le=at:rt.sibling=at,rt=at,Re=et}if(Ke===J.length)return a(Q,Re),tt&&Js(Q,Ke),Le;if(Re===null){for(;Ke<J.length;Ke++)Re=he(Q,J[Ke],de),Re!==null&&(q=h(Re,q,Ke),rt===null?Le=Re:rt.sibling=Re,rt=Re);return tt&&Js(Q,Ke),Le}for(Re=o(Re);Ke<J.length;Ke++)et=ie(Re,Q,Ke,J[Ke],de),et!==null&&(t&&et.alternate!==null&&Re.delete(et.key===null?Ke:et.key),q=h(et,q,Ke),rt===null?Le=et:rt.sibling=et,rt=et);return t&&Re.forEach(function(Qr){return s(Q,Qr)}),tt&&Js(Q,Ke),Le}function Ue(Q,q,J,de){if(J==null)throw Error(i(151));for(var Le=null,rt=null,Re=q,Ke=q=0,et=null,at=J.next();Re!==null&&!at.done;Ke++,at=J.next()){Re.index>Ke?(et=Re,Re=null):et=Re.sibling;var Qr=ne(Q,Re,at.value,de);if(Qr===null){Re===null&&(Re=et);break}t&&Re&&Qr.alternate===null&&s(Q,Re),q=h(Qr,q,Ke),rt===null?Le=Qr:rt.sibling=Qr,rt=Qr,Re=et}if(at.done)return a(Q,Re),tt&&Js(Q,Ke),Le;if(Re===null){for(;!at.done;Ke++,at=J.next())at=he(Q,at.value,de),at!==null&&(q=h(at,q,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return tt&&Js(Q,Ke),Le}for(Re=o(Re);!at.done;Ke++,at=J.next())at=ie(Re,Q,Ke,at.value,de),at!==null&&(t&&at.alternate!==null&&Re.delete(at.key===null?Ke:at.key),q=h(at,q,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return t&&Re.forEach(function(I1){return s(Q,I1)}),tt&&Js(Q,Ke),Le}function xt(Q,q,J,de){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:e:{for(var Le=J.key;q!==null;){if(q.key===Le){if(Le=J.type,Le===j){if(q.tag===7){a(Q,q.sibling),de=f(q,J.props.children),de.return=Q,Q=de;break e}}else if(q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===I&&fa(Le)===q.type){a(Q,q.sibling),de=f(q,J.props),rl(de,J),de.return=Q,Q=de;break e}a(Q,q);break}else s(Q,q);q=q.sibling}J.type===j?(de=la(J.props.children,Q.mode,de,J.key),de.return=Q,Q=de):(de=bo(J.type,J.key,J.props,null,Q.mode,de),rl(de,J),de.return=Q,Q=de)}return v(Q);case N:e:{for(Le=J.key;q!==null;){if(q.key===Le)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){a(Q,q.sibling),de=f(q,J.children||[]),de.return=Q,Q=de;break e}else{a(Q,q);break}else s(Q,q);q=q.sibling}de=Ru(J,Q.mode,de),de.return=Q,Q=de}return v(Q);case I:return J=fa(J),xt(Q,q,J,de)}if(we(J))return De(Q,q,J,de);if(U(J)){if(Le=U(J),typeof Le!="function")throw Error(i(150));return J=Le.call(J),Ue(Q,q,J,de)}if(typeof J.then=="function")return xt(Q,q,No(J),de);if(J.$$typeof===R)return xt(Q,q,wo(Q,J),de);Co(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(a(Q,q.sibling),de=f(q,J),de.return=Q,Q=de):(a(Q,q),de=zu(J,Q.mode,de),de.return=Q,Q=de),v(Q)):a(Q,q)}return function(Q,q,J,de){try{sl=0;var Le=xt(Q,q,J,de);return ti=null,Le}catch(Re){if(Re===ei||Re===So)throw Re;var rt=Xn(29,Re,null,Q.mode);return rt.lanes=de,rt.return=Q,rt}finally{}}}var ma=Um(!0),Bm=Um(!1),Tr=!1;function Qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s,s=xo(t),wm(t,null,a),s}return go(t,o,s,a),xo(t)}function al(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,bn(t,a)}}function Pu(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?f=h=s:h=h.next=s}else f=h=s;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ku=!1;function il(){if(Ku){var t=Ja;if(t!==null)throw t}}function ll(t,s,a,o){Ku=!1;var f=t.updateQueue;Tr=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,ee=D.next;D.next=null,v===null?h=ee:v.next=ee,v=D;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==v&&(S===null?ue.firstBaseUpdate=ee:S.next=ee,ue.lastBaseUpdate=D))}if(h!==null){var he=f.baseState;v=0,ue=ee=D=null,S=h;do{var ne=S.lane&-536870913,ie=ne!==S.lane;if(ie?(Je&ne)===ne:(o&ne)===ne){ne!==0&&ne===Xa&&(Ku=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=t,Ue=S;ne=s;var xt=a;switch(Ue.tag){case 1:if(De=Ue.payload,typeof De=="function"){he=De.call(xt,he,ne);break e}he=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ue.payload,ne=typeof De=="function"?De.call(xt,he,ne):De,ne==null)break e;he=y({},he,ne);break e;case 2:Tr=!0}}ne=S.callback,ne!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(ee=ue=ie,D=he):ue=ue.next=ie,v|=ne;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;ie=S,S=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);ue===null&&(D=he),f.baseState=D,f.firstBaseUpdate=ee,f.lastBaseUpdate=ue,h===null&&(f.shared.lanes=0),Lr|=v,t.lanes=v,t.memoizedState=he}}function qm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function $m(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qm(a[t],s)}var ni=_(null),ko=_(0);function Fm(t,s){t=ur,le(ko,t),le(ni,s),ur=t|s.baseLanes}function Yu(){le(ko,ur),le(ni,ni.current)}function Gu(){ur=ko.current,K(ni),K(ko)}var Jn=_(null),hs=null;function Dr(t){var s=t.alternate;le(It,It.current&1),le(Jn,t),hs===null&&(s===null||ni.current!==null||s.memoizedState!==null)&&(hs=t)}function Xu(t){le(It,It.current),le(Jn,t),hs===null&&(hs=t)}function Hm(t){t.tag===22?(le(It,It.current),le(Jn,t),hs===null&&(hs=t)):zr()}function zr(){le(It,It.current),le(Jn,Jn.current)}function es(t){K(Jn),hs===t&&(hs=null),K(It)}var It=_(0);function _o(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rf(a)||af(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nr=0,Qe=null,pt=null,Gt=null,To=!1,si=!1,pa=!1,Ao=0,ol=0,ri=null,Ow=0;function $t(){throw Error(i(321))}function Ju(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Gn(t[a],s[a]))return!1;return!0}function ed(t,s,a,o,f,h){return nr=h,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?Np:pd,pa=!1,h=a(o,f),pa=!1,si&&(h=Vm(s,a,o,f)),Zm(t),h}function Zm(t){A.H=dl;var s=pt!==null&&pt.next!==null;if(nr=0,Gt=pt=Qe=null,To=!1,ol=0,ri=null,s)throw Error(i(300));t===null||Xt||(t=t.dependencies,t!==null&&yo(t)&&(Xt=!0))}function Vm(t,s,a,o){Qe=t;var f=0;do{if(si&&(ri=null),ol=0,si=!1,25<=f)throw Error(i(301));if(f+=1,Gt=pt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=Cp,h=s(a,o)}while(si);return h}function Lw(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?cl(s):s,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Qe.flags|=1024),s}function td(){var t=Ao!==0;return Ao=0,t}function nd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function sd(t){if(To){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}To=!1}nr=0,Gt=pt=Qe=null,si=!1,ol=Ao=0,ri=null}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Qe.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Qt(){if(pt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var s=Gt===null?Qe.memoizedState:Gt.next;if(s!==null)Gt=s,pt=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?Qe.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var s=ol;return ol+=1,ri===null&&(ri=[]),t=Rm(ri,t,s),s=Qe,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Np:pd),t}function Do(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===R)return wn(t)}throw Error(i(438,String(t)))}function rd(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Mo(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=Z;return s.index++,a}function sr(t,s){return typeof s=="function"?s(t):s}function zo(t){var s=Qt();return ad(s,pt,t)}function ad(t,s,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}s.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{s=f.next;var S=v=null,D=null,ee=s,ue=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(Je&he)===he:(nr&he)===he){var ne=ee.revertLane;if(ne===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===Xa&&(ue=!0);else if((nr&ne)===ne){ee=ee.next,ne===Xa&&(ue=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},D===null?(S=D=he,v=h):D=D.next=he,Qe.lanes|=ne,Lr|=ne;he=ee.action,pa&&a(h,he),h=ee.hasEagerState?ee.eagerState:a(h,he)}else ne={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},D===null?(S=D=ne,v=h):D=D.next=ne,Qe.lanes|=he,Lr|=he;ee=ee.next}while(ee!==null&&ee!==s);if(D===null?v=h:D.next=S,!Gn(h,t.memoizedState)&&(Xt=!0,ue&&(a=Ja,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=D,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function id(t){var s=Qt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Gn(h,s.memoizedState)||(Xt=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,o]}function Im(t,s,a){var o=Qe,f=Qt(),h=tt;if(h){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!Gn((pt||f).memoizedState,a);if(v&&(f.memoizedState=a,Xt=!0),f=f.queue,cd(Pm.bind(null,o,f,t),[t]),f.getSnapshot!==s||v||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,ai(9,{destroy:void 0},Wm.bind(null,o,f,a,s),null),jt===null)throw Error(i(349));h||(nr&127)!==0||Qm(o,s,a)}return a}function Qm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=Mo(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Wm(t,s,a,o){s.value=a,s.getSnapshot=o,Km(s)&&Ym(t)}function Pm(t,s,a){return a(function(){Km(s)&&Ym(t)})}function Km(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Gn(t,a)}catch{return!0}}function Ym(t){var s=ia(t,2);s!==null&&In(s,t,2)}function ld(t){var s=Un();if(typeof t=="function"){var a=t;if(t=a(),pa){Pt(!0);try{a()}finally{Pt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},s}function Gm(t,s,a,o){return t.baseState=a,ad(t,pt,typeof o=="function"?o:sr)}function Uw(t,s,a,o,f){if(Lo(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};A.T!==null?a(!0):h.isTransition=!1,o(h),a=s.pending,a===null?(h.next=s.pending=h,Xm(s,h)):(h.next=a.next,s.pending=a.next=h)}}function Xm(t,s){var a=s.action,o=s.payload,f=t.state;if(s.isTransition){var h=A.T,v={};A.T=v;try{var S=a(f,o),D=A.S;D!==null&&D(v,S),Jm(t,s,S)}catch(ee){od(t,s,ee)}finally{h!==null&&v.types!==null&&(h.types=v.types),A.T=h}}else try{h=a(f,o),Jm(t,s,h)}catch(ee){od(t,s,ee)}}function Jm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ep(t,s,o)},function(o){return od(t,s,o)}):ep(t,s,a)}function ep(t,s,a){s.status="fulfilled",s.value=a,tp(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Xm(t,a)))}function od(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,tp(s),s=s.next;while(s!==o)}t.action=null}function tp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function np(t,s){return s}function sp(t,s){if(tt){var a=jt.formState;if(a!==null){e:{var o=Qe;if(tt){if(_t){t:{for(var f=_t,h=fs;f.nodeType!==8;){if(!h){f=null;break t}if(f=ms(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){_t=ms(f.nextSibling),o=f.data==="F!";break e}}kr(o)}o=!1}o&&(s=a[0])}}return a=Un(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:s},a.queue=o,a=jp.bind(null,Qe,o),o.dispatch=a,o=ld(!1),h=md.bind(null,Qe,!1,o.queue),o=Un(),f={state:s,dispatch:null,action:t,pending:null},o.queue=f,a=Uw.bind(null,Qe,f,h,a),f.dispatch=a,o.memoizedState=t,[s,a,!1]}function rp(t){var s=Qt();return ap(s,pt,t)}function ap(t,s,a){if(s=ad(t,s,np)[0],t=zo(sr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=cl(s)}catch(v){throw v===ei?So:v}else o=s;s=Qt();var f=s.queue,h=f.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,ai(9,{destroy:void 0},Bw.bind(null,f,a),null)),[o,h,t]}function Bw(t,s){t.action=s}function ip(t){var s=Qt(),a=pt;if(a!==null)return ap(s,a,t);Qt(),s=s.memoizedState,a=Qt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function ai(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Mo(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function lp(){return Qt().memoizedState}function Ro(t,s,a,o){var f=Un();Qe.flags|=t,f.memoizedState=ai(1|s,{destroy:void 0},a,o===void 0?null:o)}function Oo(t,s,a,o){var f=Qt();o=o===void 0?null:o;var h=f.memoizedState.inst;pt!==null&&o!==null&&Ju(o,pt.memoizedState.deps)?f.memoizedState=ai(s,h,a,o):(Qe.flags|=t,f.memoizedState=ai(1|s,h,a,o))}function op(t,s){Ro(8390656,8,t,s)}function cd(t,s){Oo(2048,8,t,s)}function qw(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=Mo(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function cp(t){var s=Qt().memoizedState;return qw({ref:s,nextImpl:t}),function(){if((lt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function up(t,s){return Oo(4,2,t,s)}function dp(t,s){return Oo(4,4,t,s)}function fp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function hp(t,s,a){a=a!=null?a.concat([t]):null,Oo(4,4,fp.bind(null,s,t),a)}function ud(){}function mp(t,s){var a=Qt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Ju(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function pp(t,s){var a=Qt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Ju(s,o[1]))return o[0];if(o=t(),pa){Pt(!0);try{t()}finally{Pt(!1)}}return a.memoizedState=[o,s],o}function dd(t,s,a){return a===void 0||(nr&1073741824)!==0&&(Je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=gg(),Qe.lanes|=t,Lr|=t,a)}function gp(t,s,a,o){return Gn(a,s)?a:ni.current!==null?(t=dd(t,a,o),Gn(t,s)||(Xt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(Je&261930)===0?(Xt=!0,t.memoizedState=a):(t=gg(),Qe.lanes|=t,Lr|=t,s)}function xp(t,s,a,o,f){var h=z.p;z.p=h!==0&&8>h?h:8;var v=A.T,S={};A.T=S,md(t,!1,s,a);try{var D=f(),ee=A.S;if(ee!==null&&ee(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ue=Rw(D,o);ul(t,s,ue,ss(t))}else ul(t,s,o,ss(t))}catch(he){ul(t,s,{then:function(){},status:"rejected",reason:he},ss())}finally{z.p=h,v!==null&&S.types!==null&&(v.types=S.types),A.T=v}}function $w(){}function fd(t,s,a,o){if(t.tag!==5)throw Error(i(476));var f=bp(t).queue;xp(t,f,s,ge,a===null?$w:function(){return vp(t),a(o)})}function bp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function vp(t){var s=bp(t);s.next===null&&(s=t.alternate.memoizedState),ul(t,s.next.queue,{},ss())}function hd(){return wn(kl)}function yp(){return Qt().memoizedState}function wp(){return Qt().memoizedState}function Fw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=ss();t=Ar(a);var o=Mr(s,t,a);o!==null&&(In(o,s,a),al(o,s,a)),s={cache:Hu()},t.payload=s;return}s=s.return}}function Hw(t,s,a){var o=ss();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lo(t)?Sp(s,a):(a=Mu(t,s,a,o),a!==null&&(In(a,t,o),Ep(a,s,o)))}function jp(t,s,a){var o=ss();ul(t,s,a,o)}function ul(t,s,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lo(t))Sp(s,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,a);if(f.hasEagerState=!0,f.eagerState=S,Gn(S,v))return go(t,s,f,0),jt===null&&po(),!1}catch{}finally{}if(a=Mu(t,s,f,o),a!==null)return In(a,t,o),Ep(a,s,o),!0}return!1}function md(t,s,a,o){if(o={lane:2,revertLane:Qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lo(t)){if(s)throw Error(i(479))}else s=Mu(t,a,o,2),s!==null&&In(s,t,2)}function Lo(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function Sp(t,s){si=To=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ep(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,bn(t,a)}}var dl={readContext:wn,use:Do,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};dl.useEffectEvent=$t;var Np={readContext:wn,use:Do,useCallback:function(t,s){return Un().memoizedState=[t,s===void 0?null:s],t},useContext:wn,useEffect:op,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ro(4194308,4,fp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ro(4194308,4,t,s)},useInsertionEffect:function(t,s){Ro(4,2,t,s)},useMemo:function(t,s){var a=Un();s=s===void 0?null:s;var o=t();if(pa){Pt(!0);try{t()}finally{Pt(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Un();if(a!==void 0){var f=a(s);if(pa){Pt(!0);try{a(s)}finally{Pt(!1)}}}else f=s;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Hw.bind(null,Qe,t),[o.memoizedState,t]},useRef:function(t){var s=Un();return t={current:t},s.memoizedState=t},useState:function(t){t=ld(t);var s=t.queue,a=jp.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,s){var a=Un();return dd(a,t,s)},useTransition:function(){var t=ld(!1);return t=xp.bind(null,Qe,t.queue,!0,!1),Un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Qe,f=Un();if(tt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),jt===null)throw Error(i(349));(Je&127)!==0||Qm(o,s,a)}f.memoizedState=a;var h={value:a,getSnapshot:s};return f.queue=h,op(Pm.bind(null,o,h,t),[t]),o.flags|=2048,ai(9,{destroy:void 0},Wm.bind(null,o,h,a,s),null),a},useId:function(){var t=Un(),s=jt.identifierPrefix;if(tt){var a=Hs,o=Fs;a=(o&~(1<<32-Mt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ao++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ow++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:hd,useFormState:sp,useActionState:sp,useOptimistic:function(t){var s=Un();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=md.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:rd,useCacheRefresh:function(){return Un().memoizedState=Fw.bind(null,Qe)},useEffectEvent:function(t){var s=Un(),a={impl:t};return s.memoizedState=a,function(){if((lt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:wn,use:Do,useCallback:mp,useContext:wn,useEffect:cd,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:pp,useReducer:zo,useRef:lp,useState:function(){return zo(sr)},useDebugValue:ud,useDeferredValue:function(t,s){var a=Qt();return gp(a,pt.memoizedState,t,s)},useTransition:function(){var t=zo(sr)[0],s=Qt().memoizedState;return[typeof t=="boolean"?t:cl(t),s]},useSyncExternalStore:Im,useId:yp,useHostTransitionStatus:hd,useFormState:rp,useActionState:rp,useOptimistic:function(t,s){var a=Qt();return Gm(a,pt,t,s)},useMemoCache:rd,useCacheRefresh:wp};pd.useEffectEvent=cp;var Cp={readContext:wn,use:Do,useCallback:mp,useContext:wn,useEffect:cd,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:pp,useReducer:id,useRef:lp,useState:function(){return id(sr)},useDebugValue:ud,useDeferredValue:function(t,s){var a=Qt();return pt===null?dd(a,t,s):gp(a,pt.memoizedState,t,s)},useTransition:function(){var t=id(sr)[0],s=Qt().memoizedState;return[typeof t=="boolean"?t:cl(t),s]},useSyncExternalStore:Im,useId:yp,useHostTransitionStatus:hd,useFormState:ip,useActionState:ip,useOptimistic:function(t,s){var a=Qt();return pt!==null?Gm(a,pt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:wp};Cp.useEffectEvent=cp;function gd(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xd={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=ss(),f=Ar(o);f.payload=s,a!=null&&(f.callback=a),s=Mr(t,f,o),s!==null&&(In(s,t,o),al(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=ss(),f=Ar(o);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Mr(t,f,o),s!==null&&(In(s,t,o),al(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=ss(),o=Ar(a);o.tag=2,s!=null&&(o.callback=s),s=Mr(t,o,a),s!==null&&(In(s,t,a),al(s,t,a))}};function kp(t,s,a,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!Gi(a,o)||!Gi(f,h):!0}function _p(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&xd.enqueueReplaceState(s,s.state,null)}function ga(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Tp(t){mo(t)}function Ap(t){console.error(t)}function Mp(t){mo(t)}function Uo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Dp(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(t,s,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Uo(t,s)},a}function zp(t){return t=Ar(t),t.tag=3,t}function Rp(t,s,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Dp(s,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Dp(s,a,o),typeof f!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Zw(t,s,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&Ga(s,a,f,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return hs===null?Ko():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Eo?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Zd(t,o,f)),!1;case 22:return a.flags|=65536,o===Eo?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Zd(t,o,f)),!1}throw Error(i(435,a.tag))}return Zd(t,o,f),Ko(),!1}if(tt)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,o!==Uu&&(t=Error(i(422),{cause:o}),el(cs(t,a)))):(o!==Uu&&(s=Error(i(423),{cause:o}),el(cs(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=cs(o,a),f=bd(t.stateNode,o,f),Pu(t,f),Ft!==4&&(Ft=2)),!1;var h=Error(i(520),{cause:o});if(h=cs(h,a),vl===null?vl=[h]:vl.push(h),Ft!==4&&(Ft=2),s===null)return!0;o=cs(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=bd(a.stateNode,o,t),Pu(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=zp(f),Rp(f,t,a,o),Pu(a,f),!1}a=a.return}while(a!==null);return!1}var vd=Error(i(461)),Xt=!1;function jn(t,s,a,o){s.child=t===null?Bm(s,null,a,o):ma(s,t.child,a,o)}function Op(t,s,a,o,f){a=a.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return ua(s),o=ed(t,s,a,v,h,f),S=td(),t!==null&&!Xt?(nd(t,s,f),rr(t,s,f)):(tt&&S&&Ou(s),s.flags|=1,jn(t,s,o,f),s.child)}function Lp(t,s,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!Du(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,Up(t,s,h,o,f)):(t=bo(a.type,null,o,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!kd(t,f)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:Gi,a(v,o)&&t.ref===s.ref)return rr(t,s,f)}return s.flags|=1,t=Xs(h,o),t.ref=s.ref,t.return=s,s.child=t}function Up(t,s,a,o,f){if(t!==null){var h=t.memoizedProps;if(Gi(h,o)&&t.ref===s.ref)if(Xt=!1,s.pendingProps=o=h,kd(t,f))(t.flags&131072)!==0&&(Xt=!0);else return s.lanes=t.lanes,rr(t,s,f)}return yd(t,s,a,o,f)}function Bp(t,s,a,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=s.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,s.child=null;return qp(t,s,h,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&jo(s,h!==null?h.cachePool:null),h!==null?Fm(s,h):Yu(),Hm(s);else return o=s.lanes=536870912,qp(t,s,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(jo(s,h.cachePool),Fm(s,h),zr(),s.memoizedState=null):(t!==null&&jo(s,null),Yu(),zr());return jn(t,s,f,a),s.child}function fl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function qp(t,s,a,o,f){var h=Vu();return h=h===null?null:{parent:Yt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&jo(s,null),Yu(),Hm(s),t!==null&&Ga(t,s,o,!0),s.childLanes=f,null}function Bo(t,s){return s=$o({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function $p(t,s,a){return ma(s,t.child,null,a),t=Bo(s,s.pendingProps),t.flags|=2,es(s),s.memoizedState=null,t}function Vw(t,s,a){var o=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(tt){if(o.mode==="hidden")return t=Bo(s,o),s.lanes=536870912,fl(null,t);if(Xu(s),(t=_t)?(t=Xg(t,fs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Fs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=s,s.child=a,yn=s,_t=null)):t=null,t===null)throw kr(s);return s.lanes=536870912,null}return Bo(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Xu(s),f)if(s.flags&256)s.flags&=-257,s=$p(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Xt||Ga(t,s,a,!1),f=(a&t.childLanes)!==0,Xt||f){if(o=jt,o!==null&&(v=kn(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,ia(t,v),In(o,t,v),vd;Ko(),s=$p(t,s,a)}else t=h.treeContext,_t=ms(v.nextSibling),yn=s,tt=!0,Cr=null,fs=!1,t!==null&&Cm(s,t),s=Bo(s,o),s.flags|=4096;return s}return t=Xs(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function qo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function yd(t,s,a,o,f){return ua(s),a=ed(t,s,a,o,void 0,f),o=td(),t!==null&&!Xt?(nd(t,s,f),rr(t,s,f)):(tt&&o&&Ou(s),s.flags|=1,jn(t,s,a,f),s.child)}function Fp(t,s,a,o,f,h){return ua(s),s.updateQueue=null,a=Vm(s,o,a,f),Zm(t),o=td(),t!==null&&!Xt?(nd(t,s,h),rr(t,s,h)):(tt&&o&&Ou(s),s.flags|=1,jn(t,s,a,h),s.child)}function Hp(t,s,a,o,f){if(ua(s),s.stateNode===null){var h=Wa,v=a.contextType;typeof v=="object"&&v!==null&&(h=wn(v)),h=new a(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=xd,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},Qu(s),v=a.contextType,h.context=typeof v=="object"&&v!==null?wn(v):Wa,h.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(gd(s,a,v,o),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&xd.enqueueReplaceState(h,h.state,null),ll(s,o,h,f),il(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,D=ga(a,S);h.props=D;var ee=h.context,ue=a.contextType;v=Wa,typeof ue=="object"&&ue!==null&&(v=wn(ue));var he=a.getDerivedStateFromProps;ue=typeof he=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ue||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||ee!==v)&&_p(s,h,o,v),Tr=!1;var ne=s.memoizedState;h.state=ne,ll(s,o,h,f),il(),ee=s.memoizedState,S||ne!==ee||Tr?(typeof he=="function"&&(gd(s,a,he,o),ee=s.memoizedState),(D=Tr||kp(s,a,D,o,ne,ee,v))?(ue||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=ee),h.props=o,h.state=ee,h.context=v,o=D):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,Wu(t,s),v=s.memoizedProps,ue=ga(a,v),h.props=ue,he=s.pendingProps,ne=h.context,ee=a.contextType,D=Wa,typeof ee=="object"&&ee!==null&&(D=wn(ee)),S=a.getDerivedStateFromProps,(ee=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==he||ne!==D)&&_p(s,h,o,D),Tr=!1,ne=s.memoizedState,h.state=ne,ll(s,o,h,f),il();var ie=s.memoizedState;v!==he||ne!==ie||Tr||t!==null&&t.dependencies!==null&&yo(t.dependencies)?(typeof S=="function"&&(gd(s,a,S,o),ie=s.memoizedState),(ue=Tr||kp(s,a,ue,o,ne,ie,D)||t!==null&&t.dependencies!==null&&yo(t.dependencies))?(ee||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,ie,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,ie,D)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=ie),h.props=o,h.state=ie,h.context=D,o=ue):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,qo(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=ma(s,t.child,null,f),s.child=ma(s,null,a,f)):jn(t,s,a,f),s.memoizedState=h.state,t=s.child):t=rr(t,s,f),t}function Zp(t,s,a,o){return oa(),s.flags|=256,jn(t,s,a,o),s.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(t){return{baseLanes:t,cachePool:Dm()}}function Sd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ns),t}function Vp(t,s,a){var o=s.pendingProps,f=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(tt){if(f?Dr(s):zr(),(t=_t)?(t=Xg(t,fs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Fs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=s,s.child=a,yn=s,_t=null)):t=null,t===null)throw kr(s);return af(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,f?(zr(),f=s.mode,S=$o({mode:"hidden",children:S},f),o=la(o,f,a,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=jd(a),o.childLanes=Sd(t,v,a),s.memoizedState=wd,fl(null,o)):(Dr(s),Ed(s,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(h)s.flags&256?(Dr(s),s.flags&=-257,s=Nd(t,s,a)):s.memoizedState!==null?(zr(),s.child=t.child,s.flags|=128,s=null):(zr(),S=o.fallback,f=s.mode,o=$o({mode:"visible",children:o.children},f),S=la(S,f,a,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,ma(s,t.child,null,a),o=s.child,o.memoizedState=jd(a),o.childLanes=Sd(t,v,a),s.memoizedState=wd,s=fl(null,o));else if(Dr(s),af(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var ee=v.dgst;v=ee,o=Error(i(419)),o.stack="",o.digest=v,el({value:o,source:null,stack:null}),s=Nd(t,s,a)}else if(Xt||Ga(t,s,a,!1),v=(a&t.childLanes)!==0,Xt||v){if(v=jt,v!==null&&(o=kn(v,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,ia(t,o),In(v,t,o),vd;rf(S)||Ko(),s=Nd(t,s,a)}else rf(S)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,_t=ms(S.nextSibling),yn=s,tt=!0,Cr=null,fs=!1,t!==null&&Cm(s,t),s=Ed(s,o.children),s.flags|=4096);return s}return f?(zr(),S=o.fallback,f=s.mode,D=t.child,ee=D.sibling,o=Xs(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,ee!==null?S=Xs(ee,S):(S=la(S,f,a,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,fl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=jd(a):(f=S.cachePool,f!==null?(D=Yt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Dm(),S={baseLanes:S.baseLanes|a,cachePool:f}),o.memoizedState=S,o.childLanes=Sd(t,v,a),s.memoizedState=wd,fl(t.child,o)):(Dr(s),a=t.child,t=a.sibling,a=Xs(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Ed(t,s){return s=$o({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function $o(t,s){return t=Xn(22,t,null,s),t.lanes=0,t}function Nd(t,s,a){return ma(s,t.child,null,a),t=Ed(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ip(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),$u(t.return,s,a)}function Cd(t,s,a,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=h)}function Qp(t,s,a){var o=s.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=It.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,le(It,v),jn(t,s,o,a),o=tt?Ji:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ip(t,a,s);else if(t.tag===19)Ip(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&_o(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Cd(s,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&_o(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Cd(s,!0,a,null,h,o);break;case"together":Cd(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function rr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Lr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ga(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Xs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Xs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function kd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yo(t)))}function Iw(t,s,a){switch(s.tag){case 3:$(s,s.stateNode.containerInfo),_r(s,Yt,t.memoizedState.cache),oa();break;case 27:case 5:me(s);break;case 4:$(s,s.stateNode.containerInfo);break;case 10:_r(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xu(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Vp(t,s,a):(Dr(s),t=rr(t,s,a),t!==null?t.sibling:null);Dr(s);break;case 19:var f=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(Ga(t,s,a,!1),o=(a&s.childLanes)!==0),f){if(o)return Qp(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(It,It.current),o)break;return null;case 22:return s.lanes=0,Bp(t,s,a,s.pendingProps);case 24:_r(s,Yt,t.memoizedState.cache)}return rr(t,s,a)}function Wp(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Xt=!0;else{if(!kd(t,a)&&(s.flags&128)===0)return Xt=!1,Iw(t,s,a);Xt=(t.flags&131072)!==0}else Xt=!1,tt&&(s.flags&1048576)!==0&&Nm(s,Ji,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=fa(s.elementType),s.type=t,typeof t=="function")Du(t)?(o=ga(t,o),s.tag=1,s=Hp(null,s,t,o,a)):(s.tag=0,s=yd(null,s,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===O){s.tag=11,s=Op(null,s,t,o,a);break e}else if(f===B){s.tag=14,s=Lp(null,s,t,o,a);break e}}throw s=ce(t)||t,Error(i(306,s,""))}}return s;case 0:return yd(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,f=ga(o,s.pendingProps),Hp(t,s,o,f,a);case 3:e:{if($(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;f=h.element,Wu(t,s),ll(s,o,null,a);var v=s.memoizedState;if(o=v.cache,_r(s,Yt,o),o!==h.cache&&Fu(s,[Yt],a,!0),il(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Zp(t,s,o,a);break e}else if(o!==f){f=cs(Error(i(424)),s),el(f),s=Zp(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=ms(t.firstChild),yn=s,tt=!0,Cr=null,fs=!0,a=Bm(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(oa(),o===f){s=rr(t,s,a);break e}jn(t,s,o,a)}s=s.child}return s;case 26:return qo(t,s),t===null?(a=rx(s.type,null,s.pendingProps,null))?s.memoizedState=a:tt||(a=s.type,t=s.pendingProps,o=nc(V.current).createElement(a),o[Et]=s,o[Vt]=t,Sn(o,a,t),wt(o),s.stateNode=o):s.memoizedState=rx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return me(s),t===null&&tt&&(o=s.stateNode=tx(s.type,s.pendingProps,V.current),yn=s,fs=!0,f=_t,Fr(s.type)?(lf=f,_t=ms(o.firstChild)):_t=f),jn(t,s,s.pendingProps.children,a),qo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&tt&&((f=o=_t)&&(o=w1(o,s.type,s.pendingProps,fs),o!==null?(s.stateNode=o,yn=s,_t=ms(o.firstChild),fs=!1,f=!0):f=!1),f||kr(s)),me(s),f=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,tf(f,h)?o=null:v!==null&&tf(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=ed(t,s,Lw,null,null,a),kl._currentValue=f),qo(t,s),jn(t,s,o,a),s.child;case 6:return t===null&&tt&&((t=a=_t)&&(a=j1(a,s.pendingProps,fs),a!==null?(s.stateNode=a,yn=s,_t=null,t=!0):t=!1),t||kr(s)),null;case 13:return Vp(t,s,a);case 4:return $(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=ma(s,null,o,a):jn(t,s,o,a),s.child;case 11:return Op(t,s,s.type,s.pendingProps,a);case 7:return jn(t,s,s.pendingProps,a),s.child;case 8:return jn(t,s,s.pendingProps.children,a),s.child;case 12:return jn(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,_r(s,s.type,o.value),jn(t,s,o.children,a),s.child;case 9:return f=s.type._context,o=s.pendingProps.children,ua(s),f=wn(f),o=o(f),s.flags|=1,jn(t,s,o,a),s.child;case 14:return Lp(t,s,s.type,s.pendingProps,a);case 15:return Up(t,s,s.type,s.pendingProps,a);case 19:return Qp(t,s,a);case 31:return Vw(t,s,a);case 22:return Bp(t,s,a,s.pendingProps);case 24:return ua(s),o=wn(Yt),t===null?(f=Vu(),f===null&&(f=jt,h=Hu(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),s.memoizedState={parent:o,cache:f},Qu(s),_r(s,Yt,f)):((t.lanes&a)!==0&&(Wu(t,s),ll(s,null,null,a),il()),f=t.memoizedState,h=s.memoizedState,f.parent!==o?(f={parent:o,cache:o},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),_r(s,Yt,o)):(o=h.cache,_r(s,Yt,o),o!==f.cache&&Fu(s,[Yt],a,!0))),jn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ar(t){t.flags|=4}function _d(t,s,a,o,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(yg())t.flags|=8192;else throw ha=Eo,Iu}else t.flags&=-16777217}function Pp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cx(s))if(yg())t.flags|=8192;else throw ha=Eo,Iu}function Fo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?dn():536870912,t.lanes|=s,ci|=s)}function hl(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Tt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function Qw(t,s,a){var o=s.pendingProps;switch(Lu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Tt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),tr(Yt),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ya(s)?ar(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bu())),Tt(s),null;case 26:var f=s.type,h=s.memoizedState;return t===null?(ar(s),h!==null?(Tt(s),Pp(s,h)):(Tt(s),_d(s,f,null,o,a))):h?h!==t.memoizedState?(ar(s),Tt(s),Pp(s,h)):(Tt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ar(s),Tt(s),_d(s,f,t,o,a)),null;case 27:if(pe(s),a=V.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ar(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}t=F.current,Ya(s)?km(s):(t=tx(f,o,a),s.stateNode=t,ar(s))}return Tt(s),null;case 5:if(pe(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ar(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Tt(s),null}if(h=F.current,Ya(s))km(s);else{var v=nc(V.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[Et]=s,h[Vt]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(Sn(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ar(s)}}return Tt(s),_d(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ar(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=V.current,Ya(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,f=yn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Et]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Vg(t.nodeValue,a)),t||kr(s,!0)}else t=nc(t).createTextNode(o),t[Et]=s,s.stateNode=t}return Tt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ya(s),a!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Et]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tt(s),t=!1}else a=Bu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(es(s),s):(es(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Tt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ya(s),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Et]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tt(s),f=!1}else f=Bu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(es(s),s):(es(s),null)}return es(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Fo(s,s.updateQueue),Tt(s),null);case 4:return ae(),t===null&&Yd(s.stateNode.containerInfo),Tt(s),null;case 10:return tr(s.type),Tt(s),null;case 19:if(K(It),o=s.memoizedState,o===null)return Tt(s),null;if(f=(s.flags&128)!==0,h=o.rendering,h===null)if(f)hl(o,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=_o(t),h!==null){for(s.flags|=128,hl(o,!1),t=h.updateQueue,s.updateQueue=t,Fo(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)jm(a,t),a=a.sibling;return le(It,It.current&1|2),tt&&Js(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&ve()>Qo&&(s.flags|=128,f=!0,hl(o,!1),s.lanes=4194304)}else{if(!f)if(t=_o(h),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Fo(s,t),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!tt)return Tt(s),null}else 2*ve()-o.renderingStartTime>Qo&&a!==536870912&&(s.flags|=128,f=!0,hl(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ve(),t.sibling=null,a=It.current,le(It,f?a&1|2:a&1),tt&&Js(s,o.treeForkCount),t):(Tt(s),null);case 22:case 23:return es(s),Gu(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),a=s.updateQueue,a!==null&&Fo(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&K(da),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),tr(Yt),Tt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Ww(t,s){switch(Lu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return tr(Yt),ae(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return pe(s),null;case 31:if(s.memoizedState!==null){if(es(s),s.alternate===null)throw Error(i(340));oa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(es(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));oa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return K(It),null;case 4:return ae(),null;case 10:return tr(s.type),null;case 22:case 23:return es(s),Gu(),t!==null&&K(da),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return tr(Yt),null;case 25:return null;default:return null}}function Kp(t,s){switch(Lu(s),s.tag){case 3:tr(Yt),ae();break;case 26:case 27:case 5:pe(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&es(s);break;case 13:es(s);break;case 19:K(It);break;case 10:tr(s.type);break;case 22:case 23:es(s),Gu(),t!==null&&K(da);break;case 24:tr(Yt)}}function ml(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==f)}}catch(S){ht(s,s.return,S)}}function Rr(t,s,a){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var D=a,ee=S;try{ee()}catch(ue){ht(f,D,ue)}}}o=o.next}while(o!==h)}}catch(ue){ht(s,s.return,ue)}}function Yp(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{$m(s,a)}catch(o){ht(t,t.return,o)}}}function Gp(t,s,a){a.props=ga(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ht(t,s,o)}}function pl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){ht(t,s,f)}}function Zs(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ht(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ht(t,s,f)}else a.current=null}function Xp(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ht(t,t.return,f)}}function Td(t,s,a){try{var o=t.stateNode;p1(o,t.type,a,s),o[Vt]=s}catch(f){ht(t,t.return,f)}}function Jp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ss));else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Md(t,s,a),t=t.sibling;t!==null;)Md(t,s,a),t=t.sibling}function Ho(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ho(t,s,a),t=t.sibling;t!==null;)Ho(t,s,a),t=t.sibling}function eg(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Sn(s,o,a),s[Et]=t,s[Vt]=a}catch(h){ht(t,t.return,h)}}var ir=!1,Jt=!1,Dd=!1,tg=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Pw(t,s){if(t=t.containerInfo,Jd=cc,t=hm(t),Nu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,S=-1,D=-1,ee=0,ue=0,he=t,ne=null;t:for(;;){for(var ie;he!==a||f!==0&&he.nodeType!==3||(S=v+f),he!==h||o!==0&&he.nodeType!==3||(D=v+o),he.nodeType===3&&(v+=he.nodeValue.length),(ie=he.firstChild)!==null;)ne=he,he=ie;for(;;){if(he===t)break t;if(ne===a&&++ee===f&&(S=v),ne===h&&++ue===o&&(D=v),(ie=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ie}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ef={focusedElem:t,selectionRange:a},cc=!1,hn=s;hn!==null;)if(s=hn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,hn=t;else for(;hn!==null;){switch(s=hn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var De=ga(a.type,f);t=o.getSnapshotBeforeUpdate(De,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ue){ht(a,a.return,Ue)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)sf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,hn=t;break}hn=s.return}}function ng(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),o&4&&ml(5,a);break;case 1:if(or(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){ht(a,a.return,v)}else{var f=ga(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(a,a.return,v)}}o&64&&Yp(a),o&512&&pl(a,a.return);break;case 3:if(or(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{$m(t,s)}catch(v){ht(a,a.return,v)}}break;case 27:s===null&&o&4&&eg(a);case 26:case 5:or(t,a),s===null&&o&4&&Xp(a),o&512&&pl(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),o&4&&ag(t,a);break;case 13:or(t,a),o&4&&ig(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=s1.bind(null,a),S1(t,a))));break;case 22:if(o=a.memoizedState!==null||ir,!o){s=s!==null&&s.memoizedState!==null||Jt,f=ir;var h=Jt;ir=o,(Jt=s)&&!h?cr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),ir=f,Jt=h}break;case 30:break;default:or(t,a)}}function sg(t){var s=t.alternate;s!==null&&(t.alternate=null,sg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Li(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Fn=!1;function lr(t,s,a){for(a=a.child;a!==null;)rg(t,s,a),a=a.sibling}function rg(t,s,a){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(At,a)}catch{}switch(a.tag){case 26:Jt||Zs(a,s),lr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||Zs(a,s);var o=Rt,f=Fn;Fr(a.type)&&(Rt=a.stateNode,Fn=!1),lr(t,s,a),El(a.stateNode),Rt=o,Fn=f;break;case 5:Jt||Zs(a,s);case 6:if(o=Rt,f=Fn,Rt=null,lr(t,s,a),Rt=o,Fn=f,Rt!==null)if(Fn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(a.stateNode)}catch(h){ht(a,s,h)}else try{Rt.removeChild(a.stateNode)}catch(h){ht(a,s,h)}break;case 18:Rt!==null&&(Fn?(t=Rt,Yg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xi(t)):Yg(Rt,a.stateNode));break;case 4:o=Rt,f=Fn,Rt=a.stateNode.containerInfo,Fn=!0,lr(t,s,a),Rt=o,Fn=f;break;case 0:case 11:case 14:case 15:Rr(2,a,s),Jt||Rr(4,a,s),lr(t,s,a);break;case 1:Jt||(Zs(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Gp(a,s,o)),lr(t,s,a);break;case 21:lr(t,s,a);break;case 22:Jt=(o=Jt)||a.memoizedState!==null,lr(t,s,a),Jt=o;break;default:lr(t,s,a)}}function ag(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xi(t)}catch(a){ht(s,s.return,a)}}}function ig(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xi(t)}catch(a){ht(s,s.return,a)}}function Kw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new tg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new tg),s;default:throw Error(i(435,t.tag))}}function Zo(t,s){var a=Kw(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var f=r1.bind(null,t,o);o.then(f,f)}})}function Hn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Fr(S.type)){Rt=S.stateNode,Fn=!1;break e}break;case 5:Rt=S.stateNode,Fn=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,Fn=!0;break e}S=S.return}if(Rt===null)throw Error(i(160));rg(h,v,f),Rt=null,Fn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)lg(s,t),s=s.sibling}var Cs=null;function lg(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(s,t),Zn(t),o&4&&(Rr(3,t,t.return),ml(3,t),Rr(5,t,t.return));break;case 1:Hn(s,t),Zn(t),o&512&&(Jt||a===null||Zs(a,a.return)),o&64&&ir&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Cs;if(Hn(s,t),Zn(t),o&512&&(Jt||a===null||Zs(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[vr]||h[Et]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),Sn(h,o,a),h[Et]=t,wt(h),o=h;break e;case"link":var v=lx("link","href",f).get(o+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}h=f.createElement(o),Sn(h,o,a),f.head.appendChild(h);break;case"meta":if(v=lx("meta","content",f).get(o+(a.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}h=f.createElement(o),Sn(h,o,a),f.head.appendChild(h);break;default:throw Error(i(468,o))}h[Et]=t,wt(h),o=h}t.stateNode=o}else ox(f,t.type,t.stateNode);else t.stateNode=ix(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?ox(f,t.type,t.stateNode):ix(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:Hn(s,t),Zn(t),o&512&&(Jt||a===null||Zs(a,a.return)),a!==null&&o&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Hn(s,t),Zn(t),o&512&&(Jt||a===null||Zs(a,a.return)),t.flags&32){f=t.stateNode;try{Sr(f,"")}catch(De){ht(t,t.return,De)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Td(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Dd=!0);break;case 6:if(Hn(s,t),Zn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(De){ht(t,t.return,De)}}break;case 3:if(ac=null,f=Cs,Cs=sc(s.containerInfo),Hn(s,t),Cs=f,Zn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{xi(s.containerInfo)}catch(De){ht(t,t.return,De)}Dd&&(Dd=!1,og(t));break;case 4:o=Cs,Cs=sc(t.stateNode.containerInfo),Hn(s,t),Zn(t),Cs=o;break;case 12:Hn(s,t),Zn(t);break;case 31:Hn(s,t),Zn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zo(t,o)));break;case 13:Hn(s,t),Zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Io=ve()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zo(t,o)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,ee=ir,ue=Jt;if(ir=ee||f,Jt=ue||D,Hn(s,t),Jt=ue,ir=ee,Zn(t),o&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ir||Jt||xa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(h=D.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=D.stateNode;var he=D.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;S.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(De){ht(D,D.return,De)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(De){ht(D,D.return,De)}}}else if(s.tag===18){if(a===null){D=s;try{var ie=D.stateNode;f?Gg(ie,!0):Gg(D.stateNode,!1)}catch(De){ht(D,D.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Zo(t,a))));break;case 19:Hn(s,t),Zn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zo(t,o)));break;case 30:break;case 21:break;default:Hn(s,t),Zn(t)}}function Zn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(Jp(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,h=Ad(t);Ho(t,h,f);break;case 5:var v=a.stateNode;a.flags&32&&(Sr(v,""),a.flags&=-33);var S=Ad(t);Ho(t,S,v);break;case 3:case 4:var D=a.stateNode.containerInfo,ee=Ad(t);Md(t,ee,D);break;default:throw Error(i(161))}}catch(ue){ht(t,t.return,ue)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;og(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function or(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ng(t,s.alternate,s),s=s.sibling}function xa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Rr(4,s,s.return),xa(s);break;case 1:Zs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Gp(s,s.return,a),xa(s);break;case 27:El(s.stateNode);case 26:case 5:Zs(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}t=t.sibling}}function cr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,f=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:cr(f,h,a),ml(4,h);break;case 1:if(cr(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){ht(o,o.return,ee)}if(o=h,f=o.updateQueue,f!==null){var S=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)qm(D[f],S)}catch(ee){ht(o,o.return,ee)}}a&&v&64&&Yp(h),pl(h,h.return);break;case 27:eg(h);case 26:case 5:cr(f,h,a),a&&o===null&&v&4&&Xp(h),pl(h,h.return);break;case 12:cr(f,h,a);break;case 31:cr(f,h,a),a&&v&4&&ag(f,h);break;case 13:cr(f,h,a),a&&v&4&&ig(f,h);break;case 22:h.memoizedState===null&&cr(f,h,a),pl(h,h.return);break;case 30:break;default:cr(f,h,a)}s=s.sibling}}function zd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Rd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tl(t))}function ks(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cg(t,s,a,o),s=s.sibling}function cg(t,s,a,o){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ks(t,s,a,o),f&2048&&ml(9,s);break;case 1:ks(t,s,a,o);break;case 3:ks(t,s,a,o),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tl(t)));break;case 12:if(f&2048){ks(t,s,a,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ht(s,s.return,D)}}else ks(t,s,a,o);break;case 31:ks(t,s,a,o);break;case 13:ks(t,s,a,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?ks(t,s,a,o):gl(t,s):h._visibility&2?ks(t,s,a,o):(h._visibility|=2,ii(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),f&2048&&zd(v,s);break;case 24:ks(t,s,a,o),f&2048&&Rd(s.alternate,s);break;default:ks(t,s,a,o)}}function ii(t,s,a,o,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=a,D=o,ee=v.flags;switch(v.tag){case 0:case 11:case 15:ii(h,v,S,D,f),ml(8,v);break;case 23:break;case 22:var ue=v.stateNode;v.memoizedState!==null?ue._visibility&2?ii(h,v,S,D,f):gl(h,v):(ue._visibility|=2,ii(h,v,S,D,f)),f&&ee&2048&&zd(v.alternate,v);break;case 24:ii(h,v,S,D,f),f&&ee&2048&&Rd(v.alternate,v);break;default:ii(h,v,S,D,f)}s=s.sibling}}function gl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,f=o.flags;switch(o.tag){case 22:gl(a,o),f&2048&&zd(o.alternate,o);break;case 24:gl(a,o),f&2048&&Rd(o.alternate,o);break;default:gl(a,o)}s=s.sibling}}var xl=8192;function li(t,s,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)ug(t,s,a),t=t.sibling}function ug(t,s,a){switch(t.tag){case 26:li(t,s,a),t.flags&xl&&t.memoizedState!==null&&O1(a,Cs,t.memoizedState,t.memoizedProps);break;case 5:li(t,s,a);break;case 3:case 4:var o=Cs;Cs=sc(t.stateNode.containerInfo),li(t,s,a),Cs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xl,xl=16777216,li(t,s,a),xl=o):li(t,s,a));break;default:li(t,s,a)}}function dg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function bl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];hn=o,hg(o,t)}dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fg(t),t=t.sibling}function fg(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Rr(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Vo(t)):bl(t);break;default:bl(t)}}function Vo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];hn=o,hg(o,t)}dg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Rr(8,s,s.return),Vo(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Vo(s));break;default:Vo(s)}t=t.sibling}}function hg(t,s){for(;hn!==null;){var a=hn;switch(a.tag){case 0:case 11:case 15:Rr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,hn=o;else e:for(a=t;hn!==null;){o=hn;var f=o.sibling,h=o.return;if(sg(o),o===a){hn=null;break e}if(f!==null){f.return=h,hn=f;break e}hn=h}}}var Yw={getCacheForType:function(t){var s=wn(Yt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return wn(Yt).controller.signal}},Gw=typeof WeakMap=="function"?WeakMap:Map,lt=0,jt=null,Ge=null,Je=0,ft=0,ts=null,Or=!1,oi=!1,Od=!1,ur=0,Ft=0,Lr=0,ba=0,Ld=0,ns=0,ci=0,vl=null,Vn=null,Ud=!1,Io=0,mg=0,Qo=1/0,Wo=null,Ur=null,an=0,Br=null,ui=null,dr=0,Bd=0,qd=null,pg=null,yl=0,$d=null;function ss(){return(lt&2)!==0&&Je!==0?Je&-Je:A.T!==null?Qd():_n()}function gg(){if(ns===0)if((Je&536870912)===0||tt){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),ns=t}else ns=536870912;return t=Jn.current,t!==null&&(t.flags|=32),ns}function In(t,s,a){(t===jt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(di(t,0),qr(t,Je,ns,!1)),Rn(t,a),((lt&2)===0||t!==jt)&&(t===jt&&((lt&2)===0&&(ba|=a),Ft===4&&qr(t,Je,ns,!1)),Vs(t))}function xg(t,s,a){if((lt&6)!==0)throw Error(i(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Cn(t,s),f=o?e1(t,s):Hd(t,s,!0),h=o;do{if(f===0){oi&&!o&&qr(t,s,0,!1);break}else{if(a=t.current.alternate,h&&!Xw(a)){f=Hd(t,s,!1),h=!1;continue}if(f===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;f=vl;var D=S.current.memoizedState.isDehydrated;if(D&&(di(S,v).flags|=256),v=Hd(S,v,!1),v!==2){if(Od&&!D){S.errorRecoveryDisabledLanes|=h,ba|=h,f=4;break e}h=Vn,Vn=f,h!==null&&(Vn===null?Vn=h:Vn.push.apply(Vn,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){di(t,0),qr(t,s,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:qr(o,s,ns,!Or);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Io+300-ve(),10<f)){if(qr(o,s,ns,!Or),kt(o,0,!0)!==0)break e;dr=s,o.timeoutHandle=Pg(bg.bind(null,o,a,Vn,Wo,Ud,s,ns,ba,ci,Or,h,"Throttled",-0,0),f);break e}bg(o,a,Vn,Wo,Ud,s,ns,ba,ci,Or,h,null,-0,0)}}break}while(!0);Vs(t)}function bg(t,s,a,o,f,h,v,S,D,ee,ue,he,ne,ie){if(t.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},ug(s,h,he);var De=(h&62914560)===h?Io-ve():(h&4194048)===h?mg-ve():0;if(De=L1(he,De),De!==null){dr=h,t.cancelPendingCommit=De(Cg.bind(null,t,s,h,a,o,f,v,S,D,ue,he,null,ne,ie)),qr(t,h,v,!ee);return}}Cg(t,s,h,a,o,f,v,S,D)}function Xw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!Gn(h(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qr(t,s,a,o){s&=~Ld,s&=~ba,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var f=s;0<f;){var h=31-Mt(f),v=1<<h;o[h]=-1,f&=~v}a!==0&&xn(t,a,s)}function Po(){return(lt&6)===0?(wl(0),!1):!0}function Fd(){if(Ge!==null){if(ft===0)var t=Ge.return;else t=Ge,er=ca=null,sd(t),ti=null,sl=0,t=Ge;for(;t!==null;)Kp(t.alternate,t),t=t.return;Ge=null}}function di(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,b1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dr=0,Fd(),jt=t,Ge=a=Xs(t.current,null),Je=s,ft=0,ts=null,Or=!1,oi=Cn(t,s),Od=!1,ci=ns=Ld=ba=Lr=Ft=0,Vn=vl=null,Ud=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var f=31-Mt(o),h=1<<f;s|=t[f],o&=~h}return ur=s,po(),a}function vg(t,s){Qe=null,A.H=dl,s===ei||s===So?(s=Om(),ft=3):s===Iu?(s=Om(),ft=4):ft=s===vd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ts=s,Ge===null&&(Ft=1,Uo(t,cs(s,t.current)))}function yg(){var t=Jn.current;return t===null?!0:(Je&4194048)===Je?hs===null:(Je&62914560)===Je||(Je&536870912)!==0?t===hs:!1}function wg(){var t=A.H;return A.H=dl,t===null?dl:t}function jg(){var t=A.A;return A.A=Yw,t}function Ko(){Ft=4,Or||(Je&4194048)!==Je&&Jn.current!==null||(oi=!0),(Lr&134217727)===0&&(ba&134217727)===0||jt===null||qr(jt,Je,ns,!1)}function Hd(t,s,a){var o=lt;lt|=2;var f=wg(),h=jg();(jt!==t||Je!==s)&&(Wo=null,di(t,s)),s=!1;var v=Ft;e:do try{if(ft!==0&&Ge!==null){var S=Ge,D=ts;switch(ft){case 8:Fd(),v=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var ee=ft;if(ft=0,ts=null,fi(t,S,D,ee),a&&oi){v=0;break e}break;default:ee=ft,ft=0,ts=null,fi(t,S,D,ee)}}Jw(),v=Ft;break}catch(ue){vg(t,ue)}while(!0);return s&&t.shellSuspendCounter++,er=ca=null,lt=o,A.H=f,A.A=h,Ge===null&&(jt=null,Je=0,po()),v}function Jw(){for(;Ge!==null;)Sg(Ge)}function e1(t,s){var a=lt;lt|=2;var o=wg(),f=jg();jt!==t||Je!==s?(Wo=null,Qo=ve()+500,di(t,s)):oi=Cn(t,s);e:do try{if(ft!==0&&Ge!==null){s=Ge;var h=ts;t:switch(ft){case 1:ft=0,ts=null,fi(t,s,h,1);break;case 2:case 9:if(zm(h)){ft=0,ts=null,Eg(s);break}s=function(){ft!==2&&ft!==9||jt!==t||(ft=7),Vs(t)},h.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:zm(h)?(ft=0,ts=null,Eg(s)):(ft=0,ts=null,fi(t,s,h,7));break;case 5:var v=null;switch(Ge.tag){case 26:v=Ge.memoizedState;case 5:case 27:var S=Ge;if(v?cx(v):S.stateNode.complete){ft=0,ts=null;var D=S.sibling;if(D!==null)Ge=D;else{var ee=S.return;ee!==null?(Ge=ee,Yo(ee)):Ge=null}break t}}ft=0,ts=null,fi(t,s,h,5);break;case 6:ft=0,ts=null,fi(t,s,h,6);break;case 8:Fd(),Ft=6;break e;default:throw Error(i(462))}}t1();break}catch(ue){vg(t,ue)}while(!0);return er=ca=null,A.H=o,A.A=f,lt=a,Ge!==null?0:(jt=null,Je=0,po(),Ft)}function t1(){for(;Ge!==null&&!re();)Sg(Ge)}function Sg(t){var s=Wp(t.alternate,t,ur);t.memoizedProps=t.pendingProps,s===null?Yo(t):Ge=s}function Eg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Fp(a,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=Fp(a,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:sd(s);default:Kp(a,s),s=Ge=jm(s,ur),s=Wp(a,s,ur)}t.memoizedProps=t.pendingProps,s===null?Yo(t):Ge=s}function fi(t,s,a,o){er=ca=null,sd(s),ti=null,sl=0;var f=s.return;try{if(Zw(t,f,s,a,Je)){Ft=1,Uo(t,cs(a,t.current)),Ge=null;return}}catch(h){if(f!==null)throw Ge=f,h;Ft=1,Uo(t,cs(a,t.current)),Ge=null;return}s.flags&32768?(tt||o===1?t=!0:oi||(Je&536870912)!==0?t=!1:(Or=t=!0,(o===2||o===9||o===3||o===6)&&(o=Jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ng(s,t)):Yo(s)}function Yo(t){var s=t;do{if((s.flags&32768)!==0){Ng(s,Or);return}t=s.return;var a=Qw(s.alternate,s,ur);if(a!==null){Ge=a;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=t}while(s!==null);Ft===0&&(Ft=5)}function Ng(t,s){do{var a=Ww(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);Ft=6,Ge=null}function Cg(t,s,a,o,f,h,v,S,D){t.cancelPendingCommit=null;do Go();while(an!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=Au,qt(t,a,h,v,S,D),t===jt&&(Ge=jt=null,Je=0),ui=s,Br=t,dr=a,Bd=h,qd=f,pg=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,a1(Ie,function(){return Mg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=A.T,A.T=null,f=z.p,z.p=2,v=lt,lt|=4;try{Pw(t,s,a)}finally{lt=v,z.p=f,A.T=o}}an=1,kg(),_g(),Tg()}}function kg(){if(an===1){an=0;var t=Br,s=ui,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var o=z.p;z.p=2;var f=lt;lt|=4;try{lg(s,t);var h=ef,v=hm(t.containerInfo),S=h.focusedElem,D=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&fm(S.ownerDocument.documentElement,S)){if(D!==null&&Nu(S)){var ee=D.start,ue=D.end;if(ue===void 0&&(ue=ee),"selectionStart"in S)S.selectionStart=ee,S.selectionEnd=Math.min(ue,S.value.length);else{var he=S.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),De=S.textContent.length,Ue=Math.min(D.start,De),xt=D.end===void 0?Ue:Math.min(D.end,De);!ie.extend&&Ue>xt&&(v=xt,xt=Ue,Ue=v);var Q=dm(S,Ue),q=dm(S,xt);if(Q&&q&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var J=he.createRange();J.setStart(Q.node,Q.offset),ie.removeAllRanges(),Ue>xt?(ie.addRange(J),ie.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ie.addRange(J))}}}}for(he=[],ie=S;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<he.length;S++){var de=he[S];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}cc=!!Jd,ef=Jd=null}finally{lt=f,z.p=o,A.T=a}}t.current=s,an=2}}function _g(){if(an===2){an=0;var t=Br,s=ui,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var o=z.p;z.p=2;var f=lt;lt|=4;try{ng(t,s.alternate,s)}finally{lt=f,z.p=o,A.T=a}}an=3}}function Tg(){if(an===4||an===3){an=0,Ee();var t=Br,s=ui,a=dr,o=pg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,ui=Br=null,Ag(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ur=null),Pe(a),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(At,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=A.T,f=z.p,z.p=2,A.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{A.T=s,z.p=f}}(dr&3)!==0&&Go(),Vs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===$d?yl++:(yl=0,$d=t):yl=0,wl(0)}}function Ag(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,tl(s)))}function Go(){return kg(),_g(),Tg(),Mg()}function Mg(){if(an!==5)return!1;var t=Br,s=Bd;Bd=0;var a=Pe(dr),o=A.T,f=z.p;try{z.p=32>a?32:a,A.T=null,a=qd,qd=null;var h=Br,v=dr;if(an=0,ui=Br=null,dr=0,(lt&6)!==0)throw Error(i(331));var S=lt;if(lt|=4,fg(h.current),cg(h,h.current,v,a),lt=S,wl(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(At,h)}catch{}return!0}finally{z.p=f,A.T=o,Ag(t,s)}}function Dg(t,s,a){s=cs(a,s),s=bd(t.stateNode,s,2),t=Mr(t,s,2),t!==null&&(Rn(t,2),Vs(t))}function ht(t,s,a){if(t.tag===3)Dg(t,t,a);else for(;s!==null;){if(s.tag===3){Dg(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){t=cs(a,t),a=zp(2),o=Mr(s,a,2),o!==null&&(Rp(a,o,s,t),Rn(o,2),Vs(o));break}}s=s.return}}function Zd(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Gw;var f=new Set;o.set(s,f)}else f=o.get(s),f===void 0&&(f=new Set,o.set(s,f));f.has(a)||(Od=!0,f.add(a),t=n1.bind(null,t,s,a),s.then(t,t))}function n1(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,jt===t&&(Je&a)===a&&(Ft===4||Ft===3&&(Je&62914560)===Je&&300>ve()-Io?(lt&2)===0&&di(t,0):Ld|=a,ci===Je&&(ci=0)),Vs(t)}function zg(t,s){s===0&&(s=dn()),t=ia(t,s),t!==null&&(Rn(t,s),Vs(t))}function s1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),zg(t,a)}function r1(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),zg(t,a)}function a1(t,s){return M(t,s)}var Xo=null,hi=null,Vd=!1,Jo=!1,Id=!1,$r=0;function Vs(t){t!==hi&&t.next===null&&(hi===null?Xo=hi=t:hi=hi.next=t),Jo=!0,Vd||(Vd=!0,l1())}function wl(t,s){if(!Id&&Jo){Id=!0;do for(var a=!1,o=Xo;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-Mt(42|t)+1)-1,h&=f&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Ug(o,h))}else h=Je,h=kt(o,o===jt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Cn(o,h)||(a=!0,Ug(o,h));o=o.next}while(a);Id=!1}}function i1(){Rg()}function Rg(){Jo=Vd=!1;var t=0;$r!==0&&x1()&&(t=$r);for(var s=ve(),a=null,o=Xo;o!==null;){var f=o.next,h=Og(o,s);h===0?(o.next=null,a===null?Xo=f:a.next=f,f===null&&(hi=a)):(a=o,(t!==0||(h&3)!==0)&&(Jo=!0)),o=f}an!==0&&an!==5||wl(t),$r!==0&&($r=0)}function Og(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Mt(h),S=1<<v,D=f[v];D===-1?((S&a)===0||(S&o)!==0)&&(f[v]=un(S,s)):D<=s&&(t.expiredLanes|=S),h&=~S}if(s=jt,a=Je,a=kt(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Y(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Cn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Y(o),Pe(a)){case 2:case 8:a=He;break;case 32:a=Ie;break;case 268435456:a=Se;break;default:a=Ie}return o=Lg.bind(null,t),a=M(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Y(o),t.callbackPriority=2,t.callbackNode=null,2}function Lg(t,s){if(an!==0&&an!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Go()&&t.callbackNode!==a)return null;var o=Je;return o=kt(t,t===jt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(xg(t,o,s),Og(t,ve()),t.callbackNode!=null&&t.callbackNode===a?Lg.bind(null,t):null)}function Ug(t,s){if(Go())return null;xg(t,s,!0)}function l1(){v1(function(){(lt&6)!==0?M(Ae,i1):Rg()})}function Qd(){if($r===0){var t=Xa;t===0&&(t=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),$r=t}return $r}function Bg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function qg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function o1(t,s,a,o,f){if(s==="submit"&&a&&a.stateNode===f){var h=Bg((f[Vt]||null).action),v=o.submitter;v&&(s=(s=v[Vt]||null)?Bg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new Fa("action","action",null,o,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($r!==0){var D=v?qg(f,v):new FormData(f);fd(a,{pending:!0,data:D,method:f.method,action:h},null,D)}}else typeof h=="function"&&(S.preventDefault(),D=v?qg(f,v):new FormData(f),fd(a,{pending:!0,data:D,method:f.method,action:h},h,D))},currentTarget:f}]})}}for(var Wd=0;Wd<Tu.length;Wd++){var Pd=Tu[Wd],c1=Pd.toLowerCase(),u1=Pd[0].toUpperCase()+Pd.slice(1);Ns(c1,"on"+u1)}Ns(gm,"onAnimationEnd"),Ns(xm,"onAnimationIteration"),Ns(bm,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(Cw,"onTransitionRun"),Ns(kw,"onTransitionStart"),Ns(_w,"onTransitionCancel"),Ns(vm,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function $g(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],D=S.instance,ee=S.currentTarget;if(S=S.listener,D!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=ee;try{h(f)}catch(ue){mo(ue)}f.currentTarget=null,h=D}else for(v=0;v<o.length;v++){if(S=o[v],D=S.instance,ee=S.currentTarget,S=S.listener,D!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=ee;try{h(f)}catch(ue){mo(ue)}f.currentTarget=null,h=D}}}}function Xe(t,s){var a=s[Ta];a===void 0&&(a=s[Ta]=new Set);var o=t+"__bubble";a.has(o)||(Fg(s,t,2,!1),a.add(o))}function Kd(t,s,a){var o=0;s&&(o|=4),Fg(a,t,o,s)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[ec]){t[ec]=!0,Ks.forEach(function(a){a!=="selectionchange"&&(d1.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ec]||(s[ec]=!0,Kd("selectionchange",!1,s))}}function Fg(t,s,a,o){switch(gx(s)){case 2:var f=q1;break;case 8:f=$1;break;default:f=ff}a=f.bind(null,s,a,t),f=void 0,!Hi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Gd(t,s,a,o,f){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=yr(S),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=h=v;continue e}S=S.parentNode}}o=o.return}oo(function(){var ee=h,ue=Ls(a),he=[];e:{var ne=ym.get(t);if(ne!==void 0){var ie=Fa,De=t;switch(t){case"keypress":if(qa(a)===0)break e;case"keydown":case"keyup":ie=rw;break;case"focusin":De="focus",ie=W;break;case"focusout":De="blur",ie=W;break;case"beforeblur":case"afterblur":ie=W;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=lw;break;case gm:case xm:case bm:ie=Me;break;case vm:ie=cw;break;case"scroll":case"scrollend":ie=bu;break;case"wheel":ie=dw;break;case"copy":case"cut":case"paste":ie=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Gh;break;case"toggle":case"beforetoggle":ie=hw}var Ue=(s&4)!==0,xt=!Ue&&(t==="scroll"||t==="scrollend"),Q=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var q=ee,J;q!==null;){var de=q;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||Q===null||(de=ta(q,Q),de!=null&&Ue.push(Sl(q,de,J))),xt)break;q=q.return}0<Ue.length&&(ne=new ie(ne,De,null,a,ue),he.push({event:ne,listeners:Ue}))}}if((s&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",ne&&a!==Er&&(De=a.relatedTarget||a.fromElement)&&(yr(De)||De[br]))break e;if((ie||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(De=a.relatedTarget||a.toElement,ie=ee,De=De?yr(De):null,De!==null&&(xt=u(De),Ue=De.tag,De!==xt||Ue!==5&&Ue!==27&&Ue!==6)&&(De=null)):(ie=null,De=ee),ie!==De)){if(Ue=fo,de="onMouseLeave",Q="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=Gh,de="onPointerLeave",Q="onPointerEnter",q="pointer"),xt=ie==null?ne:Yn(ie),J=De==null?ne:Yn(De),ne=new Ue(de,q+"leave",ie,a,ue),ne.target=xt,ne.relatedTarget=J,de=null,yr(ue)===ee&&(Ue=new Ue(Q,q+"enter",De,a,ue),Ue.target=J,Ue.relatedTarget=xt,de=Ue),xt=de,ie&&De)t:{for(Ue=f1,Q=ie,q=De,J=0,de=Q;de;de=Ue(de))J++;de=0;for(var Le=q;Le;Le=Ue(Le))de++;for(;0<J-de;)Q=Ue(Q),J--;for(;0<de-J;)q=Ue(q),de--;for(;J--;){if(Q===q||q!==null&&Q===q.alternate){Ue=Q;break t}Q=Ue(Q),q=Ue(q)}Ue=null}else Ue=null;ie!==null&&Hg(he,ne,ie,Ue,!1),De!==null&&xt!==null&&Hg(he,xt,De,Ue,!0)}}e:{if(ne=ee?Yn(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var rt=am;else if(sm(ne))if(im)rt=Sw;else{rt=ww;var Re=yw}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Ra(ee.elementType)&&(rt=am):rt=jw;if(rt&&(rt=rt(t,ee))){rm(he,rt,a,ue);break e}Re&&Re(t,ne,ee),t==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&qi(ne,"number",ne.value)}switch(Re=ee?Yn(ee):window,t){case"focusin":(sm(Re)||Re.contentEditable==="true")&&(Va=Re,Cu=ee,Xi=null);break;case"focusout":Xi=Cu=Va=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,mm(he,a,ue);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":mm(he,a,ue)}var Ke;if(ju)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Za?tm(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(Xh&&a.locale!=="ko"&&(Za||et!=="onCompositionStart"?et==="onCompositionEnd"&&Za&&(Ke=co()):($s=ue,Zi="value"in $s?$s.value:$s.textContent,Za=!0)),Re=tc(ee,et),0<Re.length&&(et=new ct(et,t,null,a,ue),he.push({event:et,listeners:Re}),Ke?et.data=Ke:(Ke=nm(a),Ke!==null&&(et.data=Ke)))),(Ke=pw?gw(t,a):xw(t,a))&&(et=tc(ee,"onBeforeInput"),0<et.length&&(Re=new ct("onBeforeInput","beforeinput",null,a,ue),he.push({event:Re,listeners:et}),Re.data=Ke)),o1(he,t,ee,a,ue)}$g(he,s)})}function Sl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function tc(t,s){for(var a=s+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ta(t,a),f!=null&&o.unshift(Sl(t,f,h)),f=ta(t,s),f!=null&&o.push(Sl(t,f,h))),t.tag===3)return o;t=t.return}return[]}function f1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hg(t,s,a,o,f){for(var h=s._reactName,v=[];a!==null&&a!==o;){var S=a,D=S.alternate,ee=S.stateNode;if(S=S.tag,D!==null&&D===o)break;S!==5&&S!==26&&S!==27||ee===null||(D=ee,f?(ee=ta(a,h),ee!=null&&v.unshift(Sl(a,ee,D))):f||(ee=ta(a,h),ee!=null&&v.push(Sl(a,ee,D)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var h1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(h1,`
`).replace(m1,"")}function Vg(t,s){return s=Zg(s),Zg(t)===s}function gt(t,s,a,o,f,h){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Sr(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Sr(t,""+o);break;case"className":ys(t,"class",o);break;case"tabIndex":ys(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(t,a,o);break;case"style":lo(t,o,h);break;case"data":if(s!=="object"){ys(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=La(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&gt(t,s,"name",f.name,f,null),gt(t,s,"formEncType",f.formEncType,f,null),gt(t,s,"formMethod",f.formMethod,f,null),gt(t,s,"formTarget",f.formTarget,f,null)):(gt(t,s,"encType",f.encType,f,null),gt(t,s,"method",f.method,f,null),gt(t,s,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=La(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ss);break;case"onScroll":o!=null&&Xe("scroll",t);break;case"onScrollEnd":o!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Aa(t,"popover",o);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oa.get(a)||a,Aa(t,a,o))}}function Xd(t,s,a,o,f,h){switch(a){case"style":lo(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Sr(t,o):(typeof o=="number"||typeof o=="bigint")&&Sr(t,""+o);break;case"onScroll":o!=null&&Xe("scroll",t);break;case"onScrollEnd":o!=null&&Xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),h=t[Vt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Aa(t,a,o)}}}function Sn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(t,s,h,v,a,null)}}f&&gt(t,s,"srcSet",a.srcSet,a,null),o&&gt(t,s,"src",a.src,a,null);return;case"input":Xe("invalid",t);var S=h=v=f=null,D=null,ee=null;for(o in a)if(a.hasOwnProperty(o)){var ue=a[o];if(ue!=null)switch(o){case"name":f=ue;break;case"type":v=ue;break;case"checked":D=ue;break;case"defaultChecked":ee=ue;break;case"value":h=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:gt(t,s,o,ue,a,null)}}gu(t,h,S,D,ee,v,f,!1);return;case"select":Xe("invalid",t),o=v=h=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:gt(t,s,f,S,a,null)}s=h,a=v,t.multiple=!!o,s!=null?Os(t,!!o,s,!1):a!=null&&Os(t,!!o,a,!0);return;case"textarea":Xe("invalid",t),h=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:gt(t,s,v,S,a,null)}Fi(t,o,f,h);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:gt(t,s,D,o,a,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(o=0;o<jl.length;o++)Xe(jl[o],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in a)if(a.hasOwnProperty(ee)&&(o=a[ee],o!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(t,s,ee,o,a,null)}return;default:if(Ra(s)){for(ue in a)a.hasOwnProperty(ue)&&(o=a[ue],o!==void 0&&Xd(t,s,ue,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&gt(t,s,S,o,a,null))}function p1(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,S=null,D=null,ee=null,ue=null;for(ie in a){var he=a[ie];if(a.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=he;default:o.hasOwnProperty(ie)||gt(t,s,ie,null,o,he)}}for(var ne in o){var ie=o[ne];if(he=a[ne],o.hasOwnProperty(ne)&&(ie!=null||he!=null))switch(ne){case"type":h=ie;break;case"name":f=ie;break;case"checked":ee=ie;break;case"defaultChecked":ue=ie;break;case"value":v=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:ie!==he&&gt(t,s,ne,ie,o,he)}}ao(t,v,S,D,ee,ue,h,f);return;case"select":ie=v=S=ne=null;for(h in a)if(D=a[h],a.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":ie=D;default:o.hasOwnProperty(h)||gt(t,s,h,null,o,D)}for(f in o)if(h=o[f],D=a[f],o.hasOwnProperty(f)&&(h!=null||D!=null))switch(f){case"value":ne=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==D&&gt(t,s,f,h,o,D)}s=S,a=v,o=ie,ne!=null?Os(t,!!a,ne,!1):!!o!=!!a&&(s!=null?Os(t,!!a,s,!0):Os(t,!!a,a?[]:"",!1));return;case"textarea":ie=ne=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:gt(t,s,S,null,o,f)}for(v in o)if(f=o[v],h=a[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":ne=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==h&&gt(t,s,v,f,o,h)}$i(t,ne,ie);return;case"option":for(var De in a)if(ne=a[De],a.hasOwnProperty(De)&&ne!=null&&!o.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:gt(t,s,De,null,o,ne)}for(D in o)if(ne=o[D],ie=a[D],o.hasOwnProperty(D)&&ne!==ie&&(ne!=null||ie!=null))switch(D){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:gt(t,s,D,ne,o,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)ne=a[Ue],a.hasOwnProperty(Ue)&&ne!=null&&!o.hasOwnProperty(Ue)&&gt(t,s,Ue,null,o,ne);for(ee in o)if(ne=o[ee],ie=a[ee],o.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:gt(t,s,ee,ne,o,ie)}return;default:if(Ra(s)){for(var xt in a)ne=a[xt],a.hasOwnProperty(xt)&&ne!==void 0&&!o.hasOwnProperty(xt)&&Xd(t,s,xt,void 0,o,ne);for(ue in o)ne=o[ue],ie=a[ue],!o.hasOwnProperty(ue)||ne===ie||ne===void 0&&ie===void 0||Xd(t,s,ue,ne,o,ie);return}}for(var Q in a)ne=a[Q],a.hasOwnProperty(Q)&&ne!=null&&!o.hasOwnProperty(Q)&&gt(t,s,Q,null,o,ne);for(he in o)ne=o[he],ie=a[he],!o.hasOwnProperty(he)||ne===ie||ne==null&&ie==null||gt(t,s,he,ne,o,ie)}function Ig(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,v=f.initiatorType,S=f.duration;if(h&&S&&Ig(v)){for(v=0,S=f.responseEnd,o+=1;o<a.length;o++){var D=a[o],ee=D.startTime;if(ee>S)break;var ue=D.transferSize,he=D.initiatorType;ue&&Ig(he)&&(D=D.responseEnd,v+=ue*(D<S?1:(S-ee)/(D-ee)))}if(--o,s+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,ef=null;function nc(t){return t.nodeType===9?t:t.ownerDocument}function Qg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function tf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nf=null;function x1(){var t=window.event;return t&&t.type==="popstate"?t===nf?!1:(nf=t,!0):(nf=null,!1)}var Pg=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(t){return Kg.resolve(null).then(t).catch(y1)}:Pg;function y1(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function Yg(t,s){var a=s,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),xi(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")El(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,El(a);for(var h=a.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[vr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&El(t.ownerDocument.body);a=f}while(a);xi(s)}function Gg(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function sf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sf(a),Li(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w1(t,s,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[vr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=ms(t.nextSibling),t===null)break}return null}function j1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ms(t.nextSibling),t===null))return null;return t}function Xg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ms(t.nextSibling),t===null))return null;return t}function rf(t){return t.data==="$?"||t.data==="$~"}function af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function S1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ms(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var lf=null;function Jg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ms(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function ex(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function tx(t,s,a){switch(s=nc(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function El(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Li(t)}var ps=new Map,nx=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=z.d;z.d={f:E1,r:N1,D:C1,C:k1,L:_1,m:T1,X:M1,S:A1,M:D1};function E1(){var t=fr.f(),s=Po();return t||s}function N1(t){var s=Kt(t);s!==null&&s.tag===5&&s.type==="form"?vp(s):fr.r(t)}var mi=typeof document>"u"?null:document;function sx(t,s,a){var o=mi;if(o&&typeof s=="string"&&s){var f=Ut(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),nx.has(f)||(nx.add(f),t={rel:t,crossOrigin:a,href:s},o.querySelector(f)===null&&(s=o.createElement("link"),Sn(s,"link",t),wt(s),o.head.appendChild(s)))}}function C1(t){fr.D(t),sx("dns-prefetch",t,null)}function k1(t,s){fr.C(t,s),sx("preconnect",t,s)}function _1(t,s,a){fr.L(t,s,a);var o=mi;if(o&&t&&s){var f='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ut(a.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var h=f;switch(s){case"style":h=pi(t);break;case"script":h=gi(t)}ps.has(h)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ps.set(h,t),o.querySelector(f)!==null||s==="style"&&o.querySelector(Nl(h))||s==="script"&&o.querySelector(Cl(h))||(s=o.createElement("link"),Sn(s,"link",t),wt(s),o.head.appendChild(s)))}}function T1(t,s){fr.m(t,s);var a=mi;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ut(o)+'"][href="'+Ut(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=gi(t)}if(!ps.has(h)&&(t=y({rel:"modulepreload",href:t},s),ps.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(h)))return}o=a.createElement("link"),Sn(o,"link",t),wt(o),a.head.appendChild(o)}}}function A1(t,s,a){fr.S(t,s,a);var o=mi;if(o&&t){var f=wr(o).hoistableStyles,h=pi(t);s=s||"default";var v=f.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Nl(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ps.get(h))&&of(t,a);var D=v=o.createElement("link");wt(D),Sn(D,"link",t),D._p=new Promise(function(ee,ue){D.onload=ee,D.onerror=ue}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rc(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(h,v)}}}function M1(t,s){fr.X(t,s);var a=mi;if(a&&t){var o=wr(a).hoistableScripts,f=gi(t),h=o.get(f);h||(h=a.querySelector(Cl(f)),h||(t=y({src:t,async:!0},s),(s=ps.get(f))&&cf(t,s),h=a.createElement("script"),wt(h),Sn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function D1(t,s){fr.M(t,s);var a=mi;if(a&&t){var o=wr(a).hoistableScripts,f=gi(t),h=o.get(f);h||(h=a.querySelector(Cl(f)),h||(t=y({src:t,async:!0,type:"module"},s),(s=ps.get(f))&&cf(t,s),h=a.createElement("script"),wt(h),Sn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function rx(t,s,a,o){var f=(f=V.current)?sc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=pi(a.href),a=wr(f).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=pi(a.href);var h=wr(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(Nl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),ps.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ps.set(t,a),h||z1(f,t,a,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gi(a),a=wr(f).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function pi(t){return'href="'+Ut(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function ax(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function z1(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Sn(s,"link",a),wt(s),t.head.appendChild(s))}function gi(t){return'[src="'+Ut(t)+'"]'}function Cl(t){return"script[async]"+t}function ix(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(o)return s.instance=o,wt(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Sn(o,"style",f),rc(o,a.precedence,t),s.instance=o;case"stylesheet":f=pi(a.href);var h=t.querySelector(Nl(f));if(h)return s.state.loading|=4,s.instance=h,wt(h),h;o=ax(a),(f=ps.get(f))&&of(o,f),h=(t.ownerDocument||t).createElement("link"),wt(h);var v=h;return v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),Sn(h,"link",o),s.state.loading|=4,rc(h,a.precedence,t),s.instance=h;case"script":return h=gi(a.src),(f=t.querySelector(Cl(h)))?(s.instance=f,wt(f),f):(o=a,(f=ps.get(h))&&(o=y({},a),cf(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Sn(f,"link",o),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,rc(o,a.precedence,t));return s.instance}function rc(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function of(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function cf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ac=null;function lx(t,s,a){if(ac===null){var o=new Map,f=ac=new Map;f.set(a,o)}else f=ac,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[vr]||h[Et]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function ox(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function R1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function cx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function O1(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=pi(o.href),h=s.querySelector(Nl(f));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ic.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=h,wt(h);return}h=s.ownerDocument||s,o=ax(o),(f=ps.get(f))&&of(o,f),h=h.createElement("link"),wt(h);var v=h;v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),Sn(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ic.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var uf=0;function L1(t,s){return t.stylesheets&&t.count===0&&oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&uf===0&&(uf=62500*g1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>uf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function oc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,s.forEach(U1,t),lc=null,ic.call(t))}function U1(t,s){if(!(s.state.loading&4)){var a=lc.get(t);if(a)var o=a.get(null);else{a=new Map,lc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=s.instance,v=f.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,f),a.set(v,f),this.count++,o=ic.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var kl={$$typeof:R,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function B1(t,s,a,o,f,h,v,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ux(t,s,a,o,f,h,v,S,D,ee,ue,he){return t=new B1(t,s,a,v,D,ee,ue,he,S),s=1,h===!0&&(s|=24),h=Xn(3,null,null,s),t.current=h,h.stateNode=t,s=Hu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:s},Qu(h),t}function dx(t){return t?(t=Wa,t):Wa}function fx(t,s,a,o,f,h){f=dx(f),o.context===null?o.context=f:o.pendingContext=f,o=Ar(s),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=Mr(t,o,s),a!==null&&(In(a,t,s),al(a,t,s))}function hx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function df(t,s){hx(t,s),(t=t.alternate)&&hx(t,s)}function mx(t){if(t.tag===13||t.tag===31){var s=ia(t,67108864);s!==null&&In(s,t,67108864),df(t,67108864)}}function px(t){if(t.tag===13||t.tag===31){var s=ss();s=Kn(s);var a=ia(t,s);a!==null&&In(a,t,s),df(t,s)}}var cc=!0;function q1(t,s,a,o){var f=A.T;A.T=null;var h=z.p;try{z.p=2,ff(t,s,a,o)}finally{z.p=h,A.T=f}}function $1(t,s,a,o){var f=A.T;A.T=null;var h=z.p;try{z.p=8,ff(t,s,a,o)}finally{z.p=h,A.T=f}}function ff(t,s,a,o){if(cc){var f=hf(o);if(f===null)Gd(t,s,o,uc,a),xx(t,o);else if(H1(f,t,s,a,o))o.stopPropagation();else if(xx(t,o),s&4&&-1<F1.indexOf(t)){for(;f!==null;){var h=Kt(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=yt(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var D=1<<31-Mt(v);S.entanglements[1]|=D,v&=~D}Vs(h),(lt&6)===0&&(Qo=ve()+500,wl(0))}}break;case 31:case 13:S=ia(h,2),S!==null&&In(S,h,2),Po(),df(h,2)}if(h=hf(o),h===null&&Gd(t,s,o,uc,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Gd(t,s,o,null,a)}}function hf(t){return t=Ls(t),mf(t)}var uc=null;function mf(t){if(uc=null,t=yr(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return uc=t,null}function gx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ae:return 2;case He:return 8;case Ie:case Ct:return 32;case Se:return 268435456;default:return 32}default:return 32}}var pf=!1,Hr=null,Zr=null,Vr=null,_l=new Map,Tl=new Map,Ir=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(t,s){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":_l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(s.pointerId)}}function Al(t,s,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},s!==null&&(s=Kt(s),s!==null&&mx(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function H1(t,s,a,o,f){switch(s){case"focusin":return Hr=Al(Hr,t,s,a,o,f),!0;case"dragenter":return Zr=Al(Zr,t,s,a,o,f),!0;case"mouseover":return Vr=Al(Vr,t,s,a,o,f),!0;case"pointerover":var h=f.pointerId;return _l.set(h,Al(_l.get(h)||null,t,s,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Tl.set(h,Al(Tl.get(h)||null,t,s,a,o,f)),!0}return!1}function bx(t){var s=yr(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,zt(t.priority,function(){px(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,zt(t.priority,function(){px(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=hf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Er=o,a.target.dispatchEvent(o),Er=null}else return s=Kt(a),s!==null&&mx(s),t.blockedOn=a,!1;s.shift()}return!0}function vx(t,s,a){dc(t)&&a.delete(s)}function Z1(){pf=!1,Hr!==null&&dc(Hr)&&(Hr=null),Zr!==null&&dc(Zr)&&(Zr=null),Vr!==null&&dc(Vr)&&(Vr=null),_l.forEach(vx),Tl.forEach(vx)}function fc(t,s){t.blockedOn===s&&(t.blockedOn=null,pf||(pf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Z1)))}var hc=null;function yx(t){hc!==t&&(hc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hc===t&&(hc=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],f=t[s+2];if(typeof o!="function"){if(mf(o||a)===null)continue;break}var h=Kt(a);h!==null&&(t.splice(s,3),s-=3,fd(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function xi(t){function s(D){return fc(D,t)}Hr!==null&&fc(Hr,t),Zr!==null&&fc(Zr,t),Vr!==null&&fc(Vr,t),_l.forEach(s),Tl.forEach(s);for(var a=0;a<Ir.length;a++){var o=Ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)bx(a),a.blockedOn===null&&Ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],v=f[Vt]||null;if(typeof h=="function")v||yx(a);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Vt]||null)S=v.formAction;else if(mf(f)!==null)continue}else S=v.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),yx(a)}}}function wx(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function gf(t){this._internalRoot=t}mc.prototype.render=gf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,o=ss();fx(a,o,t,s,null,null)},mc.prototype.unmount=gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;fx(t.current,2,null,t,null,null),Po(),s[br]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var s=_n();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ir.length&&s!==0&&s<Ir[a].priority;a++);Ir.splice(a,0,t),a===0&&bx(t)}};var jx=n.version;if(jx!=="19.2.0")throw Error(i(527,jx,"19.2.0"));z.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var V1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{At=pc.inject(V1),st=pc}catch{}}return Dl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var a=!1,o="",f=Tp,h=Ap,v=Mp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=ux(t,1,!1,null,null,a,o,null,f,h,v,wx),t[br]=s.current,Yd(t),new gf(s)},Dl.hydrateRoot=function(t,s,a){if(!c(t))throw Error(i(299));var o=!1,f="",h=Tp,v=Ap,S=Mp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=ux(t,1,!0,s,a??null,o,f,D,h,v,S,wx),s.context=dx(null),a=s.current,o=ss(),o=Kn(o),f=Ar(o),f.callback=null,Mr(a,f,o),a=o,s.current.lanes=a,Rn(s,a),Vs(s),t[br]=s.current,Yd(t),new mc(s)},Dl.version="19.2.0",Dl}var Dx;function J1(){if(Dx)return vf.exports;Dx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),vf.exports=X1(),vf.exports}var ej=J1();const tj=Tb(ej),Wc=p.createContext(null);function nj({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const E=c.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}r(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const d=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),m=p.useCallback((x,b)=>{const y=new URL(x,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},E=`${w.pathname}${w.search}${w.hash}`,N=b?.replace?"replace":"push";u({kind:N,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:m,registerBlocker:d}),[n,m,d]);return l.jsx(Wc.Provider,{value:g,children:e})}function $n(){const e=p.useContext(Wc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function Zt(){const e=p.useContext(Wc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function Mb(e,n=!0){const r=p.useContext(Wc);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var _i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sj={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},rj=class{#e=sj;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},ya=new rj;function aj(e){setTimeout(e,0)}var Sa=typeof window>"u"||"Deno"in globalThis;function Bn(){}function ij(e,n){return typeof e=="function"?e(n):e}function qf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Db(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Kr(e,n){return typeof e=="function"?e(n):e}function gs(e,n){return typeof e=="function"?e(n):e}function zx(e,n){const{type:r="all",exact:i,fetchStatus:c,predicate:u,queryKey:d,stale:m}=e;if(d){if(i){if(n.queryHash!==uh(d,n.options))return!1}else if(!Fl(n.queryKey,d))return!1}if(r!=="all"){const g=n.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function Rx(e,n){const{exact:r,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(Ea(n.options.mutationKey)!==Ea(u))return!1}else if(!Fl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function uh(e,n){return(n?.queryKeyHashFn||Ea)(e)}function Ea(e){return JSON.stringify(e,(n,r)=>$f(r)?Object.keys(r).sort().reduce((i,c)=>(i[c]=r[c],i),{}):r)}function Fl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Fl(e[r],n[r])):!1}var lj=Object.prototype.hasOwnProperty;function zb(e,n){if(e===n)return e;const r=Ox(e)&&Ox(n);if(!r&&!($f(e)&&$f(n)))return n;const c=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),d=u.length,m=r?new Array(d):{};let g=0;for(let x=0;x<d;x++){const b=r?x:u[x],y=e[b],w=n[b];if(y===w){m[b]=y,(r?x<c:lj.call(e,b))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const E=zb(y,w);m[b]=E,E===y&&g++}return c===d&&g===c?e:m}function Mc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function Ox(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $f(e){if(!Lx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Lx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lx(e){return Object.prototype.toString.call(e)==="[object Object]"}function oj(e){return new Promise(n=>{ya.setTimeout(n,e)})}function Ff(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?zb(e,n):n}function cj(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function uj(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var dh=Symbol();function Rb(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===dh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ob(e,n){return typeof e=="function"?e(...n):!!e}var dj=class extends _i{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Sa&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fh=new dj;function Hf(){let e,n;const r=new Promise((c,u)=>{e=c,n=u});r.status="pending",r.catch(()=>{});function i(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},r.reject=c=>{i({status:"rejected",reason:c}),n(c)},r}var fj=aj;function hj(){let e=[],n=0,r=m=>{m()},i=m=>{m()},c=fj;const u=m=>{n?e.push(m):c(()=>{r(m)})},d=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;n++;try{g=m()}finally{n--,n||d()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var on=hj(),mj=class extends _i{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Sa&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Dc=new mj;function pj(e){return Math.min(1e3*2**e,3e4)}function Lb(e){return(e??"online")==="online"?Dc.isOnline():!0}var Zf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ub(e){let n=!1,r=0,i;const c=Hf(),u=()=>c.status!=="pending",d=j=>{if(!u()){const k=new Zf(j);w(k),e.onCancel?.(k)}},m=()=>{n=!0},g=()=>{n=!1},x=()=>fh.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),b=()=>Lb(e.networkMode)&&e.canRun(),y=j=>{u()||(i?.(),c.resolve(j))},w=j=>{u()||(i?.(),c.reject(j))},E=()=>new Promise(j=>{i=k=>{(u()||x())&&j(k)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),N=()=>{if(u())return;let j;const k=r===0?e.initialPromise:void 0;try{j=k??e.fn()}catch(T){j=Promise.reject(T)}Promise.resolve(j).then(y).catch(T=>{if(u())return;const C=e.retry??(Sa?0:3),R=e.retryDelay??pj,O=typeof R=="function"?R(r,T):R,L=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,T);if(n||!L){w(T);return}r++,e.onFail?.(r,T),oj(O).then(()=>x()?void 0:E()).then(()=>{n?w(T):N()})})};return{promise:c,status:()=>c.status,cancel:d,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:g,canStart:b,start:()=>(b()?N():E().then(N),c)}}var Bb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qf(this.gcTime)&&(this.#e=ya.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ya.clearTimeout(this.#e),this.#e=void 0)}},gj=class extends Bb{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ux(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ux(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Ff(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>gs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Kr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Db(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},c=()=>{const m=Rb(this.options,n),x=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,x,this):m(x)},d=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Ub({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:m=>{m instanceof Zf&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{this.#a({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Zf){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#a({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qb(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),on.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function qb(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lb(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ux(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $b=class extends _i{constructor(e,n){super(),this.options=n,this.#e=e,this.#a=null,this.#l=Hf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Bx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!Mc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&qx(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||gs(this.options.enabled,this.#t)!==gs(n.enabled,this.#t)||Kr(this.options.staleTime,this.#t)!==Kr(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==r||gs(this.options.enabled,this.#t)!==gs(n.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return bj(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#j();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Bn)),n}#g(){this.#y();const e=Kr(this.options.staleTime,this.#t);if(Sa||this.#r.isStale||!qf(e))return;const r=Db(this.#r.dataUpdatedAt,e)+1;this.#c=ya.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#o=e,!(Sa||gs(this.options.enabled,this.#t)===!1||!qf(this.#o)||this.#o===0)&&(this.#u=ya.setInterval(()=>{(this.options.refetchIntervalInBackground||fh.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(ya.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(ya.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,c=this.#r,u=this.#s,d=this.#i,g=e!==r?e.state:this.#n,{state:x}=e;let b={...x},y=!1,w;if(n._optimisticResults){const I=this.hasListeners(),H=!I&&Bx(e,n),Z=I&&qx(e,r,n,i);(H||Z)&&(b={...b,...qb(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:N,status:j}=b;w=b.data;let k=!1;if(n.placeholderData!==void 0&&w===void 0&&j==="pending"){let I;c?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(I=c.data,k=!0):I=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,I!==void 0&&(j="success",w=Ff(c?.data,I,n),y=!0)}if(n.select&&w!==void 0&&!k)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Ff(c?.data,w,n),this.#f=w,this.#a=null}catch(I){this.#a=I}this.#a&&(E=this.#a,w=this.#f,N=Date.now(),j="error");const T=b.fetchStatus==="fetching",C=j==="pending",R=j==="error",O=C&&T,L=w!==void 0,B={status:j,fetchStatus:b.fetchStatus,isPending:C,isSuccess:j==="success",isError:R,isInitialLoading:O,isLoading:O,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:N,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!C,isLoadingError:R&&!L,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:R&&L,isStale:hh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:gs(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=P=>{B.status==="error"?P.reject(B.error):B.data!==void 0&&P.resolve(B.data)},H=()=>{const P=this.#l=B.promise=Hf();I(P)},Z=this.#l;switch(Z.status){case"pending":e.queryHash===r.queryHash&&I(Z);break;case"fulfilled":(B.status==="error"||B.data!==Z.value)&&H();break;case"rejected":(B.status!=="error"||B.error!==Z.reason)&&H();break}}return B}updateResult(){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Mc(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const m=d;return this.#r[m]!==e[m]&&u.has(m)})};this.#S({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){on.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xj(e,n){return gs(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Bx(e,n){return xj(e,n)||e.state.data!==void 0&&Vf(e,n,n.refetchOnMount)}function Vf(e,n,r){if(gs(n.enabled,e)!==!1&&Kr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&hh(e,n)}return!1}function qx(e,n,r,i){return(e!==n||gs(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&hh(e,r)}function hh(e,n){return gs(n.enabled,e)!==!1&&e.isStaleByTime(Kr(n.staleTime,e))}function bj(e,n){return!Mc(e.getCurrentResult(),n)}function zc(e){return{onFetch:(n,r)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const y=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Rb(n.options,n.fetchOptions),E=async(N,j,k)=>{if(b)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const se={client:n.client,queryKey:n.queryKey,pageParam:j,direction:k?"backward":"forward",meta:n.options.meta};return y(se),se})(),R=await w(C),{maxPages:O}=n.options,L=k?uj:cj;return{pages:L(N.pages,R,O),pageParams:L(N.pageParams,j,O)}};if(c&&u.length){const N=c==="backward",j=N?Fb:If,k={pages:u,pageParams:d},T=j(i,k);m=await E(k,T,N)}else{const N=e??u.length;do{const j=g===0?d[0]??i.initialPageParam:If(i,m);if(g>0&&j==null)break;m=await E(m,j),g++}while(g<N)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function If(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Fb(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function vj(e,n){return n?If(e,n)!=null:!1}function yj(e,n){return!n||!e.getPreviousPageParam?!1:Fb(e,n)!=null}var wj=class extends $b{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:zc()})}getOptimisticResult(e){return e.behavior=zc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:d,isRefetchError:m}=i,g=r.fetchMeta?.fetchMore?.direction,x=d&&g==="forward",b=c&&g==="forward",y=d&&g==="backward",w=c&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vj(n,r.data),hasPreviousPage:yj(n,r.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!x&&!y,isRefetching:u&&!b&&!w}}},jj=class extends Bb{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Hb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Ub({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#r.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:c})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),on.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Hb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sj=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new jj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=gc(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=gc(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=gc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){on.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Rx(n,r))}findAll(e={}){return this.getAll().filter(n=>Rx(e,n))}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return on.batch(()=>Promise.all(e.map(n=>n.continue().catch(Bn))))}};function gc(e){return e.options.scope?.id}var Ej=class extends _i{#e;#t=void 0;#n;#r;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Mc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ea(r.mutationKey)!==Ea(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Hb();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){on.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#r.onSuccess?.(n.data,r,i,c),this.#r.onSettled?.(n.data,null,r,i,c)):n?.type==="error"&&(this.#r.onError?.(n.error,r,i,c),this.#r.onSettled?.(void 0,n.error,r,i,c))}this.listeners.forEach(r=>{r(this.#t)})})}},Nj=class extends _i{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,c=n.queryHash??uh(i,n);let u=this.get(c);return u||(u=new gj({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zx(e,r)):n}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){on.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cj=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new Nj,this.#t=e.mutationCache||new Sj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=fh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Kr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=ij(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(e,n,r){return on.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;on.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return on.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=on.batch(()=>this.#e.findAll(e).map(c=>c.cancel(r)));return Promise.all(i).then(Bn).catch(Bn)}invalidateQueries(e,n={}){return on.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=on.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(Bn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Bn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Kr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bn).catch(Bn)}fetchInfiniteQuery(e){return e.behavior=zc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bn).catch(Bn)}ensureInfiniteQueryData(e){return e.behavior=zc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(Ea(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Fl(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(Ea(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{Fl(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=uh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===dh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Zb=p.createContext(void 0),dt=e=>{const n=p.useContext(Zb);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},kj=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Zb.Provider,{value:e,children:n})),Vb=p.createContext(!1),_j=()=>p.useContext(Vb);Vb.Provider;function Tj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Aj=p.createContext(Tj()),Mj=()=>p.useContext(Aj),Dj=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},zj=e=>{p.useEffect(()=>{e.clearReset()},[e])},Rj=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||Ob(r,[e.error,i])),Oj=e=>{if(e.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>r(i(...c)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Lj=(e,n)=>e.isLoading&&e.isFetching&&!n,Uj=(e,n)=>e?.suspense&&n.isPending,$x=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ib(e,n,r){const i=_j(),c=Mj(),u=dt(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",Oj(d),Dj(d,c),zj(c);const m=!u.getQueryCache().get(d.queryHash),[g]=p.useState(()=>new n(u,d)),x=g.getOptimisticResult(d),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?g.subscribe(on.batchCalls(y)):Bn;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(d)},[d,g]),Uj(d,x))throw $x(d,g,c);if(Rj({result:x,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!Sa&&Lj(x,i)&&(m?$x(d,g,c):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Bn).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function zn(e,n){return Ib(e,$b)}function nn(e,n){const r=dt(),[i]=p.useState(()=>new Ej(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(d=>i.subscribe(on.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((d,m)=>{i.mutate(d,m).catch(Bn)},[i]);if(c.error&&Ob(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function mh(e,n){return Ib(e,wj)}const Bj="modulepreload",qj=function(e){return"/"+e},Fx={},$j=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");c=g(r.map(x=>{if(x=qj(x),x in Fx)return;Fx[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Bj,b||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((E,N)=>{w.addEventListener("load",E),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return c.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function Fj({children:e}){const[n]=p.useState(()=>new Cj({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(kj,{client:n,children:[e,null]})}class qn extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}const Hj=/\{[^{}]+\}/g,Zj=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function Vj(){return Math.random().toString(36).slice(2,11)}function Ij(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:d,requestInitExt:m=void 0,...g}={...e};m=Zj()?m:void 0,n=Vx(n);const x=[];async function b(y,w){const{baseUrl:E,fetch:N=i,Request:j=r,headers:k,params:T={},parseAs:C="json",querySerializer:R,bodySerializer:O=u??Wj,body:L,middleware:se=[],...B}=w||{};let I=n;E&&(I=Vx(E)??n);let H=typeof c=="function"?c:Hx(c);R&&(H=typeof R=="function"?R:Hx({...typeof c=="object"?c:{},...R}));const Z=L===void 0?void 0:O(L,Zx(d,k,T.header)),P=Zx(Z===void 0||Z instanceof FormData?{}:{"Content-Type":"application/json"},d,k,T.header),U=[...x,...se],G={redirect:"follow",...g,...B,body:Z,headers:P};let ce,we,A=new j(Pj(y,{baseUrl:I,params:T,querySerializer:H}),G),z;for(const ye in B)ye in A||(A[ye]=B[ye]);if(U.length){ce=Vj(),we=Object.freeze({baseUrl:I,fetch:N,parseAs:C,querySerializer:H,bodySerializer:O});for(const ye of U)if(ye&&typeof ye=="object"&&typeof ye.onRequest=="function"){const oe=await ye.onRequest({request:A,schemaPath:y,params:T,options:we,id:ce});if(oe)if(oe instanceof j)A=oe;else if(oe instanceof Response){z=oe;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!z){try{z=await N(A,m)}catch(ye){let oe=ye;if(U.length)for(let _=U.length-1;_>=0;_--){const K=U[_];if(K&&typeof K=="object"&&typeof K.onError=="function"){const le=await K.onError({request:A,error:oe,schemaPath:y,params:T,options:we,id:ce});if(le){if(le instanceof Response){oe=void 0,z=le;break}if(le instanceof Error){oe=le;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(oe)throw oe}if(U.length)for(let ye=U.length-1;ye>=0;ye--){const oe=U[ye];if(oe&&typeof oe=="object"&&typeof oe.onResponse=="function"){const _=await oe.onResponse({request:A,response:z,schemaPath:y,params:T,options:we,id:ce});if(_){if(!(_ instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");z=_}}}}if(z.status===204||A.method==="HEAD"||z.headers.get("Content-Length")==="0")return z.ok?{data:void 0,response:z}:{error:void 0,response:z};if(z.ok)return C==="stream"?{data:z.body,response:z}:{data:await z[C](),response:z};let ge=await z.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:z}}return{request(y,w,E){return b(w,{...E,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...y){for(const w of y){const E=x.indexOf(w);E!==-1&&x.splice(E,1)}}}}function Pc(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function Qb(e,n,r){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const m in n)i.push(m,r.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const d=i.join(",");switch(r.style){case"form":return`${e}=${d}`;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return d}}for(const d in n){const m=r.style==="deepObject"?`${e}[${d}]`:d;i.push(Pc(m,n[d],r))}const u=i.join(c);return r.style==="label"||r.style==="matrix"?`${c}${u}`:u}function Wb(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",d=(r.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(r.style){case"simple":return d;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return`${e}=${d}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",c=[];for(const u of n)r.style==="simple"||r.style==="label"?c.push(r.allowReserved===!0?u:encodeURIComponent(u)):c.push(Pc(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function Hx(e){return function(r){const i=[];if(r&&typeof r=="object")for(const c in r){const u=r[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(Wb(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(Qb(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Pc(c,u,e))}}return i.join("&")}}function Qj(e,n){let r=e;for(const i of e.match(Hj)??[]){let c=i.substring(1,i.length-1),u=!1,d="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(d="label",c=c.substring(1)):c.startsWith(";")&&(d="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){r=r.replace(i,Wb(c,m,{style:d,explode:u}));continue}if(typeof m=="object"){r=r.replace(i,Qb(c,m,{style:d,explode:u}));continue}if(d==="matrix"){r=r.replace(i,`;${Pc(c,m)}`);continue}r=r.replace(i,d==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return r}function Wj(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function Pj(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=Qj(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function Zx(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const d of u)n.append(c,d);else u!==void 0&&n.set(c,u)}return n}function Vx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Kj=["ade_csrf","backend_app_csrf"];function Yj(){return Kj}function Gj(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function Pb(){const e=Gj();if(!e)return null;for(const n of Yj()){const r=e.get(n);if(r)return r}return null}const Kb=new Set(["GET","HEAD","OPTIONS","TRACE"]),Xj="ade.auth.tokens",Sf="",Rc=Sf.endsWith("/api/v1")?Sf.slice(0,-7):Sf;function Ti(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Rc.length>0?`${Rc}${e}`:e}async function Jj(e,n={}){const r=Ti(e),i=new Headers(n.headers??{});if(i.set("X-Requested-With","fetch"),!i.has("Authorization")){const d=Yb();d&&i.set("Authorization",`${d.token_type} ${d.access_token}`)}const c=n.method?.toUpperCase()??"GET";if(!Kb.has(c)){const d=Pb();d&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",d)}return await fetch(r,{credentials:"include",...n,headers:i})}const Be=Ij({baseUrl:Rc.length>0?Rc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),eS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Kb.has(n)){const r=Pb();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},tS={onRequest({request:e}){if(!e.headers.has("Authorization")){const n=Yb();n&&e.headers.set("Authorization",`${n.token_type} ${n.access_token}`)}return e}},nS={async onResponse({response:e}){if(e.ok)return e;const n=await sS(e),r=n?.title??`Request failed with status ${e.status}`;throw new qn(r,e.status,n)}};Be.use(eS);Be.use(tS);Be.use(nS);function Yb(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(Xj);if(!e)return null;const n=JSON.parse(e);if(n&&typeof n.access_token=="string")return{access_token:n.access_token,token_type:n.token_type??"bearer"}}catch{}return null}async function sS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Ms={root:["auth"],detail:()=>[...Ms.root,"session"],providers:()=>[...Ms.root,"providers"],setupStatus:()=>[...Ms.root,"setup-status"]},ph="ade.auth.tokens";let Kl=rS();function rS(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(ph);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.access_token!="string"?null:{access_token:n.access_token,token_type:n.token_type??"bearer",expires_at:n.expires_at??null,refresh_expires_at:n.refresh_expires_at??null}}catch{return null}}function Ix(e,n){if(e){const r=Date.parse(e);if(!Number.isNaN(r))return r}return typeof n=="number"?Date.now()+n*1e3:null}function aS(e){const n={access_token:e.access_token,token_type:e.token_type??"bearer",expires_at:Ix(e.expires_at,e.expires_in),refresh_expires_at:Ix(e.refresh_expires_at,e.refresh_expires_in)};if(Kl=n,typeof window<"u")try{window.localStorage.setItem(ph,JSON.stringify(n))}catch{}return n}function gh(){if(Kl=null,typeof window<"u")try{window.localStorage.removeItem(ph)}catch{}}function iS(){return Kl}function lS(e=Kl){return e?.access_token?{Authorization:`${e.token_type?.trim()||"bearer"} ${e.access_token}`}:{}}function Qx(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toISOString()}function oS(e){const n=e.items.find(r=>r.is_default);return n?n.id:null}function Wx(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function cS(e){return e?{...e,items:e.items??[]}:{items:[],page:1,page_size:0,total:0,has_next:!1,has_previous:!1}}async function Gb(e,n){const r="/api/v1/me/bootstrap";try{const{data:i}=await Be.GET(r,{signal:n,headers:lS(e),params:{query:{page:1,page_size:200,include_total:!1}}});return i??null}catch(i){if(i instanceof qn&&(i.status===401||i.status===403))return null;throw i}}function Xb(e,n=Kl,r=null,i=null){const c=Wx(e.roles),u=Wx(e.permissions),d=cS(e.workspaces);return{user:{...e.user,roles:c,permissions:u,preferred_workspace_id:oS(d)??null},workspaces:d,roles:c,permissions:u,expires_at:Qx(n?.expires_at??null),refresh_expires_at:Qx(n?.refresh_expires_at??null),return_to:r,state:i}}async function Kc(e,n={}){const r=aS(e.session),i=await Gb(r,n.signal);if(!i)throw gh(),new Error("Unable to load session after authentication.");return Xb(i,r,null,null)}async function uS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/providers",{signal:e.signal});return n?gS(n):{providers:[],force_sso:!1}}catch(n){if(n instanceof qn&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function dS(e={}){const n=iS(),r=await Gb(n,e.signal);return r?Xb(r,n):(n&&gh(),null)}async function fS(e,n={}){const{data:r}=await Be.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload from login response.");return Kc(r,n)}async function hS(e={}){const{data:n}=await Be.POST("/api/v1/auth/session/refresh",{body:void 0,signal:e.signal});if(!n)throw new Error("Expected session payload from refresh response.");return Kc(n,e)}async function mS(e){const{code:n,state:r,provider:i="sso",signal:c}=e,{data:u}=await Be.GET("/api/v1/auth/sso/{provider}/callback",{signal:c,params:{path:{provider:i},query:{code:n,state:r}}});if(!u)throw new Error("Expected session payload from SSO callback.");return Kc(u,{signal:c})}async function pS(e={}){try{await Be.DELETE("/api/v1/auth/session",{signal:e.signal,body:void 0})}catch(n){!(n instanceof qn)||n.status!==401&&n.status}finally{gh()}}function gS(e){return{providers:(e.providers??[]).map(xS),force_sso:!!e.force_sso}}function xS(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}const Jb=p.createContext(void 0);function xc(e){return e instanceof Error?e:new Error(String(e))}function Px({session:e,refetch:n,children:r}){return yS(e,n),l.jsx(Jb.Provider,{value:{session:e,refetch:n},children:r})}function bS(){const e=p.useContext(Jb);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Ai(){return bS().session}const vS=6e4;function yS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",xc(x))});return}const u=Math.min(r,i)-vS,d=Math.max(u-c,0);let m=!1;const g=window.setTimeout(async()=>{try{if(await hS(),m)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",xc(x))})}catch(x){if(m)return;console.warn("Failed to refresh session",xc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",xc(b))})}},d);return()=>{m=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function ev(e={}){const n=dt(),r=zn({queryKey:Ms.detail(),queryFn:async({signal:c})=>{const u=await dS({signal:c});return u||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Ms.providers(),exact:!1})},[n,i]),{...r,session:i}}async function wS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/setup",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof qn&&n.status===404)return{requires_setup:!1,has_users:!0};throw n}}async function jS(e){const{data:n}=await Be.POST("/api/v1/auth/setup",{body:e});if(!n)throw new Error("Expected session payload from setup response.");return Kc(n)}function xh(e=!0){return zn({queryKey:Ms.setupStatus(),queryFn:({signal:n})=>wS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const Yl="/workspaces",SS=new Set(["/","/login","/setup","/logout"]);function ES(e){if(!e)return!0;const n=CS(e);return!!(SS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function NS(e){return`${e.pathname}${e.search}${e.hash}`}function Kx(e){const n=NS(e)||"/";return Oc(n)??Yl}function Oc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?Yl:ES(n)?null:n}function Hl(e){return Oc(e)??Yl}function tv(e){return sv("/login",e)}function nv(e){return sv("/setup",e)}function sv(e,n){const r=Hl(n),i=new URLSearchParams;r!==Yl&&i.set("redirectTo",r);const c=i.toString();return c?`${e}?${c}`:e}function Lc(e,n){const r=Oc(e);if(r)return r;const i=Oc(n);return i||Yl}function CS(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Yc({children:e}){const n=$n(),r=Zt(),i=ev(),{session:c,isLoading:u,isError:d,refetch:m}=i,g=!c&&!u&&!d,{data:x,isPending:b,isError:y,isSuccess:w,refetch:E}=xh(g);return p.useEffect(()=>{if(c||u||d)return;if(g){if(b||y)return;if(w&&x?.requires_setup){const j=Kx(n);r(nv(j),{replace:!0});return}}const N=Kx(n);r(tv(N),{replace:!0})},[d,u,y,b,w,n,r,c,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):d?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx(Px,{session:c,refetch:m,children:e}):l.jsx(Px,{session:c,refetch:m,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const Gl=100,bh=50;function Gc(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,Gl)}async function rv(e,n={}){const{maxPages:r=50}=n,i=[];let c=[],u;for(let g=1;g<=r;g+=1){const x=await e(g);if(i.push(x),c=c.concat(x.items??[]),u===void 0&&x.total!==void 0&&(u=x.total??null),!x.has_next)break}const d=i.at(-1),m=i.at(0);if(!d||!m)throw new Error("No pages were returned while collecting pagination results.");return{...d,items:c,page:1,page_size:m.page_size,has_next:!1,has_previous:!1,total:u??d.total}}function vh(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const d of u){const m=n(d),g=i.get(m);if(g===void 0){i.set(m,r.length),r.push(d);continue}r[g]=d}}return r},[e,n])}const av=Gl,iv=bh,lv=bh,ov=bh,kS="workspace",Cc={page:1,pageSize:av,includeTotal:!1},_S={page:1,pageSize:iv,includeTotal:!1},TS={page:1,pageSize:lv,includeTotal:!1},AS={scope:kS,page:1,pageSize:ov,includeTotal:!1},Ht={all:()=>["workspaces"],list:(e=Cc)=>[...Ht.all(),"list",{...e}],detail:e=>[...Ht.all(),"detail",e],members:(e,n=_S)=>[...Ht.detail(e),"members",{...n}],roles:(e,n=TS)=>[...Ht.detail(e),"roles",{...n}],permissions:(e=AS)=>["permissions",{...e}]},kc={page:Cc.page,pageSize:Cc.pageSize,includeTotal:Cc.includeTotal},cv="workspace";async function MS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n);const d=Gc(r??av);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:m}=await Be.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!m)throw new Error("Expected workspace page payload.");const g=[...m.items].sort((x,b)=>x.name.localeCompare(b.name));return{...m,items:g}}async function DS(e){const{data:n}=await Be.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function zS(e,n){const{data:r}=await Be.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function RS(e){await Be.DELETE("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}}})}async function OS(e,n={}){const{page:r,pageSize:i,includeTotal:c,signal:u}=n,d={};typeof r=="number"&&r>0&&(d.page=r);const m=Gc(i??iv);m&&(d.page_size=m),c&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:d},signal:u});if(!g)throw new Error("Expected workspace member page payload.");return g}async function LS(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function US(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function BS(e,n){await Be.DELETE("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}}})}async function qS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:c}=e,u={scope:cv};typeof n=="number"&&n>0&&(u.page=n);const d=Gc(r??lv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:m}=await Be.GET("/api/v1/rbac/roles",{params:{query:u},signal:c});if(!m)throw new Error("Expected workspace role page payload.");return m}async function $S(e,n){const{data:r}=await Be.POST("/api/v1/rbac/roles",{body:n});if(!r)throw new Error("Expected role payload.");return r}async function FS(e,n,r){const{data:i}=await Be.PATCH("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function HS(e,n){await Be.DELETE("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}}})}async function ZS(e={}){const{scope:n=cv,page:r,pageSize:i,includeTotal:c,signal:u}=e,d={scope:n};typeof r=="number"&&r>0&&(d.page=r);const m=Gc(i??ov);m&&(d.page_size=m),c&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/rbac/permissions",{params:{query:d},signal:u});if(!g)throw new Error("Expected permission page payload.");return g}const VS="/api/v1/workspaces/{workspace_id}/default";async function IS(e){await Be.PUT(VS,{params:{path:{workspace_id:e}}})}function QS(){const e=dt();return nn({mutationFn:DS,onSuccess(n){e.setQueryData(Ht.detail(n.id),n),e.getQueriesData({queryKey:Ht.all()}).forEach(([r,i])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!i)return;const c=i.items.findIndex(g=>g.id===n.id),d=[...c>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(r,{...i,items:d,total:m})}),e.invalidateQueries({queryKey:Ht.all()})}})}function WS(e,n){if(!e||typeof e!="object")return e;if("items"in e){const r=e;if(!Array.isArray(r.items))return e;const i=r.items.map(c=>({...c,is_default:c.id===n}));return{...r,items:i}}if("id"in e&&"is_default"in e){const r=e;return{...r,is_default:r.id===n}}return e}function uv(){const e=dt();return nn({mutationFn:n=>IS(n),onSuccess:(n,r)=>{e.setQueriesData({queryKey:Ht.all()},i=>WS(i,r))}})}function PS(e){const n=dt();return nn({mutationFn:r=>zS(e,r),onSuccess:r=>{n.setQueryData(Ht.detail(r.id),r),n.getQueriesData({queryKey:Ht.all()}).forEach(([i,c])=>{if(!Array.isArray(i)||i[0]!=="workspaces"||i[1]!=="list"||!c)return;const d=[...c.items.map(m=>m.id===r.id?r:m)].sort((m,g)=>m.name.localeCompare(g.name));n.setQueryData(i,{...c,items:d})})}})}function KS(e={}){const n=e.page??kc.page,r=e.pageSize??kc.pageSize,i=e.includeTotal??kc.includeTotal;return{queryKey:Ht.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:c})=>MS({page:n,pageSize:r,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function yh(e={}){const n=dt(),r=KS(e),i=n.getQueryData(r.queryKey);return zn({...r,initialData:i})}const YS="documents";function wh(e){return`/workspaces/${e}/${YS}`}function Ef(e){return e instanceof Error?e:new Error(String(e))}function Qs(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",Ef(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",Ef(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",Ef(n))}}}}const GS="backend.app.active_workspace",Qf=Qs(GS);function XS(){return Qf.get()}function dv(e){if(!e){Qf.clear();return}Qf.set(e)}function fv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(r=fv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function fe(){for(var e,n,r=0,i="",c=arguments.length;r<c;r++)(e=arguments[r])&&(n=fv(e))&&(i&&(i+=" "),i+=n);return i}const JS={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},eE={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ke=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:c,children:u,disabled:d,...m},g)=>{const x=d||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:fe("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",JS[n],eE[r],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});ke.displayName="Button";const tE={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function ut({title:e,description:n,action:r,variant:i="empty",className:c}){return l.jsxs("div",{className:fe("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:fe("mb-4 h-8 w-8 rounded-full border-current",tE[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?l.jsx("div",{className:"mt-4",children:r}):null]})}function nE(){return l.jsx(Yc,{children:l.jsx(sE,{})})}function sE(){const e=$n(),n=Zt(),r=Ai(),i=yh(),c=i.data?.items??[],m=[XS(),r.user.preferred_workspace_id].filter(g=>!!g).map(g=>c.find(x=>x.id===g)).find(g=>!!g)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=wh(m.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(ut,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(ut,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ke,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function be(e,n,r){function i(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const b in d.prototype)b in m||Object.defineProperty(m,b,{value:d.prototype[b].bind(m)});m._zod.constr=d,m._zod.def=g}const c=r?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function d(m){var g;const x=r?.Parent?new u:this;i(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class Ei extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class hv extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const mv={};function Na(e){return mv}function rE(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function Wf(e,n){return typeof n=="bigint"?n.toString():n}function jh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Sh(e){return e==null}function Eh(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}const Yx=Symbol("evaluating");function Nt(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==Yx)return i===void 0&&(i=Yx,i=r()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function ka(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function _a(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function Gx(e){return JSON.stringify(e)}const pv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Uc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const aE=jh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Zl(e){if(Uc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(Uc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function gv(e){return Zl(e)?{...e}:Array.isArray(e)?[...e]:e}const iE=new Set(["string","number","symbol"]);function Xc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yr(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Fe(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function lE(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function oE(e,n){const r=e._zod.def,i=_a(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=r.shape[u])}return ka(this,"shape",c),c},checks:[]});return Yr(e,i)}function cE(e,n){const r=e._zod.def,i=_a(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return ka(this,"shape",c),c},checks:[]});return Yr(e,i)}function uE(e,n){if(!Zl(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=_a(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return ka(this,"shape",u),u},checks:[]});return Yr(e,c)}function dE(e,n){if(!Zl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return ka(this,"shape",i),i},checks:e._zod.def.checks};return Yr(e,r)}function fE(e,n){const r=_a(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return ka(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Yr(e,r)}function hE(e,n,r){const i=_a(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const d in r){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=e?new e({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)u[d]=e?new e({type:"optional",innerType:c[d]}):c[d];return ka(this,"shape",u),u},checks:[]});return Yr(n,i)}function mE(e,n,r){const i=_a(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new e({type:"nonoptional",innerType:c[d]}))}else for(const d in c)u[d]=new e({type:"nonoptional",innerType:c[d]});return ka(this,"shape",u),u},checks:[]});return Yr(n,i)}function Si(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function xv(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function bc(e){return typeof e=="string"?e:e?.message}function Ca(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const c=bc(e.inst?._zod.def?.error?.(e))??bc(n?.error?.(e))??bc(r.customError?.(e))??bc(r.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Nh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vl(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const bv=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Wf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ch=be("$ZodError",bv),Jc=be("$ZodError",bv,{Parent:Error});function pE(e,n=r=>r.message){const r={},i=[];for(const c of e.issues)c.path.length>0?(r[c.path[0]]=r[c.path[0]]||[],r[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:r}}function gE(e,n=r=>r.message){const r={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let d=r,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(u))):d[g]=d[g]||{_errors:[]},d=d[g],m++}}};return i(e),r}const eu=e=>(n,r,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new Ei;if(d.issues.length){const m=new(c?.Err??e)(d.issues.map(g=>Ca(g,u,Na())));throw pv(m,c?.callee),m}return d.value},xE=eu(Jc),tu=e=>async(n,r,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const m=new(c?.Err??e)(d.issues.map(g=>Ca(g,u,Na())));throw pv(m,c?.callee),m}return d.value},bE=tu(Jc),nu=e=>(n,r,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},c);if(u instanceof Promise)throw new Ei;return u.issues.length?{success:!1,error:new(e??Ch)(u.issues.map(d=>Ca(d,c,Na())))}:{success:!0,data:u.value}},vE=nu(Jc),su=e=>async(n,r,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>Ca(d,c,Na())))}:{success:!0,data:u.value}},yE=su(Jc),wE=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eu(e)(n,r,c)},jE=e=>(n,r,i)=>eu(e)(n,r,i),SE=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return tu(e)(n,r,c)},EE=e=>async(n,r,i)=>tu(e)(n,r,i),NE=e=>(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return nu(e)(n,r,c)},CE=e=>(n,r,i)=>nu(e)(n,r,i),kE=e=>async(n,r,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return su(e)(n,r,c)},_E=e=>async(n,r,i)=>su(e)(n,r,i),TE=/^[cC][^\s-]{8,}$/,AE=/^[0-9a-z]+$/,ME=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DE=/^[0-9a-vA-V]{20}$/,zE=/^[A-Za-z0-9]{27}$/,RE=/^[a-zA-Z0-9_-]{21}$/,OE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,LE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xx=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,UE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,BE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qE(){return new RegExp(BE,"u")}const $E=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,HE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ZE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,vv=/^[A-Za-z0-9_-]*$/,IE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,QE=/^\+(?:[0-9]){6,14}[0-9]$/,yv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WE=new RegExp(`^${yv}$`);function wv(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function PE(e){return new RegExp(`^${wv(e)}$`)}function KE(e){const n=wv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${yv}T(?:${i})$`)}const YE=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},GE=/^[^A-Z]*$/,XE=/^[^a-z]*$/,Ps=be("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),JE=be("$ZodCheckMaxLength",(e,n)=>{var r;Ps.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Sh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const d=Nh(c);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),eN=be("$ZodCheckMinLength",(e,n)=>{var r;Ps.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Sh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const d=Nh(c);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),tN=be("$ZodCheckLengthEquals",(e,n)=>{var r;Ps.init(e,n),(r=e._zod.def).when??(r.when=i=>{const c=i.value;return!Sh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const d=Nh(c),m=u>n.length;i.issues.push({origin:d,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),ru=be("$ZodCheckStringFormat",(e,n)=>{var r,i;Ps.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),nN=be("$ZodCheckRegex",(e,n)=>{ru.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),sN=be("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=GE),ru.init(e,n)}),rN=be("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=XE),ru.init(e,n)}),aN=be("$ZodCheckIncludes",(e,n)=>{Ps.init(e,n);const r=Xc(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),iN=be("$ZodCheckStartsWith",(e,n)=>{Ps.init(e,n);const r=new RegExp(`^${Xc(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),lN=be("$ZodCheckEndsWith",(e,n)=>{Ps.init(e,n);const r=new RegExp(`.*${Xc(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),oN=be("$ZodCheckOverwrite",(e,n)=>{Ps.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class cN{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),c=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(c)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,c.join(`
`))}}const uN={major:4,minor:1,patch:12},cn=be("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=uN;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(d,m,g)=>{let x=Si(d),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(d))continue}else if(x)continue;const w=d.issues.length,E=y._zod.check(d);if(E instanceof Promise&&g?.async===!1)throw new Ei;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,d.issues.length!==w&&(x||(x=Si(d,w)))});else{if(d.issues.length===w)continue;x||(x=Si(d,w))}}return b?b.then(()=>d):d},u=(d,m,g)=>{if(Si(d))return d.aborted=!0,d;const x=c(m,i,g);if(x instanceof Promise){if(g.async===!1)throw new Ei;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(d,m)=>{if(m.skipChecks)return e._zod.parse(d,m);if(m.direction==="backward"){const x=e._zod.parse({value:d.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,d,m)):u(x,d,m)}const g=e._zod.parse(d,m);if(g instanceof Promise){if(m.async===!1)throw new Ei;return g.then(x=>c(x,i,m))}return c(g,i,m)}}e["~standard"]={validate:c=>{try{const u=vE(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return yE(e,c).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),kh=be("$ZodString",(e,n)=>{cn.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??YE(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ot=be("$ZodStringFormat",(e,n)=>{ru.init(e,n),kh.init(e,n)}),dN=be("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=LE),Ot.init(e,n)}),fN=be("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Xx(i))}else n.pattern??(n.pattern=Xx());Ot.init(e,n)}),hN=be("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=UE),Ot.init(e,n)}),mN=be("$ZodURL",(e,n)=>{Ot.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:IE.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=c.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),pN=be("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=qE()),Ot.init(e,n)}),gN=be("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=RE),Ot.init(e,n)}),xN=be("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=TE),Ot.init(e,n)}),bN=be("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=AE),Ot.init(e,n)}),vN=be("$ZodULID",(e,n)=>{n.pattern??(n.pattern=ME),Ot.init(e,n)}),yN=be("$ZodXID",(e,n)=>{n.pattern??(n.pattern=DE),Ot.init(e,n)}),wN=be("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=zE),Ot.init(e,n)}),jN=be("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=KE(n)),Ot.init(e,n)}),SN=be("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=WE),Ot.init(e,n)}),EN=be("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=PE(n)),Ot.init(e,n)}),NN=be("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=OE),Ot.init(e,n)}),CN=be("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=$E),Ot.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),kN=be("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=FE),Ot.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),_N=be("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=HE),Ot.init(e,n)}),TN=be("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=ZE),Ot.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${c}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function jv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const AN=be("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=VE),Ot.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{jv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function MN(e){if(!vv.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return jv(r)}const DN=be("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=vv),Ot.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{MN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),zN=be("$ZodE164",(e,n)=>{n.pattern??(n.pattern=QE),Ot.init(e,n)});function RN(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const ON=be("$ZodJWT",(e,n)=>{Ot.init(e,n),e._zod.check=r=>{RN(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),LN=be("$ZodUnknown",(e,n)=>{cn.init(e,n),e._zod.parse=r=>r}),UN=be("$ZodNever",(e,n)=>{cn.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Jx(e,n,r){e.issues.length&&n.issues.push(...xv(r,e.issues)),n.value[r]=e.value}const BN=be("$ZodArray",(e,n)=>{cn.init(e,n),e._zod.parse=(r,i)=>{const c=r.value;if(!Array.isArray(c))return r.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),r;r.value=Array(c.length);const u=[];for(let d=0;d<c.length;d++){const m=c[d],g=n.element._zod.run({value:m,issues:[]},i);g instanceof Promise?u.push(g.then(x=>Jx(x,r,d))):Jx(g,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function Bc(e,n,r,i){e.issues.length&&n.issues.push(...xv(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function Sv(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=lE(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function Ev(e,n,r,i,c,u){const d=[],m=c.keySet,g=c.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(x==="never"){d.push(b);continue}const y=g.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>Bc(w,r,b,n))):Bc(y,r,b,n)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const qN=be("$ZodObject",(e,n)=>{if(cn.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=jh(()=>Sv(n));Nt(e._zod,"propValues",()=>{const m=n.shape,g={};for(const x in m){const b=m[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const y of b.values)g[x].add(y)}}return g});const c=Uc,u=n.catchall;let d;e._zod.parse=(m,g)=>{d??(d=i.value);const x=m.value;if(!c(x))return m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m;m.value={};const b=[],y=d.shape;for(const w of d.keys){const N=y[w]._zod.run({value:x[w],issues:[]},g);N instanceof Promise?b.push(N.then(j=>Bc(j,m,w,x))):Bc(N,m,w,x)}return u?Ev(b,x,m,g,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),$N=be("$ZodObjectJIT",(e,n)=>{qN.init(e,n);const r=e._zod.parse,i=jh(()=>Sv(n)),c=w=>{const E=new cN(["shape","payload","ctx"]),N=i.value,j=R=>{const O=Gx(R);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`};E.write("const input = payload.value;");const k=Object.create(null);let T=0;for(const R of N.keys)k[R]=`key_${T++}`;E.write("const newResult = {};");for(const R of N.keys){const O=k[R],L=Gx(R);E.write(`const ${O} = ${j(R)};`),E.write(`
        if (${O}.issues.length) {
          payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${O}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${O}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const C=E.compile();return(R,O)=>C(w,R,O)};let u;const d=Uc,m=!mv.jitless,x=m&&aE.value,b=n.catchall;let y;e._zod.parse=(w,E)=>{y??(y=i.value);const N=w.value;return d(N)?m&&x&&E?.async===!1&&E.jitless!==!0?(u||(u=c(n.shape)),w=u(w,E),b?Ev([],N,w,E,y,e):w):r(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:N,inst:e}),w)}});function e0(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!Si(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(d=>Ca(d,i,Na())))}),n)}const FN=be("$ZodUnion",(e,n)=>{cn.init(e,n),Nt(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Nt(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Nt(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),Nt(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>Eh(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(r)return i(c,u);let d=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:c.value,issues:[]},u);if(x instanceof Promise)m.push(x),d=!0;else{if(x.issues.length===0)return x;m.push(x)}}return d?Promise.all(m).then(g=>e0(g,c,e,u)):e0(m,c,e,u)}}),HN=be("$ZodIntersection",(e,n)=>{cn.init(e,n),e._zod.parse=(r,i)=>{const c=r.value,u=n.left._zod.run({value:c,issues:[]},i),d=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([g,x])=>t0(r,g,x)):t0(r,u,d)}});function Pf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Zl(e)&&Zl(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),c={...e,...n};for(const u of i){const d=Pf(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};c[u]=d.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],d=Pf(c,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function t0(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Si(e))return e;const i=Pf(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const ZN=be("$ZodEnum",(e,n)=>{cn.init(e,n);const r=rE(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(c=>iE.has(typeof c)).map(c=>typeof c=="string"?Xc(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const d=c.value;return i.has(d)||c.issues.push({code:"invalid_value",values:r,input:d,inst:e}),c}}),VN=be("$ZodTransform",(e,n)=>{cn.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new hv(e.constructor.name);const c=n.transform(r.value,r);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(d=>(r.value=d,r));if(c instanceof Promise)throw new Ei;return r.value=c,r}});function n0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const IN=be("$ZodOptional",(e,n)=>{cn.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Nt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Nt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Eh(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>n0(u,r.value)):n0(c,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),QN=be("$ZodNullable",(e,n)=>{cn.init(e,n),Nt(e._zod,"optin",()=>n.innerType._zod.optin),Nt(e._zod,"optout",()=>n.innerType._zod.optout),Nt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Eh(r.source)}|null)$`):void 0}),Nt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),WN=be("$ZodDefault",(e,n)=>{cn.init(e,n),e._zod.optin="optional",Nt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>s0(u,n)):s0(c,n)}});function s0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const PN=be("$ZodPrefault",(e,n)=>{cn.init(e,n),e._zod.optin="optional",Nt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),KN=be("$ZodNonOptional",(e,n)=>{cn.init(e,n),Nt(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>r0(u,e)):r0(c,e)}});function r0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const YN=be("$ZodCatch",(e,n)=>{cn.init(e,n),Nt(e._zod,"optin",()=>n.innerType._zod.optin),Nt(e._zod,"optout",()=>n.innerType._zod.optout),Nt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>Ca(d,i,Na()))},input:r.value}),r.issues=[]),r)):(r.value=c.value,c.issues.length&&(r.value=n.catchValue({...r,error:{issues:c.issues.map(u=>Ca(u,i,Na()))},input:r.value}),r.issues=[]),r)}}),GN=be("$ZodPipe",(e,n)=>{cn.init(e,n),Nt(e._zod,"values",()=>n.in._zod.values),Nt(e._zod,"optin",()=>n.in._zod.optin),Nt(e._zod,"optout",()=>n.out._zod.optout),Nt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(d=>vc(d,n.in,i)):vc(u,n.in,i)}const c=n.in._zod.run(r,i);return c instanceof Promise?c.then(u=>vc(u,n.out,i)):vc(c,n.out,i)}});function vc(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const XN=be("$ZodReadonly",(e,n)=>{cn.init(e,n),Nt(e._zod,"propValues",()=>n.innerType._zod.propValues),Nt(e._zod,"values",()=>n.innerType._zod.values),Nt(e._zod,"optin",()=>n.innerType._zod.optin),Nt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const c=n.innerType._zod.run(r,i);return c instanceof Promise?c.then(a0):a0(c)}});function a0(e){return e.value=Object.freeze(e.value),e}const JN=be("$ZodCustom",(e,n)=>{Ps.init(e,n),cn.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>i0(u,r,i,e));i0(c,r,i,e)}});function i0(e,n,r,i){if(!e){const c={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(Vl(c))}}class eC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function tC(){return new eC}const yc=tC();function nC(e,n){return new e({type:"string",...Fe(n)})}function sC(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Fe(n)})}function l0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(n)})}function rC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(n)})}function aC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(n)})}function iC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(n)})}function lC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(n)})}function oC(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Fe(n)})}function cC(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(n)})}function uC(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(n)})}function dC(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(n)})}function fC(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(n)})}function hC(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(n)})}function mC(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(n)})}function pC(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(n)})}function gC(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(n)})}function xC(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(n)})}function bC(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(n)})}function vC(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(n)})}function yC(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(n)})}function wC(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(n)})}function jC(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(n)})}function SC(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(n)})}function EC(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(n)})}function NC(e,n){return new e({type:"string",format:"date",check:"string_format",...Fe(n)})}function CC(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Fe(n)})}function kC(e,n){return new e({type:"string",format:"duration",check:"string_format",...Fe(n)})}function _C(e){return new e({type:"unknown"})}function TC(e,n){return new e({type:"never",...Fe(n)})}function Nv(e,n){return new JE({check:"max_length",...Fe(n),maximum:e})}function qc(e,n){return new eN({check:"min_length",...Fe(n),minimum:e})}function Cv(e,n){return new tN({check:"length_equals",...Fe(n),length:e})}function AC(e,n){return new nN({check:"string_format",format:"regex",...Fe(n),pattern:e})}function MC(e){return new sN({check:"string_format",format:"lowercase",...Fe(e)})}function DC(e){return new rN({check:"string_format",format:"uppercase",...Fe(e)})}function zC(e,n){return new aN({check:"string_format",format:"includes",...Fe(n),includes:e})}function RC(e,n){return new iN({check:"string_format",format:"starts_with",...Fe(n),prefix:e})}function OC(e,n){return new lN({check:"string_format",format:"ends_with",...Fe(n),suffix:e})}function Xl(e){return new oN({check:"overwrite",tx:e})}function LC(e){return Xl(n=>n.normalize(e))}function UC(){return Xl(e=>e.trim())}function BC(){return Xl(e=>e.toLowerCase())}function qC(){return Xl(e=>e.toUpperCase())}function $C(e,n,r){return new e({type:"array",element:n,...Fe(r)})}function FC(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Fe(r)})}function HC(e){const n=ZC(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Vl(i,r.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=r.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),r.issues.push(Vl(c))}},e(r.value,r)));return n}function ZC(e,n){const r=new Ps({check:"custom",...Fe(n)});return r._zod.check=e,r}const VC=be("ZodISODateTime",(e,n)=>{jN.init(e,n),Bt.init(e,n)});function IC(e){return EC(VC,e)}const QC=be("ZodISODate",(e,n)=>{SN.init(e,n),Bt.init(e,n)});function WC(e){return NC(QC,e)}const PC=be("ZodISOTime",(e,n)=>{EN.init(e,n),Bt.init(e,n)});function KC(e){return CC(PC,e)}const YC=be("ZodISODuration",(e,n)=>{NN.init(e,n),Bt.init(e,n)});function GC(e){return kC(YC,e)}const XC=(e,n)=>{Ch.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>gE(e,r)},flatten:{value:r=>pE(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Wf,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Wf,2)}},isEmpty:{get(){return e.issues.length===0}}})},vs=be("ZodError",XC,{Parent:Error}),JC=eu(vs),e2=tu(vs),t2=nu(vs),n2=su(vs),s2=wE(vs),r2=jE(vs),a2=SE(vs),i2=EE(vs),l2=NE(vs),o2=CE(vs),c2=kE(vs),u2=_E(vs),gn=be("ZodType",(e,n)=>(cn.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(_a(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>Yr(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>JC(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>t2(e,r,i),e.parseAsync=async(r,i)=>e2(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>n2(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>s2(e,r,i),e.decode=(r,i)=>r2(e,r,i),e.encodeAsync=async(r,i)=>a2(e,r,i),e.decodeAsync=async(r,i)=>i2(e,r,i),e.safeEncode=(r,i)=>l2(e,r,i),e.safeDecode=(r,i)=>o2(e,r,i),e.safeEncodeAsync=async(r,i)=>c2(e,r,i),e.safeDecodeAsync=async(r,i)=>u2(e,r,i),e.refine=(r,i)=>e.check(ek(r,i)),e.superRefine=r=>e.check(tk(r)),e.overwrite=r=>e.check(Xl(r)),e.optional=()=>u0(e),e.nullable=()=>d0(e),e.nullish=()=>u0(d0(e)),e.nonoptional=r=>W2(e,r),e.array=()=>z2(e),e.or=r=>L2([e,r]),e.and=r=>B2(e,r),e.transform=r=>f0(e,F2(r)),e.default=r=>V2(e,r),e.prefault=r=>Q2(e,r),e.catch=r=>K2(e,r),e.pipe=r=>f0(e,r),e.readonly=()=>X2(e),e.describe=r=>{const i=e.clone();return yc.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return yc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return yc.get(e);const i=e.clone();return yc.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),kv=be("_ZodString",(e,n)=>{kh.init(e,n),gn.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(AC(...i)),e.includes=(...i)=>e.check(zC(...i)),e.startsWith=(...i)=>e.check(RC(...i)),e.endsWith=(...i)=>e.check(OC(...i)),e.min=(...i)=>e.check(qc(...i)),e.max=(...i)=>e.check(Nv(...i)),e.length=(...i)=>e.check(Cv(...i)),e.nonempty=(...i)=>e.check(qc(1,...i)),e.lowercase=i=>e.check(MC(i)),e.uppercase=i=>e.check(DC(i)),e.trim=()=>e.check(UC()),e.normalize=(...i)=>e.check(LC(...i)),e.toLowerCase=()=>e.check(BC()),e.toUpperCase=()=>e.check(qC())}),d2=be("ZodString",(e,n)=>{kh.init(e,n),kv.init(e,n),e.email=r=>e.check(sC(f2,r)),e.url=r=>e.check(oC(h2,r)),e.jwt=r=>e.check(SC(_2,r)),e.emoji=r=>e.check(cC(m2,r)),e.guid=r=>e.check(l0(o0,r)),e.uuid=r=>e.check(rC(wc,r)),e.uuidv4=r=>e.check(aC(wc,r)),e.uuidv6=r=>e.check(iC(wc,r)),e.uuidv7=r=>e.check(lC(wc,r)),e.nanoid=r=>e.check(uC(p2,r)),e.guid=r=>e.check(l0(o0,r)),e.cuid=r=>e.check(dC(g2,r)),e.cuid2=r=>e.check(fC(x2,r)),e.ulid=r=>e.check(hC(b2,r)),e.base64=r=>e.check(yC(N2,r)),e.base64url=r=>e.check(wC(C2,r)),e.xid=r=>e.check(mC(v2,r)),e.ksuid=r=>e.check(pC(y2,r)),e.ipv4=r=>e.check(gC(w2,r)),e.ipv6=r=>e.check(xC(j2,r)),e.cidrv4=r=>e.check(bC(S2,r)),e.cidrv6=r=>e.check(vC(E2,r)),e.e164=r=>e.check(jC(k2,r)),e.datetime=r=>e.check(IC(r)),e.date=r=>e.check(WC(r)),e.time=r=>e.check(KC(r)),e.duration=r=>e.check(GC(r))});function As(e){return nC(d2,e)}const Bt=be("ZodStringFormat",(e,n)=>{Ot.init(e,n),kv.init(e,n)}),f2=be("ZodEmail",(e,n)=>{hN.init(e,n),Bt.init(e,n)}),o0=be("ZodGUID",(e,n)=>{dN.init(e,n),Bt.init(e,n)}),wc=be("ZodUUID",(e,n)=>{fN.init(e,n),Bt.init(e,n)}),h2=be("ZodURL",(e,n)=>{mN.init(e,n),Bt.init(e,n)}),m2=be("ZodEmoji",(e,n)=>{pN.init(e,n),Bt.init(e,n)}),p2=be("ZodNanoID",(e,n)=>{gN.init(e,n),Bt.init(e,n)}),g2=be("ZodCUID",(e,n)=>{xN.init(e,n),Bt.init(e,n)}),x2=be("ZodCUID2",(e,n)=>{bN.init(e,n),Bt.init(e,n)}),b2=be("ZodULID",(e,n)=>{vN.init(e,n),Bt.init(e,n)}),v2=be("ZodXID",(e,n)=>{yN.init(e,n),Bt.init(e,n)}),y2=be("ZodKSUID",(e,n)=>{wN.init(e,n),Bt.init(e,n)}),w2=be("ZodIPv4",(e,n)=>{CN.init(e,n),Bt.init(e,n)}),j2=be("ZodIPv6",(e,n)=>{kN.init(e,n),Bt.init(e,n)}),S2=be("ZodCIDRv4",(e,n)=>{_N.init(e,n),Bt.init(e,n)}),E2=be("ZodCIDRv6",(e,n)=>{TN.init(e,n),Bt.init(e,n)}),N2=be("ZodBase64",(e,n)=>{AN.init(e,n),Bt.init(e,n)}),C2=be("ZodBase64URL",(e,n)=>{DN.init(e,n),Bt.init(e,n)}),k2=be("ZodE164",(e,n)=>{zN.init(e,n),Bt.init(e,n)}),_2=be("ZodJWT",(e,n)=>{ON.init(e,n),Bt.init(e,n)}),T2=be("ZodUnknown",(e,n)=>{LN.init(e,n),gn.init(e,n)});function c0(){return _C(T2)}const A2=be("ZodNever",(e,n)=>{UN.init(e,n),gn.init(e,n)});function M2(e){return TC(A2,e)}const D2=be("ZodArray",(e,n)=>{BN.init(e,n),gn.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(qc(r,i)),e.nonempty=r=>e.check(qc(1,r)),e.max=(r,i)=>e.check(Nv(r,i)),e.length=(r,i)=>e.check(Cv(r,i)),e.unwrap=()=>e.element});function z2(e,n){return $C(D2,e,n)}const R2=be("ZodObject",(e,n)=>{$N.init(e,n),gn.init(e,n),Nt(e,"shape",()=>n.shape),e.keyof=()=>q2(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:c0()}),e.loose=()=>e.clone({...e._zod.def,catchall:c0()}),e.strict=()=>e.clone({...e._zod.def,catchall:M2()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>uE(e,r),e.safeExtend=r=>dE(e,r),e.merge=r=>fE(e,r),e.pick=r=>oE(e,r),e.omit=r=>cE(e,r),e.partial=(...r)=>hE(_v,e,r[0]),e.required=(...r)=>mE(Tv,e,r[0])});function au(e,n){const r={type:"object",shape:e??{},...Fe(n)};return new R2(r)}const O2=be("ZodUnion",(e,n)=>{FN.init(e,n),gn.init(e,n),e.options=n.options});function L2(e,n){return new O2({type:"union",options:e,...Fe(n)})}const U2=be("ZodIntersection",(e,n)=>{HN.init(e,n),gn.init(e,n)});function B2(e,n){return new U2({type:"intersection",left:e,right:n})}const Kf=be("ZodEnum",(e,n)=>{ZN.init(e,n),gn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Kf({...n,checks:[],...Fe(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new Kf({...n,checks:[],...Fe(c),entries:u})}});function q2(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Kf({type:"enum",entries:r,...Fe(n)})}const $2=be("ZodTransform",(e,n)=>{VN.init(e,n),gn.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new hv(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(Vl(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=e),r.issues.push(Vl(d))}};const c=n.transform(r.value,r);return c instanceof Promise?c.then(u=>(r.value=u,r)):(r.value=c,r)}});function F2(e){return new $2({type:"transform",transform:e})}const _v=be("ZodOptional",(e,n)=>{IN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function u0(e){return new _v({type:"optional",innerType:e})}const H2=be("ZodNullable",(e,n)=>{QN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function d0(e){return new H2({type:"nullable",innerType:e})}const Z2=be("ZodDefault",(e,n)=>{WN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function V2(e,n){return new Z2({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():gv(n)}})}const I2=be("ZodPrefault",(e,n)=>{PN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Q2(e,n){return new I2({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():gv(n)}})}const Tv=be("ZodNonOptional",(e,n)=>{KN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function W2(e,n){return new Tv({type:"nonoptional",innerType:e,...Fe(n)})}const P2=be("ZodCatch",(e,n)=>{YN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function K2(e,n){return new P2({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const Y2=be("ZodPipe",(e,n)=>{GN.init(e,n),gn.init(e,n),e.in=n.in,e.out=n.out});function f0(e,n){return new Y2({type:"pipe",in:e,out:n})}const G2=be("ZodReadonly",(e,n)=>{XN.init(e,n),gn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function X2(e){return new G2({type:"readonly",innerType:e})}const J2=be("ZodCustom",(e,n)=>{JN.init(e,n),gn.init(e,n)});function ek(e,n={}){return FC(J2,e,n)}function tk(e){return HC(e)}function nk(){return zn({queryKey:Ms.providers(),queryFn:({signal:e})=>uS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const sk={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function nt({tone:e="info",heading:n,icon:r,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:fe("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",sk[e],i),...u,children:[r?l.jsx("span",{"aria-hidden":"true",children:r}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}function vt({label:e,hint:n,error:r,required:i=!1,children:c,className:u}){const d=p.useId(),m=p.isValidElement(c)?c.props??{}:{},g=m.id??d,x=n?`${g}-hint`:void 0,b=r?`${g}-error`:void 0,y=[x,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:fe("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:g,required:i||m.required,"aria-describedby":y,"aria-invalid":r?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,r?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const Av="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",mt=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>l.jsx("input",{ref:i,className:fe(Av,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));mt.displayName="Input";const rk=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},c)=>l.jsx("textarea",{ref:c,rows:r,className:fe(Av,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));rk.displayName="TextArea";const ak=au({email:As().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:As().min(1,"Enter your password.")});function ik(){const e=$n(),n=Zt(),r=dt(),i=ev(),{session:c,isLoading:u,isError:d}=i,m=!c&&!u&&!d,g=xh(m),x=nk(),b=x.data?.providers??[],y=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const L=new URLSearchParams(e.search);return Hl(L.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Lc(c.return_to,E),{replace:!0})},[n,E,c]),p.useEffect(()=>{m&&(g.isPending||g.isError||g.data?.requires_setup&&n(nv(E),{replace:!0}))},[n,E,g.data?.requires_setup,g.isError,g.isPending,m]);const[N,j]=p.useState(null),[k,T]=p.useState(!1);if(p.useEffect(()=>{j(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(d)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(ke,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(ke,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const C=async L=>{L.preventDefault(),j(null);const se=new FormData(L.currentTarget),B=Object.fromEntries(se.entries()),I=ak.safeParse(B);if(!I.success){const G=I.error.issues[0]?.message??"Invalid input.";j(G);return}const{email:H,password:Z}=I.data,P=typeof B.redirectTo=="string"?B.redirectTo:null,U=Hl(P);T(!0);try{const G=await fS({email:H,password:Z});r.setQueryData(Ms.detail(),G),n(Lc(G.return_to,U),{replace:!0})}catch(G){if(G instanceof qn){const ce=G.problem?.detail??G.message??"Unable to sign in.";j(ce)}else G instanceof Error?j(G.message):j("Unable to sign in.")}finally{T(!1)}},R=!!N&&!k,O=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(nt,{tone:"warning",className:"mt-6",children:w}):null,O?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(L=>l.jsxs("a",{href:L.start_url??"#",className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",L.label]},L.id))}):null,y?l.jsx(nt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:C,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:E}),l.jsx(vt,{label:"Email address",required:!0,children:l.jsx(mt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:k})}),l.jsx(vt,{label:"Password",required:!0,children:l.jsx(mt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:k})}),R?l.jsx(nt,{tone:"danger",children:N}):null,l.jsx(ke,{type:"submit",className:"w-full justify-center",isLoading:k,disabled:k,children:k?"Signing in":"Continue"})]})]})})}function lk(){const e=Zt(),n=$n(),r=dt(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const d=new URLSearchParams(n.search),m=d.get("code")??"",g=d.get("state")??"";if(!m||!g){c("Missing authorization details from the identity provider.");return}async function x(){try{const b=await mS({code:m,state:g});if(u)return;r.setQueryData(Ms.detail(),b);const y=Lc(b.return_to,d.get("next"));e(y,{replace:!0})}catch(b){if(u)return;b instanceof qn?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,r]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(ut,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(ke,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(ut,{title:"Finishing sign-in",variant:"loading"})})}const ok=au({displayName:As().min(1,"Display name is required."),email:As().min(1,"Email is required.").email("Enter a valid email address."),password:As().min(12,"Use at least 12 characters."),confirmPassword:As().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function ck(){const e=$n(),n=Zt(),r=dt(),i=xh(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Hl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(tv(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,d]=p.useState(null),[m,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(ke,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),d(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),E=ok.safeParse(w);if(!E.success){const j=E.error.issues[0]?.message??"Invalid input.";d(j);return}g(!0);const N=Hl(w.redirectTo);try{const j=await jS({display_name:E.data.displayName,email:E.data.email,password:E.data.password});r.setQueryData(Ms.detail(),j),n(Lc(j.return_to,N),{replace:!0})}catch(j){if(j instanceof qn){const k=j.problem?.detail??j.message??"Setup failed. Try again.";d(k)}else j instanceof Error?d(j.message):d("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(vt,{label:"Display name",required:!0,children:l.jsx(mt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(vt,{label:"Email",required:!0,children:l.jsx(mt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(vt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(mt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(vt,{label:"Confirm password",required:!0,children:l.jsx(mt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(nt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(ke,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function Mv({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:d="k",enableShortcut:m=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:y,variant:w="default",isLoading:E=!1,loadingLabel:N="Loading suggestions",filters:j,onSelectFilter:k,emptyState:T,onChange:C,onSubmit:R,onClear:O,onFocus:L,onBlur:se,suggestions:B=[],onSelectSuggestion:I,renderSuggestion:H}){const Z=p.useId(),P=e??Z,U=`${Z}-suggestions`,G=p.useRef(null),ce=n!==void 0,[we,A]=p.useState(r),[z,ge]=p.useState(!1),[ye,oe]=p.useState(0),_=ce?n??"":we,K=B.length>0,le=!!j?.length,F=z&&(K||E||!!T||le),te=z&&!K&&!E&&!!T,V=!!(O||!ce),X=u||"K",$=c??i;p.useEffect(()=>{ce||A(r)},[r,ce]),p.useEffect(()=>{oe(0)},[B.length,_]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Te=Ye=>{(Ye.metaKey||Ye.ctrlKey)&&Ye.key.toLowerCase()===d.toLowerCase()&&(Ye.preventDefault(),G.current?.focus())};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[m,d]);const ae=Te=>{Te.preventDefault();const Ye=_.trim();!Ye&&!R||R?.(Ye)},me=Te=>{ce||A(Te),C?.(Te)},pe=()=>{_&&(ce||A(""),C?.(""),O?.(),G.current?.focus())},Ce=Te=>{Te&&(I?.(Te),Te.action?.(),ge(!1),G.current?.blur())},We=Te=>{if(!F||!K){Te.key==="Escape"&&(ge(!1),Te.currentTarget.blur());return}if(Te.key==="ArrowDown"){Te.preventDefault(),oe(Ye=>(Ye+1)%B.length);return}if(Te.key==="ArrowUp"){Te.preventDefault(),oe(Ye=>(Ye-1+B.length)%B.length);return}if(Te.key==="Enter"){Te.preventDefault(),Ce(B[ye]);return}Te.key==="Escape"&&(Te.preventDefault(),ge(!1),Te.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:fe("relative",y),children:[l.jsx("div",{className:fe("group/search overflow-hidden",Oe,F&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":$,onSubmit:ae,children:[l.jsx("label",{htmlFor:P,className:"sr-only",children:$}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(dk,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:G,id:P,type:"search",value:_,onChange:Te=>me(Te.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onFocus:()=>{ge(!0),L?.(),K||oe(0)},onBlur:()=>{ge(!1),se?.()},onKeyDown:We,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":F,"aria-controls":F?U:void 0,"aria-activedescendant":F&&K?`${U}-option-${ye}`:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[V&&_?l.jsx("button",{type:"button",onClick:pe,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(fk,{className:"h-3.5 w-3.5"})}):null,E?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":N,children:l.jsx(hk,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:X})]})]})}),F?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[K?l.jsx("ul",{id:U,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:B.map((Te,Ye)=>{const Lt=Ye===ye,it=H?.({suggestion:Te,active:Lt})??l.jsx(uk,{suggestion:Te,active:Lt});return l.jsx("li",{children:l.jsx("button",{id:`${U}-option-${Ye}`,type:"button",role:"option","aria-selected":Lt,onMouseEnter:()=>oe(Ye),onMouseDown:Nn=>Nn.preventDefault(),onClick:()=>Ce(Te),className:fe("flex w-full px-5 py-3 text-left transition",Lt?"bg-brand-50/60":"hover:bg-slate-50/80"),children:it})},Te.id)})}):null,te?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:T}):null,le?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),j?.map(Te=>l.jsx("button",{type:"button",onMouseDown:Ye=>Ye.preventDefault(),onClick:()=>k?.(Te),className:fe("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Te.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Te.label},Te.id))]})}):null]}):null]})}function uk({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:fe("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function dk({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function fk({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function hk({className:e="h-4 w-4"}){return l.jsxs("svg",{className:fe("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function Dv({brand:e,leading:n,actions:r,trailing:i,search:c,secondaryContent:u}){const d=!!c,m=c?{...c,className:fe("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:fe("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",d?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(Mv,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function zv({displayName:e,email:n,actions:r=[]}){const[i,c]=p.useState(!1),[u,d]=p.useState(!1),m=p.useRef(null),g=p.useRef(null),x=Zt(),b=p.useMemo(()=>mk(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const N=k=>{const T=k.target;T&&(g.current?.contains(T)||m.current?.contains(T)||y())},j=k=>{k.key==="Escape"&&y()};return window.addEventListener("mousedown",N),window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",N),window.removeEventListener("touchstart",N),window.removeEventListener("keydown",j)}},[y,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(N=>{y(),N()},[y]),E=p.useCallback(async()=>{u||(y(),d(!0),x("/logout",{replace:!0}))},[y,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(N=>!N),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(gk,{className:fe("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:r.map(N=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(N.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:N.icon??N.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:N.label}),N.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:N.description}):null]})]})},N.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(pk,{}):null]})})]}):null]})}function mk(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function pk(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function gk({className:e}){return l.jsx("svg",{className:fe("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}var is=Ab();const xk="1.6.1",bk=xk.trim(),vk=bk||"unknown";async function yk(e={}){const{data:n}=await Be.GET("/api/v1/system/safe-mode",{signal:e.signal}),r=n??{},i=!!r.enabled,c=typeof r.detail=="string"&&r.detail.trim().length>0?r.detail.trim():Mi;return{enabled:i,detail:c}}async function wk(e={}){const{data:n}=await Be.GET("/api/v1/meta/versions",{signal:e.signal}),r=n??{};return{ade_api:h0(r.ade_api),ade_engine:h0(r.ade_engine)}}const Mi="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function h0(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const m0=["system","safe-mode"],p0=["system","versions"];function Rv(){const n=dt().getQueryData(m0);return zn({queryKey:m0,queryFn:({signal:r})=>yk({signal:r}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function jk(e={}){const r=dt().getQueryData(p0);return zn({queryKey:p0,queryFn:({signal:i})=>wk({signal:i}),initialData:r,staleTime:300*1e3,enabled:e.enabled??!0})}function Ov({open:e,onClose:n}){const r=p.useRef(null),i=p.useRef(null),c=jk({enabled:e}),u=c.isError,d=c.data?.ade_api??(c.isPending?"Loading...":"unknown"),m=c.data?.ade_engine??(c.isPending?"Loading...":"unknown");if(p.useEffect(()=>{if(!e)return;const x=b=>{b.key==="Escape"&&n()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,n]),p.useEffect(()=>{if(!e)return;const{body:x}=document,b=x.style.overflow;return x.style.overflow="hidden",()=>{x.style.overflow=b}},[e]),p.useEffect(()=>{e&&i.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const g=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",role:"presentation",onMouseDown:x=>{x.target===x.currentTarget&&n()},children:l.jsxs("div",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-slate-200/80 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"About"}),l.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-slate-900",children:"ADE versions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),l.jsx(ke,{ref:i,variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nf,{label:"ade-web",value:vk,hint:"Frontend build"}),l.jsx(Nf,{label:"ade-api",value:d,hint:"Backend service"}),l.jsx(Nf,{label:"ade-engine",value:m,hint:"Engine runtime"})]}),u?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(nt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),l.jsx(ke,{size:"sm",variant:"secondary",onClick:()=>c.refetch(),children:"Retry"})]}):null]})});return is.createPortal(g,document.body)}function Nf({label:e,value:n,hint:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"text-xs text-slate-500",children:r})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("code",{className:"rounded bg-slate-900/90 px-2.5 py-1 text-xs font-mono text-white shadow-sm",children:n})})]})}function Sk({title:e,...n}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":e?void 0:!0,role:e?"img":"presentation",...n,children:[e?l.jsx("title",{children:e}):null,l.jsx("path",{d:"M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"})]})}function Lv({children:e,sidePanel:n,actions:r,search:i}){const c=Ai(),u=Zt(),[d,m]=p.useState(!1),g=c.user.display_name||c.user.email||"Signed in",x=c.user.email??"";return l.jsxs(l.Fragment,{children:[l.jsx(Ov,{open:d,onClose:()=>m(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(Dv,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(Sk,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?l.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(zv,{displayName:g,email:x,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>m(!0)}]})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})]})}const Ek="K",Nk="Ctrl+K";function Uv({macLabel:e=Ek,windowsLabel:n=Nk}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),r}function Ck(){return l.jsx(Yc,{children:l.jsx(kk,{})})}function kk(){const e=Zt(),n=Ai(),r=yh(),i=uv(),[c,u]=p.useState(null),[d,m]=p.useState(null),g=p.useMemo(()=>(n.user.permissions??[]).map(U=>U.toLowerCase()),[n.user.permissions]),x=g.includes("workspaces.create")||g.includes("workspaces.manage_all"),[b,y]=p.useState(""),w=Uv(),E=r.data,N=p.useMemo(()=>E?.items??[],[E?.items]),j=b.trim().toLowerCase(),k=p.useMemo(()=>j?N.filter(U=>{const G=U.name.toLowerCase(),ce=U.slug?.toLowerCase()??"";return G.includes(j)||ce.includes(j)}):N,[N,j]),T=p.useCallback(U=>e(wh(U)),[e]),C=x?l.jsx(ke,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,R=p.useCallback(()=>{if(!j)return;const U=k[0];U&&T(U.id)},[k,j,T]),O=p.useCallback(()=>y(""),[]),se=(j?k:N).slice(0,5).map(U=>({id:U.id,label:U.name,description:U.slug?`Slug  ${U.slug}`:"Workspace"})),B=p.useCallback(U=>{y(""),T(U.id)},[T]),I=p.useCallback(async U=>{m(null),u(U.id);try{await i.mutateAsync(U.id),dv(U.id)}catch(G){console.warn("workspaces.set_default.failed",G),m("Unable to set the default workspace. Please try again.")}finally{u(null)}},[i]),H={value:b,onChange:y,onSubmit:R,placeholder:"Search workspaces or jump to one instantly",shortcutHint:w,scopeLabel:"Workspace directory",suggestions:se,onSelectSuggestion:B,onClear:O},Z={...H,shortcutHint:void 0,onClear:O,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(ut,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(ut,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ke,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const P=N.length===0?x?l.jsx(Tk,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(ut,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):k.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(ut,{title:`No workspaces matching "${b}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(ke,{variant:"secondary",onClick:O,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),d?l.jsx(nt,{tone:"danger",heading:"We couldn't update your default workspace",children:d}):null,l.jsx(Mv,{...Z,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:k.map(U=>{const G=i.isPending&&c===U.id;return l.jsxs("div",{className:"group relative rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-white",children:[l.jsxs("button",{type:"button",onClick:()=>T(U.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${U.name}`,children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"space-y-1 pr-24",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:U.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",U.slug]})]})}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:U.permissions.length>0?U.permissions.join(", "):"None"})]}),l.jsx("div",{className:"absolute right-5 top-5",children:U.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):l.jsx(ke,{variant:"secondary",size:"sm",isLoading:G,disabled:G,onClick:()=>void I(U),children:"Set as default"})})]},U.id)})})]});return l.jsx(Lv,{actions:C,search:H,sidePanel:l.jsx(_k,{canCreate:x,onCreate:()=>e("/workspaces/new")}),children:P})}function _k({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(ke,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function Tk({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(ke,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var Jl=e=>e.type==="checkbox",wa=e=>e instanceof Date,Wn=e=>e==null;const Bv=e=>typeof e=="object";var tn=e=>!Wn(e)&&!Array.isArray(e)&&Bv(e)&&!wa(e),Ak=e=>tn(e)&&e.target?Jl(e.target)?e.target.checked:e.target.value:e,Mk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Dk=(e,n)=>e.has(Mk(n)),zk=e=>{const n=e.constructor&&e.constructor.prototype;return tn(n)&&n.hasOwnProperty("isPrototypeOf")},_h=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(_h&&(e instanceof Blob||i))&&(r||tn(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!zk(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=mn(e[c]));else return e;return n}var iu=e=>/^\w*$/.test(e),Wt=e=>e===void 0,Th=e=>Array.isArray(e)?e.filter(Boolean):[],Ah=e=>Th(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,n,r)=>{if(!n||!tn(e))return r;const i=(iu(n)?[n]:Ah(n)).reduce((c,u)=>Wn(c)?c:c[u],e);return Wt(i)||i===e?Wt(e[n])?r:e[n]:i},Is=e=>typeof e=="boolean",St=(e,n,r)=>{let i=-1;const c=iu(n)?[n]:Ah(n),u=c.length,d=u-1;for(;++i<u;){const m=c[i];let g=r;if(i!==d){const x=e[m];g=tn(x)||Array.isArray(x)?x:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const g0={BLUR:"blur",FOCUS_OUT:"focusout"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rk=bt.createContext(null);Rk.displayName="HookFormContext";var Ok=(e,n,r,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const d=u;return n._proxyFormState[d]!==_s.all&&(n._proxyFormState[d]=!i||_s.all),e[d]}});return c};const Lk=typeof window<"u"?bt.useLayoutEffect:bt.useEffect;var as=e=>typeof e=="string",Uk=(e,n,r,i,c)=>as(e)?(i&&n.watch.add(e),ze(r,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),ze(r,u))):(i&&(n.watchAll=!0),r),Yf=e=>Wn(e)||!Bv(e);function Pr(e,n,r=new WeakSet){if(Yf(e)||Yf(n))return e===n;if(wa(e)&&wa(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const d=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(wa(d)&&wa(m)||tn(d)&&tn(m)||Array.isArray(d)&&Array.isArray(m)?!Pr(d,m,r):d!==m)return!1}}return!0}var Mh=(e,n,r,i,c)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:c||!0}}:{},Rl=e=>Array.isArray(e)?e:[e],x0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function qv(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&tn(c)&&u){const d=qv(c,u);tn(d)&&(r[i]=d)}else e[i]&&(r[i]=u)}return r}var Qn=e=>tn(e)&&!Object.keys(e).length,Dh=e=>e.type==="file",Ts=e=>typeof e=="function",$c=e=>{if(!_h)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},$v=e=>e.type==="select-multiple",zh=e=>e.type==="radio",Bk=e=>zh(e)||Jl(e),Cf=e=>$c(e)&&e.isConnected;function qk(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=Wt(e)?i++:e[n[i++]];return e}function $k(e){for(const n in e)if(e.hasOwnProperty(n)&&!Wt(e[n]))return!1;return!0}function en(e,n){const r=Array.isArray(n)?n:iu(n)?[n]:Ah(n),i=r.length===1?e:qk(e,r),c=r.length-1,u=r[c];return i&&delete i[u],c!==0&&(tn(i)&&Qn(i)||Array.isArray(i)&&$k(i))&&en(e,r.slice(0,-1)),e}var Fk=e=>{for(const n in e)if(Ts(e[n]))return!0;return!1};function Fv(e){return Array.isArray(e)||tn(e)&&!Fk(e)}function Gf(e,n={}){for(const r in e)Fv(e[r])?(n[r]=Array.isArray(e[r])?[]:{},Gf(e[r],n[r])):Wt(e[r])||(n[r]=!0);return n}function ji(e,n,r){r||(r=Gf(n));for(const i in e)Fv(e[i])?Wt(n)||Yf(r[i])?r[i]=Gf(e[i],Array.isArray(e[i])?[]:{}):ji(e[i],Wn(n)?{}:n[i],r[i]):r[i]=!Pr(e[i],n[i]);return r}const b0={value:!1,isValid:!1},v0={value:!0,isValid:!0};var Hv=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?v0:{value:e[0].value,isValid:!0}:v0:b0}return b0},Zv=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>Wt(e)?e:n?e===""?NaN:e&&+e:r&&as(e)?new Date(e):i?i(e):e;const y0={isValid:!1,value:null};var Vv=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,y0):y0;function w0(e){const n=e.ref;return Dh(n)?n.files:zh(n)?Vv(e.refs).value:$v(n)?[...n.selectedOptions].map(({value:r})=>r):Jl(n)?Hv(e.refs).value:Zv(Wt(n.value)?e.ref.value:n.value,e)}var Hk=(e,n,r,i)=>{const c={};for(const u of e){const d=ze(n,u);d&&St(c,u,d._f)}return{criteriaMode:r,names:[...e],fields:c,shouldUseNativeValidation:i}},Fc=e=>e instanceof RegExp,zl=e=>Wt(e)?e:Fc(e)?e.source:tn(e)?Fc(e.value)?e.value.source:e.value:e,j0=e=>({isOnSubmit:!e||e===_s.onSubmit,isOnBlur:e===_s.onBlur,isOnChange:e===_s.onChange,isOnAll:e===_s.all,isOnTouch:e===_s.onTouched});const S0="AsyncFunction";var Zk=e=>!!e&&!!e.validate&&!!(Ts(e.validate)&&e.validate.constructor.name===S0||tn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===S0)),Vk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),E0=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ol=(e,n,r,i)=>{for(const c of r||Object.keys(e)){const u=ze(e,c);if(u){const{_f:d,...m}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],c)&&!i)return!0;if(d.ref&&n(d.ref,d.name)&&!i)return!0;if(Ol(m,n))break}else if(tn(m)&&Ol(m,n))break}}};function N0(e,n,r){const i=ze(e,r);if(i||iu(r))return{error:i,name:r};const c=r.split(".");for(;c.length;){const u=c.join("."),d=ze(n,u),m=ze(e,u);if(d&&!Array.isArray(d)&&r!==u)return{name:r};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:r}}var Ik=(e,n,r,i)=>{r(e);const{name:c,...u}=e;return Qn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===(!i||_s.all))},Qk=(e,n,r)=>!e||!n||e===n||Rl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),Wk=(e,n,r,i,c)=>c.isOnAll?!1:!r&&c.isOnTouch?!(n||e):(r?i.isOnBlur:c.isOnBlur)?!e:(r?i.isOnChange:c.isOnChange)?e:!0,Pk=(e,n)=>!Th(ze(e,n)).length&&en(e,n),Kk=(e,n,r)=>{const i=Rl(ze(e,r));return St(i,"root",n[r]),St(e,r,i),e};function C0(e,n,r="validate"){if(as(e)||Array.isArray(e)&&e.every(as)||Is(e)&&!e)return{type:r,message:as(e)?e:"",ref:n}}var bi=e=>tn(e)&&!Fc(e)?e:{value:e,message:""},k0=async(e,n,r,i,c,u)=>{const{ref:d,refs:m,required:g,maxLength:x,minLength:b,min:y,max:w,pattern:E,validate:N,name:j,valueAsNumber:k,mount:T}=e._f,C=ze(r,j);if(!T||n.has(j))return{};const R=m?m[0]:d,O=U=>{c&&R.reportValidity&&(R.setCustomValidity(Is(U)?"":U||""),R.reportValidity())},L={},se=zh(d),B=Jl(d),I=se||B,H=(k||Dh(d))&&Wt(d.value)&&Wt(C)||$c(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,Z=Mh.bind(null,j,i,L),P=(U,G,ce,we=hr.maxLength,A=hr.minLength)=>{const z=U?G:ce;L[j]={type:U?we:A,message:z,ref:d,...Z(U?we:A,z)}};if(u?!Array.isArray(C)||!C.length:g&&(!I&&(H||Wn(C))||Is(C)&&!C||B&&!Hv(m).isValid||se&&!Vv(m).isValid)){const{value:U,message:G}=as(g)?{value:!!g,message:g}:bi(g);if(U&&(L[j]={type:hr.required,message:G,ref:R,...Z(hr.required,G)},!i))return O(G),L}if(!H&&(!Wn(y)||!Wn(w))){let U,G;const ce=bi(w),we=bi(y);if(!Wn(C)&&!isNaN(C)){const A=d.valueAsNumber||C&&+C;Wn(ce.value)||(U=A>ce.value),Wn(we.value)||(G=A<we.value)}else{const A=d.valueAsDate||new Date(C),z=oe=>new Date(new Date().toDateString()+" "+oe),ge=d.type=="time",ye=d.type=="week";as(ce.value)&&C&&(U=ge?z(C)>z(ce.value):ye?C>ce.value:A>new Date(ce.value)),as(we.value)&&C&&(G=ge?z(C)<z(we.value):ye?C<we.value:A<new Date(we.value))}if((U||G)&&(P(!!U,ce.message,we.message,hr.max,hr.min),!i))return O(L[j].message),L}if((x||b)&&!H&&(as(C)||u&&Array.isArray(C))){const U=bi(x),G=bi(b),ce=!Wn(U.value)&&C.length>+U.value,we=!Wn(G.value)&&C.length<+G.value;if((ce||we)&&(P(ce,U.message,G.message),!i))return O(L[j].message),L}if(E&&!H&&as(C)){const{value:U,message:G}=bi(E);if(Fc(U)&&!C.match(U)&&(L[j]={type:hr.pattern,message:G,ref:d,...Z(hr.pattern,G)},!i))return O(G),L}if(N){if(Ts(N)){const U=await N(C,r),G=C0(U,R);if(G&&(L[j]={...G,...Z(hr.validate,G.message)},!i))return O(G.message),L}else if(tn(N)){let U={};for(const G in N){if(!Qn(U)&&!i)break;const ce=C0(await N[G](C,r),R,G);ce&&(U={...ce,...Z(G,ce.message)},O(ce.message),i&&(L[j]=U))}if(!Qn(U)&&(L[j]={ref:R,...U},!i))return L}}return O(!0),L};const Yk={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function Gk(e={}){let n={...Yk,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ts(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=tn(n.defaultValues)||tn(n.values)?mn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:mn(c),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:x0(),state:x0()},E=n.criteriaMode===_s.all,N=M=>Y=>{clearTimeout(x),x=setTimeout(M,Y)},j=async M=>{if(!n.disabled&&(b.isValid||y.isValid||M)){const Y=n.resolver?Qn((await B()).errors):await H(i,!0);Y!==r.isValid&&w.state.next({isValid:Y})}},k=(M,Y)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((M||Array.from(m.mount)).forEach(re=>{re&&(Y?St(r.validatingFields,re,Y):en(r.validatingFields,re))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Qn(r.validatingFields)}))},T=(M,Y=[],re,Ee,ve=!0,je=!0)=>{if(Ee&&re&&!n.disabled){if(d.action=!0,je&&Array.isArray(ze(i,M))){const Ae=re(ze(i,M),Ee.argA,Ee.argB);ve&&St(i,M,Ae)}if(je&&Array.isArray(ze(r.errors,M))){const Ae=re(ze(r.errors,M),Ee.argA,Ee.argB);ve&&St(r.errors,M,Ae),Pk(r.errors,M)}if((b.touchedFields||y.touchedFields)&&je&&Array.isArray(ze(r.touchedFields,M))){const Ae=re(ze(r.touchedFields,M),Ee.argA,Ee.argB);ve&&St(r.touchedFields,M,Ae)}(b.dirtyFields||y.dirtyFields)&&(r.dirtyFields=ji(c,u)),w.state.next({name:M,isDirty:P(M,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else St(u,M,Y)},C=(M,Y)=>{St(r.errors,M,Y),w.state.next({errors:r.errors})},R=M=>{r.errors=M,w.state.next({errors:r.errors,isValid:!1})},O=(M,Y,re,Ee)=>{const ve=ze(i,M);if(ve){const je=ze(u,M,Wt(re)?ze(c,M):re);Wt(je)||Ee&&Ee.defaultChecked||Y?St(u,M,Y?je:w0(ve._f)):ce(M,je),d.mount&&j()}},L=(M,Y,re,Ee,ve)=>{let je=!1,Ae=!1;const He={name:M};if(!n.disabled){if(!re||Ee){(b.isDirty||y.isDirty)&&(Ae=r.isDirty,r.isDirty=He.isDirty=P(),je=Ae!==He.isDirty);const Ie=Pr(ze(c,M),Y);Ae=!!ze(r.dirtyFields,M),Ie?en(r.dirtyFields,M):St(r.dirtyFields,M,!0),He.dirtyFields=r.dirtyFields,je=je||(b.dirtyFields||y.dirtyFields)&&Ae!==!Ie}if(re){const Ie=ze(r.touchedFields,M);Ie||(St(r.touchedFields,M,re),He.touchedFields=r.touchedFields,je=je||(b.touchedFields||y.touchedFields)&&Ie!==re)}je&&ve&&w.state.next(He)}return je?He:{}},se=(M,Y,re,Ee)=>{const ve=ze(r.errors,M),je=(b.isValid||y.isValid)&&Is(Y)&&r.isValid!==Y;if(n.delayError&&re?(g=N(()=>C(M,re)),g(n.delayError)):(clearTimeout(x),g=null,re?St(r.errors,M,re):en(r.errors,M)),(re?!Pr(ve,re):ve)||!Qn(Ee)||je){const Ae={...Ee,...je&&Is(Y)?{isValid:Y}:{},errors:r.errors,name:M};r={...r,...Ae},w.state.next(Ae)}},B=async M=>{k(M,!0);const Y=await n.resolver(u,n.context,Hk(M||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return k(M),Y},I=async M=>{const{errors:Y}=await B(M);if(M)for(const re of M){const Ee=ze(Y,re);Ee?St(r.errors,re,Ee):en(r.errors,re)}else r.errors=Y;return Y},H=async(M,Y,re={valid:!0})=>{for(const Ee in M){const ve=M[Ee];if(ve){const{_f:je,...Ae}=ve;if(je){const He=m.array.has(je.name),Ie=ve._f&&Zk(ve._f);Ie&&b.validatingFields&&k([je.name],!0);const Ct=await k0(ve,m.disabled,u,E,n.shouldUseNativeValidation&&!Y,He);if(Ie&&b.validatingFields&&k([je.name]),Ct[je.name]&&(re.valid=!1,Y))break;!Y&&(ze(Ct,je.name)?He?Kk(r.errors,Ct,je.name):St(r.errors,je.name,Ct[je.name]):en(r.errors,je.name))}!Qn(Ae)&&await H(Ae,Y,re)}}return re.valid},Z=()=>{for(const M of m.unMount){const Y=ze(i,M);Y&&(Y._f.refs?Y._f.refs.every(re=>!Cf(re)):!Cf(Y._f.ref))&&X(M)}m.unMount=new Set},P=(M,Y)=>!n.disabled&&(M&&Y&&St(u,M,Y),!Pr(oe(),c)),U=(M,Y,re)=>Uk(M,m,{...d.mount?u:Wt(Y)?c:as(M)?{[M]:Y}:Y},re,Y),G=M=>Th(ze(d.mount?u:c,M,n.shouldUnregister?ze(c,M,[]):[])),ce=(M,Y,re={})=>{const Ee=ze(i,M);let ve=Y;if(Ee){const je=Ee._f;je&&(!je.disabled&&St(u,M,Zv(Y,je)),ve=$c(je.ref)&&Wn(Y)?"":Y,$v(je.ref)?[...je.ref.options].forEach(Ae=>Ae.selected=ve.includes(Ae.value)):je.refs?Jl(je.ref)?je.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ve)?Ae.checked=!!ve.find(He=>He===Ae.value):Ae.checked=ve===Ae.value||!!ve)}):je.refs.forEach(Ae=>Ae.checked=Ae.value===ve):Dh(je.ref)?je.ref.value="":(je.ref.value=ve,je.ref.type||w.state.next({name:M,values:mn(u)})))}(re.shouldDirty||re.shouldTouch)&&L(M,ve,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&ye(M)},we=(M,Y,re)=>{for(const Ee in Y){if(!Y.hasOwnProperty(Ee))return;const ve=Y[Ee],je=M+"."+Ee,Ae=ze(i,je);(m.array.has(M)||tn(ve)||Ae&&!Ae._f)&&!wa(ve)?we(je,ve,re):ce(je,ve,re)}},A=(M,Y,re={})=>{const Ee=ze(i,M),ve=m.array.has(M),je=mn(Y);St(u,M,je),ve?(w.array.next({name:M,values:mn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&re.shouldDirty&&w.state.next({name:M,dirtyFields:ji(c,u),isDirty:P(M,je)})):Ee&&!Ee._f&&!Wn(je)?we(M,je,re):ce(M,je,re),E0(M,m)&&w.state.next({...r,name:M}),w.state.next({name:d.mount?M:void 0,values:mn(u)})},z=async M=>{d.mount=!0;const Y=M.target;let re=Y.name,Ee=!0;const ve=ze(i,re),je=Ie=>{Ee=Number.isNaN(Ie)||wa(Ie)&&isNaN(Ie.getTime())||Pr(Ie,ze(u,re,Ie))},Ae=j0(n.mode),He=j0(n.reValidateMode);if(ve){let Ie,Ct;const Se=Y.type?w0(ve._f):Ak(M),Ne=M.type===g0.BLUR||M.type===g0.FOCUS_OUT,qe=!Vk(ve._f)&&!n.resolver&&!ze(r.errors,re)&&!ve._f.deps||Wk(Ne,ze(r.touchedFields,re),r.isSubmitted,He,Ae),At=E0(re,m,Ne);St(u,re,Se),Ne?(!Y||!Y.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(M),g&&g(0)):ve._f.onChange&&ve._f.onChange(M);const st=L(re,Se,Ne),Pt=!Qn(st)||At;if(!Ne&&w.state.next({name:re,type:M.type,values:mn(u)}),qe)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?Ne&&j():Ne||j()),Pt&&w.state.next({name:re,...At?{}:st});if(!Ne&&At&&w.state.next({...r}),n.resolver){const{errors:Mt}=await B([re]);if(je(Se),Ee){const gr=N0(r.errors,i,re),zs=N0(Mt,i,gr.name||re);Ie=zs.error,re=zs.name,Ct=Qn(Mt)}}else k([re],!0),Ie=(await k0(ve,m.disabled,u,E,n.shouldUseNativeValidation))[re],k([re]),je(Se),Ee&&(Ie?Ct=!1:(b.isValid||y.isValid)&&(Ct=await H(i,!0)));Ee&&(ve._f.deps&&(!Array.isArray(ve._f.deps)||ve._f.deps.length>0)&&ye(ve._f.deps),se(re,Ct,Ie,st))}},ge=(M,Y)=>{if(ze(r.errors,Y)&&M.focus)return M.focus(),1},ye=async(M,Y={})=>{let re,Ee;const ve=Rl(M);if(n.resolver){const je=await I(Wt(M)?M:ve);re=Qn(je),Ee=M?!ve.some(Ae=>ze(je,Ae)):re}else M?(Ee=(await Promise.all(ve.map(async je=>{const Ae=ze(i,je);return await H(Ae&&Ae._f?{[je]:Ae}:Ae)}))).every(Boolean),!(!Ee&&!r.isValid)&&j()):Ee=re=await H(i);return w.state.next({...!as(M)||(b.isValid||y.isValid)&&re!==r.isValid?{}:{name:M},...n.resolver||!M?{isValid:re}:{},errors:r.errors}),Y.shouldFocus&&!Ee&&Ol(i,ge,M?ve:m.mount),Ee},oe=(M,Y)=>{let re={...d.mount?u:c};return Y&&(re=qv(Y.dirtyFields?r.dirtyFields:r.touchedFields,re)),Wt(M)?re:as(M)?ze(re,M):M.map(Ee=>ze(re,Ee))},_=(M,Y)=>({invalid:!!ze((Y||r).errors,M),isDirty:!!ze((Y||r).dirtyFields,M),error:ze((Y||r).errors,M),isValidating:!!ze(r.validatingFields,M),isTouched:!!ze((Y||r).touchedFields,M)}),K=M=>{M&&Rl(M).forEach(Y=>en(r.errors,Y)),w.state.next({errors:M?r.errors:{}})},le=(M,Y,re)=>{const Ee=(ze(i,M,{_f:{}})._f||{}).ref,ve=ze(r.errors,M)||{},{ref:je,message:Ae,type:He,...Ie}=ve;St(r.errors,M,{...Ie,...Y,ref:Ee}),w.state.next({name:M,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},F=(M,Y)=>Ts(M)?w.state.subscribe({next:re=>"values"in re&&M(U(void 0,Y),re)}):U(M,Y,!0),te=M=>w.state.subscribe({next:Y=>{Qk(M.name,Y.name,M.exact)&&Ik(Y,M.formState||b,Lt,M.reRenderRoot)&&M.callback({values:{...u},...r,...Y,defaultValues:c})}}).unsubscribe,V=M=>(d.mount=!0,y={...y,...M.formState},te({...M,formState:y})),X=(M,Y={})=>{for(const re of M?Rl(M):m.mount)m.mount.delete(re),m.array.delete(re),Y.keepValue||(en(i,re),en(u,re)),!Y.keepError&&en(r.errors,re),!Y.keepDirty&&en(r.dirtyFields,re),!Y.keepTouched&&en(r.touchedFields,re),!Y.keepIsValidating&&en(r.validatingFields,re),!n.shouldUnregister&&!Y.keepDefaultValue&&en(c,re);w.state.next({values:mn(u)}),w.state.next({...r,...Y.keepDirty?{isDirty:P()}:{}}),!Y.keepIsValid&&j()},$=({disabled:M,name:Y})=>{(Is(M)&&d.mount||M||m.disabled.has(Y))&&(M?m.disabled.add(Y):m.disabled.delete(Y))},ae=(M,Y={})=>{let re=ze(i,M);const Ee=Is(Y.disabled)||Is(n.disabled);return St(i,M,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:M}},name:M,mount:!0,...Y}}),m.mount.add(M),re?$({disabled:Is(Y.disabled)?Y.disabled:n.disabled,name:M}):O(M,!0,Y.value),{...Ee?{disabled:Y.disabled||n.disabled}:{},...n.progressive?{required:!!Y.required,min:zl(Y.min),max:zl(Y.max),minLength:zl(Y.minLength),maxLength:zl(Y.maxLength),pattern:zl(Y.pattern)}:{},name:M,onChange:z,onBlur:z,ref:ve=>{if(ve){ae(M,Y),re=ze(i,M);const je=Wt(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Ae=Bk(je),He=re._f.refs||[];if(Ae?He.find(Ie=>Ie===je):je===re._f.ref)return;St(i,M,{_f:{...re._f,...Ae?{refs:[...He.filter(Cf),je,...Array.isArray(ze(c,M))?[{}]:[]],ref:{type:je.type,name:M}}:{ref:je}}}),O(M,!1,void 0,je)}else re=ze(i,M,{}),re._f&&(re._f.mount=!1),(n.shouldUnregister||Y.shouldUnregister)&&!(Dk(m.array,M)&&d.action)&&m.unMount.add(M)}}},me=()=>n.shouldFocusError&&Ol(i,ge,m.mount),pe=M=>{Is(M)&&(w.state.next({disabled:M}),Ol(i,(Y,re)=>{const Ee=ze(i,re);Ee&&(Y.disabled=Ee._f.disabled||M,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ve=>{ve.disabled=Ee._f.disabled||M}))},0,!1))},Ce=(M,Y)=>async re=>{let Ee;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ve=mn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:je,values:Ae}=await B();r.errors=je,ve=mn(Ae)}else await H(i);if(m.disabled.size)for(const je of m.disabled)en(ve,je);if(en(r.errors,"root"),Qn(r.errors)){w.state.next({errors:{}});try{await M(ve,re)}catch(je){Ee=je}}else Y&&await Y({...r.errors},re),me(),setTimeout(me);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},We=(M,Y={})=>{ze(i,M)&&(Wt(Y.defaultValue)?A(M,mn(ze(c,M))):(A(M,Y.defaultValue),St(c,M,mn(Y.defaultValue))),Y.keepTouched||en(r.touchedFields,M),Y.keepDirty||(en(r.dirtyFields,M),r.isDirty=Y.defaultValue?P(M,mn(ze(c,M))):P()),Y.keepError||(en(r.errors,M),b.isValid&&j()),w.state.next({...r}))},Oe=(M,Y={})=>{const re=M?mn(M):c,Ee=mn(re),ve=Qn(M),je=ve?c:Ee;if(Y.keepDefaultValues||(c=re),!Y.keepValues){if(Y.keepDirtyValues){const Ae=new Set([...m.mount,...Object.keys(ji(c,u))]);for(const He of Array.from(Ae))ze(r.dirtyFields,He)?St(je,He,ze(u,He)):A(He,ze(je,He))}else{if(_h&&Wt(M))for(const Ae of m.mount){const He=ze(i,Ae);if(He&&He._f){const Ie=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if($c(Ie)){const Ct=Ie.closest("form");if(Ct){Ct.reset();break}}}}if(Y.keepFieldsRef)for(const Ae of m.mount)A(Ae,ze(je,Ae));else i={}}u=n.shouldUnregister?Y.keepDefaultValues?mn(c):{}:mn(je),w.array.next({values:{...je}}),w.state.next({values:{...je}})}m={mount:Y.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Pr(M,c)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:Y.keepDirtyValues?Y.keepDefaultValues&&u?ji(c,u):r.dirtyFields:Y.keepDefaultValues&&M?ji(c,M):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Te=(M,Y)=>Oe(Ts(M)?M(u):M,Y),Ye=(M,Y={})=>{const re=ze(i,M),Ee=re&&re._f;if(Ee){const ve=Ee.refs?Ee.refs[0]:Ee.ref;ve.focus&&(ve.focus(),Y.shouldSelect&&Ts(ve.select)&&ve.select())}},Lt=M=>{r={...r,...M}},Nn={control:{register:ae,unregister:X,getFieldState:_,handleSubmit:Ce,setError:le,_subscribe:te,_runSchema:B,_focusError:me,_getWatch:U,_getDirty:P,_setValid:j,_setFieldArray:T,_setDisabledField:$,_setErrors:R,_getFieldArray:G,_reset:Oe,_resetDefaultValues:()=>Ts(n.defaultValues)&&n.defaultValues().then(M=>{Te(M,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:pe,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(M){d=M},get _defaultValues(){return c},get _names(){return m},set _names(M){m=M},get _formState(){return r},get _options(){return n},set _options(M){n={...n,...M}}},subscribe:V,trigger:ye,register:ae,handleSubmit:Ce,watch:F,setValue:A,getValues:oe,reset:Te,resetField:We,clearErrors:K,unregister:X,setError:le,setFocus:Ye,getFieldState:_};return{...Nn,formControl:Nn}}function Iv(e={}){const n=bt.useRef(void 0),r=bt.useRef(void 0),[i,c]=bt.useState({isDirty:!1,isValidating:!1,isLoading:Ts(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ts(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ts(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...m}=Gk(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,Lk(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,d},[u]),bt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),bt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),bt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),bt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),bt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),bt.useEffect(()=>{e.values&&!Pr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,c(d=>({...d}))):u._resetDefaultValues()},[u,e.values]),bt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=Ok(i,u),n.current}const _0=(e,n,r)=>{if(e&&"reportValidity"in e){const i=ze(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Xf=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?_0(i.ref,r,e):i&&i.refs&&i.refs.forEach(c=>_0(c,r,e))}},T0=(e,n)=>{n.shouldUseNativeValidation&&Xf(e,n);const r={};for(const i in e){const c=ze(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(Xk(n.names||Object.keys(e),i)){const d=Object.assign({},ze(r,i));St(d,"root",u),St(r,i,d)}else St(r,i,u)}return r},Xk=(e,n)=>{const r=A0(n);return e.some(i=>A0(i).match(`^${r}\\.\\d+`))};function A0(e){return e.replace(/\]|\[/g,"")}function M0(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function Jk(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,d=i.path.join(".");if(!r[d])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];r[d]={message:m.message,type:m.code}}else r[d]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Mh(d,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function e_(e,n){for(var r={};e.length;){var i=e[0],c=i.code,u=i.message,d=i.path.join(".");if(!r[d])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];r[d]={message:m.message,type:m.code}}else r[d]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Mh(d,n,r,c,x?[].concat(x,i.message):i.message)}e.shift()}return r}function Qv(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(M0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(d){return u.shouldUseNativeValidation&&Xf({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(m){return Array.isArray(m?.issues)})(d))return{values:{},errors:T0(Jk(d.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(M0(function(){return Promise.resolve((r.mode==="sync"?xE:bE)(e,i,n)).then(function(d){return u.shouldUseNativeValidation&&Xf({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(m){return m instanceof Ch})(d))return{values:{},errors:T0(e_(d.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}async function t_(e={}){const{page:n,pageSize:r,search:i,includeTotal:c,signal:u}=e,d={};typeof n=="number"&&n>0&&(d.page=n),typeof r=="number"&&r>0&&(d.page_size=r),c&&(d.include_total=!0);const m=i?.trim();m&&(d.q=m);const{data:g}=await Be.GET("/api/v1/users",{params:{query:d},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function Wv(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,c=r.trim(),u=c.length>=2?c:"",d=mh({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>t_(n_({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(x=>x.id,[]),g=vh(d.data?.pages,m);return{...d,users:g}}function n_(e){const n=!e.page||e.page<1?1:e.page;return{...e,page:n}}const s_=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,r_=au({name:As().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:As().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(s_,"Use lowercase letters, numbers, and dashes."),ownerUserId:As().optional()});function a_(){return l.jsx(Yc,{children:l.jsx(i_,{})})}function i_(){const e=Zt(),n=Ai(),r=QS(),c=p.useMemo(()=>(n.user.permissions??[]).map(I=>I.toLowerCase()),[n.user.permissions]).includes("users.read_all"),u=Wv({enabled:c,pageSize:50}),d=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?d.filter(I=>I.id!==n.user.id):d,[d,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:y,setError:w,clearErrors:E,formState:{errors:N,dirtyFields:j}}=Iv({resolver:Qv(r_),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),k=b("name"),T=b("slug");p.useEffect(()=>{if(j.slug)return;const I=l_(k);I!==T&&y("slug",I,{shouldValidate:!!I})},[j.slug,k,y,T]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const C=r.isPending,R=u.isPending&&u.users.length===0,O=C||R||!c,L=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,se=g("ownerUserId"),B=x(I=>{if(E("root"),c&&!I.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}r.mutate({name:I.name.trim(),slug:I.slug.trim(),owner_user_id:c&&I.ownerUserId||void 0},{onSuccess(H){e(wh(H.id))},onError(H){if(H instanceof qn){const Z=H.problem?.detail??H.message,P=H.problem?.errors??{};w("root",{type:"server",message:Z}),P.name?.[0]&&w("name",{type:"server",message:P.name[0]}),P.slug?.[0]&&w("slug",{type:"server",message:P.slug[0]}),P.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:P.owner_user_id[0]});return}w("root",{type:"server",message:H instanceof Error?H.message:"Workspace creation failed."})}})});return l.jsx(Lv,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:B,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(vt,{label:"Workspace name",required:!0,error:N.name?.message,children:l.jsx(mt,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!N.name,disabled:C})}),l.jsx(vt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:N.slug?.message,children:l.jsx(mt,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!N.slug,disabled:C})})]}),c?l.jsxs(vt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:N.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...se,onChange:I=>{se.onChange(I),E("ownerUserId")},disabled:O,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:L}),m.map(I=>l.jsx("option",{value:I.id,children:I.display_name?`${I.display_name} (${I.email})`:I.email},I.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ke,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,N.root?l.jsx(nt,{tone:"danger",children:N.root.message}):null,c&&u.isError?l.jsx(nt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(ke,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:C,children:"Cancel"}),l.jsx(ke,{type:"submit",isLoading:C,children:C?"Creating workspace":"Create workspace"})]})]})]})})}function l_(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const Pv=p.createContext(void 0);function o_({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){const d=u.toLowerCase();return c.includes(u)||c.includes(d)}}},[e,n]);return l.jsx(Pv.Provider,{value:i,children:r})}function mr(){const e=p.useContext(Pv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const c_=[{id:"explorer",label:"Explorer",icon:l.jsx(d_,{})},{id:"search",label:"Search",icon:l.jsx(f_,{})},{id:"scm",label:"Source Control",icon:l.jsx(h_,{})},{id:"extensions",label:"Extensions",icon:l.jsx(m_,{})}];function u_({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:fe("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:c_.map(u=>{const d=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:fe("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",d?c.iconActive:fe(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":d,children:[d?l.jsx("span",{className:fe("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:r,className:fe("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(p_,{})})})]})}function d_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function f_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function h_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function m_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function p_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const Rh=p.createContext(null);function Kv({value:e,onValueChange:n,children:r}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),d=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),g=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),x=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:d,unregisterValue:m,focusValue:g,getValues:x}),[e,n,i,d,m,g,x]);return l.jsx(Rh.Provider,{value:b,children:r})}function Yv({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Jf({value:e,children:n,className:r,onClick:i,onKeyDown:c,disabled:u,...d}){const m=p.useContext(Rh);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:y}=m,w=m.value===e,E=`${m.baseId}-tab-${e}`,N=`${m.baseId}-panel-${e}`,j=p.useCallback(T=>{g(e,T)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const k=T=>{if(c?.(T),T.defaultPrevented)return;const C=y(),R=C.indexOf(e);if(R===-1||C.length===0)return;let O=R;T.key==="ArrowRight"?(T.preventDefault(),O=(R+1)%C.length):T.key==="ArrowLeft"?(T.preventDefault(),O=(R-1+C.length)%C.length):T.key==="Home"?(T.preventDefault(),O=0):T.key==="End"&&(T.preventDefault(),O=C.length-1);const L=C[O];L&&L!==m.value&&m.setValue(L),b(L)};return l.jsx("button",{...d,ref:j,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":N,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:k,onClick:T=>{i?.(T),!T.defaultPrevented&&!u&&m.setValue(e)},children:n})}function eh({value:e,children:n,className:r,...i}){const c=p.useContext(Rh);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,d=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:d,"aria-labelledby":m,className:r,hidden:!u,tabIndex:0,children:n})}function vi(e,n,r){let i=r.initialDeps??[],c,u=!0;function d(){var m,g,x;let b;r.key&&((m=r.debug)!=null&&m.call(r))&&(b=Date.now());const y=e();if(!(y.length!==i.length||y.some((N,j)=>i[j]!==N)))return c;i=y;let E;if(r.key&&((g=r.debug)!=null&&g.call(r))&&(E=Date.now()),c=n(...y),r.key&&((x=r.debug)!=null&&x.call(r))){const N=Math.round((Date.now()-b)*100)/100,j=Math.round((Date.now()-E)*100)/100,k=j/16,T=(C,R)=>{for(C=String(C);C.length<R;)C=" "+C;return C};console.info(`%c ${T(j,5)} /${T(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*k,120))}deg 100% 31%);`,r?.key)}return r?.onChange&&!(u&&r.skipInitialOnChange)&&r.onChange(c),u=!1,c}return d.updateDeps=m=>{i=m},d}function D0(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const g_=(e,n)=>Math.abs(e-n)<1.01,x_=(e,n,r)=>{let i;return function(...c){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,c),r)}},z0=e=>{const{offsetWidth:n,offsetHeight:r}=e;return{width:n,height:r}},b_=e=>e,v_=e=>{const n=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let c=n;c<=r;c++)i.push(c);return i},y_=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;const c=d=>{const{width:m,height:g}=d;n({width:Math.round(m),height:Math.round(g)})};if(c(z0(r)),!i.ResizeObserver)return()=>{};const u=new i.ResizeObserver(d=>{const m=()=>{const g=d[0];if(g?.borderBoxSize){const x=g.borderBoxSize[0];if(x){c({width:x.inlineSize,height:x.blockSize});return}}c(z0(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(m):m()});return u.observe(r,{box:"border-box"}),()=>{u.unobserve(r)}},R0={passive:!0},O0=typeof window>"u"?!0:"onscrollend"in window,w_=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;let c=0;const u=e.options.useScrollendEvent&&O0?()=>{}:x_(i,()=>{n(c,!1)},e.options.isScrollingResetDelay),d=b=>()=>{const{horizontal:y,isRtl:w}=e.options;c=y?r.scrollLeft*(w&&-1||1):r.scrollTop,u(),n(c,b)},m=d(!0),g=d(!1);g(),r.addEventListener("scroll",m,R0);const x=e.options.useScrollendEvent&&O0;return x&&r.addEventListener("scrollend",g,R0),()=>{r.removeEventListener("scroll",m),x&&r.removeEventListener("scrollend",g)}},j_=(e,n,r)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},S_=(e,{adjustments:n=0,behavior:r},i)=>{var c,u;const d=e+n;(u=(c=i.scrollElement)==null?void 0:c.scrollTo)==null||u.call(c,{[i.options.horizontal?"left":"top"]:d,behavior:r})};class E_{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const i=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(c=>{c.forEach(u=>{const d=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var c;(c=i())==null||c.disconnect(),r=null},observe:c=>{var u;return(u=i())==null?void 0:u.observe(c,{box:"border-box"})},unobserve:c=>{var u;return(u=i())==null?void 0:u.unobserve(c)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([i,c])=>{typeof c>"u"&&delete r[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:b_,rangeExtractor:v_,onChange:()=>{},measureElement:j_,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var i,c;(c=(i=this.options).onChange)==null||c.call(i,this,r)},this.maybeNotify=vi(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(c=>{this.observer.observe(c)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,c=>{this.scrollRect=c,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(c,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<c?"forward":"backward":null,this.scrollOffset=c,this.isScrolling=u,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,i)=>{const c=new Map,u=new Map;for(let d=i-1;d>=0;d--){const m=r[d];if(c.has(m.lane))continue;const g=u.get(m.lane);if(g==null||m.end>g.end?u.set(m.lane,m):m.end<g.end&&c.set(m.lane,!0),c.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((d,m)=>d.end===m.end?d.index-m.index:d.end-m.end)[0]:void 0},this.getMeasurementOptions=vi(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(r,i,c,u,d,m)=>(this.prevLanes!==void 0&&this.prevLanes!==m&&(this.lanesChangedFlag=!0),this.prevLanes=m,this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:c,getItemKey:u,enabled:d,lanes:m}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=vi(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:i,scrollMargin:c,getItemKey:u,enabled:d,lanes:m},g)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>r)for(const w of this.laneAssignments.keys())w>=r&&this.laneAssignments.delete(w);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(w=>{this.itemSizeCache.set(w.key,w.size)}));const x=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===r&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,x),y=new Array(m).fill(void 0);for(let w=0;w<x;w++){const E=b[w];E&&(y[E.lane]=w)}for(let w=x;w<r;w++){const E=u(w),N=this.laneAssignments.get(w);let j,k;if(N!==void 0&&this.options.lanes>1){j=N;const O=y[j],L=O!==void 0?b[O]:void 0;k=L?L.end+this.options.gap:i+c}else{const O=this.options.lanes===1?b[w-1]:this.getFurthestMeasurement(b,w);k=O?O.end+this.options.gap:i+c,j=O?O.lane:w%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(w,j)}const T=g.get(E),C=typeof T=="number"?T:this.options.estimateSize(w),R=k+C;b[w]={index:w,start:k,size:C,end:R,key:E,lane:j},y[j]=w}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=vi(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,i,c,u)=>this.range=r.length>0&&i>0?N_({measurements:r,outerSize:i,scrollOffset:c,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=vi(()=>{let r=null,i=null;const c=this.calculateRange();return c&&(r=c.startIndex,i=c.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,i]},(r,i,c,u,d)=>u===null||d===null?[]:r({startIndex:u,endIndex:d,overscan:i,count:c}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const i=this.options.indexAttribute,c=r.getAttribute(i);return c?parseInt(c,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(r,i)=>{const c=this.indexFromElement(r),u=this.measurementsCache[c];if(!u)return;const d=u.key,m=this.elementsCache.get(d);m!==r&&(m&&this.observer.unobserve(m),this.observer.observe(r),this.elementsCache.set(d,r)),r.isConnected&&this.resizeItem(c,this.options.measureElement(r,i,this))},this.resizeItem=(r,i)=>{const c=this.measurementsCache[r];if(!c)return;const u=this.itemSizeCache.get(c.key)??c.size,d=i-u;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(c,d,this):c.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(c.index),this.itemSizeCache=new Map(this.itemSizeCache.set(c.key,i)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((i,c)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(c))});return}this._measureElement(r,void 0)},this.getVirtualItems=vi(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,i)=>{const c=[];for(let u=0,d=r.length;u<d;u++){const m=r[u],g=i[m];c.push(g)}return c},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const i=this.getMeasurements();if(i.length!==0)return D0(i[Gv(0,i.length-1,c=>D0(i[c]).start,r)])},this.getOffsetForAlignment=(r,i,c=0)=>{const u=this.getSize(),d=this.getScrollOffset();i==="auto"&&(i=r>=d+u?"end":"start"),i==="center"?r+=(c-u)/2:i==="end"&&(r-=u);const m=this.getTotalSize()+this.options.scrollMargin-u;return Math.max(Math.min(m,r),0)},this.getOffsetForIndex=(r,i="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const c=this.measurementsCache[r];if(!c)return;const u=this.getSize(),d=this.getScrollOffset();if(i==="auto")if(c.end>=d+u-this.options.scrollPaddingEnd)i="end";else if(c.start<=d+this.options.scrollPaddingStart)i="start";else return[d,i];const m=i==="end"?c.end+this.options.scrollPaddingEnd:c.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(m,i,c.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:i="start",behavior:c}={})=>{c==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,i),{adjustments:void 0,behavior:c})},this.scrollToIndex=(r,{align:i="auto",behavior:c}={})=>{c==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let u=0;const d=10,m=x=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(r,x);if(!b){console.warn("Failed to get offset for index:",r);return}const[y,w]=b;this._scrollToOffset(y,{adjustments:void 0,behavior:c}),this.targetWindow.requestAnimationFrame(()=>{const E=this.getScrollOffset(),N=this.getOffsetForIndex(r,w);if(!N){console.warn("Failed to get offset for index:",r);return}g_(N[0],E)||g(w)})},g=x=>{this.targetWindow&&(u++,u<d?this.targetWindow.requestAnimationFrame(()=>m(x)):console.warn(`Failed to scroll to index ${r} after ${d} attempts.`))};m(i)},this.scrollBy=(r,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var r;const i=this.getMeasurements();let c;if(i.length===0)c=this.options.paddingStart;else if(this.options.lanes===1)c=((r=i[i.length-1])==null?void 0:r.end)??0;else{const u=Array(this.options.lanes).fill(null);let d=i.length-1;for(;d>=0&&u.some(m=>m===null);){const m=i[d];u[m.lane]===null&&(u[m.lane]=m.end),d--}c=Math.max(...u.filter(m=>m!==null))}return Math.max(c-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:i,behavior:c})=>{this.options.scrollToFn(r,{behavior:c,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const Gv=(e,n,r,i)=>{for(;e<=n;){const c=(e+n)/2|0,u=r(c);if(u<i)e=c+1;else if(u>i)n=c-1;else return c}return e>0?e-1:0};function N_({measurements:e,outerSize:n,scrollOffset:r,lanes:i}){const c=e.length-1,u=g=>e[g].start;if(e.length<=i)return{startIndex:0,endIndex:c};let d=Gv(0,c,u,r),m=d;if(i===1)for(;m<c&&e[m].end<r+n;)m++;else if(i>1){const g=Array(i).fill(0);for(;m<c&&g.some(b=>b<r+n);){const b=e[m];g[b.lane]=b.end,m++}const x=Array(i).fill(r+n);for(;d>=0&&x.some(b=>b>=r);){const b=e[d];x[b.lane]=b.start,d--}d=Math.max(0,d-d%i),m=Math.min(c,m+(i-1-m%i))}return{startIndex:d,endIndex:m}}const L0=typeof document<"u"?p.useLayoutEffect:p.useEffect;function C_(e){const n=p.useReducer(()=>({}),{})[1],r={...e,onChange:(c,u)=>{var d;u?is.flushSync(n):n(),(d=e.onChange)==null||d.call(e,c,u)}},[i]=p.useState(()=>new E_(r));return i.setOptions(r),L0(()=>i._didMount(),[]),L0(()=>i._willUpdate()),i}function k_(e){return C_({observeElementRect:y_,observeElementOffset:w_,scrollToFn:S_,...e})}function U0(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function __(e){const n=e.raw;if(n&&typeof n=="object"){const r=D_(n);if(r)return r}return A_(e.message)}function Xv(e){const n=e.raw;if(!n||typeof n!="object")return null;try{return JSON.stringify(n)}catch{return null}}function T_(e){try{const n=JSON.parse(e);if(n&&typeof n=="object")return n}catch{return null}return null}function A_(e){if(e.includes(`
`)){const i=e.split(/\r?\n/),[c,...u]=i;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:c||" "}),u.length>0?l.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-[#2f2f2f] pl-3 text-[12px] leading-snug text-[#9da5b4]",children:u.join(`
`)}):null]})}const n=T_(e);if(!n)return e;const r=JSON.stringify(n,null,2);return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-[#d4d4d4]",children:M_(r)})}function M_(e){const n=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,r=[];let i=0,c,u=0;for(;(c=n.exec(e))!==null;){c.index>i&&r.push(e.slice(i,c.index));const d=c[0],m=c[1]?"text-sky-300":c[2]?"text-amber-300":"text-rose-300";r.push(l.jsx("span",{className:m,children:d},`json-${u++}`)),i=n.lastIndex}return i<e.length&&r.push(e.slice(i)),r}function D_(e){const n=typeof e.event=="string"?e.event:typeof e.type=="string"?e.type:"";if(!n)return null;const r=typeof e.message=="string"?e.message:"",i=e.data&&typeof e.data=="object"?e.data:{};if(n==="console.line"){const c=typeof i.scope=="string"?i.scope:void 0,u=typeof i.stream=="string"?i.stream:void 0,d=typeof i.level=="string"?i.level:void 0,m=typeof i.message=="string"?i.message:r;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:m||" "}),c||u||d?l.jsxs("span",{className:"text-[11px] text-slate-500",children:[c?`scope=${c} `:"",u?`stream=${u} `:"",d?`level=${d}`:""]}):null]})}if(n==="engine.config.loaded"){const c=typeof i.config_package=="string"?i.config_package:void 0,u=typeof i.entrypoint=="string"?i.entrypoint:void 0,d=Array.isArray(i.fields)?i.fields.length:void 0,m=i.settings&&typeof i.settings=="object"?i.settings:null,g=m&&typeof m.log_format=="string"?m.log_format:void 0,x=m&&typeof m.log_level=="number"?m.log_level:void 0;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:r||"Config loaded"}),l.jsxs("span",{className:"text-[12px] text-slate-400",children:[c?`package=${c}`:"",u?`${c?"  ":""}entry=${u}`:"",typeof d=="number"?`${c||u?"  ":""}fields=${d}`:"",g?`${c||u||typeof d=="number"?"  ":""}log=${g}`:"",typeof x=="number"?`(${x})`:""]})]})}if(n==="engine.table.written"){const c=typeof i.sheet_name=="string"?i.sheet_name:void 0,u=typeof i.output_range=="string"?i.output_range:void 0;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:r||"Table written"}),c||u?l.jsxs("span",{className:"text-[12px] text-slate-400",children:[c?`sheet=${c}`:"",u?`${c?"  ":""}range=${u}`:""]}):null]})}if(n==="engine.validation.result"){const c=typeof i.validator=="string"?i.validator:void 0,u=typeof i.field=="string"?i.field:void 0,d=typeof i.issues_found=="number"?i.issues_found:void 0;return l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsxs("span",{className:"break-words",children:[c?`Validation ${c}`:"Validation",u?`  ${u}`:"",typeof d=="number"?`  issues=${d}`:""]})})}if(n==="engine.transform.result"){const c=typeof i.transform=="string"?i.transform:void 0,u=typeof i.field=="string"?i.field:void 0,d=typeof i.input_len=="number"?i.input_len:void 0,m=typeof i.output_len=="number"?i.output_len:void 0;return l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsxs("span",{className:"break-words",children:[c?`Transform ${c}`:"Transform",u?`  ${u}`:"",typeof d=="number"&&typeof m=="number"?`  ${d}${m}`:""]})})}if(n==="engine.column_detector.candidate"){const c=typeof i.column_index=="number"?i.column_index:void 0,u=typeof i.header=="string"?i.header:void 0,d=typeof i.best_field=="string"?i.best_field:void 0,m=typeof i.best_score=="number"?i.best_score:void 0;return l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsxs("span",{className:"break-words",children:["Candidate",typeof c=="number"?` col=${c}`:"",u?` header=${JSON.stringify(u)}`:"",d?`  best=${d}`:"",typeof m=="number"?` (${m.toFixed(3)})`:""]})})}if(n==="engine.detector.column_result"||n==="engine.detector.row_result"){const c=typeof i.sheet_name=="string"?i.sheet_name:void 0,u=typeof i.column_index=="number"?i.column_index:void 0,d=typeof i.row_index=="number"?i.row_index:void 0,m=i.detector&&typeof i.detector=="object"?i.detector:{},g=typeof m.name=="string"?m.name:void 0,x=typeof m.duration_ms=="number"?m.duration_ms:void 0;return l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsxs("span",{className:"break-words",children:["Detector",g?` ${g}`:"",c?`  ${c}`:"",typeof u=="number"?`  col=${u}`:"",typeof d=="number"?`  row=${d}`:"",typeof x=="number"?`  ${x.toFixed(2)}ms`:""]})})}return n.startsWith("build.")||n.startsWith("run.")?l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsx("span",{className:"break-words",children:r||n})}):r&&r!==n?l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:r}),l.jsx("span",{className:"text-[12px] text-slate-500",children:n})]}):Object.keys(i).length?l.jsx("div",{className:"flex flex-col gap-[2px]",children:l.jsx("span",{className:"break-words",children:n})}):null}const B0="ade.ui.workbench.console.levelFilter.v1";function z_({console:e,latestRun:n,onClearConsole:r,runStatus:i}){const[c,u]=p.useState(()=>{const H={origin:"all",level:"info"};if(typeof window>"u")return H;try{const Z=window.localStorage.getItem(B0);if(Z==="all"||Z==="debug"||Z==="info"||Z==="warning"||Z==="error"||Z==="success")return{...H,level:Z}}catch{}return H}),[d,m]=p.useState(!0),[g,x]=p.useState(!1),[b,y]=p.useState("parsed"),w=p.useRef(null),E=p.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),N=E.length,j=p.useMemo(()=>{const H=U0(c.level),Z=[];for(let P=0;P<E.length;P+=1){const U=e.getLine(P);if(!U)continue;const G=c.origin==="all"||(U.origin??"run")===c.origin,ce=U0(U.level),we=c.level==="all"||ce>=H;G&&we&&Z.push(P)}return Z},[e,E,c]),k=j.length>0,T=N>0,C=i&&i!=="idle"?i:null,R=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",O=k_({count:j.length,getScrollElement:()=>w.current,estimateSize:()=>22,overscan:16});p.useEffect(()=>{d&&j.length!==0&&O.scrollToIndex(j.length-1,{align:"end"})},[d,j.length,E,O]),p.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(B0,c.level)}catch{}},[c.level]);const L=H=>{const Z=H.currentTarget,U=Z.scrollHeight-Z.scrollTop-Z.clientHeight<16;!U&&d?m(!1):U&&!d&&m(!0)},se=()=>{m(!0),O.scrollToIndex(j.length-1,{align:"end"})},B=p.useCallback(async H=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(H),!0}catch{}if(typeof document>"u")return!1;try{const Z=document.createElement("textarea");Z.value=H,Z.setAttribute("readonly","true"),Z.style.position="fixed",Z.style.left="-9999px",document.body.appendChild(Z),Z.select();const P=document.execCommand("copy");return document.body.removeChild(Z),P}catch{return!1}},[]),I=async()=>{if(!k)return;const H=[];for(const P of j){const U=e.getLine(P);U&&H.push(F_(U,b))}const Z=await B(H.join(`
`));x(Z),Z&&window.setTimeout(()=>x(!1),1500)};return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-[#2a2a2a] bg-[#1e1e1e] font-mono text-[13px] leading-relaxed text-[#d4d4d4] shadow-[0_8px_24px_rgba(0,0,0,0.45)]",children:[l.jsxs("div",{className:"flex flex-col border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#232323]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-[#9da5b4]",children:[l.jsx("span",{className:"font-semibold tracking-[0.3em] text-slate-200",children:"ADE"}),l.jsx("span",{className:"text-slate-400",children:"Terminal"}),C?l.jsx("span",{className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-slate-200",children:C}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter logs by scope",children:["Origin",l.jsxs("select",{value:c.origin,onChange:H=>u(Z=>({...Z,origin:H.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by severity",children:["Level",l.jsxs("select",{value:c.level,onChange:H=>u(Z=>({...Z,level:H.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"debug",children:"Debug"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>d?m(!1):se(),className:fe("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",d?"border border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),title:"Auto-scroll to newest logs",children:d?"Following":"Follow"}),l.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"View"}),l.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",role:"radio","aria-checked":b==="parsed",onClick:()=>y("parsed"),className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",b==="parsed"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"Parsed"}),l.jsx("button",{type:"button",role:"radio","aria-checked":b==="ndjson",onClick:()=>y("ndjson"),className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",b==="ndjson"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"NDJSON"})]})]}),l.jsx("button",{type:"button",onClick:I,className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",g?"border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),disabled:!k,title:R?"Copy visible console output":"Copy may be blocked by browser permissions",children:g?"Copied":"Copy"}),l.jsx("button",{type:"button",onClick:()=>r?.(),className:"rounded border border-slate-600 bg-[#0f0f0f] px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-200 transition hover:border-slate-400",title:"Clear console output",children:"Clear"})]})]}),n?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-[#2a2a2a] bg-[#181818] px-4 py-1.5 text-[11px] text-[#7f8794]",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(R_,{status:n.status}),l.jsxs("span",{className:"truncate",title:n.runId,children:["Run ",n.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[n.documentName??"Document not recorded",$0(n.sheetNames)?`  ${$0(n.sheetNames)}`:""]}),n.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",H_(n.durationMs)]}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-600",children:"Downloads"}),l.jsx(kf,{href:n.outputUrl,label:n.outputFilename?`Output (${n.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),l.jsx(kf,{href:n.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),l.jsx(kf,{href:n.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),l.jsx("div",{ref:w,onScroll:L,className:"flex-1 overflow-auto bg-[#1e1e1e] [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:k?l.jsx("div",{style:{height:O.getTotalSize(),position:"relative"},children:O.getVirtualItems().map(H=>{const Z=j[H.index],P=typeof Z=="number"?e.getLine(Z):void 0;if(!P)return null;const U=P.id??`${P.timestamp??"tbd"}-${P.origin??"run"}-${Z}`,G=b==="ndjson"?l.jsx("span",{className:"whitespace-pre-wrap break-words",children:Xv(P)??P.message}):__(P);return l.jsx("div",{"data-index":H.index,ref:O.measureElement,className:"flex items-start gap-3 border-b border-[#1a1a1a] px-3 py-[2px] transition hover:bg-[#232323] last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${H.start}px)`},children:l.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[B_(P.timestamp),l.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-[#606674]",children:Jv(P.origin)}),l.jsx("span",{className:fe("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",$_(P.level)),children:q_(P.level)}),l.jsx("div",{className:fe("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",O_(P.level)),children:G})]})},U)})}):T?l.jsx(q0,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):l.jsx(q0,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})})]})}function q0({title:e,description:n}){return l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:e}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:n})]})}function R_({status:e}){const n=U_(e),r=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:fe("inline-block h-2.5 w-2.5 rounded-full",r),"aria-hidden":!0})}function O_(e){switch(e){case"warning":return"text-amber-100";case"error":return"text-rose-100";case"success":return"text-emerald-100";default:return"text-[#d4d4d4]"}}function L_(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function U_(e){return e==="cancelled"}function Jv(e){return e==="build"?"[build]":"[run]"}function B_(e){const n=ey(e);return n?l.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#7a8090]",children:["[",n,"]"]}):l.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#4f5665]","aria-hidden":!0,children:""})}function q_(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function $_(e){switch(e){case"warning":return"text-amber-300";case"error":return"text-rose-300";case"success":return"text-emerald-300";default:return"text-[#6f7683]"}}function ey(e){if(!e)return"";const n=new Date(e);if(!Number.isNaN(n.getTime()))return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const r=e.trim();return r.length>0?r:""}function F_(e,n){const r=ey(e.timestamp),i=Jv(e.origin),c=L_(e.level).toLowerCase(),u=n==="ndjson"?Xv(e)??e.message??"":e.message??"";return`${r?`[${r}] `:""}${i} ${c} ${u}`.trim()}function $0(e){return e?e.length===0?"All worksheets":e.join(", "):null}function H_(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function kf({href:e,label:n,disabledLabel:r,disabledReason:i}){const c=typeof e=="string"&&e.trim().length>0,u="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",d="border-slate-700 bg-[#101010] text-slate-200 hover:border-slate-500",m="border-slate-800 bg-[#0f0f0f] text-slate-600 cursor-not-allowed";return c?l.jsxs("a",{className:fe(u,d),href:e,title:n,children:[l.jsx(Z_,{}),l.jsx("span",{className:"truncate",children:n})]}):l.jsx("span",{className:fe(u,m),title:i,children:r})}function Z_(){return l.jsxs("svg",{viewBox:"0 0 20 20",className:"h-3.5 w-3.5 text-slate-300",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 3v8m0 0 3-3m-3 3-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 13.5v2A1.5 1.5 0 0 0 5.5 17h9A1.5 1.5 0 0 0 16 15.5v-2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function V_({validation:e}){const n=Q_(e),r=W_(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",P_(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,c)=>l.jsxs("li",{className:I_(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??c}-${c}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:r})]})}function I_(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function Q_(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function W_(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function P_(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function K_({height:e,console:n,validation:r,activePane:i,onPaneChange:c,latestRun:u,onClearConsole:d,runStatus:m,onToggleCollapse:g,appearance:x="light"}){const b=r.messages.length>0,y=x==="dark"?{surface:"border-[#1f2431] bg-[#0f111a] text-slate-100",header:"border-[#1f2431] bg-[#0f111a]",hideButton:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{surface:"border-slate-200 bg-slate-50 text-slate-800",header:"border-slate-200 bg-slate-50",hideButton:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"};return l.jsx("section",{className:fe("flex min-h-0 flex-col overflow-hidden border-t",y.surface),style:{height:e},children:l.jsxs(Kv,{value:i,onValueChange:w=>c(w),children:[l.jsxs("div",{className:fe("flex flex-none items-center justify-between border-b px-3 py-1.5",y.header),onDoubleClick:g,title:g?"Double-click to hide console":void 0,children:[l.jsxs(Yv,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Jf,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Jf,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",b?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:r.messages.length}):null]})]}),g?l.jsx("button",{type:"button",onClick:g,className:fe("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",y.hideButton),title:"Hide console",children:"Hide"}):null]}),l.jsx(eh,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(z_,{console:n,latestRun:u,onClearConsole:d,runStatus:m})}),l.jsx(eh,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(V_,{validation:r})})]})})}function Y_({containerRef:e,tabs:n,activeTabId:r,onCloseTab:i,onSelectRecentTab:c,onSelectTab:u}){return p.useEffect(()=>{if(!n.length)return;const d=g=>{const x=e.current;if(!x)return!1;const b=g.target;if(b instanceof Node&&x.contains(b))return!0;const y=document.activeElement;return!!(y&&x.contains(y))},m=g=>{if(!(g.ctrlKey||g.metaKey)||!d(g))return;if(g.key.toLowerCase()==="w"){if(!r)return;g.preventDefault(),i(r);return}if(g.key==="Tab"){if(n.length<2)return;g.preventDefault(),c(g.shiftKey?"backward":"forward");return}const x=b=>{if(n.length<2)return;const y=n.findIndex(j=>j.id===r),E=((y>=0?y:0)+b+n.length)%n.length,N=n[E];N&&u(N.id)};if(g.key==="PageUp"){g.preventDefault(),x(-1);return}g.key==="PageDown"&&(g.preventDefault(),x(1))};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[n,r,i,c,u,e]),null}const G_=p.lazy(()=>$j(()=>import("./MonacoCodeEditor-DaXfsiFF.js"),[])),X_=p.forwardRef(function(n,r){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:fe("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(G_,{...c,ref:r,className:i})})});function J_({tabs:e,activeTabId:n,editorTheme:r,onContentChange:i,onSaveTab:c,canSaveFiles:u=!1,onRetryTabLoad:d,onSelectTab:m,isTabDragging:g=!1}){return p.useMemo(()=>e.find(b=>b.id===n)??null,[e,n])?l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(b=>l.jsx(eh,{value:b.id,className:"flex min-h-0 min-w-0 flex-1",children:b.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",b.name,""]}):b.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:b.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>d?d(b.id):m(b.id),children:"Retry loading"})]}):l.jsx("div",{className:fe("flex min-h-0 min-w-0 flex-1",g&&"pointer-events-none select-none"),children:l.jsx(X_,{value:b.content,language:b.language??"plaintext",path:b.id,theme:r,onChange:y=>i(b.id,y??""),onSaveShortcut:()=>{u&&c?.(b.id)}})})},b.id))}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."})}function e5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const lu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Di(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Oh(e){return"nodeType"in e}function Pn(e){var n,r;return e?Di(e)?e:Oh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Lh(e){const{Document:n}=Pn(e);return e instanceof n}function eo(e){return Di(e)?!1:e instanceof Pn(e).HTMLElement}function ty(e){return e instanceof Pn(e).SVGElement}function zi(e){return e?Di(e)?e.document:Oh(e)?Lh(e)?e:eo(e)||ty(e)?e.ownerDocument:document:document:document}const Ws=lu?p.useLayoutEffect:p.useEffect;function Uh(e){const n=p.useRef(e);return Ws(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function t5(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Il(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return Ws(()=>{r.current!==e&&(r.current=e)},n),r}function to(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Hc(e){const n=Uh(e),r=p.useRef(null),i=p.useCallback(c=>{c!==r.current&&n?.(c,r.current),r.current=c},[]);return[r,i]}function th(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let _f={};function no(e,n){return p.useMemo(()=>{if(n)return n;const r=_f[e]==null?0:_f[e]+1;return _f[e]=r,e+"-"+r},[e,n])}function ny(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return i.reduce((u,d)=>{const m=Object.entries(d);for(const[g,x]of m){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const Ni=ny(1),Zc=ny(-1);function n5(e){return"clientX"in e&&"clientY"in e}function Bh(e){if(!e)return!1;const{KeyboardEvent:n}=Pn(e.target);return n&&e instanceof n}function s5(e){if(!e)return!1;const{TouchEvent:n}=Pn(e.target);return n&&e instanceof n}function nh(e){if(s5(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return n5(e)?{x:e.clientX,y:e.clientY}:null}const Ql=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ql.Translate.toString(e),Ql.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),F0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function r5(e){return e.matches(F0)?e:e.querySelector(F0)}const a5={display:"none"};function i5(e){let{id:n,value:r}=e;return bt.createElement("div",{id:n,style:a5},r)}function l5(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return bt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},r)}function o5(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const sy=p.createContext(null);function c5(e){const n=p.useContext(sy);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function u5(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(d=>{var m;return(m=d[c])==null?void 0:m.call(d,u)})},[e]),n]}const d5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},f5={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function h5(e){let{announcements:n=f5,container:r,hiddenTextDescribedById:i,screenReaderInstructions:c=d5}=e;const{announce:u,announcement:d}=o5(),m=no("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),c5(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:E}=y;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(y){let{active:w,over:E}=y;u(n.onDragOver({active:w,over:E}))},onDragEnd(y){let{active:w,over:E}=y;u(n.onDragEnd({active:w,over:E}))},onDragCancel(y){let{active:w,over:E}=y;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!g)return null;const b=bt.createElement(bt.Fragment,null,bt.createElement(i5,{id:i,value:c.draggable}),bt.createElement(l5,{id:m,announcement:d}));return r?is.createPortal(b,r):b}var ln;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ln||(ln={}));function Vc(){}function m5(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function p5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const Ds=Object.freeze({x:0,y:0});function g5(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function x5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function b5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function v5(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function H0(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const y5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=H0(n,n.left,n.top),u=[];for(const d of i){const{id:m}=d,g=r.get(m);if(g){const x=g5(H0(g),c);u.push({id:m,data:{droppableContainer:d,value:x}})}}return u.sort(x5)};function w5(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),d=c-i,m=u-r;if(i<c&&r<u){const g=n.width*n.height,x=e.width*e.height,b=d*m,y=b/(g+x-b);return Number(y.toFixed(4))}return 0}const j5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const c=[];for(const u of i){const{id:d}=u,m=r.get(d);if(m){const g=w5(m,n);g>0&&c.push({id:d,data:{droppableContainer:u,value:g}})}}return c.sort(b5)};function S5(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function ry(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Ds}function E5(e){return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((d,m)=>({...d,top:d.top+e*m.y,bottom:d.bottom+e*m.y,left:d.left+e*m.x,right:d.right+e*m.x}),{...r})}}const N5=E5(1);function C5(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function k5(e,n,r){const i=C5(n);if(!i)return e;const{scaleX:c,scaleY:u,x:d,y:m}=i,g=e.left-d-(1-c)*parseFloat(r),x=e.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:x,right:g+b,bottom:x+y,left:g}}const _5={ignoreTransform:!1};function Ri(e,n){n===void 0&&(n=_5);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=Pn(e).getComputedStyle(e);x&&(r=k5(r,x,b))}const{top:i,left:c,width:u,height:d,bottom:m,right:g}=r;return{top:i,left:c,width:u,height:d,bottom:m,right:g}}function Z0(e){return Ri(e,{ignoreTransform:!0})}function T5(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function A5(e,n){return n===void 0&&(n=Pn(e).getComputedStyle(e)),n.position==="fixed"}function M5(e,n){n===void 0&&(n=Pn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?r.test(u):!1})}function qh(e,n){const r=[];function i(c){if(n!=null&&r.length>=n||!c)return r;if(Lh(c)&&c.scrollingElement!=null&&!r.includes(c.scrollingElement))return r.push(c.scrollingElement),r;if(!eo(c)||ty(c)||r.includes(c))return r;const u=Pn(e).getComputedStyle(c);return c!==e&&M5(c,u)&&r.push(c),A5(c,u)?r:i(c.parentNode)}return e?i(e):r}function ay(e){const[n]=qh(e,1);return n??null}function Tf(e){return!lu||!e?null:Di(e)?e:Oh(e)?Lh(e)||e===zi(e).scrollingElement?window:eo(e)?e:null:null}function iy(e){return Di(e)?e.scrollX:e.scrollLeft}function ly(e){return Di(e)?e.scrollY:e.scrollTop}function sh(e){return{x:iy(e),y:ly(e)}}var pn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pn||(pn={}));function oy(e){return!lu||!e?!1:e===document.scrollingElement}function cy(e){const n={x:0,y:0},r=oy(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:d,isRight:m,maxScroll:i,minScroll:n}}const D5={x:.2,y:.2};function z5(e,n,r,i,c){let{top:u,left:d,right:m,bottom:g}=r;i===void 0&&(i=10),c===void 0&&(c=D5);const{isTop:x,isBottom:b,isLeft:y,isRight:w}=cy(e),E={x:0,y:0},N={x:0,y:0},j={height:n.height*c.y,width:n.width*c.x};return!x&&u<=n.top+j.height?(E.y=pn.Backward,N.y=i*Math.abs((n.top+j.height-u)/j.height)):!b&&g>=n.bottom-j.height&&(E.y=pn.Forward,N.y=i*Math.abs((n.bottom-j.height-g)/j.height)),!w&&m>=n.right-j.width?(E.x=pn.Forward,N.x=i*Math.abs((n.right-j.width-m)/j.width)):!y&&d<=n.left+j.width&&(E.x=pn.Backward,N.x=i*Math.abs((n.left+j.width-d)/j.width)),{direction:E,speed:N}}function R5(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:n,left:r,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function uy(e){return e.reduce((n,r)=>Ni(n,sh(r)),Ds)}function O5(e){return e.reduce((n,r)=>n+iy(r),0)}function L5(e){return e.reduce((n,r)=>n+ly(r),0)}function U5(e,n){if(n===void 0&&(n=Ri),!e)return;const{top:r,left:i,bottom:c,right:u}=n(e);ay(e)&&(c<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const B5=[["x",["left","right"],O5],["y",["top","bottom"],L5]];class $h{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=qh(r),c=uy(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,d,m]of B5)for(const g of d)Object.defineProperty(this,g,{get:()=>{const x=m(i),b=c[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ll{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var c;(c=this.target)==null||c.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function q5(e){const{EventTarget:n}=Pn(e);return e instanceof n?e:zi(e)}function Af(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var xs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(xs||(xs={}));function V0(e){e.preventDefault()}function $5(e){e.stopPropagation()}var ot;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ot||(ot={}));const dy={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},F5=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case ot.Right:return{...r,x:r.x+25};case ot.Left:return{...r,x:r.x-25};case ot.Down:return{...r,y:r.y+25};case ot.Up:return{...r,y:r.y-25}}};class fy{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Ll(zi(r)),this.windowListeners=new Ll(Pn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xs.Resize,this.handleCancel),this.windowListeners.add(xs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&U5(i),r(Ds)}handleKeyDown(n){if(Bh(n)){const{active:r,context:i,options:c}=this.props,{keyboardCodes:u=dy,coordinateGetter:d=F5,scrollBehavior:m="smooth"}=c,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:Ds;this.referenceCoordinates||(this.referenceCoordinates=b);const y=d(n,{active:r,context:i.current,currentCoordinates:b});if(y){const w=Zc(y,b),E={x:0,y:0},{scrollableAncestors:N}=i.current;for(const j of N){const k=n.code,{isTop:T,isRight:C,isLeft:R,isBottom:O,maxScroll:L,minScroll:se}=cy(j),B=R5(j),I={x:Math.min(k===ot.Right?B.right-B.width/2:B.right,Math.max(k===ot.Right?B.left:B.left+B.width/2,y.x)),y:Math.min(k===ot.Down?B.bottom-B.height/2:B.bottom,Math.max(k===ot.Down?B.top:B.top+B.height/2,y.y))},H=k===ot.Right&&!C||k===ot.Left&&!R,Z=k===ot.Down&&!O||k===ot.Up&&!T;if(H&&I.x!==y.x){const P=j.scrollLeft+w.x,U=k===ot.Right&&P<=L.x||k===ot.Left&&P>=se.x;if(U&&!w.y){j.scrollTo({left:P,behavior:m});return}U?E.x=j.scrollLeft-P:E.x=k===ot.Right?j.scrollLeft-L.x:j.scrollLeft-se.x,E.x&&j.scrollBy({left:-E.x,behavior:m});break}else if(Z&&I.y!==y.y){const P=j.scrollTop+w.y,U=k===ot.Down&&P<=L.y||k===ot.Up&&P>=se.y;if(U&&!w.x){j.scrollTo({top:P,behavior:m});return}U?E.y=j.scrollTop-P:E.y=k===ot.Down?j.scrollTop-L.y:j.scrollTop-se.y,E.y&&j.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(n,Ni(Zc(y,this.referenceCoordinates),E))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fy.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=dy,onActivation:c}=n,{active:u}=r;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function I0(e){return!!(e&&"distance"in e)}function Q0(e){return!!(e&&"delay"in e)}class Fh{constructor(n,r,i){var c;i===void 0&&(i=q5(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:d}=u;this.props=n,this.events=r,this.document=zi(d),this.documentListeners=new Ll(this.document),this.listeners=new Ll(i),this.windowListeners=new Ll(Pn(d)),this.initialCoordinates=(c=nh(u))!=null?c:Ds,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(xs.Resize,this.handleCancel),this.windowListeners.add(xs.DragStart,V0),this.windowListeners.add(xs.VisibilityChange,this.handleCancel),this.windowListeners.add(xs.ContextMenu,V0),this.documentListeners.add(xs.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Q0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(I0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(xs.Click,$5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xs.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:d,options:{activationConstraint:m}}=u;if(!c)return;const g=(r=nh(n))!=null?r:Ds,x=Zc(c,g);if(!i&&m){if(I0(m)){if(m.tolerance!=null&&Af(x,m.tolerance))return this.handleCancel();if(Af(x,m.distance))return this.handleStart()}if(Q0(m)&&Af(x,m.tolerance))return this.handleCancel();this.handlePending(m,x);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const H5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hh extends Fh{constructor(n){const{event:r}=n,i=zi(r.target);super(n,H5,i)}}Hh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const Z5={move:{name:"mousemove"},end:{name:"mouseup"}};var rh;(function(e){e[e.RightClick=2]="RightClick"})(rh||(rh={}));class V5 extends Fh{constructor(n){super(n,Z5,zi(n.event.target))}}V5.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===rh.RightClick?!1:(i?.({event:r}),!0)}}];const Mf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class I5 extends Fh{constructor(n){super(n,Mf)}static setup(){return window.addEventListener(Mf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Mf.move.name,n)};function n(){}}}I5.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:c}=r;return c.length>1?!1:(i?.({event:r}),!0)}}];var Ul;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ul||(Ul={}));var Ic;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ic||(Ic={}));function Q5(e){let{acceleration:n,activator:r=Ul.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:d=5,order:m=Ic.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:y,threshold:w}=e;const E=P5({delta:y,disabled:!u}),[N,j]=t5(),k=p.useRef({x:0,y:0}),T=p.useRef({x:0,y:0}),C=p.useMemo(()=>{switch(r){case Ul.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Ul.DraggableRect:return c}},[r,c,g]),R=p.useRef(null),O=p.useCallback(()=>{const se=R.current;if(!se)return;const B=k.current.x*T.current.x,I=k.current.y*T.current.y;se.scrollBy(B,I)},[]),L=p.useMemo(()=>m===Ic.TreeOrder?[...x].reverse():x,[m,x]);p.useEffect(()=>{if(!u||!x.length||!C){j();return}for(const se of L){if(i?.(se)===!1)continue;const B=x.indexOf(se),I=b[B];if(!I)continue;const{direction:H,speed:Z}=z5(se,I,C,n,w);for(const P of["x","y"])E[P][H[P]]||(Z[P]=0,H[P]=0);if(Z.x>0||Z.y>0){j(),R.current=se,N(O,d),k.current=Z,T.current=H;return}}k.current={x:0,y:0},T.current={x:0,y:0},j()},[n,O,i,j,u,d,JSON.stringify(C),JSON.stringify(E),N,x,L,b,JSON.stringify(w)])}const W5={x:{[pn.Backward]:!1,[pn.Forward]:!1},y:{[pn.Backward]:!1,[pn.Forward]:!1}};function P5(e){let{delta:n,disabled:r}=e;const i=th(n);return to(c=>{if(r||!i||!c)return W5;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[pn.Backward]:c.x[pn.Backward]||u.x===-1,[pn.Forward]:c.x[pn.Forward]||u.x===1},y:{[pn.Backward]:c.y[pn.Backward]||u.y===-1,[pn.Forward]:c.y[pn.Forward]||u.y===1}}},[r,n,i])}function K5(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return to(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function Y5(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:c}=i,u=c.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...r,...u]},[]),[e,n])}var Wl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Wl||(Wl={}));var ah;(function(e){e.Optimized="optimized"})(ah||(ah={}));const W0=new Map;function G5(e,n){let{dragging:r,dependencies:i,config:c}=n;const[u,d]=p.useState(null),{frequency:m,measure:g,strategy:x}=c,b=p.useRef(e),y=k(),w=Il(y),E=p.useCallback(function(T){T===void 0&&(T=[]),!w.current&&d(C=>C===null?T:C.concat(T.filter(R=>!C.includes(R))))},[w]),N=p.useRef(null),j=to(T=>{if(y&&!r)return W0;if(!T||T===W0||b.current!==e||u!=null){const C=new Map;for(let R of e){if(!R)continue;if(u&&u.length>0&&!u.includes(R.id)&&R.rect.current){C.set(R.id,R.rect.current);continue}const O=R.node.current,L=O?new $h(g(O),O):null;R.rect.current=L,L&&C.set(R.id,L)}return C}return T},[e,u,r,y,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||E()},[r,y]),p.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||N.current!==null||(N.current=setTimeout(()=>{E(),N.current=null},m))},[m,y,E,...i]),{droppableRects:j,measureDroppableContainers:E,measuringScheduled:u!=null};function k(){switch(x){case Wl.Always:return!1;case Wl.BeforeDragging:return r;default:return!r}}}function hy(e,n){return to(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function X5(e,n){return hy(e,n)}function J5(e){let{callback:n,disabled:r}=e;const i=Uh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function ou(e){let{callback:n,disabled:r}=e;const i=Uh(n),c=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function eT(e){return new $h(Ri(e),e)}function P0(e,n,r){n===void 0&&(n=eT);const[i,c]=p.useState(null);function u(){c(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??r)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=J5({callback(g){if(e)for(const x of g){const{type:b,target:y}=x;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=ou({callback:u});return Ws(()=>{u(),e?(m?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),d?.disconnect())},[e]),i}function tT(e){const n=hy(e);return ry(e,n)}const K0=[];function nT(e){const n=p.useRef(e),r=to(i=>e?i&&i!==K0&&e&&n.current&&e.parentNode===n.current.parentNode?i:qh(e):K0,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function sT(e){const[n,r]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const d=Tf(u.target);d&&r(m=>m?(m.set(d,sh(d)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){d(u);const m=e.map(g=>{const x=Tf(g);return x?(x.addEventListener("scroll",c,{passive:!0}),[x,sh(x)]):null}).filter(g=>g!=null);r(m.length?new Map(m):null),i.current=e}return()=>{d(e),d(u)};function d(m){m.forEach(g=>{const x=Tf(g);x?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,d)=>Ni(u,d),Ds):uy(e):Ds,[e,n])}function Y0(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==Ds;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Zc(e,r.current):Ds}function rT(e){p.useEffect(()=>{if(!lu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function aT(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:c,handler:u}=i;return r[c]=d=>{u(d,n)},r},{}),[e,n])}function my(e){return p.useMemo(()=>e?T5(e):null,[e])}const G0=[];function iT(e,n){n===void 0&&(n=Ri);const[r]=e,i=my(r?Pn(r):null),[c,u]=p.useState(G0);function d(){u(()=>e.length?e.map(g=>oy(g)?i:new $h(n(g),g)):G0)}const m=ou({callback:d});return Ws(()=>{m?.disconnect(),d(),e.forEach(g=>m?.observe(g))},[e]),c}function lT(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return eo(n)?n:e}function oT(e){let{measure:n}=e;const[r,i]=p.useState(null),c=p.useCallback(x=>{for(const{target:b}of x)if(eo(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=ou({callback:c}),d=p.useCallback(x=>{const b=lT(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,g]=Hc(d);return p.useMemo(()=>({nodeRef:m,rect:r,setRef:g}),[r,m,g])}const cT=[{sensor:Hh,options:{}},{sensor:fy,options:{}}],uT={current:{}},_c={draggable:{measure:Z0},droppable:{measure:Z0,strategy:Wl.WhileDragging,frequency:ah.Optimized},dragOverlay:{measure:Ri}};class Bl extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const dT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_c,measureDroppableContainers:Vc,windowRect:null,measuringScheduled:!1},fT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Vc,draggableNodes:new Map,over:null,measureDroppableContainers:Vc},cu=p.createContext(fT),py=p.createContext(dT);function hT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bl}}}function mT(e,n){switch(n.type){case ln.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case ln.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case ln.DragEnd:case ln.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ln.RegisterDroppable:{const{element:r}=n,{id:i}=r,c=new Bl(e.droppable.containers);return c.set(i,r),{...e,droppable:{...e.droppable,containers:c}}}case ln.SetDroppableDisabled:{const{id:r,key:i,disabled:c}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const d=new Bl(e.droppable.containers);return d.set(r,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:d}}}case ln.UnregisterDroppable:{const{id:r,key:i}=n,c=e.droppable.containers.get(r);if(!c||i!==c.key)return e;const u=new Bl(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function pT(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:c}=p.useContext(cu),u=th(i),d=th(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&d!=null){if(!Bh(u)||document.activeElement===u.target)return;const m=c.get(d);if(!m)return;const{activatorNode:g,node:x}=m;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const y=r5(b);if(y){y.focus();break}}})}},[i,n,c,d,u]),null}function gT(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),r):r}function xT(e){return p.useMemo(()=>({draggable:{..._c.draggable,...e?.draggable},droppable:{..._c.droppable,...e?.droppable},dragOverlay:{..._c.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function bT(e){let{activeNode:n,measure:r,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:d,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Ws(()=>{if(!d&&!m||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=r(x),y=ry(b,i);if(d||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=ay(x);w&&w.scrollBy({top:y.y,left:y.x})}},[n,d,m,i,r])}const gy=p.createContext({...Ds,scaleX:1,scaleY:1});var Wr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Wr||(Wr={}));const vT=p.memo(function(n){var r,i,c,u;let{id:d,accessibility:m,autoScroll:g=!0,children:x,sensors:b=cT,collisionDetection:y=j5,measuring:w,modifiers:E,...N}=n;const j=p.useReducer(mT,void 0,hT),[k,T]=j,[C,R]=u5(),[O,L]=p.useState(Wr.Uninitialized),se=O===Wr.Initialized,{draggable:{active:B,nodes:I,translate:H},droppable:{containers:Z}}=k,P=B!=null?I.get(B):null,U=p.useRef({initial:null,translated:null}),G=p.useMemo(()=>{var Dt;return B!=null?{id:B,data:(Dt=P?.data)!=null?Dt:uT,rect:U}:null},[B,P]),ce=p.useRef(null),[we,A]=p.useState(null),[z,ge]=p.useState(null),ye=Il(N,Object.values(N)),oe=no("DndDescribedBy",d),_=p.useMemo(()=>Z.getEnabled(),[Z]),K=xT(w),{droppableRects:le,measureDroppableContainers:F,measuringScheduled:te}=G5(_,{dragging:se,dependencies:[H.x,H.y],config:K.droppable}),V=K5(I,B),X=p.useMemo(()=>z?nh(z):null,[z]),$=xr(),ae=X5(V,K.draggable.measure);bT({activeNode:B!=null?I.get(B):null,config:$.layoutShiftCompensation,initialRect:ae,measure:K.draggable.measure});const me=P0(V,K.draggable.measure,ae),pe=P0(V?V.parentElement:null),Ce=p.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=Z.getNodeFor((r=Ce.current.over)==null?void 0:r.id),Oe=oT({measure:K.dragOverlay.measure}),Te=(i=Oe.nodeRef.current)!=null?i:V,Ye=se?(c=Oe.rect)!=null?c:me:null,Lt=!!(Oe.nodeRef.current&&Oe.rect),it=tT(Lt?null:me),Nn=my(Te?Pn(Te):null),M=nT(se?We??V:null),Y=iT(M),re=gT(E,{transform:{x:H.x-it.x,y:H.y-it.y,scaleX:1,scaleY:1},activatorEvent:z,active:G,activeNodeRect:me,containerNodeRect:pe,draggingNodeRect:Ye,over:Ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:M,scrollableAncestorRects:Y,windowRect:Nn}),Ee=X?Ni(X,H):null,ve=sT(M),je=Y0(ve),Ae=Y0(ve,[me]),He=Ni(re,je),Ie=Ye?N5(Ye,re):null,Ct=G&&Ie?y({active:G,collisionRect:Ie,droppableRects:le,droppableContainers:_,pointerCoordinates:Ee}):null,Se=v5(Ct,"id"),[Ne,qe]=p.useState(null),At=Lt?re:Ni(re,Ae),st=S5(At,(u=Ne?.rect)!=null?u:null,me),Pt=p.useRef(null),Mt=p.useCallback((Dt,yt)=>{let{sensor:kt,options:Cn}=yt;if(ce.current==null)return;const un=I.get(ce.current);if(!un)return;const dn=Dt.nativeEvent,fn=new kt({active:ce.current,activeNode:un,event:dn,options:Cn,context:Ce,onAbort(qt){if(!I.get(qt))return;const{onDragAbort:bn}=ye.current,kn={id:qt};bn?.(kn),C({type:"onDragAbort",event:kn})},onPending(qt,xn,bn,kn){if(!I.get(qt))return;const{onDragPending:Pe}=ye.current,_n={id:qt,constraint:xn,initialCoordinates:bn,offset:kn};Pe?.(_n),C({type:"onDragPending",event:_n})},onStart(qt){const xn=ce.current;if(xn==null)return;const bn=I.get(xn);if(!bn)return;const{onDragStart:kn}=ye.current,Kn={activatorEvent:dn,active:{id:xn,data:bn.data,rect:U}};is.unstable_batchedUpdates(()=>{kn?.(Kn),L(Wr.Initializing),T({type:ln.DragStart,initialCoordinates:qt,active:xn}),C({type:"onDragStart",event:Kn}),A(Pt.current),ge(dn)})},onMove(qt){T({type:ln.DragMove,coordinates:qt})},onEnd:Rn(ln.DragEnd),onCancel:Rn(ln.DragCancel)});Pt.current=fn;function Rn(qt){return async function(){const{active:bn,collisions:kn,over:Kn,scrollAdjustedTranslate:Pe}=Ce.current;let _n=null;if(bn&&Pe){const{cancelDrop:zt}=ye.current;_n={activatorEvent:dn,active:bn,collisions:kn,delta:Pe,over:Kn},qt===ln.DragEnd&&typeof zt=="function"&&await Promise.resolve(zt(_n))&&(qt=ln.DragCancel)}ce.current=null,is.unstable_batchedUpdates(()=>{T({type:qt}),L(Wr.Uninitialized),qe(null),A(null),ge(null),Pt.current=null;const zt=qt===ln.DragEnd?"onDragEnd":"onDragCancel";if(_n){const On=ye.current[zt];On?.(_n),C({type:zt,event:_n})}})}}},[I]),gr=p.useCallback((Dt,yt)=>(kt,Cn)=>{const un=kt.nativeEvent,dn=I.get(Cn);if(ce.current!==null||!dn||un.dndKit||un.defaultPrevented)return;const fn={active:dn};Dt(kt,yt.options,fn)===!0&&(un.dndKit={capturedBy:yt.sensor},ce.current=Cn,Mt(kt,yt))},[I,Mt]),zs=Y5(b,gr);rT(b),Ws(()=>{me&&O===Wr.Initializing&&L(Wr.Initialized)},[me,O]),p.useEffect(()=>{const{onDragMove:Dt}=ye.current,{active:yt,activatorEvent:kt,collisions:Cn,over:un}=Ce.current;if(!yt||!kt)return;const dn={active:yt,activatorEvent:kt,collisions:Cn,delta:{x:He.x,y:He.y},over:un};is.unstable_batchedUpdates(()=>{Dt?.(dn),C({type:"onDragMove",event:dn})})},[He.x,He.y]),p.useEffect(()=>{const{active:Dt,activatorEvent:yt,collisions:kt,droppableContainers:Cn,scrollAdjustedTranslate:un}=Ce.current;if(!Dt||ce.current==null||!yt||!un)return;const{onDragOver:dn}=ye.current,fn=Cn.get(Se),Rn=fn&&fn.rect.current?{id:fn.id,rect:fn.rect.current,data:fn.data,disabled:fn.disabled}:null,qt={active:Dt,activatorEvent:yt,collisions:kt,delta:{x:un.x,y:un.y},over:Rn};is.unstable_batchedUpdates(()=>{qe(Rn),dn?.(qt),C({type:"onDragOver",event:qt})})},[Se]),Ws(()=>{Ce.current={activatorEvent:z,active:G,activeNode:V,collisionRect:Ie,collisions:Ct,droppableRects:le,draggableNodes:I,draggingNode:Te,draggingNodeRect:Ye,droppableContainers:Z,over:Ne,scrollableAncestors:M,scrollAdjustedTranslate:He},U.current={initial:Ye,translated:Ie}},[G,V,Ct,Ie,I,Te,Ye,le,Z,Ne,M,He]),Q5({...$,delta:H,draggingRect:Ie,pointerCoordinates:Ee,scrollableAncestors:M,scrollableAncestorRects:Y});const Oi=p.useMemo(()=>({active:G,activeNode:V,activeNodeRect:me,activatorEvent:z,collisions:Ct,containerNodeRect:pe,dragOverlay:Oe,draggableNodes:I,droppableContainers:Z,droppableRects:le,over:Ne,measureDroppableContainers:F,scrollableAncestors:M,scrollableAncestorRects:Y,measuringConfiguration:K,measuringScheduled:te,windowRect:Nn}),[G,V,me,z,Ct,pe,Oe,I,Z,le,Ne,F,M,Y,K,te,Nn]),Rs=p.useMemo(()=>({activatorEvent:z,activators:zs,active:G,activeNodeRect:me,ariaDescribedById:{draggable:oe},dispatch:T,draggableNodes:I,over:Ne,measureDroppableContainers:F}),[z,zs,G,me,T,oe,I,Ne,F]);return bt.createElement(sy.Provider,{value:R},bt.createElement(cu.Provider,{value:Rs},bt.createElement(py.Provider,{value:Oi},bt.createElement(gy.Provider,{value:st},x)),bt.createElement(pT,{disabled:m?.restoreFocus===!1})),bt.createElement(h5,{...m,hiddenTextDescribedById:oe}));function xr(){const Dt=we?.autoScrollEnabled===!1,yt=typeof g=="object"?g.enabled===!1:g===!1,kt=se&&!Dt&&!yt;return typeof g=="object"?{...g,enabled:kt}:{enabled:kt}}}),yT=p.createContext(null),X0="button",wT="Draggable";function jT(e){let{id:n,data:r,disabled:i=!1,attributes:c}=e;const u=no(wT),{activators:d,activatorEvent:m,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(cu),{role:E=X0,roleDescription:N="draggable",tabIndex:j=0}=c??{},k=g?.id===n,T=p.useContext(k?gy:yT),[C,R]=Hc(),[O,L]=Hc(),se=aT(d,n),B=Il(r);Ws(()=>(y.set(n,{id:n,key:u,node:C,activatorNode:O,data:B}),()=>{const H=y.get(n);H&&H.key===u&&y.delete(n)}),[y,n]);const I=p.useMemo(()=>({role:E,tabIndex:j,"aria-disabled":i,"aria-pressed":k&&E===X0?!0:void 0,"aria-roledescription":N,"aria-describedby":b.draggable}),[i,E,j,k,N,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:x,attributes:I,isDragging:k,listeners:i?void 0:se,node:C,over:w,setNodeRef:R,setActivatorNodeRef:L,transform:T}}function ST(){return p.useContext(py)}const ET="Droppable",NT={timeout:25};function CT(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:c}=e;const u=no(ET),{active:d,dispatch:m,over:g,measureDroppableContainers:x}=p.useContext(cu),b=p.useRef({disabled:r}),y=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:k}={...NT,...c},T=Il(j??i),C=p.useCallback(()=>{if(!y.current){y.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{x(Array.isArray(T.current)?T.current:[T.current]),E.current=null},k)},[k]),R=ou({callback:C,disabled:N||!d}),O=p.useCallback((I,H)=>{R&&(H&&(R.unobserve(H),y.current=!1),I&&R.observe(I))},[R]),[L,se]=Hc(O),B=Il(n);return p.useEffect(()=>{!R||!L.current||(R.disconnect(),y.current=!1,R.observe(L.current))},[L,R]),p.useEffect(()=>(m({type:ln.RegisterDroppable,element:{id:i,key:u,disabled:r,node:L,rect:w,data:B}}),()=>m({type:ln.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(m({type:ln.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,m]),{active:d,rect:w,isOver:g?.id===i,node:L,over:g,setNodeRef:se}}function xy(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function kT(e,n){return e.reduce((r,i,c)=>{const u=n.get(i);return u&&(r[c]=u),r},Array(e.length))}function jc(e){return e!==null&&e>=0}function _T(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function TT(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Sc={scaleX:1,scaleY:1},AT=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:c,overIndex:u,index:d}=e;const m=(n=r[c])!=null?n:i;if(!m)return null;const g=MT(r,d,c);if(d===c){const x=r[u];return x?{x:c<u?x.left+x.width-(m.left+m.width):x.left-m.left,y:0,...Sc}:null}return d>c&&d<=u?{x:-m.width-g,y:0,...Sc}:d<c&&d>=u?{x:m.width+g,y:0,...Sc}:{x:0,y:0,...Sc}};function MT(e,n,r){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:r<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const by=e=>{let{rects:n,activeIndex:r,overIndex:i,index:c}=e;const u=xy(n,i,r),d=n[c],m=u[c];return!m||!d?null:{x:m.left-d.left,y:m.top-d.top,scaleX:m.width/d.width,scaleY:m.height/d.height}},vy="Sortable",yy=bt.createContext({activeIndex:-1,containerId:vy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:by,disabled:{draggable:!1,droppable:!1}});function DT(e){let{children:n,id:r,items:i,strategy:c=by,disabled:u=!1}=e;const{active:d,dragOverlay:m,droppableRects:g,over:x,measureDroppableContainers:b}=ST(),y=no(vy,r),w=m.rect!==null,E=p.useMemo(()=>i.map(se=>typeof se=="object"&&"id"in se?se.id:se),[i]),N=d!=null,j=d?E.indexOf(d.id):-1,k=x?E.indexOf(x.id):-1,T=p.useRef(E),C=!_T(E,T.current),R=k!==-1&&j===-1||C,O=TT(u);Ws(()=>{C&&N&&b(E)},[C,E,N,b]),p.useEffect(()=>{T.current=E},[E]);const L=p.useMemo(()=>({activeIndex:j,containerId:y,disabled:O,disableTransforms:R,items:E,overIndex:k,useDragOverlay:w,sortedRects:kT(E,g),strategy:c}),[j,y,O.draggable,O.droppable,R,E,k,g,w,c]);return bt.createElement(yy.Provider,{value:L},n)}const zT=e=>{let{id:n,items:r,activeIndex:i,overIndex:c}=e;return xy(r,i,c).indexOf(n)},RT=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:c,items:u,newIndex:d,previousItems:m,previousContainerId:g,transition:x}=e;return!x||!i||m!==u&&c===d?!1:r?!0:d!==c&&n===g},OT={duration:200,easing:"ease"},wy="transform",LT=Ql.Transition.toString({property:wy,duration:0,easing:"linear"}),UT={roleDescription:"sortable"};function BT(e){let{disabled:n,index:r,node:i,rect:c}=e;const[u,d]=p.useState(null),m=p.useRef(r);return Ws(()=>{if(!n&&r!==m.current&&i.current){const g=c.current;if(g){const x=Ri(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&d(b)}}r!==m.current&&(m.current=r)},[n,r,i,c]),p.useEffect(()=>{u&&d(null)},[u]),u}function qT(e){let{animateLayoutChanges:n=RT,attributes:r,disabled:i,data:c,getNewIndex:u=zT,id:d,strategy:m,resizeObserverConfig:g,transition:x=OT}=e;const{items:b,containerId:y,activeIndex:w,disabled:E,disableTransforms:N,sortedRects:j,overIndex:k,useDragOverlay:T,strategy:C}=p.useContext(yy),R=$T(i,E),O=b.indexOf(d),L=p.useMemo(()=>({sortable:{containerId:y,index:O,items:b},...c}),[y,c,O,b]),se=p.useMemo(()=>b.slice(b.indexOf(d)),[b,d]),{rect:B,node:I,isOver:H,setNodeRef:Z}=CT({id:d,data:L,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:se,...g}}),{active:P,activatorEvent:U,activeNodeRect:G,attributes:ce,setNodeRef:we,listeners:A,isDragging:z,over:ge,setActivatorNodeRef:ye,transform:oe}=jT({id:d,data:L,attributes:{...UT,...r},disabled:R.draggable}),_=e5(Z,we),K=!!P,le=K&&!N&&jc(w)&&jc(k),F=!T&&z,te=F&&le?oe:null,X=le?te??(m??C)({rects:j,activeNodeRect:G,activeIndex:w,overIndex:k,index:O}):null,$=jc(w)&&jc(k)?u({id:d,items:b,activeIndex:w,overIndex:k}):O,ae=P?.id,me=p.useRef({activeId:ae,items:b,newIndex:$,containerId:y}),pe=b!==me.current.items,Ce=n({active:P,containerId:y,isDragging:z,isSorting:K,id:d,index:O,items:b,newIndex:me.current.newIndex,previousItems:me.current.items,previousContainerId:me.current.containerId,transition:x,wasDragging:me.current.activeId!=null}),We=BT({disabled:!Ce,index:O,node:I,rect:B});return p.useEffect(()=>{K&&me.current.newIndex!==$&&(me.current.newIndex=$),y!==me.current.containerId&&(me.current.containerId=y),b!==me.current.items&&(me.current.items=b)},[K,$,y,b]),p.useEffect(()=>{if(ae===me.current.activeId)return;if(ae!=null&&me.current.activeId==null){me.current.activeId=ae;return}const Te=setTimeout(()=>{me.current.activeId=ae},50);return()=>clearTimeout(Te)},[ae]),{active:P,activeIndex:w,attributes:ce,data:L,rect:B,index:O,newIndex:$,items:b,isOver:H,isSorting:K,isDragging:z,listeners:A,node:I,overIndex:k,over:ge,setNodeRef:_,setActivatorNodeRef:ye,setDroppableNodeRef:Z,setDraggableNodeRef:we,transform:We??X,transition:Oe()};function Oe(){if(We||pe&&me.current.newIndex===O)return LT;if(!(F&&!Bh(U)||!x)&&(K||Ce))return Ql.Transition.toString({...x,property:wy})}}function $T(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ot.Down,ot.Right,ot.Up,ot.Left;const FT=232,HT=30,va=6;function Ci({open:e,position:n,onClose:r,items:i,appearance:c="dark"}){const u=p.useRef(null),d=p.useRef([]),[m,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,y]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const E=i.length*HT+va*2,N=Math.max(va,(window.innerWidth||0)-FT-va),j=Math.max(va,(window.innerHeight||0)-E-va),k=Math.min(Math.max(n.x,va),N),T=Math.min(Math.max(n.y,va),j);g({x:k,y:T})},[e,n,i.length]),p.useEffect(()=>{e&&y(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;d.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=k=>{u.current&&(u.current.contains(k.target)||r())},N=k=>{if(u.current){if(u.current.contains(k.target)){k.preventDefault();return}r()}},j=k=>{if(k.key==="Escape"){k.preventDefault(),r();return}if(k.key==="ArrowDown"||k.key==="ArrowUp"){k.preventDefault();const T=k.key==="ArrowDown"?1:-1;y(C=>{if(i.length===0)return C;let R=C;for(let O=0;O<i.length;O+=1)if(R=(R+T+i.length)%i.length,!i[R]?.disabled)return R;return C});return}if(k.key==="Enter"||k.key===" "){k.preventDefault();const T=i[b];T&&!T.disabled&&(T.onSelect(),r())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",N),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",N),window.removeEventListener("keydown",j)}},[e,r,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return is.createPortal(l.jsx("div",{ref:u,role:"menu",className:fe("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((E,N)=>{const j=!!E.disabled,k=!!E.danger;return l.jsxs(p.Fragment,{children:[E.dividerAbove?l.jsx("li",{role:"separator",className:fe("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:T=>{d.current[N]=T},type:"button",role:"menuitem",className:fe("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,k&&!j&&w.danger,j&&"cursor-default"),onClick:T=>{T.stopPropagation(),!j&&(E.onSelect(),r())},onMouseEnter:()=>{j||y(N)},disabled:j,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?l.jsx("span",{className:"text-base opacity-80",children:E.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?l.jsx("span",{className:fe("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const pr="h-4 w-4 text-current opacity-80";function ZT({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}function VT(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function IT(){return l.jsxs("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function QT(){return l.jsxs("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function WT(){return l.jsx("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function PT(){return l.jsxs("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function KT(){return l.jsxs("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function YT(){return l.jsxs("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function jy(){return l.jsx("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function GT(){return l.jsx("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function XT(){return l.jsx("svg",{className:pr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function JT(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function eA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function tA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function nA({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:c,onCloseTab:u,setTabNode:d}){const{attributes:m,listeners:g,setNodeRef:x,transform:b,transition:y,isDragging:w}=qT({id:e.id}),E={transform:Ql.Transform.toString(b),transition:y},N=w||i===e.id,j=!!e.pinned;return l.jsxs("div",{ref:k=>{x(k),d(e.id,k)},style:E,className:fe("group relative mr-1 flex min-w-0 items-stretch",N&&"opacity-60"),"data-editor-tab":"true",...m,...g,children:[l.jsxs(Jf,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:c,onMouseDown:k=>{k.button===1&&(k.preventDefault(),u(e.id))},className:fe("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",j?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[j?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(ZT,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(VT,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:fe("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:k=>{k.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function sA({currentTab:e,tabs:n,canSaveFiles:r,hasDirtyTabs:i,onCloseTab:c,onCloseOtherTabs:u,onCloseTabsToRight:d,onCloseAllTabs:m,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:y}){const w=n.findIndex(R=>R.id===e.id),E=w>=0&&w<n.length-1,N=n.length>1,j=e.status==="ready"&&e.content!==e.initialContent,k=!!b&&r&&j&&!e.saving,T=!!y&&r&&i,C={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:l.jsx(IT,{}),disabled:!k,shortcut:C.save,onSelect:()=>b?.(e.id)},{id:"save-all",label:"Save All",icon:l.jsx(QT,{}),disabled:!T,shortcut:C.saveAll,onSelect:()=>y?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?l.jsx(GT,{}):l.jsx(jy,{}),dividerAbove:!0,onSelect:()=>e.pinned?x(e.id):g(e.id)},{id:"close",label:"Close",icon:l.jsx(WT,{}),dividerAbove:!0,shortcut:C.close,onSelect:()=>c(e.id)},{id:"close-others",label:"Close Others",icon:l.jsx(PT,{}),disabled:!N,shortcut:C.closeOthers,onSelect:()=>u(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(KT,{}),disabled:!E,shortcut:C.closeRight,onSelect:()=>d(e.id)},{id:"close-all",label:"Close All",icon:l.jsx(YT,{}),dividerAbove:!0,disabled:n.length===0,shortcut:C.closeAll,onSelect:()=>m()}]}function rA({pinnedTabs:e,regularTabs:n,activeTabId:r,onSelectTab:i}){if(e.length===0&&n.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const c=[],u=(d,m)=>{const g=d.status==="ready"&&d.content!==d.initialContent,x=[];d.id===r&&x.push("Active"),d.saving?x.push("Saving"):g&&x.push("Unsaved"),c.push({id:`switch-${d.id}`,label:`${d.saving?" ":g?" ":""}${d.name}`,icon:d.pinned?l.jsx(jy,{}):l.jsx(XT,{}),shortcut:x.length>0?x.join("  "):void 0,dividerAbove:m,onSelect:()=>i(d.id)})};return e.forEach(d=>u(d,!1)),n.forEach((d,m)=>u(d,m===0&&e.length>0)),c}const J0=220,eb=64,aA=14;function iA({tabs:e,activeTabId:n,menuAppearance:r,canSaveFiles:i=!1,onSelectTab:c,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:m,onCloseAllTabs:g,onMoveTab:x,onPinTab:b,onUnpinTab:y,onSaveTab:w,onSaveAllTabs:E,onTabDragStateChange:N}){const[j,k]=p.useState(null),[T,C]=p.useState(null),[R,O]=p.useState(null),[L,se]=p.useState({left:!1,right:!1}),[B,I]=p.useState(0),H=p.useRef(null),Z=p.useRef(null),P=p.useRef(new Map),U=p.useMemo(()=>e.filter($=>$.pinned),[e]),G=p.useMemo(()=>e.filter($=>!$.pinned),[e]),we=p.useMemo(()=>e.filter($=>$.status==="ready"&&$.content!==$.initialContent),[e]).length>0,A=p5(m5(Hh,{activationConstraint:{distance:5}})),z=r==="dark"?"border-[#1f2937] bg-[#0f172a]":"border-slate-200 bg-slate-900/5",ge=r==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white focus-visible:ring-white/30 focus-visible:ring-offset-0":"text-slate-500 hover:bg-white hover:text-slate-900 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5",ye=p.useCallback(($,ae)=>{const me=P.current;ae?me.set($,ae):me.delete($)},[]);p.useEffect(()=>{j&&!e.some($=>$.id===j.tabId)&&k(null),e.length||C(null)},[j,e]);const oe=p.useCallback($=>{O(String($.active.id)),N?.(!0)},[N]),_=p.useCallback($=>{const ae=$.active.id,me=$.over?.id;if(me&&ae!==me){const pe=e.findIndex(We=>We.id===ae),Ce=e.findIndex(We=>We.id===me);if(pe!==-1&&Ce!==-1){const We=pe<Ce?Ce+1:Ce;x(String(ae),We)}}O(null),N?.(!1)},[x,N,e]),K=p.useCallback(()=>{O(null),N?.(!1)},[N]),le=p.useCallback(()=>{const $=H.current;if(!$){se({left:!1,right:!1});return}const{scrollLeft:ae,scrollWidth:me,clientWidth:pe}=$;se({left:ae>2,right:ae+pe<me-2})},[]);p.useEffect(()=>{const $=H.current;if(!$){se({left:!1,right:!1});return}le();const ae=()=>le();$.addEventListener("scroll",ae),window.addEventListener("resize",le);const me=typeof ResizeObserver<"u"?new ResizeObserver(le):null;return me?.observe($),()=>{$.removeEventListener("scroll",ae),window.removeEventListener("resize",le),me?.disconnect()}},[e.length,le]),p.useEffect(()=>{if(!R){I(0);return}const $=ae=>{const me=H.current;if(!me){I(0);return}const pe=me.getBoundingClientRect();ae.clientX<pe.left+eb?I(-1):ae.clientX>pe.right-eb?I(1):I(0)};return window.addEventListener("pointermove",$),()=>{window.removeEventListener("pointermove",$),I(0)}},[R]),p.useEffect(()=>{if(!R||B===0)return;let $;const ae=()=>{const me=H.current;me&&(me.scrollBy({left:B*aA}),$=window.requestAnimationFrame(ae))};return $=window.requestAnimationFrame(ae),()=>window.cancelAnimationFrame($)},[B,R]),p.useEffect(()=>{P.current.get(n)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!j)return[];const $=e.find(ae=>ae.id===j.tabId);return $?sA({currentTab:$,tabs:e,canSaveFiles:i,hasDirtyTabs:we,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:m,onCloseAllTabs:g,onPinTab:b,onUnpinTab:y,onSaveTab:w,onSaveAllTabs:E}):[]},[i,j,we,g,d,u,m,b,E,w,y,e]),te=p.useMemo(()=>rA({pinnedTabs:U,regularTabs:G,activeTabId:n,onSelectTab:c}),[U,G,n,c]),V=p.useCallback($=>{H.current?.scrollBy({left:$,behavior:"smooth"})},[]),X=p.useCallback(()=>{const $=Z.current?.getBoundingClientRect();$&&C({x:$.left,y:$.bottom+6})},[]);return l.jsxs(l.Fragment,{children:[l.jsx(vT,{sensors:A,collisionDetection:y5,onDragStart:oe,onDragEnd:_,onDragCancel:K,children:l.jsx(DT,{items:e.map($=>$.id),strategy:AT,children:l.jsxs("div",{className:fe("flex items-center gap-1 px-1",z,"border-b"),children:[l.jsx(tb,{appearance:r,direction:"left",disabled:!L.left,onClick:()=>V(-J0)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[L.left?l.jsx(nb,{position:"left",appearance:r}):null,L.right?l.jsx(nb,{position:"right",appearance:r}):null,l.jsx("div",{ref:H,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:$=>{Math.abs($.deltaY)>Math.abs($.deltaX)&&($.preventDefault(),H.current?.scrollBy({left:$.deltaY}))},children:l.jsx(Yv,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map($=>{const ae=$.status==="ready"&&$.content!==$.initialContent,me=$.id===n;return l.jsx(nA,{tab:$,isActive:me,isDirty:ae,draggingId:R,setTabNode:ye,onContextMenu:pe=>{pe.preventDefault(),k({tabId:$.id,x:pe.clientX,y:pe.clientY})},onCloseTab:u},$.id)})})})]}),l.jsx(tb,{appearance:r,direction:"right",disabled:!L.right,onClick:()=>V(J0)}),l.jsx("button",{ref:Z,type:"button",className:fe("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",ge),"aria-label":"Open editors list",onClick:X,children:l.jsx(tA,{})})]})})}),l.jsx(Ci,{open:!!j,position:j&&{x:j.x,y:j.y},onClose:()=>k(null),items:F,appearance:r}),l.jsx(Ci,{open:!!T,position:T,onClose:()=>C(null),items:te,appearance:r})]})}function tb({appearance:e,direction:n,disabled:r,onClick:i}){const c=e==="dark"?"hover:bg-white/10 hover:text-white focus-visible:ring-2 focus-visible:ring-white/30":"hover:bg-white hover:text-slate-900 focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5";return l.jsx("button",{type:"button",className:fe("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none",e==="dark"?"text-slate-300":"text-slate-500",r?"cursor-default opacity-30":c),onClick:i,disabled:r,"aria-label":n==="left"?"Scroll tabs left":"Scroll tabs right",children:n==="left"?l.jsx(JT,{}):l.jsx(eA,{})})}function nb({position:e,appearance:n}){const r=n==="dark"?e==="left"?"left-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent":"right-0 bg-gradient-to-l from-[#0f172a] via-[#0f172a]/80 to-transparent":e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent";return l.jsx("div",{className:fe("pointer-events-none absolute top-0 bottom-0 w-8",r)})}function lA({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:m,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:N,menuAppearance:j,canSaveFiles:k=!1,minHeight:T,onRetryTabLoad:C}){const R=e.length>0,O=p.useRef(null),[L,se]=p.useState(!1),B=p.useMemo(()=>e.find(I=>I.id===n)??null,[e,n]);return!R||!B?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{ref:O,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:T?{minHeight:T}:void 0,"data-editor-area":!0,children:[l.jsx(Y_,{containerRef:O,tabs:e,activeTabId:n,onCloseTab:i,onSelectTab:r,onSelectRecentTab:E}),l.jsxs(Kv,{value:B.id,onValueChange:r,children:[l.jsx(iA,{tabs:e,activeTabId:B.id,menuAppearance:j,canSaveFiles:k,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:m,onPinTab:g,onUnpinTab:x,onSaveTab:y,onSaveAllTabs:w,onTabDragStateChange:se}),l.jsx(J_,{tabs:e,activeTabId:B.id,editorTheme:N,onContentChange:b,onSaveTab:y,canSaveFiles:k,onRetryTabLoad:C,onSelectTab:r,isTabDragging:L})]})]})}const oA={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},cA={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function uA(e){const n=new Set,r=i=>{i.kind==="folder"&&(n.add(i.id),i.children?.forEach(r))};return r(e),n}function Df(e,n,r){const i=new Set;for(const c of e)n.has(c)&&i.add(c);return i.add(r),i}function sb(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function dA({width:e,tree:n,activeFileId:r="",openFileIds:i=[],onSelectFile:c,theme:u,canCreateFile:d=!1,canCreateFolder:m=!1,isCreatingEntry:g=!1,onCreateFile:x,onCreateFolder:b,canDeleteFile:y=!1,deletingFilePath:w=null,canDeleteFolder:E=!1,deletingFolderPath:N=null,onDeleteFile:j,onDeleteFolder:k,expandedStorageKey:T,onHide:C}){const R=p.useMemo(()=>T?Qs(T):null,[T]),O=p.useMemo(()=>uA(n),[n]),[L,se]=p.useState(()=>{const $=R?.get()??null,ae=$?new Set($):new Set([n.id]);return Df(ae,O,n.id)}),[B,I]=p.useState(null),[H,Z]=p.useState(null),[P,U]=p.useState(null);p.useEffect(()=>{Z(null),U(null)},[n.id]),p.useEffect(()=>{se($=>{const ae=Df($,O,n.id);return sb($,ae)?$:ae})},[O,n.id]),p.useEffect(()=>{if(!R)return;const $=R.get();if(!$)return;const ae=Df(new Set($),O,n.id);se(me=>sb(me,ae)?me:ae)},[R,O,n.id]),p.useEffect(()=>{if(!R)return;const $=Array.from(L).filter(ae=>ae!==n.id&&O.has(ae));R.set($)},[L,R,O,n.id]);const G=p.useCallback($=>{se(ae=>{const me=new Set(ae);return me.has($)?me.delete($):me.add($),me.add(n.id),me})},[n.id]),ce=p.useCallback(($,ae)=>{se(me=>{const pe=new Set(me);return ae?pe.add($):$!==n.id&&pe.delete($),pe.add(n.id),pe})},[n.id]),we=p.useCallback(()=>{se(new Set([n.id]))},[n.id]),A=p.useCallback(($,ae)=>{U(null),se(me=>{const pe=new Set(me);return pe.add(n.id),pe.add($),pe}),Z({parentId:$,kind:ae})},[n.id]),z=p.useCallback(async($,ae,me)=>{const pe=ae.trim();if(!pe){U("Name cannot be empty.");return}const Ce=me==="folder"?b:x;if(Ce)try{U(null),await Ce($===n.id?"":$,pe),Z(null)}catch(We){const Oe=We instanceof Error?We.message:"Unable to create entry.";U(Oe)}},[x,b,n.id]),ge=p.useCallback(()=>{Z(null),U(null)},[]),ye=p.useCallback(($,ae)=>{$.preventDefault(),I({node:ae,position:{x:$.clientX,y:$.clientY}})},[]),oe=p.useCallback(async $=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText($);return}catch{}if(typeof document>"u")return;const ae=document.createElement("textarea");ae.value=$,ae.setAttribute("readonly","true"),ae.style.position="absolute",ae.style.left="-9999px",document.body.appendChild(ae),ae.select(),document.execCommand("copy"),document.body.removeChild(ae)},[]),_=p.useCallback($=>{j&&(j($),I(null))},[j]),K=p.useCallback($=>{k&&(k($),I(null))},[k]),le=p.useMemo(()=>{if(!B)return[];const{node:$}=B,ae={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if($.kind==="file")return[{id:"open-file",label:"Open",icon:l.jsx(xA,{}),shortcut:ae.open,onSelect:()=>c($.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(ab,{}),shortcut:ae.copyPath,onSelect:()=>{oe($.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(ib,{}),shortcut:ae.delete,disabled:!y||!j,onSelect:()=>_($.id)}];const me=L.has($.id);return[{id:"new-file",label:"New File",icon:l.jsx(Ey,{}),shortcut:ae.newFile,disabled:!d||!x,onSelect:()=>{!d||!x||(A($.id,"file"),I(null))}},{id:"new-folder",label:"New Folder",icon:l.jsx(ih,{}),shortcut:ae.newFolder,disabled:!m||!b,onSelect:()=>{!m||!b||(A($.id,"folder"),I(null))}},{id:"toggle-folder",label:me?"Collapse Folder":"Expand Folder",icon:me?l.jsx(bA,{}):l.jsx(vA,{}),onSelect:()=>ce($.id,!me)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(yA,{}),shortcut:ae.collapseAll,dividerAbove:!0,onSelect:()=>we()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(ab,{}),shortcut:ae.copyPath,onSelect:()=>{oe($.id)}},{id:"delete-folder",label:"Delete Folder",icon:l.jsx(ib,{}),shortcut:ae.delete,disabled:!E||!k,onSelect:()=>K($.id)}]},[B,c,oe,y,j,L,ce,we,d,m,x,b,A,E,k,K,_]),F=oA[u],te=cA[u],V=p.useMemo(()=>n.children??[],[n]),X=u==="dark"?"dark":"light";return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:F.surface,borderColor:F.border,color:F.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:F.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:F.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:C,"aria-label":"Hide explorer",className:fe("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(gA,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[V.map($=>l.jsx(Sy,{node:$,depth:0,expanded:L,activeFileId:r,openFileIds:i,onToggleFolder:G,onSelectFile:c,tokens:F,theme:u,focusRingClass:te,onContextMenu:ye,editing:H,onSubmitCreateEntry:z,onCancelCreateEntry:ge,createError:P,isCreatingEntry:g,deletingFilePath:w,deletingFolderPath:N,onClearCreateError:()=>U(null)},$.id)),H?.parentId===n.id?l.jsx("li",{className:"pl-2",children:l.jsx(Ny,{appearance:u,icon:H.kind==="folder"?l.jsx(ih,{}):void 0,placeholder:H.kind==="folder"?"new_folder":"new_file.py",onSubmit:$=>z(n.id,$,H.kind),onCancel:ge,onChange:()=>U(null),isSubmitting:g,error:P})}):null]})})]}),l.jsx(Ci,{open:!!B,position:B?B.position:null,onClose:()=>I(null),items:le,appearance:X})]})}function Sy({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:d,tokens:m,theme:g,focusRingClass:x,onContextMenu:b,editing:y,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:k,deletingFolderPath:T,onClearCreateError:C}){const O={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const Z=r.has(e.id),P=T===e.id,U=y?.parentId===e.id,G={...O,color:Z?m.textPrimary:m.textMuted};return Z&&m.folderActiveBg!=="transparent"&&(G.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:ce=>b(ce,e),className:fe("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x,P&&"opacity-60"),style:G,"aria-expanded":Z,disabled:P,children:[l.jsx(hA,{open:Z,tokens:m}),l.jsx(mA,{open:Z,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),Z?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(ce=>l.jsx(Sy,{node:ce,depth:n+1,expanded:r,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:d,tokens:m,theme:g,focusRingClass:x,onContextMenu:b,editing:y,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:k,deletingFolderPath:T,onClearCreateError:C},ce.id)),U?l.jsx("li",{className:"pl-2",children:l.jsx(Ny,{appearance:g,icon:y?.kind==="folder"?l.jsx(ih,{}):void 0,placeholder:y?.kind==="folder"?"new_folder":"new_file.py",onSubmit:ce=>{y&&w(e.id,ce,y.kind)},onCancel:E,onChange:C,isSubmitting:j,error:N})}):null]}):null]})}const L=i===e.id,se=c.includes(e.id),B=k===e.id,I=fA(e.name,e.language),H={...O,color:m.textPrimary};return L&&(H.backgroundColor=m.selectionBg,H.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:Z=>b(Z,e),className:fe("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,L&&"shadow-inner shadow-[#00000033]",B&&"opacity-60"),style:H,disabled:B,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(pA,{className:fe(I,se&&!L&&"opacity-90",!se&&!L&&"opacity-75")})}),l.jsx("span",{className:fe("flex-1 truncate",L&&"font-semibold"),children:e.name}),se&&!L?l.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:m.badgeOpen}}):null]})})}const rb={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function fA(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&rb[i]?rb[i]:"text-slate-400"}function hA({open:e,tokens:n}){return l.jsx("svg",{className:fe("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function mA({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function pA({className:e}){return l.jsxs("svg",{className:fe("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function gA(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Gr="h-4 w-4 text-current opacity-80";function xA(){return l.jsx("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function ab(){return l.jsxs("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function bA(){return l.jsx("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Ey(){return l.jsxs("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function ih(){return l.jsxs("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 5h3.5l1.2 1.4H12.5a1 1 0 0 1 1 1V12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 8v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 9.5h3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function vA(){return l.jsx("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function yA(){return l.jsxs("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function ib(){return l.jsxs("svg",{className:Gr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function Ny({appearance:e,onSubmit:n,onCancel:r,onChange:i,isSubmitting:c,error:u,placeholder:d="new_file.py",icon:m}){const[g,x]=p.useState(""),b=p.useRef(null);p.useEffect(()=>{b.current?.focus(),b.current?.select()},[]);const y=p.useCallback(()=>{n(g.trim())},[n,g]),w=e==="dark"?"text-slate-300":"text-slate-600",E=e==="dark"?"#232323":"#e8e8e8",N=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:E,borderColor:N},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:m??l.jsx(Ey,{})}),l.jsx("input",{ref:b,value:g,onChange:j=>{x(j.target.value),i?.()},onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),y()),j.key==="Escape"&&(j.preventDefault(),r())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:d,disabled:c}),l.jsx("button",{type:"button",className:fe("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",c?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:y,disabled:c,children:c?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:r,disabled:c,children:"Cancel"})]}),l.jsx("div",{className:fe("mt-1 text-[11px]",w),children:"Enter a name and press Enter. Escape to cancel."}),u?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:u}):null]})}function lb({orientation:e,onPointerDown:n,onDoubleClick:r,onToggle:i,collapsed:c}){const u=e==="vertical",d=u?"":c?"":"";return l.jsxs("div",{role:"separator","aria-orientation":e,className:fe("relative select-none bg-transparent group",u?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:n,onDoubleClick:r,title:u?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[l.jsx("span",{className:"sr-only",children:"Resize panel"}),l.jsx("div",{className:fe("absolute inset-0 flex items-center justify-center",u?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:l.jsx("div",{className:fe(u?"h-full w-px":"h-px w-full","bg-slate-400/50")})}),i&&!u?l.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),i()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-slate-800/70 text-[10px] text-slate-100 opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":c?"Show console":"Hide console",title:c?"Show console":"Hide console",children:d}):null]})}const wA={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function ob(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=ql(n),c={id:n,name:cb(n),kind:"folder",children:[]},u=new Map([[n,c]]),d=g=>{if(g.length===0)return c;const x=ql(g),b=x===i?n:x,y=u.get(b);if(y)return y;const w={id:b,name:cb(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":EA(b)??n,N=d(E);return zf(N,w),w},m=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of m){const x=g.parent&&g.parent.length>0?ql(g.parent):n,b=d(x);if(g.kind==="dir"){const w=d(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&zf(b,w);continue}const y={id:g.path,name:g.name,kind:"file",language:SA(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,y),zf(b,y)}return c}function zf(e,n){const r=e.children??[],i=r.some(c=>c.id===n.id)?r.map(c=>c.id===n.id?n:c):[...r,n];e.children=i.sort(jA)}function jA(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function SA(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return wA[i]}function cb(e){const n=ql(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function EA(e){const n=ql(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function ql(e){return e?e.replace(/\/+$/,""):""}function bs(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=bs(r,n);if(i)return i}return null}function Zh(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=Zh(n);if(r)return r}return null}function NA({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[c,u]=p.useState([]),[d,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(()=>!i),[w,E]=p.useState(!1),N=p.useRef(new Set),j=p.useRef([]),k=p.useRef(""),T=p.useRef([]),C=p.useCallback(F=>{m(te=>te===F?te:F),x(te=>{const V=te.filter($=>j.current.some(ae=>ae.id===$));if(!F)return V;const X=V.filter($=>$!==F);return[F,...X]})},[]);p.useEffect(()=>{k.current=d},[d]),p.useEffect(()=>{T.current=g},[g]),p.useEffect(()=>{if(!e){u([]),m(""),x([]);return}u(te=>te.filter(V=>!!bs(e,V.id)).map(V=>{const X=bs(e,V.id);return!X||X.kind!=="file"?V:{...V,name:X.name,language:X.language,metadata:X.metadata}}));const F=k.current;(!F||!bs(e,F))&&C("")},[e,C]);const R=p.useMemo(()=>c.find(F=>F.id===d)??c[0]??null,[d,c]),O=p.useCallback(async F=>{if(!j.current.some(V=>V.id===F))return;let te=!1;if(u(V=>V.map(X=>X.id!==F?X:X.status==="ready"?(te=!0,X):{...X,status:"loading",error:null})),!te)try{const V=await r(F);u(X=>X.map($=>$.id===F?{...$,initialContent:V.content,content:V.content,status:"ready",error:null,etag:V.etag??null,saving:!1,saveError:null}:$))}catch(V){const X=V instanceof Error?V.message:"Unable to load file.";u($=>$.map(ae=>ae.id===F?{...ae,status:"error",error:X}:ae))}},[r]),L=p.useCallback((F,te)=>{if(!e)return;const V=bs(e,F);!V||V.kind!=="file"||(u(X=>{if(X.some(ae=>ae.id===F))return X;const $={id:V.id,name:V.name,language:V.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:V.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...X,$]}),(te?.activate??!0)&&C(F))},[e,C]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const F=i.get(),V=(F?.openTabs??[]).map(X=>typeof X=="string"?{id:X,pinned:!1}:X).filter(X=>!!(X&&X.id));if(V.length>0){const X=[];for(const $ of V){const ae=bs(e,$.id);!ae||ae.kind!=="file"||X.push({id:ae.id,name:ae.name,language:ae.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:ae.metadata,pinned:!!$.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(X.length>0){u(X);const $=(F?.activeTabId&&X.some(pe=>pe.id===F.activeTabId)?F.activeTabId:X[0]?.id)??"";m($);const me=(F?.mru&&F.mru.length>0?F.mru:X.map(pe=>pe.id)).filter(pe=>X.some(Ce=>Ce.id===pe));x(me),E(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||E(!0);return}if(w)return;const F=n&&bs(e,n)||Zh(e);if(!F){E(!0);return}L(F.id),E(!0)},[e,n,L,b,c.length,w]);const se=p.useCallback(F=>{L(F)},[L]),B=p.useCallback(F=>{C(F),u(te=>te.map(V=>V.id===F&&V.status==="error"?{...V,status:"loading",error:null}:V))},[C]),I=p.useCallback(F=>{u(te=>{const V=te.filter(ae=>ae.id!==F),X=k.current,$=X===F?V[V.length-1]?.id??"":V.some(ae=>ae.id===X)?X:V[V.length-1]?.id??"";return C($),V})},[C]),H=p.useCallback(F=>{u(te=>!te.some(V=>V.id===F)||te.length<=1?te:(C(F),te.filter(V=>V.id===F)))},[C]),Z=p.useCallback(F=>{u(te=>{const V=te.findIndex(ae=>ae.id===F);if(V===-1||V===te.length-1)return te;const X=te.slice(0,V+1),$=X.some(ae=>ae.id===k.current)?k.current:F;return C($),X})},[C]),P=p.useCallback(()=>{u([]),m(""),x([])},[]),U=p.useCallback((F,te)=>{u(V=>{if(V.length<=1)return V;const X=V.findIndex(Oe=>Oe.id===F);if(X===-1)return V;const $=V.filter((Oe,Te)=>Te!==X),ae=Math.max(0,Math.min(te,$.length)),me=[],pe=[],Ce=V[X];if($.forEach(Oe=>{Oe.pinned?me.push(Oe):pe.push(Oe)}),(ae<=me.length?"pinned":"regular")==="pinned"){const Oe=Math.max(0,Math.min(ae,me.length));me.splice(Oe,0,{...Ce,pinned:!0})}else{const Oe=Math.max(0,Math.min(ae-me.length,pe.length));pe.splice(Oe,0,{...Ce,pinned:!1})}return[...me,...pe]})},[]),G=p.useCallback(F=>{if(N.current.has(F))return;let te=!1;u(V=>V.map(X=>X.id!==F?X:(te=!0,{...X,status:"loading",error:null}))),te&&(N.current.add(F),O(F).finally(()=>{N.current.delete(F)}))},[O]),ce=p.useCallback(F=>{u(te=>{const V=[],X=[];let $=null;for(const me of te){if(me.id===F){$=me;continue}me.pinned?V.push(me):X.push(me)}if(!$||$.pinned)return te;const ae={...$,pinned:!0};return[...V,ae,...X]})},[]),we=p.useCallback(F=>{u(te=>{const V=[],X=[];let $=null;for(const me of te){if(me.id===F){$=me;continue}me.pinned?V.push(me):X.push(me)}if(!$||!$.pinned)return te;const ae={...$,pinned:!1};return[...V,ae,...X]})},[]),A=p.useCallback((F,te)=>{te?ce(F):we(F)},[ce,we]),z=p.useCallback(F=>{const te=T.current.filter(Ce=>j.current.some(We=>We.id===Ce));if(te.length<=1)return;const V=k.current||te[0],X=te.indexOf(V),me=((X>=0?X:0)+(F==="forward"?1:-1)+te.length)%te.length,pe=te[me];pe&&pe!==V&&C(pe)},[C]),ge=p.useCallback((F,te)=>{u(V=>V.map(X=>X.id===F?{...X,content:te,status:X.status==="ready"?X.status:"ready",error:null,saveError:null}:X))},[]),ye=p.useCallback(F=>{u(te=>te.map(V=>V.id===F?{...V,saving:!0,saveError:null}:V))},[]),oe=p.useCallback((F,te)=>{u(V=>V.map(X=>{if(X.id!==F)return X;const $=te?.metadata??X.metadata??null,ae=te?.etag??X.etag??null,me=te?.savedContent??X.content;return{...X,saving:!1,saveError:null,initialContent:me,etag:ae,metadata:$&&{...$,etag:$.etag??ae??null},lastSavedAt:new Date().toISOString()}}))},[]),_=p.useCallback((F,te)=>{u(V=>V.map(X=>X.id===F?{...X,saving:!1,saveError:te}:X))},[]),K=p.useCallback((F,te)=>{u(V=>V.map(X=>X.id!==F?X:{...X,content:te.content,initialContent:te.content,status:"ready",error:null,saving:!1,saveError:null,etag:te.etag??X.etag??null,metadata:te.metadata??X.metadata}))},[]),le=p.useMemo(()=>c.some(F=>F.status==="ready"&&F.content!==F.initialContent),[c]);return p.useEffect(()=>{j.current=c},[c]),p.useEffect(()=>{x(F=>{const te=F.filter(V=>c.some(X=>X.id===V));return te.length===F.length?F:te})},[c]),p.useEffect(()=>{const F=new Set(c.map(te=>te.id));for(const te of N.current)F.has(te)||N.current.delete(te);for(const te of c){if(te.status!=="loading"||N.current.has(te.id))continue;N.current.add(te.id),O(te.id).finally(()=>{N.current.delete(te.id)})}},[c,O]),p.useEffect(()=>{if(!i||!b)return;const F=[d,...g].filter(te=>!!te).filter((te,V,X)=>X.indexOf(te)===V).filter(te=>c.some(V=>V.id===te));i.set({openTabs:c.map(te=>({id:te.id,pinned:!!te.pinned})),activeTabId:d||null,mru:F})},[i,c,d,g,b]),{tree:e,tabs:c,activeTabId:d,activeTab:R,openFile:se,selectTab:B,closeTab:I,closeOtherTabs:H,closeTabsToRight:Z,closeAllTabs:P,moveTab:U,reloadTab:G,pinTab:ce,unpinTab:we,toggleTabPin:A,selectRecentTab:z,updateContent:ge,beginSavingTab:ye,completeSavingTab:oe,failSavingTab:_,replaceTabContent:K,isDirty:le}}function Cy(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(r,String(u))}return n}const ky=p.createContext(null);function CA({value:e,children:n}){return p.createElement(ky.Provider,{value:e},n)}function _y(){const e=p.useContext(ky),n=$n(),r=Zt(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,d)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,x=Cy(m).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;r(b,{replace:d?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??c]}const Tc={pane:"terminal",console:"closed"},kA=["pane","console","file"],_A=["tab","view","runId"];function TA(e){return e==="open"?"open":"closed"}function AA(e){return e==="problems"?"problems":"terminal"}function Ty(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("pane"),i=n.get("console"),c=n.get("file");return{...{pane:AA(r),console:TA(i),fileId:c??void 0},present:{pane:n.has("pane"),console:n.has("console"),fileId:n.has("file")}}}function Rf(e,n){const r=Ty(e),i={...Tc,...r,...n},c=new URLSearchParams(e);for(const u of kA)c.delete(u);for(const u of _A)c.delete(u);return i.pane!==Tc.pane&&c.set("pane",i.pane),i.console!==Tc.console&&c.set("console",i.console),i.fileId&&i.fileId.length>0&&c.set("file",i.fileId),c}function MA(){const[e,n]=_y(),r=p.useMemo(()=>Ty(e),[e]),i=p.useCallback(d=>{r.fileId===d||!d&&!r.present.fileId||n(m=>Rf(m,{fileId:d??void 0}),{replace:!0})},[n,r.fileId,r.present.fileId]),c=p.useCallback(d=>{r.pane!==d&&n(m=>Rf(m,{pane:d}),{replace:!0})},[n,r.pane]),u=p.useCallback(d=>{r.console!==d&&n(m=>Rf(m,{console:d}),{replace:!0})},[n,r.console]);return{fileId:r.fileId??Tc.fileId,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:c,setConsole:u}}const DA="You have unsaved changes in the config editor. Are you sure you want to leave?";function zA({isDirty:e,confirm:n=window.confirm,message:r=DA,shouldBypassNavigation:i}){const c=$n(),u=p.useCallback(d=>!e||i?.()||d.location.pathname===c.pathname?!0:n(r),[n,e,c.pathname,r,i]);Mb(u,e),p.useEffect(()=>{if(!e)return;const d=m=>(m.preventDefault(),m.returnValue=r,r);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[e,r])}const ub="(prefers-color-scheme: dark)";function db(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function RA(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function OA(e){const n=p.useMemo(()=>Qs(e),[e]),[r,i]=p.useState(()=>{const g=n.get();return db(g)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(ub).matches);p.useEffect(()=>{const g=db(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(ub),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const d=p.useMemo(()=>RA(r,c),[r,c]),m=p.useCallback(g=>{i(g)},[]);return{preference:r,resolvedTheme:d,setPreference:m}}function rs(e,n,r){return Math.min(Math.max(e,n),r)}function fb(e,n){const{onMove:r,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,d=e.currentTarget,m=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,y=!0;const w=k=>{if(y){if(y=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=m,document.body.style.userSelect=g,window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",N),d.removeEventListener("lostpointercapture",j),d.hasPointerCapture?.(u))try{d.releasePointerCapture(u)}catch{}i&&i(k)}},E=k=>{!y||k.pointerId!==u||(b=k,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&r(b)})))},N=k=>{k.pointerId===u&&w(k)},j=k=>{k.pointerId===u&&w(k)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{d.setPointerCapture(u)}catch{}window.addEventListener("pointermove",E),window.addEventListener("pointerup",N),window.addEventListener("pointercancel",N),d.addEventListener("lostpointercapture",j)}const LA="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",UA="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function BA({label:e,icon:n,disabled:r,isLoading:i,highlight:c,className:u,primaryClassName:d,menuClassName:m,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(qA,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:E}){const N=p.useRef(null),j=!!(r||i),k=T=>{if(j)return;T.preventDefault();const C=N.current?.getBoundingClientRect();if(C){w?.({x:C.left,y:C.bottom});return}w?.({x:T.clientX,y:T.clientY})};return l.jsxs("div",{role:"group",className:fe("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[l.jsxs("button",{type:"button",title:g,disabled:j,className:fe(LA,d),onClick:T=>{j||y?.(T)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:N,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:j,className:fe(UA,m),onClick:k,children:b})]})}function qA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const $A=new TextEncoder;async function FA(e,n={}){const{signal:r,page:i,pageSize:c,includeTotal:u}=n,d={};typeof i=="number"&&i>0&&(d.page=i),typeof c=="number"&&c>0&&(d.page_size=c),u&&(d.include_total=!0);const{data:m}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:d},signal:r});if(!m)throw new Error("Expected configuration page payload.");return m}async function HA(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:r});return i??null}async function ZA(e,n,r={}){const{prefix:i,depth:c,include:u,exclude:d,limit:m,pageToken:g,sort:x,order:b,signal:y}=r,{data:w}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:d?.length?[...d]:void 0,limit:m,page_token:g??void 0,sort:x,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function hb(e,n,r,i){const{data:c}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function VA(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/export",{params:{path:{workspace_id:e,configuration_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected configuration archive payload.");const d=(i?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:r,filename:d??void 0}}async function IA(e,n,r){const i=JA(r.path),c=r.parents?"?parents=1":"",u=await Jj(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:$A.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const m=await eM(u),g=m?.title??`Request failed with status ${u.status}`;throw new qn(g,u.status,m)}const d=await u.json().catch(()=>({}));if(!d||!d.path)throw new Error("Expected write response payload.");return d}async function QA(e,n,r,i={}){await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:i.etag?{"If-Match":i.etag}:void 0})}async function WA(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r}}});if(!i)throw new Error("Expected directory response payload.");return i}async function PA(e,n,r,i={}){const c={};i.recursive&&(c.recursive=!0),await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r},query:c}})}async function KA(e,n){const r=new FormData;r.append("display_name",n.displayName),r.append("file",n.file);const{data:i}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations/import",{params:{path:{workspace_id:e}},body:r,bodySerializer:()=>r});if(!i)throw new Error("Expected configuration payload.");return i}async function YA(e,n,r){const i=new FormData;i.append("file",r.file);const{data:c}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/import",{params:{path:{workspace_id:e,configuration_id:n}},headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0,body:i,bodySerializer:()=>i});if(!c)throw new Error("Expected configuration payload.");return c}function GA(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function XA(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:GA(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}function JA(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function eM(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const En={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...En.root(e),"list",{...n}],detail:(e,n)=>[...En.root(e),"detail",n],files:(e,n)=>[...En.detail(e,n),"files"],file:(e,n,r)=>[...En.files(e,n),"file",r]};function tM({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:c="",depth:u="infinity",include:d,exclude:m,limit:g,pageToken:x,sort:b="path",order:y="asc"}=i;return zn({queryKey:[...En.files(e,n),c,u,d?.join("|")??"",m?.join("|")??"",g??"",x??"",b,y],queryFn:({signal:w})=>ZA(e,n,{prefix:c,depth:u,include:d,exclude:m,limit:g,pageToken:x,sort:b,order:y,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function nM(e,n){const r=dt();return nn({mutationFn:i=>IA(e,n,i),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:En.files(e,n)}),r.invalidateQueries({queryKey:En.file(e,n,c.path)})])}})}function sM(e,n){const r=dt();return nn({mutationFn:i=>QA(e,n,i.path,{etag:i.etag}),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:En.files(e,n)}),r.invalidateQueries({queryKey:En.file(e,n,c.path)})])}})}function rM(e,n){const r=dt();return nn({mutationFn:i=>WA(e,n,i.path),async onSuccess(){await r.invalidateQueries({queryKey:En.files(e,n)})}})}function aM(e,n){const r=dt();return nn({mutationFn:i=>PA(e,n,i.path,{recursive:i.recursive}),async onSuccess(i,c){await Promise.all([r.invalidateQueries({queryKey:En.files(e,n)}),r.invalidateQueries({queryKey:En.file(e,n,c.path)})])}})}function iM(e){return nn({mutationFn:n=>KA(e,n)})}function lM(e,n){return nn({mutationFn:r=>YA(e,n,r)})}async function Ay(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:r});return i??[]}const My=p.createContext(null),oM=6e3,cM=7e3,mb=4;function uM({children:e}){const[n,r]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{r(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),d=p.useCallback(b=>{const y={kind:"toast",id:b.id??pb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?oM:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const N=[...y.persistKey?w.filter(j=>j.persistKey!==y.persistKey):w,y];return N.length>mb?N.slice(N.length-mb):N}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??pb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:cM:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(N=>N.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),g=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&r(w=>w.filter(E=>E.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(E=>E.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:d,pushBanner:m,dismiss:u,clearScope:g}),[n,i,d,m,u,g]);return l.jsxs(My.Provider,{value:x,children:[e,l.jsx(dM,{})]})}function Dy(){const e=p.useContext(My);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function dM(){const{toasts:e,banners:n,dismiss:r}=Dy(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:is.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(hM,{banner:u,onDismiss:r},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(fM,{toast:u,onDismiss:r},u.id))})]}),document.body)}function fM({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const d=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=mM[e.intent];return l.jsxs("div",{className:fe("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:fe("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Ry(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(d=>l.jsx(zy,{action:d,onPress:()=>{d.onSelect(),n(e.id)},appearance:"dark"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Oy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:fe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function hM({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;c(100);const d=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(m)}},[r,e.duration,e.id,n]);const u=pM[e.intent];return l.jsxs("div",{className:fe("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:fe("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Ry(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(d=>l.jsx(zy,{action:d,onPress:()=>{d.onSelect(),e.sticky||n(e.id)},appearance:"light"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:fe("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Oy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:fe("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function zy({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",c=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:fe("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function Ry(e){switch(e){case"success":return l.jsx(xM,{});case"warning":return l.jsx(bM,{});case"danger":return l.jsx(vM,{});default:return l.jsx(gM,{})}}const mM={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},pM={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function pb(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function gM(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function xM(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function bM(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function vM(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Oy(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function yM(){const e=Dy();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const wM="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",so=p.forwardRef(({className:e,...n},r)=>l.jsx("select",{ref:r,className:fe(wM,e),...n}));so.displayName="Select";class jM{constructor(n){if(this.capacity=n,!Number.isFinite(n)||n<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(n)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(n){if(this._length<this.capacity){const r=(this.start+this._length)%this.capacity;this.buffer[r]=n,this._length+=1;return}this.buffer[this.start]=n,this.start=(this.start+1)%this.capacity}get(n){if(n<0||n>=this._length)return;const r=(this.start+n)%this.capacity;return this.buffer[r]}toArray(){const n=[];for(let r=0;r<this._length;r+=1){const i=this.get(r);i!==void 0&&n.push(i)}return n}}class SM{constructor(n,r){this.capacity=n,this.buffer=new jM(n),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},r?.length&&this.appendMany(r)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(n){return this.buffer.get(n)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(n){this.buffer.push(gb(n,this.nextId++)),this.scheduleNotify()}appendMany(n){for(const r of n)this.buffer.push(gb(r,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const n of this.listeners)n()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const n=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(n);return}setTimeout(n,0)}}function gb(e,n){if(e.id)return e;const r=e.origin??"run",i=e.timestamp??"ts";return{...e,id:`console-${r}-${i}-${n}`}}function EM(e,n){const r=new URLSearchParams;n.dry_run&&r.set("dry_run","true"),n.validate_only&&r.set("validate_only","true"),n.force_rebuild&&r.set("force_rebuild","true"),n.debug&&r.set("debug","true"),n.input_document_id&&r.set("input_document_id",n.input_document_id);const i=n.input_sheet_names??[];for(const d of i)r.append("input_sheet_names",d);const c=Ti(`/api/v1/configurations/${e}/jobs/stream`),u=r.toString();return u?`${c}?${u}`:c}async function*NM(e,n,r){const i=EM(e,n);yield*CM(i,r)}async function*CM(e,n){const r=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),i=new AbortController,c=()=>i.abort();let u=null;n?.aborted?i.abort():n&&n.addEventListener("abort",c);try{const d=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:i.signal});if(!d.body||!d.ok)throw new Error("Job event stream unavailable.");u=d.body.getReader();const m=new TextDecoder;let g="";for(;;){const{value:x,done:b}=await u.read();g+=m.decode(x??new Uint8Array,{stream:!b});const y=g.split(`

`);g=y.pop()??"";for(const w of y){const E=xb(w);E&&(yield E)}if(b){const w=xb(g);w&&(yield w);return}}}catch(d){throw i.signal.aborted?r:d}finally{if(n&&n.removeEventListener("abort",c),u)try{await u.cancel()}catch{}i.signal.aborted||i.abort()}}function xb(e){const n=[];let r=null,i=null;for(const u of e.split(/\n/)){if(u.startsWith("data:")){const d=u.slice(5);n.push(d.startsWith(" ")?d.slice(1):d);continue}if(u.startsWith("id:")){r=u.slice(3).trim();continue}if(u.startsWith("event:")){i=u.slice(6).trim();continue}}if(!n.length)return null;const c=n.join(`
`);if(!c.trim())return null;try{const u=JSON.parse(c);if(u._raw=c,i&&!u.event&&!u.type&&(u.event=i),r&&u.sequence===void 0){const d=Number(r);Number.isFinite(d)?u.sequence=d:u.sse_id=r}return u}catch{return null}}function kM(e){const n=e.timestamp??e.created_at,r=new Date(n);return Number.isNaN(r.getTime())?new Date().toISOString():r.toISOString()}function bb(e){return(e.event??e.type??"").toString()}function Of(e){const n=e.data??e.payload;return n&&typeof n=="object"?n:{}}function _M({configId:e,onJobIdChange:n,seed:r,maxConsoleLines:i=2e3,onError:c}){const u=p.useRef(new SM(i,r?.console?[...r.console].slice(-i):void 0)),d=p.useRef(null),m=p.useRef(!1),[g,x]=p.useState(null),[b,y]=p.useState(null),[w,E]=p.useState("idle"),[N,j]=p.useState(null),k=w==="running",T=p.useCallback(()=>{const se=d.current;se&&(se.abort(),d.current=null)},[]);p.useEffect(()=>()=>{T()},[T]);const C=p.useCallback(()=>{u.current.clear()},[]),R=p.useCallback(se=>{c&&c(se)},[c]),O=p.useCallback(se=>{const B=bb(se);if(B==="job.meta"){const A=Of(se),z=typeof A.jobId=="string"?A.jobId:null;z&&(x(ge=>ge??z),n?.(z));return}const I=Of(se),Z=(B.startsWith("build.")?"build":B==="console.line"&&typeof I.scope=="string"?I.scope:"run")==="build"?"build":"run",P=typeof se.level=="string"?se.level.toLowerCase():"info",U=P==="debug"||P==="warning"||P==="error"||P==="success"?P:"info",G=typeof se.message=="string"?se.message:"",ce=G.trim()?G:B,we={id:typeof se.event_id=="string"?se.event_id:void 0,level:U,message:ce,timestamp:kM(se),origin:Z,raw:se};if(u.current.append(we),B==="run.complete"){j(I);const A=typeof I.status=="string"?I.status.toLowerCase():"";E(A==="succeeded"||A==="success"?"succeeded":A==="cancelled"||A==="canceled"?"cancelled":"failed")}},[n]),L=p.useCallback(async(se,B,I)=>{if(m.current||k||I?.prepare&&I.prepare()===!1)return null;T(),C(),j(null),y(B.mode),E("running"),x(null),n?.(null);const H=new Date().toISOString(),Z=new AbortController;d.current=Z,m.current=!0;let P=null;try{for await(const U of NM(e,se,Z.signal)){O(U);const G=bb(U);if(G==="job.meta"){const ce=Of(U),we=typeof ce.jobId=="string"?ce.jobId:null;we&&!P&&(P=we,x(we),n?.(we))}if(G==="run.complete")break}if(!P)throw new Error("Job stream ended before returning a job id.");return{jobId:P,startedAt:H}}catch(U){return Z.signal.aborted||(E("failed"),R(U)),null}finally{m.current=!1,d.current===Z&&(d.current=null)}},[C,e,k,n,R,O,T]);return p.useMemo(()=>({console:u.current,jobId:g,jobMode:b,jobStatus:w,jobInProgress:k,completedDetails:N,clearConsole:C,startJob:L}),[g,b,w,k,N,C,L])}async function TM(e,n){const r=typeof e=="string"?await Vh(e,n):e,i=r.events_download_url??r.links?.events_download??r.links?.logs;if(!i)throw new Error("Run logs link unavailable.");const c=await fetch(Ti(i),{method:"GET",credentials:"include",headers:{Accept:"application/x-ndjson"},signal:n});if(!c.ok)throw new Error(`Run telemetry unavailable (${c.status}).`);return(await c.text()??"").split(/\r?\n/).filter(Boolean).map(m=>{try{return JSON.parse(m)}catch(g){return console.warn("Skipping invalid telemetry line",{error:g,line:m}),null}}).filter(m=>!!m)}async function Vh(e,n){const{data:r}=await Be.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run not found");return r}function Ly(e){const n=e.output,r=n?.ready,i=n?.download_url??e.links?.output_download??e.links?.output;return r===!1||!i?null:Ti(i)}function Uy(e){const n=e.events_download_url??e.links?.events_download??e.links?.logs;return n?Ti(n):null}function AM(e){const n=e.links?.input_download??e.links?.input;return n?Ti(n):null}const vb={detail:e=>["run",e],telemetry:e=>["run-telemetry",e]};function MM(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function DM(e){const n=(e??"").toLowerCase();return n==="succeeded"||n==="failed"||n==="cancelled"?n:n==="success"?"succeeded":"failed"}function zM({configId:e,runId:n,seed:r,maxConsoleLines:i,onRunIdChange:c,onRunComplete:u}){const d=p.useRef(null),{console:m,jobId:g,jobMode:x,jobStatus:b,jobInProgress:y,completedDetails:w,clearConsole:E,startJob:N}=_M({configId:e,onJobIdChange:c,seed:r?{console:r.console}:void 0,maxConsoleLines:i}),j=g??n,k=x??null,[T,C]=p.useState(null),R=p.useRef(null),O=p.useMemo(()=>({status:y&&k==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[y,k]);p.useEffect(()=>{if(!j||!MM(b)||R.current===j)return;R.current=j;const B=DM(typeof w?.status=="string"?w.status:null),I=k??"extraction",H=w?.execution??{},Z=typeof H.started_at=="string"?H.started_at:null,P=typeof H.completed_at=="string"?H.completed_at:new Date().toISOString(),U=typeof H.duration_ms=="number"?H.duration_ms:null;if(u?.({runId:j,status:B,mode:I,startedAt:Z,completedAt:P,durationMs:U,payload:w}),I==="validation")return;const G=d.current,ce=w?.artifacts??{},we=typeof ce.output_path=="string"?ce.output_path:null,A=typeof ce.processed_file=="string"?ce.processed_file:null;C({runId:j,status:B,outputUrl:void 0,inputUrl:void 0,outputReady:we?!0:void 0,outputFilename:we?RM(we):null,outputPath:we,logsUrl:void 0,processedFile:A,outputLoaded:!1,summary:null,summaryLoaded:!0,summaryError:null,telemetry:null,telemetryLoaded:!0,telemetryError:null,documentName:G?.documentName,sheetNames:G?.sheetNames??[],error:null,startedAt:Z,completedAt:P,durationMs:U}),(async()=>{try{const z=await Vh(j),ge=Ly(z)??void 0,ye=Uy(z)??void 0,oe=AM(z)??void 0;C(_=>_&&_.runId===j?{..._,outputUrl:ge??_.outputUrl,outputReady:ge?!0:_.outputReady,logsUrl:ye??_.logsUrl,inputUrl:oe??_.inputUrl,outputLoaded:!0}:_)}catch{C(z=>z&&z.runId===j?{...z,outputLoaded:!0}:z)}})()},[j,b,w,u,k]);const L=p.useCallback(async(B,I,H)=>{d.current=I;const Z=H?.forceRebuild?{...B,force_rebuild:!0}:B,P=await N(Z,I,{prepare:H?.prepare});return P&&I.mode==="extraction"&&C(null),P?{runId:P.jobId,startedAt:P.startedAt}:null},[N]),se=b==="running"?"running":b;return p.useMemo(()=>({runStatus:se,runMode:k??void 0,runInProgress:y,validation:O,console:m,latestRun:T,clearConsole:E,startRun:L}),[se,k,y,O,m,T,E,L])}function RM(e){const n=e.trim();if(!n)return"";const r=n.split("/");return r[r.length-1]||n}const By=e=>`ade.ui.workspace.${e}.config-builder.last`;function Ih(e){return Qs(By(e))}function Qh(e,n){if(n){const r={configId:n};return e.set(r),r}return e.clear(),null}const OM={min:200,max:420},LM=320,UM=120,Lf=140,BM=220,qM=40,$M=2e3,yb=10,FM=56,wb="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",HM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,ZM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,VM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,IM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.explorer.expanded`,QM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.layout`,WM=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],PM={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function qy({workspaceId:e,configId:n,configName:r,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:d,onRestoreWindow:m,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=dt(),{fileId:y,pane:w,console:E,consoleExplicit:N,setFileId:j,setPane:k,setConsole:T}=MA(),[C,R]=p.useState(null),O=!!i,L=tM({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!O}),se=L.data?.fileset_hash??null,B=L.data?.status==="draft",I=p.useMemo(()=>Ih(e),[e]),H=p.useMemo(()=>i?i.tree:L.data?ob(L.data):null,[i,L.data]);p.useEffect(()=>{n&&(O||L.isSuccess)&&Qh(I,n)},[n,O,L.isSuccess,I]);const[Z,P]=p.useState(null),U=p.useCallback(W=>{P(W)},[]),G=lM(e,n),ce=p.useRef(null),[we,A]=p.useState(null),[z,ge]=p.useState(!1),[ye,oe]=p.useState(!1),{runStatus:_,runMode:K,runInProgress:le,validation:F,console:te,latestRun:V,clearConsole:X,startRun:$}=zM({configId:n,runId:C,seed:i,maxConsoleLines:$M,onRunIdChange:R,onRunComplete:U}),[ae,me]=p.useState(!1),[pe,Ce]=p.useState(!1),We=p.useMemo(()=>i?null:Qs(HM(e,n)),[e,n,i]),Oe=p.useMemo(()=>i?null:Qs(ZM(e,n)),[e,n,i]),Te=p.useMemo(()=>Qs(QM(e,n)),[e,n]),Ye=p.useRef(null),Lt=OA(VM(e,n)),it=Lt.resolvedTheme==="vs-light"?"light":"dark",Nn=F.lastRunAt?`Last run ${uD(F.lastRunAt)}`:void 0,[M,Y]=p.useState(()=>{const W=Te.get();return W?.explorer?{collapsed:!!W.explorer.collapsed,fraction:W.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[re,Ee]=p.useState(null),ve=p.useRef(null),[je,Ae]=p.useState(!1);p.useEffect(()=>{Oe?Ye.current=Oe.get()??null:Ye.current=null,ve.current=null,Ee(null),Ae(!1)},[Oe]);const[He,Ie]=p.useState({width:0,height:0}),[Ct,Se]=p.useState(null),[Ne,qe]=p.useState("explorer"),[At,st]=p.useState(null),[Pt,Mt]=p.useState(null),[gr,zs]=p.useState(!1),[Oi,Rs]=p.useState(!1),[xr,Dt]=p.useState(!1),[yt,kt]=p.useState(null),[Cn,un]=p.useState(null),[dn,fn]=p.useState(null),{notifyBanner:Rn,dismissScope:qt}=yM(),xn=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),bn=sM(e,n),kn=rM(e,n),Kn=aM(e,n),Pe=p.useCallback((W,xe)=>{Rn({title:W,intent:xe?.intent??"info",duration:xe?.duration??6e3,dismissible:!0,scope:xn,persistKey:xn})},[Rn,xn]),_n=p.useCallback(()=>{qt(xn,"banner")},[qt,xn]),zt=p.useCallback(W=>{const xe=cD(W);Pe(xe,{intent:"danger",duration:null})},[Pe]),On=p.useCallback(async()=>{ge(!0);try{const W=await VA(e,n),xe=W.filename??`${n}.zip`,Me=URL.createObjectURL(W.blob),_e=document.createElement("a");_e.href=Me,_e.download=xe,_e.click(),URL.revokeObjectURL(Me),Pe(`Exported ${xe}`,{intent:"success",duration:4e3})}catch(W){zt(W),Pe("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{ge(!1)}},[e,n,Pe,zt]);p.useEffect(()=>{if(!Z)return;const{runId:W,status:xe,payload:Me}=Z,_e=Me?.failure??void 0,Ze=typeof _e?.message=="string"?_e.message.trim():null,rn=typeof Me?.summary=="string"?Me.summary.trim():null,ct=Ze||rn||"ADE run failed.",Mn=xe==="cancelled";Pe(xe==="succeeded"?"ADE run completed successfully.":Mn?"ADE run cancelled.":ct,{intent:xe==="succeeded"?"success":Mn?"info":"danger"}),P(Wi=>Wi&&Wi.runId===W?null:Wi)},[Z,Pe,P]);const Et=c==="maximized",Vt=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,br=p.useCallback(()=>{g()},[g]),Ta=!M.collapsed,pu=p.useCallback(async W=>{if(i)return{content:i.content[W]??"",etag:null};const xe=await b.fetchQuery({queryKey:En.file(e,n,W),queryFn:({signal:Me})=>hb(e,n,W,Me)});if(!xe)throw new Error("File could not be loaded.");return{content:Sb(xe),etag:xe.etag??null}},[i,b,e,n]),$e=NA({tree:H,initialActiveFileId:y,loadFile:pu,persistence:We??void 0}),Xr=nM(e,n),vr=p.useCallback(async W=>{if(O)return null;const xe=await b.fetchQuery({queryKey:En.file(e,n,W),queryFn:({signal:_e})=>hb(e,n,W,_e)}),Me=Sb(xe);return $e.replaceTabContent(W,{content:Me,etag:xe.etag??null,metadata:{size:xe.size??null,modifiedAt:xe.mtime??null,contentType:xe.content_type??$e.tabs.find(_e=>_e.id===W)?.metadata?.contentType??null,etag:xe.etag??null}}),xe},[O,b,e,n,$e]);zA({isDirty:$e.isDirty,shouldBypassNavigation:x});const Li=p.useCallback(()=>{u()},[u]),yr=p.useCallback(()=>{Et?m():d()},[Et,d,m]),Kt=E!=="open",Yn=p.useMemo(()=>$e.tabs.filter(W=>W.status==="ready"&&W.content!==W.initialContent),[$e.tabs]),wr=$e.tabs.some(W=>W.saving),wt=!O&&Yn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[M.collapsed,M.fraction,Kt,re,Et,w]);const Ks=p.useCallback(async W=>{if(O)return!1;const xe=$e.tabs.find(Ze=>Ze.id===W);if(!xe||xe.status!=="ready"||xe.content===xe.initialContent||xe.saving)return!1;const Me=xe.content,_e=xe.etag??void 0;$e.beginSavingTab(W);try{const Ze=await Xr.mutateAsync({path:xe.id,content:Me,etag:_e,create:!_e,parents:!0}),rn={size:Ze.size??xe.metadata?.size??null,modifiedAt:Ze.mtime??xe.metadata?.modifiedAt??null,contentType:xe.metadata?.contentType??null,etag:Ze.etag??xe.metadata?.etag??null};return $e.completeSavingTab(W,{etag:Ze.etag??xe.etag??null,metadata:rn,savedContent:Me}),Pe(`Saved ${xe.name}`,{intent:"success",duration:4e3}),!0}catch(Ze){const rn=Ze instanceof qn&&Ze.status===412,ct=rn?new Error("Save blocked because this file changed on the server. Reloading latest version."):Ze;if($e.failSavingTab(W,ct instanceof Error?ct.message:String(ct)),rn)try{await vr(W),Pe("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Mn){zt(Mn)}return zt(ct),!1}},[O,$e,Xr,Pe,vr,zt]),Jr=p.useCallback(async W=>{const xe=[];for(const Me of W)await Ks(Me)&&xe.push(Me);return xe},[Ks]),ls=p.useCallback(async()=>{if(!wt||Yn.length===0)return!0;const xe=(await Jr(Yn.map(Me=>Me.id))).length===Yn.length;return xe||Pe("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),xe},[wt,Yn,Jr,Pe]),jr=p.useCallback(W=>{Ks(W)},[Ks]),Ui=p.useCallback(()=>{$e.activeTab&&Ks($e.activeTab.id)},[$e.activeTab,Ks]),ro=p.useCallback(()=>{if(!wt)return;const W=Yn.map(xe=>xe.id);(async()=>{const xe=await Jr(W);xe.length>1&&Pe(`Saved ${xe.length} files`,{intent:"success",duration:5e3})})()},[wt,Yn,Jr,Pe]);p.useEffect(()=>{const W=Ct;if(!W||typeof window>"u")return;const xe=()=>{const _e=W.getBoundingClientRect(),Ze=_e.width,rn=_e.height;Ie({width:Ze,height:rn}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(xe(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe);const Me=new window.ResizeObserver(()=>xe());return Me.observe(W),()=>Me.disconnect()},[Ct]);const Ys=Kt?LM:UM,sn=p.useMemo(()=>{const W=Math.max(0,He.height),Me=Math.max(0,W-Ys-yb),_e=Math.min(Lf,Me);return{container:W,minPx:_e,maxPx:Me}},[He.height,Ys]),Aa=p.useCallback((W,xe=sn)=>rs(W,xe.minPx,xe.maxPx),[sn]),ys=p.useCallback(()=>{const W=Ye.current;return W&&"version"in W&&W.version===2&&typeof W.fraction=="number"?rs(W.fraction,0,1):W&&"height"in W&&typeof W.height=="number"&&sn.container>0?rs(W.height/sn.container,0,1):.25},[sn.container]);p.useEffect(()=>{re===null&&sn.container>0&&Ee(ys())},[re,sn.container,ys]);const Tn=p.useCallback(()=>sn.container>0&&sn.maxPx<Lf?(T("closed"),Pe(wb,{intent:"warning",duration:1e4}),!1):(_n(),T("open"),Ee(W=>W!==null?rs(W,0,1):ve.current!==null?rs(ve.current,0,1):ys()),!0),[sn,T,Pe,_n,ys]),An=p.useCallback(()=>{ve.current=re,T("closed"),_n()},[re,T,_n]);p.useEffect(()=>{if(je)return;const W=Ye.current?.state;if(N||!W){Ae(!0);return}(W==="open"||W==="closed")&&W!==E&&T(W),Ae(!0)},[N,E,T,je]),p.useEffect(()=>{!Oe||gr||re===null||Oe.set({version:2,fraction:rs(re,0,1),state:E})},[Oe,re,E,gr]),p.useEffect(()=>{if(!(E!=="open"||!sn.container)){if(sn.maxPx<Lf){T("closed"),Pe(wb,{intent:"warning",duration:1e4});return}Ee(W=>W===null?ys():rs(W,0,1))}},[E,sn,T,Pe,ys]);const Bi=p.useCallback((W,xe)=>{if(W<=0)return{minPx:xe.min,maxPx:xe.max,minFrac:0,maxFrac:1};const Me=Math.min(xe.min,W),_e=Math.min(xe.max,W);return{minPx:Me,maxPx:_e,minFrac:Me/W,maxFrac:_e/W}},[]),ws=Math.max(0,He.width-FM),js=p.useMemo(()=>Bi(ws,OM),[ws,Bi]),Ma=p.useCallback((W,xe)=>rs(W,xe.minFrac,xe.maxFrac),[]);p.useEffect(()=>{ws<=0||Y(W=>{if(W.collapsed)return W;const xe=Ma(W.fraction,js);return xe===W.fraction?W:{...W,fraction:xe}})},[ws,js,Ma]),p.useEffect(()=>{Te.set({version:2,explorer:{collapsed:M.collapsed,fraction:M.fraction}})},[Te,M]);const ea=M.collapsed?0:rs(M.fraction,js.minFrac,js.maxFrac)*ws,Da=ws>0?Math.min(ea,ws):ea,Ut=Math.max(0,sn.container),qi=(re??(Ut>0?rs(BM/Ut,0,1):.25))*Ut,Os=Ut>0?Aa(qi):0,$i=yb,Fi=Kt?qM:Os,Sr=Ut>0?Math.max(Ys,Ut-$i-Fi):Ys;p.useEffect(()=>{const W=$e.activeTabId;if(!W){j(void 0);return}j(W)},[$e.activeTabId,j]),p.useEffect(()=>{!yt||!H||bs(H,yt)&&($e.openFile(yt),j(yt),kt(null))},[yt,H,$e,j]);const za=p.useCallback(()=>Tn()?(k("terminal"),!0):!1,[Tn,k]),io=p.useCallback(async()=>{O||!H||L.isLoading||L.isError||!await ls()||await $({validate_only:!0},{mode:"validation"},{prepare:za})},[O,H,L.isLoading,L.isError,ls,$,za]),lo=p.useCallback(async W=>{if(me(!1),Ce(!1),O||!H||L.isLoading||L.isError||!await ls())return;const Me=Array.from(new Set((W.sheetNames??[]).filter(Boolean)));$({input_document_id:W.documentId,input_sheet_names:Me.length?Me:void 0,debug:!0},{mode:"extraction",documentId:W.documentId,documentName:W.documentName,sheetNames:Me},{forceRebuild:pe,prepare:za})},[O,H,L.isLoading,L.isError,$,pe,za,ls]);p.useEffect(()=>{if(typeof window>"u")return;const W=xe=>{if(!(Vt?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key.toLowerCase()!=="s")return;const _e=xe.target;if(_e){const Ze=_e.tagName;if(Ze==="INPUT"||Ze==="TEXTAREA"||_e.isContentEditable)return}wt&&(xe.preventDefault(),Ui())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Vt,wt,Ui]);const Ra=K??(le?"extraction":void 0),Oa=le,xu=F.status==="running"||Oa&&Ra==="validation",La=!O&&!!H&&!L.isLoading&&!L.isError&&!Oa&&F.status!=="running",Ss=Oa&&Ra!=="validation",Er=!O&&!!H&&!L.isLoading&&!L.isError&&!Oa,Ls=!O&&!L.isLoading&&!L.isError,Us=Ls&&!bn.isPending,Bs=Ls&&!kn.isPending,Ua=Ls&&!Kn.isPending,qs=B&&!O&&!G.isPending&&!!se,oo=p.useCallback(W=>{qe(W),W==="explorer"&&Y(xe=>({...xe,collapsed:!1}))},[]),ta=p.useCallback(W=>{W.preventDefault();const xe=W.currentTarget.getBoundingClientRect();st({x:xe.right+8,y:xe.top})},[]),Es=p.useCallback(W=>{A(W)},[]),Hi=p.useCallback(()=>st(null),[]),Ln=p.useCallback(()=>{Kt?Tn():An()},[Kt,Tn,An]);p.useEffect(()=>{if(typeof window>"u")return;const W=xe=>{if(!(Vt?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key?.toLowerCase()!=="`"&&xe.code!=="Backquote")return;const Ze=xe.target;if(Ze&&!(typeof Ze.closest=="function"?Ze.closest("[data-editor-area]"):null)){const ct=Ze.tagName,Mn=Ze.getAttribute("role");if(ct==="INPUT"||ct==="TEXTAREA"||Mn==="textbox"||Ze.isContentEditable)return}xe.preventDefault(),Ln()};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Vt,Ln]);const $s=p.useCallback(()=>{X()},[X]),Zi=p.useCallback(()=>{Y(W=>({...W,collapsed:!W.collapsed}))},[]),Ba=p.useCallback(()=>{Y(W=>({...W,collapsed:!0}))},[]),co=p.useCallback(async(W,xe)=>{const Me=xe.trim();if(!Me)throw new Error("Enter a file name.");if(Me.includes(".."))throw new Error("File name cannot include '..'.");if(!Ls)throw new Error("Files are still loading.");const _e=W.replace(/\/+$/,""),Ze=Me.replace(/^\/+/,"").replace(/\/+/g,"/"),ct=(_e?`${_e}/${Ze}`:Ze).replace(/\/+/g,"/");if(!ct||ct.endsWith("/"))throw new Error("Enter a valid file name.");if(H&&bs(H,ct))throw new Error("A file or folder with that name already exists.");Rs(!0);try{await Xr.mutateAsync({path:ct,content:"",parents:!0,create:!0}),kt(ct),await L.refetch(),Pe(`Created ${ct}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create file.")}finally{Rs(!1)}},[Ls,H,Xr,L,Pe,zt]),qa=p.useCallback(async(W,xe)=>{const Me=xe.trim();if(!Me)throw new Error("Enter a folder name.");if(Me.includes(".."))throw new Error("Folder name cannot include '..'.");if(!Bs)throw new Error("Files are still loading.");const _e=W.replace(/\/+$/,""),Ze=Me.replace(/^\/+/,"").replace(/\/+/g,"/"),ct=(_e?`${_e}/${Ze}`:Ze).replace(/\/+/g,"/").replace(/\/$/,"");if(!ct)throw new Error("Enter a valid folder name.");if(H&&bs(H,ct))throw new Error("A file or folder with that name already exists.");Dt(!0);try{await kn.mutateAsync({path:ct}),await L.refetch(),Pe(`Folder ready: ${ct}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create folder.")}finally{Dt(!1)}},[Bs,H,kn,L,Pe,zt]),$a=p.useCallback(async W=>{if(!Us)throw new Error("Files are still loading.");const xe=H?bs(H,W):null;if(!H||!xe)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${W}? This cannot be undone.`)){Rs(!1),un(W);try{await bn.mutateAsync({path:W,etag:xe.metadata?.etag}),$e.closeTab(W),kt(_e=>_e===W?null:_e),await L.refetch(),Pe(`Deleted ${W}`,{intent:"info",duration:4e3})}catch(_e){const Ze=_e instanceof qn&&_e.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":_e instanceof Error?_e.message:"Unable to delete file.";throw zt(Ze),new Error(Ze)}finally{un(_e=>_e===W?null:_e)}}},[Us,H,bn,$e,L,Pe,zt,un]),uo=p.useCallback(async W=>{if(!Ua)throw new Error("Files are still loading.");const xe=H?bs(H,W):null;if(!H||!xe||xe.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${W} and all contents? This cannot be undone.`)){fn(W);try{await Kn.mutateAsync({path:W,recursive:!0}),kt(_e=>_e===W?null:_e),$e.closeTab(W),await L.refetch(),Pe(`Deleted folder ${W}`,{intent:"info",duration:4e3})}catch(_e){const Ze=_e instanceof Error?_e.message:"Unable to delete folder.";throw zt(Ze),new Error(Ze)}finally{fn(_e=>_e===W?null:_e)}}},[Ua,H,Kn,$e,L,Pe,zt,fn]),vn=p.useCallback(()=>{if(!qs){Pe("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),A(null);return}A(null),oe(!0)},[qs,Pe]),Gs=p.useCallback(async W=>{const xe=W.target.files?.[0]??null;if(W.target.value="",!!xe)try{await G.mutateAsync({file:xe,ifMatch:se}),We?.clear?.(),$e.closeAllTabs(),j(void 0);const _e=(await L.refetch()).data??L.data??null,Ze=_e?ob(_e):null,rn=Ze?Zh(Ze):null;kt(rn?.id??null),Pe("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(Me){const _e=Me instanceof qn&&Me.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":Me instanceof qn&&Me.status===428?"Replace blocked: refresh the file list and try again.":Me instanceof Error?Me.message:"Unable to replace configuration.";zt(_e),Pe(_e,{intent:"danger",duration:6e3})}},[G,se,We,$e,L,j,kt,Pe,zt]),Fa=p.useMemo(()=>{const W=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),xe=WM.map(Me=>({id:`theme-${Me.value}`,label:`${Me.label} theme`,icon:Lt.preference===Me.value?l.jsx(Uf,{}):W,onSelect:()=>Lt.setPreference(Me.value)}));return xe.push({id:"toggle-explorer",label:M.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:M.collapsed?W:l.jsx(Uf,{}),onSelect:()=>Y(Me=>({...Me,collapsed:!Me.collapsed}))},{id:"toggle-console",label:Kt?"Show Console":"Hide Console",icon:Kt?W:l.jsx(Uf,{}),onSelect:Ln}),xe},[Lt,M.collapsed,Kt,Ln]),na=p.useMemo(()=>[{id:"export",label:z?"Exporting":"Export (.zip)",disabled:z,onSelect:()=>{A(null),On()}},{id:"replace",label:"Import from zip",disabled:!qs,onSelect:vn}],[qs,On,vn,z]);p.useEffect(()=>{if(typeof document>"u"||!Et)return;const W=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=W||""}},[Et]);const bu=dD(e),Vi=Vt?"S":"Ctrl+S",Ii=Vt?"`":"Ctrl+`",sa=p.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!Er,onSelect:()=>{Ce(!0),me(!0),Mt(null)}}],[Er,Ce,me,Mt]);if(!i&&L.isLoading)return l.jsx(ut,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&L.isError)return l.jsx(ut,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!H)return l.jsx(ut,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Ha=Et?it==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":it==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",fo=it==="dark"?"#1b1f27":"#ffffff",vu=it==="dark"?"#f5f6fb":"#0f172a",yu=Et?fe("fixed inset-0 z-[90] flex flex-col",it==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):fe("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",it==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900"),Qi=it==="dark"?{bar:"border-[#1f2431] bg-[#0f111a] text-slate-200",hint:"text-slate-400",button:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{bar:"border-slate-300 bg-white text-slate-700",hint:"text-slate-500",button:"border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400"};return l.jsxs("div",{className:fe("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Ha),children:[Et?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:yu,children:[l.jsx(YM,{configName:r,workspaceLabel:bu,validationLabel:Nn,canSaveFiles:wt,isSavingFiles:wr,onSaveFile:Ui,saveShortcutLabel:Vi,onOpenTestMenu:W=>Mt(W),onOpenActionsMenu:Es,canRunValidation:La,isRunningValidation:xu,onRunValidation:io,canRunExtraction:Er,isRunningExtraction:Ss,onRunExtraction:W=>{Er&&(Ce(W),me(!0))},explorerVisible:Ta,onToggleExplorer:Zi,consoleOpen:!Kt,onToggleConsole:Ln,appearance:it,windowState:c,onMinimizeWindow:Li,onToggleMaximize:yr,onCloseWindow:br,actionsBusy:z||G.isPending}),l.jsxs("div",{ref:Se,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(u_,{activeView:Ne,onSelectView:oo,onOpenSettings:ta,appearance:it}),Ta?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:Da},children:Ne==="explorer"&&$e.tree?l.jsx(dA,{width:Da,tree:$e.tree,activeFileId:$e.activeTab?.id??"",openFileIds:$e.tabs.map(W=>W.id),onSelectFile:W=>{$e.openFile(W),j(W)},theme:it,canCreateFile:Ls,canCreateFolder:Bs,isCreatingEntry:Oi||xr,onCreateFile:co,onCreateFolder:qa,canDeleteFile:Us,canDeleteFolder:Ua,deletingFilePath:Cn,deletingFolderPath:dn,onDeleteFile:$a,onDeleteFolder:uo,expandedStorageKey:IM(e,n),onHide:Ba}):l.jsx(KM,{width:Da,view:Ne,appearance:it})}),l.jsx(lb,{orientation:"vertical",onPointerDown:W=>{const xe=W.clientX,Me=Da;fb(W,{cursor:"col-resize",onMove:_e=>{const Ze=_e.clientX-xe,rn=rs(Me+Ze,js.minPx,js.maxPx);Y(ct=>ct.collapsed||ws<=0?ct:{...ct,fraction:Ma(rn/ws,js)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:fo,color:vu},children:l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Ut>0?`${Ut}px`:void 0,gridTemplateRows:`${Math.max(Ys,Sr)}px ${$i}px ${Math.max(0,Fi)}px`},children:[l.jsx(lA,{tabs:$e.tabs,activeTabId:$e.activeTab?.id??"",onSelectTab:W=>{$e.selectTab(W),j(W)},onCloseTab:$e.closeTab,onCloseOtherTabs:$e.closeOtherTabs,onCloseTabsToRight:$e.closeTabsToRight,onCloseAllTabs:$e.closeAllTabs,onContentChange:$e.updateContent,onSaveTab:jr,onSaveAllTabs:ro,onMoveTab:$e.moveTab,onRetryTabLoad:$e.reloadTab,onPinTab:$e.pinTab,onUnpinTab:$e.unpinTab,onSelectRecentTab:$e.selectRecentTab,editorTheme:Lt.resolvedTheme,menuAppearance:it,canSaveFiles:wt,minHeight:Ys}),l.jsx(lb,{orientation:"horizontal",onPointerDown:W=>{zs(!0);const xe=W.clientY,Me=Os;let _e=!1;fb(W,{cursor:"row-resize",onMove:Ze=>{if(Kt&&!_e&&(Tn(),_e=!0),sn.maxPx<=0||Ut<=0)return;const rn=xe-Ze.clientY,ct=rs(Me+rn,sn.minPx,sn.maxPx);Ee(rs(ct/Ut,0,1))},onEnd:()=>{zs(!1)}})},onDoubleClick:()=>{Kt?Tn():An()},onToggle:Ln,collapsed:Kt}),Kt?l.jsxs("div",{className:fe("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Qi.bar),onDoubleClick:Ln,title:"Double-click to show console",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:"Console hidden"}),l.jsxs("span",{className:fe("text-[11px]",Qi.hint),children:["(double-click gutter or ",Ii,")"]})]}),l.jsx("button",{type:"button",onClick:Ln,className:fe("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Qi.button),title:"Show console",children:"Show console"})]}):l.jsx(K_,{height:Math.max(0,Os),console:te,validation:F,activePane:w,onPaneChange:k,latestRun:V,onClearConsole:$s,runStatus:_,onToggleCollapse:Ln})]})})]})]}),ae?l.jsx(GM,{open:ae,workspaceId:e,onClose:()=>{me(!1),Ce(!1)},onRun:lo}):null,l.jsx("input",{ref:ce,type:"file",accept:".zip",onChange:Gs,className:"hidden"}),ye?l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-slate-900",children:"Import from zip"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),qs?null:l.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),$e.isDirty?l.jsx("p",{className:"text-sm font-medium text-amber-700",children:"You have unsaved changes that will be lost."}):null]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[l.jsx(ke,{variant:"secondary",onClick:()=>oe(!1),disabled:G.isPending,children:"Cancel"}),l.jsx(ke,{onClick:()=>{oe(!1),ce.current?.click()},disabled:!qs||G.isPending,isLoading:G.isPending,children:"Continue"})]})]})}):null,l.jsx(Ci,{open:!!we,position:we,onClose:()=>A(null),items:na,appearance:it}),l.jsx(Ci,{open:!!Pt,position:Pt,onClose:()=>Mt(null),items:sa,appearance:it}),l.jsx(Ci,{open:!!At,position:At,onClose:Hi,items:Fa,appearance:it})]})}function KM({width:e,view:n,appearance:r}){const i=PM[n]||"Coming soon",c=r==="dark"?"border-[#111111] bg-[#1e1e1e] text-slate-300":"border-slate-200 bg-slate-50 text-slate-600";return l.jsx("div",{className:fe("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide",c),style:{width:e},"aria-live":"polite",children:i})}function Uf(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function YM({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:d,onOpenTestMenu:m,onOpenActionsMenu:g,canRunValidation:x,isRunningValidation:b,onRunValidation:y,canRunExtraction:w,isRunningExtraction:E,onRunExtraction:N,explorerVisible:j,onToggleExplorer:k,consoleOpen:T,onToggleConsole:C,appearance:R,windowState:O,onMinimizeWindow:L,onToggleMaximize:se,onCloseWindow:B,actionsBusy:I=!1}){const H=R==="dark",Z=H?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",P=H?"text-white/60":"text-slate-500",U=H?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",G=H?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ce=O==="maximized";return l.jsxs("div",{className:fe("flex items-center justify-between border-b px-4 py-2",Z),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(eD,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:fe("text-[10px] font-semibold uppercase tracking-[0.35em]",P),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:fe("text-[11px]",P),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r?l.jsx("span",{className:fe("text-xs",P),children:r}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:fe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",U),title:`Save (${d})`,children:[c?l.jsx(Bf,{}):l.jsx(oD,{}),c?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:y,disabled:!x,className:fe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",G),children:[b?l.jsx(Bf,{}):l.jsx(jb,{}),b?"Running":"Run validation"]}),l.jsx(BA,{label:E?"Running":"Test run",icon:E?l.jsx(Bf,{}):l.jsx(jb,{}),disabled:!w,isLoading:E,title:"Run test run",primaryClassName:fe(G,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:fe(G,"rounded-l-none px-2",H?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>N(!1),onOpenMenu:we=>m(we),onContextMenu:we=>{we.preventDefault(),m({x:we.clientX,y:we.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(yi,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:k,appearance:R,active:j,icon:l.jsx(tD,{active:j})}),l.jsx(yi,{ariaLabel:T?"Hide console":"Show console",onClick:C,appearance:R,active:T,icon:l.jsx(nD,{})})]}),l.jsx(yi,{ariaLabel:"Configuration actions",onClick:we=>{const A=we.currentTarget.getBoundingClientRect();g({x:A.right+8,y:A.bottom})},appearance:R,disabled:I,icon:l.jsx(lD,{})}),l.jsxs("div",{className:fe("flex items-center gap-2 border-l pl-3",R==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(yi,{ariaLabel:"Minimize workbench",onClick:L,appearance:R,icon:l.jsx(aD,{})}),l.jsx(yi,{ariaLabel:ce?"Restore workbench":"Maximize workbench",onClick:se,appearance:R,active:ce,icon:ce?l.jsx(rD,{}):l.jsx(sD,{})}),l.jsx(yi,{ariaLabel:"Close workbench",onClick:B,appearance:R,icon:l.jsx(iD,{})})]})]})]})}function GM({open:e,workspaceId:n,onClose:r,onRun:i}){const c=p.useRef(null),u=zn({queryKey:["builder-documents",n],queryFn:({signal:R})=>XM(n,R),staleTime:6e4,enabled:e}),d=p.useMemo(()=>u.data??[],[u.data]),[m,g]=p.useState("");p.useEffect(()=>{if(e){if(!d.length){g("");return}g(R=>R&&d.some(O=>O.id===R)?R:d[0]?.id??"")}},[d,e]);const x=d.find(R=>R.id===m)??null,b=zn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:R})=>Ay(n,m,R),enabled:e&&!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,E]=p.useState([]);p.useEffect(()=>{if(e){if(!y.length){E([]);return}E(R=>R.filter(O=>y.some(L=>L.name===O)))}},[e,y]);const N=p.useMemo(()=>Array.from(new Set(w.filter(R=>y.some(O=>O.name===R)))),[w,y]),j=p.useCallback(R=>{E(O=>O.includes(R)?O.filter(L=>L!==R):[...O,R])},[]);if(!e)return null;const k=!x||u.isLoading||u.isError,T=y.length>0,C=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),u.isError?l.jsx(nt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):d.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(so,{id:"builder-run-document-select",value:m,onChange:R=>g(R.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:d.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",JM(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]})]})}):T?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:N.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${N.length.toLocaleString()} worksheet${N.length===1?"":"s"} selected.`})]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(R=>{const O=N.includes(R.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:O,onChange:()=>j(R.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[R.name,R.is_active?" (active)":""]})]},`${R.index}-${R.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(ke,{variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(ke,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:N.length>0?N:void 0})},disabled:k,children:"Start test run"})]})]})});return typeof document>"u"?null:is.createPortal(C,document.body)}async function XM(e,n){const{data:r}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return r?.items??[]}function JM(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function yi({ariaLabel:e,onClick:n,icon:r,appearance:i,active:c=!1,disabled:u=!1}){const d=i==="dark",m=d?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",g=d?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,disabled:u,className:fe("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",m,c&&g,u&&"cursor-not-allowed opacity-50"),title:e,children:r})}function eD(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function tD({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function nD(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function sD(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function rD(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function aD(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function iD(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Bf(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function jb(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function lD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"3",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"8",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"13",cy:"8",r:"1.3",fill:"currentColor"})]})}function oD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function cD(e){return e instanceof qn?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function uD(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function dD(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function Sb(e){if(e.encoding==="base64"){const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const r=atob(e.content),i=new Uint8Array(r.length);for(let u=0;u<r.length;u+=1)i[u]=r.charCodeAt(u);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(i);let c="";for(let u=0;u<i.length;u+=1)c+=String.fromCharCode(i[u]);return c}catch{}}return e.content}function fD(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const $y=p.createContext(null);function Fy(){const e=p.useContext($y);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function hD({workspaceId:e,children:n}){const r=Zt(),i=$n(),[c,u]=p.useState(null),[d,m]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Qs(fD(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>vD(i.pathname,e),[i.pathname,e]),N=!!E;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{N||y.set(`${i.pathname}${i.search}${i.hash}`)},[N,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){x.current=null;return}const Z=x.current;if(N&&E===c.configId){if(Z==="dock"){x.current=null,m("minimized");return}Z&&(x.current=null);return}if(Z==="dock"){x.current=null;return}if(Z==="close"){x.current=null;return}u(null),m("restored"),x.current=null},[c,N,E,d]),p.useEffect(()=>{if(!c||!N||E!==c.configId)return;const Z=Nb(i.search);Z!==c.editorSearch&&u(P=>!P||P.instanceId!==c.instanceId?P:{...P,editorSearch:Z})},[c,N,E,i.search]);const j=p.useCallback(()=>y.get()??w,[y,w]),k=p.useCallback(Z=>{u(P=>{if(!P)return P;const U=new URLSearchParams(P.editorSearch),G=typeof Z=="function"?Z(new URLSearchParams(U)):Z,we=Cy(G).toString();return we===P.editorSearch?P:{...P,editorSearch:we}})},[]),T=p.useCallback(Z=>{const P=Nb(Z.editorSearch??i.search);let U=d==="minimized";u(G=>{if(G&&G.workspaceId===Z.workspaceId&&G.configId===Z.configId){const ce=Z.seed??G.seed,we=Z.editorSearch!==void 0?P:G.editorSearch;return G.configName===Z.configName&&G.seed===ce&&G.editorSearch===we?G:{...G,configName:Z.configName,seed:ce,editorSearch:we}}return U=!0,g.current+=1,{...Z,editorSearch:P,instanceId:`${Z.workspaceId}:${Z.configId}:${g.current}`}}),U&&m("restored")},[i.search,d]),C=p.useCallback(()=>{c&&(u(null),m("restored"),x.current="close",r(j()))},[c,r,j]),R=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),x.current="dock",r(j()))},[c,r,j]),O=p.useCallback(()=>{if(!c)return;m("restored");const Z=yD(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==Z&&r(Z)},[c,r,i.pathname,i.search]),L=p.useCallback(()=>{c&&m("maximized")},[c]),se=p.useCallback(()=>{const Z=b.current;return b.current=!1,Z},[]),B=p.useMemo(()=>({session:c,windowState:d,openSession:T,closeSession:C,minimizeWindow:R,maximizeWindow:L,restoreWindow:O,shouldBypassUnsavedGuard:se}),[c,d,T,C,R,L,O,se]),I=!!c&&(!N||E!==c?.configId),H=p.useMemo(()=>I&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:k}:null,[I,c,k]);return l.jsxs($y.Provider,{value:B,children:[n,l.jsx(CA,{value:H,children:l.jsx(mD,{session:c,windowState:d,onClose:C,onMinimize:R,onMaximize:L,onRestore:O,shouldBypassUnsavedGuard:se})}),c&&d==="minimized"?l.jsx(pD,{configName:c.configName,onRestore:O,onDismiss:C}):null]})}function mD({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:d}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(qy,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:d},e.instanceId)})}function pD({configName:e,onRestore:n,onDismiss:r}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(gD,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(Eb,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(xD,{})}),l.jsx(Eb,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:l.jsx(bD,{})})]})]})})})}function Eb({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:fe("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function gD(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function xD(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function bD(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function vD(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function yD(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function Nb(e){return e?e.startsWith("?")?e.slice(1):e:""}function lh({to:e,replace:n,className:r,title:i,children:c,onClick:u}){const d=Zt();return l.jsx("a",{href:e,className:r,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),d(e,{replace:n}))},children:c})}function Hy({to:e,end:n,className:r,children:i,title:c,onClick:u}){const{pathname:d}=$n(),m=n?d===e:d===e||d.startsWith(`${e}/`),g=typeof r=="function"?r({isActive:m}):r,x=typeof i=="function"?i({isActive:m}):i;return l.jsx(lh,{to:e,className:g,title:c,onClick:u,children:x})}function uu(e){return function({title:r,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?l.jsx("title",{children:r}):null,l.jsx("path",{d:e})]})}}const wD=uu("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),jD=uu("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),SD=uu("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),ED=uu("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),Zy=[{id:"documents",path:"documents",label:"Documents",icon:wD},{id:"runs",path:"runs",label:"Runs",icon:jD},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:SD},{id:"settings",path:"settings",label:"Workspace Settings",icon:ED,matchPrefix:!0}],Qc=Zy[0];function Vy(e){return Zy.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon,matchPrefix:n.matchPrefix}))}const ND="4.25rem",CD="18.75rem";function kD({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:c}){const u=i??Vy(e),d=AD(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?ND:CD},"aria-label":"Primary workspace navigation",children:l.jsxs("div",{className:fe("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:fe("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:fe("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:d}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation","aria-expanded":!n,children:n?l.jsx(TD,{}):l.jsx(_D,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Iy,{items:u,collapsed:n})})]})})}function Iy({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:fe("flex flex-col gap-1.5",n?"items-center":void 0,i),children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(Hy,{to:u.href,end:!(u.matchPrefix??!1),title:n?u.label:void 0,onClick:r,className:({isActive:d})=>fe("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",d?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:d})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:fe("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",d?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:fe("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",d?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:fe("h-5 w-5 flex-shrink-0 transition-colors duration-150",d?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:fe("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function _D(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function TD(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function AD(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}function MD(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const DD=100;function Qy({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=DD}){return zn({queryKey:En.list(e,{page:r,pageSize:i}),queryFn:({signal:c})=>FA(e,{page:r,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function Wy({workspaceId:e,configurationId:n,enabled:r=!0}){return zn({queryKey:En.detail(e,n??""),queryFn:({signal:i})=>n?HA(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function zD(e){const n=dt();return nn({mutationFn:r=>XA(e,r),async onSuccess(){await n.invalidateQueries({queryKey:En.root(e)})}})}function RD({summary:e}){const n=e.counts,r=e.validation?.issues_total,i=e.fields??[],c=e.columns??[],u=i.slice(0,6),d=c.slice(0,5),m=typeof r=="number"?r>0?"warn":"ok":"default";return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(Ec,{label:"Tables",value:n?.tables?.total??""}),l.jsx(Ec,{label:"Rows",value:n?.rows?.total??""}),l.jsx(Ec,{label:"Mapped fields",value:n?.fields?.mapped??""}),l.jsx(Ec,{label:"Issues",value:r??"",intent:m})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),i.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[u.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[g.label||g.field," ",g.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped",typeof g.tables_mapped=="number"?`  ${g.tables_mapped} tables`:""]})]},g.field)),i.length>u.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",i.length-u.length," more fields"]}):null]})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Columns"}),c.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No column details recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[d.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:g.header}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped","  ",g.occurrences?.tables_seen??""," tables"]})]},g.header_normalized)),c.length>d.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",c.length-d.length," more headers"]}):null]}),l.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Distinct headers mapped: ",n?.columns?.distinct_headers_mapped??""," /"," ",n?.columns?.distinct_headers??""]})]})]})]})}function OD({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=Py(c),d=u.stream==="stderr"?"warning":void 0,m=u.level??d??"info";return i[m]=(i[m]??0)+1,i},{}),r=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:r.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const c=typeof i.message=="string"?i.message.trim():void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.event}),l.jsx("span",{className:"text-[11px] text-slate-500",children:LD(i.timestamp??i.created_at??"unknown")})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:c||`Level: ${UD(i)}`})]})})()},`${i.timestamp}-${i.event}`))})]})}function LD(e){const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?String(e):n.toLocaleString()}function UD(e){const n=Py(e),r=n.stream==="stderr"?"warning":void 0;return n.level??r??"info"}function Py(e){const n=e.data;return n&&typeof n=="object"?n:{}}function Ec({label:e,value:n,intent:r="default"}){const i=r==="warn"?"text-amber-700":r==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}const Ky={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},BD=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],$l="mine",ja={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function qD(e){return e&&Object.keys(ja).includes(e)?e:$l}function $D(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function FD(e){return new Set(BD).has(e??"")?e:"-created_at"}const Yy=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),ki={all:()=>["documents"],workspace:e=>[...ki.all(),e],list:(e,n,r)=>[...ki.workspace(e),"list",{sort:n,uploader:r}]},Gy=50;function HD(){const{workspace:e}=mr(),n=Ai(),[r,i]=_y(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=qD(r.get("view")),[d,m]=p.useState(u),[g,x]=p.useState(()=>{const Se=r.get("status");if(Se)return $D(Se);const Ne=ja[u].presetStatuses??[];return new Set(Ne)}),[b,y]=p.useState(()=>{const Se=r.get("sort");return Se?FD(Se):ja[u].presetSort??"-created_at"}),[w,E]=p.useState(r.get("q")??""),[N,j]=p.useState(w.trim()),k=p.useMemo(()=>Array.from(g),[g]),C=ja[d].uploader??null,R=p.useRef(null),[O,L]=p.useState(new Set),se=p.useMemo(()=>new Set(O),[O]),B=p.useMemo(()=>Array.from(se),[se]),I=se.size,H=VD(e.id),Z=ID(e.id),P=Rv(),U=P.data?.enabled??!1,G=P.data?.detail??Mi,ce=P.isPending,[we,A]=p.useState(null),[z,ge]=p.useState(null),[ye,oe]=p.useState(null),_=H.isPending,K=Z.isPending,le=ZD(e.id,{sort:b,uploader:C}),{refetch:F}=le,te=p.useCallback(Se=>Se.id,[]),V=vh(le.data?.pages,te),X=p.useMemo(()=>{const Se=N.toLowerCase(),Ne=C==="me"?n.user.id:null,qe=C==="me"?n.user.email??null:null;return V.filter(At=>{if(k.length>0&&!k.includes(At.status))return!1;if(C==="me"){const st=At.uploader_id??At.uploader?.id??null,Pt=At.uploader?.email??null;if(Ne&&st&&st!==Ne||!st&&qe&&Pt&&Pt!==qe)return!1}return!(Se&&!`${At.name??""} ${At.source??""}`.toLowerCase().includes(Se))})},[N,V,n.user.email,n.user.id,k,C]),$=le.isFetchingNextPage,ae=le.isFetching&&!$,me=X.length;p.useEffect(()=>{const Se=r.get("q")??"";E(qe=>qe===Se?qe:Se);const Ne=Se.trim();j(qe=>qe===Ne?qe:Ne)},[r]),p.useEffect(()=>{const Se=new URLSearchParams;g.size>0&&Se.set("status",Array.from(g).join(",")),b!=="-created_at"&&Se.set("sort",b),N&&Se.set("q",N),d!==$l&&Se.set("view",d),c.current(Se,{replace:!0})},[g,b,N,d]),p.useEffect(()=>{const Se=window.setTimeout(()=>j(w.trim()),250);return()=>window.clearTimeout(Se)},[w]),p.useEffect(()=>{L(Se=>{if(Se.size===0)return Se;const Ne=new Set,qe=new Set(X.map(st=>st.id));let At=!1;for(const st of Se)qe.has(st)?Ne.add(st):At=!0;return At?Ne:Se})},[X]);const pe=p.useMemo(()=>{for(const Se of X)if(se.has(Se.id))return Se;return null},[X,se]),Ce=p.useCallback(Se=>{const Ne=ja[Se];m(Se),x(new Set(Ne.presetStatuses??[])),y(Ne.presetSort??"-created_at"),E(""),j("")},[]),We=p.useCallback(Se=>{x(Ne=>{const qe=new Set(Ne);return qe.has(Se)?qe.delete(Se):qe.add(Se),qe})},[]),Oe=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const Se=Ne=>{if((Ne.metaKey||Ne.ctrlKey)&&Ne.key.toLowerCase()==="u"){Ne.preventDefault(),R.current?.click();return}(Ne.key==="Delete"||Ne.key==="Backspace")&&I>0&&(Ne.preventDefault(),re())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[I]);const Te=p.useCallback(Se=>Ky[Se]??Se,[]),Ye=p.useCallback(Se=>l.jsx(g4,{document:Se}),[]),Lt=p.useCallback(()=>{R.current?.click()},[]),it=p.useCallback(async Se=>{if(Se.length){A(null);try{await H.mutateAsync({files:Se})}catch(Ne){const qe=Ne instanceof Error?Ne.message:"Failed to upload documents.";A({tone:"error",message:qe})}}},[H]),Nn=async Se=>{const Ne=Array.from(Se.target.files??[]);await it(Ne),Se.target.value=""},M=Se=>{L(Ne=>{const qe=new Set(Ne);return qe.has(Se)?qe.delete(Se):qe.add(Se),qe})},Y=()=>{L(Se=>{if(X.length===0)return new Set;const Ne=X.map(qe=>qe.id);return Se.size===X.length&&Ne.every(qe=>Se.has(qe))?new Set:new Set(Ne)})},re=p.useCallback(async()=>{const Se=B;if(Se.length){A(null);try{await Z.mutateAsync({documentIds:Se}),L(new Set)}catch(Ne){const qe=Ne instanceof Error?Ne.message:"Failed to delete documents.";A({tone:"error",message:qe})}}},[Z,B]),Ee=p.useCallback(async Se=>{A(null);try{await Z.mutateAsync({documentIds:[Se.id]}),L(Ne=>{const qe=new Set(Ne);return qe.delete(Se.id),qe})}catch(Ne){const qe=Ne instanceof Error?Ne.message:"Failed to delete document.";A({tone:"error",message:qe})}},[Z]),ve=p.useCallback(async Se=>{try{ge(Se.id);const{blob:Ne,filename:qe}=await KD(e.id,Se.id);y4(Ne,qe??Se.name)}catch(Ne){const qe=Ne instanceof Error?Ne.message:"Failed to download document.";A({tone:"error",message:qe})}finally{ge(null)}},[e.id]),je=p.useCallback(Se=>{oe(Se)},[]),Ae=p.useCallback(()=>{F()},[F]),He=p.useCallback(Se=>{A({tone:"error",message:Se})},[]),Ie=()=>{m($l),E(""),j(""),x(new Set),y("-created_at")},Ct=d===$l&&g.size===0&&b==="-created_at"&&!N;return l.jsxs(l.Fragment,{children:[l.jsx(d4,{workspaceName:e.name??void 0,disabled:_,onFiles:async Se=>{await it(Se)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:R,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Nn}),l.jsx(GD,{workspaceName:e.name,totalDocuments:me,view:d,onChangeView:Ce,sort:b,onSort:y,onReset:Ie,isFetching:le.isFetching,isDefault:Ct,onUploadClick:Lt,uploadDisabled:_,selectedStatuses:g,onToggleStatus:We,onClearStatuses:Oe}),we?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:we.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:le.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(f4,{})}):le.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):X.length===0?l.jsx("div",{className:"p-6",children:l.jsx(m4,{onUploadClick:Lt})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(e4,{documents:X,selectedIds:se,onToggleDocument:M,onToggleAll:Y,disableSelection:ae||K||H.isPending,disableRowActions:Z.isPending,formatStatusLabel:Te,onDeleteDocument:Ee,onDownloadDocument:ve,onRunDocument:je,downloadingId:z,renderRunStatus:Ye,safeModeEnabled:U,safeModeMessage:G,safeModeLoading:ce})}),le.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(ke,{type:"button",variant:"ghost",onClick:()=>le.fetchNextPage(),disabled:$,children:$?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(h4,{count:I,onClear:()=>L(new Set),onRun:()=>{pe&&!U&&!ce&&je(pe)},onDelete:re,busy:K,safeModeEnabled:U,safeModeMessage:G,safeModeLoading:ce}),l.jsx(c4,{open:!!ye,workspaceId:e.id,documentRecord:ye,onClose:()=>oe(null),onRunSuccess:Ae,onRunError:He,safeModeEnabled:U,safeModeMessage:G,safeModeLoading:ce})]})}function ZD(e,n){const r=n.sort.trim()||null;return mh({queryKey:ki.list(e,r,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>PD(e,{sort:r,page:typeof i=="number"?i:1,pageSize:Gy},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function VD(e){const n=dt();return nn({mutationFn:async({files:r})=>{const i=Array.from(r);for(const c of i)await Be.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:ki.workspace(e)})}})}function ID(e){const n=dt();return nn({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Be.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:ki.workspace(e)})}})}function QD(e){const n=dt();return nn({mutationFn:async({configId:r,options:i})=>{const{data:c}=await Be.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:r}},body:{options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:ki.workspace(e)})}})}function WD(e,n){const r=p.useMemo(()=>Qs(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>Cb(r,n));p.useEffect(()=>{c(Cb(r,n))},[r,n]);const u=p.useCallback(d=>{c(d);const m=r.get()??{};r.set({...m,[n]:{configId:d.configId,sheetNames:d.sheetNames&&d.sheetNames.length>0?[...d.sheetNames]:null}})},[r,n]);return{preferences:i,setPreferences:u}}async function PD(e,n,r){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:Gy,include_total:!1},{data:c}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!c)throw new Error("Expected document page payload.");return c}async function KD(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const c=YD(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:c}}function YD(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function Cb(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const d=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,sheetNames:d}}}return{configId:null,sheetNames:null}}function GD({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:c,onSort:u,onReset:d,isFetching:m,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}){const N=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:N})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:d,disabled:g,className:fe("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(ke,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(XD,{view:r,onChange:i}),l.jsx(JD,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:E}),l.jsxs(so,{value:c,onChange:j=>u(j.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:fe("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function XD({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(ja).map(r=>{const i=ja[r],c=r===e;return l.jsx("button",{type:"button",onClick:()=>n(r),className:fe("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function JD({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,c]=p.useState(!1),u=p.useRef(null),d=Object.entries(Ky),m=e.size>0,g=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(l4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{r(),c(!1)},className:fe("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:d.map(([x,b])=>{const y=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function e4({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:d,onDeleteDocument:m,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:N=!1}){const j=p.useRef(null),{allSelected:k,someSelected:T}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const C=e.reduce((R,O)=>n.has(O.id)?R+1:R,0);return{allSelected:C===e.length,someSelected:C>0&&C<e.length}},[e,n]);return p.useEffect(()=>{j.current&&(j.current.indeterminate=T)},[T]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:j,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:k,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(C=>{const R=n.has(C.id);return l.jsxs("tr",{className:fe("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",R?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:R,onChange:()=>r(C.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:C.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:C.name,children:C.name}),l.jsx("div",{className:"text-xs text-slate-500",children:n4(C)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:C.created_at,className:"block text-xs text-slate-600",title:Yy.format(new Date(C.created_at)),children:i4(C)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:C.uploader?.name??C.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(C):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:fe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",a4(C.status)),children:d?d(C.status):C.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(t4,{document:C,onDownload:g,onDelete:m,onRun:x,disabled:u,downloading:b===C.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:N})})]},C.id)})})]})})}function t4({document:e,onDownload:n,onDelete:r,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:d=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=c||!i||d||g,b=d?m??Mi:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(ke,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:fe("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function n4(e){const n=[];return e.content_type&&n.push(s4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(r4(e.byte_size)),n.join("  ")||"Unknown type"}function s4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function r4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function a4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function i4(e){return Yy.format(new Date(e.created_at))}function l4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function o4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:fe("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function c4({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:d=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:is.createPortal(l.jsx(u4,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:d,safeModeMessage:m,safeModeLoading:g}),window.document.body)}function u4({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:m=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),y=Qy({workspaceId:e}),[w,E]=p.useState(""),N=QD(e),{preferences:j,setPreferences:k}=WD(e,n.id),[T,C]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{C(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const R=p.useMemo(()=>y.data?.items??[],[y.data]),O=p.useMemo(()=>R.filter(pe=>!("deleted_at"in pe&&pe.deleted_at)),[R]),L=p.useMemo(()=>{if(j.configId){const pe=O.find(Ce=>Ce.id===j.configId);if(pe)return pe.id}return O[0]?.id??""},[j.configId,O]);p.useEffect(()=>{E(L)},[L]);const se=p.useMemo(()=>O.find(pe=>pe.id===w)??null,[O,w]),B=p.useCallback(pe=>{const Ce=typeof pe.status=="string"?pe.status:"draft";return`${pe.title??pe.display_name??"Untitled configuration"} (${Ce.charAt(0).toUpperCase()}${Ce.slice(1)})`},[]),[I,H]=p.useState(null),Z=d??Mi,P=zn({queryKey:T?vb.detail(T):["run","none"],queryFn:({signal:pe})=>T?Vh(T,pe):Promise.reject(new Error("No run selected")),enabled:!!T,refetchInterval:pe=>{const Ce=pe.state.data?.status;return Ce==="running"||Ce==="queued"?2e3:!1}}),U=zn({queryKey:T?vb.telemetry(T):["run-telemetry","none"],queryFn:({signal:pe})=>{if(!T)return Promise.reject(new Error("No run selected"));const Ce=P.data??T;return TM(Ce,pe)},enabled:!!T&&(P.data?.status==="succeeded"||P.data?.status==="failed"),staleTime:5e3}),G=zn({queryKey:["document-sheets",e,n.id],queryFn:({signal:pe})=>Ay(e,n.id,pe),staleTime:6e4}),ce=p.useMemo(()=>G.data??[],[G.data]),[we,A]=p.useState([]);p.useEffect(()=>{if(!ce.length){A([]);return}const pe=(j.sheetNames??[]).filter(We=>ce.some(Oe=>Oe.name===We)),Ce=Array.from(new Set(pe));A(Ce)},[ce,j.sheetNames]);const z=p.useMemo(()=>Array.from(new Set(we.filter(pe=>ce.some(Ce=>Ce.name===pe)))),[we,ce]);p.useEffect(()=>{se&&k({configId:se.id,sheetNames:z.length?z:null})},[z,se,k]);const ge=p.useCallback(pe=>{A(Ce=>Ce.includes(pe)?Ce.filter(We=>We!==pe):[...Ce,pe])},[]),ye=P.data??null,oe=ye?.status??null,_=oe==="running"||oe==="queued",K=ye?Ly(ye):null,le=ye?.output?.output_path??null,F=ye?Uy(ye):null,te=U.data??[],V=p.useMemo(()=>p4(U.data??[]),[U.data]);p.useEffect(()=>{const pe=g.current;if(!pe)return;(kb(pe)[0]??pe).focus();const We=Oe=>{if(Oe.key==="Escape"){Oe.preventDefault(),r();return}if(Oe.key!=="Tab")return;const Te=kb(pe);if(Te.length===0){Oe.preventDefault();return}const Ye=Te[0],Lt=Te[Te.length-1],it=window.document.activeElement;if(Oe.shiftKey){(!pe.contains(it)||it===Ye)&&(Oe.preventDefault(),Lt.focus());return}it===Lt&&(Oe.preventDefault(),Ye.focus())};return pe.addEventListener("keydown",We),()=>pe.removeEventListener("keydown",We)},[r]);const X=O.length>0,$=N.isPending||_||m||u||!X||!se,ae=u?Z:m?"Checking ADE safe mode status...":void 0,me=()=>{if(u||m)return;if(!se){H("Select a configuration before running the extractor.");return}H(null),C(null);const pe=z,Ce={dry_run:!1,validate_only:!1,force_rebuild:!1,debug:!1},We=pe.length>0?{...Ce,input_sheet_names:pe}:Ce;N.mutate({configId:se.id,options:{...We,input_document_id:n.id}},{onSuccess:Oe=>{k({configId:se.id,sheetNames:pe.length?pe:null}),i?.(Oe),C(Oe.id)},onError:Oe=>{const Te=Oe instanceof Error?Oe.message:"Unable to submit extraction run.";H(Te),c?.(Te)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:r,disabled:N.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(nt,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):X?l.jsx("div",{className:"space-y-2",children:l.jsxs(so,{value:w,onChange:pe=>{const Ce=pe.target.value;E(Ce)},disabled:N.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),O.map(pe=>l.jsx("option",{value:pe.id,children:B(pe)},pe.id))]})}):l.jsx(nt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),G.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):G.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{variant:"secondary",size:"sm",onClick:()=>G.refetch(),disabled:G.isFetching,children:"Retry loading"}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>A([]),disabled:N.isPending,children:"Use all worksheets"})]})]})}):ce.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:z.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${z.length.toLocaleString()} worksheet${z.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>A([]),disabled:N.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:ce.map(pe=>{const Ce=z.includes(pe.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:Ce,onChange:()=>ge(pe.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[pe.name,pe.is_active?" (active)":""]})]},`${pe.index}-${pe.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),T?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:T,children:["Run ",T]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",oe??"loading"]})]}),_?l.jsx(o4,{className:"h-4 w-4 text-slate-500"}):null]}),F?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:F,className:"inline-flex items-center rounded border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 transition hover:bg-slate-100",children:"Download logs"})}):null,l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output"}),P.isFetching&&!K?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading output"}):K?l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1 text-xs text-slate-700",children:[l.jsx("a",{href:K,className:"text-emerald-700 hover:underline",children:le?.split("/").pop()??"Download output"}),le?l.jsx("span",{className:"text-[11px] text-slate-500",children:le}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Output will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),U.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):U.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):V?l.jsx(RD,{summary:V}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),U.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):U.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):te.length>0?l.jsx(OD,{events:te}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(nt,{tone:"warning",children:Z}):null,I?l.jsx(nt,{tone:"danger",children:I}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(ke,{type:"button",variant:"ghost",onClick:r,disabled:N.isPending,children:"Cancel"}),l.jsx(ke,{type:"button",onClick:me,isLoading:N.isPending,disabled:$,title:ae,children:"Run extraction"})]})]})]})}function d4({onFiles:e,disabled:n,workspaceName:r}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const d=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},x=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",d),window.addEventListener("dragover",m),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",d),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:fe("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function f4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function h4({count:e,onClear:n,onRun:r,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:m=!1}){if(e===0)return null;const g=c||u||m,x=u?d??Mi:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(ke,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(ke,{size:"sm",onClick:()=>!g&&r(),disabled:g,title:x,children:"Run extraction"}),l.jsx(ke,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function m4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(ke,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function p4(e){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if((typeof r.event=="string"?r.event:typeof r.type=="string"?r.type:null)!=="engine.run.summary")continue;const c=r.data;if(c&&typeof c=="object")return c}return null}function g4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:fe("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",x4(n.status)),children:[b4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:v4(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function x4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function b4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function v4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return wi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return wi.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return wi.format(m,"hour");const x=Math.round(m/24);if(Math.abs(x)<30)return wi.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return wi.format(b,"month");const y=Math.round(x/365);return wi.format(y,"year")}function y4(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function kb(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function w4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function j4(){return l.jsx(ut,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"empty"})}const S4="Default template",Nc=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function E4(){const{workspace:e}=mr(),n=Zt(),r=p.useMemo(()=>By(e.id),[e.id]),i=p.useMemo(()=>Ih(e.id),[e.id]),c=Qy({workspaceId:e.id}),u=zD(e.id),d=iM(e.id),[m,g]=p.useState(()=>`${e.name} Config`),[x,b]=p.useState(null),[y,w]=p.useState(()=>`${e.name} Import`),[E,N]=p.useState(null),[j,k]=p.useState(null),[T,C]=p.useState(()=>i.get()),R=p.useRef(null),O=p.useRef(null),L=p.useMemo(()=>(c.data?.items??[]).filter(z=>!("deleted_at"in z&&z.deleted_at)),[c.data]),se=p.useMemo(()=>L.find(z=>z.id===T?.configId)??null,[L,T]),B=p.useCallback(z=>{C(Qh(i,z))},[i]);p.useEffect(()=>{C(i.get())},[i]),p.useEffect(()=>{const z=O.current,ge=z?.id!==e.id,ye=z?.name!==e.name;if(!(!ge&&!ye)){if(O.current={id:e.id,name:e.name},ge){g(`${e.name} Config`),b(null),w(`${e.name} Import`),N(null),k(null),R.current&&(R.current.value="");return}ye&&(g(oe=>oe===`${z?.name??""} Config`?`${e.name} Config`:oe),w(oe=>oe===`${z?.name??""} Import`?`${e.name} Import`:oe))}},[e.id,e.name]),p.useEffect(()=>{if(typeof window>"u")return;const z=ge=>{if(!(ge.storageArea!==window.localStorage||ge.key!==r))try{C(ge.newValue?JSON.parse(ge.newValue):null)}catch{C(null)}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[r]),p.useEffect(()=>{T?.configId&&(L.some(z=>z.id===T.configId)||B(null))},[L,T?.configId,B]);const I=z=>{B(z),n(Nc(e.id,z))},H=z=>{B(z),n(`${Nc(e.id,z)}/editor`)},Z=p.useCallback(z=>{k(null),N(z.target.files?.[0]??null),z.target.value=""},[]),P=z=>{z.preventDefault();const ge=m.trim();if(!ge){b("Enter a display name for the configuration.");return}b(null),u.mutate({displayName:ge,source:{type:"template"}},{onSuccess(ye){B(ye.id),n(Nc(e.id,ye.id))}})},U=z=>{z.preventDefault();const ge=y.trim();if(!ge){k("Enter a display name for the imported configuration.");return}if(!E){k("Select a .zip file to import.");return}k(null),d.mutate({displayName:ge,file:E},{onSuccess(ye){B(ye.id),N(null),c.refetch(),n(Nc(e.id,ye.id))},onError(ye){k(ye instanceof Error?ye.message:"Unable to import configuration.")}})},G=x??(u.error instanceof Error?u.error.message:null),ce=m.trim().length>0&&!u.isPending,we=y.trim().length>0&&!!E&&!d.isPending,A=z=>l.jsx(vt,{label:"Template",children:l.jsx(mt,{value:S4,readOnly:!0,disabled:z})});return c.isLoading?l.jsx(ut,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):c.isError?l.jsx(ut,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):L.length===0?l.jsx(ut,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("div",{className:"space-y-6 text-left",children:[l.jsxs("form",{onSubmit:P,className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsx(vt,{label:"Configuration name",required:!0,children:l.jsx(mt,{value:m,onChange:z=>g(z.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),A(u.isPending),G?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:G}):null,l.jsx(ke,{type:"submit",className:"w-full",disabled:!ce,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:U,className:"mt-3 space-y-4",children:[l.jsx(vt,{label:"Configuration name",required:!0,children:l.jsx(mt,{value:y,onChange:z=>w(z.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(vt,{label:"Archive (.zip)",required:!0,children:[l.jsx(mt,{type:"file",ref:R,accept:".zip",onChange:Z,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(ke,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),se?l.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>I(se.id),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:L.map(z=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:z.display_name}),l.jsx(N4,{status:z.status}),se?.id===z.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",C4(z.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(ke,{size:"sm",variant:"secondary",onClick:()=>I(z.id),children:"View details"}),l.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>H(z.id),children:"Open editor"})]})]},z.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsx(vt,{label:"Configuration name",required:!0,children:l.jsx(mt,{value:m,onChange:z=>g(z.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),A(u.isPending),G?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:G}):null,l.jsx(ke,{type:"submit",className:"w-full",disabled:!ce,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:U,className:"mt-3 space-y-4",children:[l.jsx(vt,{label:"Configuration name",required:!0,children:l.jsx(mt,{value:y,onChange:z=>w(z.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(vt,{label:"Archive (.zip)",required:!0,children:[l.jsx(mt,{type:"file",ref:R,accept:".zip",onChange:Z,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(ke,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})]})}function N4({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function C4(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function k4({params:e}={}){const{workspace:n}=mr(),r=Zt(),i=e?.configId,c=p.useMemo(()=>Ih(n.id),[n.id]),u=Wy({workspaceId:n.id,configurationId:i}),d=u.data;return p.useEffect(()=>{!i||!d||Qh(c,i)},[i,d,c]),i?u.isLoading?l.jsx(ut,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u.isError?l.jsx(ut,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):d?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:d.display_name})]}),l.jsx(ke,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(d.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:d.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:d.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:_4(d.updated_at)})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(ut,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(ut,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function _4(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function T4({params:e}={}){const{workspace:n}=mr(),{session:r,windowState:i,openSession:c,closeSession:u,minimizeWindow:d,maximizeWindow:m,restoreWindow:g,shouldBypassUnsavedGuard:x}=Fy(),b=e?.configId,y=Wy({workspaceId:n.id,configurationId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b||y.isError)return;const k=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${k}`})},[b,y.data?.display_name,y.isError,n.id,n.name,c]),p.useEffect(()=>{b&&(y.isError||y.isSuccess&&!y.data)&&u()},[u,b,y.data,y.isError,y.isSuccess]),!b)return l.jsx(ut,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(y.isLoading)return l.jsx(ut,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(y.isError)return l.jsx(ut,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!y.data)return l.jsx(ut,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const w=r&&r.configId===b?r:null,E=!!(w&&i==="minimized"),N=!!(w&&i==="restored"),j=!!(w&&i==="maximized");return N&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(qy,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:d,onMaximizeWindow:m,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(ut,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(ut,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(ut,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function A4({workspaceName:e,navGroups:n,activeSectionId:r,activeSectionLabel:i,activeSectionDescription:c,activeGroupLabel:u,children:d}){const g=n.flatMap(N=>N.items).find(N=>N.id===r)?.tone??"default",[x,b]=p.useState(""),y=x.trim().toLowerCase(),w=p.useMemo(()=>y?n.map(N=>({...N,items:N.items.filter(j=>`${j.label} ${j.description}`.toLowerCase().includes(y))})).filter(N=>N.items.length>0):n,[n,y]),E=p.useMemo(()=>["Settings",u,i].filter(Boolean),[u,i]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.28em] text-slate-400",children:[l.jsx("span",{children:"Workspace"}),l.jsx("span",{"aria-hidden":!0,children:""}),l.jsx("span",{children:"Settings"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:"Settings"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:E.map((N,j)=>l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:j===E.length-1?"font-semibold text-slate-900":"text-slate-600",children:N}),j<E.length-1?l.jsx("span",{"aria-hidden":!0,className:"text-slate-400",children:"/"}):null]},N))}),c?l.jsx("p",{className:"max-w-3xl text-sm text-slate-600",children:c}):null]}),l.jsxs("div",{className:"w-full max-w-xs",children:[l.jsx(mt,{value:x,onChange:N=>b(N.target.value),placeholder:"Search settings","aria-label":"Search workspace settings"}),l.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Filter sections by name or description."})]})]})}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[l.jsx("nav",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft","aria-label":"Workspace settings sections",children:l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:['No sections match "',x,'".']}):w.map(N=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"px-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:N.label}),l.jsx("ul",{className:"space-y-1",children:N.items.map(j=>{const k=j.id===r,T=j.tone==="danger"?{active:"bg-danger-50 text-danger-700 ring-danger-100",idle:"hover:bg-danger-50/60 text-danger-700",badgeActive:"bg-danger-500 text-white",badgeIdle:"bg-danger-100 text-danger-700 group-hover:bg-danger-200"}:{active:"bg-brand-50 text-brand-700 ring-brand-100",idle:"hover:bg-slate-50 text-slate-700",badgeActive:"bg-brand-500 text-white",badgeIdle:"bg-slate-100 text-slate-500 group-hover:bg-slate-200"},C=fe("group flex w-full items-start gap-3 rounded-xl px-3 py-2.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2",k?T.active:T.idle,j.disabled&&"cursor-not-allowed opacity-50 ring-0 hover:bg-white");return j.disabled?l.jsx("li",{className:"w-full",children:l.jsx("div",{className:C,"aria-disabled":!0,children:l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]})})},j.id):l.jsx("li",{className:"w-full",children:l.jsxs(Hy,{to:j.href,className:C,children:[l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]}),l.jsx("span",{"aria-hidden":!0,className:fe("ml-auto inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] font-bold transition",k?T.badgeActive:T.badgeIdle),children:j.label.slice(0,1).toUpperCase()})]})},j.id)})})]},N.id))})}),l.jsx("div",{className:fe("space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",g==="danger"&&"border-danger-100 bg-danger-50/40"),children:d})]})]})}const Xy=p.createContext(null);function M4({value:e,children:n}){return l.jsx(Xy.Provider,{value:e,children:n})}function Jy(){const e=p.useContext(Xy);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function du({open:e,title:n,description:r,confirmLabel:i="Confirm",cancelLabel:c="Cancel",onConfirm:u,onCancel:d,isConfirming:m,children:g,confirmDisabled:x,tone:b="default"}){const y=p.useRef(null);if(p.useEffect(()=>{if(!e)return;const E=j=>{if(j.key==="Escape"&&d(),j.key==="Tab"){const k=y.current;if(!k)return;const T=Array.from(k.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(O=>!O.hasAttribute("disabled"));if(T.length===0)return;const C=T.indexOf(document.activeElement),R=j.shiftKey?C<=0?T.length-1:C-1:C===T.length-1?0:C+1;T[R]?.focus(),j.preventDefault()}};return window.addEventListener("keydown",E),y.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",E)},[d,e]),!e)return null;const w=b==="danger"?{badge:"bg-danger-100 text-danger-700",confirmVariant:"danger"}:{badge:"bg-brand-50 text-brand-700",confirmVariant:"primary"};return is.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:d,"aria-label":"Close dialog"}),l.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:l.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":n,className:"w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",ref:y,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:fe("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",w.badge),children:"Confirm"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),g?l.jsx("div",{className:"mt-4 space-y-3",children:g}):null,l.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[l.jsx(ke,{type:"button",variant:"ghost",onClick:d,disabled:m,children:c}),l.jsx(ke,{type:"button",variant:w.confirmVariant,onClick:u,isLoading:m,disabled:x||m,className:b==="danger"?"hover:bg-danger-600":void 0,children:i})]})]})})]}),document.body)}function fu({title:e,description:n,actions:r}){return l.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"text-sm text-slate-600",children:n}):null]}),r?l.jsx("div",{className:"flex items-center gap-2",children:r}):null]})}function D4(){const{workspace:e,hasPermission:n}=mr(),r=Zt(),i=dt(),[c,u]=p.useState(!1),[d,m]=p.useState(""),[g,x]=p.useState(null),b=nn({mutationFn:()=>RS(e.id),onSuccess:()=>{i.invalidateQueries({queryKey:Ht.all()}),r("/workspaces",{replace:!0})},onError:E=>{x(E instanceof Error?E.message:"Unable to delete workspace.")}}),y=n("workspace.delete")||n("workspace.settings.manage"),w=p.useMemo(()=>{const E=d.trim().toLowerCase();return E.length>0&&(E===e.slug.toLowerCase()||E===e.name.toLowerCase())},[d,e.name,e.slug]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(fu,{title:"Danger zone",description:"Delete this workspace when it is no longer needed."}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Permanently remove this workspace and all associated data. This action cannot be undone."})]}),l.jsx(ke,{type:"button",variant:"danger",onClick:()=>u(!0),disabled:!y||b.isPending,isLoading:b.isPending,children:"Delete workspace"})]}),y?null:l.jsx(nt,{tone:"warning",className:"mt-3",children:"You need additional permissions to delete this workspace."}),g?l.jsx(nt,{tone:"danger",className:"mt-3",children:g}):null,l.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50 p-4 text-sm text-amber-800",children:[l.jsx("p",{className:"font-semibold",children:"Looking for ADE safe mode?"}),l.jsx("p",{className:"mt-1",children:"Safe mode is a system-wide control. Manage it from the system settings area instead of workspace settings."})]}),l.jsxs(du,{open:c,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{u(!1),m(""),x(null)},onConfirm:()=>{w&&(x(null),b.mutate())},isConfirming:b.isPending,confirmDisabled:!w,children:[l.jsx(vt,{label:"Workspace slug",required:!0,children:l.jsx(mt,{value:d,onChange:E=>m(E.target.value),placeholder:e.slug,disabled:b.isPending})}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Enter ",l.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function ew({when:e,title:n="Discard unsaved changes?",description:r="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:i="Leave without saving",cancelLabel:c="Stay on page"}){const u=Zt(),[d,m]=p.useState(null),[g,x]=p.useState(!1),b=p.useRef(!1);p.useEffect(()=>{if(!e){x(!1),m(null);return}const E=N=>{N.preventDefault(),N.returnValue=""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[e]),Mb(E=>e?b.current?(b.current=!1,!0):(m(E),x(!0),!1):!0,e);const y=()=>{if(!d)return;b.current=!0;const E=d.kind==="replace"||d.kind==="pop";u(d.to,{replace:E}),x(!1),m(null),setTimeout(()=>{b.current=!1},0)},w=()=>{x(!1),m(null)};return l.jsx(du,{open:g&&e,title:n,description:r,confirmLabel:i,cancelLabel:c,tone:"danger",onConfirm:y,onCancel:w})}ew.displayName="UnsavedChangesPrompt";function z4({isDirty:e,isSaving:n,onCancel:r,onSave:i,saveLabel:c="Save changes",cancelLabel:u="Discard",children:d}){return!e&&!d?null:l.jsx("div",{className:"sticky bottom-0 left-0 right-0 mt-4 rounded-b-2xl border border-t bg-white/95 p-4 shadow-[0_-8px_20px_-12px_rgba(15,23,42,0.25)] backdrop-blur",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("div",{className:"text-sm text-slate-600",children:d}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?l.jsx(ke,{type:"button",variant:"ghost",onClick:r,disabled:n||!e,children:u}):null,l.jsx(ke,{type:"button",onClick:i,isLoading:n,disabled:!e||n,children:c})]})]})})}const R4=au({name:As().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:As().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function O4(){const{workspace:e}=mr(),n=PS(e.id),r=uv(),[i,c]=p.useState(null),{register:u,handleSubmit:d,formState:{errors:m,isDirty:g},reset:x}=Iv({resolver:Qv(R4),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const b=d(E=>{c(null),n.mutate({name:E.name.trim(),slug:E.slug.trim()},{onSuccess:()=>{c({tone:"success",message:"Workspace details saved."})},onError:N=>{const j=N instanceof Error?N.message:"Unable to save workspace details.";c({tone:"danger",message:j})}})}),y=e.is_default,w=r.isPending;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(ew,{when:g&&!n.isPending}),l.jsx(fu,{title:"General",description:"Manage the workspace identity and your default workspace preference."}),i?l.jsx(nt,{tone:i.tone,children:i.message}):null,l.jsxs("form",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-soft",onSubmit:b,noValidate:!0,children:[l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(vt,{label:"Workspace name",required:!0,error:m.name?.message,children:l.jsx(mt,{...u("name"),placeholder:"Finance Operations",invalid:!!m.name,disabled:n.isPending})}),l.jsx(vt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:m.slug?.message,children:l.jsx(mt,{...u("slug"),placeholder:"finance-ops",invalid:!!m.slug,disabled:n.isPending})})]}),n.isError?l.jsx(nt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null]}),l.jsx(z4,{isDirty:g,isSaving:n.isPending,onCancel:()=>{x(),c(null)},onSave:b,children:"Changes apply to everyone who can access this workspace."})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Default workspace"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose the workspace you land on first after signing in. This only affects your account."})]}),l.jsx(ke,{type:"button",variant:y?"secondary":"primary",onClick:()=>{c(null),r.mutate(e.id,{onSuccess:()=>c({tone:"success",message:"Workspace set as your default."}),onError:E=>{const N=E instanceof Error?E.message:"Unable to set the default workspace right now.";c({tone:"danger",message:N})}})},disabled:y||w,isLoading:w,children:y?"Default workspace":"Make default"})]}),l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:y?"This workspace is already your default.":"You can switch the default workspace at any time."})]})]})}function Wh({open:e,title:n,description:r,onClose:i,children:c,footer:u,widthClassName:d="w-full max-w-xl"}){const m=p.useRef(null);return p.useEffect(()=>{if(!e)return;const g=b=>{if(b.key==="Escape"&&i(),b.key==="Tab"){const y=m.current;if(!y)return;const w=Array.from(y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(j=>!j.hasAttribute("disabled"));if(w.length===0)return;const E=w.indexOf(document.activeElement),N=b.shiftKey?E<=0?w.length-1:E-1:E===w.length-1?0:E+1;w[N]?.focus(),b.preventDefault()}};return window.addEventListener("keydown",g),m.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",g)},[i,e]),e?is.createPortal(l.jsxs("div",{className:"fixed inset-0 z-40",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:i,"aria-label":"Close drawer"}),l.jsxs("div",{ref:m,role:"dialog","aria-modal":"true","aria-label":n,className:fe("absolute inset-y-0 right-0 flex h-full flex-col bg-white shadow-2xl transition",d),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Details"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),l.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-slate-200 bg-white p-2 text-slate-500 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2","aria-label":"Close drawer",children:l.jsx(L4,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:c}),u?l.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-5 py-4",children:u}):null]})]}),document.body):null}function L4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}const oh=Gl,hu={page:1,pageSize:oh,includeTotal:!0};function U4(e){const n=mh({queryKey:Ht.members(e,hu),initialPageParam:1,queryFn:({pageParam:u,signal:d})=>OS(e,{page:typeof u=="number"?u:1,pageSize:oh,includeTotal:u===1,signal:d}),getNextPageParam:u=>u.has_next?u.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:u=>u}),r=n.data?.pages??[],i=vh(r,u=>u.user_id),c=r[0]?.total??r[r.length-1]?.total??void 0;return{...n,members:i,total:c,pageSize:oh}}function B4(e){const n=dt(),r=Ht.members(e,hu);return nn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return LS(e,u)},onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function q4(e){const n=dt(),r=Ht.members(e,hu);return nn({mutationFn:({userId:i,roleIds:c})=>US(e,i,{role_ids:Array.from(c)}),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function $4(e){const n=dt(),r=Ht.members(e,hu);return nn({mutationFn:i=>BS(e,i),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}const Ph=Gl,F4=Gl,mu={page:1,pageSize:Ph,includeTotal:!0},H4={scope:"workspace",page:1,pageSize:F4,includeTotal:!1};function tw(e){return zn({queryKey:Ht.roles(e,mu),queryFn:({signal:n})=>rv(r=>qS({page:r,pageSize:Ph,includeTotal:r===1,signal:n})),enabled:e.length>0,staleTime:15e3,placeholderData:n=>n})}function Z4(e="workspace"){const n={...H4,scope:e};return zn({queryKey:Ht.permissions(n),queryFn:({signal:r})=>rv(i=>ZS({scope:e,page:i,pageSize:n.pageSize,includeTotal:i===1,signal:r})),staleTime:6e4,placeholderData:r=>r})}function V4(e){const n=dt(),r=Ht.roles(e,mu);return nn({mutationFn:i=>$S(e,i),onSuccess:i=>{n.setQueryData(r,c=>W4(c,i))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function I4(e){const n=dt(),r=Ht.roles(e,mu);return nn({mutationFn:({roleId:i,payload:c})=>FS(e,i,c),onSuccess:i=>{n.setQueryData(r,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function Q4(e){const n=dt(),r=Ht.roles(e,mu);return nn({mutationFn:i=>HS(e,i),onSuccess:(i,c)=>{n.setQueryData(r,u=>{if(!u)return u;const d=u.items.filter(m=>m.id!==c);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function W4(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total,has_next:!1,has_previous:!1}:{items:[n],page:1,page_size:Ph,has_next:!1,has_previous:!1,total:1}}const P4={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function K4(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],c=r[r.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function nw({name:e,email:n,size:r="md",className:i}){const c=p.useMemo(()=>K4(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:fe("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",P4[r],i),children:c})}function Y4(){const{workspace:e,hasPermission:n}=mr(),{params:r}=Jy(),i=Zt(),c=$n(),u=n("workspace.members.manage"),d=U4(e.id),m=tw(e.id),g=B4(e.id),x=q4(e.id),b=$4(e.id),[y,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>{const oe=d.members,_=new Intl.Collator("en",{sensitivity:"base"});return[...oe].sort((K,le)=>{const F=K.user?.display_name??K.user?.email??K.user_id,te=le.user?.display_name??le.user?.email??le.user_id;return _.compare(F??"",te??"")})},[d.members]),k=p.useMemo(()=>new Set(j.map(oe=>oe.user_id)),[j]),T=d.total??j.length,C=y.trim().toLowerCase(),R=p.useMemo(()=>C?j.filter(oe=>{const _=oe.user?.display_name??"",K=oe.user?.email??"";return _.toLowerCase().includes(C)||K.toLowerCase().includes(C)||oe.user_id.toLowerCase().includes(C)}):j,[j,C]),O=!!d.hasNextPage,L=d.isLoading,se=d.isFetchingNextPage,B=p.useMemo(()=>{const oe=new Intl.Collator("en",{sensitivity:"base"});return(m.data?.items??[]).slice().sort((_,K)=>oe.compare(_.name,K.name))},[m.data]),I=r[0],H=I==="new",Z=I&&I!=="new"?decodeURIComponent(I):null,P=j.find(oe=>oe.user_id===Z),U=`/workspaces/${e.id}/settings/access/members`,G=`${c.search}${c.hash}`,ce=()=>i(`${U}${G}`,{replace:!0}),we=()=>i(`${U}/new${G}`),A=oe=>i(`${U}/${encodeURIComponent(oe)}${G}`),z=async({user:oe,roleIds:_})=>{N(null),await g.mutateAsync({user:oe,roleIds:_}),N({tone:"success",message:`${oe.display_name??oe.email} added to the workspace.`}),ce()},ge=async(oe,_)=>{N(null),await x.mutateAsync({userId:oe,roleIds:_}),N({tone:"success",message:"Member roles updated."}),ce()},ye=async oe=>{N(null),await b.mutateAsync(oe.user_id),N({tone:"success",message:"Member removed."}),ce()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(fu,{title:"Members",description:"Invite teammates, adjust their workspace roles, or remove their access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," member",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace members."}):null,m.isError?l.jsx(nt,{tone:"warning",children:m.error instanceof Error?m.error.message:"Unable to load workspace roles."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace members"}),l.jsx("p",{className:"text-sm text-slate-500",children:L?"Loading members":`${T} member${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(vt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(mt,{value:y,onChange:oe=>w(oe.target.value),placeholder:"Search by name, email, or ID",disabled:L})}),u?l.jsx(ke,{type:"button",onClick:we,children:"Add member"}):null]})]}),L?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):R.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:y?`No members match "${y}".`:"No members yet. Add teammates to collaborate."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Member"}),l.jsx("th",{className:"px-4 py-3",children:"Roles"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:R.map(oe=>{const _=oe.role_ids.map(le=>B.find(F=>F.id===le)?.name??le).sort((le,F)=>le.localeCompare(F)),K=oe.user?.display_name??oe.user?.email??oe.user_id;return l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(nw,{name:oe.user?.display_name,email:oe.user?.email,size:"sm"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-semibold text-slate-900",children:K}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:oe.user?.email??oe.user_id})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:_.length===0?l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."}):_.map(le=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:le},`${oe.user_id}-${le}`))})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(oe.user_id),disabled:!u,children:"Manage"})})]},oe.user_id)})})]})}),O?l.jsx("div",{className:"pt-4",children:l.jsx(ke,{type:"button",variant:"ghost",onClick:()=>d.fetchNextPage(),disabled:se,children:se?"Loading more members":"Load more members"})}):null,u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),l.jsx(G4,{open:H&&u,onClose:ce,availableRoles:B,memberIds:k,isSubmitting:g.isPending,onInvite:z}),l.jsx(X4,{open:!!Z&&u,member:P,availableRoles:B,onClose:ce,onSaveRoles:oe=>ge(Z??"",oe),onRemove:()=>P?ye(P):Promise.resolve(),isSaving:x.isPending,isRemoving:b.isPending})]})}function G4({open:e,onClose:n,availableRoles:r,memberIds:i,isSubmitting:c,onInvite:u}){const[d,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(""),[w,E]=p.useState(""),[N,j]=p.useState(null);p.useEffect(()=>{const B=window.setTimeout(()=>E(b.trim()),250);return()=>window.clearTimeout(B)},[b]),p.useEffect(()=>{e||(m(""),x([]),y(""),j(null))},[e]);const k=Wv({enabled:e,search:w,pageSize:50}),T=p.useMemo(()=>{const B=new Intl.Collator("en",{sensitivity:"base"});return k.users.filter(I=>!i.has(I.id)).sort((I,H)=>{const Z=I.display_name??I.email,P=H.display_name??H.email;return B.compare(Z??"",P??"")})},[i,k.users]),C=p.useMemo(()=>T.find(B=>B.id===d),[T,d]),R=!!d&&g.length>0&&!c,O=b.trim().length>0&&b.trim().length<2,L=k.isPending&&k.users.length===0,se=async B=>{B.preventDefault(),j(null);const I=T.find(H=>H.id===d);if(!I){j("Select a user to add.");return}if(g.length===0){j("Select at least one role for this member.");return}try{await u({user:I,roleIds:g}),m(""),y(""),x([])}catch(H){const Z=H instanceof Error?H.message:"Unable to add member.";j(Z)}};return l.jsx(Wh,{open:e,onClose:n,title:"Add member",description:"Invite an existing teammate and choose their workspace roles.",children:l.jsxs("form",{className:"space-y-4",onSubmit:se,children:[N?l.jsx(nt,{tone:"danger",children:N}):null,k.isError?l.jsx(nt,{tone:"warning",children:k.error instanceof Error?k.error.message:"Unable to load the user directory."}):null,l.jsxs(vt,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[l.jsx(mt,{value:b,onChange:B=>y(B.target.value),placeholder:"Search users",disabled:c||L}),O?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null]}),l.jsxs(vt,{label:"User",required:!0,children:[l.jsxs(so,{value:d,onChange:B=>{m(B.target.value),B.target.value&&y("")},disabled:c||L,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),C&&!T.some(B=>B.id===C.id)?l.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email}):null,T.map(B=>l.jsx("option",{value:B.id,children:B.display_name?`${B.display_name} (${B.email})`:B.email},B.id))]}),T.length===0&&b?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',b,'".']}):null]}),l.jsxs("fieldset",{className:"space-y-2",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Assign at least one role to grant access."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):r.map(B=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(B.id),onChange:I=>x(H=>I.target.checked?[...H,B.id]:H.filter(Z=>Z!==B.id)),disabled:c}),l.jsx("span",{children:B.name})]},B.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]}),k.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ke,{type:"button",variant:"ghost",onClick:()=>k.fetchNextPage(),disabled:k.isFetchingNextPage,children:k.isFetchingNextPage?"Loading more users":"Load more users"})}):null,l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ke,{type:"button",variant:"ghost",onClick:n,disabled:c,children:"Cancel"}),l.jsx(ke,{type:"submit",isLoading:c,disabled:!R,children:"Add member"})]})]})})}function X4({open:e,member:n,availableRoles:r,onClose:i,onSaveRoles:c,onRemove:u,isSaving:d,isRemoving:m}){const[g,x]=p.useState([]),[b,y]=p.useState(null),[w,E]=p.useState(!1);p.useEffect(()=>{if(!e||!n){x([]),y(null),E(!1);return}x(n.role_ids),y(null),E(!1)},[n,e]);const N=async()=>{if(n){y(null);try{await c(g)}catch(T){const C=T instanceof Error?T.message:"Unable to save member roles.";y(C)}}},j=async()=>{if(n){y(null);try{await u()}catch(T){const C=T instanceof Error?T.message:"Unable to remove member.";y(C)}finally{E(!1)}}},k=n?n.user?.display_name??n.user?.email??n.user_id:"Member details";return l.jsxs(l.Fragment,{children:[l.jsxs(Wh,{open:e,onClose:i,title:k,description:n?"Update roles or remove this member from the workspace.":void 0,children:[n?l.jsxs("div",{className:"space-y-4",children:[b?l.jsx(nt,{tone:"danger",children:b}):null,l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx(nw,{name:n.user?.display_name,email:n.user?.email,size:"md"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:n.user?.display_name??n.user?.email??n.user_id}),l.jsx("p",{className:"text-sm text-slate-500",children:n.user?.email??"No email available"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["User ID: ",n.user_id]})]})]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Select the roles this member should have inside the workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available."}):r.map(T=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(T.id),onChange:C=>x(R=>C.target.checked?Array.from(new Set([...R,T.id])):R.filter(O=>O!==T.id)),disabled:d}),l.jsx("span",{children:T.name})]},T.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]})]}):l.jsx(nt,{tone:"warning",children:"This member could not be found."}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[l.jsx(ke,{type:"button",variant:"ghost",onClick:i,disabled:d||m,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsx(ke,{type:"button",variant:"danger",onClick:()=>E(!0),disabled:m,isLoading:m,children:"Remove"}):null,l.jsx(ke,{type:"button",onClick:N,isLoading:d,disabled:!n||d,children:"Save changes"})]})]})]}),l.jsx(du,{open:w,title:"Remove member?",description:n?`Remove ${n.user?.display_name??n.user?.email??n.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>E(!1),onConfirm:j,isConfirming:m})]})}function J4(){const{workspace:e,hasPermission:n}=mr(),{params:r}=Jy(),i=Zt(),c=$n(),u=n("workspace.roles.manage"),d=tw(e.id),m=Z4(),g=V4(e.id),x=I4(e.id),b=Q4(e.id),[y,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>(m.data?.items??[]).filter(A=>A.scope_type==="workspace"),[m.data]),k=p.useMemo(()=>{const A=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((z,ge)=>A.compare(z.name,ge.name))},[d.data]),T=d.data?.total??k.length,C=y.trim().toLowerCase(),R=p.useMemo(()=>C?k.filter(A=>`${A.name} ${A.slug??""}`.toLowerCase().includes(C)):k,[C,k]),O=r[0],L=O==="new",se=O&&O!=="new"?decodeURIComponent(O):null,B=k.find(A=>A.id===se),I=`/workspaces/${e.id}/settings/access/roles`,H=`${c.search}${c.hash}`,Z=()=>i(`${I}${H}`,{replace:!0}),P=()=>i(`${I}/new${H}`),U=A=>i(`${I}/${encodeURIComponent(A)}${H}`),G=async A=>{N(null),await g.mutateAsync({name:A.name.trim(),slug:A.slug.trim()||void 0,description:A.description.trim()||void 0,permissions:A.permissions}),N({tone:"success",message:"Role created."}),Z()},ce=async(A,z)=>{N(null),await x.mutateAsync({roleId:A,payload:{name:z.name.trim(),description:z.description.trim()||void 0,permissions:z.permissions}}),N({tone:"success",message:"Role updated."}),Z()},we=async A=>{N(null),await b.mutateAsync(A.id),N({tone:"success",message:`Deleted role "${A.name}".`}),Z()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(fu,{title:"Roles",description:"Workspace roles group permissions so you can safely delegate access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," role",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,m.isError?l.jsx(nt,{tone:"warning",children:m.error instanceof Error?m.error.message:"Unable to load permission catalog."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:d.isLoading?"Loading roles":`${T} role${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(vt,{label:"Search roles",className:"w-full max-w-xs",children:l.jsx(mt,{value:y,onChange:A=>w(A.target.value),placeholder:"Search by name or slug",disabled:d.isLoading})}),u?l.jsx(ke,{type:"button",onClick:P,children:"New role"}):null]})]}),d.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):R.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:y?`No roles match "${y}".`:"No workspace roles yet. Create one to tailor permissions."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Role"}),l.jsx("th",{className:"px-4 py-3",children:"Slug"}),l.jsx("th",{className:"px-4 py-3",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:R.map(A=>l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:A.name}),A.is_system?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"System"}):null,A.is_editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:A.slug}),l.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[A.permissions.length," permission",A.permissions.length===1?"":"s"]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(A.id),disabled:!u,children:"Manage"})})]},A.id))})]})}),u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),l.jsx(_b,{open:L&&u,mode:"create",permissions:j,onClose:Z,onSave:A=>G(A),isSaving:g.isPending,isDeleting:!1}),l.jsx(_b,{open:!!se&&u,mode:"edit",role:B,permissions:j,onClose:Z,onSave:A=>se?ce(se,A):Promise.resolve(),onDelete:B?()=>we(B):void 0,isSaving:x.isPending,isDeleting:b.isPending})]})}function _b({open:e,mode:n,role:r,permissions:i,onClose:c,onSave:u,onDelete:d,isSaving:m,isDeleting:g}){const[x,b]=p.useState({name:"",slug:"",description:"",permissions:[]}),[y,w]=p.useState(""),[E,N]=p.useState(null),[j,k]=p.useState(!1),[T,C]=p.useState("");p.useEffect(()=>{if(!e){N(null),w(""),k(!1),C("");return}b(n==="edit"&&r?{name:r.name,slug:r.slug,description:r.description??"",permissions:r.permissions}:{name:"",slug:"",description:"",permissions:[]})},[n,e,r]);const R=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,O=n==="create"||(r?.is_editable??!1),L=n==="edit"&&r&&r.is_editable&&!r.is_system&&d,se=p.useMemo(()=>{const U=y.trim().toLowerCase();return U?i.filter(G=>`${G.label} ${G.key}`.toLowerCase().includes(U)):i},[y,i]),B=(U,G)=>{b(ce=>({...ce,permissions:G?Array.from(new Set([...ce.permissions??[],U])):(ce.permissions??[]).filter(we=>we!==U)}))},I=async()=>{if(N(null),!x.name.trim()){N("Role name is required.");return}if(n==="create"&&x.slug&&!R.test(x.slug)){N("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await u({...x,name:x.name.trim(),slug:n==="create"?x.slug.trim():r?.slug??"",description:x.description.trim(),permissions:x.permissions})}catch(U){const G=U instanceof Error?U.message:"Unable to save role.";N(G)}},H=async()=>{if(!(!d||!r)){N(null);try{await d()}catch(U){const G=U instanceof Error?U.message:"Unable to delete role.";N(G)}finally{k(!1),C("")}}},Z=l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(ke,{type:"button",variant:"ghost",onClick:c,disabled:m||g,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[L?l.jsx(ke,{type:"button",variant:"danger",onClick:()=>k(!0),disabled:g,isLoading:g,children:"Delete"}):null,l.jsx(ke,{type:"button",onClick:I,isLoading:m,disabled:!O||m,children:n==="create"?"Create role":"Save changes"})]})]}),P=n==="create"?"New role":r?.name??"Role details";return l.jsxs(l.Fragment,{children:[l.jsxs(Wh,{open:e,onClose:c,title:P,description:n==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:Z,children:[E?l.jsx(nt,{tone:"danger",children:E}):null,n==="edit"&&r&&!r.is_editable?l.jsx(nt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,l.jsxs("div",{className:"space-y-4",children:[l.jsx(vt,{label:"Role name",required:!0,children:l.jsx(mt,{value:x.name,onChange:U=>b(G=>({...G,name:U.target.value})),placeholder:"Data reviewer",disabled:m||!O})}),n==="create"?l.jsx(vt,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:l.jsx(mt,{value:x.slug,onChange:U=>b(G=>({...G,slug:U.target.value})),placeholder:"data-reviewer",disabled:m||!O})}):l.jsx(vt,{label:"Role slug",children:l.jsx(mt,{value:r?.slug??"",disabled:!0})}),l.jsx(vt,{label:"Description",hint:"Optional context about what this role controls.",children:l.jsx(mt,{value:x.description,onChange:U=>b(G=>({...G,description:U.target.value})),placeholder:"What does this role control?",disabled:m||!O})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Select the permissions included with this role. ",x.permissions.length," selected."]})]}),l.jsx(mt,{value:y,onChange:U=>w(U.target.value),placeholder:"Filter permissions",disabled:m})]}),l.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-slate-200 p-3",children:se.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No permissions match this filter."}):se.map(U=>{const G=`permission-${U.key.replaceAll(".","-")}`;return l.jsxs("label",{htmlFor:G,"aria-label":U.label,className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{id:G,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:x.permissions.includes(U.key),onChange:ce=>B(U.key,ce.target.checked),disabled:m||!O}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:U.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:U.description})]})]},U.key)})})]})]})]}),l.jsx(du,{open:j&&!!r,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:T.trim()!==(r?.slug??""),onCancel:()=>{k(!1),C("")},onConfirm:H,isConfirming:g,children:l.jsx(vt,{label:"Type the role slug to confirm",required:!0,children:l.jsx(mt,{value:T,onChange:U=>C(U.target.value),placeholder:r?.slug??"role-slug",disabled:g})})})]})}const ez={workspace:"Workspace",access:"Access",lifecycle:"Lifecycle"},Pl=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:l.jsx(O4,{})},{id:"access.members",group:"access",label:"Members",description:"Invite teammates and manage access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:l.jsx(Y4,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:l.jsx(J4,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:l.jsx(D4,{})}],Ac=Pl[0];function tz(e){const n=e.join("/");return Pl.find(r=>n===r.path||n.startsWith(`${r.path}/`))}function nz(e,n){const r=Pl.map(i=>{const c=i.required?.view?i.required.view.some(d=>n(d)):!0,u=i.required?.edit?i.required.edit.some(d=>n(d)):!0;return{id:i.id,label:i.label,description:i.description,href:`/workspaces/${e}/settings/${i.path}`,disabled:!(c||u),tone:i.tone??"default"}});return Object.values(r.reduce((i,c)=>{const u=Pl.find(g=>g.id===c.id);if(!u)return i;const d=i[u.group],m=d?{...d,items:[...d.items,c]}:{id:u.group,label:ez[u.group],items:[c]};return i[u.group]=m,i},{}))}function sz({sectionSegments:e=[]}){const{workspace:n,hasPermission:r}=mr(),i=Zt(),c=$n(),{effectiveSegments:u,redirectTo:d}=p.useMemo(()=>rz(e,n.id,c.search,c.hash),[e,n.id,c.search,c.hash]),m=tz(u)??Ac;p.useEffect(()=>{d&&i(d,{replace:!0})},[d,i]);const g=p.useMemo(()=>{const j=m.path.split("/");return u.slice(j.length)},[m.path,u]),x=p.useMemo(()=>nz(n.id,r),[n.id,r]),y=x.flatMap(j=>j.items).find(j=>j.id===m.id),w=x.find(j=>j.items.some(k=>k.id===m.id))?.label,N=y?.disabled?l.jsx(ut,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):m.element;return l.jsx(A4,{workspaceName:n.name,navGroups:x,activeSectionId:m.id,activeSectionLabel:m.label,activeSectionDescription:m.description,activeGroupLabel:w??"Settings",children:l.jsx(M4,{value:{sectionId:m.id,params:g},children:N})})}function rz(e,n,r,i){const c={members:"access/members",roles:"access/roles",danger:"lifecycle/danger"},u=e.length>0?[...e]:Ac.path.split("/"),d=c[u[0]],m=d?[...d.split("/"),...u.slice(1)]:u,g=m.join("/"),x=d&&g?`/workspaces/${n}/settings/${g}${r}${i}`:void 0,b=e.length===0,y=Pl.some(E=>g===E.path||g.startsWith(`${E.path}/`))||d!==void 0,w=`/workspaces/${n}/settings/${Ac.path}${r}${i}`;return{effectiveSegments:y?m:Ac.path.split("/"),redirectTo:b||!y||d?x??w:null}}function az(){return l.jsx(Yc,{children:l.jsx(iz,{})})}function iz(){const e=$n(),n=Zt(),r=dt(),i=yh(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=cz(e.pathname),d=p.useMemo(()=>dz(c,u),[c,u]);return p.useEffect(()=>{i.data&&r.setQueryData(Ht.list(kc),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{d&&!u&&n(`/workspaces/${d.id}/${Qc.path}${e.search}${e.hash}`,{replace:!0})},[d,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!d||!u)&&u!==d.id){const m=fz(e.pathname,e.search,d.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[d,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{d&&dv(d.id)},[d]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(ut,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(ut,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):d?l.jsx(o_,{workspace:d,workspaces:c,children:l.jsx(lz,{workspace:d})}):null}function lz({workspace:e}){return l.jsx(uM,{children:l.jsx(hD,{workspaceId:e.id,children:l.jsx(oz,{workspace:e})})})}function oz({workspace:e}){const n=Ai(),r=Zt(),i=$n(),{session:c,windowState:u}=Fy(),d=Rv(),m=d.data?.enabled??!1,g=d.data?.detail??Mi,x=Uv(),b=p.useMemo(()=>Vy(e),[e]),[y,w]=p.useState(""),[E,N]=p.useState(!1),[j,k]=p.useState(!1),T=y.trim().toLowerCase(),C=!!(c&&u==="maximized"),R=p.useMemo(()=>b.map(V=>({id:V.id,label:V.label,description:`Jump to ${V.label}`,icon:l.jsx(V.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),O=p.useMemo(()=>Qs(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[L,se]=p.useState(()=>{const V=O.get();return typeof V=="boolean"?V:!1});p.useEffect(()=>{const V=O.get();se(typeof V=="boolean"?V:!1)},[O]),p.useEffect(()=>{O.set(L)},[L,O]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const V=()=>{window.innerWidth>=1024&&N(!1)};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),p.useEffect(()=>{if(typeof document>"u")return;const V=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=V||"",()=>{document.body.style.overflow=V}},[E]),p.useEffect(()=>{C&&N(!1)},[C]);const B=p.useCallback(()=>{if(!T)return;const V=b.find(X=>X.label.toLowerCase().includes(T))??b.find(X=>X.id.toLowerCase().includes(T));V&&r(V.href)},[T,b,r]),I=p.useCallback(V=>{const X=b.find($=>$.id===V.id);X&&(r(X.href),w(""))},[b,r]),H=p.useCallback(()=>N(!0),[]),Z=p.useCallback(()=>N(!1),[]),P=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:H,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(hz,{})})}),U=n.user.display_name||n.user.email||"Signed in",G=n.user.email??"",ce=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(zv,{displayName:U,email:G,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>k(!0)}]})}),we={value:y,onChange:w,onSubmit:B,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:R,onSelectSuggestion:I},A=uz(i.pathname,e.id),z=pz(e.id,A,i.search,i.hash),ge=z?.kind==="content"&&z.key.startsWith("documents"),ye=ge?new URLSearchParams(i.search).get("q")??"":"",oe=p.useCallback(V=>{if(!ge)return;const X=new URLSearchParams(i.search);V?X.set("q",V):X.delete("q");const $=X.toString();r(`${i.pathname}${$?`?${$}`:""}${i.hash}`,{replace:!0})},[ge,i.hash,i.pathname,i.search,r]),_=p.useCallback(V=>{oe(V)},[oe]),K=p.useCallback(()=>{oe("")},[oe]),F=(ge?{value:ye,onChange:oe,onSubmit:_,onClear:K,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??we;if(p.useEffect(()=>{z?.kind==="redirect"&&r(z.to,{replace:!0})},[z,r]),!z||z.kind==="redirect")return null;const te=z.fullHeight??!1;return l.jsxs(l.Fragment,{children:[l.jsx(Ov,{open:j,onClose:()=>k(!1)}),l.jsxs("div",{className:fe("flex min-w-0 bg-slate-50 text-slate-900",te?"h-screen overflow-hidden":"min-h-screen"),children:[C?null:l.jsx(kD,{workspace:e,items:b,collapsed:L,onToggleCollapse:()=>se(V=>!V),onGoToWorkspaces:()=>r("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[C?null:l.jsx(Dv,{brand:P,trailing:ce,search:F}),!C&&E?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:Z,"aria-label":"Close navigation"}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:Z,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(mz,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Iy,{items:b,onNavigate:Z,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:fe("relative flex-1 min-w-0",te?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:fe(te?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:fe("mb-4",te?"px-6 pt-4":""),children:l.jsx(nt,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:fe(te?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:z.element})]})})},`section-${z.key}`)]})]})]})}function cz(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function uz(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function dz(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function fz(e,n,r,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",d=u&&u!=="/"?u:`/${Qc.path}`;return`/workspaces/${r}${d}${n}`}function hz(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function mz(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function pz(e,n,r,i){const c=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Qc.path}${c}`};const[u,d,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(MD,{})};case Qc.path:case"documents":return d?{kind:"content",key:`documents:${d}`,element:l.jsx(w4,{params:{documentId:decodeURIComponent(d)}})}:{kind:"content",key:"documents",element:l.jsx(HD,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(j4,{})};case"config-builder":return d?m==="editor"?{kind:"content",key:`config-builder:${d}:editor`,element:l.jsx(gz,{configId:decodeURIComponent(d)}),fullHeight:!0}:{kind:"content",key:`config-builder:${d}`,element:l.jsx(k4,{params:{configId:decodeURIComponent(d)}})}:{kind:"content",key:"config-builder",element:l.jsx(E4,{})};case"settings":{const g=n.slice(1),x=g.length>0?g:[];return{kind:"content",key:`settings:${x.length>0?x.join(":"):"general"}`,element:l.jsx(sz,{sectionSegments:x})}}default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(ut,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function gz({configId:e}){return l.jsx(T4,{params:{configId:e}})}function xz(){const e=Zt(),n=dt();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await pS({signal:i.signal})}finally{r||(n.removeQueries({queryKey:Ms.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function bz(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(lh,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(lh,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function vz(){return l.jsx(nj,{children:l.jsx(Fj,{children:l.jsx(yz,{})})})}function yz(){const e=$n(),r=wz(e.pathname).split("/").filter(Boolean);if(r.length===0)return l.jsx(nE,{});const[i,c]=r;switch(i){case"login":return l.jsx(ik,{});case"logout":return l.jsx(xz,{});case"auth":if(c==="callback")return l.jsx(lk,{});break;case"setup":return l.jsx(ck,{});case"workspaces":return c?c==="new"?l.jsx(a_,{}):l.jsx(az,{}):l.jsx(Ck,{})}return l.jsx(bz,{})}function wz(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}tj.createRoot(document.getElementById("root")).render(l.jsx(bt.StrictMode,{children:l.jsx(vz,{})}));export{bt as W,fe as c,l as j,p as r};
