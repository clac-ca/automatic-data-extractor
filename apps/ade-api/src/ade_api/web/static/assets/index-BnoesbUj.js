function AO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function vb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cx={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function OO(){if(CC)return Nu;CC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:l}}return Nu.Fragment=t,Nu.jsx=n,Nu.jsxs=n,Nu}var jC;function TO(){return jC||(jC=1,Cx.exports=OO()),Cx.exports}var i=TO(),jx={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function zO(){if(EC)return ut;EC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function E(V,B,re){this.props=V,this.context=B,this.refs=j,this.updater=re||S}E.prototype.isReactComponent={},E.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function N(){}N.prototype=E.prototype;function _(V,B,re){this.props=V,this.context=B,this.refs=j,this.updater=re||S}var R=_.prototype=new N;R.constructor=_,C(R,E.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function D(){}var O={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function L(V,B,re){var Y=re.ref;return{$$typeof:e,type:V,key:B,ref:Y!==void 0?Y:null,props:re}}function T(V,B){return L(V.type,B,V.props)}function W(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function I(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return B[re]})}var F=/\/+/g;function U(V,B){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):B.toString(36)}function ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(B){V.status==="pending"&&(V.status="fulfilled",V.value=B)},function(B){V.status==="pending"&&(V.status="rejected",V.reason=B)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function P(V,B,re,Y,z){var G=typeof V;(G==="undefined"||G==="boolean")&&(V=null);var H=!1;if(V===null)H=!0;else switch(G){case"bigint":case"string":case"number":H=!0;break;case"object":switch(V.$$typeof){case e:case t:H=!0;break;case g:return H=V._init,P(H(V._payload),B,re,Y,z)}}if(H)return z=z(V),H=Y===""?"."+U(V,0):Y,M(z)?(re="",H!=null&&(re=H.replace(F,"$&/")+"/"),P(z,B,re,"",function(le){return le})):z!=null&&(W(z)&&(z=T(z,re+(z.key==null||V&&V.key===z.key?"":(""+z.key).replace(F,"$&/")+"/")+H)),B.push(z)),1;H=0;var ee=Y===""?".":Y+":";if(M(V))for(var oe=0;oe<V.length;oe++)Y=V[oe],G=ee+U(Y,oe),H+=P(Y,B,re,G,z);else if(oe=w(V),typeof oe=="function")for(V=oe.call(V),oe=0;!(Y=V.next()).done;)Y=Y.value,G=ee+U(Y,oe++),H+=P(Y,B,re,G,z);else if(G==="object"){if(typeof V.then=="function")return P(ae(V),B,re,Y,z);throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return H}function q(V,B,re){if(V==null)return V;var Y=[],z=0;return P(V,Y,"","",function(G){return B.call(re,G,z++)}),Y}function K(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var te=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ve={map:q,forEach:function(V,B,re){q(V,function(){B.apply(this,arguments)},re)},count:function(V){var B=0;return q(V,function(){B++}),B},toArray:function(V){return q(V,function(B){return B})||[]},only:function(V){if(!W(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ut.Activity=x,ut.Children=ve,ut.Component=E,ut.Fragment=n,ut.Profiler=o,ut.PureComponent=_,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ut.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},ut.cache=function(V){return function(){return V.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(V,B,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Y=C({},V.props),z=V.key;if(B!=null)for(G in B.key!==void 0&&(z=""+B.key),B)!A.call(B,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&B.ref===void 0||(Y[G]=B[G]);var G=arguments.length-2;if(G===1)Y.children=re;else if(1<G){for(var H=Array(G),ee=0;ee<G;ee++)H[ee]=arguments[ee+2];Y.children=H}return L(V.type,z,Y)},ut.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ut.createElement=function(V,B,re){var Y,z={},G=null;if(B!=null)for(Y in B.key!==void 0&&(G=""+B.key),B)A.call(B,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(z[Y]=B[Y]);var H=arguments.length-2;if(H===1)z.children=re;else if(1<H){for(var ee=Array(H),oe=0;oe<H;oe++)ee[oe]=arguments[oe+2];z.children=ee}if(V&&V.defaultProps)for(Y in H=V.defaultProps,H)z[Y]===void 0&&(z[Y]=H[Y]);return L(V,G,z)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(V){return{$$typeof:d,render:V}},ut.isValidElement=W,ut.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:K}},ut.memo=function(V,B){return{$$typeof:p,type:V,compare:B===void 0?null:B}},ut.startTransition=function(V){var B=O.T,re={};O.T=re;try{var Y=V(),z=O.S;z!==null&&z(re,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(D,te)}catch(G){te(G)}finally{B!==null&&re.types!==null&&(B.types=re.types),O.T=B}},ut.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ut.use=function(V){return O.H.use(V)},ut.useActionState=function(V,B,re){return O.H.useActionState(V,B,re)},ut.useCallback=function(V,B){return O.H.useCallback(V,B)},ut.useContext=function(V){return O.H.useContext(V)},ut.useDebugValue=function(){},ut.useDeferredValue=function(V,B){return O.H.useDeferredValue(V,B)},ut.useEffect=function(V,B){return O.H.useEffect(V,B)},ut.useEffectEvent=function(V){return O.H.useEffectEvent(V)},ut.useId=function(){return O.H.useId()},ut.useImperativeHandle=function(V,B,re){return O.H.useImperativeHandle(V,B,re)},ut.useInsertionEffect=function(V,B){return O.H.useInsertionEffect(V,B)},ut.useLayoutEffect=function(V,B){return O.H.useLayoutEffect(V,B)},ut.useMemo=function(V,B){return O.H.useMemo(V,B)},ut.useOptimistic=function(V,B){return O.H.useOptimistic(V,B)},ut.useReducer=function(V,B,re){return O.H.useReducer(V,B,re)},ut.useRef=function(V){return O.H.useRef(V)},ut.useState=function(V){return O.H.useState(V)},ut.useSyncExternalStore=function(V,B,re){return O.H.useSyncExternalStore(V,B,re)},ut.useTransition=function(){return O.H.useTransition()},ut.version="19.2.0",ut}var NC;function bb(){return NC||(NC=1,jx.exports=zO()),jx.exports}var m=bb();const _e=vb(m),yb=AO({__proto__:null,default:_e},[m]);var Ex={exports:{}},_u={},Nx={exports:{}},_x={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function PO(){return _C||(_C=1,(function(e){function t(P,q){var K=P.length;P.push(q);e:for(;0<K;){var te=K-1>>>1,ve=P[te];if(0<o(ve,q))P[te]=q,P[K]=ve,K=te;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],K=P.pop();if(K!==q){P[0]=K;e:for(var te=0,ve=P.length,V=ve>>>1;te<V;){var B=2*(te+1)-1,re=P[B],Y=B+1,z=P[Y];if(0>o(re,K))Y<ve&&0>o(z,re)?(P[te]=z,P[Y]=K,te=Y):(P[te]=re,P[B]=K,te=B);else if(Y<ve&&0>o(z,K))P[te]=z,P[Y]=K,te=Y;else break e}}return q}function o(P,q){var K=P.sortIndex-q.sortIndex;return K!==0?K:P.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,x=null,b=3,w=!1,S=!1,C=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function R(P){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=P)r(p),q.sortIndex=q.expirationTime,t(f,q);else break;q=n(p)}}function M(P){if(C=!1,R(P),!S)if(n(f)!==null)S=!0,D||(D=!0,I());else{var q=n(p);q!==null&&ae(M,q.startTime-P)}}var D=!1,O=-1,A=5,L=-1;function T(){return j?!0:!(e.unstable_now()-L<A)}function W(){if(j=!1,D){var P=e.unstable_now();L=P;var q=!0;try{e:{S=!1,C&&(C=!1,N(O),O=-1),w=!0;var K=b;try{t:{for(R(P),x=n(f);x!==null&&!(x.expirationTime>P&&T());){var te=x.callback;if(typeof te=="function"){x.callback=null,b=x.priorityLevel;var ve=te(x.expirationTime<=P);if(P=e.unstable_now(),typeof ve=="function"){x.callback=ve,R(P),q=!0;break t}x===n(f)&&r(f),R(P)}else r(f);x=n(f)}if(x!==null)q=!0;else{var V=n(p);V!==null&&ae(M,V.startTime-P),q=!1}}break e}finally{x=null,b=K,w=!1}q=void 0}}finally{q?I():D=!1}}}var I;if(typeof _=="function")I=function(){_(W)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=W,I=function(){U.postMessage(null)}}else I=function(){E(W,0)};function ae(P,q){O=E(function(){P(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var K=b;b=q;try{return P()}finally{b=K}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=b;b=P;try{return q()}finally{b=K}},e.unstable_scheduleCallback=function(P,q,K){var te=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,P){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=K+ve,P={id:g++,callback:q,priorityLevel:P,startTime:K,expirationTime:ve,sortIndex:-1},K>te?(P.sortIndex=K,t(p,P),n(f)===null&&P===n(p)&&(C?(N(O),O=-1):C=!0,ae(M,K-te))):(P.sortIndex=ve,t(f,P),S||w||(S=!0,D||(D=!0,I()))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var q=b;return function(){var K=b;b=q;try{return P.apply(this,arguments)}finally{b=K}}}})(_x)),_x}var kC;function IO(){return kC||(kC=1,Nx.exports=PO()),Nx.exports}var kx={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function LO(){if(RC)return cr;RC=1;var e=bb();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:f,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},cr.flushSync=function(f){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=g,r.d.f()}},cr.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},cr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cr.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cr.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},cr.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cr.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},cr.requestFormReset=function(f){r.d.r(f)},cr.unstable_batchedUpdates=function(f,p){return f(p)},cr.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},cr.useFormStatus=function(){return c.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var MC;function KE(){if(MC)return kx.exports;MC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kx.exports=LO(),kx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function $O(){if(DC)return _u;DC=1;var e=IO(),t=bb(),n=KE();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(r(188))}function p(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,h=a;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return f(v),s;if(y===h)return f(v),a;y=y.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=y;else{for(var k=!1,$=v.child;$;){if($===u){k=!0,u=v,h=y;break}if($===h){k=!0,h=v,u=y;break}$=$.sibling}if(!k){for($=y.child;$;){if($===u){k=!0,u=y,h=v;break}if($===h){k=!0,h=y,u=v;break}$=$.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function U(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case _:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case R:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:U(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return U(s(a))}catch{}}return null}var ae=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},te=[],ve=-1;function V(s){return{current:s}}function B(s){0>ve||(s.current=te[ve],te[ve]=null,ve--)}function re(s,a){ve++,te[ve]=s.current,s.current=a}var Y=V(null),z=V(null),G=V(null),H=V(null);function ee(s,a){switch(re(G,a),re(z,s),re(Y,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?WS(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=WS(a),s=GS(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(Y),re(Y,s)}function oe(){B(Y),B(z),B(G)}function le(s){s.memoizedState!==null&&re(H,s);var a=Y.current,u=GS(a,s.type);a!==u&&(re(z,s),re(Y,u))}function de(s){z.current===s&&(B(Y),B(z)),H.current===s&&(B(H),Su._currentValue=K)}var Ee,Oe;function Pe(s){if(Ee===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Ee=a&&a[1]||"",Oe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+s+Oe}var ot=!1;function xt(s,a){if(!s||ot)return"";ot=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(be){var pe=be}Reflect.construct(s,[],Ne)}else{try{Ne.call()}catch(be){pe=be}s.call(Ne.prototype)}}else{try{throw Error()}catch(be){pe=be}(Ne=s())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(be){if(be&&pe&&typeof be.stack=="string")return[be.stack,pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),k=y[0],$=y[1];if(k&&$){var X=k.split(`
`),he=$.split(`
`);for(v=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(h===X.length||v===he.length)for(h=X.length-1,v=he.length-1;1<=h&&0<=v&&X[h]!==he[v];)v--;for(;1<=h&&0<=v;h--,v--)if(X[h]!==he[v]){if(h!==1||v!==1)do if(h--,v--,0>v||X[h]!==he[v]){var Se=`
`+X[h].replace(" at new "," at ");return s.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",s.displayName)),Se}while(1<=h&&0<=v);break}}}finally{ot=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Pe(u):""}function ct(s,a){switch(s.tag){case 26:case 27:case 5:return Pe(s.type);case 16:return Pe("Lazy");case 13:return s.child!==a&&a!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return xt(s.type,!1);case 11:return xt(s.type.render,!1);case 1:return xt(s.type,!0);case 31:return Pe("Activity");default:return""}}function sn(s){try{var a="",u=null;do a+=ct(s,u),u=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var _t=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,ue=e.unstable_shouldYield,De=e.unstable_requestPaint,je=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,Me=e.unstable_ImmediatePriority,ye=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,we=e.unstable_LowPriority,Te=e.unstable_IdlePriority,$e=e.log,at=e.unstable_setDisableYieldValue,ft=null,Ot=null;function Tt(s){if(typeof $e=="function"&&at(s),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(ft,s)}catch{}}var Lt=Math.clz32?Math.clz32:ce,cn=Math.log,gr=Math.LN2;function ce(s){return s>>>=0,s===0?32:31-(cn(s)/gr|0)|0}var Ae=256,Ie=262144,Fe=4194304;function it(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function We(s,a,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,y=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var $=h&134217727;return $!==0?(h=$&~y,h!==0?v=it(h):(k&=$,k!==0?v=it(k):u||(u=$&~s,u!==0&&(v=it(u))))):($=h&~y,$!==0?v=it($):k!==0?v=it(k):u||(u=h&~s,u!==0&&(v=it(u)))),v===0?0:a!==0&&a!==v&&(a&y)===0&&(y=v&-v,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:v}function pn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Sn(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var s=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),s}function gn(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Rn(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function jn(s,a,u,h,v,y){var k=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var $=s.entanglements,X=s.expirationTimes,he=s.hiddenUpdates;for(u=k&~u;0<u;){var Se=31-Lt(u),Ne=1<<Se;$[Se]=0,X[Se]=-1;var pe=he[Se];if(pe!==null)for(he[Se]=null,Se=0;Se<pe.length;Se++){var be=pe[Se];be!==null&&(be.lane&=-536870913)}u&=~Ne}h!==0&&jr(s,h,0),y!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=y&~(k&~a))}function jr(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Lt(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function xr(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-Lt(u),v=1<<h;v&a|s[h]&a&&(s[h]|=a),u&=~v}}function lr(s,a){var u=a&-a;return u=(u&42)!==0?1:Ss(u),(u&(s.suspendedLanes|a))!==0?0:u}function Ss(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function es(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Er(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:gC(s.type))}function Cs(s,a){var u=q.p;try{return q.p=s,a()}finally{q.p=u}}var tr=Math.random().toString(36).slice(2),Mn="__reactFiber$"+tr,nr="__reactProps$"+tr,Zo="__reactContainer$"+tr,si="__reactEvents$"+tr,hp="__reactListeners$"+tr,Fd="__reactHandles$"+tr,zt="__reactResources$"+tr,Ws="__reactMarker$"+tr;function ts(s){delete s[Mn],delete s[nr],delete s[si],delete s[hp],delete s[Fd]}function go(s){var a=s[Mn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Zo]||u[Mn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=eC(s);s!==null;){if(u=s[Mn])return u;s=eC(s)}return a}s=u,u=s.parentNode}return null}function ns(s){if(s=s[Mn]||s[Zo]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function rs(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Qo(s){var a=s[zt];return a||(a=s[zt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xn(s){s[Ws]=!0}var Ud=new Set,ol={};function ss(s,a){xo(s,a),xo(s+"Capture",a)}function xo(s,a){for(ol[s]=a,s=0;s<a.length;s++)Ud.add(a[s])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Fn={};function Oc(s){return _t.call(Fn,s)?!0:_t.call(Xo,s)?!1:un.test(s)?Fn[s]=!0:(Xo[s]=!0,!1)}function Jo(s,a,u){if(Oc(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function ea(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function pt(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}function rr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yn(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bd(s,a,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,y.call(this,k)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function oi(s){if(!s._valueTracker){var a=Yn(s)?"checked":"value";s._valueTracker=Bd(s,a,""+s[a])}}function Vd(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=Yn(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function ta(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ai=/[\n"\\]/g;function Nr(s){return s.replace(ai,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function os(s,a,u,h,v,y,k,$){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),a!=null?k==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+rr(a)):s.value!==""+rr(a)&&(s.value=""+rr(a)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),a!=null?Tc(s,k,rr(a)):u!=null?Tc(s,k,rr(u)):h!=null&&s.removeAttribute("value"),v==null&&y!=null&&(s.defaultChecked=!!y),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+rr($):s.removeAttribute("name")}function vo(s,a,u,h,v,y,k,$){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){oi(s);return}u=u!=null?""+rr(u):"",a=a!=null?""+rr(a):u,$||a===s.value||(s.value=a),s.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=$?s.checked:!!h,s.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),oi(s)}function Tc(s,a,u){a==="number"&&ta(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function bo(s,a,u,h){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&h&&(s[u].defaultSelected=!0)}else{for(u=""+rr(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Hd(s,a,u){if(a!=null&&(a=""+rr(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+rr(u):""}function tt(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(ae(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=rr(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),oi(s)}function na(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ii(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||ra.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function qd(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&u[v]!==h&&ii(s,v,h)}else for(var y in a)a.hasOwnProperty(y)&&ii(s,y,a[y])}function zc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(s){return yo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Kn(){}var Gs=null;function sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var js=null,oa=null;function il(s){var a=ns(s);if(a&&(s=a.stateNode)){var u=s[nr]||null;e:switch(s=a.stateNode,a.type){case"input":if(os(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var v=h[nr]||null;if(!v)throw Error(r(90));os(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&Vd(h)}break e;case"textarea":Hd(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&bo(s,!!u.multiple,a,!1)}}}var Pc=!1;function wo(s,a,u){if(Pc)return s(a,u);Pc=!0;try{var h=s(a);return h}finally{if(Pc=!1,(js!==null||oa!==null)&&(Pf(),js&&(a=js,s=oa,oa=js=null,il(a),s)))for(a=0;a<s.length;a++)il(s[a])}}function dn(s,a){var u=s.stateNode;if(u===null)return null;var h=u[nr]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Es)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ys=!1}var is=null,ll=null,_r=null;function Ks(){if(_r)return _r;var s,a=ll,u=a.length,h,v="value"in is?is.value:is.textContent,y=v.length;for(s=0;s<u&&a[s]===v[s];s++);var k=u-s;for(h=1;h<=k&&a[u-h]===v[y-h];h++);return _r=v.slice(s,1<h?1-h:void 0)}function aa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function li(){return!0}function ci(){return!1}function tn(s){function a(u,h,v,y,k){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(u=s[$],this[$]=u?u(y):y[$]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?li:ci,this.isPropagationStopped=ci,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),a}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=tn(ia),ui=x({},ia,{view:0,detail:0}),Lc=tn(ui),cl,ul,di,So=x({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==di&&(di&&s.type==="mousemove"?(cl=s.screenX-di.screenX,ul=s.screenY-di.screenY):ul=cl=0,di=s),cl)},movementY:function(s){return"movementY"in s?s.movementY:ul}}),Wd=tn(So),pp=x({},So,{dataTransfer:0}),Gd=tn(pp),dl=x({},ui,{relatedTarget:0}),$c=tn(dl),gp=x({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=tn(gp),fl=x({},ia,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ns=tn(fl),Fc=x({},ia,{data:0}),ml=tn(Fc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},la={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=fi[s])?!!a[s]:!1}function Bc(){return vp}var bp=x({},ui,{key:function(s){if(s.key){var a=Uc[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=aa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?la[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(s){return s.type==="keypress"?aa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?aa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),yp=tn(bp),_s=x({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=tn(_s),wp=x({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Sp=tn(wp),Cp=x({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),jp=tn(Cp),hl=x({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=tn(hl),Np=x({},ia,{newState:0,oldState:0}),_p=tn(Np),kp=[9,13,27,32],Vc=Es&&"CompositionEvent"in window,ca=null;Es&&"documentMode"in document&&(ca=document.documentMode);var Rp=Es&&"TextEvent"in window&&!ca,Kd=Es&&(!Vc||ca&&8<ca&&11>=ca),Zd=" ",Qd=!1;function Xd(s,a){switch(s){case"keyup":return kp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ua=!1;function Mp(s,a){switch(s){case"compositionend":return Jd(a);case"keypress":return a.which!==32?null:(Qd=!0,Zd);case"textInput":return s=a.data,s===Zd&&Qd?null:s;default:return null}}function Dp(s,a){if(ua)return s==="compositionend"||!Vc&&Xd(s,a)?(s=Ks(),_r=ll=is=null,ua=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kd&&a.locale!=="ko"?null:a.data;default:return null}}var Hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Hc[s.type]:a==="textarea"}function xe(s,a,u,h){js?oa?oa.push(h):oa=[h]:js=h,a=Vf(a,"onChange"),0<a.length&&(u=new Ic("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var Ue=null,Le=null;function et(s){FS(s,0)}function bt(s){var a=rs(s);if(Vd(a))return s}function yt(s,a){if(s==="change")return a}var fn=!1;if(Es){var Co;if(Es){var Un="oninput"in document;if(!Un){var Jt=document.createElement("div");Jt.setAttribute("oninput","return;"),Un=typeof Jt.oninput=="function"}Co=Un}else Co=!1;fn=Co&&(!document.documentMode||9<document.documentMode)}function Zt(){Ue&&(Ue.detachEvent("onpropertychange",ks),Le=Ue=null)}function ks(s){if(s.propertyName==="value"&&bt(Le)){var a=[];xe(a,Le,s,sa(s)),wo(et,a)}}function mi(s,a,u){s==="focusin"?(Zt(),Ue=a,Le=u,Ue.attachEvent("onpropertychange",ks)):s==="focusout"&&Zt()}function ef(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bt(Le)}function qc(s,a){if(s==="click")return bt(a)}function cA(s,a){if(s==="input"||s==="change")return bt(a)}function uA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var zr=typeof Object.is=="function"?Object.is:uA;function Wc(s,a){if(zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!_t.call(a,v)||!zr(s[v],a[v]))return!1}return!0}function uw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dw(s,a){var u=uw(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=uw(u)}}function fw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?fw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function mw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ta(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ta(s.document)}return a}function Ap(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var dA=Es&&"documentMode"in document&&11>=document.documentMode,pl=null,Op=null,Gc=null,Tp=!1;function hw(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tp||pl==null||pl!==ta(h)||(h=pl,"selectionStart"in h&&Ap(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gc&&Wc(Gc,h)||(Gc=h,h=Vf(Op,"onSelect"),0<h.length&&(a=new Ic("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=pl)))}function hi(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var gl={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},zp={},pw={};Es&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function pi(s){if(zp[s])return zp[s];if(!gl[s])return s;var a=gl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in pw)return zp[s]=a[u];return s}var gw=pi("animationend"),xw=pi("animationiteration"),vw=pi("animationstart"),fA=pi("transitionrun"),mA=pi("transitionstart"),hA=pi("transitioncancel"),bw=pi("transitionend"),yw=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pp.push("scrollEnd");function Rs(s,a){yw.set(s,a),ss(a,[s])}var tf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ls=[],xl=0,Ip=0;function nf(){for(var s=xl,a=Ip=xl=0;a<s;){var u=ls[a];ls[a++]=null;var h=ls[a];ls[a++]=null;var v=ls[a];ls[a++]=null;var y=ls[a];if(ls[a++]=null,h!==null&&v!==null){var k=h.pending;k===null?v.next=v:(v.next=k.next,k.next=v),h.pending=v}y!==0&&ww(u,v,y)}}function rf(s,a,u,h){ls[xl++]=s,ls[xl++]=a,ls[xl++]=u,ls[xl++]=h,Ip|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Lp(s,a,u,h){return rf(s,a,u,h),sf(s)}function gi(s,a){return rf(s,null,null,a),sf(s)}function ww(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var v=!1,y=s.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(v=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,v&&a!==null&&(v=31-Lt(u),s=y.hiddenUpdates,h=s[v],h===null?s[v]=[a]:h.push(a),a.lane=u|536870912),y):null}function sf(s){if(50<pu)throw pu=0,Gg=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var vl={};function pA(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(s,a,u,h){return new pA(s,a,u,h)}function $p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jo(s,a){var u=s.alternate;return u===null?(u=Pr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Sw(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function of(s,a,u,h,v,y){var k=0;if(h=s,typeof s=="function")$p(s)&&(k=1);else if(typeof s=="string")k=yO(s,u,Y.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Pr(31,u,a,v),s.elementType=L,s.lanes=y,s;case C:return xi(u.children,v,y,a);case j:k=8,v|=24;break;case E:return s=Pr(12,u,a,v|2),s.elementType=E,s.lanes=y,s;case M:return s=Pr(13,u,a,v),s.elementType=M,s.lanes=y,s;case D:return s=Pr(19,u,a,v),s.elementType=D,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:k=10;break e;case N:k=9;break e;case R:k=11;break e;case O:k=14;break e;case A:k=16,h=null;break e}k=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return a=Pr(k,u,a,v),a.elementType=s,a.type=h,a.lanes=y,a}function xi(s,a,u,h){return s=Pr(7,s,h,a),s.lanes=u,s}function Fp(s,a,u){return s=Pr(6,s,null,a),s.lanes=u,s}function Cw(s){var a=Pr(18,null,null,0);return a.stateNode=s,a}function Up(s,a,u){return a=Pr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var jw=new WeakMap;function cs(s,a){if(typeof s=="object"&&s!==null){var u=jw.get(s);return u!==void 0?u:(a={value:s,source:a,stack:sn(a)},jw.set(s,a),a)}return{value:s,source:a,stack:sn(a)}}var bl=[],yl=0,af=null,Yc=0,us=[],ds=0,da=null,Zs=1,Qs="";function Eo(s,a){bl[yl++]=Yc,bl[yl++]=af,af=s,Yc=a}function Ew(s,a,u){us[ds++]=Zs,us[ds++]=Qs,us[ds++]=da,da=s;var h=Zs;s=Qs;var v=32-Lt(h)-1;h&=~(1<<v),u+=1;var y=32-Lt(a)+v;if(30<y){var k=v-v%5;y=(h&(1<<k)-1).toString(32),h>>=k,v-=k,Zs=1<<32-Lt(a)+v|u<<v|h,Qs=y+s}else Zs=1<<y|u<<v|h,Qs=s}function Bp(s){s.return!==null&&(Eo(s,1),Ew(s,1,0))}function Vp(s){for(;s===af;)af=bl[--yl],bl[yl]=null,Yc=bl[--yl],bl[yl]=null;for(;s===da;)da=us[--ds],us[ds]=null,Qs=us[--ds],us[ds]=null,Zs=us[--ds],us[ds]=null}function Nw(s,a){us[ds++]=Zs,us[ds++]=Qs,us[ds++]=da,Zs=a.id,Qs=a.overflow,da=s}var sr=null,nn=null,Et=!1,fa=null,fs=!1,Hp=Error(r(519));function ma(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kc(cs(a,s)),Hp}function _w(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[Mn]=s,a[nr]=h,u){case"dialog":St("cancel",a),St("close",a);break;case"iframe":case"object":case"embed":St("load",a);break;case"video":case"audio":for(u=0;u<xu.length;u++)St(xu[u],a);break;case"source":St("error",a);break;case"img":case"image":case"link":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"input":St("invalid",a),vo(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":St("invalid",a);break;case"textarea":St("invalid",a),tt(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||HS(a.textContent,u)?(h.popover!=null&&(St("beforetoggle",a),St("toggle",a)),h.onScroll!=null&&St("scroll",a),h.onScrollEnd!=null&&St("scrollend",a),h.onClick!=null&&(a.onclick=Kn),a=!0):a=!1,a||ma(s,!0)}function kw(s){for(sr=s.return;sr;)switch(sr.tag){case 5:case 31:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:sr=sr.return}}function wl(s){if(s!==sr)return!1;if(!Et)return kw(s),Et=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||lx(s.type,s.memoizedProps)),u=!u),u&&nn&&ma(s),kw(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));nn=JS(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));nn=JS(s)}else a===27?(a=nn,_a(s.type)?(s=mx,mx=null,nn=s):nn=a):nn=sr?hs(s.stateNode.nextSibling):null;return!0}function vi(){nn=sr=null,Et=!1}function qp(){var s=fa;return s!==null&&(Dr===null?Dr=s:Dr.push.apply(Dr,s),fa=null),s}function Kc(s){fa===null?fa=[s]:fa.push(s)}var Wp=V(null),bi=null,No=null;function ha(s,a,u){re(Wp,a._currentValue),a._currentValue=u}function _o(s){s._currentValue=Wp.current,B(Wp)}function Gp(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Yp(s,a,u,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var y=v.dependencies;if(y!==null){var k=v.child;y=y.firstContext;e:for(;y!==null;){var $=y;y=v;for(var X=0;X<a.length;X++)if($.context===a[X]){y.lanes|=u,$=y.alternate,$!==null&&($.lanes|=u),Gp(y.return,u,s),h||(k=null);break e}y=$.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=u,y=k.alternate,y!==null&&(y.lanes|=u),Gp(k,u,s),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===s){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function Sl(s,a,u,h){s=null;for(var v=a,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var $=v.type;zr(v.pendingProps.value,k.value)||(s!==null?s.push($):s=[$])}}else if(v===H.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Su):s=[Su])}v=v.return}s!==null&&Yp(a,s,u,h),a.flags|=262144}function lf(s){for(s=s.firstContext;s!==null;){if(!zr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yi(s){bi=s,No=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function or(s){return Rw(bi,s)}function cf(s,a){return bi===null&&yi(s),Rw(s,a)}function Rw(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},No===null){if(s===null)throw Error(r(308));No=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else No=No.next=a;return u}var gA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},xA=e.unstable_scheduleCallback,vA=e.unstable_NormalPriority,Dn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kp(){return{controller:new gA,data:new Map,refCount:0}}function Zc(s){s.refCount--,s.refCount===0&&xA(vA,function(){s.controller.abort()})}var Qc=null,Zp=0,Cl=0,jl=null;function bA(s,a){if(Qc===null){var u=Qc=[];Zp=0,Cl=Jg(),jl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Zp++,a.then(Mw,Mw),a}function Mw(){if(--Zp===0&&Qc!==null){jl!==null&&(jl.status="fulfilled");var s=Qc;Qc=null,Cl=0,jl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function yA(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var Dw=P.S;P.S=function(s,a){hS=je(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&bA(s,a),Dw!==null&&Dw(s,a)};var wi=V(null);function Qp(){var s=wi.current;return s!==null?s:Qt.pooledCache}function uf(s,a){a===null?re(wi,wi.current):re(wi,a.pool)}function Aw(){var s=Qp();return s===null?null:{parent:Dn._currentValue,pool:s}}var El=Error(r(460)),Xp=Error(r(474)),df=Error(r(542)),ff={then:function(){}};function Ow(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Tw(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Kn,Kn),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Pw(s),s;default:if(typeof a.status=="string")a.then(Kn,Kn);else{if(s=Qt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Pw(s),s}throw Ci=a,El}}function Si(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ci=u,El):u}}var Ci=null;function zw(){if(Ci===null)throw Error(r(459));var s=Ci;return Ci=null,s}function Pw(s){if(s===El||s===df)throw Error(r(483))}var Nl=null,Xc=0;function mf(s){var a=Xc;return Xc+=1,Nl===null&&(Nl=[]),Tw(Nl,s,a)}function Jc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function hf(s,a){throw a.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iw(s){function a(ie,se){if(s){var me=ie.deletions;me===null?(ie.deletions=[se],ie.flags|=16):me.push(se)}}function u(ie,se){if(!s)return null;for(;se!==null;)a(ie,se),se=se.sibling;return null}function h(ie){for(var se=new Map;ie!==null;)ie.key!==null?se.set(ie.key,ie):se.set(ie.index,ie),ie=ie.sibling;return se}function v(ie,se){return ie=jo(ie,se),ie.index=0,ie.sibling=null,ie}function y(ie,se,me){return ie.index=me,s?(me=ie.alternate,me!==null?(me=me.index,me<se?(ie.flags|=67108866,se):me):(ie.flags|=67108866,se)):(ie.flags|=1048576,se)}function k(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function $(ie,se,me,Ce){return se===null||se.tag!==6?(se=Fp(me,ie.mode,Ce),se.return=ie,se):(se=v(se,me),se.return=ie,se)}function X(ie,se,me,Ce){var Je=me.type;return Je===C?Se(ie,se,me.props.children,Ce,me.key):se!==null&&(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&Si(Je)===se.type)?(se=v(se,me.props),Jc(se,me),se.return=ie,se):(se=of(me.type,me.key,me.props,null,ie.mode,Ce),Jc(se,me),se.return=ie,se)}function he(ie,se,me,Ce){return se===null||se.tag!==4||se.stateNode.containerInfo!==me.containerInfo||se.stateNode.implementation!==me.implementation?(se=Up(me,ie.mode,Ce),se.return=ie,se):(se=v(se,me.children||[]),se.return=ie,se)}function Se(ie,se,me,Ce,Je){return se===null||se.tag!==7?(se=xi(me,ie.mode,Ce,Je),se.return=ie,se):(se=v(se,me),se.return=ie,se)}function Ne(ie,se,me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Fp(""+se,ie.mode,me),se.return=ie,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return me=of(se.type,se.key,se.props,null,ie.mode,me),Jc(me,se),me.return=ie,me;case S:return se=Up(se,ie.mode,me),se.return=ie,se;case A:return se=Si(se),Ne(ie,se,me)}if(ae(se)||I(se))return se=xi(se,ie.mode,me,null),se.return=ie,se;if(typeof se.then=="function")return Ne(ie,mf(se),me);if(se.$$typeof===_)return Ne(ie,cf(ie,se),me);hf(ie,se)}return null}function pe(ie,se,me,Ce){var Je=se!==null?se.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Je!==null?null:$(ie,se,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return me.key===Je?X(ie,se,me,Ce):null;case S:return me.key===Je?he(ie,se,me,Ce):null;case A:return me=Si(me),pe(ie,se,me,Ce)}if(ae(me)||I(me))return Je!==null?null:Se(ie,se,me,Ce,null);if(typeof me.then=="function")return pe(ie,se,mf(me),Ce);if(me.$$typeof===_)return pe(ie,se,cf(ie,me),Ce);hf(ie,me)}return null}function be(ie,se,me,Ce,Je){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(me)||null,$(se,ie,""+Ce,Je);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:return ie=ie.get(Ce.key===null?me:Ce.key)||null,X(se,ie,Ce,Je);case S:return ie=ie.get(Ce.key===null?me:Ce.key)||null,he(se,ie,Ce,Je);case A:return Ce=Si(Ce),be(ie,se,me,Ce,Je)}if(ae(Ce)||I(Ce))return ie=ie.get(me)||null,Se(se,ie,Ce,Je,null);if(typeof Ce.then=="function")return be(ie,se,me,mf(Ce),Je);if(Ce.$$typeof===_)return be(ie,se,me,cf(se,Ce),Je);hf(se,Ce)}return null}function Be(ie,se,me,Ce){for(var Je=null,Mt=null,Ye=se,gt=se=0,jt=null;Ye!==null&&gt<me.length;gt++){Ye.index>gt?(jt=Ye,Ye=null):jt=Ye.sibling;var Dt=pe(ie,Ye,me[gt],Ce);if(Dt===null){Ye===null&&(Ye=jt);break}s&&Ye&&Dt.alternate===null&&a(ie,Ye),se=y(Dt,se,gt),Mt===null?Je=Dt:Mt.sibling=Dt,Mt=Dt,Ye=jt}if(gt===me.length)return u(ie,Ye),Et&&Eo(ie,gt),Je;if(Ye===null){for(;gt<me.length;gt++)Ye=Ne(ie,me[gt],Ce),Ye!==null&&(se=y(Ye,se,gt),Mt===null?Je=Ye:Mt.sibling=Ye,Mt=Ye);return Et&&Eo(ie,gt),Je}for(Ye=h(Ye);gt<me.length;gt++)jt=be(Ye,ie,gt,me[gt],Ce),jt!==null&&(s&&jt.alternate!==null&&Ye.delete(jt.key===null?gt:jt.key),se=y(jt,se,gt),Mt===null?Je=jt:Mt.sibling=jt,Mt=jt);return s&&Ye.forEach(function(Aa){return a(ie,Aa)}),Et&&Eo(ie,gt),Je}function st(ie,se,me,Ce){if(me==null)throw Error(r(151));for(var Je=null,Mt=null,Ye=se,gt=se=0,jt=null,Dt=me.next();Ye!==null&&!Dt.done;gt++,Dt=me.next()){Ye.index>gt?(jt=Ye,Ye=null):jt=Ye.sibling;var Aa=pe(ie,Ye,Dt.value,Ce);if(Aa===null){Ye===null&&(Ye=jt);break}s&&Ye&&Aa.alternate===null&&a(ie,Ye),se=y(Aa,se,gt),Mt===null?Je=Aa:Mt.sibling=Aa,Mt=Aa,Ye=jt}if(Dt.done)return u(ie,Ye),Et&&Eo(ie,gt),Je;if(Ye===null){for(;!Dt.done;gt++,Dt=me.next())Dt=Ne(ie,Dt.value,Ce),Dt!==null&&(se=y(Dt,se,gt),Mt===null?Je=Dt:Mt.sibling=Dt,Mt=Dt);return Et&&Eo(ie,gt),Je}for(Ye=h(Ye);!Dt.done;gt++,Dt=me.next())Dt=be(Ye,ie,gt,Dt.value,Ce),Dt!==null&&(s&&Dt.alternate!==null&&Ye.delete(Dt.key===null?gt:Dt.key),se=y(Dt,se,gt),Mt===null?Je=Dt:Mt.sibling=Dt,Mt=Dt);return s&&Ye.forEach(function(DO){return a(ie,DO)}),Et&&Eo(ie,gt),Je}function Yt(ie,se,me,Ce){if(typeof me=="object"&&me!==null&&me.type===C&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case w:e:{for(var Je=me.key;se!==null;){if(se.key===Je){if(Je=me.type,Je===C){if(se.tag===7){u(ie,se.sibling),Ce=v(se,me.props.children),Ce.return=ie,ie=Ce;break e}}else if(se.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&Si(Je)===se.type){u(ie,se.sibling),Ce=v(se,me.props),Jc(Ce,me),Ce.return=ie,ie=Ce;break e}u(ie,se);break}else a(ie,se);se=se.sibling}me.type===C?(Ce=xi(me.props.children,ie.mode,Ce,me.key),Ce.return=ie,ie=Ce):(Ce=of(me.type,me.key,me.props,null,ie.mode,Ce),Jc(Ce,me),Ce.return=ie,ie=Ce)}return k(ie);case S:e:{for(Je=me.key;se!==null;){if(se.key===Je)if(se.tag===4&&se.stateNode.containerInfo===me.containerInfo&&se.stateNode.implementation===me.implementation){u(ie,se.sibling),Ce=v(se,me.children||[]),Ce.return=ie,ie=Ce;break e}else{u(ie,se);break}else a(ie,se);se=se.sibling}Ce=Up(me,ie.mode,Ce),Ce.return=ie,ie=Ce}return k(ie);case A:return me=Si(me),Yt(ie,se,me,Ce)}if(ae(me))return Be(ie,se,me,Ce);if(I(me)){if(Je=I(me),typeof Je!="function")throw Error(r(150));return me=Je.call(me),st(ie,se,me,Ce)}if(typeof me.then=="function")return Yt(ie,se,mf(me),Ce);if(me.$$typeof===_)return Yt(ie,se,cf(ie,me),Ce);hf(ie,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,se!==null&&se.tag===6?(u(ie,se.sibling),Ce=v(se,me),Ce.return=ie,ie=Ce):(u(ie,se),Ce=Fp(me,ie.mode,Ce),Ce.return=ie,ie=Ce),k(ie)):u(ie,se)}return function(ie,se,me,Ce){try{Xc=0;var Je=Yt(ie,se,me,Ce);return Nl=null,Je}catch(Ye){if(Ye===El||Ye===df)throw Ye;var Mt=Pr(29,Ye,null,ie.mode);return Mt.lanes=Ce,Mt.return=ie,Mt}finally{}}}var ji=Iw(!0),Lw=Iw(!1),pa=!1;function Jp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ga(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xa(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Pt&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=sf(s),ww(s,null,u),a}return rf(s,h,a,u),sf(s)}function eu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,xr(s,u)}}function tg(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?v=y=k:y=y.next=k,u=u.next}while(u!==null);y===null?v=y=a:y=y.next=a}else v=y=a;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var ng=!1;function tu(){if(ng){var s=jl;if(s!==null)throw s}}function nu(s,a,u,h){ng=!1;var v=s.updateQueue;pa=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var X=$,he=X.next;X.next=null,k===null?y=he:k.next=he,k=X;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,$=Se.lastBaseUpdate,$!==k&&($===null?Se.firstBaseUpdate=he:$.next=he,Se.lastBaseUpdate=X))}if(y!==null){var Ne=v.baseState;k=0,Se=he=X=null,$=y;do{var pe=$.lane&-536870913,be=pe!==$.lane;if(be?(Ct&pe)===pe:(h&pe)===pe){pe!==0&&pe===Cl&&(ng=!0),Se!==null&&(Se=Se.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Be=s,st=$;pe=a;var Yt=u;switch(st.tag){case 1:if(Be=st.payload,typeof Be=="function"){Ne=Be.call(Yt,Ne,pe);break e}Ne=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=st.payload,pe=typeof Be=="function"?Be.call(Yt,Ne,pe):Be,pe==null)break e;Ne=x({},Ne,pe);break e;case 2:pa=!0}}pe=$.callback,pe!==null&&(s.flags|=64,be&&(s.flags|=8192),be=v.callbacks,be===null?v.callbacks=[pe]:be.push(pe))}else be={lane:pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Se===null?(he=Se=be,X=Ne):Se=Se.next=be,k|=pe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;be=$,$=be.next,be.next=null,v.lastBaseUpdate=be,v.shared.pending=null}}while(!0);Se===null&&(X=Ne),v.baseState=X,v.firstBaseUpdate=he,v.lastBaseUpdate=Se,y===null&&(v.shared.lanes=0),Sa|=k,s.lanes=k,s.memoizedState=Ne}}function $w(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Fw(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)$w(u[s],a)}var _l=V(null),pf=V(0);function Uw(s,a){s=Po,re(pf,s),re(_l,a),Po=s|a.baseLanes}function rg(){re(pf,Po),re(_l,_l.current)}function sg(){Po=pf.current,B(_l),B(pf)}var Ir=V(null),ms=null;function va(s){var a=s.alternate;re(En,En.current&1),re(Ir,s),ms===null&&(a===null||_l.current!==null||a.memoizedState!==null)&&(ms=s)}function og(s){re(En,En.current),re(Ir,s),ms===null&&(ms=s)}function Bw(s){s.tag===22?(re(En,En.current),re(Ir,s),ms===null&&(ms=s)):ba()}function ba(){re(En,En.current),re(Ir,Ir.current)}function Lr(s){B(Ir),ms===s&&(ms=null),B(En)}var En=V(0);function gf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||dx(u)||fx(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ko=0,ht=null,Wt=null,An=null,xf=!1,kl=!1,Ei=!1,vf=0,ru=0,Rl=null,wA=0;function vn(){throw Error(r(321))}function ag(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!zr(s[u],a[u]))return!1;return!0}function ig(s,a,u,h,v,y){return ko=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=s===null||s.memoizedState===null?E0:Sg,Ei=!1,y=u(h,v),Ei=!1,kl&&(y=Hw(a,u,h,v)),Vw(s),y}function Vw(s){P.H=au;var a=Wt!==null&&Wt.next!==null;if(ko=0,An=Wt=ht=null,xf=!1,ru=0,Rl=null,a)throw Error(r(300));s===null||On||(s=s.dependencies,s!==null&&lf(s)&&(On=!0))}function Hw(s,a,u,h){ht=s;var v=0;do{if(kl&&(Rl=null),ru=0,kl=!1,25<=v)throw Error(r(301));if(v+=1,An=Wt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=N0,y=a(u,h)}while(kl);return y}function SA(){var s=P.H,a=s.useState()[0];return a=typeof a.then=="function"?su(a):a,s=s.useState()[0],(Wt!==null?Wt.memoizedState:null)!==s&&(ht.flags|=1024),a}function lg(){var s=vf!==0;return vf=0,s}function cg(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function ug(s){if(xf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}xf=!1}ko=0,An=Wt=ht=null,kl=!1,ru=vf=0,Rl=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?ht.memoizedState=An=s:An=An.next=s,An}function Nn(){if(Wt===null){var s=ht.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var a=An===null?ht.memoizedState:An.next;if(a!==null)An=a,Wt=s;else{if(s===null)throw ht.alternate===null?Error(r(467)):Error(r(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},An===null?ht.memoizedState=An=s:An=An.next=s}return An}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(s){var a=ru;return ru+=1,Rl===null&&(Rl=[]),s=Tw(Rl,s,a),a=ht,(An===null?a.memoizedState:An.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?E0:Sg),s}function yf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return su(s);if(s.$$typeof===_)return or(s)}throw Error(r(438,String(s)))}function dg(s){var a=null,u=ht.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=bf(),ht.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=T;return a.index++,u}function Ro(s,a){return typeof a=="function"?a(s):a}function wf(s){var a=Nn();return fg(a,Wt,s)}function fg(s,a,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=s.baseQueue,y=h.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}a.baseQueue=v=y,h.pending=null}if(y=s.baseState,v===null)s.memoizedState=y;else{a=v.next;var $=k=null,X=null,he=a,Se=!1;do{var Ne=he.lane&-536870913;if(Ne!==he.lane?(Ct&Ne)===Ne:(ko&Ne)===Ne){var pe=he.revertLane;if(pe===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ne===Cl&&(Se=!0);else if((ko&pe)===pe){he=he.next,pe===Cl&&(Se=!0);continue}else Ne={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},X===null?($=X=Ne,k=y):X=X.next=Ne,ht.lanes|=pe,Sa|=pe;Ne=he.action,Ei&&u(y,Ne),y=he.hasEagerState?he.eagerState:u(y,Ne)}else pe={lane:Ne,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},X===null?($=X=pe,k=y):X=X.next=pe,ht.lanes|=Ne,Sa|=Ne;he=he.next}while(he!==null&&he!==a);if(X===null?k=y:X.next=$,!zr(y,s.memoizedState)&&(On=!0,Se&&(u=jl,u!==null)))throw u;s.memoizedState=y,s.baseState=k,s.baseQueue=X,h.lastRenderedState=y}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function mg(s){var a=Nn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,v=u.pending,y=a.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do y=s(y,k.action),k=k.next;while(k!==v);zr(y,a.memoizedState)||(On=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function qw(s,a,u){var h=ht,v=Nn(),y=Et;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=a();var k=!zr((Wt||v).memoizedState,u);if(k&&(v.memoizedState=u,On=!0),v=v.queue,gg(Yw.bind(null,h,v,s),[s]),v.getSnapshot!==a||k||An!==null&&An.memoizedState.tag&1){if(h.flags|=2048,Ml(9,{destroy:void 0},Gw.bind(null,h,v,u,a),null),Qt===null)throw Error(r(349));y||(ko&127)!==0||Ww(h,a,u)}return u}function Ww(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ht.updateQueue,a===null?(a=bf(),ht.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Gw(s,a,u,h){a.value=u,a.getSnapshot=h,Kw(a)&&Zw(s)}function Yw(s,a,u){return u(function(){Kw(a)&&Zw(s)})}function Kw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!zr(s,u)}catch{return!0}}function Zw(s){var a=gi(s,2);a!==null&&Ar(a,s,2)}function hg(s){var a=br();if(typeof s=="function"){var u=s;if(s=u(),Ei){Tt(!0);try{u()}finally{Tt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:s},a}function Qw(s,a,u,h){return s.baseState=u,fg(s,Wt,typeof h=="function"?h:Ro)}function CA(s,a,u,h,v){if(jf(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};P.T!==null?u(!0):y.isTransition=!1,h(y),u=a.pending,u===null?(y.next=a.pending=y,Xw(a,y)):(y.next=u.next,a.pending=u.next=y)}}function Xw(s,a){var u=a.action,h=a.payload,v=s.state;if(a.isTransition){var y=P.T,k={};P.T=k;try{var $=u(v,h),X=P.S;X!==null&&X(k,$),Jw(s,a,$)}catch(he){pg(s,a,he)}finally{y!==null&&k.types!==null&&(y.types=k.types),P.T=y}}else try{y=u(v,h),Jw(s,a,y)}catch(he){pg(s,a,he)}}function Jw(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){e0(s,a,h)},function(h){return pg(s,a,h)}):e0(s,a,u)}function e0(s,a,u){a.status="fulfilled",a.value=u,t0(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Xw(s,u)))}function pg(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,t0(a),a=a.next;while(a!==h)}s.action=null}function t0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function n0(s,a){return a}function r0(s,a){if(Et){var u=Qt.formState;if(u!==null){e:{var h=ht;if(Et){if(nn){t:{for(var v=nn,y=fs;v.nodeType!==8;){if(!y){v=null;break t}if(v=hs(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){nn=hs(v.nextSibling),h=v.data==="F!";break e}}ma(h)}h=!1}h&&(a=u[0])}}return u=br(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:a},u.queue=h,u=S0.bind(null,ht,h),h.dispatch=u,h=hg(!1),y=wg.bind(null,ht,!1,h.queue),h=br(),v={state:a,dispatch:null,action:s,pending:null},h.queue=v,u=CA.bind(null,ht,v,y,u),v.dispatch=u,h.memoizedState=s,[a,u,!1]}function s0(s){var a=Nn();return o0(a,Wt,s)}function o0(s,a,u){if(a=fg(s,a,n0)[0],s=wf(Ro)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=su(a)}catch(k){throw k===El?df:k}else h=a;a=Nn();var v=a.queue,y=v.dispatch;return u!==a.memoizedState&&(ht.flags|=2048,Ml(9,{destroy:void 0},jA.bind(null,v,u),null)),[h,y,s]}function jA(s,a){s.action=a}function a0(s){var a=Nn(),u=Wt;if(u!==null)return o0(a,u,s);Nn(),a=a.memoizedState,u=Nn();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function Ml(s,a,u,h){return s={tag:s,create:u,deps:h,inst:a,next:null},a=ht.updateQueue,a===null&&(a=bf(),ht.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function i0(){return Nn().memoizedState}function Sf(s,a,u,h){var v=br();ht.flags|=s,v.memoizedState=Ml(1|a,{destroy:void 0},u,h===void 0?null:h)}function Cf(s,a,u,h){var v=Nn();h=h===void 0?null:h;var y=v.memoizedState.inst;Wt!==null&&h!==null&&ag(h,Wt.memoizedState.deps)?v.memoizedState=Ml(a,y,u,h):(ht.flags|=s,v.memoizedState=Ml(1|a,y,u,h))}function l0(s,a){Sf(8390656,8,s,a)}function gg(s,a){Cf(2048,8,s,a)}function EA(s){ht.flags|=4;var a=ht.updateQueue;if(a===null)a=bf(),ht.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function c0(s){var a=Nn().memoizedState;return EA({ref:a,nextImpl:s}),function(){if((Pt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function u0(s,a){return Cf(4,2,s,a)}function d0(s,a){return Cf(4,4,s,a)}function f0(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function m0(s,a,u){u=u!=null?u.concat([s]):null,Cf(4,4,f0.bind(null,a,s),u)}function xg(){}function h0(s,a){var u=Nn();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&ag(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function p0(s,a){var u=Nn();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&ag(a,h[1]))return h[0];if(h=s(),Ei){Tt(!0);try{s()}finally{Tt(!1)}}return u.memoizedState=[h,a],h}function vg(s,a,u){return u===void 0||(ko&1073741824)!==0&&(Ct&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=gS(),ht.lanes|=s,Sa|=s,u)}function g0(s,a,u,h){return zr(u,a)?u:_l.current!==null?(s=vg(s,u,h),zr(s,a)||(On=!0),s):(ko&42)===0||(ko&1073741824)!==0&&(Ct&261930)===0?(On=!0,s.memoizedState=u):(s=gS(),ht.lanes|=s,Sa|=s,a)}function x0(s,a,u,h,v){var y=q.p;q.p=y!==0&&8>y?y:8;var k=P.T,$={};P.T=$,wg(s,!1,a,u);try{var X=v(),he=P.S;if(he!==null&&he($,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Se=yA(X,h);ou(s,a,Se,Ur(s))}else ou(s,a,h,Ur(s))}catch(Ne){ou(s,a,{then:function(){},status:"rejected",reason:Ne},Ur())}finally{q.p=y,k!==null&&$.types!==null&&(k.types=$.types),P.T=k}}function NA(){}function bg(s,a,u,h){if(s.tag!==5)throw Error(r(476));var v=v0(s).queue;x0(s,v,a,K,u===null?NA:function(){return b0(s),u(h)})}function v0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:K},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function b0(s){var a=v0(s);a.next===null&&(a=s.alternate.memoizedState),ou(s,a.next.queue,{},Ur())}function yg(){return or(Su)}function y0(){return Nn().memoizedState}function w0(){return Nn().memoizedState}function _A(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ur();s=ga(u);var h=xa(a,s,u);h!==null&&(Ar(h,a,u),eu(h,a,u)),a={cache:Kp()},s.payload=a;return}a=a.return}}function kA(s,a,u){var h=Ur();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jf(s)?C0(a,u):(u=Lp(s,a,u,h),u!==null&&(Ar(u,s,h),j0(u,a,h)))}function S0(s,a,u){var h=Ur();ou(s,a,u,h)}function ou(s,a,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(jf(s))C0(a,v);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,$=y(k,u);if(v.hasEagerState=!0,v.eagerState=$,zr($,k))return rf(s,a,v,0),Qt===null&&nf(),!1}catch{}finally{}if(u=Lp(s,a,v,h),u!==null)return Ar(u,s,h),j0(u,a,h),!0}return!1}function wg(s,a,u,h){if(h={lane:2,revertLane:Jg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},jf(s)){if(a)throw Error(r(479))}else a=Lp(s,u,h,2),a!==null&&Ar(a,s,2)}function jf(s){var a=s.alternate;return s===ht||a!==null&&a===ht}function C0(s,a){kl=xf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function j0(s,a,u){if((u&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,xr(s,u)}}var au={readContext:or,use:yf,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};au.useEffectEvent=vn;var E0={readContext:or,use:yf,useCallback:function(s,a){return br().memoizedState=[s,a===void 0?null:a],s},useContext:or,useEffect:l0,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Sf(4194308,4,f0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Sf(4194308,4,s,a)},useInsertionEffect:function(s,a){Sf(4,2,s,a)},useMemo:function(s,a){var u=br();a=a===void 0?null:a;var h=s();if(Ei){Tt(!0);try{s()}finally{Tt(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=br();if(u!==void 0){var v=u(a);if(Ei){Tt(!0);try{u(a)}finally{Tt(!1)}}}else v=a;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=kA.bind(null,ht,s),[h.memoizedState,s]},useRef:function(s){var a=br();return s={current:s},a.memoizedState=s},useState:function(s){s=hg(s);var a=s.queue,u=S0.bind(null,ht,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:xg,useDeferredValue:function(s,a){var u=br();return vg(u,s,a)},useTransition:function(){var s=hg(!1);return s=x0.bind(null,ht,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=ht,v=br();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Qt===null)throw Error(r(349));(Ct&127)!==0||Ww(h,a,u)}v.memoizedState=u;var y={value:u,getSnapshot:a};return v.queue=y,l0(Yw.bind(null,h,y,s),[s]),h.flags|=2048,Ml(9,{destroy:void 0},Gw.bind(null,h,y,u,a),null),u},useId:function(){var s=br(),a=Qt.identifierPrefix;if(Et){var u=Qs,h=Zs;u=(h&~(1<<32-Lt(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=vf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=wA++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:yg,useFormState:r0,useActionState:r0,useOptimistic:function(s){var a=br();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=wg.bind(null,ht,!0,u),u.dispatch=a,[s,a]},useMemoCache:dg,useCacheRefresh:function(){return br().memoizedState=_A.bind(null,ht)},useEffectEvent:function(s){var a=br(),u={impl:s};return a.memoizedState=u,function(){if((Pt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Sg={readContext:or,use:yf,useCallback:h0,useContext:or,useEffect:gg,useImperativeHandle:m0,useInsertionEffect:u0,useLayoutEffect:d0,useMemo:p0,useReducer:wf,useRef:i0,useState:function(){return wf(Ro)},useDebugValue:xg,useDeferredValue:function(s,a){var u=Nn();return g0(u,Wt.memoizedState,s,a)},useTransition:function(){var s=wf(Ro)[0],a=Nn().memoizedState;return[typeof s=="boolean"?s:su(s),a]},useSyncExternalStore:qw,useId:y0,useHostTransitionStatus:yg,useFormState:s0,useActionState:s0,useOptimistic:function(s,a){var u=Nn();return Qw(u,Wt,s,a)},useMemoCache:dg,useCacheRefresh:w0};Sg.useEffectEvent=c0;var N0={readContext:or,use:yf,useCallback:h0,useContext:or,useEffect:gg,useImperativeHandle:m0,useInsertionEffect:u0,useLayoutEffect:d0,useMemo:p0,useReducer:mg,useRef:i0,useState:function(){return mg(Ro)},useDebugValue:xg,useDeferredValue:function(s,a){var u=Nn();return Wt===null?vg(u,s,a):g0(u,Wt.memoizedState,s,a)},useTransition:function(){var s=mg(Ro)[0],a=Nn().memoizedState;return[typeof s=="boolean"?s:su(s),a]},useSyncExternalStore:qw,useId:y0,useHostTransitionStatus:yg,useFormState:a0,useActionState:a0,useOptimistic:function(s,a){var u=Nn();return Wt!==null?Qw(u,Wt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:dg,useCacheRefresh:w0};N0.useEffectEvent=c0;function Cg(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:x({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var jg={enqueueSetState:function(s,a,u){s=s._reactInternals;var h=Ur(),v=ga(h);v.payload=a,u!=null&&(v.callback=u),a=xa(s,v,h),a!==null&&(Ar(a,s,h),eu(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=Ur(),v=ga(h);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=xa(s,v,h),a!==null&&(Ar(a,s,h),eu(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Ur(),h=ga(u);h.tag=2,a!=null&&(h.callback=a),a=xa(s,h,u),a!==null&&(Ar(a,s,u),eu(a,s,u))}};function _0(s,a,u,h,v,y,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,k):a.prototype&&a.prototype.isPureReactComponent?!Wc(u,h)||!Wc(v,y):!0}function k0(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&jg.enqueueReplaceState(a,a.state,null)}function Ni(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=x({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}function R0(s){tf(s)}function M0(s){console.error(s)}function D0(s){tf(s)}function Ef(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function A0(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Eg(s,a,u){return u=ga(u),u.tag=3,u.payload={element:null},u.callback=function(){Ef(s,a)},u}function O0(s){return s=ga(s),s.tag=3,s}function T0(s,a,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var y=h.value;s.payload=function(){return v(y)},s.callback=function(){A0(a,u,h)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){A0(a,u,h),typeof v!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function RA(s,a,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Sl(a,u,v,!0),u=Ir.current,u!==null){switch(u.tag){case 31:case 13:return ms===null?If():u.alternate===null&&bn===0&&(bn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===ff?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Zg(s,h,v)),!1;case 22:return u.flags|=65536,h===ff?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Zg(s,h,v)),!1}throw Error(r(435,u.tag))}return Zg(s,h,v),If(),!1}if(Et)return a=Ir.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==Hp&&(s=Error(r(422),{cause:h}),Kc(cs(s,u)))):(h!==Hp&&(a=Error(r(423),{cause:h}),Kc(cs(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=cs(h,u),v=Eg(s.stateNode,h,v),tg(s,v),bn!==4&&(bn=2)),!1;var y=Error(r(520),{cause:h});if(y=cs(y,u),hu===null?hu=[y]:hu.push(y),bn!==4&&(bn=2),a===null)return!0;h=cs(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=Eg(u.stateNode,h,s),tg(u,s),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return u.flags|=65536,v&=-v,u.lanes|=v,v=O0(v),T0(v,s,u,h),tg(u,v),!1}u=u.return}while(u!==null);return!1}var Ng=Error(r(461)),On=!1;function ar(s,a,u,h){a.child=s===null?Lw(a,null,u,h):ji(a,s.child,u,h)}function z0(s,a,u,h,v){u=u.render;var y=a.ref;if("ref"in h){var k={};for(var $ in h)$!=="ref"&&(k[$]=h[$])}else k=h;return yi(a),h=ig(s,a,u,k,y,v),$=lg(),s!==null&&!On?(cg(s,a,v),Mo(s,a,v)):(Et&&$&&Bp(a),a.flags|=1,ar(s,a,h,v),a.child)}function P0(s,a,u,h,v){if(s===null){var y=u.type;return typeof y=="function"&&!$p(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,I0(s,a,y,h,v)):(s=of(u.type,null,h,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Tg(s,v)){var k=y.memoizedProps;if(u=u.compare,u=u!==null?u:Wc,u(k,h)&&s.ref===a.ref)return Mo(s,a,v)}return a.flags|=1,s=jo(y,h),s.ref=a.ref,s.return=a,a.child=s}function I0(s,a,u,h,v){if(s!==null){var y=s.memoizedProps;if(Wc(y,h)&&s.ref===a.ref)if(On=!1,a.pendingProps=h=y,Tg(s,v))(s.flags&131072)!==0&&(On=!0);else return a.lanes=s.lanes,Mo(s,a,v)}return _g(s,a,u,h,v)}function L0(s,a,u,h){var v=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,s!==null){for(h=a.child=s.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~y}else h=0,a.child=null;return $0(s,a,y,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&uf(a,y!==null?y.cachePool:null),y!==null?Uw(a,y):rg(),Bw(a);else return h=a.lanes=536870912,$0(s,a,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(uf(a,y.cachePool),Uw(a,y),ba(),a.memoizedState=null):(s!==null&&uf(a,null),rg(),ba());return ar(s,a,v,u),a.child}function iu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $0(s,a,u,h,v){var y=Qp();return y=y===null?null:{parent:Dn._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},s!==null&&uf(a,null),rg(),Bw(a),s!==null&&Sl(s,a,h,!0),a.childLanes=v,null}function Nf(s,a){return a=kf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function F0(s,a,u){return ji(a,s.child,null,u),s=Nf(a,a.pendingProps),s.flags|=2,Lr(a),a.memoizedState=null,s}function MA(s,a,u){var h=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Et){if(h.mode==="hidden")return s=Nf(a,h),a.lanes=536870912,iu(null,s);if(og(a),(s=nn)?(s=XS(s,fs),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:da!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},u=Cw(s),u.return=a,a.child=u,sr=a,nn=null)):s=null,s===null)throw ma(a);return a.lanes=536870912,null}return Nf(a,h)}var y=s.memoizedState;if(y!==null){var k=y.dehydrated;if(og(a),v)if(a.flags&256)a.flags&=-257,a=F0(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(On||Sl(s,a,u,!1),v=(u&s.childLanes)!==0,On||v){if(h=Qt,h!==null&&(k=lr(h,u),k!==0&&k!==y.retryLane))throw y.retryLane=k,gi(s,k),Ar(h,s,k),Ng;If(),a=F0(s,a,u)}else s=y.treeContext,nn=hs(k.nextSibling),sr=a,Et=!0,fa=null,fs=!1,s!==null&&Nw(a,s),a=Nf(a,h),a.flags|=4096;return a}return s=jo(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function _f(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function _g(s,a,u,h,v){return yi(a),u=ig(s,a,u,h,void 0,v),h=lg(),s!==null&&!On?(cg(s,a,v),Mo(s,a,v)):(Et&&h&&Bp(a),a.flags|=1,ar(s,a,u,v),a.child)}function U0(s,a,u,h,v,y){return yi(a),a.updateQueue=null,u=Hw(a,h,u,v),Vw(s),h=lg(),s!==null&&!On?(cg(s,a,y),Mo(s,a,y)):(Et&&h&&Bp(a),a.flags|=1,ar(s,a,u,y),a.child)}function B0(s,a,u,h,v){if(yi(a),a.stateNode===null){var y=vl,k=u.contextType;typeof k=="object"&&k!==null&&(y=or(k)),y=new u(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Jp(a),k=u.contextType,y.context=typeof k=="object"&&k!==null?or(k):vl,y.state=a.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Cg(a,u,k,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&jg.enqueueReplaceState(y,y.state,null),nu(a,h,y,v),tu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var $=a.memoizedProps,X=Ni(u,$);y.props=X;var he=y.context,Se=u.contextType;k=vl,typeof Se=="object"&&Se!==null&&(k=or(Se));var Ne=u.getDerivedStateFromProps;Se=typeof Ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,Se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||($||he!==k)&&k0(a,y,h,k),pa=!1;var pe=a.memoizedState;y.state=pe,nu(a,h,y,v),tu(),he=a.memoizedState,$||pe!==he||pa?(typeof Ne=="function"&&(Cg(a,u,Ne,h),he=a.memoizedState),(X=pa||_0(a,u,X,h,pe,he,k))?(Se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=he),y.props=h,y.state=he,y.context=k,h=X):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,eg(s,a),k=a.memoizedProps,Se=Ni(u,k),y.props=Se,Ne=a.pendingProps,pe=y.context,he=u.contextType,X=vl,typeof he=="object"&&he!==null&&(X=or(he)),$=u.getDerivedStateFromProps,(he=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==Ne||pe!==X)&&k0(a,y,h,X),pa=!1,pe=a.memoizedState,y.state=pe,nu(a,h,y,v),tu();var be=a.memoizedState;k!==Ne||pe!==be||pa||s!==null&&s.dependencies!==null&&lf(s.dependencies)?(typeof $=="function"&&(Cg(a,u,$,h),be=a.memoizedState),(Se=pa||_0(a,u,Se,h,pe,be,X)||s!==null&&s.dependencies!==null&&lf(s.dependencies))?(he||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,be,X),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,be,X)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=be),y.props=h,y.state=be,y.context=X,h=Se):(typeof y.componentDidUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&pe===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,_f(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=ji(a,s.child,null,v),a.child=ji(a,null,u,v)):ar(s,a,u,v),a.memoizedState=y.state,s=a.child):s=Mo(s,a,v),s}function V0(s,a,u,h){return vi(),a.flags|=256,ar(s,a,u,h),a.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(s){return{baseLanes:s,cachePool:Aw()}}function Mg(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Fr),s}function H0(s,a,u){var h=a.pendingProps,v=!1,y=(a.flags&128)!==0,k;if((k=y)||(k=s!==null&&s.memoizedState===null?!1:(En.current&2)!==0),k&&(v=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,s===null){if(Et){if(v?va(a):ba(),(s=nn)?(s=XS(s,fs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:da!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},u=Cw(s),u.return=a,a.child=u,sr=a,nn=null)):s=null,s===null)throw ma(a);return fx(s)?a.lanes=32:a.lanes=536870912,null}var $=h.children;return h=h.fallback,v?(ba(),v=a.mode,$=kf({mode:"hidden",children:$},v),h=xi(h,v,u,null),$.return=a,h.return=a,$.sibling=h,a.child=$,h=a.child,h.memoizedState=Rg(u),h.childLanes=Mg(s,k,u),a.memoizedState=kg,iu(null,h)):(va(a),Dg(a,$))}var X=s.memoizedState;if(X!==null&&($=X.dehydrated,$!==null)){if(y)a.flags&256?(va(a),a.flags&=-257,a=Ag(s,a,u)):a.memoizedState!==null?(ba(),a.child=s.child,a.flags|=128,a=null):(ba(),$=h.fallback,v=a.mode,h=kf({mode:"visible",children:h.children},v),$=xi($,v,u,null),$.flags|=2,h.return=a,$.return=a,h.sibling=$,a.child=h,ji(a,s.child,null,u),h=a.child,h.memoizedState=Rg(u),h.childLanes=Mg(s,k,u),a.memoizedState=kg,a=iu(null,h));else if(va(a),fx($)){if(k=$.nextSibling&&$.nextSibling.dataset,k)var he=k.dgst;k=he,h=Error(r(419)),h.stack="",h.digest=k,Kc({value:h,source:null,stack:null}),a=Ag(s,a,u)}else if(On||Sl(s,a,u,!1),k=(u&s.childLanes)!==0,On||k){if(k=Qt,k!==null&&(h=lr(k,u),h!==0&&h!==X.retryLane))throw X.retryLane=h,gi(s,h),Ar(k,s,h),Ng;dx($)||If(),a=Ag(s,a,u)}else dx($)?(a.flags|=192,a.child=s.child,a=null):(s=X.treeContext,nn=hs($.nextSibling),sr=a,Et=!0,fa=null,fs=!1,s!==null&&Nw(a,s),a=Dg(a,h.children),a.flags|=4096);return a}return v?(ba(),$=h.fallback,v=a.mode,X=s.child,he=X.sibling,h=jo(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,he!==null?$=jo(he,$):($=xi($,v,u,null),$.flags|=2),$.return=a,h.return=a,h.sibling=$,a.child=h,iu(null,h),h=a.child,$=s.child.memoizedState,$===null?$=Rg(u):(v=$.cachePool,v!==null?(X=Dn._currentValue,v=v.parent!==X?{parent:X,pool:X}:v):v=Aw(),$={baseLanes:$.baseLanes|u,cachePool:v}),h.memoizedState=$,h.childLanes=Mg(s,k,u),a.memoizedState=kg,iu(s.child,h)):(va(a),u=s.child,s=u.sibling,u=jo(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(k=a.deletions,k===null?(a.deletions=[s],a.flags|=16):k.push(s)),a.child=u,a.memoizedState=null,u)}function Dg(s,a){return a=kf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function kf(s,a){return s=Pr(22,s,null,a),s.lanes=0,s}function Ag(s,a,u){return ji(a,s.child,null,u),s=Dg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function q0(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Gp(s.return,a,u)}function Og(s,a,u,h,v,y){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:y}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=u,k.tailMode=v,k.treeForkCount=y)}function W0(s,a,u){var h=a.pendingProps,v=h.revealOrder,y=h.tail;h=h.children;var k=En.current,$=(k&2)!==0;if($?(k=k&1|2,a.flags|=128):k&=1,re(En,k),ar(s,a,h,u),h=Et?Yc:0,!$&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q0(s,u,a);else if(s.tag===19)q0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&gf(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Og(a,!1,v,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&gf(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Og(a,!0,u,null,y,h);break;case"together":Og(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Mo(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Sa|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Sl(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=jo(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=jo(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Tg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&lf(s)))}function DA(s,a,u){switch(a.tag){case 3:ee(a,a.stateNode.containerInfo),ha(a,Dn,s.memoizedState.cache),vi();break;case 27:case 5:le(a);break;case 4:ee(a,a.stateNode.containerInfo);break;case 10:ha(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,og(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(va(a),a.flags|=128,null):(u&a.child.childLanes)!==0?H0(s,a,u):(va(a),s=Mo(s,a,u),s!==null?s.sibling:null);va(a);break;case 19:var v=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Sl(s,a,u,!1),h=(u&a.childLanes)!==0),v){if(h)return W0(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(En,En.current),h)break;return null;case 22:return a.lanes=0,L0(s,a,u,a.pendingProps);case 24:ha(a,Dn,s.memoizedState.cache)}return Mo(s,a,u)}function G0(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)On=!0;else{if(!Tg(s,u)&&(a.flags&128)===0)return On=!1,DA(s,a,u);On=(s.flags&131072)!==0}else On=!1,Et&&(a.flags&1048576)!==0&&Ew(a,Yc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(s=Si(a.elementType),a.type=s,typeof s=="function")$p(s)?(h=Ni(s,h),a.tag=1,a=B0(null,a,s,h,u)):(a.tag=0,a=_g(null,a,s,h,u));else{if(s!=null){var v=s.$$typeof;if(v===R){a.tag=11,a=z0(null,a,s,h,u);break e}else if(v===O){a.tag=14,a=P0(null,a,s,h,u);break e}}throw a=U(s)||s,Error(r(306,a,""))}}return a;case 0:return _g(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,v=Ni(h,a.pendingProps),B0(s,a,h,v,u);case 3:e:{if(ee(a,a.stateNode.containerInfo),s===null)throw Error(r(387));h=a.pendingProps;var y=a.memoizedState;v=y.element,eg(s,a),nu(a,h,null,u);var k=a.memoizedState;if(h=k.cache,ha(a,Dn,h),h!==y.cache&&Yp(a,[Dn],u,!0),tu(),h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=V0(s,a,h,u);break e}else if(h!==v){v=cs(Error(r(424)),a),Kc(v),a=V0(s,a,h,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(nn=hs(s.firstChild),sr=a,Et=!0,fa=null,fs=!0,u=Lw(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vi(),h===v){a=Mo(s,a,u);break e}ar(s,a,h,u)}a=a.child}return a;case 26:return _f(s,a),s===null?(u=sC(a.type,null,a.pendingProps,null))?a.memoizedState=u:Et||(u=a.type,s=a.pendingProps,h=Hf(G.current).createElement(u),h[Mn]=a,h[nr]=s,ir(h,u,s),xn(h),a.stateNode=h):a.memoizedState=sC(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return le(a),s===null&&Et&&(h=a.stateNode=tC(a.type,a.pendingProps,G.current),sr=a,fs=!0,v=nn,_a(a.type)?(mx=v,nn=hs(h.firstChild)):nn=v),ar(s,a,a.pendingProps.children,u),_f(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Et&&((v=h=nn)&&(h=iO(h,a.type,a.pendingProps,fs),h!==null?(a.stateNode=h,sr=a,nn=hs(h.firstChild),fs=!1,v=!0):v=!1),v||ma(a)),le(a),v=a.type,y=a.pendingProps,k=s!==null?s.memoizedProps:null,h=y.children,lx(v,y)?h=null:k!==null&&lx(v,k)&&(a.flags|=32),a.memoizedState!==null&&(v=ig(s,a,SA,null,null,u),Su._currentValue=v),_f(s,a),ar(s,a,h,u),a.child;case 6:return s===null&&Et&&((s=u=nn)&&(u=lO(u,a.pendingProps,fs),u!==null?(a.stateNode=u,sr=a,nn=null,s=!0):s=!1),s||ma(a)),null;case 13:return H0(s,a,u);case 4:return ee(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ji(a,null,h,u):ar(s,a,h,u),a.child;case 11:return z0(s,a,a.type,a.pendingProps,u);case 7:return ar(s,a,a.pendingProps,u),a.child;case 8:return ar(s,a,a.pendingProps.children,u),a.child;case 12:return ar(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,ha(a,a.type,h.value),ar(s,a,h.children,u),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,yi(a),v=or(v),h=h(v),a.flags|=1,ar(s,a,h,u),a.child;case 14:return P0(s,a,a.type,a.pendingProps,u);case 15:return I0(s,a,a.type,a.pendingProps,u);case 19:return W0(s,a,u);case 31:return MA(s,a,u);case 22:return L0(s,a,u,a.pendingProps);case 24:return yi(a),h=or(Dn),s===null?(v=Qp(),v===null&&(v=Qt,y=Kp(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=u),v=y),a.memoizedState={parent:h,cache:v},Jp(a),ha(a,Dn,v)):((s.lanes&u)!==0&&(eg(s,a),nu(a,null,null,u),tu()),v=s.memoizedState,y=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),ha(a,Dn,h)):(h=y.cache,ha(a,Dn,h),h!==v.cache&&Yp(a,[Dn],u,!0))),ar(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Do(s){s.flags|=4}function zg(s,a,u,h,v){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(yS())s.flags|=8192;else throw Ci=ff,Xp}else s.flags&=-16777217}function Y0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cC(a))if(yS())s.flags|=8192;else throw Ci=ff,Xp}function Rf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Cn():536870912,s.lanes|=a,Tl|=a)}function lu(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function AA(s,a,u){var h=a.pendingProps;switch(Vp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return rn(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),_o(Dn),oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(wl(a)?Do(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qp())),rn(a),null;case 26:var v=a.type,y=a.memoizedState;return s===null?(Do(a),y!==null?(rn(a),Y0(a,y)):(rn(a),zg(a,v,null,h,u))):y?y!==s.memoizedState?(Do(a),rn(a),Y0(a,y)):(rn(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Do(a),rn(a),zg(a,v,s,h,u)),null;case 27:if(de(a),u=G.current,v=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Do(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return rn(a),null}s=Y.current,wl(a)?_w(a):(s=tC(v,h,u),a.stateNode=s,Do(a))}return rn(a),null;case 5:if(de(a),v=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Do(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return rn(a),null}if(y=Y.current,wl(a))_w(a);else{var k=Hf(G.current);switch(y){case 1:y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=k.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?k.createElement(v,{is:h.is}):k.createElement(v)}}y[Mn]=a,y[nr]=h;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)y.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=y;e:switch(ir(y,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Do(a)}}return rn(a),zg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Do(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(s=G.current,wl(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,v=sr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[Mn]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||HS(s.nodeValue,u)),s||ma(a,!0)}else s=Hf(s).createTextNode(h),s[Mn]=a,a.stateNode=s}return rn(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(h=wl(a),u!==null){if(s===null){if(!h)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Mn]=a}else vi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),s=!1}else u=qp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(Lr(a),a):(Lr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return rn(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=wl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Mn]=a}else vi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),v=!1}else v=qp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Lr(a),a):(Lr(a),null)}return Lr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==v&&(h.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Rf(a,a.updateQueue),rn(a),null);case 4:return oe(),s===null&&rx(a.stateNode.containerInfo),rn(a),null;case 10:return _o(a.type),rn(a),null;case 19:if(B(En),h=a.memoizedState,h===null)return rn(a),null;if(v=(a.flags&128)!==0,y=h.rendering,y===null)if(v)lu(h,!1);else{if(bn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=gf(s),y!==null){for(a.flags|=128,lu(h,!1),s=y.updateQueue,a.updateQueue=s,Rf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)Sw(u,s),u=u.sibling;return re(En,En.current&1|2),Et&&Eo(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&je()>Tf&&(a.flags|=128,v=!0,lu(h,!1),a.lanes=4194304)}else{if(!v)if(s=gf(y),s!==null){if(a.flags|=128,v=!0,s=s.updateQueue,a.updateQueue=s,Rf(a,s),lu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Et)return rn(a),null}else 2*je()-h.renderingStartTime>Tf&&u!==536870912&&(a.flags|=128,v=!0,lu(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=je(),s.sibling=null,u=En.current,re(En,v?u&1|2:u&1),Et&&Eo(a,h.treeForkCount),s):(rn(a),null);case 22:case 23:return Lr(a),sg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),u=a.updateQueue,u!==null&&Rf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&B(wi),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),_o(Dn),rn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function OA(s,a){switch(Vp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _o(Dn),oe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return de(a),null;case 31:if(a.memoizedState!==null){if(Lr(a),a.alternate===null)throw Error(r(340));vi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Lr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));vi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return B(En),null;case 4:return oe(),null;case 10:return _o(a.type),null;case 22:case 23:return Lr(a),sg(),s!==null&&B(wi),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return _o(Dn),null;case 25:return null;default:return null}}function K0(s,a){switch(Vp(a),a.tag){case 3:_o(Dn),oe();break;case 26:case 27:case 5:de(a);break;case 4:oe();break;case 31:a.memoizedState!==null&&Lr(a);break;case 13:Lr(a);break;case 19:B(En);break;case 10:_o(a.type);break;case 22:case 23:Lr(a),sg(),s!==null&&B(wi);break;case 24:_o(Dn)}}function cu(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&s)===s){h=void 0;var y=u.create,k=u.inst;h=y(),k.destroy=h}u=u.next}while(u!==v)}}catch($){Bt(a,a.return,$)}}function ya(s,a,u){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var y=v.next;h=y;do{if((h.tag&s)===s){var k=h.inst,$=k.destroy;if($!==void 0){k.destroy=void 0,v=a;var X=u,he=$;try{he()}catch(Se){Bt(v,X,Se)}}}h=h.next}while(h!==y)}}catch(Se){Bt(a,a.return,Se)}}function Z0(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{Fw(a,u)}catch(h){Bt(s,s.return,h)}}}function Q0(s,a,u){u.props=Ni(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Bt(s,a,h)}}function uu(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(v){Bt(s,a,v)}}function Xs(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Bt(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Bt(s,a,v)}else u.current=null}function X0(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Bt(s,s.return,v)}}function Pg(s,a,u){try{var h=s.stateNode;tO(h,s.type,u,a),h[nr]=a}catch(v){Bt(s,s.return,v)}}function J0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_a(s.type)||s.tag===4}function Ig(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||J0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_a(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lg(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Kn));else if(h!==4&&(h===27&&_a(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Lg(s,a,u),s=s.sibling;s!==null;)Lg(s,a,u),s=s.sibling}function Mf(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(h===27&&_a(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Mf(s,a,u),s=s.sibling;s!==null;)Mf(s,a,u),s=s.sibling}function eS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);ir(a,h,u),a[Mn]=s,a[nr]=u}catch(y){Bt(s,s.return,y)}}var Ao=!1,Tn=!1,$g=!1,tS=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function TA(s,a){if(s=s.containerInfo,ax=Qf,s=mw(s),Ap(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var k=0,$=-1,X=-1,he=0,Se=0,Ne=s,pe=null;t:for(;;){for(var be;Ne!==u||v!==0&&Ne.nodeType!==3||($=k+v),Ne!==y||h!==0&&Ne.nodeType!==3||(X=k+h),Ne.nodeType===3&&(k+=Ne.nodeValue.length),(be=Ne.firstChild)!==null;)pe=Ne,Ne=be;for(;;){if(Ne===s)break t;if(pe===u&&++he===v&&($=k),pe===y&&++Se===h&&(X=k),(be=Ne.nextSibling)!==null)break;Ne=pe,pe=Ne.parentNode}Ne=be}u=$===-1||X===-1?null:{start:$,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(ix={focusedElem:s,selectionRange:u},Qf=!1,Zn=a;Zn!==null;)if(a=Zn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Zn=s;else for(;Zn!==null;){switch(a=Zn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)v=s[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=a,v=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var Be=Ni(u.type,v);s=h.getSnapshotBeforeUpdate(Be,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(st){Bt(u,u.return,st)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)ux(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ux(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Zn=s;break}Zn=a.return}}function nS(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:To(s,u),h&4&&cu(5,u);break;case 1:if(To(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(k){Bt(u,u.return,k)}else{var v=Ni(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){Bt(u,u.return,k)}}h&64&&Z0(u),h&512&&uu(u,u.return);break;case 3:if(To(s,u),h&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Fw(s,a)}catch(k){Bt(u,u.return,k)}}break;case 27:a===null&&h&4&&eS(u);case 26:case 5:To(s,u),a===null&&h&4&&X0(u),h&512&&uu(u,u.return);break;case 12:To(s,u);break;case 31:To(s,u),h&4&&oS(s,u);break;case 13:To(s,u),h&4&&aS(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=VA.bind(null,u),cO(s,u))));break;case 22:if(h=u.memoizedState!==null||Ao,!h){a=a!==null&&a.memoizedState!==null||Tn,v=Ao;var y=Tn;Ao=h,(Tn=a)&&!y?zo(s,u,(u.subtreeFlags&8772)!==0):To(s,u),Ao=v,Tn=y}break;case 30:break;default:To(s,u)}}function rS(s){var a=s.alternate;a!==null&&(s.alternate=null,rS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ts(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var on=null,kr=!1;function Oo(s,a,u){for(u=u.child;u!==null;)sS(s,a,u),u=u.sibling}function sS(s,a,u){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ft,u)}catch{}switch(u.tag){case 26:Tn||Xs(u,a),Oo(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Tn||Xs(u,a);var h=on,v=kr;_a(u.type)&&(on=u.stateNode,kr=!1),Oo(s,a,u),bu(u.stateNode),on=h,kr=v;break;case 5:Tn||Xs(u,a);case 6:if(h=on,v=kr,on=null,Oo(s,a,u),on=h,kr=v,on!==null)if(kr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(u.stateNode)}catch(y){Bt(u,a,y)}else try{on.removeChild(u.stateNode)}catch(y){Bt(u,a,y)}break;case 18:on!==null&&(kr?(s=on,ZS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Bl(s)):ZS(on,u.stateNode));break;case 4:h=on,v=kr,on=u.stateNode.containerInfo,kr=!0,Oo(s,a,u),on=h,kr=v;break;case 0:case 11:case 14:case 15:ya(2,u,a),Tn||ya(4,u,a),Oo(s,a,u);break;case 1:Tn||(Xs(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Q0(u,a,h)),Oo(s,a,u);break;case 21:Oo(s,a,u);break;case 22:Tn=(h=Tn)||u.memoizedState!==null,Oo(s,a,u),Tn=h;break;default:Oo(s,a,u)}}function oS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bl(s)}catch(u){Bt(a,a.return,u)}}}function aS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bl(s)}catch(u){Bt(a,a.return,u)}}function zA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new tS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new tS),a;default:throw Error(r(435,s.tag))}}function Df(s,a){var u=zA(s);a.forEach(function(h){if(!u.has(h)){u.add(h);var v=HA.bind(null,s,h);h.then(v,v)}})}function Rr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],y=s,k=a,$=k;e:for(;$!==null;){switch($.tag){case 27:if(_a($.type)){on=$.stateNode,kr=!1;break e}break;case 5:on=$.stateNode,kr=!1;break e;case 3:case 4:on=$.stateNode.containerInfo,kr=!0;break e}$=$.return}if(on===null)throw Error(r(160));sS(y,k,v),on=null,kr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)iS(a,s),a=a.sibling}var Ms=null;function iS(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(a,s),Mr(s),h&4&&(ya(3,s,s.return),cu(3,s),ya(5,s,s.return));break;case 1:Rr(a,s),Mr(s),h&512&&(Tn||u===null||Xs(u,u.return)),h&64&&Ao&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Ms;if(Rr(a,s),Mr(s),h&512&&(Tn||u===null||Xs(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Ws]||y[Mn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(h),v.head.insertBefore(y,v.querySelector("head > title"))),ir(y,h,u),y[Mn]=s,xn(y),h=y;break e;case"link":var k=iC("link","href",v).get(h+(u.href||""));if(k){for(var $=0;$<k.length;$++)if(y=k[$],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice($,1);break t}}y=v.createElement(h),ir(y,h,u),v.head.appendChild(y);break;case"meta":if(k=iC("meta","content",v).get(h+(u.content||""))){for($=0;$<k.length;$++)if(y=k[$],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice($,1);break t}}y=v.createElement(h),ir(y,h,u),v.head.appendChild(y);break;default:throw Error(r(468,h))}y[Mn]=s,xn(y),h=y}s.stateNode=h}else lC(v,s.type,s.stateNode);else s.stateNode=aC(v,h,s.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?lC(v,s.type,s.stateNode):aC(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Pg(s,s.memoizedProps,u.memoizedProps)}break;case 27:Rr(a,s),Mr(s),h&512&&(Tn||u===null||Xs(u,u.return)),u!==null&&h&4&&Pg(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Rr(a,s),Mr(s),h&512&&(Tn||u===null||Xs(u,u.return)),s.flags&32){v=s.stateNode;try{na(v,"")}catch(Be){Bt(s,s.return,Be)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,Pg(s,v,u!==null?u.memoizedProps:v)),h&1024&&($g=!0);break;case 6:if(Rr(a,s),Mr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(Be){Bt(s,s.return,Be)}}break;case 3:if(Gf=null,v=Ms,Ms=qf(a.containerInfo),Rr(a,s),Ms=v,Mr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Bl(a.containerInfo)}catch(Be){Bt(s,s.return,Be)}$g&&($g=!1,lS(s));break;case 4:h=Ms,Ms=qf(s.stateNode.containerInfo),Rr(a,s),Mr(s),Ms=h;break;case 12:Rr(a,s),Mr(s);break;case 31:Rr(a,s),Mr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Df(s,h)));break;case 13:Rr(a,s),Mr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Of=je()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Df(s,h)));break;case 22:v=s.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,he=Ao,Se=Tn;if(Ao=he||v,Tn=Se||X,Rr(a,s),Tn=Se,Ao=he,Mr(s),h&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||X||Ao||Tn||_i(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){X=u=a;try{if(y=X.stateNode,v)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{$=X.stateNode;var Ne=X.memoizedProps.style,pe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;$.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Be){Bt(X,X.return,Be)}}}else if(a.tag===6){if(u===null){X=a;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Be){Bt(X,X.return,Be)}}}else if(a.tag===18){if(u===null){X=a;try{var be=X.stateNode;v?QS(be,!0):QS(X.stateNode,!1)}catch(Be){Bt(X,X.return,Be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Df(s,u))));break;case 19:Rr(a,s),Mr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Df(s,h)));break;case 30:break;case 21:break;default:Rr(a,s),Mr(s)}}function Mr(s){var a=s.flags;if(a&2){try{for(var u,h=s.return;h!==null;){if(J0(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,y=Ig(s);Mf(s,y,v);break;case 5:var k=u.stateNode;u.flags&32&&(na(k,""),u.flags&=-33);var $=Ig(s);Mf(s,$,k);break;case 3:case 4:var X=u.stateNode.containerInfo,he=Ig(s);Lg(s,he,X);break;default:throw Error(r(161))}}catch(Se){Bt(s,s.return,Se)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function lS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;lS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function To(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nS(s,a.alternate,a),a=a.sibling}function _i(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ya(4,a,a.return),_i(a);break;case 1:Xs(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Q0(a,a.return,u),_i(a);break;case 27:bu(a.stateNode);case 26:case 5:Xs(a,a.return),_i(a);break;case 22:a.memoizedState===null&&_i(a);break;case 30:_i(a);break;default:_i(a)}s=s.sibling}}function zo(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=s,y=a,k=y.flags;switch(y.tag){case 0:case 11:case 15:zo(v,y,u),cu(4,y);break;case 1:if(zo(v,y,u),h=y,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){Bt(h,h.return,he)}if(h=y,v=h.updateQueue,v!==null){var $=h.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)$w(X[v],$)}catch(he){Bt(h,h.return,he)}}u&&k&64&&Z0(y),uu(y,y.return);break;case 27:eS(y);case 26:case 5:zo(v,y,u),u&&h===null&&k&4&&X0(y),uu(y,y.return);break;case 12:zo(v,y,u);break;case 31:zo(v,y,u),u&&k&4&&oS(v,y);break;case 13:zo(v,y,u),u&&k&4&&aS(v,y);break;case 22:y.memoizedState===null&&zo(v,y,u),uu(y,y.return);break;case 30:break;default:zo(v,y,u)}a=a.sibling}}function Fg(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Zc(u))}function Ug(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Zc(s))}function Ds(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cS(s,a,u,h),a=a.sibling}function cS(s,a,u,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(s,a,u,h),v&2048&&cu(9,a);break;case 1:Ds(s,a,u,h);break;case 3:Ds(s,a,u,h),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Zc(s)));break;case 12:if(v&2048){Ds(s,a,u,h),s=a.stateNode;try{var y=a.memoizedProps,k=y.id,$=y.onPostCommit;typeof $=="function"&&$(k,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(X){Bt(a,a.return,X)}}else Ds(s,a,u,h);break;case 31:Ds(s,a,u,h);break;case 13:Ds(s,a,u,h);break;case 23:break;case 22:y=a.stateNode,k=a.alternate,a.memoizedState!==null?y._visibility&2?Ds(s,a,u,h):du(s,a):y._visibility&2?Ds(s,a,u,h):(y._visibility|=2,Dl(s,a,u,h,(a.subtreeFlags&10256)!==0||!1)),v&2048&&Fg(k,a);break;case 24:Ds(s,a,u,h),v&2048&&Ug(a.alternate,a);break;default:Ds(s,a,u,h)}}function Dl(s,a,u,h,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,k=a,$=u,X=h,he=k.flags;switch(k.tag){case 0:case 11:case 15:Dl(y,k,$,X,v),cu(8,k);break;case 23:break;case 22:var Se=k.stateNode;k.memoizedState!==null?Se._visibility&2?Dl(y,k,$,X,v):du(y,k):(Se._visibility|=2,Dl(y,k,$,X,v)),v&&he&2048&&Fg(k.alternate,k);break;case 24:Dl(y,k,$,X,v),v&&he&2048&&Ug(k.alternate,k);break;default:Dl(y,k,$,X,v)}a=a.sibling}}function du(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,v=h.flags;switch(h.tag){case 22:du(u,h),v&2048&&Fg(h.alternate,h);break;case 24:du(u,h),v&2048&&Ug(h.alternate,h);break;default:du(u,h)}a=a.sibling}}var fu=8192;function Al(s,a,u){if(s.subtreeFlags&fu)for(s=s.child;s!==null;)uS(s,a,u),s=s.sibling}function uS(s,a,u){switch(s.tag){case 26:Al(s,a,u),s.flags&fu&&s.memoizedState!==null&&wO(u,Ms,s.memoizedState,s.memoizedProps);break;case 5:Al(s,a,u);break;case 3:case 4:var h=Ms;Ms=qf(s.stateNode.containerInfo),Al(s,a,u),Ms=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=fu,fu=16777216,Al(s,a,u),fu=h):Al(s,a,u));break;default:Al(s,a,u)}}function dS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function mu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Zn=h,mS(h,s)}dS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fS(s),s=s.sibling}function fS(s){switch(s.tag){case 0:case 11:case 15:mu(s),s.flags&2048&&ya(9,s,s.return);break;case 3:mu(s);break;case 12:mu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Af(s)):mu(s);break;default:mu(s)}}function Af(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Zn=h,mS(h,s)}dS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ya(8,a,a.return),Af(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Af(a));break;default:Af(a)}s=s.sibling}}function mS(s,a){for(;Zn!==null;){var u=Zn;switch(u.tag){case 0:case 11:case 15:ya(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Zc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Zn=h;else e:for(u=s;Zn!==null;){h=Zn;var v=h.sibling,y=h.return;if(rS(h),h===u){Zn=null;break e}if(v!==null){v.return=y,Zn=v;break e}Zn=y}}}var PA={getCacheForType:function(s){var a=or(Dn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return or(Dn).controller.signal}},IA=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Qt=null,wt=null,Ct=0,Ut=0,$r=null,wa=!1,Ol=!1,Bg=!1,Po=0,bn=0,Sa=0,ki=0,Vg=0,Fr=0,Tl=0,hu=null,Dr=null,Hg=!1,Of=0,hS=0,Tf=1/0,zf=null,Ca=null,Bn=0,ja=null,zl=null,Io=0,qg=0,Wg=null,pS=null,pu=0,Gg=null;function Ur(){return(Pt&2)!==0&&Ct!==0?Ct&-Ct:P.T!==null?Jg():Er()}function gS(){if(Fr===0)if((Ct&536870912)===0||Et){var s=Ie;Ie<<=1,(Ie&3932160)===0&&(Ie=262144),Fr=s}else Fr=536870912;return s=Ir.current,s!==null&&(s.flags|=32),Fr}function Ar(s,a,u){(s===Qt&&(Ut===2||Ut===9)||s.cancelPendingCommit!==null)&&(Pl(s,0),Ea(s,Ct,Fr,!1)),Rn(s,u),((Pt&2)===0||s!==Qt)&&(s===Qt&&((Pt&2)===0&&(ki|=u),bn===4&&Ea(s,Ct,Fr,!1)),Js(s))}function xS(s,a,u){if((Pt&6)!==0)throw Error(r(327));var h=!u&&(a&127)===0&&(a&s.expiredLanes)===0||pn(s,a),v=h?FA(s,a):Kg(s,a,!0),y=h;do{if(v===0){Ol&&!h&&Ea(s,a,0,!1);break}else{if(u=s.current.alternate,y&&!LA(u)){v=Kg(s,a,!1),y=!1;continue}if(v===2){if(y=a,s.errorRecoveryDisabledLanes&y)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var $=s;v=hu;var X=$.current.memoizedState.isDehydrated;if(X&&(Pl($,k).flags|=256),k=Kg($,k,!1),k!==2){if(Bg&&!X){$.errorRecoveryDisabledLanes|=y,ki|=y,v=4;break e}y=Dr,Dr=v,y!==null&&(Dr===null?Dr=y:Dr.push.apply(Dr,y))}v=k}if(y=!1,v!==2)continue}}if(v===1){Pl(s,0),Ea(s,a,0,!0);break}e:{switch(h=s,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ea(h,a,Fr,!wa);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Of+300-je(),10<v)){if(Ea(h,a,Fr,!wa),We(h,0,!0)!==0)break e;Io=a,h.timeoutHandle=YS(vS.bind(null,h,u,Dr,zf,Hg,a,Fr,ki,Tl,wa,y,"Throttled",-0,0),v);break e}vS(h,u,Dr,zf,Hg,a,Fr,ki,Tl,wa,y,null,-0,0)}}break}while(!0);Js(s)}function vS(s,a,u,h,v,y,k,$,X,he,Se,Ne,pe,be){if(s.timeoutHandle=-1,Ne=a.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},uS(a,y,Ne);var Be=(y&62914560)===y?Of-je():(y&4194048)===y?hS-je():0;if(Be=SO(Ne,Be),Be!==null){Io=y,s.cancelPendingCommit=Be(NS.bind(null,s,a,y,u,h,v,k,$,X,Se,Ne,null,pe,be)),Ea(s,y,k,!he);return}}NS(s,a,y,u,h,v,k,$,X)}function LA(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],y=v.getSnapshot;v=v.value;try{if(!zr(y(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ea(s,a,u,h){a&=~Vg,a&=~ki,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var v=a;0<v;){var y=31-Lt(v),k=1<<y;h[y]=-1,v&=~k}u!==0&&jr(s,u,a)}function Pf(){return(Pt&6)===0?(gu(0),!1):!0}function Yg(){if(wt!==null){if(Ut===0)var s=wt.return;else s=wt,No=bi=null,ug(s),Nl=null,Xc=0,s=wt;for(;s!==null;)K0(s.alternate,s),s=s.return;wt=null}}function Pl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,sO(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Io=0,Yg(),Qt=s,wt=u=jo(s.current,null),Ct=a,Ut=0,$r=null,wa=!1,Ol=pn(s,a),Bg=!1,Tl=Fr=Vg=ki=Sa=bn=0,Dr=hu=null,Hg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var v=31-Lt(h),y=1<<v;a|=s[v],h&=~y}return Po=a,nf(),u}function bS(s,a){ht=null,P.H=au,a===El||a===df?(a=zw(),Ut=3):a===Xp?(a=zw(),Ut=4):Ut=a===Ng?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$r=a,wt===null&&(bn=1,Ef(s,cs(a,s.current)))}function yS(){var s=Ir.current;return s===null?!0:(Ct&4194048)===Ct?ms===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?s===ms:!1}function wS(){var s=P.H;return P.H=au,s===null?au:s}function SS(){var s=P.A;return P.A=PA,s}function If(){bn=4,wa||(Ct&4194048)!==Ct&&Ir.current!==null||(Ol=!0),(Sa&134217727)===0&&(ki&134217727)===0||Qt===null||Ea(Qt,Ct,Fr,!1)}function Kg(s,a,u){var h=Pt;Pt|=2;var v=wS(),y=SS();(Qt!==s||Ct!==a)&&(zf=null,Pl(s,a)),a=!1;var k=bn;e:do try{if(Ut!==0&&wt!==null){var $=wt,X=$r;switch(Ut){case 8:Yg(),k=6;break e;case 3:case 2:case 9:case 6:Ir.current===null&&(a=!0);var he=Ut;if(Ut=0,$r=null,Il(s,$,X,he),u&&Ol){k=0;break e}break;default:he=Ut,Ut=0,$r=null,Il(s,$,X,he)}}$A(),k=bn;break}catch(Se){bS(s,Se)}while(!0);return a&&s.shellSuspendCounter++,No=bi=null,Pt=h,P.H=v,P.A=y,wt===null&&(Qt=null,Ct=0,nf()),k}function $A(){for(;wt!==null;)CS(wt)}function FA(s,a){var u=Pt;Pt|=2;var h=wS(),v=SS();Qt!==s||Ct!==a?(zf=null,Tf=je()+500,Pl(s,a)):Ol=pn(s,a);e:do try{if(Ut!==0&&wt!==null){a=wt;var y=$r;t:switch(Ut){case 1:Ut=0,$r=null,Il(s,a,y,1);break;case 2:case 9:if(Ow(y)){Ut=0,$r=null,jS(a);break}a=function(){Ut!==2&&Ut!==9||Qt!==s||(Ut=7),Js(s)},y.then(a,a);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:Ow(y)?(Ut=0,$r=null,jS(a)):(Ut=0,$r=null,Il(s,a,y,7));break;case 5:var k=null;switch(wt.tag){case 26:k=wt.memoizedState;case 5:case 27:var $=wt;if(k?cC(k):$.stateNode.complete){Ut=0,$r=null;var X=$.sibling;if(X!==null)wt=X;else{var he=$.return;he!==null?(wt=he,Lf(he)):wt=null}break t}}Ut=0,$r=null,Il(s,a,y,5);break;case 6:Ut=0,$r=null,Il(s,a,y,6);break;case 8:Yg(),bn=6;break e;default:throw Error(r(462))}}UA();break}catch(Se){bS(s,Se)}while(!0);return No=bi=null,P.H=h,P.A=v,Pt=u,wt!==null?0:(Qt=null,Ct=0,nf(),bn)}function UA(){for(;wt!==null&&!ue();)CS(wt)}function CS(s){var a=G0(s.alternate,s,Po);s.memoizedProps=s.pendingProps,a===null?Lf(s):wt=a}function jS(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=U0(u,a,a.pendingProps,a.type,void 0,Ct);break;case 11:a=U0(u,a,a.pendingProps,a.type.render,a.ref,Ct);break;case 5:ug(a);default:K0(u,a),a=wt=Sw(a,Po),a=G0(u,a,Po)}s.memoizedProps=s.pendingProps,a===null?Lf(s):wt=a}function Il(s,a,u,h){No=bi=null,ug(a),Nl=null,Xc=0;var v=a.return;try{if(RA(s,v,a,u,Ct)){bn=1,Ef(s,cs(u,s.current)),wt=null;return}}catch(y){if(v!==null)throw wt=v,y;bn=1,Ef(s,cs(u,s.current)),wt=null;return}a.flags&32768?(Et||h===1?s=!0:Ol||(Ct&536870912)!==0?s=!1:(wa=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ir.current,h!==null&&h.tag===13&&(h.flags|=16384))),ES(a,s)):Lf(a)}function Lf(s){var a=s;do{if((a.flags&32768)!==0){ES(a,wa);return}s=a.return;var u=AA(a.alternate,a,Po);if(u!==null){wt=u;return}if(a=a.sibling,a!==null){wt=a;return}wt=a=s}while(a!==null);bn===0&&(bn=5)}function ES(s,a){do{var u=OA(s.alternate,s);if(u!==null){u.flags&=32767,wt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){wt=s;return}wt=s=u}while(s!==null);bn=6,wt=null}function NS(s,a,u,h,v,y,k,$,X){s.cancelPendingCommit=null;do $f();while(Bn!==0);if((Pt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Ip,jn(s,u,y,k,$,X),s===Qt&&(wt=Qt=null,Ct=0),zl=a,ja=s,Io=u,qg=y,Wg=v,pS=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,qA(ne,function(){return DS(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=P.T,P.T=null,v=q.p,q.p=2,k=Pt,Pt|=4;try{TA(s,a,u)}finally{Pt=k,q.p=v,P.T=h}}Bn=1,_S(),kS(),RS()}}function _S(){if(Bn===1){Bn=0;var s=ja,a=zl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var h=q.p;q.p=2;var v=Pt;Pt|=4;try{iS(a,s);var y=ix,k=mw(s.containerInfo),$=y.focusedElem,X=y.selectionRange;if(k!==$&&$&&$.ownerDocument&&fw($.ownerDocument.documentElement,$)){if(X!==null&&Ap($)){var he=X.start,Se=X.end;if(Se===void 0&&(Se=he),"selectionStart"in $)$.selectionStart=he,$.selectionEnd=Math.min(Se,$.value.length);else{var Ne=$.ownerDocument||document,pe=Ne&&Ne.defaultView||window;if(pe.getSelection){var be=pe.getSelection(),Be=$.textContent.length,st=Math.min(X.start,Be),Yt=X.end===void 0?st:Math.min(X.end,Be);!be.extend&&st>Yt&&(k=Yt,Yt=st,st=k);var ie=dw($,st),se=dw($,Yt);if(ie&&se&&(be.rangeCount!==1||be.anchorNode!==ie.node||be.anchorOffset!==ie.offset||be.focusNode!==se.node||be.focusOffset!==se.offset)){var me=Ne.createRange();me.setStart(ie.node,ie.offset),be.removeAllRanges(),st>Yt?(be.addRange(me),be.extend(se.node,se.offset)):(me.setEnd(se.node,se.offset),be.addRange(me))}}}}for(Ne=[],be=$;be=be.parentNode;)be.nodeType===1&&Ne.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ne.length;$++){var Ce=Ne[$];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Qf=!!ax,ix=ax=null}finally{Pt=v,q.p=h,P.T=u}}s.current=a,Bn=2}}function kS(){if(Bn===2){Bn=0;var s=ja,a=zl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var h=q.p;q.p=2;var v=Pt;Pt|=4;try{nS(s,a.alternate,a)}finally{Pt=v,q.p=h,P.T=u}}Bn=3}}function RS(){if(Bn===4||Bn===3){Bn=0,De();var s=ja,a=zl,u=Io,h=pS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bn=5:(Bn=0,zl=ja=null,MS(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Ca=null),es(u),a=a.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ft,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=P.T,v=q.p,q.p=2,P.T=null;try{for(var y=s.onRecoverableError,k=0;k<h.length;k++){var $=h[k];y($.value,{componentStack:$.stack})}}finally{P.T=a,q.p=v}}(Io&3)!==0&&$f(),Js(s),v=s.pendingLanes,(u&261930)!==0&&(v&42)!==0?s===Gg?pu++:(pu=0,Gg=s):pu=0,gu(0)}}function MS(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Zc(a)))}function $f(){return _S(),kS(),RS(),DS()}function DS(){if(Bn!==5)return!1;var s=ja,a=qg;qg=0;var u=es(Io),h=P.T,v=q.p;try{q.p=32>u?32:u,P.T=null,u=Wg,Wg=null;var y=ja,k=Io;if(Bn=0,zl=ja=null,Io=0,(Pt&6)!==0)throw Error(r(331));var $=Pt;if(Pt|=4,fS(y.current),cS(y,y.current,k,u),Pt=$,gu(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ft,y)}catch{}return!0}finally{q.p=v,P.T=h,MS(s,a)}}function AS(s,a,u){a=cs(u,a),a=Eg(s.stateNode,a,2),s=xa(s,a,2),s!==null&&(Rn(s,2),Js(s))}function Bt(s,a,u){if(s.tag===3)AS(s,s,u);else for(;a!==null;){if(a.tag===3){AS(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){s=cs(u,s),u=O0(2),h=xa(a,u,2),h!==null&&(T0(u,h,a,s),Rn(h,2),Js(h));break}}a=a.return}}function Zg(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new IA;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(u)||(Bg=!0,v.add(u),s=BA.bind(null,s,a,u),a.then(s,s))}function BA(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Qt===s&&(Ct&u)===u&&(bn===4||bn===3&&(Ct&62914560)===Ct&&300>je()-Of?(Pt&2)===0&&Pl(s,0):Vg|=u,Tl===Ct&&(Tl=0)),Js(s)}function OS(s,a){a===0&&(a=Cn()),s=gi(s,a),s!==null&&(Rn(s,a),Js(s))}function VA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),OS(s,u)}function HA(s,a){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),OS(s,u)}function qA(s,a){return Q(s,a)}var Ff=null,Ll=null,Qg=!1,Uf=!1,Xg=!1,Na=0;function Js(s){s!==Ll&&s.next===null&&(Ll===null?Ff=Ll=s:Ll=Ll.next=s),Uf=!0,Qg||(Qg=!0,GA())}function gu(s,a){if(!Xg&&Uf){Xg=!0;do for(var u=!1,h=Ff;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var y=0;else{var k=h.suspendedLanes,$=h.pingedLanes;y=(1<<31-Lt(42|s)+1)-1,y&=v&~(k&~$),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,IS(h,y))}else y=Ct,y=We(h,h===Qt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||pn(h,y)||(u=!0,IS(h,y));h=h.next}while(u);Xg=!1}}function WA(){TS()}function TS(){Uf=Qg=!1;var s=0;Na!==0&&rO()&&(s=Na);for(var a=je(),u=null,h=Ff;h!==null;){var v=h.next,y=zS(h,a);y===0?(h.next=null,u===null?Ff=v:u.next=v,v===null&&(Ll=u)):(u=h,(s!==0||(y&3)!==0)&&(Uf=!0)),h=v}Bn!==0&&Bn!==5||gu(s),Na!==0&&(Na=0)}function zS(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var k=31-Lt(y),$=1<<k,X=v[k];X===-1?(($&u)===0||($&h)!==0)&&(v[k]=Sn($,a)):X<=a&&(s.expiredLanes|=$),y&=~$}if(a=Qt,u=Ct,u=We(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===a&&(Ut===2||Ut===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Z(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||pn(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&Z(h),es(u)){case 2:case 8:u=ye;break;case 32:u=ne;break;case 268435456:u=Te;break;default:u=ne}return h=PS.bind(null,s),u=Q(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&Z(h),s.callbackPriority=2,s.callbackNode=null,2}function PS(s,a){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if($f()&&s.callbackNode!==u)return null;var h=Ct;return h=We(s,s===Qt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(xS(s,h,a),zS(s,je()),s.callbackNode!=null&&s.callbackNode===u?PS.bind(null,s):null)}function IS(s,a){if($f())return null;xS(s,a,!0)}function GA(){oO(function(){(Pt&6)!==0?Q(Me,WA):TS()})}function Jg(){if(Na===0){var s=Cl;s===0&&(s=Ae,Ae<<=1,(Ae&261888)===0&&(Ae=256)),Na=s}return Na}function LS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:al(""+s)}function $S(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function YA(s,a,u,h,v){if(a==="submit"&&u&&u.stateNode===v){var y=LS((v[nr]||null).action),k=h.submitter;k&&(a=(a=k[nr]||null)?LS(a.formAction):k.getAttribute("formAction"),a!==null&&(y=a,k=null));var $=new Ic("action","action",null,h,v);s.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Na!==0){var X=k?$S(v,k):new FormData(v);bg(u,{pending:!0,data:X,method:v.method,action:y},null,X)}}else typeof y=="function"&&($.preventDefault(),X=k?$S(v,k):new FormData(v),bg(u,{pending:!0,data:X,method:v.method,action:y},y,X))},currentTarget:v}]})}}for(var ex=0;ex<Pp.length;ex++){var tx=Pp[ex],KA=tx.toLowerCase(),ZA=tx[0].toUpperCase()+tx.slice(1);Rs(KA,"on"+ZA)}Rs(gw,"onAnimationEnd"),Rs(xw,"onAnimationIteration"),Rs(vw,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(fA,"onTransitionRun"),Rs(mA,"onTransitionStart"),Rs(hA,"onTransitionCancel"),Rs(bw,"onTransitionEnd"),xo("onMouseEnter",["mouseout","mouseover"]),xo("onMouseLeave",["mouseout","mouseover"]),xo("onPointerEnter",["pointerout","pointerover"]),xo("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function FS(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],v=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var k=h.length-1;0<=k;k--){var $=h[k],X=$.instance,he=$.currentTarget;if($=$.listener,X!==y&&v.isPropagationStopped())break e;y=$,v.currentTarget=he;try{y(v)}catch(Se){tf(Se)}v.currentTarget=null,y=X}else for(k=0;k<h.length;k++){if($=h[k],X=$.instance,he=$.currentTarget,$=$.listener,X!==y&&v.isPropagationStopped())break e;y=$,v.currentTarget=he;try{y(v)}catch(Se){tf(Se)}v.currentTarget=null,y=X}}}}function St(s,a){var u=a[si];u===void 0&&(u=a[si]=new Set);var h=s+"__bubble";u.has(h)||(US(a,s,2,!1),u.add(h))}function nx(s,a,u){var h=0;a&&(h|=4),US(u,s,h,a)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function rx(s){if(!s[Bf]){s[Bf]=!0,Ud.forEach(function(u){u!=="selectionchange"&&(QA.has(u)||nx(u,!1,s),nx(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Bf]||(a[Bf]=!0,nx("selectionchange",!1,a))}}function US(s,a,u,h){switch(gC(a)){case 2:var v=EO;break;case 8:v=NO;break;default:v=vx}u=v.bind(null,a,u,s),v=void 0,!Ys||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function sx(s,a,u,h,v){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var $=h.stateNode.containerInfo;if($===v)break;if(k===4)for(k=h.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;$!==null;){if(k=go($),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){h=y=k;continue e}$=$.parentNode}}h=h.return}wo(function(){var he=y,Se=sa(u),Ne=[];e:{var pe=yw.get(s);if(pe!==void 0){var be=Ic,Be=s;switch(s){case"keypress":if(aa(u)===0)break e;case"keydown":case"keyup":be=yp;break;case"focusin":Be="focus",be=$c;break;case"focusout":Be="blur",be=$c;break;case"beforeblur":case"afterblur":be=$c;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Sp;break;case gw:case xw:case vw:be=xp;break;case bw:be=jp;break;case"scroll":case"scrollend":be=Lc;break;case"wheel":be=Ep;break;case"copy":case"cut":case"paste":be=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Yd;break;case"toggle":case"beforetoggle":be=_p}var st=(a&4)!==0,Yt=!st&&(s==="scroll"||s==="scrollend"),ie=st?pe!==null?pe+"Capture":null:pe;st=[];for(var se=he,me;se!==null;){var Ce=se;if(me=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||me===null||ie===null||(Ce=dn(se,ie),Ce!=null&&st.push(vu(se,Ce,me))),Yt)break;se=se.return}0<st.length&&(pe=new be(pe,Be,null,u,Se),Ne.push({event:pe,listeners:st}))}}if((a&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",pe&&u!==Gs&&(Be=u.relatedTarget||u.fromElement)&&(go(Be)||Be[Zo]))break e;if((be||pe)&&(pe=Se.window===Se?Se:(pe=Se.ownerDocument)?pe.defaultView||pe.parentWindow:window,be?(Be=u.relatedTarget||u.toElement,be=he,Be=Be?go(Be):null,Be!==null&&(Yt=l(Be),st=Be.tag,Be!==Yt||st!==5&&st!==27&&st!==6)&&(Be=null)):(be=null,Be=he),be!==Be)){if(st=Wd,Ce="onMouseLeave",ie="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(st=Yd,Ce="onPointerLeave",ie="onPointerEnter",se="pointer"),Yt=be==null?pe:rs(be),me=Be==null?pe:rs(Be),pe=new st(Ce,se+"leave",be,u,Se),pe.target=Yt,pe.relatedTarget=me,Ce=null,go(Se)===he&&(st=new st(ie,se+"enter",Be,u,Se),st.target=me,st.relatedTarget=Yt,Ce=st),Yt=Ce,be&&Be)t:{for(st=XA,ie=be,se=Be,me=0,Ce=ie;Ce;Ce=st(Ce))me++;Ce=0;for(var Je=se;Je;Je=st(Je))Ce++;for(;0<me-Ce;)ie=st(ie),me--;for(;0<Ce-me;)se=st(se),Ce--;for(;me--;){if(ie===se||se!==null&&ie===se.alternate){st=ie;break t}ie=st(ie),se=st(se)}st=null}else st=null;be!==null&&BS(Ne,pe,be,st,!1),Be!==null&&Yt!==null&&BS(Ne,Yt,Be,st,!0)}}e:{if(pe=he?rs(he):window,be=pe.nodeName&&pe.nodeName.toLowerCase(),be==="select"||be==="input"&&pe.type==="file")var Mt=yt;else if(J(pe))if(fn)Mt=cA;else{Mt=ef;var Ye=mi}else be=pe.nodeName,!be||be.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&zc(he.elementType)&&(Mt=yt):Mt=qc;if(Mt&&(Mt=Mt(s,he))){xe(Ne,Mt,u,Se);break e}Ye&&Ye(s,pe,he),s==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&Tc(pe,"number",pe.value)}switch(Ye=he?rs(he):window,s){case"focusin":(J(Ye)||Ye.contentEditable==="true")&&(pl=Ye,Op=he,Gc=null);break;case"focusout":Gc=Op=pl=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,hw(Ne,u,Se);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":hw(Ne,u,Se)}var gt;if(Vc)e:{switch(s){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else ua?Xd(s,u)&&(jt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(Kd&&u.locale!=="ko"&&(ua||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ua&&(gt=Ks()):(is=Se,ll="value"in is?is.value:is.textContent,ua=!0)),Ye=Vf(he,jt),0<Ye.length&&(jt=new ml(jt,s,null,u,Se),Ne.push({event:jt,listeners:Ye}),gt?jt.data=gt:(gt=Jd(u),gt!==null&&(jt.data=gt)))),(gt=Rp?Mp(s,u):Dp(s,u))&&(jt=Vf(he,"onBeforeInput"),0<jt.length&&(Ye=new ml("onBeforeInput","beforeinput",null,u,Se),Ne.push({event:Ye,listeners:jt}),Ye.data=gt)),YA(Ne,s,he,u,Se)}FS(Ne,a)})}function vu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Vf(s,a){for(var u=a+"Capture",h=[];s!==null;){var v=s,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=dn(s,u),v!=null&&h.unshift(vu(s,v,y)),v=dn(s,a),v!=null&&h.push(vu(s,v,y))),s.tag===3)return h;s=s.return}return[]}function XA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function BS(s,a,u,h,v){for(var y=a._reactName,k=[];u!==null&&u!==h;){var $=u,X=$.alternate,he=$.stateNode;if($=$.tag,X!==null&&X===h)break;$!==5&&$!==26&&$!==27||he===null||(X=he,v?(he=dn(u,y),he!=null&&k.unshift(vu(u,he,X))):v||(he=dn(u,y),he!=null&&k.push(vu(u,he,X)))),u=u.return}k.length!==0&&s.push({event:a,listeners:k})}var JA=/\r\n?/g,eO=/\u0000|\uFFFD/g;function VS(s){return(typeof s=="string"?s:""+s).replace(JA,`
`).replace(eO,"")}function HS(s,a){return a=VS(a),VS(s)===a}function Gt(s,a,u,h,v,y){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||na(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&na(s,""+h);break;case"className":ea(s,"class",h);break;case"tabIndex":ea(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(s,u,h);break;case"style":qd(s,h,y);break;case"data":if(a!=="object"){ea(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=al(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&Gt(s,a,"name",v.name,v,null),Gt(s,a,"formEncType",v.formEncType,v,null),Gt(s,a,"formMethod",v.formMethod,v,null),Gt(s,a,"formTarget",v.formTarget,v,null)):(Gt(s,a,"encType",v.encType,v,null),Gt(s,a,"method",v.method,v,null),Gt(s,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=al(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Kn);break;case"onScroll":h!=null&&St("scroll",s);break;case"onScrollEnd":h!=null&&St("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=al(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":St("beforetoggle",s),St("toggle",s),Jo(s,"popover",h);break;case"xlinkActuate":pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pt(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pt(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pt(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pt(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Jo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vr.get(u)||u,Jo(s,u,h))}}function ox(s,a,u,h,v,y){switch(u){case"style":qd(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?na(s,h):(typeof h=="number"||typeof h=="bigint")&&na(s,""+h);break;case"onScroll":h!=null&&St("scroll",s);break;case"onScrollEnd":h!=null&&St("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),y=s[nr]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(a,y,v),typeof h=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,v);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Jo(s,u,h)}}}function ir(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",s),St("load",s);var h=!1,v=!1,y;for(y in u)if(u.hasOwnProperty(y)){var k=u[y];if(k!=null)switch(y){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Gt(s,a,y,k,u,null)}}v&&Gt(s,a,"srcSet",u.srcSet,u,null),h&&Gt(s,a,"src",u.src,u,null);return;case"input":St("invalid",s);var $=y=k=v=null,X=null,he=null;for(h in u)if(u.hasOwnProperty(h)){var Se=u[h];if(Se!=null)switch(h){case"name":v=Se;break;case"type":k=Se;break;case"checked":X=Se;break;case"defaultChecked":he=Se;break;case"value":y=Se;break;case"defaultValue":$=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,a));break;default:Gt(s,a,h,Se,u,null)}}vo(s,y,$,X,he,k,v,!1);return;case"select":St("invalid",s),h=k=y=null;for(v in u)if(u.hasOwnProperty(v)&&($=u[v],$!=null))switch(v){case"value":y=$;break;case"defaultValue":k=$;break;case"multiple":h=$;default:Gt(s,a,v,$,u,null)}a=y,u=k,s.multiple=!!h,a!=null?bo(s,!!h,a,!1):u!=null&&bo(s,!!h,u,!0);return;case"textarea":St("invalid",s),y=v=h=null;for(k in u)if(u.hasOwnProperty(k)&&($=u[k],$!=null))switch(k){case"value":h=$;break;case"defaultValue":v=$;break;case"children":y=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Gt(s,a,k,$,u,null)}tt(s,h,v,y);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(h=u[X],h!=null))switch(X){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Gt(s,a,X,h,u,null)}return;case"dialog":St("beforetoggle",s),St("toggle",s),St("cancel",s),St("close",s);break;case"iframe":case"object":St("load",s);break;case"video":case"audio":for(h=0;h<xu.length;h++)St(xu[h],s);break;case"image":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"embed":case"source":case"link":St("error",s),St("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(h=u[he],h!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Gt(s,a,he,h,u,null)}return;default:if(zc(a)){for(Se in u)u.hasOwnProperty(Se)&&(h=u[Se],h!==void 0&&ox(s,a,Se,h,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(h=u[$],h!=null&&Gt(s,a,$,h,u,null))}function tO(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,k=null,$=null,X=null,he=null,Se=null;for(be in u){var Ne=u[be];if(u.hasOwnProperty(be)&&Ne!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":X=Ne;default:h.hasOwnProperty(be)||Gt(s,a,be,null,h,Ne)}}for(var pe in h){var be=h[pe];if(Ne=u[pe],h.hasOwnProperty(pe)&&(be!=null||Ne!=null))switch(pe){case"type":y=be;break;case"name":v=be;break;case"checked":he=be;break;case"defaultChecked":Se=be;break;case"value":k=be;break;case"defaultValue":$=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:be!==Ne&&Gt(s,a,pe,be,h,Ne)}}os(s,k,$,X,he,Se,y,v);return;case"select":be=k=$=pe=null;for(y in u)if(X=u[y],u.hasOwnProperty(y)&&X!=null)switch(y){case"value":break;case"multiple":be=X;default:h.hasOwnProperty(y)||Gt(s,a,y,null,h,X)}for(v in h)if(y=h[v],X=u[v],h.hasOwnProperty(v)&&(y!=null||X!=null))switch(v){case"value":pe=y;break;case"defaultValue":$=y;break;case"multiple":k=y;default:y!==X&&Gt(s,a,v,y,h,X)}a=$,u=k,h=be,pe!=null?bo(s,!!u,pe,!1):!!h!=!!u&&(a!=null?bo(s,!!u,a,!0):bo(s,!!u,u?[]:"",!1));return;case"textarea":be=pe=null;for($ in u)if(v=u[$],u.hasOwnProperty($)&&v!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Gt(s,a,$,null,h,v)}for(k in h)if(v=h[k],y=u[k],h.hasOwnProperty(k)&&(v!=null||y!=null))switch(k){case"value":pe=v;break;case"defaultValue":be=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&Gt(s,a,k,v,h,y)}Hd(s,pe,be);return;case"option":for(var Be in u)if(pe=u[Be],u.hasOwnProperty(Be)&&pe!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:Gt(s,a,Be,null,h,pe)}for(X in h)if(pe=h[X],be=u[X],h.hasOwnProperty(X)&&pe!==be&&(pe!=null||be!=null))switch(X){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Gt(s,a,X,pe,h,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in u)pe=u[st],u.hasOwnProperty(st)&&pe!=null&&!h.hasOwnProperty(st)&&Gt(s,a,st,null,h,pe);for(he in h)if(pe=h[he],be=u[he],h.hasOwnProperty(he)&&pe!==be&&(pe!=null||be!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,a));break;default:Gt(s,a,he,pe,h,be)}return;default:if(zc(a)){for(var Yt in u)pe=u[Yt],u.hasOwnProperty(Yt)&&pe!==void 0&&!h.hasOwnProperty(Yt)&&ox(s,a,Yt,void 0,h,pe);for(Se in h)pe=h[Se],be=u[Se],!h.hasOwnProperty(Se)||pe===be||pe===void 0&&be===void 0||ox(s,a,Se,pe,h,be);return}}for(var ie in u)pe=u[ie],u.hasOwnProperty(ie)&&pe!=null&&!h.hasOwnProperty(ie)&&Gt(s,a,ie,null,h,pe);for(Ne in h)pe=h[Ne],be=u[Ne],!h.hasOwnProperty(Ne)||pe===be||pe==null&&be==null||Gt(s,a,Ne,pe,h,be)}function qS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],y=v.transferSize,k=v.initiatorType,$=v.duration;if(y&&$&&qS(k)){for(k=0,$=v.responseEnd,h+=1;h<u.length;h++){var X=u[h],he=X.startTime;if(he>$)break;var Se=X.transferSize,Ne=X.initiatorType;Se&&qS(Ne)&&(X=X.responseEnd,k+=Se*(X<$?1:($-he)/(X-he)))}if(--h,a+=8*(y+k)/(v.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ax=null,ix=null;function Hf(s){return s.nodeType===9?s:s.ownerDocument}function WS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GS(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function lx(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cx=null;function rO(){var s=window.event;return s&&s.type==="popstate"?s===cx?!1:(cx=s,!0):(cx=null,!1)}var YS=typeof setTimeout=="function"?setTimeout:void 0,sO=typeof clearTimeout=="function"?clearTimeout:void 0,KS=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof KS<"u"?function(s){return KS.resolve(null).then(s).catch(aO)}:YS;function aO(s){setTimeout(function(){throw s})}function _a(s){return s==="head"}function ZS(s,a){var u=a,h=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(v),Bl(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")bu(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,bu(u);for(var y=u.firstChild;y;){var k=y.nextSibling,$=y.nodeName;y[Ws]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=k}}else u==="body"&&bu(s.ownerDocument.body);u=v}while(u);Bl(a)}function QS(s,a){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function ux(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ux(u),ts(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function iO(s,a,u,h){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ws])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=hs(s.nextSibling),s===null)break}return null}function lO(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=hs(s.nextSibling),s===null))return null;return s}function XS(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=hs(s.nextSibling),s===null))return null;return s}function dx(s){return s.data==="$?"||s.data==="$~"}function fx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cO(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function hs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var mx=null;function JS(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return hs(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function eC(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function tC(s,a,u){switch(a=Hf(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function bu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ts(s)}var ps=new Map,nC=new Set;function qf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Lo=q.d;q.d={f:uO,r:dO,D:fO,C:mO,L:hO,m:pO,X:xO,S:gO,M:vO};function uO(){var s=Lo.f(),a=Pf();return s||a}function dO(s){var a=ns(s);a!==null&&a.tag===5&&a.type==="form"?b0(a):Lo.r(s)}var $l=typeof document>"u"?null:document;function rC(s,a,u){var h=$l;if(h&&typeof a=="string"&&a){var v=Nr(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),nC.has(v)||(nC.add(v),s={rel:s,crossOrigin:u,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),ir(a,"link",s),xn(a),h.head.appendChild(a)))}}function fO(s){Lo.D(s),rC("dns-prefetch",s,null)}function mO(s,a){Lo.C(s,a),rC("preconnect",s,a)}function hO(s,a,u){Lo.L(s,a,u);var h=$l;if(h&&s&&a){var v='link[rel="preload"][as="'+Nr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nr(u.imageSizes)+'"]')):v+='[href="'+Nr(s)+'"]';var y=v;switch(a){case"style":y=Fl(s);break;case"script":y=Ul(s)}ps.has(y)||(s=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),ps.set(y,s),h.querySelector(v)!==null||a==="style"&&h.querySelector(yu(y))||a==="script"&&h.querySelector(wu(y))||(a=h.createElement("link"),ir(a,"link",s),xn(a),h.head.appendChild(a)))}}function pO(s,a){Lo.m(s,a);var u=$l;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Nr(h)+'"][href="'+Nr(s)+'"]',y=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ul(s)}if(!ps.has(y)&&(s=x({rel:"modulepreload",href:s},a),ps.set(y,s),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(wu(y)))return}h=u.createElement("link"),ir(h,"link",s),xn(h),u.head.appendChild(h)}}}function gO(s,a,u){Lo.S(s,a,u);var h=$l;if(h&&s){var v=Qo(h).hoistableStyles,y=Fl(s);a=a||"default";var k=v.get(y);if(!k){var $={loading:0,preload:null};if(k=h.querySelector(yu(y)))$.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":a},u),(u=ps.get(y))&&hx(s,u);var X=k=h.createElement("link");xn(X),ir(X,"link",s),X._p=new Promise(function(he,Se){X.onload=he,X.onerror=Se}),X.addEventListener("load",function(){$.loading|=1}),X.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Wf(k,a,h)}k={type:"stylesheet",instance:k,count:1,state:$},v.set(y,k)}}}function xO(s,a){Lo.X(s,a);var u=$l;if(u&&s){var h=Qo(u).hoistableScripts,v=Ul(s),y=h.get(v);y||(y=u.querySelector(wu(v)),y||(s=x({src:s,async:!0},a),(a=ps.get(v))&&px(s,a),y=u.createElement("script"),xn(y),ir(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function vO(s,a){Lo.M(s,a);var u=$l;if(u&&s){var h=Qo(u).hoistableScripts,v=Ul(s),y=h.get(v);y||(y=u.querySelector(wu(v)),y||(s=x({src:s,async:!0,type:"module"},a),(a=ps.get(v))&&px(s,a),y=u.createElement("script"),xn(y),ir(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function sC(s,a,u,h){var v=(v=G.current)?qf(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Fl(u.href),u=Qo(v).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Fl(u.href);var y=Qo(v).hoistableStyles,k=y.get(s);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,k),(y=v.querySelector(yu(s)))&&!y._p&&(k.instance=y,k.state.loading=5),ps.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ps.set(s,u),y||bO(v,s,u,k.state))),a&&h===null)throw Error(r(528,""));return k}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ul(u),u=Qo(v).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Fl(s){return'href="'+Nr(s)+'"'}function yu(s){return'link[rel="stylesheet"]['+s+"]"}function oC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function bO(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),ir(a,"link",u),xn(a),s.head.appendChild(a))}function Ul(s){return'[src="'+Nr(s)+'"]'}function wu(s){return"script[async]"+s}function aC(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Nr(u.href)+'"]');if(h)return a.instance=h,xn(h),h;var v=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),xn(h),ir(h,"style",v),Wf(h,u.precedence,s),a.instance=h;case"stylesheet":v=Fl(u.href);var y=s.querySelector(yu(v));if(y)return a.state.loading|=4,a.instance=y,xn(y),y;h=oC(u),(v=ps.get(v))&&hx(h,v),y=(s.ownerDocument||s).createElement("link"),xn(y);var k=y;return k._p=new Promise(function($,X){k.onload=$,k.onerror=X}),ir(y,"link",h),a.state.loading|=4,Wf(y,u.precedence,s),a.instance=y;case"script":return y=Ul(u.src),(v=s.querySelector(wu(y)))?(a.instance=v,xn(v),v):(h=u,(v=ps.get(y))&&(h=x({},u),px(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),xn(v),ir(v,"link",h),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Wf(h,u.precedence,s));return a.instance}function Wf(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,y=v,k=0;k<h.length;k++){var $=h[k];if($.dataset.precedence===a)y=$;else if(y!==v)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function hx(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function px(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Gf=null;function iC(s,a,u){if(Gf===null){var h=new Map,v=Gf=new Map;v.set(u,h)}else v=Gf,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var y=u[v];if(!(y[Ws]||y[Mn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(a)||"";k=s+k;var $=h.get(k);$?$.push(y):h.set(k,[y])}}return h}function lC(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function yO(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function wO(s,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Fl(h.href),y=a.querySelector(yu(v));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Yf.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=y,xn(y);return}y=a.ownerDocument||a,h=oC(h),(v=ps.get(v))&&hx(h,v),y=y.createElement("link"),xn(y);var k=y;k._p=new Promise(function($,X){k.onload=$,k.onerror=X}),ir(y,"link",h),u.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Yf.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var gx=0;function SO(s,a){return s.stylesheets&&s.count===0&&Zf(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&Zf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&gx===0&&(gx=62500*nO());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Zf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>gx?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kf=null;function Zf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kf=new Map,a.forEach(CO,s),Kf=null,Yf.call(s))}function CO(s,a){if(!(a.state.loading&4)){var u=Kf.get(s);if(u)var h=u.get(null);else{u=new Map,Kf.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var k=v[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),h=k)}h&&u.set(null,h)}v=a.instance,k=v.getAttribute("data-precedence"),y=u.get(k)||h,y===h&&u.set(null,v),u.set(k,v),this.count++,h=Yf.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),y?y.parentNode.insertBefore(v,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var Su={$$typeof:_,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function jO(s,a,u,h,v,y,k,$,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.hiddenUpdates=gn(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function uC(s,a,u,h,v,y,k,$,X,he,Se,Ne){return s=new jO(s,a,u,k,X,he,Se,Ne,$),a=1,y===!0&&(a|=24),y=Pr(3,null,null,a),s.current=y,y.stateNode=s,a=Kp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:a},Jp(y),s}function dC(s){return s?(s=vl,s):vl}function fC(s,a,u,h,v,y){v=dC(v),h.context===null?h.context=v:h.pendingContext=v,h=ga(a),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=xa(s,h,a),u!==null&&(Ar(u,s,a),eu(u,s,a))}function mC(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function xx(s,a){mC(s,a),(s=s.alternate)&&mC(s,a)}function hC(s){if(s.tag===13||s.tag===31){var a=gi(s,67108864);a!==null&&Ar(a,s,67108864),xx(s,67108864)}}function pC(s){if(s.tag===13||s.tag===31){var a=Ur();a=Ss(a);var u=gi(s,a);u!==null&&Ar(u,s,a),xx(s,a)}}var Qf=!0;function EO(s,a,u,h){var v=P.T;P.T=null;var y=q.p;try{q.p=2,vx(s,a,u,h)}finally{q.p=y,P.T=v}}function NO(s,a,u,h){var v=P.T;P.T=null;var y=q.p;try{q.p=8,vx(s,a,u,h)}finally{q.p=y,P.T=v}}function vx(s,a,u,h){if(Qf){var v=bx(h);if(v===null)sx(s,a,h,Xf,u),xC(s,h);else if(kO(v,s,a,u,h))h.stopPropagation();else if(xC(s,h),a&4&&-1<_O.indexOf(s)){for(;v!==null;){var y=ns(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=it(y.pendingLanes);if(k!==0){var $=y;for($.pendingLanes|=2,$.entangledLanes|=2;k;){var X=1<<31-Lt(k);$.entanglements[1]|=X,k&=~X}Js(y),(Pt&6)===0&&(Tf=je()+500,gu(0))}}break;case 31:case 13:$=gi(y,2),$!==null&&Ar($,y,2),Pf(),xx(y,2)}if(y=bx(h),y===null&&sx(s,a,h,Xf,u),y===v)break;v=y}v!==null&&h.stopPropagation()}else sx(s,a,h,null,u)}}function bx(s){return s=sa(s),yx(s)}var Xf=null;function yx(s){if(Xf=null,s=go(s),s!==null){var a=l(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=c(a),s!==null)return s;s=null}else if(u===31){if(s=d(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Xf=s,null}function gC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Me:return 2;case ye:return 8;case ne:case we:return 32;case Te:return 268435456;default:return 32}default:return 32}}var wx=!1,ka=null,Ra=null,Ma=null,Cu=new Map,ju=new Map,Da=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xC(s,a){switch(s){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Cu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(a.pointerId)}}function Eu(s,a,u,h,v,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},a!==null&&(a=ns(a),a!==null&&hC(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function kO(s,a,u,h,v){switch(a){case"focusin":return ka=Eu(ka,s,a,u,h,v),!0;case"dragenter":return Ra=Eu(Ra,s,a,u,h,v),!0;case"mouseover":return Ma=Eu(Ma,s,a,u,h,v),!0;case"pointerover":var y=v.pointerId;return Cu.set(y,Eu(Cu.get(y)||null,s,a,u,h,v)),!0;case"gotpointercapture":return y=v.pointerId,ju.set(y,Eu(ju.get(y)||null,s,a,u,h,v)),!0}return!1}function vC(s){var a=go(s.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){s.blockedOn=a,Cs(s.priority,function(){pC(u)});return}}else if(a===31){if(a=d(u),a!==null){s.blockedOn=a,Cs(s.priority,function(){pC(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=bx(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Gs=h,u.target.dispatchEvent(h),Gs=null}else return a=ns(u),a!==null&&hC(a),s.blockedOn=u,!1;a.shift()}return!0}function bC(s,a,u){Jf(s)&&u.delete(a)}function RO(){wx=!1,ka!==null&&Jf(ka)&&(ka=null),Ra!==null&&Jf(Ra)&&(Ra=null),Ma!==null&&Jf(Ma)&&(Ma=null),Cu.forEach(bC),ju.forEach(bC)}function em(s,a){s.blockedOn===a&&(s.blockedOn=null,wx||(wx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RO)))}var tm=null;function yC(s){tm!==s&&(tm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){tm===s&&(tm=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],v=s[a+2];if(typeof h!="function"){if(yx(h||u)===null)continue;break}var y=ns(u);y!==null&&(s.splice(a,3),a-=3,bg(y,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Bl(s){function a(X){return em(X,s)}ka!==null&&em(ka,s),Ra!==null&&em(Ra,s),Ma!==null&&em(Ma,s),Cu.forEach(a),ju.forEach(a);for(var u=0;u<Da.length;u++){var h=Da[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Da.length&&(u=Da[0],u.blockedOn===null);)vC(u),u.blockedOn===null&&Da.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],y=u[h+1],k=v[nr]||null;if(typeof y=="function")k||yC(u);else if(k){var $=null;if(y&&y.hasAttribute("formAction")){if(v=y,k=y[nr]||null)$=k.formAction;else if(yx(v)!==null)continue}else $=k.action;typeof $=="function"?u[h+1]=$:(u.splice(h,3),h-=3),yC(u)}}}function wC(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Sx(s){this._internalRoot=s}nm.prototype.render=Sx.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Ur();fC(u,h,s,a,null,null)},nm.prototype.unmount=Sx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fC(s.current,2,null,s,null,null),Pf(),a[Zo]=null}};function nm(s){this._internalRoot=s}nm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Er();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Da.length&&a!==0&&a<Da[u].priority;u++);Da.splice(u,0,s),u===0&&vC(s)}};var SC=t.version;if(SC!=="19.2.0")throw Error(r(527,SC,"19.2.0"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var MO={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{ft=rm.inject(MO),Ot=rm}catch{}}return _u.createRoot=function(s,a){if(!o(s))throw Error(r(299));var u=!1,h="",v=R0,y=M0,k=D0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=uC(s,1,!1,null,null,u,h,null,v,y,k,wC),s[Zo]=a.current,rx(s),new Sx(a)},_u.hydrateRoot=function(s,a,u){if(!o(s))throw Error(r(299));var h=!1,v="",y=R0,k=M0,$=D0,X=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(X=u.formState)),a=uC(s,1,!0,a,u??null,h,v,X,y,k,$,wC),a.context=dC(null),u=a.current,h=Ur(),h=Ss(h),v=ga(h),v.callback=null,xa(u,v,h),u=h,a.current.lanes=u,Rn(a,u),Js(a),s[Zo]=a.current,rx(s),new nm(a)},_u.version="19.2.0",_u}var AC;function FO(){if(AC)return Ex.exports;AC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ex.exports=$O(),Ex.exports}var UO=FO();const BO=vb(UO),ph=m.createContext(null);function VO({children:e}){const[t,n]=m.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),r=m.useRef(new Set),o=m.useRef(t);m.useEffect(()=>{o.current=t},[t]);const l=m.useCallback(p=>{for(const g of r.current)if(g(p)===!1)return!1;return!0},[]);m.useEffect(()=>{const p=()=>{const g={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},x=`${g.pathname}${g.search}${g.hash}`;if(!l({kind:"pop",to:x,location:g})){const w=o.current;window.history.pushState(null,"",`${w.pathname}${w.search}${w.hash}`);return}n(g)};return window.addEventListener("popstate",p),()=>window.removeEventListener("popstate",p)},[l]);const c=m.useCallback(p=>(r.current.add(p),()=>{r.current.delete(p)}),[]),d=m.useCallback((p,g)=>{const x=new URL(p,window.location.origin),b={pathname:x.pathname,search:x.search,hash:x.hash},w=`${b.pathname}${b.search}${b.hash}`,S=g?.replace?"replace":"push";l({kind:S,to:w,location:b})&&(g?.replace?window.history.replaceState(null,"",w):window.history.pushState(null,"",w),window.dispatchEvent(new PopStateEvent("popstate")))},[l]),f=m.useMemo(()=>({location:t,navigate:d,registerBlocker:c}),[t,d,c]);return i.jsx(ph.Provider,{value:f,children:e})}function pr(){const e=m.useContext(ph);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function an(){const e=m.useContext(ph);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function ZE(e,t=!0){const n=m.useContext(ph);if(!n)throw new Error("useNavigationBlocker must be used within NavProvider");m.useEffect(()=>{if(t)return n.registerBlocker(e)},[e,n,t])}function QE(e){let t=e||"/";const n=t.indexOf("#");n>=0&&(t=t.slice(0,n));const r=t.indexOf("?");return r>=0&&(t=t.slice(0,r)),t?(t.startsWith("/")||(t=`/${t}`),t.replace(/\/+$/,"")||"/"):"/"}var vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HO={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qO=class{#e=HO;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Oi=new qO;function WO(e){setTimeout(e,0)}var $i=typeof window>"u"||"Deno"in globalThis;function yr(){}function GO(e,t){return typeof e=="function"?e(t):e}function Sv(e){return typeof e=="number"&&e>=0&&e!==1/0}function XE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ba(e,t){return typeof e=="function"?e(t):e}function vs(e,t){return typeof e=="function"?e(t):e}function OC(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:c,stale:d}=e;if(c){if(r){if(t.queryHash!==wb(c,t.options))return!1}else if(!Ju(t.queryKey,c))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function TC(e,t){const{exact:n,status:r,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Fi(t.options.mutationKey)!==Fi(l))return!1}else if(!Ju(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function wb(e,t){return(t?.queryKeyHashFn||Fi)(e)}function Fi(e){return JSON.stringify(e,(t,n)=>Cv(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ju(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ju(e[n],t[n])):!1}var YO=Object.prototype.hasOwnProperty;function JE(e,t){if(e===t)return e;const n=zC(e)&&zC(t);if(!n&&!(Cv(e)&&Cv(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),c=l.length,d=n?new Array(c):{};let f=0;for(let p=0;p<c;p++){const g=n?p:l[p],x=e[g],b=t[g];if(x===b){d[g]=x,(n?p<o:YO.call(e,g))&&f++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[g]=b;continue}const w=JE(x,b);d[g]=w,w===x&&f++}return o===c&&f===o?e:d}function $m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function zC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cv(e){if(!PC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!PC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function PC(e){return Object.prototype.toString.call(e)==="[object Object]"}function KO(e){return new Promise(t=>{Oi.setTimeout(t,e)})}function jv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?JE(e,t):t}function ZO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function QO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Sb=Symbol();function eN(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Sb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tN(e,t){return typeof e=="function"?e(...t):!!e}var XO=class extends vc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!$i&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Cb=new XO;function Ev(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}var JO=WO;function eT(){let e=[],t=0,n=d=>{d()},r=d=>{d()},o=JO;const l=d=>{t?e.push(d):o(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&o(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{o=d}}}var qn=eT(),tT=class extends vc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!$i&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Fm=new tT;function nT(e){return Math.min(1e3*2**e,3e4)}function nN(e){return(e??"online")==="online"?Fm.isOnline():!0}var Nv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function rN(e){let t=!1,n=0,r;const o=Ev(),l=()=>o.status!=="pending",c=C=>{if(!l()){const j=new Nv(C);b(j),e.onCancel?.(j)}},d=()=>{t=!0},f=()=>{t=!1},p=()=>Cb.isFocused()&&(e.networkMode==="always"||Fm.isOnline())&&e.canRun(),g=()=>nN(e.networkMode)&&e.canRun(),x=C=>{l()||(r?.(),o.resolve(C))},b=C=>{l()||(r?.(),o.reject(C))},w=()=>new Promise(C=>{r=j=>{(l()||p())&&C(j)},e.onPause?.()}).then(()=>{r=void 0,l()||e.onContinue?.()}),S=()=>{if(l())return;let C;const j=n===0?e.initialPromise:void 0;try{C=j??e.fn()}catch(E){C=Promise.reject(E)}Promise.resolve(C).then(x).catch(E=>{if(l())return;const N=e.retry??($i?0:3),_=e.retryDelay??nT,R=typeof _=="function"?_(n,E):_,M=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(t||!M){b(E);return}n++,e.onFail?.(n,E),KO(R).then(()=>p()?void 0:w()).then(()=>{t?b(E):S()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(r?.(),o),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():w().then(S),o)}}var sN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sv(this.gcTime)&&(this.#e=Oi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($i?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Oi.clearTimeout(this.#e),this.#e=void 0)}},rT=class extends sN{#e;#t;#n;#s;#r;#a;#i;constructor(e){super(),this.#i=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=IC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=IC(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=jv(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ba(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!XE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},o=()=>{const d=eN(this.options,t),p=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#i=!1,this.options.persister?this.options.persister(d,p,this):d(p)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#o({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=rN({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Nv&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Nv){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oN(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),qn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function oN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var aN=class extends vc{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#i=Ev(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#i;#o;#p;#f;#m;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),LC(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _v(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _v(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!$m(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&$C(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||vs(this.options.enabled,this.#t)!==vs(t.enabled,this.#t)||Ba(this.options.staleTime,this.#t)!==Ba(t.staleTime,this.#t))&&this.#g();const o=this.#x();r&&(this.#t!==n||vs(this.options.enabled,this.#t)!==vs(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return oT(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(yr)),t}#g(){this.#y();const e=Ba(this.options.staleTime,this.#t);if($i||this.#s.isStale||!Sv(e))return;const n=XE(this.#s.dataUpdatedAt,e)+1;this.#c=Oi.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!($i||vs(this.options.enabled,this.#t)===!1||!Sv(this.#l)||this.#l===0)&&(this.#u=Oi.setInterval(()=>{(this.options.refetchIntervalInBackground||Cb.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(Oi.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Oi.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,o=this.#s,l=this.#r,c=this.#a,f=e!==n?e.state:this.#n,{state:p}=e;let g={...p},x=!1,b;if(t._optimisticResults){const A=this.hasListeners(),L=!A&&LC(e,t),T=A&&$C(e,n,t,r);(L||T)&&(g={...g,...oN(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:C}=g;b=g.data;let j=!1;if(t.placeholderData!==void 0&&b===void 0&&C==="pending"){let A;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(A=o.data,j=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,A!==void 0&&(C="success",b=jv(o?.data,A,t),x=!0)}if(t.select&&b!==void 0&&!j)if(o&&b===l?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=jv(o?.data,b,t),this.#f=b,this.#o=null}catch(A){this.#o=A}this.#o&&(w=this.#o,b=this.#f,S=Date.now(),C="error");const E=g.fetchStatus==="fetching",N=C==="pending",_=C==="error",R=N&&E,M=b!==void 0,O={status:C,fetchStatus:g.fetchStatus,isPending:N,isSuccess:C==="success",isError:_,isInitialLoading:R,isLoading:R,data:b,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!N,isLoadingError:_&&!M,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:_&&M,isStale:jb(e,t),refetch:this.refetch,promise:this.#i,isEnabled:vs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=W=>{O.status==="error"?W.reject(O.error):O.data!==void 0&&W.resolve(O.data)},L=()=>{const W=this.#i=O.promise=Ev();A(W)},T=this.#i;switch(T.status){case"pending":e.queryHash===n.queryHash&&A(T);break;case"fulfilled":(O.status==="error"||O.data!==T.value)&&L();break;case"rejected":(O.status!=="error"||O.error!==T.reason)&&L();break}}return O}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#m=this.#t),$m(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#h.size)return!0;const l=new Set(o??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#s).some(c=>{const d=c;return this.#s[d]!==e[d]&&l.has(d)})};this.#C({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){qn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function sT(e,t){return vs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function LC(e,t){return sT(e,t)||e.state.data!==void 0&&_v(e,t,t.refetchOnMount)}function _v(e,t,n){if(vs(t.enabled,e)!==!1&&Ba(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&jb(e,t)}return!1}function $C(e,t,n,r){return(e!==t||vs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&jb(e,n)}function jb(e,t){return vs(t.enabled,e)!==!1&&e.isStaleByTime(Ba(t.staleTime,e))}function oT(e,t){return!$m(e.getCurrentResult(),t)}function Um(e){return{onFetch:(t,n)=>{const r=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=eN(t.options,t.fetchOptions),w=async(S,C,j)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:C,direction:j?"backward":"forward",meta:t.options.meta};return x(D),D})(),_=await b(N),{maxPages:R}=t.options,M=j?QO:ZO;return{pages:M(S.pages,_,R),pageParams:M(S.pageParams,C,R)}};if(o&&l.length){const S=o==="backward",C=S?iN:kv,j={pages:l,pageParams:c},E=C(r,j);d=await w(j,E,S)}else{const S=e??l.length;do{const C=f===0?c[0]??r.initialPageParam:kv(r,d);if(f>0&&C==null)break;d=await w(d,C),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=p}}}function kv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function iN(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function aT(e,t){return t?kv(e,t)!=null:!1}function iT(e,t){return!t||!e.getPreviousPageParam?!1:iN(e,t)!=null}var lT=class extends aN{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Um()})}getOptimisticResult(e){return e.behavior=Um(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:o,isRefetching:l,isError:c,isRefetchError:d}=r,f=n.fetchMeta?.fetchMore?.direction,p=c&&f==="forward",g=o&&f==="forward",x=c&&f==="backward",b=o&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:aT(t,n.data),hasPreviousPage:iT(t,n.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:x,isFetchingPreviousPage:b,isRefetchError:d&&!p&&!x,isRefetching:l&&!g&&!b}}},cT=class extends sN{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||lN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=rN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",o=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,n);const c=await this.options.onMutate?.(e,n);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,n),await this.options.onSuccess?.(l,e,this.state.context,n),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(l,null,e,this.state.context,n),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,n),await this.options.onError?.(l,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,l,e,this.state.context,n),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),qn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function lN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uT=class extends vc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new cT({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=sm(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=sm(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sm(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=sm(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){qn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>TC(t,n))}findAll(e={}){return this.getAll().filter(t=>TC(e,t))}notify(e){qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qn.batch(()=>Promise.all(e.map(t=>t.continue().catch(yr))))}};function sm(e){return e.options.scope?.id}var dT=class extends vc{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),$m(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Fi(n.mutationKey)!==Fi(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??lN();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){qn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,n,r,o),this.#s.onSettled?.(t.data,null,n,r,o)):t?.type==="error"&&(this.#s.onError?.(t.error,n,r,o),this.#s.onSettled?.(void 0,t.error,n,r,o))}this.listeners.forEach(n=>{n(this.#t)})})}},fT=class extends vc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,o=t.queryHash??wb(r,t);let l=this.get(o);return l||(l=new rT({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>OC(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>OC(e,n)):t}notify(e){qn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mT=class{#e;#t;#n;#s;#r;#a;#i;#o;constructor(e={}){this.#e=e.queryCache||new fT,this.#t=e.mutationCache||new uT,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=Cb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Fm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ba(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(r.queryHash)?.state.data,c=GO(t,l);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return qn.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;qn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return qn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(yr).catch(yr)}invalidateQueries(e,t={}){return qn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(yr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ba(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yr).catch(yr)}fetchInfiniteQuery(e){return e.behavior=Um(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yr).catch(yr)}ensureInfiniteQueryData(e){return e.behavior=Um(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Fi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{Ju(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Fi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Ju(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},cN=m.createContext(void 0),It=e=>{const t=m.useContext(cN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(cN.Provider,{value:e,children:t})),uN=m.createContext(!1),pT=()=>m.useContext(uN);uN.Provider;function gT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xT=m.createContext(gT()),vT=()=>m.useContext(xT),bT=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},yT=e=>{m.useEffect(()=>{e.clearReset()},[e])},wT=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||tN(n,[e.error,r])),ST=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},CT=(e,t)=>e.isLoading&&e.isFetching&&!t,jT=(e,t)=>e?.suspense&&t.isPending,FC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function dN(e,t,n){const r=pT(),o=vT(),l=It(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",ST(c),bT(c,o),yT(o);const d=!l.getQueryCache().get(c.queryHash),[f]=m.useState(()=>new t(l,c)),p=f.getOptimisticResult(c),g=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(x=>{const b=g?f.subscribe(qn.batchCalls(x)):yr;return f.updateResult(),b},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),m.useEffect(()=>{f.setOptions(c)},[c,f]),jT(c,p))throw FC(c,f,o);if(wT({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,p),c.experimental_prefetchInRender&&!$i&&CT(p,r)&&(d?FC(c,f,o):l.getQueryCache().get(c.queryHash)?.promise)?.catch(yr).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?p:f.trackResult(p)}function kn(e,t){return dN(e,aN)}function Ln(e,t){const n=It(),[r]=m.useState(()=>new dT(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const o=m.useSyncExternalStore(m.useCallback(c=>r.subscribe(qn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=m.useCallback((c,d)=>{r.mutate(c,d).catch(yr)},[r]);if(o.error&&tN(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function Eb(e,t){return dN(e,lT)}const ET="modulepreload",NT=function(e){return"/"+e},UC={},fN=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=f(n.map(p=>{if(p=NT(p),p in UC)return;UC[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":ET,g||(b.as="script"),b.crossOrigin="",b.href=p,d&&b.setAttribute("nonce",d),document.head.appendChild(b),g)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},_T=[{id:"default",label:"Default",description:"Slate neutrals + indigo accent.",kind:"accent"},{id:"ocean",label:"Ocean",description:"Cyan accent on slate neutrals.",kind:"accent"},{id:"forest",label:"Forest",description:"Emerald accent on slate neutrals.",kind:"accent"},{id:"sunset",label:"Sunset",description:"Orange accent on slate neutrals.",kind:"accent"},{id:"rose",label:"Rose",description:"Rose accent on slate neutrals.",kind:"accent"},{id:"grape",label:"Grape",description:"Violet accent on slate neutrals.",kind:"accent"},{id:"sand",label:"Sand",description:"Stone neutrals + teal accent.",kind:"full"},{id:"carbon",label:"Carbon",description:"Zinc neutrals + blue accent.",kind:"full"}],Nb="ade.mode",_b="ade.theme";function mN(e){if(typeof window>"u")return null;try{return window.localStorage.getItem(e)}catch(t){return console.warn("Failed to read theme preference",t),null}}function kT(){const e=mN(Nb);return e==="light"||e==="dark"||e==="system"?e:null}function RT(){const e=mN(_b);return typeof e=="string"&&e.length>0?e:null}function MT(e){if(!(typeof window>"u"))try{window.localStorage.setItem(Nb,e)}catch(t){console.warn("Failed to persist theme mode",t)}}function DT(e){if(!(typeof window>"u"))try{window.localStorage.setItem(_b,e)}catch(t){console.warn("Failed to persist theme name",t)}}const hN=m.createContext(null),BC="(prefers-color-scheme: dark)";function AT({children:e}){const t=m.useMemo(()=>kT(),[]),n=m.useMemo(()=>RT(),[]),[r,o]=m.useState(t??"system"),[l,c]=m.useState(n??VC),[d,f]=m.useState(null),[p,g]=m.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(BC).matches);m.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const E=window.matchMedia(BC),N=_=>{g(_.matches)};return typeof E.addEventListener=="function"?E.addEventListener("change",N):typeof E.addListener=="function"&&E.addListener(N),g(E.matches),()=>{typeof E.removeEventListener=="function"?E.removeEventListener("change",N):typeof E.removeListener=="function"&&E.removeListener(N)}},[]);const x=m.useMemo(()=>OT(r,p),[r,p]),b=d??l;m.useEffect(()=>{TT(b,x)},[b,x]),m.useEffect(()=>{DT(l)},[l]),m.useEffect(()=>{MT(r)},[r]),m.useEffect(()=>{if(typeof window>"u")return;const E=N=>{if(N.key===Nb){const _=N.newValue;_==="light"||_==="dark"||_==="system"?o(_):_===null&&o("system");return}if(N.key===_b){const _=N.newValue;typeof _=="string"&&_.length>0?(c(_),f(null)):_===null&&(c(VC),f(null))}};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[]);const w=m.useCallback(E=>{c(E),f(null)},[]),S=m.useCallback(E=>{f(E)},[]),C=m.useCallback(E=>{o(E)},[]),j=m.useMemo(()=>({theme:l,modePreference:r,resolvedMode:x,systemPrefersDark:p,setTheme:w,setPreviewTheme:S,setModePreference:C}),[r,x,C,S,w,p,l]);return i.jsx(hN.Provider,{value:j,children:e})}function kb(){const e=m.useContext(hN);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}const VC="default",pN=[{value:"system",label:"System",description:"Match your device"},{value:"light",label:"Light",description:"Bright and clear"},{value:"dark",label:"Dark",description:"Low-light friendly"}],gN=_T;function xN(e){return e==="dark"}function OT(e,t){return e==="system"?t?"dark":"light":e}function TT(e,t){if(typeof document>"u")return;const n=document.documentElement;n.dataset.theme=e,n.dataset.mode=t,n.style.colorScheme=xN(t)?"dark":"light"}var Wn=KE();const zT=vb(Wn);function vN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=vN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=vN(e))&&(r&&(r+=" "),r+=t);return r}function Ge({title:e,children:t,viewBox:n="0 0 20 20",fill:r="none",stroke:o="currentColor",strokeWidth:l=1.6,strokeLinecap:c="round",strokeLinejoin:d="round",...f}){const p=f["aria-label"],g=f["aria-labelledby"],x=!!(e||p||g),b=f["aria-hidden"]??(x?void 0:!0),w=f.role??(x?"img":"presentation"),S=f.focusable??!1;return i.jsxs("svg",{viewBox:n,fill:r,stroke:o,strokeWidth:l,strokeLinecap:c,strokeLinejoin:d,"aria-hidden":b,role:w,focusable:S,...f,children:[e?i.jsx("title",{children:e}):null,t]})}const Ze={viewBox:"0 0 24 24",strokeWidth:2},PT={viewBox:"0 0 16 16",strokeWidth:1.4},IT={viewBox:"0 0 10 10",strokeWidth:1.5};function LT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),i.jsx("path",{d:"M10 9H8"}),i.jsx("path",{d:"M16 13H8"}),i.jsx("path",{d:"M16 17H8"})]})}function gh(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:11,cy:11,r:8}),i.jsx("path",{d:"m21 21-4.3-4.3"})]})}function xh(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"17 8 12 3 7 8"}),i.jsx("line",{x1:12,x2:12,y1:3,y2:15})]})}function $T(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:12,x2:12,y1:15,y2:3})]})}function FT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:3,y:3,width:7,height:7,rx:1}),i.jsx("rect",{x:14,y:3,width:7,height:7,rx:1}),i.jsx("rect",{x:14,y:14,width:7,height:7,rx:1}),i.jsx("rect",{x:3,y:14,width:7,height:7,rx:1})]})}function uo(e){return i.jsxs(Ge,{...Ze,...e,strokeWidth:2.25,children:[i.jsx("path",{d:"M18 6 6 18"}),i.jsx("path",{d:"m6 6 12 12"})]})}function UT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),i.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),i.jsx("line",{x1:10,x2:10,y1:11,y2:17}),i.jsx("line",{x1:14,x2:14,y1:11,y2:17})]})}function BT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),i.jsx("path",{d:"M21 3v5h-5"}),i.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),i.jsx("path",{d:"M8 16H3v5"})]})}function VT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("line",{x1:21,x2:14,y1:4,y2:4}),i.jsx("line",{x1:10,x2:3,y1:4,y2:4}),i.jsx("line",{x1:21,x2:12,y1:12,y2:12}),i.jsx("line",{x1:8,x2:3,y1:12,y2:12}),i.jsx("line",{x1:21,x2:16,y1:20,y2:20}),i.jsx("line",{x1:12,x2:3,y1:20,y2:20}),i.jsx("line",{x1:14,x2:14,y1:2,y2:6}),i.jsx("line",{x1:8,x2:8,y1:10,y2:14}),i.jsx("line",{x1:16,x2:16,y1:18,y2:22})]})}function Zi(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m6 9 6 6 6-6"})})}function HT(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m15 18-6-6 6-6"})})}function qT(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m9 18 6-6-6-6"})})}function Va(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"M20 6 9 17l-5-5"})})}function WT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),i.jsx("path",{d:"M12 9v4"}),i.jsx("path",{d:"M12 17h.01"})]})}function GT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10}),i.jsx("polyline",{points:"12 6 12 12 16 14"})]})}function YT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),i.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}function KT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("line",{x1:4,x2:20,y1:12,y2:12}),i.jsx("line",{x1:4,x2:20,y1:6,y2:6}),i.jsx("line",{x1:4,x2:20,y1:18,y2:18})]})}function Rb(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"}),i.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"}),i.jsx("path",{d:"M12 2v2"}),i.jsx("path",{d:"M12 22v-2"}),i.jsx("path",{d:"m17 20.66-1-1.73"}),i.jsx("path",{d:"M11 10.27 7 3.34"}),i.jsx("path",{d:"m20.66 17-1.73-1"}),i.jsx("path",{d:"m3.34 7 1.73 1"}),i.jsx("path",{d:"M14 12h8"}),i.jsx("path",{d:"M2 12h2"}),i.jsx("path",{d:"m20.66 7-1.73 1"}),i.jsx("path",{d:"m3.34 17 1.73-1"}),i.jsx("path",{d:"m17 3.34-1 1.73"}),i.jsx("path",{d:"m11 13.73-4 6.93"})]})}function Mb(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"})]})}function bN(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"}),i.jsx("path",{d:"m2 2 20 20"}),i.jsx("path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"})]})}function ZT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M3 12h.01"}),i.jsx("path",{d:"M3 18h.01"}),i.jsx("path",{d:"M3 6h.01"}),i.jsx("path",{d:"M8 12h13"}),i.jsx("path",{d:"M8 18h13"}),i.jsx("path",{d:"M8 6h13"})]})}function QT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M20 7h-9"}),i.jsx("path",{d:"M14 17H5"}),i.jsx("circle",{cx:17,cy:17,r:3}),i.jsx("circle",{cx:7,cy:7,r:3})]})}function XT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"M12 16v-4"}),i.jsx("path",{d:"M12 8h.01"})]})}function JT(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"m9 12 2 2 4-4"})]})}function ez(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("line",{x1:12,x2:12,y1:8,y2:12}),i.jsx("line",{x1:12,x2:12.01,y1:16,y2:16})]})}function tz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:10,opacity:.8}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function nz(e){return i.jsx(Ge,{...Ze,...e,stroke:"none",children:i.jsx("path",{d:"M17.5 0h-9L7 1.5V6H2.5L1 7.5v15.07L2.5 24h12.07L16 22.57V18h4.7l1.3-1.43V4.5L17.5 0zm0 2.12l2.38 2.38H17.5V2.12zm-3 20.38h-12v-15H7v9.07L8.5 18h6v4.5zm6-6h-12v-15H16V6h4.5v10.5z",fill:"currentColor"})})}function rz(e){return i.jsx(Ge,{...Ze,...e,stroke:"none",children:i.jsx("path",{d:"M21.007 8.222A3.738 3.738 0 0 0 15.045 5.2a3.737 3.737 0 0 0 1.156 6.583 2.988 2.988 0 0 1-2.668 1.67h-2.99a4.456 4.456 0 0 0-2.989 1.165V7.4a3.737 3.737 0 1 0-1.494 0v9.117a3.776 3.776 0 1 0 1.816.099 2.99 2.99 0 0 1 2.668-1.667h2.99a4.484 4.484 0 0 0 4.223-3.039 3.736 3.736 0 0 0 3.25-3.687zM4.565 3.738a2.242 2.242 0 1 1 4.484 0 2.242 2.242 0 0 1-4.484 0zm4.484 16.441a2.242 2.242 0 1 1-4.484 0 2.242 2.242 0 0 1 4.484 0zm8.221-9.715a2.242 2.242 0 1 1 0-4.485 2.242 2.242 0 0 1 0 4.485z",fill:"currentColor"})})}function sz(e){return i.jsx(Ge,{...Ze,...e,children:i.jsx("path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z"})})}function oz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2}),i.jsx("path",{d:"M9 3v18"})]})}function yN(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}function az(e){return i.jsx(Ge,{...Ze,...e,children:i.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"})})}function iz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2}),i.jsx("path",{d:"M9 3v18"}),i.jsx("path",{d:"m16 15-3-3 3-3"})]})}function lz(e){return i.jsx(Ge,{...Ze,...e,children:i.jsx("path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"})})}function HC(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function cz(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m6 9 6 6 6-6"})})}function uz(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"m18 15-6-6-6 6"})})}function wN(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),i.jsx("path",{d:"M9 15h6"}),i.jsx("path",{d:"M12 18v-6"})]})}function Rv(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 10v6"}),i.jsx("path",{d:"M9 13h6"}),i.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"})]})}function dz(e){return i.jsxs(Ge,{viewBox:"0 0 16 16",strokeWidth:0,...e,stroke:"none",children:[i.jsx("path",{d:"M9 9H4v1h5V9z",fill:"currentColor"}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3l1-1h7l1 1v7l-1 1h-2v2l-1 1H3l-1-1V6l1-1h2V3zm1 2h4l1 1v4h2V3H6v2zm4 1H3v7h7V6z",fill:"currentColor"})]})}function qC(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),i.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),i.jsx("line",{x1:10,x2:10,y1:11,y2:17}),i.jsx("line",{x1:14,x2:14,y1:11,y2:17})]})}function fz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M13 12h8"}),i.jsx("path",{d:"M13 18h8"}),i.jsx("path",{d:"M13 6h8"}),i.jsx("path",{d:"M3 12h1"}),i.jsx("path",{d:"M3 18h1"}),i.jsx("path",{d:"M3 6h1"}),i.jsx("path",{d:"M8 12h1"}),i.jsx("path",{d:"M8 18h1"}),i.jsx("path",{d:"M8 6h1"})]})}function mz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 17V3"}),i.jsx("path",{d:"m6 11 6 6 6-6"}),i.jsx("path",{d:"M19 21H5"})]})}function hz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("polyline",{points:"4 17 10 11 4 5"}),i.jsx("line",{x1:12,x2:20,y1:19,y2:19})]})}function pz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),i.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),i.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),i.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]})}function gz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function xz(e){return i.jsx(Ge,{...Ze,...e,strokeWidth:2.25,children:i.jsx("path",{d:"M5 12h14"})})}function SN(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),i.jsx("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),i.jsx("path",{d:"M7 3v4a1 1 0 0 0 1 1h7"})]})}function vz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M10 2v3a1 1 0 0 0 1 1h5"}),i.jsx("path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6"}),i.jsx("path",{d:"M18 22H4a2 2 0 0 1-2-2V6"}),i.jsx("path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z"})]})}function bz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("line",{x1:12,x2:18,y1:12,y2:18}),i.jsx("line",{x1:12,x2:18,y1:18,y2:12}),i.jsx("rect",{x:8,y:8,width:14,height:14,rx:2,ry:2}),i.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}function yz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M3 5v14"}),i.jsx("path",{d:"M21 12H7"}),i.jsx("path",{d:"m15 18 6-6-6-6"})]})}function wz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function Sz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12 3v18"}),i.jsx("path",{d:"M3 12h18"}),i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2})]})}function Cz(e){return i.jsx(Ge,{...Ze,...e,children:i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2})})}function jz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}function Ez(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("circle",{cx:12,cy:12,r:1}),i.jsx("circle",{cx:19,cy:12,r:1}),i.jsx("circle",{cx:5,cy:12,r:1})]})}function Hu(e){return i.jsxs(Ge,{...e,viewBox:"0 0 24 24",strokeWidth:2.4,children:[i.jsx("circle",{cx:12,cy:12,r:9,opacity:.2}),i.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})]})}function Nz(e){return i.jsxs(Ge,{...PT,...e,strokeWidth:1.6,children:[i.jsx("circle",{cx:8,cy:8,r:6,opacity:.3}),i.jsx("path",{d:"M14 8a6 6 0 0 0-6-6"})]})}function WC(e){return i.jsx(Ge,{...Ze,...e,stroke:"none",children:i.jsx("polygon",{points:"6 3 20 12 6 21 6 3",fill:"currentColor"})})}function _z({filled:e,className:t}){const n={viewBox:"0 0 24 24",strokeWidth:2.1};return i.jsx(Ge,{...n,className:t,stroke:e?"none":void 0,children:e?i.jsxs("g",{children:[i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",fill:"currentColor"}),i.jsx("rect",{x:"11.1",y:"17",width:"1.8",height:"5",rx:"0.9",fill:"currentColor"})]}):i.jsxs("g",{children:[i.jsx("path",{d:"M12 17v5"}),i.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"})]})})}function kz(e){return i.jsx(Ge,{...IT,...e,children:i.jsx("path",{d:"M3 1l4 4-4 4"})})}function Rz(e){return i.jsxs(Ge,{...Ze,...e,children:[i.jsx("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),i.jsx("circle",{cx:7.5,cy:7.5,r:".5",fill:"currentColor"})]})}const CN=m.createContext(null),Mz=6e3,Dz=7e3,GC=4;function Az({children:e}){const[t,n]=m.useState([]),[r,o]=m.useState([]),l=m.useCallback(g=>{n(x=>x.filter(b=>b.id!==g)),o(x=>x.filter(b=>b.id!==g))},[]),c=m.useCallback(g=>{const x={kind:"toast",id:g.id??YC(),title:g.title,description:g.description,intent:g.intent??"info",actions:g.actions??[],duration:g.duration===void 0?Mz:g.duration,dismissible:g.dismissible??!0,scope:g.scope,persistKey:g.persistKey,icon:g.icon,createdAt:Date.now()};return n(b=>{const S=[...x.persistKey?b.filter(C=>C.persistKey!==x.persistKey):b,x];return S.length>GC?S.slice(S.length-GC):S}),typeof window<"u"&&x.duration&&x.duration>0&&window.setTimeout(()=>l(x.id),x.duration+50),x.id},[l]),d=m.useCallback(g=>{const x={kind:"banner",id:g.id??YC(),title:g.title,description:g.description,intent:g.intent??"info",actions:g.actions??[],duration:g.duration===void 0?g.sticky?null:Dz:g.duration,dismissible:g.dismissible??!0,scope:g.scope,persistKey:g.persistKey,icon:g.icon,sticky:g.sticky??!1,createdAt:Date.now()};return o(b=>[...x.persistKey?b.filter(S=>S.persistKey!==x.persistKey):b,x]),typeof window<"u"&&x.duration&&x.duration>0&&window.setTimeout(()=>l(x.id),x.duration+50),x.id},[l]),f=m.useCallback((g,x)=>{g&&((!x||x==="toast")&&n(b=>b.filter(w=>w.scope!==g)),(!x||x==="banner")&&o(b=>b.filter(w=>w.scope!==g)))},[]),p=m.useMemo(()=>({toasts:t,banners:r,pushToast:c,pushBanner:d,dismiss:l,clearScope:f}),[t,r,c,d,l,f]);return i.jsxs(CN.Provider,{value:p,children:[e,i.jsx(Oz,{})]})}function jN(){const e=m.useContext(CN);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function Oz(){const{toasts:e,banners:t,dismiss:n}=jN(),[r,o]=m.useState(!1);return m.useEffect(()=>o(!0),[]),!r||typeof document>"u"?null:Wn.createPortal(i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:t.slice().sort((l,c)=>l.createdAt-c.createdAt).map(l=>i.jsx(zz,{banner:l,onDismiss:n},l.id))}),i.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((l,c)=>l.createdAt-c.createdAt).map(l=>i.jsx(Tz,{toast:l,onDismiss:n},l.id))})]}),document.body)}function Tz({toast:e,onDismiss:t}){const n=e.duration!==null&&e.duration>0,[r,o]=m.useState(100);m.useEffect(()=>{if(!n||!e.duration)return;o(100);const c=requestAnimationFrame(()=>o(0)),d=window.setTimeout(()=>t(e.id),e.duration);return()=>{window.cancelAnimationFrame(c),window.clearTimeout(d)}},[n,e.duration,e.id,t]);const l=Pz[e.intent];return i.jsxs("div",{className:fe("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl",l.container,l.border),children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:fe("mt-1 flex h-8 w-8 items-center justify-center rounded-full",l.icon),children:e.icon??NN(e.intent)}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[i.jsx("p",{className:"text-sm font-semibold leading-snug text-foreground",children:e.title}),e.description?i.jsx("p",{className:"mt-1 text-xs leading-relaxed text-muted-foreground",children:e.description}):null,e.actions.length>0?i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(c=>i.jsx(EN,{action:c,onPress:()=>{c.onSelect(),t(e.id)}},c.label))}):null]}),e.dismissible?i.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition hover:bg-muted hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40","aria-label":"Dismiss notification",onClick:()=>t(e.id),children:i.jsx(uo,{className:"h-4 w-4"})}):null]}),n&&e.duration?i.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-foreground/10",children:i.jsx("div",{className:fe("h-full rounded-full",l.progress),style:{width:`${r}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function zz({banner:e,onDismiss:t}){const n=!e.sticky&&e.duration!==null&&e.duration>0,[r,o]=m.useState(100);m.useEffect(()=>{if(!n||!e.duration)return;o(100);const c=requestAnimationFrame(()=>o(0)),d=window.setTimeout(()=>t(e.id),e.duration);return()=>{window.cancelAnimationFrame(c),window.clearTimeout(d)}},[n,e.duration,e.id,t]);const l=Iz[e.intent];return i.jsxs("div",{className:fe("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-[0_16px_32px_rgb(var(--sys-color-shadow)/0.35)] sm:min-w-[300px]",l.container,l.border),children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:fe("flex h-7 w-7 items-center justify-center rounded-full text-base",l.icon),children:e.icon??NN(e.intent)}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[i.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?i.jsx("p",{className:"text-[12px] leading-relaxed text-muted-foreground",children:e.description}):null,e.actions.length>0?i.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(c=>i.jsx(EN,{action:c,onPress:()=>{c.onSelect(),e.sticky||t(e.id)}},c.label))}):null]}),e.dismissible?i.jsx("button",{type:"button",className:fe("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-muted-foreground transition hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40",l.dismiss),"aria-label":"Dismiss notification",onClick:()=>t(e.id),children:i.jsx(uo,{className:"h-4 w-4"})}):null]}),n&&e.duration?i.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-foreground/10",children:i.jsx("div",{className:fe("h-full rounded-full",l.progress),style:{width:`${r}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function EN({action:e,onPress:t}){const n=e.variant??"secondary";return i.jsx("button",{type:"button",className:fe("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",n==="primary"?"bg-foreground text-background hover:bg-foreground/90 focus-visible:ring-ring/50":"border-border/60 text-foreground hover:bg-muted focus-visible:ring-ring/40"),onClick:t,children:e.label})}function NN(e){switch(e){case"success":return i.jsx(JT,{className:"h-5 w-5"});case"warning":return i.jsx(ez,{className:"h-5 w-5"});case"danger":return i.jsx(tz,{className:"h-5 w-5"});default:return i.jsx(XT,{className:"h-5 w-5"})}}const Pz={info:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-info-500/15 text-info-500",progress:"bg-gradient-to-r from-info-500 to-info-400"},success:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-success-500/15 text-success-500",progress:"bg-gradient-to-r from-success-500 to-success-400"},warning:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-warning-400/20 text-warning-500",progress:"bg-gradient-to-r from-warning-400 to-warning-300"},danger:{container:"bg-popover text-foreground",border:"border-border/70",icon:"bg-danger-500/15 text-danger-500",progress:"bg-gradient-to-r from-danger-500 to-danger-400"}},Iz={info:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-info-500/15 text-info-500",progress:"bg-gradient-to-r from-info-500 to-info-400",dismiss:"hover:bg-muted"},success:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-success-500/15 text-success-500",progress:"bg-gradient-to-r from-success-500 to-success-400",dismiss:"hover:bg-muted"},warning:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-warning-500/15 text-warning-500",progress:"bg-gradient-to-r from-warning-400 to-warning-300",dismiss:"hover:bg-muted"},danger:{container:"bg-popover text-foreground",border:"border-border/60",icon:"bg-danger-500/15 text-danger-500",progress:"bg-gradient-to-r from-danger-500 to-danger-400",dismiss:"hover:bg-muted"}};function YC(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function hd(){const e=jN();return m.useMemo(()=>({notifyToast:t=>e.pushToast(t),notifyBanner:t=>e.pushBanner(t),dismissNotification:t=>e.dismiss(t),dismissScope:(t,n)=>e.clearScope(t,n)}),[e])}function Lz({children:e}){const[t]=m.useState(()=>new mT({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return i.jsx(AT,{children:i.jsx(Az,{children:i.jsxs(hT,{client:t,children:[e,null]})})})}function $z(e){const t={};if(!e)return t;for(const n of e){const r=n.path?.trim();r&&(t[r]||(t[r]=[]),t[r].push(n.message))}return t}function _N(e){return e.includes("application/problem+json")||e.includes("application/json")}async function bc(e){const t=e.headers.get("content-type")??"";if(_N(t))try{return await e.clone().json()}catch{return}}class Ft extends Error{status;problem;constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.problem=r}}const Fz=/\{[^{}]+\}/g,Uz=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function Bz(){return Math.random().toString(36).slice(2,11)}function Vz(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:o,bodySerializer:l,headers:c,requestInitExt:d=void 0,...f}={...e};d=Uz()?d:void 0,t=QC(t);const p=[];async function g(x,b){const{baseUrl:w,fetch:S=r,Request:C=n,headers:j,params:E={},parseAs:N="json",querySerializer:_,bodySerializer:R=l??qz,body:M,middleware:D=[],...O}=b||{};let A=t;w&&(A=QC(w)??t);let L=typeof o=="function"?o:KC(o);_&&(L=typeof _=="function"?_:KC({...typeof o=="object"?o:{},..._}));const T=M===void 0?void 0:R(M,ZC(c,j,E.header)),W=ZC(T===void 0||T instanceof FormData?{}:{"Content-Type":"application/json"},c,j,E.header),I=[...p,...D],F={redirect:"follow",...f,...O,body:T,headers:W};let U,ae,P=new C(Wz(x,{baseUrl:A,params:E,querySerializer:L}),F),q;for(const te in O)te in P||(P[te]=O[te]);if(I.length){U=Bz(),ae=Object.freeze({baseUrl:A,fetch:S,parseAs:N,querySerializer:L,bodySerializer:R});for(const te of I)if(te&&typeof te=="object"&&typeof te.onRequest=="function"){const ve=await te.onRequest({request:P,schemaPath:x,params:E,options:ae,id:U});if(ve)if(ve instanceof C)P=ve;else if(ve instanceof Response){q=ve;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!q){try{q=await S(P,d)}catch(te){let ve=te;if(I.length)for(let V=I.length-1;V>=0;V--){const B=I[V];if(B&&typeof B=="object"&&typeof B.onError=="function"){const re=await B.onError({request:P,error:ve,schemaPath:x,params:E,options:ae,id:U});if(re){if(re instanceof Response){ve=void 0,q=re;break}if(re instanceof Error){ve=re;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ve)throw ve}if(I.length)for(let te=I.length-1;te>=0;te--){const ve=I[te];if(ve&&typeof ve=="object"&&typeof ve.onResponse=="function"){const V=await ve.onResponse({request:P,response:q,schemaPath:x,params:E,options:ae,id:U});if(V){if(!(V instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");q=V}}}}if(q.status===204||P.method==="HEAD"||q.headers.get("Content-Length")==="0")return q.ok?{data:void 0,response:q}:{error:void 0,response:q};if(q.ok)return N==="stream"?{data:q.body,response:q}:{data:await q[N](),response:q};let K=await q.text();try{K=JSON.parse(K)}catch{}return{error:K,response:q}}return{request(x,b,w){return g(b,{...w,method:x.toUpperCase()})},GET(x,b){return g(x,{...b,method:"GET"})},PUT(x,b){return g(x,{...b,method:"PUT"})},POST(x,b){return g(x,{...b,method:"POST"})},DELETE(x,b){return g(x,{...b,method:"DELETE"})},OPTIONS(x,b){return g(x,{...b,method:"OPTIONS"})},HEAD(x,b){return g(x,{...b,method:"HEAD"})},PATCH(x,b){return g(x,{...b,method:"PATCH"})},TRACE(x,b){return g(x,{...b,method:"TRACE"})},use(...x){for(const b of x)if(b){if(typeof b!="object"||!("onRequest"in b||"onResponse"in b||"onError"in b))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");p.push(b)}},eject(...x){for(const b of x){const w=p.indexOf(b);w!==-1&&p.splice(w,1)}}}}function vh(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${n?.allowReserved===!0?t:encodeURIComponent(t)}`}function kN(e,t,n){if(!t||typeof t!="object")return"";const r=[],o={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const d in t)r.push(d,n.allowReserved===!0?t[d]:encodeURIComponent(t[d]));const c=r.join(",");switch(n.style){case"form":return`${e}=${c}`;case"label":return`.${c}`;case"matrix":return`;${e}=${c}`;default:return c}}for(const c in t){const d=n.style==="deepObject"?`${e}[${c}]`:c;r.push(vh(d,t[c],n))}const l=r.join(o);return n.style==="label"||n.style==="matrix"?`${o}${l}`:l}function RN(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const l={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",c=(n.allowReserved===!0?t:t.map(d=>encodeURIComponent(d))).join(l);switch(n.style){case"simple":return c;case"label":return`.${c}`;case"matrix":return`;${e}=${c}`;default:return`${e}=${c}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",o=[];for(const l of t)n.style==="simple"||n.style==="label"?o.push(n.allowReserved===!0?l:encodeURIComponent(l)):o.push(vh(e,l,n));return n.style==="label"||n.style==="matrix"?`${r}${o.join(r)}`:o.join(r)}function KC(e){return function(n){const r=[];if(n&&typeof n=="object")for(const o in n){const l=n[o];if(l!=null){if(Array.isArray(l)){if(l.length===0)continue;r.push(RN(o,l,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof l=="object"){r.push(kN(o,l,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(vh(o,l,e))}}return r.join("&")}}function Hz(e,t){let n=e;for(const r of e.match(Fz)??[]){let o=r.substring(1,r.length-1),l=!1,c="simple";if(o.endsWith("*")&&(l=!0,o=o.substring(0,o.length-1)),o.startsWith(".")?(c="label",o=o.substring(1)):o.startsWith(";")&&(c="matrix",o=o.substring(1)),!t||t[o]===void 0||t[o]===null)continue;const d=t[o];if(Array.isArray(d)){n=n.replace(r,RN(o,d,{style:c,explode:l}));continue}if(typeof d=="object"){n=n.replace(r,kN(o,d,{style:c,explode:l}));continue}if(c==="matrix"){n=n.replace(r,`;${vh(o,d)}`);continue}n=n.replace(r,c==="label"?`.${encodeURIComponent(d)}`:encodeURIComponent(d))}return n}function qz(e,t){return e instanceof FormData?e:t&&(t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function Wz(e,t){let n=`${t.baseUrl}${e}`;t.params?.path&&(n=Hz(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function ZC(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[o,l]of r)if(l===null)t.delete(o);else if(Array.isArray(l))for(const c of l)t.append(o,c);else l!==void 0&&t.set(o,l)}return t}function QC(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Gz=["ade_csrf","backend_app_csrf"];function Yz(){return Gz}function Kz(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const t=new Map,n=e.split(";");for(const r of n){const[o,...l]=r.trim().split("=");o&&t.set(o,decodeURIComponent(l.join("=")))}return t}function MN(){const e=Kz();if(!e)return null;for(const t of Yz()){const n=e.get(t);if(n)return n}return null}const DN=new Set(["GET","HEAD","OPTIONS","TRACE"]),Rx="",Bm=Rx.endsWith("/api/v1")?Rx.slice(0,-7):Rx;function Qi(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Bm.length>0?`${Bm}${e}`:e}function Db(e,t){const n=new Headers(t??{});n.set("X-Requested-With","fetch");const r=e.toUpperCase();if(!DN.has(r)){const o=MN();o&&!n.has("X-CSRF-Token")&&n.set("X-CSRF-Token",o)}return n}async function bh(e,t={}){const n=Qi(e),r=t.method??"GET",o=Db(r,t.headers);return await fetch(n,{credentials:"include",...t,headers:o})}const Qe=Vz({baseUrl:Bm.length>0?Bm:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),Zz={onRequest({request:e}){const t=e.method?.toUpperCase()??"GET";if(!DN.has(t)){const n=MN();n&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",n)}return e}},Qz={async onResponse({response:e}){if(e.ok)return e;const t=await bc(e),n=t?.title??`Request failed with status ${e.status}`;throw new Ft(n,e.status,t)}};Qe.use(Zz);Qe.use(Qz);const Ls={root:["auth"],detail:()=>[...Ls.root,"session"],providers:()=>[...Ls.root,"providers"],setupStatus:()=>[...Ls.root,"setup-status"]};async function Xz(e={}){try{const{data:t}=await Qe.GET("/api/v1/auth/providers",{signal:e.signal});return t?aP(t):{providers:[],force_sso:!1}}catch(t){if(t instanceof Ft&&t.status===404)return{providers:[],force_sso:!1};throw t}}async function Jz(e={}){const t=await AN(e.signal);return t?ON(t,null):null}async function eP(e,t={}){return await rP(e,t.signal),Ab(t.signal,null)}async function tP(e={}){return Ab(e.signal,null)}async function nP(e={}){try{await Qe.POST("/api/v1/auth/cookie/logout",{signal:e.signal,body:void 0})}catch(t){!(t instanceof Ft)||t.status!==401&&t.status}}async function Ab(e,t=null){const n=await AN(e);if(!n)throw new Error("Unable to load session after authentication.");return ON(n,t)}async function AN(e){const t="/api/v1/me/bootstrap";try{const{data:n}=await Qe.GET(t,{signal:e});return n??null}catch(n){if(n instanceof Ft&&(n.status===401||n.status===403))return null;throw n}}async function rP(e,t){const n=new URLSearchParams;n.set("username",e.email),n.set("password",e.password);const r=await bh("/api/v1/auth/cookie/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n,signal:t});if(r.ok)return;const o=await bc(r),l=o?.detail??o?.title??`Request failed with status ${r.status}`;throw new Ft(l,r.status,o)}function sP(e){const t=e.find(n=>n.is_default);return t?t.id:null}function XC(e){return Array.isArray(e)?e.filter(t=>typeof t=="string"):[]}function oP(e){return Array.isArray(e)?e:[]}function ON(e,t=null){const n=XC(e.roles),r=XC(e.permissions),o=oP(e.workspaces);return{user:{...e.user,roles:n,permissions:r,preferred_workspace_id:sP(o)??null},workspaces:o,roles:n,permissions:r,return_to:t}}function aP(e){return{providers:(e.providers??[]).map(iP),force_sso:!!e.force_sso}}function iP(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}function TN(e={}){const t=It(),n=kn({queryKey:Ls.detail(),queryFn:async({signal:o})=>{const l=await Jz({signal:o});return l||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),r=n.data??null;return m.useEffect(()=>{r||t.removeQueries({queryKey:Ls.providers(),exact:!1})},[t,r]),{...n,session:r}}async function lP(e={}){try{const{data:t}=await Qe.GET("/api/v1/auth/setup",{signal:e.signal});if(!t)throw new Error("Expected setup status payload.");return t}catch(t){if(t instanceof Ft&&t.status===404)return{setup_required:!1,registration_mode:"closed",oidc_configured:!1,providers:[]};throw t}}async function cP(e){return await Qe.POST("/api/v1/auth/setup",{body:e}),Ab()}function Ob(e=!0){return kn({queryKey:Ls.setupStatus(),queryFn:({signal:t})=>lP({signal:t}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const pd="/workspaces",uP=new Set(["/","/login","/setup","/logout"]);function dP(e){if(!e)return!0;const t=QE(e);return!!(uP.has(t)||t==="/auth"||t.startsWith("/auth/"))}function fP(e){return`${e.pathname}${e.search}${e.hash}`}function JC(e){const t=fP(e)||"/";return Vm(t)??pd}function Vm(e){if(!e)return null;const t=e.trim();return!t.startsWith("/")||t.startsWith("//")?null:t==="/"?pd:dP(t)?null:t}function fc(e){return Vm(e)??pd}function zN(e){return IN("/login",e)}function PN(e){return IN("/setup",e)}function IN(e,t){const n=fc(t),r=new URLSearchParams;n!==pd&&r.set("redirectTo",n);const o=r.toString();return o?`${e}?${o}`:e}function Hm(e,t){const n=Vm(e);if(n)return n;const r=Vm(t);return r||pd}function e1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wr(...e){return t=>{let n=!1;const r=e.map(o=>{const l=e1(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():e1(e[o],null)}}}}function qt(...e){return m.useCallback(wr(...e),e)}var mP=Symbol.for("react.lazy"),qm=yb[" use ".trim().toString()];function hP(e){return typeof e=="object"&&e!==null&&"then"in e}function LN(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===mP&&"_payload"in e&&hP(e._payload)}function pP(e){const t=gP(e),n=m.forwardRef((r,o)=>{let{children:l,...c}=r;LN(l)&&typeof qm=="function"&&(l=qm(l._payload));const d=m.Children.toArray(l),f=d.find(bP);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var gd=pP("Slot");function gP(e){const t=m.forwardRef((n,r)=>{let{children:o,...l}=n;if(LN(o)&&typeof qm=="function"&&(o=qm(o._payload)),m.isValidElement(o)){const c=wP(o),d=yP(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $N=Symbol("radix.slottable");function xP(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$N,t}var vP=xP("Slottable");function bP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$N}function yP(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function wP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const t1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,n1=fe,FN=(e,t)=>n=>{var r;if(t?.variants==null)return n1(e,n?.class,n?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(p=>{const g=n?.[p],x=l?.[p];if(g===null)return null;const b=t1(g)||t1(x);return o[p][b]}),d=n&&Object.entries(n).reduce((p,g)=>{let[x,b]=g;return b===void 0||(p[x]=b),p},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:x,className:b,...w}=g;return Object.entries(w).every(S=>{let[C,j]=S;return Array.isArray(j)?j.includes({...l,...d}[C]):{...l,...d}[C]===j})?[...p,x,b]:p},[]);return n1(e,c,f,n?.class,n?.className)},SP=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},CP=(e,t)=>({classGroupId:e,validator:t}),UN=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Wm="-",r1=[],jP="arbitrary..",EP=e=>{const t=_P(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return NP(c);const d=c.split(Wm),f=d[0]===""&&d.length>1?1:0;return BN(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=r[c],p=n[c];return f?p?SP(p,f):f:p||r1}return n[c]||r1}}},BN=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],l=n.nextPart.get(o);if(l){const p=BN(e,t+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=t===0?e.join(Wm):e.slice(t).join(Wm),f=c.length;for(let p=0;p<f;p++){const g=c[p];if(g.validator(d))return g.classGroupId}},NP=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?jP+r:void 0})(),_P=e=>{const{theme:t,classGroups:n}=e;return kP(n,t)},kP=(e,t)=>{const n=UN();for(const r in e){const o=e[r];Tb(o,n,r,t)}return n},Tb=(e,t,n,r)=>{const o=e.length;for(let l=0;l<o;l++){const c=e[l];RP(c,t,n,r)}},RP=(e,t,n,r)=>{if(typeof e=="string"){MP(e,t,n);return}if(typeof e=="function"){DP(e,t,n,r);return}AP(e,t,n,r)},MP=(e,t,n)=>{const r=e===""?t:VN(t,e);r.classGroupId=n},DP=(e,t,n,r)=>{if(OP(e)){Tb(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(CP(n,e))},AP=(e,t,n,r)=>{const o=Object.entries(e),l=o.length;for(let c=0;c<l;c++){const[d,f]=o[c];Tb(f,VN(t,d),n,r)}},VN=(e,t)=>{let n=e;const r=t.split(Wm),o=r.length;for(let l=0;l<o;l++){const c=r[l];let d=n.nextPart.get(c);d||(d=UN(),n.nextPart.set(c,d)),n=d}return n},OP=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,TP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(l,c)=>{n[l]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return o(l,c),c},set(l,c){l in n?n[l]=c:o(l,c)}}},Mv="!",s1=":",zP=[],o1=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),PP=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const l=[];let c=0,d=0,f=0,p;const g=o.length;for(let C=0;C<g;C++){const j=o[C];if(c===0&&d===0){if(j===s1){l.push(o.slice(f,C)),f=C+1;continue}if(j==="/"){p=C;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const x=l.length===0?o:o.slice(f);let b=x,w=!1;x.endsWith(Mv)?(b=x.slice(0,-1),w=!0):x.startsWith(Mv)&&(b=x.slice(1),w=!0);const S=p&&p>f?p-f:void 0;return o1(l,w,b,S)};if(t){const o=t+s1,l=r;r=c=>c.startsWith(o)?l(c.slice(o.length)):o1(zP,!1,c,void 0,!0)}if(n){const o=r;r=l=>n({className:l,parseClassName:o})}return r},IP=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=t.has(c);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},LP=e=>({cache:TP(e.cacheSize),parseClassName:PP(e),sortModifiers:IP(e),...EP(e)}),$P=/\s+/,FP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],d=e.trim().split($P);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:x,modifiers:b,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:C}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let j=!!C,E=r(j?S.substring(0,C):S);if(!E){if(!j){f=g+(f.length>0?" "+f:f);continue}if(E=r(S),!E){f=g+(f.length>0?" "+f:f);continue}j=!1}const N=b.length===0?"":b.length===1?b[0]:l(b).join(":"),_=w?N+Mv:N,R=_+E;if(c.indexOf(R)>-1)continue;c.push(R);const M=o(E,j);for(let D=0;D<M.length;++D){const O=M[D];c.push(_+O)}f=g+(f.length>0?" "+f:f)}return f},UP=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=HN(n))&&(o&&(o+=" "),o+=r);return o},HN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=HN(e[r]))&&(n&&(n+=" "),n+=t);return n},BP=(e,...t)=>{let n,r,o,l;const c=f=>{const p=t.reduce((g,x)=>x(g),e());return n=LP(p),r=n.cache.get,o=n.cache.set,l=d,d(f)},d=f=>{const p=r(f);if(p)return p;const g=FP(f,n);return o(f,g),g};return l=c,(...f)=>l(UP(...f))},VP=[],Vn=e=>{const t=n=>n[e]||VP;return t.isThemeGetter=!0,t},qN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HP=/^\d+\/\d+$/,qP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=e=>HP.test(e),vt=e=>!!e&&!Number.isNaN(Number(e)),Oa=e=>!!e&&Number.isInteger(Number(e)),Mx=e=>e.endsWith("%")&&vt(e.slice(0,-1)),$o=e=>qP.test(e),ZP=()=>!0,QP=e=>WP.test(e)&&!GP.test(e),GN=()=>!1,XP=e=>YP.test(e),JP=e=>KP.test(e),eI=e=>!Ve(e)&&!He(e),tI=e=>yc(e,ZN,GN),Ve=e=>qN.test(e),Ri=e=>yc(e,QN,QP),Dx=e=>yc(e,aI,vt),a1=e=>yc(e,YN,GN),nI=e=>yc(e,KN,JP),om=e=>yc(e,XN,XP),He=e=>WN.test(e),ku=e=>wc(e,QN),rI=e=>wc(e,iI),i1=e=>wc(e,YN),sI=e=>wc(e,ZN),oI=e=>wc(e,KN),am=e=>wc(e,XN,!0),yc=(e,t,n)=>{const r=qN.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},wc=(e,t,n=!1)=>{const r=WN.exec(e);return r?r[1]?t(r[1]):n:!1},YN=e=>e==="position"||e==="percentage",KN=e=>e==="image"||e==="url",ZN=e=>e==="length"||e==="size"||e==="bg-size",QN=e=>e==="length",aI=e=>e==="number",iI=e=>e==="family-name",XN=e=>e==="shadow",lI=()=>{const e=Vn("color"),t=Vn("font"),n=Vn("text"),r=Vn("font-weight"),o=Vn("tracking"),l=Vn("leading"),c=Vn("breakpoint"),d=Vn("container"),f=Vn("spacing"),p=Vn("radius"),g=Vn("shadow"),x=Vn("inset-shadow"),b=Vn("text-shadow"),w=Vn("drop-shadow"),S=Vn("blur"),C=Vn("perspective"),j=Vn("aspect"),E=Vn("ease"),N=Vn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...R(),He,Ve],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],A=()=>[He,Ve,f],L=()=>[Vl,"full","auto",...A()],T=()=>[Oa,"none","subgrid",He,Ve],W=()=>["auto",{span:["full",Oa,He,Ve]},Oa,He,Ve],I=()=>[Oa,"auto",He,Ve],F=()=>["auto","min","max","fr",He,Ve],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...A()],q=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[e,He,Ve],te=()=>[...R(),i1,a1,{position:[He,Ve]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",sI,tI,{size:[He,Ve]}],B=()=>[Mx,ku,Ri],re=()=>["","none","full",p,He,Ve],Y=()=>["",vt,ku,Ri],z=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[vt,Mx,i1,a1],ee=()=>["","none",S,He,Ve],oe=()=>["none",vt,He,Ve],le=()=>["none",vt,He,Ve],de=()=>[vt,He,Ve],Ee=()=>[Vl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$o],breakpoint:[$o],color:[ZP],container:[$o],"drop-shadow":[$o],ease:["in","out","in-out"],font:[eI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$o],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$o],shadow:[$o],spacing:["px",vt],text:[$o],"text-shadow":[$o],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,Ve,He,j]}],container:["container"],columns:[{columns:[vt,Ve,He,d]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Oa,"auto",He,Ve]}],basis:[{basis:[Vl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,Vl,"auto","initial","none",Ve]}],grow:[{grow:["",vt,He,Ve]}],shrink:[{shrink:["",vt,He,Ve]}],order:[{order:[Oa,"first","last","none",He,Ve]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[d,"screen",...q()]}],"min-w":[{"min-w":[d,"screen","none",...q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,ku,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,He,Dx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mx,Ve]}],"font-family":[{font:[rI,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,He,Ve]}],"line-clamp":[{"line-clamp":[vt,"none",He,Dx]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",He,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",He,Ri]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[vt,"auto",He,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oa,He,Ve],radial:["",He,Ve],conic:[Oa,He,Ve]},oI,nI]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,He,Ve]}],"outline-w":[{outline:["",vt,ku,Ri]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,am,om]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,am,om]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[vt,Ri]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,am,om]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[vt,He,Ve]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[He,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,Ve]}],filter:[{filter:["","none",He,Ve]}],blur:[{blur:ee()}],brightness:[{brightness:[vt,He,Ve]}],contrast:[{contrast:[vt,He,Ve]}],"drop-shadow":[{"drop-shadow":["","none",w,am,om]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",vt,He,Ve]}],"hue-rotate":[{"hue-rotate":[vt,He,Ve]}],invert:[{invert:["",vt,He,Ve]}],saturate:[{saturate:[vt,He,Ve]}],sepia:[{sepia:["",vt,He,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",He,Ve]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[vt,He,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[vt,He,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,He,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,He,Ve]}],"backdrop-invert":[{"backdrop-invert":["",vt,He,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[vt,He,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[vt,He,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,He,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",He,Ve]}],ease:[{ease:["linear","initial",E,He,Ve]}],delay:[{delay:[vt,He,Ve]}],animate:[{animate:["none",N,He,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,He,Ve]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[He,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,Ve]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[vt,ku,Ri,Dx]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cI=BP(lI);function ze(...e){return cI(fe(e))}const Dv=FN("inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-lg font-semibold text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",primary:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",danger:"bg-destructive text-destructive-foreground hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 px-3 has-[>svg]:px-2.5",md:"h-10 px-4 text-sm has-[>svg]:px-3.5",lg:"h-12 px-6 text-base has-[>svg]:px-5",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"md"}});function ke({className:e,variant:t,size:n,asChild:r=!1,isLoading:o=!1,disabled:l,children:c,...d}){const f=r?gd:"button",p=l||o;return i.jsxs(f,{"data-slot":"button","aria-busy":o||void 0,"aria-disabled":r&&p?!0:void 0,className:ze(Dv({variant:t,size:n,className:e})),disabled:r?void 0:p,...d,children:[o?i.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,i.jsx(vP,{children:c})]})}const JN=m.createContext(void 0);function uI({session:e,refetch:t,children:n}){return i.jsx(JN.Provider,{value:{session:e,refetch:t},children:n})}function dI(){const e=m.useContext(JN);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Sc(){return dI().session}function fI({children:e}){const t=pr(),n=an(),r=TN(),{session:o,isLoading:l,isError:c,refetch:d}=r,f=!o&&!l&&!c,{data:p,isPending:g,isError:x,isSuccess:b,refetch:w}=Ob(f);return m.useEffect(()=>{if(o||l||c)return;if(f){if(g||x)return;if(b&&p?.setup_required){const C=JC(t);n(PN(C),{replace:!0});return}}const S=JC(t);n(zN(S),{replace:!0})},[c,l,x,g,b,t,n,o,p?.setup_required,f]),l?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-sm text-muted-foreground",children:i.jsx("p",{children:"Loading your workspace"})}):c?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"We were unable to confirm your session."}),i.jsx(ke,{variant:"secondary",size:"sm",onClick:()=>d(),children:"Try again"})]}):o?i.jsx(uI,{session:o,refetch:d,children:e??null}):f&&g?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-sm text-muted-foreground",children:i.jsx("p",{children:"Preparing initial setup"})}):f&&x?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"We were unable to check whether ADE is ready."}),i.jsx(ke,{variant:"secondary",size:"sm",onClick:()=>w(),children:"Try again"})]}):null}function yh(e){if(!(!e||e.length===0))return JSON.stringify(e)}function xd(e){const t={};typeof e.page=="number"&&e.page>0&&(t.page=e.page),typeof e.perPage=="number"&&e.perPage>0&&(t.perPage=e.perPage),e.sort&&(t.sort=e.sort);const n=yh(e.filters);return n&&(t.filters=n,e.joinOperator&&(t.joinOperator=e.joinOperator)),e.q&&(t.q=e.q),t}const vd=200,zb=50;function wh(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,vd)}async function e_(e,t={}){const{maxPages:n=50}=t,r=[];let o=[],l;for(let f=1;f<=n;f+=1){const p=await e(f);if(r.push(p),o=o.concat(p.items??[]),l===void 0&&(l=p.total),p.pageCount===0||f>=p.pageCount)break}const c=r.at(-1),d=r.at(0);if(!c||!d)throw new Error("No pages were returned while collecting pagination results.");return{...c,items:o,page:1,perPage:d.perPage,pageCount:1,total:l??c.total,changesCursor:c.changesCursor}}function t_(e,t){return m.useMemo(()=>{if(!e||e.length===0)return[];const n=[],r=new Map;for(const o of e){const l=Array.isArray(o.items)?o.items:[];for(const c of l){const d=t(c),f=r.get(d);if(f===void 0){r.set(d,n.length),n.push(c);continue}n[f]=c}}return n},[e,t])}const n_=vd,r_=zb,s_=zb,o_=zb,a_="workspace";async function mI(e={}){const{page:t,pageSize:n,sort:r,q:o,filters:l,joinOperator:c,signal:d}=e,f=wh(n??n_),p=xd({page:t,perPage:f,sort:r??null,q:o,filters:l,joinOperator:c}),{data:g}=await Qe.GET("/api/v1/workspaces",{params:{query:p},signal:d});if(!g)throw new Error("Expected workspace page payload.");return g}async function hI(e){const{data:t}=await Qe.POST("/api/v1/workspaces",{body:e});if(!t)throw new Error("Expected workspace payload.");return t}async function pI(e,t){const{data:n}=await Qe.PATCH("/api/v1/workspaces/{workspaceId}",{params:{path:{workspaceId:e}},body:t});if(!n)throw new Error("Expected workspace payload.");return n}async function gI(e){await Qe.DELETE("/api/v1/workspaces/{workspaceId}",{params:{path:{workspaceId:e}}})}async function i_(e,t={}){const{page:n,pageSize:r,sort:o,q:l,filters:c,joinOperator:d,signal:f}=t,p=wh(r??r_),g=xd({page:n,perPage:p,sort:o??null,q:l,filters:c,joinOperator:d}),{data:x}=await Qe.GET("/api/v1/workspaces/{workspaceId}/members",{params:{path:{workspaceId:e},query:g},signal:f});if(!x)throw new Error("Expected workspace member page payload.");return x}async function xI(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/members",{params:{path:{workspaceId:e}},body:t});if(!n)throw new Error("Expected workspace member payload.");return n}async function vI(e,t,n){const{data:r}=await Qe.PUT("/api/v1/workspaces/{workspaceId}/members/{userId}",{params:{path:{workspaceId:e,userId:t}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function bI(e,t){await Qe.DELETE("/api/v1/workspaces/{workspaceId}/members/{userId}",{params:{path:{workspaceId:e,userId:t}}})}async function yI(e={}){const{page:t,pageSize:n,sort:r,q:o,joinOperator:l,signal:c}=e,d=wh(n??s_),p=xd({page:t,perPage:d,sort:r??null,q:o,filters:[{id:"scopeType",operator:"eq",value:a_}],joinOperator:l}),{data:g}=await Qe.GET("/api/v1/roles",{params:{query:p},signal:c});if(!g)throw new Error("Expected workspace role page payload.");return g}async function wI(e,t){const{data:n}=await Qe.POST("/api/v1/roles",{body:t});if(!n)throw new Error("Expected role payload.");return n}async function SI(e,t,n,r={}){const{data:o}=await Qe.PATCH("/api/v1/roles/{roleId}",{params:{path:{roleId:t}},body:n,headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0});if(!o)throw new Error("Expected role payload.");return o}async function CI(e,t,n={}){await Qe.DELETE("/api/v1/roles/{roleId}",{params:{path:{roleId:t}},headers:n.ifMatch?{"If-Match":n.ifMatch}:void 0})}async function jI(e={}){const{scope:t=a_,page:n,pageSize:r,sort:o,q:l,joinOperator:c,signal:d}=e,f=wh(r??o_),g=xd({page:n,perPage:f,sort:o??null,q:l,filters:[{id:"scopeType",operator:"eq",value:t}],joinOperator:c}),{data:x}=await Qe.GET("/api/v1/permissions",{params:{query:g},signal:d});if(!x)throw new Error("Expected permission page payload.");return x}const EI="/api/v1/workspaces/{workspaceId}/default";async function NI(e){await Qe.PUT(EI,{params:{path:{workspaceId:e}}})}const _I="workspace",Av={page:1,pageSize:n_},kI={page:1,pageSize:r_},RI={page:1,pageSize:s_},MI={scope:_I,page:1,pageSize:o_},yn={all:()=>["workspaces"],list:(e=Av)=>[...yn.all(),"list",{...e}],detail:e=>[...yn.all(),"detail",e],members:(e,t=kI)=>[...yn.detail(e),"members",{...t}],roles:(e,t=RI)=>[...yn.detail(e),"roles",{...t}],permissions:(e=MI)=>["permissions",{...e}]},Ov={page:Av.page,pageSize:Av.pageSize};function DI(){const e=It();return Ln({mutationFn:hI,onSuccess(t){e.setQueryData(yn.detail(t.id),t),e.getQueriesData({queryKey:yn.all()}).forEach(([n,r])=>{if(!Array.isArray(n)||n[0]!=="workspaces"||n[1]!=="list"||!r)return;const o=r.items.findIndex(f=>f.id===t.id),c=[...o>=0?r.items.map(f=>f.id===t.id?t:f):[...r.items,t]].sort((f,p)=>f.name.localeCompare(p.name)),d=typeof r.total=="number"&&o===-1?r.total+1:r.total;e.setQueryData(n,{...r,items:c,total:d})}),e.invalidateQueries({queryKey:yn.all()})}})}function AI(e,t){if(!e||typeof e!="object")return e;if("items"in e){const n=e;if(!Array.isArray(n.items))return e;const r=n.items.map(o=>({...o,is_default:o.id===t}));return{...n,items:r}}if("id"in e&&"is_default"in e){const n=e;return{...n,is_default:n.id===t}}return e}function l_(){const e=It();return Ln({mutationFn:t=>NI(t),onSuccess:(t,n)=>{e.setQueriesData({queryKey:yn.all()},r=>AI(r,n))}})}function c_(e){const t=It();return Ln({mutationFn:n=>pI(e,n),onSuccess:n=>{t.setQueryData(yn.detail(n.id),n),t.getQueriesData({queryKey:yn.all()}).forEach(([r,o])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!o)return;const c=[...o.items.map(d=>d.id===n.id?n:d)].sort((d,f)=>d.name.localeCompare(f.name));t.setQueryData(r,{...o,items:c})})}})}function OI(e={}){const t=e.page??Ov.page,n=e.pageSize??Ov.pageSize;return{queryKey:yn.list({page:t,pageSize:n}),queryFn:({signal:r})=>mI({page:t,pageSize:n,signal:r}),staleTime:6e4,enabled:e.enabled??!0}}function Pb(e={}){const t=It(),n=OI(e),r=t.getQueryData(n.queryKey);return kn({...n,initialData:r})}const u_="documents";function Ib(e){return`/workspaces/${e}/${u_}`}function Ax(e){return e instanceof Error?e:new Error(String(e))}function Ho(e){return{get(){if(typeof window>"u")return null;try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read from storage",Ax(t)),null}},set(t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to write to storage",Ax(n))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(t){console.warn("Failed to clear storage",Ax(t))}}}}const TI="backend.app.active_workspace",Tv=Ho(TI);function zI(){return Tv.get()}function d_(e){if(!e){Tv.clear();return}Tv.set(e)}const PI={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-border",error:"bg-danger-500"};function At({title:e,description:t,action:n,variant:r="empty",className:o}){return i.jsxs("div",{className:fe("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-border bg-card/70 px-6 py-12 text-center text-sm text-muted-foreground",o),children:[i.jsx("span",{"aria-hidden":"true",className:fe("mb-4 h-8 w-8 rounded-full border-current",PI[r])}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e}),t?i.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:t}):null,n?i.jsx("div",{className:"mt-4",children:n}):null]})}function II(){return i.jsx(LI,{})}function LI(){const e=pr(),t=an(),n=Sc(),r=Pb(),o=r.data?.items??[],d=[zI(),n.user.preferred_workspace_id].filter(f=>!!f).map(f=>o.find(p=>p.id===f)).find(f=>!!f)??o[0]??null;return m.useEffect(()=>{if(r.isLoading||r.isError)return;if(!d){e.pathname!=="/workspaces"&&t("/workspaces",{replace:!0});return}const f=Ib(d.id);e.pathname+e.search!==f&&t(f,{replace:!0})},[e.pathname,e.search,t,d,r.isError,r.isLoading]),r.isLoading?i.jsx(At,{title:"Loading workspaces",variant:"loading"}):r.isError?i.jsx(At,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:i.jsx(ke,{variant:"secondary",onClick:()=>r.refetch(),children:"Try again"})}):null}function Re(e,t,n){function r(d,f){var p;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(p=d._zod).traits??(p.traits=new Set),d._zod.traits.add(e),t(d,f);for(const g in c.prototype)g in d||Object.defineProperty(d,g,{value:c.prototype[g].bind(d)});d._zod.constr=c,d._zod.def=f}const o=n?.Parent??Object;class l extends o{}Object.defineProperty(l,"name",{value:e});function c(d){var f;const p=n?.Parent?new l:this;r(p,d),(f=p._zod).deferred??(f.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(e)}),Object.defineProperty(c,"name",{value:e}),c}class ac extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class f_ extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const m_={};function Ui(e){return m_}function $I(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function zv(e,t){return typeof t=="bigint"?t.toString():t}function Lb(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $b(e){return e==null}function Fb(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const l1=Symbol("evaluating");function en(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==l1)return r===void 0&&(r=l1,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Xi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ji(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function c1(e){return JSON.stringify(e)}const h_="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Gm(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const FI=Lb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ed(e){if(Gm(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Gm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function p_(e){return ed(e)?{...e}:Array.isArray(e)?[...e]:e}const UI=new Set(["string","number","symbol"]);function Sh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ja(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function lt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function BI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function VI(e,t){const n=e._zod.def,r=Ji(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Xi(this,"shape",o),o},checks:[]});return Ja(e,r)}function HI(e,t){const n=e._zod.def,r=Ji(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Xi(this,"shape",o),o},checks:[]});return Ja(e,r)}function qI(e,t){if(!ed(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Ji(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Xi(this,"shape",l),l},checks:[]});return Ja(e,o)}function WI(e,t){if(!ed(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Xi(this,"shape",r),r},checks:e._zod.def.checks};return Ja(e,n)}function GI(e,t){const n=Ji(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Xi(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ja(e,n)}function YI(e,t,n){const r=Ji(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)l[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return Xi(this,"shape",l),l},checks:[]});return Ja(t,r)}function KI(e,t,n){const r=Ji(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:o[c]}))}else for(const c in o)l[c]=new e({type:"nonoptional",innerType:o[c]});return Xi(this,"shape",l),l},checks:[]});return Ja(t,r)}function sc(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function g_(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function im(e){return typeof e=="string"?e:e?.message}function Bi(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=im(e.inst?._zod.def?.error?.(e))??im(t?.error?.(e))??im(n.customError?.(e))??im(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Ub(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function td(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const x_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,zv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Bb=Re("$ZodError",x_),Ch=Re("$ZodError",x_,{Parent:Error});function ZI(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function QI(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return r(e),n}const jh=e=>(t,n,r,o)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new ac;if(c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>Bi(f,l,Ui())));throw h_(d,o?.callee),d}return c.value},XI=jh(Ch),Eh=e=>async(t,n,r,o)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>Bi(f,l,Ui())));throw h_(d,o?.callee),d}return c.value},JI=Eh(Ch),Nh=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new ac;return l.issues.length?{success:!1,error:new(e??Bb)(l.issues.map(c=>Bi(c,o,Ui())))}:{success:!0,data:l.value}},e4=Nh(Ch),_h=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>Bi(c,o,Ui())))}:{success:!0,data:l.value}},t4=_h(Ch),n4=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jh(e)(t,n,o)},r4=e=>(t,n,r)=>jh(e)(t,n,r),s4=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Eh(e)(t,n,o)},o4=e=>async(t,n,r)=>Eh(e)(t,n,r),a4=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nh(e)(t,n,o)},i4=e=>(t,n,r)=>Nh(e)(t,n,r),l4=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _h(e)(t,n,o)},c4=e=>async(t,n,r)=>_h(e)(t,n,r),u4=/^[cC][^\s-]{8,}$/,d4=/^[0-9a-z]+$/,f4=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,m4=/^[0-9a-vA-V]{20}$/,h4=/^[A-Za-z0-9]{27}$/,p4=/^[a-zA-Z0-9_-]{21}$/,g4=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,x4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,v4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,b4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function y4(){return new RegExp(b4,"u")}const w4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,C4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,j4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E4=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,v_=/^[A-Za-z0-9_-]*$/,N4=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,_4=/^\+(?:[0-9]){6,14}[0-9]$/,b_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",k4=new RegExp(`^${b_}$`);function y_(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function R4(e){return new RegExp(`^${y_(e)}$`)}function M4(e){const t=y_({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${b_}T(?:${r})$`)}const D4=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},A4=/^(?:true|false)$/i,O4=/^[^A-Z]*$/,T4=/^[^a-z]*$/,fo=Re("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),z4=Re("$ZodCheckMaxLength",(e,t)=>{var n;fo.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$b(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const c=Ub(o);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),P4=Re("$ZodCheckMinLength",(e,t)=>{var n;fo.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$b(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const c=Ub(o);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),I4=Re("$ZodCheckLengthEquals",(e,t)=>{var n;fo.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!$b(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,l=o.length;if(l===t.length)return;const c=Ub(o),d=l>t.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),kh=Re("$ZodCheckStringFormat",(e,t)=>{var n,r;fo.init(e,t),e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),L4=Re("$ZodCheckRegex",(e,t)=>{kh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),$4=Re("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=O4),kh.init(e,t)}),F4=Re("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=T4),kh.init(e,t)}),U4=Re("$ZodCheckIncludes",(e,t)=>{fo.init(e,t);const n=Sh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const l=o._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),B4=Re("$ZodCheckStartsWith",(e,t)=>{fo.init(e,t);const n=new RegExp(`^${Sh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),V4=Re("$ZodCheckEndsWith",(e,t)=>{fo.init(e,t);const n=new RegExp(`.*${Sh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),H4=Re("$ZodCheckOverwrite",(e,t)=>{fo.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class q4{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),o=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,o.join(`
`))}}const W4={major:4,minor:1,patch:12},$n=Re("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=W4;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const l of o._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(c,d,f)=>{let p=sc(c),g;for(const x of d){if(x._zod.def.when){if(!x._zod.def.when(c))continue}else if(p)continue;const b=c.issues.length,w=x._zod.check(c);if(w instanceof Promise&&f?.async===!1)throw new ac;if(g||w instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await w,c.issues.length!==b&&(p||(p=sc(c,b)))});else{if(c.issues.length===b)continue;p||(p=sc(c,b))}}return g?g.then(()=>c):c},l=(c,d,f)=>{if(sc(c))return c.aborted=!0,c;const p=o(d,r,f);if(p instanceof Promise){if(f.async===!1)throw new ac;return p.then(g=>e._zod.parse(g,f))}return e._zod.parse(p,f)};e._zod.run=(c,d)=>{if(d.skipChecks)return e._zod.parse(c,d);if(d.direction==="backward"){const p=e._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>l(g,c,d)):l(p,c,d)}const f=e._zod.parse(c,d);if(f instanceof Promise){if(d.async===!1)throw new ac;return f.then(p=>o(p,r,d))}return o(f,r,d)}}e["~standard"]={validate:o=>{try{const l=e4(e,o);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return t4(e,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),Vb=Re("$ZodString",(e,t)=>{$n.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??D4(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ln=Re("$ZodStringFormat",(e,t)=>{kh.init(e,t),Vb.init(e,t)}),G4=Re("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=x4),ln.init(e,t)}),Y4=Re("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=u1(r))}else t.pattern??(t.pattern=u1());ln.init(e,t)}),K4=Re("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=v4),ln.init(e,t)}),Z4=Re("$ZodURL",(e,t)=>{ln.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:N4.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Q4=Re("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=y4()),ln.init(e,t)}),X4=Re("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=p4),ln.init(e,t)}),J4=Re("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=u4),ln.init(e,t)}),eL=Re("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=d4),ln.init(e,t)}),tL=Re("$ZodULID",(e,t)=>{t.pattern??(t.pattern=f4),ln.init(e,t)}),nL=Re("$ZodXID",(e,t)=>{t.pattern??(t.pattern=m4),ln.init(e,t)}),rL=Re("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=h4),ln.init(e,t)}),sL=Re("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=M4(t)),ln.init(e,t)}),oL=Re("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=k4),ln.init(e,t)}),aL=Re("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=R4(t)),ln.init(e,t)}),iL=Re("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=g4),ln.init(e,t)}),lL=Re("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=w4),ln.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),cL=Re("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=S4),ln.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),uL=Re("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=C4),ln.init(e,t)}),dL=Re("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=j4),ln.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function w_(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const fL=Re("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=E4),ln.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{w_(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function mL(e){if(!v_.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return w_(n)}const hL=Re("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=v_),ln.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{mL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),pL=Re("$ZodE164",(e,t)=>{t.pattern??(t.pattern=_4),ln.init(e,t)});function gL(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const xL=Re("$ZodJWT",(e,t)=>{ln.init(e,t),e._zod.check=n=>{gL(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),vL=Re("$ZodBoolean",(e,t)=>{$n.init(e,t),e._zod.pattern=A4,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),bL=Re("$ZodUnknown",(e,t)=>{$n.init(e,t),e._zod.parse=n=>n}),yL=Re("$ZodNever",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function d1(e,t,n){e.issues.length&&t.issues.push(...g_(n,e.issues)),t.value[n]=e.value}const wL=Re("$ZodArray",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const l=[];for(let c=0;c<o.length;c++){const d=o[c],f=t.element._zod.run({value:d,issues:[]},r);f instanceof Promise?l.push(f.then(p=>d1(p,n,c))):d1(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Ym(e,t,n,r){e.issues.length&&t.issues.push(...g_(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function S_(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=BI(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function C_(e,t,n,r,o,l){const c=[],d=o.keySet,f=o.catchall._zod,p=f.def.type;for(const g of Object.keys(t)){if(d.has(g))continue;if(p==="never"){c.push(g);continue}const x=f.run({value:t[g],issues:[]},r);x instanceof Promise?e.push(x.then(b=>Ym(b,n,g,t))):Ym(x,n,g,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const SL=Re("$ZodObject",(e,t)=>{if($n.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...d};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=Lb(()=>S_(t));en(e._zod,"propValues",()=>{const d=t.shape,f={};for(const p in d){const g=d[p]._zod;if(g.values){f[p]??(f[p]=new Set);for(const x of g.values)f[p].add(x)}}return f});const o=Gm,l=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=r.value);const p=d.value;if(!o(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),d;d.value={};const g=[],x=c.shape;for(const b of c.keys){const S=x[b]._zod.run({value:p[b],issues:[]},f);S instanceof Promise?g.push(S.then(C=>Ym(C,d,b,p))):Ym(S,d,b,p)}return l?C_(g,p,d,f,r.value,e):g.length?Promise.all(g).then(()=>d):d}}),CL=Re("$ZodObjectJIT",(e,t)=>{SL.init(e,t);const n=e._zod.parse,r=Lb(()=>S_(t)),o=b=>{const w=new q4(["shape","payload","ctx"]),S=r.value,C=_=>{const R=c1(_);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};w.write("const input = payload.value;");const j=Object.create(null);let E=0;for(const _ of S.keys)j[_]=`key_${E++}`;w.write("const newResult = {};");for(const _ of S.keys){const R=j[_],M=c1(_);w.write(`const ${R} = ${C(_)};`),w.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${R}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const N=w.compile();return(_,R)=>N(b,_,R)};let l;const c=Gm,d=!m_.jitless,p=d&&FI.value,g=t.catchall;let x;e._zod.parse=(b,w)=>{x??(x=r.value);const S=b.value;return c(S)?d&&p&&w?.async===!1&&w.jitless!==!0?(l||(l=o(t.shape)),b=l(b,w),g?C_([],S,b,w,x,e):b):n(b,w):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function f1(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const o=e.filter(l=>!sc(l));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>Bi(c,r,Ui())))}),t)}const jL=Re("$ZodUnion",(e,t)=>{$n.init(e,t),en(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),en(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),en(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),en(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${o.map(l=>Fb(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,l)=>{if(n)return r(o,l);let c=!1;const d=[];for(const f of t.options){const p=f._zod.run({value:o.value,issues:[]},l);if(p instanceof Promise)d.push(p),c=!0;else{if(p.issues.length===0)return p;d.push(p)}}return c?Promise.all(d).then(f=>f1(f,o,e,l)):f1(d,o,e,l)}}),EL=Re("$ZodIntersection",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,l=t.left._zod.run({value:o,issues:[]},r),c=t.right._zod.run({value:o,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,p])=>m1(n,f,p)):m1(n,l,c)}});function Pv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ed(e)&&ed(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of r){const c=Pv(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};o[l]=c.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],l=t[r],c=Pv(o,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function m1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),sc(e))return e;const r=Pv(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const NL=Re("$ZodEnum",(e,t)=>{$n.init(e,t);const n=$I(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>UI.has(typeof o)).map(o=>typeof o=="string"?Sh(o):o.toString()).join("|")})$`),e._zod.parse=(o,l)=>{const c=o.value;return r.has(c)||o.issues.push({code:"invalid_value",values:n,input:c,inst:e}),o}}),_L=Re("$ZodTransform",(e,t)=>{$n.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new f_(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(n.value=c,n));if(o instanceof Promise)throw new ac;return n.value=o,n}});function h1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const kL=Re("$ZodOptional",(e,t)=>{$n.init(e,t),e._zod.optin="optional",e._zod.optout="optional",en(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),en(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fb(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>h1(l,n.value)):h1(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),RL=Re("$ZodNullable",(e,t)=>{$n.init(e,t),en(e._zod,"optin",()=>t.innerType._zod.optin),en(e._zod,"optout",()=>t.innerType._zod.optout),en(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fb(n.source)}|null)$`):void 0}),en(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),ML=Re("$ZodDefault",(e,t)=>{$n.init(e,t),e._zod.optin="optional",en(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>p1(l,t)):p1(o,t)}});function p1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const DL=Re("$ZodPrefault",(e,t)=>{$n.init(e,t),e._zod.optin="optional",en(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),AL=Re("$ZodNonOptional",(e,t)=>{$n.init(e,t),en(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>g1(l,e)):g1(o,e)}});function g1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const OL=Re("$ZodCatch",(e,t)=>{$n.init(e,t),en(e._zod,"optin",()=>t.innerType._zod.optin),en(e._zod,"optout",()=>t.innerType._zod.optout),en(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>Bi(c,r,Ui()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>Bi(l,r,Ui()))},input:n.value}),n.issues=[]),n)}}),TL=Re("$ZodPipe",(e,t)=>{$n.init(e,t),en(e._zod,"values",()=>t.in._zod.values),en(e._zod,"optin",()=>t.in._zod.optin),en(e._zod,"optout",()=>t.out._zod.optout),en(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>lm(c,t.in,r)):lm(l,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(l=>lm(l,t.out,r)):lm(o,t.out,r)}});function lm(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const zL=Re("$ZodReadonly",(e,t)=>{$n.init(e,t),en(e._zod,"propValues",()=>t.innerType._zod.propValues),en(e._zod,"values",()=>t.innerType._zod.values),en(e._zod,"optin",()=>t.innerType._zod.optin),en(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(x1):x1(o)}});function x1(e){return e.value=Object.freeze(e.value),e}const PL=Re("$ZodCustom",(e,t)=>{fo.init(e,t),$n.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(l=>v1(l,n,r,e));v1(o,n,r,e)}});function v1(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(td(o))}}class IL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function LL(){return new IL}const cm=LL();function $L(e,t){return new e({type:"string",...lt(t)})}function FL(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...lt(t)})}function b1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...lt(t)})}function UL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...lt(t)})}function BL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...lt(t)})}function VL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...lt(t)})}function HL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...lt(t)})}function qL(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...lt(t)})}function WL(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...lt(t)})}function GL(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...lt(t)})}function YL(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...lt(t)})}function KL(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...lt(t)})}function ZL(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...lt(t)})}function QL(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...lt(t)})}function XL(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...lt(t)})}function JL(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...lt(t)})}function e3(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...lt(t)})}function t3(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...lt(t)})}function n3(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...lt(t)})}function r3(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...lt(t)})}function s3(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...lt(t)})}function o3(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...lt(t)})}function a3(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...lt(t)})}function i3(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...lt(t)})}function l3(e,t){return new e({type:"string",format:"date",check:"string_format",...lt(t)})}function c3(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...lt(t)})}function u3(e,t){return new e({type:"string",format:"duration",check:"string_format",...lt(t)})}function d3(e,t){return new e({type:"boolean",...lt(t)})}function f3(e){return new e({type:"unknown"})}function m3(e,t){return new e({type:"never",...lt(t)})}function j_(e,t){return new z4({check:"max_length",...lt(t),maximum:e})}function Km(e,t){return new P4({check:"min_length",...lt(t),minimum:e})}function E_(e,t){return new I4({check:"length_equals",...lt(t),length:e})}function h3(e,t){return new L4({check:"string_format",format:"regex",...lt(t),pattern:e})}function p3(e){return new $4({check:"string_format",format:"lowercase",...lt(e)})}function g3(e){return new F4({check:"string_format",format:"uppercase",...lt(e)})}function x3(e,t){return new U4({check:"string_format",format:"includes",...lt(t),includes:e})}function v3(e,t){return new B4({check:"string_format",format:"starts_with",...lt(t),prefix:e})}function b3(e,t){return new V4({check:"string_format",format:"ends_with",...lt(t),suffix:e})}function bd(e){return new H4({check:"overwrite",tx:e})}function y3(e){return bd(t=>t.normalize(e))}function w3(){return bd(e=>e.trim())}function S3(){return bd(e=>e.toLowerCase())}function C3(){return bd(e=>e.toUpperCase())}function j3(e,t,n){return new e({type:"array",element:t,...lt(n)})}function E3(e,t,n){return new e({type:"custom",check:"custom",fn:t,...lt(n)})}function N3(e){const t=_3(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(td(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(td(o))}},e(n.value,n)));return t}function _3(e,t){const n=new fo({check:"custom",...lt(t)});return n._zod.check=e,n}const k3=Re("ZodISODateTime",(e,t)=>{sL.init(e,t),hn.init(e,t)});function R3(e){return i3(k3,e)}const M3=Re("ZodISODate",(e,t)=>{oL.init(e,t),hn.init(e,t)});function D3(e){return l3(M3,e)}const A3=Re("ZodISOTime",(e,t)=>{aL.init(e,t),hn.init(e,t)});function O3(e){return c3(A3,e)}const T3=Re("ZodISODuration",(e,t)=>{iL.init(e,t),hn.init(e,t)});function z3(e){return u3(T3,e)}const P3=(e,t)=>{Bb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>QI(e,n)},flatten:{value:n=>ZI(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,zv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,zv,2)}},isEmpty:{get(){return e.issues.length===0}}})},ws=Re("ZodError",P3,{Parent:Error}),I3=jh(ws),L3=Eh(ws),$3=Nh(ws),F3=_h(ws),U3=n4(ws),B3=r4(ws),V3=s4(ws),H3=o4(ws),q3=a4(ws),W3=i4(ws),G3=l4(ws),Y3=c4(ws),Gn=Re("ZodType",(e,t)=>($n.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Ji(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Ja(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>I3(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>$3(e,n,r),e.parseAsync=async(n,r)=>L3(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>F3(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>U3(e,n,r),e.decode=(n,r)=>B3(e,n,r),e.encodeAsync=async(n,r)=>V3(e,n,r),e.decodeAsync=async(n,r)=>H3(e,n,r),e.safeEncode=(n,r)=>q3(e,n,r),e.safeDecode=(n,r)=>W3(e,n,r),e.safeEncodeAsync=async(n,r)=>G3(e,n,r),e.safeDecodeAsync=async(n,r)=>Y3(e,n,r),e.refine=(n,r)=>e.check(I$(n,r)),e.superRefine=n=>e.check(L$(n)),e.overwrite=n=>e.check(bd(n)),e.optional=()=>S1(e),e.nullable=()=>C1(e),e.nullish=()=>S1(C1(e)),e.nonoptional=n=>M$(e,n),e.array=()=>Rh(e),e.or=n=>__([e,n]),e.and=n=>S$(e,n),e.transform=n=>j1(e,j$(n)),e.default=n=>_$(e,n),e.prefault=n=>R$(e,n),e.catch=n=>A$(e,n),e.pipe=n=>j1(e,n),e.readonly=()=>z$(e),e.describe=n=>{const r=e.clone();return cm.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return cm.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return cm.get(e);const r=e.clone();return cm.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),N_=Re("_ZodString",(e,t)=>{Vb.init(e,t),Gn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(h3(...r)),e.includes=(...r)=>e.check(x3(...r)),e.startsWith=(...r)=>e.check(v3(...r)),e.endsWith=(...r)=>e.check(b3(...r)),e.min=(...r)=>e.check(Km(...r)),e.max=(...r)=>e.check(j_(...r)),e.length=(...r)=>e.check(E_(...r)),e.nonempty=(...r)=>e.check(Km(1,...r)),e.lowercase=r=>e.check(p3(r)),e.uppercase=r=>e.check(g3(r)),e.trim=()=>e.check(w3()),e.normalize=(...r)=>e.check(y3(...r)),e.toLowerCase=()=>e.check(S3()),e.toUpperCase=()=>e.check(C3())}),K3=Re("ZodString",(e,t)=>{Vb.init(e,t),N_.init(e,t),e.email=n=>e.check(FL(Z3,n)),e.url=n=>e.check(qL(Q3,n)),e.jwt=n=>e.check(a3(f$,n)),e.emoji=n=>e.check(WL(X3,n)),e.guid=n=>e.check(b1(y1,n)),e.uuid=n=>e.check(UL(um,n)),e.uuidv4=n=>e.check(BL(um,n)),e.uuidv6=n=>e.check(VL(um,n)),e.uuidv7=n=>e.check(HL(um,n)),e.nanoid=n=>e.check(GL(J3,n)),e.guid=n=>e.check(b1(y1,n)),e.cuid=n=>e.check(YL(e$,n)),e.cuid2=n=>e.check(KL(t$,n)),e.ulid=n=>e.check(ZL(n$,n)),e.base64=n=>e.check(r3(c$,n)),e.base64url=n=>e.check(s3(u$,n)),e.xid=n=>e.check(QL(r$,n)),e.ksuid=n=>e.check(XL(s$,n)),e.ipv4=n=>e.check(JL(o$,n)),e.ipv6=n=>e.check(e3(a$,n)),e.cidrv4=n=>e.check(t3(i$,n)),e.cidrv6=n=>e.check(n3(l$,n)),e.e164=n=>e.check(o3(d$,n)),e.datetime=n=>e.check(R3(n)),e.date=n=>e.check(D3(n)),e.time=n=>e.check(O3(n)),e.duration=n=>e.check(z3(n))});function fr(e){return $L(K3,e)}const hn=Re("ZodStringFormat",(e,t)=>{ln.init(e,t),N_.init(e,t)}),Z3=Re("ZodEmail",(e,t)=>{K4.init(e,t),hn.init(e,t)}),y1=Re("ZodGUID",(e,t)=>{G4.init(e,t),hn.init(e,t)}),um=Re("ZodUUID",(e,t)=>{Y4.init(e,t),hn.init(e,t)}),Q3=Re("ZodURL",(e,t)=>{Z4.init(e,t),hn.init(e,t)}),X3=Re("ZodEmoji",(e,t)=>{Q4.init(e,t),hn.init(e,t)}),J3=Re("ZodNanoID",(e,t)=>{X4.init(e,t),hn.init(e,t)}),e$=Re("ZodCUID",(e,t)=>{J4.init(e,t),hn.init(e,t)}),t$=Re("ZodCUID2",(e,t)=>{eL.init(e,t),hn.init(e,t)}),n$=Re("ZodULID",(e,t)=>{tL.init(e,t),hn.init(e,t)}),r$=Re("ZodXID",(e,t)=>{nL.init(e,t),hn.init(e,t)}),s$=Re("ZodKSUID",(e,t)=>{rL.init(e,t),hn.init(e,t)}),o$=Re("ZodIPv4",(e,t)=>{lL.init(e,t),hn.init(e,t)}),a$=Re("ZodIPv6",(e,t)=>{cL.init(e,t),hn.init(e,t)}),i$=Re("ZodCIDRv4",(e,t)=>{uL.init(e,t),hn.init(e,t)}),l$=Re("ZodCIDRv6",(e,t)=>{dL.init(e,t),hn.init(e,t)}),c$=Re("ZodBase64",(e,t)=>{fL.init(e,t),hn.init(e,t)}),u$=Re("ZodBase64URL",(e,t)=>{hL.init(e,t),hn.init(e,t)}),d$=Re("ZodE164",(e,t)=>{pL.init(e,t),hn.init(e,t)}),f$=Re("ZodJWT",(e,t)=>{xL.init(e,t),hn.init(e,t)}),m$=Re("ZodBoolean",(e,t)=>{vL.init(e,t),Gn.init(e,t)});function h$(e){return d3(m$,e)}const p$=Re("ZodUnknown",(e,t)=>{bL.init(e,t),Gn.init(e,t)});function w1(){return f3(p$)}const g$=Re("ZodNever",(e,t)=>{yL.init(e,t),Gn.init(e,t)});function x$(e){return m3(g$,e)}const v$=Re("ZodArray",(e,t)=>{wL.init(e,t),Gn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Km(n,r)),e.nonempty=n=>e.check(Km(1,n)),e.max=(n,r)=>e.check(j_(n,r)),e.length=(n,r)=>e.check(E_(n,r)),e.unwrap=()=>e.element});function Rh(e,t){return j3(v$,e,t)}const b$=Re("ZodObject",(e,t)=>{CL.init(e,t),Gn.init(e,t),en(e,"shape",()=>t.shape),e.keyof=()=>Lv(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:w1()}),e.loose=()=>e.clone({...e._zod.def,catchall:w1()}),e.strict=()=>e.clone({...e._zod.def,catchall:x$()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>qI(e,n),e.safeExtend=n=>WI(e,n),e.merge=n=>GI(e,n),e.pick=n=>VI(e,n),e.omit=n=>HI(e,n),e.partial=(...n)=>YI(k_,e,n[0]),e.required=(...n)=>KI(R_,e,n[0])});function Cc(e,t){const n={type:"object",shape:e??{},...lt(t)};return new b$(n)}const y$=Re("ZodUnion",(e,t)=>{jL.init(e,t),Gn.init(e,t),e.options=t.options});function __(e,t){return new y$({type:"union",options:e,...lt(t)})}const w$=Re("ZodIntersection",(e,t)=>{EL.init(e,t),Gn.init(e,t)});function S$(e,t){return new w$({type:"intersection",left:e,right:t})}const Iv=Re("ZodEnum",(e,t)=>{NL.init(e,t),Gn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Iv({...t,checks:[],...lt(o),entries:l})},e.exclude=(r,o)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Iv({...t,checks:[],...lt(o),entries:l})}});function Lv(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Iv({type:"enum",entries:n,...lt(t)})}const C$=Re("ZodTransform",(e,t)=>{_L.init(e,t),Gn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new f_(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(td(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(td(c))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(l=>(n.value=l,n)):(n.value=o,n)}});function j$(e){return new C$({type:"transform",transform:e})}const k_=Re("ZodOptional",(e,t)=>{kL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function S1(e){return new k_({type:"optional",innerType:e})}const E$=Re("ZodNullable",(e,t)=>{RL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function C1(e){return new E$({type:"nullable",innerType:e})}const N$=Re("ZodDefault",(e,t)=>{ML.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function _$(e,t){return new N$({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():p_(t)}})}const k$=Re("ZodPrefault",(e,t)=>{DL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function R$(e,t){return new k$({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():p_(t)}})}const R_=Re("ZodNonOptional",(e,t)=>{AL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function M$(e,t){return new R_({type:"nonoptional",innerType:e,...lt(t)})}const D$=Re("ZodCatch",(e,t)=>{OL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function A$(e,t){return new D$({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const O$=Re("ZodPipe",(e,t)=>{TL.init(e,t),Gn.init(e,t),e.in=t.in,e.out=t.out});function j1(e,t){return new O$({type:"pipe",in:e,out:t})}const T$=Re("ZodReadonly",(e,t)=>{zL.init(e,t),Gn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function z$(e){return new T$({type:"readonly",innerType:e})}const P$=Re("ZodCustom",(e,t)=>{PL.init(e,t),Gn.init(e,t)});function I$(e,t={}){return E3(P$,e,t)}function L$(e){return N3(e)}function $$(){return kn({queryKey:Ls.providers(),queryFn:({signal:e})=>Xz({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const F$={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function Rt({tone:e="info",heading:t,icon:n,className:r,children:o,...l}){return i.jsxs("div",{role:"status",className:fe("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",F$[e],r),...l,children:[n?i.jsx("span",{"aria-hidden":"true",children:n}):null,i.jsxs("div",{className:"space-y-1",children:[t?i.jsx("p",{className:"font-semibold",children:t}):null,o?i.jsx("p",{className:"leading-relaxed",children:o}):null]})]})}function Ht({label:e,hint:t,error:n,required:r=!1,children:o,className:l}){const c=m.useId(),d=m.isValidElement(o)?o.props??{}:{},f=d.id??c,p=t?`${f}-hint`:void 0,g=n?`${f}-error`:void 0,x=[p,g,d["aria-describedby"]].filter(Boolean).join(" ")||void 0;return i.jsxs("div",{className:fe("space-y-2",l),children:[e?i.jsxs("label",{htmlFor:f,className:"text-sm font-medium text-foreground","aria-required":r||void 0,children:[e,r?i.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,m.isValidElement(o)?m.cloneElement(o,{id:f,required:r||d.required,"aria-describedby":x,"aria-invalid":n?!0:d["aria-invalid"]}):o,t?i.jsx("p",{id:p,className:"text-xs text-muted-foreground",children:t}):null,n?i.jsx("p",{id:g,className:"text-xs font-medium text-danger-600",children:n}):null]})}function kt({className:e,type:t,invalid:n,...r}){const o=n??r["aria-invalid"];return i.jsx("input",{type:t,"data-slot":"input","aria-invalid":o||void 0,className:ze("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:font-medium file:text-foreground file:text-sm placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30","focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40",e),...r})}const U$=Cc({email:fr().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:fr().min(1,"Enter your password.")});function B$(e,t){const n=(e??"").trim();if(!n)return"#";if(!t)return n;const r=n.includes("?")?"&":"?";return`${n}${r}return_to=${encodeURIComponent(t)}`}function V$(){const e=pr(),t=an(),n=It(),r=TN(),{session:o,isLoading:l,isError:c}=r,d=!o&&!l&&!c,f=Ob(d),p=$$(),x=(p.data?.providers??[]).filter(D=>D.type!=="password"),b=p.data?.force_sso??!1,w=p.isError&&!p.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,S=m.useMemo(()=>{const D=new URLSearchParams(e.search);return fc(D.get("redirectTo"))},[e.search]);m.useEffect(()=>{o&&t(Hm(o.return_to,S),{replace:!0})},[t,S,o]),m.useEffect(()=>{d&&(f.isPending||f.isError||f.data?.setup_required&&t(PN(S),{replace:!0}))},[t,S,f.data?.setup_required,f.isError,f.isPending,d]);const[C,j]=m.useState(null),[E,N]=m.useState(!1);if(m.useEffect(()=>{j(null)},[e.search]),l)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session"})});if(c)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We were unable to verify your session. Refresh the page to try again."}),i.jsx(ke,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})]});if(f.isPending&&d)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing initial setup"})});if(f.isError&&d)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We were unable to check whether ADE is ready."}),i.jsx(ke,{variant:"secondary",onClick:()=>f.refetch(),children:"Try again"})]});const _=async D=>{D.preventDefault(),j(null);const O=new FormData(D.currentTarget),A=Object.fromEntries(O.entries()),L=U$.safeParse(A);if(!L.success){const U=L.error.issues[0]?.message??"Invalid input.";j(U);return}const{email:T,password:W}=L.data,I=typeof A.redirectTo=="string"?A.redirectTo:null,F=fc(I);N(!0);try{const U=await eP({email:T,password:W});n.setQueryData(Ls.detail(),U),t(Hm(U.return_to,F),{replace:!0})}catch(U){if(U instanceof Ft){const ae=U.problem?.detail??U.message??"Unable to sign in.";j(ae)}else U instanceof Error?j(U.message):j("Unable to sign in.")}finally{N(!1)}},R=!!C&&!E,M=p.isLoading||p.isFetching;return i.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-background px-6 py-16",children:i.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-border bg-card p-10 shadow-soft",children:[i.jsxs("header",{className:"space-y-2 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Sign in to ADE"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and password or continue with a connected provider."})]}),w?i.jsx(Rt,{tone:"warning",className:"mt-6",children:w}):null,M?i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-muted"}),i.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-muted"})]}):x.length>0?i.jsx("div",{className:"mt-6 space-y-3",children:x.map(D=>i.jsxs("a",{href:B$(D.start_url,S),className:"flex w-full items-center justify-center rounded-lg border border-border-strong bg-card px-4 py-2 text-sm font-semibold text-foreground transition hover:bg-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:["Continue with ",D.label]},D.id))}):null,b?i.jsx(Rt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):i.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:_,children:[i.jsx("input",{type:"hidden",name:"redirectTo",value:S}),i.jsx(Ht,{label:"Email address",required:!0,children:i.jsx(kt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:E})}),i.jsx(Ht,{label:"Password",required:!0,children:i.jsx(kt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:E})}),R?i.jsx(Rt,{tone:"danger",children:C}):null,i.jsx(ke,{type:"submit",className:"w-full justify-center",isLoading:E,disabled:E,children:E?"Signing in":"Continue"})]})]})})}function H$(){const e=an(),t=pr(),n=It(),[r,o]=m.useState(null);return m.useEffect(()=>{let l=!1;const c=new URLSearchParams(t.search),d=fc(c.get("return_to")??c.get("redirectTo")??c.get("next"));async function f(){try{const p=await tP();if(l)return;n.setQueryData(Ls.detail(),p);const g=Hm(null,d);e(g,{replace:!0})}catch(p){if(l)return;p instanceof Ft?o(p.problem?.detail??p.message):p instanceof Error?o(p.message):o("Unexpected callback error.")}}return f(),()=>{l=!0}},[t.search,e,n]),r?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(At,{title:"Unable to finish sign-in",description:r,variant:"error",action:i.jsx(ke,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(At,{title:"Finishing sign-in",variant:"loading"})})}const q$=Cc({displayName:fr().min(1,"Display name is required."),email:fr().min(1,"Email is required.").email("Enter a valid email address."),password:fr().min(12,"Use at least 12 characters."),confirmPassword:fr().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function W$(){const e=pr(),t=an(),n=It(),r=Ob(!0),o=m.useMemo(()=>{const g=new URLSearchParams(e.search);return fc(g.get("redirectTo"))},[e.search]);m.useEffect(()=>{r.isPending||r.isError||r.data?.setup_required||t(zN(o),{replace:!0})},[t,o,r.data?.setup_required,r.isError,r.isPending]);const[l,c]=m.useState(null),[d,f]=m.useState(!1);if(r.isPending)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading setup status"})});if(r.isError)return i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-background px-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"We couldn't check whether ADE requires initial setup."}),i.jsx(ke,{variant:"secondary",onClick:()=>r.refetch(),children:"Try again"})]});if(!r.data?.setup_required)return null;const p=async g=>{g.preventDefault(),c(null);const x=new FormData(g.currentTarget),b=Object.fromEntries(x.entries()),w=q$.safeParse(b);if(!w.success){const C=w.error.issues[0]?.message??"Invalid input.";c(C);return}f(!0);const S=fc(b.redirectTo);try{const C=await cP({display_name:w.data.displayName,email:w.data.email,password:w.data.password});n.setQueryData(Ls.detail(),C),t(Hm(C.return_to,S),{replace:!0})}catch(C){if(C instanceof Ft){const j=C.problem?.detail??C.message??"Setup failed. Try again.";c(j)}else C instanceof Error?c(C.message):c("Setup failed. Try again.")}finally{f(!1)}};return i.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-background px-6 py-16",children:i.jsxs("div",{className:"rounded-2xl border border-border bg-card p-10 shadow-soft",children:[i.jsxs("header",{className:"space-y-3 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Create the first administrator"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i.jsx("input",{type:"hidden",name:"redirectTo",value:o}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(Ht,{label:"Display name",required:!0,children:i.jsx(kt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:d})}),i.jsx(Ht,{label:"Email",required:!0,children:i.jsx(kt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:d})})]}),i.jsx(Ht,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:i.jsx(kt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:d})}),i.jsx(Ht,{label:"Confirm password",required:!0,children:i.jsx(kt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:d})}),l?i.jsx(Rt,{tone:"danger",children:l}):null,i.jsx("div",{className:"flex justify-end",children:i.jsx(ke,{type:"submit",isLoading:d,disabled:d,children:d?"Creating administrator":"Create administrator"})})]})]})})}const G$=232,Y$=30,Mi=6;function qo({open:e,position:t,onClose:n,items:r,appearance:o="dark",onPointerLeave:l}){const c=m.useRef(null),d=m.useRef([]),[f,p]=m.useState(null),g=m.useMemo(()=>r.findIndex(S=>!S.disabled),[r]),[x,b]=m.useState(()=>g>=0?g:0);if(m.useEffect(()=>{if(!e||!t||typeof window>"u"){p(null);return}const S=r.length*Y$+Mi*2,C=Math.max(Mi,(window.innerWidth||0)-G$-Mi),j=Math.max(Mi,(window.innerHeight||0)-S-Mi),E=Math.min(Math.max(t.x,Mi),C),N=Math.min(Math.max(t.y,Mi),j);p({x:E,y:N})},[e,t,r.length]),m.useEffect(()=>{e&&b(g>=0?g:0)},[e,g]),m.useEffect(()=>{if(!e)return;d.current[x]?.focus()},[e,x]),m.useEffect(()=>{if(!e||typeof window>"u")return;const S=E=>{c.current&&(c.current.contains(E.target)||n())},C=E=>{if(c.current){if(c.current.contains(E.target)){E.preventDefault();return}n()}},j=E=>{if(E.key==="Escape"){E.preventDefault(),n();return}if(E.key==="ArrowDown"||E.key==="ArrowUp"){E.preventDefault();const N=E.key==="ArrowDown"?1:-1;b(_=>{if(r.length===0)return _;let R=_;for(let M=0;M<r.length;M+=1)if(R=(R+N+r.length)%r.length,!r[R]?.disabled)return R;return _});return}if(E.key==="Enter"||E.key===" "){E.preventDefault();const N=r[x];N&&!N.disabled&&(N.onSelect(),n())}};return window.addEventListener("mousedown",S),window.addEventListener("contextmenu",C),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",S),window.removeEventListener("contextmenu",C),window.removeEventListener("keydown",j)}},[e,n,r,x]),!e||!t||typeof window>"u"||!f)return null;const w=o==="dark"?{bg:"bg-popover text-foreground",border:"border-border/70",shadow:"shadow-[0_12px_28px_rgb(var(--sys-color-shadow)/0.5)]",item:"hover:bg-muted focus-visible:bg-muted",disabled:"text-muted-foreground",danger:"text-danger-300 hover:text-on-danger hover:bg-danger-600 focus-visible:bg-danger-600",shortcut:"text-muted-foreground",separator:"border-border/60"}:{bg:"bg-popover text-foreground",border:"border-border/80",shadow:"shadow-[0_12px_28px_rgb(var(--sys-color-shadow)/0.18)]",item:"hover:bg-muted focus-visible:bg-muted",disabled:"text-muted-foreground",danger:"text-danger-600 hover:text-on-danger hover:bg-danger-600 focus-visible:bg-danger-600",shortcut:"text-muted-foreground",separator:"border-border/70"};return Wn.createPortal(i.jsx("div",{ref:c,role:"menu",className:fe("z-[60] min-w-[200px] rounded-sm border",w.bg,w.border,w.shadow),style:{top:f.y,left:f.x,position:"fixed"},onPointerLeave:l,children:i.jsx("ul",{className:"py-1",role:"none",children:r.map((S,C)=>{const j=!!S.disabled,E=!!S.danger;return i.jsxs(m.Fragment,{children:[S.dividerAbove?i.jsx("li",{role:"separator",className:fe("mx-2 my-1 border-t",w.separator)}):null,i.jsx("li",{role:"none",children:i.jsxs("button",{ref:N=>{d.current[C]=N},type:"button",role:"menuitem",className:fe("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,E&&!j&&w.danger,j&&"cursor-default"),onClick:N=>{N.stopPropagation(),!j&&(S.onSelect(),n())},onMouseEnter:()=>{j||(b(C),S.onHover?.())},disabled:j,children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[S.icon?i.jsx("span",{className:"text-base opacity-80",children:S.icon}):i.jsx("span",{className:"inline-block h-4 w-4"}),i.jsx("span",{className:"truncate",children:S.label})]}),S.shortcut?i.jsx("span",{className:fe("text-[11px] uppercase tracking-wide",w.shortcut),children:S.shortcut}):null]})})]},S.id)})})}),window.document.body)}const K$=8;function M_({className:e,tone:t="default"}){const{theme:n,modePreference:r,resolvedMode:o,setModePreference:l,setPreviewTheme:c,setTheme:d}=kb(),f=m.useRef(null),[p,g]=m.useState(!1),[x,b]=m.useState(null),w=t==="header",S=m.useCallback(()=>{if(!f.current)return;const E=f.current.getBoundingClientRect();b({x:E.left,y:E.bottom+K$})},[]),C=m.useCallback(()=>{g(!1),c(null)},[c]);m.useEffect(()=>{if(!p){c(null);return}S();const E=()=>S();return window.addEventListener("resize",E),window.addEventListener("scroll",E,!0),()=>{window.removeEventListener("resize",E),window.removeEventListener("scroll",E,!0)}},[p,c,S]);const j=m.useMemo(()=>{const E=pN.map(_=>({id:`mode-${_.value}`,label:`${_.label} mode`,onSelect:()=>{l(_.value),C()},icon:r===_.value?i.jsx(Va,{className:"h-3.5 w-3.5 text-brand-500"}):void 0})),N=gN.map((_,R)=>({id:`theme-${_.id}`,label:_.label,onSelect:()=>{d(_.id),C()},onHover:()=>c(_.id),icon:n===_.id?i.jsx(Va,{className:"h-3.5 w-3.5 text-brand-500"}):void 0,dividerAbove:R===0}));return[...E,...N]},[C,r,l,c,d,n]);return i.jsxs("div",{className:fe("relative",e),children:[i.jsxs("button",{ref:f,type:"button","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Appearance settings",title:"Appearance",className:fe("focus-ring inline-flex h-9 items-center gap-2 rounded-xl border px-2.5 text-xs transition",w?"border-header-border/40 bg-header/25 text-header-foreground shadow-none hover:border-header-border/70 hover:bg-header/30":"border-border/80 bg-card text-muted-foreground shadow-sm hover:border-border-strong hover:text-foreground",p&&(w?"border-header-ring ring-2 ring-header-ring/30":"border-brand-400 ring-2 ring-brand-500/10 text-foreground")),onClick:()=>g(E=>!E),onKeyDown:E=>{(E.key==="ArrowDown"||E.key==="Enter"||E.key===" ")&&(E.preventDefault(),g(!0))},children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"rgb(var(--sys-color-accent))"},"aria-hidden":!0}),i.jsx(VT,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden xl:inline",children:"Appearance"}),i.jsx(Zi,{className:fe("h-3.5 w-3.5 transition",p&&"rotate-180")})]}),i.jsx(qo,{open:p,position:x,onClose:C,items:j,appearance:o,onPointerLeave:()=>c(null)})]})}function D_({id:e,value:t,defaultValue:n="",placeholder:r="Search",ariaLabel:o,shortcutHint:l="K",shortcutKey:c="k",enableShortcut:d=!0,scopeLabel:f,leadingIcon:p,trailingIcon:g,className:x,variant:b="default",isLoading:w=!1,loadingLabel:S="Loading suggestions",filters:C,onSelectFilter:j,emptyState:E,onChange:N,onSubmit:_,onClear:R,onFocus:M,onBlur:D,suggestions:O=[],onSelectSuggestion:A,renderSuggestion:L}){const T=m.useId(),W=e??T,I=`${T}-suggestions`,F=m.useRef(null),U=m.useRef(null),ae=t!==void 0,[P,q]=m.useState(n),[K,te]=m.useState(!1),ve=m.useRef(!1),[V,B]=m.useState(0),re=ae?t??"":P,Y=O.length>0,z=!!C?.length,G=K&&(Y||w||!!E||z),H=K&&!Y&&!w&&!!E,ee=!!(R||!ae),oe=l||"K",le=o??r,de=()=>{ve.current&&(ve.current=!1,te(!1),D?.())};m.useEffect(()=>{ae||q(n)},[n,ae]),m.useEffect(()=>{B(0)},[O.length,re]),m.useEffect(()=>{if(!d||typeof window>"u")return;const ge=Me=>{if((Me.metaKey||Me.ctrlKey)&&Me.key.toLowerCase()===c.toLowerCase()){const ye=Me.target;if(!!!(ye&&ye instanceof Node&&F.current?.contains(ye))&&Q$(ye))return;Me.preventDefault(),U.current?.focus({preventScroll:!0})}};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[d,c]);const Ee=ge=>{ge.preventDefault();const Me=re.trim();!Me&&!_||_?.(Me)},Oe=ge=>{ae||q(ge),N?.(ge)},Pe=()=>{re&&(ae||q(""),N?.(""),R?.(),U.current?.focus({preventScroll:!0}))},ot=ge=>{if(!ge)return;A?.(ge),ge.action?.(),de();const Me=document.activeElement;Me&&F.current?.contains(Me)&&Me.blur()},xt=ge=>{if(ge.key==="Escape"){ge.preventDefault(),de(),ge.currentTarget.blur();return}if(!(!G||!Y)){if(ge.key==="ArrowDown"){ge.preventDefault(),B(Me=>(Me+1)%O.length);return}if(ge.key==="ArrowUp"){ge.preventDefault(),B(Me=>(Me-1+O.length)%O.length);return}ge.key==="Enter"&&(ge.preventDefault(),ot(O[V]))}},ct=b==="header",sn=ct?fe("rounded-2xl border border-header-border/40 bg-header/20 text-header-foreground backdrop-blur-sm","shadow-none ring-1 ring-inset ring-header-border/30 transition","focus-within:border-header-ring focus-within:bg-header/30 focus-within:ring-header-ring/40"):b==="minimal"?fe("rounded-xl border border-border bg-card/90 shadow-sm ring-1 ring-inset ring-border/40","transition focus-within:border-brand-400 focus-within:shadow-[0_18px_45px_-35px_rgb(var(--sys-color-shadow)/0.4)]"):fe("rounded-xl border border-border/70 bg-gradient-to-r from-card/95 via-muted/80 to-card/95","shadow-[0_20px_45px_-30px_rgb(var(--sys-color-shadow)/0.6)] ring-1 ring-inset ring-border/30 transition","focus-within:border-brand-400 focus-within:shadow-[0_25px_55px_-35px_rgb(var(--sys-color-shadow)/0.55)] sm:rounded-2xl"),_t=ct?"text-header-muted":"text-muted-foreground",Q=ct?"text-header-foreground placeholder:text-header-muted":"text-foreground placeholder:text-muted-foreground",Z=ct?"border-header-border/40 bg-header/30 text-header-foreground":"border-border/70 bg-card/80 text-muted-foreground",ue=ct?"lg:inline-flex":"md:inline-flex",De=ct?"text-header-muted hover:border-header-border/50 hover:bg-header/20":"text-muted-foreground hover:border-border hover:bg-card",je=ct?"bg-header/30 text-header-foreground ring-header-border/40":"bg-card text-brand-600 ring-border/40";return i.jsxs("div",{ref:F,className:fe("relative",x),onFocusCapture:()=>{ve.current||(ve.current=!0,te(!0),M?.())},onBlurCapture:()=>{requestAnimationFrame(()=>{const ge=F.current,Me=document.activeElement;!!(ge&&Me&&ge.contains(Me))||de()})},onKeyDownCapture:ge=>{if(ge.key==="Escape"){ge.preventDefault(),de();const Me=document.activeElement;Me&&F.current?.contains(Me)&&Me.blur()}},children:[i.jsx("div",{className:fe("group/search overflow-hidden",sn,G&&b==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgb(var(--sys-color-shadow)/0.55)]"),children:i.jsxs("form",{className:fe("flex w-full items-center gap-3 px-4 py-2 text-sm sm:px-5 sm:py-2.5",_t),role:"search","aria-label":le,onSubmit:Ee,children:[i.jsx("label",{htmlFor:W,className:"sr-only",children:le}),p??i.jsx("span",{className:fe("inline-flex h-9 w-9 items-center justify-center rounded-xl shadow-inner shadow-white/10 ring-1 ring-inset sm:h-10 sm:w-10",je),children:i.jsx(gh,{className:fe("h-4 w-4 flex-shrink-0",ct?"text-header-foreground":"text-brand-600")})}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[f?i.jsx("span",{className:fe("text-[0.6rem] font-semibold uppercase tracking-wide sm:text-[0.65rem]",ct?"text-header-muted":"text-muted-foreground"),children:f}):null,i.jsx("input",{ref:U,id:W,type:"search",value:re,onChange:ge=>Oe(ge.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onKeyDown:xt,placeholder:r,className:fe("w-full border-0 bg-transparent text-base font-medium focus:outline-none",Q),"aria-expanded":G,"aria-controls":G?I:void 0,"aria-activedescendant":G&&Y?`${I}-option-${V}`:void 0})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[ee&&re?i.jsx("button",{type:"button",onClick:Pe,"aria-label":"Clear search",className:fe("focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent",De),children:i.jsx(uo,{className:"h-3.5 w-3.5"})}):null,w?i.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":S,children:i.jsx(Hu,{className:"h-4 w-4 animate-spin text-brand-600"})}):null,g,i.jsx("span",{className:fe("hidden items-center gap-1 rounded-full border px-2 py-1 text-xs font-semibold shadow-inner shadow-white/10",Z,ue),children:oe})]})]})}),G?i.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-border/70 bg-popover shadow-[0_35px_80px_-40px_rgb(var(--sys-color-shadow)/0.55)] ring-1 ring-inset ring-border/30",children:[Y?i.jsx("ul",{id:I,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-border/60",children:O.map((ge,Me)=>{const ye=Me===V,ne=L?.({suggestion:ge,active:ye})??i.jsx(Z$,{suggestion:ge,active:ye});return i.jsx("li",{children:i.jsx("button",{id:`${I}-option-${Me}`,type:"button",role:"option","aria-selected":ye,onMouseEnter:()=>B(Me),onClick:()=>ot(ge),className:fe("flex w-full px-5 py-3 text-left transition",ye?"bg-brand-500/10":"hover:bg-muted"),children:ne})},ge.id)})}):null,H?i.jsx("div",{className:"px-5 py-4 text-sm text-muted-foreground",role:"status",children:E}):null,z?i.jsx("div",{className:"border-t border-border/60 bg-muted/60 px-4 py-2.5",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-muted-foreground",children:[i.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-muted-foreground",children:"Filters:"}),C?.map(ge=>i.jsx("button",{type:"button",onClick:()=>j?.(ge),className:fe("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",ge.active?"border-brand-400 bg-brand-500/10 text-brand-600":"border-border bg-card text-muted-foreground hover:border-border-strong"),children:ge.label},ge.id))]})}):null]}):null]})}function Z$({suggestion:e,active:t}){return i.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?i.jsx("span",{className:"mt-0.5 text-muted-foreground",children:e.icon}):i.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-border","aria-hidden":!0}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground",children:e.label}),e.shortcutHint?i.jsx("span",{className:"rounded border border-border bg-card px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-muted-foreground",children:e.shortcutHint}):null]}),e.description?i.jsx("span",{className:fe("text-xs",t?"text-brand-600":"text-muted-foreground"),children:e.description}):null]})]})}function Q$(e){if(!e||!(e instanceof HTMLElement))return!1;const t=e.tagName.toLowerCase();return!!(t==="input"||t==="textarea"||t==="select"||e.isContentEditable||e.closest?.("[contenteditable='true']"))}function A_({brand:e,leading:t,actions:n,trailing:r,search:o,secondaryContent:l,scrollContainer:c}){const[d,f]=m.useState(!1);m.useEffect(()=>{if(typeof window>"u")return;let x=!1;const b=c??window,w=()=>b===window?window.scrollY:b.scrollTop,S=()=>{x=!1;const j=w()>0;f(E=>E===j?E:j)},C=()=>{x||(x=!0,window.requestAnimationFrame(S))};return S(),b.addEventListener("scroll",C,{passive:!0}),()=>b.removeEventListener("scroll",C)},[c]);const p=!!o,g=o?{...o,variant:o.variant??"header",className:fe("w-full col-span-2 row-start-2 xl:col-span-1 xl:row-start-1 xl:col-start-2 xl:justify-self-center xl:max-w-[42rem]",o.className)}:void 0;return i.jsxs("header",{className:fe("sticky top-0 z-50","border-b border-header-border","bg-header text-header-foreground","transition-shadow duration-200 motion-reduce:transition-none",d?"shadow-[0_12px_40px_-30px_rgb(var(--sys-color-shadow)/0.45)]":"shadow-none"),style:{"--focus-ring-offset":"rgb(var(--sys-color-header-bg) / 1)"},role:"banner",children:[i.jsx("a",{href:"#main-content",className:fe("sr-only","focus:not-sr-only focus:absolute focus:left-4 focus:top-3 focus:z-[60]","rounded-lg border border-header-border bg-card px-3 py-2 text-sm font-semibold text-foreground shadow","focus:outline-none focus:ring-2 focus:ring-header-ring focus:ring-offset-2 focus:ring-offset-header"),children:"Skip to content"}),i.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[i.jsxs("div",{className:fe("grid min-h-[3.5rem] w-full items-center gap-3 sm:gap-4",p?"grid-cols-[minmax(0,1fr)_auto] xl:grid-cols-[auto_minmax(0,1fr)_auto] xl:gap-8":"grid-cols-[minmax(0,1fr)_auto]"),children:[i.jsxs("div",{className:"col-start-1 row-start-1 flex w-full min-w-0 items-center gap-3",children:[e,t]}),g?i.jsx(D_,{...g}):null,i.jsxs("div",{className:fe("col-start-2 row-start-1 flex flex-wrap items-center justify-end gap-2",p&&"xl:col-start-3 xl:row-start-1"),children:[n,r]})]}),l?i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l}):null]})]})}const X$=140,J$=288,eF=8,Hl=12;function O_({displayName:e,email:t,actions:n=[],tone:r="default"}){const o=m.useId(),[l,c]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1),[x,b]=m.useState(null),[w,S]=m.useState(!1),C=m.useRef(null),j=m.useRef(null),E=an(),N=m.useMemo(()=>tF(e||t),[e,t]),_=r==="header",R=m.useCallback(T=>{c(!1),T?.restoreFocus&&requestAnimationFrame(()=>C.current?.focus({preventScroll:!0}))},[]),M=m.useCallback(()=>{if(typeof window>"u"||!C.current)return;const T=C.current.getBoundingClientRect(),W=j.current?.offsetWidth??J$,I=j.current?.offsetHeight??0,F=Math.max(Hl,window.innerWidth-W-Hl),U=Math.max(Hl,window.innerHeight-I-Hl);let ae=T.right-W,P=T.bottom+eF;ae=Math.min(Math.max(ae,Hl),F),P=Math.min(Math.max(P,Hl),U),b({top:P,left:ae})},[]);m.useEffect(()=>{if(l){f(!0);const W=window.requestAnimationFrame(()=>{M(),g(!0)});return()=>window.cancelAnimationFrame(W)}g(!1),b(null);const T=window.setTimeout(()=>f(!1),X$);return()=>window.clearTimeout(T)},[l,M]),m.useEffect(()=>{if(!l)return;const T=()=>M();return window.addEventListener("resize",T),window.addEventListener("scroll",T,!0),()=>{window.removeEventListener("resize",T),window.removeEventListener("scroll",T,!0)}},[l,M]),m.useEffect(()=>{if(!l)return;const T=I=>{const F=I.target;F&&(j.current?.contains(F)||C.current?.contains(F)||R())},W=I=>{I.key==="Escape"&&R({restoreFocus:!0})};return window.addEventListener("pointerdown",T,{passive:!0}),window.addEventListener("keydown",W),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("keydown",W)}},[R,l]),m.useEffect(()=>{l&&requestAnimationFrame(()=>{j.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})})},[l]);const D=m.useCallback(T=>{R(),T()},[R]),O=m.useCallback(async()=>{w||(R(),S(!0),E("/logout",{replace:!0}))},[R,w,E]),A=T=>{const W=Array.from(j.current?.querySelectorAll("button[data-menu-item]")??[]);if(W.length===0)return;const I=(T%W.length+W.length)%W.length;W[I]?.focus({preventScroll:!0})},L=T=>{const W=Array.from(j.current?.querySelectorAll("button[data-menu-item]")??[]);if(W.length===0)return;const I=document.activeElement,F=I?W.indexOf(I):-1,U=F===-1?0:F+T;A(U)};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{ref:C,type:"button",className:fe("focus-ring inline-flex items-center gap-3 rounded-xl border px-2.5 py-1.5 text-left text-sm font-semibold transition",_?"border-header-border/40 bg-header/25 text-header-foreground shadow-none hover:border-header-border/70 hover:bg-header/30":"border-border bg-card text-muted-foreground shadow-sm hover:border-border-strong hover:text-foreground",l&&(_?"border-header-ring ring-2 ring-header-ring/30":"border-brand-400 ring-2 ring-brand-500/10")),"aria-haspopup":"menu","aria-controls":o,"aria-expanded":l,onClick:()=>c(T=>!T),onKeyDown:T=>{(T.key==="ArrowDown"||T.key==="Enter"||T.key===" ")&&(T.preventDefault(),c(!0))},children:[i.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-on-brand shadow-sm",children:N}),i.jsxs("span",{className:"hidden min-w-0 flex-col xl:flex",children:[i.jsx("span",{className:fe("truncate text-sm font-semibold",_?"text-header-foreground":"text-foreground"),children:e}),i.jsx("span",{className:fe("truncate text-xs",_?"text-header-muted":"text-muted-foreground"),children:t})]}),i.jsx(Zi,{className:fe("h-4 w-4 transition-transform duration-150",_?"text-header-muted":"text-muted-foreground",l&&"rotate-180")})]}),d&&typeof document<"u"?Wn.createPortal(i.jsxs("div",{ref:j,id:o,role:"menu",tabIndex:-1,className:fe("fixed w-72 origin-top-right rounded-xl border border-border bg-popover p-2 text-sm shadow-2xl ring-1 ring-border/50","isolate","transition-[opacity,transform] duration-150 ease-out motion-reduce:transition-none",p?"opacity-100 translate-y-0 scale-100":"pointer-events-none opacity-0 -translate-y-1 scale-[0.98]"),style:x?{top:x.top,left:x.left,position:"fixed",zIndex:90,backgroundColor:"rgb(var(--sys-color-surface-elevated))"}:{top:0,left:0,visibility:"hidden"},onKeyDown:T=>{if(T.key==="ArrowDown"){T.preventDefault(),L(1);return}if(T.key==="ArrowUp"){T.preventDefault(),L(-1);return}if(T.key==="Home"){T.preventDefault(),A(0);return}if(T.key==="End"){T.preventDefault(),A(Number.MAX_SAFE_INTEGER);return}T.key==="Escape"&&(T.preventDefault(),R({restoreFocus:!0}))},children:[i.jsxs("div",{className:"px-2 pb-2",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Signed in as"}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:t})]}),i.jsx("ul",{className:"space-y-1",role:"none",children:n.map(T=>i.jsx("li",{role:"none",children:i.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-muted-foreground transition hover:bg-muted hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",onClick:()=>D(T.onSelect),children:[i.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-muted text-xs font-semibold text-muted-foreground",children:T.icon??T.label.charAt(0).toUpperCase()}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate",children:T.label}),T.description?i.jsx("span",{className:"truncate text-xs font-normal text-muted-foreground",children:T.description}):null]})]})},T.id))}),i.jsx("div",{className:"mt-3 border-t border-border pt-3",children:i.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-2 text-sm font-semibold text-muted-foreground transition hover:border-brand-400 hover:text-brand-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:O,disabled:w,children:[i.jsx("span",{children:"Sign out"}),w?i.jsx(Hu,{className:"h-4 w-4 animate-spin text-brand-600"}):null]})})]}),document.body):null]})}function tF(e){const t=e.split(" ").map(n=>n.trim()).filter(Boolean);return t.length===0?"":t.length===1?t[0].charAt(0).toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase()}async function nF(e={}){const{data:t}=await Qe.GET("/api/v1/system/safemode",{signal:e.signal}),n=t??{},r=!!n.enabled,o=typeof n.detail=="string"&&n.detail.trim().length>0?n.detail.trim():T_;return{enabled:r,detail:o}}async function rF(e={}){const{data:t}=await Qe.GET("/api/v1/meta/versions",{signal:e.signal}),n=t??{};return{ade_api:E1(n.ade_api),ade_engine:E1(n.ade_engine)}}const T_="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function E1(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const N1=["system","safeMode"],_1=["system","versions"];function sF(){const t=It().getQueryData(N1);return kn({queryKey:N1,queryFn:({signal:n})=>nF({signal:n}),initialData:t,staleTime:3e4,refetchInterval:6e4})}function oF(e={}){const n=It().getQueryData(_1);return kn({queryKey:_1,queryFn:({signal:r})=>rF({signal:r}),initialData:n,staleTime:300*1e3,enabled:e.enabled??!0})}const aF="1.6.4";function z_({open:e,onClose:t}){const n=m.useRef(null),r=oF({enabled:e}),o=r.isError,l=r.data?.ade_api??(r.isPending?"Loading...":"unknown"),c=r.data?.ade_engine??(r.isPending?"Loading...":"unknown");if(m.useEffect(()=>{if(!e)return;const f=p=>{p.key==="Escape"&&t()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,t]),m.useEffect(()=>{if(!e)return;const{body:f}=document,p=f.style.overflow;return f.style.overflow="hidden",()=>{f.style.overflow=p}},[e]),m.useEffect(()=>{e&&n.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const d=i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",role:"presentation",onMouseDown:f=>{f.target===f.currentTarget&&t()},children:i.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-border/80 bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"About"}),i.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-foreground",children:"ADE versions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),i.jsx(ke,{ref:n,variant:"ghost",size:"sm",onClick:t,children:"Close"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ox,{label:"ade-web",value:aF,hint:"Frontend build"}),i.jsx(Ox,{label:"ade-api",value:l,hint:"Backend service"}),i.jsx(Ox,{label:"ade-engine",value:c,hint:"Engine runtime"})]}),o?i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx(Rt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),i.jsx(ke,{size:"sm",variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})]}):null]})});return Wn.createPortal(d,document.body)}function Ox({label:e,value:t,hint:n}){return i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-border/70 bg-muted px-4 py-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("code",{className:"rounded bg-foreground px-2.5 py-1 text-xs font-mono text-background shadow-sm",children:t})})]})}function P_({children:e,sidePanel:t,actions:n,search:r}){const o=Sc(),l=an(),[c,d]=m.useState(!1),f=o.user.display_name||o.user.email||"Signed in",p=o.user.email??"";return i.jsxs(i.Fragment,{children:[i.jsx(z_,{open:c,onClose:()=>d(!1)}),i.jsxs("div",{className:"flex min-h-screen flex-col bg-background text-foreground",children:[i.jsx(A_,{brand:i.jsxs("button",{type:"button",onClick:()=>l("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-header-border/40 bg-header/20 px-3 py-2 text-left text-sm font-semibold text-header-foreground transition hover:border-header-border/70 hover:bg-header/30",children:[i.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-on-brand shadow-sm",children:i.jsx(YT,{className:"h-5 w-5","aria-hidden":!0})}),i.jsxs("span",{className:"flex flex-col leading-tight",children:[i.jsx("span",{className:"text-sm font-semibold text-header-foreground",children:"Workspace directory"}),i.jsx("span",{className:"text-xs text-header-muted",children:"Automatic Data Extractor"})]})]}),search:r,actions:n?i.jsx("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:n}):void 0,trailing:i.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:[i.jsx(M_,{tone:"header"}),i.jsx(O_,{displayName:f,email:p,tone:"header",actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>d(!0)}]})]})}),i.jsx("main",{id:"main-content",tabIndex:-1,className:"flex flex-1 overflow-y-auto",children:i.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:i.jsxs("div",{className:`grid gap-6 ${t?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[i.jsx("div",{children:e}),t?i.jsx("aside",{className:"space-y-6",children:t}):null]})})})]})]})}const iF="K",lF="Ctrl+K";function I_({macLabel:e=iF,windowsLabel:t=lF}={}){const[n,r]=m.useState(e);return m.useEffect(()=>{if(typeof window>"u")return;const o=window.navigator.platform??"",l=/Mac|iPhone|iPad|Macintosh/.test(o);r(l?e:t)},[e,t]),n}function cF(){return i.jsx(uF,{})}function uF(){const e=an(),t=Sc(),n=Pb(),r=l_(),[o,l]=m.useState(null),[c,d]=m.useState(null),f=m.useMemo(()=>(t.user.permissions??[]).map(I=>I.toLowerCase()),[t.user.permissions]),p=f.includes("workspaces.create")||f.includes("workspaces.manage_all"),[g,x]=m.useState(""),b=I_(),w=n.data,S=m.useMemo(()=>w?.items??[],[w?.items]),C=g.trim().toLowerCase(),j=m.useMemo(()=>C?S.filter(I=>{const F=I.name.toLowerCase(),U=I.slug?.toLowerCase()??"";return F.includes(C)||U.includes(C)}):S,[S,C]),E=m.useCallback(I=>e(Ib(I)),[e]),N=p?i.jsx(ke,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,_=m.useCallback(()=>{if(!C)return;const I=j[0];I&&E(I.id)},[j,C,E]),R=m.useCallback(()=>x(""),[]),D=(C?j:S).slice(0,5).map(I=>({id:I.id,label:I.name,description:I.slug?`Slug  ${I.slug}`:"Workspace"})),O=m.useCallback(I=>{x(""),E(I.id)},[E]),A=m.useCallback(async I=>{d(null),l(I.id);try{await r.mutateAsync(I.id),d_(I.id)}catch(F){console.warn("workspaces.set_default.failed",F),d("Unable to set the default workspace. Please try again.")}finally{l(null)}},[r]),L={value:g,onChange:x,onSubmit:_,placeholder:"Search workspaces or jump to one instantly",shortcutHint:b,scopeLabel:"Workspace directory",suggestions:D,onSelectSuggestion:O,onClear:R},T={...L,shortcutHint:void 0,onClear:R,enableShortcut:!1,variant:"minimal"};if(n.isLoading)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(At,{title:"Loading workspaces",variant:"loading"})});if(n.isError)return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(At,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:i.jsx(ke,{variant:"secondary",onClick:()=>n.refetch(),children:"Retry"})})});const W=S.length===0?p?i.jsx(fF,{onCreate:()=>e("/workspaces/new")}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),i.jsx(At,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):j.length===0?i.jsx("div",{className:"space-y-4",children:i.jsx(At,{title:`No workspaces matching "${g}"`,description:"Try searching by another workspace name or slug.",action:i.jsx(ke,{variant:"secondary",onClick:R,children:"Clear search"})})}):i.jsxs("div",{className:"space-y-6 rounded-2xl border border-border bg-card p-6 shadow-soft",children:[i.jsxs("header",{children:[i.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-foreground",children:"Workspaces"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Select a workspace to jump straight into documents."})]}),c?i.jsx(Rt,{tone:"danger",heading:"We couldn't update your default workspace",children:c}):null,i.jsx(D_,{...T,className:"w-full"}),i.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:j.map(I=>{const F=r.isPending&&o===I.id;return i.jsxs("div",{className:"group relative rounded-xl border border-border bg-card p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-background",children:[i.jsxs("button",{type:"button",onClick:()=>E(I.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${I.name}`,children:[i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"space-y-1 pr-24",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:I.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",I.slug]})]})}),i.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Permissions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:I.permissions.length>0?I.permissions.join(", "):"None"})]}),i.jsx("div",{className:"absolute right-5 top-5",children:I.is_default?i.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):i.jsx(ke,{variant:"secondary",size:"sm",isLoading:F,disabled:F,onClick:()=>void A(I),children:"Set as default"})})]},I.id)})})]});return i.jsx(P_,{actions:N,search:L,sidePanel:i.jsx(dF,{canCreate:p,onCreate:()=>e("/workspaces/new")}),children:W})}function dF({canCreate:e,onCreate:t}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-5 shadow-soft",children:[i.jsxs("header",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Workspace tips"}),i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Why multiple workspaces?"})]}),i.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?i.jsx(ke,{variant:"secondary",onClick:t,className:"w-full",children:"New workspace"}):null]}),i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-5 shadow-soft",children:[i.jsxs("header",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Need a hand?"}),i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Workspace setup checklist"})]}),i.jsxs("ul",{className:"space-y-2 text-xs text-muted-foreground",children:[i.jsx("li",{children:"Add at least one additional administrator."}),i.jsx("li",{children:"Review configurations before uploading production files."}),i.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function fF({onCreate:e}){return i.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-border-strong bg-card p-10 text-center shadow-soft",children:[i.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-foreground",children:"No workspaces yet"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Create your first workspace to start uploading configuration sets and documents."}),i.jsx(ke,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var yd=e=>e.type==="checkbox",Ti=e=>e instanceof Date,Tr=e=>e==null;const L_=e=>typeof e=="object";var Pn=e=>!Tr(e)&&!Array.isArray(e)&&L_(e)&&!Ti(e),mF=e=>Pn(e)&&e.target?yd(e.target)?e.target.checked:e.target.value:e,hF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pF=(e,t)=>e.has(hF(t)),gF=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},Hb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Hb&&(e instanceof Blob||r))&&(n||Pn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!gF(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Xn(e[o]));else return e;return t}var Mh=e=>/^\w*$/.test(e),_n=e=>e===void 0,qb=e=>Array.isArray(e)?e.filter(Boolean):[],Wb=e=>qb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(e,t,n)=>{if(!t||!Pn(e))return n;const r=(Mh(t)?[t]:Wb(t)).reduce((o,l)=>Tr(o)?o:o[l],e);return _n(r)||r===e?_n(e[t])?n:e[t]:r},no=e=>typeof e=="boolean",Xt=(e,t,n)=>{let r=-1;const o=Mh(t)?[t]:Wb(t),l=o.length,c=l-1;for(;++r<l;){const d=o[r];let f=n;if(r!==c){const p=e[d];f=Pn(p)||Array.isArray(p)?p:isNaN(+o[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const k1={BLUR:"blur",FOCUS_OUT:"focusout"},Ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xF=_e.createContext(null);xF.displayName="HookFormContext";var vF=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Ts.all&&(t._proxyFormState[c]=!r||Ts.all),e[c]}});return o};const bF=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;var Kr=e=>typeof e=="string",yF=(e,t,n,r,o)=>Kr(e)?(r&&t.watch.add(e),qe(n,e,o)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),qe(n,l))):(r&&(t.watchAll=!0),n),$v=e=>Tr(e)||!L_(e);function Ia(e,t,n=new WeakSet){if($v(e)||$v(t))return e===t;if(Ti(e)&&Ti(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of r){const c=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=t[l];if(Ti(c)&&Ti(d)||Pn(c)&&Pn(d)||Array.isArray(c)&&Array.isArray(d)?!Ia(c,d,n):c!==d)return!1}}return!0}var Gb=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},qu=e=>Array.isArray(e)?e:[e],R1=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function $_(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],l=t[r];if(o&&Pn(o)&&l){const c=$_(o,l);Pn(c)&&(n[r]=c)}else e[r]&&(n[r]=l)}return n}var Or=e=>Pn(e)&&!Object.keys(e).length,Yb=e=>e.type==="file",zs=e=>typeof e=="function",Zm=e=>{if(!Hb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},F_=e=>e.type==="select-multiple",Kb=e=>e.type==="radio",wF=e=>Kb(e)||yd(e),Tx=e=>Zm(e)&&e.isConnected;function SF(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=_n(e)?r++:e[t[r++]];return e}function CF(e){for(const t in e)if(e.hasOwnProperty(t)&&!_n(e[t]))return!1;return!0}function zn(e,t){const n=Array.isArray(t)?t:Mh(t)?[t]:Wb(t),r=n.length===1?e:SF(e,n),o=n.length-1,l=n[o];return r&&delete r[l],o!==0&&(Pn(r)&&Or(r)||Array.isArray(r)&&CF(r))&&zn(e,n.slice(0,-1)),e}var jF=e=>{for(const t in e)if(zs(e[t]))return!0;return!1};function U_(e){return Array.isArray(e)||Pn(e)&&!jF(e)}function Fv(e,t={}){for(const n in e)U_(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fv(e[n],t[n])):_n(e[n])||(t[n]=!0);return t}function ec(e,t,n){n||(n=Fv(t));for(const r in e)U_(e[r])?_n(t)||$v(n[r])?n[r]=Fv(e[r],Array.isArray(e[r])?[]:{}):ec(e[r],Tr(t)?{}:t[r],n[r]):n[r]=!Ia(e[r],t[r]);return n}const M1={value:!1,isValid:!1},D1={value:!0,isValid:!0};var B_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_n(e[0].attributes.value)?_n(e[0].value)||e[0].value===""?D1:{value:e[0].value,isValid:!0}:D1:M1}return M1},V_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>_n(e)?e:t?e===""?NaN:e&&+e:n&&Kr(e)?new Date(e):r?r(e):e;const A1={isValid:!1,value:null};var H_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,A1):A1;function O1(e){const t=e.ref;return Yb(t)?t.files:Kb(t)?H_(e.refs).value:F_(t)?[...t.selectedOptions].map(({value:n})=>n):yd(t)?B_(e.refs).value:V_(_n(t.value)?e.ref.value:t.value,e)}var EF=(e,t,n,r)=>{const o={};for(const l of e){const c=qe(t,l);c&&Xt(o,l,c._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Qm=e=>e instanceof RegExp,Ru=e=>_n(e)?e:Qm(e)?e.source:Pn(e)?Qm(e.value)?e.value.source:e.value:e,T1=e=>({isOnSubmit:!e||e===Ts.onSubmit,isOnBlur:e===Ts.onBlur,isOnChange:e===Ts.onChange,isOnAll:e===Ts.all,isOnTouch:e===Ts.onTouched});const z1="AsyncFunction";var NF=e=>!!e&&!!e.validate&&!!(zs(e.validate)&&e.validate.constructor.name===z1||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===z1)),_F=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),P1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Wu=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const l=qe(e,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(Wu(d,t))break}else if(Pn(d)&&Wu(d,t))break}}};function I1(e,t,n){const r=qe(e,n);if(r||Mh(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),c=qe(t,l),d=qe(e,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:n}}var kF=(e,t,n,r)=>{n(e);const{name:o,...l}=e;return Or(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!r||Ts.all))},RF=(e,t,n)=>!e||!t||e===t||qu(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),MF=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,DF=(e,t)=>!qb(qe(e,t)).length&&zn(e,t),AF=(e,t,n)=>{const r=qu(qe(e,n));return Xt(r,"root",t[n]),Xt(e,n,r),e};function L1(e,t,n="validate"){if(Kr(e)||Array.isArray(e)&&e.every(Kr)||no(e)&&!e)return{type:n,message:Kr(e)?e:"",ref:t}}var ql=e=>Pn(e)&&!Qm(e)?e:{value:e,message:""},$1=async(e,t,n,r,o,l)=>{const{ref:c,refs:d,required:f,maxLength:p,minLength:g,min:x,max:b,pattern:w,validate:S,name:C,valueAsNumber:j,mount:E}=e._f,N=qe(n,C);if(!E||t.has(C))return{};const _=d?d[0]:c,R=I=>{o&&_.reportValidity&&(_.setCustomValidity(no(I)?"":I||""),_.reportValidity())},M={},D=Kb(c),O=yd(c),A=D||O,L=(j||Yb(c))&&_n(c.value)&&_n(N)||Zm(c)&&c.value===""||N===""||Array.isArray(N)&&!N.length,T=Gb.bind(null,C,r,M),W=(I,F,U,ae=Fo.maxLength,P=Fo.minLength)=>{const q=I?F:U;M[C]={type:I?ae:P,message:q,ref:c,...T(I?ae:P,q)}};if(l?!Array.isArray(N)||!N.length:f&&(!A&&(L||Tr(N))||no(N)&&!N||O&&!B_(d).isValid||D&&!H_(d).isValid)){const{value:I,message:F}=Kr(f)?{value:!!f,message:f}:ql(f);if(I&&(M[C]={type:Fo.required,message:F,ref:_,...T(Fo.required,F)},!r))return R(F),M}if(!L&&(!Tr(x)||!Tr(b))){let I,F;const U=ql(b),ae=ql(x);if(!Tr(N)&&!isNaN(N)){const P=c.valueAsNumber||N&&+N;Tr(U.value)||(I=P>U.value),Tr(ae.value)||(F=P<ae.value)}else{const P=c.valueAsDate||new Date(N),q=ve=>new Date(new Date().toDateString()+" "+ve),K=c.type=="time",te=c.type=="week";Kr(U.value)&&N&&(I=K?q(N)>q(U.value):te?N>U.value:P>new Date(U.value)),Kr(ae.value)&&N&&(F=K?q(N)<q(ae.value):te?N<ae.value:P<new Date(ae.value))}if((I||F)&&(W(!!I,U.message,ae.message,Fo.max,Fo.min),!r))return R(M[C].message),M}if((p||g)&&!L&&(Kr(N)||l&&Array.isArray(N))){const I=ql(p),F=ql(g),U=!Tr(I.value)&&N.length>+I.value,ae=!Tr(F.value)&&N.length<+F.value;if((U||ae)&&(W(U,I.message,F.message),!r))return R(M[C].message),M}if(w&&!L&&Kr(N)){const{value:I,message:F}=ql(w);if(Qm(I)&&!N.match(I)&&(M[C]={type:Fo.pattern,message:F,ref:c,...T(Fo.pattern,F)},!r))return R(F),M}if(S){if(zs(S)){const I=await S(N,n),F=L1(I,_);if(F&&(M[C]={...F,...T(Fo.validate,F.message)},!r))return R(F.message),M}else if(Pn(S)){let I={};for(const F in S){if(!Or(I)&&!r)break;const U=L1(await S[F](N,n),_,F);U&&(I={...U,...T(F,U.message)},R(U.message),r&&(M[C]=I))}if(!Or(I)&&(M[C]={ref:_,...I},!r))return M}}return R(!0),M};const OF={mode:Ts.onSubmit,reValidateMode:Ts.onChange,shouldFocusError:!0};function TF(e={}){let t={...OF,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=Pn(t.defaultValues)||Pn(t.values)?Xn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Xn(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...g};const b={array:R1(),state:R1()},w=t.criteriaMode===Ts.all,S=Q=>Z=>{clearTimeout(p),p=setTimeout(Q,Z)},C=async Q=>{if(!t.disabled&&(g.isValid||x.isValid||Q)){const Z=t.resolver?Or((await O()).errors):await L(r,!0);Z!==n.isValid&&b.state.next({isValid:Z})}},j=(Q,Z)=>{!t.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((Q||Array.from(d.mount)).forEach(ue=>{ue&&(Z?Xt(n.validatingFields,ue,Z):zn(n.validatingFields,ue))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Or(n.validatingFields)}))},E=(Q,Z=[],ue,De,je=!0,ge=!0)=>{if(De&&ue&&!t.disabled){if(c.action=!0,ge&&Array.isArray(qe(r,Q))){const Me=ue(qe(r,Q),De.argA,De.argB);je&&Xt(r,Q,Me)}if(ge&&Array.isArray(qe(n.errors,Q))){const Me=ue(qe(n.errors,Q),De.argA,De.argB);je&&Xt(n.errors,Q,Me),DF(n.errors,Q)}if((g.touchedFields||x.touchedFields)&&ge&&Array.isArray(qe(n.touchedFields,Q))){const Me=ue(qe(n.touchedFields,Q),De.argA,De.argB);je&&Xt(n.touchedFields,Q,Me)}(g.dirtyFields||x.dirtyFields)&&(n.dirtyFields=ec(o,l)),b.state.next({name:Q,isDirty:W(Q,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Xt(l,Q,Z)},N=(Q,Z)=>{Xt(n.errors,Q,Z),b.state.next({errors:n.errors})},_=Q=>{n.errors=Q,b.state.next({errors:n.errors,isValid:!1})},R=(Q,Z,ue,De)=>{const je=qe(r,Q);if(je){const ge=qe(l,Q,_n(ue)?qe(o,Q):ue);_n(ge)||De&&De.defaultChecked||Z?Xt(l,Q,Z?ge:O1(je._f)):U(Q,ge),c.mount&&C()}},M=(Q,Z,ue,De,je)=>{let ge=!1,Me=!1;const ye={name:Q};if(!t.disabled){if(!ue||De){(g.isDirty||x.isDirty)&&(Me=n.isDirty,n.isDirty=ye.isDirty=W(),ge=Me!==ye.isDirty);const ne=Ia(qe(o,Q),Z);Me=!!qe(n.dirtyFields,Q),ne?zn(n.dirtyFields,Q):Xt(n.dirtyFields,Q,!0),ye.dirtyFields=n.dirtyFields,ge=ge||(g.dirtyFields||x.dirtyFields)&&Me!==!ne}if(ue){const ne=qe(n.touchedFields,Q);ne||(Xt(n.touchedFields,Q,ue),ye.touchedFields=n.touchedFields,ge=ge||(g.touchedFields||x.touchedFields)&&ne!==ue)}ge&&je&&b.state.next(ye)}return ge?ye:{}},D=(Q,Z,ue,De)=>{const je=qe(n.errors,Q),ge=(g.isValid||x.isValid)&&no(Z)&&n.isValid!==Z;if(t.delayError&&ue?(f=S(()=>N(Q,ue)),f(t.delayError)):(clearTimeout(p),f=null,ue?Xt(n.errors,Q,ue):zn(n.errors,Q)),(ue?!Ia(je,ue):je)||!Or(De)||ge){const Me={...De,...ge&&no(Z)?{isValid:Z}:{},errors:n.errors,name:Q};n={...n,...Me},b.state.next(Me)}},O=async Q=>{j(Q,!0);const Z=await t.resolver(l,t.context,EF(Q||d.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return j(Q),Z},A=async Q=>{const{errors:Z}=await O(Q);if(Q)for(const ue of Q){const De=qe(Z,ue);De?Xt(n.errors,ue,De):zn(n.errors,ue)}else n.errors=Z;return Z},L=async(Q,Z,ue={valid:!0})=>{for(const De in Q){const je=Q[De];if(je){const{_f:ge,...Me}=je;if(ge){const ye=d.array.has(ge.name),ne=je._f&&NF(je._f);ne&&g.validatingFields&&j([ge.name],!0);const we=await $1(je,d.disabled,l,w,t.shouldUseNativeValidation&&!Z,ye);if(ne&&g.validatingFields&&j([ge.name]),we[ge.name]&&(ue.valid=!1,Z))break;!Z&&(qe(we,ge.name)?ye?AF(n.errors,we,ge.name):Xt(n.errors,ge.name,we[ge.name]):zn(n.errors,ge.name))}!Or(Me)&&await L(Me,Z,ue)}}return ue.valid},T=()=>{for(const Q of d.unMount){const Z=qe(r,Q);Z&&(Z._f.refs?Z._f.refs.every(ue=>!Tx(ue)):!Tx(Z._f.ref))&&H(Q)}d.unMount=new Set},W=(Q,Z)=>!t.disabled&&(Q&&Z&&Xt(l,Q,Z),!Ia(ve(),o)),I=(Q,Z,ue)=>yF(Q,d,{...c.mount?l:_n(Z)?o:Kr(Q)?{[Q]:Z}:Z},ue,Z),F=Q=>qb(qe(c.mount?l:o,Q,t.shouldUnregister?qe(o,Q,[]):[])),U=(Q,Z,ue={})=>{const De=qe(r,Q);let je=Z;if(De){const ge=De._f;ge&&(!ge.disabled&&Xt(l,Q,V_(Z,ge)),je=Zm(ge.ref)&&Tr(Z)?"":Z,F_(ge.ref)?[...ge.ref.options].forEach(Me=>Me.selected=je.includes(Me.value)):ge.refs?yd(ge.ref)?ge.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(je)?Me.checked=!!je.find(ye=>ye===Me.value):Me.checked=je===Me.value||!!je)}):ge.refs.forEach(Me=>Me.checked=Me.value===je):Yb(ge.ref)?ge.ref.value="":(ge.ref.value=je,ge.ref.type||b.state.next({name:Q,values:Xn(l)})))}(ue.shouldDirty||ue.shouldTouch)&&M(Q,je,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&te(Q)},ae=(Q,Z,ue)=>{for(const De in Z){if(!Z.hasOwnProperty(De))return;const je=Z[De],ge=Q+"."+De,Me=qe(r,ge);(d.array.has(Q)||Pn(je)||Me&&!Me._f)&&!Ti(je)?ae(ge,je,ue):U(ge,je,ue)}},P=(Q,Z,ue={})=>{const De=qe(r,Q),je=d.array.has(Q),ge=Xn(Z);Xt(l,Q,ge),je?(b.array.next({name:Q,values:Xn(l)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&ue.shouldDirty&&b.state.next({name:Q,dirtyFields:ec(o,l),isDirty:W(Q,ge)})):De&&!De._f&&!Tr(ge)?ae(Q,ge,ue):U(Q,ge,ue),P1(Q,d)&&b.state.next({...n,name:Q}),b.state.next({name:c.mount?Q:void 0,values:Xn(l)})},q=async Q=>{c.mount=!0;const Z=Q.target;let ue=Z.name,De=!0;const je=qe(r,ue),ge=ne=>{De=Number.isNaN(ne)||Ti(ne)&&isNaN(ne.getTime())||Ia(ne,qe(l,ue,ne))},Me=T1(t.mode),ye=T1(t.reValidateMode);if(je){let ne,we;const Te=Z.type?O1(je._f):mF(Q),$e=Q.type===k1.BLUR||Q.type===k1.FOCUS_OUT,at=!_F(je._f)&&!t.resolver&&!qe(n.errors,ue)&&!je._f.deps||MF($e,qe(n.touchedFields,ue),n.isSubmitted,ye,Me),ft=P1(ue,d,$e);Xt(l,ue,Te),$e?(!Z||!Z.readOnly)&&(je._f.onBlur&&je._f.onBlur(Q),f&&f(0)):je._f.onChange&&je._f.onChange(Q);const Ot=M(ue,Te,$e),Tt=!Or(Ot)||ft;if(!$e&&b.state.next({name:ue,type:Q.type,values:Xn(l)}),at)return(g.isValid||x.isValid)&&(t.mode==="onBlur"?$e&&C():$e||C()),Tt&&b.state.next({name:ue,...ft?{}:Ot});if(!$e&&ft&&b.state.next({...n}),t.resolver){const{errors:Lt}=await O([ue]);if(ge(Te),De){const cn=I1(n.errors,r,ue),gr=I1(Lt,r,cn.name||ue);ne=gr.error,ue=gr.name,we=Or(Lt)}}else j([ue],!0),ne=(await $1(je,d.disabled,l,w,t.shouldUseNativeValidation))[ue],j([ue]),ge(Te),De&&(ne?we=!1:(g.isValid||x.isValid)&&(we=await L(r,!0)));De&&(je._f.deps&&(!Array.isArray(je._f.deps)||je._f.deps.length>0)&&te(je._f.deps),D(ue,we,ne,Ot))}},K=(Q,Z)=>{if(qe(n.errors,Z)&&Q.focus)return Q.focus(),1},te=async(Q,Z={})=>{let ue,De;const je=qu(Q);if(t.resolver){const ge=await A(_n(Q)?Q:je);ue=Or(ge),De=Q?!je.some(Me=>qe(ge,Me)):ue}else Q?(De=(await Promise.all(je.map(async ge=>{const Me=qe(r,ge);return await L(Me&&Me._f?{[ge]:Me}:Me)}))).every(Boolean),!(!De&&!n.isValid)&&C()):De=ue=await L(r);return b.state.next({...!Kr(Q)||(g.isValid||x.isValid)&&ue!==n.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ue}:{},errors:n.errors}),Z.shouldFocus&&!De&&Wu(r,K,Q?je:d.mount),De},ve=(Q,Z)=>{let ue={...c.mount?l:o};return Z&&(ue=$_(Z.dirtyFields?n.dirtyFields:n.touchedFields,ue)),_n(Q)?ue:Kr(Q)?qe(ue,Q):Q.map(De=>qe(ue,De))},V=(Q,Z)=>({invalid:!!qe((Z||n).errors,Q),isDirty:!!qe((Z||n).dirtyFields,Q),error:qe((Z||n).errors,Q),isValidating:!!qe(n.validatingFields,Q),isTouched:!!qe((Z||n).touchedFields,Q)}),B=Q=>{Q&&qu(Q).forEach(Z=>zn(n.errors,Z)),b.state.next({errors:Q?n.errors:{}})},re=(Q,Z,ue)=>{const De=(qe(r,Q,{_f:{}})._f||{}).ref,je=qe(n.errors,Q)||{},{ref:ge,message:Me,type:ye,...ne}=je;Xt(n.errors,Q,{...ne,...Z,ref:De}),b.state.next({name:Q,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&De&&De.focus&&De.focus()},Y=(Q,Z)=>zs(Q)?b.state.subscribe({next:ue=>"values"in ue&&Q(I(void 0,Z),ue)}):I(Q,Z,!0),z=Q=>b.state.subscribe({next:Z=>{RF(Q.name,Z.name,Q.exact)&&kF(Z,Q.formState||g,ct,Q.reRenderRoot)&&Q.callback({values:{...l},...n,...Z,defaultValues:o})}}).unsubscribe,G=Q=>(c.mount=!0,x={...x,...Q.formState},z({...Q,formState:x})),H=(Q,Z={})=>{for(const ue of Q?qu(Q):d.mount)d.mount.delete(ue),d.array.delete(ue),Z.keepValue||(zn(r,ue),zn(l,ue)),!Z.keepError&&zn(n.errors,ue),!Z.keepDirty&&zn(n.dirtyFields,ue),!Z.keepTouched&&zn(n.touchedFields,ue),!Z.keepIsValidating&&zn(n.validatingFields,ue),!t.shouldUnregister&&!Z.keepDefaultValue&&zn(o,ue);b.state.next({values:Xn(l)}),b.state.next({...n,...Z.keepDirty?{isDirty:W()}:{}}),!Z.keepIsValid&&C()},ee=({disabled:Q,name:Z})=>{(no(Q)&&c.mount||Q||d.disabled.has(Z))&&(Q?d.disabled.add(Z):d.disabled.delete(Z))},oe=(Q,Z={})=>{let ue=qe(r,Q);const De=no(Z.disabled)||no(t.disabled);return Xt(r,Q,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:Q}},name:Q,mount:!0,...Z}}),d.mount.add(Q),ue?ee({disabled:no(Z.disabled)?Z.disabled:t.disabled,name:Q}):R(Q,!0,Z.value),{...De?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:Ru(Z.min),max:Ru(Z.max),minLength:Ru(Z.minLength),maxLength:Ru(Z.maxLength),pattern:Ru(Z.pattern)}:{},name:Q,onChange:q,onBlur:q,ref:je=>{if(je){oe(Q,Z),ue=qe(r,Q);const ge=_n(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Me=wF(ge),ye=ue._f.refs||[];if(Me?ye.find(ne=>ne===ge):ge===ue._f.ref)return;Xt(r,Q,{_f:{...ue._f,...Me?{refs:[...ye.filter(Tx),ge,...Array.isArray(qe(o,Q))?[{}]:[]],ref:{type:ge.type,name:Q}}:{ref:ge}}}),R(Q,!1,void 0,ge)}else ue=qe(r,Q,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(pF(d.array,Q)&&c.action)&&d.unMount.add(Q)}}},le=()=>t.shouldFocusError&&Wu(r,K,d.mount),de=Q=>{no(Q)&&(b.state.next({disabled:Q}),Wu(r,(Z,ue)=>{const De=qe(r,ue);De&&(Z.disabled=De._f.disabled||Q,Array.isArray(De._f.refs)&&De._f.refs.forEach(je=>{je.disabled=De._f.disabled||Q}))},0,!1))},Ee=(Q,Z)=>async ue=>{let De;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let je=Xn(l);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Me}=await O();n.errors=ge,je=Xn(Me)}else await L(r);if(d.disabled.size)for(const ge of d.disabled)zn(je,ge);if(zn(n.errors,"root"),Or(n.errors)){b.state.next({errors:{}});try{await Q(je,ue)}catch(ge){De=ge}}else Z&&await Z({...n.errors},ue),le(),setTimeout(le);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},Oe=(Q,Z={})=>{qe(r,Q)&&(_n(Z.defaultValue)?P(Q,Xn(qe(o,Q))):(P(Q,Z.defaultValue),Xt(o,Q,Xn(Z.defaultValue))),Z.keepTouched||zn(n.touchedFields,Q),Z.keepDirty||(zn(n.dirtyFields,Q),n.isDirty=Z.defaultValue?W(Q,Xn(qe(o,Q))):W()),Z.keepError||(zn(n.errors,Q),g.isValid&&C()),b.state.next({...n}))},Pe=(Q,Z={})=>{const ue=Q?Xn(Q):o,De=Xn(ue),je=Or(Q),ge=je?o:De;if(Z.keepDefaultValues||(o=ue),!Z.keepValues){if(Z.keepDirtyValues){const Me=new Set([...d.mount,...Object.keys(ec(o,l))]);for(const ye of Array.from(Me))qe(n.dirtyFields,ye)?Xt(ge,ye,qe(l,ye)):P(ye,qe(ge,ye))}else{if(Hb&&_n(Q))for(const Me of d.mount){const ye=qe(r,Me);if(ye&&ye._f){const ne=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(Zm(ne)){const we=ne.closest("form");if(we){we.reset();break}}}}if(Z.keepFieldsRef)for(const Me of d.mount)P(Me,qe(ge,Me));else r={}}l=t.shouldUnregister?Z.keepDefaultValues?Xn(o):{}:Xn(ge),b.array.next({values:{...ge}}),b.state.next({values:{...ge}})}d={mount:Z.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,c.watch=!!t.shouldUnregister,b.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:je?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!Ia(Q,o)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:je?{}:Z.keepDirtyValues?Z.keepDefaultValues&&l?ec(o,l):n.dirtyFields:Z.keepDefaultValues&&Q?ec(o,Q):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ot=(Q,Z)=>Pe(zs(Q)?Q(l):Q,Z),xt=(Q,Z={})=>{const ue=qe(r,Q),De=ue&&ue._f;if(De){const je=De.refs?De.refs[0]:De.ref;je.focus&&(je.focus(),Z.shouldSelect&&zs(je.select)&&je.select())}},ct=Q=>{n={...n,...Q}},_t={control:{register:oe,unregister:H,getFieldState:V,handleSubmit:Ee,setError:re,_subscribe:z,_runSchema:O,_focusError:le,_getWatch:I,_getDirty:W,_setValid:C,_setFieldArray:E,_setDisabledField:ee,_setErrors:_,_getFieldArray:F,_reset:Pe,_resetDefaultValues:()=>zs(t.defaultValues)&&t.defaultValues().then(Q=>{ot(Q,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:de,_subjects:b,_proxyFormState:g,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(Q){c=Q},get _defaultValues(){return o},get _names(){return d},set _names(Q){d=Q},get _formState(){return n},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:G,trigger:te,register:oe,handleSubmit:Ee,watch:Y,setValue:P,getValues:ve,reset:ot,resetField:Oe,clearErrors:B,unregister:H,setError:re,setFocus:xt,getFieldState:V};return{..._t,formControl:_t}}function q_(e={}){const t=_e.useRef(void 0),n=_e.useRef(void 0),[r,o]=_e.useState({isDirty:!1,isValidating:!1,isLoading:zs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!zs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=TF(e);t.current={...d,formState:r}}const l=t.current.control;return l._options=e,bF(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),_e.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),_e.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),_e.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),_e.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),_e.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),_e.useEffect(()=>{e.values&&!Ia(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=e.values,o(c=>({...c}))):l._resetDefaultValues()},[l,e.values]),_e.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=vF(r,l),t.current}const F1=(e,t,n)=>{if(e&&"reportValidity"in e){const r=qe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Uv=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?F1(r.ref,n,e):r&&r.refs&&r.refs.forEach(o=>F1(o,n,e))}},U1=(e,t)=>{t.shouldUseNativeValidation&&Uv(e,t);const n={};for(const r in e){const o=qe(t.fields,r),l=Object.assign(e[r]||{},{ref:o&&o.ref});if(zF(t.names||Object.keys(e),r)){const c=Object.assign({},qe(n,r));Xt(c,"root",l),Xt(n,r,c)}else Xt(n,r,l)}return n},zF=(e,t)=>{const n=B1(t);return e.some(r=>B1(r).match(`^${n}\\.\\d+`))};function B1(e){return e.replace(/\]|\[/g,"")}function V1(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function PF(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,c=r.path.join(".");if(!n[c])if("unionErrors"in r){var d=r.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(x){return e.push(x)})}),t){var f=n[c].types,p=f&&f[r.code];n[c]=Gb(c,t,n,o,p?[].concat(p,r.message):r.message)}e.shift()}return n}function IF(e,t){for(var n={};e.length;){var r=e[0],o=r.code,l=r.message,c=r.path.join(".");if(!n[c])if(r.code==="invalid_union"&&r.errors.length>0){var d=r.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if(r.code==="invalid_union"&&r.errors.forEach(function(g){return g.forEach(function(x){return e.push(x)})}),t){var f=n[c].types,p=f&&f[r.code];n[c]=Gb(c,t,n,o,p?[].concat(p,r.message):r.message)}e.shift()}return n}function W_(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,o,l){try{return Promise.resolve(V1(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return l.shouldUseNativeValidation&&Uv({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:U1(PF(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,o,l){try{return Promise.resolve(V1(function(){return Promise.resolve((n.mode==="sync"?XI:JI)(e,r,t)).then(function(c){return l.shouldUseNativeValidation&&Uv({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(d){return d instanceof Bb})(c))return{values:{},errors:U1(IF(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}async function LF(e={}){const{page:t,pageSize:n,search:r,signal:o}=e,l=r?.trim(),c=xd({page:t,perPage:n,sort:e.sort??null,q:l??null}),{data:d}=await Qe.GET("/api/v1/users",{params:{query:c},signal:o});if(!d)throw new Error("Expected user page payload.");return d}function G_(e={}){const{enabled:t=!0,search:n="",pageSize:r}=e,o=n.trim(),l=o.length>=2?o:"",c=Eb({queryKey:["users","all",{search:o,pageSize:r}],initialPageParam:1,queryFn:({pageParam:p,signal:g})=>LF($F({page:typeof p=="number"?p:1,pageSize:r,search:l||void 0,signal:g})),getNextPageParam:p=>p.page<p.pageCount?p.page+1:void 0,enabled:t,staleTime:6e4}),d=m.useCallback(p=>p.id,[]),f=t_(c.data?.pages,d);return{...c,users:f}}function $F(e){const t=!e.page||e.page<1?1:e.page;return{...e,page:t}}const FF=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,UF=Cc({name:fr().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:fr().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(FF,"Use lowercase letters, numbers, and dashes."),ownerUserId:fr().optional()});function BF(){return i.jsx(VF,{})}function VF(){const e=an(),t=Sc(),n=DI(),o=m.useMemo(()=>(t.user.permissions??[]).map(A=>A.toLowerCase()),[t.user.permissions]).includes("users.read_all"),l=G_({enabled:o,pageSize:50}),c=m.useMemo(()=>l.users,[l.users]),d=m.useMemo(()=>t.user.id?c.filter(A=>A.id!==t.user.id):c,[c,t.user.id]),{register:f,handleSubmit:p,watch:g,setValue:x,setError:b,clearErrors:w,formState:{errors:S,dirtyFields:C}}=q_({resolver:W_(UF),defaultValues:{name:"",slug:"",ownerUserId:t.user.id??""}}),j=g("name"),E=g("slug");m.useEffect(()=>{if(C.slug)return;const A=HF(j);A!==E&&x("slug",A,{shouldValidate:!!A})},[C.slug,j,x,E]),m.useEffect(()=>{!o&&t.user.id&&x("ownerUserId",t.user.id,{shouldDirty:!1})},[o,t.user.id,x]);const N=n.isPending,_=l.isPending&&l.users.length===0,R=N||_||!o,M=t.user.display_name?`${t.user.display_name} (you)`:`${t.user.email??"Current user"} (you)`,D=f("ownerUserId"),O=p(A=>{if(w("root"),o&&!A.ownerUserId){b("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}n.mutate({name:A.name.trim(),slug:A.slug.trim(),owner_user_id:o&&A.ownerUserId||void 0},{onSuccess(L){e(Ib(L.id))},onError(L){if(L instanceof Ft){const T=L.problem?.detail??L.message,W=$z(L.problem?.errors);b("root",{type:"server",message:T});const I=W.name?.[0];I&&b("name",{type:"server",message:I});const F=W.slug?.[0];F&&b("slug",{type:"server",message:F});const U=W.owner_user_id?.[0];U&&b("ownerUserId",{type:"server",message:U});return}b("root",{type:"server",message:L instanceof Error?L.message:"Workspace creation failed."})}})});return i.jsx(P_,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Create a workspace"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),i.jsxs("form",{className:"space-y-6 rounded-2xl border border-border bg-card p-6 shadow-soft",onSubmit:O,children:[i.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[i.jsx(Ht,{label:"Workspace name",required:!0,error:S.name?.message,children:i.jsx(kt,{id:"workspaceName",placeholder:"Finance Operations",...f("name"),invalid:!!S.name,disabled:N})}),i.jsx(Ht,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:S.slug?.message,children:i.jsx(kt,{id:"workspaceSlug",placeholder:"finance-ops",...f("slug"),invalid:!!S.slug,disabled:N})})]}),o?i.jsxs(Ht,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:S.ownerUserId?.message,children:[i.jsxs("select",{id:"workspaceOwner",...D,onChange:A=>{D.onChange(A),w("ownerUserId")},disabled:R,className:"rounded-lg border border-border-strong bg-card px-3 py-2 text-sm text-foreground shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground",children:[i.jsx("option",{value:t.user.id??"",children:M}),d.map(A=>i.jsx("option",{value:A.id,children:A.display_name?`${A.display_name} (${A.email})`:A.email},A.id))]}),l.hasNextPage?i.jsx("div",{className:"pt-2",children:i.jsx(ke,{type:"button",variant:"ghost",onClick:()=>l.fetchNextPage(),disabled:l.isFetchingNextPage,children:l.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,S.root?i.jsx(Rt,{tone:"danger",children:S.root.message}):null,o&&l.isError?i.jsx(Rt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[i.jsx(ke,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:N,children:"Cancel"}),i.jsx(ke,{type:"submit",isLoading:N,children:N?"Creating workspace":"Create workspace"})]})]})]})})}function HF(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const Y_=m.createContext(void 0);function qF({workspace:e,workspaces:t,children:n}){const r=m.useMemo(()=>{const o=e.permissions;return{workspace:e,workspaces:t,permissions:o,hasPermission(l){const c=l.toLowerCase();return o.includes(l)||o.includes(c)}}},[e,t]);return i.jsx(Y_.Provider,{value:r,children:n})}function Hs(){const e=m.useContext(Y_);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const WF=[{id:"explorer",label:"Explorer",icon:i.jsx(nz,{className:"h-5 w-5"})},{id:"search",label:"Search",icon:i.jsx(gh,{className:"h-5 w-5"})},{id:"scm",label:"Source Control",icon:i.jsx(rz,{className:"h-5 w-5"})},{id:"extensions",label:"Extensions",icon:i.jsx(sz,{className:"h-5 w-5"})}];function GF({activeView:e,onSelectView:t,onOpenSettings:n,appearance:r}){const o={bg:"bg-card",border:"border-border",iconIdle:"text-muted-foreground",iconActive:"text-brand-400",hover:"hover:text-foreground hover:bg-muted focus-visible:text-foreground",indicator:"bg-brand-500"};return i.jsxs("aside",{className:fe("flex h-full w-14 flex-col items-center justify-between border-r",o.bg,o.border,o.iconIdle),"aria-label":"Workbench navigation",children:[i.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:WF.map(l=>{const c=e===l.id;return i.jsxs("button",{type:"button",onClick:()=>t(l.id),className:fe("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c?o.iconActive:fe(o.iconIdle,o.hover)),"aria-label":l.label,"aria-pressed":c,children:[c?i.jsx("span",{className:fe("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",o.indicator)}):null,l.icon]},l.id)})}),i.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:i.jsx("button",{type:"button",onClick:n,className:fe("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",o.iconIdle,o.hover),"aria-label":"Open settings",children:i.jsx(Rb,{className:"h-5 w-5"})})})]})}const Zb=m.createContext(null);function Qb({value:e,onValueChange:t,children:n}){const r=m.useId(),o=m.useRef([]),l=m.useRef(new Map),c=m.useCallback((x,b)=>{o.current.includes(x)||o.current.push(x),l.current.set(x,b)},[]),d=m.useCallback(x=>{o.current=o.current.filter(b=>b!==x),l.current.delete(x)},[]),f=m.useCallback(x=>{x&&l.current.get(x)?.focus()},[]),p=m.useCallback(()=>o.current.slice(),[]),g=m.useMemo(()=>({value:e,setValue:t,baseId:r,registerValue:c,unregisterValue:d,focusValue:f,getValues:p}),[e,t,r,c,d,f,p]);return i.jsx(Zb.Provider,{value:g,children:n})}function Xb({children:e,...t}){return i.jsx("div",{role:"tablist",...t,children:e})}function Xm({value:e,children:t,className:n,onClick:r,onKeyDown:o,disabled:l,...c}){const d=m.useContext(Zb);if(!d)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:f,unregisterValue:p,focusValue:g,getValues:x}=d,b=d.value===e,w=`${d.baseId}-tab-${e}`,S=`${d.baseId}-panel-${e}`,C=m.useCallback(E=>{f(e,E)},[f,e]);m.useLayoutEffect(()=>()=>p(e),[p,e]);const j=E=>{if(o?.(E),E.defaultPrevented)return;const N=x(),_=N.indexOf(e);if(_===-1||N.length===0)return;let R=_;E.key==="ArrowRight"?(E.preventDefault(),R=(_+1)%N.length):E.key==="ArrowLeft"?(E.preventDefault(),R=(_-1+N.length)%N.length):E.key==="Home"?(E.preventDefault(),R=0):E.key==="End"&&(E.preventDefault(),R=N.length-1);const M=N[R];M&&M!==d.value&&d.setValue(M),g(M)};return i.jsx("button",{...c,ref:C,type:"button",role:"tab",id:w,"aria-selected":b,"aria-controls":S,tabIndex:b?0:-1,className:n,disabled:l,onKeyDown:j,onClick:E=>{r?.(E),!E.defaultPrevented&&!l&&d.setValue(e)},children:t})}function zi({value:e,children:t,className:n,...r}){const o=m.useContext(Zb);if(!o)throw new Error("TabsContent must be used within a TabsRoot");const l=o.value===e,c=`${o.baseId}-panel-${e}`,d=`${o.baseId}-tab-${e}`;return i.jsx("div",{...r,role:"tabpanel",id:c,"aria-labelledby":d,className:n,hidden:!l,tabIndex:0,children:t})}function Wl(e,t,n){let r=n.initialDeps??[],o,l=!0;function c(){var d,f,p;let g;n.key&&((d=n.debug)!=null&&d.call(n))&&(g=Date.now());const x=e();if(!(x.length!==r.length||x.some((S,C)=>r[C]!==S)))return o;r=x;let w;if(n.key&&((f=n.debug)!=null&&f.call(n))&&(w=Date.now()),o=t(...x),n.key&&((p=n.debug)!=null&&p.call(n))){const S=Math.round((Date.now()-g)*100)/100,C=Math.round((Date.now()-w)*100)/100,j=C/16,E=(N,_)=>{for(N=String(N);N.length<_;)N=" "+N;return N};console.info(`%c ${E(C,5)} /${E(S,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*j,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(l&&n.skipInitialOnChange)&&n.onChange(o),l=!1,o}return c.updateDeps=d=>{r=d},c}function H1(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const YF=(e,t)=>Math.abs(e-t)<1.01,KF=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},q1=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},ZF=e=>e,QF=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},XF=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=c=>{const{width:d,height:f}=c;t({width:Math.round(d),height:Math.round(f)})};if(o(q1(n)),!r.ResizeObserver)return()=>{};const l=new r.ResizeObserver(c=>{const d=()=>{const f=c[0];if(f?.borderBoxSize){const p=f.borderBoxSize[0];if(p){o({width:p.inlineSize,height:p.blockSize});return}}o(q1(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()});return l.observe(n,{box:"border-box"}),()=>{l.unobserve(n)}},W1={passive:!0},G1=typeof window>"u"?!0:"onscrollend"in window,JF=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const l=e.options.useScrollendEvent&&G1?()=>{}:KF(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),c=g=>()=>{const{horizontal:x,isRtl:b}=e.options;o=x?n.scrollLeft*(b&&-1||1):n.scrollTop,l(),t(o,g)},d=c(!0),f=c(!1);f(),n.addEventListener("scroll",d,W1);const p=e.options.useScrollendEvent&&G1;return p&&n.addEventListener("scrollend",f,W1),()=>{n.removeEventListener("scroll",d),p&&n.removeEventListener("scrollend",f)}},e5=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},t5=(e,{adjustments:t=0,behavior:n},r)=>{var o,l;const c=e+t;(l=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[r.options.horizontal?"left":"top"]:c,behavior:n})};class n5{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(l=>{const c=()=>{this._measureElement(l.target,l)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var l;return(l=r())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:o=>{var l;return(l=r())==null?void 0:l.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ZF,rangeExtractor:QF,onChange:()=>{},measureElement:e5,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Wl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,l=new Map;for(let c=r-1;c>=0;c--){const d=n[c];if(o.has(d.lane))continue;const f=l.get(d.lane);if(f==null||d.end>f.end?l.set(d.lane,d):d.end<f.end&&o.set(d.lane,!0),o.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((c,d)=>c.end===d.end?c.index-d.index:c.end-d.end)[0]:void 0},this.getMeasurementOptions=Wl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,o,l,c,d)=>(this.prevLanes!==void 0&&this.prevLanes!==d&&(this.lanesChangedFlag=!0),this.prevLanes=d,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:l,enabled:c,lanes:d}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Wl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:l,enabled:c,lanes:d},f)=>{if(!c)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const p=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,p),x=new Array(d).fill(void 0);for(let b=0;b<p;b++){const w=g[b];w&&(x[w.lane]=b)}for(let b=p;b<n;b++){const w=l(b),S=this.laneAssignments.get(b);let C,j;if(S!==void 0&&this.options.lanes>1){C=S;const R=x[C],M=R!==void 0?g[R]:void 0;j=M?M.end+this.options.gap:r+o}else{const R=this.options.lanes===1?g[b-1]:this.getFurthestMeasurement(g,b);j=R?R.end+this.options.gap:r+o,C=R?R.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,C)}const E=f.get(w),N=typeof E=="number"?E:this.options.estimateSize(b),_=j+N;g[b]={index:b,start:j,size:N,end:_,key:w,lane:C},x[C]=b}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Wl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,l)=>this.range=n.length>0&&r>0?r5({measurements:n,outerSize:r,scrollOffset:o,lanes:l}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Wl(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,l,c)=>l===null||c===null?[]:n({startIndex:l,endIndex:c,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),l=this.measurementsCache[o];if(!l)return;const c=l.key,d=this.elementsCache.get(c);d!==n&&(d&&this.observer.unobserve(d),this.observer.observe(n),this.elementsCache.set(c,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const l=this.itemSizeCache.get(o.key)??o.size,c=r-l;c!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,c,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=c,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Wl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let l=0,c=n.length;l<c;l++){const d=n[l],f=r[d];o.push(f)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return H1(r[K_(0,r.length-1,o=>H1(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const l=this.getSize(),c=this.getScrollOffset();r==="auto"&&(r=n>=c+l?"end":"start"),r==="center"?n+=(o-l)/2:r==="end"&&(n-=l);const d=this.getTotalSize()+this.options.scrollMargin-l;return Math.max(Math.min(d,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const l=this.getSize(),c=this.getScrollOffset();if(r==="auto")if(o.end>=c+l-this.options.scrollPaddingEnd)r="end";else if(o.start<=c+this.options.scrollPaddingStart)r="start";else return[c,r];const d=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(d,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let l=0;const c=10,d=p=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,p);if(!g){console.warn("Failed to get offset for index:",n);return}const[x,b]=g;this._scrollToOffset(x,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const w=this.getScrollOffset(),S=this.getOffsetForIndex(n,b);if(!S){console.warn("Failed to get offset for index:",n);return}YF(S[0],w)||f(b)})},f=p=>{this.targetWindow&&(l++,l<c?this.targetWindow.requestAnimationFrame(()=>d(p)):console.warn(`Failed to scroll to index ${n} after ${c} attempts.`))};d(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const l=Array(this.options.lanes).fill(null);let c=r.length-1;for(;c>=0&&l.some(d=>d===null);){const d=r[c];l[d.lane]===null&&(l[d.lane]=d.end),c--}o=Math.max(...l.filter(d=>d!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const K_=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,l=n(o);if(l<r)e=o+1;else if(l>r)t=o-1;else return o}return e>0?e-1:0};function r5({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,l=f=>e[f].start;if(e.length<=r)return{startIndex:0,endIndex:o};let c=K_(0,o,l,n),d=c;if(r===1)for(;d<o&&e[d].end<n+t;)d++;else if(r>1){const f=Array(r).fill(0);for(;d<o&&f.some(g=>g<n+t);){const g=e[d];f[g.lane]=g.end,d++}const p=Array(r).fill(n+t);for(;c>=0&&p.some(g=>g>=n);){const g=e[c];p[g.lane]=g.start,c--}c=Math.max(0,c-c%r),d=Math.min(o,d+(r-1-d%r))}return{startIndex:c,endIndex:d}}const Y1=typeof document<"u"?m.useLayoutEffect:m.useEffect;function s5(e){const t=m.useReducer(()=>({}),{})[1],n={...e,onChange:(o,l)=>{var c;l?Wn.flushSync(t):t(),(c=e.onChange)==null||c.call(e,o,l)}},[r]=m.useState(()=>new n5(n));return r.setOptions(n),Y1(()=>r._didMount(),[]),Y1(()=>r._willUpdate()),r}function o5(e){return s5({observeElementRect:XF,observeElementOffset:JF,scrollToFn:t5,...e})}function K1(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function a5(e){const t=e.raw;if(t&&typeof t=="object"){const n=u5(t);if(n)return n}return l5(e.message)}function Z_(e){const t=e.raw;if(!t||typeof t!="object")return null;try{return JSON.stringify(t)}catch{return null}}function i5(e){try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return null}return null}function l5(e){if(e.includes(`
`)){const r=e.split(/\r?\n/),[o,...l]=r;return i.jsxs("div",{className:"flex flex-col gap-[2px]",children:[i.jsx("span",{className:"break-words",children:o||" "}),l.length>0?i.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-border pl-3 text-[12px] leading-snug text-muted-foreground",children:l.join(`
`)}):null]})}const t=i5(e);if(!t)return e;const n=JSON.stringify(t,null,2);return i.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-foreground",children:c5(n)})}function c5(e){const t=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,n=[];let r=0,o,l=0;for(;(o=t.exec(e))!==null;){o.index>r&&n.push(e.slice(r,o.index));const c=o[0],d=o[1]?"text-info-300":o[2]?"text-warning-300":"text-danger-300";n.push(i.jsx("span",{className:d,children:c},`json-${l++}`)),r=t.lastIndex}return r<e.length&&n.push(e.slice(r)),n}function u5(e){const t=typeof e.event=="string"?e.event:"";if(!t)return null;const n=typeof e.level=="string"?e.level.toLowerCase():"",r=typeof e.message=="string"?e.message:"",o=e.data&&typeof e.data=="object"?e.data:{};if(t==="console.line"){const l=typeof o.message=="string"?o.message:r;return i.jsx("span",{className:"break-words",children:l||" "})}if(t==="engine.log"){const l=h5(r);return i.jsx("span",{className:"break-words",children:l.text||" "})}if(t.startsWith("build.")||t.startsWith("run.")){const l=typeof o.status=="string"?o.status:void 0,c=typeof o.reason=="string"?o.reason:void 0,d=typeof o.phase=="string"?o.phase:void 0,f=typeof o.message=="string"?o.message:void 0,p=g=>{if(!g||g<0)return"";if(g<1e3)return`${Math.round(g)} ms`;if(g<6e4)return`${(g/1e3).toFixed(1)} s`;const x=Math.floor(g/6e4),b=Math.round(g%6e4/1e3);return`${x}m ${b}s`};if(t==="build.phase.start")return i.jsx("span",{className:"break-words",children:f||(d?`Build: ${d}`:"Build phase started")});if(t==="build.start")return i.jsx("span",{className:"break-words",children:`Build started${c?` (${c})`:""}`});if(t==="build.queued")return i.jsx("span",{className:"break-words",children:`Build queued${c?` (${c})`:""}`});if(t==="build.complete")return i.jsx("span",{className:"break-words",children:`Build ${l??"completed"}`});if(t==="run.queued"){const g=typeof o.mode=="string"?o.mode:void 0;return i.jsx("span",{className:"break-words",children:`Run queued${g?` (${g})`:""}`})}if(t==="run.start"){const g=typeof o.mode=="string"?o.mode:void 0;return i.jsx("span",{className:"break-words",children:`Run started${g?` (${g})`:""}`})}if(t==="run.complete"){const g=o.execution&&typeof o.execution=="object"?o.execution:{},x=typeof g.duration_ms=="number"?g.duration_ms:void 0,b=x?`  ${p(x)}`:"";return i.jsx("span",{className:"break-words",children:`Run ${l??"completed"}${b}`})}return r.trim()?i.jsx("span",{className:"break-words",children:r}):t.startsWith("build.")?i.jsx("span",{className:"break-words",children:f||d||l||t}):i.jsx("span",{className:"break-words",children:l||t})}if(t==="engine.config.loaded"){const l=$t(o.config_package)??$t(o.config_package_name),c=$t(o.entrypoint),d=Array.isArray(o.fields)?o.fields.length:void 0,f=gs(o.settings),p=$t(f?.log_format),g=typeof f?.log_level=="number"?f.log_level:void 0,x=l?Ai(l):void 0,b=["Config loaded",c?`entry=${c}`:null,typeof d=="number"?`fields=${d}`:null,p?`log=${p}${typeof g=="number"?`(${g})`:""}`:null,x&&x!=="src"?x:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:b.join("  ")})}if(t==="engine.settings.effective"){const l=gs(o.settings);if(!l)return i.jsx("span",{className:"break-words",children:"Settings (effective)"});const c=$t(l.log_format),d=typeof l.log_level=="number"?l.log_level:void 0,f=typeof l.max_empty_rows_run=="number"?l.max_empty_rows_run:void 0,p=typeof l.max_empty_cols_run=="number"?l.max_empty_cols_run:void 0,g=$t(l.unmapped_prefix),x=["Settings",c?`log=${c}${typeof d=="number"?`(${d})`:""}`:null,g?`unmapped=${g}`:null,typeof f=="number"?`maxEmptyRows=${f}`:null,typeof p=="number"?`maxEmptyCols=${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.hook.start"||t==="engine.hook.end"){const l=$t(o.hook_name)??$t(o.hook),c=t.endsWith(".start")?"start":"end";return i.jsx("span",{className:"break-words",children:l?`Hook ${l}  ${c}`:`Hook  ${c}`})}if(t==="engine.run.started"){const l=$t(o.input_file),c=$t(o.config_package),d=["Run started",l?Ai(l):null,c?`config=${Ai(c)}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.run.planned"){const l=$t(o.output_file),c=$t(o.logs_file),d=["Run planned",l?`output=${Ai(l)}`:null,c?`logs=${Ai(c)}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.run.completed"){const l=gs(o.execution)??{},c=gs(o.evaluation)??{},d=gs(o.counts)??{},f=$t(l.status),p=$t(c.outcome),g=typeof l.duration_ms=="number"?l.duration_ms:void 0,x=typeof d.tables=="number"?d.tables:void 0,b=["Run completed",f||null,p?`outcome=${p}`:null,typeof x=="number"?`tables=${x}`:null,typeof g=="number"?`${Math.round(g)}ms`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:b.join("  ")})}if(t==="engine.workbook.started"){const l=typeof o.sheet_count=="number"?o.sheet_count:void 0;return i.jsx("span",{className:"break-words",children:`Workbook start${typeof l=="number"?`  sheets=${l}`:""}`})}if(t==="engine.sheet.started"){const l=$t(o.sheet_name),c=typeof o.sheet_index=="number"?o.sheet_index+1:void 0,d=["Sheet start",l||null,typeof c=="number"?`#${c}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.sheet.tables_detected"){const l=$t(o.sheet_name),c=typeof o.table_count=="number"?o.table_count:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=[l||"Sheet",typeof c=="number"?`tables=${c}`:null,typeof d=="number"?`rows=${d}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:f.join("  ")})}if(t==="engine.table.detected"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.column_count=="number"?o.column_count:void 0,p=[l||null,typeof c=="number"?`Table ${c}`:"Table","detected",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`cols=${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:p.join("  ")})}if(t==="engine.table.extracted"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.col_count=="number"?o.col_count:void 0,p=[l||null,typeof c=="number"?`Table ${c}`:"Table","extracted",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`cols=${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:p.join("  ")})}if(t==="engine.table.mapped"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.detected_fields=="number"?o.detected_fields:void 0,f=typeof o.expected_fields=="number"?o.expected_fields:void 0,p=typeof o.not_detected_fields=="number"?o.not_detected_fields:void 0,g=[l||null,typeof c=="number"?`Table ${c}`:"Table","mapped",typeof d=="number"&&typeof f=="number"?`detected=${d}/${f}`:null,typeof p=="number"?`not_detected=${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.table.mapping_patched"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=[l||null,typeof c=="number"?`Table ${c}`:"Table","mapping patched"].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.table.normalized"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index+1:void 0,d=typeof o.row_count=="number"?o.row_count:void 0,f=typeof o.issue_count=="number"?o.issue_count:void 0,p=gs(o.issues_by_severity),g=p?f5(p,2):null,x=[l||null,typeof c=="number"?`Table ${c}`:"Table","normalized",typeof d=="number"?`rows=${d}`:null,typeof f=="number"?`issues=${f}`:null,g||null].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.table.written"){const l=$t(o.sheet_name),c=typeof o.table_index=="number"?o.table_index:void 0,d=$t(o.output_range),f=m5(r),p=[l||null,typeof c=="number"?`Table ${c+1}`:null,"written",d||null,f?`mapped=${f.mapped} unmapped=${f.unmapped}`:null].filter(Boolean).join("  ");return i.jsx("span",{className:"break-words",children:p||"Table written"})}if(t==="engine.validation.result"){const l=typeof o.validator=="string"?o.validator:void 0,c=typeof o.field=="string"?o.field:void 0,d=typeof o.issues_found=="number"?o.issues_found:void 0,f=typeof o.column_index=="number"?o.column_index:void 0,p=Array.isArray(o.results_sample)?o.results_sample:[],g=typeof d=="number"&&d>0&&p.length>0?`sample=${Z1(JSON.stringify(p[0]),80)}`:null,x=["Validate",c??null,typeof f=="number"?`Col ${dm(f)}`:null,l?`via ${l}`:null,typeof d=="number"?`issues=${d}`:null,g].filter(Boolean);return i.jsx("span",{className:"break-words",children:x.join("  ")})}if(t==="engine.validation.summary"){const l=typeof o.issues_total=="number"?o.issues_total:void 0;return i.jsx("span",{className:"break-words",children:`Validation summary${typeof l=="number"?`  issues=${l}`:""}`})}if(t==="engine.transform.result"){const l=typeof o.transform=="string"?o.transform:void 0,c=typeof o.field=="string"?o.field:void 0,d=typeof o.input_len=="number"?o.input_len:void 0,f=typeof o.output_len=="number"?o.output_len:void 0,p=typeof o.row_count=="number"?o.row_count:void 0,g=[l?`Transform ${l}`:"Transform",c??null,typeof p=="number"?`rows=${p}`:null,typeof d=="number"&&typeof f=="number"?`${d}${f}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.transform.derived_merge"){const l=$t(o.field),c=$t(o.mode),d=["Derived merge",l??null,c?`mode=${c}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:d.join("  ")})}if(t==="engine.column_detector.candidate"){const l=typeof o.column_index=="number"?o.column_index:void 0,c=typeof o.header=="string"?o.header:void 0,d=typeof o.best_field=="string"?o.best_field:void 0,f=typeof o.best_score=="number"?o.best_score:void 0,p=gs(o.scores),g=p?Mu(p,3):null,x=gs(o.contributions),b=x?Mu(x,2):null,w=[typeof l=="number"?`Col ${dm(l)}`:null,c?`"${Z1(c,32)}"`:null,d?`suggested=${d}`:null,typeof f=="number"?`(${f.toFixed(3)})`:null,g?`why: ${g}`:null,b?`signals: ${b}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:w.join("  ")})}if(t==="engine.column_detector.summary"){const l=Array.isArray(o.mapped)?o.mapped:[],c=typeof o.total_columns=="number"?o.total_columns:void 0,d=Array.isArray(o.unmapped_indices)?o.unmapped_indices.length:void 0,f=["Columns",typeof c=="number"?`total=${c}`:null,`mapped=${l.length}`,typeof d=="number"?`unmapped=${d}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:f.join("  ")})}if(t==="engine.row_detector.summary"){const l=$t(o.sheet_name),c=typeof o.header_row_index=="number"?o.header_row_index+1:void 0,d=typeof o.header_score=="number"?o.header_score:void 0,f=typeof o.data_start_index=="number"?o.data_start_index+1:void 0,p=typeof o.data_end_index=="number"?o.data_end_index+1:void 0,g=[l?`${l}`:"Rows",typeof c=="number"?`headerRow=${c}`:null,typeof d=="number"?`score=${d.toFixed(3)}`:null,typeof f=="number"&&typeof p=="number"?`dataRows=${f}..${p}`:null].filter(Boolean);return i.jsx("span",{className:"break-words",children:g.join("  ")})}if(t==="engine.detector.column_result"||t==="engine.detector.row_result"){const l=typeof o.sheet_name=="string"?o.sheet_name:void 0,c=typeof o.column_index=="number"?o.column_index:void 0,d=typeof o.row_index=="number"?o.row_index:void 0,f=o.detector&&typeof o.detector=="object"?o.detector:{},p=typeof f.name=="string"?f.name:void 0,g=typeof f.duration_ms=="number"?f.duration_ms:void 0,x=f.scores&&typeof f.scores=="object"?f.scores:null,b=x?Mu(x,2):null;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Col ${dm(c)}`:null,typeof d=="number"?`Row ${d+1}`:null,p?`ran ${p}`:"ran detector",typeof g=="number"?d5(g):null,b?`scores: ${b}`:null].filter(Boolean).join("  ")})}if(t==="engine.row_classification"){const l=$t(o.sheet_name),c=typeof o.row_index=="number"?o.row_index+1:void 0,d=gs(o.scores),f=d?Mu(d,2):null,p=gs(o.classification),g=$t(p?.row_kind),x=typeof p?.score=="number"?p.score:void 0,b=Array.isArray(p?.considered_row_kinds)?p?.considered_row_kinds.length:void 0;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Row ${c}`:"Row",g?`label=${g}`:null,typeof x=="number"?`(${x.toFixed(3)})`:null,typeof b=="number"?`considered=${b}`:null,f?`why: ${f}`:null].filter(Boolean).join("  ")})}if(t==="engine.column_classification"){const l=$t(o.sheet_name),c=typeof o.column_index=="number"?o.column_index:void 0,d=gs(o.scores),f=d?Mu(d,2):null,p=gs(o.classification),g=$t(p?.field),x=typeof p?.score=="number"?p.score:void 0,b=Array.isArray(p?.considered_fields)?p?.considered_fields.length:void 0;return i.jsx("span",{className:"break-words",children:[l||null,typeof c=="number"?`Col ${dm(c)}`:"Col",g?`label=${g}`:null,typeof x=="number"?`(${x.toFixed(3)})`:null,typeof b=="number"?`considered=${b}`:null,f?`why: ${f}`:null].filter(Boolean).join("  ")})}return r&&r!==t?i.jsx("span",{className:"break-words",children:r}):Object.keys(o).length?n==="debug"&&t.startsWith("engine.")?i.jsx("span",{className:"break-words",children:t}):i.jsx("span",{className:"break-words",children:t}):null}function $t(e){return typeof e=="string"&&e.trim().length?e:null}function gs(e){return!e||typeof e!="object"?null:e}function Ai(e){const t=e.trim();if(!t)return"";const n=t.split(/[\\/]/).filter(Boolean);return n[n.length-1]??t}function Z1(e,t){return e.length<=t?e:e.slice(0,Math.max(0,t-1))+""}function dm(e){let t=Math.floor(e);if(!Number.isFinite(t)||t<0)return String(e);let n="";for(;t>=0;)n=String.fromCharCode(t%26+65)+n,t=Math.floor(t/26)-1;return n}function d5(e){return!Number.isFinite(e)||e<0?`${e}ms`:e<1?`${e.toFixed(3)}ms`:e<10?`${e.toFixed(2)}ms`:e<100?`${e.toFixed(1)}ms`:e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}function Mu(e,t){const n=[];for(const[r,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&n.push([r,o]);return n.length?(n.sort((r,o)=>o[1]-r[1]),n.slice(0,Math.max(1,t)).map(([r,o])=>`${r}=${o.toFixed(3)}`).join(" ")):null}function f5(e,t){const n=[];for(const[r,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&n.push([r,o]);return n.length?(n.sort((r,o)=>o[1]-r[1]),n.slice(0,Math.max(1,t)).map(([r,o])=>`${r}=${Math.round(o)}`).join(" ")):null}function m5(e){const t=e.match(/Rendered table with\s+(\d+)\s+\w+\s+columns?\s+and\s+(\d+)\s+unmapped/i);if(!t)return null;const n=Number(t[1]),r=Number(t[2]);return!Number.isFinite(n)||!Number.isFinite(r)?null:{mapped:n,unmapped:r}}function h5(e){const t=(e||"").trim();if(!t)return{text:""};const n="Config hook:",r=t.startsWith(n)?t.slice(n.length).trim():t,o=r.match(/^workbook start\s*\((.+)\)\s*$/i);if(o){const g=o[1];return{text:`Workbook start  ${Ai(g)}`,title:g}}const l=r.match(/^workbook before save\s*\((.+)\)\s*$/i);if(l){const g=l[1];return{text:`Workbook save  ${Ai(g)}`,title:g}}const c=r.match(/^sheet start\s*\((.+)\)\s*$/i);if(c)return{text:`Sheet start  ${c[1]}`};const d=r.match(/^table detected\s*\((.+)\)\s*$/i);if(d)return{text:`Table detected  ${d[1].replace(/\s*,\s*/g,"  ")}`};const f=r.match(/^table mapped\s*\((.+)\)\s*$/i);if(f){const g=f[1],x=g.match(/detected_fields=\[(.*)\]/i);return x?{text:`Table mapped  detected=${x[1].split(",").map(w=>w.trim()).filter(Boolean).length}`,title:g}:{text:`Table mapped  ${g}`}}const p=r.match(/^table written\s*\((.+)\)\s*$/i);return p?{text:`Table written  ${p[1].replace(/\s*,\s*/g,"  ")}`}:{text:t}}const Q1="ade.ui.workbench.console.levelFilter.v1";function p5({console:e,latestRun:t,onClearConsole:n,runStatus:r}){const[o,l]=m.useState(()=>{const L={origin:"all",level:"info"};if(typeof window>"u")return L;try{const T=window.localStorage.getItem(Q1);if(T==="all"||T==="debug"||T==="info"||T==="warning"||T==="error"||T==="success")return{...L,level:T}}catch{}return L}),[c,d]=m.useState(!0),[f,p]=m.useState(!1),[g,x]=m.useState("parsed"),b=m.useRef(null),w=m.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),S=w.length,C=m.useMemo(()=>{const L=K1(o.level),T=[];for(let W=0;W<w.length;W+=1){const I=e.getLine(W);if(!I)continue;const F=o.origin==="all"||(I.origin??"run")===o.origin,U=K1(I.level),ae=o.level==="all"||U>=L;F&&ae&&T.push(W)}return T},[e,w,o]),j=C.length>0,E=S>0,N=r&&r!=="idle"?r:null,_=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",R=o5({count:C.length,getScrollElement:()=>b.current,estimateSize:()=>22,overscan:16});m.useEffect(()=>{c&&C.length!==0&&R.scrollToIndex(C.length-1,{align:"end"})},[c,C.length,w,R]),m.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Q1,o.level)}catch{}},[o.level]);const M=L=>{const T=L.currentTarget,I=T.scrollHeight-T.scrollTop-T.clientHeight<16;!I&&c?d(!1):I&&!c&&d(!0)},D=()=>{d(!0),R.scrollToIndex(C.length-1,{align:"end"})},O=m.useCallback(async L=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(L),!0}catch{}if(typeof document>"u")return!1;try{const T=document.createElement("textarea");T.value=L,T.setAttribute("readonly","true"),T.style.position="fixed",T.style.left="-9999px",document.body.appendChild(T),T.select();const W=document.execCommand("copy");return document.body.removeChild(T),W}catch{return!1}},[]),A=async()=>{if(!j)return;const L=[];for(const W of C){const I=e.getLine(W);I&&L.push(C5(I,g))}const T=await O(L.join(`
`));p(T),T&&window.setTimeout(()=>p(!1),1500)};return i.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-terminal-border bg-terminal font-mono text-[13px] leading-relaxed text-terminal-foreground shadow-[0_8px_24px_rgb(var(--sys-color-shadow)/0.25)]",children:[i.jsxs("div",{className:"flex flex-col border-b border-terminal-border bg-gradient-to-r from-terminal/95 via-terminal/80 to-terminal/95",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-terminal-muted",children:[i.jsx("span",{className:"font-semibold tracking-[0.3em] text-terminal-foreground",children:"ADE"}),i.jsx("span",{className:"text-terminal-muted",children:"Terminal"}),N?i.jsx("span",{className:"rounded border border-terminal-border bg-terminal/70 px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-terminal-foreground/80",children:N}):null]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-terminal-muted",children:[i.jsxs("label",{className:"flex items-center gap-1 text-terminal-muted",title:"Filter logs by scope",children:["Origin",i.jsxs("select",{value:o.origin,onChange:L=>l(T=>({...T,origin:L.target.value})),className:"rounded border border-terminal-border bg-terminal/80 px-2 py-1 text-[11px] text-terminal-foreground shadow-sm focus:border-ring focus:outline-none",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"run",children:"Run"}),i.jsx("option",{value:"build",children:"Build"})]})]}),i.jsxs("label",{className:"flex items-center gap-1 text-terminal-muted",title:"Filter by severity",children:["Level",i.jsxs("select",{value:o.level,onChange:L=>l(T=>({...T,level:L.target.value})),className:"rounded border border-terminal-border bg-terminal/80 px-2 py-1 text-[11px] text-terminal-foreground shadow-sm focus:border-ring focus:outline-none",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"debug",children:"Debug"}),i.jsx("option",{value:"info",children:"Info"}),i.jsx("option",{value:"warning",children:"Warning"}),i.jsx("option",{value:"error",children:"Error"}),i.jsx("option",{value:"success",children:"Success"})]})]}),i.jsx("button",{type:"button",onClick:()=>c?d(!1):D(),className:fe("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",c?"border border-success-500/60 bg-success-500/10 text-success-500":"border border-terminal-border bg-transparent text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),title:"Auto-scroll to newest logs",children:c?"Following":"Follow"}),i.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-terminal-muted",children:"View"}),i.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",role:"radio","aria-checked":g==="parsed",onClick:()=>x("parsed"),className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-ring",g==="parsed"?"border-success-500/70 bg-success-500/10 text-success-500":"border-terminal-border text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),children:"Parsed"}),i.jsx("button",{type:"button",role:"radio","aria-checked":g==="ndjson",onClick:()=>x("ndjson"),className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-ring",g==="ndjson"?"border-success-500/70 bg-success-500/10 text-success-500":"border-terminal-border text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),children:"NDJSON"})]})]}),i.jsx("button",{type:"button",onClick:A,className:fe("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",f?"border border-success-500/60 bg-success-500/10 text-success-500":"border border-terminal-border bg-transparent text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground"),disabled:!j,title:_?"Copy visible console output":"Copy may be blocked by browser permissions",children:f?"Copied":"Copy"}),i.jsx("button",{type:"button",onClick:()=>n?.(),className:"rounded border border-terminal-border bg-terminal/70 px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-terminal-muted transition hover:border-terminal-border/80 hover:text-terminal-foreground",title:"Clear console output",children:"Clear"})]})]}),t?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-terminal-border bg-terminal/80 px-4 py-1.5 text-[11px] text-terminal-muted",children:[i.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[i.jsx(g5,{status:t.status}),i.jsxs("span",{className:"truncate",title:t.runId,children:["Run ",t.runId]}),i.jsxs("span",{className:"truncate text-terminal-muted",children:[t.documentName??"Document not recorded",J1(t.sheetNames)?`  ${J1(t.sheetNames)}`:""]}),t.durationMs!=null?i.jsxs("span",{className:"text-terminal-muted",children:[" ",j5(t.durationMs)]}):null]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-terminal-muted",children:"Downloads"}),i.jsx(zx,{href:t.outputUrl,label:t.outputFilename?`Output (${t.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),i.jsx(zx,{href:t.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),i.jsx(zx,{href:t.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),i.jsx("div",{ref:b,onScroll:M,className:"flex-1 overflow-auto bg-terminal",children:j?i.jsx("div",{style:{height:R.getTotalSize(),position:"relative"},children:R.getVirtualItems().map(L=>{const T=C[L.index],W=typeof T=="number"?e.getLine(T):void 0;if(!W)return null;const I=W.id??`${W.timestamp??"tbd"}-${W.origin??"run"}-${T}`,F=g==="ndjson"?i.jsx("span",{className:"whitespace-pre-wrap break-words",children:Z_(W)??W.message}):a5(W);return i.jsx("div",{"data-index":L.index,ref:R.measureElement,className:"group flex items-start gap-3 border-b border-terminal-border/60 px-3 py-[2px] transition hover:bg-terminal/70 last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${L.start}px)`},children:i.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[y5(W.timestamp),i.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-terminal-muted/70",children:Q_(W.origin)}),i.jsx("span",{className:fe("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",S5(W.level)),children:w5(W.level)}),i.jsx("div",{className:fe("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",x5(W.level)),children:F})]})},I)})}):E?i.jsx(X1,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):i.jsx(X1,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})})]})}function X1({title:e,description:t}){return i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-terminal-muted",children:[i.jsx("p",{className:"tracking-wide text-terminal-muted",children:e}),i.jsx("p",{className:"text-[12px] leading-relaxed text-terminal-muted",children:t})]})}function g5({status:e}){const t=b5(e),n=e==="succeeded"?"bg-success-500":e==="running"||e==="queued"?"bg-warning-400":t?"bg-terminal-muted":"bg-danger-500";return i.jsx("span",{className:fe("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}function x5(e){switch(e){case"warning":return"text-warning-500";case"error":return"text-danger-500";case"success":return"text-success-500";default:return"text-terminal-foreground"}}function v5(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function b5(e){return e==="cancelled"}function Q_(e){return e==="build"?"[build]":"[run]"}function y5(e){const t=X_(e);return t?i.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-terminal-muted/80",children:["[",t,"]"]}):i.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-terminal-muted/70","aria-hidden":!0,children:""})}function w5(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function S5(e){switch(e){case"warning":return"text-warning-500";case"error":return"text-danger-500";case"success":return"text-success-500";default:return"text-terminal-muted/70"}}function X_(e){if(!e)return"";const t=new Date(e);if(!Number.isNaN(t.getTime()))return t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const n=e.trim();return n.length>0?n:""}function C5(e,t){const n=X_(e.timestamp),r=Q_(e.origin),o=v5(e.level).toLowerCase(),l=t==="ndjson"?Z_(e)??e.message??"":e.message??"";return`${n?`[${n}] `:""}${r} ${o} ${l}`.trim()}function J1(e){return e?e.length===0?"All worksheets":e.join(", "):null}function j5(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const t=Math.floor(e/6e4),n=Math.round(e%6e4/1e3);return`${t}m ${n}s`}function zx({href:e,label:t,disabledLabel:n,disabledReason:r}){const o=typeof e=="string"&&e.trim().length>0,l="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",c="border-terminal-border bg-terminal/70 text-terminal-muted hover:border-terminal-border/80 hover:text-terminal-foreground",d="border-terminal-border bg-terminal/60 text-terminal-muted/60 cursor-not-allowed";return o?i.jsxs("a",{className:fe(l,c),href:e,title:t,children:[i.jsx($T,{className:"h-3.5 w-3.5 text-terminal-muted"}),i.jsx("span",{className:"truncate",children:t})]}):i.jsx("span",{className:fe(l,d),title:r,children:n})}function E5({validation:e}){const t=_5(e),n=k5(e);return i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:t}),e.lastRunAt?i.jsxs("span",{children:["Last run ",R5(e.lastRunAt)]}):null]}),e.messages.length>0?i.jsx("ul",{className:"space-y-1.5",children:e.messages.map((r,o)=>i.jsxs("li",{className:N5(r.level),children:[r.path?i.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:r.path}):null,i.jsx("span",{className:"text-[13px]",children:r.message})]},`${r.level}-${r.path??o}-${o}`))}):i.jsx("p",{className:"text-xs leading-relaxed text-muted-foreground",children:n})]})}function N5(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-warning-600";default:return"text-muted-foreground"}}function _5(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const t=e.messages.length;return`Validation completed with ${t} ${t===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function k5(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function R5(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function M5({height:e,console:t,validation:n,activePane:r,onPaneChange:o,latestRun:l,onClearConsole:c,runStatus:d,onToggleCollapse:f,appearance:p="light"}){const g=n.messages.length>0,x=p==="dark"?{surface:"border-border bg-card text-foreground",header:"border-border bg-card",hideButton:"border-border-strong bg-popover text-foreground hover:border-border-strong hover:bg-muted"}:{surface:"border-border bg-muted text-foreground",header:"border-border bg-muted",hideButton:"border-border-strong bg-card text-foreground hover:border-border-strong hover:bg-muted"};return i.jsx("section",{className:fe("flex min-h-0 flex-col overflow-hidden border-t",x.surface),style:{height:e},children:i.jsxs(Qb,{value:r,onValueChange:b=>o(b),children:[i.jsxs("div",{className:fe("flex flex-none items-center justify-between border-b px-3 py-1.5",x.header),onDoubleClick:f,title:f?"Double-click to hide console":void 0,children:[i.jsxs(Xb,{className:"flex items-center gap-3 text-[11px] font-medium",children:[i.jsx(Xm,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),i.jsxs(Xm,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",g?i.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-danger-600 px-1 text-[10px] font-semibold text-on-danger",children:n.messages.length}):null]})]}),f?i.jsx("button",{type:"button",onClick:f,className:fe("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",x.hideButton),title:"Hide console",children:"Hide"}):null]}),i.jsx(zi,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:i.jsx(p5,{console:t,latestRun:l,onClearConsole:c,runStatus:d})}),i.jsx(zi,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:i.jsx(E5,{validation:n})})]})})}function D5({containerRef:e,tabs:t,activeTabId:n,onCloseTab:r,onSelectRecentTab:o,onSelectTab:l}){return m.useEffect(()=>{if(!t.length)return;const c=f=>{const p=e.current;if(!p)return!1;const g=f.target;if(g instanceof Node&&p.contains(g))return!0;const x=document.activeElement;return!!(x&&p.contains(x))},d=f=>{if(!(f.ctrlKey||f.metaKey)||!c(f))return;if(f.key.toLowerCase()==="w"){if(!n)return;f.preventDefault(),r(n);return}if(f.key==="Tab"){if(t.length<2)return;f.preventDefault(),o(f.shiftKey?"backward":"forward");return}const p=g=>{if(t.length<2)return;const x=t.findIndex(C=>C.id===n),w=((x>=0?x:0)+g+t.length)%t.length,S=t[w];S&&l(S.id)};if(f.key==="PageUp"){f.preventDefault(),p(-1);return}f.key==="PageDown"&&(f.preventDefault(),p(1))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,n,r,o,l,e]),null}const A5=m.lazy(()=>fN(()=>import("./MonacoCodeEditor-g_ZFlwk8.js"),[])),O5=m.forwardRef(function(t,n){const{className:r,...o}=t;return i.jsx(m.Suspense,{fallback:i.jsx("div",{className:fe("relative h-full w-full",r),children:i.jsx("div",{className:"flex h-full items-center justify-center text-xs text-muted-foreground",children:"Loading editor"})}),children:i.jsx(A5,{...o,ref:n,className:r})})});function T5({tabs:e,activeTabId:t,editorTheme:n,onContentChange:r,onSaveTab:o,canSaveFiles:l=!1,readOnly:c=!1,onRetryTabLoad:d,onSelectTab:f,isTabDragging:p=!1}){return m.useMemo(()=>e.find(x=>x.id===t)??null,[e,t])?i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(x=>i.jsx(zi,{value:x.id,className:"flex min-h-0 min-w-0 flex-1",children:x.status==="loading"?i.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:["Loading ",x.name,""]}):x.status==="error"?i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:x.error??"Unable to load the file."}),i.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-on-brand hover:bg-brand-500",onClick:()=>d?d(x.id):f(x.id),children:"Retry loading"})]}):i.jsx("div",{className:fe("flex min-h-0 min-w-0 flex-1",p&&"pointer-events-none select-none"),children:i.jsx(O5,{value:x.content,language:x.language??"plaintext",path:x.id,theme:n,readOnly:c,onChange:b=>r(x.id,b??""),onSaveShortcut:()=>{l&&o?.(x.id)}})})},x.id))}):i.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:"Select a file from the explorer to begin editing."})}function z5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Dh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jb(e){return"nodeType"in e}function Sr(e){var t,n;return e?jc(e)?e:Jb(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ey(e){const{Document:t}=Sr(e);return e instanceof t}function wd(e){return jc(e)?!1:e instanceof Sr(e).HTMLElement}function J_(e){return e instanceof Sr(e).SVGElement}function Ec(e){return e?jc(e)?e.document:Jb(e)?ey(e)?e:wd(e)||J_(e)?e.ownerDocument:document:document:document}const Fs=Dh?m.useLayoutEffect:m.useEffect;function Ah(e){const t=m.useRef(e);return Fs(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function P5(){const e=m.useRef(null),t=m.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function nd(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return Fs(()=>{n.current!==e&&(n.current=e)},t),n}function Sd(e,t){const n=m.useRef();return m.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Jm(e){const t=Ah(e),n=m.useRef(null),r=m.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function eh(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let Px={};function Cd(e,t){return m.useMemo(()=>{if(t)return t;const n=Px[e]==null?0:Px[e]+1;return Px[e]=n,e+"-"+n},[e,t])}function ek(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((l,c)=>{const d=Object.entries(c);for(const[f,p]of d){const g=l[f];g!=null&&(l[f]=g+e*p)}return l},{...t})}}const ic=ek(1),rd=ek(-1);function I5(e){return"clientX"in e&&"clientY"in e}function Oh(e){if(!e)return!1;const{KeyboardEvent:t}=Sr(e.target);return t&&e instanceof t}function L5(e){if(!e)return!1;const{TouchEvent:t}=Sr(e.target);return t&&e instanceof t}function th(e){if(L5(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return I5(e)?{x:e.clientX,y:e.clientY}:null}const Wo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wo.Translate.toString(e),Wo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ej="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $5(e){return e.matches(ej)?e:e.querySelector(ej)}const F5={display:"none"};function U5(e){let{id:t,value:n}=e;return _e.createElement("div",{id:t,style:F5},n)}function B5(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _e.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function V5(){const[e,t]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const tk=m.createContext(null);function H5(e){const t=m.useContext(tk);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function q5(){const[e]=m.useState(()=>new Set),t=m.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[m.useCallback(r=>{let{type:o,event:l}=r;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,l)})},[e]),t]}const W5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},G5={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Y5(e){let{announcements:t=G5,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=W5}=e;const{announce:l,announcement:c}=V5(),d=Cd("DndLiveRegion"),[f,p]=m.useState(!1);if(m.useEffect(()=>{p(!0)},[]),H5(m.useMemo(()=>({onDragStart(x){let{active:b}=x;l(t.onDragStart({active:b}))},onDragMove(x){let{active:b,over:w}=x;t.onDragMove&&l(t.onDragMove({active:b,over:w}))},onDragOver(x){let{active:b,over:w}=x;l(t.onDragOver({active:b,over:w}))},onDragEnd(x){let{active:b,over:w}=x;l(t.onDragEnd({active:b,over:w}))},onDragCancel(x){let{active:b,over:w}=x;l(t.onDragCancel({active:b,over:w}))}}),[l,t])),!f)return null;const g=_e.createElement(_e.Fragment,null,_e.createElement(U5,{id:r,value:o.draggable}),_e.createElement(B5,{id:d,announcement:c}));return n?Wn.createPortal(g,n):g}var Hn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Hn||(Hn={}));function nh(){}function _m(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Us=Object.freeze({x:0,y:0});function rk(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K5(e,t){const n=th(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function sk(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Z5(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function tj(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function ok(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function nj(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Bv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=nj(t,t.left,t.top),l=[];for(const c of r){const{id:d}=c,f=n.get(d);if(f){const p=rk(nj(f),o);l.push({id:d,data:{droppableContainer:c,value:p}})}}return l.sort(sk)},ak=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=tj(t),l=[];for(const c of r){const{id:d}=c,f=n.get(d);if(f){const p=tj(f),g=o.reduce((b,w,S)=>b+rk(p[S],w),0),x=Number((g/4).toFixed(4));l.push({id:d,data:{droppableContainer:c,value:x}})}}return l.sort(sk)};function Q5(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),c=o-r,d=l-n;if(r<o&&n<l){const f=t.width*t.height,p=e.width*e.height,g=c*d,x=g/(f+p-g);return Number(x.toFixed(4))}return 0}const X5=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const f=Q5(d,t);f>0&&o.push({id:c,data:{droppableContainer:l,value:f}})}}return o.sort(Z5)};function J5(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ik(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Us}function e6(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const t6=e6(1);function lk(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function n6(e,t,n){const r=lk(t);if(!r)return e;const{scaleX:o,scaleY:l,x:c,y:d}=r,f=e.left-c-(1-o)*parseFloat(n),p=e.top-d-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=o?e.width/o:e.width,x=l?e.height/l:e.height;return{width:g,height:x,top:p,right:f+g,bottom:p+x,left:f}}const r6={ignoreTransform:!1};function Nc(e,t){t===void 0&&(t=r6);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:g}=Sr(e).getComputedStyle(e);p&&(n=n6(n,p,g))}const{top:r,left:o,width:l,height:c,bottom:d,right:f}=n;return{top:r,left:o,width:l,height:c,bottom:d,right:f}}function rj(e){return Nc(e,{ignoreTransform:!0})}function s6(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function o6(e,t){return t===void 0&&(t=Sr(e).getComputedStyle(e)),t.position==="fixed"}function a6(e,t){t===void 0&&(t=Sr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=t[o];return typeof l=="string"?n.test(l):!1})}function Th(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(ey(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!wd(o)||J_(o)||n.includes(o))return n;const l=Sr(e).getComputedStyle(o);return o!==e&&a6(o,l)&&n.push(o),o6(o,l)?n:r(o.parentNode)}return e?r(e):n}function ck(e){const[t]=Th(e,1);return t??null}function Ix(e){return!Dh||!e?null:jc(e)?e:Jb(e)?ey(e)||e===Ec(e).scrollingElement?window:wd(e)?e:null:null}function uk(e){return jc(e)?e.scrollX:e.scrollLeft}function dk(e){return jc(e)?e.scrollY:e.scrollTop}function Vv(e){return{x:uk(e),y:dk(e)}}var Jn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jn||(Jn={}));function fk(e){return!Dh||!e?!1:e===document.scrollingElement}function mk(e){const t={x:0,y:0},n=fk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:o,isLeft:l,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const i6={x:.2,y:.2};function l6(e,t,n,r,o){let{top:l,left:c,right:d,bottom:f}=n;r===void 0&&(r=10),o===void 0&&(o=i6);const{isTop:p,isBottom:g,isLeft:x,isRight:b}=mk(e),w={x:0,y:0},S={x:0,y:0},C={height:t.height*o.y,width:t.width*o.x};return!p&&l<=t.top+C.height?(w.y=Jn.Backward,S.y=r*Math.abs((t.top+C.height-l)/C.height)):!g&&f>=t.bottom-C.height&&(w.y=Jn.Forward,S.y=r*Math.abs((t.bottom-C.height-f)/C.height)),!b&&d>=t.right-C.width?(w.x=Jn.Forward,S.x=r*Math.abs((t.right-C.width-d)/C.width)):!x&&c<=t.left+C.width&&(w.x=Jn.Backward,S.x=r*Math.abs((t.left+C.width-c)/C.width)),{direction:w,speed:S}}function c6(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function hk(e){return e.reduce((t,n)=>ic(t,Vv(n)),Us)}function u6(e){return e.reduce((t,n)=>t+uk(n),0)}function d6(e){return e.reduce((t,n)=>t+dk(n),0)}function pk(e,t){if(t===void 0&&(t=Nc),!e)return;const{top:n,left:r,bottom:o,right:l}=t(e);ck(e)&&(o<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const f6=[["x",["left","right"],u6],["y",["top","bottom"],d6]];class ty{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Th(n),o=hk(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,d]of f6)for(const f of c)Object.defineProperty(this,f,{get:()=>{const p=d(r),g=o[l]-p;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function m6(e){const{EventTarget:t}=Sr(e);return e instanceof t?e:Ec(e)}function Lx(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var bs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(bs||(bs={}));function sj(e){e.preventDefault()}function h6(e){e.stopPropagation()}var Nt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Nt||(Nt={}));const gk={start:[Nt.Space,Nt.Enter],cancel:[Nt.Esc],end:[Nt.Space,Nt.Enter,Nt.Tab]},p6=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Nt.Right:return{...n,x:n.x+25};case Nt.Left:return{...n,x:n.x-25};case Nt.Down:return{...n,y:n.y+25};case Nt.Up:return{...n,y:n.y-25}}};class ny{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Gu(Ec(n)),this.windowListeners=new Gu(Sr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(bs.Resize,this.handleCancel),this.windowListeners.add(bs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(bs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&pk(r),n(Us)}handleKeyDown(t){if(Oh(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:l=gk,coordinateGetter:c=p6,scrollBehavior:d="smooth"}=o,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:Us;this.referenceCoordinates||(this.referenceCoordinates=g);const x=c(t,{active:n,context:r.current,currentCoordinates:g});if(x){const b=rd(x,g),w={x:0,y:0},{scrollableAncestors:S}=r.current;for(const C of S){const j=t.code,{isTop:E,isRight:N,isLeft:_,isBottom:R,maxScroll:M,minScroll:D}=mk(C),O=c6(C),A={x:Math.min(j===Nt.Right?O.right-O.width/2:O.right,Math.max(j===Nt.Right?O.left:O.left+O.width/2,x.x)),y:Math.min(j===Nt.Down?O.bottom-O.height/2:O.bottom,Math.max(j===Nt.Down?O.top:O.top+O.height/2,x.y))},L=j===Nt.Right&&!N||j===Nt.Left&&!_,T=j===Nt.Down&&!R||j===Nt.Up&&!E;if(L&&A.x!==x.x){const W=C.scrollLeft+b.x,I=j===Nt.Right&&W<=M.x||j===Nt.Left&&W>=D.x;if(I&&!b.y){C.scrollTo({left:W,behavior:d});return}I?w.x=C.scrollLeft-W:w.x=j===Nt.Right?C.scrollLeft-M.x:C.scrollLeft-D.x,w.x&&C.scrollBy({left:-w.x,behavior:d});break}else if(T&&A.y!==x.y){const W=C.scrollTop+b.y,I=j===Nt.Down&&W<=M.y||j===Nt.Up&&W>=D.y;if(I&&!b.x){C.scrollTo({top:W,behavior:d});return}I?w.y=C.scrollTop-W:w.y=j===Nt.Down?C.scrollTop-M.y:C.scrollTop-D.y,w.y&&C.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(t,ic(rd(x,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ny.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=gk,onActivation:o}=t,{active:l}=n;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function oj(e){return!!(e&&"distance"in e)}function aj(e){return!!(e&&"delay"in e)}class ry{constructor(t,n,r){var o;r===void 0&&(r=m6(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:c}=l;this.props=t,this.events=n,this.document=Ec(c),this.documentListeners=new Gu(this.document),this.listeners=new Gu(r),this.windowListeners=new Gu(Sr(c)),this.initialCoordinates=(o=th(l))!=null?o:Us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(bs.Resize,this.handleCancel),this.windowListeners.add(bs.DragStart,sj),this.windowListeners.add(bs.VisibilityChange,this.handleCancel),this.windowListeners.add(bs.ContextMenu,sj),this.documentListeners.add(bs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aj(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(oj(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(bs.Click,h6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(bs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:l}=this,{onMove:c,options:{activationConstraint:d}}=l;if(!o)return;const f=(n=th(t))!=null?n:Us,p=rd(o,f);if(!r&&d){if(oj(d)){if(d.tolerance!=null&&Lx(p,d.tolerance))return this.handleCancel();if(Lx(p,d.distance))return this.handleStart()}if(aj(d)&&Lx(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}t.cancelable&&t.preventDefault(),c(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Nt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const g6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sy extends ry{constructor(t){const{event:n}=t,r=Ec(n.target);super(t,g6,r)}}sy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const x6={move:{name:"mousemove"},end:{name:"mouseup"}};var Hv;(function(e){e[e.RightClick=2]="RightClick"})(Hv||(Hv={}));class xk extends ry{constructor(t){super(t,x6,Ec(t.event.target))}}xk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Hv.RightClick?!1:(r?.({event:n}),!0)}}];const $x={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vk extends ry{constructor(t){super(t,$x)}static setup(){return window.addEventListener($x.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener($x.move.name,t)};function t(){}}}vk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Yu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yu||(Yu={}));var rh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(rh||(rh={}));function v6(e){let{acceleration:t,activator:n=Yu.Pointer,canScroll:r,draggingRect:o,enabled:l,interval:c=5,order:d=rh.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:g,delta:x,threshold:b}=e;const w=y6({delta:x,disabled:!l}),[S,C]=P5(),j=m.useRef({x:0,y:0}),E=m.useRef({x:0,y:0}),N=m.useMemo(()=>{switch(n){case Yu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Yu.DraggableRect:return o}},[n,o,f]),_=m.useRef(null),R=m.useCallback(()=>{const D=_.current;if(!D)return;const O=j.current.x*E.current.x,A=j.current.y*E.current.y;D.scrollBy(O,A)},[]),M=m.useMemo(()=>d===rh.TreeOrder?[...p].reverse():p,[d,p]);m.useEffect(()=>{if(!l||!p.length||!N){C();return}for(const D of M){if(r?.(D)===!1)continue;const O=p.indexOf(D),A=g[O];if(!A)continue;const{direction:L,speed:T}=l6(D,A,N,t,b);for(const W of["x","y"])w[W][L[W]]||(T[W]=0,L[W]=0);if(T.x>0||T.y>0){C(),_.current=D,S(R,c),j.current=T,E.current=L;return}}j.current={x:0,y:0},E.current={x:0,y:0},C()},[t,R,r,C,l,c,JSON.stringify(N),JSON.stringify(w),S,p,M,g,JSON.stringify(b)])}const b6={x:{[Jn.Backward]:!1,[Jn.Forward]:!1},y:{[Jn.Backward]:!1,[Jn.Forward]:!1}};function y6(e){let{delta:t,disabled:n}=e;const r=eh(t);return Sd(o=>{if(n||!r||!o)return b6;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Jn.Backward]:o.x[Jn.Backward]||l.x===-1,[Jn.Forward]:o.x[Jn.Forward]||l.x===1},y:{[Jn.Backward]:o.y[Jn.Backward]||l.y===-1,[Jn.Forward]:o.y[Jn.Forward]||l.y===1}}},[n,t,r])}function w6(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Sd(o=>{var l;return t==null?null:(l=r??o)!=null?l:null},[r,t])}function S6(e,t){return m.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,l=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...n,...l]},[]),[e,t])}var sd;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(sd||(sd={}));var qv;(function(e){e.Optimized="optimized"})(qv||(qv={}));const ij=new Map;function C6(e,t){let{dragging:n,dependencies:r,config:o}=t;const[l,c]=m.useState(null),{frequency:d,measure:f,strategy:p}=o,g=m.useRef(e),x=j(),b=nd(x),w=m.useCallback(function(E){E===void 0&&(E=[]),!b.current&&c(N=>N===null?E:N.concat(E.filter(_=>!N.includes(_))))},[b]),S=m.useRef(null),C=Sd(E=>{if(x&&!n)return ij;if(!E||E===ij||g.current!==e||l!=null){const N=new Map;for(let _ of e){if(!_)continue;if(l&&l.length>0&&!l.includes(_.id)&&_.rect.current){N.set(_.id,_.rect.current);continue}const R=_.node.current,M=R?new ty(f(R),R):null;_.rect.current=M,M&&N.set(_.id,M)}return N}return E},[e,l,n,x,f]);return m.useEffect(()=>{g.current=e},[e]),m.useEffect(()=>{x||w()},[n,x]),m.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),m.useEffect(()=>{x||typeof d!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},d))},[d,x,w,...r]),{droppableRects:C,measureDroppableContainers:w,measuringScheduled:l!=null};function j(){switch(p){case sd.Always:return!1;case sd.BeforeDragging:return n;default:return!n}}}function oy(e,t){return Sd(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function j6(e,t){return oy(e,t)}function E6(e){let{callback:t,disabled:n}=e;const r=Ah(t),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return m.useEffect(()=>()=>o?.disconnect(),[o]),o}function zh(e){let{callback:t,disabled:n}=e;const r=Ah(t),o=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return m.useEffect(()=>()=>o?.disconnect(),[o]),o}function N6(e){return new ty(Nc(e),e)}function lj(e,t,n){t===void 0&&(t=N6);const[r,o]=m.useState(null);function l(){o(f=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=f??n)!=null?p:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const c=E6({callback(f){if(e)for(const p of f){const{type:g,target:x}=p;if(g==="childList"&&x instanceof HTMLElement&&x.contains(e)){l();break}}}}),d=zh({callback:l});return Fs(()=>{l(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function _6(e){const t=oy(e);return ik(e,t)}const cj=[];function k6(e){const t=m.useRef(e),n=Sd(r=>e?r&&r!==cj&&e&&t.current&&e.parentNode===t.current.parentNode?r:Th(e):cj,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function R6(e){const[t,n]=m.useState(null),r=m.useRef(e),o=m.useCallback(l=>{const c=Ix(l.target);c&&n(d=>d?(d.set(c,Vv(c)),new Map(d)):null)},[]);return m.useEffect(()=>{const l=r.current;if(e!==l){c(l);const d=e.map(f=>{const p=Ix(f);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,Vv(p)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(l)};function c(d){d.forEach(f=>{const p=Ix(f);p?.removeEventListener("scroll",o)})}},[o,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,c)=>ic(l,c),Us):hk(e):Us,[e,t])}function uj(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const r=e!==Us;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?rd(e,n.current):Us}function M6(e){m.useEffect(()=>{if(!Dh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function D6(e,t){return m.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:l}=r;return n[o]=c=>{l(c,t)},n},{}),[e,t])}function bk(e){return m.useMemo(()=>e?s6(e):null,[e])}const dj=[];function A6(e,t){t===void 0&&(t=Nc);const[n]=e,r=bk(n?Sr(n):null),[o,l]=m.useState(dj);function c(){l(()=>e.length?e.map(f=>fk(f)?r:new ty(t(f),f)):dj)}const d=zh({callback:c});return Fs(()=>{d?.disconnect(),c(),e.forEach(f=>d?.observe(f))},[e]),o}function yk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wd(t)?t:e}function O6(e){let{measure:t}=e;const[n,r]=m.useState(null),o=m.useCallback(p=>{for(const{target:g}of p)if(wd(g)){r(x=>{const b=t(g);return x?{...x,width:b.width,height:b.height}:b});break}},[t]),l=zh({callback:o}),c=m.useCallback(p=>{const g=yk(p);l?.disconnect(),g&&l?.observe(g),r(g?t(g):null)},[t,l]),[d,f]=Jm(c);return m.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const T6=[{sensor:sy,options:{}},{sensor:ny,options:{}}],z6={current:{}},km={draggable:{measure:rj},droppable:{measure:rj,strategy:sd.WhileDragging,frequency:qv.Optimized},dragOverlay:{measure:Nc}};class Ku extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const P6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ku,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:km,measureDroppableContainers:nh,windowRect:null,measuringScheduled:!1},wk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nh,draggableNodes:new Map,over:null,measureDroppableContainers:nh},jd=m.createContext(wk),Sk=m.createContext(P6);function I6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ku}}}function L6(e,t){switch(t.type){case Hn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Hn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Hn.DragEnd:case Hn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hn.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ku(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Hn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const c=new Ku(e.droppable.containers);return c.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Hn.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Ku(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function $6(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=m.useContext(jd),l=eh(r),c=eh(n?.id);return m.useEffect(()=>{if(!t&&!r&&l&&c!=null){if(!Oh(l)||document.activeElement===l.target)return;const d=o.get(c);if(!d)return;const{activatorNode:f,node:p}=d;if(!f.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[f.current,p.current]){if(!g)continue;const x=$5(g);if(x){x.focus();break}}})}},[r,t,o,c,l]),null}function Ck(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...r}),n):n}function F6(e){return m.useMemo(()=>({draggable:{...km.draggable,...e?.draggable},droppable:{...km.droppable,...e?.droppable},dragOverlay:{...km.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function U6(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const l=m.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Fs(()=>{if(!c&&!d||!t){l.current=!1;return}if(l.current||!r)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),x=ik(g,r);if(c||(x.x=0),d||(x.y=0),l.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const b=ck(p);b&&b.scrollBy({top:x.y,left:x.x})}},[t,c,d,r,n])}const Ph=m.createContext({...Us,scaleX:1,scaleY:1});var Pa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Pa||(Pa={}));const jk=m.memo(function(t){var n,r,o,l;let{id:c,accessibility:d,autoScroll:f=!0,children:p,sensors:g=T6,collisionDetection:x=X5,measuring:b,modifiers:w,...S}=t;const C=m.useReducer(L6,void 0,I6),[j,E]=C,[N,_]=q5(),[R,M]=m.useState(Pa.Uninitialized),D=R===Pa.Initialized,{draggable:{active:O,nodes:A,translate:L},droppable:{containers:T}}=j,W=O!=null?A.get(O):null,I=m.useRef({initial:null,translated:null}),F=m.useMemo(()=>{var Fe;return O!=null?{id:O,data:(Fe=W?.data)!=null?Fe:z6,rect:I}:null},[O,W]),U=m.useRef(null),[ae,P]=m.useState(null),[q,K]=m.useState(null),te=nd(S,Object.values(S)),ve=Cd("DndDescribedBy",c),V=m.useMemo(()=>T.getEnabled(),[T]),B=F6(b),{droppableRects:re,measureDroppableContainers:Y,measuringScheduled:z}=C6(V,{dragging:D,dependencies:[L.x,L.y],config:B.droppable}),G=w6(A,O),H=m.useMemo(()=>q?th(q):null,[q]),ee=Ie(),oe=j6(G,B.draggable.measure);U6({activeNode:O!=null?A.get(O):null,config:ee.layoutShiftCompensation,initialRect:oe,measure:B.draggable.measure});const le=lj(G,B.draggable.measure,oe),de=lj(G?G.parentElement:null),Ee=m.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Oe=T.getNodeFor((n=Ee.current.over)==null?void 0:n.id),Pe=O6({measure:B.dragOverlay.measure}),ot=(r=Pe.nodeRef.current)!=null?r:G,xt=D?(o=Pe.rect)!=null?o:le:null,ct=!!(Pe.nodeRef.current&&Pe.rect),sn=_6(ct?null:le),_t=bk(ot?Sr(ot):null),Q=k6(D?Oe??G:null),Z=A6(Q),ue=Ck(w,{transform:{x:L.x-sn.x,y:L.y-sn.y,scaleX:1,scaleY:1},activatorEvent:q,active:F,activeNodeRect:le,containerNodeRect:de,draggingNodeRect:xt,over:Ee.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:Q,scrollableAncestorRects:Z,windowRect:_t}),De=H?ic(H,L):null,je=R6(Q),ge=uj(je),Me=uj(je,[le]),ye=ic(ue,ge),ne=xt?t6(xt,ue):null,we=F&&ne?x({active:F,collisionRect:ne,droppableRects:re,droppableContainers:V,pointerCoordinates:De}):null,Te=ok(we,"id"),[$e,at]=m.useState(null),ft=ct?ue:ic(ue,Me),Ot=J5(ft,(l=$e?.rect)!=null?l:null,le),Tt=m.useRef(null),Lt=m.useCallback((Fe,it)=>{let{sensor:We,options:pn}=it;if(U.current==null)return;const Sn=A.get(U.current);if(!Sn)return;const Cn=Fe.nativeEvent,gn=new We({active:U.current,activeNode:Sn,event:Cn,options:pn,context:Ee,onAbort(jn){if(!A.get(jn))return;const{onDragAbort:xr}=te.current,lr={id:jn};xr?.(lr),N({type:"onDragAbort",event:lr})},onPending(jn,jr,xr,lr){if(!A.get(jn))return;const{onDragPending:es}=te.current,Er={id:jn,constraint:jr,initialCoordinates:xr,offset:lr};es?.(Er),N({type:"onDragPending",event:Er})},onStart(jn){const jr=U.current;if(jr==null)return;const xr=A.get(jr);if(!xr)return;const{onDragStart:lr}=te.current,Ss={activatorEvent:Cn,active:{id:jr,data:xr.data,rect:I}};Wn.unstable_batchedUpdates(()=>{lr?.(Ss),M(Pa.Initializing),E({type:Hn.DragStart,initialCoordinates:jn,active:jr}),N({type:"onDragStart",event:Ss}),P(Tt.current),K(Cn)})},onMove(jn){E({type:Hn.DragMove,coordinates:jn})},onEnd:Rn(Hn.DragEnd),onCancel:Rn(Hn.DragCancel)});Tt.current=gn;function Rn(jn){return async function(){const{active:xr,collisions:lr,over:Ss,scrollAdjustedTranslate:es}=Ee.current;let Er=null;if(xr&&es){const{cancelDrop:Cs}=te.current;Er={activatorEvent:Cn,active:xr,collisions:lr,delta:es,over:Ss},jn===Hn.DragEnd&&typeof Cs=="function"&&await Promise.resolve(Cs(Er))&&(jn=Hn.DragCancel)}U.current=null,Wn.unstable_batchedUpdates(()=>{E({type:jn}),M(Pa.Uninitialized),at(null),P(null),K(null),Tt.current=null;const Cs=jn===Hn.DragEnd?"onDragEnd":"onDragCancel";if(Er){const tr=te.current[Cs];tr?.(Er),N({type:Cs,event:Er})}})}}},[A]),cn=m.useCallback((Fe,it)=>(We,pn)=>{const Sn=We.nativeEvent,Cn=A.get(pn);if(U.current!==null||!Cn||Sn.dndKit||Sn.defaultPrevented)return;const gn={active:Cn};Fe(We,it.options,gn)===!0&&(Sn.dndKit={capturedBy:it.sensor},U.current=pn,Lt(We,it))},[A,Lt]),gr=S6(g,cn);M6(g),Fs(()=>{le&&R===Pa.Initializing&&M(Pa.Initialized)},[le,R]),m.useEffect(()=>{const{onDragMove:Fe}=te.current,{active:it,activatorEvent:We,collisions:pn,over:Sn}=Ee.current;if(!it||!We)return;const Cn={active:it,activatorEvent:We,collisions:pn,delta:{x:ye.x,y:ye.y},over:Sn};Wn.unstable_batchedUpdates(()=>{Fe?.(Cn),N({type:"onDragMove",event:Cn})})},[ye.x,ye.y]),m.useEffect(()=>{const{active:Fe,activatorEvent:it,collisions:We,droppableContainers:pn,scrollAdjustedTranslate:Sn}=Ee.current;if(!Fe||U.current==null||!it||!Sn)return;const{onDragOver:Cn}=te.current,gn=pn.get(Te),Rn=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,jn={active:Fe,activatorEvent:it,collisions:We,delta:{x:Sn.x,y:Sn.y},over:Rn};Wn.unstable_batchedUpdates(()=>{at(Rn),Cn?.(jn),N({type:"onDragOver",event:jn})})},[Te]),Fs(()=>{Ee.current={activatorEvent:q,active:F,activeNode:G,collisionRect:ne,collisions:we,droppableRects:re,draggableNodes:A,draggingNode:ot,draggingNodeRect:xt,droppableContainers:T,over:$e,scrollableAncestors:Q,scrollAdjustedTranslate:ye},I.current={initial:xt,translated:ne}},[F,G,we,ne,A,ot,xt,re,T,$e,Q,ye]),v6({...ee,delta:L,draggingRect:ne,pointerCoordinates:De,scrollableAncestors:Q,scrollableAncestorRects:Z});const ce=m.useMemo(()=>({active:F,activeNode:G,activeNodeRect:le,activatorEvent:q,collisions:we,containerNodeRect:de,dragOverlay:Pe,draggableNodes:A,droppableContainers:T,droppableRects:re,over:$e,measureDroppableContainers:Y,scrollableAncestors:Q,scrollableAncestorRects:Z,measuringConfiguration:B,measuringScheduled:z,windowRect:_t}),[F,G,le,q,we,de,Pe,A,T,re,$e,Y,Q,Z,B,z,_t]),Ae=m.useMemo(()=>({activatorEvent:q,activators:gr,active:F,activeNodeRect:le,ariaDescribedById:{draggable:ve},dispatch:E,draggableNodes:A,over:$e,measureDroppableContainers:Y}),[q,gr,F,le,E,ve,A,$e,Y]);return _e.createElement(tk.Provider,{value:_},_e.createElement(jd.Provider,{value:Ae},_e.createElement(Sk.Provider,{value:ce},_e.createElement(Ph.Provider,{value:Ot},p)),_e.createElement($6,{disabled:d?.restoreFocus===!1})),_e.createElement(Y5,{...d,hiddenTextDescribedById:ve}));function Ie(){const Fe=ae?.autoScrollEnabled===!1,it=typeof f=="object"?f.enabled===!1:f===!1,We=D&&!Fe&&!it;return typeof f=="object"?{...f,enabled:We}:{enabled:We}}}),B6=m.createContext(null),fj="button",V6="Draggable";function H6(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const l=Cd(V6),{activators:c,activatorEvent:d,active:f,activeNodeRect:p,ariaDescribedById:g,draggableNodes:x,over:b}=m.useContext(jd),{role:w=fj,roleDescription:S="draggable",tabIndex:C=0}=o??{},j=f?.id===t,E=m.useContext(j?Ph:B6),[N,_]=Jm(),[R,M]=Jm(),D=D6(c,t),O=nd(n);Fs(()=>(x.set(t,{id:t,key:l,node:N,activatorNode:R,data:O}),()=>{const L=x.get(t);L&&L.key===l&&x.delete(t)}),[x,t]);const A=m.useMemo(()=>({role:w,tabIndex:C,"aria-disabled":r,"aria-pressed":j&&w===fj?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[r,w,C,j,S,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:p,attributes:A,isDragging:j,listeners:r?void 0:D,node:N,over:b,setNodeRef:_,setActivatorNodeRef:M,transform:E}}function Ek(){return m.useContext(Sk)}const q6="Droppable",W6={timeout:25};function G6(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const l=Cd(q6),{active:c,dispatch:d,over:f,measureDroppableContainers:p}=m.useContext(jd),g=m.useRef({disabled:n}),x=m.useRef(!1),b=m.useRef(null),w=m.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:j}={...W6,...o},E=nd(C??r),N=m.useCallback(()=>{if(!x.current){x.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(E.current)?E.current:[E.current]),w.current=null},j)},[j]),_=zh({callback:N,disabled:S||!c}),R=m.useCallback((A,L)=>{_&&(L&&(_.unobserve(L),x.current=!1),A&&_.observe(A))},[_]),[M,D]=Jm(R),O=nd(t);return m.useEffect(()=>{!_||!M.current||(_.disconnect(),x.current=!1,_.observe(M.current))},[M,_]),m.useEffect(()=>(d({type:Hn.RegisterDroppable,element:{id:r,key:l,disabled:n,node:M,rect:b,data:O}}),()=>d({type:Hn.UnregisterDroppable,key:l,id:r})),[r]),m.useEffect(()=>{n!==g.current.disabled&&(d({type:Hn.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,d]),{active:c,rect:b,isOver:f?.id===r,node:M,over:f,setNodeRef:D}}function Y6(e){let{animation:t,children:n}=e;const[r,o]=m.useState(null),[l,c]=m.useState(null),d=eh(n);return!n&&!r&&d&&o(d),Fs(()=>{if(!l)return;const f=r?.key,p=r?.props.id;if(f==null||p==null){o(null);return}Promise.resolve(t(p,l)).then(()=>{o(null)})},[t,r,l]),_e.createElement(_e.Fragment,null,n,r?m.cloneElement(r,{ref:c}):null)}const K6={x:0,y:0,scaleX:1,scaleY:1};function Z6(e){let{children:t}=e;return _e.createElement(jd.Provider,{value:wk},_e.createElement(Ph.Provider,{value:K6},t))}const Q6={position:"fixed",touchAction:"none"},X6=e=>Oh(e)?"transform 250ms ease":void 0,J6=m.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:l,className:c,rect:d,style:f,transform:p,transition:g=X6}=e;if(!d)return null;const x=o?p:{...p,scaleX:1,scaleY:1},b={...Q6,width:d.width,height:d.height,top:d.top,left:d.left,transform:Wo.Transform.toString(x),transformOrigin:o&&r?K5(r,d):void 0,transition:typeof g=="function"?g(r):g,...f};return _e.createElement(n,{className:c,style:b,ref:t},l)}),Nk=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:l,className:c}=e;if(l!=null&&l.active)for(const[d,f]of Object.entries(l.active))f!==void 0&&(o[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,f));if(l!=null&&l.dragOverlay)for(const[d,f]of Object.entries(l.dragOverlay))f!==void 0&&r.node.style.setProperty(d,f);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[f,p]of Object.entries(o))n.node.style.setProperty(f,p);c!=null&&c.active&&n.node.classList.remove(c.active)}},eU=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Wo.Transform.toString(t)},{transform:Wo.Transform.toString(n)}]},tU={duration:250,easing:"ease",keyframes:eU,sideEffects:Nk({styles:{active:{opacity:"0"}}})};function nU(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Ah((l,c)=>{if(t===null)return;const d=n.get(l);if(!d)return;const f=d.node.current;if(!f)return;const p=yk(c);if(!p)return;const{transform:g}=Sr(c).getComputedStyle(c),x=lk(g);if(!x)return;const b=typeof t=="function"?t:rU(t);return pk(f,o.draggable.measure),b({active:{id:l,data:d.data,node:f,rect:o.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:c,rect:o.dragOverlay.measure(p)},droppableContainers:r,measuringConfiguration:o,transform:x})})}function rU(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...tU,...e};return l=>{let{active:c,dragOverlay:d,transform:f,...p}=l;if(!t)return;const g={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},x={scaleX:f.scaleX!==1?c.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?c.rect.height*f.scaleY/d.rect.height:1},b={x:f.x-g.x,y:f.y-g.y,...x},w=o({...p,active:c,dragOverlay:d,transform:{initial:f,final:b}}),[S]=w,C=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(C))return;const j=r?.({active:c,dragOverlay:d,...p}),E=d.node.animate(w,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{E.onfinish=()=>{j?.(),N()}})}}let mj=0;function sU(e){return m.useMemo(()=>{if(e!=null)return mj++,mj},[e])}const oU=_e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:l,modifiers:c,wrapperElement:d="div",className:f,zIndex:p=999}=e;const{activatorEvent:g,active:x,activeNodeRect:b,containerNodeRect:w,draggableNodes:S,droppableContainers:C,dragOverlay:j,over:E,measuringConfiguration:N,scrollableAncestors:_,scrollableAncestorRects:R,windowRect:M}=Ek(),D=m.useContext(Ph),O=sU(x?.id),A=Ck(c,{activatorEvent:g,active:x,activeNodeRect:b,containerNodeRect:w,draggingNodeRect:j.rect,over:E,overlayNodeRect:j.rect,scrollableAncestors:_,scrollableAncestorRects:R,transform:D,windowRect:M}),L=oy(b),T=nU({config:r,draggableNodes:S,droppableContainers:C,measuringConfiguration:N}),W=L?j.setRef:void 0;return _e.createElement(Z6,null,_e.createElement(Y6,{animation:T},x&&O?_e.createElement(J6,{key:O,id:x.id,ref:W,as:d,activatorEvent:g,adjustScale:t,className:f,transition:l,rect:L,style:{zIndex:p,...o},transform:A},n):null))});function ay(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function aU(e,t){return e.reduce((n,r,o)=>{const l=t.get(r);return l&&(n[o]=l),n},Array(e.length))}function fm(e){return e!==null&&e>=0}function iU(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lU(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const mm={scaleX:1,scaleY:1},_k=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:l,index:c}=e;const d=(t=n[o])!=null?t:r;if(!d)return null;const f=cU(n,c,o);if(c===o){const p=n[l];return p?{x:o<l?p.left+p.width-(d.left+d.width):p.left-d.left,y:0,...mm}:null}return c>o&&c<=l?{x:-d.width-f,y:0,...mm}:c<o&&c>=l?{x:d.width+f,y:0,...mm}:{x:0,y:0,...mm}};function cU(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return!r||!o&&!l?0:n<t?o?r.left-(o.left+o.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(o.left+o.width)}const kk=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const l=ay(t,r,n),c=t[o],d=l[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},hm={scaleX:1,scaleY:1},uU=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:l,overIndex:c}=e;const d=(t=l[n])!=null?t:r;if(!d)return null;if(o===n){const p=l[c];return p?{x:0,y:n<c?p.top+p.height-(d.top+d.height):p.top-d.top,...hm}:null}const f=dU(l,o,n);return o>n&&o<=c?{x:0,y:-d.height-f,...hm}:o<n&&o>=c?{x:0,y:d.height+f,...hm}:{x:0,y:0,...hm}};function dU(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return r?n<t?o?r.top-(o.top+o.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Rk="Sortable",Mk=_e.createContext({activeIndex:-1,containerId:Rk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kk,disabled:{draggable:!1,droppable:!1}});function Dk(e){let{children:t,id:n,items:r,strategy:o=kk,disabled:l=!1}=e;const{active:c,dragOverlay:d,droppableRects:f,over:p,measureDroppableContainers:g}=Ek(),x=Cd(Rk,n),b=d.rect!==null,w=m.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),S=c!=null,C=c?w.indexOf(c.id):-1,j=p?w.indexOf(p.id):-1,E=m.useRef(w),N=!iU(w,E.current),_=j!==-1&&C===-1||N,R=lU(l);Fs(()=>{N&&S&&g(w)},[N,w,S,g]),m.useEffect(()=>{E.current=w},[w]);const M=m.useMemo(()=>({activeIndex:C,containerId:x,disabled:R,disableTransforms:_,items:w,overIndex:j,useDragOverlay:b,sortedRects:aU(w,f),strategy:o}),[C,x,R.draggable,R.droppable,_,w,j,f,b,o]);return _e.createElement(Mk.Provider,{value:M},t)}const fU=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return ay(n,r,o).indexOf(t)},mU=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:l,newIndex:c,previousItems:d,previousContainerId:f,transition:p}=e;return!p||!r||d!==l&&o===c?!1:n?!0:c!==o&&t===f},hU={duration:200,easing:"ease"},Ak="transform",pU=Wo.Transition.toString({property:Ak,duration:0,easing:"linear"}),gU={roleDescription:"sortable"};function xU(e){let{disabled:t,index:n,node:r,rect:o}=e;const[l,c]=m.useState(null),d=m.useRef(n);return Fs(()=>{if(!t&&n!==d.current&&r.current){const f=o.current;if(f){const p=Nc(r.current,{ignoreTransform:!0}),g={x:f.left-p.left,y:f.top-p.top,scaleX:f.width/p.width,scaleY:f.height/p.height};(g.x||g.y)&&c(g)}}n!==d.current&&(d.current=n)},[t,n,r,o]),m.useEffect(()=>{l&&c(null)},[l]),l}function Ok(e){let{animateLayoutChanges:t=mU,attributes:n,disabled:r,data:o,getNewIndex:l=fU,id:c,strategy:d,resizeObserverConfig:f,transition:p=hU}=e;const{items:g,containerId:x,activeIndex:b,disabled:w,disableTransforms:S,sortedRects:C,overIndex:j,useDragOverlay:E,strategy:N}=m.useContext(Mk),_=vU(r,w),R=g.indexOf(c),M=m.useMemo(()=>({sortable:{containerId:x,index:R,items:g},...o}),[x,o,R,g]),D=m.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:O,node:A,isOver:L,setNodeRef:T}=G6({id:c,data:M,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...f}}),{active:W,activatorEvent:I,activeNodeRect:F,attributes:U,setNodeRef:ae,listeners:P,isDragging:q,over:K,setActivatorNodeRef:te,transform:ve}=H6({id:c,data:M,attributes:{...gU,...n},disabled:_.draggable}),V=z5(T,ae),B=!!W,re=B&&!S&&fm(b)&&fm(j),Y=!E&&q,z=Y&&re?ve:null,H=re?z??(d??N)({rects:C,activeNodeRect:F,activeIndex:b,overIndex:j,index:R}):null,ee=fm(b)&&fm(j)?l({id:c,items:g,activeIndex:b,overIndex:j}):R,oe=W?.id,le=m.useRef({activeId:oe,items:g,newIndex:ee,containerId:x}),de=g!==le.current.items,Ee=t({active:W,containerId:x,isDragging:q,isSorting:B,id:c,index:R,items:g,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:p,wasDragging:le.current.activeId!=null}),Oe=xU({disabled:!Ee,index:R,node:A,rect:O});return m.useEffect(()=>{B&&le.current.newIndex!==ee&&(le.current.newIndex=ee),x!==le.current.containerId&&(le.current.containerId=x),g!==le.current.items&&(le.current.items=g)},[B,ee,x,g]),m.useEffect(()=>{if(oe===le.current.activeId)return;if(oe!=null&&le.current.activeId==null){le.current.activeId=oe;return}const ot=setTimeout(()=>{le.current.activeId=oe},50);return()=>clearTimeout(ot)},[oe]),{active:W,activeIndex:b,attributes:U,data:M,rect:O,index:R,newIndex:ee,items:g,isOver:L,isSorting:B,isDragging:q,listeners:P,node:A,overIndex:j,over:K,setNodeRef:V,setActivatorNodeRef:te,setDroppableNodeRef:T,setDraggableNodeRef:ae,transform:Oe??H,transition:Pe()};function Pe(){if(Oe||de&&le.current.newIndex===R)return pU;if(!(Y&&!Oh(I)||!p)&&(B||Ee))return Wo.Transition.toString({...p,property:Ak})}}function vU(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function sh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const bU=[Nt.Down,Nt.Right,Nt.Up,Nt.Left],yU=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:l,over:c,scrollableAncestors:d}}=t;if(bU.includes(e.code)){if(e.preventDefault(),!n||!r)return;const f=[];l.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const b=o.get(x.id);if(b)switch(e.code){case Nt.Down:r.top<b.top&&f.push(x);break;case Nt.Up:r.top>b.top&&f.push(x);break;case Nt.Left:r.left>b.left&&f.push(x);break;case Nt.Right:r.left<b.left&&f.push(x);break}});const p=ak({collisionRect:r,droppableRects:o,droppableContainers:f});let g=ok(p,"id");if(g===c?.id&&p.length>1&&(g=p[1].id),g!=null){const x=l.get(n.id),b=l.get(g),w=b?o.get(b.id):null,S=b?.node.current;if(S&&w&&x&&b){const j=Th(S).some((D,O)=>d[O]!==D),E=Tk(x,b),N=wU(x,b),_=j||!E?{x:0,y:0}:{x:N?r.width-w.width:0,y:N?r.height-w.height:0},R={x:w.left,y:w.top};return _.x&&_.y?R:rd(R,_)}}}};function Tk(e,t){return!sh(e)||!sh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function wU(e,t){return!sh(e)||!sh(t)||!Tk(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function SU({tab:e,isActive:t,isDirty:n,draggingId:r,onContextMenu:o,onCloseTab:l,setTabNode:c}){const{attributes:d,listeners:f,setNodeRef:p,transform:g,transition:x,isDragging:b}=Ok({id:e.id}),w={transform:Wo.Transform.toString(g),transition:x},S=b||r===e.id,C=!!e.pinned;return i.jsxs("div",{ref:j=>{p(j),c(e.id,j)},style:w,className:fe("group relative mr-1 flex min-w-0 items-stretch",S&&"opacity-60"),"data-editor-tab":"true",...d,...f,children:[i.jsxs(Xm,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:o,onMouseDown:j=>{j.button===1&&(j.preventDefault(),l(e.id))},className:fe("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",t?"border-border border-b-card bg-card text-foreground shadow-[0_1px_0_rgb(var(--sys-color-shadow)/0.08)]":"border-transparent border-b-border text-muted-foreground hover:border-border hover:bg-card/70 hover:text-foreground",C?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[C?i.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:i.jsx(_z,{filled:t})}):null,i.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-muted-foreground","aria-label":"Loading",children:""}):null,e.status==="error"?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?i.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:i.jsx(Nz,{})}):null,e.saveError?i.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,n?i.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),i.jsx("button",{type:"button",className:fe("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-background",t?"text-muted-foreground hover:bg-muted hover:text-foreground":"text-muted-foreground opacity-0 group-hover:opacity-100 hover:bg-muted hover:text-foreground"),onClick:j=>{j.stopPropagation(),l(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}const eo="h-4 w-4 text-current opacity-80";function CU({currentTab:e,tabs:t,canSaveFiles:n,hasDirtyTabs:r,onCloseTab:o,onCloseOtherTabs:l,onCloseTabsToRight:c,onCloseAllTabs:d,onPinTab:f,onUnpinTab:p,onSaveTab:g,onSaveAllTabs:x}){const b=t.findIndex(_=>_.id===e.id),w=b>=0&&b<t.length-1,S=t.length>1,C=e.status==="ready"&&e.content!==e.initialContent,j=!!g&&n&&C&&!e.saving,E=!!x&&n&&r,N={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:i.jsx(SN,{className:eo}),disabled:!j,shortcut:N.save,onSelect:()=>g?.(e.id)},{id:"save-all",label:"Save All",icon:i.jsx(vz,{className:eo}),disabled:!E,shortcut:N.saveAll,onSelect:()=>x?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?i.jsx(bN,{className:eo}):i.jsx(Mb,{className:eo}),dividerAbove:!0,onSelect:()=>e.pinned?p(e.id):f(e.id)},{id:"close",label:"Close",icon:i.jsx(uo,{className:eo}),dividerAbove:!0,shortcut:N.close,onSelect:()=>o(e.id)},{id:"close-others",label:"Close Others",icon:i.jsx(bz,{className:eo}),disabled:!S,shortcut:N.closeOthers,onSelect:()=>l(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:i.jsx(yz,{className:eo}),disabled:!w,shortcut:N.closeRight,onSelect:()=>c(e.id)},{id:"close-all",label:"Close All",icon:i.jsx(wz,{className:eo}),dividerAbove:!0,disabled:t.length===0,shortcut:N.closeAll,onSelect:()=>d()}]}function jU({pinnedTabs:e,regularTabs:t,activeTabId:n,onSelectTab:r}){if(e.length===0&&t.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const o=[],l=(c,d)=>{const f=c.status==="ready"&&c.content!==c.initialContent,p=[];c.id===n&&p.push("Active"),c.saving?p.push("Saving"):f&&p.push("Unsaved"),o.push({id:`switch-${c.id}`,label:`${c.saving?" ":f?" ":""}${c.name}`,icon:c.pinned?i.jsx(Mb,{className:eo}):i.jsx(yN,{className:eo}),shortcut:p.length>0?p.join("  "):void 0,dividerAbove:d,onSelect:()=>r(c.id)})};return e.forEach(c=>l(c,!1)),t.forEach((c,d)=>l(c,d===0&&e.length>0)),o}const hj=220,pj=64,EU=14;function NU({tabs:e,activeTabId:t,menuAppearance:n,canSaveFiles:r=!1,onSelectTab:o,onCloseTab:l,onCloseOtherTabs:c,onCloseTabsToRight:d,onCloseAllTabs:f,onMoveTab:p,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:w,onTabDragStateChange:S}){const[C,j]=m.useState(null),[E,N]=m.useState(null),[_,R]=m.useState(null),[M,D]=m.useState({left:!1,right:!1}),[O,A]=m.useState(0),L=m.useRef(null),T=m.useRef(null),W=m.useRef(new Map),I=m.useMemo(()=>e.filter(ee=>ee.pinned),[e]),F=m.useMemo(()=>e.filter(ee=>!ee.pinned),[e]),ae=m.useMemo(()=>e.filter(ee=>ee.status==="ready"&&ee.content!==ee.initialContent),[e]).length>0,P=nk(_m(sy,{activationConstraint:{distance:5}})),q="border-border bg-card",K="text-muted-foreground hover:bg-muted hover:text-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",te=m.useCallback((ee,oe)=>{const le=W.current;oe?le.set(ee,oe):le.delete(ee)},[]);m.useEffect(()=>{C&&!e.some(ee=>ee.id===C.tabId)&&j(null),e.length||N(null)},[C,e]);const ve=m.useCallback(ee=>{R(String(ee.active.id)),S?.(!0)},[S]),V=m.useCallback(ee=>{const oe=ee.active.id,le=ee.over?.id;if(le&&oe!==le){const de=e.findIndex(Oe=>Oe.id===oe),Ee=e.findIndex(Oe=>Oe.id===le);if(de!==-1&&Ee!==-1){const Oe=de<Ee?Ee+1:Ee;p(String(oe),Oe)}}R(null),S?.(!1)},[p,S,e]),B=m.useCallback(()=>{R(null),S?.(!1)},[S]),re=m.useCallback(()=>{const ee=L.current;if(!ee){D({left:!1,right:!1});return}const{scrollLeft:oe,scrollWidth:le,clientWidth:de}=ee;D({left:oe>2,right:oe+de<le-2})},[]);m.useEffect(()=>{const ee=L.current;if(!ee){D({left:!1,right:!1});return}re();const oe=()=>re();ee.addEventListener("scroll",oe),window.addEventListener("resize",re);const le=typeof ResizeObserver<"u"?new ResizeObserver(re):null;return le?.observe(ee),()=>{ee.removeEventListener("scroll",oe),window.removeEventListener("resize",re),le?.disconnect()}},[e.length,re]),m.useEffect(()=>{if(!_){A(0);return}const ee=oe=>{const le=L.current;if(!le){A(0);return}const de=le.getBoundingClientRect();oe.clientX<de.left+pj?A(-1):oe.clientX>de.right-pj?A(1):A(0)};return window.addEventListener("pointermove",ee),()=>{window.removeEventListener("pointermove",ee),A(0)}},[_]),m.useEffect(()=>{if(!_||O===0)return;let ee;const oe=()=>{const le=L.current;le&&(le.scrollBy({left:O*EU}),ee=window.requestAnimationFrame(oe))};return ee=window.requestAnimationFrame(oe),()=>window.cancelAnimationFrame(ee)},[O,_]),m.useEffect(()=>{W.current.get(t)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[t,e.length]);const Y=m.useMemo(()=>{if(!C)return[];const ee=e.find(oe=>oe.id===C.tabId);return ee?CU({currentTab:ee,tabs:e,canSaveFiles:r,hasDirtyTabs:ae,onCloseTab:l,onCloseOtherTabs:c,onCloseTabsToRight:d,onCloseAllTabs:f,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:w}):[]},[r,C,ae,f,c,l,d,g,w,b,x,e]),z=m.useMemo(()=>jU({pinnedTabs:I,regularTabs:F,activeTabId:t,onSelectTab:o}),[I,F,t,o]),G=m.useCallback(ee=>{L.current?.scrollBy({left:ee,behavior:"smooth"})},[]),H=m.useCallback(()=>{const ee=T.current?.getBoundingClientRect();ee&&N({x:ee.left,y:ee.bottom+6})},[]);return i.jsxs(i.Fragment,{children:[i.jsx(jk,{sensors:P,collisionDetection:Bv,onDragStart:ve,onDragEnd:V,onDragCancel:B,children:i.jsx(Dk,{items:e.map(ee=>ee.id),strategy:_k,children:i.jsxs("div",{className:fe("flex items-center gap-1 px-1",q,"border-b"),children:[i.jsx(gj,{appearance:n,direction:"left",disabled:!M.left,onClick:()=>G(-hj)}),i.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[M.left?i.jsx(xj,{position:"left",appearance:n}):null,M.right?i.jsx(xj,{position:"right",appearance:n}):null,i.jsx("div",{ref:L,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:ee=>{Math.abs(ee.deltaY)>Math.abs(ee.deltaX)&&(ee.preventDefault(),L.current?.scrollBy({left:ee.deltaY}))},children:i.jsx(Xb,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(ee=>{const oe=ee.status==="ready"&&ee.content!==ee.initialContent,le=ee.id===t;return i.jsx(SU,{tab:ee,isActive:le,isDirty:oe,draggingId:_,setTabNode:te,onContextMenu:de=>{de.preventDefault(),j({tabId:ee.id,x:de.clientX,y:de.clientY})},onCloseTab:l},ee.id)})})})]}),i.jsx(gj,{appearance:n,direction:"right",disabled:!M.right,onClick:()=>G(hj)}),i.jsx("button",{ref:T,type:"button",className:fe("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",K),"aria-label":"Open editors list",onClick:H,children:i.jsx(Zi,{className:"h-4 w-4"})})]})})}),i.jsx(qo,{open:!!C,position:C&&{x:C.x,y:C.y},onClose:()=>j(null),items:Y,appearance:n}),i.jsx(qo,{open:!!E,position:E,onClose:()=>N(null),items:z,appearance:n})]})}function gj({appearance:e,direction:t,disabled:n,onClick:r}){return i.jsx("button",{type:"button",className:fe("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none","text-muted-foreground",n?"cursor-default opacity-30":"hover:bg-muted hover:text-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card"),onClick:r,disabled:n,"aria-label":t==="left"?"Scroll tabs left":"Scroll tabs right",children:t==="left"?i.jsx(HT,{className:"h-4 w-4"}):i.jsx(qT,{className:"h-4 w-4"})})}function xj({position:e,appearance:t}){const n=e==="left"?"left-0 bg-gradient-to-r from-card via-card/80 to-transparent":"right-0 bg-gradient-to-l from-card via-card/80 to-transparent";return i.jsx("div",{className:fe("pointer-events-none absolute top-0 bottom-0 w-8",n)})}function _U({tabs:e,activeTabId:t,onSelectTab:n,onCloseTab:r,onCloseOtherTabs:o,onCloseTabsToRight:l,onCloseAllTabs:c,onMoveTab:d,onPinTab:f,onUnpinTab:p,onContentChange:g,onSaveTab:x,onSaveAllTabs:b,onSelectRecentTab:w,editorTheme:S,menuAppearance:C,canSaveFiles:j=!1,readOnly:E=!1,minHeight:N,onRetryTabLoad:_}){const R=e.length>0,M=m.useRef(null),[D,O]=m.useState(!1),A=m.useMemo(()=>e.find(L=>L.id===t)??null,[e,t]);return!R||!A?i.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-muted-foreground",children:"Select a file from the explorer to begin editing."}):i.jsxs("div",{ref:M,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:N?{minHeight:N}:void 0,"data-editor-area":!0,children:[i.jsx(D5,{containerRef:M,tabs:e,activeTabId:t,onCloseTab:r,onSelectTab:n,onSelectRecentTab:w}),i.jsxs(Qb,{value:A.id,onValueChange:n,children:[i.jsx(NU,{tabs:e,activeTabId:A.id,menuAppearance:C,canSaveFiles:j,onSelectTab:n,onCloseTab:r,onCloseOtherTabs:o,onCloseTabsToRight:l,onCloseAllTabs:c,onMoveTab:d,onPinTab:f,onUnpinTab:p,onSaveTab:x,onSaveAllTabs:b,onTabDragStateChange:O}),i.jsx(T5,{tabs:e,activeTabId:A.id,editorTheme:S,onContentChange:g,onSaveTab:x,canSaveFiles:j,readOnly:E,onRetryTabLoad:_,onSelectTab:n,isTabDragging:D})]})]})}function Vi(e){return(e||"").trim().replace(/\\/g,"/").replace(/\/+/g,"/").replace(/^\/+/,"").replace(/\/+$/,"")}function kU(e,t){const n=Vi(e),r=Vi(t);return n?r?`${n}/${r}`.replace(/\/+/g,"/"):n:r}function RU(e){const t=Vi(e);return t?t.split("/").every(r=>r.length>0&&r!=="."&&r!==".."):!1}function MU(e){const t=Vi(e);return t==="assets"||t.startsWith("assets/")}function Zu(e){return e?Array.from(e.types??[]).includes("Files"):!1}async function DU(e){const n=Array.from(e.items??[]).filter(r=>r.kind==="file").map(r=>r.webkitGetAsEntry?.()??null).filter(r=>!!r);return n.length>0?(await Promise.all(n.map(o=>zk(o)))).flat():Array.from(e.files??[]).filter(r=>!!r).map(r=>({file:r,relativePath:r.name}))}async function zk(e){if(e.isFile)try{const o=await new Promise((c,d)=>{if(!e.file){d(new Error("Dropped file entry is missing a file() reader."));return}e.file(c,d)}),l=OU(e.fullPath||o.name);return l?[{file:o,relativePath:l}]:[]}catch{return[]}if(!e.isDirectory||!e.createReader)return[];const t=e.createReader(),n=await AU(t);return(await Promise.all(n.map(o=>zk(o)))).flat()}async function AU(e){const t=[];for(;;){const n=await new Promise((r,o)=>e.readEntries(r,o));if(!n.length)break;t.push(...n)}return t}function OU(e){return Vi(e)}const vj={surface:"rgb(var(--sys-color-surface))",border:"rgb(var(--sys-color-border))",heading:"rgb(var(--sys-color-fg))",label:"rgb(var(--sys-color-fg-muted))",textPrimary:"rgb(var(--sys-color-fg))",textMuted:"rgb(var(--sys-color-fg-muted))",rowHover:"rgb(var(--sys-color-surface-muted))",folderActiveBg:"transparent",selectionBg:"rgb(var(--sys-color-surface-muted))",selectionText:"rgb(var(--sys-color-fg))",badgeActive:"rgb(var(--sys-color-ring))",badgeOpen:"rgb(var(--sys-color-fg-muted))",folderIcon:"rgb(var(--sys-color-ring))",folderIconActive:"rgb(var(--sys-color-ring))",chevronIdle:"rgb(var(--sys-color-fg-muted))",chevronActive:"rgb(var(--sys-color-fg))"},TU={dark:vj,light:vj},zU="focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card";function PU(e){const t=new Set,n=r=>{r.kind==="folder"&&(t.add(r.id),r.children?.forEach(n))};return n(e),t}function Fx(e,t,n){const r=new Set;for(const o of e)t.has(o)&&r.add(o);return r.add(n),r}function bj(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function IU({width:e,tree:t,activeFileId:n="",openFileIds:r=[],onSelectFile:o,theme:l,canUploadFiles:c=!1,onUploadFiles:d,isUploadingFiles:f=!1,canCreateFile:p=!1,canCreateFolder:g=!1,isCreatingEntry:x=!1,onCreateFile:b,onCreateFolder:w,canDeleteFile:S=!1,deletingFilePath:C=null,canDeleteFolder:j=!1,deletingFolderPath:E=null,onDeleteFile:N,onDeleteFolder:_,expandedStorageKey:R,onHide:M}){const D=m.useMemo(()=>R?Ho(R):null,[R]),O=m.useMemo(()=>PU(t),[t]),A=m.useMemo(()=>{const ye=new Map,ne=we=>{ye.set(we.id,we),we.children?.forEach(ne)};return ne(t),ye},[t]),[L,T]=m.useState(()=>{const ye=D?.get()??null,ne=ye?new Set(ye):new Set([t.id]);return Fx(ne,O,t.id)}),[W,I]=m.useState(null),[F,U]=m.useState(null),[ae,P]=m.useState(null),[q,K]=m.useState(!1),[te,ve]=m.useState(null),V=m.useRef(0),B=m.useRef(null),re=m.useRef(null);m.useEffect(()=>{U(null),P(null),ve(null),K(!1),V.current=0,re.current=null,B.current&&(clearTimeout(B.current),B.current=null)},[t.id]),m.useEffect(()=>{T(ye=>{const ne=Fx(ye,O,t.id);return bj(ye,ne)?ye:ne})},[O,t.id]),m.useEffect(()=>{if(!D)return;const ye=D.get();if(!ye)return;const ne=Fx(new Set(ye),O,t.id);T(we=>bj(we,ne)?we:ne)},[D,O,t.id]),m.useEffect(()=>{if(!D)return;const ye=Array.from(L).filter(ne=>ne!==t.id&&O.has(ne));D.set(ye)},[L,D,O,t.id]);const Y=m.useCallback(ye=>{T(ne=>{const we=new Set(ne);return we.has(ye)?we.delete(ye):we.add(ye),we.add(t.id),we})},[t.id]),z=m.useCallback((ye,ne)=>{T(we=>{const Te=new Set(we);return ne?Te.add(ye):ye!==t.id&&Te.delete(ye),Te.add(t.id),Te})},[t.id]),G=m.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=null),re.current=null},[]),H=m.useCallback(ye=>{const ne=ye?.closest?.("[data-explorer-drop-row]"),we=ne?.dataset.explorerDropPath??"",Te=ne?.dataset.explorerDropRow??t.id;return{folderPath:we===t.id?"":we,rowId:Te}},[t.id]),ee=m.useCallback(ye=>{Zu(ye.dataTransfer)&&(V.current+=1,K(!0))},[]),oe=m.useCallback(ye=>{q&&(V.current=Math.max(0,V.current-1),V.current===0&&(K(!1),ve(null),G()))},[G,q]),le=m.useCallback(ye=>{if(!Zu(ye.dataTransfer))return;ye.preventDefault(),ye.dataTransfer.dropEffect=c&&d&&!f?"copy":"none",q||K(!0);const ne=H(ye.target);ve(Te=>Te?.rowId===ne.rowId&&Te.folderPath===ne.folderPath?Te:ne);const we=A.get(ne.rowId);if(!we||we.kind!=="folder"){G();return}if(L.has(we.id)){G();return}re.current===we.id&&B.current||(G(),re.current=we.id,B.current=setTimeout(()=>{z(we.id,!0),G()},650))},[c,G,q,L,f,A,d,H,z]),de=m.useCallback(async ye=>{if(!Zu(ye.dataTransfer))return;ye.preventDefault(),ye.stopPropagation(),K(!1),ve(null),V.current=0,G();const ne=await DU(ye.dataTransfer);if(!c||!d||f||ne.length===0)return;const we=H(ye.target);d(we.folderPath,ne)},[c,G,f,d,H]),Ee=m.useCallback(()=>{T(new Set([t.id]))},[t.id]),Oe=m.useCallback((ye,ne)=>{P(null),T(we=>{const Te=new Set(we);return Te.add(t.id),Te.add(ye),Te}),U({parentId:ye,kind:ne})},[t.id]),Pe=m.useCallback(async(ye,ne,we)=>{const Te=ne.trim();if(!Te){P("Name cannot be empty.");return}const $e=we==="folder"?w:b;if($e)try{P(null),await $e(ye===t.id?"":ye,Te),U(null)}catch(at){const ft=at instanceof Error?at.message:"Unable to create entry.";P(ft)}},[b,w,t.id]),ot=m.useCallback(()=>{U(null),P(null)},[]),xt=m.useCallback((ye,ne)=>{ye.preventDefault(),I({node:ne,position:{x:ye.clientX,y:ye.clientY}})},[]),ct=m.useCallback(async ye=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(ye);return}catch{}if(typeof document>"u")return;const ne=document.createElement("textarea");ne.value=ye,ne.setAttribute("readonly","true"),ne.style.position="absolute",ne.style.left="-9999px",document.body.appendChild(ne),ne.select(),document.execCommand("copy"),document.body.removeChild(ne)},[]),sn=m.useCallback(ye=>{N&&(N(ye),I(null))},[N]),_t=m.useCallback(ye=>{_&&(_(ye),I(null))},[_]),Q=m.useMemo(()=>{if(!W)return[];const{node:ye}=W,ne={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(ye.kind==="file")return[{id:"open-file",label:"Open",icon:i.jsx(lz,{className:Vr}),shortcut:ne.open,onSelect:()=>o(ye.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:i.jsx(HC,{className:Vr}),shortcut:ne.copyPath,onSelect:()=>{ct(ye.id)}},{id:"delete-file",label:"Delete",icon:i.jsx(qC,{className:Vr}),shortcut:ne.delete,disabled:!S||!N,onSelect:()=>sn(ye.id)}];const we=L.has(ye.id);return[{id:"new-file",label:"New File",icon:i.jsx(wN,{className:Vr}),shortcut:ne.newFile,disabled:!p||!b,onSelect:()=>{!p||!b||(Oe(ye.id,"file"),I(null))}},{id:"new-folder",label:"New Folder",icon:i.jsx(Rv,{className:Vr}),shortcut:ne.newFolder,disabled:!g||!w,onSelect:()=>{!g||!w||(Oe(ye.id,"folder"),I(null))}},{id:"toggle-folder",label:we?"Collapse Folder":"Expand Folder",icon:we?i.jsx(cz,{className:Vr}):i.jsx(uz,{className:Vr}),onSelect:()=>z(ye.id,!we)},{id:"collapse-all",label:"Collapse All",icon:i.jsx(dz,{className:Vr}),shortcut:ne.collapseAll,dividerAbove:!0,onSelect:()=>Ee()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:i.jsx(HC,{className:Vr}),shortcut:ne.copyPath,onSelect:()=>{ct(ye.id)}},{id:"delete-folder",label:"Delete Folder",icon:i.jsx(qC,{className:Vr}),shortcut:ne.delete,disabled:!j||!_,onSelect:()=>_t(ye.id)}]},[W,o,ct,S,N,L,z,Ee,p,g,b,w,Oe,j,_,_t,sn]),Z=TU[l],ue=zU,De=m.useMemo(()=>t.children??[],[t]),je=l==="dark"?"dark":"light",ge=m.useMemo(()=>{if(!q)return null;const ye=te?.folderPath??"";return ye||"root"},[q,te?.folderPath]),Me=c&&!!d&&!f;return i.jsxs(i.Fragment,{children:[i.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:Z.surface,borderColor:Z.border,color:Z.textPrimary},"aria-label":"Config files explorer",children:[i.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:Z.border,backgroundColor:Z.rowHover},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:Z.heading},children:"Explorer"}),f?i.jsxs("div",{className:"flex items-center gap-1 text-[11px]",style:{color:Z.label},children:[i.jsx("span",{className:"inline-flex h-2.5 w-2.5 animate-spin rounded-full border border-current border-t-transparent","aria-hidden":!0}),i.jsx("span",{className:"font-medium",children:"Uploading"})]}):null]}),i.jsx("button",{type:"button",onClick:M,"aria-label":"Hide explorer",className:fe("flex h-7 w-7 items-center justify-center rounded-md text-muted-foreground transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","hover:bg-muted hover:text-foreground"),children:i.jsx(iz,{className:"h-3.5 w-3.5"})})]}),i.jsxs("nav",{className:"relative flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",onDragEnter:ee,onDragLeave:oe,onDragOver:le,onDrop:de,children:[i.jsxs("ul",{className:"space-y-0.5",children:[De.map(ye=>i.jsx(Pk,{node:ye,parentId:t.id,depth:0,expanded:L,activeFileId:n,openFileIds:r,onToggleFolder:Y,onSelectFile:o,tokens:Z,theme:l,focusRingClass:ue,onContextMenu:xt,editing:F,onSubmitCreateEntry:Pe,onCancelCreateEntry:ot,createError:ae,isCreatingEntry:x,deletingFilePath:C,deletingFolderPath:E,onClearCreateError:()=>P(null),dropActive:q,dropTargetRowId:te?.rowId??null},ye.id)),F?.parentId===t.id?i.jsx("li",{className:"pl-2",children:i.jsx(Ik,{appearance:l,icon:F.kind==="folder"?i.jsx(Rv,{className:Vr}):void 0,placeholder:F.kind==="folder"?"new_folder":"new_file.py",onSubmit:ye=>Pe(t.id,ye,F.kind),onCancel:ot,onChange:()=>P(null),isSubmitting:x,error:ae})}):null]}),q?i.jsx("div",{className:fe("pointer-events-none absolute inset-2 rounded-xl border border-dashed p-3 transition",Me?"opacity-100":"opacity-90"),style:{borderColor:Z.badgeActive,backgroundColor:"rgb(var(--sys-color-surface) / 0.85)"},"aria-hidden":!q,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:fe("inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/60 bg-card/80"),style:{color:Z.badgeActive},children:i.jsx(xh,{className:"h-4 w-4"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[13px] font-semibold",style:{color:Z.textPrimary},children:Me?"Drop to upload":"Upload disabled"}),i.jsx("p",{className:"mt-0.5 text-[12px]",style:{color:Z.textMuted},children:Me?i.jsxs(i.Fragment,{children:["Upload to ",i.jsx("span",{className:"font-semibold",children:ge})]}):f?"Uploads are in progress.":"Uploads arent available right now."})]})]})}):null]})]}),i.jsx(qo,{open:!!W,position:W?W.position:null,onClose:()=>I(null),items:Q,appearance:je})]})}function Pk({node:e,parentId:t,depth:n,expanded:r,activeFileId:o,openFileIds:l,onToggleFolder:c,onSelectFile:d,tokens:f,theme:p,focusRingClass:g,onContextMenu:x,editing:b,onSubmitCreateEntry:w,onCancelCreateEntry:S,createError:C,isCreatingEntry:j,deletingFilePath:E,deletingFolderPath:N,onClearCreateError:_,dropActive:R,dropTargetRowId:M}){const O={paddingLeft:8+n*16,"--tree-hover-bg":f.rowHover},A=R&&M===e.id;if(e.kind==="folder"){const U=r.has(e.id),ae=N===e.id,P=b?.parentId===e.id,q={...O,color:U?f.textPrimary:f.textMuted};return U&&f.folderActiveBg!=="transparent"&&(q.backgroundColor=f.folderActiveBg),A&&(q.outline=`1px dashed ${f.badgeActive}`,q.outlineOffset=-1,q.backgroundColor=f.rowHover),i.jsxs("li",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>c(e.id),onContextMenu:K=>x(K,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":e.id,className:fe("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",g,ae&&"opacity-60"),style:q,"aria-expanded":U,disabled:ae,children:[i.jsx(kz,{className:fe("h-3 w-3 flex-shrink-0 transition-transform duration-150",U?"rotate-90":void 0),stroke:U?f.chevronActive:f.chevronIdle}),i.jsx(az,{className:"h-4 w-4 flex-shrink-0 transition-colors",stroke:U?f.folderIconActive:f.folderIcon,fill:U?f.folderIconActive:"none",opacity:U?.25:1}),i.jsx("span",{className:"truncate",children:e.name})]}),U?i.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(K=>i.jsx(Pk,{node:K,parentId:e.id,depth:n+1,expanded:r,activeFileId:o,openFileIds:l,onToggleFolder:c,onSelectFile:d,tokens:f,theme:p,focusRingClass:g,onContextMenu:x,editing:b,onSubmitCreateEntry:w,onCancelCreateEntry:S,createError:C,isCreatingEntry:j,deletingFilePath:E,deletingFolderPath:N,onClearCreateError:_,dropActive:R,dropTargetRowId:M},K.id)),P?i.jsx("li",{className:"pl-2",children:i.jsx(Ik,{appearance:p,icon:b?.kind==="folder"?i.jsx(Rv,{className:Vr}):void 0,placeholder:b?.kind==="folder"?"new_folder":"new_file.py",onSubmit:K=>{b&&w(e.id,K,b.kind)},onCancel:S,onChange:_,isSubmitting:j,error:C})}):null]}):null]})}const L=o===e.id,T=l.includes(e.id),W=E===e.id,I=LU(e.name,e.language),F={...O,color:f.textPrimary};return L&&(F.backgroundColor=f.selectionBg,F.color=f.selectionText),A&&(F.outline=`1px dashed ${f.badgeActive}`,F.outlineOffset=-1,L||(F.backgroundColor=f.rowHover)),i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:U=>x(U,e),"data-explorer-drop-row":e.id,"data-explorer-drop-path":t,className:fe("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",g,L&&"shadow-inner shadow-black/10",W&&"opacity-60"),style:F,disabled:W,children:[i.jsx("span",{className:"inline-flex w-4 justify-center",children:i.jsx(yN,{className:fe("h-4 w-4 flex-shrink-0",I,T&&!L&&"opacity-90",!T&&!L&&"opacity-75")})}),i.jsx("span",{className:fe("flex-1 truncate",L&&"font-semibold"),children:e.name}),T&&!L?i.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:f.badgeOpen}}):null]})})}const yj={json:"text-filetype-json",py:"text-filetype-py",ts:"text-filetype-ts",tsx:"text-filetype-tsx",js:"text-filetype-js",jsx:"text-filetype-jsx",md:"text-filetype-md",env:"text-filetype-env",txt:"text-filetype-txt",lock:"text-filetype-lock"};function LU(e,t){if(t==="python")return"text-filetype-py";const n=e.toLowerCase().split("."),r=n.length>1?n.pop()??"":"";return r&&yj[r]?yj[r]:"text-muted-foreground"}const Vr="h-4 w-4 text-current opacity-80";function Ik({appearance:e,onSubmit:t,onCancel:n,onChange:r,isSubmitting:o,error:l,placeholder:c="new_file.py",icon:d}){const[f,p]=m.useState(""),g=m.useRef(null);m.useEffect(()=>{g.current?.focus(),g.current?.select()},[]);const x=m.useCallback(()=>{t(f.trim())},[t,f]);return i.jsxs("div",{className:"rounded-md border border-border bg-muted px-2 py-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-flex w-4 justify-center text-brand-500",children:d??i.jsx(wN,{className:Vr})}),i.jsx("input",{ref:g,value:f,onChange:w=>{p(w.target.value),r?.()},onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),x()),w.key==="Escape"&&(w.preventDefault(),n())},className:"flex-1 rounded-sm border border-transparent bg-card/80 px-2 py-1 text-[13px] text-foreground outline-none focus:border-ring",placeholder:c,disabled:o}),i.jsx("button",{type:"button",className:fe("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",o?"cursor-wait bg-muted text-muted-foreground":"bg-brand-600 text-on-brand hover:bg-brand-500"),onClick:x,disabled:o,children:o?"Creating":"Create"}),i.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-muted-foreground transition hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",onClick:n,disabled:o,children:"Cancel"})]}),i.jsx("div",{className:fe("mt-1 text-[11px]","text-muted-foreground"),children:"Enter a name and press Enter. Escape to cancel."}),l?i.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:l}):null]})}function wj({orientation:e,onPointerDown:t,onDoubleClick:n,onToggle:r,collapsed:o}){const l=e==="vertical",c=l?"":o?"":"";return i.jsxs("div",{role:"separator","aria-orientation":e,className:fe("relative select-none bg-transparent group",l?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:t,onDoubleClick:n,title:l?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[i.jsx("span",{className:"sr-only",children:"Resize panel"}),i.jsx("div",{className:fe("absolute inset-0 flex items-center justify-center",l?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:i.jsx("div",{className:fe(l?"h-full w-px":"h-px w-full","bg-muted-foreground/50")})}),r&&!l?i.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),r()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-foreground/70 text-[10px] text-background opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":o?"Show console":"Hide console",title:o?"Show console":"Hide console",children:c}):null]})}const $U="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",FU="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function UU({label:e,icon:t,disabled:n,isLoading:r,highlight:o,className:l,primaryClassName:c,menuClassName:d,title:f,menuAriaLabel:p="Open menu",menuIcon:g=i.jsx(Zi,{className:"h-4 w-4"}),onPrimaryClick:x,onOpenMenu:b,onContextMenu:w}){const S=m.useRef(null),C=!!(n||r),j=E=>{if(C)return;E.preventDefault();const N=S.current?.getBoundingClientRect();if(N){b?.({x:N.left,y:N.bottom});return}b?.({x:E.clientX,y:E.clientY})};return i.jsxs("div",{role:"group",className:fe("inline-flex items-stretch rounded-md shadow-sm",o&&"ring-2 ring-brand-300/70 ring-offset-2 ring-offset-transparent",l),onContextMenu:w,children:[i.jsxs("button",{type:"button",title:f,disabled:C,className:fe($U,c),onClick:E=>{C||x?.(E)},children:[t,i.jsx("span",{className:"whitespace-nowrap",children:e})]}),i.jsx("button",{ref:S,type:"button","aria-label":p,"aria-haspopup":"menu","aria-expanded":"false",disabled:C,className:fe(FU,d),onClick:j,children:g})]})}const BU={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function Sj(e){const t=e.root||e.prefix||e.entries[0]?.parent||"",n=e.entries.length>0;if(!t&&!n)return null;const r=Qu(t),o={id:t,name:Cj(t),kind:"folder",children:[]},l=new Map([[t,o]]),c=f=>{if(f.length===0)return o;const p=Qu(f),g=p===r?t:p,x=l.get(g);if(x)return x;const b={id:g,name:Cj(g),kind:"folder",children:[]};l.set(g,b);const w=g===t?"":qU(g)??t,S=c(w);return Ux(S,b),b},d=[...e.entries].sort((f,p)=>f.depth!==p.depth?f.depth-p.depth:f.path.localeCompare(p.path));for(const f of d){const p=f.parent&&f.parent.length>0?Qu(f.parent):t,g=c(p);if(f.kind==="dir"){const b=c(f.path);b.name=f.name,b.metadata={size:f.size??null,modifiedAt:f.mtime,contentType:f.content_type,etag:f.etag},b!==g&&Ux(g,b);continue}const x={id:f.path,name:f.name,kind:"file",language:HU(f.path),metadata:{size:f.size??null,modifiedAt:f.mtime,contentType:f.content_type,etag:f.etag}};l.set(f.path,x),Ux(g,x)}return o}function Ux(e,t){const n=e.children??[],r=n.some(o=>o.id===t.id)?n.map(o=>o.id===t.id?t:o):[...n,t];e.children=r.sort(VU)}function VU(e,t){return e.kind!==t.kind?e.kind==="folder"?-1:1:e.name.localeCompare(t.name)}function HU(e){const t=e.toLowerCase(),n=t.lastIndexOf(".");if(n===-1)return;const r=t.slice(n+1);return BU[r]}function Cj(e){const t=Qu(e);if(!t)return"";const n=t.lastIndexOf("/");return n>=0?t.slice(n+1):t}function qU(e){const t=Qu(e);if(!t)return;const n=t.lastIndexOf("/");return n===-1?"":t.slice(0,n)}function Qu(e){return e?e.replace(/\/+$/,""):""}function Gr(e,t){if(e.id===t)return e;if(!e.children)return null;for(const n of e.children){const r=Gr(n,t);if(r)return r}return null}function iy(e){if(e.kind==="file")return e;if(!e.children)return null;for(const t of e.children){const n=iy(t);if(n)return n}return null}function WU({tree:e,initialActiveFileId:t,loadFile:n,persistence:r}){const[o,l]=m.useState([]),[c,d]=m.useState(""),[f,p]=m.useState([]),[g,x]=m.useState(()=>!r),[b,w]=m.useState(!1),S=m.useRef(new Set),C=m.useRef([]),j=m.useRef(""),E=m.useRef([]),N=m.useCallback(Y=>{d(z=>z===Y?z:Y),p(z=>{const G=z.filter(ee=>C.current.some(oe=>oe.id===ee));if(!Y)return G;const H=G.filter(ee=>ee!==Y);return[Y,...H]})},[]);m.useEffect(()=>{j.current=c},[c]),m.useEffect(()=>{E.current=f},[f]),m.useEffect(()=>{if(!e){l([]),d(""),p([]);return}l(z=>z.filter(G=>!!Gr(e,G.id)).map(G=>{const H=Gr(e,G.id);return!H||H.kind!=="file"?G:{...G,name:H.name,language:H.language,metadata:H.metadata}}));const Y=j.current;(!Y||!Gr(e,Y))&&N("")},[e,N]);const _=m.useMemo(()=>o.find(Y=>Y.id===c)??o[0]??null,[c,o]),R=m.useCallback(async Y=>{if(!C.current.some(G=>G.id===Y))return;let z=!1;if(l(G=>G.map(H=>H.id!==Y?H:H.status==="ready"?(z=!0,H):{...H,status:"loading",error:null})),!z)try{const G=await n(Y);l(H=>H.map(ee=>ee.id===Y?{...ee,initialContent:G.content,content:G.content,status:"ready",error:null,etag:G.etag??null,saving:!1,saveError:null}:ee))}catch(G){const H=G instanceof Error?G.message:"Unable to load file.";l(ee=>ee.map(oe=>oe.id===Y?{...oe,status:"error",error:H}:oe))}},[n]),M=m.useCallback((Y,z)=>{if(!e)return;const G=Gr(e,Y);!G||G.kind!=="file"||(l(H=>{if(H.some(oe=>oe.id===Y))return H;const ee={id:G.id,name:G.name,language:G.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:G.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...H,ee]}),(z?.activate??!0)&&N(Y))},[e,N]);m.useEffect(()=>{if(g||!r||!e){r||x(!0);return}const Y=r.get(),G=(Y?.openTabs??[]).map(H=>typeof H=="string"?{id:H,pinned:!1}:H).filter(H=>!!(H&&H.id));if(G.length>0){const H=[];for(const ee of G){const oe=Gr(e,ee.id);!oe||oe.kind!=="file"||H.push({id:oe.id,name:oe.name,language:oe.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:oe.metadata,pinned:!!ee.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(H.length>0){l(H);const ee=(Y?.activeTabId&&H.some(de=>de.id===Y.activeTabId)?Y.activeTabId:H[0]?.id)??"";d(ee);const le=(Y?.mru&&Y.mru.length>0?Y.mru:H.map(de=>de.id)).filter(de=>H.some(Ee=>Ee.id===de));p(le),w(!0)}}x(!0)},[g,r,e]),m.useEffect(()=>{if(!e||!g)return;if(o.length>0){b||w(!0);return}if(b)return;const Y=t&&Gr(e,t)||iy(e);if(!Y){w(!0);return}M(Y.id),w(!0)},[e,t,M,g,o.length,b]);const D=m.useCallback(Y=>{M(Y)},[M]),O=m.useCallback(Y=>{N(Y),l(z=>z.map(G=>G.id===Y&&G.status==="error"?{...G,status:"loading",error:null}:G))},[N]),A=m.useCallback(Y=>{l(z=>{const G=z.filter(oe=>oe.id!==Y),H=j.current,ee=H===Y?G[G.length-1]?.id??"":G.some(oe=>oe.id===H)?H:G[G.length-1]?.id??"";return N(ee),G})},[N]),L=m.useCallback(Y=>{l(z=>!z.some(G=>G.id===Y)||z.length<=1?z:(N(Y),z.filter(G=>G.id===Y)))},[N]),T=m.useCallback(Y=>{l(z=>{const G=z.findIndex(oe=>oe.id===Y);if(G===-1||G===z.length-1)return z;const H=z.slice(0,G+1),ee=H.some(oe=>oe.id===j.current)?j.current:Y;return N(ee),H})},[N]),W=m.useCallback(()=>{l([]),d(""),p([])},[]),I=m.useCallback((Y,z)=>{l(G=>{if(G.length<=1)return G;const H=G.findIndex(Pe=>Pe.id===Y);if(H===-1)return G;const ee=G.filter((Pe,ot)=>ot!==H),oe=Math.max(0,Math.min(z,ee.length)),le=[],de=[],Ee=G[H];if(ee.forEach(Pe=>{Pe.pinned?le.push(Pe):de.push(Pe)}),(oe<=le.length?"pinned":"regular")==="pinned"){const Pe=Math.max(0,Math.min(oe,le.length));le.splice(Pe,0,{...Ee,pinned:!0})}else{const Pe=Math.max(0,Math.min(oe-le.length,de.length));de.splice(Pe,0,{...Ee,pinned:!1})}return[...le,...de]})},[]),F=m.useCallback(Y=>{if(S.current.has(Y))return;let z=!1;l(G=>G.map(H=>H.id!==Y?H:(z=!0,{...H,status:"loading",error:null}))),z&&(S.current.add(Y),R(Y).finally(()=>{S.current.delete(Y)}))},[R]),U=m.useCallback(Y=>{l(z=>{const G=[],H=[];let ee=null;for(const le of z){if(le.id===Y){ee=le;continue}le.pinned?G.push(le):H.push(le)}if(!ee||ee.pinned)return z;const oe={...ee,pinned:!0};return[...G,oe,...H]})},[]),ae=m.useCallback(Y=>{l(z=>{const G=[],H=[];let ee=null;for(const le of z){if(le.id===Y){ee=le;continue}le.pinned?G.push(le):H.push(le)}if(!ee||!ee.pinned)return z;const oe={...ee,pinned:!1};return[...G,oe,...H]})},[]),P=m.useCallback((Y,z)=>{z?U(Y):ae(Y)},[U,ae]),q=m.useCallback(Y=>{const z=E.current.filter(Ee=>C.current.some(Oe=>Oe.id===Ee));if(z.length<=1)return;const G=j.current||z[0],H=z.indexOf(G),le=((H>=0?H:0)+(Y==="forward"?1:-1)+z.length)%z.length,de=z[le];de&&de!==G&&N(de)},[N]),K=m.useCallback((Y,z)=>{l(G=>G.map(H=>H.id===Y?{...H,content:z,status:H.status==="ready"?H.status:"ready",error:null,saveError:null}:H))},[]),te=m.useCallback(Y=>{l(z=>z.map(G=>G.id===Y?{...G,saving:!0,saveError:null}:G))},[]),ve=m.useCallback((Y,z)=>{l(G=>G.map(H=>{if(H.id!==Y)return H;const ee=z?.metadata??H.metadata??null,oe=z?.etag??H.etag??null,le=z?.savedContent??H.content;return{...H,saving:!1,saveError:null,initialContent:le,etag:oe,metadata:ee&&{...ee,etag:ee.etag??oe??null},lastSavedAt:new Date().toISOString()}}))},[]),V=m.useCallback((Y,z)=>{l(G=>G.map(H=>H.id===Y?{...H,saving:!1,saveError:z}:H))},[]),B=m.useCallback((Y,z)=>{l(G=>G.map(H=>H.id!==Y?H:{...H,content:z.content,initialContent:z.content,status:"ready",error:null,saving:!1,saveError:null,etag:z.etag??H.etag??null,metadata:z.metadata??H.metadata}))},[]),re=m.useMemo(()=>o.some(Y=>Y.status==="ready"&&Y.content!==Y.initialContent),[o]);return m.useEffect(()=>{C.current=o},[o]),m.useEffect(()=>{p(Y=>{const z=Y.filter(G=>o.some(H=>H.id===G));return z.length===Y.length?Y:z})},[o]),m.useEffect(()=>{const Y=new Set(o.map(z=>z.id));for(const z of S.current)Y.has(z)||S.current.delete(z);for(const z of o){if(z.status!=="loading"||S.current.has(z.id))continue;S.current.add(z.id),R(z.id).finally(()=>{S.current.delete(z.id)})}},[o,R]),m.useEffect(()=>{if(!r||!g)return;const Y=[c,...f].filter(z=>!!z).filter((z,G,H)=>H.indexOf(z)===G).filter(z=>o.some(G=>G.id===z));r.set({openTabs:o.map(z=>({id:z.id,pinned:!!z.pinned})),activeTabId:c||null,mru:Y})},[r,o,c,f,g]),{tree:e,tabs:o,activeTabId:c,activeTab:_,openFile:D,selectTab:O,closeTab:A,closeOtherTabs:L,closeTabsToRight:T,closeAllTabs:W,moveTab:I,reloadTab:F,pinTab:U,unpinTab:ae,toggleTabPin:P,selectRecentTab:q,updateContent:K,beginSavingTab:te,completeSavingTab:ve,failSavingTab:V,replaceTabContent:B,isDirty:re}}function Lk(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const t=new URLSearchParams;for(const[n,r]of Object.entries(e)){if(r==null)continue;const o=Array.isArray(r)?r:[r];for(const l of o)l!=null&&t.append(n,String(l))}return t}const $k=m.createContext(null);function GU({value:e,children:t}){return m.createElement($k.Provider,{value:e},t)}function Ed(){const e=m.useContext($k),t=pr(),n=an(),r=m.useMemo(()=>new URLSearchParams(t.search),[t.search]),o=m.useCallback((l,c)=>{const d=typeof l=="function"?l(new URLSearchParams(r)):l,p=Lk(d).toString(),g=`${t.pathname}${p?`?${p}`:""}${t.hash}`;n(g,{replace:c?.replace})},[t.hash,t.pathname,n,r]);return[e?.params??r,e?.setSearchParams??o]}const Rm={pane:"terminal",console:"closed"},YU=["pane","console","file"];function KU(e){return e==="open"?"open":"closed"}function ZU(e){return e==="problems"?"problems":"terminal"}function Fk(e){const t=e instanceof URLSearchParams?e:new URLSearchParams(e),n=t.get("pane"),r=t.get("console"),o=t.get("file");return{...{pane:ZU(n),console:KU(r),fileId:o??void 0},present:{pane:t.has("pane"),console:t.has("console"),fileId:t.has("file")}}}function Bx(e,t){const n=Fk(e),r={...Rm,...n,...t},o=new URLSearchParams(e);for(const l of YU)o.delete(l);return r.pane!==Rm.pane&&o.set("pane",r.pane),r.console!==Rm.console&&o.set("console",r.console),r.fileId&&r.fileId.length>0&&o.set("file",r.fileId),o}function QU(){const[e,t]=Ed(),n=m.useMemo(()=>Fk(e),[e]),r=m.useCallback(c=>{n.fileId===c||!c&&!n.present.fileId||t(d=>Bx(d,{fileId:c??void 0}),{replace:!0})},[t,n.fileId,n.present.fileId]),o=m.useCallback(c=>{n.pane!==c&&t(d=>Bx(d,{pane:c}),{replace:!0})},[t,n.pane]),l=m.useCallback(c=>{n.console!==c&&t(d=>Bx(d,{console:c}),{replace:!0})},[t,n.console]);return{fileId:n.fileId??Rm.fileId,pane:n.pane,console:n.console,consoleExplicit:n.present.console,setFileId:r,setPane:o,setConsole:l}}const XU="You have unsaved changes in the config editor. Are you sure you want to leave?";function JU({isDirty:e,confirm:t=window.confirm,message:n=XU,shouldBypassNavigation:r}){const o=pr(),l=m.useCallback(c=>!e||r?.()||c.location.pathname===o.pathname?!0:t(n),[t,e,o.pathname,n,r]);ZE(l,e),m.useEffect(()=>{if(!e)return;const c=d=>(d.preventDefault(),d.returnValue=n,n);return window.addEventListener("beforeunload",c),()=>{window.removeEventListener("beforeunload",c)}},[e,n])}function Br(e,t,n){return Math.min(Math.max(e,t),n)}function jj(e,t){const{onMove:n,onEnd:r,cursor:o}=t;if(typeof window>"u")return;e.preventDefault();const l=e.pointerId,c=e.currentTarget,d=document.body.style.cursor,f=document.body.style.userSelect;let p=null,g=null,x=!0;const b=j=>{if(x){if(x=!1,p!==null&&(cancelAnimationFrame(p),p=null),document.body.style.cursor=d,document.body.style.userSelect=f,window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),c.removeEventListener("lostpointercapture",C),c.hasPointerCapture?.(l))try{c.releasePointerCapture(l)}catch{}r&&r(j)}},w=j=>{!x||j.pointerId!==l||(g=j,p===null&&(p=window.requestAnimationFrame(()=>{p=null,g&&n(g)})))},S=j=>{j.pointerId===l&&b(j)},C=j=>{j.pointerId===l&&b(j)};o&&(document.body.style.cursor=o),document.body.style.userSelect="none";try{c.setPointerCapture(l)}catch{}window.addEventListener("pointermove",w),window.addEventListener("pointerup",S),window.addEventListener("pointercancel",S),c.addEventListener("lostpointercapture",C)}function Zr({open:e,title:t,description:n,confirmLabel:r="Confirm",cancelLabel:o="Cancel",onConfirm:l,onCancel:c,isConfirming:d,children:f,confirmDisabled:p,tone:g="default"}){const x=m.useRef(null);if(m.useEffect(()=>{if(!e)return;const w=C=>{if(C.key==="Escape"&&c(),C.key==="Tab"){const j=x.current;if(!j)return;const E=Array.from(j.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(R=>!R.hasAttribute("disabled"));if(E.length===0)return;const N=E.indexOf(document.activeElement),_=C.shiftKey?N<=0?E.length-1:N-1:N===E.length-1?0:N+1;E[_]?.focus(),C.preventDefault()}};return window.addEventListener("keydown",w),x.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",w)},[c,e]),!e)return null;const b=g==="danger"?{badge:"bg-danger-500/15 text-danger-400",confirmVariant:"danger"}:{badge:"bg-brand-500/10 text-brand-500",confirmVariant:"primary"};return Wn.createPortal(i.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[i.jsx("button",{type:"button",className:"absolute inset-0 bg-overlay/50",onClick:c,"aria-label":"Close dialog"}),i.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:i.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":t,className:"w-full max-w-lg rounded-2xl border border-border bg-card p-6 shadow-2xl",ref:x,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:fe("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",b.badge),children:"Confirm"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:t}),n?i.jsx("p",{className:"text-sm text-muted-foreground",children:n}):null]}),f?i.jsx("div",{className:"mt-4 space-y-3",children:f}):null,i.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[i.jsx(ke,{type:"button",variant:"ghost",onClick:c,disabled:d,children:o}),i.jsx(ke,{type:"button",variant:b.confirmVariant,onClick:l,isLoading:d,disabled:p||d,className:g==="danger"?"hover:bg-danger-600":void 0,children:r})]})]})})]}),document.body)}async function eB(e,t={}){const{signal:n,page:r,pageSize:o,sort:l}=t,c={};typeof r=="number"&&r>0&&(c.page=r),typeof o=="number"&&o>0&&(c.perPage=o),l&&(c.sort=l);const{data:d}=await Qe.GET("/api/v1/workspaces/{workspaceId}/configurations",{params:{path:{workspaceId:e},query:c},signal:n});if(!d)throw new Error("Expected configuration page payload.");return d}async function tB(e,t,n){const{data:r}=await Qe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}",{params:{path:{workspaceId:e,configurationId:t}},signal:n});return r??null}async function ly(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/validate",{params:{path:{workspaceId:e,configurationId:t}}});if(!n)throw new Error("Expected validation payload.");return n}async function nB(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/publish",{params:{path:{workspaceId:e,configurationId:t}},body:null});if(!n)throw new Error("Expected configuration payload.");return n}async function rB(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/archive",{params:{path:{workspaceId:e,configurationId:t}}});if(!n)throw new Error("Expected configuration payload.");return n}async function sB(e,t,n={}){const{prefix:r,depth:o,include:l,exclude:c,limit:d,cursor:f,sort:p,order:g,signal:x}=n,{data:b}=await Qe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files",{params:{path:{workspaceId:e,configurationId:t},query:{prefix:r??"",depth:o??"infinity",include:l?.length?[...l]:void 0,exclude:c?.length?[...c]:void 0,limit:d,cursor:f??void 0,sort:p,order:g}},signal:x,requestInitExt:{cache:"no-store"}});if(!b)throw new Error("Expected file listing payload.");return b}async function Ej(e,t,n,r){const{data:o}=await Qe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files/{filePath}",{params:{path:{workspaceId:e,configurationId:t,filePath:n}},headers:{Accept:"application/json"},signal:r,requestInitExt:{cache:"no-store"}});if(!o)throw new Error("Expected file payload.");return o}async function cy(e,t){const{data:n,response:r}=await Qe.GET("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/export",{params:{path:{workspaceId:e,configurationId:t}},parseAs:"blob"});if(!n)throw new Error("Expected configuration archive payload.");const c=(r?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:n,filename:c??void 0}}async function oB(e,t,n){const r=fB(n.path),o=n.parents?{parents:!0}:{},l=new URLSearchParams;o.parents&&l.set("parents","true");const c=l.toString(),d=n.content,f=n.contentType??(typeof Blob<"u"&&n.content instanceof Blob&&n.content.type?n.content.type:"application/octet-stream"),p=await bh(`/api/v1/workspaces/${e}/configurations/${t}/files/${r}${c?`?${c}`:""}`,{method:"PUT",body:d,headers:{"Content-Type":f,...n.create?{"If-None-Match":"*"}:n.etag?{"If-Match":n.etag}:{}}});if(!p.ok){const x=await bc(p),b=x?.title??`Request failed with status ${p.status}`;throw new Ft(b,p.status,x)}const g=await p.json().catch(()=>({}));if(!g||!g.path)throw new Error("Expected write response payload.");return g}async function aB(e,t,n,r={}){await Qe.DELETE("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/files/{filePath}",{params:{path:{workspaceId:e,configurationId:t,filePath:n}},headers:r.etag?{"If-Match":r.etag}:void 0})}async function iB(e,t,n){const{data:r}=await Qe.PUT("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/directories/{directoryPath}",{params:{path:{workspaceId:e,configurationId:t,directoryPath:n}}});if(!r)throw new Error("Expected directory response payload.");return r}async function lB(e,t,n,r={}){const o={};r.recursive&&(o.recursive=!0),await Qe.DELETE("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/directories/{directoryPath}",{params:{path:{workspaceId:e,configurationId:t,directoryPath:n},query:o}})}async function cB(e,t){const n=new FormData;n.append("display_name",t.displayName),n.append("file",t.file);const{data:r}=await Qe.POST("/api/v1/workspaces/{workspaceId}/configurations/import",{params:{path:{workspaceId:e}},body:n,bodySerializer:()=>n});if(!r)throw new Error("Expected configuration payload.");return r}async function uB(e,t,n){const r=new FormData;r.append("file",n.file);const{data:o}=await Qe.PUT("/api/v1/workspaces/{workspaceId}/configurations/{configurationId}/import",{params:{path:{workspaceId:e,configurationId:t}},headers:n.ifMatch?{"If-Match":n.ifMatch}:void 0,body:r,bodySerializer:()=>r});if(!o)throw new Error("Expected configuration payload.");return o}function dB(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function Uk(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/configurations",{params:{path:{workspaceId:e}},body:{display_name:t.displayName.trim(),source:dB(t.source)}});if(!n)throw new Error("Expected configuration payload.");return n}function fB(e){return e.split("/").map(t=>encodeURIComponent(t)).join("/")}const wn={root:e=>["workspaces",e,"configurations"],list:(e,t={})=>[...wn.root(e),"list",{...t}],detail:(e,t)=>[...wn.root(e),"detail",t],files:(e,t)=>[...wn.detail(e,t),"files"],file:(e,t,n)=>[...wn.files(e,t),"file",n]};function mB({workspaceId:e,configId:t,enabled:n=!0,...r}){const{prefix:o="",depth:l="infinity",include:c,exclude:d,limit:f,cursor:p,sort:g="path",order:x="asc"}=r;return kn({queryKey:[...wn.files(e,t),o,l,c?.join("|")??"",d?.join("|")??"",f??"",p??"",g,x],queryFn:({signal:b})=>sB(e,t,{prefix:o,depth:l,include:c,exclude:d,limit:f,cursor:p,sort:g,order:x,signal:b}),enabled:n&&e.length>0&&t.length>0,staleTime:5e3})}function hB(e,t){const n=It();return Ln({mutationFn:r=>oB(e,t,r),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:wn.files(e,t)}),n.invalidateQueries({queryKey:wn.file(e,t,o.path)})])}})}function pB(e,t){const n=It();return Ln({mutationFn:r=>aB(e,t,r.path,{etag:r.etag}),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:wn.files(e,t)}),n.invalidateQueries({queryKey:wn.file(e,t,o.path)})])}})}function gB(e,t){const n=It();return Ln({mutationFn:r=>iB(e,t,r.path),async onSuccess(){await n.invalidateQueries({queryKey:wn.files(e,t)})}})}function xB(e,t){const n=It();return Ln({mutationFn:r=>lB(e,t,r.path,{recursive:r.recursive}),async onSuccess(r,o){await Promise.all([n.invalidateQueries({queryKey:wn.files(e,t)}),n.invalidateQueries({queryKey:wn.file(e,t,o.path)})])}})}function vB(e){return Ln({mutationFn:t=>cB(e,t)})}function bB(e,t){return Ln({mutationFn:n=>uB(e,t,n)})}function uy(e){const t=It();return Ln({mutationFn:({configurationId:n})=>nB(e,n),async onSuccess(){await t.invalidateQueries({queryKey:wn.root(e)})}})}function Bk(e){const t=It();return Ln({mutationFn:({configurationId:n})=>rB(e,n),async onSuccess(){await t.invalidateQueries({queryKey:wn.root(e)})}})}function dy(e){const t=It();return Ln({mutationFn:({sourceConfigurationId:n,displayName:r})=>Uk(e,{displayName:r,source:{type:"clone",configurationId:n}}),async onSuccess(){await t.invalidateQueries({queryKey:wn.root(e)})}})}const yB=100;function Ih({workspaceId:e,enabled:t=!0,page:n=1,pageSize:r=yB}){return kn({queryKey:wn.list(e,{page:n,pageSize:r}),queryFn:({signal:o})=>eB(e,{page:n,pageSize:r,signal:o}),enabled:t&&e.length>0,staleTime:15e3,placeholderData:o=>o})}function Vk({workspaceId:e,configurationId:t,enabled:n=!0}){return kn({queryKey:wn.detail(e,t??""),queryFn:({signal:r})=>t?tB(e,t,r):Promise.resolve(null),enabled:n&&e.length>0&&!!t,staleTime:1e4})}function wB(e){const t=It();return Ln({mutationFn:n=>Uk(e,n),async onSuccess(){await t.invalidateQueries({queryKey:wn.root(e)})}})}const SB=50;async function CB(e,t,n){const{data:r}=await Qe.GET("/api/v1/workspaces/{workspaceId}/documents/{documentId}/sheets",{params:{path:{workspaceId:e,documentId:t}},signal:n});return r??[]}async function jB(e,t,n){const r={sort:t.sort??void 0,page:t.page>0?t.page:1,perPage:t.perPage>0?t.perPage:SB,q:t.q??void 0,filters:yh(t.filters),joinOperator:t.joinOperator},{data:o,response:l}=await Qe.GET("/api/v1/workspaces/{workspaceId}/documents",{params:{path:{workspaceId:e},query:r},signal:n});if(!o)throw new Error("Expected document page payload.");const c=l?.headers?.get("x-ade-changes-cursor");return{...o,changesCursorHeader:c}}async function EB(e,t,n,r={}){const o={};"assigneeId"in n&&(o.assigneeId=n.assigneeId??null),"metadata"in n&&(o.metadata=n.metadata??null);const{data:l}=await Qe.PATCH("/api/v1/workspaces/{workspaceId}/documents/{documentId}",{params:{path:{workspaceId:e,documentId:t}},body:o,headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0});if(!l)throw new Error("Expected updated document record.");return l}async function NB(e,t,n={}){await Qe.DELETE("/api/v1/workspaces/{workspaceId}/documents/{documentId}",{params:{path:{workspaceId:e,documentId:t}},headers:n.ifMatch?{"If-Match":n.ifMatch}:void 0})}async function _B(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/documents/{documentId}/archive",{params:{path:{workspaceId:e,documentId:t}}});if(!n)throw new Error("Expected updated document record.");return n}async function kB(e,t){const{data:n}=await Qe.POST("/api/v1/workspaces/{workspaceId}/documents/{documentId}/restore",{params:{path:{workspaceId:e,documentId:t}}});if(!n)throw new Error("Expected updated document record.");return n}function fy(e="idem"){return typeof crypto<"u"&&"randomUUID"in crypto?`${e}_${crypto.randomUUID()}`:`${e}_${Date.now()}_${Math.random().toString(36).slice(2,10)}`}const RB=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"});function MB(e,t,n={}){const{method:r="POST",headers:o,onProgress:l,signal:c}=n,d=Qi(e),f=new XMLHttpRequest,p=new Promise((x,b)=>{f.open(r,d),f.withCredentials=!0,Db(r,o).forEach((S,C)=>{f.setRequestHeader(C,S)}),f.upload.onprogress=S=>{const C=S.lengthComputable?S.total:null,j=C&&C>0?Math.round(S.loaded/C*100):null;l?.({loaded:S.loaded,total:C,percent:j})},f.onload=()=>{const S=f.status,C=f.getResponseHeader("Content-Type")??"",j=f.responseText??"",E=DB(j,C);if(S>=200&&S<300){x({data:E,status:S});return}const N=AB(j,C),_=N?.title??N?.detail??`Request failed with status ${S}`;b(new Ft(_,S,N))},f.onerror=()=>{b(new Ft("Upload failed due to a network error.",f.status||0))},f.onabort=()=>{b(RB)},f.send(t)}),g=()=>{f.abort()};return c&&(c.aborted?f.abort():(c.addEventListener("abort",g),p.finally(()=>c.removeEventListener("abort",g)))),{promise:p,abort:()=>f.abort()}}function DB(e,t){if(!e||!t.includes("application/json"))return null;try{return JSON.parse(e)}catch{return null}}function AB(e,t){if(!(!e||!_N(t)))try{return JSON.parse(e)}catch{return}}function OB(e,t,n={}){const r=new FormData;return r.append("file",t),n.runOptions&&r.append("run_options",JSON.stringify(n.runOptions)),MB(`/api/v1/workspaces/${e}/documents`,r,{headers:{"Idempotency-Key":n.idempotencyKey??fy("document-upload")},onProgress:n.onProgress})}async function TB(e,t,n){const{data:r}=await Qe.POST("/api/v1/workspaces/{workspaceId}/documents/uploadsessions",{params:{path:{workspaceId:e}},body:t,signal:n});if(!r)throw new Error("Expected upload session response.");return r}async function zB(e,t,n){const r=await bh(`/api/v1/workspaces/${e}/documents/uploadsessions/${t}`,{method:"PUT",body:n.body,headers:{"Content-Range":`bytes ${n.start}-${n.end}/${n.total}`,"Content-Type":"application/octet-stream"},signal:n.signal});if(!r.ok){const l=await bc(r),c=l?.title??`Request failed with status ${r.status}`;throw new Ft(c,r.status,l)}const o=await r.json().catch(()=>null);if(!o)throw new Error("Expected upload range response.");return o}async function PB(e,t,n){const{data:r}=await Qe.GET("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}",{params:{path:{workspaceId:e,uploadSessionId:t}},signal:n});if(!r)throw new Error("Expected upload session status response.");return r}async function IB(e,t,n,r){const{data:o}=await Qe.POST("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}/commit",{params:{path:{workspaceId:e,uploadSessionId:t}},headers:{"Idempotency-Key":n??fy("document-commit")},signal:r});if(!o)throw new Error("Expected upload commit response.");return o}async function LB(e,t,n){await Qe.DELETE("/api/v1/workspaces/{workspaceId}/documents/uploadsessions/{uploadSessionId}",{params:{path:{workspaceId:e,uploadSessionId:t}},signal:n})}async function $B(e,t,n,r){const o={add:n.add?[...n.add]:n.add,remove:n.remove?[...n.remove]:n.remove},{data:l}=await Qe.PATCH("/api/v1/workspaces/{workspaceId}/documents/{documentId}/tags",{params:{path:{workspaceId:e,documentId:t}},body:o,signal:r});if(!l)throw new Error("Expected document payload.");return l}async function Hk(e,t={},n){const{data:r}=await Qe.GET("/api/v1/workspaces/{workspaceId}/documents/tags",{params:{path:{workspaceId:e},query:t},signal:n});if(!r)throw new Error("Expected tag catalog payload.");return r}function FB(e,t={}){const n=new URLSearchParams;t.cursor&&n.set("cursor",t.cursor),typeof t.limit=="number"&&n.set("limit",String(t.limit)),t.sort&&n.set("sort",t.sort),t.q&&n.set("q",t.q),t.joinOperator&&n.set("joinOperator",t.joinOperator);const r=yh(t.filters);r&&n.set("filters",r);const o=n.toString();return Qi(`/api/v1/workspaces/${e}/documents/changes/stream${o?`?${o}`:""}`)}async function*UB(e,t){const n=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),r=new AbortController,o=()=>r.abort();let l=null;t?.aborted?r.abort():t&&t.addEventListener("abort",o);try{const c=Db("GET",{Accept:"text/event-stream"}),d=await fetch(e,{method:"GET",credentials:"include",headers:c,signal:r.signal});if(!d.ok){const g=await bc(d),x=g?.title??`Request failed with status ${d.status}`;throw new Ft(x,d.status,g)}if(!d.body)throw new Error("Document change stream unavailable.");l=d.body.getReader();const f=new TextDecoder;let p="";for(;;){const{value:g,done:x}=await l.read();for(p+=f.decode(g??new Uint8Array,{stream:!x});;){const b=p.match(/\r?\n\r?\n/);if(!b||b.index===void 0)break;const w=p.slice(0,b.index);p=p.slice(b.index+b[0].length);const S=Nj(w);S&&(yield S)}if(x){const b=Nj(p);b&&(yield b);return}}}catch(c){throw r.signal.aborted?n:c}finally{if(t&&t.removeEventListener("abort",o),l)try{await l.cancel()}catch{}r.signal.aborted||r.abort()}}function Nj(e){const t=[];let n=null,r=null;for(const l of e.split(/\r?\n/)){if(l.startsWith("data:")){const c=l.slice(5);t.push(c.startsWith(" ")?c.slice(1):c);continue}if(l.startsWith("event:")){n=l.slice(6).trim();continue}l.startsWith("id:")&&(r=l.slice(3).trim())}if(!t.length)return null;const o=t.join(`
`);if(!o.trim())return null;try{const l=JSON.parse(o);if(!l||typeof l!="object")return null;const c=typeof l.type=="string"?l.type:n??"",d=typeof l.cursor=="string"?l.cursor:r??"";return!c||!d?null:{...l,type:c,cursor:d,matchesFilters:typeof l.matchesFilters=="boolean"?l.matchesFilters:!1,requiresRefresh:typeof l.requiresRefresh=="boolean"?l.requiresRefresh:!1}}catch(l){return console.warn("Skipping malformed document change event",l,o),null}}function _j(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function BB(e,t){const n=m.createContext(t),r=l=>{const{children:c,...d}=l,f=m.useMemo(()=>d,Object.values(d));return i.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function o(l){const c=m.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,o]}function ei(e,t=[]){let n=[];function r(l,c){const d=m.createContext(c),f=n.length;n=[...n,c];const p=x=>{const{scope:b,children:w,...S}=x,C=b?.[e]?.[f]||d,j=m.useMemo(()=>S,Object.values(S));return i.jsx(C.Provider,{value:j,children:w})};p.displayName=l+"Provider";function g(x,b){const w=b?.[e]?.[f]||d,S=m.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[p,g]}const o=()=>{const l=n.map(c=>m.createContext(c));return function(d){const f=d?.[e]||l;return m.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[r,VB(o,...t)]}function VB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=r.reduce((d,{useScope:f,scopeName:p})=>{const x=f(l)[`__scope${p}`];return{...d,...x}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function kj(e){const t=HB(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(WB);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function HB(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=YB(o),d=GB(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qB=Symbol("radix.slottable");function WB(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qB}function GB(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function YB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function my(e){const t=e+"CollectionProvider",[n,r]=ei(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:j,children:E}=C,N=_e.useRef(null),_=_e.useRef(new Map).current;return i.jsx(o,{scope:j,itemMap:_,collectionRef:N,children:E})};c.displayName=t;const d=e+"CollectionSlot",f=kj(d),p=_e.forwardRef((C,j)=>{const{scope:E,children:N}=C,_=l(d,E),R=qt(j,_.collectionRef);return i.jsx(f,{ref:R,children:N})});p.displayName=d;const g=e+"CollectionItemSlot",x="data-radix-collection-item",b=kj(g),w=_e.forwardRef((C,j)=>{const{scope:E,children:N,..._}=C,R=_e.useRef(null),M=qt(j,R),D=l(g,E);return _e.useEffect(()=>(D.itemMap.set(R,{ref:R,..._}),()=>void D.itemMap.delete(R))),i.jsx(b,{[x]:"",ref:M,children:N})});w.displayName=g;function S(C){const j=l(e+"CollectionConsumer",C);return _e.useCallback(()=>{const N=j.collectionRef.current;if(!N)return[];const _=Array.from(N.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((D,O)=>_.indexOf(D.ref.current)-_.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},S,r]}var KB=m.createContext(void 0);function hy(e){const t=m.useContext(KB);return e||t||"ltr"}function ZB(e){const t=QB(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(JB);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function QB(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=tV(o),d=eV(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XB=Symbol("radix.slottable");function JB(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XB}function eV(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function tV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=nV.reduce((e,t)=>{const n=ZB(`Primitive.${t}`),r=m.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qk(e,t){e&&Wn.flushSync(()=>e.dispatchEvent(t))}function lo(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>t.current?.(...n),[])}function rV(e,t=globalThis?.document){const n=lo(e);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var sV="DismissableLayer",Wv="dismissableLayer.update",oV="dismissableLayer.pointerDownOutside",aV="dismissableLayer.focusOutside",Rj,Wk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,p=m.useContext(Wk),[g,x]=m.useState(null),b=g?.ownerDocument??globalThis?.document,[,w]=m.useState({}),S=qt(t,O=>x(O)),C=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=C.indexOf(j),N=g?C.indexOf(g):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,R=N>=E,M=cV(O=>{const A=O.target,L=[...p.branches].some(T=>T.contains(A));!R||L||(o?.(O),c?.(O),O.defaultPrevented||d?.())},b),D=uV(O=>{const A=O.target;[...p.branches].some(T=>T.contains(A))||(l?.(O),c?.(O),O.defaultPrevented||d?.())},b);return rV(O=>{N===p.layers.size-1&&(r?.(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},b),m.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Rj=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Mj(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Rj)}},[g,b,n,p]),m.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Mj())},[g,p]),m.useEffect(()=>{const O=()=>w({});return document.addEventListener(Wv,O),()=>document.removeEventListener(Wv,O)},[]),i.jsx(dt.div,{...f,ref:S,style:{pointerEvents:_?R?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,M.onPointerDownCapture)})});Nd.displayName=sV;var iV="DismissableLayerBranch",lV=m.forwardRef((e,t)=>{const n=m.useContext(Wk),r=m.useRef(null),o=qt(t,r);return m.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),i.jsx(dt.div,{...e,ref:o})});lV.displayName=iV;function cV(e,t=globalThis?.document){const n=lo(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){Gk(oV,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function uV(e,t=globalThis?.document){const n=lo(e),r=m.useRef(!1);return m.useEffect(()=>{const o=l=>{l.target&&!r.current&&Gk(aV,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Mj(){const e=new CustomEvent(Wv);document.dispatchEvent(e)}function Gk(e,t,n,{discrete:r}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?qk(o,l):o.dispatchEvent(l)}var Vx=0;function Lh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dj()),document.body.insertAdjacentElement("beforeend",e[1]??Dj()),Vx++,()=>{Vx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vx--}},[])}function Dj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hx="focusScope.autoFocusOnMount",qx="focusScope.autoFocusOnUnmount",Aj={bubbles:!1,cancelable:!0},dV="FocusScope",_d=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,f]=m.useState(null),p=lo(o),g=lo(l),x=m.useRef(null),b=qt(t,C=>f(C)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let C=function(_){if(w.paused||!d)return;const R=_.target;d.contains(R)?x.current=R:za(x.current,{select:!0})},j=function(_){if(w.paused||!d)return;const R=_.relatedTarget;R!==null&&(d.contains(R)||za(x.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const M of _)M.removedNodes.length>0&&za(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",j);const N=new MutationObserver(E);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",j),N.disconnect()}}},[r,d,w.paused]),m.useEffect(()=>{if(d){Tj.add(w);const C=document.activeElement;if(!d.contains(C)){const E=new CustomEvent(Hx,Aj);d.addEventListener(Hx,p),d.dispatchEvent(E),E.defaultPrevented||(fV(xV(Yk(d)),{select:!0}),document.activeElement===C&&za(d))}return()=>{d.removeEventListener(Hx,p),setTimeout(()=>{const E=new CustomEvent(qx,Aj);d.addEventListener(qx,g),d.dispatchEvent(E),E.defaultPrevented||za(C??document.body,{select:!0}),d.removeEventListener(qx,g),Tj.remove(w)},0)}}},[d,p,g,w]);const S=m.useCallback(C=>{if(!n&&!r||w.paused)return;const j=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,E=document.activeElement;if(j&&E){const N=C.currentTarget,[_,R]=mV(N);_&&R?!C.shiftKey&&E===R?(C.preventDefault(),n&&za(_,{select:!0})):C.shiftKey&&E===_&&(C.preventDefault(),n&&za(R,{select:!0})):E===N&&C.preventDefault()}},[n,r,w.paused]);return i.jsx(dt.div,{tabIndex:-1,...c,ref:b,onKeyDown:S})});_d.displayName=dV;function fV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(za(r,{select:t}),document.activeElement!==n)return}function mV(e){const t=Yk(e),n=Oj(t,e),r=Oj(t.reverse(),e);return[n,r]}function Yk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oj(e,t){for(const n of e)if(!hV(n,{upTo:t}))return n}function hV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pV(e){return e instanceof HTMLInputElement&&"select"in e}function za(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pV(e)&&t&&e.select()}}var Tj=gV();function gV(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=zj(e,t),e.unshift(t)},remove(t){e=zj(e,t),e[0]?.resume()}}}function zj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function xV(e){return e.filter(t=>t.tagName!=="A")}var hr=globalThis?.document?m.useLayoutEffect:()=>{},vV=yb[" useId ".trim().toString()]||(()=>{}),bV=0;function mr(e){const[t,n]=m.useState(vV());return hr(()=>{n(r=>r??String(bV++))},[e]),e||(t?`radix-${t}`:"")}const yV=["top","right","bottom","left"],Ha=Math.min,Yr=Math.max,oh=Math.round,pm=Math.floor,io=e=>({x:e,y:e}),wV={left:"right",right:"left",bottom:"top",top:"bottom"},SV={start:"end",end:"start"};function Gv(e,t,n){return Yr(e,Ha(t,n))}function Go(e,t){return typeof e=="function"?e(t):e}function Yo(e){return e.split("-")[0]}function _c(e){return e.split("-")[1]}function py(e){return e==="x"?"y":"x"}function gy(e){return e==="y"?"height":"width"}const CV=new Set(["top","bottom"]);function so(e){return CV.has(Yo(e))?"y":"x"}function xy(e){return py(so(e))}function jV(e,t,n){n===void 0&&(n=!1);const r=_c(e),o=xy(e),l=gy(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=ah(c)),[c,ah(c)]}function EV(e){const t=ah(e);return[Yv(e),t,Yv(t)]}function Yv(e){return e.replace(/start|end/g,t=>SV[t])}const Pj=["left","right"],Ij=["right","left"],NV=["top","bottom"],_V=["bottom","top"];function kV(e,t,n){switch(e){case"top":case"bottom":return n?t?Ij:Pj:t?Pj:Ij;case"left":case"right":return t?NV:_V;default:return[]}}function RV(e,t,n,r){const o=_c(e);let l=kV(Yo(e),n==="start",r);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Yv)))),l}function ah(e){return e.replace(/left|right|bottom|top/g,t=>wV[t])}function MV(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kk(e){return typeof e!="number"?MV(e):{top:e,right:e,bottom:e,left:e}}function ih(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Lj(e,t,n){let{reference:r,floating:o}=e;const l=so(t),c=xy(t),d=gy(c),f=Yo(t),p=l==="y",g=r.x+r.width/2-o.width/2,x=r.y+r.height/2-o.height/2,b=r[d]/2-o[d]/2;let w;switch(f){case"top":w={x:g,y:r.y-o.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:x};break;case"left":w={x:r.x-o.width,y:x};break;default:w={x:r.x,y:r.y}}switch(_c(t)){case"start":w[c]-=b*(n&&p?-1:1);break;case"end":w[c]+=b*(n&&p?-1:1);break}return w}const DV=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:x}=Lj(p,r,f),b=r,w={},S=0;for(let C=0;C<d.length;C++){const{name:j,fn:E}=d[C],{x:N,y:_,data:R,reset:M}=await E({x:g,y:x,initialPlacement:r,placement:b,strategy:o,middlewareData:w,rects:p,platform:c,elements:{reference:e,floating:t}});g=N??g,x=_??x,w={...w,[j]:{...w[j],...R}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(p=M.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:g,y:x}=Lj(p,b,f)),C=-1)}return{x:g,y:x,placement:b,strategy:o,middlewareData:w}};async function od(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:b=!1,padding:w=0}=Go(t,e),S=Kk(w),j=d[b?x==="floating"?"reference":"floating":x],E=ih(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),N=x==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),R=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},M=ih(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:_,strategy:f}):N);return{top:(E.top-M.top+S.top)/R.y,bottom:(M.bottom-E.bottom+S.bottom)/R.y,left:(E.left-M.left+S.left)/R.x,right:(M.right-E.right+S.right)/R.x}}const AV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:p,padding:g=0}=Go(e,t)||{};if(p==null)return{};const x=Kk(g),b={x:n,y:r},w=xy(o),S=gy(w),C=await c.getDimensions(p),j=w==="y",E=j?"top":"left",N=j?"bottom":"right",_=j?"clientHeight":"clientWidth",R=l.reference[S]+l.reference[w]-b[w]-l.floating[S],M=b[w]-l.reference[w],D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let O=D?D[_]:0;(!O||!await(c.isElement==null?void 0:c.isElement(D)))&&(O=d.floating[_]||l.floating[S]);const A=R/2-M/2,L=O/2-C[S]/2-1,T=Ha(x[E],L),W=Ha(x[N],L),I=T,F=O-C[S]-W,U=O/2-C[S]/2+A,ae=Gv(I,U,F),P=!f.arrow&&_c(o)!=null&&U!==ae&&l.reference[S]/2-(U<I?T:W)-C[S]/2<0,q=P?U<I?U-I:U-F:0;return{[w]:b[w]+q,data:{[w]:ae,centerOffset:U-ae-q,...P&&{alignmentOffset:q}},reset:P}}}),OV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...j}=Go(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Yo(o),N=so(d),_=Yo(d)===d,R=await(f.isRTL==null?void 0:f.isRTL(p.floating)),M=b||(_||!C?[ah(d)]:EV(d)),D=S!=="none";!b&&D&&M.push(...RV(d,C,S,R));const O=[d,...M],A=await od(t,j),L=[];let T=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&L.push(A[E]),x){const U=jV(o,c,R);L.push(A[U[0]],A[U[1]])}if(T=[...T,{placement:o,overflows:L}],!L.every(U=>U<=0)){var W,I;const U=(((W=l.flip)==null?void 0:W.index)||0)+1,ae=O[U];if(ae&&(!(x==="alignment"?N!==so(ae):!1)||T.every(K=>so(K.placement)===N?K.overflows[0]>0:!0)))return{data:{index:U,overflows:T},reset:{placement:ae}};let P=(I=T.filter(q=>q.overflows[0]<=0).sort((q,K)=>q.overflows[1]-K.overflows[1])[0])==null?void 0:I.placement;if(!P)switch(w){case"bestFit":{var F;const q=(F=T.filter(K=>{if(D){const te=so(K.placement);return te===N||te==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(te=>te>0).reduce((te,ve)=>te+ve,0)]).sort((K,te)=>K[1]-te[1])[0])==null?void 0:F[0];q&&(P=q);break}case"initialPlacement":P=d;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function $j(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fj(e){return yV.some(t=>e[t]>=0)}const TV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Go(e,t);switch(r){case"referenceHidden":{const l=await od(t,{...o,elementContext:"reference"}),c=$j(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Fj(c)}}}case"escaped":{const l=await od(t,{...o,altBoundary:!0}),c=$j(l,n.floating);return{data:{escapedOffsets:c,escaped:Fj(c)}}}default:return{}}}}},Zk=new Set(["left","top"]);async function zV(e,t){const{placement:n,platform:r,elements:o}=e,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Yo(n),d=_c(n),f=so(n)==="y",p=Zk.has(c)?-1:1,g=l&&f?-1:1,x=Go(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),f?{x:w*g,y:b*p}:{x:b*p,y:w*g}}const PV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:l,placement:c,middlewareData:d}=t,f=await zV(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},IV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:E,y:N}=j;return{x:E,y:N}}},...f}=Go(e,t),p={x:n,y:r},g=await od(t,f),x=so(Yo(o)),b=py(x);let w=p[b],S=p[x];if(l){const j=b==="y"?"top":"left",E=b==="y"?"bottom":"right",N=w+g[j],_=w-g[E];w=Gv(N,w,_)}if(c){const j=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=S+g[j],_=S-g[E];S=Gv(N,S,_)}const C=d.fn({...t,[b]:w,[x]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[b]:l,[x]:c}}}}}},LV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Go(e,t),g={x:n,y:r},x=so(o),b=py(x);let w=g[b],S=g[x];const C=Go(d,t),j=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const _=b==="y"?"height":"width",R=l.reference[b]-l.floating[_]+j.mainAxis,M=l.reference[b]+l.reference[_]-j.mainAxis;w<R?w=R:w>M&&(w=M)}if(p){var E,N;const _=b==="y"?"width":"height",R=Zk.has(Yo(o)),M=l.reference[x]-l.floating[_]+(R&&((E=c.offset)==null?void 0:E[x])||0)+(R?0:j.crossAxis),D=l.reference[x]+l.reference[_]+(R?0:((N=c.offset)==null?void 0:N[x])||0)-(R?j.crossAxis:0);S<M?S=M:S>D&&(S=D)}return{[b]:w,[x]:S}}}},$V=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...p}=Go(e,t),g=await od(t,p),x=Yo(o),b=_c(o),w=so(o)==="y",{width:S,height:C}=l.floating;let j,E;x==="top"||x==="bottom"?(j=x,E=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(E=x,j=b==="end"?"top":"bottom");const N=C-g.top-g.bottom,_=S-g.left-g.right,R=Ha(C-g[j],N),M=Ha(S-g[E],_),D=!t.middlewareData.shift;let O=R,A=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=N),D&&!b){const T=Yr(g.left,0),W=Yr(g.right,0),I=Yr(g.top,0),F=Yr(g.bottom,0);w?A=S-2*(T!==0||W!==0?T+W:Yr(g.left,g.right)):O=C-2*(I!==0||F!==0?I+F:Yr(g.top,g.bottom))}await f({...t,availableWidth:A,availableHeight:O});const L=await c.getDimensions(d.floating);return S!==L.width||C!==L.height?{reset:{rects:!0}}:{}}}};function $h(){return typeof window<"u"}function kc(e){return Qk(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mo(e){var t;return(t=(Qk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qk(e){return $h()?e instanceof Node||e instanceof Qr(e).Node:!1}function Bs(e){return $h()?e instanceof Element||e instanceof Qr(e).Element:!1}function co(e){return $h()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function Uj(e){return!$h()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}const FV=new Set(["inline","contents"]);function kd(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Vs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FV.has(o)}const UV=new Set(["table","td","th"]);function BV(e){return UV.has(kc(e))}const VV=[":popover-open",":modal"];function Fh(e){return VV.some(t=>{try{return e.matches(t)}catch{return!1}})}const HV=["transform","translate","scale","rotate","perspective"],qV=["transform","translate","scale","rotate","perspective","filter"],WV=["paint","layout","strict","content"];function vy(e){const t=by(),n=Bs(e)?Vs(e):e;return HV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qV.some(r=>(n.willChange||"").includes(r))||WV.some(r=>(n.contain||"").includes(r))}function GV(e){let t=qa(e);for(;co(t)&&!mc(t);){if(vy(t))return t;if(Fh(t))return null;t=qa(t)}return null}function by(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YV=new Set(["html","body","#document"]);function mc(e){return YV.has(kc(e))}function Vs(e){return Qr(e).getComputedStyle(e)}function Uh(e){return Bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(kc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uj(e)&&e.host||mo(e);return Uj(t)?t.host:t}function Xk(e){const t=qa(e);return mc(t)?e.ownerDocument?e.ownerDocument.body:e.body:co(t)&&kd(t)?t:Xk(t)}function ad(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Xk(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),c=Qr(o);if(l){const d=Kv(c);return t.concat(c,c.visualViewport||[],kd(o)?o:[],d&&n?ad(d):[])}return t.concat(o,ad(o,[],n))}function Kv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jk(e){const t=Vs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=co(e),l=o?e.offsetWidth:n,c=o?e.offsetHeight:r,d=oh(n)!==l||oh(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function yy(e){return Bs(e)?e:e.contextElement}function lc(e){const t=yy(e);if(!co(t))return io(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:l}=Jk(t);let c=(l?oh(n.width):n.width)/r,d=(l?oh(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const KV=io(0);function eR(e){const t=Qr(e);return!by()||!t.visualViewport?KV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qr(e)?!1:t}function Hi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=yy(e);let c=io(1);t&&(r?Bs(r)&&(c=lc(r)):c=lc(e));const d=ZV(l,n,r)?eR(l):io(0);let f=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,g=o.width/c.x,x=o.height/c.y;if(l){const b=Qr(l),w=r&&Bs(r)?Qr(r):r;let S=b,C=Kv(S);for(;C&&r&&w!==S;){const j=lc(C),E=C.getBoundingClientRect(),N=Vs(C),_=E.left+(C.clientLeft+parseFloat(N.paddingLeft))*j.x,R=E.top+(C.clientTop+parseFloat(N.paddingTop))*j.y;f*=j.x,p*=j.y,g*=j.x,x*=j.y,f+=_,p+=R,S=Qr(C),C=Kv(S)}}return ih({width:g,height:x,x:f,y:p})}function Bh(e,t){const n=Uh(e).scrollLeft;return t?t.left+n:Hi(mo(e)).left+n}function tR(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Bh(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function QV(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const l=o==="fixed",c=mo(r),d=t?Fh(t.floating):!1;if(r===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=io(1);const g=io(0),x=co(r);if((x||!x&&!l)&&((kc(r)!=="body"||kd(c))&&(f=Uh(r)),co(r))){const w=Hi(r);p=lc(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const b=c&&!x&&!l?tR(c,f):io(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-f.scrollTop*p.y+g.y+b.y}}function XV(e){return Array.from(e.getClientRects())}function JV(e){const t=mo(e),n=Uh(e),r=e.ownerDocument.body,o=Yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Bh(e);const d=-n.scrollTop;return Vs(r).direction==="rtl"&&(c+=Yr(t.clientWidth,r.clientWidth)-o),{width:o,height:l,x:c,y:d}}const Bj=25;function e8(e,t){const n=Qr(e),r=mo(e),o=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const g=by();(!g||g&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const p=Bh(r);if(p<=0){const g=r.ownerDocument,x=g.body,b=getComputedStyle(x),w=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(r.clientWidth-x.clientWidth-w);S<=Bj&&(l-=S)}else p<=Bj&&(l+=p);return{width:l,height:c,x:d,y:f}}const t8=new Set(["absolute","fixed"]);function n8(e,t){const n=Hi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,l=co(e)?lc(e):io(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,p=r*l.y;return{width:c,height:d,x:f,y:p}}function Vj(e,t,n){let r;if(t==="viewport")r=e8(e,n);else if(t==="document")r=JV(mo(e));else if(Bs(t))r=n8(t,n);else{const o=eR(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ih(r)}function nR(e,t){const n=qa(e);return n===t||!Bs(n)||mc(n)?!1:Vs(n).position==="fixed"||nR(n,t)}function r8(e,t){const n=t.get(e);if(n)return n;let r=ad(e,[],!1).filter(d=>Bs(d)&&kc(d)!=="body"),o=null;const l=Vs(e).position==="fixed";let c=l?qa(e):e;for(;Bs(c)&&!mc(c);){const d=Vs(c),f=vy(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&t8.has(o.position)||kd(c)&&!f&&nR(e,c))?r=r.filter(g=>g!==c):o=d,c=qa(c)}return t.set(e,r),r}function s8(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?Fh(t)?[]:r8(t,this._c):[].concat(n),r],d=c[0],f=c.reduce((p,g)=>{const x=Vj(t,g,o);return p.top=Yr(x.top,p.top),p.right=Ha(x.right,p.right),p.bottom=Ha(x.bottom,p.bottom),p.left=Yr(x.left,p.left),p},Vj(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function o8(e){const{width:t,height:n}=Jk(e);return{width:t,height:n}}function a8(e,t,n){const r=co(t),o=mo(t),l=n==="fixed",c=Hi(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=io(0);function p(){f.x=Bh(o)}if(r||!r&&!l)if((kc(t)!=="body"||kd(o))&&(d=Uh(t)),r){const w=Hi(t,!0,l,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else o&&p();l&&!r&&o&&p();const g=o&&!r&&!l?tR(o,d):io(0),x=c.left+d.scrollLeft-f.x-g.x,b=c.top+d.scrollTop-f.y-g.y;return{x,y:b,width:c.width,height:c.height}}function Wx(e){return Vs(e).position==="static"}function Hj(e,t){if(!co(e)||Vs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mo(e)===n&&(n=n.ownerDocument.body),n}function rR(e,t){const n=Qr(e);if(Fh(e))return n;if(!co(e)){let o=qa(e);for(;o&&!mc(o);){if(Bs(o)&&!Wx(o))return o;o=qa(o)}return n}let r=Hj(e,t);for(;r&&BV(r)&&Wx(r);)r=Hj(r,t);return r&&mc(r)&&Wx(r)&&!vy(r)?n:r||GV(e)||n}const i8=async function(e){const t=this.getOffsetParent||rR,n=this.getDimensions,r=await n(e.floating);return{reference:a8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l8(e){return Vs(e).direction==="rtl"}const c8={convertOffsetParentRelativeRectToViewportRelativeRect:QV,getDocumentElement:mo,getClippingRect:s8,getOffsetParent:rR,getElementRects:i8,getClientRects:XV,getDimensions:o8,getScale:lc,isElement:Bs,isRTL:l8};function sR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function u8(e,t){let n=null,r;const o=mo(e);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:g,top:x,width:b,height:w}=p;if(d||t(),!b||!w)return;const S=pm(x),C=pm(o.clientWidth-(g+b)),j=pm(o.clientHeight-(x+w)),E=pm(g),_={rootMargin:-S+"px "+-C+"px "+-j+"px "+-E+"px",threshold:Yr(0,Ha(1,f))||1};let R=!0;function M(D){const O=D[0].intersectionRatio;if(O!==f){if(!R)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!sR(p,e.getBoundingClientRect())&&c(),R=!1}try{n=new IntersectionObserver(M,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,_)}n.observe(e)}return c(!0),l}function d8(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=yy(e),g=o||l?[...p?ad(p):[],...ad(t)]:[];g.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const x=p&&d?u8(p,n):null;let b=-1,w=null;c&&(w=new ResizeObserver(E=>{let[N]=E;N&&N.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(t)})),n()}),p&&!f&&w.observe(p),w.observe(t));let S,C=f?Hi(e):null;f&&j();function j(){const E=Hi(e);C&&!sR(C,E)&&n(),C=E,S=requestAnimationFrame(j)}return n(),()=>{var E;g.forEach(N=>{o&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),x?.(),(E=w)==null||E.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const f8=PV,m8=IV,h8=OV,p8=$V,g8=TV,qj=AV,x8=LV,v8=(e,t,n)=>{const r=new Map,o={platform:c8,...n},l={...o.platform,_c:r};return DV(e,t,{...o,platform:l})};var b8=typeof document<"u",y8=function(){},Mm=b8?m.useLayoutEffect:y8;function lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!lh(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const l=o[r];if(!(l==="_owner"&&e.$$typeof)&&!lh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function oR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wj(e,t){const n=oR(e);return Math.round(t*n)/n}function Gx(e){const t=m.useRef(e);return Mm(()=>{t.current=e}),t}function w8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[g,x]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=m.useState(r);lh(b,r)||w(r);const[S,C]=m.useState(null),[j,E]=m.useState(null),N=m.useCallback(K=>{K!==D.current&&(D.current=K,C(K))},[]),_=m.useCallback(K=>{K!==O.current&&(O.current=K,E(K))},[]),R=l||S,M=c||j,D=m.useRef(null),O=m.useRef(null),A=m.useRef(g),L=f!=null,T=Gx(f),W=Gx(o),I=Gx(p),F=m.useCallback(()=>{if(!D.current||!O.current)return;const K={placement:t,strategy:n,middleware:b};W.current&&(K.platform=W.current),v8(D.current,O.current,K).then(te=>{const ve={...te,isPositioned:I.current!==!1};U.current&&!lh(A.current,ve)&&(A.current=ve,Wn.flushSync(()=>{x(ve)}))})},[b,t,n,W,I]);Mm(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,x(K=>({...K,isPositioned:!1})))},[p]);const U=m.useRef(!1);Mm(()=>(U.current=!0,()=>{U.current=!1}),[]),Mm(()=>{if(R&&(D.current=R),M&&(O.current=M),R&&M){if(T.current)return T.current(R,M,F);F()}},[R,M,F,T,L]);const ae=m.useMemo(()=>({reference:D,floating:O,setReference:N,setFloating:_}),[N,_]),P=m.useMemo(()=>({reference:R,floating:M}),[R,M]),q=m.useMemo(()=>{const K={position:n,left:0,top:0};if(!P.floating)return K;const te=Wj(P.floating,g.x),ve=Wj(P.floating,g.y);return d?{...K,transform:"translate("+te+"px, "+ve+"px)",...oR(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ve}},[n,d,P.floating,g.x,g.y]);return m.useMemo(()=>({...g,update:F,refs:ae,elements:P,floatingStyles:q}),[g,F,ae,P,q])}const S8=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?qj({element:r.current,padding:o}).fn(n):{}:r?qj({element:r,padding:o}).fn(n):{}}}},C8=(e,t)=>({...f8(e),options:[e,t]}),j8=(e,t)=>({...m8(e),options:[e,t]}),E8=(e,t)=>({...x8(e),options:[e,t]}),N8=(e,t)=>({...h8(e),options:[e,t]}),_8=(e,t)=>({...p8(e),options:[e,t]}),k8=(e,t)=>({...g8(e),options:[e,t]}),R8=(e,t)=>({...S8(e),options:[e,t]});var M8="Arrow",aR=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...l}=e;return i.jsx(dt.svg,{...l,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});aR.displayName=M8;var D8=aR;function A8(e){const[t,n]=m.useState(void 0);return hr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wy="Popper",[iR,Rc]=ei(wy),[O8,lR]=iR(wy),cR=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return i.jsx(O8,{scope:t,anchor:r,onAnchorChange:o,children:n})};cR.displayName=wy;var uR="PopperAnchor",dR=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,l=lR(uR,n),c=m.useRef(null),d=qt(t,c),f=m.useRef(null);return m.useEffect(()=>{const p=f.current;f.current=r?.current||c.current,p!==f.current&&l.onAnchorChange(f.current)}),r?null:i.jsx(dt.div,{...o,ref:d})});dR.displayName=uR;var Sy="PopperContent",[T8,z8]=iR(Sy),fR=m.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:S,...C}=e,j=lR(Sy,n),[E,N]=m.useState(null),_=qt(t,H=>N(H)),[R,M]=m.useState(null),D=A8(R),O=D?.width??0,A=D?.height??0,L=r+(l!=="center"?"-"+l:""),T=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(p)?p:[p],I=W.length>0,F={padding:T,boundary:W.filter(I8),altBoundary:I},{refs:U,floatingStyles:ae,placement:P,isPositioned:q,middlewareData:K}=w8({strategy:"fixed",placement:L,whileElementsMounted:(...H)=>d8(...H,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[C8({mainAxis:o+A,alignmentAxis:c}),f&&j8({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?E8():void 0,...F}),f&&N8({...F}),_8({...F,apply:({elements:H,rects:ee,availableWidth:oe,availableHeight:le})=>{const{width:de,height:Ee}=ee.reference,Oe=H.floating.style;Oe.setProperty("--radix-popper-available-width",`${oe}px`),Oe.setProperty("--radix-popper-available-height",`${le}px`),Oe.setProperty("--radix-popper-anchor-width",`${de}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),R&&R8({element:R,padding:d}),L8({arrowWidth:O,arrowHeight:A}),b&&k8({strategy:"referenceHidden",...F})]}),[te,ve]=pR(P),V=lo(S);hr(()=>{q&&V?.()},[q,V]);const B=K.arrow?.x,re=K.arrow?.y,Y=K.arrow?.centerOffset!==0,[z,G]=m.useState();return hr(()=>{E&&G(window.getComputedStyle(E).zIndex)},[E]),i.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:q?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(T8,{scope:n,placedSide:te,onArrowChange:M,arrowX:B,arrowY:re,shouldHideArrow:Y,children:i.jsx(dt.div,{"data-side":te,"data-align":ve,...C,ref:_,style:{...C.style,animation:q?void 0:"none"}})})})});fR.displayName=Sy;var mR="PopperArrow",P8={top:"bottom",right:"left",bottom:"top",left:"right"},hR=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,l=z8(mR,r),c=P8[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(D8,{...o,ref:n,style:{...o.style,display:"block"}})})});hR.displayName=mR;function I8(e){return e!==null}var L8=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,g]=pR(n),x={start:"0%",center:"50%",end:"100%"}[g],b=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+f/2;let S="",C="";return p==="bottom"?(S=c?x:`${b}px`,C=`${-f}px`):p==="top"?(S=c?x:`${b}px`,C=`${r.floating.height+f}px`):p==="right"?(S=`${-f}px`,C=c?x:`${w}px`):p==="left"&&(S=`${r.floating.width+f}px`,C=c?x:`${w}px`),{data:{x:S,y:C}}}});function pR(e){const[t,n="center"]=e.split("-");return[t,n]}var Cy=cR,Vh=dR,jy=fR,Ey=hR,$8="Portal",Rd=m.forwardRef((e,t)=>{const{container:n,...r}=e,[o,l]=m.useState(!1);hr(()=>l(!0),[]);const c=n||o&&globalThis?.document?.body;return c?zT.createPortal(i.jsx(dt.div,{...r,ref:t}),c):null});Rd.displayName=$8;function F8(e){const t=U8(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(V8);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function U8(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=q8(o),d=H8(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B8=Symbol("radix.slottable");function V8(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B8}function H8(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function q8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var W8=yb[" useInsertionEffect ".trim().toString()]||hr;function hc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,l,c]=G8({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:o;{const g=m.useRef(e!==void 0);m.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=m.useCallback(g=>{if(d){const x=Y8(g)?g(e):g;x!==e&&c.current?.(x)}else l(g)},[d,e,l,c]);return[f,p]}function G8({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),o=m.useRef(n),l=m.useRef(t);return W8(()=>{l.current=t},[t]),m.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,r,l]}function Y8(e){return typeof e=="function"}function K8(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z8="VisuallyHidden",Q8=m.forwardRef((e,t)=>i.jsx(dt.span,{...e,ref:t,style:{...gR,...e.style}}));Q8.displayName=Z8;var X8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gl=new WeakMap,gm=new WeakMap,xm={},Yx=0,xR=function(e){return e&&(e.host||xR(e.parentNode))},J8=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},eH=function(e,t,n,r){var o=J8(t,Array.isArray(e)?e:[e]);xm[n]||(xm[n]=new WeakMap);var l=xm[n],c=[],d=new Set,f=new Set(o),p=function(x){!x||d.has(x)||(d.add(x),p(x.parentNode))};o.forEach(p);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var w=b.getAttribute(r),S=w!==null&&w!=="false",C=(Gl.get(b)||0)+1,j=(l.get(b)||0)+1;Gl.set(b,C),l.set(b,j),c.push(b),C===1&&S&&gm.set(b,!0),j===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return g(t),d.clear(),Yx++,function(){c.forEach(function(x){var b=Gl.get(x)-1,w=l.get(x)-1;Gl.set(x,b),l.set(x,w),b||(gm.has(x)||x.removeAttribute(r),gm.delete(x)),w||x.removeAttribute(n)}),Yx--,Yx||(Gl=new WeakMap,Gl=new WeakMap,gm=new WeakMap,xm={})}},Hh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=X8(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),eH(r,o,n,"aria-hidden")):function(){return null}},ro=function(){return ro=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ro.apply(this,arguments)};function vR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function tH(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,l;r<o;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Dm="right-scroll-bar-position",Am="width-before-scroll-bar",nH="with-scroll-bars-hidden",rH="--removed-body-scroll-bar-size";function Kx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sH(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var oH=typeof window<"u"?m.useLayoutEffect:m.useEffect,Gj=new WeakMap;function aH(e,t){var n=sH(null,function(r){return e.forEach(function(o){return Kx(o,r)})});return oH(function(){var r=Gj.get(n);if(r){var o=new Set(r),l=new Set(e),c=n.current;o.forEach(function(d){l.has(d)||Kx(d,null)}),l.forEach(function(d){o.has(d)||Kx(d,c)})}Gj.set(n,e)},[e]),n}function iH(e){return e}function lH(e,t){t===void 0&&(t=iH);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var g=c;c=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return o}function cH(e){e===void 0&&(e={});var t=lH(null);return t.options=ro({async:!0,ssr:!1},e),t}var bR=function(e){var t=e.sideCar,n=vR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ro({},n))};bR.isSideCarExport=!0;function uH(e,t){return e.useMedium(t),bR}var yR=cH(),Zx=function(){},qh=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Zx,onWheelCapture:Zx,onTouchMoveCapture:Zx}),o=r[0],l=r[1],c=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,x=e.shards,b=e.sideCar,w=e.noRelative,S=e.noIsolation,C=e.inert,j=e.allowPinchZoom,E=e.as,N=E===void 0?"div":E,_=e.gapMode,R=vR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,D=aH([n,t]),O=ro(ro({},R),o);return m.createElement(m.Fragment,null,g&&m.createElement(M,{sideCar:yR,removeScrollBar:p,shards:x,noRelative:w,noIsolation:S,inert:C,setCallbacks:l,allowPinchZoom:!!j,lockRef:n,gapMode:_}),c?m.cloneElement(m.Children.only(d),ro(ro({},O),{ref:D})):m.createElement(N,ro({},O,{className:f,ref:D}),d))});qh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qh.classNames={fullWidth:Am,zeroRight:Dm};var dH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dH();return t&&e.setAttribute("nonce",t),e}function mH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pH=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fH())&&(mH(t,n),hH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gH=function(){var e=pH();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wR=function(){var e=gH(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},xH={left:0,top:0,right:0,gap:0},Qx=function(e){return parseInt(e||"",10)||0},vH=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Qx(n),Qx(r),Qx(o)]},bH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xH;var t=vH(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yH=wR(),cc="data-scroll-locked",wH=function(e,t,n,r){var o=e.left,l=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dm,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Am,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Dm," .").concat(Dm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cc,`] {
    `).concat(rH,": ").concat(d,`px;
  }
`)},Yj=function(){var e=parseInt(document.body.getAttribute(cc)||"0",10);return isFinite(e)?e:0},SH=function(){m.useEffect(function(){return document.body.setAttribute(cc,(Yj()+1).toString()),function(){var e=Yj()-1;e<=0?document.body.removeAttribute(cc):document.body.setAttribute(cc,e.toString())}},[])},CH=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;SH();var l=m.useMemo(function(){return bH(o)},[o]);return m.createElement(yH,{styles:wH(l,!t,o,n?"":"!important")})},Zv=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Zv=!1}var Yl=Zv?{passive:!1}:!1,jH=function(e){return e.tagName==="TEXTAREA"},SR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jH(e)&&n[t]==="visible")},EH=function(e){return SR(e,"overflowY")},NH=function(e){return SR(e,"overflowX")},Kj=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=CR(e,r);if(o){var l=jR(e,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_H=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},CR=function(e,t){return e==="v"?EH(t):NH(t)},jR=function(e,t){return e==="v"?_H(t):kH(t)},RH=function(e,t){return e==="h"&&t==="rtl"?-1:1},MH=function(e,t,n,r,o){var l=RH(e,window.getComputedStyle(t).direction),c=l*r,d=n.target,f=t.contains(d),p=!1,g=c>0,x=0,b=0;do{if(!d)break;var w=jR(e,d),S=w[0],C=w[1],j=w[2],E=C-j-l*S;(S||E)&&CR(e,d)&&(x+=E,b+=S);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(p=!0),p},bm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zj=function(e){return[e.deltaX,e.deltaY]},Qj=function(e){return e&&"current"in e?e.current:e},DH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OH=0,Kl=[];function TH(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(OH++)[0],l=m.useState(wR)[0],c=m.useRef(e);m.useEffect(function(){c.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var C=tH([e.lockRef.current],(e.shards||[]).map(Qj),!0).filter(Boolean);return C.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),C.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=m.useCallback(function(C,j){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var E=bm(C),N=n.current,_="deltaX"in C?C.deltaX:N[0]-E[0],R="deltaY"in C?C.deltaY:N[1]-E[1],M,D=C.target,O=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in C&&O==="h"&&D.type==="range")return!1;var A=window.getSelection(),L=A&&A.anchorNode,T=L?L===D||L.contains(D):!1;if(T)return!1;var W=Kj(O,D);if(!W)return!0;if(W?M=O:(M=O==="v"?"h":"v",W=Kj(O,D)),!W)return!1;if(!r.current&&"changedTouches"in C&&(_||R)&&(r.current=M),!M)return!0;var I=r.current||M;return MH(I,j,C,I==="h"?_:R)},[]),f=m.useCallback(function(C){var j=C;if(!(!Kl.length||Kl[Kl.length-1]!==l)){var E="deltaY"in j?Zj(j):bm(j),N=t.current.filter(function(M){return M.name===j.type&&(M.target===j.target||j.target===M.shadowParent)&&DH(M.delta,E)})[0];if(N&&N.should){j.cancelable&&j.preventDefault();return}if(!N){var _=(c.current.shards||[]).map(Qj).filter(Boolean).filter(function(M){return M.contains(j.target)}),R=_.length>0?d(j,_[0]):!c.current.noIsolation;R&&j.cancelable&&j.preventDefault()}}},[]),p=m.useCallback(function(C,j,E,N){var _={name:C,delta:j,target:E,should:N,shadowParent:zH(E)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(R){return R!==_})},1)},[]),g=m.useCallback(function(C){n.current=bm(C),r.current=void 0},[]),x=m.useCallback(function(C){p(C.type,Zj(C),C.target,d(C,e.lockRef.current))},[]),b=m.useCallback(function(C){p(C.type,bm(C),C.target,d(C,e.lockRef.current))},[]);m.useEffect(function(){return Kl.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Yl),document.addEventListener("touchmove",f,Yl),document.addEventListener("touchstart",g,Yl),function(){Kl=Kl.filter(function(C){return C!==l}),document.removeEventListener("wheel",f,Yl),document.removeEventListener("touchmove",f,Yl),document.removeEventListener("touchstart",g,Yl)}},[]);var w=e.removeScrollBar,S=e.inert;return m.createElement(m.Fragment,null,S?m.createElement(l,{styles:AH(o)}):null,w?m.createElement(CH,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PH=uH(yR,TH);var Md=m.forwardRef(function(e,t){return m.createElement(qh,ro({},e,{ref:t,sideCar:PH}))});Md.classNames=qh.classNames;var IH=[" ","Enter","ArrowUp","ArrowDown"],LH=[" ","Enter"],qi="Select",[Wh,Gh,$H]=my(qi),[Mc]=ei(qi,[$H,Rc]),Yh=Rc(),[FH,ti]=Mc(qi),[UH,BH]=Mc(qi),ER=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:p,name:g,autoComplete:x,disabled:b,required:w,form:S}=e,C=Yh(t),[j,E]=m.useState(null),[N,_]=m.useState(null),[R,M]=m.useState(!1),D=hy(p),[O,A]=hc({prop:r,defaultProp:o??!1,onChange:l,caller:qi}),[L,T]=hc({prop:c,defaultProp:d,onChange:f,caller:qi}),W=m.useRef(null),I=j?S||!!j.closest("form"):!0,[F,U]=m.useState(new Set),ae=Array.from(F).map(P=>P.props.value).join(";");return i.jsx(Cy,{...C,children:i.jsxs(FH,{required:w,scope:t,trigger:j,onTriggerChange:E,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:M,contentId:mr(),value:L,onValueChange:T,open:O,onOpenChange:A,dir:D,triggerPointerDownPosRef:W,disabled:b,children:[i.jsx(Wh.Provider,{scope:t,children:i.jsx(UH,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(P=>{U(q=>new Set(q).add(P))},[]),onNativeOptionRemove:m.useCallback(P=>{U(q=>{const K=new Set(q);return K.delete(P),K})},[]),children:n})}),I?i.jsxs(GR,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:x,value:L,onChange:P=>T(P.target.value),disabled:b,form:S,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},ae):null]})})};ER.displayName=qi;var NR="SelectTrigger",_R=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,l=Yh(n),c=ti(NR,n),d=c.disabled||r,f=qt(t,c.onTriggerChange),p=Gh(n),g=m.useRef("touch"),[x,b,w]=KR(C=>{const j=p().filter(_=>!_.disabled),E=j.find(_=>_.value===c.value),N=ZR(j,C,E);N!==void 0&&c.onValueChange(N.value)}),S=C=>{d||(c.onOpenChange(!0),w()),C&&(c.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return i.jsx(Vh,{asChild:!0,...l,children:i.jsx(dt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":YR(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&S(C)}),onPointerDown:Ke(o.onPointerDown,C=>{g.current=C.pointerType;const j=C.target;j.hasPointerCapture(C.pointerId)&&j.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(S(C),C.preventDefault())}),onKeyDown:Ke(o.onKeyDown,C=>{const j=x.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&b(C.key),!(j&&C.key===" ")&&IH.includes(C.key)&&(S(),C.preventDefault())})})})});_R.displayName=NR;var kR="SelectValue",RR=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:l,placeholder:c="",...d}=e,f=ti(kR,n),{onValueNodeHasChildrenChange:p}=f,g=l!==void 0,x=qt(t,f.onValueNodeChange);return hr(()=>{p(g)},[p,g]),i.jsx(dt.span,{...d,ref:x,style:{pointerEvents:"none"},children:YR(f.value)?i.jsx(i.Fragment,{children:c}):l})});RR.displayName=kR;var VH="SelectIcon",MR=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return i.jsx(dt.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});MR.displayName=VH;var HH="SelectPortal",DR=e=>i.jsx(Rd,{asChild:!0,...e});DR.displayName=HH;var Wi="SelectContent",AR=m.forwardRef((e,t)=>{const n=ti(Wi,e.__scopeSelect),[r,o]=m.useState();if(hr(()=>{o(new DocumentFragment)},[]),!n.open){const l=r;return l?Wn.createPortal(i.jsx(OR,{scope:e.__scopeSelect,children:i.jsx(Wh.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),l):null}return i.jsx(TR,{...e,ref:t})});AR.displayName=Wi;var Os=10,[OR,ni]=Mc(Wi),qH="SelectContentImpl",WH=F8("SelectContent.RemoveScroll"),TR=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:C,avoidCollisions:j,...E}=e,N=ti(Wi,n),[_,R]=m.useState(null),[M,D]=m.useState(null),O=qt(t,H=>R(H)),[A,L]=m.useState(null),[T,W]=m.useState(null),I=Gh(n),[F,U]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(_)return Hh(_)},[_]),Lh();const P=m.useCallback(H=>{const[ee,...oe]=I().map(Ee=>Ee.ref.current),[le]=oe.slice(-1),de=document.activeElement;for(const Ee of H)if(Ee===de||(Ee?.scrollIntoView({block:"nearest"}),Ee===ee&&M&&(M.scrollTop=0),Ee===le&&M&&(M.scrollTop=M.scrollHeight),Ee?.focus(),document.activeElement!==de))return},[I,M]),q=m.useCallback(()=>P([A,_]),[P,A,_]);m.useEffect(()=>{F&&q()},[F,q]);const{onOpenChange:K,triggerPointerDownPosRef:te}=N;m.useEffect(()=>{if(_){let H={x:0,y:0};const ee=le=>{H={x:Math.abs(Math.round(le.pageX)-(te.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(te.current?.y??0))}},oe=le=>{H.x<=10&&H.y<=10?le.preventDefault():_.contains(le.target)||K(!1),document.removeEventListener("pointermove",ee),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",oe,{capture:!0})}}},[_,K,te]),m.useEffect(()=>{const H=()=>K(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[K]);const[ve,V]=KR(H=>{const ee=I().filter(de=>!de.disabled),oe=ee.find(de=>de.ref.current===document.activeElement),le=ZR(ee,H,oe);le&&setTimeout(()=>le.ref.current.focus())}),B=m.useCallback((H,ee,oe)=>{const le=!ae.current&&!oe;(N.value!==void 0&&N.value===ee||le)&&(L(H),le&&(ae.current=!0))},[N.value]),re=m.useCallback(()=>_?.focus(),[_]),Y=m.useCallback((H,ee,oe)=>{const le=!ae.current&&!oe;(N.value!==void 0&&N.value===ee||le)&&W(H)},[N.value]),z=r==="popper"?Qv:zR,G=z===Qv?{side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:C,avoidCollisions:j}:{};return i.jsx(OR,{scope:n,content:_,viewport:M,onViewportChange:D,itemRefCallback:B,selectedItem:A,onItemLeave:re,itemTextRefCallback:Y,focusSelectedItem:q,selectedItemText:T,position:r,isPositioned:F,searchRef:ve,children:i.jsx(Md,{as:WH,allowPinchZoom:!0,children:i.jsx(_d,{asChild:!0,trapped:N.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Ke(o,H=>{N.trigger?.focus({preventScroll:!0}),H.preventDefault()}),children:i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:i.jsx(z,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:H=>H.preventDefault(),...E,...G,onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ke(E.onKeyDown,H=>{const ee=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ee&&H.key.length===1&&V(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let le=I().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(H.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const de=H.target,Ee=le.indexOf(de);le=le.slice(Ee+1)}setTimeout(()=>P(le)),H.preventDefault()}})})})})})})});TR.displayName=qH;var GH="SelectItemAlignedPosition",zR=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,l=ti(Wi,n),c=ni(Wi,n),[d,f]=m.useState(null),[p,g]=m.useState(null),x=qt(t,O=>g(O)),b=Gh(n),w=m.useRef(!1),S=m.useRef(!0),{viewport:C,selectedItem:j,selectedItemText:E,focusSelectedItem:N}=c,_=m.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&C&&j&&E){const O=l.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),L=l.valueNode.getBoundingClientRect(),T=E.getBoundingClientRect();if(l.dir!=="rtl"){const de=T.left-A.left,Ee=L.left-de,Oe=O.left-Ee,Pe=O.width+Oe,ot=Math.max(Pe,A.width),xt=window.innerWidth-Os,ct=_j(Ee,[Os,Math.max(Os,xt-ot)]);d.style.minWidth=Pe+"px",d.style.left=ct+"px"}else{const de=A.right-T.right,Ee=window.innerWidth-L.right-de,Oe=window.innerWidth-O.right-Ee,Pe=O.width+Oe,ot=Math.max(Pe,A.width),xt=window.innerWidth-Os,ct=_j(Ee,[Os,Math.max(Os,xt-ot)]);d.style.minWidth=Pe+"px",d.style.right=ct+"px"}const W=b(),I=window.innerHeight-Os*2,F=C.scrollHeight,U=window.getComputedStyle(p),ae=parseInt(U.borderTopWidth,10),P=parseInt(U.paddingTop,10),q=parseInt(U.borderBottomWidth,10),K=parseInt(U.paddingBottom,10),te=ae+P+F+K+q,ve=Math.min(j.offsetHeight*5,te),V=window.getComputedStyle(C),B=parseInt(V.paddingTop,10),re=parseInt(V.paddingBottom,10),Y=O.top+O.height/2-Os,z=I-Y,G=j.offsetHeight/2,H=j.offsetTop+G,ee=ae+P+H,oe=te-ee;if(ee<=Y){const de=W.length>0&&j===W[W.length-1].ref.current;d.style.bottom="0px";const Ee=p.clientHeight-C.offsetTop-C.offsetHeight,Oe=Math.max(z,G+(de?re:0)+Ee+q),Pe=ee+Oe;d.style.height=Pe+"px"}else{const de=W.length>0&&j===W[0].ref.current;d.style.top="0px";const Oe=Math.max(Y,ae+C.offsetTop+(de?B:0)+G)+oe;d.style.height=Oe+"px",C.scrollTop=ee-Y+C.offsetTop}d.style.margin=`${Os}px 0`,d.style.minHeight=ve+"px",d.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[b,l.trigger,l.valueNode,d,p,C,j,E,l.dir,r]);hr(()=>_(),[_]);const[R,M]=m.useState();hr(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const D=m.useCallback(O=>{O&&S.current===!0&&(_(),N?.(),S.current=!1)},[_,N]);return i.jsx(KH,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:i.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:i.jsx(dt.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});zR.displayName=GH;var YH="SelectPopperPosition",Qv=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Os,...l}=e,c=Yh(n);return i.jsx(jy,{...c,...l,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qv.displayName=YH;var[KH,Ny]=Mc(Wi,{}),Xv="SelectViewport",PR=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,l=ni(Xv,n),c=Ny(Xv,n),d=qt(t,l.onViewportChange),f=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Wh.Slot,{scope:n,children:i.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,p=>{const g=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=c;if(b?.current&&x){const w=Math.abs(f.current-g.scrollTop);if(w>0){const S=window.innerHeight-Os*2,C=parseFloat(x.style.minHeight),j=parseFloat(x.style.height),E=Math.max(C,j);if(E<S){const N=E+w,_=Math.min(S,N),R=N-_;x.style.height=_+"px",x.style.bottom==="0px"&&(g.scrollTop=R>0?R:0,x.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});PR.displayName=Xv;var IR="SelectGroup",[ZH,QH]=Mc(IR),XH=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=mr();return i.jsx(ZH,{scope:n,id:o,children:i.jsx(dt.div,{role:"group","aria-labelledby":o,...r,ref:t})})});XH.displayName=IR;var LR="SelectLabel",JH=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=QH(LR,n);return i.jsx(dt.div,{id:o.id,...r,ref:t})});JH.displayName=LR;var ch="SelectItem",[eq,$R]=Mc(ch),FR=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:l,...c}=e,d=ti(ch,n),f=ni(ch,n),p=d.value===r,[g,x]=m.useState(l??""),[b,w]=m.useState(!1),S=qt(t,N=>f.itemRefCallback?.(N,r,o)),C=mr(),j=m.useRef("touch"),E=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(eq,{scope:n,value:r,disabled:o,textId:C,isSelected:p,onItemTextChange:m.useCallback(N=>{x(_=>_||(N?.textContent??"").trim())},[]),children:i.jsx(Wh.ItemSlot,{scope:n,value:r,disabled:o,textValue:g,children:i.jsx(dt.div,{role:"option","aria-labelledby":C,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:S,onFocus:Ke(c.onFocus,()=>w(!0)),onBlur:Ke(c.onBlur,()=>w(!1)),onClick:Ke(c.onClick,()=>{j.current!=="mouse"&&E()}),onPointerUp:Ke(c.onPointerUp,()=>{j.current==="mouse"&&E()}),onPointerDown:Ke(c.onPointerDown,N=>{j.current=N.pointerType}),onPointerMove:Ke(c.onPointerMove,N=>{j.current=N.pointerType,o?f.onItemLeave?.():j.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Ke(c.onKeyDown,N=>{f.searchRef?.current!==""&&N.key===" "||(LH.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});FR.displayName=ch;var $u="SelectItemText",UR=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...l}=e,c=ti($u,n),d=ni($u,n),f=$R($u,n),p=BH($u,n),[g,x]=m.useState(null),b=qt(t,E=>x(E),f.onItemTextChange,E=>d.itemTextRefCallback?.(E,f.value,f.disabled)),w=g?.textContent,S=m.useMemo(()=>i.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:C,onNativeOptionRemove:j}=p;return hr(()=>(C(S),()=>j(S)),[C,j,S]),i.jsxs(i.Fragment,{children:[i.jsx(dt.span,{id:f.textId,...l,ref:b}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Wn.createPortal(l.children,c.valueNode):null]})});UR.displayName=$u;var BR="SelectItemIndicator",VR=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return $R(BR,n).isSelected?i.jsx(dt.span,{"aria-hidden":!0,...r,ref:t}):null});VR.displayName=BR;var Jv="SelectScrollUpButton",HR=m.forwardRef((e,t)=>{const n=ni(Jv,e.__scopeSelect),r=Ny(Jv,e.__scopeSelect),[o,l]=m.useState(!1),c=qt(t,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(WR,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});HR.displayName=Jv;var eb="SelectScrollDownButton",qR=m.forwardRef((e,t)=>{const n=ni(eb,e.__scopeSelect),r=Ny(eb,e.__scopeSelect),[o,l]=m.useState(!1),c=qt(t,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<p;l(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?i.jsx(WR,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});qR.displayName=eb;var WR=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,l=ni("SelectScrollButton",n),c=m.useRef(null),d=Gh(n),f=m.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return m.useEffect(()=>()=>f(),[f]),hr(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),i.jsx(dt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ke(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),tq="SelectSeparator",nq=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(dt.div,{"aria-hidden":!0,...r,ref:t})});nq.displayName=tq;var tb="SelectArrow",rq=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Yh(n),l=ti(tb,n),c=ni(tb,n);return l.open&&c.position==="popper"?i.jsx(Ey,{...o,...r,ref:t}):null});rq.displayName=tb;var sq="SelectBubbleInput",GR=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=m.useRef(null),l=qt(r,o),c=K8(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&g){const x=new Event("change",{bubbles:!0});g.call(d,t),d.dispatchEvent(x)}},[c,t]),i.jsx(dt.select,{...n,style:{...gR,...n.style},ref:l,defaultValue:t})});GR.displayName=sq;function YR(e){return e===""||e===void 0}function KR(e){const t=lo(e),n=m.useRef(""),r=m.useRef(0),o=m.useCallback(c=>{const d=n.current+c;t(d),(function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,l]}function ZR(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=oq(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function oq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aq=ER,iq=_R,lq=RR,cq=MR,uq=DR,dq=AR,fq=PR,mq=FR,hq=UR,pq=VR,gq=HR,xq=qR;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Xj=e=>{const t=bq(e);return t.charAt(0).toUpperCase()+t.slice(1)},QR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),yq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},f)=>m.createElement("svg",{ref:f,...wq,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:QR("lucide",o),...!l&&!yq(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>m.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(e,t)=>{const n=m.forwardRef(({className:r,...o},l)=>m.createElement(Sq,{ref:l,iconNode:t,className:QR(`lucide-${vq(Xj(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Xj(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],jq=er("arrow-down-up",Cq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nq=er("calendar",Eq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dd=er("check",_q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],id=er("chevron-down",kq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XR=er("chevron-left",Rq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JR=er("chevron-right",Mq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nb=er("chevron-up",Dq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Oq=er("chevrons-left",Aq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],zq=er("chevrons-right",Tq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Kh=er("chevrons-up-down",Pq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Lq=er("ellipsis",Iq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fq=er("eye-off",$q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],eM=er("grip-vertical",Uq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],Vq=er("list-filter",Bq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qq=er("search",Hq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Gq=er("settings-2",Wq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tM=er("trash-2",Yq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nM=er("x",Kq);function Wa({...e}){return i.jsx(aq,{"data-slot":"select",...e})}function Ga({...e}){return i.jsx(lq,{"data-slot":"select-value",...e})}function Ya({className:e,size:t="default",children:n,...r}){return i.jsxs(iq,{"data-slot":"select-trigger","data-size":t,className:ze("flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs outline-none transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[size=default]:h-9 data-[size=sm]:h-8 data-[placeholder]:text-muted-foreground *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:hover:bg-input/50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,i.jsx(cq,{asChild:!0,children:i.jsx(id,{className:"size-4 opacity-50"})})]})}function Ka({className:e,children:t,position:n="popper",...r}){return i.jsx(uq,{children:i.jsxs(dq,{"data-slot":"select-content",className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",n==="popper"&&"data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(Zq,{}),i.jsx(fq,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),i.jsx(Qq,{})]})})}function Ko({className:e,children:t,...n}){return i.jsxs(mq,{"data-slot":"select-item",className:ze("relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(pq,{children:i.jsx(Dd,{className:"size-4"})})}),i.jsx(hq,{children:t})]})}function Zq({className:e,...t}){return i.jsx(gq,{"data-slot":"select-scroll-up-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(nb,{className:"size-4"})})}function Qq({className:e,...t}){return i.jsx(xq,{"data-slot":"select-scroll-down-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(id,{className:"size-4"})})}class Xq{constructor(t){if(this.capacity=t,!Number.isFinite(t)||t<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(t)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(t){if(this._length<this.capacity){const n=(this.start+this._length)%this.capacity;this.buffer[n]=t,this._length+=1;return}this.buffer[this.start]=t,this.start=(this.start+1)%this.capacity}get(t){if(t<0||t>=this._length)return;const n=(this.start+t)%this.capacity;return this.buffer[n]}toArray(){const t=[];for(let n=0;n<this._length;n+=1){const r=this.get(n);r!==void 0&&t.push(r)}return t}}class Jq{constructor(t,n){this.capacity=t,this.buffer=new Xq(t),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},n?.length&&this.appendMany(n)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(t){return this.buffer.get(t)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(t){this.buffer.push(Jj(t,this.nextId++)),this.scheduleNotify()}appendMany(t){for(const n of t)this.buffer.push(Jj(n,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const t of this.listeners)t()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const t=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(t);return}setTimeout(t,0)}}function Jj(e,t){if(e.id)return e;const n=e.origin??"run",r=e.timestamp??"ts";return{...e,id:`console-${n}-${r}-${t}`}}const e9=50,t9={dry_run:!1,validate_only:!1,force_rebuild:!1,log_level:"INFO",active_sheet_only:!1};async function n9(e,t,n){const r={page:t.page,perPage:t.perPage,sort:t.sort??void 0,q:t.q??void 0,joinOperator:t.joinOperator,filters:yh(t.filters)},{data:o}=await Qe.GET("/api/v1/workspaces/{workspaceId}/runs",{params:{path:{workspaceId:e},query:r},signal:n});if(!o)throw new Error("Expected run page payload.");return o}async function r9(e,t){try{const{data:n}=await Qe.GET("/api/v1/runs/{runId}/metrics",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Expected run metrics payload.");return n}catch(n){if(n instanceof Ft&&n.status===404)return null;throw n}}async function s9(e,t){try{const{data:n}=await Qe.GET("/api/v1/runs/{runId}/fields",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Expected run fields payload.");return n}catch(n){if(n instanceof Ft&&n.status===404)return null;throw n}}async function o9(e,t,n){try{const{data:r}=await Qe.GET("/api/v1/runs/{runId}/columns",{params:{path:{runId:e},query:t??void 0},signal:n});if(!r)throw new Error("Expected run columns payload.");return r}catch(r){if(r instanceof Ft&&r.status===404)return null;throw r}}async function a9(e,t,n,r){const o={workspaceId:e},{input_document_id:l,configuration_id:c,...d}=t,f={...t9,...d};if(!l)throw new Error("input_document_id is required to start a run.");const p={input_document_id:l,configuration_id:c??void 0,options:f},{data:g}=await Qe.POST("/api/v1/workspaces/{workspaceId}/runs",{params:{path:o},headers:{"Idempotency-Key":fy("run")},body:p,signal:n});if(!g)throw new Error("Expected run creation response.");return g}async function*i9(e,t){yield*l9(e,t)}async function*l9(e,t){const n=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),r=new AbortController,o=()=>r.abort();let l=null;t?.aborted?r.abort():t&&t.addEventListener("abort",o);try{const c=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:r.signal});if(!c.body||!c.ok)throw new Error("Run event stream unavailable.");l=c.body.getReader();const d=new TextDecoder;let f="",p=!1;for(;;){const{value:g,done:x}=await l.read();f+=d.decode(g??new Uint8Array,{stream:!x});const b=f.split(`

`);f=b.pop()??"";for(const w of b){const S=eE(w);if(S&&(yield S,S.event==="run.complete")){p=!0;break}}if(x||p){const w=eE(f);w&&(yield w);return}}}catch(c){throw r.signal.aborted?n:c}finally{if(t&&t.removeEventListener("abort",o),l)try{await l.cancel()}catch{}r.signal.aborted||r.abort()}}function eE(e){const t=[];for(const r of e.split(/\n/))if(r.startsWith("data:")){const o=r.slice(5);t.push(o.startsWith(" ")?o.slice(1):o);continue}if(!t.length)return null;const n=t.join(`
`);if(!n.trim())return null;try{const r=JSON.parse(n);return!r||typeof r!="object"||typeof r.event!="string"||r.event.trim().length===0||!("timestamp"in r)?null:(r._raw=n,r)}catch(r){return console.warn("Skipping malformed run event",r,n),null}}function c9(e,t){const n=e.events_stream_url??e.links?.events_stream;if(!n)return null;const r=[];if(Number.isFinite(t.afterSequence)){const l=Math.max(0,Math.floor(t.afterSequence));r.push(`after_sequence=${l}`)}const o=r.length?r.join("&"):void 0;return h9(n,{appendQuery:o})}async function*u9(e,t){const n=typeof e=="string"?await rM(e,t?.signal):e,r=c9(n,{afterSequence:t?.afterSequence});if(!r)throw new Error("Run events link unavailable.");for await(const o of i9(r,t?.signal))yield o}async function rM(e,t){const{data:n}=await Qe.GET("/api/v1/runs/{runId}",{params:{path:{runId:e}},signal:t});if(!n)throw new Error("Run not found");return n}function d9(e){const t=e.output,n=t?.ready,r=t?.download_url??e.links?.output_download??e.links?.output;return n===!1||!r?null:Qi(r)}function f9(e){const t=e.events_download_url??e.links?.events_download;return t?Qi(t):null}function m9(e){const t=e.links?.input_download??e.links?.input;return t?Qi(t):null}function h9(e,t){const n=e.includes("?"),r=t?.appendQuery?`${e}${n?"&":"?"}${t.appendQuery}`:e;return Qi(r)}function p9(e){const t=new Date(e.timestamp);return Number.isNaN(t.getTime())?new Date().toISOString():t.toISOString()}function tE(e){return e.event.toString()}function g9(e){const t=e.data;return t&&typeof t=="object"?t:{}}function x9({workspaceId:e,configId:t,onJobIdChange:n,seed:r,maxConsoleLines:o=2e3,onError:l}){const c=m.useRef(new Jq(o,r?.console?[...r.console].slice(-o):void 0)),d=m.useRef(null),f=m.useRef(!1),[p,g]=m.useState(null),[x,b]=m.useState(null),[w,S]=m.useState("idle"),[C,j]=m.useState(null),E=w==="running",N=m.useCallback(()=>{const O=d.current;O&&(O.abort(),d.current=null)},[]);m.useEffect(()=>()=>{N()},[N]);const _=m.useCallback(()=>{c.current.clear()},[]),R=m.useCallback(O=>{l&&l(O)},[l]),M=m.useCallback(O=>{const A=tE(O),L=g9(O),W=(A.startsWith("build.")?"build":A==="console.line"&&typeof L.scope=="string"?L.scope:"run")==="build"?"build":"run",I=typeof O.level=="string"?O.level.toLowerCase():"info",F=I==="debug"||I==="warning"||I==="error"||I==="success"?I:"info",U=typeof O.message=="string"?O.message:"",ae=U.trim()?U:A,P={id:typeof O.event_id=="string"?O.event_id:void 0,level:F,message:ae,timestamp:p9(O),origin:W,raw:O};if(c.current.append(P),A==="run.complete"){j(L);const q=typeof L.status=="string"?L.status.toLowerCase():"";S(q==="succeeded"||q==="success"?"succeeded":q==="cancelled"||q==="canceled"?"cancelled":"failed")}},[]),D=m.useCallback(async(O,A,L)=>{if(f.current||E||L?.prepare&&L.prepare()===!1)return null;N(),_(),j(null),b(A.mode),S("running"),g(null),n?.(null);const T=new Date().toISOString(),W=new AbortController;d.current=W,f.current=!0;let I=null;try{const F=await a9(e,{...O,configuration_id:t},W.signal);I=F.id,g(F.id),n?.(F.id);for await(const U of u9(F,{afterSequence:0,signal:W.signal}))if(M(U),tE(U)==="run.complete")break;if(!I)throw new Error("Run creation response missing run id.");return{jobId:I,startedAt:T}}catch(F){return W.signal.aborted||(S("failed"),R(F)),null}finally{f.current=!1,d.current===W&&(d.current=null)}},[_,t,E,n,R,M,N,e]);return m.useMemo(()=>({console:c.current,jobId:p,jobMode:x,jobStatus:w,jobInProgress:E,completedDetails:C,clearConsole:_,startJob:D}),[p,x,w,E,C,_,D])}function v9(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function b9(e){const t=(e??"").toLowerCase();return t==="succeeded"||t==="failed"||t==="cancelled"?t:t==="success"?"succeeded":"failed"}function y9({workspaceId:e,configId:t,runId:n,seed:r,maxConsoleLines:o,onRunIdChange:l,onRunComplete:c}){const d=m.useRef(null),{console:f,jobId:p,jobMode:g,jobStatus:x,jobInProgress:b,completedDetails:w,clearConsole:S,startJob:C}=x9({workspaceId:e,configId:t,onJobIdChange:l,seed:r?{console:r.console}:void 0,maxConsoleLines:o}),j=p??n,E=g??null,[N,_]=m.useState(null),R=m.useRef(null),M=m.useMemo(()=>({status:b&&E==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[b,E]);m.useEffect(()=>{if(!j||!v9(x)||R.current===j)return;R.current=j;const A=b9(typeof w?.status=="string"?w.status:null),L=E??"extraction",T=w?.execution??{},W=typeof T.started_at=="string"?T.started_at:null,I=typeof T.completed_at=="string"?T.completed_at:new Date().toISOString(),F=typeof T.duration_ms=="number"?T.duration_ms:null;if(c?.({runId:j,status:A,mode:L,startedAt:W,completedAt:I,durationMs:F,payload:w}),L==="validation")return;const U=d.current,ae=w?.artifacts??{},P=typeof ae.output_path=="string"?ae.output_path:null,q=typeof ae.processed_file=="string"?ae.processed_file:null;_({runId:j,status:A,outputUrl:void 0,inputUrl:void 0,outputReady:P?!0:void 0,outputFilename:P?w9(P):null,outputPath:P,logsUrl:void 0,processedFile:q,outputLoaded:!1,documentName:U?.documentName,sheetNames:U?.sheetNames??[],error:null,startedAt:W,completedAt:I,durationMs:F}),(async()=>{try{const K=await rM(j),te=d9(K)??void 0,ve=f9(K)??void 0,V=m9(K)??void 0;_(B=>B&&B.runId===j?{...B,outputUrl:te??B.outputUrl,outputReady:te?!0:B.outputReady,logsUrl:ve??B.logsUrl,inputUrl:V??B.inputUrl,outputLoaded:!0}:B)}catch{_(K=>K&&K.runId===j?{...K,outputLoaded:!0}:K)}})()},[j,x,w,c,E]);const D=m.useCallback(async(A,L,T)=>{d.current=L;const W=T?.forceRebuild?{...A,force_rebuild:!0}:A,I=await C(W,L,{prepare:T?.prepare});return I&&L.mode==="extraction"&&_(null),I?{runId:I.jobId,startedAt:I.startedAt}:null},[C]),O=x;return m.useMemo(()=>({runStatus:O,runMode:E??void 0,runInProgress:b,validation:M,console:f,latestRun:N,clearConsole:S,startRun:D}),[O,E,b,M,f,N,S,D])}function w9(e){const t=e.trim();if(!t)return"";const n=t.split("/");return n[n.length-1]||t}const sM=e=>`ade.ui.workspace.${e}.config-builder.last`;function _y(e){return Ho(sM(e))}function ky(e,t){if(t){const n={configId:t};return e.set(n),n}return e.clear(),null}function uc(e){return e?typeof e=="string"?e.toLowerCase():String(e).toLowerCase():""}function nE(e,t){const n=e?new Date(e).getTime():0;return(t?new Date(t).getTime():0)-n}function Ry(e,t){const n=`Copy of ${e}`.trim();if(!t.has(n.toLowerCase()))return n;for(let r=2;r<100;r+=1){const o=`${n} (${r})`;if(!t.has(o.toLowerCase()))return o}return`${n} (${Date.now()})`}const S9={min:200,max:420},C9=320,j9=120,Xx=140,E9=220,N9=40,_9=2e3,rE=10,k9=56,sE="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",R9=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.tabs`,M9=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.console`,D9=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.explorer.expanded`,A9=(e,t)=>`ade.ui.workspace.${e}.configuration.${t}.layout`,O9={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"},T9=[{value:"DEBUG",label:"Debug"},{value:"INFO",label:"Info"},{value:"WARNING",label:"Warning"},{value:"ERROR",label:"Error"}];function oM({workspaceId:e,configId:t,configName:n,configDisplayName:r,seed:o,windowState:l,onMinimizeWindow:c,onMaximizeWindow:d,onRestoreWindow:f,onCloseWorkbench:p,shouldBypassUnsavedGuard:g}){const x=It(),b=an(),{fileId:w,pane:S,console:C,consoleExplicit:j,setFileId:E,setPane:N,setConsole:_}=QU(),[R,M]=m.useState(null),D=!!o,O=mB({workspaceId:e,configId:t,depth:"infinity",sort:"path",order:"asc",enabled:!D}),A=O.data?.fileset_hash??null,L=O.data?.status==="draft",T=O.data?.capabilities,W=D||!!T?.editable,I=!W,F=m.useMemo(()=>_y(e),[e]),U=Ih({workspaceId:e,enabled:!D}),ae=m.useMemo(()=>{const J=U.data?.items??[];return new Set(J.map(xe=>xe.display_name.trim().toLowerCase()))},[U.data?.items]),P=m.useMemo(()=>{const J=U.data?.items??[];for(const xe of J)if(uc(xe.status)==="active")return xe;return null},[U.data?.items]),q=dy(e),K=uy(e),[te,ve]=m.useState(!1),[V,B]=m.useState(""),[re,Y]=m.useState(null),[z,G]=m.useState(!1),[H,ee]=m.useState(null),oe=m.useMemo(()=>o?o.tree:O.data?Sj(O.data):null,[o,O.data]);m.useEffect(()=>{t&&(D||O.isSuccess)&&ky(F,t)},[t,D,O.isSuccess,F]);const le=m.useCallback(()=>{q.reset(),Y(null),B(Ry(r,ae)),ve(!0)},[r,q,ae]);m.useEffect(()=>{if(!z||!L||D)return;let J=!1;return ee({stage:"checking"}),ly(e,t).then(xe=>{if(!J){if(Array.isArray(xe.issues)&&xe.issues.length>0){ee({stage:"issues",issues:xe.issues});return}ee({stage:"confirm"})}}).catch(xe=>{if(J)return;const Ue=xe instanceof Error?xe.message:"Unable to validate configuration.";ee({stage:"error",message:Ue})}),()=>{J=!0}},[t,L,z,D,e]);const[de,Ee]=m.useState(null),Oe=m.useCallback(J=>{Ee(J)},[]),Pe=bB(e,t),ot=m.useRef(null),[xt,ct]=m.useState(null),[sn,_t]=m.useState(!1),[Q,Z]=m.useState(!1),{runStatus:ue,runMode:De,runInProgress:je,validation:ge,console:Me,latestRun:ye,clearConsole:ne,startRun:we}=y9({workspaceId:e,configId:t,runId:R,seed:o,maxConsoleLines:_9,onRunIdChange:M,onRunComplete:Oe}),[Te,$e]=m.useState(!1),[at,ft]=m.useState(!1),Ot=m.useMemo(()=>o?null:Ho(R9(e,t)),[e,t,o]),Tt=m.useMemo(()=>o?null:Ho(M9(e,t)),[e,t,o]),Lt=m.useMemo(()=>Ho(A9(e,t)),[e,t]),cn=m.useRef(null),gr=kb(),ce=xN(gr.resolvedMode)?"dark":"light",Ae=gr.resolvedMode==="light"?"vs-light":"ade-dark",Ie=ge.lastRunAt?`Last run ${F9(ge.lastRunAt)}`:void 0,[Fe,it]=m.useState(()=>{const J=Lt.get();return J?.explorer?{collapsed:!!J.explorer.collapsed,fraction:J.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[We,pn]=m.useState(null),Sn=m.useRef(null),[Cn,gn]=m.useState(!1);m.useEffect(()=>{Tt?cn.current=Tt.get()??null:cn.current=null,Sn.current=null,pn(null),gn(!1)},[Tt]);const[Rn,jn]=m.useState({width:0,height:0}),[jr,xr]=m.useState(null),[lr,Ss]=m.useState("explorer"),[es,Er]=m.useState(null),[Cs,tr]=m.useState(null),[Mn,nr]=m.useState(!1),[Zo,si]=m.useState(!1),[hp,Fd]=m.useState(!1),[zt,Ws]=m.useState(null),[ts,go]=m.useState(!1),[ns,rs]=m.useState(null),[Qo,xn]=m.useState(null),[Ud,ol]=m.useState(null),{notifyBanner:ss,dismissScope:xo,notifyToast:un}=hd(),Xo=m.useMemo(()=>`workbench-console:${e}:${t}`,[e,t]),Fn=m.useMemo(()=>`workbench-upload:${e}:${t}`,[e,t]),Oc=pB(e,t),Jo=gB(e,t),ea=xB(e,t),pt=m.useCallback((J,xe)=>{ss({title:J,intent:xe?.intent??"info",duration:xe?.duration??6e3,dismissible:!0,scope:Xo,persistKey:Xo})},[ss,Xo]),rr=m.useCallback(()=>{xo(Xo,"banner")},[xo,Xo]),Yn=m.useCallback(J=>{const xe=Jx(J);pt(xe,{intent:"danger",duration:null})},[pt]),Bd=m.useCallback(async()=>{_t(!0);try{const J=await cy(e,t),xe=J.filename??`${t}.zip`,Ue=URL.createObjectURL(J.blob),Le=document.createElement("a");Le.href=Ue,Le.download=xe,Le.click(),URL.revokeObjectURL(Ue),pt(`Exported ${xe}`,{intent:"success",duration:4e3})}catch(J){Yn(J),pt("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{_t(!1)}},[e,t,pt,Yn]),oi=m.useCallback(()=>{ve(!1),Y(null)},[]),Vd=m.useCallback(()=>{const J=V.trim();if(!J){Y("Enter a name for the new draft configuration.");return}Y(null),q.mutate({sourceConfigurationId:t,displayName:J},{onSuccess(xe){un({title:"Draft created.",intent:"success",duration:3500}),oi(),b(`/workspaces/${e}/config-builder/${encodeURIComponent(xe.id)}/editor`)},onError(xe){Y(xe instanceof Error?xe.message:"Unable to duplicate configuration.")}})},[oi,t,V,q,b,un,e]),ta=m.useCallback(()=>{K.reset(),ee({stage:"checking"}),G(!0)},[K]),ai=m.useCallback(()=>{G(!1),ee(null)},[]),Nr=m.useCallback(()=>{K.mutate({configurationId:t},{async onSuccess(){un({title:"Configuration is now active and locked.",description:"Duplicate it to make further edits.",intent:"success",duration:5e3}),ai(),await Promise.all([x.invalidateQueries({queryKey:wn.files(e,t)}),x.invalidateQueries({queryKey:wn.root(e)})])},onError(J){const xe=J instanceof Error?J.message:"Unable to make configuration active.";ee({stage:"error",message:xe})}})},[ai,t,K,un,x,e]);m.useEffect(()=>{if(!de)return;const{runId:J,status:xe,payload:Ue}=de,Le=Ue?.failure??void 0,bt=(typeof Le?.message=="string"?Le.message.trim():null)||"ADE run failed.",yt=xe==="cancelled";pt(xe==="succeeded"?"ADE run completed successfully.":yt?"ADE run cancelled.":bt,{intent:xe==="succeeded"?"success":yt?"info":"danger"}),Ee(Un=>Un&&Un.runId===J?null:Un)},[de,pt,Ee]);const os=l==="maximized",vo=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Tc=m.useCallback(()=>{p()},[p]),bo=!Fe.collapsed,Hd=m.useCallback(async J=>{if(o)return{content:o.content[J]??"",etag:null};const xe=await x.fetchQuery({queryKey:wn.file(e,t,J),queryFn:({signal:Ue})=>Ej(e,t,J,Ue)});if(!xe)throw new Error("File could not be loaded.");return{content:oE(xe),etag:xe.etag??null}},[o,x,e,t]),tt=WU({tree:oe,initialActiveFileId:w,loadFile:Hd,persistence:Ot??void 0}),na=m.useCallback((J,xe)=>{tt.updateContent(J,xe)},[tt]),ra=hB(e,t),ii=m.useCallback(async J=>{if(D)return null;const xe=await x.fetchQuery({queryKey:wn.file(e,t,J),queryFn:({signal:Le})=>Ej(e,t,J,Le)}),Ue=oE(xe);return tt.replaceTabContent(J,{content:Ue,etag:xe.etag??null,metadata:{size:xe.size??null,modifiedAt:xe.mtime??null,contentType:xe.content_type??tt.tabs.find(Le=>Le.id===J)?.metadata?.contentType??null,etag:xe.etag??null}}),xe},[D,x,e,t,tt]);JU({isDirty:tt.isDirty,shouldBypassNavigation:g});const qd=m.useCallback(()=>{c()},[c]),zc=m.useCallback(()=>{os?f():d()},[os,d,f]),vr=C!=="open",yo=m.useMemo(()=>tt.tabs.filter(J=>J.status==="ready"&&J.content!==J.initialContent),[tt.tabs]),al=tt.tabs.some(J=>J.saving),Kn=!D&&W&&yo.length>0;m.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[Fe.collapsed,Fe.fraction,vr,We,os,S]);const Gs=m.useCallback(async J=>{if(D)return!1;const xe=tt.tabs.find(et=>et.id===J);if(!xe||xe.status!=="ready"||xe.content===xe.initialContent||xe.saving)return!1;const Ue=xe.content,Le=xe.etag??void 0;tt.beginSavingTab(J);try{const et=await ra.mutateAsync({path:xe.id,content:Ue,etag:Le,create:!Le,parents:!0}),bt={size:et.size??xe.metadata?.size??null,modifiedAt:et.mtime??xe.metadata?.modifiedAt??null,contentType:xe.metadata?.contentType??null,etag:et.etag??xe.metadata?.etag??null};return tt.completeSavingTab(J,{etag:et.etag??xe.etag??null,metadata:bt,savedContent:Ue}),pt(`Saved ${xe.name}`,{intent:"success",duration:4e3}),!0}catch(et){const bt=et instanceof Ft&&et.status===412,yt=bt?new Error("Save blocked because this file changed on the server. Reloading latest version."):et;if(tt.failSavingTab(J,yt instanceof Error?yt.message:String(yt)),bt)try{await ii(J),pt("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(fn){Yn(fn)}return Yn(yt),!1}},[D,tt,ra,pt,ii,Yn]),sa=m.useCallback(async J=>{const xe=[];for(const Ue of J)await Gs(Ue)&&xe.push(Ue);return xe},[Gs]),js=m.useCallback(async()=>{if(!Kn||yo.length===0)return!0;const xe=(await sa(yo.map(Ue=>Ue.id))).length===yo.length;return xe||pt("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),xe},[Kn,yo,sa,pt]),oa=m.useCallback(J=>{Gs(J)},[Gs]),il=m.useCallback(()=>{tt.activeTab&&Gs(tt.activeTab.id)},[tt.activeTab,Gs]),Pc=m.useCallback(()=>{if(!Kn)return;const J=yo.map(xe=>xe.id);(async()=>{const xe=await sa(J);xe.length>1&&pt(`Saved ${xe.length} files`,{intent:"success",duration:5e3})})()},[Kn,yo,sa,pt]);m.useEffect(()=>{const J=jr;if(!J||typeof window>"u")return;const xe=()=>{const Le=J.getBoundingClientRect(),et=Le.width,bt=Le.height;jn({width:et,height:bt}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(xe(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe);const Ue=new window.ResizeObserver(()=>xe());return Ue.observe(J),()=>Ue.disconnect()},[jr]);const wo=vr?C9:j9,dn=m.useMemo(()=>{const J=Math.max(0,Rn.height),Ue=Math.max(0,J-wo-rE),Le=Math.min(Xx,Ue);return{container:J,minPx:Le,maxPx:Ue}},[Rn.height,wo]),Es=m.useCallback((J,xe=dn)=>Br(J,xe.minPx,xe.maxPx),[dn]),Ys=m.useCallback(()=>{const J=cn.current;return J&&"version"in J&&J.version===2&&typeof J.fraction=="number"?Br(J.fraction,0,1):J&&"height"in J&&typeof J.height=="number"&&dn.container>0?Br(J.height/dn.container,0,1):.25},[dn.container]);m.useEffect(()=>{We===null&&dn.container>0&&pn(Ys())},[We,dn.container,Ys]);const as=m.useCallback(()=>dn.container>0&&dn.maxPx<Xx?(_("closed"),pt(sE,{intent:"warning",duration:1e4}),!1):(rr(),_("open"),pn(J=>J!==null?Br(J,0,1):Sn.current!==null?Br(Sn.current,0,1):Ys()),!0),[dn,_,pt,rr,Ys]),is=m.useCallback(()=>{Sn.current=We,_("closed"),rr()},[We,_,rr]);m.useEffect(()=>{if(Cn)return;const J=cn.current?.state;if(j||!J){gn(!0);return}(J==="open"||J==="closed")&&J!==C&&_(J),gn(!0)},[j,C,_,Cn]),m.useEffect(()=>{!Tt||Mn||We===null||Tt.set({version:2,fraction:Br(We,0,1),state:C})},[Tt,We,C,Mn]),m.useEffect(()=>{if(!(C!=="open"||!dn.container)){if(dn.maxPx<Xx){_("closed"),pt(sE,{intent:"warning",duration:1e4});return}pn(J=>J===null?Ys():Br(J,0,1))}},[C,dn,_,pt,Ys]);const ll=m.useCallback((J,xe)=>{if(J<=0)return{minPx:xe.min,maxPx:xe.max,minFrac:0,maxFrac:1};const Ue=Math.min(xe.min,J),Le=Math.min(xe.max,J);return{minPx:Ue,maxPx:Le,minFrac:Ue/J,maxFrac:Le/J}},[]),_r=Math.max(0,Rn.width-k9),Ks=m.useMemo(()=>ll(_r,S9),[_r,ll]),aa=m.useCallback((J,xe)=>Br(J,xe.minFrac,xe.maxFrac),[]);m.useEffect(()=>{_r<=0||it(J=>{if(J.collapsed)return J;const xe=aa(J.fraction,Ks);return xe===J.fraction?J:{...J,fraction:xe}})},[_r,Ks,aa]),m.useEffect(()=>{Lt.set({version:2,explorer:{collapsed:Fe.collapsed,fraction:Fe.fraction}})},[Lt,Fe]);const li=Fe.collapsed?0:Br(Fe.fraction,Ks.minFrac,Ks.maxFrac)*_r,ci=_r>0?Math.min(li,_r):li,tn=Math.max(0,dn.container),ui=(We??(tn>0?Br(E9/tn,0,1):.25))*tn,Lc=tn>0?Es(ui):0,cl=rE,ul=vr?N9:Lc,di=tn>0?Math.max(wo,tn-cl-ul):wo;m.useEffect(()=>{const J=tt.activeTabId;if(!J){E(void 0);return}E(J)},[tt.activeTabId,E]),m.useEffect(()=>{!ns||!oe||Gr(oe,ns)&&(tt.openFile(ns),E(ns),rs(null))},[ns,oe,tt,E]);const So=m.useCallback(()=>as()?(N("terminal"),!0):!1,[as,N]),Wd=m.useCallback(async()=>{if(D||!oe||O.isLoading||O.isError||!await js())return;let xe=null;try{xe=(await aM(e))[0]??null}catch(Ue){un({title:"Unable to load documents for validation.",description:Jx(Ue),intent:"warning",duration:5e3});return}if(!xe){un({title:"Upload a document to run validation.",intent:"warning",duration:5e3});return}await we({validate_only:!0,input_document_id:xe.id},{mode:"validation",documentId:xe.id,documentName:xe.name},{prepare:So})},[D,oe,O.isLoading,O.isError,js,we,So,e,un]),pp=m.useCallback(async J=>{if($e(!1),ft(!1),D||!oe||O.isLoading||O.isError||!await js())return;const Ue=Array.from(new Set((J.sheetNames??[]).filter(Boolean)));we({input_document_id:J.documentId,input_sheet_names:Ue.length?Ue:void 0,log_level:J.logLevel},{mode:"extraction",documentId:J.documentId,documentName:J.documentName,sheetNames:Ue},{forceRebuild:at,prepare:So})},[D,oe,O.isLoading,O.isError,we,at,So,js]);m.useEffect(()=>{if(typeof window>"u")return;const J=xe=>{if(!(vo?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key.toLowerCase()!=="s")return;const Le=xe.target;if(Le){const et=Le.tagName;if(et==="INPUT"||et==="TEXTAREA"||Le.isContentEditable)return}Kn&&(xe.preventDefault(),il())};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[vo,Kn,il]);const Gd=De??(je?"extraction":void 0),dl=je,$c=ge.status==="running"||dl&&Gd==="validation",gp=!D&&!!oe&&!O.isLoading&&!O.isError&&!dl&&ge.status!=="running",xp=dl&&Gd!=="validation",fl=!D&&!!oe&&!O.isLoading&&!O.isError&&!dl,Ns=!D&&!O.isLoading&&!O.isError&&!!T?.can_create,Fc=Ns&&!Oc.isPending&&!!T?.can_delete,ml=Ns&&!Jo.isPending,Uc=Ns&&!ea.isPending&&!!T?.can_delete,la=L&&!D&&!Pe.isPending&&!!A,fi=L&&!D&&!tt.isDirty&&!K.isPending,vp=m.useCallback(J=>{Ss(J),J==="explorer"&&it(xe=>({...xe,collapsed:!1}))},[]),Bc=m.useCallback(J=>{J.preventDefault();const xe=J.currentTarget.getBoundingClientRect();Er({x:xe.right+8,y:xe.top})},[]),bp=m.useCallback(J=>{ct(J)},[]),yp=m.useCallback(()=>Er(null),[]),_s=m.useCallback(()=>{vr?as():is()},[vr,as,is]);m.useEffect(()=>{if(typeof window>"u")return;const J=xe=>{if(!(vo?xe.metaKey:xe.ctrlKey)||xe.altKey||xe.key?.toLowerCase()!=="`"&&xe.code!=="Backquote")return;const et=xe.target;if(et&&!(typeof et.closest=="function"?et.closest("[data-editor-area]"):null)){const yt=et.tagName,fn=et.getAttribute("role");if(yt==="INPUT"||yt==="TEXTAREA"||fn==="textbox"||et.isContentEditable)return}xe.preventDefault(),_s()};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[vo,_s]);const Yd=m.useCallback(()=>{ne()},[ne]),wp=m.useCallback(()=>{it(J=>({...J,collapsed:!J.collapsed}))},[]),Sp=m.useCallback(()=>{it(J=>({...J,collapsed:!0}))},[]),Cp=m.useCallback(J=>{Zu(J.dataTransfer)&&J.preventDefault()},[]),jp=m.useCallback(J=>{J.defaultPrevented||!Zu(J.dataTransfer)||(J.preventDefault(),un({title:"Drop files into the Explorer to upload.",description:"Open the Explorer pane, then drop into a folder in the file tree.",intent:"info",duration:7e3,persistKey:Fn,actions:[{label:"Show Explorer",variant:"secondary",onSelect:()=>it(xe=>({...xe,collapsed:!1}))}]}))},[un,Fn,it]),hl=m.useCallback(async(J,xe)=>{if(D){un({title:"Uploads arent available in demo mode.",intent:"warning",duration:6e3,persistKey:Fn});return}if(I){un({title:"This configuration is read-only.",description:"Duplicate it to upload files.",intent:"warning",duration:7e3,persistKey:Fn});return}if(!Ns){un({title:"Files are still loading.",description:"Wait for the explorer to finish syncing and try again.",intent:"info",duration:6e3,persistKey:Fn});return}if(ts){un({title:"Upload already in progress.",description:"Wait for the current upload to finish before starting another.",intent:"info",duration:6e3,persistKey:Fn});return}const Ue=J.items.length;if(Ue===0){un({title:"No files to upload.",intent:"warning",duration:5e3,persistKey:Fn});return}go(!0),un({title:`Uploading ${Ue} file${Ue===1?"":"s"}`,description:J.folderPath?`Destination: ${J.folderPath}`:"Destination: root",intent:"info",duration:null,dismissible:!1,persistKey:Fn});const Le=[],et=[];try{for(const Jt of J.items)if(!(Jt.exists&&!xe.overwriteExisting))try{await ra.mutateAsync({path:Jt.targetPath,content:Jt.file,parents:!0,create:!Jt.exists,etag:Jt.exists?Jt.etag??void 0:void 0,contentType:Jt.file.type||void 0}),Le.push(Jt.targetPath)}catch(Zt){const ks=Zt instanceof Ft&&Zt.status===412?"Upload blocked because the file changed on the server. Refresh and try again.":Zt instanceof Ft&&Zt.status===428?"Upload blocked: refresh the file list and try again.":Zt instanceof Ft&&Zt.status===413?Zt.problem?.detail||"File is larger than the allowed limit.":Jx(Zt);et.push({path:Jt.targetPath,message:ks})}try{await O.refetch()}catch{}for(const Jt of Le){const Zt=tt.tabs.find(mi=>mi.id===Jt);if(!(!Zt||Zt.status!=="ready"||Zt.content!==Zt.initialContent))try{await ii(Jt)}catch{}}}finally{go(!1)}const bt=J.skipped.length,yt=Le.length,fn=et.length,Co=fn>0?yt>0?"warning":"danger":bt>0?"warning":"success",Un=[];yt>0&&Un.push(`${yt} uploaded`),bt>0&&Un.push(`${bt} skipped`),fn>0&&Un.push(`${fn} failed`),un({title:fn>0?"Upload finished with issues.":bt>0?"Upload finished.":"Upload complete.",description:Un.join("  "),intent:Co,duration:8e3,dismissible:!0,persistKey:Fn,actions:et.length>0?[{label:"Show errors",variant:"secondary",onSelect:()=>{const Jt=et.slice(0,6).map(Zt=>`${Zt.path}: ${Zt.message}`).join("  ");ss({title:"Upload errors",description:Jt||"Upload errors occurred.",intent:"danger",duration:null,dismissible:!0,scope:Fn,persistKey:`${Fn}:errors`})}}]:void 0})},[Ns,O,I,ts,ss,un,ii,ra,Fn,D,tt.tabs]),Ep=m.useCallback(async(J,xe)=>{if(ts){un({title:"Upload already in progress.",description:"Wait for the current upload to finish before dropping more files.",intent:"info",duration:6e3,persistKey:Fn});return}if(zt){un({title:"Resolve the overwrite prompt first.",description:"Choose whether to overwrite existing files, then try again.",intent:"info",duration:6e3,persistKey:Fn});return}if(!oe)return;const Ue=Vi(J),Le=O.data?.limits??null,et=[],bt=[],yt=new Set;for(const Un of xe){const Jt=Vi(Un.relativePath);if(!Jt){bt.push({relativePath:Un.relativePath,reason:"Missing file name."});continue}const Zt=kU(Ue,Jt);if(!Zt||!RU(Zt)){bt.push({relativePath:Jt,reason:"Invalid path."});continue}if(yt.has(Zt)){bt.push({relativePath:Jt,reason:"Duplicate path in drop payload."});continue}yt.add(Zt);const ks=Gr(oe,Zt);if(ks&&ks.kind==="folder"){bt.push({relativePath:Jt,reason:"A folder with this name already exists."});continue}const mi=!!(ks&&ks.kind==="file"),ef=mi?ks?.metadata?.etag??null:null;if(mi&&!ef){bt.push({relativePath:Jt,reason:"Missing file version. Refresh and try again."});continue}const qc=Le&&typeof Le.code_max_bytes=="number"&&typeof Le.asset_max_bytes=="number"?MU(Zt)?Le.asset_max_bytes:Le.code_max_bytes:null;if(typeof qc=="number"&&Un.file.size>qc){bt.push({relativePath:Jt,reason:`File exceeds ${qc} bytes.`});continue}et.push({file:Un.file,relativePath:Jt,targetPath:Zt,exists:mi,etag:ef})}if(et.length===0){un({title:"No uploadable files.",description:bt.length?`${bt.length} item${bt.length===1?"":"s"} skipped.`:void 0,intent:"warning",duration:7e3,persistKey:Fn});return}const fn=et.filter(Un=>Un.exists),Co={folderPath:Ue,items:et,conflicts:fn,skipped:bt};if(fn.length>0){Ws(Co);return}await hl(Co,{overwriteExisting:!1})},[O.data?.limits,ts,un,hl,oe,zt,Fn]),Np=m.useCallback(async(J,xe)=>{const Ue=xe.trim();if(!Ue)throw new Error("Enter a file name.");if(Ue.includes(".."))throw new Error("File name cannot include '..'.");if(I)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!Ns)throw new Error("Files are still loading.");const Le=J.replace(/\/+$/,""),et=Ue.replace(/^\/+/,"").replace(/\/+/g,"/"),yt=(Le?`${Le}/${et}`:et).replace(/\/+/g,"/");if(!yt||yt.endsWith("/"))throw new Error("Enter a valid file name.");if(oe&&Gr(oe,yt))throw new Error("A file or folder with that name already exists.");si(!0);try{await ra.mutateAsync({path:yt,content:"",parents:!0,create:!0}),rs(yt),await O.refetch(),pt(`Created ${yt}`,{intent:"success",duration:4e3})}catch(fn){throw Yn(fn),fn instanceof Error?fn:new Error("Unable to create file.")}finally{si(!1)}},[Ns,I,oe,ra,O,pt,Yn]),_p=m.useCallback(async(J,xe)=>{const Ue=xe.trim();if(!Ue)throw new Error("Enter a folder name.");if(Ue.includes(".."))throw new Error("Folder name cannot include '..'.");if(I)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!ml)throw new Error("Files are still loading.");const Le=J.replace(/\/+$/,""),et=Ue.replace(/^\/+/,"").replace(/\/+/g,"/"),yt=(Le?`${Le}/${et}`:et).replace(/\/+/g,"/").replace(/\/$/,"");if(!yt)throw new Error("Enter a valid folder name.");if(oe&&Gr(oe,yt))throw new Error("A file or folder with that name already exists.");Fd(!0);try{await Jo.mutateAsync({path:yt}),await O.refetch(),pt(`Folder ready: ${yt}`,{intent:"success",duration:4e3})}catch(fn){throw Yn(fn),fn instanceof Error?fn:new Error("Unable to create folder.")}finally{Fd(!1)}},[ml,I,oe,Jo,O,pt,Yn]),kp=m.useCallback(async J=>{if(I)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!Fc)throw new Error("Files are still loading.");const xe=oe?Gr(oe,J):null;if(!oe||!xe)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${J}? This cannot be undone.`)){si(!1),xn(J);try{await Oc.mutateAsync({path:J,etag:xe.metadata?.etag}),tt.closeTab(J),rs(Le=>Le===J?null:Le),await O.refetch(),pt(`Deleted ${J}`,{intent:"info",duration:4e3})}catch(Le){const et=Le instanceof Ft&&Le.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Le instanceof Error?Le.message:"Unable to delete file.";throw Yn(et),new Error(et)}finally{xn(Le=>Le===J?null:Le)}}},[Fc,I,oe,Oc,tt,O,pt,Yn,xn]),Vc=m.useCallback(async J=>{if(I)throw new Error("This configuration is read-only. Duplicate it to edit.");if(!Uc)throw new Error("Files are still loading.");const xe=oe?Gr(oe,J):null;if(!oe||!xe||xe.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${J} and all contents? This cannot be undone.`)){ol(J);try{await ea.mutateAsync({path:J,recursive:!0}),rs(Le=>Le===J?null:Le),tt.closeTab(J),await O.refetch(),pt(`Deleted folder ${J}`,{intent:"info",duration:4e3})}catch(Le){const et=Le instanceof Error?Le.message:"Unable to delete folder.";throw Yn(et),new Error(et)}finally{ol(Le=>Le===J?null:Le)}}},[Uc,I,oe,ea,tt,O,pt,Yn,ol]),ca=m.useCallback(()=>{if(!la){pt("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),ct(null);return}ct(null),Z(!0)},[la,pt]),Rp=m.useCallback(async J=>{const xe=J.target.files?.[0]??null;if(J.target.value="",!!xe)try{await Pe.mutateAsync({file:xe,ifMatch:A}),Ot?.clear?.(),tt.closeAllTabs(),E(void 0);const Le=(await O.refetch()).data??O.data??null,et=Le?Sj(Le):null,bt=et?iy(et):null;rs(bt?.id??null),pt("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(Ue){const Le=Ue instanceof Ft&&Ue.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":Ue instanceof Ft&&Ue.status===428?"Replace blocked: refresh the file list and try again.":Ue instanceof Error?Ue.message:"Unable to replace configuration.";Yn(Le),pt(Le,{intent:"danger",duration:6e3})}},[Pe,A,Ot,tt,O,E,rs,pt,Yn]),Kd=m.useMemo(()=>{const J=i.jsx("span",{className:"inline-block h-4 w-4 opacity-0"});return[{id:"toggle-explorer",label:Fe.collapsed?"Show Explorer":"Hide Explorer",icon:Fe.collapsed?J:i.jsx(Va,{className:"h-4 w-4 text-brand-400"}),onSelect:()=>it(xe=>({...xe,collapsed:!xe.collapsed}))},{id:"toggle-console",label:vr?"Show Console":"Hide Console",icon:vr?J:i.jsx(Va,{className:"h-4 w-4 text-brand-400"}),onSelect:_s}]},[Fe.collapsed,vr,_s]),Zd=m.useMemo(()=>{const J=[];return L&&J.push({id:"make-active",label:"Make active",disabled:!fi,onSelect:()=>{ct(null),ta()}}),J.push({id:"duplicate",label:"Duplicate to edit",onSelect:()=>{ct(null),le()}}),J.push({id:"export",label:sn?"Exporting":"Export (.zip)",disabled:sn,dividerAbove:!0,onSelect:()=>{ct(null),Bd()}},{id:"replace",label:"Import from zip",disabled:!la,onSelect:ca}),J},[fi,la,Bd,ca,L,sn,le,ta]);m.useEffect(()=>{if(typeof document>"u"||!os)return;const J=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=J||""}},[os]);const Qd=U9(e),Xd=vo?"S":"Ctrl+S",Jd=vo?"`":"Ctrl+`",ua=m.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!fl,onSelect:()=>{ft(!0),$e(!0),tr(null)}}],[fl,ft,$e,tr]);if(!o&&O.isLoading)return i.jsx(At,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!o&&O.isError)return i.jsx(At,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!oe)return i.jsx(At,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Mp=os?"bg-background text-foreground":"bg-transparent text-foreground",Dp=os?"fixed inset-0 z-[90] flex flex-col bg-background text-foreground":"flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden bg-card text-foreground",Hc={bar:"border-border bg-card text-foreground",hint:"text-muted-foreground",button:"border-border-strong bg-popover text-foreground hover:border-border-strong hover:bg-muted"};return i.jsxs("div",{className:fe("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Mp),onDragOver:Cp,onDrop:jp,children:[os?i.jsx("div",{className:"fixed inset-0 z-40 bg-overlay/60"}):null,i.jsxs("div",{className:Dp,children:[i.jsx(P9,{configName:n,workspaceLabel:Qd,validationLabel:Ie,canSaveFiles:Kn,isSavingFiles:al,onSaveFile:il,saveShortcutLabel:Xd,onOpenTestMenu:J=>tr(J),onOpenActionsMenu:bp,canRunValidation:gp,isRunningValidation:$c,onRunValidation:Wd,canRunExtraction:fl,isRunningExtraction:xp,onRunExtraction:J=>{fl&&(ft(J),$e(!0))},explorerVisible:bo,onToggleExplorer:wp,consoleOpen:!vr,onToggleConsole:_s,appearance:ce,windowState:l,onMinimizeWindow:qd,onToggleMaximize:zc,onCloseWindow:Tc,actionsBusy:sn||Pe.isPending}),D?null:i.jsx("div",{className:"border-b border-border bg-card px-4 py-3 text-foreground",role:"status","aria-live":"polite",children:I?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Read-only configuration"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:O.data?.status==="active"?"Active configurations cant be edited. Duplicate this configuration to create a draft you can change.":"Archived configurations cant be edited. Duplicate this configuration to create a draft you can change."})]}),i.jsx(ke,{size:"sm",onClick:le,children:"Duplicate to edit"})]}):i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Draft configuration"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Make this draft active to use it for extraction runs.",P?` The current active configuration ${P.display_name} will be archived.`:""]}),!fi&&tt.isDirty?i.jsx("p",{className:"text-xs font-medium text-warning-500",children:"Save changes before making active."}):null]}),i.jsx(ke,{size:"sm",variant:"secondary",onClick:ta,disabled:!fi,title:!fi&&tt.isDirty?"Save changes before making active.":void 0,children:"Make active"})]})}),i.jsxs("div",{ref:xr,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[i.jsx(GF,{activeView:lr,onSelectView:vp,onOpenSettings:Bc,appearance:ce}),bo?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex min-h-0",style:{width:ci},children:lr==="explorer"&&tt.tree?i.jsx(IU,{width:ci,tree:tt.tree,activeFileId:tt.activeTab?.id??"",openFileIds:tt.tabs.map(J=>J.id),onSelectFile:J=>{tt.openFile(J),E(J)},theme:ce,canUploadFiles:Ns,onUploadFiles:Ep,isUploadingFiles:ts,canCreateFile:Ns,canCreateFolder:ml,isCreatingEntry:Zo||hp,onCreateFile:Np,onCreateFolder:_p,canDeleteFile:Fc,canDeleteFolder:Uc,deletingFilePath:Qo,deletingFolderPath:Ud,onDeleteFile:kp,onDeleteFolder:Vc,expandedStorageKey:D9(e,t),onHide:Sp}):i.jsx(z9,{width:ci,view:lr,appearance:ce})}),i.jsx(wj,{orientation:"vertical",onPointerDown:J=>{const xe=J.clientX,Ue=ci;jj(J,{cursor:"col-resize",onMove:Le=>{const et=Le.clientX-xe,bt=Br(Ue+et,Ks.minPx,Ks.maxPx);it(yt=>yt.collapsed||_r<=0?yt:{...yt,fraction:aa(bt/_r,Ks)})}})}})]}):null,i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-card text-card-foreground",children:i.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:tn>0?`${tn}px`:void 0,gridTemplateRows:`${Math.max(wo,di)}px ${cl}px ${Math.max(0,ul)}px`},children:[i.jsx(_U,{tabs:tt.tabs,activeTabId:tt.activeTab?.id??"",onSelectTab:J=>{tt.selectTab(J),E(J)},onCloseTab:tt.closeTab,onCloseOtherTabs:tt.closeOtherTabs,onCloseTabsToRight:tt.closeTabsToRight,onCloseAllTabs:tt.closeAllTabs,onContentChange:na,onSaveTab:oa,onSaveAllTabs:Pc,onMoveTab:tt.moveTab,onRetryTabLoad:tt.reloadTab,onPinTab:tt.pinTab,onUnpinTab:tt.unpinTab,onSelectRecentTab:tt.selectRecentTab,editorTheme:Ae,menuAppearance:ce,canSaveFiles:Kn,readOnly:I,minHeight:wo}),i.jsx(wj,{orientation:"horizontal",onPointerDown:J=>{nr(!0);const xe=J.clientY,Ue=Lc;let Le=!1;jj(J,{cursor:"row-resize",onMove:et=>{if(vr&&!Le&&(as(),Le=!0),dn.maxPx<=0||tn<=0)return;const bt=xe-et.clientY,yt=Br(Ue+bt,dn.minPx,dn.maxPx);pn(Br(yt/tn,0,1))},onEnd:()=>{nr(!1)}})},onDoubleClick:()=>{vr?as():is()},onToggle:_s,collapsed:vr}),vr?i.jsxs("div",{className:fe("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Hc.bar),onDoubleClick:_s,title:"Double-click to show console",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-semibold",children:"Console hidden"}),i.jsxs("span",{className:fe("text-[11px]",Hc.hint),children:["(double-click gutter or ",Jd,")"]})]}),i.jsx("button",{type:"button",onClick:_s,className:fe("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Hc.button),title:"Show console",children:"Show console"})]}):i.jsx(M5,{height:Math.max(0,Lc),console:Me,validation:ge,activePane:S,onPaneChange:N,latestRun:ye,onClearConsole:Yd,runStatus:ue,onToggleCollapse:_s,appearance:ce})]})})]})]}),Te?i.jsx(I9,{open:Te,workspaceId:e,onClose:()=>{$e(!1),ft(!1)},onRun:pp}):null,i.jsx("input",{ref:ot,type:"file",accept:".zip",onChange:Rp,className:"hidden"}),Q?i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-card p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-foreground",children:"Import from zip"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),la?null:i.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),tt.isDirty?i.jsx("p",{className:"text-sm font-medium text-warning-700",children:"You have unsaved changes that will be lost."}):null]}),i.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[i.jsx(ke,{variant:"secondary",onClick:()=>Z(!1),disabled:Pe.isPending,children:"Cancel"}),i.jsx(ke,{onClick:()=>{Z(!1),ot.current?.click()},disabled:!la||Pe.isPending,isLoading:Pe.isPending,children:"Continue"})]})]})}):null,i.jsxs(Zr,{open:te,title:"Duplicate configuration",description:`Create a new draft based on ${r}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:oi,onConfirm:Vd,isConfirming:q.isPending,confirmDisabled:q.isPending||V.trim().length===0,children:[i.jsx(Ht,{label:"New configuration name",required:!0,children:i.jsx(kt,{value:V,onChange:J=>B(J.target.value),placeholder:"Copy of My Config",disabled:q.isPending})}),re?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:re}):null]}),i.jsx(Zr,{open:z,title:H?.stage==="checking"?"Checking configuration":H?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:H?.stage==="checking"?"Running validation before activation.":H?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":P?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${P.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:H?.stage==="issues"?"Continue editing":H?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:ai,onConfirm:()=>{if(H?.stage==="issues"){ai();return}if(H?.stage==="error"){ai();return}Nr()},isConfirming:K.isPending,confirmDisabled:H?.stage==="checking"||K.isPending,children:H?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):H?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-muted p-3 text-xs text-foreground",children:H.issues.map(J=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:J.path}),i.jsx("p",{className:"text-muted-foreground",children:J.message})]},`${J.path}:${J.message}`))})]}):H?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:H.message}):null}),i.jsx(Zr,{open:!!zt,title:zt&&zt.conflicts.length===1?"Overwrite existing file?":"Overwrite existing files?",description:zt?`${zt.conflicts.length} file${zt.conflicts.length===1?"":"s"} already exist${zt.folderPath?` in ${zt.folderPath}.`:" in the configuration root."} Overwrite to replace them.`:void 0,confirmLabel:zt?`Overwrite ${zt.conflicts.length} file${zt.conflicts.length===1?"":"s"}`:"Overwrite",cancelLabel:"Cancel",onCancel:()=>Ws(null),onConfirm:()=>{const J=zt;Ws(null),J&&hl(J,{overwriteExisting:!0})},isConfirming:ts,confirmDisabled:!zt||zt.conflicts.length===0||ts,tone:"danger",children:zt?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"max-h-56 overflow-auto rounded-lg border border-border bg-muted p-3 text-xs text-foreground",children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Will overwrite:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:zt.conflicts.slice(0,20).map(J=>i.jsx("li",{className:"break-all",children:J.targetPath},J.targetPath))}),zt.conflicts.length>20?i.jsxs("p",{className:"mt-2 text-[11px] text-muted-foreground",children:["And ",zt.conflicts.length-20," more"]}):null]}),zt.skipped.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[zt.skipped.length," item",zt.skipped.length===1?"":"s"," will be skipped due to invalid paths or size limits."]}):null,zt.items.length>zt.conflicts.length?i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-2 text-xs text-foreground",children:[i.jsx("p",{className:"font-medium",children:"Prefer not to overwrite?"}),i.jsxs(ke,{size:"sm",variant:"secondary",disabled:ts,onClick:()=>{const J=zt;Ws(null),hl(J,{overwriteExisting:!1})},children:["Upload new only (",zt.items.length-zt.conflicts.length,")"]})]}):null]}):null}),i.jsx(qo,{open:!!xt,position:xt,onClose:()=>ct(null),items:Zd,appearance:ce}),i.jsx(qo,{open:!!Cs,position:Cs,onClose:()=>tr(null),items:ua,appearance:ce}),i.jsx(qo,{open:!!es,position:es,onClose:yp,items:Kd,appearance:ce})]})}function z9({width:e,view:t,appearance:n}){const r=O9[t]||"Coming soon";return i.jsx("div",{className:fe("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide","border-border bg-muted text-muted-foreground"),style:{width:e},"aria-live":"polite",children:r})}function P9({configName:e,workspaceLabel:t,validationLabel:n,canSaveFiles:r,isSavingFiles:o,onSaveFile:l,saveShortcutLabel:c,onOpenTestMenu:d,onOpenActionsMenu:f,canRunValidation:p,isRunningValidation:g,onRunValidation:x,canRunExtraction:b,isRunningExtraction:w,onRunExtraction:S,explorerVisible:C,onToggleExplorer:j,consoleOpen:E,onToggleConsole:N,appearance:_,windowState:R,onMinimizeWindow:M,onToggleMaximize:D,onCloseWindow:O,actionsBusy:A=!1}){const L="border-border bg-card text-foreground",T="text-muted-foreground",W="bg-success-600 text-on-success hover:bg-success-500 disabled:bg-muted disabled:text-muted-foreground",I="bg-brand-600 text-on-brand hover:bg-brand-500 disabled:bg-muted disabled:text-muted-foreground",F=R==="maximized";return i.jsxs("div",{className:fe("flex items-center justify-between border-b px-4 py-2",L),children:[i.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[i.jsx($9,{}),i.jsxs("div",{className:"min-w-0 leading-tight",children:[i.jsx("div",{className:fe("text-[10px] font-semibold uppercase tracking-[0.35em]",T),children:"Config Workbench"}),i.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),i.jsxs("div",{className:fe("text-[11px]",T),title:t,children:["Workspace  ",t]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[n?i.jsx("span",{className:fe("text-xs",T),children:n}):null,i.jsxs("button",{type:"button",onClick:l,disabled:!r,className:fe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",W),title:`Save (${c})`,children:[o?i.jsx(Hu,{className:"h-4 w-4 animate-spin"}):i.jsx(SN,{className:"h-4 w-4"}),o?"Saving":"Save"]}),i.jsxs("button",{type:"button",onClick:x,disabled:!p,className:fe("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",I),children:[g?i.jsx(Hu,{className:"h-4 w-4 animate-spin"}):i.jsx(WC,{className:"h-4 w-4"}),g?"Running":"Run validation"]}),i.jsx(UU,{label:w?"Running":"Test run",icon:w?i.jsx(Hu,{className:"h-4 w-4 animate-spin"}):i.jsx(WC,{className:"h-4 w-4"}),disabled:!b,isLoading:w,title:"Run test run",primaryClassName:fe(I,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:fe(I,"rounded-l-none px-2","border-border-strong"),menuAriaLabel:"Open test options",onPrimaryClick:()=>S(!1),onOpenMenu:U=>d(U),onContextMenu:U=>{U.preventDefault(),d({x:U.clientX,y:U.clientY})}}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Zl,{ariaLabel:C?"Hide explorer":"Show explorer",onClick:j,appearance:_,active:C,icon:i.jsx(oz,{className:fe("h-4 w-4",!C&&"opacity-60")})}),i.jsx(Zl,{ariaLabel:E?"Hide console":"Show console",onClick:N,appearance:_,active:E,icon:i.jsx(hz,{className:"h-3.5 w-3.5"})})]}),i.jsx(Zl,{ariaLabel:"Configuration actions",onClick:U=>{const ae=U.currentTarget.getBoundingClientRect();f({x:ae.right+8,y:ae.bottom})},appearance:_,disabled:A,icon:i.jsx(Ez,{className:"h-4 w-4"})}),i.jsxs("div",{className:fe("flex items-center gap-2 border-l pl-3","border-border/70"),children:[i.jsx(Zl,{ariaLabel:"Minimize workbench",onClick:M,appearance:_,icon:i.jsx(xz,{className:"h-3.5 w-3.5"})}),i.jsx(Zl,{ariaLabel:F?"Restore workbench":"Maximize workbench",onClick:D,appearance:_,active:F,icon:F?i.jsx(gz,{className:"h-3.5 w-3.5"}):i.jsx(pz,{className:"h-3.5 w-3.5"})}),i.jsx(Zl,{ariaLabel:"Close workbench",onClick:O,appearance:_,icon:i.jsx(uo,{className:"h-3.5 w-3.5"})})]})]})]})}function I9({open:e,workspaceId:t,onClose:n,onRun:r}){const o=m.useRef(null),l=kn({queryKey:["builder-documents",t],queryFn:({signal:M})=>aM(t,M),staleTime:6e4,enabled:e}),c=m.useMemo(()=>l.data??[],[l.data]),[d,f]=m.useState("");m.useEffect(()=>{if(e){if(!c.length){f("");return}f(M=>M&&c.some(D=>D.id===M)?M:c[0]?.id??"")}},[c,e]);const p=c.find(M=>M.id===d)??null,g=kn({queryKey:["builder-document-sheets",t,d],queryFn:({signal:M})=>CB(t,d,M),enabled:e&&!!d,staleTime:6e4}),x=m.useMemo(()=>g.data??[],[g.data]),[b,w]=m.useState([]),[S,C]=m.useState("INFO");m.useEffect(()=>{if(e){if(!x.length){w([]);return}w(M=>M.filter(D=>x.some(O=>O.name===D)))}},[e,x]);const j=m.useMemo(()=>Array.from(new Set(b.filter(M=>x.some(D=>D.name===M)))),[b,x]),E=m.useCallback(M=>{w(D=>D.includes(M)?D.filter(O=>O!==M):[...D,M])},[]);if(!e)return null;const N=!p||l.isLoading||l.isError,_=x.length>0,R=i.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-overlay/60 px-4",children:i.jsxs("div",{ref:o,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-border bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Select a document"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a workspace document and optional worksheet before running a test."})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.isError?i.jsx(Rt,{tone:"danger",children:"Unable to load documents. Try again later."}):l.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading documents"}):c.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a document in the workspace to run the extractor."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"builder-run-document-select",children:"Document"}),i.jsxs(Wa,{value:d||void 0,onValueChange:M=>f(M),children:[i.jsx(Ya,{id:"builder-run-document-select",className:"w-full",children:i.jsx(Ga,{placeholder:"Select a document"})}),i.jsx(Ka,{children:c.map(M=>i.jsx(Ko,{value:M.id,children:M.name},M.id))})]}),p?i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploaded ",L9(p.createdAt)," "," ",(p.byteSize??0).toLocaleString()," bytes"]}):null]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",htmlFor:"builder-run-log-level-select",children:"Log level"}),i.jsxs(Wa,{value:S,onValueChange:M=>C(M),children:[i.jsx(Ya,{id:"builder-run-log-level-select",className:"w-full",children:i.jsx(Ga,{placeholder:"Select a log level"})}),i.jsx(Ka,{children:T9.map(M=>i.jsx(Ko,{value:M.value,children:M.label},M.value))})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls the engine runtime verbosity for this run."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Worksheet"}),g.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading worksheets"}):g.isError?i.jsx(Rt,{tone:"warning",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{variant:"secondary",size:"sm",onClick:()=>g.refetch(),disabled:g.isFetching,children:"Retry loading"}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>w([]),children:"Use all worksheets"})]})]})}):_?i.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Worksheets"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:j.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${j.length.toLocaleString()} worksheet${j.length===1?"":"s"} selected.`})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>w([]),children:"Use all worksheets"})]}),i.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-border p-2",children:x.map(M=>{const D=j.includes(M.name);return i.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-foreground hover:bg-muted",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-success-600 focus:ring-success-500",checked:D,onChange:()=>E(M.name)}),i.jsxs("span",{className:"flex-1 truncate",children:[M.name,M.is_active?" (active)":""]})]},`${M.index}-${M.name}`)})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"This file will be ingested directly."})]})]}),i.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[i.jsx(ke,{variant:"ghost",onClick:n,children:"Cancel"}),i.jsx(ke,{onClick:()=>{p&&r({documentId:p.id,documentName:p.name,sheetNames:j.length>0?j:void 0,logLevel:S})},disabled:N,children:"Start test run"})]})]})});return typeof document>"u"?null:Wn.createPortal(R,document.body)}async function aM(e,t){const{data:n}=await Qe.GET("/api/v1/workspaces/{workspaceId}/documents",{params:{path:{workspaceId:e},query:{sort:"-createdAt",perPage:50}},signal:t});return n?.items??[]}function L9(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Zl({ariaLabel:e,onClick:t,icon:n,appearance:r,active:o=!1,disabled:l=!1}){return i.jsx("button",{type:"button","aria-label":e,onClick:t,disabled:l,className:fe("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2","text-muted-foreground hover:text-foreground hover:bg-muted hover:border-border-strong focus-visible:ring-ring/40",o&&"text-foreground border-border-strong bg-muted",l&&"cursor-not-allowed opacity-50"),title:e,children:n})}function $9(){return i.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-brand-400 via-brand-500 to-brand-600 text-on-brand shadow-[0_12px_24px_rgb(var(--sys-color-shadow)/0.35)]",children:i.jsx(FT,{className:"h-4 w-4"})})}function Jx(e){return e instanceof Ft?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function F9(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function U9(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function oE(e){if(e.encoding==="base64"){const t=globalThis.Buffer;if(t)return t.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const n=atob(e.content),r=new Uint8Array(n.length);for(let l=0;l<n.length;l+=1)r[l]=n.charCodeAt(l);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(r);let o="";for(let l=0;l<r.length;l+=1)o+=String.fromCharCode(r[l]);return o}catch{}}return e.content}function B9(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const iM=m.createContext(null);function lM(){const e=m.useContext(iM);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function V9({workspaceId:e,children:t}){const n=an(),r=pr(),[o,l]=m.useState(null),[c,d]=m.useState("restored"),f=m.useRef(0),p=m.useRef(null),g=m.useRef(!1),x=m.useMemo(()=>Ho(B9(e)),[e]),b=m.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),w=m.useMemo(()=>W9(r.pathname,e),[r.pathname,e]),S=!!w;m.useEffect(()=>{x.get()||x.set(b)},[x,b]),m.useEffect(()=>{S||x.set(`${r.pathname}${r.search}${r.hash}`)},[S,r.pathname,r.search,r.hash,x]),m.useEffect(()=>{if(!o){p.current=null;return}const T=p.current;if(S&&w===o.configId){if(T==="dock"){p.current=null,d("minimized");return}T&&(p.current=null);return}if(T==="dock"){p.current=null;return}if(T==="close"){p.current=null;return}l(null),d("restored"),p.current=null},[o,S,w,c]),m.useEffect(()=>{if(!o||!S||w!==o.configId)return;const T=iE(r.search);T!==o.editorSearch&&l(W=>!W||W.instanceId!==o.instanceId?W:{...W,editorSearch:T})},[o,S,w,r.search]);const C=m.useCallback(()=>x.get()??b,[x,b]),j=m.useCallback(T=>{l(W=>{if(!W)return W;const I=new URLSearchParams(W.editorSearch),F=typeof T=="function"?T(new URLSearchParams(I)):T,ae=Lk(F).toString();return ae===W.editorSearch?W:{...W,editorSearch:ae}})},[]),E=m.useCallback(T=>{const W=iE(T.editorSearch??r.search);let I=c==="minimized";l(F=>{if(F&&F.workspaceId===T.workspaceId&&F.configId===T.configId){const U=T.seed??F.seed,ae=T.editorSearch!==void 0?W:F.editorSearch;return F.configName===T.configName&&F.configDisplayName===T.configDisplayName&&F.seed===U&&F.editorSearch===ae?F:{...F,configName:T.configName,configDisplayName:T.configDisplayName,seed:U,editorSearch:ae}}return I=!0,f.current+=1,{...T,editorSearch:W,instanceId:`${T.workspaceId}:${T.configId}:${f.current}`}}),I&&d("restored")},[r.search,c]),N=m.useCallback(()=>{o&&(l(null),d("restored"),p.current="close",n(C()))},[o,n,C]),_=m.useCallback(()=>{o&&(g.current=!0,d("minimized"),p.current="dock",n(C()))},[o,n,C]),R=m.useCallback(()=>{if(!o)return;d("restored");const T=G9(o.workspaceId,o.configId,o.editorSearch);`${r.pathname}${r.search}`!==T&&n(T)},[o,n,r.pathname,r.search]),M=m.useCallback(()=>{o&&d("maximized")},[o]),D=m.useCallback(()=>{const T=g.current;return g.current=!1,T},[]),O=m.useMemo(()=>({session:o,windowState:c,openSession:E,closeSession:N,minimizeWindow:_,maximizeWindow:M,restoreWindow:R,shouldBypassUnsavedGuard:D}),[o,c,E,N,_,M,R,D]),A=!!o&&(!S||w!==o?.configId),L=m.useMemo(()=>A&&o?{params:new URLSearchParams(o.editorSearch),setSearchParams:j}:null,[A,o,j]);return i.jsxs(iM.Provider,{value:O,children:[t,i.jsx(GU,{value:L,children:i.jsx(H9,{session:o,windowState:c,onClose:N,onMinimize:_,onMaximize:M,onRestore:R,shouldBypassUnsavedGuard:D})}),o&&c==="minimized"?i.jsx(q9,{configName:o.configName,onRestore:R,onDismiss:N}):null]})}function H9({session:e,windowState:t,onClose:n,onMinimize:r,onMaximize:o,onRestore:l,shouldBypassUnsavedGuard:c}){return!e||t!=="maximized"?null:i.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-background",children:i.jsx(oM,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,configDisplayName:e.configDisplayName,seed:e.seed,windowState:"maximized",onCloseWorkbench:n,onMinimizeWindow:r,onMaximizeWindow:o,onRestoreWindow:l,shouldBypassUnsavedGuard:c},e.instanceId)})}function q9({configName:e,onRestore:t,onDismiss:n}){return i.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:i.jsx("div",{className:"pointer-events-auto border-t border-border bg-card/95 shadow-[0_-12px_40px_rgb(var(--sys-color-shadow)/0.15)] backdrop-blur",children:i.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-foreground",children:[i.jsxs("button",{type:"button",onClick:t,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[i.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-border bg-background text-brand-600 shadow-inner",children:i.jsx(Sz,{className:"h-4 w-4"})}),i.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-muted-foreground",children:"Config workbench"}),i.jsx("span",{className:"truncate text-sm font-semibold text-foreground",title:e,children:e})]}),i.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-border bg-card px-2 py-0.5 text-[11px] font-medium text-muted-foreground transition group-hover:border-border-strong group-hover:bg-background",children:"Restore"})]}),i.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-border bg-card text-muted-foreground",children:[i.jsx(aE,{ariaLabel:"Restore minimized workbench",onClick:t,destructive:!1,children:i.jsx(Cz,{className:"h-3.5 w-3.5"})}),i.jsx(aE,{ariaLabel:"Close minimized workbench",onClick:n,destructive:!0,children:i.jsx(jz,{className:"h-3.5 w-3.5"})})]})]})})})}function aE({ariaLabel:e,onClick:t,children:n,destructive:r=!1}){return i.jsx("button",{type:"button","aria-label":e,onClick:t,className:fe("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",r?"text-danger-600 hover:bg-danger-50":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:n})}function W9(e,t){const n=`/workspaces/${t}/config-builder/`;if(!e.startsWith(n))return null;const r=e.slice(n.length).split("/").filter(Boolean);if(r.length>=2&&r[1]==="editor")try{return decodeURIComponent(r[0])}catch{return r[0]}return null}function G9(e,t,n){const r=`/workspaces/${e}/config-builder/${encodeURIComponent(t)}/editor`;return n.length>0?`${r}?${n}`:r}function iE(e){return e?e.startsWith("?")?e.slice(1):e:""}function ld({to:e,replace:t,className:n,title:r,children:o,onClick:l,ariaCurrent:c}){const d=an();return i.jsx("a",{href:e,className:n,title:r,"aria-current":c,onClick:f=>{l?.(f),!(f.defaultPrevented||f.metaKey||f.ctrlKey||f.shiftKey||f.altKey)&&(f.preventDefault(),d(e,{replace:t}))},children:o})}function My({to:e,end:t,className:n,children:r,title:o,onClick:l}){const{pathname:c}=pr(),d=t?c===e:c===e||c.startsWith(`${e}/`),f=typeof n=="function"?n({isActive:d}):n,p=typeof r=="function"?r({isActive:d}):r,g=d?"page":void 0;return i.jsx(ld,{to:e,className:f,title:o,onClick:l,ariaCurrent:g,children:p})}const cM=[{id:"documents",path:u_,label:"Documents",icon:LT},{id:"runs",path:"runs",label:"Runs",icon:ZT},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:QT},{id:"settings",path:"settings",label:"Workspace Settings",icon:Rb,matchPrefix:!0}],uh=cM[0];function uM(e){return cM.map(t=>({id:t.id,label:t.label,href:`/workspaces/${e.id}/${t.path}`,icon:t.icon,matchPrefix:t.matchPrefix}))}const lE="4.5rem",cE="16rem",Y9=70,K9=140;function Z9({workspace:e,isPinned:t,onTogglePinned:n,items:r}){const o=r??uM(e),l=eW(o),c=l?o.filter(O=>O.id!==l.id):o,[d,f]=m.useState("pointer"),[p,g]=m.useState(!1),[x,b]=m.useState(!1),[w,S]=m.useState(!1),C=m.useRef(null),j=m.useRef(null),E=m.useCallback(()=>{C.current&&(window.clearTimeout(C.current),C.current=null),j.current&&(window.clearTimeout(j.current),j.current=null)},[]),N=!t&&(p||x&&d==="keyboard");m.useEffect(()=>{if(t){E(),S(!1);return}if(!(N&&w)&&!(!N&&!w))if(E(),N){if(x&&d==="keyboard"){S(!0);return}C.current=window.setTimeout(()=>S(!0),Y9)}else j.current=window.setTimeout(()=>S(!1),K9)},[E,d,x,p,w,t,N]),m.useEffect(()=>E,[E]),m.useEffect(()=>{const O=A=>{const L=A.key.toLowerCase();(L==="tab"||L.startsWith("arrow"))&&f("keyboard")};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[]);const _=t||w,R=t?cE:lE,M=_?cE:lE;return i.jsx("aside",{className:fe("relative hidden min-h-0 flex-shrink-0 bg-sidebar text-sidebar-foreground lg:flex","border-r border-sidebar-border","transition-[width] duration-200 ease-out motion-reduce:transition-none"),style:{width:R,height:"calc(100vh - var(--workspace-topbar-height, 0px))",willChange:"width"},"aria-label":"Primary workspace navigation","data-pinned":t?"true":"false","data-expanded":_?"true":"false",children:i.jsx("div",{className:fe("absolute inset-y-0 left-0 z-40 flex min-h-0 flex-col bg-sidebar text-sidebar-foreground","border-r border-sidebar-border","transition-[width,box-shadow] duration-200 ease-out motion-reduce:transition-none",!t&&_&&"shadow-xl"),style:{width:M,willChange:"width"},onMouseEnter:()=>{t||g(!0)},onMouseLeave:()=>{t||g(!1)},onPointerDownCapture:()=>f("pointer"),onKeyDownCapture:O=>{const A=O.key.toLowerCase();(A==="tab"||A.startsWith("arrow"))&&f("keyboard")},onFocusCapture:()=>b(!0),onBlurCapture:()=>{requestAnimationFrame(()=>{const O=document.activeElement,A=document.querySelector("[data-workspace-nav-panel='true']");A&&O&&A.contains(O)||b(!1)})},"data-workspace-nav-panel":"true",children:i.jsx(Q9,{items:c,settingsItem:l,expanded:_,isPinned:t,onTogglePinned:n})})})}function Q9({items:e,settingsItem:t,expanded:n,isPinned:r,onTogglePinned:o}){const l=n?"drawer":"rail";return i.jsxs(i.Fragment,{children:[i.jsx("nav",{className:fe("flex-1 overflow-y-auto","overflow-x-hidden",n?"px-3 py-4":"px-2 py-3"),"aria-label":"Workspace sections",children:i.jsx(dM,{items:e,variant:l})}),i.jsx("div",{className:fe("border-t border-sidebar-border",n?"px-3 py-3":"px-2 py-2"),children:i.jsxs("div",{className:fe("flex flex-col",n?"gap-1.5":"gap-2"),children:[t?i.jsx(X9,{item:t,expanded:n}):null,i.jsx(J9,{isPinned:r,expanded:n,onToggle:o})]})})]})}function dM({items:e,variant:t="drawer",onNavigate:n,className:r,showHeading:o=!0}){const l=t==="drawer";return i.jsxs(i.Fragment,{children:[o&&l?i.jsx("p",{className:"mb-3 px-2 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-sidebar-foreground",children:"Workspace"}):null,i.jsx("ul",{className:fe("flex flex-col",l?"gap-1.5":"gap-2",r),children:e.map(c=>i.jsx("li",{className:"w-full",children:i.jsx(My,{to:c.href,end:!(c.matchPrefix??!1),title:l?void 0:c.label,"aria-label":l?void 0:c.label,onClick:d=>{if(fM(d)&&d.currentTarget.getAttribute("aria-current")==="page"){d.preventDefault();return}n?.()},className:({isActive:d})=>fe("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",l?"px-3 py-2":"justify-center px-2 py-2",d?"bg-sidebar-item-active text-sidebar-foreground":"text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:({isActive:d})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:fe("flex h-10 w-10 items-center justify-center rounded-xl","transition-colors duration-150 motion-reduce:transition-none",d?"bg-sidebar-item-active text-sidebar-foreground":"bg-sidebar-item-hover/70 text-sidebar-foreground group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),children:i.jsx(c.icon,{className:fe("h-5 w-5 transition-colors duration-150","text-sidebar-foreground"),"aria-hidden":!0})}),i.jsx("span",{className:fe("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",l?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-sm font-semibold text-sidebar-foreground"),"aria-hidden":!l,children:c.label})]})})},c.id))})]})}function X9({item:e,expanded:t}){const n=e.label||"Workspace settings";return i.jsx(My,{to:e.href,end:!(e.matchPrefix??!1),title:t?void 0:n,onClick:r=>{fM(r)&&r.currentTarget.getAttribute("aria-current")==="page"&&r.preventDefault()},className:({isActive:r})=>fe("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",t?"px-2 py-2":"justify-center px-2 py-2",r?"bg-sidebar-item-active text-sidebar-foreground":"text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:({isActive:r})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:fe("flex h-10 w-10 items-center justify-center rounded-xl","transition-colors duration-150 motion-reduce:transition-none",r?"bg-sidebar-item-active text-sidebar-foreground":"bg-sidebar-item-hover/70 text-sidebar-foreground group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),"aria-hidden":!0,children:i.jsx(Rb,{className:"h-5 w-5"})}),i.jsx("span",{className:fe("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",t?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-xs font-semibold text-sidebar-foreground"),"aria-hidden":!t,children:"Settings"})]})})}function J9({isPinned:e,expanded:t,onToggle:n}){const r=e?"Unpin sidebar":"Pin sidebar";return i.jsxs("button",{type:"button",onClick:n,"aria-label":r,"aria-pressed":e,title:r,className:fe("group relative flex w-full items-center rounded-lg","transition-colors duration-150 motion-reduce:transition-none","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 focus-visible:ring-offset-sidebar",t?"px-2 py-2":"justify-center px-2 py-2","text-sidebar-foreground hover:bg-sidebar-item-hover hover:text-sidebar-foreground"),children:[i.jsx("span",{className:fe("flex h-10 w-10 items-center justify-center rounded-xl bg-sidebar-item-hover/70 text-sidebar-foreground transition-colors duration-150 group-hover:bg-sidebar-item-hover group-hover:text-sidebar-foreground"),"aria-hidden":!0,children:e?i.jsx(bN,{className:"h-4 w-4"}):i.jsx(Mb,{className:"h-4 w-4"})}),i.jsx("span",{className:fe("min-w-0 overflow-hidden truncate","transition-[max-width,opacity,transform,margin-left] duration-200 motion-reduce:transition-none",t?"ml-3 max-w-[14rem] opacity-100 translate-x-0":"ml-0 max-w-0 opacity-0 translate-x-1","text-xs font-semibold text-sidebar-foreground"),"aria-hidden":!t,children:e?"Pinned":"Pin sidebar"})]})}function fM(e){return e.button===0&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function eW(e){const t=new Set(["settings","workspace-settings","workspacesettings","preferences"]),n=e.find(c=>t.has(c.id.toLowerCase()));if(n)return n;const r=e.find(c=>c.id.toLowerCase().includes("settings"));if(r)return r;const o=e.find(c=>/settings|preferences/i.test(c.href));return o||e.find(c=>/settings|preferences/i.test(c.label))}const tW=3,nW=10*1024*1024,rW=5*1024*1024;function sW({workspaceId:e,concurrency:t=tW,sessionThresholdBytes:n=nW}){const[r,o]=m.useState([]),l=m.useRef(new Set),c=m.useRef(new Map),d=m.useRef(new Map),f=m.useCallback(E=>{if(!E.length)return[];const N=Date.now(),_=E.map((R,M)=>({id:lW(N,M),file:R.file,status:"queued",runOptions:R.runOptions,progress:{loaded:0,total:Math.max(R.file.size,0),percent:0}}));return o(R=>[...R,..._]),_},[]),p=m.useCallback(E=>{d.current.set(E,"pause");const N=c.current.get(E);N&&N(),o(_=>_.map(R=>R.id===E&&R.status==="uploading"?{...R,status:"paused"}:R))},[]),g=m.useCallback(E=>{o(N=>N.map(_=>_.id!==E||_.status!=="paused"?_:_.mode==="simple"?{..._,status:"queued",progress:dh(_.file)}:{..._,status:"queued"}))},[]),x=m.useCallback(E=>{o(N=>N.map(_=>_.id!==E||_.status!=="failed"?_:_.mode==="simple"?{..._,status:"queued",progress:dh(_.file),error:void 0,response:void 0}:{..._,status:"queued",error:void 0}))},[]),b=m.useCallback(E=>{d.current.set(E,"cancel");const N=c.current.get(E);N&&N(),o(R=>R.map(M=>M.id===E&&M.status!=="succeeded"?{...M,status:"cancelled"}:M));const _=r.find(R=>R.id===E);_?.sessionId&&LB(e,_.sessionId).catch(()=>null)},[r,e]),w=m.useCallback(E=>{b(E),o(N=>N.filter(_=>_.id!==E))},[b]),S=m.useCallback(()=>{o(E=>E.filter(N=>!iW(N.status)))},[]),C=m.useCallback((E,N)=>{o(_=>_.map(R=>R.id===E?{...R,response:N}:R))},[]);m.useEffect(()=>{if(!e)return;const E=r.filter(R=>R.status==="uploading").length;if(E>=t)return;const N=t-E,_=r.filter(R=>R.status==="queued").slice(0,N);for(const R of _){if(l.current.has(R.id))continue;l.current.add(R.id);const M=R.mode??(R.file.size>=n?"session":"simple");o(A=>A.map(L=>L.id===R.id?{...L,status:"uploading",mode:M}:L));const D=new AbortController;c.current.set(R.id,()=>D.abort()),(M==="session"?uW(R,{workspaceId:e,controller:D,updateItem:A=>o(L=>L.map(T=>T.id===R.id?{...T,...A}:T))}):cW(R,{workspaceId:e,controller:D,onProgress:A=>o(L=>L.map(T=>T.id===R.id?{...T,progress:oW(T.file,A)}:T))})).then(A=>{o(L=>L.map(T=>T.id===R.id?{...T,status:"succeeded",progress:aW(T.file),response:A,error:void 0}:T))}).catch(A=>{const L=d.current.get(R.id),W=(A instanceof Error?A.name:"")==="AbortError";if(W&&L)return;const I=A instanceof Error?A.message:"Upload failed.";o(F=>F.map(U=>U.id===R.id?{...U,status:W?"cancelled":"failed",error:I}:U))}).finally(()=>{l.current.delete(R.id),c.current.delete(R.id),d.current.delete(R.id)})}},[t,r,n,e]);const j=m.useMemo(()=>{let E=0,N=0,_=0,R=0,M=0,D=0,O=0,A=0;for(const I of r)switch(E+=Math.max(I.file.size,0),N+=I.progress.loaded,I.status){case"queued":_+=1;break;case"uploading":R+=1;break;case"paused":M+=1;break;case"succeeded":D+=1;break;case"failed":O+=1;break;case"cancelled":A+=1;break}const L=D+O+A,T=_+R+M,W=E>0?Math.min(100,Math.round(N/E*100)):0;return{totalCount:r.length,queuedCount:_,uploadingCount:R,pausedCount:M,succeededCount:D,failedCount:O,cancelledCount:A,completedCount:L,totalBytes:E,uploadedBytes:N,percent:W,inFlightCount:T}},[r]);return{items:r,summary:j,enqueue:f,pause:p,resume:g,retry:x,cancel:b,remove:w,clearCompleted:S,updateResponse:C}}function oW(e,t){const n=t.total??Math.max(e.size,0),r=Math.max(t.loaded,0),o=n>0?Math.min(100,Math.round(r/n*100)):0;return{loaded:r,total:n,percent:o}}function dh(e){const t=Math.max(e.size,0);return{loaded:0,total:t,percent:(t>0,0)}}function aW(e){const t=Math.max(e.size,0);return{loaded:t,total:t,percent:t>0?100:0}}function iW(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function lW(e,t){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`upload-${e}-${t}-${Math.random().toString(36).slice(2,9)}`}async function cW(e,t){const n=OB(t.workspaceId,e.file,{onProgress:t.onProgress,idempotencyKey:e.id,runOptions:e.runOptions});t.controller.signal.addEventListener("abort",()=>n.abort(),{once:!0});const r=await n.promise;if(!r.data)throw new Error("Expected upload response.");return r.data}async function uW(e,t){const n=Math.max(e.file.size,0);let r=e.sessionId,o=e.chunkSizeBytes??rW,l=Math.min(e.progress.loaded,n);if(r)try{const d=await PB(t.workspaceId,r,t.controller.signal);l=Math.min(d.received_bytes??l,n),t.updateItem({sessionId:d.upload_session_id,nextExpectedRanges:d.next_expected_ranges,progress:{loaded:l,total:n,percent:n>0?Math.min(100,Math.round(l/n*100)):0}})}catch(d){if(d instanceof Ft&&(d.status===404||d.status===410))r=void 0,l=0,t.updateItem({sessionId:void 0,nextExpectedRanges:void 0,progress:dh(e.file)});else throw d}if(!r){const d=await TB(t.workspaceId,{filename:e.file.name,byte_size:n,content_type:e.file.type||void 0,conflict_behavior:"rename",run_options:e.runOptions},t.controller.signal);r=d.upload_session_id,o=d.chunk_size_bytes??o,l=0,t.updateItem({sessionId:r,chunkSizeBytes:o,nextExpectedRanges:d.next_expected_ranges,progress:dh(e.file)})}if(!r)throw new Error("Upload session id was not initialized.");for(;l<n;){if(t.controller.signal.aborted)throw new DOMException("Aborted","AbortError");const d=Math.min(l+o-1,n-1),f=e.file.slice(l,d+1),p=await zB(t.workspaceId,r,{start:l,end:d,total:n,body:f,signal:t.controller.signal});l=d+1,t.updateItem({nextExpectedRanges:p.next_expected_ranges,progress:{loaded:l,total:n,percent:n>0?Math.min(100,Math.round(l/n*100)):0}})}return await IB(t.workspaceId,r,e.id,t.controller.signal)}function dc(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],r=Math.min(Math.floor(Math.log(e)/Math.log(t)),n.length-1),o=e/Math.pow(t,r);return`${o.toFixed(o>=10||r===0?0:1)} ${n[r]}`}function dW(e){let t="",n=e+1;for(;n>0;){const r=(n-1)%26;t=String.fromCharCode(65+r)+t,n=Math.floor((n-1)/26)}return`Column ${t}`}function rb(e,t=8){return e?e.slice(0,Math.max(4,t)):""}function sb(e){switch(e){case"xlsx":return"XLSX";case"xls":return"XLS";case"csv":return"CSV";case"pdf":return"PDF";default:return"File"}}function fW(e){return e.toLowerCase().match(/\.([a-z0-9]+)$/)?.[1]??""}function mW(e,t){const n=fW(e);if(n==="xlsx")return"xlsx";if(n==="xls")return"xls";if(n==="csv")return"csv";if(n==="pdf")return"pdf";const r=(t??"").toLowerCase();return r.includes("spreadsheetml")?"xlsx":r.includes("ms-excel")?"xls":r.includes("csv")?"csv":r.includes("pdf")?"pdf":"unknown"}function hW(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`id_${Math.random().toString(16).slice(2)}_${Date.now()}`}function pW({upload:e}){const t=Math.max(0,Math.min(100,e.progress.percent??0)),n=gW(e.status,t);return i.jsxs("div",{className:"flex flex-col gap-1 text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:n}),e.status==="uploading"?i.jsxs("span",{className:"tabular-nums",children:[t,"%"]}):null]}),i.jsx("div",{className:"h-1.5 w-full rounded-full bg-muted",children:i.jsx("div",{className:fe("h-1.5 rounded-full",xW(e.status)),style:{width:`${t}%`}})})]})}function gW(e,t){switch(e){case"uploading":return`Uploading (${t}%)`;case"succeeded":return"Complete";case"paused":return"Upload paused";case"failed":return"Upload failed";case"cancelled":return"Upload cancelled";case"queued":return"Queued";default:return"Uploading"}}function xW(e){switch(e){case"failed":return"bg-danger-500";case"paused":return"bg-warning-500";case"cancelled":return"bg-muted-foreground";case"succeeded":return"bg-success-500";default:return"bg-brand-500"}}function vW({items:e,summary:t,onPause:n,onResume:r,onRetry:o,onCancel:l,onRemove:c,onClearCompleted:d}){const f=m.useRef(null),[p,g]=m.useState(!1),x=t.totalCount>0,b=t.completedCount;m.useEffect(()=>{function S(C){if(!p)return;const j=C.target;f.current&&j&&!f.current.contains(j)&&g(!1)}return window.addEventListener("mousedown",S),()=>window.removeEventListener("mousedown",S)},[p]);const w=m.useMemo(()=>{if(!x)return"Uploads";const S=t.uploadingCount+t.queuedCount+t.pausedCount;return S>0?`${S} in progress`:`${t.succeededCount} completed`},[x,t]);return x?i.jsxs("div",{ref:f,className:"relative",children:[i.jsxs(ke,{type:"button",variant:"outline",size:"sm",onClick:()=>g(S=>!S),className:fe("rounded-full px-3 py-1.5 text-xs font-semibold",p?"text-foreground":"text-muted-foreground hover:text-foreground"),"aria-haspopup":"dialog","aria-expanded":p,children:[i.jsx(xh,{className:"h-4 w-4"}),w,i.jsx("span",{className:"rounded-full bg-muted px-1.5 py-0.5 text-[10px] text-muted-foreground",children:t.totalCount})]}),p?i.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-[22rem] rounded-2xl border border-border bg-card p-4 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Upload manager"}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:t.uploadingCount>0?`${t.uploadingCount} uploading`:"All uploads paused or complete"})]}),b>0?i.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(),className:"h-7 px-2 text-[11px]",children:"Clear completed"}):null]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("span",{children:[t.uploadedBytes>0?dc(t.uploadedBytes):"0 B"," /"," ",t.totalBytes>0?dc(t.totalBytes):"0 B"]}),i.jsxs("span",{className:"tabular-nums",children:[t.percent,"%"]})]}),i.jsx("div",{className:"mt-1 h-1.5 w-full rounded-full bg-muted",children:i.jsx("div",{className:"h-1.5 rounded-full bg-brand-500",style:{width:`${Math.max(0,Math.min(100,t.percent))}%`}})}),i.jsx("div",{className:"mt-4 max-h-[18rem] space-y-3 overflow-y-auto pr-1",children:e.map(S=>i.jsxs("div",{className:"rounded-xl border border-border bg-background px-3 py-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate text-xs font-semibold text-foreground",children:S.file.name}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:dc(S.file.size)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[S.status==="uploading"?i.jsx(Du,{label:"Pause",onClick:()=>n(S.id),children:"Pause"}):null,S.status==="paused"?i.jsx(Du,{label:"Resume",onClick:()=>r(S.id),children:"Resume"}):null,S.status==="failed"?i.jsx(Du,{label:"Retry",onClick:()=>o(S.id),children:i.jsx(BT,{className:"h-3 w-3"})}):null,S.status==="uploading"||S.status==="queued"||S.status==="paused"?i.jsx(Du,{label:"Cancel",onClick:()=>l(S.id),children:i.jsx(uo,{className:"h-3 w-3"})}):null,S.status==="failed"||S.status==="cancelled"||S.status==="succeeded"?i.jsx(Du,{label:"Remove",onClick:()=>c(S.id),children:"Remove"}):null]})]}),i.jsx("div",{className:"mt-2",children:i.jsx(pW,{upload:S})}),S.error?i.jsx("p",{className:"mt-2 text-[10px] font-semibold text-danger-500",children:S.error}):null]},S.id))})]}):null]}):null}function Du({label:e,onClick:t,children:n}){return i.jsx(ke,{type:"button",variant:"outline",size:"sm",onClick:t,className:"h-7 px-2 text-[10px] text-muted-foreground hover:text-foreground","aria-label":e,title:e,children:n})}function bW({open:e,files:t,onConfirm:n,onCancel:r,processingPaused:o,configMissing:l}){const c=m.useRef(null),[d,f]=m.useState([]),[p,g]=m.useState({}),[x,b]=m.useState("active"),[w,S]=m.useState([]),[C,j]=m.useState(!1);m.useEffect(()=>{if(!e){f([]);return}f(t.map(F=>({id:hW(),file:F,type:mW(F.name,F.type)})))},[t,e]),m.useEffect(()=>{e&&(b("active"),S([]),j(!1),g({}))},[e,d.length]),m.useEffect(()=>{if(!e||d.length===0)return;if(d.length!==1){g({});return}const F=d[0];if(!ym(F.type)){g({[F.id]:{status:"ready",names:[],activeName:null}});return}let U=!1;return g({[F.id]:{status:"loading",names:[],activeName:null}}),(async()=>{try{const P=await yW(F.file);if(U)return;g({[F.id]:{status:"ready",names:P.names,activeName:P.activeName}})}catch(P){if(U)return;g({[F.id]:{status:"error",names:[],activeName:null,error:P instanceof Error?P.message:"Unable to read worksheets."}})}})(),()=>{U=!0}},[d,e]),m.useEffect(()=>{if(!e)return;const F=U=>{if(U.key==="Escape"&&r(),U.key==="Tab"){const ae=c.current;if(!ae)return;const P=Array.from(ae.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(te=>!te.hasAttribute("disabled"));if(P.length===0)return;const q=P.indexOf(document.activeElement),K=U.shiftKey?q<=0?P.length-1:q-1:q===P.length-1?0:q+1;P[K]?.focus(),U.preventDefault()}};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[r,e]),m.useEffect(()=>{if(!e)return;const{body:F}=document,U=F.style.overflow;return F.style.overflow="hidden",()=>{F.style.overflow=U}},[e]),m.useEffect(()=>{if(!e)return;c.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus({preventScroll:!0})},[e]);const E=d.length===1,N=d.filter(F=>ym(F.type)).length,_=E?d[0]:null,R=_?p[_.id]:null,M=R?.activeName??null,D=R?.names??[],O=R?.status??"idle",A=!!(_&&ym(_.type));m.useEffect(()=>{e&&x==="custom"&&(w.length>0||M&&S([M]))},[M,e,w.length,x]);const L=m.useMemo(()=>d.length===0?!0:E?!A||x==="all"?!1:x==="custom"?w.length===0:!M||O!=="ready":!1,[M,A,E,d.length,w.length,x,O]),T=m.useMemo(()=>o?"Processing is paused. Uploads will be stored until processing resumes.":l?"No active configuration yet. Uploads will process once one is enabled.":"Uploads will process automatically after they finish.",[l,o]);if(!e||typeof document>"u")return null;const W=()=>{if(L||d.length===0)return;const F=d.map(U=>ym(U.type)?E?x==="custom"&&w.length>0?{file:U.file,runOptions:{input_sheet_names:w,active_sheet_only:!1}}:x==="active"&&M?{file:U.file,runOptions:{active_sheet_only:!0}}:{file:U.file}:C?{file:U.file,runOptions:{active_sheet_only:!0}}:{file:U.file}:{file:U.file});n(F)},I=i.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-overlay/60 px-4 py-6",role:"presentation",onMouseDown:F=>{F.target===F.currentTarget&&r()},children:i.jsxs("div",{ref:c,role:"dialog","aria-modal":"true","aria-labelledby":"upload-preflight-title",className:"flex w-full max-w-2xl max-h-[90vh] flex-col overflow-hidden rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[i.jsxs("header",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Upload"}),i.jsx("h2",{id:"upload-preflight-title",className:"text-xl font-semibold text-foreground",children:"Choose sheets before upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:E?"Pick the sheets to process for this file.":"Batch uploads use a shared sheet rule."})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:r,"aria-label":"Close dialog",children:i.jsx(uo,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"mt-6 flex min-h-0 flex-1 flex-col gap-6",children:[i.jsxs("section",{className:"flex min-h-0 flex-1 flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-semibold text-foreground",children:[d.length," file",d.length===1?"":"s"," ready"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total size ",dc(d.reduce((F,U)=>F+U.file.size,0))]})]}),i.jsx("div",{className:"flex-1 min-h-0 space-y-2 overflow-auto pr-1",children:d.map(F=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/80 bg-muted/30 px-3 py-2",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg border border-border bg-card text-[10px] font-semibold text-muted-foreground",children:sb(F.type)}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium text-foreground",children:F.file.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:dc(F.file.size)})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>f(U=>U.filter(ae=>ae.id!==F.id)),"aria-label":`Remove ${F.file.name}`,children:i.jsx(UT,{className:"h-4 w-4"})})]},F.id))})]}),i.jsx("section",{className:"space-y-4",children:E?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Sheet selection"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:A?"Active sheet is recommended for most uploads.":"Sheet selection is not available for this file type."})]}),A&&O==="loading"?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent"}),"Reading worksheet names..."]}):null,A&&O==="error"?i.jsx(Rt,{tone:"warning",heading:"Worksheet metadata unavailable",children:R?.error??"We could not read worksheets from this file."}):null,A?i.jsxs(i.Fragment,{children:[i.jsxs("fieldset",{className:"space-y-2","aria-label":"Sheet selection mode",children:[i.jsx("legend",{className:"sr-only",children:"Sheet selection mode"}),[{value:"active",title:"Active sheet",description:M?`Active sheet: ${M}`:"Active sheet not detected",disabled:O!=="ready"||!M},{value:"all",title:"All sheets",description:"Process every sheet in the workbook.",disabled:!1},{value:"custom",title:"Choose sheets",description:"Select specific sheets from the list.",disabled:O==="error"||D.length===0}].map(F=>i.jsxs("label",{className:fe("flex cursor-pointer items-start gap-3 rounded-xl border p-3 transition",x===F.value?"border-brand-500 bg-brand-500/10":"border-border bg-card hover:border-muted-foreground/40",F.disabled&&"cursor-not-allowed opacity-60"),children:[i.jsx("input",{type:"radio",name:"sheet-mode",className:"mt-1 h-4 w-4 border-border text-brand-600 focus:ring-brand-500",checked:x===F.value,onChange:()=>b(F.value),disabled:F.disabled}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:F.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:F.description})]})]},F.value))]}),x==="custom"?i.jsxs("div",{className:"rounded-xl border border-border bg-muted/30 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:w.length===0?"Select at least one sheet.":`${w.length} sheet${w.length===1?"":"s"} selected`}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>S(D),disabled:D.length===0,children:"Select all"}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>S([]),children:"Clear"})]})]}),i.jsx("div",{className:"mt-3 max-h-48 space-y-1 overflow-auto rounded-lg border border-border bg-card/60 p-2",children:D.map(F=>{const U=w.includes(F),ae=M===F;return i.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-foreground hover:bg-muted",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border text-brand-600 focus:ring-brand-500",checked:U,onChange:()=>S(P=>P.includes(F)?P.filter(q=>q!==F):[...P,F])}),i.jsxs("span",{className:"flex-1 truncate",children:[F,ae?" (active)":""]})]},F)})})]}):null]}):i.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/40 p-3 text-xs text-muted-foreground",children:"This file will be processed as a single sheet."})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Batch rules"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sheet-by-sheet selection is only available for single uploads."})]}),i.jsxs("label",{className:fe("flex items-center justify-between gap-4 rounded-xl border border-border bg-card px-4 py-3",N===0&&"opacity-60"),children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Process only the active sheet"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Applies to Excel files in this upload."})]}),i.jsxs("span",{className:"relative inline-flex items-center",children:[i.jsx("input",{type:"checkbox",className:"peer sr-only",checked:C,disabled:N===0,onChange:F=>j(F.target.checked)}),i.jsx("span",{className:"h-5 w-9 rounded-full bg-muted transition peer-checked:bg-brand-600 peer-disabled:cursor-not-allowed"}),i.jsx("span",{className:"absolute left-0.5 h-4 w-4 rounded-full bg-white transition peer-checked:translate-x-4"})]})]}),C?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active sheet selection is resolved during processing."}):null]})})]}),i.jsxs("footer",{className:"mt-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:T}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(ke,{variant:"ghost",onClick:r,children:"Cancel"}),i.jsxs(ke,{onClick:W,disabled:L,className:"gap-2",children:[i.jsx(xh,{className:"h-4 w-4"}),"Upload ",d.length===1?"file":"files"]})]})]})]})});return Wn.createPortal(I,document.body)}function ym(e){return e==="xlsx"||e==="xls"}async function yW(e){const t=await e.arrayBuffer(),r=(await fN(()=>import("./xlsx-DGuHH-KN.js"),[])).read(t,{type:"array"}),o=r.SheetNames??[],l=wW(r,o);return{names:o,activeName:l}}function wW(e,t){const n=e.Workbook?.Views?.[0]?.activeTab;return typeof n=="number"&&n>=0&&n<t.length?t[n]:t[0]??null}function SW(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var ho=e=>{const{present:t,children:n}=e,r=CW(t),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),l=qt(r.ref,jW(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:l}):null};ho.displayName="Presence";function CW(e){const[t,n]=m.useState(),r=m.useRef(null),o=m.useRef(e),l=m.useRef("none"),c=e?"mounted":"unmounted",[d,f]=SW(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=wm(r.current);l.current=d==="mounted"?p:"none"},[d]),hr(()=>{const p=r.current,g=o.current;if(g!==e){const b=l.current,w=wm(p);e?f("MOUNT"):w==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),hr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,x=w=>{const C=wm(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&C&&(f("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},b=w=>{w.target===t&&(l.current=wm(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:m.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function wm(e){return e?.animationName||"none"}function jW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function EW(e){const t=NW(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(kW);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function NW(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=MW(o),d=RW(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _W=Symbol("radix.slottable");function kW(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_W}function RW(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function MW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zh="Dialog",[mM]=ei(Zh),[DW,qs]=mM(Zh),hM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=m.useRef(null),f=m.useRef(null),[p,g]=hc({prop:r,defaultProp:o??!1,onChange:l,caller:Zh});return i.jsx(DW,{scope:t,triggerRef:d,contentRef:f,contentId:mr(),titleId:mr(),descriptionId:mr(),open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(x=>!x),[g]),modal:c,children:n})};hM.displayName=Zh;var pM="DialogTrigger",AW=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=qs(pM,n),l=qt(t,o.triggerRef);return i.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Oy(o.open),...r,ref:l,onClick:Ke(e.onClick,o.onOpenToggle)})});AW.displayName=pM;var Dy="DialogPortal",[OW,gM]=mM(Dy,{forceMount:void 0}),xM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=qs(Dy,t);return i.jsx(OW,{scope:t,forceMount:n,children:m.Children.map(r,c=>i.jsx(ho,{present:n||l.open,children:i.jsx(Rd,{asChild:!0,container:o,children:c})}))})};xM.displayName=Dy;var fh="DialogOverlay",vM=m.forwardRef((e,t)=>{const n=gM(fh,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=qs(fh,e.__scopeDialog);return l.modal?i.jsx(ho,{present:r||l.open,children:i.jsx(zW,{...o,ref:t})}):null});vM.displayName=fh;var TW=EW("DialogOverlay.RemoveScroll"),zW=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=qs(fh,n);return i.jsx(Md,{as:TW,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(dt.div,{"data-state":Oy(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gi="DialogContent",bM=m.forwardRef((e,t)=>{const n=gM(Gi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,l=qs(Gi,e.__scopeDialog);return i.jsx(ho,{present:r||l.open,children:l.modal?i.jsx(PW,{...o,ref:t}):i.jsx(IW,{...o,ref:t})})});bM.displayName=Gi;var PW=m.forwardRef((e,t)=>{const n=qs(Gi,e.__scopeDialog),r=m.useRef(null),o=qt(t,n.contentRef,r);return m.useEffect(()=>{const l=r.current;if(l)return Hh(l)},[]),i.jsx(yM,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault())})}),IW=m.forwardRef((e,t)=>{const n=qs(Gi,e.__scopeDialog),r=m.useRef(!1),o=m.useRef(!1);return i.jsx(yM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),yM=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=qs(Gi,n),f=m.useRef(null),p=qt(t,f);return Lh(),i.jsxs(i.Fragment,{children:[i.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(Nd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Oy(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(LW,{titleId:d.titleId}),i.jsx(FW,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Ay="DialogTitle",wM=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=qs(Ay,n);return i.jsx(dt.h2,{id:o.titleId,...r,ref:t})});wM.displayName=Ay;var SM="DialogDescription",CM=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=qs(SM,n);return i.jsx(dt.p,{id:o.descriptionId,...r,ref:t})});CM.displayName=SM;var jM="DialogClose",EM=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=qs(jM,n);return i.jsx(dt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>o.onOpenChange(!1))})});EM.displayName=jM;function Oy(e){return e?"open":"closed"}var NM="DialogTitleWarning",[ste,_M]=BB(NM,{contentName:Gi,titleName:Ay,docsSlug:"dialog"}),LW=({titleId:e})=>{const t=_M(NM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$W="DialogDescriptionWarning",FW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_M($W).contentName}}.`;return m.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kM=hM,RM=xM,MM=vM,Ty=bM,UW=wM,BW=CM,VW=EM;function DM({...e}){return i.jsx(kM,{"data-slot":"dialog",...e})}function AM({...e}){return i.jsx(RM,{"data-slot":"dialog-portal",...e})}function OM({className:e,...t}){return i.jsx(MM,{"data-slot":"dialog-overlay",className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in",e),...t})}function HW({className:e,children:t,showCloseButton:n=!0,...r}){return i.jsxs(AM,{"data-slot":"dialog-portal",children:[i.jsx(OM,{}),i.jsxs(Ty,{"data-slot":"dialog-content",className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg",e),...r,children:[t,n&&i.jsxs(VW,{"data-slot":"dialog-close",className:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:[i.jsx(nM,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qW({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:ze("flex flex-col gap-2 text-center sm:text-left",e),...t})}function WW({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-footer",className:ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function TM({className:e,...t}){return i.jsx(UW,{"data-slot":"dialog-title",className:ze("font-semibold text-lg leading-none",e),...t})}function zM({className:e,...t}){return i.jsx(BW,{"data-slot":"dialog-description",className:ze("text-muted-foreground text-sm",e),...t})}const uE=["-createdAt"];function GW(e){return((e&&e.length>0?e:uE)[0]??uE[0]).startsWith("-")?"start":"end"}function YW(e,t,n={}){const r=t.documentId??t.row?.id;if(!r)return{data:e,updatesAvailable:!1,applied:!1};let o=!!t.requiresRefresh;for(let l=0;l<e.pages.length;l+=1){const c=e.pages[l],d=c.items??[];if(!d.length)continue;const f=d.findIndex(p=>p.id===r);if(f!==-1){if(t.type==="document.deleted"){const p=e.pages.slice();return p[l]={...c,items:d.filter(g=>g.id!==r)},{data:{...e,pages:p},updatesAvailable:o,applied:!0}}if(t.type==="document.upsert"&&t.row){if(t.matchesFilters===!1){const x=e.pages.slice();return x[l]={...c,items:d.filter(b=>b.id!==r)},{data:{...e,pages:x},updatesAvailable:!0,applied:!0}}const p=d.slice();p[f]=t.row;const g=e.pages.slice();return g[l]={...c,items:p},{data:{...e,pages:g},updatesAvailable:o,applied:!0}}return{data:e,updatesAvailable:o,applied:!1}}}if(t.type==="document.upsert"&&t.row&&t.matchesFilters){const l=e.pages[0];if(l){const c=l.items??[],f=GW(n.sortTokens)==="start"?[t.row,...c]:[...c,t.row],p=e.pages.slice();return p[0]={...l,items:f},{data:{...e,pages:p},updatesAvailable:o,applied:!0}}o=!0}return{data:e,updatesAvailable:o,applied:!1}}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function La(e,t){return typeof e=="function"?e(t):e}function Xr(e,t){return n=>{t.setState(r=>({...r,[e]:La(n,r[e])}))}}function Qh(e){return e instanceof Function}function KW(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function ZW(e,t){const n=[],r=o=>{o.forEach(l=>{n.push(l);const c=t(l);c!=null&&c.length&&r(c)})};return r(e),n}function nt(e,t,n){let r=[],o;return l=>{let c;n.key&&n.debug&&(c=Date.now());const d=e(l);if(!(d.length!==r.length||d.some((g,x)=>r[x]!==g)))return o;r=d;let p;if(n.key&&n.debug&&(p=Date.now()),o=t(...d),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-c)*100)/100,x=Math.round((Date.now()-p)*100)/100,b=x/16,w=(S,C)=>{for(S=String(S);S.length<C;)S=" "+S;return S};console.info(`%c ${w(x,5)} /${w(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return o}}function rt(e,t,n,r){return{debug:()=>{var o;return(o=e?.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function QW(e,t,n,r){const o=()=>{var c;return(c=l.getValue())!=null?c:e.options.renderFallbackValue},l={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:nt(()=>[e,n,t,l],(c,d,f,p)=>({table:c,column:d,row:f,cell:p,getValue:p.getValue,renderValue:p.renderValue}),rt(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(l,n,t,e)},{}),l}function XW(e,t,n,r){var o,l;const d={...e._getDefaultColumnDef(),...t},f=d.accessorKey;let p=(o=(l=d.id)!=null?l:f?typeof String.prototype.replaceAll=="function"?f.replaceAll(".","_"):f.replace(/\./g,"_"):void 0)!=null?o:typeof d.header=="string"?d.header:void 0,g;if(d.accessorFn?g=d.accessorFn:f&&(f.includes(".")?g=b=>{let w=b;for(const C of f.split(".")){var S;w=(S=w)==null?void 0:S[C]}return w}:g=b=>b[d.accessorKey]),!p)throw new Error;let x={id:`${String(p)}`,accessorFn:g,parent:r,depth:n,columnDef:d,columns:[],getFlatColumns:nt(()=>[!0],()=>{var b;return[x,...(b=x.columns)==null?void 0:b.flatMap(w=>w.getFlatColumns())]},rt(e.options,"debugColumns")),getLeafColumns:nt(()=>[e._getOrderColumnsFn()],b=>{var w;if((w=x.columns)!=null&&w.length){let S=x.columns.flatMap(C=>C.getLeafColumns());return b(S)}return[x]},rt(e.options,"debugColumns"))};for(const b of e._features)b.createColumn==null||b.createColumn(x,e);return x}const ur="debugHeaders";function dE(e,t,n){var r;let l={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=f=>{f.subHeaders&&f.subHeaders.length&&f.subHeaders.map(d),c.push(f)};return d(l),c},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(l,e)}),l}const JW={createTable:e=>{e.getHeaderGroups=nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var l,c;const d=(l=r?.map(x=>n.find(b=>b.id===x)).filter(Boolean))!=null?l:[],f=(c=o?.map(x=>n.find(b=>b.id===x)).filter(Boolean))!=null?c:[],p=n.filter(x=>!(r!=null&&r.includes(x.id))&&!(o!=null&&o.includes(x.id)));return Sm(t,[...d,...p,...f],e)},rt(e.options,ur)),e.getCenterHeaderGroups=nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(o!=null&&o.includes(l.id))),Sm(t,n,e,"center")),rt(e.options,ur)),e.getLeftHeaderGroups=nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const l=(o=r?.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?o:[];return Sm(t,l,e,"left")},rt(e.options,ur)),e.getRightHeaderGroups=nt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const l=(o=r?.map(c=>n.find(d=>d.id===c)).filter(Boolean))!=null?o:[];return Sm(t,l,e,"right")},rt(e.options,ur)),e.getFooterGroups=nt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),rt(e.options,ur)),e.getLeftFooterGroups=nt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),rt(e.options,ur)),e.getCenterFooterGroups=nt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),rt(e.options,ur)),e.getRightFooterGroups=nt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),rt(e.options,ur)),e.getFlatHeaders=nt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),rt(e.options,ur)),e.getLeftFlatHeaders=nt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),rt(e.options,ur)),e.getCenterFlatHeaders=nt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),rt(e.options,ur)),e.getRightFlatHeaders=nt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),rt(e.options,ur)),e.getCenterLeafHeaders=nt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),rt(e.options,ur)),e.getLeftLeafHeaders=nt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),rt(e.options,ur)),e.getRightLeafHeaders=nt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),rt(e.options,ur)),e.getLeafHeaders=nt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,l,c,d,f,p;return[...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=n[0])==null?void 0:d.headers)!=null?c:[],...(f=(p=r[0])==null?void 0:p.headers)!=null?f:[]].map(g=>g.getLeafHeaders()).flat()},rt(e.options,ur))}};function Sm(e,t,n,r){var o,l;let c=0;const d=function(b,w){w===void 0&&(w=1),c=Math.max(c,w),b.filter(S=>S.getIsVisible()).forEach(S=>{var C;(C=S.columns)!=null&&C.length&&d(S.columns,w+1)},0)};d(e);let f=[];const p=(b,w)=>{const S={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},C=[];b.forEach(j=>{const E=[...C].reverse()[0],N=j.column.depth===S.depth;let _,R=!1;if(N&&j.column.parent?_=j.column.parent:(_=j.column,R=!0),E&&E?.column===_)E.subHeaders.push(j);else{const M=dE(n,_,{id:[r,w,_.id,j?.id].filter(Boolean).join("_"),isPlaceholder:R,placeholderId:R?`${C.filter(D=>D.column===_).length}`:void 0,depth:w,index:C.length});M.subHeaders.push(j),C.push(M)}S.headers.push(j),j.headerGroup=S}),f.push(S),w>0&&p(C,w-1)},g=t.map((b,w)=>dE(n,b,{depth:c,index:w}));p(g,c-1),f.reverse();const x=b=>b.filter(S=>S.column.getIsVisible()).map(S=>{let C=0,j=0,E=[0];S.subHeaders&&S.subHeaders.length?(E=[],x(S.subHeaders).forEach(_=>{let{colSpan:R,rowSpan:M}=_;C+=R,E.push(M)})):C=1;const N=Math.min(...E);return j=j+N,S.colSpan=C,S.rowSpan=j,{colSpan:C,rowSpan:j}});return x((o=(l=f[0])==null?void 0:l.headers)!=null?o:[]),f}const zy=(e,t,n,r,o,l,c)=>{let d={id:t,index:r,original:n,depth:o,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:f=>{if(d._valuesCache.hasOwnProperty(f))return d._valuesCache[f];const p=e.getColumn(f);if(p!=null&&p.accessorFn)return d._valuesCache[f]=p.accessorFn(d.original,r),d._valuesCache[f]},getUniqueValues:f=>{if(d._uniqueValuesCache.hasOwnProperty(f))return d._uniqueValuesCache[f];const p=e.getColumn(f);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(d._uniqueValuesCache[f]=p.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[f]):(d._uniqueValuesCache[f]=[d.getValue(f)],d._uniqueValuesCache[f])},renderValue:f=>{var p;return(p=d.getValue(f))!=null?p:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>ZW(d.subRows,f=>f.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let f=[],p=d;for(;;){const g=p.getParentRow();if(!g)break;f.push(g),p=g}return f.reverse()},getAllCells:nt(()=>[e.getAllLeafColumns()],f=>f.map(p=>QW(e,d,p,p.id)),rt(e.options,"debugRows")),_getAllCellsByColumnId:nt(()=>[d.getAllCells()],f=>f.reduce((p,g)=>(p[g.column.id]=g,p),{}),rt(e.options,"debugRows"))};for(let f=0;f<e._features.length;f++){const p=e._features[f];p==null||p.createRow==null||p.createRow(d,e)}return d},e7={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},PM=(e,t,n)=>{var r,o;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(l))};PM.autoRemove=e=>$s(e);const IM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};IM.autoRemove=e=>$s(e);const LM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};LM.autoRemove=e=>$s(e);const $M=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};$M.autoRemove=e=>$s(e);const FM=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});FM.autoRemove=e=>$s(e)||!(e!=null&&e.length);const UM=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});UM.autoRemove=e=>$s(e)||!(e!=null&&e.length);const BM=(e,t,n)=>e.getValue(t)===n;BM.autoRemove=e=>$s(e);const VM=(e,t,n)=>e.getValue(t)==n;VM.autoRemove=e=>$s(e);const Py=(e,t,n)=>{let[r,o]=n;const l=e.getValue(t);return l>=r&&l<=o};Py.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,l=t===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(o)?1/0:o;if(l>c){const d=l;l=c,c=d}return[l,c]};Py.autoRemove=e=>$s(e)||$s(e[0])&&$s(e[1]);const Uo={includesString:PM,includesStringSensitive:IM,equalsString:LM,arrIncludes:$M,arrIncludesAll:FM,arrIncludesSome:UM,equals:BM,weakEquals:VM,inNumberRange:Py};function $s(e){return e==null||e===""}const t7={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Xr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Uo.includesString:typeof r=="number"?Uo.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Uo.equals:Array.isArray(r)?Uo.arrIncludes:Uo.weakEquals},e.getFilterFn=()=>{var n,r;return Qh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Uo[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),l=r?.find(g=>g.id===e.id),c=La(n,l?l.value:void 0);if(fE(o,c,e)){var d;return(d=r?.filter(g=>g.id!==e.id))!=null?d:[]}const f={id:e.id,value:c};if(l){var p;return(p=r?.map(g=>g.id===e.id?f:g))!=null?p:[]}return r!=null&&r.length?[...r,f]:[f]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var l;return(l=La(t,o))==null?void 0:l.filter(c=>{const d=n.find(f=>f.id===c.id);if(d){const f=d.getFilterFn();if(fE(f,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function fE(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const n7=(e,t,n)=>n.reduce((r,o)=>{const l=o.getValue(e);return r+(typeof l=="number"?l:0)},0),r7=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},s7=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},o7=(e,t,n)=>{let r,o;return n.forEach(l=>{const c=l.getValue(e);c!=null&&(r===void 0?c>=c&&(r=o=c):(r>c&&(r=c),o<c&&(o=c)))}),[r,o]},a7=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let l=o.getValue(e);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},i7=(e,t)=>{if(!t.length)return;const n=t.map(l=>l.getValue(e));if(!KW(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((l,c)=>l-c);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},l7=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),c7=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,u7=(e,t)=>t.length,ev={sum:n7,min:r7,max:s7,extent:o7,mean:a7,median:i7,unique:l7,uniqueCount:c7,count:u7},d7={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Xr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return ev.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ev.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Qh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ev[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function f7(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(l=>!t.includes(l.id));return n==="remove"?r:[...t.map(l=>e.find(c=>c.id===l)).filter(Boolean),...r]}const m7={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Xr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=nt(n=>[Xu(t,n)],n=>n.findIndex(r=>r.id===e.id),rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Xu(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Xu(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=nt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let l=[];if(!(t!=null&&t.length))l=o;else{const c=[...t],d=[...o];for(;d.length&&c.length;){const f=c.shift(),p=d.findIndex(g=>g.id===f);p>-1&&l.push(d.splice(p,1)[0])}l=[...l,...d]}return f7(l,n,r)},rt(e.options,"debugTable"))}},tv=()=>({left:[],right:[]}),h7={getInitialState:e=>({columnPinning:tv(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Xr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var l,c;if(n==="right"){var d,f;return{left:((d=o?.left)!=null?d:[]).filter(x=>!(r!=null&&r.includes(x))),right:[...((f=o?.right)!=null?f:[]).filter(x=>!(r!=null&&r.includes(x))),...r]}}if(n==="left"){var p,g;return{left:[...((p=o?.left)!=null?p:[]).filter(x=>!(r!=null&&r.includes(x))),...r],right:((g=o?.right)!=null?g:[]).filter(x=>!(r!=null&&r.includes(x)))}}return{left:((l=o?.left)!=null?l:[]).filter(x=>!(r!=null&&r.includes(x))),right:((c=o?.right)!=null?c:[]).filter(x=>!(r!=null&&r.includes(x)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,l,c;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((l=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(d=>d.id),{left:r,right:o}=t.getState().columnPinning,l=n.some(d=>r?.includes(d)),c=n.some(d=>o?.includes(d));return l?"left":c?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const l=[...r??[],...o??[]];return n.filter(c=>!l.includes(c.column.id))},rt(t.options,"debugRows")),e.getLeftVisibleCells=nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),rt(t.options,"debugRows")),e.getRightVisibleCells=nt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?tv():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:tv())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,l;return!!((o=r.left)!=null&&o.length||(l=r.right)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),rt(e.options,"debugColumns")),e.getRightLeafColumns=nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),rt(e.options,"debugColumns")),e.getCenterLeafColumns=nt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(l=>!o.includes(l.id))},rt(e.options,"debugColumns"))}};function p7(e){return e||(typeof document<"u"?document:null)}const Cm={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},nv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),g7={getDefaultColumnDef:()=>Cm,getInitialState:e=>({columnSizing:{},columnSizingInfo:nv(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Xr("columnSizing",e),onColumnSizingInfoChange:Xr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Cm.minSize,(r=l??e.columnDef.size)!=null?r:Cm.size),(o=e.columnDef.maxSize)!=null?o:Cm.maxSize)},e.getStart=nt(n=>[n,Xu(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,l)=>o+l.getSize(),0),rt(t.options,"debugColumns")),e.getAfter=nt(n=>[n,Xu(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,l)=>o+l.getSize(),0),rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var l;n+=(l=o.column.getSize())!=null?l:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r?.getCanResize();return l=>{if(!r||!o||(l.persist==null||l.persist(),rv(l)&&l.touches&&l.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(E=>[E.column.id,E.column.getSize()]):[[r.id,r.getSize()]],f=rv(l)?Math.round(l.touches[0].clientX):l.clientX,p={},g=(E,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(_=>{var R,M;const D=t.options.columnResizeDirection==="rtl"?-1:1,O=(N-((R=_?.startOffset)!=null?R:0))*D,A=Math.max(O/((M=_?.startSize)!=null?M:0),-.999999);return _.columnSizingStart.forEach(L=>{let[T,W]=L;p[T]=Math.round(Math.max(W+W*A,0)*100)/100}),{..._,deltaOffset:O,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||E==="end")&&t.setColumnSizing(_=>({..._,...p})))},x=E=>g("move",E),b=E=>{g("end",E),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=p7(n),S={moveHandler:E=>x(E.clientX),upHandler:E=>{w?.removeEventListener("mousemove",S.moveHandler),w?.removeEventListener("mouseup",S.upHandler),b(E.clientX)}},C={moveHandler:E=>(E.cancelable&&(E.preventDefault(),E.stopPropagation()),x(E.touches[0].clientX),!1),upHandler:E=>{var N;w?.removeEventListener("touchmove",C.moveHandler),w?.removeEventListener("touchend",C.upHandler),E.cancelable&&(E.preventDefault(),E.stopPropagation()),b((N=E.touches[0])==null?void 0:N.clientX)}},j=x7()?{passive:!1}:!1;rv(l)?(w?.addEventListener("touchmove",C.moveHandler,j),w?.addEventListener("touchend",C.upHandler,j)):(w?.addEventListener("mousemove",S.moveHandler,j),w?.addEventListener("mouseup",S.upHandler,j)),t.setColumnSizingInfo(E=>({...E,startOffset:f,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?nv():(n=e.initialState.columnSizingInfo)!=null?n:nv())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let jm=null;function x7(){if(typeof jm=="boolean")return jm;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return jm=e,jm}function rv(e){return e.type==="touchstart"}const v7={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Xr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=nt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),rt(t.options,"debugRows")),e.getVisibleCells=nt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>nt(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,l)=>({...o,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Xu(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const b7={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},y7={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Xr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,l;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Uo.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Qh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Uo[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},w7={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Xr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,l;e.setExpanded(r?{}:(o=(l=e.initialState)==null?void 0:l.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const l=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,n=(o=n)!=null?o:!l,!l&&n)return{...c,[e.id]:!0};if(l&&!n){const{[e.id]:d,...f}=c;return f}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ob=0,ab=10,sv=()=>({pageIndex:ob,pageSize:ab}),S7={getInitialState:e=>({...e,pagination:{...sv(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Xr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=l=>La(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?sv():(o=e.initialState.pagination)!=null?o:sv())},e.setPageIndex=r=>{e.setPagination(o=>{let l=La(r,o.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...o,pageIndex:l}})},e.resetPageIndex=r=>{var o,l;e.setPageIndex(r?ob:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?o:ob)},e.resetPageSize=r=>{var o,l;e.setPageSize(r?ab:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?o:ab)},e.setPageSize=r=>{e.setPagination(o=>{const l=Math.max(1,La(r,o.pageSize)),c=o.pageSize*o.pageIndex,d=Math.floor(c/l);return{...o,pageIndex:d,pageSize:l}})},e.setPageCount=r=>e.setPagination(o=>{var l;let c=La(r,(l=e.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...o,pageCount:c}}),e.getPageOptions=nt(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((l,c)=>c)),o},rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ov=()=>({top:[],bottom:[]}),C7={getInitialState:e=>({rowPinning:ov(),...e}),getDefaultOptions:e=>({onRowPinningChange:Xr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const l=r?e.getLeafRows().map(f=>{let{id:p}=f;return p}):[],c=o?e.getParentRows().map(f=>{let{id:p}=f;return p}):[],d=new Set([...c,e.id,...l]);t.setRowPinning(f=>{var p,g;if(n==="bottom"){var x,b;return{top:((x=f?.top)!=null?x:[]).filter(C=>!(d!=null&&d.has(C))),bottom:[...((b=f?.bottom)!=null?b:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)]}}if(n==="top"){var w,S;return{top:[...((w=f?.top)!=null?w:[]).filter(C=>!(d!=null&&d.has(C))),...Array.from(d)],bottom:((S=f?.bottom)!=null?S:[]).filter(C=>!(d!=null&&d.has(C)))}}return{top:((p=f?.top)!=null?p:[]).filter(C=>!(d!=null&&d.has(C))),bottom:((g=f?.bottom)!=null?g:[]).filter(C=>!(d!=null&&d.has(C)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,l=n.some(d=>r?.includes(d)),c=n.some(d=>o?.includes(d));return l?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const l=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(c=>{let{id:d}=c;return d});return(r=l?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ov():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ov())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,l;return!!((o=r.top)!=null&&o.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(n??[]).map(c=>t.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),rt(e.options,"debugRows")),e.getBottomRows=nt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),rt(e.options,"debugRows")),e.getCenterRows=nt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(l=>!o.has(l.id))},rt(e.options,"debugRows"))}},j7={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Xr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):o.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(l=>{ib(o,l.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=nt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?av(e,n):{rows:[],flatRows:[],rowsById:{}},rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=nt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?av(e,n):{rows:[],flatRows:[],rowsById:{}},rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=nt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?av(e,n):{rows:[],flatRows:[],rowsById:{}},rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(l=>{var c;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return l;const d={...l};return ib(d,e.id,n,(c=r?.selectChildren)!=null?c:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Iy(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return lb(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return lb(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},ib=(e,t,n,r,o)=>{var l;const c=o.getRow(t,!0);n?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>ib(e,d.id,n,r,o))};function av(e,t){const n=e.getState().rowSelection,r=[],o={},l=function(c,d){return c.map(f=>{var p;const g=Iy(f,n);if(g&&(r.push(f),o[f.id]=f),(p=f.subRows)!=null&&p.length&&(f={...f,subRows:l(f.subRows)}),g)return f}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:o}}function Iy(e,t){var n;return(n=t[e.id])!=null?n:!1}function lb(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,l=!1;return e.subRows.forEach(c=>{if(!(l&&!o)&&(c.getCanSelect()&&(Iy(c,t)?l=!0:o=!1),c.subRows&&c.subRows.length)){const d=lb(c,t);d==="all"?l=!0:(d==="some"&&(l=!0),o=!1)}}),o?"all":l?"some":!1}const cb=/([0-9]+)/gm,E7=(e,t,n)=>HM(Za(e.getValue(n)).toLowerCase(),Za(t.getValue(n)).toLowerCase()),N7=(e,t,n)=>HM(Za(e.getValue(n)),Za(t.getValue(n))),_7=(e,t,n)=>Ly(Za(e.getValue(n)).toLowerCase(),Za(t.getValue(n)).toLowerCase()),k7=(e,t,n)=>Ly(Za(e.getValue(n)),Za(t.getValue(n))),R7=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},M7=(e,t,n)=>Ly(e.getValue(n),t.getValue(n));function Ly(e,t){return e===t?0:e>t?1:-1}function Za(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function HM(e,t){const n=e.split(cb).filter(Boolean),r=t.split(cb).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),l=r.shift(),c=parseInt(o,10),d=parseInt(l,10),f=[c,d].sort();if(isNaN(f[0])){if(o>l)return 1;if(l>o)return-1;continue}if(isNaN(f[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return n.length-r.length}const Au={alphanumeric:E7,alphanumericCaseSensitive:N7,text:_7,textCaseSensitive:k7,datetime:R7,basic:M7},D7={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Xr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const l=o?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return Au.datetime;if(typeof l=="string"&&(r=!0,l.split(cb).length>1))return Au.alphanumeric}return r?Au.text:Au.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Qh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Au[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),l=typeof n<"u"&&n!==null;t.setSorting(c=>{const d=c?.find(w=>w.id===e.id),f=c?.findIndex(w=>w.id===e.id);let p=[],g,x=l?n:o==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?g="toggle":g="add":c!=null&&c.length&&f!==c.length-1?g="replace":d?g="toggle":g="replace",g==="toggle"&&(l||o||(g="remove")),g==="add"){var b;p=[...c,{id:e.id,desc:x}],p.splice(0,p.length-((b=t.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else g==="toggle"?p=c.map(w=>w.id===e.id?{...w,desc:x}:w):g==="remove"?p=c.filter(w=>w.id!==e.id):p=[{id:e.id,desc:x}];return p})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const l=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:c==="desc"?"asc":"desc":l},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},A7=[JW,v7,m7,h7,e7,t7,b7,y7,D7,d7,w7,S7,C7,j7,g7];function O7(e){var t,n;const r=[...A7,...(t=e._features)!=null?t:[]];let o={_features:r};const l=o._features.reduce((b,w)=>Object.assign(b,w.getDefaultOptions==null?void 0:w.getDefaultOptions(o)),{}),c=b=>o.options.mergeOptions?o.options.mergeOptions(l,b):{...l,...b};let f={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(b=>{var w;f=(w=b.getInitialState==null?void 0:b.getInitialState(f))!=null?w:f});const p=[];let g=!1;const x={_features:r,options:{...l,...e},initialState:f,_queue:b=>{p.push(b),g||(g=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();g=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{o.setState(o.initialState)},setOptions:b=>{const w=La(b,o.options);o.options=c(w)},getState:()=>o.options.state,setState:b=>{o.options.onStateChange==null||o.options.onStateChange(b)},_getRowId:(b,w,S)=>{var C;return(C=o.options.getRowId==null?void 0:o.options.getRowId(b,w,S))!=null?C:`${S?[S.id,w].join("."):w}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(b,w)=>{let S=(w?o.getPrePaginationRowModel():o.getRowModel()).rowsById[b];if(!S&&(S=o.getCoreRowModel().rowsById[b],!S))throw new Error;return S},_getDefaultColumnDef:nt(()=>[o.options.defaultColumn],b=>{var w;return b=(w=b)!=null?w:{},{header:S=>{const C=S.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:S=>{var C,j;return(C=(j=S.renderValue())==null||j.toString==null?void 0:j.toString())!=null?C:null},...o._features.reduce((S,C)=>Object.assign(S,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...b}},rt(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:nt(()=>[o._getColumnDefs()],b=>{const w=function(S,C,j){return j===void 0&&(j=0),S.map(E=>{const N=XW(o,E,j,C),_=E;return N.columns=_.columns?w(_.columns,N,j+1):[],N})};return w(b)},rt(e,"debugColumns")),getAllFlatColumns:nt(()=>[o.getAllColumns()],b=>b.flatMap(w=>w.getFlatColumns()),rt(e,"debugColumns")),_getAllFlatColumnsById:nt(()=>[o.getAllFlatColumns()],b=>b.reduce((w,S)=>(w[S.id]=S,w),{}),rt(e,"debugColumns")),getAllLeafColumns:nt(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(b,w)=>{let S=b.flatMap(C=>C.getLeafColumns());return w(S)},rt(e,"debugColumns")),getColumn:b=>o._getAllFlatColumnsById()[b]};Object.assign(o,x);for(let b=0;b<o._features.length;b++){const w=o._features[b];w==null||w.createTable==null||w.createTable(o)}return o}function qM(){return e=>nt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,l,c){l===void 0&&(l=0);const d=[];for(let p=0;p<o.length;p++){const g=zy(e,e._getRowId(o[p],p,c),o[p],p,l,void 0,c?.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,d.push(g),e.options.getSubRows){var f;g.originalSubRows=e.options.getSubRows(o[p],p),(f=g.originalSubRows)!=null&&f.length&&(g.subRows=r(g.originalSubRows,l+1,g))}}return d};return n.rows=r(t),n},rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function T7(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function z7(){return(e,t)=>nt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(c=>{var d;return(d=c.getUniqueValues(t))!=null?d:[]}).map(Number).filter(c=>!Number.isNaN(c));if(!r.length)return;let o=r[0],l=r[r.length-1];for(const c of r)c<o?o=c:c>l&&(l=c);return[o,l]},rt(e.options,"debugTable"))}function WM(e,t,n){return n.options.filterFromLeafRows?P7(e,t,n):I7(e,t,n)}function P7(e,t,n){var r;const o=[],l={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(f,p){p===void 0&&(p=0);const g=[];for(let b=0;b<f.length;b++){var x;let w=f[b];const S=zy(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);if(S.columnFilters=w.columnFilters,(x=w.subRows)!=null&&x.length&&p<c){if(S.subRows=d(w.subRows,p+1),w=S,t(w)&&!S.subRows.length){g.push(w),l[w.id]=w,o.push(w);continue}if(t(w)||S.subRows.length){g.push(w),l[w.id]=w,o.push(w);continue}}else w=S,t(w)&&(g.push(w),l[w.id]=w,o.push(w))}return g};return{rows:d(e),flatRows:o,rowsById:l}}function I7(e,t,n){var r;const o=[],l={},c=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,d=function(f,p){p===void 0&&(p=0);const g=[];for(let b=0;b<f.length;b++){let w=f[b];if(t(w)){var x;if((x=w.subRows)!=null&&x.length&&p<c){const C=zy(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);C.subRows=d(w.subRows,p+1),w=C}g.push(w),o.push(w),l[w.id]=w}}return g};return{rows:d(e),flatRows:o,rowsById:l}}function L7(){return(e,t)=>nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const l=[...r.map(d=>d.id).filter(d=>d!==t),o?"__global__":void 0].filter(Boolean),c=d=>{for(let f=0;f<l.length;f++)if(d.columnFilters[l[f]]===!1)return!1;return!0};return WM(n.rows,c,e)},rt(e.options,"debugTable"))}function $7(){return(e,t)=>nt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let l=0;l<n.flatRows.length;l++){const c=n.flatRows[l].getUniqueValues(t);for(let d=0;d<c.length;d++){const f=c[d];if(r.has(f)){var o;r.set(f,((o=r.get(f))!=null?o:0)+1)}else r.set(f,1)}}return r},rt(e.options,"debugTable"))}function F7(){return e=>nt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let b=0;b<t.flatRows.length;b++)t.flatRows[b].columnFilters={},t.flatRows[b].columnFiltersMeta={};return t}const o=[],l=[];(n??[]).forEach(b=>{var w;const S=e.getColumn(b.id);if(!S)return;const C=S.getFilterFn();C&&o.push({id:b.id,filterFn:C,resolvedValue:(w=C.resolveFilterValue==null?void 0:C.resolveFilterValue(b.value))!=null?w:b.value})});const c=(n??[]).map(b=>b.id),d=e.getGlobalFilterFn(),f=e.getAllLeafColumns().filter(b=>b.getCanGlobalFilter());r&&d&&f.length&&(c.push("__global__"),f.forEach(b=>{var w;l.push({id:b.id,filterFn:d,resolvedValue:(w=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?w:r})}));let p,g;for(let b=0;b<t.flatRows.length;b++){const w=t.flatRows[b];if(w.columnFilters={},o.length)for(let S=0;S<o.length;S++){p=o[S];const C=p.id;w.columnFilters[C]=p.filterFn(w,C,p.resolvedValue,j=>{w.columnFiltersMeta[C]=j})}if(l.length){for(let S=0;S<l.length;S++){g=l[S];const C=g.id;if(g.filterFn(w,C,g.resolvedValue,j=>{w.columnFiltersMeta[C]=j})){w.columnFilters.__global__=!0;break}}w.columnFilters.__global__!==!0&&(w.columnFilters.__global__=!1)}}const x=b=>{for(let w=0;w<c.length;w++)if(b.columnFilters[c[w]]===!1)return!1;return!0};return WM(t.rows,x,e)},rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function U7(e){return t=>nt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:l}=n;let{rows:c,flatRows:d,rowsById:f}=r;const p=o*l,g=p+o;c=c.slice(p,g);let x;t.options.paginateExpandedRows?x={rows:c,flatRows:d,rowsById:f}:x=T7({rows:c,flatRows:d,rowsById:f}),x.flatRows=[];const b=w=>{x.flatRows.push(w),w.subRows.length&&w.subRows.forEach(b)};return x.rows.forEach(b),x},rt(t.options,"debugTable"))}function B7(){return e=>nt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],l=r.filter(f=>{var p;return(p=e.getColumn(f.id))==null?void 0:p.getCanSort()}),c={};l.forEach(f=>{const p=e.getColumn(f.id);p&&(c[f.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const d=f=>{const p=f.map(g=>({...g}));return p.sort((g,x)=>{for(let w=0;w<l.length;w+=1){var b;const S=l[w],C=c[S.id],j=C.sortUndefined,E=(b=S?.desc)!=null?b:!1;let N=0;if(j){const _=g.getValue(S.id),R=x.getValue(S.id),M=_===void 0,D=R===void 0;if(M||D){if(j==="first")return M?-1:1;if(j==="last")return M?1:-1;N=M&&D?0:M?j:-j}}if(N===0&&(N=C.sortingFn(g,x,S.id)),N!==0)return E&&(N*=-1),C.invertSorting&&(N*=-1),N}return g.index-x.index}),p.forEach(g=>{var x;o.push(g),(x=g.subRows)!=null&&x.length&&(g.subRows=d(g.subRows))}),p};return{rows:d(n.rows),flatRows:o,rowsById:n.rowsById}},rt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function mE(e,t){return e?V7(e)?m.createElement(e,t):e:null}function V7(e){return H7(e)||typeof e=="function"||q7(e)}function H7(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function q7(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function GM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=m.useState(()=>({current:O7(t)})),[r,o]=m.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:c=>{o(c),e.onStateChange==null||e.onStateChange(c)}})),n.current}function W7({table:e,pageSizeOptions:t=[10,20,30,40,50],className:n,...r}){return i.jsxs("div",{className:ze("flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8",n),...r,children:[i.jsxs("div",{className:"flex-1 whitespace-nowrap text-muted-foreground text-sm",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),i.jsxs("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"whitespace-nowrap font-medium text-sm",children:"Rows per page"}),i.jsxs(Wa,{value:`${e.getState().pagination.pageSize}`,onValueChange:o=>{e.setPageSize(Number(o))},children:[i.jsx(Ya,{className:"h-8 w-18 data-size:h-8",children:i.jsx(Ga,{placeholder:e.getState().pagination.pageSize})}),i.jsx(Ka,{side:"top",children:t.map(o=>i.jsx(Ko,{value:`${o}`,children:o},o))})]})]}),i.jsxs("div",{className:"flex items-center justify-center font-medium text-sm",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ke,{"aria-label":"Go to first page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:i.jsx(Oq,{})}),i.jsx(ke,{"aria-label":"Go to previous page",variant:"outline",size:"icon",className:"size-8",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:i.jsx(XR,{})}),i.jsx(ke,{"aria-label":"Go to next page",variant:"outline",size:"icon",className:"size-8",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:i.jsx(JR,{})}),i.jsx(ke,{"aria-label":"Go to last page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:i.jsx(zq,{})})]})]})]})}function $y({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:ze("w-full caption-bottom text-sm",e),...t})})}function Fy({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:ze("[&_tr]:border-b",e),...t})}function Uy({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:ze("[&_tr:last-child]:border-0",e),...t})}function $a({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})}function Fa({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:ze("h-10 whitespace-nowrap px-2 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function oo({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:ze("whitespace-nowrap p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const Hr={textOperators:[{label:"Contains",value:"iLike"},{label:"Does not contain",value:"notILike"},{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],numericOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is less than",value:"lt"},{label:"Is less than or equal to",value:"lte"},{label:"Is greater than",value:"gt"},{label:"Is greater than or equal to",value:"gte"},{label:"Is between",value:"isBetween"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],dateOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is before",value:"lt"},{label:"Is after",value:"gt"},{label:"Is on or before",value:"lte"},{label:"Is on or after",value:"gte"},{label:"Is between",value:"isBetween"},{label:"Is relative to today",value:"isRelativeToToday"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],selectOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],multiSelectOperators:[{label:"Has any of",value:"inArray"},{label:"Has none of",value:"notInArray"},{label:"Is empty",value:"isEmpty"},{label:"Is not empty",value:"isNotEmpty"}],booleanOperators:[{label:"Is",value:"eq"},{label:"Is not",value:"ne"}],sortOrders:[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}],filterVariants:["text","number","range","date","dateRange","boolean","select","multiSelect"],operators:["iLike","notILike","eq","ne","inArray","notInArray","isEmpty","isNotEmpty","lt","lte","gt","gte","isBetween","isRelativeToToday"],joinOperators:["and","or"]};function hE({column:e,withBorder:t=!1}){const n=e.getIsPinned(),r=n==="left"&&e.getIsLastColumn("left"),o=n==="right"&&e.getIsFirstColumn("right");return{boxShadow:t?r?"-4px 0 4px -4px rgb(var(--sys-color-border)) inset":o?"4px 0 4px -4px rgb(var(--sys-color-border)) inset":void 0:void 0,left:n==="left"?`${e.getStart("left")}px`:void 0,right:n==="right"?`${e.getAfter("right")}px`:void 0,opacity:n?.97:1,position:n?"sticky":"relative",background:n?"rgb(var(--sys-color-bg))":void 0,width:e.getSize(),zIndex:n?1:void 0}}function YM(e){return{text:Hr.textOperators,number:Hr.numericOperators,range:Hr.numericOperators,date:Hr.dateOperators,dateRange:Hr.dateOperators,boolean:Hr.booleanOperators,select:Hr.selectOperators,multiSelect:Hr.multiSelectOperators}[e]??Hr.textOperators}function KM(e){return YM(e)[0]?.value??(e==="text"?"iLike":"eq")}function G7(e){return e.filter(t=>t.operator==="isEmpty"||t.operator==="isNotEmpty"||(Array.isArray(t.value)?t.value.length>0:t.value!==""&&t.value!==null&&t.value!==void 0))}function ZM({table:e,actionBar:t,showPagination:n=!0,onRowClick:r,isRowExpanded:o,renderExpandedRow:l,expandedRowCellClassName:c,children:d,className:f,...p}){const g=n?e.getRowModel().rows:e.getPrePaginationRowModel().rows,x=Math.max(1,e.getVisibleLeafColumns().length);return i.jsxs("div",{className:ze("flex min-w-0 w-full flex-col gap-2.5 overflow-auto",f),...p,children:[d,i.jsx("div",{className:"overflow-hidden rounded-md border",children:i.jsxs($y,{children:[i.jsx(Fy,{children:e.getHeaderGroups().map(b=>i.jsx($a,{children:b.headers.map(w=>i.jsx(Fa,{colSpan:w.colSpan,style:{...hE({column:w.column})},children:w.isPlaceholder?null:mE(w.column.columnDef.header,w.getContext())},w.id))},b.id))}),i.jsx(Uy,{children:g?.length?g.map(b=>{const w=o?.(b)??!1;return i.jsxs(m.Fragment,{children:[i.jsx($a,{"data-state":b.getIsSelected()&&"selected","data-expanded":w||void 0,"aria-expanded":w||void 0,className:ze(r&&"cursor-pointer"),onClick:r?S=>r(b,S):void 0,children:b.getVisibleCells().map(S=>i.jsx(oo,{style:{...hE({column:S.column})},children:mE(S.column.columnDef.cell,S.getContext())},S.id))}),l&&w&&i.jsx($a,{children:i.jsx(oo,{colSpan:x,className:ze("bg-muted/20",c),children:l(b)})})]},b.id)}):i.jsx($a,{children:i.jsx(oo,{colSpan:x,className:"h-24 text-center",children:"No results."})})})]})}),(n||t)&&i.jsxs("div",{className:"flex flex-col gap-2.5",children:[n?i.jsx(W7,{table:e}):null,t&&e.getFilteredSelectedRowModel().rows.length>0&&t]})]})}var pE=1,Y7=.9,K7=.8,Z7=.17,iv=.1,lv=.999,Q7=.9999,X7=.99,J7=/[\\\/_+.#"@\[\(\{&]/,eG=/[\\\/_+.#"@\[\(\{&]/g,tG=/[\s-]/,QM=/[\s-]/g;function ub(e,t,n,r,o,l,c){if(l===t.length)return o===e.length?pE:X7;var d=`${o},${l}`;if(c[d]!==void 0)return c[d];for(var f=r.charAt(l),p=n.indexOf(f,o),g=0,x,b,w,S;p>=0;)x=ub(e,t,n,r,p+1,l+1,c),x>g&&(p===o?x*=pE:J7.test(e.charAt(p-1))?(x*=K7,w=e.slice(o,p-1).match(eG),w&&o>0&&(x*=Math.pow(lv,w.length))):tG.test(e.charAt(p-1))?(x*=Y7,S=e.slice(o,p-1).match(QM),S&&o>0&&(x*=Math.pow(lv,S.length))):(x*=Z7,o>0&&(x*=Math.pow(lv,p-o))),e.charAt(p)!==t.charAt(l)&&(x*=Q7)),(x<iv&&n.charAt(p-1)===r.charAt(l+1)||r.charAt(l+1)===r.charAt(l)&&n.charAt(p-1)!==r.charAt(l))&&(b=ub(e,t,n,r,p+1,l+2,c),b*iv>x&&(x=b*iv)),x>g&&(g=x),p=n.indexOf(f,p+1);return c[d]=g,g}function gE(e){return e.toLowerCase().replace(QM," ")}function nG(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,ub(e,t,gE(e),gE(t),0,0,{})}var Ou='[cmdk-group=""]',cv='[cmdk-group-items=""]',rG='[cmdk-group-heading=""]',XM='[cmdk-item=""]',xE=`${XM}:not([aria-disabled="true"])`,db="cmdk-item-select",tc="data-value",sG=(e,t,n)=>nG(e,t,n),JM=m.createContext(void 0),Ad=()=>m.useContext(JM),e2=m.createContext(void 0),By=()=>m.useContext(e2),t2=m.createContext(void 0),n2=m.forwardRef((e,t)=>{let n=nc(()=>{var B,re;return{search:"",value:(re=(B=e.value)!=null?B:e.defaultValue)!=null?re:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=nc(()=>new Set),o=nc(()=>new Map),l=nc(()=>new Map),c=nc(()=>new Set),d=r2(e),{label:f,children:p,value:g,onValueChange:x,filter:b,shouldFilter:w,loop:S,disablePointerSelection:C=!1,vimBindings:j=!0,...E}=e,N=mr(),_=mr(),R=mr(),M=m.useRef(null),D=pG();Yi(()=>{if(g!==void 0){let B=g.trim();n.current.value=B,O.emit()}},[g]),Yi(()=>{D(6,F)},[]);let O=m.useMemo(()=>({subscribe:B=>(c.current.add(B),()=>c.current.delete(B)),snapshot:()=>n.current,setState:(B,re,Y)=>{var z,G,H,ee;if(!Object.is(n.current[B],re)){if(n.current[B]=re,B==="search")I(),T(),D(1,W);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let oe=document.getElementById(R);oe?oe.focus():(z=document.getElementById(N))==null||z.focus()}if(D(7,()=>{var oe;n.current.selectedItemId=(oe=U())==null?void 0:oe.id,O.emit()}),Y||D(5,F),((G=d.current)==null?void 0:G.value)!==void 0){let oe=re??"";(ee=(H=d.current).onValueChange)==null||ee.call(H,oe);return}}O.emit()}},emit:()=>{c.current.forEach(B=>B())}}),[]),A=m.useMemo(()=>({value:(B,re,Y)=>{var z;re!==((z=l.current.get(B))==null?void 0:z.value)&&(l.current.set(B,{value:re,keywords:Y}),n.current.filtered.items.set(B,L(re,Y)),D(2,()=>{T(),O.emit()}))},item:(B,re)=>(r.current.add(B),re&&(o.current.has(re)?o.current.get(re).add(B):o.current.set(re,new Set([B]))),D(3,()=>{I(),T(),n.current.value||W(),O.emit()}),()=>{l.current.delete(B),r.current.delete(B),n.current.filtered.items.delete(B);let Y=U();D(4,()=>{I(),Y?.getAttribute("id")===B&&W(),O.emit()})}),group:B=>(o.current.has(B)||o.current.set(B,new Set),()=>{l.current.delete(B),o.current.delete(B)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:N,inputId:R,labelId:_,listInnerRef:M}),[]);function L(B,re){var Y,z;let G=(z=(Y=d.current)==null?void 0:Y.filter)!=null?z:sG;return B?G(B,n.current.search,re):0}function T(){if(!n.current.search||d.current.shouldFilter===!1)return;let B=n.current.filtered.items,re=[];n.current.filtered.groups.forEach(z=>{let G=o.current.get(z),H=0;G.forEach(ee=>{let oe=B.get(ee);H=Math.max(oe,H)}),re.push([z,H])});let Y=M.current;ae().sort((z,G)=>{var H,ee;let oe=z.getAttribute("id"),le=G.getAttribute("id");return((H=B.get(le))!=null?H:0)-((ee=B.get(oe))!=null?ee:0)}).forEach(z=>{let G=z.closest(cv);G?G.appendChild(z.parentElement===G?z:z.closest(`${cv} > *`)):Y.appendChild(z.parentElement===Y?z:z.closest(`${cv} > *`))}),re.sort((z,G)=>G[1]-z[1]).forEach(z=>{var G;let H=(G=M.current)==null?void 0:G.querySelector(`${Ou}[${tc}="${encodeURIComponent(z[0])}"]`);H?.parentElement.appendChild(H)})}function W(){let B=ae().find(Y=>Y.getAttribute("aria-disabled")!=="true"),re=B?.getAttribute(tc);O.setState("value",re||void 0)}function I(){var B,re,Y,z;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let G=0;for(let H of r.current){let ee=(re=(B=l.current.get(H))==null?void 0:B.value)!=null?re:"",oe=(z=(Y=l.current.get(H))==null?void 0:Y.keywords)!=null?z:[],le=L(ee,oe);n.current.filtered.items.set(H,le),le>0&&G++}for(let[H,ee]of o.current)for(let oe of ee)if(n.current.filtered.items.get(oe)>0){n.current.filtered.groups.add(H);break}n.current.filtered.count=G}function F(){var B,re,Y;let z=U();z&&(((B=z.parentElement)==null?void 0:B.firstChild)===z&&((Y=(re=z.closest(Ou))==null?void 0:re.querySelector(rG))==null||Y.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function U(){var B;return(B=M.current)==null?void 0:B.querySelector(`${XM}[aria-selected="true"]`)}function ae(){var B;return Array.from(((B=M.current)==null?void 0:B.querySelectorAll(xE))||[])}function P(B){let re=ae()[B];re&&O.setState("value",re.getAttribute(tc))}function q(B){var re;let Y=U(),z=ae(),G=z.findIndex(ee=>ee===Y),H=z[G+B];(re=d.current)!=null&&re.loop&&(H=G+B<0?z[z.length-1]:G+B===z.length?z[0]:z[G+B]),H&&O.setState("value",H.getAttribute(tc))}function K(B){let re=U(),Y=re?.closest(Ou),z;for(;Y&&!z;)Y=B>0?mG(Y,Ou):hG(Y,Ou),z=Y?.querySelector(xE);z?O.setState("value",z.getAttribute(tc)):q(B)}let te=()=>P(ae().length-1),ve=B=>{B.preventDefault(),B.metaKey?te():B.altKey?K(1):q(1)},V=B=>{B.preventDefault(),B.metaKey?P(0):B.altKey?K(-1):q(-1)};return m.createElement(dt.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:B=>{var re;(re=E.onKeyDown)==null||re.call(E,B);let Y=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||Y))switch(B.key){case"n":case"j":{j&&B.ctrlKey&&ve(B);break}case"ArrowDown":{ve(B);break}case"p":case"k":{j&&B.ctrlKey&&V(B);break}case"ArrowUp":{V(B);break}case"Home":{B.preventDefault(),P(0);break}case"End":{B.preventDefault(),te();break}case"Enter":{B.preventDefault();let z=U();if(z){let G=new Event(db);z.dispatchEvent(G)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:xG},f),Xh(e,B=>m.createElement(e2.Provider,{value:O},m.createElement(JM.Provider,{value:A},B))))}),oG=m.forwardRef((e,t)=>{var n,r;let o=mr(),l=m.useRef(null),c=m.useContext(t2),d=Ad(),f=r2(e),p=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:c?.forceMount;Yi(()=>{if(!p)return d.item(o,c?.id)},[p]);let g=s2(o,l,[e.value,e.children,l],e.keywords),x=By(),b=Qa(D=>D.value&&D.value===g.current),w=Qa(D=>p||d.filter()===!1?!0:D.search?D.filtered.items.get(o)>0:!0);m.useEffect(()=>{let D=l.current;if(!(!D||e.disabled))return D.addEventListener(db,S),()=>D.removeEventListener(db,S)},[w,e.onSelect,e.disabled]);function S(){var D,O;C(),(O=(D=f.current).onSelect)==null||O.call(D,g.current)}function C(){x.setState("value",g.current,!0)}if(!w)return null;let{disabled:j,value:E,onSelect:N,forceMount:_,keywords:R,...M}=e;return m.createElement(dt.div,{ref:wr(l,t),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!b,"data-disabled":!!j,"data-selected":!!b,onPointerMove:j||d.getDisablePointerSelection()?void 0:C,onClick:j?void 0:S},e.children)}),aG=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...l}=e,c=mr(),d=m.useRef(null),f=m.useRef(null),p=mr(),g=Ad(),x=Qa(w=>o||g.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);Yi(()=>g.group(c),[]),s2(c,d,[e.value,e.heading,f]);let b=m.useMemo(()=>({id:c,forceMount:o}),[o]);return m.createElement(dt.div,{ref:wr(d,t),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},n&&m.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),Xh(e,w=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},m.createElement(t2.Provider,{value:b},w))))}),iG=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=m.useRef(null),l=Qa(c=>!c.search);return!n&&!l?null:m.createElement(dt.div,{ref:wr(o,t),...r,"cmdk-separator":"",role:"separator"})}),lG=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,l=By(),c=Qa(p=>p.search),d=Qa(p=>p.selectedItemId),f=Ad();return m.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),m.createElement(dt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:o?e.value:c,onChange:p=>{o||l.setState("search",p.target.value),n?.(p.target.value)}})}),cG=m.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,l=m.useRef(null),c=m.useRef(null),d=Qa(p=>p.selectedItemId),f=Ad();return m.useEffect(()=>{if(c.current&&l.current){let p=c.current,g=l.current,x,b=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let w=p.offsetHeight;g.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return b.observe(p),()=>{cancelAnimationFrame(x),b.unobserve(p)}}},[]),m.createElement(dt.div,{ref:wr(l,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":r,id:f.listId},Xh(e,p=>m.createElement("div",{ref:wr(c,f.listInnerRef),"cmdk-list-sizer":""},p)))}),uG=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:l,container:c,...d}=e;return m.createElement(kM,{open:n,onOpenChange:r},m.createElement(RM,{container:c},m.createElement(MM,{"cmdk-overlay":"",className:o}),m.createElement(Ty,{"aria-label":e.label,"cmdk-dialog":"",className:l},m.createElement(n2,{ref:t,...d}))))}),dG=m.forwardRef((e,t)=>Qa(n=>n.filtered.count===0)?m.createElement(dt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),fG=m.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...l}=e;return m.createElement(dt.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Xh(e,c=>m.createElement("div",{"aria-hidden":!0},c)))}),Dc=Object.assign(n2,{List:cG,Item:oG,Input:lG,Group:aG,Separator:iG,Dialog:uG,Empty:dG,Loading:fG});function mG(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function hG(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function r2(e){let t=m.useRef(e);return Yi(()=>{t.current=e}),t}var Yi=typeof window>"u"?m.useEffect:m.useLayoutEffect;function nc(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function Qa(e){let t=By(),n=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,n,n)}function s2(e,t,n,r=[]){let o=m.useRef(),l=Ad();return Yi(()=>{var c;let d=(()=>{var p;for(let g of n){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(p=g.current.textContent)==null?void 0:p.trim():o.current}})(),f=r.map(p=>p.trim());l.value(e,d,f),(c=t.current)==null||c.setAttribute(tc,d),o.current=d}),o}var pG=()=>{let[e,t]=m.useState(),n=nc(()=>new Map);return Yi(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function gG(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Xh({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(gG(t),{ref:t.ref},n(t.props.children)):n(t)}var xG={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Jh({className:e,...t}){return i.jsx(Dc,{"data-slot":"command",className:ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t})}function ep({className:e,...t}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(qq,{className:"size-4 shrink-0 opacity-50"}),i.jsx(Dc.Input,{"data-slot":"command-input",className:ze("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function tp({className:e,...t}){return i.jsx(Dc.List,{"data-slot":"command-list",className:ze("max-h-[300px] scroll-py-1 overflow-y-auto overflow-x-hidden",e),...t})}function np({...e}){return i.jsx(Dc.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function rp({className:e,...t}){return i.jsx(Dc.Group,{"data-slot":"command-group",className:ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:text-xs",e),...t})}function sp({className:e,...t}){return i.jsx(Dc.Item,{"data-slot":"command-item",className:ze("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t})}function vG(e){const t=bG(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(wG);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function bG(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=CG(o),d=SG(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yG=Symbol("radix.slottable");function wG(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yG}function SG(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function CG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var op="Popover",[o2]=ei(op,[Rc]),Od=Rc(),[jG,ri]=o2(op),a2=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,d=Od(t),f=m.useRef(null),[p,g]=m.useState(!1),[x,b]=hc({prop:r,defaultProp:o??!1,onChange:l,caller:op});return i.jsx(Cy,{...d,children:i.jsx(jG,{scope:t,contentId:mr(),triggerRef:f,open:x,onOpenChange:b,onOpenToggle:m.useCallback(()=>b(w=>!w),[b]),hasCustomAnchor:p,onCustomAnchorAdd:m.useCallback(()=>g(!0),[]),onCustomAnchorRemove:m.useCallback(()=>g(!1),[]),modal:c,children:n})})};a2.displayName=op;var i2="PopoverAnchor",EG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(i2,n),l=Od(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return m.useEffect(()=>(c(),()=>d()),[c,d]),i.jsx(Vh,{...l,...r,ref:t})});EG.displayName=i2;var l2="PopoverTrigger",c2=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(l2,n),l=Od(n),c=qt(t,o.triggerRef),d=i.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":h2(o.open),...r,ref:c,onClick:Ke(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:i.jsx(Vh,{asChild:!0,...l,children:d})});c2.displayName=l2;var Vy="PopoverPortal",[NG,_G]=o2(Vy,{forceMount:void 0}),u2=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,l=ri(Vy,t);return i.jsx(NG,{scope:t,forceMount:n,children:i.jsx(ho,{present:n||l.open,children:i.jsx(Rd,{asChild:!0,container:o,children:r})})})};u2.displayName=Vy;var pc="PopoverContent",d2=m.forwardRef((e,t)=>{const n=_G(pc,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,l=ri(pc,e.__scopePopover);return i.jsx(ho,{present:r||l.open,children:l.modal?i.jsx(RG,{...o,ref:t}):i.jsx(MG,{...o,ref:t})})});d2.displayName=pc;var kG=vG("PopoverContent.RemoveScroll"),RG=m.forwardRef((e,t)=>{const n=ri(pc,e.__scopePopover),r=m.useRef(null),o=qt(t,r),l=m.useRef(!1);return m.useEffect(()=>{const c=r.current;if(c)return Hh(c)},[]),i.jsx(Md,{as:kG,allowPinchZoom:!0,children:i.jsx(f2,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,c=>{c.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),MG=m.forwardRef((e,t)=>{const n=ri(pc,e.__scopePopover),r=m.useRef(!1),o=m.useRef(!1);return i.jsx(f2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),f2=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,...x}=e,b=ri(pc,n),w=Od(n);return Lh(),i.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:i.jsx(jy,{"data-state":h2(b.open),role:"dialog",id:b.contentId,...w,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),m2="PopoverClose",DG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ri(m2,n);return i.jsx(dt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>o.onOpenChange(!1))})});DG.displayName=m2;var AG="PopoverArrow",OG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Od(n);return i.jsx(Ey,{...o,...r,ref:t})});OG.displayName=AG;function h2(e){return e?"open":"closed"}var TG=a2,zG=c2,PG=u2,IG=d2;function el({...e}){return i.jsx(TG,{"data-slot":"popover",...e})}function tl({...e}){return i.jsx(zG,{"data-slot":"popover-trigger",...e})}function nl({className:e,align:t="center",sideOffset:n=4,...r}){return i.jsx(PG,{children:i.jsx(IG,{"data-slot":"popover-content",align:t,sideOffset:n,className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",e),...r})})}function LG({table:e,disabled:t,...n}){const r=m.useMemo(()=>e.getAllColumns().filter(o=>typeof o.accessorFn<"u"&&o.getCanHide()),[e]);return i.jsxs(el,{children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{"aria-label":"Toggle columns",role:"combobox",variant:"outline",size:"sm",className:"ml-auto hidden h-8 font-normal lg:flex",disabled:t,children:[i.jsx(Gq,{className:"text-muted-foreground"}),"View"]})}),i.jsx(nl,{className:"w-44 p-0",...n,children:i.jsxs(Jh,{children:[i.jsx(ep,{placeholder:"Search columns..."}),i.jsxs(tp,{children:[i.jsx(np,{children:"No columns found."}),i.jsx(rp,{children:r.map(o=>i.jsxs(sp,{onSelect:()=>o.toggleVisibility(!o.getIsVisible()),children:[i.jsx("span",{className:"truncate",children:o.columnDef.meta?.label??o.id}),i.jsx(Dd,{className:ze("ml-auto size-4 shrink-0",o.getIsVisible()?"opacity-100":"opacity-0")})]},o.id))})]})]})})]})}function $G({table:e,children:t,className:n,...r}){return i.jsxs("div",{role:"toolbar","aria-orientation":"horizontal",className:ze("flex w-full items-start justify-between gap-2 p-1",n),...r,children:[i.jsx("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:t}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(LG,{table:e,align:"end"})})]})}var uv="rovingFocusGroup.onEntryFocus",FG={bubbles:!1,cancelable:!0},Td="RovingFocusGroup",[fb,p2,UG]=my(Td),[BG,g2]=ei(Td,[UG]),[VG,HG]=BG(Td),x2=m.forwardRef((e,t)=>i.jsx(fb.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(fb.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(qG,{...e,ref:t})})}));x2.displayName=Td;var qG=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...x}=e,b=m.useRef(null),w=qt(t,b),S=hy(l),[C,j]=hc({prop:c,defaultProp:d??null,onChange:f,caller:Td}),[E,N]=m.useState(!1),_=lo(p),R=p2(n),M=m.useRef(!1),[D,O]=m.useState(0);return m.useEffect(()=>{const A=b.current;if(A)return A.addEventListener(uv,_),()=>A.removeEventListener(uv,_)},[_]),i.jsx(VG,{scope:n,orientation:r,dir:S,loop:o,currentTabStopId:C,onItemFocus:m.useCallback(A=>j(A),[j]),onItemShiftTab:m.useCallback(()=>N(!0),[]),onFocusableItemAdd:m.useCallback(()=>O(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>O(A=>A-1),[]),children:i.jsx(dt.div,{tabIndex:E||D===0?-1:0,"data-orientation":r,...x,ref:w,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{M.current=!0}),onFocus:Ke(e.onFocus,A=>{const L=!M.current;if(A.target===A.currentTarget&&L&&!E){const T=new CustomEvent(uv,FG);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const W=R().filter(P=>P.focusable),I=W.find(P=>P.active),F=W.find(P=>P.id===C),ae=[I,F,...W].filter(Boolean).map(P=>P.ref.current);y2(ae,g)}}M.current=!1}),onBlur:Ke(e.onBlur,()=>N(!1))})})}),v2="RovingFocusGroupItem",b2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:l,children:c,...d}=e,f=mr(),p=l||f,g=HG(v2,n),x=g.currentTabStopId===p,b=p2(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:C}=g;return m.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),i.jsx(fb.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:i.jsx(dt.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:Ke(e.onMouseDown,j=>{r?g.onItemFocus(p):j.preventDefault()}),onFocus:Ke(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:Ke(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){g.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=YG(j,g.orientation,g.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=b().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")_.reverse();else if(E==="prev"||E==="next"){E==="prev"&&_.reverse();const R=_.indexOf(j.currentTarget);_=g.loop?KG(_,R+1):_.slice(R+1)}setTimeout(()=>y2(_))}}),children:typeof c=="function"?c({isCurrentTabStop:x,hasTabStop:C!=null}):c})})});b2.displayName=v2;var WG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YG(e,t,n){const r=GG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WG[r]}function y2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function KG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ZG=x2,QG=b2;function XG(e){const t=JG(e),n=m.forwardRef((r,o)=>{const{children:l,...c}=r,d=m.Children.toArray(l),f=d.find(tY);if(f){const p=f.props.children,g=d.map(x=>x===f?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:x);return i.jsx(t,{...c,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return i.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}function JG(e){const t=m.forwardRef((n,r)=>{const{children:o,...l}=n;if(m.isValidElement(o)){const c=rY(o),d=nY(l,o.props);return o.type!==m.Fragment&&(d.ref=r?wr(r,c):c),m.cloneElement(o,d)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eY=Symbol("radix.slottable");function tY(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eY}function nY(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function rY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mb=["Enter"," "],sY=["ArrowDown","PageUp","Home"],w2=["ArrowUp","PageDown","End"],oY=[...sY,...w2],aY={ltr:[...mb,"ArrowRight"],rtl:[...mb,"ArrowLeft"]},iY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zd="Menu",[cd,lY,cY]=my(zd),[rl,S2]=ei(zd,[cY,Rc,g2]),ap=Rc(),C2=g2(),[uY,sl]=rl(zd),[dY,Pd]=rl(zd),j2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:l,modal:c=!0}=e,d=ap(t),[f,p]=m.useState(null),g=m.useRef(!1),x=lo(l),b=hy(o);return m.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),i.jsx(Cy,{...d,children:i.jsx(uY,{scope:t,open:n,onOpenChange:x,content:f,onContentChange:p,children:i.jsx(dY,{scope:t,onClose:m.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:b,modal:c,children:r})})})};j2.displayName=zd;var fY="MenuAnchor",Hy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ap(n);return i.jsx(Vh,{...o,...r,ref:t})});Hy.displayName=fY;var qy="MenuPortal",[mY,E2]=rl(qy,{forceMount:void 0}),N2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,l=sl(qy,t);return i.jsx(mY,{scope:t,forceMount:n,children:i.jsx(ho,{present:n||l.open,children:i.jsx(Rd,{asChild:!0,container:o,children:r})})})};N2.displayName=qy;var ys="MenuContent",[hY,Wy]=rl(ys),_2=m.forwardRef((e,t)=>{const n=E2(ys,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=sl(ys,e.__scopeMenu),c=Pd(ys,e.__scopeMenu);return i.jsx(cd.Provider,{scope:e.__scopeMenu,children:i.jsx(ho,{present:r||l.open,children:i.jsx(cd.Slot,{scope:e.__scopeMenu,children:c.modal?i.jsx(pY,{...o,ref:t}):i.jsx(gY,{...o,ref:t})})})})}),pY=m.forwardRef((e,t)=>{const n=sl(ys,e.__scopeMenu),r=m.useRef(null),o=qt(t,r);return m.useEffect(()=>{const l=r.current;if(l)return Hh(l)},[]),i.jsx(Gy,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gY=m.forwardRef((e,t)=>{const n=sl(ys,e.__scopeMenu);return i.jsx(Gy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xY=XG("MenuContent.ScrollLock"),Gy=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:b,onDismiss:w,disableOutsideScroll:S,...C}=e,j=sl(ys,n),E=Pd(ys,n),N=ap(n),_=C2(n),R=lY(n),[M,D]=m.useState(null),O=m.useRef(null),A=qt(t,O,j.onContentChange),L=m.useRef(0),T=m.useRef(""),W=m.useRef(0),I=m.useRef(null),F=m.useRef("right"),U=m.useRef(0),ae=S?Md:m.Fragment,P=S?{as:xY,allowPinchZoom:!0}:void 0,q=te=>{const ve=T.current+te,V=R().filter(H=>!H.disabled),B=document.activeElement,re=V.find(H=>H.ref.current===B)?.textValue,Y=V.map(H=>H.textValue),z=RY(Y,ve,re),G=V.find(H=>H.textValue===z)?.ref.current;(function H(ee){T.current=ee,window.clearTimeout(L.current),ee!==""&&(L.current=window.setTimeout(()=>H(""),1e3))})(ve),G&&setTimeout(()=>G.focus())};m.useEffect(()=>()=>window.clearTimeout(L.current),[]),Lh();const K=m.useCallback(te=>F.current===I.current?.side&&DY(te,I.current?.area),[]);return i.jsx(hY,{scope:n,searchRef:T,onItemEnter:m.useCallback(te=>{K(te)&&te.preventDefault()},[K]),onItemLeave:m.useCallback(te=>{K(te)||(O.current?.focus(),D(null))},[K]),onTriggerLeave:m.useCallback(te=>{K(te)&&te.preventDefault()},[K]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(te=>{I.current=te},[]),children:i.jsx(ae,{...P,children:i.jsx(_d,{asChild:!0,trapped:o,onMountAutoFocus:Ke(l,te=>{te.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:b,onDismiss:w,children:i.jsx(ZG,{asChild:!0,..._,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:D,onEntryFocus:Ke(f,te=>{E.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(jy,{role:"menu","aria-orientation":"vertical","data-state":V2(j.open),"data-radix-menu-content":"",dir:E.dir,...N,...C,ref:A,style:{outline:"none",...C.style},onKeyDown:Ke(C.onKeyDown,te=>{const V=te.target.closest("[data-radix-menu-content]")===te.currentTarget,B=te.ctrlKey||te.altKey||te.metaKey,re=te.key.length===1;V&&(te.key==="Tab"&&te.preventDefault(),!B&&re&&q(te.key));const Y=O.current;if(te.target!==Y||!oY.includes(te.key))return;te.preventDefault();const G=R().filter(H=>!H.disabled).map(H=>H.ref.current);w2.includes(te.key)&&G.reverse(),_Y(G)}),onBlur:Ke(e.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(L.current),T.current="")}),onPointerMove:Ke(e.onPointerMove,ud(te=>{const ve=te.target,V=U.current!==te.clientX;if(te.currentTarget.contains(ve)&&V){const B=te.clientX>U.current?"right":"left";F.current=B,U.current=te.clientX}}))})})})})})})});_2.displayName=ys;var vY="MenuGroup",Yy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(dt.div,{role:"group",...r,ref:t})});Yy.displayName=vY;var bY="MenuLabel",k2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(dt.div,{...r,ref:t})});k2.displayName=bY;var mh="MenuItem",vE="menu.itemSelect",ip=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,l=m.useRef(null),c=Pd(mh,e.__scopeMenu),d=Wy(mh,e.__scopeMenu),f=qt(t,l),p=m.useRef(!1),g=()=>{const x=l.current;if(!n&&x){const b=new CustomEvent(vE,{bubbles:!0,cancelable:!0});x.addEventListener(vE,w=>r?.(w),{once:!0}),qk(x,b),b.defaultPrevented?p.current=!1:c.onClose()}};return i.jsx(R2,{...o,ref:f,disabled:n,onClick:Ke(e.onClick,g),onPointerDown:x=>{e.onPointerDown?.(x),p.current=!0},onPointerUp:Ke(e.onPointerUp,x=>{p.current||x.currentTarget?.click()}),onKeyDown:Ke(e.onKeyDown,x=>{const b=d.searchRef.current!=="";n||b&&x.key===" "||mb.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});ip.displayName=mh;var R2=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...l}=e,c=Wy(mh,n),d=C2(n),f=m.useRef(null),p=qt(t,f),[g,x]=m.useState(!1),[b,w]=m.useState("");return m.useEffect(()=>{const S=f.current;S&&w((S.textContent??"").trim())},[l.children]),i.jsx(cd.ItemSlot,{scope:n,disabled:r,textValue:o??b,children:i.jsx(QG,{asChild:!0,...d,focusable:!r,children:i.jsx(dt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:p,onPointerMove:Ke(e.onPointerMove,ud(S=>{r?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,ud(S=>c.onItemLeave(S))),onFocus:Ke(e.onFocus,()=>x(!0)),onBlur:Ke(e.onBlur,()=>x(!1))})})})}),yY="MenuCheckboxItem",M2=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return i.jsx(z2,{scope:e.__scopeMenu,checked:n,children:i.jsx(ip,{role:"menuitemcheckbox","aria-checked":hh(n)?"mixed":n,...o,ref:t,"data-state":Zy(n),onSelect:Ke(o.onSelect,()=>r?.(hh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});M2.displayName=yY;var D2="MenuRadioGroup",[wY,SY]=rl(D2,{value:void 0,onValueChange:()=>{}}),A2=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,l=lo(r);return i.jsx(wY,{scope:e.__scopeMenu,value:n,onValueChange:l,children:i.jsx(Yy,{...o,ref:t})})});A2.displayName=D2;var O2="MenuRadioItem",T2=m.forwardRef((e,t)=>{const{value:n,...r}=e,o=SY(O2,e.__scopeMenu),l=n===o.value;return i.jsx(z2,{scope:e.__scopeMenu,checked:l,children:i.jsx(ip,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":Zy(l),onSelect:Ke(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});T2.displayName=O2;var Ky="MenuItemIndicator",[z2,CY]=rl(Ky,{checked:!1}),P2=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,l=CY(Ky,n);return i.jsx(ho,{present:r||hh(l.checked)||l.checked===!0,children:i.jsx(dt.span,{...o,ref:t,"data-state":Zy(l.checked)})})});P2.displayName=Ky;var jY="MenuSeparator",I2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(dt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});I2.displayName=jY;var EY="MenuArrow",L2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ap(n);return i.jsx(Ey,{...o,...r,ref:t})});L2.displayName=EY;var NY="MenuSub",[ote,$2]=rl(NY),Fu="MenuSubTrigger",F2=m.forwardRef((e,t)=>{const n=sl(Fu,e.__scopeMenu),r=Pd(Fu,e.__scopeMenu),o=$2(Fu,e.__scopeMenu),l=Wy(Fu,e.__scopeMenu),c=m.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,p={__scopeMenu:e.__scopeMenu},g=m.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return m.useEffect(()=>g,[g]),m.useEffect(()=>{const x=d.current;return()=>{window.clearTimeout(x),f(null)}},[d,f]),i.jsx(Hy,{asChild:!0,...p,children:i.jsx(R2,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":V2(n.open),...e,ref:wr(t,o.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,ud(x=>{l.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ke(e.onPointerLeave,ud(x=>{g();const b=n.content?.getBoundingClientRect();if(b){const w=n.content?.dataset.side,S=w==="right",C=S?-5:5,j=b[S?"left":"right"],E=b[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+C,y:x.clientY},{x:j,y:b.top},{x:E,y:b.top},{x:E,y:b.bottom},{x:j,y:b.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,x=>{const b=l.searchRef.current!=="";e.disabled||b&&x.key===" "||aY[r.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});F2.displayName=Fu;var U2="MenuSubContent",B2=m.forwardRef((e,t)=>{const n=E2(ys,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,l=sl(ys,e.__scopeMenu),c=Pd(ys,e.__scopeMenu),d=$2(U2,e.__scopeMenu),f=m.useRef(null),p=qt(t,f);return i.jsx(cd.Provider,{scope:e.__scopeMenu,children:i.jsx(ho,{present:r||l.open,children:i.jsx(cd.Slot,{scope:e.__scopeMenu,children:i.jsx(Gy,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{c.isUsingKeyboardRef.current&&f.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:Ke(e.onKeyDown,g=>{const x=g.currentTarget.contains(g.target),b=iY[c.dir].includes(g.key);x&&b&&(l.onOpenChange(!1),d.trigger?.focus(),g.preventDefault())})})})})})});B2.displayName=U2;function V2(e){return e?"open":"closed"}function hh(e){return e==="indeterminate"}function Zy(e){return hh(e)?"indeterminate":e?"checked":"unchecked"}function _Y(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function kY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function RY(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=kY(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function MY(e,t){const{x:n,y:r}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],p=d.x,g=d.y,x=f.x,b=f.y;g>r!=b>r&&n<(x-p)*(r-g)/(b-g)+p&&(o=!o)}return o}function DY(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return MY(n,t)}function ud(e){return t=>t.pointerType==="mouse"?e(t):void 0}var AY=j2,OY=Hy,TY=N2,zY=_2,PY=Yy,IY=k2,LY=ip,$Y=M2,FY=A2,UY=T2,BY=P2,VY=I2,HY=L2,qY=F2,WY=B2,lp="DropdownMenu",[GY]=ei(lp,[S2]),Cr=S2(),[YY,H2]=GY(lp),q2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=Cr(t),p=m.useRef(null),[g,x]=hc({prop:o,defaultProp:l??!1,onChange:c,caller:lp});return i.jsx(YY,{scope:t,triggerId:mr(),triggerRef:p,contentId:mr(),open:g,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(b=>!b),[x]),modal:d,children:i.jsx(AY,{...f,open:g,onOpenChange:x,dir:r,modal:d,children:n})})};q2.displayName=lp;var W2="DropdownMenuTrigger",G2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,l=H2(W2,n),c=Cr(n);return i.jsx(OY,{asChild:!0,...c,children:i.jsx(dt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:wr(t,l.triggerRef),onPointerDown:Ke(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ke(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});G2.displayName=W2;var KY="DropdownMenuPortal",Y2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Cr(t);return i.jsx(TY,{...r,...n})};Y2.displayName=KY;var K2="DropdownMenuContent",Z2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=H2(K2,n),l=Cr(n),c=m.useRef(!1);return i.jsx(zY,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;(!o.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z2.displayName=K2;var ZY="DropdownMenuGroup",QY=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(PY,{...o,...r,ref:t})});QY.displayName=ZY;var XY="DropdownMenuLabel",JY=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(IY,{...o,...r,ref:t})});JY.displayName=XY;var eK="DropdownMenuItem",Q2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(LY,{...o,...r,ref:t})});Q2.displayName=eK;var tK="DropdownMenuCheckboxItem",X2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx($Y,{...o,...r,ref:t})});X2.displayName=tK;var nK="DropdownMenuRadioGroup",rK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(FY,{...o,...r,ref:t})});rK.displayName=nK;var sK="DropdownMenuRadioItem",oK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(UY,{...o,...r,ref:t})});oK.displayName=sK;var aK="DropdownMenuItemIndicator",J2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(BY,{...o,...r,ref:t})});J2.displayName=aK;var iK="DropdownMenuSeparator",eD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(VY,{...o,...r,ref:t})});eD.displayName=iK;var lK="DropdownMenuArrow",cK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(HY,{...o,...r,ref:t})});cK.displayName=lK;var uK="DropdownMenuSubTrigger",dK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(qY,{...o,...r,ref:t})});dK.displayName=uK;var fK="DropdownMenuSubContent",mK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Cr(n);return i.jsx(WY,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mK.displayName=fK;var hK=q2,pK=G2,gK=Y2,xK=Z2,vK=Q2,bK=X2,yK=J2,wK=eD;function tD({...e}){return i.jsx(hK,{"data-slot":"dropdown-menu",...e})}function nD({...e}){return i.jsx(pK,{"data-slot":"dropdown-menu-trigger",...e})}function rD({className:e,sideOffset:t=4,...n}){return i.jsx(gK,{children:i.jsx(xK,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ze("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",e),...n})})}function Uu({className:e,inset:t,variant:n="default",...r}){return i.jsx(vK,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:ze("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}function dv({className:e,children:t,checked:n,...r}){return i.jsxs(bK,{"data-slot":"dropdown-menu-checkbox-item",className:ze("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),checked:n,...r,children:[i.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:i.jsx(yK,{children:i.jsx(Dd,{className:"size-4"})})}),t]})}function SK({className:e,...t}){return i.jsx(wK,{"data-slot":"dropdown-menu-separator",className:ze("-mx-1 my-1 h-px bg-border",e),...t})}function Qn({column:e,label:t,className:n,...r}){return!e.getCanSort()&&!e.getCanHide()?i.jsx("div",{className:ze(n),children:t}):i.jsxs(tD,{children:[i.jsxs(nD,{className:ze("-ml-1.5 flex h-8 items-center gap-1.5 rounded-md px-2 py-1.5 hover:bg-accent focus:outline-none focus:ring-1 focus:ring-ring data-[state=open]:bg-accent [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:text-muted-foreground",n),...r,children:[t,e.getCanSort()&&(e.getIsSorted()==="desc"?i.jsx(id,{}):e.getIsSorted()==="asc"?i.jsx(nb,{}):i.jsx(Kh,{}))]}),i.jsxs(rD,{align:"start",className:"w-28",children:[e.getCanSort()&&i.jsxs(i.Fragment,{children:[i.jsxs(dv,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:e.getIsSorted()==="asc",onClick:()=>e.toggleSorting(!1),children:[i.jsx(nb,{}),"Asc"]}),i.jsxs(dv,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:e.getIsSorted()==="desc",onClick:()=>e.toggleSorting(!0),children:[i.jsx(id,{}),"Desc"]}),e.getIsSorted()&&i.jsxs(Uu,{className:"pl-2 [&_svg]:text-muted-foreground",onClick:()=>e.clearSorting(),children:[i.jsx(nM,{}),"Reset"]})]}),e.getCanHide()&&i.jsxs(dv,{className:"relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto [&_svg]:text-muted-foreground",checked:!e.getIsVisible(),onClick:()=>e.toggleVisibility(!1),children:[i.jsx(Fq,{}),"Hide"]})]})]})}function CK({filter:e,column:t,inputId:n,onFilterUpdate:r,className:o,...l}){const c=t.columnDef.meta,[d,f]=m.useMemo(()=>{const b=t.columnDef.meta?.range;if(b)return b;const w=t.getFacetedMinMaxValues();return w?[w[0],w[1]]:[0,100]},[t]),p=m.useCallback(b=>{if(b===void 0||b==="")return"";const w=Number(b);return Number.isNaN(w)?"":w.toLocaleString(void 0,{maximumFractionDigits:0})},[]),g=m.useMemo(()=>Array.isArray(e.value)?e.value.map(p):[p(e.value),""],[e.value,p]),x=m.useCallback((b,w)=>{const S=Number(b),C=Array.isArray(e.value)?e.value:["",""],j=w?C[1]??"":C[0]??"";(b===""||!Number.isNaN(S)&&(w?S>=d&&S<=(Number(j)||f):S<=f&&S>=(Number(j)||d)))&&r(e.filterId,{value:w?[b,j]:[j,b]})},[e.filterId,e.value,d,f,r]);return i.jsxs("div",{"data-slot":"range",className:ze("flex w-full items-center gap-2",o),...l,children:[i.jsx(kt,{id:`${n}-min`,type:"number","aria-label":`${c?.label} minimum value`,"aria-valuemin":d,"aria-valuemax":f,"data-slot":"range-min",inputMode:"numeric",placeholder:d.toString(),min:d,max:f,className:"h-8 w-full rounded",defaultValue:g[0],onChange:b=>x(b.target.value,!0)}),i.jsx("span",{className:"sr-only shrink-0 text-muted-foreground",children:"to"}),i.jsx(kt,{id:`${n}-max`,type:"number","aria-label":`${c?.label} maximum value`,"aria-valuemin":d,"aria-valuemax":f,"data-slot":"range-max",inputMode:"numeric",placeholder:f.toString(),min:d,max:f,className:"h-8 w-full rounded",defaultValue:g[1],onChange:b=>x(b.target.value)})]})}const jK=FN("inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden whitespace-nowrap rounded-md border px-2 py-0.5 font-medium text-xs transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&>svg]:pointer-events-none [&>svg]:size-3",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white focus-visible:ring-destructive/20 dark:bg-destructive/70 dark:focus-visible:ring-destructive/40 [a&]:hover:bg-destructive/90",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Xa({className:e,variant:t,asChild:n=!1,...r}){const o=n?gd:"span";return i.jsx(o,{"data-slot":"badge",className:ze(jK({variant:t}),e),...r})}function EK(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const NK={},Bu={};function Pi(e,t){try{const r=(NK[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in Bu?Bu[r]:bE(r,r.split(":"))}catch{if(e in Bu)return Bu[e];const n=e?.match(_K);return n?bE(e,n.slice(1)):NaN}}const _K=/([+-]\d\d):?(\d\d)?/;function bE(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return Bu[e]=n*60+r>0?n*60+r+o:n*60-r-o}class ao extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Pi(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),sD(this),hb(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ao(...n,t):new ao(Date.now(),t)}withTimeZone(t){return new ao(+this,t)}getTimezoneOffset(){const t=-Pi(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),hb(this),+this}[Symbol.for("constructDateFrom")](t){return new ao(+new Date(t),this.timeZone)}}const yE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!yE.test(e))return;const t=e.replace(yE,"$1UTC");ao.prototype[t]&&(e.startsWith("get")?ao.prototype[e]=function(){return this.internal[t]()}:(ao.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),kK(this),+this},ao.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),hb(this),+this}))});function hb(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Pi(e.timeZone,e)*60))}function kK(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),sD(e)}function sD(e){const t=Pi(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),c=o-l,d=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&d&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const f=o-n;f&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const p=new Date(+e);p.setUTCSeconds(0);const g=o>0?p.getSeconds():(p.getSeconds()-60)%60,x=Math.round(-(Pi(e.timeZone,e)*60))%60;(x||g)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+x),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+x+g));const b=Pi(e.timeZone,e),w=b>0?Math.floor(b):Math.ceil(b),C=-new Date(+e).getTimezoneOffset()-w,j=w!==n,E=C-f;if(j&&E){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E);const N=Pi(e.timeZone,e),_=N>0?Math.floor(N):Math.ceil(N),R=w-_;R&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+R),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+R))}}class dr extends ao{static tz(t,...n){return n.length?new dr(...n,t):new dr(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${EK(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new dr(+this,t)}[Symbol.for("constructDateFrom")](t){return new dr(+new Date(t),this.timeZone)}}const oD=6048e5,RK=864e5,wE=Symbol.for("constructDateFrom");function In(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&wE in e?e[wE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Kt(e,t){return In(t||e,e)}function aD(e,t,n){const r=Kt(e,n?.in);return isNaN(t)?In(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function iD(e,t,n){const r=Kt(e,n?.in);if(isNaN(t))return In(e,NaN);if(!t)return r;const o=r.getDate(),l=In(e,r.getTime());l.setMonth(r.getMonth()+t+1,0);const c=l.getDate();return o>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),o),r)}let MK={};function Id(){return MK}function gc(e,t){const n=Id(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Kt(e,t?.in),l=o.getDay(),c=(l<r?7:0)+l-r;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function dd(e,t){return gc(e,{...t,weekStartsOn:1})}function lD(e,t){const n=Kt(e,t?.in),r=n.getFullYear(),o=In(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const l=dd(o),c=In(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=dd(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function SE(e){const t=Kt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ac(e,...t){const n=In.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function fd(e,t){const n=Kt(e,t?.in);return n.setHours(0,0,0,0),n}function Qy(e,t,n){const[r,o]=Ac(n?.in,e,t),l=fd(r),c=fd(o),d=+l-SE(l),f=+c-SE(c);return Math.round((d-f)/RK)}function DK(e,t){const n=lD(e,t),r=In(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),dd(r)}function AK(e,t,n){return aD(e,t*7,n)}function OK(e,t,n){return iD(e,t*12,n)}function TK(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=In.bind(null,o));const l=Kt(o,r);(!n||n<l||isNaN(+l))&&(n=l)}),In(r,n||NaN)}function zK(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=In.bind(null,o));const l=Kt(o,r);(!n||n>l||isNaN(+l))&&(n=l)}),In(r,n||NaN)}function PK(e,t,n){const[r,o]=Ac(n?.in,e,t);return+fd(r)==+fd(o)}function cD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function IK(e){return!(!cD(e)&&typeof e!="number"||isNaN(+Kt(e)))}function uD(e,t,n){const[r,o]=Ac(n?.in,e,t),l=r.getFullYear()-o.getFullYear(),c=r.getMonth()-o.getMonth();return l*12+c}function LK(e,t){const n=Kt(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function dD(e,t){const[n,r]=Ac(e,t.start,t.end);return{start:n,end:r}}function $K(e,t){const{start:n,end:r}=dD(t?.in,e);let o=+n>+r;const l=o?+n:+r,c=o?r:n;c.setHours(0,0,0,0),c.setDate(1);let d=1;const f=[];for(;+c<=l;)f.push(In(n,c)),c.setMonth(c.getMonth()+d);return o?f.reverse():f}function FK(e,t){const n=Kt(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function UK(e,t){const n=Kt(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function fD(e,t){const n=Kt(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function BK(e,t){const{start:n,end:r}=dD(t?.in,e);let o=+n>+r;const l=o?+n:+r,c=o?r:n;c.setHours(0,0,0,0),c.setMonth(0,1);let d=1;const f=[];for(;+c<=l;)f.push(In(n,c)),c.setFullYear(c.getFullYear()+d);return o?f.reverse():f}function mD(e,t){const n=Id(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Kt(e,t?.in),l=o.getDay(),c=(l<r?-7:0)+6-(l-r);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function VK(e,t){return mD(e,{...t,weekStartsOn:1})}const HK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qK=(e,t,n)=>{let r;const o=HK[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const WK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KK={date:fv({formats:WK,defaultWidth:"full"}),time:fv({formats:GK,defaultWidth:"full"}),dateTime:fv({formats:YK,defaultWidth:"full"})},ZK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QK=(e,t,n,r)=>ZK[e];function Tu(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const XK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sZ=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oZ={ordinalNumber:sZ,era:Tu({values:XK,defaultWidth:"wide"}),quarter:Tu({values:JK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tu({values:eZ,defaultWidth:"wide"}),day:Tu({values:tZ,defaultWidth:"wide"}),dayPeriod:Tu({values:nZ,defaultWidth:"wide",formattingValues:rZ,defaultFormattingWidth:"wide"})};function zu(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?iZ(d,x=>x.test(c)):aZ(d,x=>x.test(c));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=t.slice(c.length);return{value:p,rest:g}}}function aZ(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function iZ(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function lZ(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const cZ=/^(\d+)(th|st|nd|rd)?/i,uZ=/\d+/i,dZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fZ={any:[/^b/i,/^(a|c)/i]},mZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hZ={any:[/1/i,/2/i,/3/i,/4/i]},pZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wZ={ordinalNumber:lZ({matchPattern:cZ,parsePattern:uZ,valueCallback:e=>parseInt(e,10)}),era:zu({matchPatterns:dZ,defaultMatchWidth:"wide",parsePatterns:fZ,defaultParseWidth:"any"}),quarter:zu({matchPatterns:mZ,defaultMatchWidth:"wide",parsePatterns:hZ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zu({matchPatterns:pZ,defaultMatchWidth:"wide",parsePatterns:gZ,defaultParseWidth:"any"}),day:zu({matchPatterns:xZ,defaultMatchWidth:"wide",parsePatterns:vZ,defaultParseWidth:"any"}),dayPeriod:zu({matchPatterns:bZ,defaultMatchWidth:"any",parsePatterns:yZ,defaultParseWidth:"any"})},rc={code:"en-US",formatDistance:qK,formatLong:KK,formatRelative:QK,localize:oZ,match:wZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SZ(e,t){const n=Kt(e,t?.in);return Qy(n,fD(n))+1}function Xy(e,t){const n=Kt(e,t?.in),r=+dd(n)-+DK(n);return Math.round(r/oD)+1}function hD(e,t){const n=Kt(e,t?.in),r=n.getFullYear(),o=Id(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=In(t?.in||e,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const d=gc(c,t),f=In(t?.in||e,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const p=gc(f,t);return+n>=+d?r+1:+n>=+p?r:r-1}function CZ(e,t){const n=Id(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=hD(e,t),l=In(t?.in||e,0);return l.setFullYear(o,0,r),l.setHours(0,0,0,0),gc(l,t)}function Jy(e,t){const n=Kt(e,t?.in),r=+gc(n,t)-+CZ(n,t);return Math.round(r/oD)+1}function Vt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ta={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Vt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Vt(n+1,2)},d(e,t){return Vt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Vt(e.getHours()%12||12,t.length)},H(e,t){return Vt(e.getHours(),t.length)},m(e,t){return Vt(e.getMinutes(),t.length)},s(e,t){return Vt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Vt(o,t.length)}},Ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CE={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Ta.y(e,t)},Y:function(e,t,n,r){const o=hD(e,r),l=o>0?o:1-o;if(t==="YY"){const c=l%100;return Vt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Vt(l,t.length)},R:function(e,t){const n=lD(e);return Vt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Vt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Vt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Vt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ta.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Vt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Jy(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Vt(o,t.length)},I:function(e,t,n){const r=Xy(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Vt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ta.d(e,t)},D:function(e,t,n){const r=SZ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Vt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Vt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Vt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Vt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Ql.noon:r===0?o=Ql.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Ql.evening:r>=12?o=Ql.afternoon:r>=4?o=Ql.morning:o=Ql.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ta.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ta.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ta.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ta.s(e,t)},S:function(e,t){return Ta.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return EE(r);case"XXXX":case"XX":return Di(r);case"XXXXX":case"XXX":default:return Di(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return EE(r);case"xxxx":case"xx":return Di(r);case"xxxxx":case"xxx":default:return Di(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jE(r,":");case"OOOO":default:return"GMT"+Di(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jE(r,":");case"zzzz":default:return"GMT"+Di(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Vt(r,t.length)},T:function(e,t,n){return Vt(+e,t.length)}};function jE(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),l=r%60;return l===0?n+String(o):n+String(o)+t+Vt(l,2)}function EE(e,t){return e%60===0?(e>0?"-":"+")+Vt(Math.abs(e)/60,2):Di(e,t)}function Di(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Vt(Math.trunc(r/60),2),l=Vt(r%60,2);return n+o+t+l}const NE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jZ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return NE(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",NE(r,t)).replace("{{time}}",pD(o,t))},EZ={p:pD,P:jZ},NZ=/^D+$/,_Z=/^Y+$/,kZ=["D","DD","YY","YYYY"];function RZ(e){return NZ.test(e)}function MZ(e){return _Z.test(e)}function DZ(e,t,n){const r=AZ(e,t,n);if(console.warn(r),kZ.includes(e))throw new RangeError(r)}function AZ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zZ=/^'([^]*?)'?$/,PZ=/''/g,IZ=/[a-zA-Z]/;function Vu(e,t,n){const r=Id(),o=n?.locale??r.locale??rc,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=Kt(e,n?.in);if(!IK(d))throw new RangeError("Invalid time value");let f=t.match(TZ).map(g=>{const x=g[0];if(x==="p"||x==="P"){const b=EZ[x];return b(g,o.formatLong)}return g}).join("").match(OZ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:LZ(g)};if(CE[x])return{isToken:!0,value:g};if(x.match(IZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(f=o.localize.preprocessor(d,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return f.map(g=>{if(!g.isToken)return g.value;const x=g.value;(!n?.useAdditionalWeekYearTokens&&MZ(x)||!n?.useAdditionalDayOfYearTokens&&RZ(x))&&DZ(x,t,String(e));const b=CE[x[0]];return b(d,x,o.localize,p)}).join("")}function LZ(e){const t=e.match(zZ);return t?t[1].replace(PZ,"'"):e}function $Z(e,t){const n=Kt(e,t?.in),r=n.getFullYear(),o=n.getMonth(),l=In(n,0);return l.setFullYear(r,o+1,0),l.setHours(0,0,0,0),l.getDate()}function FZ(e,t){return Kt(e,t?.in).getMonth()}function UZ(e,t){return Kt(e,t?.in).getFullYear()}function BZ(e,t){return+Kt(e)>+Kt(t)}function VZ(e,t){return+Kt(e)<+Kt(t)}function HZ(e,t,n){const[r,o]=Ac(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function qZ(e,t,n){const[r,o]=Ac(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function WZ(e,t,n){const r=Kt(e,n?.in),o=r.getFullYear(),l=r.getDate(),c=In(e,0);c.setFullYear(o,t,15),c.setHours(0,0,0,0);const d=$Z(c);return r.setMonth(t,Math.min(l,d)),r}function GZ(e,t,n){const r=Kt(e,n?.in);return isNaN(+r)?In(e,NaN):(r.setFullYear(t),r)}const _E=5,YZ=4;function KZ(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),l=t.addDays(o,_E*7-1);return t.getMonth(e)===t.getMonth(l)?_E:YZ}function gD(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function ZZ(e,t){const n=gD(e,t),r=KZ(e,t);return t.addDays(n,r*7-1)}const xD={...rc,labels:{labelDayButton:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(c,d)=>Vu(c,d,{locale:rc,...n});let l=o(e,"PPPP");return t.today&&(l=`Today, ${l}`),t.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,l)=>Vu(o,l,{locale:rc,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(c,d)=>Vu(c,d,{locale:rc,...n});let l=o(e,"PPPP");return t?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,l)=>Vu(o,l,{locale:rc,...t}),r(e,"cccc")}}};class Jr{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?dr.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,l)=>this.overrides?.newDate?this.overrides.newDate(r,o,l):this.options.timeZone?new dr(r,o,l,this.options.timeZone):new Date(r,o,l),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):aD(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):iD(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):AK(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):OK(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):Qy(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):uD(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):$K(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):BK(r),l=new Set(o.map(d=>this.getYear(d)));if(l.size===o.length)return o;const c=[];return l.forEach(d=>{c.push(new Date(d,0,1))}),c},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):ZZ(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):VK(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):LK(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):mD(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):UK(r),this.format=(r,o,l)=>{const c=this.overrides?.format?this.overrides.format(r,o,this.options):Vu(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Xy(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):FZ(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):UZ(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Jy(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):BZ(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):VZ(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):cD(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):PK(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):HZ(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):qZ(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):TK(r),this.min=r=>this.overrides?.min?this.overrides.min(r):zK(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):WZ(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):GZ(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):gD(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):fd(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):dd(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):FK(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):gc(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):fD(r),this.options={locale:xD,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Jr.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,l=n?.code;if(l&&Jr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}Jr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const po=new Jr;class vD{constructor(t,n,r=po){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class QZ{constructor(t,n){this.date=t,this.weeks=n}}class XZ{constructor(t,n){this.days=n,this.weekNumber=t}}function JZ(e){return _e.createElement("button",{...e})}function eQ(e){return _e.createElement("span",{...e})}function tQ(e){const{size:t=24,orientation:n="left",className:r}=e;return _e.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&_e.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&_e.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&_e.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&_e.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function nQ(e){const{day:t,modifiers:n,...r}=e;return _e.createElement("td",{...r})}function rQ(e){const{day:t,modifiers:n,...r}=e,o=_e.useRef(null);return _e.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),_e.createElement("button",{ref:o,...r})}var Xe;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Xe||(Xe={}));var mn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(mn||(mn={}));var Ps;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Ps||(Ps={}));var qr;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(qr||(qr={}));function sQ(e){const{options:t,className:n,components:r,classNames:o,...l}=e,c=[o[Xe.Dropdown],n].join(" "),d=t?.find(({value:f})=>f===l.value);return _e.createElement("span",{"data-disabled":l.disabled,className:o[Xe.DropdownRoot]},_e.createElement(r.Select,{className:c,...l},t?.map(({value:f,label:p,disabled:g})=>_e.createElement(r.Option,{key:f,value:f,disabled:g},p))),_e.createElement("span",{className:o[Xe.CaptionLabel],"aria-hidden":!0},d?.label,_e.createElement(r.Chevron,{orientation:"down",size:18,className:o[Xe.Chevron]})))}function oQ(e){return _e.createElement("div",{...e})}function aQ(e){return _e.createElement("div",{...e})}function iQ(e){const{calendarMonth:t,displayIndex:n,...r}=e;return _e.createElement("div",{...r},e.children)}function lQ(e){const{calendarMonth:t,displayIndex:n,...r}=e;return _e.createElement("div",{...r})}function cQ(e){return _e.createElement("table",{...e})}function uQ(e){return _e.createElement("div",{...e})}const bD=m.createContext(void 0);function Ld(){const e=m.useContext(bD);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function dQ(e){const{components:t}=Ld();return _e.createElement(t.Dropdown,{...e})}function fQ(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...l}=e,{components:c,classNames:d,labels:{labelPrevious:f,labelNext:p}}=Ld(),g=m.useCallback(b=>{o&&n?.(b)},[o,n]),x=m.useCallback(b=>{r&&t?.(b)},[r,t]);return _e.createElement("nav",{...l},_e.createElement(c.PreviousMonthButton,{type:"button",className:d[Xe.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:x},_e.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Xe.Chevron],orientation:"left"})),_e.createElement(c.NextMonthButton,{type:"button",className:d[Xe.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:g},_e.createElement(c.Chevron,{disabled:o?void 0:!0,orientation:"right",className:d[Xe.Chevron]})))}function mQ(e){const{components:t}=Ld();return _e.createElement(t.Button,{...e})}function hQ(e){return _e.createElement("option",{...e})}function pQ(e){const{components:t}=Ld();return _e.createElement(t.Button,{...e})}function gQ(e){const{rootRef:t,...n}=e;return _e.createElement("div",{...n,ref:t})}function xQ(e){return _e.createElement("select",{...e})}function vQ(e){const{week:t,...n}=e;return _e.createElement("tr",{...n})}function bQ(e){return _e.createElement("th",{...e})}function yQ(e){return _e.createElement("thead",{"aria-hidden":!0},_e.createElement("tr",{...e}))}function wQ(e){const{week:t,...n}=e;return _e.createElement("th",{...n})}function SQ(e){return _e.createElement("th",{...e})}function CQ(e){return _e.createElement("tbody",{...e})}function jQ(e){const{components:t}=Ld();return _e.createElement(t.Dropdown,{...e})}const EQ=Object.freeze(Object.defineProperty({__proto__:null,Button:JZ,CaptionLabel:eQ,Chevron:tQ,Day:nQ,DayButton:rQ,Dropdown:sQ,DropdownNav:oQ,Footer:aQ,Month:iQ,MonthCaption:lQ,MonthGrid:cQ,Months:uQ,MonthsDropdown:dQ,Nav:fQ,NextMonthButton:mQ,Option:hQ,PreviousMonthButton:pQ,Root:gQ,Select:xQ,Week:vQ,WeekNumber:wQ,WeekNumberHeader:SQ,Weekday:bQ,Weekdays:yQ,Weeks:CQ,YearsDropdown:jQ},Symbol.toStringTag,{value:"Module"}));function Bo(e,t,n=!1,r=po){let{from:o,to:l}=e;const{differenceInCalendarDays:c,isSameDay:d}=r;return o&&l?(c(l,o)<0&&([o,l]=[l,o]),c(t,o)>=(n?1:0)&&c(l,t)>=(n?1:0)):!n&&l?d(l,t):!n&&o?d(o,t):!1}function ew(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function cp(e){return!!(e&&typeof e=="object"&&"from"in e)}function tw(e){return!!(e&&typeof e=="object"&&"after"in e)}function nw(e){return!!(e&&typeof e=="object"&&"before"in e)}function yD(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function wD(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Vo(e,t,n=po){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:l,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return o(e,d);if(wD(d,n))return d.some(f=>o(e,f));if(cp(d))return Bo(d,e,!1,n);if(yD(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(e.getDay()):d.dayOfWeek===e.getDay();if(ew(d)){const f=l(d.before,e),p=l(d.after,e),g=f>0,x=p<0;return c(d.before,d.after)?x&&g:g||x}return tw(d)?l(e,d.after)>0:nw(d)?l(d.before,e)>0:typeof d=="function"?d(e):!1})}function NQ(e,t,n,r,o){const{disabled:l,hidden:c,modifiers:d,showOutsideDays:f,broadcastCalendar:p,today:g=o.today()}=t,{isSameDay:x,isSameMonth:b,startOfMonth:w,isBefore:S,endOfMonth:C,isAfter:j}=o,E=n&&w(n),N=r&&C(r),_={[mn.focused]:[],[mn.outside]:[],[mn.disabled]:[],[mn.hidden]:[],[mn.today]:[]},R={};for(const M of e){const{date:D,displayMonth:O}=M,A=!!(O&&!b(D,O)),L=!!(E&&S(D,E)),T=!!(N&&j(D,N)),W=!!(l&&Vo(D,l,o)),I=!!(c&&Vo(D,c,o))||L||T||!p&&!f&&A||p&&f===!1&&A,F=x(D,g);A&&_.outside.push(M),W&&_.disabled.push(M),I&&_.hidden.push(M),F&&_.today.push(M),d&&Object.keys(d).forEach(U=>{const ae=d?.[U];ae&&Vo(D,ae,o)&&(R[U]?R[U].push(M):R[U]=[M])})}return M=>{const D={[mn.focused]:!1,[mn.disabled]:!1,[mn.hidden]:!1,[mn.outside]:!1,[mn.today]:!1},O={};for(const A in _){const L=_[A];D[A]=L.some(T=>T===M)}for(const A in R)O[A]=R[A].some(L=>L===M);return{...D,...O}}}function _Q(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):t[mn[l]]?o.push(t[mn[l]]):t[Ps[l]]&&o.push(t[Ps[l]]),o),[t[Xe.Day]])}function kQ(e){return{...EQ,...e}}function RQ(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function rw(){const e={};for(const t in Xe)e[Xe[t]]=`rdp-${Xe[t]}`;for(const t in mn)e[mn[t]]=`rdp-${mn[t]}`;for(const t in Ps)e[Ps[t]]=`rdp-${Ps[t]}`;for(const t in qr)e[qr[t]]=`rdp-${qr[t]}`;return e}function SD(e,t,n){return(n??new Jr(t)).formatMonthYear(e)}const MQ=SD;function DQ(e,t,n){return(n??new Jr(t)).format(e,"d")}function AQ(e,t=po){return t.format(e,"LLLL")}function OQ(e,t,n){return(n??new Jr(t)).format(e,"cccccc")}function TQ(e,t=po){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function zQ(){return""}function CD(e,t=po){return t.format(e,"yyyy")}const PQ=CD,IQ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:SD,formatDay:DQ,formatMonthCaption:MQ,formatMonthDropdown:AQ,formatWeekNumber:TQ,formatWeekNumberHeader:zQ,formatWeekdayName:OQ,formatYearCaption:PQ,formatYearDropdown:CD},Symbol.toStringTag,{value:"Module"}));function LQ(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...IQ,...e}}function sw(e,t,n,r){let o=(r??new Jr(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const $Q=sw;function ow(e,t,n){return(n??new Jr(t)).formatMonthYear(e)}const FQ=ow;function jD(e,t,n,r){let o=(r??new Jr(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function ED(e){return"Choose the Month"}function ND(){return""}const UQ="Go to the Next Month";function _D(e,t){return UQ}function kD(e){return"Go to the Previous Month"}function RD(e,t,n){return(n??new Jr(t)).format(e,"cccc")}function MD(e,t){return`Week ${e}`}function DD(e){return"Week Number"}function AD(e){return"Choose the Year"}const BQ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:FQ,labelDay:$Q,labelDayButton:sw,labelGrid:ow,labelGridcell:jD,labelMonthDropdown:ED,labelNav:ND,labelNext:_D,labelPrevious:kD,labelWeekNumber:MD,labelWeekNumberHeader:DD,labelWeekday:RD,labelYearDropdown:AD},Symbol.toStringTag,{value:"Module"})),As=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function VQ(e,t){const n=t.locale?.labels??{};return{...BQ,...e??{},labelDayButton:As(sw,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:As(ED,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:As(_D,e?.labelNext,n.labelNext),labelPrevious:As(kD,e?.labelPrevious,n.labelPrevious),labelWeekNumber:As(MD,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:As(AD,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:As(ow,e?.labelGrid,n.labelGrid),labelGridcell:As(jD,e?.labelGridcell,n.labelGridcell),labelNav:As(ND,e?.labelNav,n.labelNav),labelWeekNumberHeader:As(DD,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:As(RD,e?.labelWeekday,n.labelWeekday)}}function HQ(e,t,n,r,o){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:f,getMonth:p}=o;return f({start:c(e),end:d(e)}).map(b=>{const w=r.formatMonthDropdown(b,o),S=p(b),C=t&&b<l(t)||n&&b>l(n)||!1;return{value:S,label:w,disabled:C}})}function qQ(e,t={},n={}){let r={...t?.[Xe.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function WQ(e,t,n,r){const o=r??e.today(),l=n?e.startOfBroadcastWeek(o,e):t?e.startOfISOWeek(o):e.startOfWeek(o),c=[];for(let d=0;d<7;d++){const f=e.addDays(l,d);c.push(f)}return c}function GQ(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:d,getYear:f}=r,p=l(e),g=c(t),x=d({start:p,end:g});return o&&x.reverse(),x.map(b=>{const w=n.formatYearDropdown(b,r);return{value:f(b),label:w,disabled:!1}})}function YQ(e,t={}){const{weekStartsOn:n,locale:r}=t,o=n??r?.options?.weekStartsOn??0,l=d=>{const f=typeof d=="number"||typeof d=="string"?new Date(d):d;return new dr(f.getFullYear(),f.getMonth(),f.getDate(),12,0,0,e)},c=d=>{const f=l(d);return new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0)};return{today:()=>l(dr.tz(e)),newDate:(d,f,p)=>new dr(d,f,p,12,0,0,e),startOfDay:d=>l(d),startOfWeek:(d,f)=>{const p=l(d),g=f?.weekStartsOn??o,x=(p.getDay()-g+7)%7;return p.setDate(p.getDate()-x),p},startOfISOWeek:d=>{const f=l(d),p=(f.getDay()-1+7)%7;return f.setDate(f.getDate()-p),f},startOfMonth:d=>{const f=l(d);return f.setDate(1),f},startOfYear:d=>{const f=l(d);return f.setMonth(0,1),f},endOfWeek:(d,f)=>{const p=l(d),b=(((f?.weekStartsOn??o)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+b),p},endOfISOWeek:d=>{const f=l(d),p=(7-f.getDay())%7;return f.setDate(f.getDate()+p),f},endOfMonth:d=>{const f=l(d);return f.setMonth(f.getMonth()+1,0),f},endOfYear:d=>{const f=l(d);return f.setMonth(11,31),f},eachMonthOfInterval:d=>{const f=l(d.start),p=l(d.end),g=[],x=new dr(f.getFullYear(),f.getMonth(),1,12,0,0,e),b=p.getFullYear()*12+p.getMonth();for(;x.getFullYear()*12+x.getMonth()<=b;)g.push(new dr(x,e)),x.setMonth(x.getMonth()+1,1);return g},addDays:(d,f)=>{const p=l(d);return p.setDate(p.getDate()+f),p},addWeeks:(d,f)=>{const p=l(d);return p.setDate(p.getDate()+f*7),p},addMonths:(d,f)=>{const p=l(d);return p.setMonth(p.getMonth()+f),p},addYears:(d,f)=>{const p=l(d);return p.setFullYear(p.getFullYear()+f),p},eachYearOfInterval:d=>{const f=l(d.start),p=l(d.end),g=[],x=new dr(f.getFullYear(),0,1,12,0,0,e);for(;x.getFullYear()<=p.getFullYear();)g.push(new dr(x,e)),x.setFullYear(x.getFullYear()+1,0,1);return g},getWeek:(d,f)=>{const p=c(d);return Jy(p,{weekStartsOn:f?.weekStartsOn??o,firstWeekContainsDate:f?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:d=>{const f=c(d);return Xy(f)},differenceInCalendarDays:(d,f)=>{const p=c(d),g=c(f);return Qy(p,g)},differenceInCalendarMonths:(d,f)=>{const p=c(d),g=c(f);return uD(p,g)}}}const $d=e=>e instanceof HTMLElement?e:null,mv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],KQ=e=>$d(e.querySelector("[data-animated-month]")),hv=e=>$d(e.querySelector("[data-animated-caption]")),pv=e=>$d(e.querySelector("[data-animated-weeks]")),ZQ=e=>$d(e.querySelector("[data-animated-nav]")),QQ=e=>$d(e.querySelector("[data-animated-weekdays]"));function XQ(e,t,{classNames:n,months:r,focused:o,dateLib:l}){const c=m.useRef(null),d=m.useRef(r),f=m.useRef(!1);m.useLayoutEffect(()=>{const p=d.current;if(d.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||p.length===0||r.length!==p.length)return;const g=l.isSameMonth(r[0].date,p[0].date),x=l.isAfter(r[0].date,p[0].date),b=x?n[qr.caption_after_enter]:n[qr.caption_before_enter],w=x?n[qr.weeks_after_enter]:n[qr.weeks_before_enter],S=c.current,C=e.current.cloneNode(!0);if(C instanceof HTMLElement?(mv(C).forEach(_=>{if(!(_ instanceof HTMLElement))return;const R=KQ(_);R&&_.contains(R)&&_.removeChild(R);const M=hv(_);M&&M.classList.remove(b);const D=pv(_);D&&D.classList.remove(w)}),c.current=C):c.current=null,f.current||g||o)return;const j=S instanceof HTMLElement?mv(S):[],E=mv(e.current);if(E?.every(N=>N instanceof HTMLElement)&&j&&j.every(N=>N instanceof HTMLElement)){f.current=!0,e.current.style.isolation="isolate";const N=ZQ(e.current);N&&(N.style.zIndex="1"),E.forEach((_,R)=>{const M=j[R];if(!M)return;_.style.position="relative",_.style.overflow="hidden";const D=hv(_);D&&D.classList.add(b);const O=pv(_);O&&O.classList.add(w);const A=()=>{f.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),D&&D.classList.remove(b),O&&O.classList.remove(w),_.style.position="",_.style.overflow="",_.contains(M)&&_.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const L=QQ(M);L&&(L.style.opacity="0");const T=hv(M);T&&(T.classList.add(x?n[qr.caption_before_exit]:n[qr.caption_after_exit]),T.addEventListener("animationend",A));const W=pv(M);W&&W.classList.add(x?n[qr.weeks_before_exit]:n[qr.weeks_after_exit]),_.insertBefore(M,_.firstChild)})}})}function JQ(e,t,n,r){const o=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:f}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:x,endOfBroadcastWeek:b,endOfISOWeek:w,endOfMonth:S,endOfWeek:C,isAfter:j,startOfBroadcastWeek:E,startOfISOWeek:N,startOfWeek:_}=r,R=f?E(o,r):c?N(o):_(o),M=f?b(l):c?w(S(l)):C(S(l)),D=t&&(f?b(t):c?w(t):C(t)),O=D&&j(M,D)?D:M,A=g(O,R),L=x(l,o)+1,T=[];for(let F=0;F<=A;F++){const U=p(R,F);T.push(U)}const I=(f?35:42)*L;if(d&&T.length<I){const F=I-T.length;for(let U=0;U<F;U++){const ae=p(T[T.length-1],1);T.push(ae)}}return T}function eX(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((l,c)=>l.concat(c.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function tX(e,t,n,r){const{numberOfMonths:o=1}=n,l=[];for(let c=0;c<o;c++){const d=r.addMonths(e,c);if(t&&d>t)break;l.push(d)}return l}function kE(e,t,n,r){const{month:o,defaultMonth:l,today:c=r.today(),numberOfMonths:d=1}=e;let f=o||l||c;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:x}=r;if(n&&p(n,f)<d-1){const b=-1*(d-1);f=g(n,b)}return t&&p(f,t)<0&&(f=t),x(f)}function nX(e,t,n,r){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:f,getISOWeek:p,getWeek:g,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:w}=r,S=e.reduce((C,j)=>{const E=n.broadcastCalendar?x(j,r):n.ISOWeek?b(j):w(j),N=n.broadcastCalendar?l(j):n.ISOWeek?c(d(j)):f(d(j)),_=t.filter(O=>O>=E&&O<=N),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&_.length<R){const O=t.filter(A=>{const L=R-_.length;return A>N&&A<=o(N,L)});_.push(...O)}const M=_.reduce((O,A)=>{const L=n.ISOWeek?p(A):g(A),T=O.find(I=>I.weekNumber===L),W=new vD(A,j,r);return T?T.days.push(W):O.push(new XZ(L,[W])),O},[]),D=new QZ(j,M);return C.push(D),C},[]);return n.reverseMonths?S.reverse():S}function rX(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:f,endOfYear:p,newDate:g,today:x}=t,{fromYear:b,toYear:w,fromMonth:S,toMonth:C}=e;!n&&S&&(n=S),!n&&b&&(n=t.newDate(b,0,1)),!r&&C&&(r=C),!r&&w&&(r=g(w,11,31));const j=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):b?n=g(b,0,1):!n&&j&&(n=o(f(e.today??x(),-100))),r?r=d(r):w?r=g(w,11,31):!r&&j&&(r=p(e.today??x())),[n&&l(n),r&&l(r)]}function sX(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,p=o?l:1,g=c(e);if(!t)return d(g,p);if(!(f(t,e)<l))return d(g,p)}function oX(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,p=o?l??1:1,g=c(e);if(!t)return d(g,-p);if(!(f(g,t)<=0))return d(g,-p)}function aX(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function up(e,t){const[n,r]=m.useState(e);return[t===void 0?n:t,r]}function iX(e,t){const[n,r]=rX(e,t),{startOfMonth:o,endOfMonth:l}=t,c=kE(e,n,r,t),[d,f]=up(c,e.month?c:void 0);m.useEffect(()=>{const R=kE(e,n,r,t);f(R)},[e.timeZone]);const{months:p,weeks:g,days:x,previousMonth:b,nextMonth:w}=m.useMemo(()=>{const R=tX(d,r,{numberOfMonths:e.numberOfMonths},t),M=JQ(R,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),D=nX(R,M,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),O=aX(D),A=eX(D),L=oX(d,n,e,t),T=sX(d,r,e,t);return{months:D,weeks:O,days:A,previousMonth:L,nextMonth:T}},[t,d.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:S,onMonthChange:C}=e,j=R=>g.some(M=>M.days.some(D=>D.isEqualTo(R))),E=R=>{if(S)return;let M=o(R);n&&M<o(n)&&(M=o(n)),r&&M>o(r)&&(M=o(r)),f(M),C?.(M)};return{months:p,weeks:g,days:x,navStart:n,navEnd:r,previousMonth:b,nextMonth:w,goToMonth:E,goToDay:R=>{j(R)||E(R.date)}}}var to;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(to||(to={}));function RE(e){return!e[mn.disabled]&&!e[mn.hidden]&&!e[mn.outside]}function lX(e,t,n,r){let o,l=-1;for(const c of e){const d=t(c);RE(d)&&(d[mn.focused]&&l<to.FocusedModifier?(o=c,l=to.FocusedModifier):r?.isEqualTo(c)&&l<to.LastFocused?(o=c,l=to.LastFocused):n(c.date)&&l<to.Selected?(o=c,l=to.Selected):d[mn.today]&&l<to.Today&&(o=c,l=to.Today))}return o||(o=e.find(c=>RE(t(c)))),o}function cX(e,t,n,r,o,l,c){const{ISOWeek:d,broadcastCalendar:f}=l,{addDays:p,addMonths:g,addWeeks:x,addYears:b,endOfBroadcastWeek:w,endOfISOWeek:S,endOfWeek:C,max:j,min:E,startOfBroadcastWeek:N,startOfISOWeek:_,startOfWeek:R}=c;let D={day:p,week:x,month:g,year:b,startOfWeek:O=>f?N(O,c):d?_(O):R(O),endOfWeek:O=>f?w(O):d?S(O):C(O)}[e](n,t==="after"?1:-1);return t==="before"&&r?D=j([r,D]):t==="after"&&o&&(D=E([o,D])),D}function OD(e,t,n,r,o,l,c,d=0){if(d>365)return;const f=cX(e,t,n.date,r,o,l,c),p=!!(l.disabled&&Vo(f,l.disabled,c)),g=!!(l.hidden&&Vo(f,l.hidden,c)),x=f,b=new vD(f,x,c);return!p&&!g?b:OD(e,t,b,r,o,l,c,d+1)}function uX(e,t,n,r,o){const{autoFocus:l}=e,[c,d]=m.useState(),f=lX(t.days,n,r||(()=>!1),c),[p,g]=m.useState(l?f:void 0);return{isFocusTarget:C=>!!f?.isEqualTo(C),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(C,j)=>{if(!p)return;const E=OD(C,j,p,t.navStart,t.navEnd,e,o);E&&(e.disableNavigation&&!t.days.some(_=>_.isEqualTo(E))||(t.goToDay(E),g(E)))}}}function dX(e,t){const{selected:n,required:r,onSelect:o}=e,[l,c]=up(n,o?n:void 0),d=o?n:l,{isSameDay:f}=t,p=w=>d?.some(S=>f(S,w))??!1,{min:g,max:x}=e;return{selected:d,select:(w,S,C)=>{let j=[...d??[]];if(p(w)){if(d?.length===g||r&&d?.length===1)return;j=d?.filter(E=>!f(E,w))}else d?.length===x?j=[w]:j=[...j,w];return o||c(j),o?.(j,w,S,C),j},isSelected:p}}function fX(e,t,n=0,r=0,o=!1,l=po){const{from:c,to:d}=t||{},{isSameDay:f,isAfter:p,isBefore:g}=l;let x;if(!c&&!d)x={from:e,to:n>0?void 0:e};else if(c&&!d)f(c,e)?n===0?x={from:c,to:e}:o?x={from:c,to:void 0}:x=void 0:g(e,c)?x={from:e,to:c}:x={from:c,to:e};else if(c&&d)if(f(c,e)&&f(d,e))o?x={from:c,to:d}:x=void 0;else if(f(c,e))x={from:c,to:n>0?void 0:e};else if(f(d,e))x={from:e,to:n>0?void 0:e};else if(g(e,c))x={from:e,to:d};else if(p(e,c))x={from:c,to:e};else if(p(e,d))x={from:c,to:e};else throw new Error("Invalid range");if(x?.from&&x?.to){const b=l.differenceInCalendarDays(x.to,x.from);r>0&&b>r?x={from:e,to:void 0}:n>1&&b<n&&(x={from:e,to:void 0})}return x}function mX(e,t,n=po){const r=Array.isArray(t)?t:[t];let o=e.from;const l=n.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function ME(e,t,n=po){return Bo(e,t.from,!1,n)||Bo(e,t.to,!1,n)||Bo(t,e.from,!1,n)||Bo(t,e.to,!1,n)}function hX(e,t,n=po){const r=Array.isArray(t)?t:[t];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?Bo(e,d,!1,n):wD(d,n)?d.some(f=>Bo(e,f,!1,n)):cp(d)?d.from&&d.to?ME(e,{from:d.from,to:d.to},n):!1:yD(d)?mX(e,d.dayOfWeek,n):ew(d)?n.isAfter(d.before,d.after)?ME(e,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Vo(e.from,d,n)||Vo(e.to,d,n):tw(d)||nw(d)?Vo(e.from,d,n)||Vo(e.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=e.from;const f=n.differenceInCalendarDays(e.to,e.from);for(let p=0;p<=f;p++){if(c.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function pX(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:l,onSelect:c}=e,[d,f]=up(o,c?o:void 0),p=c?o:d;return{selected:p,select:(b,w,S)=>{const{min:C,max:j}=e,E=b?fX(b,p,C,j,l,t):void 0;return r&&n&&E?.from&&E.to&&hX({from:E.from,to:E.to},n,t)&&(E.from=b,E.to=void 0),c||f(E),c?.(E,b,w,S),E},isSelected:b=>p&&Bo(p,b,!1,t)}}function gX(e,t){const{selected:n,required:r,onSelect:o}=e,[l,c]=up(n,o?n:void 0),d=o?n:l,{isSameDay:f}=t;return{selected:d,select:(x,b,w)=>{let S=x;return!r&&d&&d&&f(x,d)&&(S=void 0),o||c(S),o?.(S,x,b,w),S},isSelected:x=>d?f(d,x):!1}}function xX(e,t){const n=gX(e,t),r=dX(e,t),o=pX(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function xs(e,t){return e instanceof dr&&e.timeZone===t?e:new dr(e,t)}function Xl(e,t,n){return xs(e,t)}function DE(e,t,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Xl(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?Xl(r,t):r):cp(e)?{...e,from:e.from?xs(e.from,t):e.from,to:e.to?xs(e.to,t):e.to}:ew(e)?{before:Xl(e.before,t),after:Xl(e.after,t)}:tw(e)?{after:Xl(e.after,t)}:nw(e)?{before:Xl(e.before,t)}:e}function gv(e,t,n){return e&&(Array.isArray(e)?e.map(r=>DE(r,t)):DE(e,t))}function vX(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=xs(t.today,n)),t.month&&(t.month=xs(t.month,n)),t.defaultMonth&&(t.defaultMonth=xs(t.defaultMonth,n)),t.startMonth&&(t.startMonth=xs(t.startMonth,n)),t.endMonth&&(t.endMonth=xs(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=xs(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(ce=>xs(ce,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?xs(t.selected.from,n):t.selected.from,to:t.selected.to?xs(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=gv(t.disabled,n)),t.hidden!==void 0&&(t.hidden=gv(t.hidden,n)),t.modifiers)){const ce={};Object.keys(t.modifiers).forEach(Ae=>{ce[Ae]=gv(t.modifiers?.[Ae],n)}),t.modifiers=ce}const{components:r,formatters:o,labels:l,dateLib:c,locale:d,classNames:f}=m.useMemo(()=>{const ce={...xD,...t.locale},Ae=t.broadcastCalendar?1:t.weekStartsOn,Ie=t.noonSafe&&t.timeZone?YQ(t.timeZone,{weekStartsOn:Ae,locale:ce}):void 0,Fe=t.dateLib&&Ie?{...Ie,...t.dateLib}:t.dateLib??Ie,it=new Jr({locale:ce,weekStartsOn:Ae,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},Fe);return{dateLib:it,components:kQ(t.components),formatters:LQ(t.formatters),labels:VQ(t.labels,it.options),locale:ce,classNames:{...rw(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:p,mode:g,navLayout:x,numberOfMonths:b=1,onDayBlur:w,onDayClick:S,onDayFocus:C,onDayKeyDown:j,onDayMouseEnter:E,onDayMouseLeave:N,onNextClick:_,onPrevClick:R,showWeekNumber:M,styles:D}=t,{formatCaption:O,formatDay:A,formatMonthDropdown:L,formatWeekNumber:T,formatWeekNumberHeader:W,formatWeekdayName:I,formatYearDropdown:F}=o,U=iX(t,c),{days:ae,months:P,navStart:q,navEnd:K,previousMonth:te,nextMonth:ve,goToMonth:V}=U,B=NQ(ae,t,q,K,c),{isSelected:re,select:Y,selected:z}=xX(t,c)??{},{blur:G,focused:H,isFocusTarget:ee,moveFocus:oe,setFocused:le}=uX(t,U,B,re??(()=>!1),c),{labelDayButton:de,labelGridcell:Ee,labelGrid:Oe,labelMonthDropdown:Pe,labelNav:ot,labelPrevious:xt,labelNext:ct,labelWeekday:sn,labelWeekNumber:_t,labelWeekNumberHeader:Q,labelYearDropdown:Z}=l,ue=m.useMemo(()=>WQ(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),De=g!==void 0||S!==void 0,je=m.useCallback(()=>{te&&(V(te),R?.(te))},[te,V,R]),ge=m.useCallback(()=>{ve&&(V(ve),_?.(ve))},[V,ve,_]),Me=m.useCallback((ce,Ae)=>Ie=>{Ie.preventDefault(),Ie.stopPropagation(),le(ce),!Ae.disabled&&(Y?.(ce.date,Ae,Ie),S?.(ce.date,Ae,Ie))},[Y,S,le]),ye=m.useCallback((ce,Ae)=>Ie=>{le(ce),C?.(ce.date,Ae,Ie)},[C,le]),ne=m.useCallback((ce,Ae)=>Ie=>{G(),w?.(ce.date,Ae,Ie)},[G,w]),we=m.useCallback((ce,Ae)=>Ie=>{const Fe={ArrowLeft:[Ie.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Ie.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Ie.shiftKey?"year":"week","after"],ArrowUp:[Ie.shiftKey?"year":"week","before"],PageUp:[Ie.shiftKey?"year":"month","before"],PageDown:[Ie.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Fe[Ie.key]){Ie.preventDefault(),Ie.stopPropagation();const[it,We]=Fe[Ie.key];oe(it,We)}j?.(ce.date,Ae,Ie)},[oe,j,t.dir]),Te=m.useCallback((ce,Ae)=>Ie=>{E?.(ce.date,Ae,Ie)},[E]),$e=m.useCallback((ce,Ae)=>Ie=>{N?.(ce.date,Ae,Ie)},[N]),at=m.useCallback(ce=>Ae=>{const Ie=Number(Ae.target.value),Fe=c.setMonth(c.startOfMonth(ce),Ie);V(Fe)},[c,V]),ft=m.useCallback(ce=>Ae=>{const Ie=Number(Ae.target.value),Fe=c.setYear(c.startOfMonth(ce),Ie);V(Fe)},[c,V]),{className:Ot,style:Tt}=m.useMemo(()=>({className:[f[Xe.Root],t.className].filter(Boolean).join(" "),style:{...D?.[Xe.Root],...t.style}}),[f,t.className,t.style,D]),Lt=RQ(t),cn=m.useRef(null);XQ(cn,!!t.animate,{classNames:f,months:P,focused:H,dateLib:c});const gr={dayPickerProps:t,selected:z,select:Y,isSelected:re,months:P,nextMonth:ve,previousMonth:te,goToMonth:V,getModifiers:B,components:r,classNames:f,styles:D,labels:l,formatters:o};return _e.createElement(bD.Provider,{value:gr},_e.createElement(r.Root,{rootRef:t.animate?cn:void 0,className:Ot,style:Tt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Lt},_e.createElement(r.Months,{className:f[Xe.Months],style:D?.[Xe.Months]},!t.hideNavigation&&!x&&_e.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[Xe.Nav],style:D?.[Xe.Nav],"aria-label":ot(),onPreviousClick:je,onNextClick:ge,previousMonth:te,nextMonth:ve}),P.map((ce,Ae)=>_e.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:f[Xe.Month],style:D?.[Xe.Month],key:Ae,displayIndex:Ae,calendarMonth:ce},x==="around"&&!t.hideNavigation&&Ae===0&&_e.createElement(r.PreviousMonthButton,{type:"button",className:f[Xe.PreviousMonthButton],tabIndex:te?void 0:-1,"aria-disabled":te?void 0:!0,"aria-label":xt(te),onClick:je,"data-animated-button":t.animate?"true":void 0},_e.createElement(r.Chevron,{disabled:te?void 0:!0,className:f[Xe.Chevron],orientation:t.dir==="rtl"?"right":"left"})),_e.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:f[Xe.MonthCaption],style:D?.[Xe.MonthCaption],calendarMonth:ce,displayIndex:Ae},p?.startsWith("dropdown")?_e.createElement(r.DropdownNav,{className:f[Xe.Dropdowns],style:D?.[Xe.Dropdowns]},(()=>{const Ie=p==="dropdown"||p==="dropdown-months"?_e.createElement(r.MonthsDropdown,{key:"month",className:f[Xe.MonthsDropdown],"aria-label":Pe(),classNames:f,components:r,disabled:!!t.disableNavigation,onChange:at(ce.date),options:HQ(ce.date,q,K,o,c),style:D?.[Xe.Dropdown],value:c.getMonth(ce.date)}):_e.createElement("span",{key:"month"},L(ce.date,c)),Fe=p==="dropdown"||p==="dropdown-years"?_e.createElement(r.YearsDropdown,{key:"year",className:f[Xe.YearsDropdown],"aria-label":Z(c.options),classNames:f,components:r,disabled:!!t.disableNavigation,onChange:ft(ce.date),options:GQ(q,K,o,c,!!t.reverseYears),style:D?.[Xe.Dropdown],value:c.getYear(ce.date)}):_e.createElement("span",{key:"year"},F(ce.date,c));return c.getMonthYearOrder()==="year-first"?[Fe,Ie]:[Ie,Fe]})(),_e.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(ce.date,c.options,c))):_e.createElement(r.CaptionLabel,{className:f[Xe.CaptionLabel],role:"status","aria-live":"polite"},O(ce.date,c.options,c))),x==="around"&&!t.hideNavigation&&Ae===b-1&&_e.createElement(r.NextMonthButton,{type:"button",className:f[Xe.NextMonthButton],tabIndex:ve?void 0:-1,"aria-disabled":ve?void 0:!0,"aria-label":ct(ve),onClick:ge,"data-animated-button":t.animate?"true":void 0},_e.createElement(r.Chevron,{disabled:ve?void 0:!0,className:f[Xe.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ae===b-1&&x==="after"&&!t.hideNavigation&&_e.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[Xe.Nav],style:D?.[Xe.Nav],"aria-label":ot(),onPreviousClick:je,onNextClick:ge,previousMonth:te,nextMonth:ve}),_e.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":Oe(ce.date,c.options,c)||void 0,className:f[Xe.MonthGrid],style:D?.[Xe.MonthGrid]},!t.hideWeekdays&&_e.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:f[Xe.Weekdays],style:D?.[Xe.Weekdays]},M&&_e.createElement(r.WeekNumberHeader,{"aria-label":Q(c.options),className:f[Xe.WeekNumberHeader],style:D?.[Xe.WeekNumberHeader],scope:"col"},W()),ue.map(Ie=>_e.createElement(r.Weekday,{"aria-label":sn(Ie,c.options,c),className:f[Xe.Weekday],key:String(Ie),style:D?.[Xe.Weekday],scope:"col"},I(Ie,c.options,c)))),_e.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:f[Xe.Weeks],style:D?.[Xe.Weeks]},ce.weeks.map(Ie=>_e.createElement(r.Week,{className:f[Xe.Week],key:Ie.weekNumber,style:D?.[Xe.Week],week:Ie},M&&_e.createElement(r.WeekNumber,{week:Ie,style:D?.[Xe.WeekNumber],"aria-label":_t(Ie.weekNumber,{locale:d}),className:f[Xe.WeekNumber],scope:"row",role:"rowheader"},T(Ie.weekNumber,c)),Ie.days.map(Fe=>{const{date:it}=Fe,We=B(Fe);if(We[mn.focused]=!We.hidden&&!!H?.isEqualTo(Fe),We[Ps.selected]=re?.(it)||We.selected,cp(z)){const{from:gn,to:Rn}=z;We[Ps.range_start]=!!(gn&&Rn&&c.isSameDay(it,gn)),We[Ps.range_end]=!!(gn&&Rn&&c.isSameDay(it,Rn)),We[Ps.range_middle]=Bo(z,it,!0,c)}const pn=qQ(We,D,t.modifiersStyles),Sn=_Q(We,f,t.modifiersClassNames),Cn=!De&&!We.hidden?Ee(it,We,c.options,c):void 0;return _e.createElement(r.Day,{key:`${Fe.isoDate}_${Fe.displayMonthId}`,day:Fe,modifiers:We,className:Sn.join(" "),style:pn,role:"gridcell","aria-selected":We.selected||void 0,"aria-label":Cn,"data-day":Fe.isoDate,"data-month":Fe.outside?Fe.dateMonthId:void 0,"data-selected":We.selected||void 0,"data-disabled":We.disabled||void 0,"data-hidden":We.hidden||void 0,"data-outside":Fe.outside||void 0,"data-focused":We.focused||void 0,"data-today":We.today||void 0},!We.hidden&&De?_e.createElement(r.DayButton,{className:f[Xe.DayButton],style:D?.[Xe.DayButton],type:"button",day:Fe,modifiers:We,disabled:!We.focused&&We.disabled||void 0,"aria-disabled":We.focused&&We.disabled||void 0,tabIndex:ee(Fe)?0:-1,"aria-label":de(it,We,c.options,c),onClick:Me(Fe,We),onBlur:ne(Fe,We),onFocus:ye(Fe,We),onKeyDown:we(Fe,We),onMouseEnter:Te(Fe,We),onMouseLeave:$e(Fe,We)},A(it,c.options,c)):!We.hidden&&A(Fe.date,c.options,c))})))))))),t.footer&&_e.createElement(r.Footer,{className:f[Xe.Footer],style:D?.[Xe.Footer],role:"status","aria-live":"polite"},t.footer)))}function AE({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:o="ghost",formatters:l,components:c,...d}){const f=rw();return i.jsx(vX,{showOutsideDays:n,className:ze("group/calendar bg-background p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:p=>p.toLocaleString("default",{month:"short"}),...l},classNames:{root:ze("w-fit",f.root),months:ze("flex gap-4 flex-col md:flex-row relative",f.months),month:ze("flex flex-col w-full gap-4",f.month),nav:ze("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:ze(Dv({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:ze(Dv({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:ze("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:ze("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:ze("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:ze("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:ze("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:ze("flex",f.weekdays),weekday:ze("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:ze("flex w-full mt-2",f.week),week_number_header:ze("select-none w-(--cell-size)",f.week_number_header),week_number:ze("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:ze("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",f.day),range_start:ze("rounded-l-md bg-accent",f.range_start),range_middle:ze("rounded-none",f.range_middle),range_end:ze("rounded-r-md bg-accent",f.range_end),today:ze("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:ze("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:ze("text-muted-foreground opacity-50",f.disabled),hidden:ze("invisible",f.hidden),...t},components:{Root:({className:p,rootRef:g,...x})=>i.jsx("div",{"data-slot":"calendar",ref:g,className:ze(p),...x}),Chevron:({className:p,orientation:g,...x})=>g==="left"?i.jsx(XR,{className:ze("size-4",p),...x}):g==="right"?i.jsx(JR,{className:ze("size-4",p),...x}):i.jsx(id,{className:ze("size-4",p),...x}),DayButton:bX,WeekNumber:({children:p,...g})=>i.jsx("td",{...g,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:p})}),...c},...d})}function bX({className:e,day:t,modifiers:n,...r}){const o=rw(),l=m.useRef(null);return m.useEffect(()=>{n.focused&&l.current?.focus()},[n.focused]),i.jsx(ke,{ref:l,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:ze("flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-start=true]:rounded-l-md data-[range-end=true]:bg-primary data-[range-middle=true]:bg-accent data-[range-start=true]:bg-primary data-[selected-single=true]:bg-primary data-[range-end=true]:text-primary-foreground data-[range-middle=true]:text-accent-foreground data-[range-start=true]:text-primary-foreground data-[selected-single=true]:text-primary-foreground group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-[3px] group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const TD=m.createContext(null);function zD(e){const t=m.useContext(TD);if(!t)throw new Error(`\`${e}\` must be within Faceted`);return t}function yX(e){const{open:t,onOpenChange:n,value:r,onValueChange:o,children:l,multiple:c=!1,...d}=e,[f,p]=m.useState(!1),g=t!==void 0,x=g?t:f,b=m.useCallback(C=>{g||p(C),n?.(C)},[g,n]),w=m.useCallback(C=>{if(o)if(c){const j=Array.isArray(r)?r:[],E=j.includes(C)?j.filter(N=>N!==C):[...j,C];o(E)}else o(r===C?void 0:C),requestAnimationFrame(()=>b(!1))},[c,r,o,b]),S=m.useMemo(()=>({value:r,onItemSelect:w,multiple:c}),[r,w,c]);return i.jsx(TD.Provider,{value:S,children:i.jsx(el,{open:x,onOpenChange:b,...d,children:l})})}function wX(e){const{className:t,children:n,...r}=e;return i.jsx(tl,{...r,className:ze("justify-between text-left",t),children:n})}function SX(e){const{options:t=[],max:n=2,placeholder:r="Select options...",className:o,badgeClassName:l,...c}=e,d=zD("FacetedBadgeList"),f=Array.isArray(d.value)?d.value:[d.value].filter(Boolean),p=m.useCallback(g=>t.find(b=>b.value===g)?.label??g,[t]);return!f||f.length===0?i.jsxs("div",{...c,className:"flex w-full items-center gap-1 text-muted-foreground",children:[r,i.jsx(Kh,{className:"ml-auto size-4 shrink-0 opacity-50"})]}):i.jsx("div",{...c,className:ze("flex flex-wrap items-center gap-1",o),children:f.length>n?i.jsxs(Xa,{variant:"secondary",className:ze("rounded-sm px-1 font-normal",l),children:[f.length," selected"]}):f.map(g=>i.jsx(Xa,{variant:"secondary",className:ze("rounded-sm px-1 font-normal",l),children:i.jsx("span",{className:"truncate",children:p(g)})},g))})}function CX(e){const{className:t,children:n,...r}=e;return i.jsx(nl,{...r,align:"start",className:ze("w-[200px] origin-(--radix-popover-content-transform-origin) p-0",t),children:i.jsx(Jh,{children:n})})}const jX=ep,EX=tp,NX=np,_X=rp;function kX(e){const{value:t,onSelect:n,className:r,children:o,...l}=e,c=zD("FacetedItem"),d=c.multiple?Array.isArray(c.value)&&c.value.includes(t):c.value===t,f=m.useCallback(p=>{n?n(p):c.onItemSelect&&c.onItemSelect(p)},[n,c]);return i.jsxs(sp,{"aria-selected":d,"data-selected":d,className:ze("gap-2",r),onSelect:()=>f(t),...l,children:[i.jsx("span",{className:ze("flex size-4 items-center justify-center rounded-sm border border-primary",d?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:i.jsx(Dd,{className:"size-4"})}),o]})}const RX=e=>{let{transform:t}=e;return{...t,y:0}};function MX(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const xv=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return!n||!t?r:MX(r,n,t)},DX=e=>{let{transform:t}=e;return{...t,x:0}};function OE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AX(...e){return t=>{let n=!1;const r=e.map(o=>{const l=OE(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():OE(e[o],null)}}}}function PD(...e){return m.useCallback(AX(...e),e)}const OX={vertical:{modifiers:[DX,xv],strategy:uU,collisionDetection:Bv},horizontal:{modifiers:[RX,xv],strategy:_k,collisionDetection:Bv},mixed:{modifiers:[xv],strategy:void 0,collisionDetection:ak}},TX="Sortable",ID="SortableContent",Om="SortableItem",TE="SortableItemHandle",LD="SortableOverlay",$D=m.createContext(null);function dp(e){const t=m.useContext($D);if(!t)throw new Error(`\`${e}\` must be used within \`${TX}\``);return t}function FD(e){const{value:t,onValueChange:n,collisionDetection:r,modifiers:o,strategy:l,onMove:c,orientation:d="vertical",flatCursor:f=!1,getItemValue:p,accessibility:g,onDragStart:x,onDragEnd:b,onDragCancel:w,...S}=e,C=m.useId(),[j,E]=m.useState(null),N=nk(_m(xk),_m(vk),_m(ny,{coordinateGetter:yU})),_=m.useMemo(()=>OX[d],[d]),R=m.useCallback(I=>{if(typeof I=="object"&&!p)throw new Error("getItemValue is required when using array of objects");return p?p(I):I},[p]),M=m.useMemo(()=>t.map(I=>R(I)),[t,R]),D=m.useCallback(I=>{x?.(I),!I.activatorEvent.defaultPrevented&&E(I.active.id)},[x]),O=m.useCallback(I=>{if(b?.(I),I.activatorEvent.defaultPrevented)return;const{active:F,over:U}=I;if(U&&F.id!==U?.id){const ae=t.findIndex(q=>R(q)===F.id),P=t.findIndex(q=>R(q)===U.id);c?c({...I,activeIndex:ae,overIndex:P}):n?.(ay(t,ae,P))}E(null)},[t,n,c,R,b]),A=m.useCallback(I=>{w?.(I),!I.activatorEvent.defaultPrevented&&E(null)},[w]),L=m.useMemo(()=>({onDragStart({active:I}){return`Grabbed sortable item "${I.id.toString()}". Current position is ${I.data.current?.sortable.index+1} of ${t.length}. Use arrow keys to move, space to drop.`},onDragOver({active:I,over:F}){if(F){const U=F.data.current?.sortable.index??0,ae=I.data.current?.sortable.index??0,P=U>ae?"down":"up";return`Sortable item "${I.id.toString()}" moved ${P} to position ${U+1} of ${t.length}.`}return"Sortable item is no longer over a droppable area. Press escape to cancel."},onDragEnd({active:I,over:F}){const U=I.id.toString();if(F){const ae=F.data.current?.sortable.index??0;return`Sortable item "${U}" dropped at position ${ae+1} of ${t.length}.`}return`Sortable item "${U}" dropped. No changes were made.`},onDragCancel({active:I}){const F=I.data.current?.sortable.index??0;return`Sorting cancelled. Sortable item "${I.id.toString()}" returned to position ${F+1} of ${t.length}.`},onDragMove({active:I,over:F}){if(F){const U=F.data.current?.sortable.index??0,ae=I.data.current?.sortable.index??0,P=U>ae?"down":"up";return`Sortable item "${I.id.toString()}" is moving ${P} to position ${U+1} of ${t.length}.`}return"Sortable item is no longer over a droppable area. Press escape to cancel."}}),[t]),T=m.useMemo(()=>({draggable:`
        To pick up a sortable item, press space or enter.
        While dragging, use the ${d==="vertical"?"up and down":d==="horizontal"?"left and right":"arrow"} keys to move the item.
        Press space or enter again to drop the item in its new position, or press escape to cancel.
      `}),[d]),W=m.useMemo(()=>({id:C,items:M,modifiers:o??_.modifiers,strategy:l??_.strategy,activeId:j,setActiveId:E,getItemValue:R,flatCursor:f}),[C,M,o,l,_.modifiers,_.strategy,j,R,f]);return i.jsx($D.Provider,{value:W,children:i.jsx(jk,{collisionDetection:r??_.collisionDetection,modifiers:o??_.modifiers,sensors:N,...S,id:C,onDragStart:D,onDragEnd:O,onDragCancel:A,accessibility:{announcements:L,screenReaderInstructions:T,...g}})})}const UD=m.createContext(!1);function BD(e){const{strategy:t,asChild:n,withoutSlot:r,children:o,ref:l,...c}=e,d=dp(ID),f=n?gd:"div";return i.jsx(UD.Provider,{value:!0,children:i.jsx(Dk,{items:d.items,strategy:t??d.strategy,children:r?o:i.jsx(f,{"data-slot":"sortable-content",...c,ref:l,children:o})})})}const VD=m.createContext(null);function zX(e){const t=m.useContext(VD);if(!t)throw new Error(`\`${e}\` must be used within \`${Om}\``);return t}function HD(e){const{value:t,style:n,asHandle:r,asChild:o,disabled:l,className:c,ref:d,...f}=e,p=m.useContext(UD),g=m.useContext(WD);if(!p&&!g)throw new Error(`\`${Om}\` must be used within \`${ID}\` or \`${LD}\``);if(t==="")throw new Error(`\`${Om}\` value cannot be an empty string`);const x=dp(Om),b=m.useId(),{attributes:w,listeners:S,setNodeRef:C,setActivatorNodeRef:j,transform:E,transition:N,isDragging:_}=Ok({id:t,disabled:l}),R=PD(d,A=>{l||(C(A),r&&j(A))}),M=m.useMemo(()=>({transform:Wo.Translate.toString(E),transition:N,...n}),[E,N,n]),D=m.useMemo(()=>({id:b,attributes:w,listeners:S,setActivatorNodeRef:j,isDragging:_,disabled:l}),[b,w,S,j,_,l]),O=o?gd:"div";return i.jsx(VD.Provider,{value:D,children:i.jsx(O,{id:b,"data-disabled":l,"data-dragging":_?"":void 0,"data-slot":"sortable-item",...f,...r&&!l?w:{},...r&&!l?S:{},ref:R,style:M,className:ze("focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1",{"touch-none select-none":r,"cursor-default":x.flatCursor,"data-dragging:cursor-grabbing":!x.flatCursor,"cursor-grab":!_&&r&&!x.flatCursor,"opacity-50":_,"pointer-events-none opacity-50":l},c)})})}function qD(e){const{asChild:t,disabled:n,className:r,ref:o,...l}=e,c=dp(TE),d=zX(TE),f=n??d.disabled,p=PD(o,x=>{f&&d.setActivatorNodeRef(x)}),g=t?gd:"button";return i.jsx(g,{type:"button","aria-controls":d.id,"data-disabled":f,"data-dragging":d.isDragging?"":void 0,"data-slot":"sortable-item-handle",...l,...f?{}:d.attributes,...f?{}:d.listeners,ref:p,className:ze("select-none disabled:pointer-events-none disabled:opacity-50",c.flatCursor?"cursor-default":"cursor-grab data-dragging:cursor-grabbing",r),disabled:f})}const WD=m.createContext(!1),PX={sideEffects:Nk({styles:{active:{opacity:"0.4"}}})};function GD(e){const{container:t,children:n,...r}=e,o=dp(LD),[l,c]=m.useState(!1);m.useLayoutEffect(()=>c(!0),[]);const d=t??(l?globalThis.document?.body:null);return d?Wn.createPortal(i.jsx(oU,{dropAnimation:PX,modifiers:o.modifiers,className:ze(!o.flatCursor&&"cursor-grabbing"),...r,children:i.jsx(WD.Provider,{value:!0,children:o.activeId?typeof n=="function"?n({value:o.activeId}):n:null})}),d):null}function IX(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>((...n)=>t.current?.(...n)),[])}function aw(e,t){const n=IX(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback((...l)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...l),t)},[n,t])}function vv(e,t={}){if(!e)return"";try{return new Intl.DateTimeFormat("en-US",{month:t.month??"long",day:t.day??"numeric",year:t.year??"numeric",...t}).format(new Date(e))}catch{return""}}let LX=e=>crypto.getRandomValues(new Uint8Array(e)),$X=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(l=t)=>{let c="";for(;;){let d=n(o),f=o|0;for(;f--;)if(c+=e[d[f]&r]||"",c.length===l)return c}}},FX=(e,t=21)=>$X(e,t,LX);const zE={};function UX(e,t={}){const n=typeof e=="object"?e:t,r=typeof e=="object"?void 0:e,{length:o=12,separator:l="_"}=n,c=FX("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o)();return r&&r in zE?`${zE[r]}${l}${c}`:c}const BX=Cc({id:fr(),desc:h$()});function YD(e){return e?e instanceof Set?e:new Set(e):null}const VX=(e,t)=>{if(!e)return[];const n=YD(t);try{const r=JSON.parse(e),o=Rh(BX).safeParse(r);return o.success?n&&o.data.some(l=>!n.has(l.id))?[]:o.data:[]}catch{return[]}},HX=e=>JSON.stringify(e),qX=Cc({id:fr(),value:__([fr(),Rh(fr())]),variant:Lv(Hr.filterVariants),operator:Lv(Hr.operators),filterId:fr()}),pb=(e,t)=>{if(!e)return[];const n=YD(t);try{const r=JSON.parse(e),o=Rh(qX).safeParse(r);return o.success?n&&o.data.some(l=>!n.has(l.id))?[]:o.data:[]}catch{return[]}},WX=e=>JSON.stringify(e),GX=300,YX=50,KX="f",KD=["backspace","delete"];function ZX({table:e,debounceMs:t=GX,throttleMs:n=YX,shallow:r=!0,history:o="replace",startTransition:l,disabled:c,...d}){const f=m.useId(),p=m.useId(),g=m.useId(),[x,b]=m.useState(!1),w=m.useRef(null),[S,C]=Ed(),j=o!=="push",E=m.useCallback(P=>{const q=()=>C(K=>P(new URLSearchParams(K)),{replace:j});l?l(()=>q()):q()},[j,C,l]),N=m.useMemo(()=>e.getAllColumns().filter(P=>P.columnDef.enableColumnFilter),[e]),_=e.options.meta?.queryKeys?.filters??"filters",R=e.options.meta?.queryKeys?.joinOperator??"joinOperator",M=m.useMemo(()=>N.map(P=>P.id),[N]),D=m.useMemo(()=>pb(S.get(_),M),[S,_,M]),O=m.useMemo(()=>S.get(R)==="or"?"or":"and",[S,R]),A=m.useCallback(P=>{E(q=>{const K=pb(q.get(_),M),te=typeof P=="function"?P(K):P;return te.length===0?q.delete(_):q.set(_,WX(te)),q})},[E,_,M]),L=m.useCallback(P=>{E(q=>(P==="and"?q.delete(R):q.set(R,P),q))},[E,R]),T=aw(A,t),W=m.useCallback(()=>{const P=N[0];P&&T([...D,{id:P.id,value:"",variant:P.columnDef.meta?.variant??"text",operator:KM(P.columnDef.meta?.variant??"text"),filterId:UX({length:8})}])},[N,D,T]),I=m.useCallback((P,q)=>{T(K=>K.map(ve=>ve.filterId===P?{...ve,...q}:ve))},[T]),F=m.useCallback(P=>{const q=D.filter(K=>K.filterId!==P);A(q),requestAnimationFrame(()=>{w.current?.focus()})},[D,A]),U=m.useCallback(()=>{E(P=>(P.delete(_),P.delete(R),P))},[E,_,R]);m.useEffect(()=>{function P(q){q.target instanceof HTMLInputElement||q.target instanceof HTMLTextAreaElement||q.target instanceof HTMLElement&&q.target.contentEditable==="true"||q.key.toLowerCase()===KX&&(q.ctrlKey||q.metaKey)&&q.shiftKey&&(q.preventDefault(),b(K=>!K))}return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]);const ae=m.useCallback(P=>{KD.includes(P.key.toLowerCase())&&D.length>0&&(P.preventDefault(),F(D[D.length-1]?.filterId??""))},[D,F]);return i.jsxs(FD,{value:D,onValueChange:A,getItemValue:P=>P.filterId,children:[i.jsxs(el,{open:x,onOpenChange:b,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{variant:"outline",size:"sm",className:"font-normal",onKeyDown:ae,disabled:c,children:[i.jsx(Vq,{className:"text-muted-foreground"}),"Filter",D.length>0&&i.jsx(Xa,{variant:"secondary",className:"h-[18.24px] rounded-[3.2px] px-[5.12px] font-mono font-normal text-[10.4px]",children:D.length})]})}),i.jsxs(nl,{"aria-describedby":g,"aria-labelledby":p,className:"flex w-full max-w-(--radix-popover-content-available-width) flex-col gap-3.5 p-4 sm:min-w-[380px]",...d,children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("h4",{id:p,className:"font-medium leading-none",children:D.length>0?"Filters":"No filters applied"}),i.jsx("p",{id:g,className:ze("text-muted-foreground text-sm",D.length>0&&"sr-only"),children:D.length>0?"Modify filters to refine your rows.":"Add filters to refine your rows."})]}),D.length>0?i.jsx(BD,{asChild:!0,children:i.jsx("div",{role:"list",className:"flex max-h-[300px] flex-col gap-2 overflow-y-auto p-1",children:D.map((P,q)=>i.jsx(QX,{filter:P,index:q,filterItemId:`${f}-filter-${P.filterId}`,joinOperator:O,setJoinOperator:L,columns:N,onFilterUpdate:I,onFilterRemove:F},P.filterId))})}):null,i.jsxs("div",{className:"flex w-full items-center gap-2",children:[i.jsx(ke,{size:"sm",className:"rounded",ref:w,onClick:W,children:"Add filter"}),D.length>0?i.jsx(ke,{variant:"outline",size:"sm",className:"rounded",onClick:U,children:"Reset filters"}):null]})]})]}),i.jsx(GD,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 min-w-[72px] rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-32 rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-32 rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 min-w-36 flex-1 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"})]})})]})}function QX({filter:e,index:t,filterItemId:n,joinOperator:r,setJoinOperator:o,columns:l,onFilterUpdate:c,onFilterRemove:d}){const[f,p]=m.useState(!1),[g,x]=m.useState(!1),[b,w]=m.useState(!1),S=l.find(D=>D.id===e.id),C=`${n}-join-operator-listbox`,j=`${n}-field-listbox`,E=`${n}-operator-listbox`,N=`${n}-input`,_=S?.columnDef.meta,R=YM(e.variant),M=m.useCallback(D=>{D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement||f||g||b||KD.includes(D.key.toLowerCase())&&(D.preventDefault(),d(e.filterId))},[e.filterId,f,g,b,d]);return S?i.jsx(HD,{value:e.filterId,asChild:!0,children:i.jsxs("div",{role:"listitem",id:n,tabIndex:-1,className:"flex items-center gap-2",onKeyDown:M,children:[i.jsx("div",{className:"min-w-[72px] text-center",children:t===0?i.jsx("span",{className:"text-muted-foreground text-sm",children:"Where"}):t===1?i.jsxs(Wa,{value:r,onValueChange:D=>o(D),children:[i.jsx(Ya,{"aria-label":"Select join operator","aria-controls":C,size:"sm",className:"rounded lowercase",children:i.jsx(Ga,{placeholder:r})}),i.jsx(Ka,{id:C,position:"popper",className:"min-w-(--radix-select-trigger-width) lowercase",children:Hr.joinOperators.map(D=>i.jsx(Ko,{value:D,children:D},D))})]}):i.jsx("span",{className:"text-muted-foreground text-sm",children:r})}),i.jsxs(el,{open:f,onOpenChange:p,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{"aria-controls":j,variant:"outline",size:"sm",className:"w-32 justify-between rounded font-normal",children:[i.jsx("span",{className:"truncate",children:l.find(D=>D.id===e.id)?.columnDef.meta?.label??"Select field"}),i.jsx(Kh,{className:"opacity-50"})]})}),i.jsx(nl,{id:j,align:"start",className:"w-40 p-0",children:i.jsxs(Jh,{children:[i.jsx(ep,{placeholder:"Search fields..."}),i.jsxs(tp,{children:[i.jsx(np,{children:"No fields found."}),i.jsx(rp,{children:l.map(D=>i.jsxs(sp,{value:D.id,onSelect:O=>{c(e.filterId,{id:O,variant:D.columnDef.meta?.variant??"text",operator:KM(D.columnDef.meta?.variant??"text"),value:""}),p(!1)},children:[i.jsx("span",{className:"truncate",children:D.columnDef.meta?.label}),i.jsx(Dd,{className:ze("ml-auto",D.id===e.id?"opacity-100":"opacity-0")})]},D.id))})]})]})})]}),i.jsxs(Wa,{open:g,onOpenChange:x,value:e.operator,onValueChange:D=>c(e.filterId,{operator:D,value:D==="isEmpty"||D==="isNotEmpty"?"":e.value}),children:[i.jsx(Ya,{"aria-controls":E,size:"sm",className:"w-32 rounded lowercase",children:i.jsx("div",{className:"truncate",children:i.jsx(Ga,{placeholder:e.operator})})}),i.jsx(Ka,{id:E,children:R.map(D=>i.jsx(Ko,{value:D.value,className:"lowercase",children:D.label},D.value))})]}),i.jsx("div",{className:"min-w-36 max-w-60 flex-1",children:XX({filter:e,inputId:N,column:S,columnMeta:_,onFilterUpdate:c,showValueSelector:b,setShowValueSelector:w})}),i.jsx(ke,{"aria-controls":n,variant:"outline",size:"icon",className:"size-8 rounded",onClick:()=>d(e.filterId),children:i.jsx(tM,{})}),i.jsx(qD,{asChild:!0,children:i.jsx(ke,{variant:"outline",size:"icon",className:"size-8 rounded",children:i.jsx(eM,{})})})]})}):null}function XX({filter:e,inputId:t,column:n,columnMeta:r,onFilterUpdate:o,showValueSelector:l,setShowValueSelector:c}){if(e.operator==="isEmpty"||e.operator==="isNotEmpty")return i.jsx("div",{id:t,role:"status","aria-label":`${r?.label} filter is ${e.operator==="isEmpty"?"empty":"not empty"}`,"aria-live":"polite",className:"h-8 w-full rounded border bg-transparent dark:bg-input/30"});switch(e.variant){case"text":case"number":case"range":{if(e.variant==="range"&&e.operator==="isBetween"||e.operator==="isBetween")return i.jsx(CK,{filter:e,column:n,inputId:t,onFilterUpdate:o});const d=e.variant==="number"||e.variant==="range";return i.jsx(kt,{id:t,type:d?"number":e.variant,"aria-label":`${r?.label} filter value`,"aria-describedby":`${t}-description`,inputMode:d?"numeric":void 0,placeholder:r?.placeholder??"Enter a value...",className:"h-8 w-full rounded",defaultValue:typeof e.value=="string"?e.value:void 0,onChange:f=>o(e.filterId,{value:f.target.value})})}case"boolean":{if(Array.isArray(e.value))return null;const d=`${t}-listbox`;return i.jsxs(Wa,{open:l,onOpenChange:c,value:e.value,onValueChange:f=>o(e.filterId,{value:f}),children:[i.jsx(Ya,{id:t,"aria-controls":d,"aria-label":`${r?.label} boolean filter`,size:"sm",className:"w-full rounded",children:i.jsx(Ga,{placeholder:e.value?"True":"False"})}),i.jsxs(Ka,{id:d,children:[i.jsx(Ko,{value:"true",children:"True"}),i.jsx(Ko,{value:"false",children:"False"})]})]})}case"select":case"multiSelect":{const d=`${t}-listbox`,f=e.variant==="multiSelect",p=f?Array.isArray(e.value)?e.value:[]:typeof e.value=="string"?e.value:void 0;return i.jsxs(yX,{open:l,onOpenChange:c,value:p,onValueChange:g=>{o(e.filterId,{value:g})},multiple:f,children:[i.jsx(wX,{asChild:!0,children:i.jsx(ke,{id:t,"aria-controls":d,"aria-label":`${r?.label} filter value${f?"s":""}`,variant:"outline",size:"sm",className:"w-full rounded font-normal",children:i.jsx(SX,{options:r?.options,placeholder:r?.placeholder??`Select option${f?"s":""}...`})})}),i.jsxs(CX,{id:d,className:"w-[200px]",children:[i.jsx(jX,{"aria-label":`Search ${r?.label} options`,placeholder:r?.placeholder??"Search options..."}),i.jsxs(EX,{children:[i.jsx(NX,{children:"No options found."}),i.jsx(_X,{children:r?.options?.map(g=>i.jsxs(kX,{value:g.value,children:[g.icon&&i.jsx(g.icon,{}),i.jsx("span",{children:g.label}),g.count&&i.jsx("span",{className:"ml-auto font-mono text-xs",children:g.count})]},g.value))})]})]})]})}case"date":case"dateRange":{const d=`${t}-listbox`,f=Array.isArray(e.value)?e.value.filter(Boolean):[e.value,e.value].filter(Boolean),p=f[0]?new Date(Number(f[0])):void 0,g=f[1]?new Date(Number(f[1])):void 0,x=p&&g&&p.toDateString()===g.toDateString(),b=e.operator==="isBetween"&&f.length===2&&!x?`${vv(p,{month:"short"})} - ${vv(g,{month:"short"})}`:p?vv(p,{month:"short"}):"Pick a date";return i.jsxs(el,{open:l,onOpenChange:c,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{id:t,"aria-controls":d,"aria-label":`${r?.label} date filter`,variant:"outline",size:"sm",className:ze("w-full justify-start rounded text-left font-normal",!e.value&&"text-muted-foreground"),children:[i.jsx(Nq,{}),i.jsx("span",{className:"truncate",children:b})]})}),i.jsx(nl,{id:d,align:"start",className:"w-auto p-0",children:e.operator==="isBetween"?i.jsx(AE,{"aria-label":`Select ${r?.label} date range`,autoFocus:!0,captionLayout:"dropdown",mode:"range",selected:f.length===2?{from:new Date(Number(f[0])),to:new Date(Number(f[1]))}:{from:new Date,to:new Date},onSelect:w=>{o(e.filterId,{value:w?[(w.from?.getTime()??"").toString(),(w.to?.getTime()??"").toString()]:[]})}}):i.jsx(AE,{"aria-label":`Select ${r?.label} date`,autoFocus:!0,captionLayout:"dropdown",mode:"single",selected:f[0]?new Date(Number(f[0])):void 0,onSelect:w=>{o(e.filterId,{value:(w?.getTime()??"").toString()}),c(!1)}})})]})}default:return null}}const JX="s",ZD=["backspace","delete"];function eJ({table:e,disabled:t,...n}){const r=m.useId(),o=m.useId(),l=m.useId(),[c,d]=m.useState(!1),f=m.useRef(null),p=e.getState().sorting,g=e.setSorting,{columnLabels:x,columns:b}=m.useMemo(()=>{const N=new Map,_=new Set(p.map(M=>M.id)),R=[];for(const M of e.getAllColumns()){if(!M.getCanSort())continue;const D=M.columnDef.meta?.label??M.id;N.set(M.id,D),_.has(M.id)||R.push({id:M.id,label:D})}return{columnLabels:N,columns:R}},[p,e]),w=m.useCallback(()=>{const N=b[0];N&&g(_=>[..._,{id:N.id,desc:!1}])},[b,g]),S=m.useCallback((N,_)=>{g(R=>R&&R.map(M=>M.id===N?{...M,..._}:M))},[g]),C=m.useCallback(N=>{g(_=>_.filter(R=>R.id!==N))},[g]),j=m.useCallback(()=>g(e.initialState.sorting),[g,e.initialState.sorting]);m.useEffect(()=>{function N(_){_.target instanceof HTMLInputElement||_.target instanceof HTMLTextAreaElement||_.target instanceof HTMLElement&&_.target.contentEditable==="true"||_.key.toLowerCase()===JX&&(_.ctrlKey||_.metaKey)&&_.shiftKey&&(_.preventDefault(),d(R=>!R))}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]);const E=m.useCallback(N=>{ZD.includes(N.key.toLowerCase())&&p.length>0&&(N.preventDefault(),j())},[p.length,j]);return i.jsxs(FD,{value:p,onValueChange:g,getItemValue:N=>N.id,children:[i.jsxs(el,{open:c,onOpenChange:d,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{variant:"outline",size:"sm",className:"font-normal",onKeyDown:E,disabled:t,children:[i.jsx(jq,{className:"text-muted-foreground"}),"Sort",p.length>0&&i.jsx(Xa,{variant:"secondary",className:"h-[18.24px] rounded-[3.2px] px-[5.12px] font-mono font-normal text-[10.4px]",children:p.length})]})}),i.jsxs(nl,{"aria-labelledby":o,"aria-describedby":l,className:"flex w-full max-w-(--radix-popover-content-available-width) flex-col gap-3.5 p-4 sm:min-w-[380px]",...n,children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("h4",{id:o,className:"font-medium leading-none",children:p.length>0?"Sort by":"No sorting applied"}),i.jsx("p",{id:l,className:ze("text-muted-foreground text-sm",p.length>0&&"sr-only"),children:p.length>0?"Modify sorting to organize your rows.":"Add sorting to organize your rows."})]}),p.length>0&&i.jsx(BD,{asChild:!0,children:i.jsx("div",{role:"list",className:"flex max-h-[300px] flex-col gap-2 overflow-y-auto p-1",children:p.map(N=>i.jsx(tJ,{sort:N,sortItemId:`${r}-sort-${N.id}`,columns:b,columnLabels:x,onSortUpdate:S,onSortRemove:C},N.id))})}),i.jsxs("div",{className:"flex w-full items-center gap-2",children:[i.jsx(ke,{size:"sm",className:"rounded",ref:f,onClick:w,disabled:b.length===0,children:"Add sort"}),p.length>0&&i.jsx(ke,{variant:"outline",size:"sm",className:"rounded",onClick:j,children:"Reset sorting"})]})]})]}),i.jsx(GD,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-[180px] rounded-sm bg-primary/10"}),i.jsx("div",{className:"h-8 w-24 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"}),i.jsx("div",{className:"size-8 shrink-0 rounded-sm bg-primary/10"})]})})]})}function tJ({sort:e,sortItemId:t,columns:n,columnLabels:r,onSortUpdate:o,onSortRemove:l}){const c=`${t}-field-listbox`,d=`${t}-field-trigger`,f=`${t}-direction-listbox`,[p,g]=m.useState(!1),[x,b]=m.useState(!1),w=m.useCallback(S=>{S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement||p||x||ZD.includes(S.key.toLowerCase())&&(S.preventDefault(),l(e.id))},[e.id,p,x,l]);return i.jsx(HD,{value:e.id,asChild:!0,children:i.jsxs("div",{role:"listitem",id:t,tabIndex:-1,className:"flex items-center gap-2",onKeyDown:w,children:[i.jsxs(el,{open:p,onOpenChange:g,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(ke,{id:d,"aria-controls":c,variant:"outline",size:"sm",className:"w-44 justify-between rounded font-normal",children:[i.jsx("span",{className:"truncate",children:r.get(e.id)}),i.jsx(Kh,{className:"opacity-50"})]})}),i.jsx(nl,{id:c,className:"w-(--radix-popover-trigger-width) p-0",children:i.jsxs(Jh,{children:[i.jsx(ep,{placeholder:"Search fields..."}),i.jsxs(tp,{children:[i.jsx(np,{children:"No fields found."}),i.jsx(rp,{children:n.map(S=>i.jsx(sp,{value:S.id,onSelect:C=>o(e.id,{id:C}),children:i.jsx("span",{className:"truncate",children:S.label})},S.id))})]})]})})]}),i.jsxs(Wa,{open:x,onOpenChange:b,value:e.desc?"desc":"asc",onValueChange:S=>o(e.id,{desc:S==="desc"}),children:[i.jsx(Ya,{"aria-controls":f,size:"sm",className:"w-24 rounded",children:i.jsx(Ga,{})}),i.jsx(Ka,{id:f,className:"min-w-(--radix-select-trigger-width)",children:Hr.sortOrders.map(S=>i.jsx(Ko,{value:S.value,children:S.label},S.value))})]}),i.jsx(ke,{"aria-controls":t,variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",onClick:()=>l(e.id),children:i.jsx(tM,{})}),i.jsx(qD,{asChild:!0,children:i.jsx(ke,{variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",children:i.jsx(eM,{})})})]})})}const nJ="page",rJ="perPage",sJ="sort",oJ="filters",aJ="joinOperator",PE=",",iJ=300,lJ=50;function IE(e,t){if(!e)return t;const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n}function cJ(e,t){return e.length===t.length&&e.every((n,r)=>n.id===t[r]?.id&&n.desc===t[r]?.desc)}function uJ(e){const t=e.trim();if(!t.startsWith("["))return!1;try{const n=JSON.parse(t);return Array.isArray(n)&&n.length===0}catch{return!1}}function dJ(e){const{columns:t,pageCount:n=-1,initialState:r,queryKeys:o,history:l="replace",debounceMs:c=iJ,throttleMs:d=lJ,clearOnDefault:f=!1,enableAdvancedFilter:p=!1,scroll:g=!1,shallow:x=!0,startTransition:b,...w}=e,S=o?.page??nJ,C=o?.perPage??rJ,j=o?.sort??sJ,E=o?.filters??oJ,N=o?.joinOperator??aJ,_=l!=="push",[R,M]=Ed(),D=r?.pagination?.pageSize??10,[O,A]=m.useState(r?.rowSelection??{}),[L,T]=m.useState(r?.columnVisibility??{}),W=m.useMemo(()=>IE(R.get(S),1),[R,S]),I=m.useMemo(()=>IE(R.get(C),D),[R,C,D]),F=m.useMemo(()=>({pageIndex:W-1,pageSize:I}),[W,I]),U=m.useCallback((de,Ee={})=>{const Oe=()=>M(Pe=>de(new URLSearchParams(Pe)),{replace:Ee.replace??_});b?b(()=>Oe()):Oe()},[_,M,b]),ae=m.useCallback(de=>{U(Ee=>(f&&de===1?Ee.delete(S):Ee.set(S,String(de)),Ee))},[f,S,U]),P=m.useCallback(de=>{U(Ee=>(f&&de===D?Ee.delete(C):Ee.set(C,String(de)),Ee))},[f,D,C,U]),q=m.useCallback(de=>{if(typeof de=="function"){const Ee=de(F);ae(Ee.pageIndex+1),P(Ee.pageSize)}else ae(de.pageIndex+1),P(de.pageSize)},[F,ae,P]),K=m.useMemo(()=>new Set(t.map(de=>de.id).filter(Boolean)),[t]),te=m.useMemo(()=>{const de=R.get(j);if(!de)return r?.sorting??[];const Ee=VX(de,K);return Ee.length>0||uJ(de)?Ee:r?.sorting??[]},[R,j,K,r?.sorting]),ve=m.useCallback(de=>{const Ee=r?.sorting??[];U(Oe=>(f&&cJ(de,Ee)?Oe.delete(j):Oe.set(j,HX(de)),Oe))},[f,r?.sorting,U,j]),V=m.useCallback(de=>{if(typeof de=="function"){const Ee=de(te);ve(Ee)}else ve(de)},[te,ve]),B=m.useMemo(()=>p?[]:t.filter(de=>de.enableColumnFilter),[t,p]),re=m.useMemo(()=>p?{}:B.reduce((de,Ee)=>{const Oe=Ee.id??"";if(!Oe)return de;const Pe=R.get(Oe);return Pe?(Ee.meta?.options?de[Oe]=Pe.split(PE).filter(Boolean):de[Oe]=Pe,de):(de[Oe]=null,de)},{}),[p,B,R]),Y=m.useCallback(de=>{U(Ee=>{for(const[Oe,Pe]of Object.entries(de))if(Pe===null||Array.isArray(Pe)&&Pe.length===0||typeof Pe=="string"&&Pe.trim()==="")Ee.delete(Oe);else{const ot=Array.isArray(Pe)?Pe.join(PE):Pe;Ee.set(Oe,ot)}return f?Ee.delete(S):Ee.set(S,"1"),Ee})},[f,S,U]),z=aw(de=>{Y(de)},c),G=m.useMemo(()=>p?[]:Object.entries(re).reduce((de,[Ee,Oe])=>{if(Oe!==null){const Pe=Array.isArray(Oe)?Oe:typeof Oe=="string"&&/[^a-zA-Z0-9]/.test(Oe)?Oe.split(/[^a-zA-Z0-9]+/).filter(Boolean):[Oe];de.push({id:Ee,value:Pe})}return de},[]),[re,p]),[H,ee]=m.useState(G),oe=m.useCallback(de=>{p||ee(Ee=>{const Oe=typeof de=="function"?de(Ee):de,Pe=Oe.reduce((ot,xt)=>(B.find(ct=>ct.id===xt.id)&&(ot[xt.id]=xt.value),ot),{});for(const ot of Ee)Oe.some(xt=>xt.id===ot.id)||(Pe[ot.id]=null);return z(Pe),Oe})},[z,B,p]);return{table:GM({...w,columns:t,initialState:r,pageCount:n,state:{pagination:F,sorting:te,columnVisibility:L,rowSelection:O,columnFilters:H},defaultColumn:{...w.defaultColumn,enableColumnFilter:!1},enableRowSelection:!0,onRowSelectionChange:A,onPaginationChange:q,onSortingChange:V,onColumnFiltersChange:oe,onColumnVisibilityChange:T,getCoreRowModel:qM(),getFilteredRowModel:F7(),getPaginationRowModel:U7(),getSortedRowModel:B7(),getFacetedRowModel:L7(),getFacetedUniqueValues:$7(),getFacetedMinMaxValues:z7(),manualPagination:!0,manualSorting:!0,manualFiltering:!0,meta:{...w.meta,queryKeys:{page:S,perPage:C,sort:j,filters:E,joinOperator:N}}}),shallow:x,debounceMs:c,throttleMs:d,history:l,startTransition:b}}function fJ({mapping:e,showPending:t=!1}){if(!e)return null;const n=!!(e.pending&&e.attention===0&&e.unmapped===0);return n&&!t?null:n?i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-0.5 text-[11px] font-semibold text-muted-foreground",children:[i.jsx(GT,{className:"h-3 w-3"}),"Mapping pending"]}):e.attention===0&&e.unmapped===0?null:i.jsxs("span",{className:fe("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] font-semibold","border-warning-200 bg-warning-50 text-warning-700"),children:[i.jsx(WT,{className:"h-3 w-3"}),e.attention>0?`${e.attention} need attention`:`${e.unmapped} unmapped`]})}const Ki="__unassigned__";function mJ({people:e,value:t,onChange:n,placeholder:r,multiple:o=!1,includeUnassigned:l=!1,disabled:c=!1,buttonClassName:d,onOpenChange:f}){const p=m.useRef(null),g=m.useRef(null),x=m.useRef(null),b=m.useId(),[w,S]=m.useState(!1),[C,j]=m.useState(""),E=m.useCallback(()=>{S(!1),j("")},[]),N=m.useCallback(()=>{S(A=>(A&&j(""),!A))},[]);m.useEffect(()=>{w&&x.current?.focus()},[w]),m.useEffect(()=>{f?.(w)},[f,w]),m.useEffect(()=>{if(!w)return;const A=T=>{const W=T.target;W&&(p.current?.contains(W)||E())},L=T=>{T.key==="Escape"&&(T.preventDefault(),E())};return window.addEventListener("mousedown",A),window.addEventListener("keydown",L),()=>{window.removeEventListener("mousedown",A),window.removeEventListener("keydown",L)}},[E,w]);const _=m.useMemo(()=>{const A=e.slice().sort((L,T)=>L.label.localeCompare(T.label));return l?[{key:Ki,label:"Unassigned",kind:"label"},...A]:A},[l,e]),R=m.useMemo(()=>{const A=C.trim().toLowerCase();return A?_.filter(L=>L.label.toLowerCase().includes(A)):_},[_,C]),M=m.useMemo(()=>{const A=new Map(_.map(T=>[T.key,T.label]));return t.map(T=>A.get(T)??(T===Ki?"Unassigned":T)).filter(Boolean)},[_,t]);function D(A){if(c)return;if(!o){n([A]),E();return}const L=new Set(t);L.has(A)?L.delete(A):L.add(A),n(Array.from(L))}const O=M.length===0?r:o?M.length===1?M[0]:`${M[0]} +${M.length-1}`:M[0];return i.jsxs("div",{ref:p,className:fe("relative",w?"z-50":"z-0"),"data-ignore-row-click":"true",children:[i.jsxs("button",{type:"button",disabled:c,onClick:N,ref:g,className:fe("inline-flex min-w-0 items-center justify-between gap-2 rounded-lg border border-border bg-card px-3 py-1.5 text-xs font-semibold text-foreground shadow-sm transition",c?"opacity-60":"hover:bg-background",d),"aria-expanded":w,"aria-controls":w?b:void 0,"aria-haspopup":"listbox",children:[i.jsx("span",{className:fe("min-w-0 truncate",M.length===0?"text-muted-foreground":"text-foreground"),children:O}),i.jsx(Zi,{className:fe("h-3.5 w-3.5 text-muted-foreground transition",w&&"rotate-180")})]}),w?i.jsxs("div",{className:"absolute left-0 z-50 mt-2 w-72 rounded-2xl border border-border bg-card shadow-lg",role:"listbox",id:b,"aria-multiselectable":o||void 0,children:[i.jsx("div",{className:"border-b border-border p-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(gh,{className:"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground"}),i.jsx(kt,{ref:x,value:C,onChange:A=>j(A.target.value),placeholder:"Search people...",className:"h-9 pl-9 text-sm"})]})}),i.jsx("div",{className:"max-h-72 overflow-auto p-2",children:R.length===0?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:"No matches."}):R.map(A=>{const L=t.includes(A.key);return i.jsxs("button",{type:"button",onClick:()=>D(A.key),role:"option","aria-selected":L,className:fe("flex w-full items-center justify-between gap-3 rounded-xl px-3 py-2 text-left text-sm transition",L?"bg-brand-50 text-foreground dark:bg-brand-500/20 dark:text-brand-200":"hover:bg-background dark:hover:bg-muted/40"),children:[i.jsx("span",{className:"min-w-0 truncate font-semibold text-foreground",children:A.label}),L?i.jsx(Va,{className:"h-4 w-4 text-brand-600"}):null]},A.key)})}),o&&t.length>0?i.jsxs("div",{className:"flex items-center justify-between border-t border-border px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>n([]),className:"text-xs font-semibold text-muted-foreground hover:text-foreground",children:"Clear"}),i.jsx("button",{type:"button",onClick:E,className:"text-xs font-semibold text-brand-600",children:"Done"})]}):null]}):null]})}function hJ(e){return e.length===0||e[0]===Ki?null:e[0]}function pJ(){return Ki}function gJ({workspaceId:e,selected:t,onToggle:n,placeholder:r,disabled:o,buttonClassName:l,onOpenChange:c}){const[d,f]=m.useState(!1),[p,g]=m.useState(""),x=m.useRef(null),b=m.useRef(null),w=m.useRef(null),S=m.useId(),C=m.useCallback(()=>{f(!1),g("")},[]),j=m.useCallback(()=>{f(D=>(D&&g(""),!D))},[]),E=p.trim(),N=E.length>=2,_=kn({queryKey:["documents",e,"tags",{q:N?E:""}],queryFn:({signal:D})=>Hk(e,{page:1,perPage:20,sort:"-count",q:N?E:void 0},D),enabled:d&&e.length>0,staleTime:3e4}),R=m.useMemo(()=>_.data?.items??[],[_.data?.items]),M=m.useMemo(()=>{const D=E;return!D||R.some(A=>A.tag.toLowerCase()===D.toLowerCase())?null:D},[E,R]);return m.useEffect(()=>{d&&w.current?.focus()},[d]),m.useEffect(()=>{c?.(d)},[c,d]),m.useEffect(()=>{if(!d)return;const D=A=>{const L=A.target;L&&(x.current?.contains(L)||C())},O=A=>{A.key==="Escape"&&(A.preventDefault(),C())};return window.addEventListener("mousedown",D),window.addEventListener("keydown",O),()=>{window.removeEventListener("mousedown",D),window.removeEventListener("keydown",O)}},[C,d]),i.jsxs("div",{ref:x,className:fe("relative",d?"z-50":"z-0"),"data-ignore-row-click":"true",children:[i.jsxs("button",{type:"button",onClick:j,disabled:o,ref:b,className:fe("inline-flex min-w-0 items-center gap-2 rounded-lg border px-3 py-1.5 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-60",o?"border-border bg-background text-muted-foreground":"border-border bg-card text-foreground hover:bg-background dark:hover:bg-muted/40",l),"aria-expanded":d,"aria-haspopup":"listbox","aria-controls":d?S:void 0,children:[i.jsx(Rz,{className:"h-3.5 w-3.5 text-muted-foreground","aria-hidden":!0}),t.length===0?i.jsx("span",{className:"min-w-0 truncate text-muted-foreground",children:r}):i.jsxs("span",{className:"min-w-0 truncate",children:[t.slice(0,2).join(", "),t.length>2?` +${t.length-2}`:""]}),i.jsx(Zi,{className:fe("h-3.5 w-3.5 text-muted-foreground transition",d&&"rotate-180")})]}),d?i.jsxs("div",{className:"absolute left-0 top-[calc(100%+0.5rem)] z-50 w-[20rem] rounded-2xl border border-border bg-card p-3 shadow-lg","data-ignore-row-click":"true",role:"listbox",id:S,"aria-multiselectable":!0,children:[i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(gh,{className:"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground"}),i.jsx(kt,{ref:w,value:p,onChange:D=>g(D.target.value),placeholder:"Search or create tag",className:"h-9 pl-9"})]}),i.jsx("div",{className:"mt-1 text-[11px] text-muted-foreground",children:"Type 2+ characters to search existing tags."})]}),t.length?i.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:t.map(D=>i.jsxs("button",{type:"button",onClick:()=>n(D),className:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-0.5 text-[11px] font-semibold text-foreground hover:text-danger-700",title:"Remove tag",children:[D,i.jsx(uo,{className:"h-3 w-3"})]},D))}):null,i.jsxs("div",{className:"max-h-56 overflow-y-auto rounded-xl border border-border",children:[M?i.jsxs("button",{type:"button",onClick:()=>n(M),role:"option","aria-selected":!1,className:"flex w-full items-center justify-between px-3 py-2 text-left text-xs font-semibold text-foreground hover:bg-background dark:hover:bg-muted/40",children:[i.jsxs("span",{children:["Create ",M,""]}),i.jsx("span",{className:"text-[11px] text-muted-foreground",children:"new"})]}):null,_.isLoading?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:"Loading tags"}):R.length===0?i.jsx("div",{className:"px-3 py-3 text-xs text-muted-foreground",children:N?"No matches.":"No tags yet."}):R.map(D=>{const O=t.includes(D.tag);return i.jsxs("button",{type:"button",onClick:()=>n(D.tag),role:"option","aria-selected":O,className:fe("flex w-full items-center justify-between px-3 py-2 text-left text-xs font-semibold transition",O?"bg-brand-50 text-foreground dark:bg-brand-500/20 dark:text-brand-200":"text-foreground hover:bg-background dark:hover:bg-muted/40"),children:[i.jsx("span",{className:"truncate",children:D.tag}),i.jsxs("span",{className:"ml-3 flex items-center gap-2 text-[11px] text-muted-foreground",children:[D.document_count,O?i.jsx(Va,{className:"h-3.5 w-3.5 text-brand-600"}):null]})]},D.tag)})]}),i.jsx("div",{className:"mt-2 text-[11px] text-muted-foreground",children:"Click a tag to toggle it."})]}):null]})}const xJ=200;async function vJ(e,t,n){const r=new URLSearchParams({maxRows:String(xJ),trimEmptyColumns:"true",trimEmptyRows:"true"}),o=await bh(`/api/v1/workspaces/${e}/documents/${t}/preview?${r.toString()}`,{signal:n});if(!o.ok){const l=await bc(o),c=l?.title??`Preview request failed (${o.status})`;throw new Ft(c,o.status,l)}return await o.json()}function bJ({document:e}){const t=kn({queryKey:["document-preview",e.workspaceId,e.id],queryFn:({signal:p})=>vJ(e.workspaceId,e.id,p),staleTime:3e4,enabled:!!(e.workspaceId&&e.id)}),n=t.data?.sheets?.[0]??null,r=m.useMemo(()=>{if(!n)return 0;const p=n.rows.reduce((g,x)=>Math.max(g,x.length),0);return Math.max(n.headers.length,p)},[n]),o=m.useMemo(()=>Array.from({length:r},(p,g)=>`col_${g}`),[r]),l=m.useMemo(()=>n?o.map((p,g)=>{const b=(n.headers[g]??"").trim()||dW(g);return{id:p,accessorKey:p,header:b,cell:({getValue:w})=>{const S=w()??"";return i.jsx("div",{className:"w-full truncate",title:S,children:S})}}}):[],[o,n]),c=m.useMemo(()=>n?n.rows.map(p=>{const g={};for(let x=0;x<r;x+=1)g[o[x]]=p[x]??"";return g}):[],[r,o,n]),d=GM({data:c,columns:l,getCoreRowModel:qM(),defaultColumn:{size:140,minSize:100,maxSize:240}});if(t.isLoading)return i.jsx(Em,{title:e.name,children:i.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading preview..."})});if(t.isError){const p=t.error,g=p instanceof Ft?p.message:"Unable to load preview.";return i.jsx(Em,{title:e.name,children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:g}),i.jsx(ke,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>t.refetch(),children:"Try again"})]})})}if(!n)return i.jsx(Em,{title:e.name,children:i.jsx("div",{className:"text-xs text-muted-foreground",children:"No preview data available."})});const f=yJ(n,t.data?.sheets?.length??0);return i.jsx(Em,{title:e.name,meta:f,children:i.jsx(ZM,{table:d,showPagination:!1,className:"min-w-0 max-w-full gap-1.5 overflow-visible [&>div]:border-0 [&>div]:overflow-visible [&>div]:rounded-none [&_[data-slot=table-container]]:max-w-full [&_[data-slot=table-container]]:max-h-[min(360px,45vh)] [&_[data-slot=table-container]]:overflow-x-auto [&_[data-slot=table-container]]:overflow-y-auto [&_[data-slot=table]]:min-w-full [&_[data-slot=table]]:w-max [&_[data-slot=table]]:text-xs [&_[data-slot=table-head]]:!sticky [&_[data-slot=table-head]]:top-0 [&_[data-slot=table-head]]:!z-10 [&_[data-slot=table-head]]:h-8 [&_[data-slot=table-head]]:bg-muted/30 [&_[data-slot=table-head]]:text-[11px] [&_[data-slot=table-head]]:font-semibold [&_[data-slot=table-head]]:text-muted-foreground [&_[data-slot=table-head]]:truncate [&_[data-slot=table-head]]:backdrop-blur-sm [&_[data-slot=table-head]]:shadow-[inset_0_-1px_0_0_rgb(var(--sys-color-border))] [&_[data-slot=table-cell]]:px-2 [&_[data-slot=table-cell]]:py-1.5 [&_[data-slot=table-cell]]:text-xs [&_[data-slot=table-cell]]:truncate"})})}function Em({title:e,meta:t,children:n}){return i.jsxs("div",{className:"flex w-full min-w-0 max-w-full flex-col overflow-hidden rounded-lg border border-border bg-card shadow-sm [contain:inline-size]",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 border-b border-border bg-muted/40 px-3 py-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-muted-foreground",children:"Preview"}),i.jsx("div",{className:"truncate text-sm font-medium text-foreground",children:e})]}),t?i.jsx("div",{className:"text-xs text-muted-foreground",children:t}):null]}),i.jsx("div",{className:"min-w-0 p-2",children:n})]})}function yJ(e,t){const n=[e.name,`${e.totalRows.toLocaleString()} rows`,`${e.totalColumns.toLocaleString()} columns`];if(e.truncatedRows||e.truncatedColumns){const r=[];e.truncatedRows&&r.push("rows truncated"),e.truncatedColumns&&r.push("columns truncated"),n.push(r.join(", "))}return t>1&&n.push(`1 of ${t} sheets`),n.filter(Boolean).join(" | ")}const QD=50;function wJ(e,t){if(!e)return t;const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n}function Tm(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}const SJ={inArray:"in",notInArray:"notIn",isBetween:"between"},CJ=/^(-?\d+)\s*(days|weeks|months)$/i;function zm(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function Pm(e){const t=new Date(e);return t.setHours(23,59,59,999),t}function Pu(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Ii(e){return new Date(e).toISOString()}function LE(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const n=zm(t),r=Pm(t);return[Ii(n.getTime()),Ii(r.getTime())]}function XD(e){if(Array.isArray(e))return XD(e[0]);if(typeof e=="number")return LE(e);if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=t.match(CJ);if(n){const o=Number.parseInt(n[1]??"",10),l=n[2];if(Number.isNaN(o)||!l)return null;const c=new Date;let d,f;switch(l){case"days":d=zm(Pu(c,o)),f=Pm(d);break;case"weeks":d=zm(Pu(c,o*7)),f=Pm(Pu(d,6));break;case"months":d=zm(Pu(c,o*30)),f=Pm(Pu(d,29));break;default:return null}return[Ii(d.getTime()),Ii(f.getTime())]}const r=Number(t);return Number.isNaN(r)?null:LE(r)}function $E(e){if(e==null)return null;if(typeof e=="number")return Ii(e);if(typeof e=="string"){const t=e.trim();if(!t)return null;const n=Number(t);if(!Number.isNaN(n))return Ii(n);const r=Date.parse(t);if(!Number.isNaN(r))return Ii(r)}return null}function FE(e){if(e==null)return null;if(typeof e=="number")return e;if(typeof e=="string"){const t=e.trim();if(!t)return null;const n=Number(t);return Number.isNaN(n)?e:n}return e}function UE(e){if(e==null)return null;if(typeof e=="boolean")return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return null;if(t==="true")return!0;if(t==="false")return!1}return e}function jJ(e){if(e.variant==="date"||e.variant==="dateRange")return Array.isArray(e.value)?e.value.map(t=>$E(t)).filter(Boolean):$E(e.value);if(e.variant==="number"||e.variant==="range")return Array.isArray(e.value)?e.value.map(t=>FE(t)).filter(t=>t!==null):FE(e.value);if(e.variant==="boolean")return Array.isArray(e.value)?e.value.map(t=>UE(t)).filter(t=>t!==null):UE(e.value);if(e.id==="assigneeId"){const t=Array.isArray(e.value)?e.value:[e.value],n=t.includes(Ki),r=t.filter(o=>o!=null&&o!==Ki);return n?[...r,null]:r}if(e.id==="hasOutput"){if(Array.isArray(e.value))return e.value.map(t=>String(t).toLowerCase()==="true");if(typeof e.value=="string")return e.value.toLowerCase()==="true"}return e.value}function EJ(e){if(!e)return null;const t=e.trim();if(!t)return null;if(t.startsWith("[")||t.startsWith("{"))try{const n=JSON.parse(t);if(Array.isArray(n)){const r=n.map(o=>o).filter(o=>o&&typeof o.id=="string");if(r.length>0)return r.map(o=>`${o.desc?"-":""}${o.id}`).join(",")}}catch{return t}return t}function NJ(e){if(!e)return[];const t=pb(e);return t.length===0?[]:G7(t).map(r=>{if(r.operator==="isRelativeToToday"){const d=XD(r.value);return d?{id:r.id,operator:"between",value:d}:null}const o=SJ[r.operator]??r.operator,l=jJ(r),c={id:r.id,operator:o};return o!=="isEmpty"&&o!=="isNotEmpty"&&(c.value=l),{...c}}).filter(r=>!!r)}const BE=new Set(["xlsx","csv"]);function _J({data:e,pageCount:t,workspaceId:n,people:r,tagOptions:o,onAssign:l,onToggleTag:c,onArchive:d,onRestore:f,onDeleteRequest:p,isRowActionPending:g,archivedFlashIds:x,toolbarActions:b,scrollContainerRef:w,scrollFooter:S}){const[C,j]=m.useState(null),[E,N]=Ed(),[_,R]=m.useState(()=>E.get("q")??"");m.useEffect(()=>{R(E.get("q")??"")},[E]);const M=m.useMemo(()=>["uploaded","processing","processed","failed","archived"].map(z=>({value:z,label:z[0]?.toUpperCase()+z.slice(1)})),[]),D=m.useMemo(()=>["xlsx","xls","csv","pdf"].map(z=>({value:z,label:sb(z)})),[]),O=m.useMemo(()=>r.map(z=>({label:z.label,value:z.userId??z.key.replace(/^user:/,"")})).filter(z=>!!z.value),[r]),A=m.useMemo(()=>[{label:"Unassigned",value:Ki},...O],[O]),L=m.useMemo(()=>o.map(z=>({label:z,value:z})),[o]),T=m.useMemo(()=>["queued","running","succeeded","failed","cancelled"].map(z=>({value:z,label:z[0]?.toUpperCase()+z.slice(1)})),[]),W=m.useMemo(()=>[{value:"manual_upload",label:"Manual upload"}],[]),I=m.useCallback(z=>{j(G=>G===z?null:z)},[]),F=m.useMemo(()=>[{id:"id",accessorKey:"id",header:({column:z})=>i.jsx(Qn,{column:z,label:"ID"}),cell:({row:z})=>i.jsx("span",{className:"font-mono text-xs text-muted-foreground",title:z.getValue("id"),children:rb(z.getValue("id"))}),meta:{label:"ID"},enableHiding:!0},{id:"workspaceId",accessorKey:"workspaceId",header:({column:z})=>i.jsx(Qn,{column:z,label:"Workspace"}),cell:({row:z})=>i.jsx("span",{className:"font-mono text-xs text-muted-foreground",title:z.getValue("workspaceId"),children:rb(z.getValue("workspaceId"))}),meta:{label:"Workspace"},enableSorting:!1,enableHiding:!0},{id:"name",accessorKey:"name",header:({column:z})=>i.jsx(Qn,{column:z,label:"Document"}),cell:({row:z})=>i.jsx("div",{className:"min-w-0 max-w-full truncate font-medium",title:z.getValue("name"),children:z.getValue("name")}),meta:{label:"Document",placeholder:"Search documents...",variant:"text"},enableColumnFilter:!1,enableHiding:!1},{id:"status",accessorKey:"status",header:({column:z})=>i.jsx(Qn,{column:z,label:"Status"}),cell:({row:z})=>{const G=z.getValue("status"),H=G==="archived"&&(x?.has(z.original.id)??!1);return i.jsx(Xa,{variant:"outline",className:ze("capitalize",G==="archived"&&"border-warning-200 text-warning-900 dark:border-warning-500/60 dark:text-warning-100",H&&"bg-warning-50 ring-1 ring-warning-300/70 animate-pulse dark:bg-warning-500/15"),children:G})},meta:{label:"Status",variant:"multiSelect",options:M},enableColumnFilter:!0,enableHiding:!1},{id:"fileType",accessorKey:"fileType",header:({column:z})=>i.jsx(Qn,{column:z,label:"Type"}),cell:({row:z})=>sb(z.getValue("fileType")),meta:{label:"Type",variant:"multiSelect",options:D},enableColumnFilter:!0,enableSorting:!1},{id:"uploaderId",accessorFn:z=>z.uploader?.id??null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Uploader"}),cell:({row:z})=>MJ(z.original.uploader),meta:{label:"Uploader",variant:"multiSelect",options:O},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"assigneeId",accessorFn:z=>z.assignee?.id??null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Assignee"}),cell:({row:z})=>i.jsx(mJ,{people:r,value:[z.original.assignee?.id?`user:${z.original.assignee.id}`:pJ()],onChange:G=>l(z.original.id,hJ(G)),placeholder:"Assignee...",includeUnassigned:!0,buttonClassName:"min-w-[140px] bg-background px-2 py-1 text-[11px] shadow-none"}),meta:{label:"Assignee",variant:"multiSelect",options:A},enableColumnFilter:!0,enableSorting:!1,enableHiding:!1},{id:"tags",accessorKey:"tags",header:({column:z})=>i.jsx(Qn,{column:z,label:"Tags"}),cell:({row:z})=>i.jsx(gJ,{workspaceId:n,selected:z.original.tags??[],onToggle:G=>c(z.original.id,G),placeholder:"Add tags",buttonClassName:"min-w-0 max-w-[12rem] bg-background px-2 py-1 text-[11px] shadow-none"}),meta:{label:"Tags",variant:"multiSelect",options:L},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"byteSize",accessorKey:"byteSize",header:({column:z})=>i.jsx(Qn,{column:z,label:"Size"}),cell:({row:z})=>dc(z.getValue("byteSize")),meta:{label:"Size",variant:"number",unit:"bytes"},enableColumnFilter:!0,enableHiding:!0},{id:"latestResult",accessorKey:"latestResult",header:({column:z})=>i.jsx(Qn,{column:z,label:"Result"}),cell:({row:z})=>kJ(z.original.latestResult),meta:{label:"Result"},enableSorting:!1,enableHiding:!0},{id:"runStatus",accessorFn:z=>z.latestRun?.status??null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Run Status"}),cell:({row:z})=>i.jsx("span",{className:"capitalize",children:z.original.latestRun?.status??"-"}),meta:{label:"Run Status",variant:"multiSelect",options:T},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"hasOutput",accessorFn:z=>z.latestSuccessfulRun?"true":"false",header:({column:z})=>i.jsx(Qn,{column:z,label:"Has Output"}),cell:({row:z})=>z.original.latestSuccessfulRun?"Yes":"No",meta:{label:"Has Output",variant:"boolean"},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"source",accessorFn:()=>null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Source"}),cell:()=>i.jsx("span",{className:"text-muted-foreground",children:"-"}),meta:{label:"Source",variant:"multiSelect",options:W},enableColumnFilter:!0,enableSorting:!1,enableHiding:!0},{id:"createdAt",accessorKey:"createdAt",header:({column:z})=>i.jsx(Qn,{column:z,label:"Created"}),cell:({row:z})=>Tm(z.getValue("createdAt")),meta:{label:"Created",variant:"date"},enableColumnFilter:!0,enableHiding:!1},{id:"updatedAt",accessorKey:"updatedAt",header:({column:z})=>i.jsx(Qn,{column:z,label:"Updated"}),cell:({row:z})=>Tm(z.getValue("updatedAt")),meta:{label:"Updated",variant:"date"},enableColumnFilter:!0,enableHiding:!0},{id:"activityAt",accessorKey:"activityAt",header:({column:z})=>i.jsx(Qn,{column:z,label:"Activity"}),cell:({row:z})=>Tm(z.getValue("activityAt")),meta:{label:"Activity",variant:"date"},enableColumnFilter:!0,enableHiding:!0},{id:"latestRunAt",accessorFn:z=>z.latestRun?.completedAt??z.latestRun?.startedAt??null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Latest Run"}),cell:({row:z})=>VE(z.original.latestRun),meta:{label:"Latest Run"},enableHiding:!0},{id:"latestSuccessfulRun",accessorFn:z=>z.latestSuccessfulRun?.completedAt??z.latestSuccessfulRun?.startedAt??null,header:({column:z})=>i.jsx(Qn,{column:z,label:"Latest Success"}),cell:({row:z})=>VE(z.original.latestSuccessfulRun),meta:{label:"Latest Success"},enableSorting:!1,enableHiding:!0},{id:"actions",cell:({row:z})=>{const G=z.original.status==="archived",H=BE.has(z.original.fileType),ee=z.id===C,oe=g?.(z.original.id)??!1;return i.jsx("div",{className:"flex justify-end","data-ignore-row-click":!0,children:i.jsxs(tD,{children:[i.jsx(nD,{asChild:!0,children:i.jsx(ke,{"aria-label":"Open menu",variant:"ghost",className:"flex size-8 p-0 data-[state=open]:bg-muted",children:i.jsx(Lq,{className:"size-4","aria-hidden":"true"})})}),i.jsxs(rD,{align:"end",className:"w-44",children:[i.jsx(Uu,{onSelect:()=>I(z.id),disabled:!H,children:ee?"Hide preview":"Show preview"}),G?i.jsx(Uu,{onSelect:()=>f(z.original.id),disabled:oe,children:"Restore"}):i.jsx(Uu,{onSelect:()=>d(z.original.id),disabled:oe,children:"Archive"}),i.jsx(SK,{}),i.jsx(Uu,{variant:"destructive",onSelect:()=>p(z.original),disabled:oe,children:"Delete"})]})]})})},size:40,enableSorting:!1,enableHiding:!1}],[x,A,D,C,g,O,l,d,p,f,c,r,T,W,M,L,I,n]),{table:U,debounceMs:ae,throttleMs:P,shallow:q,history:K,startTransition:te}=dJ({data:e,columns:F,pageCount:t,initialState:{sorting:[{id:"createdAt",desc:!0}],pagination:{pageSize:QD},columnVisibility:{runStatus:!1,hasOutput:!1,source:!1},columnPinning:{right:["actions"]}},getRowId:z=>z.id,enableAdvancedFilter:!0,clearOnDefault:!0}),ve=K!=="push",V=m.useCallback(z=>{const G=()=>N(H=>{const ee=new URLSearchParams(H),oe=z.trim();return oe?ee.set("q",oe):ee.delete("q"),ee.delete("page"),ee},{replace:ve});te?te(()=>G()):G()},[ve,N,te]),B=aw(V,ae);m.useEffect(()=>{const z=w?.current;if(!z)return;const G=()=>{z.style.setProperty("--documents-preview-width",`${z.clientWidth}px`)};if(G(),typeof ResizeObserver>"u")return;const H=new ResizeObserver(()=>G());return H.observe(z),()=>H.disconnect()},[w]);const re=m.useCallback(z=>z.id===C,[C]),Y=m.useCallback((z,G)=>{G.target?.closest("button, a, input, select, textarea, [role='button'], [role='menuitem'], [data-ignore-row-click='true'], [data-ignore-row-click]")||I(z.id)},[I]);return i.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3",children:[i.jsxs($G,{table:U,children:[i.jsx(kt,{value:_,onChange:z=>{const G=z.target.value;R(G),B(G)},placeholder:"Search documents...",className:"h-8 w-full max-w-[240px]"}),i.jsx(eJ,{table:U,align:"start"}),i.jsx(ZX,{table:U,align:"start",debounceMs:ae,throttleMs:P,shallow:q,history:K,startTransition:te}),b?i.jsx("div",{className:"ml-auto flex flex-wrap items-center gap-2",children:b}):null]}),i.jsxs("div",{ref:w,className:"flex min-h-0 min-w-0 flex-1 flex-col items-start gap-3 overflow-auto rounded-md border border-border bg-background",children:[i.jsx(ZM,{table:U,showPagination:!1,className:"inline-flex min-w-full w-max overflow-visible [&>div]:border-0 [&>div]:overflow-visible [&>div]:rounded-none [&_[data-slot=table]]:min-w-full [&_[data-slot=table]]:w-max [&_[data-slot=table]]:table-fixed [&_[data-slot=table-container]]:max-w-full [&_[data-slot=table-container]]:overflow-visible [&_[data-slot=table-head]]:!sticky [&_[data-slot=table-head]]:top-0 [&_[data-slot=table-head]]:!z-20 [&_[data-slot=table-head]]:bg-background/95 [&_[data-slot=table-head]]:backdrop-blur-sm [&_[data-slot=table-head]]:shadow-[inset_0_-1px_0_0_rgb(var(--sys-color-border))]",onRowClick:Y,isRowExpanded:re,expandedRowCellClassName:"bg-muted/20 p-0 align-top whitespace-normal overflow-visible",renderExpandedRow:z=>i.jsx("div",{className:"min-w-0 max-w-full",children:i.jsx("div",{className:"sticky left-0 min-w-0 max-w-full",style:{width:"var(--documents-preview-width, 100%)",maxWidth:"var(--documents-preview-width, 100%)"},children:BE.has(z.original.fileType)?i.jsx(bJ,{document:z.original}):i.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"Preview not available for this file type."})})})}),S]})]})}function kJ(e){return e?!(!!e.pending&&e.attention===0&&e.unmapped===0)&&e.attention===0&&e.unmapped===0?i.jsx("span",{className:"text-muted-foreground",children:"OK"}):i.jsx(fJ,{mapping:e,showPending:!0}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}function RJ(e){if(!e)return"-";const t=e.replace(/_/g," ");return t[0]?.toUpperCase()+t.slice(1)}function VE(e){if(!e)return i.jsx("span",{className:"text-muted-foreground",children:"-"});const t=e.completedAt??e.startedAt,n=RJ(String(e.status));return i.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",title:e.errorSummary??void 0,children:[i.jsx("span",{className:"truncate capitalize",children:n}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t?Tm(t):"-"})]})}function MJ(e){if(!e)return i.jsx("span",{className:"text-muted-foreground",children:"-"});const t=e.name??e.email??"Unknown",n=e.name?e.email:null;return i.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[i.jsx("span",{className:"truncate",children:t}),n?i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:n}):null]})}function HE({title:e,description:t,action:n,className:r}){return i.jsxs("div",{className:ze("flex h-full flex-col items-center justify-center gap-3 rounded-md border border-border bg-card px-8 py-12 text-center text-sm",r),children:[i.jsx("p",{className:"font-semibold text-foreground",children:e}),i.jsx("p",{className:"text-muted-foreground",children:t}),n?i.jsx(ke,{size:"sm",variant:"outline",onClick:n.onClick,children:n.label}):null]})}function bv({title:e,description:t,actions:n,className:r}){return i.jsxs("div",{className:ze("flex flex-wrap items-center justify-between gap-3 rounded-md border border-border bg-muted/30 px-4 py-3 text-sm",r),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:e}),i.jsx("p",{className:"text-muted-foreground",children:t})]}),n?i.jsx("div",{className:"flex items-center gap-2",children:n}):null]})}function DJ(){const[e,t]=Ed();m.useEffect(()=>{e.has("page")&&t(d=>{const f=new URLSearchParams(d);return f.delete("page"),f},{replace:!0})},[e,t]);const n=m.useMemo(()=>wJ(e.get("perPage"),QD),[e]),r=m.useMemo(()=>e.get("sort"),[e]),o=m.useMemo(()=>e.get("filters"),[e]),l=m.useMemo(()=>{const d=e.get("joinOperator");return d==="and"||d==="or"?d:null},[e]),c=m.useMemo(()=>{const d=e.get("q")?.trim();return d||null},[e]);return{perPage:n,sort:r,filters:o,joinOperator:l,q:c}}function AJ(e,t){return new Promise(n=>{let r;const o=()=>{window.clearTimeout(r),t.removeEventListener("abort",o),n()};r=window.setTimeout(()=>{t.removeEventListener("abort",o),n()},e),t.addEventListener("abort",o)})}function OJ({workspaceId:e,currentUser:t,configMissing:n=!1,processingPaused:r=!1,toolbarActions:o}){const l=It(),{notifyToast:c}=hd(),[d,f]=m.useState(!1),p=m.useRef(null),g=m.useRef(null),x=m.useRef(null),[b,w]=m.useState(null),[S,C]=m.useState({}),[j,E]=m.useState(()=>new Set),N=m.useRef(new Map),_=m.useRef(new Map),{perPage:R,sort:M,filters:D,joinOperator:O,q:A}=DJ(),L=m.useMemo(()=>EJ(M),[M]),T=m.useMemo(()=>NJ(D),[D]),W=m.useMemo(()=>L?L.split(",").map(ne=>ne.trim()).filter(Boolean):[],[L]),I=m.useMemo(()=>T.length>0?JSON.stringify(T):"",[T]),F=m.useMemo(()=>["documents",e,R,L,I,O,A],[e,R,L,I,O,A]),U=Eb({queryKey:F,initialPageParam:1,queryFn:({pageParam:ne,signal:we})=>jB(e,{page:typeof ne=="number"?ne:1,perPage:R,sort:L,filters:T.length>0?T:void 0,joinOperator:O??void 0,q:A??void 0},we),getNextPageParam:ne=>ne.page<ne.pageCount?ne.page+1:void 0,enabled:!!e,staleTime:15e3}),{fetchNextPage:ae,hasNextPage:P,isFetchingNextPage:q,refetch:K}=U,te=m.useMemo(()=>U.data?.pages.flatMap(ne=>ne.items??[])??[],[U.data?.pages]),ve=m.useMemo(()=>new Map(te.map(ne=>[ne.id,ne])),[te]),V=kn({queryKey:["documents-members",e],queryFn:({signal:ne})=>i_(e,{page:1,pageSize:200,signal:ne}),enabled:!!e,staleTime:6e4}),B=m.useMemo(()=>{const ne=new Map,we=`user:${t.id}`;return ne.set(we,{key:we,label:t.label,kind:"user",userId:t.id}),(V.data?.items??[]).forEach($e=>{const at=`user:${$e.user_id}`,ft=$e.user_id===t.id?t.label:`Member ${rb($e.user_id)}`;ne.has(at)||ne.set(at,{key:at,label:ft,kind:"user",userId:$e.user_id})}),Array.from(ne.values()).sort(($e,at)=>$e.label.localeCompare(at.label))},[t.id,t.label,V.data?.items]),re=kn({queryKey:["documents-tags",e],queryFn:({signal:ne})=>Hk(e,{page:1,perPage:200,sort:"-count"},ne),enabled:!!e,staleTime:6e4}),Y=m.useMemo(()=>re.data?.items?.map(ne=>ne.tag)??[],[re.data?.items]),z=m.useCallback((ne,we)=>{l.setQueryData(F,Te=>Te?.pages?{...Te,pages:Te.pages.map($e=>({...$e,items:($e.items??[]).map(at=>at.id===ne?{...at,...we}:at)}))}:Te)},[l,F,U.data]),G=m.useCallback(ne=>{l.setQueryData(F,we=>we?.pages?{...we,pages:we.pages.map(Te=>({...Te,items:(Te.items??[]).filter($e=>$e.id!==ne)}))}:we)},[l,F,U.data]),H=m.useCallback((ne,we)=>{const Te={status:we.status,updatedAt:we.updatedAt},$e=we.activityAt??we.updatedAt;$e&&(Te.activityAt=$e),we.tags!==void 0&&(Te.tags=we.tags),we.assignee!==void 0&&(Te.assignee=we.assignee??null),we.uploader!==void 0&&(Te.uploader=we.uploader??null),we.latestRun!==void 0&&(Te.latestRun=we.latestRun??null),we.latestSuccessfulRun!==void 0&&(Te.latestSuccessfulRun=we.latestSuccessfulRun??null),we.latestResult!==void 0&&(Te.latestResult=we.latestResult??null),z(ne,Te)},[z]),ee=m.useCallback((ne,we)=>{C(Te=>({...Te,[ne]:we}))},[]),oe=m.useCallback(ne=>{C(we=>{if(!we[ne])return we;const Te={...we};return delete Te[ne],Te})},[]),le=m.useCallback(ne=>!!S[ne],[S]),de=m.useCallback(ne=>{if(E($e=>{if($e.has(ne))return $e;const at=new Set($e);return at.add(ne),at}),typeof window>"u")return;const we=_.current.get(ne);we&&window.clearTimeout(we);const Te=window.setTimeout(()=>{_.current.delete(ne),E($e=>{if(!$e.has(ne))return $e;const at=new Set($e);return at.delete(ne),at})},1600);_.current.set(ne,Te)},[]),Ee=m.useCallback(ne=>{E(Te=>{if(!Te.has(ne))return Te;const $e=new Set(Te);return $e.delete(ne),$e});const we=_.current.get(ne);we&&typeof window<"u"&&(window.clearTimeout(we),_.current.delete(ne))},[]),Oe=m.useCallback(async(ne,we={})=>{ee(ne,"restore");try{const Te=await kB(e,ne);H(ne,Te),we.silent||c({title:"Document restored.",intent:"success",duration:4e3})}catch(Te){c({title:Te instanceof Error?Te.message:"Unable to restore document.",intent:"danger"})}finally{oe(ne)}},[H,oe,ee,c,e]),Pe=m.useCallback(async(ne,we)=>{const Te=we?.startsWith("user:")?we.slice(5):null,$e=we?B.find(ft=>ft.key===we)?.label??we:null,at=$e&&$e.includes("@")?$e:"";try{const ft=await EB(e,ne,{assigneeId:Te});z(ne,{assignee:ft.assignee??(Te?{id:Te,name:$e,email:at}:null)})}catch(ft){c({title:"Unable to update assignee",description:ft instanceof Error?ft.message:"Please try again.",intent:"danger"})}},[c,B,z,e]),ot=m.useCallback(async(ne,we)=>{const Te=ve.get(ne);if(!Te)return;const $e=Te.tags??[],at=$e.includes(we);try{await $B(e,ne,at?{remove:[we]}:{add:[we]});const ft=at?$e.filter(Ot=>Ot!==we):[...$e,we];z(ne,{tags:ft})}catch(ft){c({title:"Unable to update tags",description:ft instanceof Error?ft.message:"Please try again.",intent:"danger"})}},[ve,c,z,e]),xt=m.useCallback(async ne=>{const we=ve.get(ne);if(!we)return;const Te={status:we.status,updatedAt:we.updatedAt,activityAt:we.activityAt};N.current.set(ne,{snapshot:Te,undoRequested:!1});const $e=new Date().toISOString();z(ne,{status:"archived",updatedAt:$e,activityAt:$e}),de(ne),c({title:"Document archived.",intent:"success",duration:6e3,actions:[{label:"Undo",variant:"ghost",onSelect:()=>{const at=N.current.get(ne);if(at){at.undoRequested=!0,z(ne,at.snapshot),Ee(ne);return}Oe(ne,{silent:!0})}}]}),ee(ne,"archive");try{const at=await _B(e,ne);if(N.current.get(ne)?.undoRequested){await Oe(ne,{silent:!0});return}H(ne,at)}catch(at){const ft=N.current.get(ne);ft&&(z(ne,ft.snapshot),Ee(ne)),c({title:at instanceof Error?at.message:"Unable to archive document.",intent:"danger"})}finally{N.current.delete(ne),oe(ne)}},[H,oe,Ee,ve,ee,c,Oe,de,z,e]),ct=m.useCallback(async ne=>{await Oe(ne)},[Oe]),sn=m.useCallback(ne=>{w(ne)},[]),_t=m.useCallback(()=>{w(null)},[]),Q=m.useCallback(async()=>{if(b){ee(b.id,"delete");try{await NB(e,b.id),G(b.id),c({title:"Document deleted.",intent:"success",duration:4e3}),w(null)}catch(ne){c({title:ne instanceof Error?ne.message:"Unable to delete document.",intent:"danger"})}finally{oe(b.id)}}},[oe,b,ee,c,G,e]),Z=U.data?.pages[0]?.changesCursor??U.data?.pages[0]?.changesCursorHeader??null,ue=m.useCallback(ne=>{let we=!!ne.requiresRefresh;l.setQueryData(F,Te=>{if(!Te)return Te;const $e=YW(Te,ne,{sortTokens:W});return we=we||$e.updatesAvailable,$e.data}),we&&f(Te=>Te||!0)},[l,F,W]);if(m.useEffect(()=>{f(!1),p.current=Z},[Z,I,O,R,A,L,e]),m.useEffect(()=>{if(!e||!Z)return;const ne=new AbortController;let we=0;return(async()=>{for(;!ne.signal.aborted;){const $e=p.current??Z,at=FB(e,{cursor:$e,sort:L??void 0,filters:T.length>0?T:void 0,joinOperator:O??void 0,q:A??void 0});try{for await(const cn of UB(at,ne.signal))p.current=cn.cursor,ue(cn),we=0}catch(cn){if(ne.signal.aborted)return;if(cn instanceof Ft&&cn.status===410){f(!1),K();return}console.warn("Documents change stream failed",cn)}if(ne.signal.aborted)return;const Tt=Math.min(3e4,1e3*2**Math.min(we,5));we+=1;const Lt=Math.floor(Tt*.15*Math.random());await AJ(Tt+Lt,ne.signal)}})(),()=>ne.abort()},[ue,Z,O,T,L,A,K,e]),m.useEffect(()=>{if(!g.current||!P)return;const ne=new IntersectionObserver(we=>{we[0]?.isIntersecting&&(q||ae())},{root:x.current,rootMargin:"200px"});return ne.observe(g.current),()=>ne.disconnect()},[ae,P,q]),U.isLoading)return i.jsx("div",{className:"min-h-[240px]",children:i.jsx(HE,{title:"Loading documents",description:"Fetching the latest processing activity."})});if(U.isError)return i.jsx("div",{className:"min-h-[240px]",children:i.jsx(HE,{title:"Unable to load documents",description:"We could not refresh this view. Try again.",action:{label:"Try again",onClick:()=>U.refetch()}})});const De=U.data?.pages[0]?.pageCount??1,je=()=>{f(!1),U.refetch()},ge=`/workspaces/${e}/config-builder`,Me=`/workspaces/${e}/settings/processing`,ye=b?S[b.id]==="delete":!1;return i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col gap-3",children:[n?i.jsx(bv,{title:"No active configuration",description:"Uploads will be stored, but runs won't start until you activate a configuration.",className:"border-warning-200 bg-warning-50/60 text-warning-900 dark:border-warning-500/40 dark:bg-warning-500/10 dark:text-warning-100",actions:i.jsx(ke,{asChild:!0,variant:"outline",size:"sm",children:i.jsx(ld,{to:ge,children:"Open config builder"})})}):null,r?i.jsx(bv,{title:"Processing paused",description:"Uploads are queued and won't start until processing is resumed.",className:"border-warning-200 bg-warning-50/60 text-warning-900 dark:border-warning-500/40 dark:bg-warning-500/10 dark:text-warning-100",actions:i.jsx(ke,{asChild:!0,variant:"outline",size:"sm",children:i.jsx(ld,{to:Me,children:"Open processing settings"})})}):null,d?i.jsx(bv,{title:"Updates available",description:"Refresh to load the latest changes.",actions:i.jsxs(i.Fragment,{children:[i.jsx(ke,{variant:"outline",size:"sm",onClick:je,disabled:U.isFetching,children:U.isFetching?"Refreshing...":"Refresh"}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Dismiss"})]})}):null,i.jsx(_J,{data:te,pageCount:De,workspaceId:e,people:B,tagOptions:Y,onAssign:Pe,onToggleTag:ot,onArchive:xt,onRestore:ct,onDeleteRequest:sn,isRowActionPending:le,archivedFlashIds:j,toolbarActions:o,scrollContainerRef:x,scrollFooter:i.jsxs(i.Fragment,{children:[P?i.jsx("div",{className:"flex w-full items-center justify-center py-2 text-xs text-muted-foreground",children:q?"Loading more documents...":"Scroll to load more"}):null,i.jsx("div",{ref:g,className:"h-1 w-full"})]})}),i.jsx(DM,{open:!!b,onOpenChange:ne=>ne?void 0:_t(),children:i.jsxs(HW,{children:[i.jsxs(qW,{children:[i.jsx(TM,{children:"Delete document?"}),i.jsx(zM,{children:b?`This permanently deletes ${b.name}. This action cannot be undone.`:"This permanently deletes the document. This action cannot be undone."})]}),i.jsxs(WW,{children:[i.jsx(ke,{variant:"ghost",onClick:_t,disabled:ye,children:"Cancel"}),i.jsx(ke,{variant:"destructive",onClick:Q,disabled:ye,children:ye?"Deleting...":"Delete"})]})]})})]})}function TJ(){const e=Sc(),{workspace:t}=Hs(),{notifyToast:n}=hd(),r=m.useRef(null),[o,l]=m.useState([]),c=sW({workspaceId:t.id}),d=Ih({workspaceId:t.id}),f=m.useMemo(()=>({id:e.user.id,email:e.user.email,label:e.user.display_name||e.user.email||"You"}),[e.user.display_name,e.user.email,e.user.id]),p=m.useMemo(()=>(d.data?.items??[]).find(N=>N.status==="active")??null,[d.data?.items]),g=d.isSuccess&&!p,x=t.processing_paused??!1,b=m.useCallback(()=>r.current?.click(),[]),w=m.useCallback(E=>{const N=Array.from(E.target.files??[]);N.length>0&&l(N),E.target.value=""},[]),S=m.useCallback(E=>{if(!E.length)return;const N=c.enqueue(E),_=x?g?"Uploads saved. Processing is paused and no configuration is active yet.":"Uploads saved. Processing is paused for this workspace.":g?"Uploads saved. Processing will start once an active configuration is set.":"Processing will begin automatically.";n({title:`${N.length} file${N.length===1?"":"s"} added`,description:_,intent:"success"}),l([])},[g,n,x,c]),C=m.useCallback(()=>{l([])},[]),j=i.jsxs(i.Fragment,{children:[i.jsx(vW,{items:c.items,summary:c.summary,onPause:c.pause,onResume:c.resume,onRetry:c.retry,onCancel:c.cancel,onRemove:c.remove,onClearCompleted:c.clearCompleted}),i.jsxs(ke,{size:"sm",onClick:b,className:"gap-2",children:[i.jsx(xh,{className:"h-4 w-4"}),"Upload"]}),i.jsx("input",{ref:r,type:"file",multiple:!0,className:"hidden",onChange:w})]});return i.jsxs("div",{className:"documents flex min-h-0 flex-1 flex-col bg-background text-foreground",children:[i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:i.jsx("section",{className:"flex min-h-0 min-w-0 flex-1 flex-col overflow-hidden px-6 py-4",children:i.jsx(OJ,{workspaceId:t.id,currentUser:f,configMissing:g,processingPaused:x,toolbarActions:j})})}),i.jsx(bW,{open:o.length>0,files:o,onConfirm:S,onCancel:C,processingPaused:x,configMissing:g})]})}const xc={search:"",status:"all",dateRange:"14d",configurationId:null},JD=[{value:"14d",label:"Last 14 days"},{value:"7d",label:"Last 7 days"},{value:"24h",label:"Last 24 hours"},{value:"30d",label:"Last 30 days"},{value:"custom",label:"Custom range"}],gb={queued:{label:"Queued",badgeClass:"bg-muted text-muted-foreground",dotClass:"bg-muted-foreground",ringClass:"ring-border",textClass:"text-muted-foreground",surfaceClass:"bg-muted"},running:{label:"Running",badgeClass:"bg-info-100 text-info-700",dotClass:"bg-info-500",ringClass:"ring-info-200",textClass:"text-info-700",surfaceClass:"bg-info-50"},succeeded:{label:"Success",badgeClass:"bg-success-100 text-success-700",dotClass:"bg-success-500",ringClass:"ring-success-200",textClass:"text-success-700",surfaceClass:"bg-success-50"},failed:{label:"Failed",badgeClass:"bg-danger-100 text-danger-700",dotClass:"bg-danger-500",ringClass:"ring-danger-200",textClass:"text-danger-700",surfaceClass:"bg-danger-50"},cancelled:{label:"Cancelled",badgeClass:"bg-muted text-muted-foreground",dotClass:"bg-muted-foreground",ringClass:"ring-border",textClass:"text-muted-foreground",surfaceClass:"bg-muted"}};function zJ({filters:e,configOptions:t,showingCount:n,totalCount:r,onChange:o,onReset:l}){return i.jsx("div",{className:"shrink-0 border-b border-border bg-card px-4 py-3",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-[1fr_1fr_1fr]",children:[i.jsx("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.dateRange,onChange:c=>o({dateRange:c.target.value}),children:JD.map(c=>i.jsx("option",{value:c.value,children:c.label},c.value))}),i.jsxs("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.status,onChange:c=>o({status:c.target.value}),children:[i.jsx("option",{value:"all",children:"Status: all"}),i.jsx("option",{value:"succeeded",children:"Success"}),i.jsx("option",{value:"failed",children:"Failed"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"queued",children:"Queued"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]}),i.jsxs("select",{className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",value:e.configurationId??"",onChange:c=>o({configurationId:c.target.value||null}),children:[i.jsx("option",{value:"",children:"Config: all"}),t.map(c=>i.jsx("option",{value:c.id,children:c.label},c.id))]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Showing ",i.jsx("span",{className:"font-semibold text-foreground",children:n})," of"," ",i.jsx("span",{className:"font-semibold text-foreground",children:r})]}),i.jsx(ke,{size:"sm",variant:"ghost",onClick:l,children:"Reset"})]})]})})}const PJ=new Intl.NumberFormat("en-US");function mt(e){return e==null?"":PJ.format(e)}function iw(e){return e==null?"":`${e}%`}function eA(e){return e==null||Number.isNaN(e)?"":e.toFixed(2)}function tA(e){if(!e)return null;const t=e.field_count_expected??null,n=e.field_count_detected??null;return!t||t<=0||n===null?null:Math.round(n/t*100)}function IJ(e,t){if(typeof e=="number"&&Number.isFinite(e)){const n=Math.floor(e/60),r=Math.round(e%60);return n<=0?`${r}s`:`${n}m ${r}s`}return t==="queued"?"Queued":t==="running"?"Running":t==="cancelled"?"Cancelled":""}function LJ(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function $J(e){return e.warnings===0&&e.errors===0?"Clean":typeof e.errors=="number"&&e.errors>0?`${e.errors} errors`:typeof e.warnings=="number"?`${e.warnings} warnings`:""}function FJ(e){return!e||e==="all"?"all":["queued","running","succeeded","failed","cancelled"].includes(e)?e:"all"}function UJ(e){return e&&["14d","7d","24h","30d","custom"].includes(e)?e:"14d"}function BJ(e){let t=!1;const n={total:0,success:0,warning:null,failed:0,running:0,queued:0,cancelled:0,active:0};return e.forEach(r=>{n.total+=1,r.status==="succeeded"&&(n.success+=1),r.status==="failed"&&(n.failed+=1),r.status==="cancelled"&&(n.cancelled+=1),r.status==="running"&&(n.running+=1),r.status==="queued"&&(n.queued+=1),typeof r.warnings=="number"&&(t=!0,n.warning=(n.warning??0)+r.warnings)}),n.active=n.running+n.queued,t||(n.warning=null),n}function VJ(e){const t=e.input?.filename??e.input?.document_id??`Run ${e.id}`,n=e.output?.filename??null,r=LJ(e.started_at??e.created_at),o=IJ(e.duration_seconds??null,e.status),l=e.config_version??e.configuration_id??"";return{id:e.id,configurationId:e.configuration_id,status:e.status,inputName:t,outputName:n,configLabel:l,startedAtLabel:r,durationLabel:o,rows:null,warnings:null,errors:null,quality:null,ownerLabel:"",triggerLabel:"",engineLabel:e.engine_version??"",regionLabel:"",notes:e.failure_message??null,raw:e}}function HJ(e,t=new Date){if(e==="custom")return null;const n=new Date(t),r=new Date(t);return e==="24h"?r.setHours(r.getHours()-24):e==="7d"?r.setDate(r.getDate()-7):e==="30d"?r.setDate(r.getDate()-30):r.setDate(r.getDate()-14),[r.toISOString(),n.toISOString()]}function qJ({counts:e,rangeLabel:t}){const n=e.success+e.failed+e.cancelled,r=e.failed+e.cancelled,o=n>0?Math.round(e.success/n*100):0,l=e.warning===null?"":mt(e.warning);return i.jsx("div",{className:"shrink-0 border-b border-border bg-card px-6 py-4",children:i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-[1.1fr_1fr_1fr_1fr_1fr]",children:[i.jsx(Iu,{label:"Total runs",value:mt(e.total),meta:t}),i.jsx(Iu,{label:"Active queue",value:mt(e.active),meta:`${mt(e.running)} running  ${mt(e.queued)} queued`,tone:"info"}),i.jsx(Iu,{label:"Success rate",value:`${o}%`,meta:`${mt(e.success)} of ${mt(n)} completed`,tone:"success"}),i.jsx(Iu,{label:"Failed",value:mt(r),meta:"Failed or cancelled runs",tone:"danger"}),i.jsx(Iu,{label:"Warnings",value:l,meta:"Validation warnings",tone:"warning"})]})})}function Iu({label:e,value:t,meta:n,tone:r="default"}){const o=r==="success"?"text-success-700":r==="warning"?"text-warning-700":r==="danger"?"text-danger-700":r==="info"?"text-info-700":"text-foreground";return i.jsxs("div",{className:"rounded-xl border border-border bg-background px-4 py-3",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:e}),i.jsx("p",{className:fe("mt-1 text-2xl font-semibold",o),children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})}function WJ({run:e,onClose:t,metrics:n,metricsLoading:r,metricsError:o,fields:l,fieldsLoading:c,fieldsError:d,columns:f,columnsLoading:p,columnsError:g}){const[x,b]=m.useState("summary"),w=m.useMemo(()=>{const j=n?.validation_issues_warning??n?.evaluation_findings_warning??e.warnings??null,E=n?.validation_issues_error??n?.evaluation_findings_error??e.errors??null,N=n?.row_count_total??e.rows??null,_=tA(n)??e.quality??null;return{warnings:j,errors:E,rows:N,quality:_}},[n,e.errors,e.quality,e.rows,e.warnings]),S=w.warnings===null?"Warnings data unavailable":`${mt(w.warnings)} warnings detected`,C=w.errors===null?"Errors data unavailable":`${mt(w.errors)} errors detected`;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:fe("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",gb[e.status].badgeClass),children:gb[e.status].label}),i.jsx("h3",{className:"mt-2 text-base font-semibold text-foreground",children:e.inputName}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.id})]}),i.jsxs("div",{className:"flex items-start gap-3 text-xs text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("p",{children:e.startedAtLabel}),i.jsx("p",{children:e.durationLabel})]}),t?i.jsx(ke,{size:"sm",variant:"ghost",onClick:t,children:"Close preview"}):null]})]}),i.jsxs(Qb,{value:x,onValueChange:j=>b(j),children:[i.jsxs(Xb,{className:"mt-4 flex flex-wrap gap-2 border-b border-border pb-2",children:[i.jsx(Nm,{value:"summary",label:"Summary",active:x==="summary"}),i.jsx(Nm,{value:"metrics",label:"Metrics",active:x==="metrics"}),i.jsx(Nm,{value:"fields",label:"Fields",active:x==="fields"}),i.jsx(Nm,{value:"columns",label:"Columns",active:x==="columns"})]}),i.jsx(zi,{value:"summary",className:"mt-4",children:i.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1.4fr_1fr]",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"grid gap-2 sm:grid-cols-4",children:[i.jsx(Ua,{label:"Rows",value:mt(w.rows)}),i.jsx(Ua,{label:"Quality",value:iw(w.quality)}),i.jsx(Ua,{label:"Warnings",value:mt(w.warnings)}),i.jsx(Ua,{label:"Errors",value:mt(w.errors)})]}),i.jsxs("div",{className:"mt-3 grid gap-2 text-xs text-muted-foreground sm:grid-cols-2",children:[i.jsx(Jl,{label:"Output",value:e.outputName??"Output not available"}),i.jsx(Jl,{label:"Config",value:e.configLabel}),i.jsx(Jl,{label:"Trigger",value:e.triggerLabel}),i.jsx(Jl,{label:"Engine",value:e.engineLabel}),i.jsx(Jl,{label:"Region",value:e.regionLabel}),i.jsx(Jl,{label:"Owner",value:e.ownerLabel})]})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Quick issues"}),i.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-muted-foreground",children:[i.jsx("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:S}),i.jsx("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:C}),i.jsxs("li",{className:"rounded-lg border border-border bg-card px-2 py-2",children:["Notes: ",e.notes??"No notes captured"]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[i.jsx(ke,{size:"sm",variant:"secondary",children:"View logs"}),i.jsx(ke,{size:"sm",variant:"ghost",children:"Open output"})]})]})]})}),i.jsx(zi,{value:"metrics",className:"mt-4",children:i.jsx(GJ,{metrics:n,loading:r,error:o})}),i.jsx(zi,{value:"fields",className:"mt-4",children:i.jsx(YJ,{fields:l,loading:c,error:d})}),i.jsx(zi,{value:"columns",className:"mt-4",children:i.jsx(KJ,{columns:f,loading:p,error:g})})]})]})}function GJ({metrics:e,loading:t,error:n}){if(t)return i.jsx(Is,{title:"Loading metrics",description:"Fetching run metrics and validation summary."});if(n)return i.jsx(Is,{title:"Unable to load metrics",description:"Refresh the page or try again later."});if(!e)return i.jsx(Is,{title:"Metrics not available yet",description:"Metrics appear after the run completes and the engine summary is captured."});const r=tA(e),o=[{label:"Outcome",value:e.evaluation_outcome??""},{label:"Findings total",value:mt(e.evaluation_findings_total)},{label:"Findings info",value:mt(e.evaluation_findings_info)},{label:"Findings warning",value:mt(e.evaluation_findings_warning)},{label:"Findings error",value:mt(e.evaluation_findings_error)}],l=[{label:"Issues total",value:mt(e.validation_issues_total)},{label:"Info",value:mt(e.validation_issues_info)},{label:"Warnings",value:mt(e.validation_issues_warning)},{label:"Errors",value:mt(e.validation_issues_error)},{label:"Max severity",value:e.validation_max_severity??""}],c=[{label:"Workbooks",value:mt(e.workbook_count)},{label:"Sheets",value:mt(e.sheet_count)},{label:"Tables",value:mt(e.table_count)},{label:"Rows",value:mt(e.row_count_total)},{label:"Empty rows",value:mt(e.row_count_empty)},{label:"Columns",value:mt(e.column_count_total)},{label:"Mapped columns",value:mt(e.column_count_mapped)},{label:"Unmapped columns",value:mt(e.column_count_unmapped)},{label:"Fields detected",value:`${mt(e.field_count_detected)} / ${mt(e.field_count_expected)}`},{label:"Cells non-empty",value:mt(e.cell_count_non_empty)},{label:"Cells total",value:mt(e.cell_count_total)}];return i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsx(Ua,{label:"Evaluation",value:e.evaluation_outcome??""}),i.jsx(Ua,{label:"Validation",value:e.validation_max_severity??""}),i.jsx(Ua,{label:"Rows",value:mt(e.row_count_total)}),i.jsx(Ua,{label:"Field coverage",value:iw(r)})]}),i.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1.2fr_1fr]",children:[i.jsx(yv,{title:"Validation issues",items:l}),i.jsx(yv,{title:"Evaluation findings",items:o})]}),i.jsx(yv,{title:"Structure and volume",items:c})]})}function YJ({fields:e,loading:t,error:n}){if(t)return i.jsx(Is,{title:"Loading field detection",description:"Fetching per-field detection coverage."});if(n)return i.jsx(Is,{title:"Unable to load field detection",description:"Refresh the page or try again later."});if(!e)return i.jsx(Is,{title:"Field detection not available",description:"Field summaries appear once the run metrics are computed."});if(e.length===0)return i.jsx(Is,{title:"No fields detected",description:"No fields were detected for this run."});const r=e.filter(c=>c.detected).length,o=e.length-r,l=e.length>0?Math.round(r/e.length*100):null;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[i.jsx(oc,{label:"Total fields",value:mt(e.length)}),i.jsx(oc,{label:"Detected",value:mt(r)}),i.jsx(oc,{label:"Not detected",value:mt(o)}),i.jsx(oc,{label:"Coverage",value:iw(l)})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"min-w-[720px]",children:[i.jsxs("div",{className:"grid grid-cols-[1.6fr_120px_140px_120px_120px] border-b border-border bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx("span",{children:"Field"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Best score"}),i.jsx("span",{children:"Tables"}),i.jsx("span",{children:"Columns"})]}),e.map(c=>i.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:i.jsxs("div",{className:"grid grid-cols-[1.6fr_120px_140px_120px_120px] items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:c.label??c.field}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c.field})]}),i.jsx(ZJ,{detected:c.detected}),i.jsx("span",{className:"text-xs text-foreground",children:eA(c.best_mapping_score)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:mt(c.occurrences_tables)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:mt(c.occurrences_columns)})]})},c.field))]})})]})}function KJ({columns:e,loading:t,error:n}){if(t)return i.jsx(Is,{title:"Loading columns",description:"Fetching detected column headers."});if(n)return i.jsx(Is,{title:"Unable to load columns",description:"Refresh the page or try again later."});if(!e)return i.jsx(Is,{title:"Column mappings not available",description:"Column details appear once the run metrics are computed."});if(e.length===0)return i.jsx(Is,{title:"No columns",description:"No columns were detected for this run."});const r=e.reduce((o,l)=>{const c=rA(l.mapping_status);return o.total+=1,o[c]=(o[c]??0)+1,o},{total:0});return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[i.jsx(oc,{label:"Total columns",value:mt(r.total)}),Object.entries(nA).filter(([o])=>r[o]).map(([o,l])=>i.jsx(oc,{label:l.label,value:mt(r[o])},o))]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"min-w-[860px]",children:[i.jsxs("div",{className:"grid grid-cols-[1.5fr_1.4fr_140px_140px_120px_120px] border-b border-border bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx("span",{children:"Location"}),i.jsx("span",{children:"Header"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Mapped field"}),i.jsx("span",{children:"Score"}),i.jsx("span",{children:"Non-empty"})]}),e.map((o,l)=>{const c=o.sheet_name??`Sheet ${o.sheet_index+1}`,d=`Table ${o.table_index+1}`,f=o.workbook_name??`Workbook ${o.workbook_index+1}`,p=o.header_raw??o.header_normalized??"",g=o.header_normalized,x=o.mapped_field??"";return i.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:i.jsxs("div",{className:"grid grid-cols-[1.5fr_1.4fr_140px_140px_120px_120px] items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:c}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f," / ",d]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:p}),g&&g!==p?i.jsx("p",{className:"text-xs text-muted-foreground",children:g}):null]}),i.jsx(QJ,{status:o.mapping_status}),i.jsx("span",{className:"text-xs text-muted-foreground",children:x}),i.jsx("span",{className:"text-xs text-muted-foreground",children:eA(o.mapping_score)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:mt(o.non_empty_cells)})]})},`${o.workbook_index}-${o.sheet_index}-${o.table_index}-${o.column_index}-${l}`)})]})})]})}function Ua({label:e,value:t}){return i.jsxs("div",{className:"rounded-xl border border-border bg-background px-3 py-2",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:e}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:t})]})}function Jl({label:e,value:t}){return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-background px-3 py-2",children:[i.jsx("span",{children:e}),i.jsx("span",{className:"text-foreground",children:t})]})}function yv({title:e,items:t}){return i.jsxs("div",{className:"rounded-xl border border-border bg-background p-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:t.map(n=>i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/70 bg-card px-3 py-2 text-xs",children:[i.jsx("span",{className:"text-muted-foreground",children:n.label}),i.jsx("span",{className:"text-foreground",children:n.value})]},n.label))})]})}function oc({label:e,value:t}){return i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-background px-3 py-1",children:[i.jsx("span",{children:e}),i.jsx("span",{className:"font-semibold text-foreground",children:t})]})}function ZJ({detected:e}){return i.jsx("span",{className:fe("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",e?"bg-success-100 text-success-700":"bg-muted text-muted-foreground"),children:e?"Detected":"Not detected"})}const nA={mapped:{label:"Mapped",className:"bg-success-100 text-success-700"},unmapped:{label:"Unmapped",className:"bg-muted text-muted-foreground"}};function QJ({status:e}){const t=rA(e),n=nA[t];return i.jsx("span",{className:fe("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",n.className),children:n.label})}function rA(e){return e?.toLowerCase?.()==="mapped"?"mapped":"unmapped"}function Nm({value:e,label:t,active:n}){return i.jsx(Xm,{value:e,className:fe("rounded-full border px-3 py-1 text-xs font-semibold transition",n?"border-transparent bg-brand-600 text-on-brand":"border-border bg-background text-muted-foreground"),children:t})}function Is({title:e,description:t}){return i.jsxs("div",{className:"rounded-xl border border-dashed border-border bg-background px-4 py-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:e}),i.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:t})]})}const XJ="button, a, input, select, textarea, [role='button'], [role='menuitem'], [data-ignore-row-click='true']";function JJ(e){return e instanceof Element?!!e.closest(XJ):!1}function eee({runs:e,activeId:t,onSelect:n,onNavigate:r,expandedId:o,expandedContent:l}){const c=m.useRef(null),d=m.useRef(new Map);m.useEffect(()=>{if(!t)return;const p=c.current,g=d.current.get(t);if(!p||!g)return;const x=g.offsetTop-p.offsetTop;p.scrollTo({top:Math.max(0,x)})},[t]);const f=p=>{if(!r||p.target?.closest("input, textarea, select, button, a, [role='button'], [role='menuitem']")||e.length===0||p.key!=="ArrowDown"&&p.key!=="ArrowUp")return;p.preventDefault();const x=e.findIndex(w=>w.id===t);if(x<0){r(e[0].id);return}const b=p.key==="ArrowDown"?Math.min(e.length-1,x+1):Math.max(0,x-1);r(e[b].id)};return i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-card",children:[i.jsx("div",{className:"shrink-0 border-b border-border bg-background/40 px-6 py-2 text-[11px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:i.jsxs("div",{className:"grid grid-cols-[120px_minmax(0,2fr)_minmax(0,1fr)_minmax(0,1fr)_minmax(0,0.8fr)_minmax(0,0.8fr)_minmax(0,0.6fr)_minmax(0,0.8fr)_minmax(0,0.6fr)] items-center gap-3",children:[i.jsx("div",{children:"Status"}),i.jsx("div",{children:"Input"}),i.jsx("div",{children:"Config"}),i.jsx("div",{children:"Started"}),i.jsx("div",{className:"text-right",children:"Duration"}),i.jsx("div",{className:"text-right",children:"Result"}),i.jsx("div",{className:"text-right",children:"Rows"}),i.jsx("div",{children:"Owner"}),i.jsx("div",{className:"text-right",children:"Actions"})]})}),i.jsx("div",{ref:c,className:"flex-1 min-h-0 overflow-y-auto px-6 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",tabIndex:0,role:"listbox","aria-label":"Runs",onKeyDown:f,children:i.jsx("div",{className:"flex flex-col",children:e.map(p=>{const g=gb[p.status],x=t===p.id,b=!!(l&&o===p.id),w=`runs-preview-${p.id}`,S=C=>{C.key!=="Enter"&&C.key!==" "||C.currentTarget===C.target&&(C.preventDefault(),n(p.id))};return i.jsxs("div",{ref:C=>{C?d.current.set(p.id,C):d.current.delete(p.id)},className:"border-b border-border/70",children:[i.jsxs("div",{role:"option",tabIndex:0,onKeyDown:S,onClick:C=>{JJ(C.target)||n(p.id)},className:fe("grid cursor-pointer grid-cols-[120px_minmax(0,2fr)_minmax(0,1fr)_minmax(0,1fr)_minmax(0,0.8fr)_minmax(0,0.8fr)_minmax(0,0.6fr)_minmax(0,0.8fr)_minmax(0,0.6fr)] items-center gap-3 py-3 text-left text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",x?"bg-brand-50 dark:bg-brand-500/20":"hover:bg-background dark:hover:bg-muted/40"),"aria-selected":x,"aria-expanded":b,"aria-controls":b?w:void 0,children:[i.jsxs("div",{className:"inline-flex items-center gap-2 text-xs font-semibold text-foreground",children:[i.jsx("span",{className:fe("h-2.5 w-2.5 rounded-full",g.dotClass)}),g.label]}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate font-semibold text-foreground",children:p.inputName}),i.jsx("p",{className:"truncate text-[11px] text-muted-foreground",children:p.id})]}),i.jsx("span",{className:"truncate text-xs text-foreground",children:p.configLabel}),i.jsx("span",{className:"text-xs text-muted-foreground",children:p.startedAtLabel}),i.jsx("span",{className:"text-right text-sm text-muted-foreground",children:p.durationLabel}),i.jsx("div",{className:"flex justify-end",children:i.jsx(tee,{run:p})}),i.jsx("span",{className:"text-right text-sm text-foreground",children:mt(p.rows)}),i.jsx("span",{className:"truncate text-sm text-foreground",children:p.ownerLabel}),i.jsxs("div",{className:"flex items-center justify-end gap-2","data-ignore-row-click":!0,children:[i.jsx(qE,{label:"View logs",href:p.raw.links?.logs??null,icon:i.jsx(fz,{className:"h-4 w-4"})}),i.jsx(qE,{label:p.raw.output?.ready?"Open output":"Output not ready",href:p.raw.output?.ready?p.raw.links?.output_download??p.raw.links?.output??null:null,icon:i.jsx(mz,{className:"h-4 w-4"})})]})]}),b?i.jsx("div",{id:w,role:"region","aria-label":`Run details for ${p.inputName}`,className:"bg-background/60 px-6 pb-4 pt-2",children:i.jsx("div",{className:"rounded-2xl border border-border bg-card shadow-sm",children:l})}):null]},p.id)})})})]})}function tee({run:e}){const t=$J(e),n=t==="",r=t==="Clean",o=typeof e.errors=="number"&&e.errors>0?"bg-danger-100 text-danger-700":typeof e.warnings=="number"&&e.warnings>0?"bg-warning-100 text-warning-700":r?"bg-success-100 text-success-700":"bg-muted text-muted-foreground";return i.jsx("span",{className:fe("inline-flex items-center justify-center rounded-full px-2 py-1 text-[11px] font-semibold",o,n?"opacity-70":""),children:t})}function qE({label:e,href:t,icon:n}){return t?i.jsx("a",{href:t,onClick:r=>r.stopPropagation(),target:"_blank",rel:"noreferrer","aria-label":e,title:e,className:fe("inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-card text-muted-foreground transition","hover:bg-background hover:text-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background"),children:n}):i.jsx("button",{type:"button",onClick:r=>r.stopPropagation(),disabled:!0,"aria-label":e,title:e,className:fe("inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-card text-muted-foreground/60","cursor-not-allowed"),children:n})}const Wr={root:()=>["runs"],workspace:e=>[...Wr.root(),e],list:(e,t)=>[...Wr.workspace(e),"list",t],run:e=>[...Wr.root(),"run",e],metrics:e=>[...Wr.run(e),"metrics"],fields:e=>[...Wr.run(e),"fields"],columns:(e,t)=>[...Wr.run(e),"columns",t??{}]};function nee({workspaceId:e,initialFilters:t}){const[n,r]=m.useState(t??xc),[o,l]=m.useState(null),[c,d]=m.useState(!1),f=m.useMemo(()=>{const L=[],T=n.search.trim(),W=HJ(n.dateRange);return n.status!=="all"&&L.push({id:"status",operator:"eq",value:n.status}),n.configurationId&&L.push({id:"configurationId",operator:"eq",value:n.configurationId}),W&&L.push({id:"createdAt",operator:"between",value:W}),{page:1,perPage:e9,sort:"-createdAt",q:T.length>=2?T:void 0,filters:L.length>0?L:void 0}},[n.configurationId,n.dateRange,n.search,n.status]),p=kn({queryKey:Wr.list(e,f),queryFn:({signal:L})=>n9(e,f,L),enabled:!!e,staleTime:15e3}),g=m.useMemo(()=>(p.data?.items??[]).map(L=>VJ(L)),[p.data?.items]),x=m.useMemo(()=>BJ(g),[g]),b=m.useMemo(()=>{const L=new Map;return g.forEach(T=>{if(!T.configurationId)return;const W=T.configLabel&&T.configLabel!==""?T.configLabel:T.configurationId;L.set(T.configurationId,W)}),Array.from(L,([T,W])=>({id:T,label:W})).sort((T,W)=>T.label.localeCompare(W.label))},[g]),w=m.useMemo(()=>o?g.find(L=>L.id===o)??null:null,[o,g]),S=!!(o&&c),C=c&&w?w.status==="running"||w.status==="queued":!1,j=kn({queryKey:o?Wr.metrics(o):[...Wr.root(),"metrics","none"],queryFn:({signal:L})=>o?r9(o,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),E=kn({queryKey:o?Wr.fields(o):[...Wr.root(),"fields","none"],queryFn:({signal:L})=>o?s9(o,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),N=kn({queryKey:o?Wr.columns(o,null):[...Wr.root(),"columns","none"],queryFn:({signal:L})=>o?o9(o,null,L):Promise.resolve(null),enabled:S,staleTime:3e4,refetchInterval:C?1e4:!1}),_=m.useCallback(L=>{r(T=>({...T,...L}))},[]),R=m.useCallback(L=>{r(L)},[]),M=m.useCallback(()=>{r(xc)},[]),D=m.useCallback(L=>{l(L),d(!0)},[]),O=m.useCallback(()=>{d(!1)},[]),A=m.useCallback(L=>{if(c&&o===L){d(!1);return}l(L),d(!0)},[o,c]);return{state:{filters:n,activeId:o,previewOpen:c},derived:{runs:g,visibleRuns:g,counts:x,configOptions:b,activeRun:w,isLoading:p.isLoading,isError:p.isError,totalCount:p.data?.total??p.data?.items?.length??0,metrics:j.data??null,metricsLoading:j.isLoading,metricsError:j.isError,fields:E.data??null,fieldsLoading:E.isLoading,fieldsError:E.isError,columns:N.data??null,columnsLoading:N.isLoading,columnsError:N.isError},actions:{updateFilters:_,setFilters:R,resetFilters:M,openPreview:D,closePreview:O,togglePreview:A,setActiveId:l,refetch:p.refetch}}}function ree(){const{workspace:e}=Hs(),t=pr(),n=an(),r=m.useMemo(()=>see(t.search),[t.search]),o=m.useMemo(()=>new URLSearchParams(t.search).get("run"),[t.search]),l=nee({workspaceId:e.id,initialFilters:r}),c=l.state.previewOpen?l.state.activeId:null;m.useEffect(()=>{aee(l.state.filters,r)||l.actions.setFilters(r)},[l.actions,l.state.filters,r]),m.useEffect(()=>{if(!o){l.state.previewOpen&&l.actions.closePreview();return}(l.state.activeId!==o||!l.state.previewOpen)&&l.actions.openPreview(o)},[l.actions,l.state.activeId,l.state.previewOpen,o]);const d=m.useCallback((b,w)=>{const S=oee(b,w),C=`${t.pathname}${S?`?${S}`:""}${t.hash??""}`,j=`${t.pathname}${t.search}${t.hash??""}`;C!==j&&n(C,{replace:!0})},[t.hash,t.pathname,t.search,n]),f=m.useCallback(()=>{l.actions.closePreview(),d(l.state.filters,null)},[l.actions,l.state.filters,d]);m.useEffect(()=>{const b=w=>{if(w.key!=="Escape"||!l.state.previewOpen)return;const S=w.target;S&&(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable)||f()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[f,l.state.previewOpen]);const p=b=>{if(l.state.previewOpen&&l.state.activeId===b){f();return}l.actions.openPreview(b),d(l.state.filters,b)},g=b=>{const w={...l.state.filters,...b};l.actions.setFilters(w),d(w,l.state.previewOpen?l.state.activeId:null)},x=()=>{l.actions.resetFilters(),d(xc,l.state.previewOpen?l.state.activeId:null)};return i.jsx("div",{className:"runs flex min-h-0 flex-1 flex-col bg-background text-foreground",children:i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:i.jsxs("section",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:[i.jsx(qJ,{counts:l.derived.counts,rangeLabel:iee(l.state.filters.dateRange)}),i.jsx(zJ,{filters:l.state.filters,configOptions:l.derived.configOptions,showingCount:l.derived.visibleRuns.length,totalCount:l.derived.totalCount,onChange:g,onReset:x}),l.derived.isLoading?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(At,{title:"Loading runs",variant:"loading"})}):l.derived.isError?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(At,{title:"Unable to load runs",description:"Refresh the page or try again later.",variant:"error"})}):l.derived.visibleRuns.length===0?i.jsx("div",{className:"flex-1 bg-card px-6 py-10",children:i.jsx(At,{title:"No runs found",description:"Try adjusting filters or clearing them.",variant:"empty"})}):i.jsx(eee,{runs:l.derived.visibleRuns,activeId:c,onSelect:p,onNavigate:l.actions.setActiveId,expandedId:c,expandedContent:l.state.previewOpen&&l.derived.activeRun?i.jsx(WJ,{run:l.derived.activeRun,metrics:l.derived.metrics,metricsLoading:l.derived.metricsLoading,metricsError:l.derived.metricsError,fields:l.derived.fields,fieldsLoading:l.derived.fieldsLoading,fieldsError:l.derived.fieldsError,columns:l.derived.columns,columnsLoading:l.derived.columnsLoading,columnsError:l.derived.columnsError,onClose:f}):null})]})})})}function see(e){const t=new URLSearchParams(e),n=t.get("q")??xc.search,r=FJ(t.get("status")),o=UJ(t.get("range")),l=t.get("configuration_id");return{search:n,status:r,dateRange:o,configurationId:l||null}}function oee(e,t){const n=new URLSearchParams;return e.search.trim()&&n.set("q",e.search.trim()),e.status!==xc.status&&n.set("status",e.status),e.dateRange!==xc.dateRange&&n.set("range",e.dateRange),e.configurationId&&n.set("configuration_id",e.configurationId),t&&n.set("run",t),n.toString()}function aee(e,t){return e.search===t.search&&e.status===t.status&&e.dateRange===t.dateRange&&e.configurationId===t.configurationId}function iee(e){return JD.find(t=>t.value===e)?.label??"Selected range"}function Im({status:e}){const t=e.toLowerCase(),n=t==="active"?"Active":t==="draft"?"Draft":t==="archived"?"Archived":e,r=t==="active"?"bg-success-100 text-success-700":t==="draft"?"bg-warning-100 text-warning-700":"bg-muted text-foreground";return i.jsx("span",{className:fe("rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide",r),title:n,children:n})}const lee="Default template",Lu=(e,t)=>`/workspaces/${e}/config-builder/${encodeURIComponent(t)}`;function cee(){const{workspace:e}=Hs(),t=an(),{notifyToast:n}=hd(),r=m.useMemo(()=>sM(e.id),[e.id]),o=m.useMemo(()=>_y(e.id),[e.id]),l=Ih({workspaceId:e.id}),{refetch:c}=l,d=wB(e.id),f=vB(e.id),p=uy(e.id),g=Bk(e.id),x=dy(e.id),[b,w]=m.useState(()=>`${e.name} Config`),[S,C]=m.useState(null),[j,E]=m.useState(()=>`${e.name} Import`),[N,_]=m.useState(null),[R,M]=m.useState(null),[D,O]=m.useState(()=>o.get()),A=m.useRef(null),L=m.useRef(null),T=m.useMemo(()=>(l.data?.items??[]).filter(ce=>!("deleted_at"in ce&&ce.deleted_at)),[l.data]),W=m.useMemo(()=>{const ce=new Map;for(const Ae of T)ce.set(Ae.id,uc(Ae.status));return ce},[T]),I=m.useMemo(()=>{for(const ce of T)if(W.get(ce.id)==="active")return ce;return null},[T,W]),F=m.useMemo(()=>T.filter(ce=>W.get(ce.id)==="draft").sort((ce,Ae)=>nE(ce.updated_at,Ae.updated_at)),[T,W]),U=m.useMemo(()=>T.filter(ce=>W.get(ce.id)==="archived").sort((ce,Ae)=>nE(ce.updated_at,Ae.updated_at)),[T,W]),ae=m.useMemo(()=>T.find(ce=>ce.id===D?.configId)??null,[T,D]),P=m.useCallback(ce=>{O(ky(o,ce))},[o]);m.useEffect(()=>{O(o.get())},[o]),m.useEffect(()=>{const ce=L.current,Ae=ce?.id!==e.id,Ie=ce?.name!==e.name;if(!(!Ae&&!Ie)){if(L.current={id:e.id,name:e.name},Ae){w(`${e.name} Config`),C(null),E(`${e.name} Import`),_(null),M(null),A.current&&(A.current.value="");return}Ie&&(w(Fe=>Fe===`${ce?.name??""} Config`?`${e.name} Config`:Fe),E(Fe=>Fe===`${ce?.name??""} Import`?`${e.name} Import`:Fe))}},[e.id,e.name]),m.useEffect(()=>{if(typeof window>"u")return;const ce=Ae=>{if(!(Ae.storageArea!==window.localStorage||Ae.key!==r))try{O(Ae.newValue?JSON.parse(Ae.newValue):null)}catch{O(null)}};return window.addEventListener("storage",ce),()=>window.removeEventListener("storage",ce)},[r]),m.useEffect(()=>{D?.configId&&(T.some(ce=>ce.id===D.configId)||P(null))},[T,D?.configId,P]);const q=m.useCallback(ce=>{P(ce),t(Lu(e.id,ce))},[t,P,e.id]),K=m.useCallback(ce=>{P(ce),t(`${Lu(e.id,ce)}/editor`)},[t,P,e.id]),[te,ve]=m.useState(null),V=m.useMemo(()=>te?T.find(ce=>ce.id===te.configId)??null:null,[T,te]),[B,re]=m.useState(null),Y=m.useCallback(async ce=>{re(ce.id);try{const Ae=await cy(e.id,ce.id),Ie=Ae.filename??`${ce.id}.zip`,Fe=URL.createObjectURL(Ae.blob),it=document.createElement("a");it.href=Fe,it.download=Ie,it.click(),URL.revokeObjectURL(Fe),n({title:`Exported ${Ie}`,intent:"success",duration:4e3})}catch(Ae){const Ie=Ae instanceof Error?Ae.message:"Unable to export configuration.";n({title:Ie,intent:"danger",duration:6e3})}finally{re(Ae=>Ae===ce.id?null:Ae)}},[n,e.id]),[z,G]=m.useState(null),H=m.useMemo(()=>z?T.find(ce=>ce.id===z)??null:null,[T,z]),ee=m.useMemo(()=>new Set(T.map(ce=>ce.display_name.trim().toLowerCase())),[T]),[oe,le]=m.useState(""),[de,Ee]=m.useState(null),Oe=m.useCallback(ce=>{x.reset(),Ee(null),le(Ry(ce.display_name,ee)),G(ce.id)},[x,ee]),[Pe,ot]=m.useState(null),xt=m.useMemo(()=>Pe?T.find(ce=>ce.id===Pe)??null:null,[Pe,T]),[ct,sn]=m.useState(null),_t=m.useMemo(()=>ct?T.find(ce=>ce.id===ct)??null:null,[T,ct]),Q=_t?.id??null,[Z,ue]=m.useState(null);m.useEffect(()=>{if(!Q){ue(null);return}let ce=!1;return ue({stage:"checking"}),ly(e.id,Q).then(Ae=>{if(!ce){if(Array.isArray(Ae.issues)&&Ae.issues.length>0){ue({stage:"issues",issues:Ae.issues});return}ue({stage:"confirm"})}}).catch(Ae=>{if(ce)return;const Ie=Ae instanceof Error?Ae.message:"Unable to validate configuration.";ue({stage:"error",message:Ie})}),()=>{ce=!0}},[Q,e.id]);const De=m.useCallback(ce=>{p.reset(),ue({stage:"checking"}),sn(ce.id)},[p]),je=m.useCallback(()=>{sn(null),ue(null)},[]),ge=m.useCallback(()=>{G(null),Ee(null)},[]),Me=m.useCallback(()=>{ot(null)},[]),ye=m.useCallback(()=>{_t&&p.mutate({configurationId:_t.id},{onSuccess(){n({title:"Configuration is now active.",intent:"success",duration:4e3}),je(),c()},onError(ce){n({title:ce instanceof Error?ce.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[je,p,_t,n,c]),ne=m.useCallback(()=>{xt&&g.mutate({configurationId:xt.id},{onSuccess(){n({title:"Active configuration archived.",intent:"success",duration:4e3}),Me(),c()},onError(ce){n({title:ce instanceof Error?ce.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[g,xt,Me,n,c]),we=m.useCallback(()=>{if(!H)return;const ce=oe.trim();if(!ce){Ee("Enter a name for the new draft configuration.");return}Ee(null),x.mutate({sourceConfigurationId:H.id,displayName:ce},{onSuccess(Ae){P(Ae.id),n({title:"Draft created.",intent:"success",duration:3500}),ge(),t(`${Lu(e.id,Ae.id)}/editor`)},onError(Ae){const Ie=Ae instanceof Error?Ae.message:"Unable to duplicate configuration.";Ee(Ie)}})},[ge,x,oe,H,t,n,P,e.id]),Te=m.useCallback((ce,Ae)=>{ce.preventDefault(),ce.stopPropagation();const Ie=ce.currentTarget.getBoundingClientRect();ve({configId:Ae,x:Ie.right+8,y:Ie.bottom})},[]),$e=m.useMemo(()=>{if(!V)return[];const ce=W.get(V.id)??uc(V.status),Ae=B===V.id,Ie=[{id:"open-editor",label:"Open editor",onSelect:()=>K(V.id)},{id:"export",label:Ae?"Exporting":"Export",onSelect:()=>{Y(V)},disabled:Ae},{id:"duplicate",label:"Duplicate to edit",onSelect:()=>Oe(V),dividerAbove:!0}];return ce==="active"&&Ie.push({id:"archive",label:"Archive",onSelect:()=>ot(V.id),danger:!0,dividerAbove:!0}),Ie},[V,B,Y,K,W,Oe]),at=m.useCallback(ce=>{M(null),_(ce.target.files?.[0]??null),ce.target.value=""},[]),ft=ce=>{ce.preventDefault();const Ae=b.trim();if(!Ae){C("Enter a display name for the configuration.");return}C(null),d.mutate({displayName:Ae,source:{type:"template"}},{onSuccess(Ie){P(Ie.id),t(Lu(e.id,Ie.id))}})},Ot=ce=>{ce.preventDefault();const Ae=j.trim();if(!Ae){M("Enter a display name for the imported configuration.");return}if(!N){M("Select a .zip file to import.");return}M(null),f.mutate({displayName:Ae,file:N},{onSuccess(Ie){P(Ie.id),_(null),l.refetch(),t(Lu(e.id,Ie.id))},onError(Ie){M(Ie instanceof Error?Ie.message:"Unable to import configuration.")}})},Tt=S??(d.error instanceof Error?d.error.message:null),Lt=b.trim().length>0&&!d.isPending,cn=j.trim().length>0&&!!N&&!f.isPending,gr=ce=>i.jsx(Ht,{label:"Template",children:i.jsx(kt,{value:lee,readOnly:!0,disabled:ce})});return l.isLoading?i.jsx(At,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):l.isError?i.jsx(At,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):T.length===0?i.jsx(At,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:i.jsxs("div",{className:"space-y-6 text-left",children:[i.jsxs("form",{onSubmit:ft,className:"space-y-4 rounded-xl border border-border bg-card p-4 shadow-sm",children:[i.jsx(Ht,{label:"Configuration name",required:!0,children:i.jsx(kt,{value:b,onChange:ce=>w(ce.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),gr(d.isPending),Tt?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:Tt}):null,i.jsx(ke,{type:"submit",className:"w-full",disabled:!Lt,isLoading:d.isPending,children:"Create from template"})]}),i.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 shadow-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Import configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),i.jsxs("form",{onSubmit:Ot,className:"mt-3 space-y-4",children:[i.jsx(Ht,{label:"Configuration name",required:!0,children:i.jsx(kt,{value:j,onChange:ce=>E(ce.target.value),placeholder:"Imported configuration",disabled:f.isPending})}),i.jsxs(Ht,{label:"Archive (.zip)",required:!0,children:[i.jsx(kt,{type:"file",ref:A,accept:".zip",onChange:at,disabled:f.isPending}),N?i.jsx("p",{className:"mt-1 text-xs text-muted-foreground","aria-live":"polite",children:N.name}):null]}),R?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,i.jsx(ke,{type:"submit",className:"w-full",disabled:!cn,isLoading:f.isPending,children:"Import archive"})]})]})]})}):i.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[i.jsxs("section",{className:"space-y-4 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Configurations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage draft, active, and archived configurations for this workspace."})]}),ae?i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>q(ae.id),children:"Resume last opened"}):null]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsx("div",{className:"border-b border-border px-4 py-3",children:i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Active configuration"})}),I?i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(I.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:I.display_name}),i.jsx(Im,{status:I.status}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Used for extraction runs"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",wv(I.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(ke,{size:"sm",onClick:ce=>{ce.stopPropagation(),Oe(I)},children:"Duplicate to edit"}),i.jsx(ke,{size:"sm",variant:"ghost",onClick:ce=>Te(ce,I.id),children:""})]})]}):i.jsxs("div",{className:"space-y-2 p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"No active configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Extraction runs will be blocked until you make a draft configuration active."})]})]}),i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:["Drafts (",F.length,")"]}),F.length===0&&I?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicate Active to start editing."}):null]}),F.length?i.jsx("div",{className:"divide-y divide-border",children:F.map(ce=>i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(ce.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:ce.display_name}),i.jsx(Im,{status:ce.status}),ae?.id===ce.id?i.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",wv(ce.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(ke,{size:"sm",variant:"secondary",onClick:Ae=>{Ae.stopPropagation(),De(ce)},children:"Make active"}),i.jsx(ke,{size:"sm",variant:"ghost",onClick:Ae=>Te(Ae,ce.id),children:""})]})]},ce.id))}):i.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No draft configurations."})]}),i.jsxs("div",{className:"rounded-xl border border-border",children:[i.jsx("div",{className:"border-b border-border px-4 py-3",children:i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:["Archived (",U.length,")"]})}),U.length?i.jsx("div",{className:"divide-y divide-border",children:U.map(ce=>i.jsxs("div",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center hover:bg-background",children:[i.jsxs("button",{type:"button",className:"cursor-pointer space-y-1 rounded-md text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background",onClick:()=>q(ce.id),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:ce.display_name}),i.jsx(Im,{status:ce.status})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Updated ",wv(ce.updated_at)]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx(ke,{size:"sm",onClick:Ae=>{Ae.stopPropagation(),Oe(ce)},children:"Duplicate to edit"}),i.jsx(ke,{size:"sm",variant:"ghost",onClick:Ae=>Te(Ae,ce.id),children:""})]})]},ce.id))}):i.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No archived configurations."})]})]})]}),i.jsxs("aside",{className:"space-y-4 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"New configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),i.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[i.jsx(Ht,{label:"Configuration name",required:!0,children:i.jsx(kt,{value:b,onChange:ce=>w(ce.target.value),placeholder:"Membership normalization",disabled:d.isPending})}),gr(d.isPending),Tt?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:Tt}):null,i.jsx(ke,{type:"submit",className:"w-full",disabled:!Lt,isLoading:d.isPending,children:"Create from template"})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Import configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),i.jsxs("form",{onSubmit:Ot,className:"mt-3 space-y-4",children:[i.jsx(Ht,{label:"Configuration name",required:!0,children:i.jsx(kt,{value:j,onChange:ce=>E(ce.target.value),placeholder:"Imported configuration",disabled:f.isPending})}),i.jsxs(Ht,{label:"Archive (.zip)",required:!0,children:[i.jsx(kt,{type:"file",ref:A,accept:".zip",onChange:at,disabled:f.isPending}),N?i.jsx("p",{className:"mt-1 text-xs text-muted-foreground","aria-live":"polite",children:N.name}):null]}),R?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:R}):null,i.jsx(ke,{type:"submit",className:"w-full",disabled:!cn,isLoading:f.isPending,children:"Import archive"})]})]})]}),i.jsx(qo,{open:!!te,position:te?{x:te.x,y:te.y}:null,onClose:()=>ve(null),items:$e,appearance:"light"}),i.jsx(Zr,{open:!!_t,title:Z?.stage==="checking"?"Checking configuration":Z?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:Z?.stage==="checking"?"Running validation before activation.":Z?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":I&&_t?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${I.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:Z?.stage==="issues"?"Open editor":Z?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:je,onConfirm:()=>{if(!_t){je();return}if(Z?.stage==="issues"){je(),K(_t.id);return}if(Z?.stage==="error"){je();return}ye()},isConfirming:p.isPending,confirmDisabled:Z?.stage==="checking"||p.isPending,children:Z?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):Z?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-background p-3 text-xs text-foreground",children:Z.issues.map(ce=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:ce.path}),i.jsx("p",{className:"text-muted-foreground",children:ce.message})]},`${ce.path}:${ce.message}`))})]}):Z?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:Z.message}):null}),i.jsx(Zr,{open:!!xt,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:Me,onConfirm:ne,isConfirming:g.isPending,confirmDisabled:g.isPending,children:g.error?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:g.error instanceof Error?g.error.message:"Unable to archive configuration."}):null}),i.jsxs(Zr,{open:!!H,title:"Duplicate configuration",description:H?`Create a new draft based on ${H.display_name}.`:void 0,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:ge,onConfirm:we,isConfirming:x.isPending,confirmDisabled:x.isPending||oe.trim().length===0,children:[i.jsx(Ht,{label:"New configuration name",required:!0,children:i.jsx(kt,{value:oe,onChange:ce=>le(ce.target.value),placeholder:"Copy of My Config",disabled:x.isPending})}),de?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:de}):null]})]})}function wv(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function uee({params:e}={}){const{workspace:t}=Hs(),n=an(),{notifyToast:r}=hd(),o=e?.configId,l=m.useMemo(()=>_y(t.id),[t.id]),c=Vk({workspaceId:t.id,configurationId:o}),{refetch:d}=c,f=Ih({workspaceId:t.id}),{refetch:p}=f,g=c.data,x=g?.id??o??"",b=uc(g?.status),w=b==="draft";m.useEffect(()=>{!o||!g||ky(l,o)},[o,g,l]);const S=x?`/workspaces/${t.id}/config-builder/${encodeURIComponent(x)}`:"",C=m.useCallback(()=>{S&&n(`${S}/editor`)},[S,n]),j=m.useMemo(()=>{const le=f.data?.items??[];for(const de of le)if(uc(de.status)==="active")return de;return null},[f.data?.items]),E=m.useMemo(()=>{const le=f.data?.items??[];return new Set(le.map(de=>de.display_name.trim().toLowerCase()))},[f.data?.items]),[N,_]=m.useState(null),R=m.useCallback(le=>{le.preventDefault();const de=le.currentTarget.getBoundingClientRect();_({x:de.right+8,y:de.bottom})},[]),[M,D]=m.useState(!1),O=m.useCallback(async()=>{if(g){D(!0);try{const le=await cy(t.id,g.id),de=le.filename??`${g.id}.zip`,Ee=URL.createObjectURL(le.blob),Oe=document.createElement("a");Oe.href=Ee,Oe.download=de,Oe.click(),URL.revokeObjectURL(Ee),r({title:`Exported ${de}`,intent:"success",duration:4e3})}catch(le){const de=le instanceof Error?le.message:"Unable to export configuration.";r({title:de,intent:"danger",duration:6e3})}finally{D(!1)}}},[g,r,t.id]),A=uy(t.id),L=Bk(t.id),T=dy(t.id),[W,I]=m.useState(!1),[F,U]=m.useState(null);m.useEffect(()=>{if(!W||!g||!w)return;let le=!1;return U({stage:"checking"}),ly(t.id,g.id).then(de=>{if(!le){if(Array.isArray(de.issues)&&de.issues.length>0){U({stage:"issues",issues:de.issues});return}U({stage:"confirm"})}}).catch(de=>{if(le)return;const Ee=de instanceof Error?de.message:"Unable to validate configuration.";U({stage:"error",message:Ee})}),()=>{le=!0}},[g,w,W,t.id]);const ae=m.useCallback(()=>{A.reset(),U({stage:"checking"}),I(!0)},[A]),[P,q]=m.useState(!1),[K,te]=m.useState(""),[ve,V]=m.useState(null),B=m.useCallback(()=>{g&&(T.reset(),V(null),te(Ry(g.display_name,E)),q(!0))},[g,T,E]),[re,Y]=m.useState(!1),z=m.useCallback(()=>{L.reset(),Y(!0)},[L]),G=m.useMemo(()=>{const le=[{id:"export",label:M?"Exporting":"Export",onSelect:()=>void O(),disabled:M},{id:"duplicate",label:"Duplicate to edit",onSelect:B,dividerAbove:!0}];return b==="active"&&le.push({id:"archive",label:"Archive",onSelect:z,danger:!0,dividerAbove:!0}),le},[M,O,z,B,b]),H=m.useCallback(()=>{if(!g)return;const le=K.trim();if(!le){V("Enter a name for the new draft configuration.");return}V(null),T.mutate({sourceConfigurationId:g.id,displayName:le},{onSuccess(de){r({title:"Draft created.",intent:"success",duration:3500}),q(!1),n(`/workspaces/${t.id}/config-builder/${encodeURIComponent(de.id)}/editor`)},onError(de){V(de instanceof Error?de.message:"Unable to duplicate configuration.")}})},[g,T,K,n,r,t.id]),ee=m.useCallback(()=>{g&&A.mutate({configurationId:g.id},{onSuccess(){r({title:"Configuration is now active.",intent:"success",duration:4e3}),I(!1),U(null),p(),d()},onError(le){r({title:le instanceof Error?le.message:"Unable to make configuration active.",intent:"danger",duration:6e3})}})},[g,A,r,d,p]),oe=m.useCallback(()=>{g&&L.mutate({configurationId:g.id},{onSuccess(){r({title:"Active configuration archived.",intent:"success",duration:4e3}),Y(!1),p(),d()},onError(le){r({title:le instanceof Error?le.message:"Unable to archive configuration.",intent:"danger",duration:6e3})}})},[L,g,r,d,p]);return o?c.isLoading?i.jsx(At,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):c.isError?i.jsx(At,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):g?i.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[i.jsxs("section",{className:"space-y-3 rounded-2xl border border-border bg-card p-6 shadow-sm",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h1",{className:"text-xl font-semibold text-foreground",children:g.display_name}),i.jsx(Im,{status:g.status})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[w?i.jsx(ke,{variant:"secondary",onClick:ae,children:"Make active"}):i.jsx(ke,{onClick:B,children:"Duplicate to edit"}),i.jsx(ke,{variant:"ghost",onClick:C,children:"Open editor"}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:R,"aria-label":"More actions",children:""})]})]}),w?null:i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Read-only configuration"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Active and archived configurations cant be edited. Duplicate this configuration to create a draft you can change."}),i.jsx("div",{className:"mt-3",children:i.jsx(ke,{size:"sm",onClick:B,children:"Duplicate to edit"})})]}),i.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Config ID"}),i.jsx("dd",{className:"text-sm text-foreground",children:g.id})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Status"}),i.jsx("dd",{className:"text-sm text-foreground",children:uc(g.status)})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Updated"}),i.jsx("dd",{className:"text-sm text-foreground",children:WE(g.updated_at)})]}),g.activated_at?i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Activated"}),i.jsx("dd",{className:"text-sm text-foreground",children:WE(g.activated_at)})]}):null]})]}),i.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-border-strong bg-background p-6",children:[i.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Overview"}),i.jsx("p",{className:"mt-2 max-w-2xl text-sm text-muted-foreground",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]}),i.jsx(qo,{open:!!N,position:N,onClose:()=>_(null),items:G,appearance:"light"}),i.jsx(Zr,{open:W,title:F?.stage==="checking"?"Checking configuration":F?.stage==="issues"?"Fix validation issues first":"Make configuration active?",description:F?.stage==="checking"?"Running validation before activation.":F?.stage==="issues"?"This configuration has validation issues and cant be activated yet.":j?`This becomes the workspaces live configuration for extraction runs. The current active configuration ${j.display_name} will be archived.`:"This becomes the workspaces live configuration for extraction runs.",confirmLabel:F?.stage==="issues"?"Open editor":F?.stage==="error"?"Close":"Make active",cancelLabel:"Cancel",onCancel:()=>{I(!1),U(null)},onConfirm:()=>{if(F?.stage==="issues"){I(!1),C();return}if(F?.stage==="error"){I(!1),U(null);return}ee()},isConfirming:A.isPending,confirmDisabled:F?.stage==="checking"||A.isPending,children:F?.stage==="checking"?i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-border border-t-brand-600","aria-hidden":"true"}),i.jsx("span",{children:"Validating"})]}):F?.stage==="issues"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-foreground",children:"Issues:"}),i.jsx("ul",{className:"max-h-56 space-y-2 overflow-auto rounded-lg border border-border bg-background p-3 text-xs text-foreground",children:F.issues.map(le=>i.jsxs("li",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold",children:le.path}),i.jsx("p",{className:"text-muted-foreground",children:le.message})]},`${le.path}:${le.message}`))})]}):F?.stage==="error"?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:F.message}):null}),i.jsx(Zr,{open:re,title:"Archive active configuration?",description:"This will leave the workspace with no active configuration. Extraction runs will be blocked until you make a draft active.",confirmLabel:"Archive",cancelLabel:"Cancel",tone:"danger",onCancel:()=>Y(!1),onConfirm:oe,isConfirming:L.isPending,confirmDisabled:L.isPending,children:L.error?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:L.error instanceof Error?L.error.message:"Unable to archive configuration."}):null}),i.jsxs(Zr,{open:P,title:"Duplicate configuration",description:`Create a new draft based on ${g.display_name}.`,confirmLabel:"Create draft",cancelLabel:"Cancel",onCancel:()=>q(!1),onConfirm:H,isConfirming:T.isPending,confirmDisabled:T.isPending||K.trim().length===0,children:[i.jsx(Ht,{label:"New configuration name",required:!0,children:i.jsx(kt,{value:K,onChange:le=>te(le.target.value),placeholder:"Copy of My Config",disabled:T.isPending})}),ve?i.jsx("p",{className:"text-sm font-medium text-danger-600",children:ve}):null]})]}):i.jsx(At,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):i.jsx(At,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function WE(e){if(!e)return"unknown";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function dee({params:e}={}){const{workspace:t}=Hs(),{session:n,windowState:r,openSession:o,closeSession:l,minimizeWindow:c,maximizeWindow:d,restoreWindow:f,shouldBypassUnsavedGuard:p}=lM(),g=e?.configId,x=Vk({workspaceId:t.id,configurationId:g});if(m.useEffect(()=>{g||l()},[g,l]),m.useEffect(()=>{if(!g||x.isError)return;const j=x.data?.display_name??g;o({workspaceId:t.id,configId:g,configName:`${t.name}  ${j}`,configDisplayName:j})},[g,x.data?.display_name,x.isError,t.id,t.name,o]),m.useEffect(()=>{g&&(x.isError||x.isSuccess&&!x.data)&&l()},[l,g,x.data,x.isError,x.isSuccess]),!g)return i.jsx(At,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(x.isLoading)return i.jsx(At,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(x.isError)return i.jsx(At,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!x.data)return i.jsx(At,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const b=n&&n.configId===g?n:null,w=!!(b&&r==="minimized"),S=!!(b&&r==="restored"),C=!!(b&&r==="maximized");return S&&b?i.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:i.jsx(oM,{workspaceId:t.id,configId:b.configId,configName:b.configName,configDisplayName:x.data.display_name??b.configId,windowState:"restored",onMinimizeWindow:c,onMaximizeWindow:d,onRestoreWindow:f,onCloseWorkbench:l,shouldBypassUnsavedGuard:p})}):C?i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(At,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):w?i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(At,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):i.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:i.jsx(At,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function fee({workspaceName:e,navGroups:t,activeSectionId:n,activeSectionLabel:r,activeSectionDescription:o,children:l}){const d=t.flatMap(f=>f.items).find(f=>f.id===n)?.tone??"default";return i.jsx("div",{className:"mx-auto w-full max-w-6xl px-6 py-8",children:i.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row",children:[i.jsxs("aside",{className:"w-full lg:sticky lg:top-6 lg:w-64 lg:shrink-0",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:"Settings"}),i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Workspace preferences and access."})]}),i.jsx("nav",{className:"space-y-6","aria-label":"Workspace settings sections",children:t.map(f=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:f.label}),i.jsx("ul",{className:"space-y-1",children:f.items.map(p=>{const g=p.id===n,x=p.tone==="danger"?{active:"bg-danger-50 text-danger-700",idle:"text-danger-600 hover:bg-danger-50/60"}:{active:"bg-accent text-foreground",idle:"text-foreground hover:bg-muted/40"},b=fe("group flex w-full items-start gap-3 rounded-md px-3 py-2 text-left text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",g?x.active:x.idle,p.disabled&&"cursor-not-allowed opacity-50 hover:bg-transparent");return p.disabled?i.jsx("li",{className:"w-full",children:i.jsx("div",{className:b,"aria-disabled":!0,children:i.jsx("div",{className:"flex min-w-0 flex-col",children:i.jsx("span",{className:"font-semibold",children:p.label})})})},p.id):i.jsx("li",{className:"w-full",children:i.jsx(My,{to:p.href,className:b,children:i.jsx("div",{className:"flex min-w-0 flex-col",children:i.jsx("span",{className:"font-semibold",children:p.label})})})},p.id)})})]},f.id))})]}),i.jsxs("main",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:fe("mb-6 border-b border-border pb-4",d==="danger"&&"border-danger-200"),children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:r}),o?i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:o}):null]}),l]})]})})}const sA=m.createContext(null);function mee({value:e,children:t}){return i.jsx(sA.Provider,{value:e,children:t})}function oA(){const e=m.useContext(sA);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function Li({title:e,description:t,actions:n,children:r,tone:o="default",className:l}){return i.jsxs("section",{className:fe("rounded-xl border border-border bg-card p-6",o==="danger"&&"border-danger-200 bg-danger-50/20",l),children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),t?i.jsx("p",{className:"text-sm text-muted-foreground",children:t}):null]}),n?i.jsx("div",{className:"flex items-center gap-2",children:n}):null]}),r?i.jsx("div",{className:"mt-4 space-y-4",children:r}):null]})}function hee(){const{workspace:e,hasPermission:t}=Hs(),n=an(),r=It(),[o,l]=m.useState(!1),[c,d]=m.useState(""),[f,p]=m.useState(null),g=Ln({mutationFn:()=>gI(e.id),onSuccess:()=>{r.invalidateQueries({queryKey:yn.all()}),n("/workspaces",{replace:!0})},onError:w=>{p(w instanceof Error?w.message:"Unable to delete workspace.")}}),x=t("workspace.delete")||t("workspace.settings.manage"),b=m.useMemo(()=>{const w=c.trim().toLowerCase();return w.length>0&&(w===e.slug.toLowerCase()||w===e.name.toLowerCase())},[c,e.name,e.slug]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Li,{title:"Delete workspace",description:"Permanently remove this workspace and all associated data. This action cannot be undone.",tone:"danger",actions:i.jsx(ke,{type:"button",variant:"destructive",size:"sm",onClick:()=>l(!0),disabled:!x||g.isPending,children:g.isPending?"Deleting...":"Delete workspace"}),children:[x?null:i.jsx(Rt,{tone:"warning",children:"You need additional permissions to delete this workspace."}),f?i.jsx(Rt,{tone:"danger",children:f}):null,i.jsx("p",{className:"text-sm text-warning-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),i.jsxs(Zr,{open:o,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{l(!1),d(""),p(null)},onConfirm:()=>{b&&(p(null),g.mutate())},isConfirming:g.isPending,confirmDisabled:!b,children:[i.jsx(Ht,{label:"Workspace slug",required:!0,children:i.jsx(kt,{value:c,onChange:w=>d(w.target.value),placeholder:e.slug,disabled:g.isPending})}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enter ",i.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function aA({when:e,title:t="Discard unsaved changes?",description:n="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:r="Leave without saving",cancelLabel:o="Stay on page"}){const l=an(),[c,d]=m.useState(null),[f,p]=m.useState(!1),g=m.useRef(!1);m.useEffect(()=>{if(!e){p(!1),d(null);return}const w=S=>{S.preventDefault(),S.returnValue=""};return window.addEventListener("beforeunload",w),()=>window.removeEventListener("beforeunload",w)},[e]),ZE(w=>e?g.current?(g.current=!1,!0):(d(w),p(!0),!1):!0,e);const x=()=>{if(!c)return;g.current=!0;const w=c.kind==="replace"||c.kind==="pop";l(c.to,{replace:w}),p(!1),d(null),setTimeout(()=>{g.current=!1},0)},b=()=>{p(!1),d(null)};return i.jsx(Zr,{open:f&&e,title:t,description:n,confirmLabel:r,cancelLabel:o,tone:"danger",onConfirm:x,onCancel:b})}aA.displayName="UnsavedChangesPrompt";function pee({theme:e,onThemeChange:t,themes:n=gN,className:r,label:o="Theme"}){return i.jsxs("div",{className:fe("space-y-2",r),children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:o}),i.jsx("div",{role:"radiogroup","aria-label":o,className:"grid gap-2",children:n.map(l=>{const c=l.id===e;return i.jsxs("button",{type:"button",role:"radio","aria-checked":c,"data-menu-item":!0,onClick:()=>t(l.id),className:fe("flex w-full items-center justify-between gap-3 rounded-lg border px-3 py-2 text-left text-sm font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",c?"border-brand-400 bg-muted text-foreground shadow-sm":"border-border bg-card text-foreground hover:border-border-strong hover:bg-muted"),children:[i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold",children:l.label}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:l.description})]}),c?i.jsx(Va,{className:"h-4 w-4 text-brand-500"}):null]},l.id)})})]})}const gee=Cc({name:fr().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:fr().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function xee(){const{workspace:e,hasPermission:t}=Hs(),n=c_(e.id),r=l_(),{modePreference:o,setModePreference:l,theme:c,setTheme:d}=kb(),[f,p]=m.useState(null),g=t("workspace.settings.manage"),{register:x,handleSubmit:b,formState:{errors:w,isDirty:S},reset:C}=q_({resolver:W_(gee),defaultValues:{name:e.name,slug:e.slug}});m.useEffect(()=>{C({name:e.name,slug:e.slug})},[C,e.name,e.slug]);const j=b(_=>{if(!g){p({tone:"danger",message:"You do not have permission to update workspace details."});return}p(null),n.mutate({name:_.name.trim(),slug:_.slug.trim()},{onSuccess:()=>{p({tone:"success",message:"Workspace details saved."})},onError:R=>{const M=R instanceof Error?R.message:"Unable to save workspace details.";p({tone:"danger",message:M})}})}),E=e.is_default,N=r.isPending;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(aA,{when:S&&!n.isPending}),f?i.jsx(Rt,{tone:f.tone,children:f.message}):null,i.jsx("form",{onSubmit:j,noValidate:!0,className:"space-y-6",children:i.jsxs(Li,{title:"Workspace identity",description:"Update the name and slug. Changes apply immediately across navigation and shared links.",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ht,{label:"Workspace name",required:!0,error:w.name?.message,children:i.jsx(kt,{...x("name"),placeholder:"Finance Operations",disabled:n.isPending||!g})}),i.jsx(Ht,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:w.slug?.message,children:i.jsx(kt,{...x("slug"),placeholder:"finance-ops",disabled:n.isPending||!g})})]}),g?null:i.jsx(Rt,{tone:"warning",children:"You do not have permission to edit workspace identity."}),S&&g?i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 border-t border-border pt-4",children:[i.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>{C(),p(null)},disabled:n.isPending,children:"Discard"}),i.jsx(ke,{type:"submit",size:"sm",disabled:n.isPending,children:n.isPending?"Saving...":"Save changes"})]}):null]})}),i.jsx(Li,{title:"Appearance",description:"Choose a color mode and workspace theme.",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Color mode"}),i.jsx("div",{role:"radiogroup","aria-label":"Color mode",className:"grid gap-2",children:pN.map(_=>{const R=_.value===o;return i.jsxs("button",{type:"button",role:"radio","aria-checked":R,onClick:()=>l(_.value),className:fe("flex w-full items-center justify-between gap-3 rounded-lg border px-3 py-2 text-left text-sm font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-card",R?"border-brand-400 bg-muted text-foreground shadow-sm":"border-border bg-card text-foreground hover:border-border-strong hover:bg-muted"),children:[i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold",children:_.label}),i.jsx("span",{className:"truncate text-xs text-muted-foreground",children:_.description})]}),R?i.jsx(Va,{className:"h-4 w-4 text-brand-500"}):null]},_.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Theme"}),i.jsx(pee,{theme:c,onThemeChange:d,label:"Theme"})]})]})}),i.jsx(Li,{title:"Default workspace",description:"Choose the workspace you land on first after signing in. This only affects your account.",actions:i.jsx(ke,{type:"button",variant:E?"secondary":"default",size:"sm",onClick:()=>{p(null),r.mutate(e.id,{onSuccess:()=>p({tone:"success",message:"Workspace set as your default."}),onError:_=>{const R=_ instanceof Error?_.message:"Unable to set the default workspace right now.";p({tone:"danger",message:R})}})},disabled:E||N,children:N?"Updating...":E?"Default workspace":"Make default"}),children:i.jsx("p",{className:"text-sm text-muted-foreground",children:E?"This workspace is already your default.":"You can switch the default workspace at any time."})})]})}function lw({open:e,title:t,description:n,onClose:r,children:o,footer:l,widthClassName:c="w-full max-w-xl"}){return i.jsx(DM,{open:e,onOpenChange:d=>d?void 0:r(),children:i.jsxs(AM,{children:[i.jsx(OM,{}),i.jsxs(Ty,{"aria-label":t,className:fe("fixed inset-y-0 right-0 left-auto top-0 z-50 flex h-full w-full flex-col gap-0 rounded-none border-l bg-card p-0 shadow-2xl","data-[state=closed]:slide-out-to-right-2 data-[state=open]:slide-in-from-right-2 data-[state=closed]:animate-out data-[state=open]:animate-in",c),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-border px-6 py-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(TM,{className:"text-lg font-semibold text-foreground",children:t}),n?i.jsx(zM,{className:"text-sm text-muted-foreground",children:n}):null]}),i.jsx(ke,{type:"button",variant:"ghost",size:"icon-sm",onClick:r,"aria-label":"Close drawer",className:"text-muted-foreground",children:i.jsx(uo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o}),l?i.jsx("div",{className:"border-t border-border px-6 py-4",children:l}):null]})]})})}const xb=vd,fp={page:1,pageSize:xb};function vee(e){const t=Eb({queryKey:yn.members(e,fp),initialPageParam:1,queryFn:({pageParam:l,signal:c})=>i_(e,{page:typeof l=="number"?l:1,pageSize:xb,signal:c}),getNextPageParam:l=>l.page<l.pageCount?l.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:l=>l}),n=t.data?.pages??[],r=t_(n,l=>l.user_id),o=n[0]?.total??n[n.length-1]?.total??void 0;return{...t,members:r,total:o,pageSize:xb}}function bee(e){const t=It(),n=yn.members(e,fp);return Ln({mutationFn:async({user:r,roleIds:o})=>{const l={user_id:r.id,role_ids:Array.from(o)};return xI(e,l)},onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}function yee(e){const t=It(),n=yn.members(e,fp);return Ln({mutationFn:({userId:r,roleIds:o})=>vI(e,r,{role_ids:Array.from(o)}),onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}function wee(e){const t=It(),n=yn.members(e,fp);return Ln({mutationFn:r=>bI(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:n})}})}const cw=vd,See=vd,mp={page:1,pageSize:cw},Cee={scope:"workspace",page:1,pageSize:See};function iA(e){return kn({queryKey:yn.roles(e,mp),queryFn:({signal:t})=>e_(n=>yI({page:n,pageSize:cw,signal:t})),enabled:e.length>0,staleTime:15e3,placeholderData:t=>t})}function jee(e="workspace"){const t={...Cee,scope:e};return kn({queryKey:yn.permissions(t),queryFn:({signal:n})=>e_(r=>jI({scope:e,page:r,pageSize:t.pageSize,signal:n})),staleTime:6e4,placeholderData:n=>n})}function Eee(e){const t=It(),n=yn.roles(e,mp);return Ln({mutationFn:r=>wI(e,r),onSuccess:r=>{t.setQueryData(n,o=>kee(o,r))},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function Nee(e){const t=It(),n=yn.roles(e,mp);return Ln({mutationFn:({roleId:r,payload:o,ifMatch:l})=>SI(e,r,o,{ifMatch:l}),onSuccess:r=>{t.setQueryData(n,o=>o&&{...o,items:o.items.map(l=>l.id===r.id?r:l)})},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function _ee(e){const t=It(),n=yn.roles(e,mp);return Ln({mutationFn:({roleId:r,ifMatch:o})=>CI(e,r,{ifMatch:o}),onSuccess:(r,{roleId:o})=>{t.setQueryData(n,l=>{if(!l)return l;const c=l.items.filter(d=>d.id!==o);return{...l,items:c,total:typeof l.total=="number"?Math.max(l.total-1,0):l.total}})},onSettled:()=>{t.invalidateQueries({queryKey:n})}})}function kee(e,t){return e?{...e,items:[t,...e.items],total:e.total+1,pageCount:1}:{items:[t],page:1,perPage:cw,pageCount:1,total:1,changesCursor:"0"}}const Ree={xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function Mee(e,t){if(e&&e.trim().length>0){const n=e.trim().split(/\s+/u),r=n[0]?.[0],o=n[n.length-1]?.[0];if(r)return`${r}${o??""}`.toUpperCase()}return t&&t.trim().length>0?t.trim()[0]?.toUpperCase():"?"}function lA({name:e,email:t,size:n="md",className:r}){const o=m.useMemo(()=>Mee(e,t),[e,t]);return i.jsx("span",{"aria-hidden":"true",className:fe("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",Ree[n],r),children:o})}function Dee(){const{workspace:e,hasPermission:t}=Hs(),{params:n}=oA(),r=an(),o=pr(),l=t("workspace.members.manage"),c=vee(e.id),d=iA(e.id),f=bee(e.id),p=yee(e.id),g=wee(e.id),[x,b]=m.useState(null),w=m.useMemo(()=>{const P=c.members,q=new Intl.Collator("en",{sensitivity:"base"});return[...P].sort((K,te)=>{const ve=K.user?.display_name??K.user?.email??K.user_id,V=te.user?.display_name??te.user?.email??te.user_id;return q.compare(ve??"",V??"")})},[c.members]),S=m.useMemo(()=>new Set(w.map(P=>P.user_id)),[w]),C=c.total??w.length,j=!!c.hasNextPage,E=c.isLoading,N=c.isFetchingNextPage,_=m.useMemo(()=>{const P=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((q,K)=>P.compare(q.name,K.name))},[d.data]),R=n[0],M=R==="new",D=R&&R!=="new"?decodeURIComponent(R):null,O=w.find(P=>P.user_id===D),A=`/workspaces/${e.id}/settings/access/members`,L=`${o.search}${o.hash}`,T=()=>r(`${A}${L}`,{replace:!0}),W=()=>r(`${A}/new${L}`),I=P=>r(`${A}/${encodeURIComponent(P)}${L}`),F=async({user:P,roleIds:q})=>{b(null),await f.mutateAsync({user:P,roleIds:q}),b({tone:"success",message:`${P.display_name??P.email} added to the workspace.`}),T()},U=async(P,q)=>{b(null),await p.mutateAsync({userId:P,roleIds:q}),b({tone:"success",message:"Member roles updated."}),T()},ae=async P=>{b(null),await g.mutateAsync(P.user_id),b({tone:"success",message:"Member removed."}),T()};return i.jsxs("div",{className:"space-y-6",children:[x?i.jsx(Rt,{tone:x.tone,children:x.message}):null,c.isError?i.jsx(Rt,{tone:"danger",children:c.error instanceof Error?c.error.message:"Unable to load workspace members."}):null,d.isError?i.jsx(Rt,{tone:"warning",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,i.jsxs(Li,{title:"Workspace members",description:E?"Loading members":`${C} member${C===1?"":"s"} total`,actions:l?i.jsx(ke,{type:"button",size:"sm",onClick:W,children:"Add member"}):null,children:[E?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading members"}):w.length===0?i.jsx("p",{className:"rounded-lg border border-dashed border-border bg-background p-4 text-sm text-muted-foreground",children:"No members yet. Add teammates to collaborate."}):i.jsx("div",{className:"overflow-hidden rounded-xl border border-border",children:i.jsxs($y,{children:[i.jsx(Fy,{children:i.jsxs($a,{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx(Fa,{className:"px-4",children:"Member"}),i.jsx(Fa,{className:"px-4",children:"Roles"}),i.jsx(Fa,{className:"px-4 text-right",children:"Actions"})]})}),i.jsx(Uy,{children:w.map(P=>{const q=P.role_ids.map(te=>_.find(ve=>ve.id===te)?.name??te).sort((te,ve)=>te.localeCompare(ve)),K=P.user?.display_name??P.user?.email??P.user_id;return i.jsxs($a,{className:"text-sm text-foreground",children:[i.jsx(oo,{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{name:P.user?.display_name,email:P.user?.email,size:"sm"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate font-semibold text-foreground",children:K}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:P.user?.email??P.user_id})]})]})}),i.jsx(oo,{className:"px-4 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:q.length===0?i.jsx("span",{className:"text-xs text-muted-foreground",children:"No roles assigned."}):q.map(te=>i.jsx(Xa,{variant:"secondary",className:"text-xs",children:te},`${P.user_id}-${te}`))})}),i.jsx(oo,{className:"px-4 py-3 text-right",children:i.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(P.user_id),disabled:!l,children:"Manage"})})]},P.user_id)})})]})}),j?i.jsx("div",{children:i.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>c.fetchNextPage(),disabled:N,children:N?"Loading more members":"Load more members"})}):null,l?null:i.jsx(Rt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),i.jsx(Aee,{open:M&&l,onClose:T,availableRoles:_,memberIds:S,isSubmitting:f.isPending,onAdd:F}),i.jsx(Oee,{open:!!D&&l,member:O,availableRoles:_,onClose:T,onSaveRoles:P=>U(D??"",P),onRemove:()=>O?ae(O):Promise.resolve(),isSaving:p.isPending,isRemoving:g.isPending})]})}function Aee({open:e,onClose:t,availableRoles:n,memberIds:r,isSubmitting:o,onAdd:l}){const[c,d]=m.useState(""),[f,p]=m.useState([]),[g,x]=m.useState(""),[b,w]=m.useState(""),[S,C]=m.useState(null);m.useEffect(()=>{const A=window.setTimeout(()=>w(g.trim()),250);return()=>window.clearTimeout(A)},[g]),m.useEffect(()=>{e||(d(""),p([]),x(""),C(null))},[e]);const j=G_({enabled:e,search:b,pageSize:50}),E=m.useMemo(()=>{const A=new Intl.Collator("en",{sensitivity:"base"});return j.users.filter(L=>!r.has(L.id)).sort((L,T)=>{const W=L.display_name??L.email,I=T.display_name??T.email;return A.compare(W??"",I??"")})},[r,j.users]),N=m.useMemo(()=>{if(!c||E.some(L=>L.id===c))return E;const A=j.users.find(L=>L.id===c);return A?[A,...E]:E},[E,c,j.users]),_=m.useMemo(()=>N.find(A=>A.id===c),[N,c]),R=!!_&&f.length>0&&!o,M=g.trim().length>0&&g.trim().length<2,D=j.isPending&&j.users.length===0,O=async A=>{A.preventDefault(),C(null);const L=_;if(!L){C("Select a user to add.");return}if(f.length===0){C("Select at least one role for this member.");return}try{await l({user:L,roleIds:f}),d(""),x(""),p([])}catch(T){const W=T instanceof Error?T.message:"Unable to add member.";C(W)}};return i.jsx(lw,{open:e,onClose:t,title:"Add member",description:"Add an existing user and choose their workspace roles.",children:i.jsxs("form",{className:"space-y-4",onSubmit:O,children:[S?i.jsx(Rt,{tone:"danger",children:S}):null,j.isError?i.jsx(Rt,{tone:"warning",children:j.error instanceof Error?j.error.message:"Unable to load the user directory."}):null,i.jsxs(Ht,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[i.jsx(kt,{value:g,onChange:A=>x(A.target.value),placeholder:"Search users",disabled:o||D}),M?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter at least two characters to search the full directory."}):null]}),i.jsxs(Ht,{label:"User",required:!0,children:[i.jsxs(Wa,{value:c||void 0,onValueChange:A=>{d(A),A&&x("")},disabled:o||D,children:[i.jsx(Ya,{className:"w-full",children:i.jsx(Ga,{placeholder:"Select a user"})}),i.jsx(Ka,{children:N.map(A=>i.jsx(Ko,{value:A.id,children:A.display_name?`${A.display_name} (${A.email})`:A.email},A.id))})]}),E.length===0&&g?i.jsxs("p",{className:"text-xs text-muted-foreground",children:['No users matched "',g,'".']}):null]}),i.jsxs("fieldset",{className:"space-y-2",children:[i.jsx("legend",{className:"text-sm font-semibold text-foreground",children:"Roles"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign at least one role to grant access."}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No workspace roles available yet."}):n.map(A=>i.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border-strong",checked:f.includes(A.id),onChange:L=>p(T=>L.target.checked?[...T,A.id]:T.filter(W=>W!==A.id)),disabled:o}),i.jsx("span",{children:A.name})]},A.id))}),f.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," role(s) selected."]}):null]}),j.hasNextPage?i.jsx("div",{className:"pt-2",children:i.jsx(ke,{type:"button",variant:"ghost",onClick:()=>j.fetchNextPage(),disabled:j.isFetchingNextPage,children:j.isFetchingNextPage?"Loading more users":"Load more users"})}):null,i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ke,{type:"button",variant:"ghost",onClick:t,disabled:o,children:"Cancel"}),i.jsx(ke,{type:"submit",disabled:!R,children:o?"Adding...":"Add member"})]})]})})}function Oee({open:e,member:t,availableRoles:n,onClose:r,onSaveRoles:o,onRemove:l,isSaving:c,isRemoving:d}){const[f,p]=m.useState([]),[g,x]=m.useState(null),[b,w]=m.useState(!1);m.useEffect(()=>{if(!e||!t){p([]),x(null),w(!1);return}p(t.role_ids),x(null),w(!1)},[t,e]);const S=async()=>{if(t){x(null);try{await o(f)}catch(E){const N=E instanceof Error?E.message:"Unable to save member roles.";x(N)}}},C=async()=>{if(t){x(null);try{await l()}catch(E){const N=E instanceof Error?E.message:"Unable to remove member.";x(N)}finally{w(!1)}}},j=t?t.user?.display_name??t.user?.email??t.user_id:"Member details";return i.jsxs(i.Fragment,{children:[i.jsxs(lw,{open:e,onClose:r,title:j,description:t?"Update roles or remove this member from the workspace.":void 0,children:[t?i.jsxs("div",{className:"space-y-4",children:[g?i.jsx(Rt,{tone:"danger",children:g}):null,i.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border bg-background p-3",children:[i.jsx(lA,{name:t.user?.display_name,email:t.user?.email,size:"md"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-base font-semibold text-foreground",children:t.user?.display_name??t.user?.email??t.user_id}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.user?.email??"No email available"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",t.user_id]})]})]}),i.jsxs("fieldset",{className:"space-y-3",children:[i.jsx("legend",{className:"text-sm font-semibold text-foreground",children:"Roles"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select the roles this member should have inside the workspace."}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No workspace roles available."}):n.map(E=>i.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border-strong",checked:f.includes(E.id),onChange:N=>p(_=>N.target.checked?Array.from(new Set([..._,E.id])):_.filter(R=>R!==E.id)),disabled:c}),i.jsx("span",{children:E.name})]},E.id))}),f.length>0?i.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," role(s) selected."]}):null]})]}):i.jsx(Rt,{tone:"warning",children:"This member could not be found."}),i.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[i.jsx(ke,{type:"button",variant:"ghost",onClick:r,disabled:c||d,children:"Close"}),i.jsxs("div",{className:"flex items-center gap-2",children:[t?i.jsx(ke,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(!0),disabled:d,children:d?"Removing...":"Remove"}):null,i.jsx(ke,{type:"button",onClick:S,disabled:!t||c,children:c?"Saving...":"Save changes"})]})]})]}),i.jsx(Zr,{open:b,title:"Remove member?",description:t?`Remove ${t.user?.display_name??t.user?.email??t.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>w(!1),onConfirm:C,isConfirming:d})]})}function Tee(){const{workspace:e,hasPermission:t}=Hs(),n=c_(e.id),[r,o]=m.useState(null),l=t("workspace.settings.manage"),c=e.processing_paused??!1,d=()=>{!l||n.isPending||(o(null),n.mutate({processing_paused:!c},{onSuccess:()=>{o({tone:"success",message:c?"Processing resumed for this workspace.":"Processing paused for this workspace."})},onError:f=>{const p=f instanceof Error?f.message:"Unable to update processing state.";o({tone:"danger",message:p})}}))};return i.jsxs("div",{className:"space-y-6",children:[r?i.jsx(Rt,{tone:r.tone,children:r.message}):null,i.jsxs(Li,{title:"Processing queue",description:c?"Uploads are stored, but runs will not start until processing is resumed.":"Runs start automatically after upload when an active configuration is available.",actions:i.jsx(ke,{type:"button",variant:c?"default":"secondary",size:"sm",onClick:d,disabled:!l||n.isPending,children:n.isPending?"Updating...":c?"Resume processing":"Pause processing"}),children:[l?null:i.jsx(Rt,{tone:"warning",children:"You need workspace settings permissions to update processing behavior."}),c?i.jsx("div",{className:"rounded-xl border border-warning-200 bg-warning-50 px-3 py-2 text-xs text-warning-800",children:"Processing is paused. Pending documents will remain in a waiting state."}):null]})]})}function GE(...e){const t=e.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0).join(":");return t.length>0?`W/"${t}"`:null}function zee(){const{workspace:e,hasPermission:t}=Hs(),{params:n}=oA(),r=an(),o=pr(),l=t("workspace.roles.manage"),c=iA(e.id),d=jee(),f=Eee(e.id),p=Nee(e.id),g=_ee(e.id),[x,b]=m.useState(null),w=m.useMemo(()=>(d.data?.items??[]).filter(I=>I.scope_type==="workspace"),[d.data]),S=m.useMemo(()=>{const I=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).slice().sort((F,U)=>I.compare(F.name,U.name))},[c.data]),C=c.data?.total??S.length,j=n[0],E=j==="new",N=j&&j!=="new"?decodeURIComponent(j):null,_=S.find(I=>I.id===N),R=`/workspaces/${e.id}/settings/access/roles`,M=`${o.search}${o.hash}`,D=()=>r(`${R}${M}`,{replace:!0}),O=()=>r(`${R}/new${M}`),A=I=>r(`${R}/${encodeURIComponent(I)}${M}`),L=async I=>{b(null),await f.mutateAsync({name:I.name.trim(),slug:I.slug.trim()||void 0,description:I.description.trim()||void 0,permissions:I.permissions}),b({tone:"success",message:"Role created."}),D()},T=async(I,F)=>{b(null);const U=GE(I,_?.updatedAt??_?.createdAt??null);await p.mutateAsync({roleId:I,payload:{name:F.name.trim(),description:F.description.trim()||void 0,permissions:F.permissions},ifMatch:U}),b({tone:"success",message:"Role updated."}),D()},W=async I=>{b(null);const F=GE(I.id,I.updatedAt??I.createdAt??null);await g.mutateAsync({roleId:I.id,ifMatch:F}),b({tone:"success",message:`Deleted role "${I.name}".`}),D()};return i.jsxs("div",{className:"space-y-6",children:[x?i.jsx(Rt,{tone:x.tone,children:x.message}):null,c.isError?i.jsx(Rt,{tone:"danger",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,d.isError?i.jsx(Rt,{tone:"warning",children:d.error instanceof Error?d.error.message:"Unable to load permission catalog."}):null,i.jsxs(Li,{title:"Workspace roles",description:c.isLoading?"Loading roles":`${C} role${C===1?"":"s"} total`,actions:l?i.jsx(ke,{type:"button",size:"sm",onClick:O,children:"New role"}):null,children:[c.isLoading?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading roles"}):S.length===0?i.jsx("p",{className:"rounded-lg border border-dashed border-border bg-background p-4 text-sm text-muted-foreground",children:"No workspace roles yet. Create one to tailor permissions."}):i.jsx("div",{className:"overflow-hidden rounded-xl border border-border",children:i.jsxs($y,{children:[i.jsx(Fy,{children:i.jsxs($a,{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx(Fa,{className:"px-4",children:"Role"}),i.jsx(Fa,{className:"px-4",children:"Slug"}),i.jsx(Fa,{className:"px-4",children:"Permissions"}),i.jsx(Fa,{className:"px-4 text-right",children:"Actions"})]})}),i.jsx(Uy,{children:S.map(I=>i.jsxs($a,{className:"text-sm text-foreground",children:[i.jsx(oo,{className:"px-4 py-3",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("p",{className:"font-semibold text-foreground",children:I.name}),I.is_system?i.jsx(Xa,{variant:"secondary",className:"text-[11px] uppercase tracking-wide",children:"System"}):null,I.is_editable?null:i.jsx(Xa,{variant:"outline",className:"border-warning-200 text-[11px] uppercase tracking-wide text-warning-700",children:"Locked"})]})}),i.jsx(oo,{className:"px-4 py-3 text-muted-foreground",children:I.slug}),i.jsxs(oo,{className:"px-4 py-3 text-muted-foreground",children:[I.permissions.length," permission",I.permissions.length===1?"":"s"]}),i.jsx(oo,{className:"px-4 py-3 text-right",children:i.jsx(ke,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(I.id),disabled:!l,children:"Manage"})})]},I.id))})]})}),l?null:i.jsx(Rt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),i.jsx(YE,{open:E&&l,mode:"create",permissions:w,onClose:D,onSave:I=>L(I),isSaving:f.isPending,isDeleting:!1}),i.jsx(YE,{open:!!N&&l,mode:"edit",role:_,permissions:w,onClose:D,onSave:I=>N?T(N,I):Promise.resolve(),onDelete:_?()=>W(_):void 0,isSaving:p.isPending,isDeleting:g.isPending})]})}function YE({open:e,mode:t,role:n,permissions:r,onClose:o,onSave:l,onDelete:c,isSaving:d,isDeleting:f}){const[p,g]=m.useState({name:"",slug:"",description:"",permissions:[]}),[x,b]=m.useState(""),[w,S]=m.useState(null),[C,j]=m.useState(!1),[E,N]=m.useState("");m.useEffect(()=>{if(!e){S(null),b(""),j(!1),N("");return}g(t==="edit"&&n?{name:n.name,slug:n.slug,description:n.description??"",permissions:n.permissions}:{name:"",slug:"",description:"",permissions:[]})},[t,e,n]);const _=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,R=t==="edit"&&!n,M=t==="create"||(n?.is_editable??!1),D=t==="edit"&&n&&n.is_editable&&!n.is_system&&c,O=m.useMemo(()=>{const F=x.trim().toLowerCase();return F?r.filter(U=>`${U.label} ${U.key}`.toLowerCase().includes(F)):r},[x,r]),A=(F,U)=>{g(ae=>({...ae,permissions:U?Array.from(new Set([...ae.permissions??[],F])):(ae.permissions??[]).filter(P=>P!==F)}))},L=async()=>{if(S(null),R){S("This role could not be found.");return}if(!p.name.trim()){S("Role name is required.");return}if(t==="create"&&p.slug&&!_.test(p.slug)){S("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await l({...p,name:p.name.trim(),slug:t==="create"?p.slug.trim():n?.slug??"",description:p.description.trim(),permissions:p.permissions})}catch(F){const U=F instanceof Error?F.message:"Unable to save role.";S(U)}},T=async()=>{if(!(!c||!n)){S(null);try{await c()}catch(F){const U=F instanceof Error?F.message:"Unable to delete role.";S(U)}finally{j(!1),N("")}}},W=i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(ke,{type:"button",variant:"ghost",onClick:o,disabled:d||f,children:"Close"}),i.jsxs("div",{className:"flex items-center gap-2",children:[D?i.jsx(ke,{type:"button",variant:"destructive",size:"sm",onClick:()=>j(!0),disabled:f,children:f?"Deleting...":"Delete"}):null,i.jsx(ke,{type:"button",onClick:L,disabled:R||!M||d,children:d?"Saving...":t==="create"?"Create role":"Save changes"})]})]}),I=t==="create"?"New role":n?.name??"Role details";return i.jsxs(i.Fragment,{children:[i.jsxs(lw,{open:e,onClose:o,title:I,description:t==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:W,children:[w?i.jsx(Rt,{tone:"danger",children:w}):null,t==="edit"&&n&&!n.is_editable?i.jsx(Rt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,R?i.jsx(Rt,{tone:"warning",children:"This role could not be found."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ht,{label:"Role name",required:!0,children:i.jsx(kt,{value:p.name,onChange:F=>g(U=>({...U,name:F.target.value})),placeholder:"Data reviewer",disabled:d||!M})}),t==="create"?i.jsx(Ht,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:i.jsx(kt,{value:p.slug,onChange:F=>g(U=>({...U,slug:F.target.value})),placeholder:"data-reviewer",disabled:d||!M})}):i.jsx(Ht,{label:"Role slug",children:i.jsx(kt,{value:n?.slug??"",disabled:!0})}),i.jsx(Ht,{label:"Description",hint:"Optional context about what this role controls.",children:i.jsx(kt,{value:p.description,onChange:F=>g(U=>({...U,description:F.target.value})),placeholder:"What does this role control?",disabled:d||!M})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Permissions"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Select the permissions included with this role. ",p.permissions.length," selected."]})]}),i.jsx(kt,{value:x,onChange:F=>b(F.target.value),placeholder:"Filter permissions",disabled:d})]}),i.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-border p-3",children:O.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No permissions match this filter."}):O.map(F=>{const U=`permission-${F.key.replaceAll(".","-")}`;return i.jsxs("label",{htmlFor:U,"aria-label":F.label,className:"flex items-start gap-3 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground",children:[i.jsx("input",{id:U,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-border-strong",checked:p.permissions.includes(F.key),onChange:ae=>A(F.key,ae.target.checked),disabled:d||!M}),i.jsxs("span",{children:[i.jsx("span",{className:"block font-semibold",children:F.label}),i.jsx("span",{className:"block text-xs text-muted-foreground",children:F.description})]})]},F.key)})})]})]})]}),i.jsx(Zr,{open:C&&!!n,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:E.trim()!==(n?.slug??""),onCancel:()=>{j(!1),N("")},onConfirm:T,isConfirming:f,children:i.jsx(Ht,{label:"Type the role slug to confirm",required:!0,children:i.jsx(kt,{value:E,onChange:F=>N(F.target.value),placeholder:n?.slug??"role-slug",disabled:f})})})]})}const Pee={workspace:"Workspace",access:"Access",lifecycle:"Lifecycle"},md=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:i.jsx(xee,{})},{id:"workspace.processing",group:"workspace",label:"Processing",description:"Pause or resume automatic processing.",path:"processing",required:{view:["workspace.settings.manage"],edit:["workspace.settings.manage"]},element:i.jsx(Tee,{})},{id:"access.members",group:"access",label:"Members",description:"Manage members and access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:i.jsx(Dee,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:i.jsx(zee,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:i.jsx(hee,{})}],Lm=md[0];function Iee(e){const t=e.join("/");return md.find(n=>t===n.path||t.startsWith(`${n.path}/`))}function Lee(e,t){const n=md.map(r=>{const o=r.required?.view?r.required.view.some(c=>t(c)):!0,l=r.required?.edit?r.required.edit.some(c=>t(c)):!0;return{id:r.id,label:r.label,description:r.description,href:`/workspaces/${e}/settings/${r.path}`,disabled:!(o||l),tone:r.tone??"default"}});return Object.values(n.reduce((r,o)=>{const l=md.find(f=>f.id===o.id);if(!l)return r;const c=r[l.group],d=c?{...c,items:[...c.items,o]}:{id:l.group,label:Pee[l.group],items:[o]};return r[l.group]=d,r},{}))}function $ee({sectionSegments:e=[]}){const{workspace:t,hasPermission:n}=Hs(),r=an(),o=pr(),{effectiveSegments:l,redirectTo:c}=m.useMemo(()=>Fee(e,t.id,o.search,o.hash),[e,t.id,o.search,o.hash]),d=Iee(l)??Lm;m.useEffect(()=>{c&&r(c,{replace:!0})},[c,r]);const f=m.useMemo(()=>{const S=d.path.split("/");return l.slice(S.length)},[d.path,l]),p=m.useMemo(()=>Lee(t.id,n),[t.id,n]),w=p.flatMap(S=>S.items).find(S=>S.id===d.id)?.disabled?i.jsx(At,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):d.element;return i.jsx(fee,{workspaceName:t.name,navGroups:p,activeSectionId:d.id,activeSectionLabel:d.label,activeSectionDescription:d.description,children:i.jsx(mee,{value:{sectionId:d.id,params:f},children:w})})}function Fee(e,t,n,r){const l=e.length>0?[...e]:Lm.path.split("/"),c=l.join("/"),d=e.length===0,f=md.some(g=>c===g.path||c.startsWith(`${g.path}/`)),p=`/workspaces/${t}/settings/${Lm.path}${n}${r}`;return{effectiveSegments:f?l:Lm.path.split("/"),redirectTo:d||!f?p:null}}function Uee(){return i.jsx(Bee,{})}function Bee(){const e=pr(),t=an(),n=It(),r=Pb(),o=m.useMemo(()=>r.data?.items??[],[r.data?.items]),l=qee(e.pathname),c=m.useMemo(()=>Gee(o,l),[o,l]);return m.useEffect(()=>{r.data&&n.setQueryData(yn.list(Ov),r.data)},[n,r.data]),m.useEffect(()=>{!r.isLoading&&!r.isError&&o.length===0&&t("/workspaces",{replace:!0})},[r.isLoading,r.isError,o.length,t]),m.useEffect(()=>{c&&!l&&t(`/workspaces/${c.id}/${uh.path}${e.search}${e.hash}`,{replace:!0})},[c,l,e.search,e.hash,t]),m.useEffect(()=>{if(!(!c||!l)&&l!==c.id){const d=Yee(e.pathname,e.search,c.id,l);d!==e.pathname+e.search&&t(d+e.hash,{replace:!0})}},[c,l,e.pathname,e.search,e.hash,t]),m.useEffect(()=>{c&&d_(c.id)},[c]),r.isLoading?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background px-6",children:i.jsx(At,{title:"Loading workspace",variant:"loading"})}):r.isError?i.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-background px-6 text-center",children:[i.jsx(At,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),i.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-border-strong bg-card px-4 py-2 text-sm font-semibold text-muted-foreground hover:bg-muted",onClick:()=>r.refetch(),children:"Retry"})]}):c?i.jsx(qF,{workspace:c,workspaces:o,children:i.jsx(Vee,{workspace:c})}):null}function Vee({workspace:e}){return i.jsx(V9,{workspaceId:e.id,children:i.jsx(Hee,{workspace:e})})}function Hee({workspace:e}){const t=Sc(),n=an(),r=pr(),{session:o,windowState:l}=lM(),c=sF(),d=c.data?.enabled??!1,f=c.data?.detail??T_,p=I_(),[g,x]=m.useState(0),[b,w]=m.useState(null),S=m.useRef(null),C=m.useCallback(Z=>{w(Z)},[]),j=m.useMemo(()=>uM(e),[e]),[E,N]=m.useState(""),[_,R]=m.useState(!1),[M,D]=m.useState(!1),O=E.trim().toLowerCase(),A=!!(o&&l==="maximized"),L=m.useMemo(()=>j.map(Z=>({id:Z.id,label:Z.label,description:`Jump to ${Z.label}`,icon:i.jsx(Z.icon,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})),[j]),T=m.useMemo(()=>Ho(`ade.ui.workspace.${e.id}.navPinned`),[e.id]),W=m.useMemo(()=>Ho(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[I,F]=m.useState(()=>{const Z=T.get();if(typeof Z=="boolean")return Z;const ue=W.get();return typeof ue=="boolean"?!ue:!1});m.useEffect(()=>{const Z=T.get();if(typeof Z=="boolean"){F(Z);return}const ue=W.get();F(typeof ue=="boolean"?!ue:!1)},[T,W]),m.useEffect(()=>{T.set(I)},[I,T]),m.useEffect(()=>{N("")},[e.id]),m.useEffect(()=>{if(typeof window>"u")return;const Z=()=>{window.innerWidth>=1024&&R(!1)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),m.useEffect(()=>{if(typeof document>"u")return;const Z=document.body.style.overflow;return _?document.body.style.overflow="hidden":document.body.style.overflow=Z||"",()=>{document.body.style.overflow=Z}},[_]),m.useEffect(()=>{A&&R(!1)},[A]),m.useLayoutEffect(()=>{if(A){x(0);return}const Z=S.current;if(!Z)return;const ue=()=>{const je=Math.round(Z.getBoundingClientRect().height);x(ge=>ge===je?ge:je)};if(ue(),typeof ResizeObserver>"u")return;const De=new ResizeObserver(()=>ue());return De.observe(Z),()=>De.disconnect()},[A]);const U=m.useCallback(()=>{if(!O)return;const Z=j.find(ue=>ue.label.toLowerCase().includes(O))??j.find(ue=>ue.id.toLowerCase().includes(O));Z&&n(Z.href)},[O,j,n]),ae=m.useCallback(Z=>{const ue=j.find(De=>De.id===Z.id);ue&&(n(ue.href),N(""))},[j,n]),P=m.useCallback(()=>R(!0),[]),q=m.useCallback(()=>R(!1),[]),K=`Switch workspace: ${e.name}`,te=Kee(e.name),ve=i.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[i.jsx("button",{type:"button",onClick:P,className:fe("focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border lg:hidden","border-header-border/40 bg-header/20 text-header-muted transition","hover:border-header-border/70 hover:bg-header/30 hover:text-header-foreground"),"aria-label":"Open workspace navigation",children:i.jsx(KT,{className:"h-4 w-4"})}),i.jsxs("button",{type:"button",onClick:()=>n("/workspaces"),"aria-label":K,title:K,className:fe("group inline-flex min-w-0 items-center gap-3 rounded-xl border px-3 py-2 text-left transition","w-fit max-w-full sm:max-w-[16rem] lg:max-w-[18rem] sm:shrink-0","border-header-border/40 bg-header/20 text-header-foreground hover:border-header-border/70 hover:bg-header/30","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-header-ring focus-visible:ring-offset-2 focus-visible:ring-offset-header"),children:[i.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-brand-500 text-xs font-semibold uppercase text-on-brand shadow-sm transition-colors group-hover:bg-brand-600",children:te}),i.jsxs("span",{className:"flex min-w-0 flex-col",children:[i.jsx("span",{className:"truncate text-sm font-semibold text-header-foreground",children:e.name}),i.jsx("span",{className:"hidden truncate text-xs text-header-muted sm:block",children:"Switch workspace"})]}),i.jsx("span",{className:"hidden text-header-muted sm:inline-flex","aria-hidden":!0,children:i.jsx(Zi,{className:"h-4 w-4"})})]})]}),V=t.user.display_name||t.user.email||"Signed in",B=t.user.email??"",re=i.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:[i.jsx(M_,{tone:"header"}),i.jsx(O_,{displayName:V,email:B,tone:"header",actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>D(!0)}]})]}),Y={value:E,onChange:N,onSubmit:U,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:p,scopeLabel:e.name,suggestions:L,onSelectSuggestion:ae},z=Wee(r.pathname,e.id),G=Zee(e.id,z,r.search,r.hash),H=G?.kind==="content"&&G.key==="documents",ee=G?.kind==="content"&&G.key==="runs",oe=H?new URLSearchParams(r.search).get("q")??"":"",le=ee?new URLSearchParams(r.search).get("q")??"":"",de=m.useCallback(Z=>{if(!H)return;const ue=new URLSearchParams(r.search);Z?ue.set("q",Z):ue.delete("q");const De=ue.toString();n(`${r.pathname}${De?`?${De}`:""}${r.hash}`,{replace:!0})},[H,r.hash,r.pathname,r.search,n]),Ee=m.useCallback(Z=>{de(Z)},[de]),Oe=m.useCallback(()=>{de("")},[de]),Pe=H?{value:oe,onChange:de,onSubmit:Ee,onClear:Oe,placeholder:"Search documents",shortcutHint:p,scopeLabel:"Documents",enableShortcut:!0}:void 0,ot=m.useCallback(Z=>{if(!ee)return;const ue=new URLSearchParams(r.search);Z?ue.set("q",Z):ue.delete("q");const De=ue.toString();n(`${r.pathname}${De?`?${De}`:""}${r.hash}`,{replace:!0})},[ee,r.hash,r.pathname,r.search,n]),xt=m.useCallback(Z=>{ot(Z)},[ot]),ct=m.useCallback(()=>{ot("")},[ot]),_t=Pe??(ee?{value:le,onChange:ot,onSubmit:xt,onClear:ct,placeholder:"Search runs",shortcutHint:p,scopeLabel:"Runs",enableShortcut:!0}:void 0)??Y;if(m.useEffect(()=>{G?.kind==="redirect"&&n(G.to,{replace:!0})},[G,n]),!G||G.kind==="redirect")return null;const Q=G.fullHeight??!1;return i.jsxs(i.Fragment,{children:[i.jsx(z_,{open:M,onClose:()=>D(!1)}),i.jsxs("div",{className:fe("flex min-w-0 flex-col bg-background text-foreground h-screen overflow-hidden"),style:{"--workspace-topbar-height":`${g}px`},children:[A?null:i.jsx("div",{ref:S,children:i.jsx(A_,{brand:ve,trailing:re,search:_t,scrollContainer:b})}),i.jsxs("div",{className:"relative flex min-h-0 min-w-0 flex-1",children:[A?null:i.jsx(Z9,{workspace:e,items:j,isPinned:I,onTogglePinned:()=>F(Z=>!Z)}),i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:[!A&&_?i.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[i.jsx("button",{type:"button",className:"absolute inset-0 bg-overlay/40 backdrop-blur-sm",onClick:q,"aria-label":"Close navigation"}),i.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-sidebar-border bg-sidebar text-sidebar-foreground shadow-[0_45px_90px_-50px_rgb(var(--sys-color-shadow)/0.85)]",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-sidebar-border px-4 py-3",children:[i.jsxs("div",{className:"flex flex-col leading-tight",children:[i.jsx("span",{className:"text-sm font-semibold text-sidebar-foreground",children:e.name}),i.jsx("span",{className:"text-xs text-sidebar-foreground",children:"Workspace navigation"})]}),i.jsx("button",{type:"button",onClick:q,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-sidebar-border bg-sidebar-item-hover text-sidebar-foreground/80 hover:bg-sidebar-item-active hover:text-sidebar-foreground","aria-label":"Close navigation",children:i.jsx(uo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:i.jsx(dM,{items:j,onNavigate:q,showHeading:!1})})]})]}):null,i.jsx("div",{className:"relative flex min-h-0 min-w-0 flex-1 overflow-hidden",children:i.jsx("main",{id:"main-content",tabIndex:-1,className:fe("relative flex-1 min-h-0 min-w-0",Q?"flex flex-col overflow-hidden":"overflow-y-auto"),ref:C,children:i.jsxs("div",{className:fe(Q?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[d?i.jsx("div",{className:fe("mb-4",Q?"px-6 pt-4":""),children:i.jsx(Rt,{tone:"warning",heading:"Safe mode active",children:f})}):null,i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:G.element})]})})},`section-${G.key}`)]})]})]})]})}function qee(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function Wee(e,t){const n=`/workspaces/${t}`;return e.startsWith(n)?e.slice(n.length).split("/").map(o=>o.trim()).filter(o=>o.length>0):[]}function Gee(e,t){return t?e.find(n=>n.id===t)??e.find(n=>n.slug===t)??e[0]??null:e[0]??null}function Yee(e,t,n,r){const o=`/workspaces/${r}`,l=e.startsWith(o)?e.slice(o.length):"",c=l&&l!=="/"?l:`/${uh.path}`;return`/workspaces/${n}${c}${t}`}function Kee(e){const t=e.trim().split(/\s+/);return t.length===0?"WS":t.slice(0,2).map(r=>r[0]??"").join("").toUpperCase()}function Zee(e,t,n,r){const o=`${n}${r}`;if(t.length===0)return{kind:"redirect",to:`/workspaces/${e}/${uh.path}${o}`};const[l,c,d]=t;switch(l){case uh.path:case"documents":{if(c){const f=new URLSearchParams(n);f.set("doc",decodeURIComponent(c));const p=f.toString();return{kind:"redirect",to:`/workspaces/${e}/documents${p?`?${p}`:""}${r}`}}return{kind:"content",key:"documents",element:i.jsx(TJ,{}),fullHeight:!0}}case"runs":return{kind:"content",key:"runs",element:i.jsx(ree,{}),fullHeight:!0};case"config-builder":return c?d==="editor"?{kind:"content",key:`config-builder:${c}:editor`,element:i.jsx(Qee,{configId:decodeURIComponent(c)}),fullHeight:!0}:{kind:"content",key:`config-builder:${c}`,element:i.jsx(uee,{params:{configId:decodeURIComponent(c)}})}:{kind:"content",key:"config-builder",element:i.jsx(cee,{})};case"settings":{const f=t.slice(1),p=f.length>0?f:[];return{kind:"content",key:`settings:${p.length>0?p.join(":"):"general"}`,element:i.jsx($ee,{sectionSegments:p})}}default:return{kind:"content",key:`not-found:${t.join("/")}`,element:i.jsx(At,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function Qee({configId:e}){return i.jsx(dee,{params:{configId:e}})}function Xee(){const e=an(),t=It();return m.useEffect(()=>{let n=!1;const r=new AbortController;return(async()=>{try{await nP({signal:r.signal})}finally{n||(t.removeQueries({queryKey:Ls.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{n||e("/login",{replace:!0})}),()=>{n=!0,r.abort()}},[e,t]),null}function Jee(){return i.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Page not found"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["The resource you're looking for doesn't exist yet. Add a page under ",i.jsx("code",{children:"src/pages/<PageName>/"})," and register it inside ",i.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),i.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[i.jsx(ld,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-on-brand transition hover:bg-brand-700",children:"Return home"}),i.jsx(ld,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-border-strong bg-card px-4 py-2 font-semibold text-muted-foreground hover:bg-background",children:"Go to sign in"})]})]})})}function ete(){return i.jsx(VO,{children:i.jsx(Lz,{children:i.jsx(tte,{})})})}function tte(){const e=pr(),t=QE(e.pathname),n=nte(t);return n.requiresSession?i.jsx(fI,{children:n.element}):n.element}function nte(e){const t=e.split("/").filter(Boolean),[n,r]=t;if(t.length===0)return{element:i.jsx(II,{}),requiresSession:!0};switch(n){case"login":return{element:i.jsx(V$,{}),requiresSession:!1};case"logout":return{element:i.jsx(Xee,{}),requiresSession:!1};case"auth":if(r==="callback")return{element:i.jsx(H$,{}),requiresSession:!1};break;case"setup":return{element:i.jsx(W$,{}),requiresSession:!1};case"workspaces":return r?r==="new"?{element:i.jsx(BF,{}),requiresSession:!0}:{element:i.jsx(Uee,{}),requiresSession:!0}:{element:i.jsx(cF,{}),requiresSession:!0}}return{element:i.jsx(Jee,{}),requiresSession:!0}}BO.createRoot(document.getElementById("root")).render(i.jsx(_e.StrictMode,{children:i.jsx(ete,{})}));export{_e as W,fe as c,i as j,m as r};
