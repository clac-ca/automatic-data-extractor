(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function cv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function _1(){if(cx)return kl;cx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:u}}return kl.Fragment=n,kl.jsx=a,kl.jsxs=a,kl}var ux;function C1(){return ux||(ux=1,lf.exports=_1()),lf.exports}var l=C1(),of={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function k1(){if(dx)return Qe;dx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function U(N,V,z){this.props=N,this.context=V,this.refs=O,this.updater=z||T}U.prototype.isReactComponent={},U.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=U.prototype;function A(N,V,z){this.props=N,this.context=V,this.refs=O,this.updater=z||T}var $=A.prototype=new _;$.constructor=A,E($,U.prototype),$.isPureReactComponent=!0;var Z=Array.isArray;function X(){}var W={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ne(N,V,z){var R=z.ref;return{$$typeof:e,type:N,key:V,ref:R!==void 0?R:null,props:z}}function ie(N,V){return ne(N.type,V,N.props)}function le(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function pe(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(z){return V[z]})}var de=/\/+/g;function ge(N,V){return typeof N=="object"&&N!==null&&N.key!=null?pe(""+N.key):V.toString(36)}function we(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function B(N,V,z,R,Q){var F=typeof N;(F==="undefined"||F==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(F){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case e:case n:me=!0;break;case b:return me=N._init,B(me(N._payload),V,z,R,Q)}}if(me)return Q=Q(N),me=R===""?"."+ge(N,0):R,Z(Q)?(z="",me!=null&&(z=me.replace(de,"$&/")+"/"),B(Q,V,z,"",function(I){return I})):Q!=null&&(le(Q)&&(Q=ie(Q,z+(Q.key==null||N&&N.key===Q.key?"":(""+Q.key).replace(de,"$&/")+"/")+me)),V.push(Q)),1;me=0;var be=R===""?".":R+":";if(Z(N))for(var Ee=0;Ee<N.length;Ee++)R=N[Ee],F=be+ge(R,Ee),me+=B(R,V,z,F,Q);else if(Ee=j(N),typeof Ee=="function")for(N=Ee.call(N),Ee=0;!(R=N.next()).done;)R=R.value,F=be+ge(R,Ee++),me+=B(R,V,z,F,Q);else if(F==="object"){if(typeof N.then=="function")return B(we(N),V,z,R,Q);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return me}function ee(N,V,z){if(N==null)return N;var R=[],Q=0;return B(N,R,"","",function(F){return V.call(z,F,Q++)}),R}function xe(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(z){(N._status===0||N._status===-1)&&(N._status=1,N._result=z)},function(z){(N._status===0||N._status===-1)&&(N._status=2,N._result=z)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Se=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},oe={map:ee,forEach:function(N,V,z){ee(N,function(){V.apply(this,arguments)},z)},count:function(N){var V=0;return ee(N,function(){V++}),V},toArray:function(N){return ee(N,function(V){return V})||[]},only:function(N){if(!le(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Qe.Activity=y,Qe.Children=oe,Qe.Component=U,Qe.Fragment=a,Qe.Profiler=c,Qe.PureComponent=A,Qe.StrictMode=i,Qe.Suspense=g,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return W.H.useMemoCache(N)}},Qe.cache=function(N){return function(){return N.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(N,V,z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var R=E({},N.props),Q=N.key;if(V!=null)for(F in V.key!==void 0&&(Q=""+V.key),V)!K.call(V,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&V.ref===void 0||(R[F]=V[F]);var F=arguments.length-2;if(F===1)R.children=z;else if(1<F){for(var me=Array(F),be=0;be<F;be++)me[be]=arguments[be+2];R.children=me}return ne(N.type,Q,R)},Qe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Qe.createElement=function(N,V,z){var R,Q={},F=null;if(V!=null)for(R in V.key!==void 0&&(F=""+V.key),V)K.call(V,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(Q[R]=V[R]);var me=arguments.length-2;if(me===1)Q.children=z;else if(1<me){for(var be=Array(me),Ee=0;Ee<me;Ee++)be[Ee]=arguments[Ee+2];Q.children=be}if(N&&N.defaultProps)for(R in me=N.defaultProps,me)Q[R]===void 0&&(Q[R]=me[R]);return ne(N,F,Q)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(N){return{$$typeof:m,render:N}},Qe.isValidElement=le,Qe.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:xe}},Qe.memo=function(N,V){return{$$typeof:x,type:N,compare:V===void 0?null:V}},Qe.startTransition=function(N){var V=W.T,z={};W.T=z;try{var R=N(),Q=W.S;Q!==null&&Q(z,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(X,Se)}catch(F){Se(F)}finally{V!==null&&z.types!==null&&(V.types=z.types),W.T=V}},Qe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Qe.use=function(N){return W.H.use(N)},Qe.useActionState=function(N,V,z){return W.H.useActionState(N,V,z)},Qe.useCallback=function(N,V){return W.H.useCallback(N,V)},Qe.useContext=function(N){return W.H.useContext(N)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(N,V){return W.H.useDeferredValue(N,V)},Qe.useEffect=function(N,V){return W.H.useEffect(N,V)},Qe.useEffectEvent=function(N){return W.H.useEffectEvent(N)},Qe.useId=function(){return W.H.useId()},Qe.useImperativeHandle=function(N,V,z){return W.H.useImperativeHandle(N,V,z)},Qe.useInsertionEffect=function(N,V){return W.H.useInsertionEffect(N,V)},Qe.useLayoutEffect=function(N,V){return W.H.useLayoutEffect(N,V)},Qe.useMemo=function(N,V){return W.H.useMemo(N,V)},Qe.useOptimistic=function(N,V){return W.H.useOptimistic(N,V)},Qe.useReducer=function(N,V,z){return W.H.useReducer(N,V,z)},Qe.useRef=function(N){return W.H.useRef(N)},Qe.useState=function(N){return W.H.useState(N)},Qe.useSyncExternalStore=function(N,V,z){return W.H.useSyncExternalStore(N,V,z)},Qe.useTransition=function(){return W.H.useTransition()},Qe.version="19.2.0",Qe}var fx;function Pf(){return fx||(fx=1,of.exports=k1()),of.exports}var p=Pf();const mt=cv(p);var cf={exports:{}},Tl={},uf={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function T1(){return hx||(hx=1,(function(e){function n(B,ee){var xe=B.length;B.push(ee);e:for(;0<xe;){var Se=xe-1>>>1,oe=B[Se];if(0<c(oe,ee))B[Se]=ee,B[xe]=oe,xe=Se;else break e}}function a(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ee=B[0],xe=B.pop();if(xe!==ee){B[0]=xe;e:for(var Se=0,oe=B.length,N=oe>>>1;Se<N;){var V=2*(Se+1)-1,z=B[V],R=V+1,Q=B[R];if(0>c(z,xe))R<oe&&0>c(Q,z)?(B[Se]=Q,B[R]=xe,Se=R):(B[Se]=z,B[V]=xe,Se=V);else if(R<oe&&0>c(Q,xe))B[Se]=Q,B[R]=xe,Se=R;else break e}}return ee}function c(B,ee){var xe=B.sortIndex-ee.sortIndex;return xe!==0?xe:B.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var g=[],x=[],b=1,y=null,w=3,j=!1,T=!1,E=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var ee=a(x);ee!==null;){if(ee.callback===null)i(x);else if(ee.startTime<=B)i(x),ee.sortIndex=ee.expirationTime,n(g,ee);else break;ee=a(x)}}function Z(B){if(E=!1,$(B),!T)if(a(g)!==null)T=!0,X||(X=!0,pe());else{var ee=a(x);ee!==null&&we(Z,ee.startTime-B)}}var X=!1,W=-1,K=5,ne=-1;function ie(){return O?!0:!(e.unstable_now()-ne<K)}function le(){if(O=!1,X){var B=e.unstable_now();ne=B;var ee=!0;try{e:{T=!1,E&&(E=!1,_(W),W=-1),j=!0;var xe=w;try{t:{for($(B),y=a(g);y!==null&&!(y.expirationTime>B&&ie());){var Se=y.callback;if(typeof Se=="function"){y.callback=null,w=y.priorityLevel;var oe=Se(y.expirationTime<=B);if(B=e.unstable_now(),typeof oe=="function"){y.callback=oe,$(B),ee=!0;break t}y===a(g)&&i(g),$(B)}else i(g);y=a(g)}if(y!==null)ee=!0;else{var N=a(x);N!==null&&we(Z,N.startTime-B),ee=!1}}break e}finally{y=null,w=xe,j=!1}ee=void 0}}finally{ee?pe():X=!1}}}var pe;if(typeof A=="function")pe=function(){A(le)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ge=de.port2;de.port1.onmessage=le,pe=function(){ge.postMessage(null)}}else pe=function(){U(le,0)};function we(B,ee){W=U(function(){B(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var xe=w;w=ee;try{return B()}finally{w=xe}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var xe=w;w=B;try{return ee()}finally{w=xe}},e.unstable_scheduleCallback=function(B,ee,xe){var Se=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Se+xe:Se):xe=Se,B){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=xe+oe,B={id:b++,callback:ee,priorityLevel:B,startTime:xe,expirationTime:oe,sortIndex:-1},xe>Se?(B.sortIndex=xe,n(x,B),a(g)===null&&B===a(x)&&(E?(_(W),W=-1):E=!0,we(Z,xe-Se))):(B.sortIndex=oe,n(g,B),T||j||(T=!0,X||(X=!0,pe()))),B},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(B){var ee=w;return function(){var xe=w;w=ee;try{return B.apply(this,arguments)}finally{w=xe}}}})(df)),df}var mx;function A1(){return mx||(mx=1,uf.exports=T1()),uf.exports}var ff={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function D1(){if(px)return Un;px=1;var e=Pf();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:g,containerInfo:x,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Un.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},Un.flushSync=function(g){var x=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=x,i.p=b,i.d.f()}},Un.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Un.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Un.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,j=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:j}):b==="script"&&i.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:j,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Un.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=m(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Un.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=m(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Un.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=m(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Un.requestFormReset=function(g){i.d.r(g)},Un.unstable_batchedUpdates=function(g,x){return g(x)},Un.useFormState=function(g,x,b){return f.H.useFormState(g,x,b)},Un.useFormStatus=function(){return f.H.useHostTransitionStatus()},Un.version="19.2.0",Un}var gx;function uv(){if(gx)return ff.exports;gx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ff.exports=D1(),ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function M1(){if(xx)return Tl;xx=1;var e=A1(),n=Pf(),a=uv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,o=s;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return g(d),t;if(h===o)return g(d),s;h=h.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=h;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,o=h;break}if(S===o){v=!0,o=d,r=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===r){v=!0,r=h,o=d;break}if(S===o){v=!0,o=h,r=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case U:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case X:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case A:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case $:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return s=t.displayName||null,s!==null?s:ge(t.type)||"Memo";case K:s=t._payload,t=t._init;try{return ge(t(s))}catch{}}return null}var we=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Se=[],oe=-1;function N(t){return{current:t}}function V(t){0>oe||(t.current=Se[oe],Se[oe]=null,oe--)}function z(t,s){oe++,Se[oe]=t.current,t.current=s}var R=N(null),Q=N(null),F=N(null),me=N(null);function be(t,s){switch(z(F,s),z(Q,t),z(R,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Mg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Mg(s),t=Rg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(R),z(R,t)}function Ee(){V(R),V(Q),V(F)}function I(t){t.memoizedState!==null&&z(me,t);var s=R.current,r=Rg(s,t.type);s!==r&&(z(Q,t),z(R,r))}function Ne(t){Q.current===t&&(V(R),V(Q)),me.current===t&&(V(me),El._currentValue=xe)}var ke,Ze;function Oe(t){if(ke===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ke=s&&s[1]||"",Ze=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+t+Ze}var Ae=!1;function Fe(t,s){if(!t||Ae)return"";Ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var P=te}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(te){P=te}t.call(fe.prototype)}}else{try{throw Error()}catch(te){P=te}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&P&&typeof te.stack=="string")return[te.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var M=v.split(`
`),Y=S.split(`
`);for(d=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(o===M.length||d===Y.length)for(o=M.length-1,d=Y.length-1;1<=o&&0<=d&&M[o]!==Y[d];)d--;for(;1<=o&&0<=d;o--,d--)if(M[o]!==Y[d]){if(o!==1||d!==1)do if(o--,d--,0>d||M[o]!==Y[d]){var re=`
`+M[o].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=o&&0<=d);break}}}finally{Ae=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Oe(r):""}function et(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Fe(t.type,!1);case 11:return Fe(t.type.render,!1);case 1:return Fe(t.type,!0);case 31:return Oe("Activity");default:return""}}function tt(t){try{var s="",r=null;do s+=et(t,r),r=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pt=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,k=e.unstable_cancelCallback,C=e.unstable_shouldYield,se=e.unstable_requestPaint,J=e.unstable_now,ae=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,He=e.unstable_NormalPriority,vt=e.unstable_LowPriority,ye=e.unstable_IdlePriority,_e=e.log,Ve=e.unstable_setDisableYieldValue,yt=null,st=null;function Xt(t){if(typeof _e=="function"&&Ve(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(yt,t)}catch{}}var wt=Math.clz32?Math.clz32:va,Ks=Math.log,St=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(Ks(t)/St|0)|0}var Mn=256,Bn=262144,jt=4194304;function Dt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ot(t,s,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?d=Dt(o):(v&=S,v!==0?d=Dt(v):r||(r=S&~t,r!==0&&(d=Dt(r))))):(S=o&~h,S!==0?d=Dt(S):v!==0?d=Dt(v):r||(r=o&~t,r!==0&&(d=Dt(r)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,r=s&-s,h>=r||h===32&&(r&4194048)!==0)?s:d}function Rn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ce(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function yn(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Vn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vt(t,s,r,o,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,Y=t.hiddenUpdates;for(r=v&~r;0<r;){var re=31-wt(r),fe=1<<re;S[re]=0,M[re]=-1;var P=Y[re];if(P!==null)for(Y[re]=null,re=0;re<P.length;re++){var te=P[re];te!==null&&(te.lane&=-536870913)}r&=~fe}o!==0&&Mt(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function Mt(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-wt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function wn(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var o=31-wt(r),d=1<<o;d&s|t[o]&s&&(t[o]|=s),r&=~d}}function Fn(t,s){var r=s&-s;return r=(r&42)!==0?1:Sn(r),(r&(t.suspendedLanes|s))!==0?0:r}function Sn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qn(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:nx(t.type))}function _s(t,s){var r=ee.p;try{return ee.p=t,s()}finally{ee.p=r}}var On=Math.random().toString(36).slice(2),Jt="__reactFiber$"+On,Lt="__reactProps$"+On,Ct="__reactContainer$"+On,Oi="__reactEvents$"+On,ba="__reactListeners$"+On,ya="__reactHandles$"+On,Li="__reactResources$"+On,$s="__reactMarker$"+On;function cn(t){delete t[Jt],delete t[Lt],delete t[Oi],delete t[ba],delete t[ya]}function qn(t){var s=t[Jt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ct]||r[Jt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=$g(t);t!==null;){if(r=t[Jt])return r;t=$g(t)}return s}t=r,r=t.parentNode}return null}function $n(t){if(t=t[Jt]||t[Ct]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Cs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Zs(t){var s=t[Li];return s||(s=t[Li]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(t){t[$s]=!0}var sr=new Set,wa={};function ks(t,s){jn(t,s),jn(t+"Capture",s)}function jn(t,s){for(wa[t]=s,t=0;t<s.length;t++)sr.add(s[t])}var zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),so={},ao={};function Lr(t){return Pt.call(ao,t)?!0:Pt.call(so,t)?!1:zh.test(t)?ao[t]=!0:(so[t]=!0,!1)}function Ur(t,s,r){if(Lr(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Ps(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Ts(t,s,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+o)}}function In(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ro(t,s,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Br(t){if(!t._valueTracker){var s=Ui(t)?"checked":"value";t._valueTracker=ro(t,s,""+t[s])}}function io(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),o="";return t&&(o=Ui(t)?t.checked?"true":"false":t.value),t=o,t!==r?(s.setValue(t),!0):!1}function qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ou=/[\n"\\]/g;function Gn(t){return t.replace(ou,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bi(t,s,r,o,d,h,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+In(s)):t.value!==""+In(s)&&(t.value=""+In(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Sa(t,v,In(s)):r!=null?Sa(t,v,In(r)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+In(S):t.removeAttribute("name")}function ar(t,s,r,o,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||s!=null)){Br(t);return}r=r!=null?""+In(r):"",s=s!=null?""+In(s):r,S||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Br(t)}function Sa(t,s,r){s==="number"&&qr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Hs(t,s,r,o){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+In(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function lo(t,s,r){if(s!=null&&(s=""+In(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+In(r):""}function oo(t,s,r,o){if(s==null){if(o!=null){if(r!=null)throw Error(i(92));if(we(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),s=r}r=In(s),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Br(t)}function ja(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function co(t,s,r){var o=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,r):typeof r!="number"||r===0||qi.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function uo(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&r[d]!==o&&co(t,d,o)}else for(var h in s)s.hasOwnProperty(h)&&co(t,h,s[h])}function $i(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function As(){}var Zi=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ea=null,Na=null;function fo(t){var s=$n(t);if(s&&(t=s.stateNode)){var r=t[Lt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Bi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var o=r[s];if(o!==t&&o.form===t.form){var d=o[Lt]||null;if(!d)throw Error(i(90));Bi(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)o=r[s],o.form===t.form&&io(o)}break e;case"textarea":lo(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Hs(t,!!r.multiple,s,!1)}}}var Vi=!1;function ho(t,s,r){if(Vi)return t(s,r);Vi=!0;try{var o=t(s);return o}finally{if(Vi=!1,(Ea!==null||Na!==null)&&(Yo(),Ea&&(s=Ea,t=Na,Na=Ea=null,fo(s),t)))for(s=0;s<t.length;s++)fo(t[s])}}function rr(t,s){var r=t.stateNode;if(r===null)return null;var o=r[Lt]||null;if(o===null)return null;r=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var H=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ce=!1;if(H)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){ce=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{ce=!1}var Le=null,nt=null,Ut=null;function Ft(){if(Ut)return Ut;var t,s=nt,r=s.length,o,d="value"in Le?Le.value:Le.textContent,h=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(o=1;o<=v&&s[r-o]===d[h-o];o++);return Ut=d.slice(t,1<o?1-o:void 0)}function kt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function _a(){return!1}function En(t){function s(r,o,d,h,v){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ln:_a,this.isPropagationStopped=_a,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),s}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=En(Nn),Hr=y({},Nn,{view:0,detail:0}),Oh=En(Hr),ir,Fi,Xs,Vr=y({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(ir=t.screenX-Xs.screenX,Fi=t.screenY-Xs.screenY):Fi=ir=0,Xs=t),ir)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),mn=En(Vr),pn=y({},Vr,{dataTransfer:0}),gn=En(pn),Ds=y({},Hr,{relatedTarget:0}),Fr=En(Ds),ky=y({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ty=En(ky),Ay=y({},Nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dy=En(Ay),My=y({},Nn,{data:0}),Lh=En(My),Ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ly(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Oy[t])?!!s[t]:!1}function du(){return Ly}var Uy=y({},Hr,{key:function(t){if(t.key){var s=Ry[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=kt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?kt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),By=En(Uy),qy=y({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=En(qy),$y=y({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Zy=En($y),Hy=y({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=En(Hy),Fy=y({},Vr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qy=En(Fy),Iy=y({},Nn,{newState:0,oldState:0}),Gy=En(Iy),Wy=[9,13,27,32],fu=H&&"CompositionEvent"in window,Qi=null;H&&"documentMode"in document&&(Qi=document.documentMode);var Yy=H&&"TextEvent"in window&&!Qi,Bh=H&&(!fu||Qi&&8<Qi&&11>=Qi),qh=" ",$h=!1;function Zh(t,s){switch(t){case"keyup":return Wy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function Ky(t,s){switch(t){case"compositionend":return Hh(s);case"keypress":return s.which!==32?null:($h=!0,qh);case"textInput":return t=s.data,t===qh&&$h?null:t;default:return null}}function Py(t,s){if(Qr)return t==="compositionend"||!fu&&Zh(t,s)?(t=Ft(),Ut=nt=Le=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bh&&s.locale!=="ko"?null:s.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Xy[t.type]:s==="textarea"}function Fh(t,s,r,o){Ea?Na?Na.push(o):Na=[o]:Ea=o,s=nc(s,"onChange"),0<s.length&&(r=new Zr("onChange","change",null,r,o),t.push({event:r,listeners:s}))}var Ii=null,Gi=null;function Jy(t){_g(t,0)}function mo(t){var s=Cs(t);if(io(s))return t}function Qh(t,s){if(t==="change")return s}var Ih=!1;if(H){var hu;if(H){var mu="oninput"in document;if(!mu){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),mu=typeof Gh.oninput=="function"}hu=mu}else hu=!1;Ih=hu&&(!document.documentMode||9<document.documentMode)}function Wh(){Ii&&(Ii.detachEvent("onpropertychange",Yh),Gi=Ii=null)}function Yh(t){if(t.propertyName==="value"&&mo(Gi)){var s=[];Fh(s,Gi,t,Hi(t)),ho(Jy,s)}}function ew(t,s,r){t==="focusin"?(Wh(),Ii=s,Gi=r,Ii.attachEvent("onpropertychange",Yh)):t==="focusout"&&Wh()}function tw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mo(Gi)}function nw(t,s){if(t==="click")return mo(s)}function sw(t,s){if(t==="input"||t==="change")return mo(s)}function aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var rs=typeof Object.is=="function"?Object.is:aw;function Wi(t,s){if(rs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),o=Object.keys(s);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Pt.call(s,d)||!rs(t[d],s[d]))return!1}return!0}function Kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ph(t,s){var r=Kh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=s&&o>=s)return{node:r,offset:s-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Xh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Xh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=qr(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=qr(t.document)}return s}function pu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var rw=H&&"documentMode"in document&&11>=document.documentMode,Ir=null,gu=null,Yi=null,xu=!1;function em(t,s,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xu||Ir==null||Ir!==qr(o)||(o=Ir,"selectionStart"in o&&pu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yi&&Wi(Yi,o)||(Yi=o,o=nc(gu,"onSelect"),0<o.length&&(s=new Zr("onSelect","select",null,s,r),t.push({event:s,listeners:o}),s.target=Ir)))}function lr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Gr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},vu={},tm={};H&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function or(t){if(vu[t])return vu[t];if(!Gr[t])return t;var s=Gr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in tm)return vu[t]=s[r];return t}var nm=or("animationend"),sm=or("animationiteration"),am=or("animationstart"),iw=or("transitionrun"),lw=or("transitionstart"),ow=or("transitioncancel"),rm=or("transitionend"),im=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Ms(t,s){im.set(t,s),ks(s,[t])}var po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hs=[],Wr=0,yu=0;function go(){for(var t=Wr,s=yu=Wr=0;s<t;){var r=hs[s];hs[s++]=null;var o=hs[s];hs[s++]=null;var d=hs[s];hs[s++]=null;var h=hs[s];if(hs[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}h!==0&&lm(r,d,h)}}function xo(t,s,r,o){hs[Wr++]=t,hs[Wr++]=s,hs[Wr++]=r,hs[Wr++]=o,yu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function wu(t,s,r,o){return xo(t,s,r,o),vo(t)}function cr(t,s){return xo(t,null,null,s),vo(t)}function lm(t,s,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-wt(r),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=r|536870912),h):null}function vo(t){if(50<xl)throw xl=0,Ad=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Yr={};function cw(t,s,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,s,r,o){return new cw(t,s,r,o)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Js(t,s){var r=t.alternate;return r===null?(r=is(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function om(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function bo(t,s,r,o,d,h){var v=0;if(o=t,typeof t=="function")Su(t)&&(v=1);else if(typeof t=="string")v=m1(t,r,R.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=is(31,r,s,d),t.elementType=ne,t.lanes=h,t;case E:return ur(r.children,d,h,s);case O:v=8,d|=24;break;case U:return t=is(12,r,s,d|2),t.elementType=U,t.lanes=h,t;case Z:return t=is(13,r,s,d),t.elementType=Z,t.lanes=h,t;case X:return t=is(19,r,s,d),t.elementType=X,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:v=10;break e;case _:v=9;break e;case $:v=11;break e;case W:v=14;break e;case K:v=16,o=null;break e}v=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=is(v,r,s,d),s.elementType=t,s.type=o,s.lanes=h,s}function ur(t,s,r,o){return t=is(7,t,o,s),t.lanes=r,t}function ju(t,s,r){return t=is(6,t,null,s),t.lanes=r,t}function cm(t){var s=is(18,null,null,0);return s.stateNode=t,s}function Eu(t,s,r){return s=is(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var um=new WeakMap;function ms(t,s){if(typeof t=="object"&&t!==null){var r=um.get(t);return r!==void 0?r:(s={value:t,source:s,stack:tt(s)},um.set(t,s),s)}return{value:t,source:s,stack:tt(s)}}var Kr=[],Pr=0,yo=null,Ki=0,ps=[],gs=0,Ca=null,Vs=1,Fs="";function ea(t,s){Kr[Pr++]=Ki,Kr[Pr++]=yo,yo=t,Ki=s}function dm(t,s,r){ps[gs++]=Vs,ps[gs++]=Fs,ps[gs++]=Ca,Ca=t;var o=Vs;t=Fs;var d=32-wt(o)-1;o&=~(1<<d),r+=1;var h=32-wt(s)+d;if(30<h){var v=d-d%5;h=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Vs=1<<32-wt(s)+d|r<<d|o,Fs=h+t}else Vs=1<<h|r<<d|o,Fs=t}function Nu(t){t.return!==null&&(ea(t,1),dm(t,1,0))}function _u(t){for(;t===yo;)yo=Kr[--Pr],Kr[Pr]=null,Ki=Kr[--Pr],Kr[Pr]=null;for(;t===Ca;)Ca=ps[--gs],ps[gs]=null,Fs=ps[--gs],ps[gs]=null,Vs=ps[--gs],ps[gs]=null}function fm(t,s){ps[gs++]=Vs,ps[gs++]=Fs,ps[gs++]=Ca,Vs=s.id,Fs=s.overflow,Ca=t}var _n=null,Et=null,Je=!1,ka=null,xs=!1,Cu=Error(i(519));function Ta(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pi(ms(s,t)),Cu}function hm(t){var s=t.stateNode,r=t.type,o=t.memoizedProps;switch(s[Jt]=t,s[Lt]=o,r){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(r=0;r<bl.length;r++)Ke(bl[r],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),ar(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),oo(s,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||o.suppressHydrationWarning===!0||Ag(s.textContent,r)?(o.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),o.onScroll!=null&&Ke("scroll",s),o.onScrollEnd!=null&&Ke("scrollend",s),o.onClick!=null&&(s.onclick=As),s=!0):s=!1,s||Ta(t,!0)}function mm(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:_n=_n.return}}function Xr(t){if(t!==_n)return!1;if(!Je)return mm(t),Je=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Qd(t.type,t.memoizedProps)),r=!r),r&&Et&&Ta(t),mm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Et=qg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Et=qg(t)}else s===27?(s=Et,Va(t.type)?(t=Kd,Kd=null,Et=t):Et=s):Et=_n?bs(t.stateNode.nextSibling):null;return!0}function dr(){Et=_n=null,Je=!1}function ku(){var t=ka;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),ka=null),t}function Pi(t){ka===null?ka=[t]:ka.push(t)}var Tu=N(null),fr=null,ta=null;function Aa(t,s,r){z(Tu,s._currentValue),s._currentValue=r}function na(t){t._currentValue=Tu.current,V(Tu)}function Au(t,s,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===r)break;t=t.return}}function Du(t,s,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var M=0;M<s.length;M++)if(S.context===s[M]){h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),Au(h.return,r,t),o||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),Au(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Jr(t,s,r,o){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;rs(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===me.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}d=d.return}t!==null&&Du(s,t,r,o),s.flags|=262144}function wo(t){for(t=t.firstContext;t!==null;){if(!rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){fr=t,ta=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Cn(t){return pm(fr,t)}function So(t,s){return fr===null&&hr(t),pm(t,s)}function pm(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},ta===null){if(t===null)throw Error(i(308));ta=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ta=ta.next=s;return r}var uw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},dw=e.unstable_scheduleCallback,fw=e.unstable_NormalPriority,en={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new uw,data:new Map,refCount:0}}function Xi(t){t.refCount--,t.refCount===0&&dw(fw,function(){t.controller.abort()})}var Ji=null,Ru=0,ei=0,ti=null;function hw(t,s){if(Ji===null){var r=Ji=[];Ru=0,ei=Ld(),ti={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ru++,s.then(gm,gm),s}function gm(){if(--Ru===0&&Ji!==null){ti!==null&&(ti.status="fulfilled");var t=Ji;Ji=null,ei=0,ti=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function mw(t,s){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var xm=B.S;B.S=function(t,s){eg=J(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hw(t,s),xm!==null&&xm(t,s)};var mr=N(null);function zu(){var t=mr.current;return t!==null?t:pt.pooledCache}function jo(t,s){s===null?z(mr,mr.current):z(mr,s.pool)}function vm(){var t=zu();return t===null?null:{parent:en._currentValue,pool:t}}var ni=Error(i(460)),Ou=Error(i(474)),Eo=Error(i(542)),No={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ym(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(As,As),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Sm(t),t;default:if(typeof s.status=="string")s.then(As,As);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Sm(t),t}throw gr=s,ni}}function pr(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(gr=r,ni):r}}var gr=null;function wm(){if(gr===null)throw Error(i(459));var t=gr;return gr=null,t}function Sm(t){if(t===ni||t===Eo)throw Error(i(483))}var si=null,el=0;function _o(t){var s=el;return el+=1,si===null&&(si=[]),ym(si,t,s)}function tl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Co(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function jm(t){function s(q,L){if(t){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function r(q,L){if(!t)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function o(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function d(q,L){return q=Js(q,L),q.index=0,q.sibling=null,q}function h(q,L,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=67108866,L):G):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function v(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function S(q,L,G,ue){return L===null||L.tag!==6?(L=ju(G,q.mode,ue),L.return=q,L):(L=d(L,G),L.return=q,L)}function M(q,L,G,ue){var Ue=G.type;return Ue===E?re(q,L,G.props.children,ue,G.key):L!==null&&(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===K&&pr(Ue)===L.type)?(L=d(L,G.props),tl(L,G),L.return=q,L):(L=bo(G.type,G.key,G.props,null,q.mode,ue),tl(L,G),L.return=q,L)}function Y(q,L,G,ue){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Eu(G,q.mode,ue),L.return=q,L):(L=d(L,G.children||[]),L.return=q,L)}function re(q,L,G,ue,Ue){return L===null||L.tag!==7?(L=ur(G,q.mode,ue,Ue),L.return=q,L):(L=d(L,G),L.return=q,L)}function fe(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=ju(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return G=bo(L.type,L.key,L.props,null,q.mode,G),tl(G,L),G.return=q,G;case T:return L=Eu(L,q.mode,G),L.return=q,L;case K:return L=pr(L),fe(q,L,G)}if(we(L)||pe(L))return L=ur(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return fe(q,_o(L),G);if(L.$$typeof===A)return fe(q,So(q,L),G);Co(q,L)}return null}function P(q,L,G,ue){var Ue=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ue!==null?null:S(q,L,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Ue?M(q,L,G,ue):null;case T:return G.key===Ue?Y(q,L,G,ue):null;case K:return G=pr(G),P(q,L,G,ue)}if(we(G)||pe(G))return Ue!==null?null:re(q,L,G,ue,null);if(typeof G.then=="function")return P(q,L,_o(G),ue);if(G.$$typeof===A)return P(q,L,So(q,G),ue);Co(q,G)}return null}function te(q,L,G,ue,Ue){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return q=q.get(G)||null,S(L,q,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return q=q.get(ue.key===null?G:ue.key)||null,M(L,q,ue,Ue);case T:return q=q.get(ue.key===null?G:ue.key)||null,Y(L,q,ue,Ue);case K:return ue=pr(ue),te(q,L,G,ue,Ue)}if(we(ue)||pe(ue))return q=q.get(G)||null,re(L,q,ue,Ue,null);if(typeof ue.then=="function")return te(q,L,G,_o(ue),Ue);if(ue.$$typeof===A)return te(q,L,G,So(L,ue),Ue);Co(L,ue)}return null}function De(q,L,G,ue){for(var Ue=null,at=null,Re=L,We=L=0,Xe=null;Re!==null&&We<G.length;We++){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var rt=P(q,Re,G[We],ue);if(rt===null){Re===null&&(Re=Xe);break}t&&Re&&rt.alternate===null&&s(q,Re),L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt,Re=Xe}if(We===G.length)return r(q,Re),Je&&ea(q,We),Ue;if(Re===null){for(;We<G.length;We++)Re=fe(q,G[We],ue),Re!==null&&(L=h(Re,L,We),at===null?Ue=Re:at.sibling=Re,at=Re);return Je&&ea(q,We),Ue}for(Re=o(Re);We<G.length;We++)Xe=te(Re,q,We,G[We],ue),Xe!==null&&(t&&Xe.alternate!==null&&Re.delete(Xe.key===null?We:Xe.key),L=h(Xe,L,We),at===null?Ue=Xe:at.sibling=Xe,at=Xe);return t&&Re.forEach(function(Wa){return s(q,Wa)}),Je&&ea(q,We),Ue}function $e(q,L,G,ue){if(G==null)throw Error(i(151));for(var Ue=null,at=null,Re=L,We=L=0,Xe=null,rt=G.next();Re!==null&&!rt.done;We++,rt=G.next()){Re.index>We?(Xe=Re,Re=null):Xe=Re.sibling;var Wa=P(q,Re,rt.value,ue);if(Wa===null){Re===null&&(Re=Xe);break}t&&Re&&Wa.alternate===null&&s(q,Re),L=h(Wa,L,We),at===null?Ue=Wa:at.sibling=Wa,at=Wa,Re=Xe}if(rt.done)return r(q,Re),Je&&ea(q,We),Ue;if(Re===null){for(;!rt.done;We++,rt=G.next())rt=fe(q,rt.value,ue),rt!==null&&(L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt);return Je&&ea(q,We),Ue}for(Re=o(Re);!rt.done;We++,rt=G.next())rt=te(Re,q,We,rt.value,ue),rt!==null&&(t&&rt.alternate!==null&&Re.delete(rt.key===null?We:rt.key),L=h(rt,L,We),at===null?Ue=rt:at.sibling=rt,at=rt);return t&&Re.forEach(function(N1){return s(q,N1)}),Je&&ea(q,We),Ue}function ht(q,L,G,ue){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var Ue=G.key;L!==null;){if(L.key===Ue){if(Ue=G.type,Ue===E){if(L.tag===7){r(q,L.sibling),ue=d(L,G.props.children),ue.return=q,q=ue;break e}}else if(L.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===K&&pr(Ue)===L.type){r(q,L.sibling),ue=d(L,G.props),tl(ue,G),ue.return=q,q=ue;break e}r(q,L);break}else s(q,L);L=L.sibling}G.type===E?(ue=ur(G.props.children,q.mode,ue,G.key),ue.return=q,q=ue):(ue=bo(G.type,G.key,G.props,null,q.mode,ue),tl(ue,G),ue.return=q,q=ue)}return v(q);case T:e:{for(Ue=G.key;L!==null;){if(L.key===Ue)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){r(q,L.sibling),ue=d(L,G.children||[]),ue.return=q,q=ue;break e}else{r(q,L);break}else s(q,L);L=L.sibling}ue=Eu(G,q.mode,ue),ue.return=q,q=ue}return v(q);case K:return G=pr(G),ht(q,L,G,ue)}if(we(G))return De(q,L,G,ue);if(pe(G)){if(Ue=pe(G),typeof Ue!="function")throw Error(i(150));return G=Ue.call(G),$e(q,L,G,ue)}if(typeof G.then=="function")return ht(q,L,_o(G),ue);if(G.$$typeof===A)return ht(q,L,So(q,G),ue);Co(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(r(q,L.sibling),ue=d(L,G),ue.return=q,q=ue):(r(q,L),ue=ju(G,q.mode,ue),ue.return=q,q=ue),v(q)):r(q,L)}return function(q,L,G,ue){try{el=0;var Ue=ht(q,L,G,ue);return si=null,Ue}catch(Re){if(Re===ni||Re===Eo)throw Re;var at=is(29,Re,null,q.mode);return at.lanes=ue,at.return=q,at}finally{}}}var xr=jm(!0),Em=jm(!1),Da=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ma(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(t,s,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=vo(t),lm(t,null,r),s}return xo(t,o,s,r),vo(t)}function nl(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,wn(t,r)}}function Bu(t,s){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=s:h=h.next=s}else d=h=s;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var qu=!1;function sl(){if(qu){var t=ti;if(t!==null)throw t}}function al(t,s,r,o){qu=!1;var d=t.updateQueue;Da=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,Y=M.next;M.next=null,v===null?h=Y:v.next=Y,v=M;var re=t.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==v&&(S===null?re.firstBaseUpdate=Y:S.next=Y,re.lastBaseUpdate=M))}if(h!==null){var fe=d.baseState;v=0,re=Y=M=null,S=h;do{var P=S.lane&-536870913,te=P!==S.lane;if(te?(Pe&P)===P:(o&P)===P){P!==0&&P===ei&&(qu=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var De=t,$e=S;P=s;var ht=r;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){fe=De.call(ht,fe,P);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,P=typeof De=="function"?De.call(ht,fe,P):De,P==null)break e;fe=y({},fe,P);break e;case 2:Da=!0}}P=S.callback,P!==null&&(t.flags|=64,te&&(t.flags|=8192),te=d.callbacks,te===null?d.callbacks=[P]:te.push(P))}else te={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(Y=re=te,M=fe):re=re.next=te,v|=P;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);re===null&&(M=fe),d.baseState=M,d.firstBaseUpdate=Y,d.lastBaseUpdate=re,h===null&&(d.shared.lanes=0),Ba|=v,t.lanes=v,t.memoizedState=fe}}function Nm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function _m(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Nm(r[t],s)}var ai=N(null),ko=N(0);function Cm(t,s){t=da,z(ko,t),z(ai,s),da=t|s.baseLanes}function $u(){z(ko,da),z(ai,ai.current)}function Zu(){da=ko.current,V(ai),V(ko)}var ls=N(null),vs=null;function za(t){var s=t.alternate;z(Qt,Qt.current&1),z(ls,t),vs===null&&(s===null||ai.current!==null||s.memoizedState!==null)&&(vs=t)}function Hu(t){z(Qt,Qt.current),z(ls,t),vs===null&&(vs=t)}function km(t){t.tag===22?(z(Qt,Qt.current),z(ls,t),vs===null&&(vs=t)):Oa()}function Oa(){z(Qt,Qt.current),z(ls,ls.current)}function os(t){V(ls),vs===t&&(vs=null),V(Qt)}var Qt=N(0);function To(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Wd(r)||Yd(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sa=0,Ie=null,dt=null,tn=null,Ao=!1,ri=!1,vr=!1,Do=0,rl=0,ii=null,pw=0;function Bt(){throw Error(i(321))}function Vu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!rs(t[r],s[r]))return!1;return!0}function Fu(t,s,r,o,d,h){return sa=h,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=t===null||t.memoizedState===null?dp:rd,vr=!1,h=r(o,d),vr=!1,ri&&(h=Am(s,r,o,d)),Tm(t),h}function Tm(t){B.H=ol;var s=dt!==null&&dt.next!==null;if(sa=0,tn=dt=Ie=null,Ao=!1,rl=0,ii=null,s)throw Error(i(300));t===null||nn||(t=t.dependencies,t!==null&&wo(t)&&(nn=!0))}function Am(t,s,r,o){Ie=t;var d=0;do{if(ri&&(ii=null),rl=0,ri=!1,25<=d)throw Error(i(301));if(d+=1,tn=dt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=fp,h=s(r,o)}while(ri);return h}function gw(){var t=B.H,s=t.useState()[0];return s=typeof s.then=="function"?il(s):s,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ie.flags|=1024),s}function Qu(){var t=Do!==0;return Do=0,t}function Iu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function Gu(t){if(Ao){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ao=!1}sa=0,tn=dt=Ie=null,ri=!1,rl=Do=0,ii=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ie.memoizedState=tn=t:tn=tn.next=t,tn}function It(){if(dt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var s=tn===null?Ie.memoizedState:tn.next;if(s!==null)tn=s,dt=t;else{if(t===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},tn===null?Ie.memoizedState=tn=t:tn=tn.next=t}return tn}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var s=rl;return rl+=1,ii===null&&(ii=[]),t=ym(ii,t,s),s=Ie,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?dp:rd),t}function Ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===A)return Cn(t)}throw Error(i(438,String(t)))}function Wu(t){var s=null,r=Ie.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Mo(),Ie.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),o=0;o<t;o++)r[o]=ie;return s.index++,r}function aa(t,s){return typeof s=="function"?s(t):s}function zo(t){var s=It();return Yu(s,dt,t)}function Yu(t,s,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var S=v=null,M=null,Y=s,re=!1;do{var fe=Y.lane&-536870913;if(fe!==Y.lane?(Pe&fe)===fe:(sa&fe)===fe){var P=Y.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),fe===ei&&(re=!0);else if((sa&P)===P){Y=Y.next,P===ei&&(re=!0);continue}else fe={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=fe,v=h):M=M.next=fe,Ie.lanes|=P,Ba|=P;fe=Y.action,vr&&r(h,fe),h=Y.hasEagerState?Y.eagerState:r(h,fe)}else P={lane:fe,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=P,v=h):M=M.next=P,Ie.lanes|=fe,Ba|=fe;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?v=h:M.next=S,!rs(h,t.memoizedState)&&(nn=!0,re&&(r=ti,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=M,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ku(t){var s=It(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,h=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);rs(h,s.memoizedState)||(nn=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),r.lastRenderedState=h}return[h,o]}function Dm(t,s,r){var o=Ie,d=It(),h=Je;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=s();var v=!rs((dt||d).memoizedState,r);if(v&&(d.memoizedState=r,nn=!0),d=d.queue,Ju(zm.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||tn!==null&&tn.memoizedState.tag&1){if(o.flags|=2048,li(9,{destroy:void 0},Rm.bind(null,o,d,r,s),null),pt===null)throw Error(i(349));h||(sa&127)!==0||Mm(o,s,r)}return r}function Mm(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ie.updateQueue,s===null?(s=Mo(),Ie.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Rm(t,s,r,o){s.value=r,s.getSnapshot=o,Om(s)&&Lm(t)}function zm(t,s,r){return r(function(){Om(s)&&Lm(t)})}function Om(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!rs(t,r)}catch{return!0}}function Lm(t){var s=cr(t,2);s!==null&&Xn(s,t,2)}function Pu(t){var s=Zn();if(typeof t=="function"){var r=t;if(t=r(),vr){Xt(!0);try{r()}finally{Xt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},s}function Um(t,s,r,o){return t.baseState=r,Yu(t,dt,typeof o=="function"?o:aa)}function xw(t,s,r,o,d){if(Uo(t))throw Error(i(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};B.T!==null?r(!0):h.isTransition=!1,o(h),r=s.pending,r===null?(h.next=s.pending=h,Bm(s,h)):(h.next=r.next,s.pending=r.next=h)}}function Bm(t,s){var r=s.action,o=s.payload,d=t.state;if(s.isTransition){var h=B.T,v={};B.T=v;try{var S=r(d,o),M=B.S;M!==null&&M(v,S),qm(t,s,S)}catch(Y){Xu(t,s,Y)}finally{h!==null&&v.types!==null&&(h.types=v.types),B.T=h}}else try{h=r(d,o),qm(t,s,h)}catch(Y){Xu(t,s,Y)}}function qm(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){$m(t,s,o)},function(o){return Xu(t,s,o)}):$m(t,s,r)}function $m(t,s,r){s.status="fulfilled",s.value=r,Zm(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Bm(t,r)))}function Xu(t,s,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=r,Zm(s),s=s.next;while(s!==o)}t.action=null}function Zm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Hm(t,s){return s}function Vm(t,s){if(Je){var r=pt.formState;if(r!==null){e:{var o=Ie;if(Je){if(Et){t:{for(var d=Et,h=xs;d.nodeType!==8;){if(!h){d=null;break t}if(d=bs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Et=bs(d.nextSibling),o=d.data==="F!";break e}}Ta(o)}o=!1}o&&(s=r[0])}}return r=Zn(),r.memoizedState=r.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:s},r.queue=o,r=op.bind(null,Ie,o),o.dispatch=r,o=Pu(!1),h=ad.bind(null,Ie,!1,o.queue),o=Zn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,r=xw.bind(null,Ie,d,h,r),d.dispatch=r,o.memoizedState=t,[s,r,!1]}function Fm(t){var s=It();return Qm(s,dt,t)}function Qm(t,s,r){if(s=Yu(t,s,Hm)[0],t=zo(aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=il(s)}catch(v){throw v===ni?Eo:v}else o=s;s=It();var d=s.queue,h=d.dispatch;return r!==s.memoizedState&&(Ie.flags|=2048,li(9,{destroy:void 0},vw.bind(null,d,r),null)),[o,h,t]}function vw(t,s){t.action=s}function Im(t){var s=It(),r=dt;if(r!==null)return Qm(s,r,t);It(),s=s.memoizedState,r=It();var o=r.queue.dispatch;return r.memoizedState=t,[s,o,!1]}function li(t,s,r,o){return t={tag:t,create:r,deps:o,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Mo(),Ie.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,s.lastEffect=t),t}function Gm(){return It().memoizedState}function Oo(t,s,r,o){var d=Zn();Ie.flags|=t,d.memoizedState=li(1|s,{destroy:void 0},r,o===void 0?null:o)}function Lo(t,s,r,o){var d=It();o=o===void 0?null:o;var h=d.memoizedState.inst;dt!==null&&o!==null&&Vu(o,dt.memoizedState.deps)?d.memoizedState=li(s,h,r,o):(Ie.flags|=t,d.memoizedState=li(1|s,h,r,o))}function Wm(t,s){Oo(8390656,8,t,s)}function Ju(t,s){Lo(2048,8,t,s)}function bw(t){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Mo(),Ie.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function Ym(t){var s=It().memoizedState;return bw({ref:s,nextImpl:t}),function(){if((it&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Km(t,s){return Lo(4,2,t,s)}function Pm(t,s){return Lo(4,4,t,s)}function Xm(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Jm(t,s,r){r=r!=null?r.concat([t]):null,Lo(4,4,Xm.bind(null,s,t),r)}function ed(){}function ep(t,s){var r=It();s=s===void 0?null:s;var o=r.memoizedState;return s!==null&&Vu(s,o[1])?o[0]:(r.memoizedState=[t,s],t)}function tp(t,s){var r=It();s=s===void 0?null:s;var o=r.memoizedState;if(s!==null&&Vu(s,o[1]))return o[0];if(o=t(),vr){Xt(!0);try{t()}finally{Xt(!1)}}return r.memoizedState=[o,s],o}function td(t,s,r){return r===void 0||(sa&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=ng(),Ie.lanes|=t,Ba|=t,r)}function np(t,s,r,o){return rs(r,s)?r:ai.current!==null?(t=td(t,r,o),rs(t,s)||(nn=!0),t):(sa&42)===0||(sa&1073741824)!==0&&(Pe&261930)===0?(nn=!0,t.memoizedState=r):(t=ng(),Ie.lanes|=t,Ba|=t,s)}function sp(t,s,r,o,d){var h=ee.p;ee.p=h!==0&&8>h?h:8;var v=B.T,S={};B.T=S,ad(t,!1,s,r);try{var M=d(),Y=B.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var re=mw(M,o);ll(t,s,re,ds(t))}else ll(t,s,o,ds(t))}catch(fe){ll(t,s,{then:function(){},status:"rejected",reason:fe},ds())}finally{ee.p=h,v!==null&&S.types!==null&&(v.types=S.types),B.T=v}}function yw(){}function nd(t,s,r,o){if(t.tag!==5)throw Error(i(476));var d=ap(t).queue;sp(t,d,s,xe,r===null?yw:function(){return rp(t),r(o)})}function ap(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:xe},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function rp(t){var s=ap(t);s.next===null&&(s=t.alternate.memoizedState),ll(t,s.next.queue,{},ds())}function sd(){return Cn(El)}function ip(){return It().memoizedState}function lp(){return It().memoizedState}function ww(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=ds();t=Ma(r);var o=Ra(s,t,r);o!==null&&(Xn(o,s,r),nl(o,s,r)),s={cache:Mu()},t.payload=s;return}s=s.return}}function Sw(t,s,r){var o=ds();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Uo(t)?cp(s,r):(r=wu(t,s,r,o),r!==null&&(Xn(r,t,o),up(r,s,o)))}function op(t,s,r){var o=ds();ll(t,s,r,o)}function ll(t,s,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uo(t))cp(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,S=h(v,r);if(d.hasEagerState=!0,d.eagerState=S,rs(S,v))return xo(t,s,d,0),pt===null&&go(),!1}catch{}finally{}if(r=wu(t,s,d,o),r!==null)return Xn(r,t,o),up(r,s,o),!0}return!1}function ad(t,s,r,o){if(o={lane:2,revertLane:Ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uo(t)){if(s)throw Error(i(479))}else s=wu(t,r,o,2),s!==null&&Xn(s,t,2)}function Uo(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function cp(t,s){ri=Ao=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function up(t,s,r){if((r&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,r|=o,s.lanes=r,wn(t,r)}}var ol={readContext:Cn,use:Ro,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};ol.useEffectEvent=Bt;var dp={readContext:Cn,use:Ro,useCallback:function(t,s){return Zn().memoizedState=[t,s===void 0?null:s],t},useContext:Cn,useEffect:Wm,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,Oo(4194308,4,Xm.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Oo(4194308,4,t,s)},useInsertionEffect:function(t,s){Oo(4,2,t,s)},useMemo:function(t,s){var r=Zn();s=s===void 0?null:s;var o=t();if(vr){Xt(!0);try{t()}finally{Xt(!1)}}return r.memoizedState=[o,s],o},useReducer:function(t,s,r){var o=Zn();if(r!==void 0){var d=r(s);if(vr){Xt(!0);try{r(s)}finally{Xt(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=Sw.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var s=Zn();return t={current:t},s.memoizedState=t},useState:function(t){t=Pu(t);var s=t.queue,r=op.bind(null,Ie,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:ed,useDeferredValue:function(t,s){var r=Zn();return td(r,t,s)},useTransition:function(){var t=Pu(!1);return t=sp.bind(null,Ie,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var o=Ie,d=Zn();if(Je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),pt===null)throw Error(i(349));(Pe&127)!==0||Mm(o,s,r)}d.memoizedState=r;var h={value:r,getSnapshot:s};return d.queue=h,Wm(zm.bind(null,o,h,t),[t]),o.flags|=2048,li(9,{destroy:void 0},Rm.bind(null,o,h,r,s),null),r},useId:function(){var t=Zn(),s=pt.identifierPrefix;if(Je){var r=Fs,o=Vs;r=(o&~(1<<32-wt(o)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Do++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=pw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:sd,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var s=Zn();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=ad.bind(null,Ie,!0,r),r.dispatch=s,[t,s]},useMemoCache:Wu,useCacheRefresh:function(){return Zn().memoizedState=ww.bind(null,Ie)},useEffectEvent:function(t){var s=Zn(),r={impl:t};return s.memoizedState=r,function(){if((it&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},rd={readContext:Cn,use:Ro,useCallback:ep,useContext:Cn,useEffect:Ju,useImperativeHandle:Jm,useInsertionEffect:Km,useLayoutEffect:Pm,useMemo:tp,useReducer:zo,useRef:Gm,useState:function(){return zo(aa)},useDebugValue:ed,useDeferredValue:function(t,s){var r=It();return np(r,dt.memoizedState,t,s)},useTransition:function(){var t=zo(aa)[0],s=It().memoizedState;return[typeof t=="boolean"?t:il(t),s]},useSyncExternalStore:Dm,useId:ip,useHostTransitionStatus:sd,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,s){var r=It();return Um(r,dt,t,s)},useMemoCache:Wu,useCacheRefresh:lp};rd.useEffectEvent=Ym;var fp={readContext:Cn,use:Ro,useCallback:ep,useContext:Cn,useEffect:Ju,useImperativeHandle:Jm,useInsertionEffect:Km,useLayoutEffect:Pm,useMemo:tp,useReducer:Ku,useRef:Gm,useState:function(){return Ku(aa)},useDebugValue:ed,useDeferredValue:function(t,s){var r=It();return dt===null?td(r,t,s):np(r,dt.memoizedState,t,s)},useTransition:function(){var t=Ku(aa)[0],s=It().memoizedState;return[typeof t=="boolean"?t:il(t),s]},useSyncExternalStore:Dm,useId:ip,useHostTransitionStatus:sd,useFormState:Im,useActionState:Im,useOptimistic:function(t,s){var r=It();return dt!==null?Um(r,dt,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:lp};fp.useEffectEvent=Ym;function id(t,s,r,o){s=t.memoizedState,r=r(o,s),r=r==null?s:y({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ld={enqueueSetState:function(t,s,r){t=t._reactInternals;var o=ds(),d=Ma(o);d.payload=s,r!=null&&(d.callback=r),s=Ra(t,d,o),s!==null&&(Xn(s,t,o),nl(s,t,o))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var o=ds(),d=Ma(o);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=Ra(t,d,o),s!==null&&(Xn(s,t,o),nl(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=ds(),o=Ma(r);o.tag=2,s!=null&&(o.callback=s),s=Ra(t,o,r),s!==null&&(Xn(s,t,r),nl(s,t,r))}};function hp(t,s,r,o,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):s.prototype&&s.prototype.isPureReactComponent?!Wi(r,o)||!Wi(d,h):!0}function mp(t,s,r,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,o),s.state!==t&&ld.enqueueReplaceState(s,s.state,null)}function br(t,s){var r=s;if("ref"in s){r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}if(t=t.defaultProps){r===s&&(r=y({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function pp(t){po(t)}function gp(t){console.error(t)}function xp(t){po(t)}function Bo(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function vp(t,s,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function od(t,s,r){return r=Ma(r),r.tag=3,r.payload={element:null},r.callback=function(){Bo(t,s)},r}function bp(t){return t=Ma(t),t.tag=3,t}function yp(t,s,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){vp(s,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){vp(s,r,o),typeof d!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function jw(t,s,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=r.alternate,s!==null&&Jr(s,r,d,!0),r=ls.current,r!==null){switch(r.tag){case 31:case 13:return vs===null?Ko():r.alternate===null&&qt===0&&(qt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===No?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([o]):s.add(o),Rd(t,o,d)),!1;case 22:return r.flags|=65536,o===No?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([o]):r.add(o)),Rd(t,o,d)),!1}throw Error(i(435,r.tag))}return Rd(t,o,d),Ko(),!1}if(Je)return s=ls.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Cu&&(t=Error(i(422),{cause:o}),Pi(ms(t,r)))):(o!==Cu&&(s=Error(i(423),{cause:o}),Pi(ms(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=ms(o,r),d=od(t.stateNode,o,d),Bu(t,d),qt!==4&&(qt=2)),!1;var h=Error(i(520),{cause:o});if(h=ms(h,r),gl===null?gl=[h]:gl.push(h),qt!==4&&(qt=2),s===null)return!0;o=ms(o,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=od(r.stateNode,o,t),Bu(r,t),!1;case 1:if(s=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(qa===null||!qa.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=bp(d),yp(d,t,r,o),Bu(r,d),!1}r=r.return}while(r!==null);return!1}var cd=Error(i(461)),nn=!1;function kn(t,s,r,o){s.child=t===null?Em(s,null,r,o):xr(s,t.child,r,o)}function wp(t,s,r,o,d){r=r.render;var h=s.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return hr(s),o=Fu(t,s,r,v,h,d),S=Qu(),t!==null&&!nn?(Iu(t,s,d),ra(t,s,d)):(Je&&S&&Nu(s),s.flags|=1,kn(t,s,o,d),s.child)}function Sp(t,s,r,o,d){if(t===null){var h=r.type;return typeof h=="function"&&!Su(h)&&h.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=h,jp(t,s,h,o,d)):(t=bo(r.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!xd(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Wi,r(v,o)&&t.ref===s.ref)return ra(t,s,d)}return s.flags|=1,t=Js(h,o),t.ref=s.ref,t.return=s,s.child=t}function jp(t,s,r,o,d){if(t!==null){var h=t.memoizedProps;if(Wi(h,o)&&t.ref===s.ref)if(nn=!1,s.pendingProps=o=h,xd(t,d))(t.flags&131072)!==0&&(nn=!0);else return s.lanes=t.lanes,ra(t,s,d)}return ud(t,s,r,o,d)}function Ep(t,s,r,o){var d=o.children,h=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,s.child=null;return Np(t,s,h,r,o)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&jo(s,h!==null?h.cachePool:null),h!==null?Cm(s,h):$u(),km(s);else return o=s.lanes=536870912,Np(t,s,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(jo(s,h.cachePool),Cm(s,h),Oa(),s.memoizedState=null):(t!==null&&jo(s,null),$u(),Oa());return kn(t,s,d,r),s.child}function cl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Np(t,s,r,o,d){var h=zu();return h=h===null?null:{parent:en._currentValue,pool:h},s.memoizedState={baseLanes:r,cachePool:h},t!==null&&jo(s,null),$u(),km(s),t!==null&&Jr(t,s,o,!0),s.childLanes=d,null}function qo(t,s){return s=Zo({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function _p(t,s,r){return xr(s,t.child,null,r),t=qo(s,s.pendingProps),t.flags|=2,os(s),s.memoizedState=null,t}function Ew(t,s,r){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=qo(s,o),s.lanes=536870912,cl(null,t);if(Hu(s),(t=Et)?(t=Bg(t,xs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Vs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},r=cm(t),r.return=s,s.child=r,_n=s,Et=null)):t=null,t===null)throw Ta(s);return s.lanes=536870912,null}return qo(s,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Hu(s),d)if(s.flags&256)s.flags&=-257,s=_p(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(nn||Jr(t,s,r,!1),d=(r&t.childLanes)!==0,nn||d){if(o=pt,o!==null&&(v=Fn(o,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,cr(t,v),Xn(o,t,v),cd;Ko(),s=_p(t,s,r)}else t=h.treeContext,Et=bs(v.nextSibling),_n=s,Je=!0,ka=null,xs=!1,t!==null&&fm(s,t),s=qo(s,o),s.flags|=4096;return s}return t=Js(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function $o(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function ud(t,s,r,o,d){return hr(s),r=Fu(t,s,r,o,void 0,d),o=Qu(),t!==null&&!nn?(Iu(t,s,d),ra(t,s,d)):(Je&&o&&Nu(s),s.flags|=1,kn(t,s,r,d),s.child)}function Cp(t,s,r,o,d,h){return hr(s),s.updateQueue=null,r=Am(s,o,r,d),Tm(t),o=Qu(),t!==null&&!nn?(Iu(t,s,h),ra(t,s,h)):(Je&&o&&Nu(s),s.flags|=1,kn(t,s,r,h),s.child)}function kp(t,s,r,o,d){if(hr(s),s.stateNode===null){var h=Yr,v=r.contextType;typeof v=="object"&&v!==null&&(h=Cn(v)),h=new r(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ld,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},Lu(s),v=r.contextType,h.context=typeof v=="object"&&v!==null?Cn(v):Yr,h.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(id(s,r,v,o),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&ld.enqueueReplaceState(h,h.state,null),al(s,o,h,d),sl(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var S=s.memoizedProps,M=br(r,S);h.props=M;var Y=h.context,re=r.contextType;v=Yr,typeof re=="object"&&re!==null&&(v=Cn(re));var fe=r.getDerivedStateFromProps;re=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||Y!==v)&&mp(s,h,o,v),Da=!1;var P=s.memoizedState;h.state=P,al(s,o,h,d),sl(),Y=s.memoizedState,S||P!==Y||Da?(typeof fe=="function"&&(id(s,r,fe,o),Y=s.memoizedState),(M=Da||hp(s,r,M,o,P,Y,v))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=Y),h.props=o,h.state=Y,h.context=v,o=M):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,Uu(t,s),v=s.memoizedProps,re=br(r,v),h.props=re,fe=s.pendingProps,P=h.context,Y=r.contextType,M=Yr,typeof Y=="object"&&Y!==null&&(M=Cn(Y)),S=r.getDerivedStateFromProps,(Y=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==fe||P!==M)&&mp(s,h,o,M),Da=!1,P=s.memoizedState,h.state=P,al(s,o,h,d),sl();var te=s.memoizedState;v!==fe||P!==te||Da||t!==null&&t.dependencies!==null&&wo(t.dependencies)?(typeof S=="function"&&(id(s,r,S,o),te=s.memoizedState),(re=Da||hp(s,r,re,o,P,te,M)||t!==null&&t.dependencies!==null&&wo(t.dependencies))?(Y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,te,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,te,M)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=te),h.props=o,h.state=te,h.context=M,o=re):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,$o(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=xr(s,t.child,null,d),s.child=xr(s,null,r,d)):kn(t,s,r,d),s.memoizedState=h.state,t=s.child):t=ra(t,s,d),t}function Tp(t,s,r,o){return dr(),s.flags|=256,kn(t,s,r,o),s.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:vm()}}function hd(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=us),t}function Ap(t,s,r){var o=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Je){if(d?za(s):Oa(),(t=Et)?(t=Bg(t,xs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Vs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},r=cm(t),r.return=s,s.child=r,_n=s,Et=null)):t=null,t===null)throw Ta(s);return Yd(t)?s.lanes=32:s.lanes=536870912,null}var S=o.children;return o=o.fallback,d?(Oa(),d=s.mode,S=Zo({mode:"hidden",children:S},d),o=ur(o,d,r,null),S.return=s,o.return=s,S.sibling=o,s.child=S,o=s.child,o.memoizedState=fd(r),o.childLanes=hd(t,v,r),s.memoizedState=dd,cl(null,o)):(za(s),md(s,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(h)s.flags&256?(za(s),s.flags&=-257,s=pd(t,s,r)):s.memoizedState!==null?(Oa(),s.child=t.child,s.flags|=128,s=null):(Oa(),S=o.fallback,d=s.mode,o=Zo({mode:"visible",children:o.children},d),S=ur(S,d,r,null),S.flags|=2,o.return=s,S.return=s,o.sibling=S,s.child=o,xr(s,t.child,null,r),o=s.child,o.memoizedState=fd(r),o.childLanes=hd(t,v,r),s.memoizedState=dd,s=cl(null,o));else if(za(s),Yd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Y=v.dgst;v=Y,o=Error(i(419)),o.stack="",o.digest=v,Pi({value:o,source:null,stack:null}),s=pd(t,s,r)}else if(nn||Jr(t,s,r,!1),v=(r&t.childLanes)!==0,nn||v){if(v=pt,v!==null&&(o=Fn(v,r),o!==0&&o!==M.retryLane))throw M.retryLane=o,cr(t,o),Xn(v,t,o),cd;Wd(S)||Ko(),s=pd(t,s,r)}else Wd(S)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,Et=bs(S.nextSibling),_n=s,Je=!0,ka=null,xs=!1,t!==null&&fm(s,t),s=md(s,o.children),s.flags|=4096);return s}return d?(Oa(),S=o.fallback,d=s.mode,M=t.child,Y=M.sibling,o=Js(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,Y!==null?S=Js(Y,S):(S=ur(S,d,r,null),S.flags|=2),S.return=s,o.return=s,o.sibling=S,s.child=o,cl(null,o),o=s.child,S=t.child.memoizedState,S===null?S=fd(r):(d=S.cachePool,d!==null?(M=en._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=vm(),S={baseLanes:S.baseLanes|r,cachePool:d}),o.memoizedState=S,o.childLanes=hd(t,v,r),s.memoizedState=dd,cl(t.child,o)):(za(s),r=t.child,t=r.sibling,r=Js(r,{mode:"visible",children:o.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function md(t,s){return s=Zo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Zo(t,s){return t=is(22,t,null,s),t.lanes=0,t}function pd(t,s,r){return xr(s,t.child,null,r),t=md(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Dp(t,s,r){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Au(t.return,s,r)}function gd(t,s,r,o,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Mp(t,s,r){var o=s.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var v=Qt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,z(Qt,v),kn(t,s,o,r),o=Je?Ki:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dp(t,r,s);else if(t.tag===19)Dp(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&To(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),gd(s,!1,d,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&To(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}gd(s,!0,r,null,h,o);break;case"together":gd(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function ra(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ba|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Jr(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Js(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function xd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&wo(t)))}function Nw(t,s,r){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Aa(s,en,t.memoizedState.cache),dr();break;case 27:case 5:I(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hu(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(za(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Ap(t,s,r):(za(s),t=ra(t,s,r),t!==null?t.sibling:null);za(s);break;case 19:var d=(t.flags&128)!==0;if(o=(r&s.childLanes)!==0,o||(Jr(t,s,r,!1),o=(r&s.childLanes)!==0),d){if(o)return Mp(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),z(Qt,Qt.current),o)break;return null;case 22:return s.lanes=0,Ep(t,s,r,s.pendingProps);case 24:Aa(s,en,t.memoizedState.cache)}return ra(t,s,r)}function Rp(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)nn=!0;else{if(!xd(t,r)&&(s.flags&128)===0)return nn=!1,Nw(t,s,r);nn=(t.flags&131072)!==0}else nn=!1,Je&&(s.flags&1048576)!==0&&dm(s,Ki,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=pr(s.elementType),s.type=t,typeof t=="function")Su(t)?(o=br(t,o),s.tag=1,s=kp(null,s,t,o,r)):(s.tag=0,s=ud(null,s,t,o,r));else{if(t!=null){var d=t.$$typeof;if(d===$){s.tag=11,s=wp(null,s,t,o,r);break e}else if(d===W){s.tag=14,s=Sp(null,s,t,o,r);break e}}throw s=ge(t)||t,Error(i(306,s,""))}}return s;case 0:return ud(t,s,s.type,s.pendingProps,r);case 1:return o=s.type,d=br(o,s.pendingProps),kp(t,s,o,d,r);case 3:e:{if(be(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var h=s.memoizedState;d=h.element,Uu(t,s),al(s,o,null,r);var v=s.memoizedState;if(o=v.cache,Aa(s,en,o),o!==h.cache&&Du(s,[en],r,!0),sl(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Tp(t,s,o,r);break e}else if(o!==d){d=ms(Error(i(424)),s),Pi(d),s=Tp(t,s,o,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=bs(t.firstChild),_n=s,Je=!0,ka=null,xs=!0,r=Em(s,null,o,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(dr(),o===d){s=ra(t,s,r);break e}kn(t,s,o,r)}s=s.child}return s;case 26:return $o(t,s),t===null?(r=Fg(s.type,null,s.pendingProps,null))?s.memoizedState=r:Je||(r=s.type,t=s.pendingProps,o=sc(F.current).createElement(r),o[Jt]=s,o[Lt]=t,Tn(o,r,t),Rt(o),s.stateNode=o):s.memoizedState=Fg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return I(s),t===null&&Je&&(o=s.stateNode=Zg(s.type,s.pendingProps,F.current),_n=s,xs=!0,d=Et,Va(s.type)?(Kd=d,Et=bs(o.firstChild)):Et=d),kn(t,s,s.pendingProps.children,r),$o(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Je&&((d=o=Et)&&(o=t1(o,s.type,s.pendingProps,xs),o!==null?(s.stateNode=o,_n=s,Et=bs(o.firstChild),xs=!1,d=!0):d=!1),d||Ta(s)),I(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Qd(d,h)?o=null:v!==null&&Qd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Fu(t,s,gw,null,null,r),El._currentValue=d),$o(t,s),kn(t,s,o,r),s.child;case 6:return t===null&&Je&&((t=r=Et)&&(r=n1(r,s.pendingProps,xs),r!==null?(s.stateNode=r,_n=s,Et=null,t=!0):t=!1),t||Ta(s)),null;case 13:return Ap(t,s,r);case 4:return be(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=xr(s,null,o,r):kn(t,s,o,r),s.child;case 11:return wp(t,s,s.type,s.pendingProps,r);case 7:return kn(t,s,s.pendingProps,r),s.child;case 8:return kn(t,s,s.pendingProps.children,r),s.child;case 12:return kn(t,s,s.pendingProps.children,r),s.child;case 10:return o=s.pendingProps,Aa(s,s.type,o.value),kn(t,s,o.children,r),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,hr(s),d=Cn(d),o=o(d),s.flags|=1,kn(t,s,o,r),s.child;case 14:return Sp(t,s,s.type,s.pendingProps,r);case 15:return jp(t,s,s.type,s.pendingProps,r);case 19:return Mp(t,s,r);case 31:return Ew(t,s,r);case 22:return Ep(t,s,r,s.pendingProps);case 24:return hr(s),o=Cn(en),t===null?(d=zu(),d===null&&(d=pt,h=Mu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),s.memoizedState={parent:o,cache:d},Lu(s),Aa(s,en,d)):((t.lanes&r)!==0&&(Uu(t,s),al(s,null,null,r),sl()),d=t.memoizedState,h=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Aa(s,en,o)):(o=h.cache,Aa(s,en,o),o!==d.cache&&Du(s,[en],r,!0))),kn(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ia(t){t.flags|=4}function vd(t,s,r,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(ig())t.flags|=8192;else throw gr=No,Ou}else t.flags&=-16777217}function zp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yg(s))if(ig())t.flags|=8192;else throw gr=No,Ou}function Ho(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Ht():536870912,t.lanes|=s,di|=s)}function ul(t,s){if(!Je)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Nt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,s}function _w(t,s,r){var o=s.pendingProps;switch(_u(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return r=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),na(en),Ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xr(s)?ia(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ku())),Nt(s),null;case 26:var d=s.type,h=s.memoizedState;return t===null?(ia(s),h!==null?(Nt(s),zp(s,h)):(Nt(s),vd(s,d,null,o,r))):h?h!==t.memoizedState?(ia(s),Nt(s),zp(s,h)):(Nt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ia(s),Nt(s),vd(s,d,t,o,r)),null;case 27:if(Ne(s),r=F.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ia(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}t=R.current,Xr(s)?hm(s):(t=Zg(d,o,r),s.stateNode=t,ia(s))}return Nt(s),null;case 5:if(Ne(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ia(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(h=R.current,Xr(s))hm(s);else{var v=sc(F.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}h[Jt]=s,h[Lt]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=h;e:switch(Tn(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ia(s)}}return Nt(s),vd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ia(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=F.current,Xr(s)){if(t=s.stateNode,r=s.memoizedProps,o=null,d=_n,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Jt]=s,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ag(t.nodeValue,r)),t||Ta(s,!0)}else t=sc(t).createTextNode(o),t[Jt]=s,s.stateNode=t}return Nt(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(o=Xr(s),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Jt]=s}else dr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),t=!1}else r=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(os(s),s):(os(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Nt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Xr(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Jt]=s}else dr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),d=!1}else d=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(os(s),s):(os(s),null)}return os(s),(s.flags&128)!==0?(s.lanes=r,s):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),Ho(s,s.updateQueue),Nt(s),null);case 4:return Ee(),t===null&&$d(s.stateNode.containerInfo),Nt(s),null;case 10:return na(s.type),Nt(s),null;case 19:if(V(Qt),o=s.memoizedState,o===null)return Nt(s),null;if(d=(s.flags&128)!==0,h=o.rendering,h===null)if(d)ul(o,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=To(t),h!==null){for(s.flags|=128,ul(o,!1),t=h.updateQueue,s.updateQueue=t,Ho(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)om(r,t),r=r.sibling;return z(Qt,Qt.current&1|2),Je&&ea(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&J()>Go&&(s.flags|=128,d=!0,ul(o,!1),s.lanes=4194304)}else{if(!d)if(t=To(h),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Ho(s,t),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Je)return Nt(s),null}else 2*J()-o.renderingStartTime>Go&&r!==536870912&&(s.flags|=128,d=!0,ul(o,!1),s.lanes=4194304);o.isBackwards?(h.sibling=s.child,s.child=h):(t=o.last,t!==null?t.sibling=h:s.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=J(),t.sibling=null,r=Qt.current,z(Qt,d?r&1|2:r&1),Je&&ea(s,o.treeForkCount),t):(Nt(s),null);case 22:case 23:return os(s),Zu(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(r&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),r=s.updateQueue,r!==null&&Ho(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==r&&(s.flags|=2048),t!==null&&V(mr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),na(en),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Cw(t,s){switch(_u(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return na(en),Ee(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(os(s),s.alternate===null)throw Error(i(340));dr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(os(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));dr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return V(Qt),null;case 4:return Ee(),null;case 10:return na(s.type),null;case 22:case 23:return os(s),Zu(),t!==null&&V(mr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return na(en),null;case 25:return null;default:return null}}function Op(t,s){switch(_u(s),s.tag){case 3:na(en),Ee();break;case 26:case 27:case 5:Ne(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&os(s);break;case 13:os(s);break;case 19:V(Qt);break;case 10:na(s.type);break;case 22:case 23:os(s),Zu(),t!==null&&V(mr);break;case 24:na(en)}}function dl(t,s){try{var r=s.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var h=r.create,v=r.inst;o=h(),v.destroy=o}r=r.next}while(r!==d)}}catch(S){ct(s,s.return,S)}}function La(t,s,r){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var M=r,Y=S;try{Y()}catch(re){ct(d,M,re)}}}o=o.next}while(o!==h)}}catch(re){ct(s,s.return,re)}}function Lp(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{_m(s,r)}catch(o){ct(t,t.return,o)}}}function Up(t,s,r){r.props=br(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ct(t,s,o)}}function fl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){ct(t,s,d)}}function Qs(t,s){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){ct(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){ct(t,s,d)}else r.current=null}function Bp(t){var s=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){ct(t,t.return,d)}}function bd(t,s,r){try{var o=t.stateNode;Yw(o,t.type,r,s),o[Lt]=s}catch(d){ct(t,t.return,d)}}function qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Va(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Va(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=As));else if(o!==4&&(o===27&&Va(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(wd(t,s,r),t=t.sibling;t!==null;)wd(t,s,r),t=t.sibling}function Vo(t,s,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(o!==4&&(o===27&&Va(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Vo(t,s,r),t=t.sibling;t!==null;)Vo(t,s,r),t=t.sibling}function $p(t){var s=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Tn(s,o,r),s[Jt]=t,s[Lt]=r}catch(h){ct(t,t.return,h)}}var la=!1,sn=!1,Sd=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,xn=null;function kw(t,s){if(t=t.containerInfo,Vd=uc,t=Jh(t),pu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,S=-1,M=-1,Y=0,re=0,fe=t,P=null;t:for(;;){for(var te;fe!==r||d!==0&&fe.nodeType!==3||(S=v+d),fe!==h||o!==0&&fe.nodeType!==3||(M=v+o),fe.nodeType===3&&(v+=fe.nodeValue.length),(te=fe.firstChild)!==null;)P=fe,fe=te;for(;;){if(fe===t)break t;if(P===r&&++Y===d&&(S=v),P===h&&++re===o&&(M=v),(te=fe.nextSibling)!==null)break;fe=P,P=fe.parentNode}fe=te}r=S===-1||M===-1?null:{start:S,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fd={focusedElem:t,selectionRange:r},uc=!1,xn=s;xn!==null;)if(s=xn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,xn=t;else for(;xn!==null;){switch(s=xn,h=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=s,d=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var De=br(r.type,d);t=o.getSnapshotBeforeUpdate(De,h),o.__reactInternalSnapshotBeforeUpdate=t}catch($e){ct(r,r.return,$e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)Gd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,xn=t;break}xn=s.return}}function Hp(t,s,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ca(t,r),o&4&&dl(5,r);break;case 1:if(ca(t,r),o&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){ct(r,r.return,v)}else{var d=br(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ct(r,r.return,v)}}o&64&&Lp(r),o&512&&fl(r,r.return);break;case 3:if(ca(t,r),o&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{_m(t,s)}catch(v){ct(r,r.return,v)}}break;case 27:s===null&&o&4&&$p(r);case 26:case 5:ca(t,r),s===null&&o&4&&Bp(r),o&512&&fl(r,r.return);break;case 12:ca(t,r);break;case 31:ca(t,r),o&4&&Qp(t,r);break;case 13:ca(t,r),o&4&&Ip(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Uw.bind(null,r),s1(t,r))));break;case 22:if(o=r.memoizedState!==null||la,!o){s=s!==null&&s.memoizedState!==null||sn,d=la;var h=sn;la=o,(sn=s)&&!h?ua(t,r,(r.subtreeFlags&8772)!==0):ca(t,r),la=d,sn=h}break;case 30:break;default:ca(t,r)}}function Vp(t){var s=t.alternate;s!==null&&(t.alternate=null,Vp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&cn(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Wn=!1;function oa(t,s,r){for(r=r.child;r!==null;)Fp(t,s,r),r=r.sibling}function Fp(t,s,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(yt,r)}catch{}switch(r.tag){case 26:sn||Qs(r,s),oa(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:sn||Qs(r,s);var o=Tt,d=Wn;Va(r.type)&&(Tt=r.stateNode,Wn=!1),oa(t,s,r),wl(r.stateNode),Tt=o,Wn=d;break;case 5:sn||Qs(r,s);case 6:if(o=Tt,d=Wn,Tt=null,oa(t,s,r),Tt=o,Wn=d,Tt!==null)if(Wn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(r.stateNode)}catch(h){ct(r,s,h)}else try{Tt.removeChild(r.stateNode)}catch(h){ct(r,s,h)}break;case 18:Tt!==null&&(Wn?(t=Tt,Lg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),bi(t)):Lg(Tt,r.stateNode));break;case 4:o=Tt,d=Wn,Tt=r.stateNode.containerInfo,Wn=!0,oa(t,s,r),Tt=o,Wn=d;break;case 0:case 11:case 14:case 15:La(2,r,s),sn||La(4,r,s),oa(t,s,r);break;case 1:sn||(Qs(r,s),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Up(r,s,o)),oa(t,s,r);break;case 21:oa(t,s,r);break;case 22:sn=(o=sn)||r.memoizedState!==null,oa(t,s,r),sn=o;break;default:oa(t,s,r)}}function Qp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bi(t)}catch(r){ct(s,s.return,r)}}}function Ip(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bi(t)}catch(r){ct(s,s.return,r)}}function Tw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Zp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Zp),s;default:throw Error(i(435,t.tag))}}function Fo(t,s){var r=Tw(t);s.forEach(function(o){if(!r.has(o)){r.add(o);var d=Bw.bind(null,t,o);o.then(d,d)}})}function Yn(t,s){var r=s.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],h=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Va(S.type)){Tt=S.stateNode,Wn=!1;break e}break;case 5:Tt=S.stateNode,Wn=!1;break e;case 3:case 4:Tt=S.stateNode.containerInfo,Wn=!0;break e}S=S.return}if(Tt===null)throw Error(i(160));Fp(h,v,d),Tt=null,Wn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Gp(s,t),s=s.sibling}var Rs=null;function Gp(t,s){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(s,t),Kn(t),o&4&&(La(3,t,t.return),dl(3,t),La(5,t,t.return));break;case 1:Yn(s,t),Kn(t),o&512&&(sn||r===null||Qs(r,r.return)),o&64&&la&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Rs;if(Yn(s,t),Kn(t),o&512&&(sn||r===null||Qs(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[$s]||h[Jt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),Tn(h,o,r),h[Jt]=t,Rt(h),o=h;break e;case"link":var v=Gg("link","href",d).get(o+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(o),Tn(h,o,r),d.head.appendChild(h);break;case"meta":if(v=Gg("meta","content",d).get(o+(r.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}h=d.createElement(o),Tn(h,o,r),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[Jt]=t,Rt(h),o=h}t.stateNode=o}else Wg(d,t.type,t.stateNode);else t.stateNode=Ig(d,o,t.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?Wg(d,t.type,t.stateNode):Ig(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Yn(s,t),Kn(t),o&512&&(sn||r===null||Qs(r,r.return)),r!==null&&o&4&&bd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Yn(s,t),Kn(t),o&512&&(sn||r===null||Qs(r,r.return)),t.flags&32){d=t.stateNode;try{ja(d,"")}catch(De){ct(t,t.return,De)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,bd(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Sd=!0);break;case 6:if(Yn(s,t),Kn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(De){ct(t,t.return,De)}}break;case 3:if(ic=null,d=Rs,Rs=ac(s.containerInfo),Yn(s,t),Rs=d,Kn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{bi(s.containerInfo)}catch(De){ct(t,t.return,De)}Sd&&(Sd=!1,Wp(t));break;case 4:o=Rs,Rs=ac(t.stateNode.containerInfo),Yn(s,t),Kn(t),Rs=o;break;case 12:Yn(s,t),Kn(t);break;case 31:Yn(s,t),Kn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fo(t,o)));break;case 13:Yn(s,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Io=J()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fo(t,o)));break;case 22:d=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,Y=la,re=sn;if(la=Y||d,sn=re||M,Yn(s,t),sn=re,la=Y,Kn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||M||la||sn||yr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){M=r=s;try{if(h=M.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=M.stateNode;var fe=M.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(De){ct(M,M.return,De)}}}else if(s.tag===6){if(r===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(De){ct(M,M.return,De)}}}else if(s.tag===18){if(r===null){M=s;try{var te=M.stateNode;d?Ug(te,!0):Ug(M.stateNode,!1)}catch(De){ct(M,M.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Fo(t,r))));break;case 19:Yn(s,t),Kn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fo(t,o)));break;case 30:break;case 21:break;default:Yn(s,t),Kn(t)}}function Kn(t){var s=t.flags;if(s&2){try{for(var r,o=t.return;o!==null;){if(qp(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=yd(t);Vo(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(ja(v,""),r.flags&=-33);var S=yd(t);Vo(t,S,v);break;case 3:case 4:var M=r.stateNode.containerInfo,Y=yd(t);wd(t,Y,M);break;default:throw Error(i(161))}}catch(re){ct(t,t.return,re)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Wp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Wp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ca(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hp(t,s.alternate,s),s=s.sibling}function yr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:La(4,s,s.return),yr(s);break;case 1:Qs(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Up(s,s.return,r),yr(s);break;case 27:wl(s.stateNode);case 26:case 5:Qs(s,s.return),yr(s);break;case 22:s.memoizedState===null&&yr(s);break;case 30:yr(s);break;default:yr(s)}t=t.sibling}}function ua(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:ua(d,h,r),dl(4,h);break;case 1:if(ua(d,h,r),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){ct(o,o.return,Y)}if(o=h,d=o.updateQueue,d!==null){var S=o.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Nm(M[d],S)}catch(Y){ct(o,o.return,Y)}}r&&v&64&&Lp(h),fl(h,h.return);break;case 27:$p(h);case 26:case 5:ua(d,h,r),r&&o===null&&v&4&&Bp(h),fl(h,h.return);break;case 12:ua(d,h,r);break;case 31:ua(d,h,r),r&&v&4&&Qp(d,h);break;case 13:ua(d,h,r),r&&v&4&&Ip(d,h);break;case 22:h.memoizedState===null&&ua(d,h,r),fl(h,h.return);break;case 30:break;default:ua(d,h,r)}s=s.sibling}}function jd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xi(r))}function Ed(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xi(t))}function zs(t,s,r,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yp(t,s,r,o),s=s.sibling}function Yp(t,s,r,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:zs(t,s,r,o),d&2048&&dl(9,s);break;case 1:zs(t,s,r,o);break;case 3:zs(t,s,r,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xi(t)));break;case 12:if(d&2048){zs(t,s,r,o),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ct(s,s.return,M)}}else zs(t,s,r,o);break;case 31:zs(t,s,r,o);break;case 13:zs(t,s,r,o);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?zs(t,s,r,o):hl(t,s):h._visibility&2?zs(t,s,r,o):(h._visibility|=2,oi(t,s,r,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&jd(v,s);break;case 24:zs(t,s,r,o),d&2048&&Ed(s.alternate,s);break;default:zs(t,s,r,o)}}function oi(t,s,r,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var h=t,v=s,S=r,M=o,Y=v.flags;switch(v.tag){case 0:case 11:case 15:oi(h,v,S,M,d),dl(8,v);break;case 23:break;case 22:var re=v.stateNode;v.memoizedState!==null?re._visibility&2?oi(h,v,S,M,d):hl(h,v):(re._visibility|=2,oi(h,v,S,M,d)),d&&Y&2048&&jd(v.alternate,v);break;case 24:oi(h,v,S,M,d),d&&Y&2048&&Ed(v.alternate,v);break;default:oi(h,v,S,M,d)}s=s.sibling}}function hl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,o=s,d=o.flags;switch(o.tag){case 22:hl(r,o),d&2048&&jd(o.alternate,o);break;case 24:hl(r,o),d&2048&&Ed(o.alternate,o);break;default:hl(r,o)}s=s.sibling}}var ml=8192;function ci(t,s,r){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Kp(t,s,r),t=t.sibling}function Kp(t,s,r){switch(t.tag){case 26:ci(t,s,r),t.flags&ml&&t.memoizedState!==null&&p1(r,Rs,t.memoizedState,t.memoizedProps);break;case 5:ci(t,s,r);break;case 3:case 4:var o=Rs;Rs=ac(t.stateNode.containerInfo),ci(t,s,r),Rs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,ci(t,s,r),ml=o):ci(t,s,r));break;default:ci(t,s,r)}}function Pp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function pl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];xn=o,Jp(o,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&La(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Qo(t)):pl(t);break;default:pl(t)}}function Qo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var o=s[r];xn=o,Jp(o,t)}Pp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:La(8,s,s.return),Qo(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Qo(s));break;default:Qo(s)}t=t.sibling}}function Jp(t,s){for(;xn!==null;){var r=xn;switch(r.tag){case 0:case 11:case 15:La(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xi(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xn=o;else e:for(r=t;xn!==null;){o=xn;var d=o.sibling,h=o.return;if(Vp(o),o===r){xn=null;break e}if(d!==null){d.return=h,xn=d;break e}xn=h}}}var Aw={getCacheForType:function(t){var s=Cn(en),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return Cn(en).controller.signal}},Dw=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Ye=null,Pe=0,ot=0,cs=null,Ua=!1,ui=!1,Nd=!1,da=0,qt=0,Ba=0,wr=0,_d=0,us=0,di=0,gl=null,Pn=null,Cd=!1,Io=0,eg=0,Go=1/0,Wo=null,qa=null,un=0,$a=null,fi=null,fa=0,kd=0,Td=null,tg=null,xl=0,Ad=null;function ds(){return(it&2)!==0&&Pe!==0?Pe&-Pe:B.T!==null?Ld():Qn()}function ng(){if(us===0)if((Pe&536870912)===0||Je){var t=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),us=t}else us=536870912;return t=ls.current,t!==null&&(t.flags|=32),us}function Xn(t,s,r){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(hi(t,0),Za(t,Pe,us,!1)),Vn(t,r),((it&2)===0||t!==pt)&&(t===pt&&((it&2)===0&&(wr|=r),qt===4&&Za(t,Pe,us,!1)),Is(t))}function sg(t,s,r){if((it&6)!==0)throw Error(i(327));var o=!r&&(s&127)===0&&(s&t.expiredLanes)===0||Rn(t,s),d=o?zw(t,s):Md(t,s,!0),h=o;do{if(d===0){ui&&!o&&Za(t,s,0,!1);break}else{if(r=t.current.alternate,h&&!Mw(r)){d=Md(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;d=gl;var M=S.current.memoizedState.isDehydrated;if(M&&(hi(S,v).flags|=256),v=Md(S,v,!1),v!==2){if(Nd&&!M){S.errorRecoveryDisabledLanes|=h,wr|=h,d=4;break e}h=Pn,Pn=d,h!==null&&(Pn===null?Pn=h:Pn.push.apply(Pn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){hi(t,0),Za(t,s,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Za(o,s,us,!Ua);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Io+300-J(),10<d)){if(Za(o,s,us,!Ua),Ot(o,0,!0)!==0)break e;fa=s,o.timeoutHandle=zg(ag.bind(null,o,r,Pn,Wo,Cd,s,us,wr,di,Ua,h,"Throttled",-0,0),d);break e}ag(o,r,Pn,Wo,Cd,s,us,wr,di,Ua,h,null,-0,0)}}break}while(!0);Is(t)}function ag(t,s,r,o,d,h,v,S,M,Y,re,fe,P,te){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:As},Kp(s,h,fe);var De=(h&62914560)===h?Io-J():(h&4194048)===h?eg-J():0;if(De=g1(fe,De),De!==null){fa=h,t.cancelPendingCommit=De(fg.bind(null,t,s,h,r,o,d,v,S,M,re,fe,null,P,te)),Za(t,h,v,!Y);return}}fg(t,s,h,r,o,d,v,S,M)}function Mw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],h=d.getSnapshot;d=d.value;try{if(!rs(h(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Za(t,s,r,o){s&=~_d,s&=~wr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var h=31-wt(d),v=1<<h;o[h]=-1,d&=~v}r!==0&&Mt(t,r,s)}function Yo(){return(it&6)===0?(vl(0),!1):!0}function Dd(){if(Ye!==null){if(ot===0)var t=Ye.return;else t=Ye,ta=fr=null,Gu(t),si=null,el=0,t=Ye;for(;t!==null;)Op(t.alternate,t),t=t.return;Ye=null}}function hi(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Xw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),fa=0,Dd(),pt=t,Ye=r=Js(t.current,null),Pe=s,ot=0,cs=null,Ua=!1,ui=Rn(t,s),Nd=!1,di=us=_d=wr=Ba=qt=0,Pn=gl=null,Cd=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-wt(o),h=1<<d;s|=t[d],o&=~h}return da=s,go(),r}function rg(t,s){Ie=null,B.H=ol,s===ni||s===Eo?(s=wm(),ot=3):s===Ou?(s=wm(),ot=4):ot=s===cd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cs=s,Ye===null&&(qt=1,Bo(t,ms(s,t.current)))}function ig(){var t=ls.current;return t===null?!0:(Pe&4194048)===Pe?vs===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===vs:!1}function lg(){var t=B.H;return B.H=ol,t===null?ol:t}function og(){var t=B.A;return B.A=Aw,t}function Ko(){qt=4,Ua||(Pe&4194048)!==Pe&&ls.current!==null||(ui=!0),(Ba&134217727)===0&&(wr&134217727)===0||pt===null||Za(pt,Pe,us,!1)}function Md(t,s,r){var o=it;it|=2;var d=lg(),h=og();(pt!==t||Pe!==s)&&(Wo=null,hi(t,s)),s=!1;var v=qt;e:do try{if(ot!==0&&Ye!==null){var S=Ye,M=cs;switch(ot){case 8:Dd(),v=6;break e;case 3:case 2:case 9:case 6:ls.current===null&&(s=!0);var Y=ot;if(ot=0,cs=null,mi(t,S,M,Y),r&&ui){v=0;break e}break;default:Y=ot,ot=0,cs=null,mi(t,S,M,Y)}}Rw(),v=qt;break}catch(re){rg(t,re)}while(!0);return s&&t.shellSuspendCounter++,ta=fr=null,it=o,B.H=d,B.A=h,Ye===null&&(pt=null,Pe=0,go()),v}function Rw(){for(;Ye!==null;)cg(Ye)}function zw(t,s){var r=it;it|=2;var o=lg(),d=og();pt!==t||Pe!==s?(Wo=null,Go=J()+500,hi(t,s)):ui=Rn(t,s);e:do try{if(ot!==0&&Ye!==null){s=Ye;var h=cs;t:switch(ot){case 1:ot=0,cs=null,mi(t,s,h,1);break;case 2:case 9:if(bm(h)){ot=0,cs=null,ug(s);break}s=function(){ot!==2&&ot!==9||pt!==t||(ot=7),Is(t)},h.then(s,s);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:bm(h)?(ot=0,cs=null,ug(s)):(ot=0,cs=null,mi(t,s,h,7));break;case 5:var v=null;switch(Ye.tag){case 26:v=Ye.memoizedState;case 5:case 27:var S=Ye;if(v?Yg(v):S.stateNode.complete){ot=0,cs=null;var M=S.sibling;if(M!==null)Ye=M;else{var Y=S.return;Y!==null?(Ye=Y,Po(Y)):Ye=null}break t}}ot=0,cs=null,mi(t,s,h,5);break;case 6:ot=0,cs=null,mi(t,s,h,6);break;case 8:Dd(),qt=6;break e;default:throw Error(i(462))}}Ow();break}catch(re){rg(t,re)}while(!0);return ta=fr=null,B.H=o,B.A=d,it=r,Ye!==null?0:(pt=null,Pe=0,go(),qt)}function Ow(){for(;Ye!==null&&!C();)cg(Ye)}function cg(t){var s=Rp(t.alternate,t,da);t.memoizedProps=t.pendingProps,s===null?Po(t):Ye=s}function ug(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=Cp(r,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=Cp(r,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Gu(s);default:Op(r,s),s=Ye=om(s,da),s=Rp(r,s,da)}t.memoizedProps=t.pendingProps,s===null?Po(t):Ye=s}function mi(t,s,r,o){ta=fr=null,Gu(s),si=null,el=0;var d=s.return;try{if(jw(t,d,s,r,Pe)){qt=1,Bo(t,ms(r,t.current)),Ye=null;return}}catch(h){if(d!==null)throw Ye=d,h;qt=1,Bo(t,ms(r,t.current)),Ye=null;return}s.flags&32768?(Je||o===1?t=!0:ui||(Pe&536870912)!==0?t=!1:(Ua=t=!0,(o===2||o===9||o===3||o===6)&&(o=ls.current,o!==null&&o.tag===13&&(o.flags|=16384))),dg(s,t)):Po(s)}function Po(t){var s=t;do{if((s.flags&32768)!==0){dg(s,Ua);return}t=s.return;var r=_w(s.alternate,s,da);if(r!==null){Ye=r;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=t}while(s!==null);qt===0&&(qt=5)}function dg(t,s){do{var r=Cw(t.alternate,t);if(r!==null){r.flags&=32767,Ye=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=r}while(t!==null);qt=6,Ye=null}function fg(t,s,r,o,d,h,v,S,M){t.cancelPendingCommit=null;do Xo();while(un!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(h=s.lanes|s.childLanes,h|=yu,Vt(t,r,h,v,S,M),t===pt&&(Ye=pt=null,Pe=0),fi=s,$a=t,fa=r,kd=h,Td=d,tg=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qw(He,function(){return xg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=ee.p,ee.p=2,v=it,it|=4;try{kw(t,s,r)}finally{it=v,ee.p=d,B.T=o}}un=1,hg(),mg(),pg()}}function hg(){if(un===1){un=0;var t=$a,s=fi,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var o=ee.p;ee.p=2;var d=it;it|=4;try{Gp(s,t);var h=Fd,v=Jh(t.containerInfo),S=h.focusedElem,M=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&Xh(S.ownerDocument.documentElement,S)){if(M!==null&&pu(S)){var Y=M.start,re=M.end;if(re===void 0&&(re=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(re,S.value.length);else{var fe=S.ownerDocument||document,P=fe&&fe.defaultView||window;if(P.getSelection){var te=P.getSelection(),De=S.textContent.length,$e=Math.min(M.start,De),ht=M.end===void 0?$e:Math.min(M.end,De);!te.extend&&$e>ht&&(v=ht,ht=$e,$e=v);var q=Ph(S,$e),L=Ph(S,ht);if(q&&L&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==L.node||te.focusOffset!==L.offset)){var G=fe.createRange();G.setStart(q.node,q.offset),te.removeAllRanges(),$e>ht?(te.addRange(G),te.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),te.addRange(G))}}}}for(fe=[],te=S;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var ue=fe[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}uc=!!Vd,Fd=Vd=null}finally{it=d,ee.p=o,B.T=r}}t.current=s,un=2}}function mg(){if(un===2){un=0;var t=$a,s=fi,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var o=ee.p;ee.p=2;var d=it;it|=4;try{Hp(t,s.alternate,s)}finally{it=d,ee.p=o,B.T=r}}un=3}}function pg(){if(un===4||un===3){un=0,se();var t=$a,s=fi,r=fa,o=tg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,fi=$a=null,gg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(qa=null),zn(r),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=B.T,d=ee.p,ee.p=2,B.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];h(S.value,{componentStack:S.stack})}}finally{B.T=s,ee.p=d}}(fa&3)!==0&&Xo(),Is(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===Ad?xl++:(xl=0,Ad=t):xl=0,vl(0)}}function gg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Xi(s)))}function Xo(){return hg(),mg(),pg(),xg()}function xg(){if(un!==5)return!1;var t=$a,s=kd;kd=0;var r=zn(fa),o=B.T,d=ee.p;try{ee.p=32>r?32:r,B.T=null,r=Td,Td=null;var h=$a,v=fa;if(un=0,fi=$a=null,fa=0,(it&6)!==0)throw Error(i(331));var S=it;if(it|=4,Xp(h.current),Yp(h,h.current,v,r),it=S,vl(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(yt,h)}catch{}return!0}finally{ee.p=d,B.T=o,gg(t,s)}}function vg(t,s,r){s=ms(r,s),s=od(t.stateNode,s,2),t=Ra(t,s,2),t!==null&&(Vn(t,2),Is(t))}function ct(t,s,r){if(t.tag===3)vg(t,t,r);else for(;s!==null;){if(s.tag===3){vg(s,t,r);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){t=ms(r,t),r=bp(2),o=Ra(s,r,2),o!==null&&(yp(r,o,s,t),Vn(o,2),Is(o));break}}s=s.return}}function Rd(t,s,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Dw;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(r)||(Nd=!0,d.add(r),t=Lw.bind(null,t,s,r),s.then(t,t))}function Lw(t,s,r){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,pt===t&&(Pe&r)===r&&(qt===4||qt===3&&(Pe&62914560)===Pe&&300>J()-Io?(it&2)===0&&hi(t,0):_d|=r,di===Pe&&(di=0)),Is(t)}function bg(t,s){s===0&&(s=Ht()),t=cr(t,s),t!==null&&(Vn(t,s),Is(t))}function Uw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),bg(t,r)}function Bw(t,s){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),bg(t,r)}function qw(t,s){return D(t,s)}var Jo=null,pi=null,zd=!1,ec=!1,Od=!1,Ha=0;function Is(t){t!==pi&&t.next===null&&(pi===null?Jo=pi=t:pi=pi.next=t),ec=!0,zd||(zd=!0,Zw())}function vl(t,s){if(!Od&&ec){Od=!0;do for(var r=!1,o=Jo;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var v=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-wt(42|t)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,jg(o,h))}else h=Pe,h=Ot(o,o===pt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Rn(o,h)||(r=!0,jg(o,h));o=o.next}while(r);Od=!1}}function $w(){yg()}function yg(){ec=zd=!1;var t=0;Ha!==0&&Pw()&&(t=Ha);for(var s=J(),r=null,o=Jo;o!==null;){var d=o.next,h=wg(o,s);h===0?(o.next=null,r===null?Jo=d:r.next=d,d===null&&(pi=r)):(r=o,(t!==0||(h&3)!==0)&&(ec=!0)),o=d}un!==0&&un!==5||vl(t),Ha!==0&&(Ha=0)}function wg(t,s){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-wt(h),S=1<<v,M=d[v];M===-1?((S&r)===0||(S&o)!==0)&&(d[v]=Ce(S,s)):M<=s&&(t.expiredLanes|=S),h&=~S}if(s=pt,r=Pe,r=Ot(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===s&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&k(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(o!==null&&k(o),zn(r)){case 2:case 8:r=qe;break;case 32:r=He;break;case 268435456:r=ye;break;default:r=He}return o=Sg.bind(null,t),r=D(r,o),t.callbackPriority=s,t.callbackNode=r,s}return o!==null&&o!==null&&k(o),t.callbackPriority=2,t.callbackNode=null,2}function Sg(t,s){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Xo()&&t.callbackNode!==r)return null;var o=Pe;return o=Ot(t,t===pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(sg(t,o,s),wg(t,J()),t.callbackNode!=null&&t.callbackNode===r?Sg.bind(null,t):null)}function jg(t,s){if(Xo())return null;sg(t,s,!0)}function Zw(){Jw(function(){(it&6)!==0?D(je,$w):yg()})}function Ld(){if(Ha===0){var t=ei;t===0&&(t=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),Ha=t}return Ha}function Eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$r(""+t)}function Ng(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Hw(t,s,r,o,d){if(s==="submit"&&r&&r.stateNode===d){var h=Eg((d[Lt]||null).action),v=o.submitter;v&&(s=(s=v[Lt]||null)?Eg(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var S=new Zr("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ha!==0){var M=v?Ng(d,v):new FormData(d);nd(r,{pending:!0,data:M,method:d.method,action:h},null,M)}}else typeof h=="function"&&(S.preventDefault(),M=v?Ng(d,v):new FormData(d),nd(r,{pending:!0,data:M,method:d.method,action:h},h,M))},currentTarget:d}]})}}for(var Ud=0;Ud<bu.length;Ud++){var Bd=bu[Ud],Vw=Bd.toLowerCase(),Fw=Bd[0].toUpperCase()+Bd.slice(1);Ms(Vw,"on"+Fw)}Ms(nm,"onAnimationEnd"),Ms(sm,"onAnimationIteration"),Ms(am,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(iw,"onTransitionRun"),Ms(lw,"onTransitionStart"),Ms(ow,"onTransitionCancel"),Ms(rm,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function _g(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var v=o.length-1;0<=v;v--){var S=o[v],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=Y;try{h(d)}catch(re){po(re)}d.currentTarget=null,h=M}else for(v=0;v<o.length;v++){if(S=o[v],M=S.instance,Y=S.currentTarget,S=S.listener,M!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=Y;try{h(d)}catch(re){po(re)}d.currentTarget=null,h=M}}}}function Ke(t,s){var r=s[Oi];r===void 0&&(r=s[Oi]=new Set);var o=t+"__bubble";r.has(o)||(Cg(s,t,2,!1),r.add(o))}function qd(t,s,r){var o=0;s&&(o|=4),Cg(r,t,o,s)}var tc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[tc]){t[tc]=!0,sr.forEach(function(r){r!=="selectionchange"&&(Qw.has(r)||qd(r,!1,t),qd(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[tc]||(s[tc]=!0,qd("selectionchange",!1,s))}}function Cg(t,s,r,o){switch(nx(s)){case 2:var d=b1;break;case 8:d=y1;break;default:d=tf}r=d.bind(null,s,r,t),d=void 0,!ce||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function Zd(t,s,r,o,d){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=o.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=qn(S),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){o=h=v;continue e}S=S.parentNode}}o=o.return}ho(function(){var Y=h,re=Hi(r),fe=[];e:{var P=im.get(t);if(P!==void 0){var te=Zr,De=t;switch(t){case"keypress":if(kt(r)===0)break e;case"keydown":case"keyup":te=By;break;case"focusin":De="focus",te=Fr;break;case"focusout":De="blur",te=Fr;break;case"beforeblur":case"afterblur":te=Fr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Zy;break;case nm:case sm:case am:te=Ty;break;case rm:te=Vy;break;case"scroll":case"scrollend":te=Oh;break;case"wheel":te=Qy;break;case"copy":case"cut":case"paste":te=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Uh;break;case"toggle":case"beforetoggle":te=Gy}var $e=(s&4)!==0,ht=!$e&&(t==="scroll"||t==="scrollend"),q=$e?P!==null?P+"Capture":null:P;$e=[];for(var L=Y,G;L!==null;){var ue=L;if(G=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||G===null||q===null||(ue=rr(L,q),ue!=null&&$e.push(yl(L,ue,G))),ht)break;L=L.return}0<$e.length&&(P=new te(P,De,null,r,re),fe.push({event:P,listeners:$e}))}}if((s&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",P&&r!==Zi&&(De=r.relatedTarget||r.fromElement)&&(qn(De)||De[Ct]))break e;if((te||P)&&(P=re.window===re?re:(P=re.ownerDocument)?P.defaultView||P.parentWindow:window,te?(De=r.relatedTarget||r.toElement,te=Y,De=De?qn(De):null,De!==null&&(ht=u(De),$e=De.tag,De!==ht||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(te=null,De=Y),te!==De)){if($e=mn,ue="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&($e=Uh,ue="onPointerLeave",q="onPointerEnter",L="pointer"),ht=te==null?P:Cs(te),G=De==null?P:Cs(De),P=new $e(ue,L+"leave",te,r,re),P.target=ht,P.relatedTarget=G,ue=null,qn(re)===Y&&($e=new $e(q,L+"enter",De,r,re),$e.target=G,$e.relatedTarget=ht,ue=$e),ht=ue,te&&De)t:{for($e=Iw,q=te,L=De,G=0,ue=q;ue;ue=$e(ue))G++;ue=0;for(var Ue=L;Ue;Ue=$e(Ue))ue++;for(;0<G-ue;)q=$e(q),G--;for(;0<ue-G;)L=$e(L),ue--;for(;G--;){if(q===L||L!==null&&q===L.alternate){$e=q;break t}q=$e(q),L=$e(L)}$e=null}else $e=null;te!==null&&kg(fe,P,te,$e,!1),De!==null&&ht!==null&&kg(fe,ht,De,$e,!0)}}e:{if(P=Y?Cs(Y):window,te=P.nodeName&&P.nodeName.toLowerCase(),te==="select"||te==="input"&&P.type==="file")var at=Qh;else if(Vh(P))if(Ih)at=sw;else{at=tw;var Re=ew}else te=P.nodeName,!te||te.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?Y&&$i(Y.elementType)&&(at=Qh):at=nw;if(at&&(at=at(t,Y))){Fh(fe,at,r,re);break e}Re&&Re(t,P,Y),t==="focusout"&&Y&&P.type==="number"&&Y.memoizedProps.value!=null&&Sa(P,"number",P.value)}switch(Re=Y?Cs(Y):window,t){case"focusin":(Vh(Re)||Re.contentEditable==="true")&&(Ir=Re,gu=Y,Yi=null);break;case"focusout":Yi=gu=Ir=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,em(fe,r,re);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":em(fe,r,re)}var We;if(fu)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Qr?Zh(t,r)&&(Xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Xe="onCompositionStart");Xe&&(Bh&&r.locale!=="ko"&&(Qr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Qr&&(We=Ft()):(Le=re,nt="value"in Le?Le.value:Le.textContent,Qr=!0)),Re=nc(Y,Xe),0<Re.length&&(Xe=new Lh(Xe,t,null,r,re),fe.push({event:Xe,listeners:Re}),We?Xe.data=We:(We=Hh(r),We!==null&&(Xe.data=We)))),(We=Yy?Ky(t,r):Py(t,r))&&(Xe=nc(Y,"onBeforeInput"),0<Xe.length&&(Re=new Lh("onBeforeInput","beforeinput",null,r,re),fe.push({event:Re,listeners:Xe}),Re.data=We)),Hw(fe,t,Y,r,re)}_g(fe,s)})}function yl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function nc(t,s){for(var r=s+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=rr(t,r),d!=null&&o.unshift(yl(t,d,h)),d=rr(t,s),d!=null&&o.push(yl(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Iw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kg(t,s,r,o,d){for(var h=s._reactName,v=[];r!==null&&r!==o;){var S=r,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===o)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,d?(Y=rr(r,h),Y!=null&&v.unshift(yl(r,Y,M))):d||(Y=rr(r,h),Y!=null&&v.push(yl(r,Y,M)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var Gw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(Gw,`
`).replace(Ww,"")}function Ag(t,s){return s=Tg(s),Tg(t)===s}function ft(t,s,r,o,d,h){switch(r){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||ja(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&ja(t,""+o);break;case"className":Ps(t,"class",o);break;case"tabIndex":Ps(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(t,r,o);break;case"style":uo(t,o,h);break;case"data":if(s!=="object"){Ps(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=$r(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(s!=="input"&&ft(t,s,"name",d.name,d,null),ft(t,s,"formEncType",d.formEncType,d,null),ft(t,s,"formMethod",d.formMethod,d,null),ft(t,s,"formTarget",d.formTarget,d,null)):(ft(t,s,"encType",d.encType,d,null),ft(t,s,"method",d.method,d,null),ft(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=$r(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=As);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=$r(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),Ur(t,"popover",o);break;case"xlinkActuate":Ts(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ts(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ts(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ts(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ts(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ts(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ts(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ur(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,Ur(t,r,o))}}function Hd(t,s,r,o,d,h){switch(r){case"style":uo(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ja(t,o):(typeof o=="number"||typeof o=="bigint")&&ja(t,""+o);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=As);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),h=t[Lt]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ur(t,r,o)}}}function Tn(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var o=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(t,s,h,v,r,null)}}d&&ft(t,s,"srcSet",r.srcSet,r,null),o&&ft(t,s,"src",r.src,r,null);return;case"input":Ke("invalid",t);var S=h=v=d=null,M=null,Y=null;for(o in r)if(r.hasOwnProperty(o)){var re=r[o];if(re!=null)switch(o){case"name":d=re;break;case"type":v=re;break;case"checked":M=re;break;case"defaultChecked":Y=re;break;case"value":h=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:ft(t,s,o,re,r,null)}}ar(t,h,S,M,Y,v,d,!1);return;case"select":Ke("invalid",t),o=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:ft(t,s,d,S,r,null)}s=h,r=v,t.multiple=!!o,s!=null?Hs(t,!!o,s,!1):r!=null&&Hs(t,!!o,r,!0);return;case"textarea":Ke("invalid",t),h=d=o=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ft(t,s,v,S,r,null)}oo(t,o,d,h);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(o=r[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ft(t,s,M,o,r,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ke(bl[o],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(o=r[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(t,s,Y,o,r,null)}return;default:if($i(s)){for(re in r)r.hasOwnProperty(re)&&(o=r[re],o!==void 0&&Hd(t,s,re,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&ft(t,s,S,o,r,null))}function Yw(t,s,r,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,M=null,Y=null,re=null;for(te in r){var fe=r[te];if(r.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=fe;default:o.hasOwnProperty(te)||ft(t,s,te,null,o,fe)}}for(var P in o){var te=o[P];if(fe=r[P],o.hasOwnProperty(P)&&(te!=null||fe!=null))switch(P){case"type":h=te;break;case"name":d=te;break;case"checked":Y=te;break;case"defaultChecked":re=te;break;case"value":v=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==fe&&ft(t,s,P,te,o,fe)}}Bi(t,v,S,M,Y,re,h,d);return;case"select":te=v=S=P=null;for(h in r)if(M=r[h],r.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":te=M;default:o.hasOwnProperty(h)||ft(t,s,h,null,o,M)}for(d in o)if(h=o[d],M=r[d],o.hasOwnProperty(d)&&(h!=null||M!=null))switch(d){case"value":P=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==M&&ft(t,s,d,h,o,M)}s=S,r=v,o=te,P!=null?Hs(t,!!r,P,!1):!!o!=!!r&&(s!=null?Hs(t,!!r,s,!0):Hs(t,!!r,r?[]:"",!1));return;case"textarea":te=P=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ft(t,s,S,null,o,d)}for(v in o)if(d=o[v],h=r[v],o.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":P=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ft(t,s,v,d,o,h)}lo(t,P,te);return;case"option":for(var De in r)if(P=r[De],r.hasOwnProperty(De)&&P!=null&&!o.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:ft(t,s,De,null,o,P)}for(M in o)if(P=o[M],te=r[M],o.hasOwnProperty(M)&&P!==te&&(P!=null||te!=null))switch(M){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ft(t,s,M,P,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in r)P=r[$e],r.hasOwnProperty($e)&&P!=null&&!o.hasOwnProperty($e)&&ft(t,s,$e,null,o,P);for(Y in o)if(P=o[Y],te=r[Y],o.hasOwnProperty(Y)&&P!==te&&(P!=null||te!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:ft(t,s,Y,P,o,te)}return;default:if($i(s)){for(var ht in r)P=r[ht],r.hasOwnProperty(ht)&&P!==void 0&&!o.hasOwnProperty(ht)&&Hd(t,s,ht,void 0,o,P);for(re in o)P=o[re],te=r[re],!o.hasOwnProperty(re)||P===te||P===void 0&&te===void 0||Hd(t,s,re,P,o,te);return}}for(var q in r)P=r[q],r.hasOwnProperty(q)&&P!=null&&!o.hasOwnProperty(q)&&ft(t,s,q,null,o,P);for(fe in o)P=o[fe],te=r[fe],!o.hasOwnProperty(fe)||P===te||P==null&&te==null||ft(t,s,fe,P,o,te)}function Dg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&Dg(v)){for(v=0,S=d.responseEnd,o+=1;o<r.length;o++){var M=r[o],Y=M.startTime;if(Y>S)break;var re=M.transferSize,fe=M.initiatorType;re&&Dg(fe)&&(M=M.responseEnd,v+=re*(M<S?1:(S-Y)/(M-Y)))}if(--o,s+=8*(h+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vd=null,Fd=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function Mg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Qd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Id=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var zg=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(t){return Og.resolve(null).then(t).catch(e1)}:zg;function e1(t){setTimeout(function(){throw t})}function Va(t){return t==="head"}function Lg(t,s){var r=s,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(d),bi(s);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wl(r);for(var h=r.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[$s]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&wl(t.ownerDocument.body);r=d}while(r);bi(s)}function Ug(t,s){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Gd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Gd(r),cn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function t1(t,s,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[$s])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=bs(t.nextSibling),t===null)break}return null}function n1(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bs(t.nextSibling),t===null))return null;return t}function Bg(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=bs(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function s1(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var o=function(){s(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function bs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Kd=null;function qg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return bs(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function $g(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Zg(t,s,r){switch(s=sc(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function wl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);cn(t)}var ys=new Map,Hg=new Set;function ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ha=ee.d;ee.d={f:a1,r:r1,D:i1,C:l1,L:o1,m:c1,X:d1,S:u1,M:f1};function a1(){var t=ha.f(),s=Yo();return t||s}function r1(t){var s=$n(t);s!==null&&s.tag===5&&s.type==="form"?rp(s):ha.r(t)}var gi=typeof document>"u"?null:document;function Vg(t,s,r){var o=gi;if(o&&typeof s=="string"&&s){var d=Gn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Hg.has(d)||(Hg.add(d),t={rel:t,crossOrigin:r,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Tn(s,"link",t),Rt(s),o.head.appendChild(s)))}}function i1(t){ha.D(t),Vg("dns-prefetch",t,null)}function l1(t,s){ha.C(t,s),Vg("preconnect",t,s)}function o1(t,s,r){ha.L(t,s,r);var o=gi;if(o&&t&&s){var d='link[rel="preload"][as="'+Gn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Gn(r.imageSizes)+'"]')):d+='[href="'+Gn(t)+'"]';var h=d;switch(s){case"style":h=xi(t);break;case"script":h=vi(t)}ys.has(h)||(t=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),ys.set(h,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(Sl(h))||s==="script"&&o.querySelector(jl(h))||(s=o.createElement("link"),Tn(s,"link",t),Rt(s),o.head.appendChild(s)))}}function c1(t,s){ha.m(t,s);var r=gi;if(r&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Gn(o)+'"][href="'+Gn(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=vi(t)}if(!ys.has(h)&&(t=y({rel:"modulepreload",href:t},s),ys.set(h,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jl(h)))return}o=r.createElement("link"),Tn(o,"link",t),Rt(o),r.head.appendChild(o)}}}function u1(t,s,r){ha.S(t,s,r);var o=gi;if(o&&t){var d=Zs(o).hoistableStyles,h=xi(t);s=s||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Sl(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},r),(r=ys.get(h))&&Pd(t,r);var M=v=o.createElement("link");Rt(M),Tn(M,"link",t),M._p=new Promise(function(Y,re){M.onload=Y,M.onerror=re}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rc(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function d1(t,s){ha.X(t,s);var r=gi;if(r&&t){var o=Zs(r).hoistableScripts,d=vi(t),h=o.get(d);h||(h=r.querySelector(jl(d)),h||(t=y({src:t,async:!0},s),(s=ys.get(d))&&Xd(t,s),h=r.createElement("script"),Rt(h),Tn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function f1(t,s){ha.M(t,s);var r=gi;if(r&&t){var o=Zs(r).hoistableScripts,d=vi(t),h=o.get(d);h||(h=r.querySelector(jl(d)),h||(t=y({src:t,async:!0,type:"module"},s),(s=ys.get(d))&&Xd(t,s),h=r.createElement("script"),Rt(h),Tn(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Fg(t,s,r,o){var d=(d=F.current)?ac(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=xi(r.href),r=Zs(d).hoistableStyles,o=r.get(s),o||(o={type:"style",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=xi(r.href);var h=Zs(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(Sl(t)))&&!h._p&&(v.instance=h,v.state.loading=5),ys.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ys.set(t,r),h||h1(d,t,r,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vi(r),r=Zs(d).hoistableScripts,o=r.get(s),o||(o={type:"script",instance:null,count:0,state:null},r.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function xi(t){return'href="'+Gn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Qg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function h1(t,s,r,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Tn(s,"link",r),Rt(s),t.head.appendChild(s))}function vi(t){return'[src="'+Gn(t)+'"]'}function jl(t){return"script[async]"+t}function Ig(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Gn(r.href)+'"]');if(o)return s.instance=o,Rt(o),o;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Rt(o),Tn(o,"style",d),rc(o,r.precedence,t),s.instance=o;case"stylesheet":d=xi(r.href);var h=t.querySelector(Sl(d));if(h)return s.state.loading|=4,s.instance=h,Rt(h),h;o=Qg(r),(d=ys.get(d))&&Pd(o,d),h=(t.ownerDocument||t).createElement("link"),Rt(h);var v=h;return v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Tn(h,"link",o),s.state.loading|=4,rc(h,r.precedence,t),s.instance=h;case"script":return h=vi(r.src),(d=t.querySelector(jl(h)))?(s.instance=d,Rt(d),d):(o=r,(d=ys.get(h))&&(o=y({},r),Xd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Rt(d),Tn(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,rc(o,r.precedence,t));return s.instance}function rc(t,s,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===s)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Xd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ic=null;function Gg(t,s,r){if(ic===null){var o=new Map,d=ic=new Map;d.set(r,o)}else d=ic,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[$s]||h[Jt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var S=o.get(v);S?S.push(h):o.set(v,[h])}}return o}function Wg(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function m1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function p1(t,s,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=xi(o.href),h=s.querySelector(Sl(d));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=lc.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=h,Rt(h);return}h=s.ownerDocument||s,o=Qg(o),(d=ys.get(d))&&Pd(o,d),h=h.createElement("link"),Rt(h);var v=h;v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Tn(h,"link",o),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=lc.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Jd=0;function g1(t,s){return t.stylesheets&&t.count===0&&cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&cc(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+s);0<t.imgBytes&&Jd===0&&(Jd=62500*Kw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cc(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Jd?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function cc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,s.forEach(x1,t),oc=null,lc.call(t))}function x1(t,s){if(!(s.state.loading&4)){var r=oc.get(t);if(r)var o=r.get(null);else{r=new Map,oc.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||o,h===o&&r.set(null,d),r.set(v,d),this.count++,o=lc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var El={$$typeof:A,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function v1(t,s,r,o,d,h,v,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.hiddenUpdates=yn(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Kg(t,s,r,o,d,h,v,S,M,Y,re,fe){return t=new v1(t,s,r,v,M,Y,re,fe,S),s=1,h===!0&&(s|=24),h=is(3,null,null,s),t.current=h,h.stateNode=t,s=Mu(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:s},Lu(h),t}function Pg(t){return t?(t=Yr,t):Yr}function Xg(t,s,r,o,d,h){d=Pg(d),o.context===null?o.context=d:o.pendingContext=d,o=Ma(s),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=Ra(t,o,s),r!==null&&(Xn(r,t,s),nl(r,t,s))}function Jg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function ef(t,s){Jg(t,s),(t=t.alternate)&&Jg(t,s)}function ex(t){if(t.tag===13||t.tag===31){var s=cr(t,67108864);s!==null&&Xn(s,t,67108864),ef(t,67108864)}}function tx(t){if(t.tag===13||t.tag===31){var s=ds();s=Sn(s);var r=cr(t,s);r!==null&&Xn(r,t,s),ef(t,s)}}var uc=!0;function b1(t,s,r,o){var d=B.T;B.T=null;var h=ee.p;try{ee.p=2,tf(t,s,r,o)}finally{ee.p=h,B.T=d}}function y1(t,s,r,o){var d=B.T;B.T=null;var h=ee.p;try{ee.p=8,tf(t,s,r,o)}finally{ee.p=h,B.T=d}}function tf(t,s,r,o){if(uc){var d=nf(o);if(d===null)Zd(t,s,o,dc,r),sx(t,o);else if(S1(d,t,s,r,o))o.stopPropagation();else if(sx(t,o),s&4&&-1<w1.indexOf(t)){for(;d!==null;){var h=$n(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Dt(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var M=1<<31-wt(v);S.entanglements[1]|=M,v&=~M}Is(h),(it&6)===0&&(Go=J()+500,vl(0))}}break;case 31:case 13:S=cr(h,2),S!==null&&Xn(S,h,2),Yo(),ef(h,2)}if(h=nf(o),h===null&&Zd(t,s,o,dc,r),h===d)break;d=h}d!==null&&o.stopPropagation()}else Zd(t,s,o,null,r)}}function nf(t){return t=Hi(t),sf(t)}var dc=null;function sf(t){if(dc=null,t=qn(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return dc=t,null}function nx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case je:return 2;case qe:return 8;case He:case vt:return 32;case ye:return 268435456;default:return 32}default:return 32}}var af=!1,Fa=null,Qa=null,Ia=null,Nl=new Map,_l=new Map,Ga=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(t,s){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Nl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(s.pointerId)}}function Cl(t,s,r,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},s!==null&&(s=$n(s),s!==null&&ex(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function S1(t,s,r,o,d){switch(s){case"focusin":return Fa=Cl(Fa,t,s,r,o,d),!0;case"dragenter":return Qa=Cl(Qa,t,s,r,o,d),!0;case"mouseover":return Ia=Cl(Ia,t,s,r,o,d),!0;case"pointerover":var h=d.pointerId;return Nl.set(h,Cl(Nl.get(h)||null,t,s,r,o,d)),!0;case"gotpointercapture":return h=d.pointerId,_l.set(h,Cl(_l.get(h)||null,t,s,r,o,d)),!0}return!1}function ax(t){var s=qn(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,_s(t.priority,function(){tx(r)});return}}else if(s===31){if(s=m(r),s!==null){t.blockedOn=s,_s(t.priority,function(){tx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Zi=o,r.target.dispatchEvent(o),Zi=null}else return s=$n(r),s!==null&&ex(s),t.blockedOn=r,!1;s.shift()}return!0}function rx(t,s,r){fc(t)&&r.delete(s)}function j1(){af=!1,Fa!==null&&fc(Fa)&&(Fa=null),Qa!==null&&fc(Qa)&&(Qa=null),Ia!==null&&fc(Ia)&&(Ia=null),Nl.forEach(rx),_l.forEach(rx)}function hc(t,s){t.blockedOn===s&&(t.blockedOn=null,af||(af=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,j1)))}var mc=null;function ix(t){mc!==t&&(mc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var s=0;s<t.length;s+=3){var r=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(sf(o||r)===null)continue;break}var h=$n(r);h!==null&&(t.splice(s,3),s-=3,nd(h,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function bi(t){function s(M){return hc(M,t)}Fa!==null&&hc(Fa,t),Qa!==null&&hc(Qa,t),Ia!==null&&hc(Ia,t),Nl.forEach(s),_l.forEach(s);for(var r=0;r<Ga.length;r++){var o=Ga[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ga.length&&(r=Ga[0],r.blockedOn===null);)ax(r),r.blockedOn===null&&Ga.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],h=r[o+1],v=d[Lt]||null;if(typeof h=="function")v||ix(r);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Lt]||null)S=v.formAction;else if(sf(d)!==null)continue}else S=v.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),ix(r)}}}function lx(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function rf(t){this._internalRoot=t}pc.prototype.render=rf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,o=ds();Xg(r,o,t,s,null,null)},pc.prototype.unmount=rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Xg(t.current,2,null,t,null,null),Yo(),s[Ct]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Qn();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ga.length&&s!==0&&s<Ga[r].priority;r++);Ga.splice(r,0,t),r===0&&ax(t)}};var ox=n.version;if(ox!=="19.2.0")throw Error(i(527,ox,"19.2.0"));ee.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var E1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{yt=gc.inject(E1),st=gc}catch{}}return Tl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,o="",d=pp,h=gp,v=xp;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Kg(t,1,!1,null,null,r,o,null,d,h,v,lx),t[Ct]=s.current,$d(t),new rf(s)},Tl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var o=!1,d="",h=pp,v=gp,S=xp,M=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),s=Kg(t,1,!0,s,r??null,o,d,M,h,v,S,lx),s.context=Pg(null),r=s.current,o=ds(),o=Sn(o),d=Ma(o),d.callback=null,Ra(r,d,o),r=o,s.current.lanes=r,Vn(s,r),Is(s),t[Ct]=s.current,$d(t),new pc(s)},Tl.version="19.2.0",Tl}var vx;function R1(){if(vx)return cf.exports;vx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),cf.exports=M1(),cf.exports}var z1=R1();const O1=cv(z1),Gc=p.createContext(null);function L1({children:e}){const[n,a]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),c=p.useRef(n);p.useEffect(()=>{c.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},y=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:y,location:b})){const j=c.current;window.history.pushState(null,"",`${j.pathname}${j.search}${j.hash}`);return}a(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const f=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),m=p.useCallback((x,b)=>{const y=new URL(x,window.location.origin),w={pathname:y.pathname,search:y.search,hash:y.hash},j=`${w.pathname}${w.search}${w.hash}`,T=b?.replace?"replace":"push";u({kind:T,to:j,location:w})&&(b?.replace?window.history.replaceState(null,"",j):window.history.pushState(null,"",j),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:m,registerBlocker:f}),[n,m,f]);return l.jsx(Gc.Provider,{value:g,children:e})}function Es(){const e=p.useContext(Gc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function An(){const e=p.useContext(Gc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function U1(e,n=!0){const a=p.useContext(Gc);if(!a)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return a.registerBlocker(e)},[e,a,n])}var Di=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},B1={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},q1=class{#e=B1;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Er=new q1;function $1(e){setTimeout(e,0)}var Tr=typeof window>"u"||"Deno"in globalThis;function Hn(){}function Z1(e,n){return typeof e=="function"?e(n):e}function Df(e){return typeof e=="number"&&e>=0&&e!==1/0}function dv(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Pa(e,n){return typeof e=="function"?e(n):e}function ws(e,n){return typeof e=="function"?e(n):e}function bx(e,n){const{type:a="all",exact:i,fetchStatus:c,predicate:u,queryKey:f,stale:m}=e;if(f){if(i){if(n.queryHash!==Xf(f,n.options))return!1}else if(!$l(n.queryKey,f))return!1}if(a!=="all"){const g=n.isActive();if(a==="active"&&!g||a==="inactive"&&g)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||c&&c!==n.state.fetchStatus||u&&!u(n))}function yx(e,n){const{exact:a,status:i,predicate:c,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(a){if(Ar(n.options.mutationKey)!==Ar(u))return!1}else if(!$l(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||c&&!c(n))}function Xf(e,n){return(n?.queryKeyHashFn||Ar)(e)}function Ar(e){return JSON.stringify(e,(n,a)=>Mf(a)?Object.keys(a).sort().reduce((i,c)=>(i[c]=a[c],i),{}):a)}function $l(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>$l(e[a],n[a])):!1}var H1=Object.prototype.hasOwnProperty;function fv(e,n){if(e===n)return e;const a=wx(e)&&wx(n);if(!a&&!(Mf(e)&&Mf(n)))return n;const c=(a?e:Object.keys(e)).length,u=a?n:Object.keys(n),f=u.length,m=a?new Array(f):{};let g=0;for(let x=0;x<f;x++){const b=a?x:u[x],y=e[b],w=n[b];if(y===w){m[b]=y,(a?x<c:H1.call(e,b))&&g++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){m[b]=w;continue}const j=fv(y,w);m[b]=j,j===y&&g++}return c===f&&g===c?e:m}function Ac(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function wx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mf(e){if(!Sx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!Sx(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Sx(e){return Object.prototype.toString.call(e)==="[object Object]"}function V1(e){return new Promise(n=>{Er.setTimeout(n,e)})}function Rf(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?fv(e,n):n}function F1(e,n,a=0){const i=[...e,n];return a&&i.length>a?i.slice(1):i}function Q1(e,n,a=0){const i=[n,...e];return a&&i.length>a?i.slice(0,-1):i}var Jf=Symbol();function hv(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===Jf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mv(e,n){return typeof e=="function"?e(...n):!!e}var I1=class extends Di{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Tr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},eh=new I1;function zf(){let e,n;const a=new Promise((c,u)=>{e=c,n=u});a.status="pending",a.catch(()=>{});function i(c){Object.assign(a,c),delete a.resolve,delete a.reject}return a.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},a.reject=c=>{i({status:"rejected",reason:c}),n(c)},a}var G1=$1;function W1(){let e=[],n=0,a=m=>{m()},i=m=>{m()},c=G1;const u=m=>{n?e.push(m):c(()=>{a(m)})},f=()=>{const m=e;e=[],m.length&&c(()=>{i(()=>{m.forEach(g=>{a(g)})})})};return{batch:m=>{let g;n++;try{g=m()}finally{n--,n||f()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{a=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{c=m}}}var fn=W1(),Y1=class extends Di{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Tr&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},Dc=new Y1;function K1(e){return Math.min(1e3*2**e,3e4)}function pv(e){return(e??"online")==="online"?Dc.isOnline():!0}var Of=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function gv(e){let n=!1,a=0,i;const c=zf(),u=()=>c.status!=="pending",f=E=>{if(!u()){const O=new Of(E);w(O),e.onCancel?.(O)}},m=()=>{n=!0},g=()=>{n=!1},x=()=>eh.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),b=()=>pv(e.networkMode)&&e.canRun(),y=E=>{u()||(i?.(),c.resolve(E))},w=E=>{u()||(i?.(),c.reject(E))},j=()=>new Promise(E=>{i=O=>{(u()||x())&&E(O)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let E;const O=a===0?e.initialPromise:void 0;try{E=O??e.fn()}catch(U){E=Promise.reject(U)}Promise.resolve(E).then(y).catch(U=>{if(u())return;const _=e.retry??(Tr?0:3),A=e.retryDelay??K1,$=typeof A=="function"?A(a,U):A,Z=_===!0||typeof _=="number"&&a<_||typeof _=="function"&&_(a,U);if(n||!Z){w(U);return}a++,e.onFail?.(a,U),V1($).then(()=>x()?void 0:j()).then(()=>{n?w(U):T()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:m,continueRetry:g,canStart:b,start:()=>(b()?T():j().then(T),c)}}var xv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Df(this.gcTime)&&(this.#e=Er.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Er.clearTimeout(this.#e),this.#e=void 0)}},P1=class extends xv{#e;#t;#n;#a;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=jx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=jx(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const a=Rf(this.state.data,e,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ws(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},c=()=>{const m=hv(this.options,n),x=(()=>{const b={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(m,x,this):m(x)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return i(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#s=gv({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Of&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(m,g)=>{this.#r({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#s.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Of){if(m.silent)return this.#s.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...vv(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),fn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function vv(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pv(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jx(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var bv=class extends Di{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#l=zf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#a=void 0;#s;#i;#l;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ex(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!Ac(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Nx(this.#t,a,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==a||ws(this.options.enabled,this.#t)!==ws(n.enabled,this.#t)||Pa(this.options.staleTime,this.#t)!==Pa(n.staleTime,this.#t))&&this.#g();const c=this.#x();i&&(this.#t!==a||ws(this.options.enabled,this.#t)!==ws(n.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return J1(this,a)&&(this.#a=a,this.#i=this.options,this.#s=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#S();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Hn)),n}#g(){this.#y();const e=Pa(this.options.staleTime,this.#t);if(Tr||this.#a.isStale||!Df(e))return;const a=dv(this.#a.dataUpdatedAt,e)+1;this.#c=Er.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(Tr||ws(this.options.enabled,this.#t)===!1||!Df(this.#o)||this.#o===0)&&(this.#u=Er.setInterval(()=>{(this.options.refetchIntervalInBackground||eh.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#x())}#y(){this.#c&&(Er.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Er.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const a=this.#t,i=this.options,c=this.#a,u=this.#s,f=this.#i,g=e!==a?e.state:this.#n,{state:x}=e;let b={...x},y=!1,w;if(n._optimisticResults){const K=this.hasListeners(),ne=!K&&Ex(e,n),ie=K&&Nx(e,a,n,i);(ne||ie)&&(b={...b,...vv(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:j,errorUpdatedAt:T,status:E}=b;w=b.data;let O=!1;if(n.placeholderData!==void 0&&w===void 0&&E==="pending"){let K;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(K=c.data,O=!0):K=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,K!==void 0&&(E="success",w=Rf(c?.data,K,n),y=!0)}if(n.select&&w!==void 0&&!O)if(c&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Rf(c?.data,w,n),this.#f=w,this.#r=null}catch(K){this.#r=K}this.#r&&(j=this.#r,w=this.#f,T=Date.now(),E="error");const U=b.fetchStatus==="fetching",_=E==="pending",A=E==="error",$=_&&U,Z=w!==void 0,W={status:E,fetchStatus:b.fetchStatus,isPending:_,isSuccess:E==="success",isError:A,isInitialLoading:$,isLoading:$,data:w,dataUpdatedAt:b.dataUpdatedAt,error:j,errorUpdatedAt:T,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:U,isRefetching:U&&!_,isLoadingError:A&&!Z,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&Z,isStale:th(e,n),refetch:this.refetch,promise:this.#l,isEnabled:ws(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=le=>{W.status==="error"?le.reject(W.error):W.data!==void 0&&le.resolve(W.data)},ne=()=>{const le=this.#l=W.promise=zf();K(le)},ie=this.#l;switch(ie.status){case"pending":e.queryHash===a.queryHash&&K(ie);break;case"fulfilled":(W.status==="error"||W.data!==ie.value)&&ne();break;case"rejected":(W.status!=="error"||W.error!==ie.reason)&&ne();break}}return W}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Ac(n,e))return;this.#a=n;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#m.size)return!0;const u=new Set(c??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(f=>{const m=f;return this.#a[m]!==e[m]&&u.has(m)})};this.#j({listeners:a()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){fn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function X1(e,n){return ws(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Ex(e,n){return X1(e,n)||e.state.data!==void 0&&Lf(e,n,n.refetchOnMount)}function Lf(e,n,a){if(ws(n.enabled,e)!==!1&&Pa(n.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&th(e,n)}return!1}function Nx(e,n,a,i){return(e!==n||ws(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&th(e,a)}function th(e,n){return ws(n.enabled,e)!==!1&&e.isStaleByTime(Pa(n.staleTime,e))}function J1(e,n){return!Ac(e.getCurrentResult(),n)}function Mc(e){return{onFetch:(n,a)=>{const i=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=hv(n.options,n.fetchOptions),j=async(T,E,O)=>{if(b)return Promise.reject();if(E==null&&T.pages.length)return Promise.resolve(T);const _=(()=>{const X={client:n.client,queryKey:n.queryKey,pageParam:E,direction:O?"backward":"forward",meta:n.options.meta};return y(X),X})(),A=await w(_),{maxPages:$}=n.options,Z=O?Q1:F1;return{pages:Z(T.pages,A,$),pageParams:Z(T.pageParams,E,$)}};if(c&&u.length){const T=c==="backward",E=T?yv:Uf,O={pages:u,pageParams:f},U=E(i,O);m=await j(O,U,T)}else{const T=e??u.length;do{const E=g===0?f[0]??i.initialPageParam:Uf(i,m);if(g>0&&E==null)break;m=await j(m,E),g++}while(g<T)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a):n.fetchFn=x}}}function Uf(e,{pages:n,pageParams:a}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,a[i],a):void 0}function yv(e,{pages:n,pageParams:a}){return n.length>0?e.getPreviousPageParam?.(n[0],n,a[0],a):void 0}function eS(e,n){return n?Uf(e,n)!=null:!1}function tS(e,n){return!n||!e.getPreviousPageParam?!1:yv(e,n)!=null}var nS=class extends bv{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Mc()})}getOptimisticResult(e){return e.behavior=Mc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:a}=e,i=super.createResult(e,n),{isFetching:c,isRefetching:u,isError:f,isRefetchError:m}=i,g=a.fetchMeta?.fetchMore?.direction,x=f&&g==="forward",b=c&&g==="forward",y=f&&g==="backward",w=c&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:eS(n,a.data),hasPreviousPage:tS(n,a.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:m&&!x&&!y,isRefetching:u&&!b&&!w}}},sS=class extends xv{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||wv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=gv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#a.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,a);const f=await this.options.onMutate?.(e,a);f!==this.state.context&&this.#s({type:"pending",context:f,variables:e,isPaused:c})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,a),await this.options.onError?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,e,this.state.context,a),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function wv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aS=class extends Di{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,a){const i=new sS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:a});return this.add(i),i}add(e){this.#e.add(e);const n=xc(e);if(typeof n=="string"){const a=this.#t.get(n);a?a.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=xc(e);if(typeof n=="string"){const a=this.#t.get(n);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=xc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){fn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(a=>yx(n,a))}findAll(e={}){return this.getAll().filter(n=>yx(e,n))}notify(e){fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return fn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hn))))}};function xc(e){return e.options.scope?.id}var rS=class extends Di{#e;#t=void 0;#n;#a;constructor(n,a){super(),this.#e=n,this.setOptions(a),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=this.#e.defaultMutationOptions(n),Ac(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&Ar(a.mutationKey)!==Ar(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??wv();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){fn.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#a.onSuccess?.(n.data,a,i,c),this.#a.onSettled?.(n.data,null,a,i,c)):n?.type==="error"&&(this.#a.onError?.(n.error,a,i,c),this.#a.onSettled?.(void 0,n.error,a,i,c))}this.listeners.forEach(a=>{a(this.#t)})})}},iS=class extends Di{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,a){const i=n.queryKey,c=n.queryHash??Xf(i,n);let u=this.get(c);return u||(u=new P1({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>bx(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>bx(e,a)):n}notify(e){fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lS=class{#e;#t;#n;#a;#s;#i;#l;#r;constructor(e={}){this.#e=e.queryCache||new iS,this.#t=e.mutationCache||new aS,this.#n=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=eh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=this.#e.build(this,n),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Pa(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,f=Z1(n,u);if(f!==void 0)return this.#e.build(this,i).setData(f,{...a,manual:!0})}setQueriesData(e,n,a){return fn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;fn.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=this.#e;return fn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},i=fn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(a)));return Promise.all(i).then(Hn).catch(Hn)}invalidateQueries(e,n={}){return fn.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},i=fn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,a);return a.throwOnError||(u=u.catch(Hn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Hn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=this.#e.build(this,n);return a.isStaleByTime(Pa(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hn).catch(Hn)}fetchInfiniteQuery(e){return e.behavior=Mc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hn).catch(Hn)}ensureInfiniteQueryData(e){return e.behavior=Mc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#a.set(Ar(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],a={};return n.forEach(i=>{$l(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,n){this.#s.set(Ar(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],a={};return n.forEach(i=>{$l(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Xf(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Jf&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Sv=p.createContext(void 0),xt=e=>{const n=p.useContext(Sv);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},oS=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Sv.Provider,{value:e,children:n})),jv=p.createContext(!1),cS=()=>p.useContext(jv);jv.Provider;function uS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dS=p.createContext(uS()),fS=()=>p.useContext(dS),hS=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},mS=e=>{p.useEffect(()=>{e.clearReset()},[e])},pS=({result:e,errorResetBoundary:n,throwOnError:a,query:i,suspense:c})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||mv(a,[e.error,i])),gS=e=>{if(e.suspense){const a=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>a(i(...c)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},xS=(e,n)=>e.isLoading&&e.isFetching&&!n,vS=(e,n)=>e?.suspense&&n.isPending,_x=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function Ev(e,n,a){const i=cS(),c=fS(),u=xt(),f=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",gS(f),hS(f,c),mS(c);const m=!u.getQueryCache().get(f.queryHash),[g]=p.useState(()=>new n(u,f)),x=g.getOptimisticResult(f),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=b?g.subscribe(fn.batchCalls(y)):Hn;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(f)},[f,g]),vS(f,x))throw _x(f,g,c);if(pS({result:x,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,x),f.experimental_prefetchInRender&&!Tr&&xS(x,i)&&(m?_x(f,g,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(Hn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?x:g.trackResult(x)}function hn(e,n){return Ev(e,bv)}function Dn(e,n){const a=xt(),[i]=p.useState(()=>new rS(a,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(fn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((f,m)=>{i.mutate(f,m).catch(Hn)},[i]);if(c.error&&mv(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function Nv(e,n){return Ev(e,nS)}const bS="modulepreload",yS=function(e){return"/"+e},Cx={},wS=function(n,a,i){let c=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");c=g(a.map(x=>{if(x=yS(x),x in Cx)return;Cx[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":bS,b||(w.as="script"),w.crossOrigin="",w.href=x,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,T)=>{w.addEventListener("load",j),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function SS({children:e}){const[n]=p.useState(()=>new lS({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(oS,{client:n,children:[e,null]})}const jS=["ade_csrf","backend_app_csrf"];function ES(){return jS}function NS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,a=e.split(";");for(const i of a){const[c,...u]=i.trim().split("=");c&&n.set(c,decodeURIComponent(u.join("=")))}return n}function nh(){const e=NS();if(!e)return null;for(const n of ES()){const a=e.get(n);if(a)return a}return null}const _v="/api/v1",_S=new Set(["GET","HEAD","OPTIONS"]);class ns extends Error{status;problem;constructor(n,a,i){super(n),this.name="ApiError",this.status=a,this.problem=i}}class CS{baseUrl;constructor(n=_v){this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}async request(n,a={}){const{parseJson:i=!0,returnRawResponse:c=!1,headers:u,body:f,method:m,credentials:g,...x}=a,b=(m??"GET").toUpperCase(),y=this.composeUrl(n),w=new Headers({Accept:i&&!c?"application/json":"*/*"});if(this.copyHeaders(w,u),f&&!(f instanceof FormData)&&!w.has("Content-Type")&&w.set("Content-Type","application/json"),!_S.has(b)&&!w.has("X-CSRF-Token")){const E=nh();E&&w.set("X-CSRF-Token",E)}const j=await fetch(y,{...x,method:b,headers:w,body:f,credentials:g??"include"});if(!j.ok){const E=await this.tryParseProblem(j),O=E?.title??`Request failed with status ${j.status}`;throw new ns(O,j.status,E)}if(c)return j;if(!i||j.status===204)return;const T=await j.text();return T?JSON.parse(T):void 0}composeUrl(n){if(!n.startsWith("/"))throw new Error("API paths must include a leading slash.");return this.baseUrl?`${this.baseUrl}${n}`:n}copyHeaders(n,a){if(a){if(a instanceof Headers){a.forEach((i,c)=>n.set(c,i));return}if(Array.isArray(a)){a.forEach(([i,c])=>n.set(i,c));return}Object.entries(a).forEach(([i,c])=>{typeof c>"u"||n.set(i,Array.isArray(c)?c.join(", "):c)})}}async tryParseProblem(n){if((n.headers.get("content-type")??"").includes("application/json"))try{return await n.json()}catch(i){const c=i instanceof Error?i:new Error(String(i));console.warn("Failed to parse problem details",c);return}}}const Cv=new CS(_v);function kS(e,n){return Cv.request(e,{...n,method:"GET"})}function kv(e,n,a){const i=n instanceof FormData?n:n===void 0?void 0:JSON.stringify(n);return Cv.request(e,{...a,method:"POST",body:i})}const TS=/\{[^{}]+\}/g,AS=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function DS(){return Math.random().toString(36).slice(2,11)}function MS(e){let{baseUrl:n="",Request:a=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:c,bodySerializer:u,headers:f,requestInitExt:m=void 0,...g}={...e};m=AS()?m:void 0,n=Ax(n);const x=[];async function b(y,w){const{baseUrl:j,fetch:T=i,Request:E=a,headers:O,params:U={},parseAs:_="json",querySerializer:A,bodySerializer:$=u??zS,body:Z,middleware:X=[],...W}=w||{};let K=n;j&&(K=Ax(j)??n);let ne=typeof c=="function"?c:kx(c);A&&(ne=typeof A=="function"?A:kx({...typeof c=="object"?c:{},...A}));const ie=Z===void 0?void 0:$(Z,Tx(f,O,U.header)),le=Tx(ie===void 0||ie instanceof FormData?{}:{"Content-Type":"application/json"},f,O,U.header),pe=[...x,...X],de={redirect:"follow",...g,...W,body:ie,headers:le};let ge,we,B=new E(OS(y,{baseUrl:K,params:U,querySerializer:ne}),de),ee;for(const Se in W)Se in B||(B[Se]=W[Se]);if(pe.length){ge=DS(),we=Object.freeze({baseUrl:K,fetch:T,parseAs:_,querySerializer:ne,bodySerializer:$});for(const Se of pe)if(Se&&typeof Se=="object"&&typeof Se.onRequest=="function"){const oe=await Se.onRequest({request:B,schemaPath:y,params:U,options:we,id:ge});if(oe)if(oe instanceof E)B=oe;else if(oe instanceof Response){ee=oe;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!ee){try{ee=await T(B,m)}catch(Se){let oe=Se;if(pe.length)for(let N=pe.length-1;N>=0;N--){const V=pe[N];if(V&&typeof V=="object"&&typeof V.onError=="function"){const z=await V.onError({request:B,error:oe,schemaPath:y,params:U,options:we,id:ge});if(z){if(z instanceof Response){oe=void 0,ee=z;break}if(z instanceof Error){oe=z;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(oe)throw oe}if(pe.length)for(let Se=pe.length-1;Se>=0;Se--){const oe=pe[Se];if(oe&&typeof oe=="object"&&typeof oe.onResponse=="function"){const N=await oe.onResponse({request:B,response:ee,schemaPath:y,params:U,options:we,id:ge});if(N){if(!(N instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");ee=N}}}}if(ee.status===204||B.method==="HEAD"||ee.headers.get("Content-Length")==="0")return ee.ok?{data:void 0,response:ee}:{error:void 0,response:ee};if(ee.ok)return _==="stream"?{data:ee.body,response:ee}:{data:await ee[_](),response:ee};let xe=await ee.text();try{xe=JSON.parse(xe)}catch{}return{error:xe,response:ee}}return{request(y,w,j){return b(w,{...j,method:y.toUpperCase()})},GET(y,w){return b(y,{...w,method:"GET"})},PUT(y,w){return b(y,{...w,method:"PUT"})},POST(y,w){return b(y,{...w,method:"POST"})},DELETE(y,w){return b(y,{...w,method:"DELETE"})},OPTIONS(y,w){return b(y,{...w,method:"OPTIONS"})},HEAD(y,w){return b(y,{...w,method:"HEAD"})},PATCH(y,w){return b(y,{...w,method:"PATCH"})},TRACE(y,w){return b(y,{...w,method:"TRACE"})},use(...y){for(const w of y)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...y){for(const w of y){const j=x.indexOf(w);j!==-1&&x.splice(j,1)}}}}function Wc(e,n,a){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${a?.allowReserved===!0?n:encodeURIComponent(n)}`}function Tv(e,n,a){if(!n||typeof n!="object")return"";const i=[],c={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const m in n)i.push(m,a.allowReserved===!0?n[m]:encodeURIComponent(n[m]));const f=i.join(",");switch(a.style){case"form":return`${e}=${f}`;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return f}}for(const f in n){const m=a.style==="deepObject"?`${e}[${f}]`:f;i.push(Wc(m,n[f],a))}const u=i.join(c);return a.style==="label"||a.style==="matrix"?`${c}${u}`:u}function Av(e,n,a){if(!Array.isArray(n))return"";if(a.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",f=(a.allowReserved===!0?n:n.map(m=>encodeURIComponent(m))).join(u);switch(a.style){case"simple":return f;case"label":return`.${f}`;case"matrix":return`;${e}=${f}`;default:return`${e}=${f}`}}const i={simple:",",label:".",matrix:";"}[a.style]||"&",c=[];for(const u of n)a.style==="simple"||a.style==="label"?c.push(a.allowReserved===!0?u:encodeURIComponent(u)):c.push(Wc(e,u,a));return a.style==="label"||a.style==="matrix"?`${i}${c.join(i)}`:c.join(i)}function kx(e){return function(a){const i=[];if(a&&typeof a=="object")for(const c in a){const u=a[c];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(Av(c,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(Tv(c,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Wc(c,u,e))}}return i.join("&")}}function RS(e,n){let a=e;for(const i of e.match(TS)??[]){let c=i.substring(1,i.length-1),u=!1,f="simple";if(c.endsWith("*")&&(u=!0,c=c.substring(0,c.length-1)),c.startsWith(".")?(f="label",c=c.substring(1)):c.startsWith(";")&&(f="matrix",c=c.substring(1)),!n||n[c]===void 0||n[c]===null)continue;const m=n[c];if(Array.isArray(m)){a=a.replace(i,Av(c,m,{style:f,explode:u}));continue}if(typeof m=="object"){a=a.replace(i,Tv(c,m,{style:f,explode:u}));continue}if(f==="matrix"){a=a.replace(i,`;${Wc(c,m)}`);continue}a=a.replace(i,f==="label"?`.${encodeURIComponent(m)}`:encodeURIComponent(m))}return a}function zS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function OS(e,n){let a=`${n.baseUrl}${e}`;n.params?.path&&(a=RS(a,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(a+=`?${i}`),a}function Tx(...e){const n=new Headers;for(const a of e){if(!a||typeof a!="object")continue;const i=a instanceof Headers?a.entries():Object.entries(a);for(const[c,u]of i)if(u===null)n.delete(c);else if(Array.isArray(u))for(const f of u)n.append(c,f);else u!==void 0&&n.set(c,u)}return n}function Ax(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const Dv=new Set(["GET","HEAD","OPTIONS","TRACE"]),hf="",Rc=hf.endsWith("/api/v1")?hf.slice(0,-7):hf;function LS(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return Rc.length>0?`${Rc}${e}`:e}async function US(e,n={}){const a=LS(e),i=new Headers(n.headers??{});i.set("X-Requested-With","fetch");const c=n.method?.toUpperCase()??"GET";if(!Dv.has(c)){const f=nh();f&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",f)}return await fetch(a,{credentials:"include",...n,headers:i})}const Ge=MS({baseUrl:Rc.length>0?Rc:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),BS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!Dv.has(n)){const a=nh();a&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",a)}return e}},qS={async onResponse({response:e}){if(e.ok)return e;const n=await $S(e),a=n?.title??`Request failed with status ${e.status}`;throw new ns(a,e.status,n)}};Ge.use(BS);Ge.use(qS);async function $S(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const js={root:["auth"],detail:()=>[...js.root,"session"],providers:()=>[...js.root,"providers"],setupStatus:()=>[...js.root,"setup-status"],bootstrap:()=>[...js.root,"bootstrap"]};async function ZS(e={}){try{const{data:n}=await Ge.GET("/api/v1/auth/providers",{signal:e.signal});return IS(n)}catch(n){if(n instanceof ns&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function HS(e,n={}){const{data:a}=await Ge.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!a)throw new Error("Expected session payload.");return Yl(a)}async function VS(e={}){const{data:n}=await Ge.POST("/api/v1/auth/session/refresh",{signal:e.signal});if(!n)throw new Error("Expected session payload.");return Yl(n)}function Yl(e){return{...e,expires_at:e.expires_at??null,refresh_expires_at:e.refresh_expires_at??null,return_to:e.return_to??null}}async function FS(e={}){try{const{data:n}=await Ge.GET("/api/v1/bootstrap",{signal:e.signal});return n?QS(n):null}catch(n){if(n instanceof ns&&(n.status===401||n.status===403))return null;throw n}}function QS(e){const n=e;if(!n||!n.user)throw new Error("Unexpected bootstrap payload shape returned by the server.");return{user:Yl({user:n.user,expires_at:null,refresh_expires_at:null,return_to:null}),global_roles:Array.isArray(n.global_roles)?n.global_roles.map(String):[],global_permissions:Array.isArray(n.global_permissions)?n.global_permissions.map(String):[],workspaces:n.workspaces,safe_mode:n.safe_mode??{enabled:!1,detail:""}}}function IS(e){return GS(e)?{providers:e.providers.map(n=>({...n,icon_url:n.icon_url??null})),force_sso:e.force_sso}:{providers:[],force_sso:!1}}function GS(e){return!Mv(e)||!Array.isArray(e.providers)||typeof e.force_sso!="boolean"?!1:e.providers.every(WS)}function WS(e){return!Mv(e)||typeof e.id!="string"||typeof e.label!="string"||typeof e.start_url!="string"?!1:e.icon_url===void 0||e.icon_url===null||typeof e.icon_url=="string"}function Mv(e){return typeof e=="object"&&e!==null}const Rv=p.createContext(void 0);function vc(e){return e instanceof Error?e:new Error(String(e))}function Dx({session:e,refetch:n,children:a}){return PS(e,n),l.jsx(Rv.Provider,{value:{session:e,refetch:n},children:a})}function YS(){const e=p.useContext(Rv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Rr(){return YS().session}const KS=6e4;function PS(e,n){p.useEffect(()=>{if(typeof window>"u")return;const a=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(a)||Number.isNaN(i))return;const c=Date.now();if(i<=c){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",vc(x))});return}const u=Math.min(a,i)-KS,f=Math.max(u-c,0);let m=!1;const g=window.setTimeout(async()=>{try{if(await VS(),m)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",vc(x))})}catch(x){if(m)return;console.warn("Failed to refresh session",vc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",vc(b))})}},f);return()=>{m=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}async function XS(e={}){const{data:n}=await Ge.GET("/api/v1/system/safe-mode",{signal:e.signal}),a=n??{},i=!!a.enabled,c=typeof a.detail=="string"&&a.detail.trim().length>0?a.detail.trim():Us;return{enabled:i,detail:c}}async function JS(e,n={}){const{data:a}=await Ge.PUT("/api/v1/system/safe-mode",{body:e,signal:n.signal}),i=a??{};return{enabled:!!i.enabled,detail:typeof i.detail=="string"&&i.detail.trim().length>0?i.detail.trim():Us}}const Us="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.",zc=["system","safe-mode"];function sh(){const n=xt().getQueryData(zc);return hn({queryKey:zc,queryFn:({signal:a})=>XS({signal:a}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function ej(){const e=xt();return Dn({mutationFn:n=>JS(n),onSuccess:()=>{e.invalidateQueries({queryKey:zc})}})}const tj=100,nj=100,sj=100,aj=200;async function rj(e={}){const{page:n,pageSize:a,includeTotal:i,signal:c}=e,u={};typeof n=="number"&&n>0&&(u.page=n),typeof a=="number"&&a>0&&(u.page_size=a),i&&(u.include_total=!0);const{data:f}=await Ge.GET("/api/v1/workspaces",{params:{query:u},signal:c});if(!f)throw new Error("Expected workspace page payload.");const m=[...f.items].sort((g,x)=>g.name.localeCompare(x.name));return{...f,items:m}}async function ij(e){const{data:n}=await Ge.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function lj(e,n){const{data:a}=await Ge.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace payload.");return a}async function oj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace member page payload.");return m}async function cj(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected workspace member payload.");return a}async function uj(e,n,a){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/members/{membership_id}/roles",{params:{path:{workspace_id:e,membership_id:n}},body:a});if(!i)throw new Error("Expected workspace member payload.");return i}async function dj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/members/{membership_id}",{params:{path:{workspace_id:e,membership_id:n}}})}async function fj(e,n={}){const{page:a,pageSize:i,includeTotal:c,signal:u}=n,f={};typeof a=="number"&&a>0&&(f.page=a),typeof i=="number"&&i>0&&(f.page_size=i),c&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e},query:f},signal:u});if(!m)throw new Error("Expected workspace role page payload.");return m}async function hj(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/roles",{params:{path:{workspace_id:e}},body:n});if(!a)throw new Error("Expected role payload.");return a}async function mj(e,n,a){const{data:i}=await Ge.PUT("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}},body:a});if(!i)throw new Error("Expected role payload.");return i}async function pj(e,n){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/roles/{role_id}",{params:{path:{workspace_id:e,role_id:n}}})}async function gj(e={}){const{scope:n="global",workspaceId:a,page:i,pageSize:c,includeTotal:u,signal:f}=e,m={scope:n};a&&(m.workspace_id=a),typeof i=="number"&&i>0&&(m.page=i),typeof c=="number"&&c>0&&(m.page_size=c),u&&(m.include_total=!0);const{data:g}=await Ge.GET("/api/v1/permissions",{params:{query:m},signal:f});if(!g)throw new Error("Expected permission page payload.");return g}const Cr={page:1,pageSize:tj,includeTotal:!1},xj={page:1,pageSize:nj,includeTotal:!1},vj={page:1,pageSize:sj,includeTotal:!1},bj={scope:"global",page:1,pageSize:aj,includeTotal:!1},Yt={all:()=>["workspaces"],list:(e=Cr)=>[...Yt.all(),"list",{...e}],detail:e=>[...Yt.all(),"detail",e],members:(e,n=xj)=>[...Yt.detail(e),"members",{...n}],roles:(e,n=vj)=>[...Yt.detail(e),"roles",{...n}],permissions:(e=bj)=>["permissions",{...e}]};function yj(e={}){const n=e.page??Cr.page,a=e.pageSize??Cr.pageSize,i=e.includeTotal??Cr.includeTotal;return{queryKey:Yt.list({page:n,pageSize:a,includeTotal:i}),queryFn:({signal:c})=>rj({page:n,pageSize:a,includeTotal:i,signal:c}),staleTime:6e4,enabled:e.enabled??!0}}function Yc(e={}){const n=xt(),a=yj(e),i=n.getQueryData(a.queryKey);return hn({...a,initialData:i})}const ah={page:Cr.page,pageSize:Cr.pageSize,includeTotal:Cr.includeTotal};function zv(e={}){const n=xt(),a=hn({queryKey:js.detail(),queryFn:async({signal:c})=>{const u=await FS({signal:c});return u?(n.setQueryData(Yt.list(ah),u.workspaces),n.setQueryData(zc,u.safe_mode),u.user):null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=a.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:js.providers(),exact:!1})},[n,i]),{...a,session:i}}async function wj(e={}){try{const{data:n}=await Ge.GET("/api/v1/setup/status",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof ns&&n.status===404)return{requires_setup:!1,force_sso:!1};throw n}}async function Sj(e){const{data:n}=await Ge.POST("/api/v1/setup",{body:e});if(!n)throw new Error("Expected session payload.");return Yl(n)}function rh(e=!0){return hn({queryKey:js.setupStatus(),queryFn:({signal:n})=>wj({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const Kl="/workspaces",jj=new Set(["/","/login","/setup","/logout"]);function Ej(e){if(!e)return!0;const n=_j(e);return!!(jj.has(n)||n==="/auth"||n.startsWith("/auth/"))}function Nj(e){return`${e.pathname}${e.search}${e.hash}`}function Mx(e){const n=Nj(e)||"/";return Oc(n)??Kl}function Oc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?Kl:Ej(n)?null:n}function Zl(e){return Oc(e)??Kl}function Ov(e){return Uv("/login",e)}function Lv(e){return Uv("/setup",e)}function Uv(e,n){const a=Zl(n),i=new URLSearchParams;a!==Kl&&i.set("redirectTo",a);const c=i.toString();return c?`${e}?${c}`:e}function Lc(e,n){const a=Oc(e);if(a)return a;const i=Oc(n);return i||Kl}function _j(e){let n=e;const a=n.indexOf("#");a>=0&&(n=n.slice(0,a));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function Kc({children:e}){const n=Es(),a=An(),i=zv(),{session:c,isLoading:u,isError:f,refetch:m}=i,g=!c&&!u&&!f,{data:x,isPending:b,isError:y,isSuccess:w,refetch:j}=rh(g);return p.useEffect(()=>{if(c||u||f)return;if(g){if(b||y)return;if(w&&x?.requires_setup){const E=Mx(n);a(Lv(E),{replace:!0});return}}const T=Mx(n);a(Ov(T),{replace:!0})},[f,u,y,b,w,n,a,c,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):f?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>m(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):c?e?l.jsx(Dx,{session:c,refetch:m,children:e}):l.jsx(Dx,{session:c,refetch:m,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&y?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>j(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}function mf(e){return e instanceof Error?e:new Error(String(e))}function Ja(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",mf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.warn("Failed to write to storage",mf(a))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",mf(n))}}}}const Cj="backend.app.active_workspace",Bf=Ja(Cj);function kj(){return Bf.get()}function Tj(e){if(!e){Bf.clear();return}Bf.set(e.id)}function Bv(e){var n,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(n=0;n<c;n++)e[n]&&(a=Bv(e[n]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function ve(){for(var e,n,a=0,i="",c=arguments.length;a<c;a++)(e=arguments[a])&&(n=Bv(e))&&(i&&(i+=" "),i+=n);return i}const qv=p.createContext(void 0);function Aj({workspace:e,workspaces:n,children:a}){const i=p.useMemo(()=>{const c=e.permissions;return{workspace:e,workspaces:n,permissions:c,hasPermission(u){return c.includes(u)}}},[e,n]);return l.jsx(qv.Provider,{value:i,children:a})}function tr(){const e=p.useContext(qv);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}var pa=uv();const Dj=[{id:"explorer",label:"Explorer",icon:l.jsx(Rj,{})},{id:"search",label:"Search",icon:l.jsx(zj,{})},{id:"scm",label:"Source Control",icon:l.jsx(Oj,{})},{id:"extensions",label:"Extensions",icon:l.jsx(Lj,{})}];function Mj({activeView:e,onSelectView:n,onOpenSettings:a,appearance:i}){const c=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:ve("flex h-full w-14 flex-col items-center justify-between border-r",c.bg,c.border,c.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:Dj.map(u=>{const f=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:ve("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",f?c.iconActive:ve(c.iconIdle,c.hover)),"aria-label":u.label,"aria-pressed":f,children:[f?l.jsx("span",{className:ve("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",c.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:a,className:ve("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",c.iconIdle,c.hover),"aria-label":"Open settings",children:l.jsx(Uj,{})})})]})}function Rj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function zj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Oj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Lj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function Uj(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const ih=p.createContext(null);function lh({value:e,onValueChange:n,children:a}){const i=p.useId(),c=p.useRef([]),u=p.useRef(new Map),f=p.useCallback((y,w)=>{c.current.includes(y)||c.current.push(y),u.current.set(y,w)},[]),m=p.useCallback(y=>{c.current=c.current.filter(w=>w!==y),u.current.delete(y)},[]),g=p.useCallback(y=>{y&&u.current.get(y)?.focus()},[]),x=p.useCallback(()=>c.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:f,unregisterValue:m,focusValue:g,getValues:x}),[e,n,i,f,m,g,x]);return l.jsx(ih.Provider,{value:b,children:a})}function oh({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function Ml({value:e,children:n,className:a,onClick:i,onKeyDown:c,disabled:u,...f}){const m=p.useContext(ih);if(!m)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:y}=m,w=m.value===e,j=`${m.baseId}-tab-${e}`,T=`${m.baseId}-panel-${e}`,E=p.useCallback(U=>{g(e,U)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const O=U=>{if(c?.(U),U.defaultPrevented)return;const _=y(),A=_.indexOf(e);if(A===-1||_.length===0)return;let $=A;U.key==="ArrowRight"?(U.preventDefault(),$=(A+1)%_.length):U.key==="ArrowLeft"?(U.preventDefault(),$=(A-1+_.length)%_.length):U.key==="Home"?(U.preventDefault(),$=0):U.key==="End"&&(U.preventDefault(),$=_.length-1);const Z=_[$];Z&&Z!==m.value&&m.setValue(Z),b(Z)};return l.jsx("button",{...f,ref:E,type:"button",role:"tab",id:j,"aria-selected":w,"aria-controls":T,tabIndex:w?0:-1,className:a,disabled:u,onKeyDown:O,onClick:U=>{i?.(U),!U.defaultPrevented&&!u&&m.setValue(e)},children:n})}function kr({value:e,children:n,className:a,...i}){const c=p.useContext(ih);if(!c)throw new Error("TabsContent must be used within a TabsRoot");const u=c.value===e,f=`${c.baseId}-panel-${e}`,m=`${c.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:f,"aria-labelledby":m,className:a,hidden:!u,tabIndex:0,children:n})}function $v({summary:e}){const n=e.core.validation_issue_count_total;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(bc,{label:"Tables",value:e.core.table_count}),l.jsx(bc,{label:"Rows",value:e.core.row_count??""}),l.jsx(bc,{label:"Mapped fields",value:e.core.mapped_field_count}),l.jsx(bc,{label:"Issues",value:n,intent:n>0?"warn":"ok"})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Files"}),e.breakdowns.by_file.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No files recorded."}):l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:e.breakdowns.by_file.map(a=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:a.source_file}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[a.table_count," tables  ",a.row_count??"?"," rows  ",a.validation_issue_count_total," issues"]})]},a.source_file))})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),e.breakdowns.by_field.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[e.breakdowns.by_field.slice(0,6).map(a=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[a.label||a.field," ",a.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[a.mapped?"mapped":"unmapped","  ",a.validation_issue_count_total," issues"]})]},a.field)),e.breakdowns.by_field.length>6?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",e.breakdowns.by_field.length-6," more fields"]}):null]})]})]})]})}function Zv({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,c)=>{const u=c.stream==="stderr"?"warning":void 0,f=c.level??u??"info";return i[f]=(i[f]??0)+1,i},{}),a=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,c])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",c]},i))}),l.jsx("ul",{className:"space-y-1",children:a.map(i=>l.jsxs("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.type}),l.jsx("span",{className:"text-[11px] text-slate-500",children:Bj(i.created_at)})]}),l.jsxs("p",{className:"text-[11px] text-slate-600",children:["Level: ",qj(i)]})]},`${i.created_at}-${i.type}`))})]})}function Bj(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function qj(e){const n=e.stream==="stderr"?"warning":void 0;return e.level??n??"info"}function bc({label:e,value:n,intent:a="default"}){const i=a==="warn"?"text-amber-700":a==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}function $j({height:e,consoleLines:n,validation:a,activePane:i,onPaneChange:c,latestRun:u,onShowRunDetails:f,onClearConsole:m}){const[g,x]=p.useState("all"),[b,y]=p.useState("all"),[w,j]=p.useState(!0),T=p.useMemo(()=>{const A=Bx(b);return n.filter($=>{const Z=g==="all"||($.origin??"run")===g,X=Bx($.level),W=b==="all"||X>=A;return Z&&W})},[n,g,b]),E=T.length>0,O=n.length>0,U=a.messages.length>0,_=!!u;return l.jsx("section",{className:"flex min-h-0 flex-col overflow-hidden border-t border-slate-200 bg-slate-50",style:{height:e},children:l.jsxs(lh,{value:i,onValueChange:A=>c(A),children:[l.jsxs("div",{className:"flex flex-none items-center justify-between border-b border-slate-200 px-3 py-1.5",children:[l.jsxs(oh,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(Ml,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(Ml,{value:"runSummary",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Run",_?l.jsx("span",{className:"ml-1 text-[10px] lowercase text-slate-500",children:u?.status}):null]}),l.jsxs(Ml,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",U?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:a.messages.length}):null]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Origin",l.jsxs("select",{value:g,onChange:A=>x(A.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"}),l.jsx("option",{value:"raw",children:"Raw"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-500",children:["Level",l.jsxs("select",{value:b,onChange:A=>y(A.target.value),className:"rounded border border-slate-300 bg-white px-2 py-1 text-[11px] text-slate-700 shadow-sm",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>j(A=>!A),className:ve("rounded px-2 py-1 font-semibold uppercase tracking-wide transition",w?"border border-emerald-500 bg-emerald-50 text-emerald-700":"border border-slate-300 bg-white text-slate-600 hover:border-slate-400"),children:w?"Follow":"Scroll"}),l.jsx("button",{type:"button",onClick:()=>m?.(),className:"rounded border border-slate-300 bg-white px-2 py-1 font-semibold uppercase tracking-wide text-slate-600 transition hover:border-slate-400",children:"Clear"})]})]}),l.jsx(kr,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(Zj,{consoleLines:T,hasConsoleLines:E,hasAnyConsoleLines:O,latestRun:u,onShowRunDetails:f,followLogs:w})}),l.jsx(kr,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(Hj,{validation:a})}),l.jsx(kr,{value:"runSummary",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(Vj,{latestRun:u})})]})})}function Zj({consoleLines:e,hasConsoleLines:n,hasAnyConsoleLines:a,latestRun:i,onShowRunDetails:c,followLogs:u}){const f=p.useRef(null);return p.useEffect(()=>{u&&f.current?.scrollIntoView({behavior:"smooth"})},[e,u]),l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-slate-900/80 bg-slate-950 font-mono text-[13px] leading-relaxed text-slate-100 shadow-inner shadow-black/30",children:[l.jsxs("div",{className:"flex flex-col border-b border-white/5 bg-slate-950/80",children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-1.5 text-[11px] uppercase tracking-[0.35em] text-slate-500",children:[l.jsx("span",{className:"font-semibold tracking-[0.45em] text-slate-200",children:"Terminal"}),l.jsx("span",{className:"text-[10px] tracking-[0.45em] text-emerald-400",children:"live"})]}),i?l.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-white/5 px-4 py-1.5 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(Hv,{status:i.status}),l.jsxs("span",{className:"truncate",title:i.runId,children:["Run ",i.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[i.documentName??"Document not recorded",Ux(i.sheetNames)?`  ${Ux(i.sheetNames)}`:""]}),i.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",Fv(i.durationMs)]}):null]}),l.jsx("button",{type:"button",className:"text-[11px] font-semibold text-emerald-300 transition hover:text-emerald-200",onClick:()=>c?.(),children:"View details "})]}):null]}),l.jsx("div",{className:"flex-1 overflow-auto",children:n?l.jsxs("ul",{className:"divide-y divide-white/5",children:[e.map((m,g)=>l.jsxs("li",{className:"grid grid-cols-[auto_auto_1fr] items-baseline gap-4 px-4 py-1.5",children:[l.jsx("span",{className:"whitespace-nowrap text-[11px] tabular-nums text-slate-500",children:eE(m.timestamp)}),l.jsx("span",{className:ve("text-[10px] uppercase tracking-[0.3em]",Kj(m.level)),children:Pj(m.level)}),l.jsxs("span",{className:"flex flex-wrap items-baseline gap-2 text-[13px] text-slate-100",children:[l.jsx("span",{className:ve("text-sm",Wj(m.level)),children:"$"}),l.jsx("span",{className:ve("flex-1 whitespace-pre-wrap break-words",Yj(m.level)),children:m.message})]})]},`${m.timestamp??g}-${m.message}`)),l.jsx("div",{ref:f})]}):a?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"No console output matches these filters."}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Adjust origin or level filters to see more."})]}):l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:"Waiting for ADE output"}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:"Run validation or a test to stream logs into this terminal."})]})})]})}function Hj({validation:e}){const n=Jj(e),a=tE(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",Vv(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,c)=>l.jsxs("li",{className:Xj(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??c}-${c}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:a})]})}function Vj({latestRun:e}){return e?l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 overflow-auto",children:[l.jsx(Fj,{summary:e}),l.jsx(Qj,{summary:e}),l.jsx(Ij,{summary:e}),l.jsx(Gj,{summary:e})]}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-xs text-slate-500",children:"No run yet. Run a test or validation to see details here."})}function Fj({summary:e}){const n=e.durationMs!=null?Fv(e.durationMs):null,a=e.sheetNames&&e.sheetNames.length>0?e.sheetNames.join(", "):e.sheetNames?"All worksheets":null;return l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-[0.18em] text-slate-500",children:[l.jsx(Hv,{status:e.status}),l.jsx("span",{className:"font-semibold text-slate-700",children:"Run"}),l.jsxs("span",{className:"text-slate-400",title:e.runId,children:["#",e.runId]})]}),l.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[nE(e.status),n?l.jsxs("span",{className:"font-normal text-slate-500",children:["  ",n]}):null]}),l.jsxs("div",{className:"text-xs text-slate-500",children:[e.documentName??"Document not recorded",a?`  ${a}`:null]}),e.completedAt?l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Completed ",Vv(e.completedAt)]}):null]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l.jsx("a",{href:`${e.downloadBase}/logfile`,className:"inline-flex items-center gap-2 rounded-md border border-slate-200 bg-slate-50 px-3 py-1.5 text-[12px] font-semibold text-slate-700 shadow-sm hover:border-slate-300 hover:bg-white",children:"Download telemetry"})})]})}function Qj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Output files"}),e.outputsLoaded?null:l.jsx("span",{className:"text-[12px] text-slate-400",children:"Loading"})]}),e.error?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.error}):e.outputsLoaded?e.outputs.length>0?l.jsx("ul",{className:"mt-2 space-y-1 text-sm text-slate-800",children:e.outputs.map(n=>{const a=n.path?.split("/").map(encodeURIComponent).join("/")??n.name.split("/").map(encodeURIComponent).join("/"),i=n.download_url?n.download_url:`${e.downloadBase}/outputs/${a}`;return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:i,className:"text-brand-600 hover:underline",children:n.name||n.path}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[n.byte_size.toLocaleString()," bytes"]})]},n.path??n.name)})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No output files were generated."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading outputs"})]})}function Ij({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Run summary"}),e.summaryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.summaryError}):e.summaryLoaded?e.summary?l.jsx("div",{className:"mt-2",children:l.jsx($v,{summary:e.summary})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Summary not available."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading summary"})]})}function Gj({summary:e}){return l.jsxs("section",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[l.jsx("p",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500",children:"Telemetry summary"}),e.telemetryError?l.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e.telemetryError}):e.telemetryLoaded?e.telemetry&&e.telemetry.length>0?l.jsx("div",{className:"mt-2",children:l.jsx(Zv,{events:[...e.telemetry]})}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No telemetry events captured."}):l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading telemetry"})]})}function Hv({status:e}){const n=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"||e==="active"?"bg-amber-400":e==="canceled"?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:ve("inline-block h-2.5 w-2.5 rounded-full",n),"aria-hidden":!0})}const Rx={info:"text-[#569cd6]",warning:"text-[#dcdcaa]",error:"text-[#f48771]",success:"text-[#89d185]"},zx={info:"text-slate-100",warning:"text-amber-100",error:"text-rose-100",success:"text-emerald-100"},Ox={info:"text-slate-400",warning:"text-amber-400",error:"text-rose-400",success:"text-emerald-300"},Lx={info:"INFO",warning:"WARN",error:"ERROR",success:"DONE"};function Wj(e){return Rx[e]??Rx.info}function Yj(e){return zx[e]??zx.info}function Kj(e){return Ox[e]??Ox.info}function Pj(e){return Lx[e]??Lx.info}function Xj(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function Jj(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function Vv(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function eE(e){if(!e)return" ";const n=e.replace(/\s+/g," ").trim(),a=Date.parse(n);return!Number.isNaN(a)&&n.includes("T")?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):n}function tE(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function Fv(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return`${n}m ${a}s`}function nE(e){switch(e){case"succeeded":return"Succeeded";case"failed":return"Failed";case"canceled":return"Canceled";case"queued":return"Queued";case"active":case"running":return"Running";default:return e}}function Ux(e){return e?e.length===0?"All worksheets":e.join(", "):null}function Bx(e){return e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function sE(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>i=>{n.forEach(c=>c(i))},n)}const Pc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mi(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function ch(e){return"nodeType"in e}function ss(e){var n,a;return e?Mi(e)?e:ch(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function uh(e){const{Document:n}=ss(e);return e instanceof n}function Pl(e){return Mi(e)?!1:e instanceof ss(e).HTMLElement}function Qv(e){return e instanceof ss(e).SVGElement}function Ri(e){return e?Mi(e)?e.document:ch(e)?uh(e)?e:Pl(e)||Qv(e)?e.ownerDocument:document:document:document}const Ys=Pc?p.useLayoutEffect:p.useEffect;function dh(e){const n=p.useRef(e);return Ys(()=>{n.current=e}),p.useCallback(function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n.current==null?void 0:n.current(...i)},[])}function aE(){const e=p.useRef(null),n=p.useCallback((i,c)=>{e.current=setInterval(i,c)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Hl(e,n){n===void 0&&(n=[e]);const a=p.useRef(e);return Ys(()=>{a.current!==e&&(a.current=e)},n),a}function Xl(e,n){const a=p.useRef();return p.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function Uc(e){const n=dh(e),a=p.useRef(null),i=p.useCallback(c=>{c!==a.current&&n?.(c,a.current),a.current=c},[]);return[a,i]}function qf(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let pf={};function Jl(e,n){return p.useMemo(()=>{if(n)return n;const a=pf[e]==null?0:pf[e]+1;return pf[e]=a,e+"-"+a},[e,n])}function Iv(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((u,f)=>{const m=Object.entries(f);for(const[g,x]of m){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const Ni=Iv(1),Bc=Iv(-1);function rE(e){return"clientX"in e&&"clientY"in e}function fh(e){if(!e)return!1;const{KeyboardEvent:n}=ss(e.target);return n&&e instanceof n}function iE(e){if(!e)return!1;const{TouchEvent:n}=ss(e.target);return n&&e instanceof n}function $f(e){if(iE(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return rE(e)?{x:e.clientX,y:e.clientY}:null}const Vl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Vl.Translate.toString(e),Vl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),qx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function lE(e){return e.matches(qx)?e:e.querySelector(qx)}const oE={display:"none"};function cE(e){let{id:n,value:a}=e;return mt.createElement("div",{id:n,style:oE},a)}function uE(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mt.createElement("div",{id:n,style:c,role:"status","aria-live":i,"aria-atomic":!0},a)}function dE(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const Gv=p.createContext(null);function fE(e){const n=p.useContext(Gv);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function hE(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:c,event:u}=i;e.forEach(f=>{var m;return(m=f[c])==null?void 0:m.call(f,u)})},[e]),n]}const mE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},pE={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function gE(e){let{announcements:n=pE,container:a,hiddenTextDescribedById:i,screenReaderInstructions:c=mE}=e;const{announce:u,announcement:f}=dE(),m=Jl("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),fE(p.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:j}=y;n.onDragMove&&u(n.onDragMove({active:w,over:j}))},onDragOver(y){let{active:w,over:j}=y;u(n.onDragOver({active:w,over:j}))},onDragEnd(y){let{active:w,over:j}=y;u(n.onDragEnd({active:w,over:j}))},onDragCancel(y){let{active:w,over:j}=y;u(n.onDragCancel({active:w,over:j}))}}),[u,n])),!g)return null;const b=mt.createElement(mt.Fragment,null,mt.createElement(cE,{id:i,value:c.draggable}),mt.createElement(uE,{id:m,announcement:f}));return a?pa.createPortal(b,a):b}var dn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(dn||(dn={}));function qc(){}function xE(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function vE(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const Bs=Object.freeze({x:0,y:0});function bE(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function yE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return a-i}function wE(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function SE(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function $x(e,n,a){return n===void 0&&(n=e.left),a===void 0&&(a=e.top),{x:n+e.width*.5,y:a+e.height*.5}}const jE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=$x(n,n.left,n.top),u=[];for(const f of i){const{id:m}=f,g=a.get(m);if(g){const x=bE($x(g),c);u.push({id:m,data:{droppableContainer:f,value:x}})}}return u.sort(yE)};function EE(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),c=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),f=c-i,m=u-a;if(i<c&&a<u){const g=n.width*n.height,x=e.width*e.height,b=f*m,y=b/(g+x-b);return Number(y.toFixed(4))}return 0}const NE=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const c=[];for(const u of i){const{id:f}=u,m=a.get(f);if(m){const g=EE(m,n);g>0&&c.push({id:f,data:{droppableContainer:u,value:g}})}}return c.sort(wE)};function _E(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function Wv(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Bs}function CE(e){return function(a){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.reduce((f,m)=>({...f,top:f.top+e*m.y,bottom:f.bottom+e*m.y,left:f.left+e*m.x,right:f.right+e*m.x}),{...a})}}const kE=CE(1);function TE(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function AE(e,n,a){const i=TE(n);if(!i)return e;const{scaleX:c,scaleY:u,x:f,y:m}=i,g=e.left-f-(1-c)*parseFloat(a),x=e.top-m-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=c?e.width/c:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:x,right:g+b,bottom:x+y,left:g}}const DE={ignoreTransform:!1};function zi(e,n){n===void 0&&(n=DE);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=ss(e).getComputedStyle(e);x&&(a=AE(a,x,b))}const{top:i,left:c,width:u,height:f,bottom:m,right:g}=a;return{top:i,left:c,width:u,height:f,bottom:m,right:g}}function Zx(e){return zi(e,{ignoreTransform:!0})}function ME(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function RE(e,n){return n===void 0&&(n=ss(e).getComputedStyle(e)),n.position==="fixed"}function zE(e,n){n===void 0&&(n=ss(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const u=n[c];return typeof u=="string"?a.test(u):!1})}function hh(e,n){const a=[];function i(c){if(n!=null&&a.length>=n||!c)return a;if(uh(c)&&c.scrollingElement!=null&&!a.includes(c.scrollingElement))return a.push(c.scrollingElement),a;if(!Pl(c)||Qv(c)||a.includes(c))return a;const u=ss(e).getComputedStyle(c);return c!==e&&zE(c,u)&&a.push(c),RE(c,u)?a:i(c.parentNode)}return e?i(e):a}function Yv(e){const[n]=hh(e,1);return n??null}function gf(e){return!Pc||!e?null:Mi(e)?e:ch(e)?uh(e)||e===Ri(e).scrollingElement?window:Pl(e)?e:null:null}function Kv(e){return Mi(e)?e.scrollX:e.scrollLeft}function Pv(e){return Mi(e)?e.scrollY:e.scrollTop}function Zf(e){return{x:Kv(e),y:Pv(e)}}var bn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bn||(bn={}));function Xv(e){return!Pc||!e?!1:e===document.scrollingElement}function Jv(e){const n={x:0,y:0},a=Xv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},c=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,f=e.scrollTop>=i.y,m=e.scrollLeft>=i.x;return{isTop:c,isLeft:u,isBottom:f,isRight:m,maxScroll:i,minScroll:n}}const OE={x:.2,y:.2};function LE(e,n,a,i,c){let{top:u,left:f,right:m,bottom:g}=a;i===void 0&&(i=10),c===void 0&&(c=OE);const{isTop:x,isBottom:b,isLeft:y,isRight:w}=Jv(e),j={x:0,y:0},T={x:0,y:0},E={height:n.height*c.y,width:n.width*c.x};return!x&&u<=n.top+E.height?(j.y=bn.Backward,T.y=i*Math.abs((n.top+E.height-u)/E.height)):!b&&g>=n.bottom-E.height&&(j.y=bn.Forward,T.y=i*Math.abs((n.bottom-E.height-g)/E.height)),!w&&m>=n.right-E.width?(j.x=bn.Forward,T.x=i*Math.abs((n.right-E.width-m)/E.width)):!y&&f<=n.left+E.width&&(j.x=bn.Backward,T.x=i*Math.abs((n.left+E.width-f)/E.width)),{direction:j,speed:T}}function UE(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:a,right:i,bottom:c}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:c,width:e.clientWidth,height:e.clientHeight}}function eb(e){return e.reduce((n,a)=>Ni(n,Zf(a)),Bs)}function BE(e){return e.reduce((n,a)=>n+Kv(a),0)}function qE(e){return e.reduce((n,a)=>n+Pv(a),0)}function $E(e,n){if(n===void 0&&(n=zi),!e)return;const{top:a,left:i,bottom:c,right:u}=n(e);Yv(e)&&(c<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ZE=[["x",["left","right"],BE],["y",["top","bottom"],qE]];class mh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=hh(a),c=eb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,m]of ZE)for(const g of f)Object.defineProperty(this,g,{get:()=>{const x=m(i),b=c[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var c;(c=this.target)==null||c.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function HE(e){const{EventTarget:n}=ss(e);return e instanceof n?e:Ri(e)}function xf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var Ss;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function Hx(e){e.preventDefault()}function VE(e){e.stopPropagation()}var lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(lt||(lt={}));const tb={start:[lt.Space,lt.Enter],cancel:[lt.Esc],end:[lt.Space,lt.Enter,lt.Tab]},FE=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case lt.Right:return{...a,x:a.x+25};case lt.Left:return{...a,x:a.x-25};case lt.Down:return{...a,y:a.y+25};case lt.Up:return{...a,y:a.y-25}}};class nb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new Rl(Ri(a)),this.windowListeners=new Rl(ss(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&$E(i),a(Bs)}handleKeyDown(n){if(fh(n)){const{active:a,context:i,options:c}=this.props,{keyboardCodes:u=tb,coordinateGetter:f=FE,scrollBehavior:m="smooth"}=c,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:Bs;this.referenceCoordinates||(this.referenceCoordinates=b);const y=f(n,{active:a,context:i.current,currentCoordinates:b});if(y){const w=Bc(y,b),j={x:0,y:0},{scrollableAncestors:T}=i.current;for(const E of T){const O=n.code,{isTop:U,isRight:_,isLeft:A,isBottom:$,maxScroll:Z,minScroll:X}=Jv(E),W=UE(E),K={x:Math.min(O===lt.Right?W.right-W.width/2:W.right,Math.max(O===lt.Right?W.left:W.left+W.width/2,y.x)),y:Math.min(O===lt.Down?W.bottom-W.height/2:W.bottom,Math.max(O===lt.Down?W.top:W.top+W.height/2,y.y))},ne=O===lt.Right&&!_||O===lt.Left&&!A,ie=O===lt.Down&&!$||O===lt.Up&&!U;if(ne&&K.x!==y.x){const le=E.scrollLeft+w.x,pe=O===lt.Right&&le<=Z.x||O===lt.Left&&le>=X.x;if(pe&&!w.y){E.scrollTo({left:le,behavior:m});return}pe?j.x=E.scrollLeft-le:j.x=O===lt.Right?E.scrollLeft-Z.x:E.scrollLeft-X.x,j.x&&E.scrollBy({left:-j.x,behavior:m});break}else if(ie&&K.y!==y.y){const le=E.scrollTop+w.y,pe=O===lt.Down&&le<=Z.y||O===lt.Up&&le>=X.y;if(pe&&!w.x){E.scrollTo({top:le,behavior:m});return}pe?j.y=E.scrollTop-le:j.y=O===lt.Down?E.scrollTop-Z.y:E.scrollTop-X.y,j.y&&E.scrollBy({top:-j.y,behavior:m});break}}this.handleMove(n,Ni(Bc(y,this.referenceCoordinates),j))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=tb,onActivation:c}=n,{active:u}=a;const{code:f}=e.nativeEvent;if(i.start.includes(f)){const m=u.activatorNode.current;return m&&e.target!==m?!1:(e.preventDefault(),c?.({event:e.nativeEvent}),!0)}return!1}}];function Vx(e){return!!(e&&"distance"in e)}function Fx(e){return!!(e&&"delay"in e)}class ph{constructor(n,a,i){var c;i===void 0&&(i=HE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:f}=u;this.props=n,this.events=a,this.document=Ri(f),this.documentListeners=new Rl(this.document),this.listeners=new Rl(i),this.windowListeners=new Rl(ss(f)),this.initialCoordinates=(c=$f(u))!=null?c:Bs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,Hx),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,Hx),this.documentListeners.add(Ss.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fx(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Vx(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:c}=this.props;c(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(Ss.Click,VE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:c,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!c)return;const g=(a=$f(n))!=null?a:Bs,x=Bc(c,g);if(!i&&m){if(Vx(m)){if(m.tolerance!=null&&xf(x,m.tolerance))return this.handleCancel();if(xf(x,m.distance))return this.handleStart()}if(Fx(m)&&xf(x,m.tolerance))return this.handleCancel();this.handlePending(m,x);return}n.cancelable&&n.preventDefault(),f(g)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===lt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const QE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gh extends ph{constructor(n){const{event:a}=n,i=Ri(a.target);super(n,QE,i)}}gh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const IE={move:{name:"mousemove"},end:{name:"mouseup"}};var Hf;(function(e){e[e.RightClick=2]="RightClick"})(Hf||(Hf={}));class GE extends ph{constructor(n){super(n,IE,Ri(n.event.target))}}GE.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Hf.RightClick?!1:(i?.({event:a}),!0)}}];const vf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class WE extends ph{constructor(n){super(n,vf)}static setup(){return window.addEventListener(vf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(vf.move.name,n)};function n(){}}}WE.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:c}=a;return c.length>1?!1:(i?.({event:a}),!0)}}];var zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zl||(zl={}));var $c;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})($c||($c={}));function YE(e){let{acceleration:n,activator:a=zl.Pointer,canScroll:i,draggingRect:c,enabled:u,interval:f=5,order:m=$c.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:y,threshold:w}=e;const j=PE({delta:y,disabled:!u}),[T,E]=aE(),O=p.useRef({x:0,y:0}),U=p.useRef({x:0,y:0}),_=p.useMemo(()=>{switch(a){case zl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case zl.DraggableRect:return c}},[a,c,g]),A=p.useRef(null),$=p.useCallback(()=>{const X=A.current;if(!X)return;const W=O.current.x*U.current.x,K=O.current.y*U.current.y;X.scrollBy(W,K)},[]),Z=p.useMemo(()=>m===$c.TreeOrder?[...x].reverse():x,[m,x]);p.useEffect(()=>{if(!u||!x.length||!_){E();return}for(const X of Z){if(i?.(X)===!1)continue;const W=x.indexOf(X),K=b[W];if(!K)continue;const{direction:ne,speed:ie}=LE(X,K,_,n,w);for(const le of["x","y"])j[le][ne[le]]||(ie[le]=0,ne[le]=0);if(ie.x>0||ie.y>0){E(),A.current=X,T($,f),O.current=ie,U.current=ne;return}}O.current={x:0,y:0},U.current={x:0,y:0},E()},[n,$,i,E,u,f,JSON.stringify(_),JSON.stringify(j),T,x,Z,b,JSON.stringify(w)])}const KE={x:{[bn.Backward]:!1,[bn.Forward]:!1},y:{[bn.Backward]:!1,[bn.Forward]:!1}};function PE(e){let{delta:n,disabled:a}=e;const i=qf(n);return Xl(c=>{if(a||!i||!c)return KE;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[bn.Backward]:c.x[bn.Backward]||u.x===-1,[bn.Forward]:c.x[bn.Forward]||u.x===1},y:{[bn.Backward]:c.y[bn.Backward]||u.y===-1,[bn.Forward]:c.y[bn.Forward]||u.y===1}}},[a,n,i])}function XE(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Xl(c=>{var u;return n==null?null:(u=i??c)!=null?u:null},[i,n])}function JE(e,n){return p.useMemo(()=>e.reduce((a,i)=>{const{sensor:c}=i,u=c.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,i)}));return[...a,...u]},[]),[e,n])}var Fl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fl||(Fl={}));var Vf;(function(e){e.Optimized="optimized"})(Vf||(Vf={}));const Qx=new Map;function eN(e,n){let{dragging:a,dependencies:i,config:c}=n;const[u,f]=p.useState(null),{frequency:m,measure:g,strategy:x}=c,b=p.useRef(e),y=O(),w=Hl(y),j=p.useCallback(function(U){U===void 0&&(U=[]),!w.current&&f(_=>_===null?U:_.concat(U.filter(A=>!_.includes(A))))},[w]),T=p.useRef(null),E=Xl(U=>{if(y&&!a)return Qx;if(!U||U===Qx||b.current!==e||u!=null){const _=new Map;for(let A of e){if(!A)continue;if(u&&u.length>0&&!u.includes(A.id)&&A.rect.current){_.set(A.id,A.rect.current);continue}const $=A.node.current,Z=$?new mh(g($),$):null;A.rect.current=Z,Z&&_.set(A.id,Z)}return _}return U},[e,u,a,y,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{y||j()},[a,y]),p.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),p.useEffect(()=>{y||typeof m!="number"||T.current!==null||(T.current=setTimeout(()=>{j(),T.current=null},m))},[m,y,j,...i]),{droppableRects:E,measureDroppableContainers:j,measuringScheduled:u!=null};function O(){switch(x){case Fl.Always:return!1;case Fl.BeforeDragging:return a;default:return!a}}}function sb(e,n){return Xl(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function tN(e,n){return sb(e,n)}function nN(e){let{callback:n,disabled:a}=e;const i=dh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function Xc(e){let{callback:n,disabled:a}=e;const i=dh(n),c=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return p.useEffect(()=>()=>c?.disconnect(),[c]),c}function sN(e){return new mh(zi(e),e)}function Ix(e,n,a){n===void 0&&(n=sN);const[i,c]=p.useState(null);function u(){c(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??a)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const f=nN({callback(g){if(e)for(const x of g){const{type:b,target:y}=x;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),m=Xc({callback:u});return Ys(()=>{u(),e?(m?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[e]),i}function aN(e){const n=sb(e);return Wv(e,n)}const Gx=[];function rN(e){const n=p.useRef(e),a=Xl(i=>e?i&&i!==Gx&&e&&n.current&&e.parentNode===n.current.parentNode?i:hh(e):Gx,[e]);return p.useEffect(()=>{n.current=e},[e]),a}function iN(e){const[n,a]=p.useState(null),i=p.useRef(e),c=p.useCallback(u=>{const f=gf(u.target);f&&a(m=>m?(m.set(f,Zf(f)),new Map(m)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){f(u);const m=e.map(g=>{const x=gf(g);return x?(x.addEventListener("scroll",c,{passive:!0}),[x,Zf(x)]):null}).filter(g=>g!=null);a(m.length?new Map(m):null),i.current=e}return()=>{f(e),f(u)};function f(m){m.forEach(g=>{const x=gf(g);x?.removeEventListener("scroll",c)})}},[c,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,f)=>Ni(u,f),Bs):eb(e):Bs,[e,n])}function Wx(e,n){n===void 0&&(n=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},n),p.useEffect(()=>{const i=e!==Bs;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Bc(e,a.current):Bs}function lN(e){p.useEffect(()=>{if(!Pc)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function oN(e,n){return p.useMemo(()=>e.reduce((a,i)=>{let{eventName:c,handler:u}=i;return a[c]=f=>{u(f,n)},a},{}),[e,n])}function ab(e){return p.useMemo(()=>e?ME(e):null,[e])}const Yx=[];function cN(e,n){n===void 0&&(n=zi);const[a]=e,i=ab(a?ss(a):null),[c,u]=p.useState(Yx);function f(){u(()=>e.length?e.map(g=>Xv(g)?i:new mh(n(g),g)):Yx)}const m=Xc({callback:f});return Ys(()=>{m?.disconnect(),f(),e.forEach(g=>m?.observe(g))},[e]),c}function uN(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Pl(n)?n:e}function dN(e){let{measure:n}=e;const[a,i]=p.useState(null),c=p.useCallback(x=>{for(const{target:b}of x)if(Pl(b)){i(y=>{const w=n(b);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Xc({callback:c}),f=p.useCallback(x=>{const b=uN(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[m,g]=Uc(f);return p.useMemo(()=>({nodeRef:m,rect:a,setRef:g}),[a,m,g])}const fN=[{sensor:gh,options:{}},{sensor:nb,options:{}}],hN={current:{}},Tc={draggable:{measure:Zx},droppable:{measure:Zx,strategy:Fl.WhileDragging,frequency:Vf.Optimized},dragOverlay:{measure:zi}};class Ol extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const mN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ol,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tc,measureDroppableContainers:qc,windowRect:null,measuringScheduled:!1},pN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qc,draggableNodes:new Map,over:null,measureDroppableContainers:qc},Jc=p.createContext(pN),rb=p.createContext(mN);function gN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ol}}}function xN(e,n){switch(n.type){case dn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case dn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case dn.DragEnd:case dn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case dn.RegisterDroppable:{const{element:a}=n,{id:i}=a,c=new Ol(e.droppable.containers);return c.set(i,a),{...e,droppable:{...e.droppable,containers:c}}}case dn.SetDroppableDisabled:{const{id:a,key:i,disabled:c}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const f=new Ol(e.droppable.containers);return f.set(a,{...u,disabled:c}),{...e,droppable:{...e.droppable,containers:f}}}case dn.UnregisterDroppable:{const{id:a,key:i}=n,c=e.droppable.containers.get(a);if(!c||i!==c.key)return e;const u=new Ol(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function vN(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:c}=p.useContext(Jc),u=qf(i),f=qf(a?.id);return p.useEffect(()=>{if(!n&&!i&&u&&f!=null){if(!fh(u)||document.activeElement===u.target)return;const m=c.get(f);if(!m)return;const{activatorNode:g,node:x}=m;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const y=lE(b);if(y){y.focus();break}}})}},[i,n,c,f,u]),null}function bN(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((c,u)=>u({transform:c,...i}),a):a}function yN(e){return p.useMemo(()=>({draggable:{...Tc.draggable,...e?.draggable},droppable:{...Tc.droppable,...e?.droppable},dragOverlay:{...Tc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function wN(e){let{activeNode:n,measure:a,initialRect:i,config:c=!0}=e;const u=p.useRef(!1),{x:f,y:m}=typeof c=="boolean"?{x:c,y:c}:c;Ys(()=>{if(!f&&!m||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=a(x),y=Wv(b,i);if(f||(y.x=0),m||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Yv(x);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,m,i,a])}const ib=p.createContext({...Bs,scaleX:1,scaleY:1});var Ya;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ya||(Ya={}));const SN=p.memo(function(n){var a,i,c,u;let{id:f,accessibility:m,autoScroll:g=!0,children:x,sensors:b=fN,collisionDetection:y=NE,measuring:w,modifiers:j,...T}=n;const E=p.useReducer(xN,void 0,gN),[O,U]=E,[_,A]=hE(),[$,Z]=p.useState(Ya.Uninitialized),X=$===Ya.Initialized,{draggable:{active:W,nodes:K,translate:ne},droppable:{containers:ie}}=O,le=W!=null?K.get(W):null,pe=p.useRef({initial:null,translated:null}),de=p.useMemo(()=>{var jt;return W!=null?{id:W,data:(jt=le?.data)!=null?jt:hN,rect:pe}:null},[W,le]),ge=p.useRef(null),[we,B]=p.useState(null),[ee,xe]=p.useState(null),Se=Hl(T,Object.values(T)),oe=Jl("DndDescribedBy",f),N=p.useMemo(()=>ie.getEnabled(),[ie]),V=yN(w),{droppableRects:z,measureDroppableContainers:R,measuringScheduled:Q}=eN(N,{dragging:X,dependencies:[ne.x,ne.y],config:V.droppable}),F=XE(K,W),me=p.useMemo(()=>ee?$f(ee):null,[ee]),be=Bn(),Ee=tN(F,V.draggable.measure);wN({activeNode:W!=null?K.get(W):null,config:be.layoutShiftCompensation,initialRect:Ee,measure:V.draggable.measure});const I=Ix(F,V.draggable.measure,Ee),Ne=Ix(F?F.parentElement:null),ke=p.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=ie.getNodeFor((a=ke.current.over)==null?void 0:a.id),Oe=dN({measure:V.dragOverlay.measure}),Ae=(i=Oe.nodeRef.current)!=null?i:F,Fe=X?(c=Oe.rect)!=null?c:I:null,et=!!(Oe.nodeRef.current&&Oe.rect),tt=aN(et?null:I),Pt=ab(Ae?ss(Ae):null),D=rN(X?Ze??F:null),k=cN(D),C=bN(j,{transform:{x:ne.x-tt.x,y:ne.y-tt.y,scaleX:1,scaleY:1},activatorEvent:ee,active:de,activeNodeRect:I,containerNodeRect:Ne,draggingNodeRect:Fe,over:ke.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:D,scrollableAncestorRects:k,windowRect:Pt}),se=me?Ni(me,ne):null,J=iN(D),ae=Wx(J),je=Wx(J,[I]),qe=Ni(C,ae),He=Fe?kE(Fe,C):null,vt=de&&He?y({active:de,collisionRect:He,droppableRects:z,droppableContainers:N,pointerCoordinates:se}):null,ye=SE(vt,"id"),[_e,Ve]=p.useState(null),yt=et?C:Ni(C,je),st=_E(yt,(u=_e?.rect)!=null?u:null,I),Xt=p.useRef(null),wt=p.useCallback((jt,Dt)=>{let{sensor:Ot,options:Rn}=Dt;if(ge.current==null)return;const Ce=K.get(ge.current);if(!Ce)return;const Ht=jt.nativeEvent,yn=new Ot({active:ge.current,activeNode:Ce,event:Ht,options:Rn,context:ke,onAbort(Vt){if(!K.get(Vt))return;const{onDragAbort:wn}=Se.current,Fn={id:Vt};wn?.(Fn),_({type:"onDragAbort",event:Fn})},onPending(Vt,Mt,wn,Fn){if(!K.get(Vt))return;const{onDragPending:zn}=Se.current,Qn={id:Vt,constraint:Mt,initialCoordinates:wn,offset:Fn};zn?.(Qn),_({type:"onDragPending",event:Qn})},onStart(Vt){const Mt=ge.current;if(Mt==null)return;const wn=K.get(Mt);if(!wn)return;const{onDragStart:Fn}=Se.current,Sn={activatorEvent:Ht,active:{id:Mt,data:wn.data,rect:pe}};pa.unstable_batchedUpdates(()=>{Fn?.(Sn),Z(Ya.Initializing),U({type:dn.DragStart,initialCoordinates:Vt,active:Mt}),_({type:"onDragStart",event:Sn}),B(Xt.current),xe(Ht)})},onMove(Vt){U({type:dn.DragMove,coordinates:Vt})},onEnd:Vn(dn.DragEnd),onCancel:Vn(dn.DragCancel)});Xt.current=yn;function Vn(Vt){return async function(){const{active:wn,collisions:Fn,over:Sn,scrollAdjustedTranslate:zn}=ke.current;let Qn=null;if(wn&&zn){const{cancelDrop:_s}=Se.current;Qn={activatorEvent:Ht,active:wn,collisions:Fn,delta:zn,over:Sn},Vt===dn.DragEnd&&typeof _s=="function"&&await Promise.resolve(_s(Qn))&&(Vt=dn.DragCancel)}ge.current=null,pa.unstable_batchedUpdates(()=>{U({type:Vt}),Z(Ya.Uninitialized),Ve(null),B(null),xe(null),Xt.current=null;const _s=Vt===dn.DragEnd?"onDragEnd":"onDragCancel";if(Qn){const On=Se.current[_s];On?.(Qn),_({type:_s,event:Qn})}})}}},[K]),Ks=p.useCallback((jt,Dt)=>(Ot,Rn)=>{const Ce=Ot.nativeEvent,Ht=K.get(Rn);if(ge.current!==null||!Ht||Ce.dndKit||Ce.defaultPrevented)return;const yn={active:Ht};jt(Ot,Dt.options,yn)===!0&&(Ce.dndKit={capturedBy:Dt.sensor},ge.current=Rn,wt(Ot,Dt))},[K,wt]),St=JE(b,Ks);lN(b),Ys(()=>{I&&$===Ya.Initializing&&Z(Ya.Initialized)},[I,$]),p.useEffect(()=>{const{onDragMove:jt}=Se.current,{active:Dt,activatorEvent:Ot,collisions:Rn,over:Ce}=ke.current;if(!Dt||!Ot)return;const Ht={active:Dt,activatorEvent:Ot,collisions:Rn,delta:{x:qe.x,y:qe.y},over:Ce};pa.unstable_batchedUpdates(()=>{jt?.(Ht),_({type:"onDragMove",event:Ht})})},[qe.x,qe.y]),p.useEffect(()=>{const{active:jt,activatorEvent:Dt,collisions:Ot,droppableContainers:Rn,scrollAdjustedTranslate:Ce}=ke.current;if(!jt||ge.current==null||!Dt||!Ce)return;const{onDragOver:Ht}=Se.current,yn=Rn.get(ye),Vn=yn&&yn.rect.current?{id:yn.id,rect:yn.rect.current,data:yn.data,disabled:yn.disabled}:null,Vt={active:jt,activatorEvent:Dt,collisions:Ot,delta:{x:Ce.x,y:Ce.y},over:Vn};pa.unstable_batchedUpdates(()=>{Ve(Vn),Ht?.(Vt),_({type:"onDragOver",event:Vt})})},[ye]),Ys(()=>{ke.current={activatorEvent:ee,active:de,activeNode:F,collisionRect:He,collisions:vt,droppableRects:z,draggableNodes:K,draggingNode:Ae,draggingNodeRect:Fe,droppableContainers:ie,over:_e,scrollableAncestors:D,scrollAdjustedTranslate:qe},pe.current={initial:Fe,translated:He}},[de,F,vt,He,K,Ae,Fe,z,ie,_e,D,qe]),YE({...be,delta:ne,draggingRect:He,pointerCoordinates:se,scrollableAncestors:D,scrollableAncestorRects:k});const va=p.useMemo(()=>({active:de,activeNode:F,activeNodeRect:I,activatorEvent:ee,collisions:vt,containerNodeRect:Ne,dragOverlay:Oe,draggableNodes:K,droppableContainers:ie,droppableRects:z,over:_e,measureDroppableContainers:R,scrollableAncestors:D,scrollableAncestorRects:k,measuringConfiguration:V,measuringScheduled:Q,windowRect:Pt}),[de,F,I,ee,vt,Ne,Oe,K,ie,z,_e,R,D,k,V,Q,Pt]),Mn=p.useMemo(()=>({activatorEvent:ee,activators:St,active:de,activeNodeRect:I,ariaDescribedById:{draggable:oe},dispatch:U,draggableNodes:K,over:_e,measureDroppableContainers:R}),[ee,St,de,I,U,oe,K,_e,R]);return mt.createElement(Gv.Provider,{value:A},mt.createElement(Jc.Provider,{value:Mn},mt.createElement(rb.Provider,{value:va},mt.createElement(ib.Provider,{value:st},x)),mt.createElement(vN,{disabled:m?.restoreFocus===!1})),mt.createElement(gE,{...m,hiddenTextDescribedById:oe}));function Bn(){const jt=we?.autoScrollEnabled===!1,Dt=typeof g=="object"?g.enabled===!1:g===!1,Ot=X&&!jt&&!Dt;return typeof g=="object"?{...g,enabled:Ot}:{enabled:Ot}}}),jN=p.createContext(null),Kx="button",EN="Draggable";function NN(e){let{id:n,data:a,disabled:i=!1,attributes:c}=e;const u=Jl(EN),{activators:f,activatorEvent:m,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:y,over:w}=p.useContext(Jc),{role:j=Kx,roleDescription:T="draggable",tabIndex:E=0}=c??{},O=g?.id===n,U=p.useContext(O?ib:jN),[_,A]=Uc(),[$,Z]=Uc(),X=oN(f,n),W=Hl(a);Ys(()=>(y.set(n,{id:n,key:u,node:_,activatorNode:$,data:W}),()=>{const ne=y.get(n);ne&&ne.key===u&&y.delete(n)}),[y,n]);const K=p.useMemo(()=>({role:j,tabIndex:E,"aria-disabled":i,"aria-pressed":O&&j===Kx?!0:void 0,"aria-roledescription":T,"aria-describedby":b.draggable}),[i,j,E,O,T,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:x,attributes:K,isDragging:O,listeners:i?void 0:X,node:_,over:w,setNodeRef:A,setActivatorNodeRef:Z,transform:U}}function _N(){return p.useContext(rb)}const CN="Droppable",kN={timeout:25};function TN(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:c}=e;const u=Jl(CN),{active:f,dispatch:m,over:g,measureDroppableContainers:x}=p.useContext(Jc),b=p.useRef({disabled:a}),y=p.useRef(!1),w=p.useRef(null),j=p.useRef(null),{disabled:T,updateMeasurementsFor:E,timeout:O}={...kN,...c},U=Hl(E??i),_=p.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{x(Array.isArray(U.current)?U.current:[U.current]),j.current=null},O)},[O]),A=Xc({callback:_,disabled:T||!f}),$=p.useCallback((K,ne)=>{A&&(ne&&(A.unobserve(ne),y.current=!1),K&&A.observe(K))},[A]),[Z,X]=Uc($),W=Hl(n);return p.useEffect(()=>{!A||!Z.current||(A.disconnect(),y.current=!1,A.observe(Z.current))},[Z,A]),p.useEffect(()=>(m({type:dn.RegisterDroppable,element:{id:i,key:u,disabled:a,node:Z,rect:w,data:W}}),()=>m({type:dn.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{a!==b.current.disabled&&(m({type:dn.SetDroppableDisabled,id:i,key:u,disabled:a}),b.current.disabled=a)},[i,u,a,m]),{active:f,rect:w,isOver:g?.id===i,node:Z,over:g,setNodeRef:X}}function lb(e,n,a){const i=e.slice();return i.splice(a<0?i.length+a:a,0,i.splice(n,1)[0]),i}function AN(e,n){return e.reduce((a,i,c)=>{const u=n.get(i);return u&&(a[c]=u),a},Array(e.length))}function yc(e){return e!==null&&e>=0}function DN(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}function MN(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const wc={scaleX:1,scaleY:1},RN=e=>{var n;let{rects:a,activeNodeRect:i,activeIndex:c,overIndex:u,index:f}=e;const m=(n=a[c])!=null?n:i;if(!m)return null;const g=zN(a,f,c);if(f===c){const x=a[u];return x?{x:c<u?x.left+x.width-(m.left+m.width):x.left-m.left,y:0,...wc}:null}return f>c&&f<=u?{x:-m.width-g,y:0,...wc}:f<c&&f>=u?{x:m.width+g,y:0,...wc}:{x:0,y:0,...wc}};function zN(e,n,a){const i=e[n],c=e[n-1],u=e[n+1];return!i||!c&&!u?0:a<n?c?i.left-(c.left+c.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(c.left+c.width)}const ob=e=>{let{rects:n,activeIndex:a,overIndex:i,index:c}=e;const u=lb(n,i,a),f=n[c],m=u[c];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},cb="Sortable",ub=mt.createContext({activeIndex:-1,containerId:cb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ob,disabled:{draggable:!1,droppable:!1}});function ON(e){let{children:n,id:a,items:i,strategy:c=ob,disabled:u=!1}=e;const{active:f,dragOverlay:m,droppableRects:g,over:x,measureDroppableContainers:b}=_N(),y=Jl(cb,a),w=m.rect!==null,j=p.useMemo(()=>i.map(X=>typeof X=="object"&&"id"in X?X.id:X),[i]),T=f!=null,E=f?j.indexOf(f.id):-1,O=x?j.indexOf(x.id):-1,U=p.useRef(j),_=!DN(j,U.current),A=O!==-1&&E===-1||_,$=MN(u);Ys(()=>{_&&T&&b(j)},[_,j,T,b]),p.useEffect(()=>{U.current=j},[j]);const Z=p.useMemo(()=>({activeIndex:E,containerId:y,disabled:$,disableTransforms:A,items:j,overIndex:O,useDragOverlay:w,sortedRects:AN(j,g),strategy:c}),[E,y,$.draggable,$.droppable,A,j,O,g,w,c]);return mt.createElement(ub.Provider,{value:Z},n)}const LN=e=>{let{id:n,items:a,activeIndex:i,overIndex:c}=e;return lb(a,i,c).indexOf(n)},UN=e=>{let{containerId:n,isSorting:a,wasDragging:i,index:c,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:x}=e;return!x||!i||m!==u&&c===f?!1:a?!0:f!==c&&n===g},BN={duration:200,easing:"ease"},db="transform",qN=Vl.Transition.toString({property:db,duration:0,easing:"linear"}),$N={roleDescription:"sortable"};function ZN(e){let{disabled:n,index:a,node:i,rect:c}=e;const[u,f]=p.useState(null),m=p.useRef(a);return Ys(()=>{if(!n&&a!==m.current&&i.current){const g=c.current;if(g){const x=zi(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&f(b)}}a!==m.current&&(m.current=a)},[n,a,i,c]),p.useEffect(()=>{u&&f(null)},[u]),u}function HN(e){let{animateLayoutChanges:n=UN,attributes:a,disabled:i,data:c,getNewIndex:u=LN,id:f,strategy:m,resizeObserverConfig:g,transition:x=BN}=e;const{items:b,containerId:y,activeIndex:w,disabled:j,disableTransforms:T,sortedRects:E,overIndex:O,useDragOverlay:U,strategy:_}=p.useContext(ub),A=VN(i,j),$=b.indexOf(f),Z=p.useMemo(()=>({sortable:{containerId:y,index:$,items:b},...c}),[y,c,$,b]),X=p.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:W,node:K,isOver:ne,setNodeRef:ie}=TN({id:f,data:Z,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:X,...g}}),{active:le,activatorEvent:pe,activeNodeRect:de,attributes:ge,setNodeRef:we,listeners:B,isDragging:ee,over:xe,setActivatorNodeRef:Se,transform:oe}=NN({id:f,data:Z,attributes:{...$N,...a},disabled:A.draggable}),N=sE(ie,we),V=!!le,z=V&&!T&&yc(w)&&yc(O),R=!U&&ee,Q=R&&z?oe:null,me=z?Q??(m??_)({rects:E,activeNodeRect:de,activeIndex:w,overIndex:O,index:$}):null,be=yc(w)&&yc(O)?u({id:f,items:b,activeIndex:w,overIndex:O}):$,Ee=le?.id,I=p.useRef({activeId:Ee,items:b,newIndex:be,containerId:y}),Ne=b!==I.current.items,ke=n({active:le,containerId:y,isDragging:ee,isSorting:V,id:f,index:$,items:b,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:x,wasDragging:I.current.activeId!=null}),Ze=ZN({disabled:!ke,index:$,node:K,rect:W});return p.useEffect(()=>{V&&I.current.newIndex!==be&&(I.current.newIndex=be),y!==I.current.containerId&&(I.current.containerId=y),b!==I.current.items&&(I.current.items=b)},[V,be,y,b]),p.useEffect(()=>{if(Ee===I.current.activeId)return;if(Ee!=null&&I.current.activeId==null){I.current.activeId=Ee;return}const Ae=setTimeout(()=>{I.current.activeId=Ee},50);return()=>clearTimeout(Ae)},[Ee]),{active:le,activeIndex:w,attributes:ge,data:Z,rect:W,index:$,newIndex:be,items:b,isOver:ne,isSorting:V,isDragging:ee,listeners:B,node:K,overIndex:O,over:xe,setNodeRef:N,setActivatorNodeRef:Se,setDroppableNodeRef:ie,setDraggableNodeRef:we,transform:Ze??me,transition:Oe()};function Oe(){if(Ze||Ne&&I.current.newIndex===$)return qN;if(!(R&&!fh(pe)||!x)&&(V||ke))return Vl.Transition.toString({...x,property:db})}}function VN(e,n){var a,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}lt.Down,lt.Right,lt.Up,lt.Left;const FN=p.lazy(()=>wS(()=>import("./MonacoCodeEditor-B9n13yOc.js"),[])),QN=p.forwardRef(function(n,a){const{className:i,...c}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:ve("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(FN,{...c,ref:a,className:i})})}),IN=232,GN=30,Sr=6;function Ql({open:e,position:n,onClose:a,items:i,appearance:c="dark"}){const u=p.useRef(null),f=p.useRef([]),[m,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(j=>!j.disabled),[i]),[b,y]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const j=i.length*GN+Sr*2,T=Math.max(Sr,(window.innerWidth||0)-IN-Sr),E=Math.max(Sr,(window.innerHeight||0)-j-Sr),O=Math.min(Math.max(n.x,Sr),T),U=Math.min(Math.max(n.y,Sr),E);g({x:O,y:U})},[e,n,i.length]),p.useEffect(()=>{e&&y(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;f.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const j=O=>{u.current&&(u.current.contains(O.target)||a())},T=O=>{if(u.current){if(u.current.contains(O.target)){O.preventDefault();return}a()}},E=O=>{if(O.key==="Escape"){O.preventDefault(),a();return}if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const U=O.key==="ArrowDown"?1:-1;y(_=>{if(i.length===0)return _;let A=_;for(let $=0;$<i.length;$+=1)if(A=(A+U+i.length)%i.length,!i[A]?.disabled)return A;return _});return}if(O.key==="Enter"||O.key===" "){O.preventDefault();const U=i[b];U&&!U.disabled&&(U.onSelect(),a())}};return window.addEventListener("mousedown",j),window.addEventListener("contextmenu",T),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",j),window.removeEventListener("contextmenu",T),window.removeEventListener("keydown",E)}},[e,a,i,b]),!e||!n||typeof window>"u"||!m)return null;const w=c==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return pa.createPortal(l.jsx("div",{ref:u,role:"menu",className:ve("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:m.y,left:m.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((j,T)=>{const E=!!j.disabled,O=!!j.danger;return l.jsxs(p.Fragment,{children:[j.dividerAbove?l.jsx("li",{role:"separator",className:ve("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:U=>{f.current[T]=U},type:"button",role:"menuitem",className:ve("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,E&&w.disabled,O&&!E&&w.danger,E&&"cursor-default"),onClick:U=>{U.stopPropagation(),!E&&(j.onSelect(),a())},onMouseEnter:()=>{E||y(T)},disabled:E,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[j.icon?l.jsx("span",{className:"text-base opacity-80",children:j.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:j.label})]}),j.shortcut?l.jsx("span",{className:ve("text-[11px] uppercase tracking-wide",w.shortcut),children:j.shortcut}):null]})})]},j.id)})})}),window.document.body)}const Px=220,Xx=64,WN=14;function Jx({tabs:e,activeTabId:n,onSelectTab:a,onCloseTab:i,onCloseOtherTabs:c,onCloseTabsToRight:u,onCloseAllTabs:f,onMoveTab:m,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:y,onSaveAllTabs:w,onSelectRecentTab:j,editorTheme:T,menuAppearance:E,canSaveFiles:O=!1,minHeight:U}){const _=e.length>0,[A,$]=p.useState(null),[Z,X]=p.useState(null),[W,K]=p.useState(null),[ne,ie]=p.useState({left:!1,right:!1}),[le,pe]=p.useState(0),de=p.useRef(null),ge=p.useRef(null),we=p.useMemo(()=>e.find(I=>I.id===n)??e[0]??null,[e,n]),B=p.useMemo(()=>e.filter(I=>I.pinned),[e]),ee=p.useMemo(()=>e.filter(I=>!I.pinned),[e]),xe=p.useMemo(()=>e.slice().sort((I,Ne)=>I.id.localeCompare(Ne.id)),[e]),oe=p.useMemo(()=>e.filter(I=>I.status==="ready"&&I.content!==I.initialContent),[e]).length>0,N=vE(xE(gh,{activationConstraint:{distance:5}}));p.useEffect(()=>{if(!_)return;const I=Ne=>{if(!(Ne.ctrlKey||Ne.metaKey))return;if(Ne.key.toLowerCase()==="w"){if(!n)return;Ne.preventDefault(),i(n);return}if(Ne.key==="Tab"){if(e.length<2)return;Ne.preventDefault(),j(Ne.shiftKey?"backward":"forward");return}const ke=Ze=>{if(e.length<2)return;const Oe=e.findIndex(tt=>tt.id===n),Fe=((Oe>=0?Oe:0)+Ze+e.length)%e.length,et=e[Fe];et&&a(et.id)};if(Ne.key==="PageUp"){Ne.preventDefault(),ke(-1);return}Ne.key==="PageDown"&&(Ne.preventDefault(),ke(1))};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[_,e,n,i,a,j]),p.useEffect(()=>{A&&(e.some(I=>I.id===A.tabId)||$(null))},[A,e]);const V=I=>{K(String(I.active.id))},z=I=>{const Ne=I.active.id,ke=I.over?.id;if(!ke){K(null);return}if(Ne!==ke){const Ze=e.findIndex(Ae=>Ae.id===Ne),Oe=e.findIndex(Ae=>Ae.id===ke);if(Ze!==-1&&Oe!==-1){const Ae=Ze<Oe?Oe+1:Oe,et=e[Oe]?.pinned?"pinned":"regular";m(String(Ne),Ae,{zone:et})}}K(null)},R=()=>{K(null)},Q=p.useCallback(()=>{const I=de.current;if(!I){ie({left:!1,right:!1});return}const{scrollLeft:Ne,scrollWidth:ke,clientWidth:Ze}=I;ie({left:Ne>2,right:Ne+Ze<ke-2})},[]);p.useEffect(()=>{const I=de.current;if(!I){ie({left:!1,right:!1});return}Q();const Ne=()=>Q();I.addEventListener("scroll",Ne),window.addEventListener("resize",Q);const ke=typeof ResizeObserver<"u"?new ResizeObserver(Q):null;return ke?.observe(I),()=>{I.removeEventListener("scroll",Ne),window.removeEventListener("resize",Q),ke?.disconnect()}},[e.length,Q]),p.useEffect(()=>{if(!W){pe(0);return}const I=Ne=>{const ke=de.current;if(!ke){pe(0);return}const Ze=ke.getBoundingClientRect();Ne.clientX<Ze.left+Xx?pe(-1):Ne.clientX>Ze.right-Xx?pe(1):pe(0)};return window.addEventListener("pointermove",I),()=>{window.removeEventListener("pointermove",I),pe(0)}},[W]),p.useEffect(()=>{if(!W||le===0)return;let I;const Ne=()=>{const ke=de.current;ke&&(ke.scrollBy({left:le*WN}),I=window.requestAnimationFrame(Ne))};return I=window.requestAnimationFrame(Ne),()=>{window.cancelAnimationFrame(I)}},[le,W]),p.useEffect(()=>{if(!n)return;const I=de.current;if(!I)return;const Ne=`[data-tab-id="${c2(n)}"]`;I.querySelector(Ne)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!A)return[];const I=e.find(tt=>tt.id===A.tabId);if(!I)return[];const Ne=e.findIndex(tt=>tt.id===A.tabId),ke=Ne>=0&&Ne<e.length-1,Ze=e.length>1,Oe=I.status==="ready"&&I.content!==I.initialContent,Ae=!!y&&O&&Oe&&!I.saving,Fe=!!w&&O&&oe,et={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:I.saving?"Saving":"Save",icon:l.jsx(XN,{}),disabled:!Ae,shortcut:et.save,onSelect:()=>y?.(I.id)},{id:"save-all",label:"Save All",icon:l.jsx(JN,{}),disabled:!Fe,shortcut:et.saveAll,onSelect:()=>w?.()},{id:"pin",label:I.pinned?"Unpin":"Pin",icon:I.pinned?l.jsx(a2,{}):l.jsx(n0,{}),dividerAbove:!0,onSelect:()=>I.pinned?x(I.id):g(I.id)},{id:"close",label:"Close",icon:l.jsx(e2,{}),dividerAbove:!0,shortcut:et.close,onSelect:()=>i(I.id)},{id:"close-others",label:"Close Others",icon:l.jsx(t2,{}),disabled:!Ze,shortcut:et.closeOthers,onSelect:()=>c(I.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(n2,{}),disabled:!ke,shortcut:et.closeRight,onSelect:()=>u(I.id)},{id:"close-all",label:"Close All",icon:l.jsx(s2,{}),dividerAbove:!0,disabled:e.length===0,shortcut:et.closeAll,onSelect:()=>f()}]},[A,e,oe,O,g,x,i,c,u,f,y,w]),me=p.useMemo(()=>{if(!_)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const I=[],Ne=(ke,Ze)=>{I.push({id:`switch-${ke.id}`,label:ke.name,icon:ke.pinned?l.jsx(n0,{}):l.jsx(r2,{}),shortcut:ke.id===n?"Active":void 0,dividerAbove:Ze,onSelect:()=>a(ke.id)})};return B.forEach(ke=>Ne(ke,!1)),ee.forEach((ke,Ze)=>Ne(ke,Ze===0&&B.length>0)),I},[_,B,ee,n,a]),be=I=>{de.current?.scrollBy({left:I,behavior:"smooth"})},Ee=()=>{if(typeof window>"u")return;const I=ge.current?.getBoundingClientRect();I&&X({x:I.left,y:I.bottom+6})};return!_||!we?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:U?{minHeight:U}:void 0,children:[l.jsxs(lh,{value:we.id,onValueChange:a,children:[l.jsx(SN,{sensors:N,collisionDetection:jE,onDragStart:V,onDragEnd:z,onDragCancel:R,children:l.jsx(ON,{items:e.map(I=>I.id),strategy:RN,children:l.jsxs("div",{className:"flex items-center gap-1 border-b border-slate-200 bg-slate-900/5 px-1",children:[l.jsx(e0,{direction:"left",disabled:!ne.left,onClick:()=>be(-Px)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[ne.left?l.jsx(t0,{position:"left"}):null,ne.right?l.jsx(t0,{position:"right"}):null,l.jsx("div",{ref:de,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:I=>{Math.abs(I.deltaY)>Math.abs(I.deltaX)&&(I.preventDefault(),de.current?.scrollBy({left:I.deltaY}))},children:l.jsx(oh,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(I=>{const Ne=I.status==="ready"&&I.content!==I.initialContent,ke=I.id===we.id;return l.jsx(YN,{tab:I,isActive:ke,isDirty:Ne,draggingId:W,onContextMenu:Ze=>{Ze.preventDefault(),$({tabId:I.id,x:Ze.clientX,y:Ze.clientY})},onCloseTab:i},I.id)})})})]}),l.jsx(e0,{direction:"right",disabled:!ne.right,onClick:()=>be(Px)}),l.jsx("button",{ref:ge,type:"button",className:"mx-1 flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition hover:bg-white hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","aria-label":"Open editors list",onClick:Ee,children:l.jsx(o2,{})})]})})}),xe.map(I=>l.jsx(kr,{value:I.id,className:"flex min-h-0 min-w-0 flex-1",children:I.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",I.name,""]}):I.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:I.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>a(I.id),children:"Retry loading"})]}):l.jsx("div",{className:ve("flex min-h-0 min-w-0 flex-1",W&&"pointer-events-none select-none"),children:l.jsx(QN,{value:I.content,language:I.language??"plaintext",path:I.id,theme:T,onChange:Ne=>b(I.id,Ne??""),onSaveShortcut:()=>{O&&y?.(I.id)}})})},I.id))]}),l.jsx(Ql,{open:!!A,position:A&&{x:A.x,y:A.y},onClose:()=>$(null),items:F,appearance:E}),l.jsx(Ql,{open:!!Z,position:Z,onClose:()=>X(null),items:me,appearance:E})]})}function YN({tab:e,isActive:n,isDirty:a,draggingId:i,onContextMenu:c,onCloseTab:u}){const{attributes:f,listeners:m,setNodeRef:g,transform:x,transition:b,isDragging:y}=HN({id:e.id}),w={transform:Vl.Transform.toString(x),transition:b},j=y||i===e.id,T=!!e.pinned;return l.jsxs("div",{ref:g,style:w,className:ve("group relative mr-1 flex min-w-0 items-stretch",j&&"opacity-60"),"data-editor-tab":"true",onContextMenu:c,onMouseDown:E=>{E.button===1&&(E.preventDefault(),u(e.id))},...f,...m,children:[l.jsxs(Ml,{value:e.id,"data-tab-id":e.id,title:e.id,className:ve("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",T?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[T?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(KN,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(PN,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,a?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:ve("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:E=>{E.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function e0({direction:e,disabled:n,onClick:a}){return l.jsx("button",{type:"button",className:ve("flex h-8 w-8 items-center justify-center rounded-md text-slate-500 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",n?"cursor-default opacity-30":"hover:bg-white hover:text-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5"),onClick:a,disabled:n,"aria-label":e==="left"?"Scroll tabs left":"Scroll tabs right",children:e==="left"?l.jsx(i2,{}):l.jsx(l2,{})})}function t0({position:e}){return l.jsx("div",{className:ve("pointer-events-none absolute top-0 bottom-0 w-8",e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent")})}function KN({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}const xa="h-4 w-4 text-current opacity-80";function PN(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function XN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function JN(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function e2(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function t2(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function n2(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function s2(){return l.jsxs("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function n0(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function a2(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function r2(){return l.jsx("svg",{className:xa,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function i2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function l2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function o2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function c2(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}const fb={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},u2={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function s0(e){const n=new Set,a=i=>{n.add(i.id),i.children?.forEach(c=>{c.kind==="folder"&&a(c)})};return a(e),n}function d2({width:e,tree:n,activeFileId:a,openFileIds:i,onSelectFile:c,theme:u,canCreateFile:f=!1,isCreatingFile:m=!1,onCreateFile:g,canDeleteFile:x=!1,deletingFilePath:b=null,onDeleteFile:y,onCloseFile:w,onCloseOtherFiles:j,onCloseTabsToRight:T,onCloseAllFiles:E,onHide:O}){const[U,_]=p.useState(()=>s0(n)),[A,$]=p.useState(null),[Z,X]=p.useState(null),[W,K]=p.useState(null),ne=Z?.folderId??null;p.useEffect(()=>{_(s0(n))},[n]);const ie=p.useCallback(oe=>{_(N=>{const V=new Set(N);return V.has(oe)?V.delete(oe):V.add(oe),V})},[]),le=p.useCallback((oe,N)=>{_(V=>{const z=new Set(V);return N?z.add(oe):oe!==n.id&&z.delete(oe),z.has(n.id)||z.add(n.id),z})},[n.id]),pe=p.useCallback(()=>{_(new Set([n.id]))},[n.id]),de=p.useMemo(()=>n.children??[],[n]),ge=u==="dark"?"dark":"light",we=p.useCallback((oe,N)=>{oe.preventDefault(),$({node:N,position:{x:oe.clientX,y:oe.clientY}})},[]),B=p.useCallback(async oe=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(oe);return}catch{}if(typeof document>"u")return;const N=document.createElement("textarea");N.value=oe,N.setAttribute("readonly","true"),N.style.position="absolute",N.style.left="-9999px",document.body.appendChild(N),N.select(),document.execCommand("copy"),document.body.removeChild(N)},[]),ee=p.useMemo(()=>{if(!A)return[];const oe=A.node,N={open:"Enter",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(oe.kind==="file"){const z=i.includes(oe.id),R=i.length,Q=i.indexOf(oe.id),F=Q>=0&&Q<R-1;return[{id:"open-file",label:"Open",icon:l.jsx(x2,{}),shortcut:N.open,onSelect:()=>c(oe.id)},{id:"close-file",label:"Close",icon:l.jsx(w2,{}),disabled:!z,shortcut:N.close,onSelect:()=>w(oe.id)},{id:"close-file-others",label:"Close Others",icon:l.jsx(S2,{}),disabled:!z||R<=1,shortcut:N.closeOthers,onSelect:()=>j(oe.id)},{id:"close-file-right",label:"Close Tabs to the Right",icon:l.jsx(j2,{}),disabled:!z||!F,shortcut:N.closeRight,onSelect:()=>T(oe.id)},{id:"close-file-all",label:"Close All",dividerAbove:!0,disabled:R===0,icon:l.jsx(E2,{}),shortcut:N.closeAll,onSelect:()=>E()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(r0,{}),shortcut:N.copyPath,onSelect:()=>{B(oe.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(N2,{}),shortcut:N.delete,disabled:!x||!y,onSelect:()=>{y&&(y(oe.id),$(null))}}]}const V=U.has(oe.id);return[{id:"new-file",label:"New File",icon:l.jsx(mb,{}),disabled:!f||!g,onSelect:()=>{!f||!g||(K(null),le(oe.id,!0),X({folderId:oe.id}),$(null))}},{id:"toggle-folder",label:V?"Collapse Folder":"Expand Folder",icon:V?l.jsx(v2,{}):l.jsx(b2,{}),onSelect:()=>le(oe.id,!V)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(y2,{}),shortcut:N.collapseAll,dividerAbove:!0,onSelect:()=>pe()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(r0,{}),shortcut:N.copyPath,onSelect:()=>{B(oe.id)}}]},[A,i,c,w,j,T,E,B,U,le,pe,f,g,x,y,K,X,$]),xe=fb[u],Se=u2[u];return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:xe.surface,borderColor:xe.border,color:xe.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:xe.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:xe.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:O,"aria-label":"Hide explorer",className:ve("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(g2,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[de.map(oe=>l.jsx(hb,{node:oe,depth:0,expanded:U,activeFileId:a,openFileIds:i,onToggleFolder:ie,onSelectFile:c,tokens:xe,focusRingClass:Se,onContextMenu:we,canCreateFile:f,isCreatingFile:m,pendingCreateFolderId:ne,createError:W,onSubmitCreateFile:async(N,V)=>{if(g){K(null);try{await g(N,V),X(null)}catch(z){const R=z instanceof Error?z.message:"Unable to create file.";K(R)}}},onCancelCreateFile:()=>{X(null),K(null)},canDeleteFile:x,deletingFilePath:b,onDeleteFile:y},oe.id)),ne&&!de.some(oe=>oe.id===ne)?l.jsx("li",{className:"pl-2",children:l.jsx(pb,{appearance:u,onSubmit:oe=>{g&&(K(null),g("",oe).then(()=>X(null),N=>K(N instanceof Error?N.message:"Unable to create file.")))},onCancel:()=>{X(null),K(null)},isSubmitting:m,error:W})}):null]})})]}),l.jsx(Ql,{open:!!A,position:A&&A.position,onClose:()=>$(null),items:ee,appearance:ge})]})}function hb({node:e,depth:n,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:E,canDeleteFile:O,deletingFilePath:U,onDeleteFile:_}){const $={paddingLeft:8+n*16,"--tree-hover-bg":m.rowHover};if(e.kind==="folder"){const ne=a.has(e.id),ie={...$,color:ne?m.textPrimary:m.textMuted};return ne&&m.folderActiveBg!=="transparent"&&(ie.backgroundColor=m.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:le=>x(le,e),className:ve("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",g),style:ie,"aria-expanded":ne,children:[l.jsx(h2,{open:ne,tokens:m}),l.jsx(m2,{open:ne,tokens:m}),l.jsx("span",{className:"truncate",children:e.name})]}),ne&&(e.children?.length||w===e.id)?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(le=>l.jsx(hb,{node:le,depth:n+1,expanded:a,activeFileId:i,openFileIds:c,onToggleFolder:u,onSelectFile:f,tokens:m,focusRingClass:g,onContextMenu:x,canCreateFile:b,isCreatingFile:y,pendingCreateFolderId:w,createError:j,onSubmitCreateFile:T,onCancelCreateFile:E,canDeleteFile:O,deletingFilePath:U,onDeleteFile:_},le.id)),w===e.id?l.jsx("li",{className:"pl-2",children:l.jsx(pb,{appearance:m===fb.dark?"dark":"light",onSubmit:le=>T(e.id,le),onCancel:E,isSubmitting:y,error:j})}):null]}):null]})}const Z=i===e.id,X=c.includes(e.id),W=f2(e.name,e.language),K={...$,color:m.textPrimary};return Z&&(K.backgroundColor=m.selectionBg,K.color=m.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>f(e.id),onContextMenu:ne=>x(ne,e),className:ve("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",g,Z&&"shadow-inner shadow-[#00000033]",U===e.id&&"opacity-60"),style:K,disabled:U===e.id,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(p2,{className:W})}),l.jsx("span",{className:"flex-1 truncate",children:e.name}),Z?l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m.badgeActive},children:"Active"}):X?l.jsx("span",{className:"text-[9px] uppercase tracking-wide",style:{color:m.badgeOpen},children:"Open"}):null]})})}const a0={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function f2(e,n){if(n==="python")return"text-sky-300";const a=e.toLowerCase().split("."),i=a.length>1?a.pop()??"":"";return i&&a0[i]?a0[i]:"text-slate-400"}function h2({open:e,tokens:n}){return l.jsx("svg",{className:ve("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function m2({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function p2({className:e}){return l.jsxs("svg",{className:ve("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function g2(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const qs="h-4 w-4 text-current opacity-80";function x2(){return l.jsx("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function r0(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function v2(){return l.jsx("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function mb(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function b2(){return l.jsx("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function y2(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function w2(){return l.jsx("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function S2(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function j2(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function E2(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h3.5a1 1 0 0 1 1 1V13M12.5 11.5h-3.5a1 1 0 0 1-1-1V3",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("path",{d:"M4.5 6.5l7 7m0-7-7 7",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function N2(){return l.jsxs("svg",{className:qs,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function pb({appearance:e,onSubmit:n,onCancel:a,isSubmitting:i,error:c}){const[u,f]=p.useState(""),m=p.useRef(null);p.useEffect(()=>{m.current?.focus(),m.current?.select()},[]);const g=e==="dark"?"text-slate-300":"text-slate-600",x=e==="dark"?"#232323":"#e8e8e8",b=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:x,borderColor:b},onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:l.jsx(mb,{})}),l.jsx("input",{ref:m,value:u,onChange:y=>f(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),n(u.trim())),y.key==="Escape"&&(y.preventDefault(),a())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:"new_file.py",disabled:i}),l.jsx("button",{type:"button",className:ve("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",i?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:()=>n(u.trim()),disabled:i,children:i?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:a,disabled:i,children:"Cancel"})]}),l.jsx("div",{className:ve("mt-1 text-[11px]",g),children:"Enter a name and press Enter. Escape to cancel."}),c?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:c}):null]})}function _2({width:e,file:n}){if(!n)return null;const a=n.status==="ready"&&n.content!==n.initialContent,i=n.metadata;return l.jsxs("aside",{className:"flex h-full min-h-0 flex-shrink-0 flex-col border-l border-slate-200 bg-slate-50",style:{width:e},children:[l.jsx("header",{className:"border-b border-slate-200 px-3 py-2",children:l.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Inspector"})}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-auto px-3 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"File"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Name"}),l.jsx("dd",{className:"text-slate-700",children:n.name})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Path"}),l.jsx("dd",{className:"break-words text-slate-700",children:n.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Language"}),l.jsx("dd",{className:"text-slate-700",children:n.language??"plain text"})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Metadata"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Size"}),l.jsx("dd",{className:"text-slate-700",children:C2(i?.size)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Last modified"}),l.jsx("dd",{className:"text-slate-700",children:k2(i?.modifiedAt)})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Content type"}),l.jsx("dd",{className:"text-slate-700",children:i?.contentType??""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"ETag"}),l.jsx("dd",{className:"break-words text-slate-700",children:i?.etag??""})]})]})]}),l.jsxs("section",{className:"space-y-2 text-xs",children:[l.jsx("h3",{className:"text-[0.7rem] font-semibold uppercase tracking-wide text-slate-500",children:"Editor"}),l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Load status"}),l.jsx("dd",{className:"text-slate-700 capitalize",children:n.status})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"font-medium text-slate-500",children:"Dirty"}),l.jsx("dd",{className:"text-slate-700",children:a?"Yes":"No"})]})]})]}),l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:"The inspector stays in sync with the active tab. Future work can hydrate this panel with schema-aware helpers and quick actions without reworking the layout."})]})]})}function C2(e){if(e==null)return"";if(e<1024)return`${e} B`;const n=["KB","MB","GB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a.toFixed(a>=10?0:1)} ${n[i]}`}function k2(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function bf({orientation:e,onPointerDown:n}){const a=e==="vertical";return l.jsx("div",{role:"separator","aria-orientation":e,className:a?"w-1 cursor-col-resize select-none bg-transparent":"h-1 cursor-row-resize select-none bg-transparent",style:{touchAction:"none"},onPointerDown:n,children:l.jsx("span",{className:"sr-only",children:"Resize panel"})})}const T2={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function A2(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",a=e.entries.length>0;if(!n&&!a)return null;const i=Ll(n),c={id:n,name:i0(n),kind:"folder",children:[]},u=new Map([[n,c]]),f=g=>{if(g.length===0)return c;const x=Ll(g),b=x===i?n:x,y=u.get(b);if(y)return y;const w={id:b,name:i0(b),kind:"folder",children:[]};u.set(b,w);const j=b===n?"":R2(b)??n,T=f(j);return yf(T,w),w},m=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of m){const x=g.parent&&g.parent.length>0?Ll(g.parent):n,b=f(x);if(g.kind==="dir"){const w=f(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&yf(b,w);continue}const y={id:g.path,name:g.name,kind:"file",language:M2(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,y),yf(b,y)}return c}function yf(e,n){const a=e.children??[],i=a.some(c=>c.id===n.id)?a.map(c=>c.id===n.id?n:c):[...a,n];e.children=i.sort(D2)}function D2(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function M2(e){const n=e.toLowerCase(),a=n.lastIndexOf(".");if(a===-1)return;const i=n.slice(a+1);return T2[i]}function i0(e){const n=Ll(e);if(!n)return"";const a=n.lastIndexOf("/");return a>=0?n.slice(a+1):n}function R2(e){const n=Ll(e);if(!n)return;const a=n.lastIndexOf("/");return a===-1?"":n.slice(0,a)}function Ll(e){return e?e.replace(/\/+$/,""):""}function Ws(e,n){if(e.id===n)return e;if(!e.children)return null;for(const a of e.children){const i=Ws(a,n);if(i)return i}return null}function gb(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const a=gb(n);if(a)return a}return null}function z2({tree:e,initialActiveFileId:n,loadFile:a,persistence:i}){const[c,u]=p.useState([]),[f,m]=p.useState(""),[g,x]=p.useState([]),[b,y]=p.useState(()=>!i),[w,j]=p.useState(!1),T=p.useRef(new Set),E=p.useRef([]),O=p.useRef(""),U=p.useRef([]),_=p.useCallback(z=>{m(R=>R===z?R:z),x(R=>{const Q=R.filter(me=>E.current.some(be=>be.id===me));if(!z)return Q;const F=Q.filter(me=>me!==z);return[z,...F]})},[]);p.useEffect(()=>{O.current=f},[f]),p.useEffect(()=>{U.current=g},[g]),p.useEffect(()=>{if(!e){u([]),m(""),x([]);return}u(R=>R.filter(Q=>!!Ws(e,Q.id)).map(Q=>{const F=Ws(e,Q.id);return!F||F.kind!=="file"?Q:{...Q,name:F.name,language:F.language,metadata:F.metadata}}));const z=O.current;(!z||!Ws(e,z))&&_("")},[e,_]);const A=p.useMemo(()=>c.find(z=>z.id===f)??c[0]??null,[f,c]),$=p.useCallback(async z=>{if(!E.current.some(Q=>Q.id===z))return;let R=!1;if(u(Q=>Q.map(F=>F.id!==z?F:F.status==="ready"?(R=!0,F):{...F,status:"loading",error:null})),!R)try{const Q=await a(z);u(F=>F.map(me=>me.id===z?{...me,initialContent:Q.content,content:Q.content,status:"ready",error:null,etag:Q.etag??null,saving:!1,saveError:null}:me))}catch(Q){const F=Q instanceof Error?Q.message:"Unable to load file.";u(me=>me.map(be=>be.id===z?{...be,status:"error",error:F}:be))}},[a]),Z=p.useCallback((z,R)=>{if(!e)return;const Q=Ws(e,z);!Q||Q.kind!=="file"||(u(F=>{if(F.some(be=>be.id===z))return F;const me={id:Q.id,name:Q.name,language:Q.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:Q.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...F,me]}),(R?.activate??!0)&&_(z))},[e,_]);p.useEffect(()=>{if(b||!i||!e){i||y(!0);return}const z=i.get(),Q=(z?.openTabs??[]).map(F=>typeof F=="string"?{id:F,pinned:!1}:F).filter(F=>!!(F&&F.id));if(Q.length>0){const F=[];for(const me of Q){const be=Ws(e,me.id);!be||be.kind!=="file"||F.push({id:be.id,name:be.name,language:be.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:be.metadata,pinned:!!me.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(F.length>0){u(F);const me=(z?.activeTabId&&F.some(I=>I.id===z.activeTabId)?z.activeTabId:F[0]?.id)??"";m(me);const Ee=(z?.mru&&z.mru.length>0?z.mru:F.map(I=>I.id)).filter(I=>F.some(Ne=>Ne.id===I));x(Ee),j(!0)}}y(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(c.length>0){w||j(!0);return}if(w)return;const z=n&&Ws(e,n)||gb(e);if(!z){j(!0);return}Z(z.id),j(!0)},[e,n,Z,b,c.length,w]);const X=p.useCallback(z=>{Z(z)},[Z]),W=p.useCallback(z=>{_(z),u(R=>R.map(Q=>Q.id===z&&Q.status==="error"?{...Q,status:"loading",error:null}:Q))},[_]),K=p.useCallback(z=>{u(R=>{const Q=R.filter(be=>be.id!==z),F=O.current,me=F===z?Q[Q.length-1]?.id??"":Q.some(be=>be.id===F)?F:Q[Q.length-1]?.id??"";return _(me),Q})},[_]),ne=p.useCallback(z=>{u(R=>!R.some(Q=>Q.id===z)||R.length<=1?R:(_(z),R.filter(Q=>Q.id===z)))},[_]),ie=p.useCallback(z=>{u(R=>{const Q=R.findIndex(be=>be.id===z);if(Q===-1||Q===R.length-1)return R;const F=R.slice(0,Q+1),me=F.some(be=>be.id===O.current)?O.current:z;return _(me),F})},[_]),le=p.useCallback(()=>{u([]),m(""),x([])},[]),pe=p.useCallback((z,R,Q)=>{u(F=>{if(F.length<=1)return F;const me=F.findIndex(Oe=>Oe.id===z);if(me===-1)return F;const be=Math.max(0,Math.min(R,F.length));let Ee=be;me<be&&(Ee-=1);const I=[],Ne=[];let ke=null;if(F.forEach((Oe,Ae)=>{if(Ae===me){ke=Oe;return}Oe.pinned?I.push(Oe):Ne.push(Oe)}),!ke)return F;if((Q?.zone??(Ee<=I.length?"pinned":"regular"))==="pinned"){const Oe=Math.max(0,Math.min(Ee,I.length));I.splice(Oe,0,{...ke,pinned:!0})}else{const Oe=Math.max(0,Math.min(Ee-I.length,Ne.length));Ne.splice(Oe,0,{...ke,pinned:!1})}return[...I,...Ne]})},[]),de=p.useCallback(z=>{u(R=>{const Q=[],F=[];let me=null;for(const Ee of R){if(Ee.id===z){me=Ee;continue}Ee.pinned?Q.push(Ee):F.push(Ee)}if(!me||me.pinned)return R;const be={...me,pinned:!0};return[...Q,be,...F]})},[]),ge=p.useCallback(z=>{u(R=>{const Q=[],F=[];let me=null;for(const Ee of R){if(Ee.id===z){me=Ee;continue}Ee.pinned?Q.push(Ee):F.push(Ee)}if(!me||!me.pinned)return R;const be={...me,pinned:!1};return[...Q,be,...F]})},[]),we=p.useCallback((z,R)=>{R?de(z):ge(z)},[de,ge]),B=p.useCallback(z=>{const R=U.current.filter(Ne=>E.current.some(ke=>ke.id===Ne));if(R.length<=1)return;const Q=O.current||R[0],F=R.indexOf(Q),Ee=((F>=0?F:0)+(z==="forward"?1:-1)+R.length)%R.length,I=R[Ee];I&&I!==Q&&_(I)},[_]),ee=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id===z?{...F,content:R,status:F.status==="ready"?F.status:"ready",error:null,saveError:null}:F))},[]),xe=p.useCallback(z=>{u(R=>R.map(Q=>Q.id===z?{...Q,saving:!0,saveError:null}:Q))},[]),Se=p.useCallback((z,R)=>{u(Q=>Q.map(F=>{if(F.id!==z)return F;const me=R?.metadata??F.metadata??null,be=R?.etag??F.etag??null;return{...F,saving:!1,saveError:null,initialContent:F.content,etag:be,metadata:me&&{...me,etag:me.etag??be??null},lastSavedAt:new Date().toISOString()}}))},[]),oe=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id===z?{...F,saving:!1,saveError:R}:F))},[]),N=p.useCallback((z,R)=>{u(Q=>Q.map(F=>F.id!==z?F:{...F,content:R.content,initialContent:R.content,status:"ready",error:null,saving:!1,saveError:null,etag:R.etag??F.etag??null,metadata:R.metadata??F.metadata}))},[]),V=p.useMemo(()=>c.some(z=>z.status==="ready"&&z.content!==z.initialContent),[c]);return p.useEffect(()=>{E.current=c},[c]),p.useEffect(()=>{x(z=>{const R=z.filter(Q=>c.some(F=>F.id===Q));return R.length===z.length?z:R})},[c]),p.useEffect(()=>{const z=new Set(c.map(R=>R.id));for(const R of T.current)z.has(R)||T.current.delete(R);for(const R of c){if(R.status!=="loading"||T.current.has(R.id))continue;T.current.add(R.id),$(R.id).finally(()=>{T.current.delete(R.id)})}},[c,$]),p.useEffect(()=>{if(!i||!b)return;const z=[f,...g].filter(R=>!!R).filter((R,Q,F)=>F.indexOf(R)===Q).filter(R=>c.some(Q=>Q.id===R));i.set({openTabs:c.map(R=>({id:R.id,pinned:!!R.pinned})),activeTabId:f||null,mru:z})},[i,c,f,g,b]),{tree:e,tabs:c,activeTabId:f,activeTab:A,openFile:X,selectTab:W,closeTab:K,closeOtherTabs:ne,closeTabsToRight:ie,closeAllTabs:le,moveTab:pe,pinTab:de,unpinTab:ge,toggleTabPin:we,selectRecentTab:B,updateContent:ee,beginSavingTab:xe,completeSavingTab:Se,failSavingTab:oe,replaceTabContent:N,isDirty:V}}function xb(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[a,i]of Object.entries(e)){if(i==null)continue;const c=Array.isArray(i)?i:[i];for(const u of c)u!=null&&n.append(a,String(u))}return n}const vb=p.createContext(null);function O2({value:e,children:n}){return p.createElement(vb.Provider,{value:e},n)}function xh(){const e=p.useContext(vb),n=Es(),a=An(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),c=p.useCallback((u,f)=>{const m=typeof u=="function"?u(new URLSearchParams(i)):u,x=xb(m).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;a(b,{replace:f?.replace})},[n.hash,n.pathname,a,i]);return[e?.params??i,e?.setSearchParams??c]}const jr={tab:"editor",pane:"terminal",console:"closed",view:"editor"},L2=["tab","pane","console","view","file","path"];function U2(e){return e==="open"?"open":"closed"}function B2(e){return e==="runSummary"||e==="run-summary"||e==="summary"?"runSummary":e==="validation"||e==="problems"||e==="issues"?"problems":"terminal"}function q2(e){return e==="split"||e==="zen"?e:"editor"}function bb(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),a=n.get("tab"),i=n.get("pane"),c=n.get("console"),u=n.get("view"),f=n.get("file")??n.get("path");return{...{tab:a==="editor"?"editor":jr.tab,pane:B2(i),console:U2(c),view:q2(u),file:f??void 0},present:{tab:n.has("tab"),pane:n.has("pane"),console:n.has("console"),view:n.has("view"),file:n.has("file")||n.has("path")}}}function wf(e,n){const a=bb(e),i={...jr,...a,...n},c=new URLSearchParams(e);for(const u of L2)c.delete(u);return i.tab!==jr.tab&&c.set("tab",i.tab),i.pane!==jr.pane&&c.set("pane",i.pane),i.console!==jr.console&&c.set("console",i.console),i.view!==jr.view&&c.set("view",i.view),i.file&&i.file.length>0&&c.set("file",i.file),c}function $2(){const[e,n]=xh(),a=p.useMemo(()=>bb(e),[e]),i=p.useCallback(f=>{a.file===f||!f&&!a.present.file||n(m=>wf(m,{file:f??void 0}),{replace:!0})},[n,a.file,a.present.file]),c=p.useCallback(f=>{a.pane!==f&&n(m=>wf(m,{pane:f}),{replace:!0})},[n,a.pane]),u=p.useCallback(f=>{a.console!==f&&n(m=>wf(m,{console:f}),{replace:!0})},[n,a.console]);return{fileId:a.file??jr.file,pane:a.pane,console:a.console,consoleExplicit:a.present.console,setFileId:i,setPane:c,setConsole:u}}const Z2="You have unsaved changes in the config editor. Are you sure you want to leave?";function H2({isDirty:e,confirm:n=window.confirm,message:a=Z2,shouldBypassNavigation:i}){const c=Es(),u=p.useCallback(f=>!e||i?.()||f.location.pathname===c.pathname?!0:n(a),[n,e,c.pathname,a,i]);U1(u,e),p.useEffect(()=>{if(!e)return;const f=m=>(m.preventDefault(),m.returnValue=a,a);return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[e,a])}const l0="(prefers-color-scheme: dark)";function o0(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function V2(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function F2(e){const n=p.useMemo(()=>Ja(e),[e]),[a,i]=p.useState(()=>{const g=n.get();return o0(g)}),[c,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(l0).matches);p.useEffect(()=>{const g=o0(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(l0),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(a)},[a,n]);const f=p.useMemo(()=>V2(a,c),[a,c]),m=p.useCallback(g=>{i(g)},[]);return{preference:a,resolvedTheme:f,setPreference:m}}function Jn(e,n,a){return Math.min(Math.max(e,n),a)}function Sf(e,n){const{onMove:a,onEnd:i,cursor:c}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,f=e.currentTarget,m=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,y=!0;const w=O=>{if(y){if(y=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=m,document.body.style.userSelect=g,window.removeEventListener("pointermove",j),window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),f.removeEventListener("lostpointercapture",E),f.hasPointerCapture?.(u))try{f.releasePointerCapture(u)}catch{}i&&i(O)}},j=O=>{!y||O.pointerId!==u||(b=O,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&a(b)})))},T=O=>{O.pointerId===u&&w(O)},E=O=>{O.pointerId===u&&w(O)};c&&(document.body.style.cursor=c),document.body.style.userSelect="none";try{f.setPointerCapture(u)}catch{}window.addEventListener("pointermove",j),window.addEventListener("pointerup",T),window.addEventListener("pointercancel",T),f.addEventListener("lostpointercapture",E)}const Q2="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",I2="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function G2({label:e,icon:n,disabled:a,isLoading:i,highlight:c,className:u,primaryClassName:f,menuClassName:m,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(W2,{}),onPrimaryClick:y,onOpenMenu:w,onContextMenu:j}){const T=p.useRef(null),E=!!(a||i),O=U=>{if(E)return;U.preventDefault();const _=T.current?.getBoundingClientRect();if(_){w?.({x:_.left,y:_.bottom});return}w?.({x:U.clientX,y:U.clientY})};return l.jsxs("div",{role:"group",className:ve("inline-flex items-stretch rounded-md shadow-sm",c&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:j,children:[l.jsxs("button",{type:"button",title:g,disabled:E,className:ve(Q2,f),onClick:U=>{E||y?.(U)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:T,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:E,className:ve(I2,m),onClick:O,children:b})]})}function W2(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const Y2={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function _t({title:e,description:n,action:a,variant:i="empty",className:c}){return l.jsxs("div",{className:ve("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",c),children:[l.jsx("span",{"aria-hidden":"true",className:ve("mb-4 h-8 w-8 rounded-full border-current",Y2[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,a?l.jsx("div",{className:"mt-4",children:a}):null]})}const K2=new TextEncoder;async function P2(e,n={}){const{signal:a,page:i,pageSize:c,includeTotal:u}=n,f={};typeof i=="number"&&i>0&&(f.page=i),typeof c=="number"&&c>0&&(f.page_size=c),u&&(f.include_total=!0);const{data:m}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:f},signal:a});if(!m)throw new Error("Expected configuration page payload.");return m}async function X2(e,n,a){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:a});return i??null}async function J2(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/validate",{params:{path:{workspace_id:e,configuration_id:n}}});if(!a)throw new Error("Expected validation payload.");return a}async function e_(e,n,a={}){const{prefix:i,depth:c,include:u,exclude:f,limit:m,pageToken:g,sort:x,order:b,signal:y}=a,{data:w}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:c??"infinity",include:u?.length?[...u]:void 0,exclude:f?.length?[...f]:void 0,limit:m,page_token:g??void 0,sort:x,order:b}},signal:y,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function c0(e,n,a,i){const{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!c)throw new Error("Expected file payload.");return c}async function t_(e,n,a){const i=o_(a.path),c=a.parents?"?parents=1":"",u=await US(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${c}`,{method:"PUT",body:K2.encode(a.content),headers:{"Content-Type":"application/octet-stream",...a.create?{"If-None-Match":"*"}:a.etag?{"If-Match":a.etag}:{}}});if(!u.ok){const m=await c_(u),g=m?.title??`Request failed with status ${u.status}`;throw new ns(g,u.status,m)}const f=await u.json().catch(()=>({}));if(!f||!f.path)throw new Error("Expected write response payload.");return f}async function n_(e,n,a,i={}){await Ge.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:a}},headers:i.etag?{"If-Match":i.etag}:void 0})}function s_(e){return e.type==="template"?{type:"template",template_id:e.templateId.trim()}:{type:"clone",configuration_id:e.configurationId.trim()}}async function a_(e,n){const{data:a}=await Ge.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:s_(n.source)}});if(!a)throw new Error("Expected configuration payload.");return a}async function r_(e,n,a={}){const{signal:i}=a,{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/versions",{params:{path:{workspace_id:e,configuration_id:n}},signal:i});return c??[]}function i_(e){return e.find(n=>n.status==="active"||n.activated_at)??null}function l_(e){return e.filter(a=>a.status!=="active"&&!a.deleted_at).sort((a,i)=>new Date(i.created_at).getTime()-new Date(a.created_at).getTime())[0]??null}function o_(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function c_(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const rn={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...rn.root(e),"list",{...n}],detail:(e,n)=>[...rn.root(e),"detail",n],versions:(e,n)=>[...rn.detail(e,n),"versions"],version:(e,n,a)=>[...rn.detail(e,n),"version",a],scripts:(e,n,a)=>[...rn.version(e,n,a),"scripts"],script:(e,n,a,i)=>[...rn.scripts(e,n,a),"script",i],manifest:(e,n,a)=>[...rn.version(e,n,a),"manifest"],files:(e,n)=>[...rn.detail(e,n),"files"],file:(e,n,a)=>[...rn.files(e,n),"file",a]};function u_({workspaceId:e,configId:n,enabled:a=!0,...i}){const{prefix:c="",depth:u="infinity",include:f,exclude:m,limit:g,pageToken:x,sort:b="path",order:y="asc"}=i;return hn({queryKey:[...rn.files(e,n),c,u,f?.join("|")??"",m?.join("|")??"",g??"",x??"",b,y],queryFn:({signal:w})=>e_(e,n,{prefix:c,depth:u,include:f,exclude:m,limit:g,pageToken:x,sort:b,order:y,signal:w}),enabled:a&&e.length>0&&n.length>0,staleTime:5e3})}function d_(e,n){const a=xt();return Dn({mutationFn:i=>t_(e,n,i),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:rn.files(e,n)}),a.invalidateQueries({queryKey:rn.file(e,n,c.path)})])}})}function f_(e,n){const a=xt();return Dn({mutationFn:i=>n_(e,n,i.path,{etag:i.etag}),async onSuccess(i,c){await Promise.all([a.invalidateQueries({queryKey:rn.files(e,n)}),a.invalidateQueries({queryKey:rn.file(e,n,c.path)})])}})}function h_(e,n){return Dn({mutationFn:()=>J2(e,n)})}const m_=/\r?\n/,u0=new TextDecoder;async function*p_(e){const n=e.body;if(!n)throw new Error("Response body is not a readable stream.");const a=n.getReader();let i="";try{for(;;){const{value:u,done:f}=await a.read();if(f)break;for(i+=u0.decode(u,{stream:!0});;){const m=i.search(m_);if(m===-1)break;const g=i.slice(0,m);i=i.slice(m+(i[m]==="\r"?2:1));const x=g.trim();x&&(yield JSON.parse(x))}}i+=u0.decode();const c=i.trim();c&&(yield JSON.parse(c))}finally{a.releaseLock()}}async function*g_(e,n={},a){const i=`/configurations/${encodeURIComponent(e)}/runs`,c=await kv(i,{stream:!0,options:n},{parseJson:!1,returnRawResponse:!0,headers:{Accept:"application/x-ndjson"},signal:a});for await(const u of p_(c))yield u}async function yb(e,n){const{data:a}=await Ge.GET("/api/v1/runs/{run_id}/outputs",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run outputs unavailable");return a}async function wb(e,n){const a=await fetch(`/api/v1/runs/${encodeURIComponent(e)}/logfile`,{headers:{Accept:"application/x-ndjson"},signal:n});if(!a.ok)throw new Error("Run telemetry unavailable");return(await a.text()).split(/\r?\n/).filter(Boolean).map(c=>{try{return JSON.parse(c)}catch(u){return console.warn("Skipping invalid telemetry line",{error:u,line:c}),null}}).filter(c=>!!c)}async function Sb(e,n){const{data:a}=await Ge.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!a)throw new Error("Run not found");return a}async function jb(e,n){try{const{data:c}=await Ge.GET("/api/v1/runs/{run_id}/summary",{params:{path:{run_id:e}},signal:n});if(c)return c}catch(c){console.warn("Falling back to embedded run summary",c)}const i=(await Sb(e,n))?.summary;if(!i)return null;if(typeof i=="string")try{return JSON.parse(i)}catch(c){return console.warn("Unable to parse run summary",{error:c}),null}return i}const Sc={detail:e=>["run",e],outputs:e=>["run-outputs",e],telemetry:e=>["run-telemetry",e],summary:e=>["run-summary",e]};async function Eb(e,n,a){const{data:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:a});return i??[]}function Nb(e){return!!(e&&typeof e=="object"&&e.object==="ade.event"&&typeof e.type=="string")}function Ff(e){const n=e.created_at;if(n instanceof Date)return n.toISOString();if(typeof n=="string")return n;if(typeof n=="number"){const a=n>1e12?n:n*1e3;return new Date(a).toISOString()}return new Date().toISOString()}const x_={hour:"2-digit",minute:"2-digit",second:"2-digit"};function _i(e){const n=e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():e;if(!n)return"";const a=new Date(n);return Number.isNaN(a.getTime())?"":a.toLocaleTimeString([],x_)}function v_(e){if(!Nb(e))return{level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"};if(!e.type.startsWith("build."))return{level:"info",message:JSON.stringify(e),timestamp:_i(Ff(e)),origin:"build"};const n=_i(Ff(e));switch(e.type){case"build.created":{const a=e.reason??e.env?.reason??"queued";return{level:"info",message:`Build ${e.build_id??""} queued (${a}).`,timestamp:n,origin:"build"}}case"build.started":return{level:"info",message:"Build started.",timestamp:n,origin:"build"};case"build.phase.started":{const a=e.phase??"building";return{level:"info",message:e.message??a,timestamp:n,origin:"build"}}case"build.console":return _b(e,n);case"build.completed":return y_(e,n);default:return{level:"info",message:JSON.stringify(e),timestamp:n,origin:"build"}}}function b_(e){if(!Nb(e))return{level:"info",message:JSON.stringify(e),timestamp:"",origin:"raw"};const n=_i(Ff(e)),a=e.type;if(!a?.startsWith("run."))return{level:"info",message:JSON.stringify(e),timestamp:n,origin:"run"};switch(a){case"run.queued":return{level:"info",message:`Run ${e.run_id??""} queued${e.mode?` (${e.mode})`:""}.`,timestamp:n,origin:"run"};case"run.started":return{level:"info",message:`Run started${e.mode?` (${e.mode})`:""}.`,timestamp:n,origin:"run"};case"run.phase.started":{const i=e.phase??"progress";return{level:vh(e.level??"info"),message:`Phase: ${i}`,timestamp:n,origin:"run"}}case"run.table.summary":return{level:"info",message:`Table completed (${e.source_sheet??e.source_file??e.table_id??"table"})`,timestamp:n,origin:"run"};case"run.validation.issue":{const i=e.severity??"info";return{level:i==="error"?"error":i==="warning"?"warning":"info",message:`Validation issue${e.code?`: ${e.code}`:""}`,timestamp:n,origin:"run"}}case"run.console":return _b(e,n);case"run.completed":return w_(e,n);default:return{level:"info",message:JSON.stringify(e),timestamp:n,origin:"run"}}}function _b(e,n){const a=e.stream,i=e.level??(a==="stderr"?"warning":"info");return{level:vh(i),message:String(e.message??""),timestamp:n,origin:e.type?.startsWith("build.")?"build":"run"}}function y_(e,n){const a=e.status??e.env?.status,i=e.summary?.trim(),c=typeof e.execution=="object"&&e.execution!==null&&"exit_code"in e.execution&&typeof e.execution.exit_code=="number"?e.execution.exit_code:void 0,u=typeof e.exit_code=="number"?e.exit_code:c;if(a==="active")return{level:"success",message:i||"Build completed successfully.",timestamp:n,origin:"build"};if(a==="canceled")return{level:"warning",message:"Build was canceled before completion.",timestamp:n,origin:"build"};if(a==="failed"){const f=e.error?.message,m=typeof u=="number"?` (exit code ${u})`:"";return{level:"error",message:(f||i||"Build failed.")+m,timestamp:n,origin:"build"}}return{level:"info",message:i||`Build ${a??"completed"}.`,timestamp:n,origin:"build"}}function w_(e,n){const a=e.status??"completed",i=e.execution??{},c=typeof i.exit_code=="number"?i.exit_code:void 0,u=e.error?.message,f=vh(a==="failed"?"error":a==="canceled"?"warning":a==="succeeded"?"success":void 0),m=typeof c=="number"?` (exit code ${c})`:"",g=u||`Run ${a}`;return{level:f,message:`${g}${m}.`,timestamp:n,origin:"run"}}function vh(e){return e==="error"?"error":e==="warning"||e==="warn"?"warning":e==="success"?"success":"info"}const Cb=p.createContext(null),S_=6e3,j_=7e3,d0=4;function E_({children:e}){const[n,a]=p.useState([]),[i,c]=p.useState([]),u=p.useCallback(b=>{a(y=>y.filter(w=>w.id!==b)),c(y=>y.filter(w=>w.id!==b))},[]),f=p.useCallback(b=>{const y={kind:"toast",id:b.id??f0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?S_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return a(w=>{const T=[...y.persistKey?w.filter(E=>E.persistKey!==y.persistKey):w,y];return T.length>d0?T.slice(T.length-d0):T}),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),m=p.useCallback(b=>{const y={kind:"banner",id:b.id??f0(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:j_:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return c(w=>[...y.persistKey?w.filter(T=>T.persistKey!==y.persistKey):w,y]),typeof window<"u"&&y.duration&&y.duration>0&&window.setTimeout(()=>u(y.id),y.duration+50),y.id},[u]),g=p.useCallback((b,y)=>{b&&((!y||y==="toast")&&a(w=>w.filter(j=>j.scope!==b)),(!y||y==="banner")&&c(w=>w.filter(j=>j.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:f,pushBanner:m,dismiss:u,clearScope:g}),[n,i,f,m,u,g]);return l.jsxs(Cb.Provider,{value:x,children:[e,l.jsx(N_,{})]})}function kb(){const e=p.useContext(Cb);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function N_(){const{toasts:e,banners:n,dismiss:a}=kb(),[i,c]=p.useState(!1);return p.useEffect(()=>c(!0),[]),!i||typeof document>"u"?null:pa.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(C_,{banner:u,onDismiss:a},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,f)=>u.createdAt-f.createdAt).map(u=>l.jsx(__,{toast:u,onDismiss:a},u.id))})]}),document.body)}function __({toast:e,onDismiss:n}){const a=e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=k_[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:ve("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Ab(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(f=>l.jsx(Tb,{action:f,onPress:()=>{f.onSelect(),n(e.id)},appearance:"dark"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Db,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function C_({banner:e,onDismiss:n}){const a=!e.sticky&&e.duration!==null&&e.duration>0,[i,c]=p.useState(100);p.useEffect(()=>{if(!a||!e.duration)return;c(100);const f=requestAnimationFrame(()=>c(0)),m=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(f),window.clearTimeout(m)}},[a,e.duration,e.id,n]);const u=T_[e.intent];return l.jsxs("div",{className:ve("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:ve("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Ab(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(f=>l.jsx(Tb,{action:f,onPress:()=>{f.onSelect(),e.sticky||n(e.id)},appearance:"light"},f.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:ve("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Db,{})}):null]}),a&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:ve("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function Tb({action:e,onPress:n,appearance:a}){const i=e.variant??"secondary",c=a==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:ve("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":c),onClick:n,children:e.label})}function Ab(e){switch(e){case"success":return l.jsx(D_,{});case"warning":return l.jsx(M_,{});case"danger":return l.jsx(R_,{});default:return l.jsx(A_,{})}}const k_={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},T_={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function f0(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function A_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function D_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function M_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function R_(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Db(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function z_(){const e=kb();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,a)=>e.clearScope(n,a)}),[e])}const O_="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",er=p.forwardRef(({className:e,...n},a)=>l.jsx("select",{ref:a,className:ve(O_,e),...n}));er.displayName="Select";const L_={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},U_={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},ze=p.forwardRef(({type:e="button",variant:n="primary",size:a="md",isLoading:i=!1,className:c,children:u,disabled:f,...m},g)=>{const x=f||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:ve("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",L_[n],U_[a],c),...m,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});ze.displayName="Button";const B_={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function ut({tone:e="info",heading:n,icon:a,className:i,children:c,...u}){return l.jsxs("div",{role:"status",className:ve("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",B_[e],i),...u,children:[a?l.jsx("span",{"aria-hidden":"true",children:a}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,c?l.jsx("p",{className:"leading-relaxed",children:c}):null]})]})}const q_={min:200,max:420},$_={min:260,max:420},Z_=320,H_=120,jf=140,V_=220,jc=400,Al=4,F_=56,h0="Console closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",Q_=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,I_=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,G_=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,W_=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],Y_={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function Mb({workspaceId:e,configId:n,configName:a,seed:i,windowState:c,onMinimizeWindow:u,onMaximizeWindow:f,onRestoreWindow:m,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=xt(),{fileId:y,pane:w,console:j,consoleExplicit:T,setFileId:E,setPane:O,setConsole:U}=$2(),_=!!i,A=u_({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!_}),$=p.useMemo(()=>i?i.tree:A.data?A2(A.data):null,[i,A.data]),[Z,X]=p.useState(()=>i?.console?i.console.slice(-jc):[]);p.useEffect(()=>{i?.console&&X(i.console.slice(-jc))},[i?.console]);const[W,K]=p.useState(()=>({status:i?.validation?.length?"success":"idle",messages:i?.validation??[],lastRunAt:i?.validation?.length?new Date().toISOString():void 0,error:null,digest:null})),ne=p.useRef(null),ie=p.useRef(!0),[le,pe]=p.useState(null),[de,ge]=p.useState(null),[we,B]=p.useState(!1),ee=p.useCallback(H=>{if(!ie.current)return;const ce=_i(new Date);X([{level:"info",message:H,timestamp:ce,origin:"run"}])},[X]),xe=p.useCallback(H=>{ie.current&&X(ce=>{const Te=[...ce,H];return Te.length>jc?Te.slice(Te.length-jc):Te})},[X]);p.useEffect(()=>{i?.validation&&K({status:"success",messages:i.validation,lastRunAt:new Date().toISOString(),error:null,digest:null})},[i?.validation]),p.useEffect(()=>(ie.current=!0,()=>{ie.current=!1,ne.current?.abort()}),[]);const Se=h_(e,n),oe=p.useMemo(()=>i?null:Ja(Q_(e,n)),[e,n,i]),N=p.useMemo(()=>i?null:Ja(I_(e,n)),[e,n,i]),V=p.useRef(null);!V.current&&N&&(V.current=N.get()??null);const z=F2(G_(e,n)),R=z.resolvedTheme==="vs-light"?"light":"dark",Q=W.lastRunAt?`Last run ${fC(W.lastRunAt)}`:void 0,[F,me]=p.useState({collapsed:!1,fraction:280/1200}),[be,Ee]=p.useState({collapsed:!1,fraction:300/1200}),[I,Ne]=p.useState(null),[ke,Ze]=p.useState(!1),[Oe,Ae]=p.useState({width:0,height:0}),[Fe,et]=p.useState(null),[tt,Pt]=p.useState("explorer"),[D,k]=p.useState(null),[C,se]=p.useState(null),[J,ae]=p.useState(!1),[je,qe]=p.useState(!1),[He,vt]=p.useState(!1),[ye,_e]=p.useState(null),[Ve,yt]=p.useState(null),{notifyBanner:st,dismissScope:Xt}=z_(),wt=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),Ks=f_(e,n),St=p.useCallback((H,ce)=>{st({title:H,intent:ce?.intent??"info",duration:ce?.duration??6e3,dismissible:!0,scope:wt,persistKey:wt})},[st,wt]),va=p.useCallback(()=>{Xt(wt,"banner")},[Xt,wt]),Mn=p.useCallback(H=>{if(!ie.current)return;const ce=dC(H);xe({level:"error",message:ce,timestamp:_i(new Date),origin:"run"}),St(ce,{intent:"danger",duration:null})},[xe,St]),Bn=c==="maximized",jt=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,Dt=p.useCallback(()=>{g()},[g]),Ot=!F.collapsed,Rn=p.useCallback(async H=>{if(i)return{content:i.content[H]??"",etag:null};const ce=await b.fetchQuery({queryKey:rn.file(e,n,H),queryFn:({signal:Te})=>c0(e,n,H,Te)});if(!ce)throw new Error("File could not be loaded.");return{content:p0(ce),etag:ce.etag??null}},[i,b,e,n]),Ce=z2({tree:$,initialActiveFileId:y,loadFile:Rn,persistence:oe??void 0}),Ht=d_(e,n),yn=p.useCallback(async H=>{if(_)return null;const ce=await b.fetchQuery({queryKey:rn.file(e,n,H),queryFn:({signal:Le})=>c0(e,n,H,Le)}),Te=p0(ce);return Ce.replaceTabContent(H,{content:Te,etag:ce.etag??null,metadata:{size:ce.size??null,modifiedAt:ce.mtime??null,contentType:ce.content_type??Ce.tabs.find(Le=>Le.id===H)?.metadata?.contentType??null,etag:ce.etag??null}}),ce},[_,b,e,n,Ce]);H2({isDirty:Ce.isDirty,shouldBypassNavigation:x});const Vn=p.useCallback(()=>{u()},[u]),Vt=p.useCallback(()=>{Bn?m():f()},[Bn,f,m]),Mt=j!=="open",wn=p.useMemo(()=>Ce.tabs.filter(H=>H.status==="ready"&&H.content!==H.initialContent),[Ce.tabs]),Fn=Ce.tabs.some(H=>H.saving),Sn=!_&&wn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[F.collapsed,F.fraction,be.collapsed,be.fraction,Mt,I,Bn]);const zn=p.useCallback(async H=>{if(_)return!1;const ce=Ce.tabs.find(Te=>Te.id===H);if(!ce||ce.status!=="ready"||ce.content===ce.initialContent||ce.saving)return!1;Ce.beginSavingTab(H);try{const Te=await Ht.mutateAsync({path:ce.id,content:ce.content,etag:ce.etag??void 0,create:!ce.etag,parents:!0}),Le={size:Te.size??ce.metadata?.size??null,modifiedAt:Te.mtime??ce.metadata?.modifiedAt??null,contentType:ce.metadata?.contentType??null,etag:Te.etag??ce.metadata?.etag??null};return Ce.completeSavingTab(H,{etag:Te.etag??ce.etag??null,metadata:Le}),St(`Saved ${ce.name}`,{intent:"success",duration:4e3}),!0}catch(Te){const Le=Te instanceof ns&&Te.status===412,nt=Le?new Error("Save blocked because this file changed on the server. Reloading latest version."):Te;if(Ce.failSavingTab(H,nt instanceof Error?nt.message:String(nt)),Le)try{await yn(H),St("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Ut){Mn(Ut)}return Mn(nt),!1}},[_,Ce,Ht,St,yn,Mn]),Qn=p.useCallback(async H=>{const ce=[];for(const Te of H)await zn(Te)&&ce.push(Te);return ce},[zn]),_s=p.useCallback(H=>{zn(H)},[zn]),On=p.useCallback(()=>{Ce.activeTab&&zn(Ce.activeTab.id)},[Ce.activeTab,zn]),Jt=p.useCallback(()=>{if(!Sn)return;const H=wn.map(ce=>ce.id);(async()=>{const ce=await Qn(H);ce.length>1&&St(`Saved ${ce.length} files`,{intent:"success",duration:5e3})})()},[Sn,wn,Qn,St]);p.useEffect(()=>{const H=Fe;if(!H||typeof window>"u")return;const ce=()=>{const Le=H.getBoundingClientRect(),nt=Le.width,Ut=Le.height;Ae({width:nt,height:Ut}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(ce(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce);const Te=new window.ResizeObserver(()=>ce());return Te.observe(H),()=>Te.disconnect()},[Fe]);const Lt=Mt?Z_:H_,Ct=p.useMemo(()=>{const H=Math.max(0,Oe.height),Te=Math.max(0,H-Lt-Al),Le=Math.min(jf,Te);return{container:H,minPx:Le,maxPx:Te}},[Oe.height,Lt]),Oi=p.useCallback((H,ce=Ct)=>Jn(H,ce.minPx,ce.maxPx),[Ct]),ba=p.useCallback(()=>{const H=V.current;return H&&"version"in H&&H.version===2&&typeof H.fraction=="number"?Jn(H.fraction,0,1):H&&"height"in H&&typeof H.height=="number"&&Ct.container>0?Jn(H.height/Ct.container,0,1):.25},[Ct.container]);p.useEffect(()=>{I===null&&Ct.container>0&&Ne(ba())},[I,Ct.container,ba]);const ya=p.useCallback(()=>Ct.container>0&&Ct.maxPx<jf?(U("closed"),St(h0,{intent:"warning",duration:1e4}),!1):(va(),U("open"),Ne(H=>H!==null?Jn(H,0,1):ba()),!0),[Ct,U,St,va,ba]),Li=p.useCallback(()=>{U("closed"),va()},[U,va]);p.useEffect(()=>{if(ke)return;const H=V.current?.state;if(T||!H){Ze(!0);return}(H==="open"||H==="closed")&&H!==j&&U(H),Ze(!0)},[T,j,U,ke]),p.useEffect(()=>{!N||je||I===null||N.set({version:2,fraction:Jn(I,0,1),state:j})},[N,I,j,je]),p.useEffect(()=>{if(!(j!=="open"||!Ct.container)){if(Ct.maxPx<jf){U("closed"),St(h0,{intent:"warning",duration:1e4});return}Ne(H=>H===null?ba():Jn(H,0,1))}},[j,Ct,U,St,ba]);const $s=p.useCallback((H,ce)=>{if(H<=0)return{minPx:ce.min,maxPx:ce.max,minFrac:0,maxFrac:1};const Te=Math.min(ce.min,H),Le=Math.min(ce.max,H);return{minPx:Te,maxPx:Le,minFrac:Te/H,maxFrac:Le/H}},[]),cn=Math.max(0,Oe.width-F_),qn=p.useMemo(()=>$s(cn,q_),[cn,$s]),$n=p.useMemo(()=>$s(cn,$_),[cn,$s]),Cs=p.useCallback((H,ce)=>Jn(H,ce.minFrac,ce.maxFrac),[]);p.useEffect(()=>{cn<=0||(me(H=>{if(H.collapsed)return H;const ce=Cs(H.fraction,qn);return ce===H.fraction?H:{...H,fraction:ce}}),Ee(H=>{if(H.collapsed)return H;const ce=Cs(H.fraction,$n);return ce===H.fraction?H:{...H,fraction:ce}}))},[cn,qn,$n,Cs]);const Zs=!be.collapsed&&!!Ce.activeTab,Rt=F.collapsed?0:Jn(F.fraction,qn.minFrac,qn.maxFrac)*cn,sr=Zs?Jn(be.fraction,$n.minFrac,$n.maxFrac)*cn:0;let wa=Rt,ks=sr;if(cn>0){const H=(Ot?Al:0)+(Zs?Al:0),ce=Rt+sr+H;if(ce>cn){const Te=ce-cn,Le=Math.min(Te,Math.max(0,sr-$n.minPx));ks=sr-Le;const nt=Te-Le;if(nt>0){const Ut=Math.min(nt,Math.max(0,Rt-qn.minPx));wa=Rt-Ut}}}const jn=Math.max(0,Ct.container),so=I??(jn>0?Jn(V_/jn,0,1):.25),ao=Mt?0:so*jn,Lr=Mt?0:jn>0?Oi(ao):0,Ur=jn>0?Math.max(Lt,jn-Al-Lr):Lt;p.useEffect(()=>{const H=Ce.activeTabId;if(!H){E(void 0);return}E(H)},[Ce.activeTabId,E]),p.useEffect(()=>{!ye||!$||Ws($,ye)&&(Ce.openFile(ye),E(ye),_e(null))},[ye,$,Ce,E]);const Ps=p.useCallback((H,ce,Te=!1)=>{const Le=Te?{...H,force_rebuild:!0}:H;if(_||!$||A.isLoading||A.isError||le!==null||ce.mode==="validation"&&Se.isPending||!ya())return null;const nt=new Date,Ut=nt.toISOString();O("terminal"),ee(ce.mode==="validation"?"Starting ADE run (validate-only)":"Starting ADE extraction"),ce.mode==="validation"?K(kt=>({...kt,status:"running",lastRunAt:Ut,error:null})):ge(null);const Ft=new AbortController;return ne.current?.abort(),ne.current=Ft,pe({kind:"run",startedAt:Ut,metadata:ce}),(async()=>{let kt=null;try{for await(const Ln of g_(n,Le,Ft.signal)){const _a=Ln.type,En=typeof _a=="string"&&_a.startsWith("build.");if(xe(En?v_(Ln):b_(Ln)),!ie.current)return;if(!En&&_a?.startsWith("run.")&&(_a==="run.queued"&&(kt=Ln.run_id??Ln.id??null),_a==="run.completed")){const Nn=Ln.status??"succeeded",Zr=Ln.error?.message?.trim()||"ADE run failed.";if(St(Nn==="succeeded"?"ADE run completed successfully.":Nn==="canceled"?"ADE run canceled.":Zr,{intent:Nn==="succeeded"?"success":Nn==="canceled"?"info":"danger"}),ce.mode==="extraction"&&kt){const ir=new Date,Fi=ir.toISOString(),Xs=Math.max(0,ir.getTime()-nt.getTime()),Vr=`/api/v1/runs/${encodeURIComponent(kt)}`;ge({runId:kt,status:Nn,downloadBase:Vr,documentName:ce.documentName,sheetNames:ce.sheetNames??[],outputs:[],outputsLoaded:!1,summary:null,summaryLoaded:!1,summaryError:null,telemetry:null,telemetryLoaded:!1,telemetryError:null,error:null,startedAt:Ut,completedAt:Fi,durationMs:Xs}),xe({level:Nn==="succeeded"?"success":Nn==="canceled"?"warning":"error",message:Xs>0?`Run ${Nn} in ${tC(Xs)}. Open Run summary for details.`:`Run ${Nn}. Open Run summary for details.`,timestamp:_i(ir),origin:"run"});try{const mn=await yb(kt),gn=(Array.isArray(mn.files)?mn.files:[]).map(Ds=>{const Fr=Ds.path;return{name:Ds.name??Fr??"output",path:Fr,byte_size:Ds.byte_size??0,download_url:Ds.download_url??void 0}});ge(Ds=>Ds&&Ds.runId===kt?{...Ds,outputs:gn,outputsLoaded:!0}:Ds)}catch(mn){const pn=mn instanceof Error?mn.message:"Unable to load run outputs.";ge(gn=>gn&&gn.runId===kt?{...gn,outputsLoaded:!0,error:pn}:gn)}try{const mn=await jb(kt);ge(pn=>pn&&pn.runId===kt?{...pn,summary:mn,summaryLoaded:!0}:pn)}catch(mn){const pn=mn instanceof Error?mn.message:"Unable to load run summary.";ge(gn=>gn&&gn.runId===kt?{...gn,summaryLoaded:!0,summaryError:pn}:gn)}try{const mn=await wb(kt);ge(pn=>pn&&pn.runId===kt?{...pn,telemetry:mn,telemetryLoaded:!0}:pn)}catch(mn){const pn=mn instanceof Error?mn.message:"Unable to load run telemetry.";ge(gn=>gn&&gn.runId===kt?{...gn,telemetryLoaded:!0,telemetryError:pn}:gn)}}}}}catch(Ln){if(Ln instanceof DOMException&&Ln.name==="AbortError")return;Mn(Ln)}finally{ne.current===Ft&&(ne.current=null),ie.current&&pe(null)}})(),Ut},[_,$,A.isLoading,A.isError,le,Se.isPending,ya,O,ee,K,ge,ne,pe,n,xe,St,Mn]),Ts=p.useCallback(()=>{const H=Ps({validate_only:!0},{mode:"validation"},!1);H&&Se.mutate(void 0,{onSuccess(ce){const Le=(ce.issues??[]).map(nt=>({level:"error",message:nt.message,path:nt.path}));K({status:"success",messages:Le,lastRunAt:H,error:null,digest:ce.content_digest??null})},onError(ce){const Te=ce instanceof Error?ce.message:"Validation failed.";K({status:"error",messages:[{level:"error",message:Te}],lastRunAt:H,error:Te,digest:null})}})},[Ps,Se,K]),In=p.useCallback(H=>{const ce=Array.from(new Set((H.sheetNames??[]).filter(Boolean)));Ps({input_document_id:H.documentId,input_sheet_names:ce.length?ce:void 0,input_sheet_name:ce.length===1?ce[0]:void 0},{mode:"extraction",documentId:H.documentId,documentName:H.documentName,sheetNames:ce},J)&&(B(!1),ae(!1))},[Ps,B,ae,J]);p.useEffect(()=>{if(typeof window>"u")return;const H=ce=>{if(!(jt?ce.metaKey:ce.ctrlKey)||ce.altKey||ce.key.toLowerCase()!=="s")return;const Le=ce.target;if(Le){const nt=Le.tagName;if(nt==="INPUT"||nt==="TEXTAREA"||Le.isContentEditable)return}Sn&&(ce.preventDefault(),On())};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[jt,Sn,On]);const Ui=le?.metadata,ro=le!==null,Br=le!==null,io=ro&&Ui?.mode==="extraction",qr=ro&&Ui?.mode!=="extraction",ou=W.status==="running"||Se.isPending||qr,Gn=!_&&!!$&&!A.isLoading&&!A.isError&&!Br&&!Se.isPending&&W.status!=="running",Bi=io,ar=!_&&!!$&&!A.isLoading&&!A.isError&&!Br,Sa=!_&&!A.isLoading&&!A.isError,Hs=Sa&&!Ks.isPending,lo=p.useCallback(H=>{Pt(H),H==="explorer"&&me(ce=>({...ce,collapsed:!1}))},[]),oo=p.useCallback(H=>{H.preventDefault();const ce=H.currentTarget.getBoundingClientRect();k({x:ce.right+8,y:ce.top})},[]),ja=p.useCallback(()=>k(null),[]),qi=p.useCallback(()=>{Mt?ya():Li()},[Mt,ya,Li]),co=p.useCallback(()=>{X([])},[]),uo=p.useCallback(()=>{de&&(ya(),O("runSummary"))},[de,ya,O]),$i=p.useCallback(()=>{me(H=>({...H,collapsed:!H.collapsed}))},[]),cu=p.useCallback(()=>{me(H=>({...H,collapsed:!0}))},[]),uu=p.useCallback(()=>{Ee(H=>({...H,collapsed:!H.collapsed}))},[]),$r=p.useCallback(async(H,ce)=>{const Te=ce.trim();if(!Te)throw new Error("Enter a file name.");if(Te.includes(".."))throw new Error("File name cannot include '..'.");if(!Sa)throw new Error("Files are still loading.");const Le=H.replace(/\/+$/,""),nt=Te.replace(/^\/+/,"").replace(/\/+/g,"/"),Ft=(Le?`${Le}/${nt}`:nt).replace(/\/+/g,"/");if(!Ft||Ft.endsWith("/"))throw new Error("Enter a valid file name.");if($&&Ws($,Ft))throw new Error("A file or folder with that name already exists.");vt(!0);try{await Ht.mutateAsync({path:Ft,content:"",parents:!0,create:!0}),_e(Ft),await A.refetch(),St(`Created ${Ft}`,{intent:"success",duration:4e3})}catch(kt){throw Mn(kt),kt instanceof Error?kt:new Error("Unable to create file.")}finally{vt(!1)}},[Sa,$,Ht,A,St,Mn]),As=p.useCallback(async H=>{if(!Hs)throw new Error("Files are still loading.");const ce=$?Ws($,H):null;if(!$||!ce)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${H}? This cannot be undone.`)){vt(!1),yt(H);try{await Ks.mutateAsync({path:H,etag:ce.metadata?.etag}),Ce.closeTab(H),_e(Le=>Le===H?null:Le),await A.refetch(),St(`Deleted ${H}`,{intent:"info",duration:4e3})}catch(Le){const nt=Le instanceof ns&&Le.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":Le instanceof Error?Le.message:"Unable to delete file.";throw Mn(nt),new Error(nt)}finally{yt(Le=>Le===H?null:Le)}}},[Hs,$,Ks,Ce,A,St,Mn,yt]),Zi=p.useMemo(()=>{const H=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),ce=W_.map(Te=>({id:`theme-${Te.value}`,label:`${Te.label} theme`,icon:z.preference===Te.value?l.jsx(Ec,{}):H,onSelect:()=>z.setPreference(Te.value)}));return ce.push({id:"toggle-explorer",label:F.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:F.collapsed?H:l.jsx(Ec,{}),onSelect:()=>me(Te=>({...Te,collapsed:!Te.collapsed}))},{id:"toggle-inspector",label:be.collapsed?"Show Inspector":"Hide Inspector",icon:be.collapsed?H:l.jsx(Ec,{}),onSelect:()=>Ee(Te=>({...Te,collapsed:!Te.collapsed}))},{id:"toggle-console",label:Mt?"Show Console":"Hide Console",icon:Mt?H:l.jsx(Ec,{}),onSelect:qi}),ce},[z,F.collapsed,be.collapsed,Mt,qi]);p.useEffect(()=>{if(typeof document>"u"||!Bn)return;const H=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=H||""}},[Bn]);const Hi=hC(e),Ea=jt?"S":"Ctrl+S",Na=p.useMemo(()=>{const H=!ar;return[{id:"test-default",label:"Test",disabled:H,onSelect:()=>{ae(!1),B(!0),se(null)}},{id:"test-force",label:"Force build and test",disabled:H,onSelect:()=>{ae(!0),B(!0),se(null)}}]},[ar,ae,B,se]);if(!i&&A.isLoading)return l.jsx(_t,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&A.isError)return l.jsx(_t,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!$)return l.jsx(_t,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const fo=Bn?R==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":R==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",Vi=R==="dark"?"#1b1f27":"#ffffff",ho=R==="dark"?"#f5f6fb":"#0f172a",rr=Bn?ve("fixed inset-0 z-[90] flex flex-col",R==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):ve("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",R==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900");return l.jsxs("div",{className:ve("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",fo),children:[Bn?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:rr,children:[l.jsx(P_,{configName:a,workspaceLabel:Hi,validationLabel:Q,canSaveFiles:Sn,isSavingFiles:Fn,onSaveFile:On,saveShortcutLabel:Ea,onOpenTestMenu:H=>se(H),canRunValidation:Gn,isRunningValidation:ou,onRunValidation:Ts,canRunExtraction:ar,isRunningExtraction:Bi,onRunExtraction:H=>{ar&&(ae(H),B(!0))},explorerVisible:Ot,onToggleExplorer:$i,consoleOpen:!Mt,onToggleConsole:qi,inspectorCollapsed:be.collapsed,onToggleInspector:uu,appearance:R,windowState:c,onMinimizeWindow:Vn,onToggleMaximize:Vt,onCloseWindow:Dt}),l.jsxs("div",{ref:et,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(Mj,{activeView:tt,onSelectView:lo,onOpenSettings:oo,appearance:R}),Ot?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:wa},children:tt==="explorer"&&Ce.tree?l.jsx(d2,{width:wa,tree:Ce.tree,activeFileId:Ce.activeTab?.id??"",openFileIds:Ce.tabs.map(H=>H.id),onSelectFile:H=>{Ce.openFile(H),E(H)},theme:R,canCreateFile:Sa,isCreatingFile:He,onCreateFile:$r,canDeleteFile:Hs,deletingFilePath:Ve,onDeleteFile:As,onCloseFile:Ce.closeTab,onCloseOtherFiles:Ce.closeOtherTabs,onCloseTabsToRight:Ce.closeTabsToRight,onCloseAllFiles:Ce.closeAllTabs,onHide:cu}):l.jsx(K_,{width:wa,view:tt})}),l.jsx(bf,{orientation:"vertical",onPointerDown:H=>{const ce=H.clientX,Te=wa;Sf(H,{cursor:"col-resize",onMove:Le=>{const nt=Le.clientX-ce,Ut=Jn(Te+nt,qn.minPx,qn.maxPx);me(Ft=>Ft.collapsed||cn<=0?Ft:{...Ft,fraction:Cs(Ut/cn,qn)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:Vi,color:ho},children:Mt?l.jsx(Jx,{tabs:Ce.tabs,activeTabId:Ce.activeTab?.id??"",onSelectTab:H=>{Ce.selectTab(H),E(H)},onCloseTab:Ce.closeTab,onCloseOtherTabs:Ce.closeOtherTabs,onCloseTabsToRight:Ce.closeTabsToRight,onCloseAllTabs:Ce.closeAllTabs,onContentChange:Ce.updateContent,onSaveTab:_s,onSaveAllTabs:Jt,onMoveTab:Ce.moveTab,onPinTab:Ce.pinTab,onUnpinTab:Ce.unpinTab,onSelectRecentTab:Ce.selectRecentTab,editorTheme:z.resolvedTheme,menuAppearance:R,canSaveFiles:Sn,minHeight:Lt}):l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:jn>0?`${jn}px`:void 0,gridTemplateRows:`${Math.max(Lt,Ur)}px ${Al}px ${Math.max(0,Lr)}px`},children:[l.jsx(Jx,{tabs:Ce.tabs,activeTabId:Ce.activeTab?.id??"",onSelectTab:H=>{Ce.selectTab(H),E(H)},onCloseTab:Ce.closeTab,onCloseOtherTabs:Ce.closeOtherTabs,onCloseTabsToRight:Ce.closeTabsToRight,onCloseAllTabs:Ce.closeAllTabs,onContentChange:Ce.updateContent,onSaveTab:_s,onSaveAllTabs:Jt,onMoveTab:Ce.moveTab,onPinTab:Ce.pinTab,onUnpinTab:Ce.unpinTab,onSelectRecentTab:Ce.selectRecentTab,editorTheme:z.resolvedTheme,menuAppearance:R,canSaveFiles:Sn,minHeight:Lt}),l.jsx(bf,{orientation:"horizontal",onPointerDown:H=>{qe(!0);const ce=H.clientY,Te=Lr;Sf(H,{cursor:"row-resize",onMove:Le=>{if(Ct.maxPx<=0||jn<=0)return;const nt=ce-Le.clientY,Ut=Jn(Te+nt,Ct.minPx,Ct.maxPx);Ne(Jn(Ut/jn,0,1))},onEnd:()=>{qe(!1)}})}}),l.jsx($j,{height:Math.max(0,Lr),consoleLines:Z,validation:W,activePane:w,onPaneChange:O,latestRun:de,onShowRunDetails:uo,onClearConsole:co})]})}),Zs?l.jsxs(l.Fragment,{children:[l.jsx(bf,{orientation:"vertical",onPointerDown:H=>{const ce=H.clientX,Te=ks;Sf(H,{cursor:"col-resize",onMove:Le=>{const nt=ce-Le.clientX,Ut=Jn(Te+nt,$n.minPx,$n.maxPx);Ee(Ft=>Ft.collapsed||cn<=0?Ft:{...Ft,fraction:Cs(Ut/cn,$n)})}})}}),l.jsx(_2,{width:ks,file:Ce.activeTab??null})]}):null]})]}),we?l.jsx(X_,{open:we,workspaceId:e,onClose:()=>{B(!1),ae(!1)},onRun:In}):null,l.jsx(Ql,{open:!!C,position:C,onClose:()=>se(null),items:Na,appearance:R}),l.jsx(Ql,{open:!!D,position:D,onClose:ja,items:Zi,appearance:R})]})}function K_({width:e,view:n}){const a=Y_[n]||"Coming soon";return l.jsx("div",{className:"flex h-full min-h-0 flex-col items-center justify-center border-r border-[#111111] bg-[#1e1e1e] px-4 text-center text-[11px] uppercase tracking-wide text-slate-400",style:{width:e},"aria-live":"polite",children:a})}function Ec(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function P_({configName:e,workspaceLabel:n,validationLabel:a,canSaveFiles:i,isSavingFiles:c,onSaveFile:u,saveShortcutLabel:f,onOpenTestMenu:m,canRunValidation:g,isRunningValidation:x,onRunValidation:b,canRunExtraction:y,isRunningExtraction:w,onRunExtraction:j,explorerVisible:T,onToggleExplorer:E,consoleOpen:O,onToggleConsole:U,inspectorCollapsed:_,onToggleInspector:A,appearance:$,windowState:Z,onMinimizeWindow:X,onToggleMaximize:W,onCloseWindow:K}){const ne=$==="dark",ie=ne?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",le=ne?"text-white/60":"text-slate-500",pe=ne?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",de=ne?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ge=Z==="maximized";return l.jsxs("div",{className:ve("flex items-center justify-between border-b px-4 py-2",ie),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(nC,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:ve("text-[10px] font-semibold uppercase tracking-[0.35em]",le),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:ve("text-[11px]",le),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[a?l.jsx("span",{className:ve("text-xs",le),children:a}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",pe),title:`Save (${f})`,children:[c?l.jsx(Ef,{}):l.jsx(uC,{}),c?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:b,disabled:!g,className:ve("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",de),children:[x?l.jsx(Ef,{}):l.jsx(m0,{}),x?"Running":"Run validation"]}),l.jsx(G2,{label:w?"Running":"Test run",icon:w?l.jsx(Ef,{}):l.jsx(m0,{}),disabled:!y,isLoading:w,title:"Run test run",primaryClassName:ve(de,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:ve(de,"rounded-l-none px-2",ne?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>j(!1),onOpenMenu:we=>m(we),onContextMenu:we=>{we.preventDefault(),m({x:we.clientX,y:we.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(yi,{ariaLabel:T?"Hide explorer":"Show explorer",onClick:E,appearance:$,active:T,icon:l.jsx(sC,{active:T})}),l.jsx(yi,{ariaLabel:_?"Show inspector":"Hide inspector",onClick:A,appearance:$,active:!_,icon:l.jsx(rC,{})}),l.jsx(yi,{ariaLabel:O?"Hide console":"Show console",onClick:U,appearance:$,active:O,icon:l.jsx(aC,{})})]}),l.jsxs("div",{className:ve("flex items-center gap-2 border-l pl-3",$==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(yi,{ariaLabel:"Minimize workbench",onClick:X,appearance:$,icon:l.jsx(oC,{})}),l.jsx(yi,{ariaLabel:ge?"Restore workbench":"Maximize workbench",onClick:W,appearance:$,active:ge,icon:ge?l.jsx(lC,{}):l.jsx(iC,{})}),l.jsx(yi,{ariaLabel:"Close workbench",onClick:K,appearance:$,icon:l.jsx(cC,{})})]})]})]})}function X_({open:e,workspaceId:n,onClose:a,onRun:i}){const c=p.useRef(null),u=hn({queryKey:["builder-documents",n],queryFn:({signal:A})=>J_(n,A),staleTime:6e4}),f=p.useMemo(()=>u.data??[],[u.data]),[m,g]=p.useState("");p.useEffect(()=>{if(!f.length){g("");return}g(A=>A&&f.some($=>$.id===A)?A:f[0]?.id??"")},[f]);const x=f.find(A=>A.id===m)??null,b=hn({queryKey:["builder-document-sheets",n,m],queryFn:({signal:A})=>Eb(n,m,A),enabled:!!m,staleTime:6e4}),y=p.useMemo(()=>b.data??[],[b.data]),[w,j]=p.useState([]);p.useEffect(()=>{if(!y.length){j([]);return}j(A=>A.filter($=>y.some(Z=>Z.name===$)))},[y]);const T=p.useMemo(()=>Array.from(new Set(w.filter(A=>y.some($=>$.name===A)))),[w,y]),E=p.useCallback(A=>{j($=>$.includes(A)?$.filter(Z=>Z!==A):[...$,A])},[]);if(!e)return null;const O=!x||u.isLoading||u.isError,U=y.length>0,_=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:c,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),u.isError?l.jsx(ut,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):f.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(er,{id:"builder-run-document-select",value:m,onChange:A=>g(A.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:f.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",eC(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(ut,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]})]})}):U?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:T.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${T.length.toLocaleString()} worksheet${T.length===1?"":"s"} selected.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:y.map(A=>{const $=T.includes(A.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:$,onChange:()=>E(A.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[A.name,A.is_active?" (active)":""]})]},`${A.index}-${A.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(ze,{variant:"ghost",onClick:a,children:"Cancel"}),l.jsx(ze,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:T.length>0?T:void 0})},disabled:O,children:"Start test run"})]})]})});return typeof document>"u"?null:pa.createPortal(_,document.body)}async function J_(e,n){const{data:a}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return a?.items??[]}function eC(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function yi({ariaLabel:e,onClick:n,icon:a,appearance:i,active:c=!1}){const u=i==="dark",f=u?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",m=u?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",f,c&&m),title:e,children:a})}function tC(e){if(e==null||!Number.isFinite(e)||e<0)return null;if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return`${n}m ${a}s`}function nC(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function sC({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function aC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function rC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M10 3v10",stroke:"currentColor",strokeWidth:"1.2"})]})}function iC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function lC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function oC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function cC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Ef(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function m0(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function uC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function dC(e){return e instanceof ns?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation canceled.":e instanceof Error?e.message:String(e)}function fC(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function hC(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function p0(e){if(e.encoding==="base64"){if(typeof atob=="function")return atob(e.content);const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8")}return e.content}function mC(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Rb=p.createContext(null);function zb(){const e=p.useContext(Rb);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function pC({workspaceId:e,children:n}){const a=An(),i=Es(),[c,u]=p.useState(null),[f,m]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),y=p.useMemo(()=>Ja(mC(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),j=p.useMemo(()=>wC(i.pathname,e),[i.pathname,e]),T=!!j;p.useEffect(()=>{y.get()||y.set(w)},[y,w]),p.useEffect(()=>{T||y.set(`${i.pathname}${i.search}${i.hash}`)},[T,i.pathname,i.search,i.hash,y]),p.useEffect(()=>{if(!c){x.current=null;return}const ie=x.current;if(T&&j===c.configId){if(ie==="dock"){x.current=null,m("minimized");return}ie&&(x.current=null);return}if(ie==="dock"){x.current=null;return}if(ie==="close"){x.current=null;return}u(null),m("restored"),x.current=null},[c,T,j,f]),p.useEffect(()=>{if(!c||!T||j!==c.configId)return;const ie=x0(i.search);ie!==c.editorSearch&&u(le=>!le||le.instanceId!==c.instanceId?le:{...le,editorSearch:ie})},[c,T,j,i.search]);const E=p.useCallback(()=>y.get()??w,[y,w]),O=p.useCallback(ie=>{u(le=>{if(!le)return le;const pe=new URLSearchParams(le.editorSearch),de=typeof ie=="function"?ie(new URLSearchParams(pe)):ie,we=xb(de).toString();return we===le.editorSearch?le:{...le,editorSearch:we}})},[]),U=p.useCallback(ie=>{const le=x0(ie.editorSearch??i.search);let pe=f==="minimized";u(de=>{if(de&&de.workspaceId===ie.workspaceId&&de.configId===ie.configId){const ge=ie.seed??de.seed,we=ie.editorSearch!==void 0?le:de.editorSearch;return de.configName===ie.configName&&de.seed===ge&&de.editorSearch===we?de:{...de,configName:ie.configName,seed:ge,editorSearch:we}}return pe=!0,g.current+=1,{...ie,editorSearch:le,instanceId:`${ie.workspaceId}:${ie.configId}:${g.current}`}}),pe&&m("restored")},[i.search,f]),_=p.useCallback(()=>{c&&(u(null),m("restored"),x.current="close",a(E()))},[c,a,E]),A=p.useCallback(()=>{c&&(b.current=!0,m("minimized"),x.current="dock",a(E()))},[c,a,E]),$=p.useCallback(()=>{if(!c)return;m("restored");const ie=SC(c.workspaceId,c.configId,c.editorSearch);`${i.pathname}${i.search}`!==ie&&a(ie)},[c,a,i.pathname,i.search]),Z=p.useCallback(()=>{c&&m("maximized")},[c]),X=p.useCallback(()=>{const ie=b.current;return b.current=!1,ie},[]),W=p.useMemo(()=>({session:c,windowState:f,openSession:U,closeSession:_,minimizeWindow:A,maximizeWindow:Z,restoreWindow:$,shouldBypassUnsavedGuard:X}),[c,f,U,_,A,Z,$,X]),K=!!c&&(!T||j!==c?.configId),ne=p.useMemo(()=>K&&c?{params:new URLSearchParams(c.editorSearch),setSearchParams:O}:null,[K,c,O]);return l.jsxs(Rb.Provider,{value:W,children:[n,l.jsx(O2,{value:ne,children:l.jsx(gC,{session:c,windowState:f,onClose:_,onMinimize:A,onMaximize:Z,onRestore:$,shouldBypassUnsavedGuard:X})}),c&&f==="minimized"?l.jsx(xC,{configName:c.configName,onRestore:$,onDismiss:_}):null]})}function gC({session:e,windowState:n,onClose:a,onMinimize:i,onMaximize:c,onRestore:u,shouldBypassUnsavedGuard:f}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Mb,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:a,onMinimizeWindow:i,onMaximizeWindow:c,onRestoreWindow:u,shouldBypassUnsavedGuard:f},e.instanceId)})}function xC({configName:e,onRestore:n,onDismiss:a}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(vC,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(g0,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(bC,{})}),l.jsx(g0,{ariaLabel:"Close minimized workbench",onClick:a,destructive:!0,children:l.jsx(yC,{})})]})]})})})}function g0({ariaLabel:e,onClick:n,children:a,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:ve("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:a})}function vC(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function bC(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function yC(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function wC(e,n){const a=`/workspaces/${n}/config-builder/`;if(!e.startsWith(a))return null;const i=e.slice(a.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function SC(e,n,a){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return a.length>0?`${i}?${a}`:i}function x0(e){return e?e.startsWith("?")?e.slice(1):e:""}function Ob({id:e,value:n,defaultValue:a="",placeholder:i="Search",ariaLabel:c,shortcutHint:u="K",shortcutKey:f="k",enableShortcut:m=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:y,variant:w="default",isLoading:j=!1,loadingLabel:T="Loading suggestions",filters:E,onSelectFilter:O,emptyState:U,onChange:_,onSubmit:A,onClear:$,onFocus:Z,onBlur:X,suggestions:W=[],onSelectSuggestion:K,renderSuggestion:ne}){const ie=p.useId(),le=e??ie,pe=`${ie}-suggestions`,de=p.useRef(null),ge=n!==void 0,[we,B]=p.useState(a),[ee,xe]=p.useState(!1),[Se,oe]=p.useState(0),N=ge?n??"":we,V=W.length>0,z=!!E?.length,R=ee&&(V||j||!!U||z),Q=ee&&!V&&!j&&!!U,F=!!($||!ge),me=u||"K",be=c??i;p.useEffect(()=>{ge||B(a)},[a,ge]),p.useEffect(()=>{oe(0)},[W.length,N]),p.useEffect(()=>{if(!m||typeof window>"u")return;const Ae=Fe=>{(Fe.metaKey||Fe.ctrlKey)&&Fe.key.toLowerCase()===f.toLowerCase()&&(Fe.preventDefault(),de.current?.focus())};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[m,f]);const Ee=Ae=>{Ae.preventDefault();const Fe=N.trim();!Fe&&!A||A?.(Fe)},I=Ae=>{ge||B(Ae),_?.(Ae)},Ne=()=>{N&&(ge||B(""),_?.(""),$?.(),de.current?.focus())},ke=Ae=>{Ae&&(K?.(Ae),Ae.action?.(),xe(!1),de.current?.blur())},Ze=Ae=>{if(!R||!V){Ae.key==="Escape"&&(xe(!1),Ae.currentTarget.blur());return}if(Ae.key==="ArrowDown"){Ae.preventDefault(),oe(Fe=>(Fe+1)%W.length);return}if(Ae.key==="ArrowUp"){Ae.preventDefault(),oe(Fe=>(Fe-1+W.length)%W.length);return}if(Ae.key==="Enter"){Ae.preventDefault(),ke(W[Se]);return}Ae.key==="Escape"&&(Ae.preventDefault(),xe(!1),Ae.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:ve("relative",y),children:[l.jsx("div",{className:ve("group/search overflow-hidden",Oe,R&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":be,onSubmit:Ee,children:[l.jsx("label",{htmlFor:le,className:"sr-only",children:be}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(EC,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:de,id:le,type:"search",value:N,onChange:Ae=>I(Ae.target.value),onFocus:()=>{xe(!0),Z?.(),V||oe(0)},onBlur:()=>{xe(!1),X?.()},onKeyDown:Ze,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":R,"aria-controls":R?pe:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[F&&N?l.jsx("button",{type:"button",onClick:Ne,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(NC,{className:"h-3.5 w-3.5"})}):null,j?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":T,children:l.jsx(_C,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:me})]})]})}),R?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[V?l.jsx("ul",{id:pe,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:W.map((Ae,Fe)=>{const et=Fe===Se,tt=ne?.({suggestion:Ae,active:et})??l.jsx(jC,{suggestion:Ae,active:et});return l.jsx("li",{children:l.jsx("button",{type:"button",role:"option","aria-selected":et,onMouseEnter:()=>oe(Fe),onMouseDown:Pt=>Pt.preventDefault(),onClick:()=>ke(Ae),className:ve("flex w-full px-5 py-3 text-left transition",et?"bg-brand-50/60":"hover:bg-slate-50/80"),children:tt})},Ae.id)})}):null,Q?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:U}):null,z?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),E?.map(Ae=>l.jsx("button",{type:"button",onMouseDown:Fe=>Fe.preventDefault(),onClick:()=>O?.(Ae),className:ve("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Ae.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Ae.label},Ae.id))]})}):null]}):null]})}function jC({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:ve("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function EC({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function NC({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function _C({className:e="h-4 w-4"}){return l.jsxs("svg",{className:ve("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function Lb({brand:e,leading:n,actions:a,trailing:i,search:c,secondaryContent:u}){const f=!!c,m=c?{...c,className:ve("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",c.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:ve("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",f?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),m?l.jsx(Ob,{...m}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[a,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Ub({displayName:e,email:n,actions:a=[]}){const[i,c]=p.useState(!1),[u,f]=p.useState(!1),m=p.useRef(null),g=p.useRef(null),x=An(),b=p.useMemo(()=>CC(e||n),[e,n]),y=p.useCallback(()=>c(!1),[]);p.useEffect(()=>{if(!i)return;const T=O=>{const U=O.target;U&&(g.current?.contains(U)||m.current?.contains(U)||y())},E=O=>{O.key==="Escape"&&y()};return window.addEventListener("mousedown",T),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",E),()=>{window.removeEventListener("mousedown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",E)}},[y,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(T=>{y(),T()},[y]),j=p.useCallback(async()=>{u||(y(),f(!0),x("/logout",{replace:!0}))},[y,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:m,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>c(T=>!T),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(TC,{className:ve("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:a.map(T=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(T.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:T.icon??T.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:T.label}),T.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:T.description}):null]})]})},T.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:j,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(kC,{}):null]})})]}):null]})}function CC(e){const n=e.split(" ").map(a=>a.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function kC(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function TC({className:e}){return l.jsx("svg",{className:ve("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Zc({to:e,replace:n,className:a,title:i,children:c,onClick:u}){const f=An();return l.jsx("a",{href:e,className:a,title:i,onClick:m=>{u?.(m),!(m.defaultPrevented||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey)&&(m.preventDefault(),f(e,{replace:n}))},children:c})}function AC({to:e,end:n,className:a,children:i,title:c,onClick:u}){const{pathname:f}=Es(),m=n?f===e:f===e||f.startsWith(`${e}/`),g=typeof a=="function"?a({isActive:m}):a,x=typeof i=="function"?i({isActive:m}):i;return l.jsx(Zc,{to:e,className:g,title:c,onClick:u,children:x})}function eo(e){return function({title:a,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":a?void 0:!0,role:a?"img":"presentation",...i,children:[a?l.jsx("title",{children:a}):null,l.jsx("path",{d:e})]})}}const DC=eo("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),MC=eo("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),RC=eo("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),zC=eo("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),OC=eo("M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"),Bb=[{id:"documents",path:"documents",label:"Documents",icon:DC},{id:"runs",path:"runs",label:"Runs",icon:MC},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:RC},{id:"settings",path:"settings",label:"Workspace Settings",icon:zC}],Xa=Bb[0];function qb(e){return Bb.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon}))}const LC="4.25rem",UC="18.75rem";function BC({workspace:e,collapsed:n,onToggleCollapse:a,items:i,onGoToWorkspaces:c}){const u=i??qb(e),f=ZC(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?LC:UC},"aria-label":"Primary workspace navigation","aria-expanded":!n,children:l.jsxs("div",{className:ve("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:ve("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:c,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:ve("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:f}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:a,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation",children:n?l.jsx($C,{}):l.jsx(qC,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx($b,{items:u,collapsed:n})})]})})}function $b({items:e,collapsed:n=!1,onNavigate:a,className:i,showHeading:c=!0}){return l.jsxs(l.Fragment,{children:[c&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:ve("flex flex-col gap-1.5",n?"items-center":void 0,i),role:"list",children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(AC,{to:u.href,end:!0,title:n?u.label:void 0,onClick:a,className:({isActive:f})=>ve("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",f?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:f})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:ve("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",f?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:ve("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",f?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:ve("h-5 w-5 flex-shrink-0 transition-colors duration-150",f?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:ve("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function qC(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function $C(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function ZC(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}const HC="K",VC="Ctrl+K";function Zb({macLabel:e=HC,windowsLabel:n=VC}={}){const[a,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const c=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(c);i(u?e:n)},[e,n]),a}function FC(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const QC=100;function bh({workspaceId:e,enabled:n=!0,page:a=1,pageSize:i=QC}){return hn({queryKey:rn.list(e,{page:a,pageSize:i}),queryFn:({signal:c})=>P2(e,{page:a,pageSize:i,signal:c}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:c=>c})}function IC({workspaceId:e,configurationId:n,enabled:a=!0}){return hn({queryKey:rn.detail(e,n??""),queryFn:({signal:i})=>n?X2(e,n,i):Promise.resolve(null),enabled:a&&e.length>0&&!!n,staleTime:1e4})}function GC({workspaceId:e,configId:n,enabled:a=!0}){return hn({queryKey:rn.versions(e,n),queryFn:({signal:i})=>r_(e,n,{signal:i}),enabled:a&&e.length>0&&n.length>0,placeholderData:i=>i??[],staleTime:15e3})}function WC(e){const n=xt();return Dn({mutationFn:a=>a_(e,a),async onSuccess(){await n.invalidateQueries({queryKey:rn.root(e)})}})}function he(e,n,a){function i(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const b in f.prototype)b in m||Object.defineProperty(m,b,{value:f.prototype[b].bind(m)});m._zod.constr=f,m._zod.def=g}const c=a?.Parent??Object;class u extends c{}Object.defineProperty(u,"name",{value:e});function f(m){var g;const x=a?.Parent?new u:this;i(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>a?.Parent&&m instanceof a.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Ci extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Hb extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Vb={};function Dr(e){return Vb}function YC(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>n.indexOf(+i)===-1).map(([i,c])=>c)}function Qf(e,n){return typeof n=="bigint"?n.toString():n}function yh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function wh(e){return e==null}function Sh(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}function KC(e,n){const a=(e.toString().split(".")[1]||"").length,i=n.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const g=i.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const u=a>c?a:c,f=Number.parseInt(e.toFixed(u).replace(".","")),m=Number.parseInt(n.toFixed(u).replace(".",""));return f%m/10**u}const v0=Symbol("evaluating");function bt(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==v0)return i===void 0&&(i=v0,i=a()),i},set(c){Object.defineProperty(e,n,{value:c})},configurable:!0})}function zr(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function Or(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function b0(e){return JSON.stringify(e)}const Fb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Hc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const PC=yh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Il(e){if(Hc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(Hc(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Qb(e){return Il(e)?{...e}:Array.isArray(e)?[...e]:e}const XC=new Set(["string","number","symbol"]);function ki(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nr(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a?.parent)&&(i._zod.parent=e),i}function Be(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function JC(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const ek={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tk(e,n){const a=e._zod.def,i=Or(e._zod.def,{get shape(){const c={};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=a.shape[u])}return zr(this,"shape",c),c},checks:[]});return nr(e,i)}function nk(e,n){const a=e._zod.def,i=Or(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in n){if(!(u in a.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return zr(this,"shape",c),c},checks:[]});return nr(e,i)}function sk(e,n){if(!Il(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Or(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return zr(this,"shape",u),u},checks:[]});return nr(e,c)}function ak(e,n){if(!Il(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return zr(this,"shape",i),i},checks:e._zod.def.checks};return nr(e,a)}function rk(e,n){const a=Or(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return zr(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return nr(e,a)}function ik(e,n,a){const i=Or(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return zr(this,"shape",u),u},checks:[]});return nr(n,i)}function lk(e,n,a){const i=Or(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(a)for(const f in a){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);a[f]&&(u[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)u[f]=new e({type:"nonoptional",innerType:c[f]});return zr(this,"shape",u),u},checks:[]});return nr(n,i)}function Ei(e,n=0){if(e.aborted===!0)return!0;for(let a=n;a<e.issues.length;a++)if(e.issues[a]?.continue!==!0)return!0;return!1}function Ib(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function Nc(e){return typeof e=="string"?e:e?.message}function Mr(e,n,a){const i={...e,path:e.path??[]};if(!e.message){const c=Nc(e.inst?._zod.def?.error?.(e))??Nc(n?.error?.(e))??Nc(a.customError?.(e))??Nc(a.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function jh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Gl(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const Gb=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Qf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Eh=he("$ZodError",Gb),eu=he("$ZodError",Gb,{Parent:Error});function ok(e,n=a=>a.message){const a={},i=[];for(const c of e.issues)c.path.length>0?(a[c.path[0]]=a[c.path[0]]||[],a[c.path[0]].push(n(c))):i.push(n(c));return{formErrors:i,fieldErrors:a}}function ck(e,n=a=>a.message){const a={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let f=a,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(n(u))):f[g]=f[g]||{_errors:[]},f=f[g],m++}}};return i(e),a}const tu=e=>(n,a,i,c)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise)throw new Ci;if(f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>Mr(g,u,Dr())));throw Fb(m,c?.callee),m}return f.value},uk=tu(eu),nu=e=>async(n,a,i,c)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let f=n._zod.run({value:a,issues:[]},u);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??e)(f.issues.map(g=>Mr(g,u,Dr())));throw Fb(m,c?.callee),m}return f.value},dk=nu(eu),su=e=>(n,a,i)=>{const c=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},c);if(u instanceof Promise)throw new Ci;return u.issues.length?{success:!1,error:new(e??Eh)(u.issues.map(f=>Mr(f,c,Dr())))}:{success:!0,data:u.value}},fk=su(eu),au=e=>async(n,a,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(f=>Mr(f,c,Dr())))}:{success:!0,data:u.value}},hk=au(eu),mk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return tu(e)(n,a,c)},pk=e=>(n,a,i)=>tu(e)(n,a,i),gk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return nu(e)(n,a,c)},xk=e=>async(n,a,i)=>nu(e)(n,a,i),vk=e=>(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return su(e)(n,a,c)},bk=e=>(n,a,i)=>su(e)(n,a,i),yk=e=>async(n,a,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return au(e)(n,a,c)},wk=e=>async(n,a,i)=>au(e)(n,a,i),Sk=/^[cC][^\s-]{8,}$/,jk=/^[0-9a-z]+$/,Ek=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Nk=/^[0-9a-vA-V]{20}$/,_k=/^[A-Za-z0-9]{27}$/,Ck=/^[a-zA-Z0-9_-]{21}$/,kk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Tk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Ak=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Dk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Mk(){return new RegExp(Dk,"u")}const Rk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Ok=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Lk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Uk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Wb=/^[A-Za-z0-9_-]*$/,Bk=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,qk=/^\+(?:[0-9]){6,14}[0-9]$/,Yb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$k=new RegExp(`^${Yb}$`);function Kb(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Zk(e){return new RegExp(`^${Kb(e)}$`)}function Hk(e){const n=Kb({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${Yb}T(?:${i})$`)}const Vk=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},Fk=/^-?\d+$/,Qk=/^-?\d+(?:\.\d+)?/,Ik=/^(?:true|false)$/i,Gk=/^[^A-Z]*$/,Wk=/^[^a-z]*$/,as=he("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),Pb={number:"number",bigint:"bigint",object:"date"},Xb=he("$ZodCheckLessThan",(e,n)=>{as.init(e,n);const a=Pb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Jb=he("$ZodCheckGreaterThan",(e,n)=>{as.init(e,n);const a=Pb[typeof n.value];e._zod.onattach.push(i=>{const c=i._zod.bag,u=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Yk=he("$ZodCheckMultipleOf",(e,n)=>{as.init(e,n),e._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):KC(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:e,continue:!n.abort})}}),Kk=he("$ZodCheckNumberFormat",(e,n)=>{as.init(e,n),n.format=n.format||"float64";const a=n.format?.includes("int"),i=a?"int":"number",[c,u]=ek[n.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=n.format,m.minimum=c,m.maximum=u,a&&(m.pattern=Fk)}),e._zod.check=f=>{const m=f.value;if(a){if(!Number.isInteger(m)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!n.abort}),m>u&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:u,inst:e})}}),Pk=he("$ZodCheckMaxLength",(e,n)=>{var a;as.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!wh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=n.maximum)return;const f=jh(c);i.issues.push({origin:f,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Xk=he("$ZodCheckMinLength",(e,n)=>{var a;as.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!wh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=n.minimum)return;const f=jh(c);i.issues.push({origin:f,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:e,continue:!n.abort})}}),Jk=he("$ZodCheckLengthEquals",(e,n)=>{var a;as.init(e,n),(a=e._zod.def).when??(a.when=i=>{const c=i.value;return!wh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),e._zod.check=i=>{const c=i.value,u=c.length;if(u===n.length)return;const f=jh(c),m=u>n.length;i.issues.push({origin:f,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),ru=he("$ZodCheckStringFormat",(e,n)=>{var a,i;as.init(e,n),e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),e5=he("$ZodCheckRegex",(e,n)=>{ru.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),t5=he("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=Gk),ru.init(e,n)}),n5=he("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=Wk),ru.init(e,n)}),s5=he("$ZodCheckIncludes",(e,n)=>{as.init(e,n);const a=ki(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:e,continue:!n.abort})}}),a5=he("$ZodCheckStartsWith",(e,n)=>{as.init(e,n);const a=new RegExp(`^${ki(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),r5=he("$ZodCheckEndsWith",(e,n)=>{as.init(e,n);const a=new RegExp(`.*${ki(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),i5=he("$ZodCheckOverwrite",(e,n)=>{as.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class l5{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),u=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of u)this.content.push(f)}compile(){const n=Function,a=this?.args,c=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...a,c.join(`
`))}}const o5={major:4,minor:1,patch:12},Zt=he("$ZodType",(e,n)=>{var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=o5;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const u of c._zod.onattach)u(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,g)=>{let x=Ei(f),b;for(const y of m){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(x)continue;const w=f.issues.length,j=y._zod.check(f);if(j instanceof Promise&&g?.async===!1)throw new Ci;if(b||j instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await j,f.issues.length!==w&&(x||(x=Ei(f,w)))});else{if(f.issues.length===w)continue;x||(x=Ei(f,w))}}return b?b.then(()=>f):f},u=(f,m,g)=>{if(Ei(f))return f.aborted=!0,f;const x=c(m,i,g);if(x instanceof Promise){if(g.async===!1)throw new Ci;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const x=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,f,m)):u(x,f,m)}const g=e._zod.parse(f,m);if(g instanceof Promise){if(m.async===!1)throw new Ci;return g.then(x=>c(x,i,m))}return c(g,i,m)}}e["~standard"]={validate:c=>{try{const u=fk(e,c);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return hk(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),Nh=he("$ZodString",(e,n)=>{Zt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Vk(e._zod.bag),e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),At=he("$ZodStringFormat",(e,n)=>{ru.init(e,n),Nh.init(e,n)}),c5=he("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=Tk),At.init(e,n)}),u5=he("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=y0(i))}else n.pattern??(n.pattern=y0());At.init(e,n)}),d5=he("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=Ak),At.init(e,n)}),f5=he("$ZodURL",(e,n)=>{At.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),c=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Bk.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=c.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),h5=he("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=Mk()),At.init(e,n)}),m5=he("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=Ck),At.init(e,n)}),p5=he("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=Sk),At.init(e,n)}),g5=he("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=jk),At.init(e,n)}),x5=he("$ZodULID",(e,n)=>{n.pattern??(n.pattern=Ek),At.init(e,n)}),v5=he("$ZodXID",(e,n)=>{n.pattern??(n.pattern=Nk),At.init(e,n)}),b5=he("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=_k),At.init(e,n)}),y5=he("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Hk(n)),At.init(e,n)}),w5=he("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=$k),At.init(e,n)}),S5=he("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=Zk(n)),At.init(e,n)}),j5=he("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=kk),At.init(e,n)}),E5=he("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=Rk),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv4"})}),N5=he("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=zk),At.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format="ipv6"}),e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),_5=he("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=Ok),At.init(e,n)}),C5=he("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=Lk),At.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[c,u]=i;if(!u)throw new Error;const f=Number(u);if(`${f}`!==u)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function ey(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const k5=he("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=Uk),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),e._zod.check=a=>{ey(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function T5(e){if(!Wb.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return ey(a)}const A5=he("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=Wb),At.init(e,n),e._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),e._zod.check=a=>{T5(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),D5=he("$ZodE164",(e,n)=>{n.pattern??(n.pattern=qk),At.init(e,n)});function M5(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const R5=he("$ZodJWT",(e,n)=>{At.init(e,n),e._zod.check=a=>{M5(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),ty=he("$ZodNumber",(e,n)=>{Zt.init(e,n),e._zod.pattern=e._zod.bag.pattern??Qk,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const c=a.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return a;const u=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...u?{received:u}:{}}),a}}),z5=he("$ZodNumber",(e,n)=>{Kk.init(e,n),ty.init(e,n)}),O5=he("$ZodBoolean",(e,n)=>{Zt.init(e,n),e._zod.pattern=Ik,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const c=a.value;return typeof c=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:e}),a}}),L5=he("$ZodUnknown",(e,n)=>{Zt.init(e,n),e._zod.parse=a=>a}),U5=he("$ZodNever",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function w0(e,n,a){e.issues.length&&n.issues.push(...Ib(a,e.issues)),n.value[a]=e.value}const B5=he("$ZodArray",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value;if(!Array.isArray(c))return a.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),a;a.value=Array(c.length);const u=[];for(let f=0;f<c.length;f++){const m=c[f],g=n.element._zod.run({value:m,issues:[]},i);g instanceof Promise?u.push(g.then(x=>w0(x,a,f))):w0(g,a,f)}return u.length?Promise.all(u).then(()=>a):a}});function Vc(e,n,a,i){e.issues.length&&n.issues.push(...Ib(a,e.issues)),e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function ny(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const a=JC(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function sy(e,n,a,i,c,u){const f=[],m=c.keySet,g=c.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(m.has(b))continue;if(x==="never"){f.push(b);continue}const y=g.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(w=>Vc(w,a,b,n))):Vc(y,a,b,n)}return f.length&&a.issues.push({code:"unrecognized_keys",keys:f,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const q5=he("$ZodObject",(e,n)=>{if(Zt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=yh(()=>ny(n));bt(e._zod,"propValues",()=>{const m=n.shape,g={};for(const x in m){const b=m[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const y of b.values)g[x].add(y)}}return g});const c=Hc,u=n.catchall;let f;e._zod.parse=(m,g)=>{f??(f=i.value);const x=m.value;if(!c(x))return m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m;m.value={};const b=[],y=f.shape;for(const w of f.keys){const T=y[w]._zod.run({value:x[w],issues:[]},g);T instanceof Promise?b.push(T.then(E=>Vc(E,m,w,x))):Vc(T,m,w,x)}return u?sy(b,x,m,g,i.value,e):b.length?Promise.all(b).then(()=>m):m}}),$5=he("$ZodObjectJIT",(e,n)=>{q5.init(e,n);const a=e._zod.parse,i=yh(()=>ny(n)),c=w=>{const j=new l5(["shape","payload","ctx"]),T=i.value,E=A=>{const $=b0(A);return`shape[${$}]._zod.run({ value: input[${$}], issues: [] }, ctx)`};j.write("const input = payload.value;");const O=Object.create(null);let U=0;for(const A of T.keys)O[A]=`key_${U++}`;j.write("const newResult = {};");for(const A of T.keys){const $=O[A],Z=b0(A);j.write(`const ${$} = ${E(A)};`),j.write(`
        if (${$}.issues.length) {
          payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        
        if (${$}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${$}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const _=j.compile();return(A,$)=>_(w,A,$)};let u;const f=Hc,m=!Vb.jitless,x=m&&PC.value,b=n.catchall;let y;e._zod.parse=(w,j)=>{y??(y=i.value);const T=w.value;return f(T)?m&&x&&j?.async===!1&&j.jitless!==!0?(u||(u=c(n.shape)),w=u(w,j),b?sy([],T,w,j,y,e):w):a(w,j):(w.issues.push({expected:"object",code:"invalid_type",input:T,inst:e}),w)}});function S0(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const c=e.filter(u=>!Ei(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(f=>Mr(f,i,Dr())))}),n)}const Z5=he("$ZodUnion",(e,n)=>{Zt.init(e,n),bt(e._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),bt(e._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),bt(e._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),bt(e._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>Sh(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(c,u)=>{if(a)return i(c,u);let f=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:c.value,issues:[]},u);if(x instanceof Promise)m.push(x),f=!0;else{if(x.issues.length===0)return x;m.push(x)}}return f?Promise.all(m).then(g=>S0(g,c,e,u)):S0(m,c,e,u)}}),H5=he("$ZodIntersection",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{const c=a.value,u=n.left._zod.run({value:c,issues:[]},i),f=n.right._zod.run({value:c,issues:[]},i);return u instanceof Promise||f instanceof Promise?Promise.all([u,f]).then(([g,x])=>j0(a,g,x)):j0(a,u,f)}});function If(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Il(e)&&Il(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...n};for(const u of i){const f=If(e[u],n[u]);if(!f.valid)return{valid:!1,mergeErrorPath:[u,...f.mergeErrorPath]};c[u]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const c=e[i],u=n[i],f=If(c,u);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};a.push(f.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function j0(e,n,a){if(n.issues.length&&e.issues.push(...n.issues),a.issues.length&&e.issues.push(...a.issues),Ei(e))return e;const i=If(n.value,a.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const V5=he("$ZodEnum",(e,n)=>{Zt.init(e,n);const a=YC(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(c=>XC.has(typeof c)).map(c=>typeof c=="string"?ki(c):c.toString()).join("|")})$`),e._zod.parse=(c,u)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:a,input:f,inst:e}),c}}),F5=he("$ZodLiteral",(e,n)=>{if(Zt.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(a=>typeof a=="string"?ki(a):a?ki(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,i)=>{const c=a.value;return e._zod.values.has(c)||a.issues.push({code:"invalid_value",values:n.values,input:c,inst:e}),a}}),Q5=he("$ZodTransform",(e,n)=>{Zt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Hb(e.constructor.name);const c=n.transform(a.value,a);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(a.value=f,a));if(c instanceof Promise)throw new Ci;return a.value=c,a}});function E0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const I5=he("$ZodOptional",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",bt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),bt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Sh(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>E0(u,a.value)):E0(c,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),G5=he("$ZodNullable",(e,n)=>{Zt.init(e,n),bt(e._zod,"optin",()=>n.innerType._zod.optin),bt(e._zod,"optout",()=>n.innerType._zod.optout),bt(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${Sh(a.source)}|null)$`):void 0}),bt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),W5=he("$ZodDefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",bt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>N0(u,n)):N0(c,n)}});function N0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const Y5=he("$ZodPrefault",(e,n)=>{Zt.init(e,n),e._zod.optin="optional",bt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),K5=he("$ZodNonOptional",(e,n)=>{Zt.init(e,n),bt(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>_0(u,e)):_0(c,e)}});function _0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const P5=he("$ZodCatch",(e,n)=>{Zt.init(e,n),bt(e._zod,"optin",()=>n.innerType._zod.optin),bt(e._zod,"optout",()=>n.innerType._zod.optout),bt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(f=>Mr(f,i,Dr()))},input:a.value}),a.issues=[]),a)):(a.value=c.value,c.issues.length&&(a.value=n.catchValue({...a,error:{issues:c.issues.map(u=>Mr(u,i,Dr()))},input:a.value}),a.issues=[]),a)}}),X5=he("$ZodPipe",(e,n)=>{Zt.init(e,n),bt(e._zod,"values",()=>n.in._zod.values),bt(e._zod,"optin",()=>n.in._zod.optin),bt(e._zod,"optout",()=>n.out._zod.optout),bt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(f=>_c(f,n.in,i)):_c(u,n.in,i)}const c=n.in._zod.run(a,i);return c instanceof Promise?c.then(u=>_c(u,n.out,i)):_c(c,n.out,i)}});function _c(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const J5=he("$ZodReadonly",(e,n)=>{Zt.init(e,n),bt(e._zod,"propValues",()=>n.innerType._zod.propValues),bt(e._zod,"values",()=>n.innerType._zod.values),bt(e._zod,"optin",()=>n.innerType._zod.optin),bt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const c=n.innerType._zod.run(a,i);return c instanceof Promise?c.then(C0):C0(c)}});function C0(e){return e.value=Object.freeze(e.value),e}const eT=he("$ZodCustom",(e,n)=>{as.init(e,n),Zt.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,c=n.fn(i);if(c instanceof Promise)return c.then(u=>k0(u,a,i,e));k0(c,a,i,e)}});function k0(e,n,a,i){if(!e){const c={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),n.issues.push(Gl(c))}}class tT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const c={...i,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function nT(){return new tT}const Cc=nT();function sT(e,n){return new e({type:"string",...Be(n)})}function aT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Be(n)})}function T0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Be(n)})}function rT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Be(n)})}function iT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Be(n)})}function lT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Be(n)})}function oT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Be(n)})}function cT(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Be(n)})}function uT(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Be(n)})}function dT(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Be(n)})}function fT(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Be(n)})}function hT(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Be(n)})}function mT(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Be(n)})}function pT(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Be(n)})}function gT(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Be(n)})}function xT(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Be(n)})}function vT(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Be(n)})}function bT(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Be(n)})}function yT(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Be(n)})}function wT(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Be(n)})}function ST(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Be(n)})}function jT(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Be(n)})}function ET(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Be(n)})}function NT(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Be(n)})}function _T(e,n){return new e({type:"string",format:"date",check:"string_format",...Be(n)})}function CT(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Be(n)})}function kT(e,n){return new e({type:"string",format:"duration",check:"string_format",...Be(n)})}function TT(e,n){return new e({type:"number",checks:[],...Be(n)})}function AT(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Be(n)})}function DT(e,n){return new e({type:"boolean",...Be(n)})}function MT(e){return new e({type:"unknown"})}function RT(e,n){return new e({type:"never",...Be(n)})}function A0(e,n){return new Xb({check:"less_than",...Be(n),value:e,inclusive:!1})}function Nf(e,n){return new Xb({check:"less_than",...Be(n),value:e,inclusive:!0})}function D0(e,n){return new Jb({check:"greater_than",...Be(n),value:e,inclusive:!1})}function _f(e,n){return new Jb({check:"greater_than",...Be(n),value:e,inclusive:!0})}function M0(e,n){return new Yk({check:"multiple_of",...Be(n),value:e})}function ay(e,n){return new Pk({check:"max_length",...Be(n),maximum:e})}function Fc(e,n){return new Xk({check:"min_length",...Be(n),minimum:e})}function ry(e,n){return new Jk({check:"length_equals",...Be(n),length:e})}function zT(e,n){return new e5({check:"string_format",format:"regex",...Be(n),pattern:e})}function OT(e){return new t5({check:"string_format",format:"lowercase",...Be(e)})}function LT(e){return new n5({check:"string_format",format:"uppercase",...Be(e)})}function UT(e,n){return new s5({check:"string_format",format:"includes",...Be(n),includes:e})}function BT(e,n){return new a5({check:"string_format",format:"starts_with",...Be(n),prefix:e})}function qT(e,n){return new r5({check:"string_format",format:"ends_with",...Be(n),suffix:e})}function to(e){return new i5({check:"overwrite",tx:e})}function $T(e){return to(n=>n.normalize(e))}function ZT(){return to(e=>e.trim())}function HT(){return to(e=>e.toLowerCase())}function VT(){return to(e=>e.toUpperCase())}function FT(e,n,a){return new e({type:"array",element:n,...Be(a)})}function QT(e,n,a){return new e({type:"custom",check:"custom",fn:n,...Be(a)})}function IT(e){const n=GT(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(Gl(i,a.value,n._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=a.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),a.issues.push(Gl(c))}},e(a.value,a)));return n}function GT(e,n){const a=new as({check:"custom",...Be(n)});return a._zod.check=e,a}const WT=he("ZodISODateTime",(e,n)=>{y5.init(e,n),zt.init(e,n)});function YT(e){return NT(WT,e)}const KT=he("ZodISODate",(e,n)=>{w5.init(e,n),zt.init(e,n)});function PT(e){return _T(KT,e)}const XT=he("ZodISOTime",(e,n)=>{S5.init(e,n),zt.init(e,n)});function JT(e){return CT(XT,e)}const eA=he("ZodISODuration",(e,n)=>{j5.init(e,n),zt.init(e,n)});function tA(e){return kT(eA,e)}const nA=(e,n)=>{Eh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>ck(e,a)},flatten:{value:a=>ok(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,Qf,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,Qf,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ns=he("ZodError",nA,{Parent:Error}),sA=tu(Ns),aA=nu(Ns),rA=su(Ns),iA=au(Ns),lA=mk(Ns),oA=pk(Ns),cA=gk(Ns),uA=xk(Ns),dA=vk(Ns),fA=bk(Ns),hA=yk(Ns),mA=wk(Ns),Kt=he("ZodType",(e,n)=>(Zt.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(Or(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(a,i)=>nr(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>sA(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>rA(e,a,i),e.parseAsync=async(a,i)=>aA(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>iA(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>lA(e,a,i),e.decode=(a,i)=>oA(e,a,i),e.encodeAsync=async(a,i)=>cA(e,a,i),e.decodeAsync=async(a,i)=>uA(e,a,i),e.safeEncode=(a,i)=>dA(e,a,i),e.safeDecode=(a,i)=>fA(e,a,i),e.safeEncodeAsync=async(a,i)=>hA(e,a,i),e.safeDecodeAsync=async(a,i)=>mA(e,a,i),e.refine=(a,i)=>e.check(l4(a,i)),e.superRefine=a=>e.check(o4(a)),e.overwrite=a=>e.check(to(a)),e.optional=()=>B0(e),e.nullable=()=>q0(e),e.nullish=()=>B0(q0(e)),e.nonoptional=a=>e4(e,a),e.array=()=>iu(e),e.or=a=>HA([e,a]),e.and=a=>FA(e,a),e.transform=a=>$0(e,WA(a)),e.default=a=>PA(e,a),e.prefault=a=>JA(e,a),e.catch=a=>n4(e,a),e.pipe=a=>$0(e,a),e.readonly=()=>r4(e),e.describe=a=>{const i=e.clone();return Cc.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){return Cc.get(e)?.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return Cc.get(e);const i=e.clone();return Cc.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),iy=he("_ZodString",(e,n)=>{Nh.init(e,n),Kt.init(e,n);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(zT(...i)),e.includes=(...i)=>e.check(UT(...i)),e.startsWith=(...i)=>e.check(BT(...i)),e.endsWith=(...i)=>e.check(qT(...i)),e.min=(...i)=>e.check(Fc(...i)),e.max=(...i)=>e.check(ay(...i)),e.length=(...i)=>e.check(ry(...i)),e.nonempty=(...i)=>e.check(Fc(1,...i)),e.lowercase=i=>e.check(OT(i)),e.uppercase=i=>e.check(LT(i)),e.trim=()=>e.check(ZT()),e.normalize=(...i)=>e.check($T(...i)),e.toLowerCase=()=>e.check(HT()),e.toUpperCase=()=>e.check(VT())}),pA=he("ZodString",(e,n)=>{Nh.init(e,n),iy.init(e,n),e.email=a=>e.check(aT(gA,a)),e.url=a=>e.check(cT(xA,a)),e.jwt=a=>e.check(ET(MA,a)),e.emoji=a=>e.check(uT(vA,a)),e.guid=a=>e.check(T0(R0,a)),e.uuid=a=>e.check(rT(kc,a)),e.uuidv4=a=>e.check(iT(kc,a)),e.uuidv6=a=>e.check(lT(kc,a)),e.uuidv7=a=>e.check(oT(kc,a)),e.nanoid=a=>e.check(dT(bA,a)),e.guid=a=>e.check(T0(R0,a)),e.cuid=a=>e.check(fT(yA,a)),e.cuid2=a=>e.check(hT(wA,a)),e.ulid=a=>e.check(mT(SA,a)),e.base64=a=>e.check(wT(TA,a)),e.base64url=a=>e.check(ST(AA,a)),e.xid=a=>e.check(pT(jA,a)),e.ksuid=a=>e.check(gT(EA,a)),e.ipv4=a=>e.check(xT(NA,a)),e.ipv6=a=>e.check(vT(_A,a)),e.cidrv4=a=>e.check(bT(CA,a)),e.cidrv6=a=>e.check(yT(kA,a)),e.e164=a=>e.check(jT(DA,a)),e.datetime=a=>e.check(YT(a)),e.date=a=>e.check(PT(a)),e.time=a=>e.check(JT(a)),e.duration=a=>e.check(tA(a))});function $t(e){return sT(pA,e)}const zt=he("ZodStringFormat",(e,n)=>{At.init(e,n),iy.init(e,n)}),gA=he("ZodEmail",(e,n)=>{d5.init(e,n),zt.init(e,n)}),R0=he("ZodGUID",(e,n)=>{c5.init(e,n),zt.init(e,n)}),kc=he("ZodUUID",(e,n)=>{u5.init(e,n),zt.init(e,n)}),xA=he("ZodURL",(e,n)=>{f5.init(e,n),zt.init(e,n)}),vA=he("ZodEmoji",(e,n)=>{h5.init(e,n),zt.init(e,n)}),bA=he("ZodNanoID",(e,n)=>{m5.init(e,n),zt.init(e,n)}),yA=he("ZodCUID",(e,n)=>{p5.init(e,n),zt.init(e,n)}),wA=he("ZodCUID2",(e,n)=>{g5.init(e,n),zt.init(e,n)}),SA=he("ZodULID",(e,n)=>{x5.init(e,n),zt.init(e,n)}),jA=he("ZodXID",(e,n)=>{v5.init(e,n),zt.init(e,n)}),EA=he("ZodKSUID",(e,n)=>{b5.init(e,n),zt.init(e,n)}),NA=he("ZodIPv4",(e,n)=>{E5.init(e,n),zt.init(e,n)}),_A=he("ZodIPv6",(e,n)=>{N5.init(e,n),zt.init(e,n)}),CA=he("ZodCIDRv4",(e,n)=>{_5.init(e,n),zt.init(e,n)}),kA=he("ZodCIDRv6",(e,n)=>{C5.init(e,n),zt.init(e,n)}),TA=he("ZodBase64",(e,n)=>{k5.init(e,n),zt.init(e,n)}),AA=he("ZodBase64URL",(e,n)=>{A5.init(e,n),zt.init(e,n)}),DA=he("ZodE164",(e,n)=>{D5.init(e,n),zt.init(e,n)}),MA=he("ZodJWT",(e,n)=>{R5.init(e,n),zt.init(e,n)}),ly=he("ZodNumber",(e,n)=>{ty.init(e,n),Kt.init(e,n),e.gt=(i,c)=>e.check(D0(i,c)),e.gte=(i,c)=>e.check(_f(i,c)),e.min=(i,c)=>e.check(_f(i,c)),e.lt=(i,c)=>e.check(A0(i,c)),e.lte=(i,c)=>e.check(Nf(i,c)),e.max=(i,c)=>e.check(Nf(i,c)),e.int=i=>e.check(z0(i)),e.safe=i=>e.check(z0(i)),e.positive=i=>e.check(D0(0,i)),e.nonnegative=i=>e.check(_f(0,i)),e.negative=i=>e.check(A0(0,i)),e.nonpositive=i=>e.check(Nf(0,i)),e.multipleOf=(i,c)=>e.check(M0(i,c)),e.step=(i,c)=>e.check(M0(i,c)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});function RA(e){return TT(ly,e)}const zA=he("ZodNumberFormat",(e,n)=>{z5.init(e,n),ly.init(e,n)});function z0(e){return AT(zA,e)}const OA=he("ZodBoolean",(e,n)=>{O5.init(e,n),Kt.init(e,n)});function O0(e){return DT(OA,e)}const LA=he("ZodUnknown",(e,n)=>{L5.init(e,n),Kt.init(e,n)});function L0(){return MT(LA)}const UA=he("ZodNever",(e,n)=>{U5.init(e,n),Kt.init(e,n)});function BA(e){return RT(UA,e)}const qA=he("ZodArray",(e,n)=>{B5.init(e,n),Kt.init(e,n),e.element=n.element,e.min=(a,i)=>e.check(Fc(a,i)),e.nonempty=a=>e.check(Fc(1,a)),e.max=(a,i)=>e.check(ay(a,i)),e.length=(a,i)=>e.check(ry(a,i)),e.unwrap=()=>e.element});function iu(e,n){return FT(qA,e,n)}const $A=he("ZodObject",(e,n)=>{$5.init(e,n),Kt.init(e,n),bt(e,"shape",()=>n.shape),e.keyof=()=>QA(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:L0()}),e.loose=()=>e.clone({...e._zod.def,catchall:L0()}),e.strict=()=>e.clone({...e._zod.def,catchall:BA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>sk(e,a),e.safeExtend=a=>ak(e,a),e.merge=a=>rk(e,a),e.pick=a=>tk(e,a),e.omit=a=>nk(e,a),e.partial=(...a)=>ik(oy,e,a[0]),e.required=(...a)=>lk(cy,e,a[0])});function ga(e,n){const a={type:"object",shape:e??{},...Be(n)};return new $A(a)}const ZA=he("ZodUnion",(e,n)=>{Z5.init(e,n),Kt.init(e,n),e.options=n.options});function HA(e,n){return new ZA({type:"union",options:e,...Be(n)})}const VA=he("ZodIntersection",(e,n)=>{H5.init(e,n),Kt.init(e,n)});function FA(e,n){return new VA({type:"intersection",left:e,right:n})}const Gf=he("ZodEnum",(e,n)=>{V5.init(e,n),Kt.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,c)=>{const u={};for(const f of i)if(a.has(f))u[f]=n.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Gf({...n,checks:[],...Be(c),entries:u})},e.exclude=(i,c)=>{const u={...n.entries};for(const f of i)if(a.has(f))delete u[f];else throw new Error(`Key ${f} not found in enum`);return new Gf({...n,checks:[],...Be(c),entries:u})}});function QA(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Gf({type:"enum",entries:a,...Be(n)})}const IA=he("ZodLiteral",(e,n)=>{F5.init(e,n),Kt.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function U0(e,n){return new IA({type:"literal",values:Array.isArray(e)?e:[e],...Be(n)})}const GA=he("ZodTransform",(e,n)=>{Q5.init(e,n),Kt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Hb(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(Gl(u,a.value,n));else{const f=u;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=a.value),f.inst??(f.inst=e),a.issues.push(Gl(f))}};const c=n.transform(a.value,a);return c instanceof Promise?c.then(u=>(a.value=u,a)):(a.value=c,a)}});function WA(e){return new GA({type:"transform",transform:e})}const oy=he("ZodOptional",(e,n)=>{I5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function B0(e){return new oy({type:"optional",innerType:e})}const YA=he("ZodNullable",(e,n)=>{G5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function q0(e){return new YA({type:"nullable",innerType:e})}const KA=he("ZodDefault",(e,n)=>{W5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function PA(e,n){return new KA({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Qb(n)}})}const XA=he("ZodPrefault",(e,n)=>{Y5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function JA(e,n){return new XA({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Qb(n)}})}const cy=he("ZodNonOptional",(e,n)=>{K5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function e4(e,n){return new cy({type:"nonoptional",innerType:e,...Be(n)})}const t4=he("ZodCatch",(e,n)=>{P5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function n4(e,n){return new t4({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const s4=he("ZodPipe",(e,n)=>{X5.init(e,n),Kt.init(e,n),e.in=n.in,e.out=n.out});function $0(e,n){return new s4({type:"pipe",in:e,out:n})}const a4=he("ZodReadonly",(e,n)=>{J5.init(e,n),Kt.init(e,n),e.unwrap=()=>e._zod.def.innerType});function r4(e){return new a4({type:"readonly",innerType:e})}const i4=he("ZodCustom",(e,n)=>{eT.init(e,n),Kt.init(e,n)});function l4(e,n={}){return QT(i4,e,n)}function o4(e){return IT(e)}const c4=ga({key:$t(),label:$t(),path:$t(),ordinal:RA().int(),required:O0().optional(),enabled:O0().optional(),depends_on:iu($t()).optional()}).transform(e=>({...e,depends_on:e.depends_on??[]})),Z0=ga({path:$t()}).strict();ga({name:$t(),files_hash:$t().default(""),columns:iu(c4).default([]),table:ga({transform:Z0.nullable().optional(),validators:Z0.nullable().optional()}).partial().optional()}).passthrough();function uy(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const a=[],i=new Map;for(const c of e){const u=Array.isArray(c.items)?c.items:[];for(const f of u){const m=n(f),g=i.get(m);if(g===void 0){i.set(m,a.length),a.push(f);continue}a[g]=f}}return a},[e,n])}const dy={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},u4=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Ul="mine",Nr={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function d4(e){return e&&Object.keys(Nr).includes(e)?e:Ul}function f4(e){if(!e)return new Set;const a=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(a)}function h4(e){return new Set(u4).has(e??"")?e:"-created_at"}const fy=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ti={all:()=>["documents"],workspace:e=>[...Ti.all(),e],list:(e,n,a)=>[...Ti.workspace(e),"list",{sort:n,uploader:a}]},hy=50;function m4(){const{workspace:e}=tr(),n=Rr(),[a,i]=xh(),c=p.useRef(i);p.useEffect(()=>{c.current=i},[i]);const u=d4(a.get("view")),[f,m]=p.useState(u),[g,x]=p.useState(()=>{const ye=a.get("status");if(ye)return f4(ye);const _e=Nr[u].presetStatuses??[];return new Set(_e)}),[b,y]=p.useState(()=>{const ye=a.get("sort");return ye?h4(ye):Nr[u].presetSort??"-created_at"}),[w,j]=p.useState(a.get("q")??""),[T,E]=p.useState(w.trim()),O=p.useMemo(()=>Array.from(g),[g]),_=Nr[f].uploader??null,A=p.useRef(null),[$,Z]=p.useState(new Set),X=p.useMemo(()=>new Set($),[$]),W=p.useMemo(()=>Array.from(X),[X]),K=X.size,ne=g4(e.id),ie=x4(e.id),le=sh(),pe=le.data?.enabled??!1,de=le.data?.detail??Us,ge=le.isPending,[we,B]=p.useState(null),[ee,xe]=p.useState(null),[Se,oe]=p.useState(null),N=ne.isPending,V=ie.isPending,z=p4(e.id,{sort:b,uploader:_}),{refetch:R}=z,Q=p.useCallback(ye=>ye.id,[]),F=uy(z.data?.pages,Q),me=p.useMemo(()=>{const ye=T.toLowerCase(),_e=_==="me"?n.user.id:null,Ve=_==="me"?n.user.email??null:null;return F.filter(yt=>{if(O.length>0&&!O.includes(yt.status))return!1;if(_==="me"){const st=yt.uploader_id??yt.uploader?.id??null,Xt=yt.uploader?.email??null;if(_e&&st&&st!==_e||!st&&Ve&&Xt&&Xt!==Ve)return!1}return!(ye&&!`${yt.name??""} ${yt.source??""}`.toLowerCase().includes(ye))})},[T,F,n.user.email,n.user.id,O,_]),be=z.isFetchingNextPage,Ee=z.isFetching&&!be,I=me.length;p.useEffect(()=>{const ye=a.get("q")??"";j(Ve=>Ve===ye?Ve:ye);const _e=ye.trim();E(Ve=>Ve===_e?Ve:_e)},[a]),p.useEffect(()=>{const ye=new URLSearchParams;g.size>0&&ye.set("status",Array.from(g).join(",")),b!=="-created_at"&&ye.set("sort",b),T&&ye.set("q",T),f!==Ul&&ye.set("view",f),c.current(ye,{replace:!0})},[g,b,T,f]),p.useEffect(()=>{const ye=window.setTimeout(()=>E(w.trim()),250);return()=>window.clearTimeout(ye)},[w]),p.useEffect(()=>{Z(ye=>{if(ye.size===0)return ye;const _e=new Set,Ve=new Set(me.map(st=>st.id));let yt=!1;for(const st of ye)Ve.has(st)?_e.add(st):yt=!0;return yt?_e:ye})},[me]);const Ne=p.useMemo(()=>{for(const ye of me)if(X.has(ye.id))return ye;return null},[me,X]),ke=p.useCallback(ye=>{const _e=Nr[ye];m(ye),x(new Set(_e.presetStatuses??[])),y(_e.presetSort??"-created_at"),j(""),E("")},[]),Ze=p.useCallback(ye=>{x(_e=>{const Ve=new Set(_e);return Ve.has(ye)?Ve.delete(ye):Ve.add(ye),Ve})},[]),Oe=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const ye=_e=>{if((_e.metaKey||_e.ctrlKey)&&_e.key.toLowerCase()==="u"){_e.preventDefault(),A.current?.click();return}(_e.key==="Delete"||_e.key==="Backspace")&&K>0&&(_e.preventDefault(),C())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[K]);const Ae=p.useCallback(ye=>dy[ye]??ye,[]),Fe=p.useCallback(ye=>l.jsx(Z4,{document:ye}),[]),et=p.useCallback(()=>{A.current?.click()},[]),tt=p.useCallback(async ye=>{if(ye.length){B(null);try{await ne.mutateAsync({files:ye})}catch(_e){const Ve=_e instanceof Error?_e.message:"Failed to upload documents.";B({tone:"error",message:Ve})}}},[ne]),Pt=async ye=>{const _e=Array.from(ye.target.files??[]);await tt(_e),ye.target.value=""},D=ye=>{Z(_e=>{const Ve=new Set(_e);return Ve.has(ye)?Ve.delete(ye):Ve.add(ye),Ve})},k=()=>{Z(ye=>{if(me.length===0)return new Set;const _e=me.map(Ve=>Ve.id);return ye.size===me.length&&_e.every(Ve=>ye.has(Ve))?new Set:new Set(_e)})},C=p.useCallback(async()=>{const ye=W;if(ye.length){B(null);try{await ie.mutateAsync({documentIds:ye}),Z(new Set)}catch(_e){const Ve=_e instanceof Error?_e.message:"Failed to delete documents.";B({tone:"error",message:Ve})}}},[ie,W]),se=p.useCallback(async ye=>{B(null);try{await ie.mutateAsync({documentIds:[ye.id]}),Z(_e=>{const Ve=new Set(_e);return Ve.delete(ye.id),Ve})}catch(_e){const Ve=_e instanceof Error?_e.message:"Failed to delete document.";B({tone:"error",message:Ve})}},[ie]),J=p.useCallback(async ye=>{try{xe(ye.id);const{blob:_e,filename:Ve}=await w4(e.id,ye.id);Q4(_e,Ve??ye.name)}catch(_e){const Ve=_e instanceof Error?_e.message:"Failed to download document.";B({tone:"error",message:Ve})}finally{xe(null)}},[e.id]),ae=p.useCallback(ye=>{oe(ye)},[]),je=p.useCallback(()=>{R()},[R]),qe=p.useCallback(ye=>{B({tone:"error",message:ye})},[]),He=()=>{m(Ul),j(""),E(""),x(new Set),y("-created_at")},vt=f===Ul&&g.size===0&&b==="-created_at"&&!T;return l.jsxs(l.Fragment,{children:[l.jsx(U4,{workspaceName:e.name??void 0,disabled:N,onFiles:async ye=>{await tt(ye)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:A,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Pt}),l.jsx(j4,{workspaceName:e.name,totalDocuments:I,view:f,onChangeView:ke,sort:b,onSort:y,onReset:He,isFetching:z.isFetching,isDefault:vt,onUploadClick:et,uploadDisabled:N,selectedStatuses:g,onToggleStatus:Ze,onClearStatuses:Oe}),we?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:we.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:z.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(B4,{})}):z.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):me.length===0?l.jsx("div",{className:"p-6",children:l.jsx($4,{onUploadClick:et})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(_4,{documents:me,selectedIds:X,onToggleDocument:D,onToggleAll:k,disableSelection:Ee||V||ne.isPending,disableRowActions:ie.isPending,formatStatusLabel:Ae,onDeleteDocument:se,onDownloadDocument:J,onRunDocument:ae,downloadingId:ee,renderRunStatus:Fe,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge})}),z.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>z.fetchNextPage(),disabled:be,children:be?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(q4,{count:K,onClear:()=>Z(new Set),onRun:()=>{Ne&&!pe&&!ge&&ae(Ne)},onDelete:C,busy:V,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge}),l.jsx(O4,{open:!!Se,workspaceId:e.id,documentRecord:Se,onClose:()=>oe(null),onRunSuccess:je,onRunError:qe,safeModeEnabled:pe,safeModeMessage:de,safeModeLoading:ge})]})}function p4(e,n){const a=n.sort.trim()||null;return Nv({queryKey:Ti.list(e,a,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:c})=>y4(e,{sort:a,page:typeof i=="number"?i:1,pageSize:hy},c),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function g4(e){const n=xt();return Dn({mutationFn:async({files:a})=>{const i=Array.from(a);for(const c of i)await Ge.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",c),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ti.workspace(e)})}})}function x4(e){const n=xt();return Dn({mutationFn:async({documentIds:a})=>{await Promise.all(a.map(i=>Ge.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ti.workspace(e)})}})}function v4(e){const n=xt();return Dn({mutationFn:async({configId:a,options:i})=>{const{data:c}=await Ge.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:a}},body:{stream:!1,options:i}});if(!c)throw new Error("Expected run payload.");return c},onSuccess:()=>{n.invalidateQueries({queryKey:Ti.workspace(e)})}})}function b4(e,n){const a=p.useMemo(()=>Ja(`ade.workspace.${e}.document_runs`),[e]),[i,c]=p.useState(()=>H0(a,n));p.useEffect(()=>{c(H0(a,n))},[a,n]);const u=p.useCallback(f=>{c(f);const m=a.get()??{};a.set({...m,[n]:{configId:f.configId,configVersionId:f.configVersionId,sheetNames:f.sheetNames&&f.sheetNames.length>0?[...f.sheetNames]:null}})},[a,n]);return{preferences:i,setPreferences:u}}async function y4(e,n,a){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:hy,include_total:!1},{data:c}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:a});if(!c)throw new Error("Expected document page payload.");return c}async function w4(e,n){const{data:a,response:i}=await Ge.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!a)throw new Error("Expected document download payload.");const c=S4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:a,filename:c}}function S4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function H0(e,n){const a=e.get();if(a&&typeof a=="object"&&n in a){const i=a[n];if(i&&typeof i=="object"){const c=[];if("sheetName"in i){const m=i.sheetName;typeof m=="string"&&c.push(m)}const f=(Array.isArray(i.sheetNames)?i.sheetNames.filter(m=>typeof m=="string"&&m.length>0):null)??(c.length>0?c:null);return{configId:i.configId??null,configVersionId:i.configVersionId??null,sheetNames:f}}}return{configId:null,configVersionId:null,sheetNames:null}}function j4({workspaceName:e,totalDocuments:n,view:a,onChangeView:i,sort:c,onSort:u,onReset:f,isFetching:m,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}){const T=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4",role:"region","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:T})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:f,disabled:g,className:ve("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(ze,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(E4,{view:a,onChange:i}),l.jsx(N4,{selectedStatuses:y,onToggleStatus:w,onClearStatuses:j}),l.jsxs(er,{value:c,onChange:E=>u(E.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:ve("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",m?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function E4({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Nr).map(a=>{const i=Nr[a],c=a===e;return l.jsx("button",{type:"button",onClick:()=>n(a),className:ve("rounded-full px-3 py-1 text-xs font-medium transition",c?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},a)})})}function N4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:a}){const[i,c]=p.useState(!1),u=p.useRef(null),f=Object.entries(dy),m=e.size>0,g=m?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&c(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>c(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(R4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{a(),c(!1)},className:ve("text-[11px]",m?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:f.map(([x,b])=>{const y=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>c(!1),children:"Done"})})]}):null]})}function _4({documents:e,selectedIds:n,onToggleDocument:a,onToggleAll:i,disableSelection:c=!1,disableRowActions:u=!1,formatStatusLabel:f,onDeleteDocument:m,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:y,safeModeEnabled:w=!1,safeModeMessage:j,safeModeLoading:T=!1}){const E=p.useRef(null),{allSelected:O,someSelected:U}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const _=e.reduce((A,$)=>n.has($.id)?A+1:A,0);return{allSelected:_===e.length,someSelected:_>0&&_<e.length}},[e,n]);return p.useEffect(()=>{E.current&&(E.current.indeterminate=U)},[U]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:E,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:O,onChange:i,disabled:c||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(_=>{const A=n.has(_.id);return l.jsxs("tr",{className:ve("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",A?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:A,onChange:()=>a(_.id),disabled:c})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:_.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:_.name,children:_.name}),l.jsx("div",{className:"text-xs text-slate-500",children:k4(_)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:_.created_at,className:"block text-xs text-slate-600",title:fy.format(new Date(_.created_at)),children:M4(_)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:_.uploader?.name??_.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:y?y(_):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",D4(_.status)),children:f?f(_.status):_.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(C4,{document:_,onDownload:g,onDelete:m,onRun:x,disabled:u,downloading:b===_.id,safeModeEnabled:w,safeModeMessage:j,safeModeLoading:T})})]},_.id)})})]})})}function C4({document:e,onDownload:n,onDelete:a,onRun:i,disabled:c=!1,downloading:u=!1,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=c||!i||f||g,b=f?m??Us:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(ze,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:ve("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:c||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>a?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:c,children:"Delete"})]})}function k4(e){const n=[];return e.content_type&&n.push(T4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(A4(e.byte_size)),n.join("  ")||"Unknown type"}function T4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function A4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let a=e/1024,i=0;for(;a>=1024&&i<n.length-1;)a/=1024,i+=1;return`${a>=10?Math.round(a):Math.round(a*10)/10} ${n[i]}`}function D4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function M4(e){return fy.format(new Date(e.created_at))}function R4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function z4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:ve("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function O4({open:e,workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f=!1,safeModeMessage:m,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!a?null:pa.createPortal(l.jsx(L4,{workspaceId:n,documentRecord:a,onClose:i,onRunSuccess:c,onRunError:u,safeModeEnabled:f,safeModeMessage:m,safeModeLoading:g}),window.document.body)}function L4({workspaceId:e,documentRecord:n,onClose:a,onRunSuccess:i,onRunError:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),y=bh({workspaceId:e}),[w,j]=p.useState(""),[T,E]=p.useState(""),O=v4(e),{preferences:U,setPreferences:_}=b4(e,n.id),[A,$]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{$(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const Z=p.useMemo(()=>y.data?.items??[],[y.data]),X=p.useMemo(()=>Z.filter(k=>!("deleted_at"in k&&k.deleted_at)),[Z]),W=p.useMemo(()=>{if(U.configId){const k=X.find(C=>C.id===U.configId);if(k)return k.id}return X[0]?.id??""},[U.configId,X]);p.useEffect(()=>{j(W)},[W]);const K=GC({workspaceId:e,configId:w,enabled:!!w}),ne=p.useMemo(()=>K.data??[],[K.data]),ie=p.useMemo(()=>X.find(k=>k.id===w)??null,[X,w]),le=p.useMemo(()=>ne.find(k=>k.configuration_version_id===T)??null,[ne,T]),pe=p.useMemo(()=>i_(ne),[ne]),de=p.useMemo(()=>l_(ne),[ne]),ge=p.useMemo(()=>{if(!w)return"";if(U.configId===w&&U.configVersionId){const k=ne.find(C=>C.configuration_version_id===U.configVersionId);if(k)return k.configuration_version_id}return pe?pe.configuration_version_id:de?de.configuration_version_id:ne[0]?.configuration_version_id??""},[pe,de,U.configId,U.configVersionId,w,ne]);p.useEffect(()=>{E(ge)},[ge]);const we=p.useCallback(k=>{const C=typeof k.status=="string"?k.status:"draft";return`${k.title??k.display_name??"Untitled configuration"} (${C.charAt(0).toUpperCase()}${C.slice(1)})`},[]),B=p.useCallback(k=>{const C=k.status==="active"?"Active":k.status==="published"?"Published":k.status==="inactive"?"Inactive":"Draft";return`v${k.semver??""} (${C})`},[]),[ee,xe]=p.useState(null),Se=f??Us,oe=hn({queryKey:A?Sc.detail(A):["run","none"],queryFn:({signal:k})=>A?Sb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A,refetchInterval:k=>{const C=k.state.data?.status;return C==="running"||C==="queued"?2e3:!1}}),N=hn({queryKey:A?Sc.outputs(A):["run-outputs","none"],queryFn:({signal:k})=>A?yb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),V=hn({queryKey:A?Sc.summary(A):["run-summary","none"],queryFn:({signal:k})=>A?jb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),z=hn({queryKey:A?Sc.telemetry(A):["run-telemetry","none"],queryFn:({signal:k})=>A?wb(A,k):Promise.reject(new Error("No run selected")),enabled:!!A&&(oe.data?.status==="succeeded"||oe.data?.status==="failed"),staleTime:5e3}),R=hn({queryKey:["document-sheets",e,n.id],queryFn:({signal:k})=>Eb(e,n.id,k),staleTime:6e4}),Q=p.useMemo(()=>R.data??[],[R.data]),[F,me]=p.useState([]);p.useEffect(()=>{if(!Q.length){me([]);return}const k=(U.sheetNames??[]).filter(se=>Q.some(J=>J.name===se)),C=Array.from(new Set(k));me(C)},[Q,U.sheetNames]);const be=p.useMemo(()=>Array.from(new Set(F.filter(k=>Q.some(C=>C.name===k)))),[F,Q]);p.useEffect(()=>{!ie||!T||_({configId:ie.id,configVersionId:T,sheetNames:be.length?be:null})},[be,ie,T,_]);const Ee=p.useCallback(k=>{me(C=>C.includes(k)?C.filter(se=>se!==k):[...C,k])},[]),Ne=(oe.data??null)?.status??null,ke=Ne==="running"||Ne==="queued",Ze=A?`/api/v1/runs/${encodeURIComponent(A)}`:null,Oe=N.data?.files??[],Ae=V.data??null,Fe=z.data??[];p.useEffect(()=>{const k=g.current;if(!k)return;(V0(k)[0]??k).focus();const se=J=>{if(J.key==="Escape"){J.preventDefault(),a();return}if(J.key!=="Tab")return;const ae=V0(k);if(ae.length===0){J.preventDefault();return}const je=ae[0],qe=ae[ae.length-1],He=window.document.activeElement;if(J.shiftKey){(!k.contains(He)||He===je)&&(J.preventDefault(),qe.focus());return}He===qe&&(J.preventDefault(),je.focus())};return k.addEventListener("keydown",se),()=>k.removeEventListener("keydown",se)},[a]);const et=X.length>0,tt=O.isPending||ke||m||u||!et||!T,Pt=u?Se:m?"Checking ADE safe mode status...":void 0,D=()=>{if(u||m)return;if(!ie||!le||!T){xe("Select a configuration before running the extractor.");return}xe(null),$(null);const k=be,C=k.length>0?{dry_run:!1,validate_only:!1,input_sheet_names:k}:{dry_run:!1,validate_only:!1};O.mutate({configId:ie.id,options:{...C,input_document_id:n.id}},{onSuccess:se=>{_({configId:ie.id,configVersionId:T,sheetNames:k.length?k:null}),i?.(se),$(se.id)},onError:se=>{const J=se instanceof Error?se.message:"Unable to submit extraction run.";xe(J),c?.(J)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:a}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:a,disabled:O.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),y.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):y.isError?l.jsxs(ut,{tone:"danger",children:["Unable to load configurations."," ",y.error instanceof Error?y.error.message:"Try again later."]}):et?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(er,{value:w,onChange:k=>{const C=k.target.value;j(C),E("")},disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),X.map(k=>l.jsx("option",{value:k.id,children:we(k)},k.id))]}),w?K.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading versions"}):K.isError?l.jsxs(ut,{tone:"danger",children:["Unable to load configuration versions."," ",K.error instanceof Error?K.error.message:"Try again later."]}):ne.length>0?l.jsxs(er,{value:T,onChange:k=>E(k.target.value),disabled:O.isPending,children:[l.jsx("option",{value:"",children:"Select version"}),ne.map(k=>l.jsx("option",{value:k.configuration_version_id,children:B(k)},k.configuration_version_id))]}):l.jsx(ut,{tone:"info",children:"No versions available for this configuration."}):null]}):l.jsx(ut,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),R.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):R.isError?l.jsx(ut,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>R.refetch(),disabled:R.isFetching,children:"Retry loading"}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>me([]),disabled:O.isPending,children:"Use all worksheets"})]})]})}):Q.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:be.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${be.length.toLocaleString()} worksheet${be.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>me([]),disabled:O.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:Q.map(k=>{const C=be.includes(k.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:C,onChange:()=>Ee(k.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[k.name,k.is_active?" (active)":""]})]},`${k.index}-${k.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),A?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:A,children:["Run ",A]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",Ne??"loading"]})]}),ke?l.jsx(z4,{className:"h-4 w-4 text-slate-500"}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:Ze?`${Ze}/logs`:void 0,className:ve("inline-flex items-center rounded border px-3 py-1 text-xs font-semibold transition",Ze?"border-slate-300 text-slate-700 hover:bg-slate-100":"cursor-not-allowed border-slate-200 text-slate-400"),"aria-disabled":!Ze,children:"Download telemetry"})}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output files"}),N.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading outputs"}):Oe.length>0?l.jsx("ul",{className:"mt-1 space-y-1 text-xs text-slate-700",children:Oe.map(k=>{const C=k.path??k.name,se=typeof k.byte_size=="number"?k.byte_size:0,J=k.download_url??(Ze?`${Ze}/outputs/${C.split("/").map(encodeURIComponent).join("/")}`:void 0);return l.jsxs("li",{className:"flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1",children:[l.jsx("a",{href:J,className:"text-emerald-700 hover:underline","aria-disabled":!J,children:k.name}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[se.toLocaleString()," bytes"]})]},C)})}):l.jsx("p",{className:"text-xs text-slate-500",children:"Outputs will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),V.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):V.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):Ae?l.jsx($v,{summary:Ae}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),z.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):z.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):Fe.length>0?l.jsx(Zv,{events:Fe}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(ut,{tone:"warning",children:Se}):null,ee?l.jsx(ut,{tone:"danger",children:ee}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:a,disabled:O.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",onClick:D,isLoading:O.isPending,disabled:tt,title:Pt,children:"Run extraction"})]})]})]})}function U4({onFiles:e,disabled:n,workspaceName:a}){const[i,c]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const f=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,c(!0))},m=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&c(!1)},x=b=>{b.preventDefault(),c(!1),u.current=0;const y=Array.from(b.dataTransfer?.files??[]);y.length&&e(y)};return window.addEventListener("dragenter",f),window.addEventListener("dragover",m),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",f),window.removeEventListener("dragover",m),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:ve("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:a??"this workspace"})]})]})]})})})]})}function B4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function q4({count:e,onClear:n,onRun:a,onDelete:i,busy:c,safeModeEnabled:u=!1,safeModeMessage:f,safeModeLoading:m=!1}){if(e===0)return null;const g=c||u||m,x=u?f??Us:m?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(ze,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(ze,{size:"sm",onClick:()=>!g&&a(),disabled:g,title:x,children:"Run extraction"}),l.jsx(ze,{size:"sm",variant:"danger",onClick:i,disabled:c,isLoading:c,children:"Delete selected"})]})]})})}function $4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(ze,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function Z4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:ve("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",H4(n.status)),children:[V4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:F4(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function H4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function V4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wi=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function F4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const a=n.getTime()-Date.now(),i=Math.round(a/1e3);if(Math.abs(i)<60)return wi.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return wi.format(u,"minute");const m=Math.round(u/60);if(Math.abs(m)<24)return wi.format(m,"hour");const x=Math.round(m/24);if(Math.abs(x)<30)return wi.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return wi.format(b,"month");const y=Math.round(x/365);return wi.format(y,"year")}function Q4(e,n){const a=URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(a),1e3)}function V0(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(a=>!a.hasAttribute("disabled")&&a.getAttribute("aria-hidden")!=="true")}function I4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function G4(){return l.jsx(_t,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"info"})}function Wt({label:e,hint:n,error:a,required:i=!1,children:c,className:u}){const f=p.useId(),m=p.isValidElement(c)?c.props??{}:{},g=m.id??f,x=n?`${g}-hint`:void 0,b=a?`${g}-error`:void 0,y=[x,b,m["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:ve("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(c)?p.cloneElement(c,{id:g,required:i||m.required,"aria-describedby":y,"aria-invalid":a?!0:m["aria-invalid"]}):c,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,a?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:a}):null]})}const my="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",ln=p.forwardRef(({className:e,invalid:n=!1,...a},i)=>l.jsx("input",{ref:i,className:ve(my,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...a}));ln.displayName="Input";const py=p.forwardRef(({className:e,invalid:n=!1,rows:a=4,...i},c)=>l.jsx("textarea",{ref:c,rows:a,className:ve(my,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));py.displayName="TextArea";const Cf=[{value:"default",label:"Default template"}],W4=e=>`ade.ui.workspace.${e}.config-builder.last`,kf=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function Y4(){const{workspace:e}=tr(),n=An(),a=p.useMemo(()=>Ja(W4(e.id)),[e.id]),i=bh({workspaceId:e.id}),c=WC(e.id),[u,f]=p.useState(()=>`${e.name} Config`),[m,g]=p.useState(Cf[0]?.value??"default"),[x,b]=p.useState(null),y=p.useMemo(()=>(i.data?.items??[]).filter(_=>!("deleted_at"in _&&_.deleted_at)),[i.data]),w=p.useMemo(()=>a.get(),[a]),j=_=>{a.set({configId:_}),n(kf(e.id,_))},T=_=>{a.set({configId:_}),n(`${kf(e.id,_)}/editor`)},E=_=>{_.preventDefault();const A=u.trim();if(!A){b("Enter a display name for the configuration.");return}b(null),c.mutate({displayName:A,source:{type:"template",templateId:m}},{onSuccess($){a.set({configId:$.id}),n(kf(e.id,$.id))}})},O=x??(c.error instanceof Error?c.error.message:null),U=u.trim().length>0&&!c.isPending;return i.isLoading?l.jsx(_t,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):i.isError?l.jsx(_t,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):y.length===0?l.jsx(_t,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("form",{onSubmit:E,className:"space-y-4 text-left",children:[l.jsx(Wt,{label:"Configuration name",required:!0,children:l.jsx(ln,{value:u,onChange:_=>f(_.target.value),placeholder:"Membership normalization",disabled:c.isPending,autoFocus:!0})}),l.jsx(Wt,{label:"Template",children:l.jsx(er,{value:m,onChange:_=>g(_.target.value),disabled:c.isPending,children:Cf.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),w?.configId?l.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>j(w.configId),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:y.map(_=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:_.display_name}),l.jsx(K4,{status:_.status}),w?.configId===_.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",new Date(_.updated_at).toLocaleString(),"  Active version"," ",("active_version"in _?_.active_version:null)??_.configuration_version??""]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>j(_.id),children:"View details"}),l.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>T(_.id),children:"Open editor"})]})]},_.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsx(Wt,{label:"Configuration name",required:!0,children:l.jsx(ln,{value:u,onChange:_=>f(_.target.value),placeholder:"Membership normalization",disabled:c.isPending})}),l.jsx(Wt,{label:"Template",children:l.jsx(er,{value:m,onChange:_=>g(_.target.value),disabled:c.isPending,children:Cf.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})}),O?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:O}):null,l.jsx(ze,{type:"submit",className:"w-full",disabled:!U,isLoading:c.isPending,children:"Create from template"})]})]})]})}function K4({status:e}){const n=e.toLowerCase(),a=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${a}`,children:e})}function P4({params:e}={}){const{workspace:n}=tr(),a=An(),i=e?.configId,c=bh({workspaceId:n.id}),u=p.useMemo(()=>c.data?.items.find(f=>f.id===i),[c.data,i]);return i?c.isLoading?l.jsx(_t,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:u.display_name})]}),l.jsx(ze,{variant:"secondary",onClick:()=>a(`/workspaces/${n.id}/config-builder/${encodeURIComponent(u.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:u.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:u.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:new Date(u.updated_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active version"}),l.jsx("dd",{className:"text-sm text-slate-700",children:("active_version"in u?u.active_version:null)??u.configuration_version??""})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(_t,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(_t,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function X4({params:e}={}){const{workspace:n}=tr(),{session:a,windowState:i,openSession:c,closeSession:u,minimizeWindow:f,maximizeWindow:m,restoreWindow:g,shouldBypassUnsavedGuard:x}=zb(),b=e?.configId,y=IC({workspaceId:n.id});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b)return;const O=y.data?.display_name??b;c({workspaceId:n.id,configId:b,configName:`${n.name}  ${O}`})},[b,y.data?.display_name,n.id,n.name,c]),!b)return l.jsx(_t,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});const w=a&&a.configId===b?a:null,j=!!(w&&i==="minimized"),T=!!(w&&i==="restored"),E=!!(w&&i==="maximized");return T&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Mb,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:f,onMaximizeWindow:m,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(_t,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}var no=e=>e.type==="checkbox",_r=e=>e instanceof Date,ts=e=>e==null;const gy=e=>typeof e=="object";var on=e=>!ts(e)&&!Array.isArray(e)&&gy(e)&&!_r(e),J4=e=>on(e)&&e.target?no(e.target)?e.target.checked:e.target.value:e,eD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tD=(e,n)=>e.has(eD(n)),nD=e=>{const n=e.constructor&&e.constructor.prototype;return on(n)&&n.hasOwnProperty("isPrototypeOf")},_h=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(_h&&(e instanceof Blob||i))&&(a||on(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!nD(e))n=e;else for(const c in e)e.hasOwnProperty(c)&&(n[c]=vn(e[c]));else return e;return n}var lu=e=>/^\w*$/.test(e),Gt=e=>e===void 0,Ch=e=>Array.isArray(e)?e.filter(Boolean):[],kh=e=>Ch(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,n,a)=>{if(!n||!on(e))return a;const i=(lu(n)?[n]:kh(n)).reduce((c,u)=>ts(c)?c:c[u],e);return Gt(i)||i===e?Gt(e[n])?a:e[n]:i},Gs=e=>typeof e=="boolean",gt=(e,n,a)=>{let i=-1;const c=lu(n)?[n]:kh(n),u=c.length,f=u-1;for(;++i<u;){const m=c[i];let g=a;if(i!==f){const x=e[m];g=on(x)||Array.isArray(x)?x:isNaN(+c[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const F0={BLUR:"blur",FOCUS_OUT:"focusout"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sD=mt.createContext(null);sD.displayName="HookFormContext";var aD=(e,n,a,i=!0)=>{const c={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(c,u,{get:()=>{const f=u;return n._proxyFormState[f]!==Os.all&&(n._proxyFormState[f]=!i||Os.all),e[f]}});return c};const rD=typeof window<"u"?mt.useLayoutEffect:mt.useEffect;var fs=e=>typeof e=="string",iD=(e,n,a,i,c)=>fs(e)?(i&&n.watch.add(e),Me(a,e,c)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Me(a,u))):(i&&(n.watchAll=!0),a),Wf=e=>ts(e)||!gy(e);function Ka(e,n,a=new WeakSet){if(Wf(e)||Wf(n))return e===n;if(_r(e)&&_r(n))return e.getTime()===n.getTime();const i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const f=e[u];if(!c.includes(u))return!1;if(u!=="ref"){const m=n[u];if(_r(f)&&_r(m)||on(f)&&on(m)||Array.isArray(f)&&Array.isArray(m)?!Ka(f,m,a):f!==m)return!1}}return!0}var Th=(e,n,a,i,c)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:c||!0}}:{},Bl=e=>Array.isArray(e)?e:[e],Q0=()=>{let e=[];return{get observers(){return e},next:c=>{for(const u of e)u.next&&u.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(u=>u!==c)}}),unsubscribe:()=>{e=[]}}};function xy(e,n){const a={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],u=n[i];if(c&&on(c)&&u){const f=xy(c,u);on(f)&&(a[i]=f)}else e[i]&&(a[i]=u)}return a}var es=e=>on(e)&&!Object.keys(e).length,Ah=e=>e.type==="file",Ls=e=>typeof e=="function",Qc=e=>{if(!_h)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},vy=e=>e.type==="select-multiple",Dh=e=>e.type==="radio",lD=e=>Dh(e)||no(e),Tf=e=>Qc(e)&&e.isConnected;function oD(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Gt(e)?i++:e[n[i++]];return e}function cD(e){for(const n in e)if(e.hasOwnProperty(n)&&!Gt(e[n]))return!1;return!0}function an(e,n){const a=Array.isArray(n)?n:lu(n)?[n]:kh(n),i=a.length===1?e:oD(e,a),c=a.length-1,u=a[c];return i&&delete i[u],c!==0&&(on(i)&&es(i)||Array.isArray(i)&&cD(i))&&an(e,a.slice(0,-1)),e}var uD=e=>{for(const n in e)if(Ls(e[n]))return!0;return!1};function by(e){return Array.isArray(e)||on(e)&&!uD(e)}function Yf(e,n={}){for(const a in e)by(e[a])?(n[a]=Array.isArray(e[a])?[]:{},Yf(e[a],n[a])):Gt(e[a])||(n[a]=!0);return n}function ji(e,n,a){a||(a=Yf(n));for(const i in e)by(e[i])?Gt(n)||Wf(a[i])?a[i]=Yf(e[i],Array.isArray(e[i])?[]:{}):ji(e[i],ts(n)?{}:n[i],a[i]):a[i]=!Ka(e[i],n[i]);return a}const I0={value:!1,isValid:!1},G0={value:!0,isValid:!0};var yy=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?G0:{value:e[0].value,isValid:!0}:G0:I0}return I0},wy=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Gt(e)?e:n?e===""?NaN:e&&+e:a&&fs(e)?new Date(e):i?i(e):e;const W0={isValid:!1,value:null};var Sy=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,W0):W0;function Y0(e){const n=e.ref;return Ah(n)?n.files:Dh(n)?Sy(e.refs).value:vy(n)?[...n.selectedOptions].map(({value:a})=>a):no(n)?yy(e.refs).value:wy(Gt(n.value)?e.ref.value:n.value,e)}var dD=(e,n,a,i)=>{const c={};for(const u of e){const f=Me(n,u);f&&gt(c,u,f._f)}return{criteriaMode:a,names:[...e],fields:c,shouldUseNativeValidation:i}},Ic=e=>e instanceof RegExp,Dl=e=>Gt(e)?e:Ic(e)?e.source:on(e)?Ic(e.value)?e.value.source:e.value:e,K0=e=>({isOnSubmit:!e||e===Os.onSubmit,isOnBlur:e===Os.onBlur,isOnChange:e===Os.onChange,isOnAll:e===Os.all,isOnTouch:e===Os.onTouched});const P0="AsyncFunction";var fD=e=>!!e&&!!e.validate&&!!(Ls(e.validate)&&e.validate.constructor.name===P0||on(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===P0)),hD=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),X0=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ql=(e,n,a,i)=>{for(const c of a||Object.keys(e)){const u=Me(e,c);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],c)&&!i)return!0;if(f.ref&&n(f.ref,f.name)&&!i)return!0;if(ql(m,n))break}else if(on(m)&&ql(m,n))break}}};function J0(e,n,a){const i=Me(e,a);if(i||lu(a))return{error:i,name:a};const c=a.split(".");for(;c.length;){const u=c.join("."),f=Me(n,u),m=Me(e,u);if(f&&!Array.isArray(f)&&a!==u)return{name:a};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};c.pop()}return{name:a}}var mD=(e,n,a,i)=>{a(e);const{name:c,...u}=e;return es(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!i||Os.all))},pD=(e,n,a)=>!e||!n||e===n||Bl(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),gD=(e,n,a,i,c)=>c.isOnAll?!1:!a&&c.isOnTouch?!(n||e):(a?i.isOnBlur:c.isOnBlur)?!e:(a?i.isOnChange:c.isOnChange)?e:!0,xD=(e,n)=>!Ch(Me(e,n)).length&&an(e,n),vD=(e,n,a)=>{const i=Bl(Me(e,a));return gt(i,"root",n[a]),gt(e,a,i),e};function ev(e,n,a="validate"){if(fs(e)||Array.isArray(e)&&e.every(fs)||Gs(e)&&!e)return{type:a,message:fs(e)?e:"",ref:n}}var Si=e=>on(e)&&!Ic(e)?e:{value:e,message:""},tv=async(e,n,a,i,c,u)=>{const{ref:f,refs:m,required:g,maxLength:x,minLength:b,min:y,max:w,pattern:j,validate:T,name:E,valueAsNumber:O,mount:U}=e._f,_=Me(a,E);if(!U||n.has(E))return{};const A=m?m[0]:f,$=pe=>{c&&A.reportValidity&&(A.setCustomValidity(Gs(pe)?"":pe||""),A.reportValidity())},Z={},X=Dh(f),W=no(f),K=X||W,ne=(O||Ah(f))&&Gt(f.value)&&Gt(_)||Qc(f)&&f.value===""||_===""||Array.isArray(_)&&!_.length,ie=Th.bind(null,E,i,Z),le=(pe,de,ge,we=ma.maxLength,B=ma.minLength)=>{const ee=pe?de:ge;Z[E]={type:pe?we:B,message:ee,ref:f,...ie(pe?we:B,ee)}};if(u?!Array.isArray(_)||!_.length:g&&(!K&&(ne||ts(_))||Gs(_)&&!_||W&&!yy(m).isValid||X&&!Sy(m).isValid)){const{value:pe,message:de}=fs(g)?{value:!!g,message:g}:Si(g);if(pe&&(Z[E]={type:ma.required,message:de,ref:A,...ie(ma.required,de)},!i))return $(de),Z}if(!ne&&(!ts(y)||!ts(w))){let pe,de;const ge=Si(w),we=Si(y);if(!ts(_)&&!isNaN(_)){const B=f.valueAsNumber||_&&+_;ts(ge.value)||(pe=B>ge.value),ts(we.value)||(de=B<we.value)}else{const B=f.valueAsDate||new Date(_),ee=oe=>new Date(new Date().toDateString()+" "+oe),xe=f.type=="time",Se=f.type=="week";fs(ge.value)&&_&&(pe=xe?ee(_)>ee(ge.value):Se?_>ge.value:B>new Date(ge.value)),fs(we.value)&&_&&(de=xe?ee(_)<ee(we.value):Se?_<we.value:B<new Date(we.value))}if((pe||de)&&(le(!!pe,ge.message,we.message,ma.max,ma.min),!i))return $(Z[E].message),Z}if((x||b)&&!ne&&(fs(_)||u&&Array.isArray(_))){const pe=Si(x),de=Si(b),ge=!ts(pe.value)&&_.length>+pe.value,we=!ts(de.value)&&_.length<+de.value;if((ge||we)&&(le(ge,pe.message,de.message),!i))return $(Z[E].message),Z}if(j&&!ne&&fs(_)){const{value:pe,message:de}=Si(j);if(Ic(pe)&&!_.match(pe)&&(Z[E]={type:ma.pattern,message:de,ref:f,...ie(ma.pattern,de)},!i))return $(de),Z}if(T){if(Ls(T)){const pe=await T(_,a),de=ev(pe,A);if(de&&(Z[E]={...de,...ie(ma.validate,de.message)},!i))return $(de.message),Z}else if(on(T)){let pe={};for(const de in T){if(!es(pe)&&!i)break;const ge=ev(await T[de](_,a),A,de);ge&&(pe={...ge,...ie(de,ge.message)},$(ge.message),i&&(Z[E]=pe))}if(!es(pe)&&(Z[E]={ref:A,...pe},!i))return Z}}return $(!0),Z};const bD={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function yD(e={}){let n={...bD,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ls(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},c=on(n.defaultValues)||on(n.values)?vn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:vn(c),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...b};const w={array:Q0(),state:Q0()},j=n.criteriaMode===Os.all,T=D=>k=>{clearTimeout(x),x=setTimeout(D,k)},E=async D=>{if(!n.disabled&&(b.isValid||y.isValid||D)){const k=n.resolver?es((await W()).errors):await ne(i,!0);k!==a.isValid&&w.state.next({isValid:k})}},O=(D,k)=>{!n.disabled&&(b.isValidating||b.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(m.mount)).forEach(C=>{C&&(k?gt(a.validatingFields,C,k):an(a.validatingFields,C))}),w.state.next({validatingFields:a.validatingFields,isValidating:!es(a.validatingFields)}))},U=(D,k=[],C,se,J=!0,ae=!0)=>{if(se&&C&&!n.disabled){if(f.action=!0,ae&&Array.isArray(Me(i,D))){const je=C(Me(i,D),se.argA,se.argB);J&&gt(i,D,je)}if(ae&&Array.isArray(Me(a.errors,D))){const je=C(Me(a.errors,D),se.argA,se.argB);J&&gt(a.errors,D,je),xD(a.errors,D)}if((b.touchedFields||y.touchedFields)&&ae&&Array.isArray(Me(a.touchedFields,D))){const je=C(Me(a.touchedFields,D),se.argA,se.argB);J&&gt(a.touchedFields,D,je)}(b.dirtyFields||y.dirtyFields)&&(a.dirtyFields=ji(c,u)),w.state.next({name:D,isDirty:le(D,k),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else gt(u,D,k)},_=(D,k)=>{gt(a.errors,D,k),w.state.next({errors:a.errors})},A=D=>{a.errors=D,w.state.next({errors:a.errors,isValid:!1})},$=(D,k,C,se)=>{const J=Me(i,D);if(J){const ae=Me(u,D,Gt(C)?Me(c,D):C);Gt(ae)||se&&se.defaultChecked||k?gt(u,D,k?ae:Y0(J._f)):ge(D,ae),f.mount&&E()}},Z=(D,k,C,se,J)=>{let ae=!1,je=!1;const qe={name:D};if(!n.disabled){if(!C||se){(b.isDirty||y.isDirty)&&(je=a.isDirty,a.isDirty=qe.isDirty=le(),ae=je!==qe.isDirty);const He=Ka(Me(c,D),k);je=!!Me(a.dirtyFields,D),He?an(a.dirtyFields,D):gt(a.dirtyFields,D,!0),qe.dirtyFields=a.dirtyFields,ae=ae||(b.dirtyFields||y.dirtyFields)&&je!==!He}if(C){const He=Me(a.touchedFields,D);He||(gt(a.touchedFields,D,C),qe.touchedFields=a.touchedFields,ae=ae||(b.touchedFields||y.touchedFields)&&He!==C)}ae&&J&&w.state.next(qe)}return ae?qe:{}},X=(D,k,C,se)=>{const J=Me(a.errors,D),ae=(b.isValid||y.isValid)&&Gs(k)&&a.isValid!==k;if(n.delayError&&C?(g=T(()=>_(D,C)),g(n.delayError)):(clearTimeout(x),g=null,C?gt(a.errors,D,C):an(a.errors,D)),(C?!Ka(J,C):J)||!es(se)||ae){const je={...se,...ae&&Gs(k)?{isValid:k}:{},errors:a.errors,name:D};a={...a,...je},w.state.next(je)}},W=async D=>{O(D,!0);const k=await n.resolver(u,n.context,dD(D||m.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return O(D),k},K=async D=>{const{errors:k}=await W(D);if(D)for(const C of D){const se=Me(k,C);se?gt(a.errors,C,se):an(a.errors,C)}else a.errors=k;return k},ne=async(D,k,C={valid:!0})=>{for(const se in D){const J=D[se];if(J){const{_f:ae,...je}=J;if(ae){const qe=m.array.has(ae.name),He=J._f&&fD(J._f);He&&b.validatingFields&&O([ae.name],!0);const vt=await tv(J,m.disabled,u,j,n.shouldUseNativeValidation&&!k,qe);if(He&&b.validatingFields&&O([ae.name]),vt[ae.name]&&(C.valid=!1,k))break;!k&&(Me(vt,ae.name)?qe?vD(a.errors,vt,ae.name):gt(a.errors,ae.name,vt[ae.name]):an(a.errors,ae.name))}!es(je)&&await ne(je,k,C)}}return C.valid},ie=()=>{for(const D of m.unMount){const k=Me(i,D);k&&(k._f.refs?k._f.refs.every(C=>!Tf(C)):!Tf(k._f.ref))&&me(D)}m.unMount=new Set},le=(D,k)=>!n.disabled&&(D&&k&&gt(u,D,k),!Ka(oe(),c)),pe=(D,k,C)=>iD(D,m,{...f.mount?u:Gt(k)?c:fs(D)?{[D]:k}:k},C,k),de=D=>Ch(Me(f.mount?u:c,D,n.shouldUnregister?Me(c,D,[]):[])),ge=(D,k,C={})=>{const se=Me(i,D);let J=k;if(se){const ae=se._f;ae&&(!ae.disabled&&gt(u,D,wy(k,ae)),J=Qc(ae.ref)&&ts(k)?"":k,vy(ae.ref)?[...ae.ref.options].forEach(je=>je.selected=J.includes(je.value)):ae.refs?no(ae.ref)?ae.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(J)?je.checked=!!J.find(qe=>qe===je.value):je.checked=J===je.value||!!J)}):ae.refs.forEach(je=>je.checked=je.value===J):Ah(ae.ref)?ae.ref.value="":(ae.ref.value=J,ae.ref.type||w.state.next({name:D,values:vn(u)})))}(C.shouldDirty||C.shouldTouch)&&Z(D,J,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&Se(D)},we=(D,k,C)=>{for(const se in k){if(!k.hasOwnProperty(se))return;const J=k[se],ae=D+"."+se,je=Me(i,ae);(m.array.has(D)||on(J)||je&&!je._f)&&!_r(J)?we(ae,J,C):ge(ae,J,C)}},B=(D,k,C={})=>{const se=Me(i,D),J=m.array.has(D),ae=vn(k);gt(u,D,ae),J?(w.array.next({name:D,values:vn(u)}),(b.isDirty||b.dirtyFields||y.isDirty||y.dirtyFields)&&C.shouldDirty&&w.state.next({name:D,dirtyFields:ji(c,u),isDirty:le(D,ae)})):se&&!se._f&&!ts(ae)?we(D,ae,C):ge(D,ae,C),X0(D,m)&&w.state.next({...a,name:D}),w.state.next({name:f.mount?D:void 0,values:vn(u)})},ee=async D=>{f.mount=!0;const k=D.target;let C=k.name,se=!0;const J=Me(i,C),ae=He=>{se=Number.isNaN(He)||_r(He)&&isNaN(He.getTime())||Ka(He,Me(u,C,He))},je=K0(n.mode),qe=K0(n.reValidateMode);if(J){let He,vt;const ye=k.type?Y0(J._f):J4(D),_e=D.type===F0.BLUR||D.type===F0.FOCUS_OUT,Ve=!hD(J._f)&&!n.resolver&&!Me(a.errors,C)&&!J._f.deps||gD(_e,Me(a.touchedFields,C),a.isSubmitted,qe,je),yt=X0(C,m,_e);gt(u,C,ye),_e?(!k||!k.readOnly)&&(J._f.onBlur&&J._f.onBlur(D),g&&g(0)):J._f.onChange&&J._f.onChange(D);const st=Z(C,ye,_e),Xt=!es(st)||yt;if(!_e&&w.state.next({name:C,type:D.type,values:vn(u)}),Ve)return(b.isValid||y.isValid)&&(n.mode==="onBlur"?_e&&E():_e||E()),Xt&&w.state.next({name:C,...yt?{}:st});if(!_e&&yt&&w.state.next({...a}),n.resolver){const{errors:wt}=await W([C]);if(ae(ye),se){const Ks=J0(a.errors,i,C),St=J0(wt,i,Ks.name||C);He=St.error,C=St.name,vt=es(wt)}}else O([C],!0),He=(await tv(J,m.disabled,u,j,n.shouldUseNativeValidation))[C],O([C]),ae(ye),se&&(He?vt=!1:(b.isValid||y.isValid)&&(vt=await ne(i,!0)));se&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&Se(J._f.deps),X(C,vt,He,st))}},xe=(D,k)=>{if(Me(a.errors,k)&&D.focus)return D.focus(),1},Se=async(D,k={})=>{let C,se;const J=Bl(D);if(n.resolver){const ae=await K(Gt(D)?D:J);C=es(ae),se=D?!J.some(je=>Me(ae,je)):C}else D?(se=(await Promise.all(J.map(async ae=>{const je=Me(i,ae);return await ne(je&&je._f?{[ae]:je}:je)}))).every(Boolean),!(!se&&!a.isValid)&&E()):se=C=await ne(i);return w.state.next({...!fs(D)||(b.isValid||y.isValid)&&C!==a.isValid?{}:{name:D},...n.resolver||!D?{isValid:C}:{},errors:a.errors}),k.shouldFocus&&!se&&ql(i,xe,D?J:m.mount),se},oe=(D,k)=>{let C={...f.mount?u:c};return k&&(C=xy(k.dirtyFields?a.dirtyFields:a.touchedFields,C)),Gt(D)?C:fs(D)?Me(C,D):D.map(se=>Me(C,se))},N=(D,k)=>({invalid:!!Me((k||a).errors,D),isDirty:!!Me((k||a).dirtyFields,D),error:Me((k||a).errors,D),isValidating:!!Me(a.validatingFields,D),isTouched:!!Me((k||a).touchedFields,D)}),V=D=>{D&&Bl(D).forEach(k=>an(a.errors,k)),w.state.next({errors:D?a.errors:{}})},z=(D,k,C)=>{const se=(Me(i,D,{_f:{}})._f||{}).ref,J=Me(a.errors,D)||{},{ref:ae,message:je,type:qe,...He}=J;gt(a.errors,D,{...He,...k,ref:se}),w.state.next({name:D,errors:a.errors,isValid:!1}),C&&C.shouldFocus&&se&&se.focus&&se.focus()},R=(D,k)=>Ls(D)?w.state.subscribe({next:C=>"values"in C&&D(pe(void 0,k),C)}):pe(D,k,!0),Q=D=>w.state.subscribe({next:k=>{pD(D.name,k.name,D.exact)&&mD(k,D.formState||b,et,D.reRenderRoot)&&D.callback({values:{...u},...a,...k,defaultValues:c})}}).unsubscribe,F=D=>(f.mount=!0,y={...y,...D.formState},Q({...D,formState:y})),me=(D,k={})=>{for(const C of D?Bl(D):m.mount)m.mount.delete(C),m.array.delete(C),k.keepValue||(an(i,C),an(u,C)),!k.keepError&&an(a.errors,C),!k.keepDirty&&an(a.dirtyFields,C),!k.keepTouched&&an(a.touchedFields,C),!k.keepIsValidating&&an(a.validatingFields,C),!n.shouldUnregister&&!k.keepDefaultValue&&an(c,C);w.state.next({values:vn(u)}),w.state.next({...a,...k.keepDirty?{isDirty:le()}:{}}),!k.keepIsValid&&E()},be=({disabled:D,name:k})=>{(Gs(D)&&f.mount||D||m.disabled.has(k))&&(D?m.disabled.add(k):m.disabled.delete(k))},Ee=(D,k={})=>{let C=Me(i,D);const se=Gs(k.disabled)||Gs(n.disabled);return gt(i,D,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:D}},name:D,mount:!0,...k}}),m.mount.add(D),C?be({disabled:Gs(k.disabled)?k.disabled:n.disabled,name:D}):$(D,!0,k.value),{...se?{disabled:k.disabled||n.disabled}:{},...n.progressive?{required:!!k.required,min:Dl(k.min),max:Dl(k.max),minLength:Dl(k.minLength),maxLength:Dl(k.maxLength),pattern:Dl(k.pattern)}:{},name:D,onChange:ee,onBlur:ee,ref:J=>{if(J){Ee(D,k),C=Me(i,D);const ae=Gt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,je=lD(ae),qe=C._f.refs||[];if(je?qe.find(He=>He===ae):ae===C._f.ref)return;gt(i,D,{_f:{...C._f,...je?{refs:[...qe.filter(Tf),ae,...Array.isArray(Me(c,D))?[{}]:[]],ref:{type:ae.type,name:D}}:{ref:ae}}}),$(D,!1,void 0,ae)}else C=Me(i,D,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(tD(m.array,D)&&f.action)&&m.unMount.add(D)}}},I=()=>n.shouldFocusError&&ql(i,xe,m.mount),Ne=D=>{Gs(D)&&(w.state.next({disabled:D}),ql(i,(k,C)=>{const se=Me(i,C);se&&(k.disabled=se._f.disabled||D,Array.isArray(se._f.refs)&&se._f.refs.forEach(J=>{J.disabled=se._f.disabled||D}))},0,!1))},ke=(D,k)=>async C=>{let se;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let J=vn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ae,values:je}=await W();a.errors=ae,J=vn(je)}else await ne(i);if(m.disabled.size)for(const ae of m.disabled)an(J,ae);if(an(a.errors,"root"),es(a.errors)){w.state.next({errors:{}});try{await D(J,C)}catch(ae){se=ae}}else k&&await k({...a.errors},C),I(),setTimeout(I);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:es(a.errors)&&!se,submitCount:a.submitCount+1,errors:a.errors}),se)throw se},Ze=(D,k={})=>{Me(i,D)&&(Gt(k.defaultValue)?B(D,vn(Me(c,D))):(B(D,k.defaultValue),gt(c,D,vn(k.defaultValue))),k.keepTouched||an(a.touchedFields,D),k.keepDirty||(an(a.dirtyFields,D),a.isDirty=k.defaultValue?le(D,vn(Me(c,D))):le()),k.keepError||(an(a.errors,D),b.isValid&&E()),w.state.next({...a}))},Oe=(D,k={})=>{const C=D?vn(D):c,se=vn(C),J=es(D),ae=J?c:se;if(k.keepDefaultValues||(c=C),!k.keepValues){if(k.keepDirtyValues){const je=new Set([...m.mount,...Object.keys(ji(c,u))]);for(const qe of Array.from(je))Me(a.dirtyFields,qe)?gt(ae,qe,Me(u,qe)):B(qe,Me(ae,qe))}else{if(_h&&Gt(D))for(const je of m.mount){const qe=Me(i,je);if(qe&&qe._f){const He=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Qc(He)){const vt=He.closest("form");if(vt){vt.reset();break}}}}if(k.keepFieldsRef)for(const je of m.mount)B(je,Me(ae,je));else i={}}u=n.shouldUnregister?k.keepDefaultValues?vn(c):{}:vn(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}m={mount:k.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!k.keepIsValid||!!k.keepDirtyValues,f.watch=!!n.shouldUnregister,w.state.next({submitCount:k.keepSubmitCount?a.submitCount:0,isDirty:J?!1:k.keepDirty?a.isDirty:!!(k.keepDefaultValues&&!Ka(D,c)),isSubmitted:k.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:J?{}:k.keepDirtyValues?k.keepDefaultValues&&u?ji(c,u):a.dirtyFields:k.keepDefaultValues&&D?ji(c,D):k.keepDirty?a.dirtyFields:{},touchedFields:k.keepTouched?a.touchedFields:{},errors:k.keepErrors?a.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Ae=(D,k)=>Oe(Ls(D)?D(u):D,k),Fe=(D,k={})=>{const C=Me(i,D),se=C&&C._f;if(se){const J=se.refs?se.refs[0]:se.ref;J.focus&&(J.focus(),k.shouldSelect&&Ls(J.select)&&J.select())}},et=D=>{a={...a,...D}},Pt={control:{register:Ee,unregister:me,getFieldState:N,handleSubmit:ke,setError:z,_subscribe:Q,_runSchema:W,_focusError:I,_getWatch:pe,_getDirty:le,_setValid:E,_setFieldArray:U,_setDisabledField:be,_setErrors:A,_getFieldArray:de,_reset:Oe,_resetDefaultValues:()=>Ls(n.defaultValues)&&n.defaultValues().then(D=>{Ae(D,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:Ne,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(D){f=D},get _defaultValues(){return c},get _names(){return m},set _names(D){m=D},get _formState(){return a},get _options(){return n},set _options(D){n={...n,...D}}},subscribe:F,trigger:Se,register:Ee,handleSubmit:ke,watch:R,setValue:B,getValues:oe,reset:Ae,resetField:Ze,clearErrors:V,unregister:me,setError:z,setFocus:Fe,getFieldState:N};return{...Pt,formControl:Pt}}function Mh(e={}){const n=mt.useRef(void 0),a=mt.useRef(void 0),[i,c]=mt.useState({isDirty:!1,isValidating:!1,isLoading:Ls(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ls(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Ls(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...m}=yD(e);n.current={...m,formState:i}}const u=n.current.control;return u._options=e,rD(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>c({...u._formState}),reRenderRoot:!0});return c(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),mt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),mt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),mt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),mt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),mt.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),mt.useEffect(()=>{e.values&&!Ka(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,c(f=>({...f}))):u._resetDefaultValues()},[u,e.values]),mt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=aD(i,u),n.current}const nv=(e,n,a)=>{if(e&&"reportValidity"in e){const i=Me(a,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Kf=(e,n)=>{for(const a in n.fields){const i=n.fields[a];i&&i.ref&&"reportValidity"in i.ref?nv(i.ref,a,e):i&&i.refs&&i.refs.forEach(c=>nv(c,a,e))}},sv=(e,n)=>{n.shouldUseNativeValidation&&Kf(e,n);const a={};for(const i in e){const c=Me(n.fields,i),u=Object.assign(e[i]||{},{ref:c&&c.ref});if(wD(n.names||Object.keys(e),i)){const f=Object.assign({},Me(a,i));gt(f,"root",u),gt(a,i,f)}else gt(a,i,u)}return a},wD=(e,n)=>{const a=av(n);return e.some(i=>av(i).match(`^${a}\\.\\d+`))};function av(e){return e.replace(/\]|\[/g,"")}function rv(e,n){try{var a=e()}catch(i){return n(i)}return a&&a.then?a.then(void 0,n):a}function SD(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(y){return e.push(y)})}),n){var g=a[f].types,x=g&&g[i.code];a[f]=Th(f,n,a,c,x?[].concat(x,i.message):i.message)}e.shift()}return a}function jD(e,n){for(var a={};e.length;){var i=e[0],c=i.code,u=i.message,f=i.path.join(".");if(!a[f])if(i.code==="invalid_union"&&i.errors.length>0){var m=i.errors[0][0];a[f]={message:m.message,type:m.code}}else a[f]={message:u,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(y){return e.push(y)})}),n){var g=a[f].types,x=g&&g[i.code];a[f]=Th(f,n,a,c,x?[].concat(x,i.message):i.message)}e.shift()}return a}function Rh(e,n,a){if(a===void 0&&(a={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,u){try{return Promise.resolve(rv(function(){return Promise.resolve(e[a.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(f){return u.shouldUseNativeValidation&&Kf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return Array.isArray(m?.issues)})(f))return{values:{},errors:sv(SD(f.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,u){try{return Promise.resolve(rv(function(){return Promise.resolve((a.mode==="sync"?uk:dk)(e,i,n)).then(function(f){return u.shouldUseNativeValidation&&Kf({},u),{errors:{},values:a.raw?Object.assign({},i):f}})},function(f){if((function(m){return m instanceof Eh})(f))return{values:{},errors:sv(jD(f.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}function ED(e){const n=xt();return Dn({mutationFn:a=>lj(e,a),onSuccess:a=>{n.setQueryData(Yt.list(ah),i=>i&&{...i,items:i.items.map(c=>c.id===a.id?a:c)}),n.invalidateQueries({queryKey:Yt.detail(e),exact:!1})}})}async function ND(e={}){const{page:n,pageSize:a,search:i,includeTotal:c,signal:u}=e,f={};typeof n=="number"&&n>0&&(f.page=n),typeof a=="number"&&a>0&&(f.page_size=a),c&&(f.include_total=!0);const m=i?.trim();m&&(f.q=m);const{data:g}=await Ge.GET("/api/v1/users",{params:{query:f},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function _D(e){return kv("/users/invitations",e)}function jy(e={}){const{enabled:n=!0,search:a="",pageSize:i}=e,c=a.trim(),u=c.length>=2?c:"",f=Nv({queryKey:["users","all",{search:c,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>ND(CD({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),m=p.useCallback(x=>x.id,[]),g=uy(f.data?.pages,m);return{...f,users:g}}function CD(e){const n={...e};return(!n.page||n.page<1)&&(n.page=1),n}function kD(){const e=xt();return Dn({mutationFn:({email:n,displayName:a})=>_D({email:n,display_name:a?.trim()?a.trim():void 0}),onSuccess:()=>{e.invalidateQueries({queryKey:["users","all"]})}})}const Wl=200;function TD(e){const n={page:1,pageSize:Wl};return hn({queryKey:Yt.members(e,n),queryFn:({signal:a})=>oj(e,{signal:a,pageSize:Wl,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function AD(e){const n=xt(),a=Yt.members(e,{page:1,pageSize:Wl});return Dn({mutationFn:async({user:i,roleIds:c})=>{const u={user_id:i.id,role_ids:Array.from(c)};return cj(e,u)},onMutate:async({user:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a),f={id:`optimistic-${Date.now()}`,workspace_id:e,roles:Array.from(c),permissions:[],is_default:!1,user:i};return n.setQueryData(a,m=>m&&{...m,items:[f,...m.items],total:typeof m.total=="number"?m.total+1:m.total}),{previous:u,optimisticId:f.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:{...f,items:[i,...f.items],total:typeof f.total=="number"?f.total+1:f.total}))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function DD(e){const n=xt(),a=Yt.members(e,{page:1,pageSize:Wl});return Dn({mutationFn:({membershipId:i,roleIds:c})=>uj(e,i,RD(c)),onMutate:async({membershipId:i,roleIds:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,roles:Array.from(c)}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function MD(e){const n=xt(),a=Yt.members(e,{page:1,pageSize:Wl});return Dn({mutationFn:i=>dj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function RD(e){return{role_ids:Array.from(e)}}const Ai=200,iv=200;function Ey(e){const n={page:1,pageSize:Ai};return hn({queryKey:Yt.roles(e,n),queryFn:({signal:a})=>fj(e,{signal:a,pageSize:Ai,includeTotal:!0}),enabled:e.length>0,staleTime:15e3,placeholderData:a=>a})}function zD(){const e={scope:"global",page:1,pageSize:iv};return hn({queryKey:Yt.permissions(e),queryFn:({signal:n})=>gj({signal:n,scope:"global",pageSize:iv}),staleTime:6e4,placeholderData:n=>n})}function OD(e){const n=xt(),a=Yt.roles(e,{page:1,pageSize:Ai});return Dn({mutationFn:i=>hj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a),u={id:`optimistic-${Date.now()}`,slug:i.slug??i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description??null,scope_type:"workspace",scope_id:e,permissions:Array.from(i.permissions??[]),built_in:!1,editable:!0};return n.setQueryData(a,f=>lv(f,u)),{previous:c,optimisticId:u.id}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:(i,c,u)=>{n.setQueryData(a,f=>f&&(u?{...f,items:f.items.map(m=>m.id===u.optimisticId?i:m)}:lv(f,i)))},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function LD(e){const n=xt(),a=Yt.roles(e,{page:1,pageSize:Ai});return Dn({mutationFn:({roleId:i,payload:c})=>mj(e,i,c),onMutate:async({roleId:i,payload:c})=>{await n.cancelQueries({queryKey:a});const u=n.getQueryData(a);return n.setQueryData(a,f=>f&&{...f,items:f.items.map(m=>m.id===i?{...m,name:c.name,description:c.description??null,permissions:Array.from(c.permissions??[])}:m)}),{previous:u}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSuccess:i=>{n.setQueryData(a,c=>c&&{...c,items:c.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function UD(e){const n=xt(),a=Yt.roles(e,{page:1,pageSize:Ai});return Dn({mutationFn:i=>pj(e,i),onMutate:async i=>{await n.cancelQueries({queryKey:a});const c=n.getQueryData(a);return n.setQueryData(a,u=>{if(!u)return u;const f=u.items.filter(m=>m.id!==i);return{...u,items:f,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}}),{previous:c}},onError:(i,c,u)=>{u?.previous&&n.setQueryData(a,u.previous)},onSettled:()=>{n.invalidateQueries({queryKey:a})}})}function lv(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total}:{items:[n],page:1,page_size:Ai,has_next:!1,has_previous:!1,total:1}}const BD={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function qD(e,n){if(e&&e.trim().length>0){const a=e.trim().split(/\s+/u),i=a[0]?.[0],c=a[a.length-1]?.[0];if(i)return`${i}${c??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function $D({name:e,email:n,size:a="md",className:i}){const c=p.useMemo(()=>qD(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:ve("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",BD[a],i),children:c})}function ZD(){const{workspace:e,hasPermission:n}=tr(),a=n("Workspace.Members.ReadWrite"),i=TD(e.id),c=Ey(e.id),u=AD(e.id),f=DD(e.id),m=MD(e.id),g=kD(),[x,b]=p.useState(null),[y,w]=p.useState([]),[j,T]=p.useState(""),[E,O]=p.useState([]),[U,_]=p.useState(""),[A,$]=p.useState(""),[Z,X]=p.useState("existing"),[W,K]=p.useState(""),[ne,ie]=p.useState(""),[le,pe]=p.useState(""),[de,ge]=p.useState(null);p.useEffect(()=>{const C=window.setTimeout(()=>{$(U.trim())},250);return()=>window.clearTimeout(C)},[U]);const we=jy({enabled:a,search:A,pageSize:50}),B=p.useMemo(()=>{const C=new Map;for(const se of c.data?.items??[])C.set(se.id,se);return C},[c.data]),ee=p.useMemo(()=>{const C=i.data?.items??[],se=new Intl.Collator("en",{sensitivity:"base"});return Array.from(C).sort((J,ae)=>{const je=J.user.display_name??J.user.email,qe=ae.user.display_name??ae.user.email;return se.compare(je??"",qe??"")})},[i.data]),xe=p.useMemo(()=>new Set(ee.map(C=>C.user.id)),[ee]),Se=le.trim().toLowerCase(),oe=p.useMemo(()=>Se?ee.filter(C=>{const se=C.user.display_name??"",J=C.user.email??"";return se.toLowerCase().includes(Se)||J.toLowerCase().includes(Se)||C.id.toLowerCase().includes(Se)}):ee,[ee,Se]),N=we.isPending&&we.users.length===0,V=we.isFetchingNextPage,z=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return we.users.filter(se=>!xe.has(se.id)).sort((se,J)=>{const ae=se.display_name??se.email,je=J.display_name??J.email;return C.compare(ae??"",je??"")})},[xe,we.users]),R=U.trim().toLowerCase(),F=A.trim().toLowerCase().length>=2,me=Z==="existing"&&U.trim().length>0&&U.trim().length<2,be=p.useMemo(()=>!R||F?z:z.filter(C=>(C.display_name??"").toLowerCase().includes(R)||C.email.toLowerCase().includes(R)),[z,R,F]),Ee=p.useMemo(()=>Z==="existing"?z.find(C=>C.id===j):void 0,[z,Z,j]),I=p.useMemo(()=>{const C=new Intl.Collator("en",{sensitivity:"base"});return(c.data?.items??[]).filter(se=>se.scope_type==="workspace").sort((se,J)=>C.compare(se.name,J.name))},[c.data]),Ne=(C,se)=>{w(J=>se?J.includes(C)?J:[...J,C]:J.filter(ae=>ae!==C))},ke=(C,se)=>{O(J=>se?J.includes(C)?J:[...J,C]:J.filter(ae=>ae!==C))},Ze=C=>{b(C.id),w(C.roles),ge(null)},Oe=()=>{b(null),w([])},Ae=()=>{x&&(ge(null),f.mutate({membershipId:x,roleIds:y},{onSuccess:()=>{ge({tone:"success",message:"Member roles updated."}),Oe()},onError:C=>{const se=C instanceof Error?C.message:"Unable to update member roles.";ge({tone:"danger",message:se})}}))},Fe=C=>{!a||!window.confirm(`Remove ${C.user.display_name??C.user.email} from the workspace?`)||(ge(null),m.mutate(C.id,{onSuccess:()=>{ge({tone:"success",message:"Member removed."})},onError:J=>{const ae=J instanceof Error?J.message:"Unable to remove member.";ge({tone:"danger",message:ae})}}))},et=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,tt=u.isPending||g.isPending,Pt=Z==="existing"?!!j:et.test(W.trim()),D=async C=>{C.preventDefault(),ge(null);try{if(Z==="existing"){if(!j){ge({tone:"danger",message:"Select a user to invite."});return}const ae=z.find(je=>je.id===j);if(!ae){ge({tone:"danger",message:"Selected user is no longer available."});return}await u.mutateAsync({user:ae,roleIds:E}),T(""),O([]),_(""),ge({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`});return}const se=W.trim().toLowerCase();if(!se||!et.test(se)){ge({tone:"danger",message:"Enter a valid email address to send an invite."});return}const J=await g.mutateAsync({email:se,displayName:ne.trim()||void 0});await u.mutateAsync({user:J,roleIds:E}),K(""),ie(""),O([]),ge({tone:"success",message:`Invitation sent to ${J.display_name??J.email}.`})}catch(se){const J=se instanceof Error?se.message:"Unable to invite member.";ge({tone:"danger",message:J})}};p.useEffect(()=>{Z!=="existing"||!Ee||be.some(C=>C.id===Ee.id)||_("")},[be,Z,Ee]),p.useEffect(()=>{if(ge(null),Z==="existing"){K(""),ie("");return}T(""),_("")},[Z]);const k=()=>{Z==="existing"?(T(""),_("")):(K(""),ie("")),O([])};return l.jsxs("div",{className:"space-y-6",children:[de?l.jsx(ut,{tone:de.tone,children:de.message}):null,i.isError?l.jsx(ut,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace members."}):null,c.isError?l.jsx(ut,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load workspace roles."}):null,a?l.jsxs("form",{onSubmit:D,className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Invite member"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Invite someone new by email or add an existing teammate, then choose the roles that reflect what they should be able to do here."})]}),we.isError?l.jsx(ut,{tone:"warning",children:"We couldn't load the user directory. Retry or invite later."}):null,l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Invite method"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Choose whether you are inviting someone who already has an account or sending a brand-new invite."}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="existing"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"existing",checked:Z==="existing",onChange:()=>X("existing"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Existing teammate"})]}),l.jsxs("label",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Z==="new"?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-600"}`,children:[l.jsx("input",{type:"radio",name:"invite-method",value:"new",checked:Z==="new",onChange:()=>X("new"),disabled:tt,className:"h-4 w-4"}),l.jsx("span",{children:"Invite by email"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx("div",{className:"space-y-4",children:Z==="existing"?l.jsxs(l.Fragment,{children:[l.jsx(Wt,{label:"Search directory",hint:"Filter by name or email to quickly find a teammate.",children:l.jsx(ln,{value:U,onChange:C=>_(C.target.value),placeholder:"e.g. Casey or casey@example.com",disabled:tt||N})}),me?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null,we.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load users. Try again shortly."}):null,l.jsx(Wt,{label:"User",required:!0,children:l.jsxs(er,{value:j,onChange:C=>{T(C.target.value),C.target.value&&_("")},disabled:tt||N,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),Ee&&!be.some(C=>C.id===Ee.id)?l.jsx("option",{value:Ee.id,children:Ee.display_name?`${Ee.display_name} (${Ee.email})`:Ee.email}):null,be.map(C=>l.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email},C.id))]})}),be.length===0&&U?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',U,'". Clear the search to see everyone.']}):null,we.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>we.fetchNextPage(),disabled:N||V,children:V?"Loading more users":"Load more users"})}):null]}):l.jsxs(l.Fragment,{children:[l.jsx(Wt,{label:"Email",required:!0,children:l.jsx(ln,{type:"email",value:W,onChange:C=>K(C.target.value),placeholder:"name@example.com",autoComplete:"off",disabled:tt,required:!0})}),l.jsx(Wt,{label:"Display name",hint:"Optional  helps teammates recognise them.",children:l.jsx(ln,{value:ne,onChange:C=>ie(C.target.value),placeholder:"Casey Lee",autoComplete:"off",disabled:tt})}),l.jsx("p",{className:"text-xs text-slate-500",children:"We'll email an invitation so they can create their account and join this workspace."})]})}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Roles control which actions a member can perform inside this workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:I.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):I.map(C=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:E.includes(C.id),onChange:se=>ke(C.id,se.target.checked),disabled:tt}),l.jsx("span",{children:C.name})]},C.id))}),E.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[E.length," role(s) selected."]}):null]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[(Z==="existing"?j||U||E.length>0:W||ne||E.length>0)?l.jsx(ze,{type:"button",variant:"ghost",onClick:k,disabled:tt,children:"Clear"}):null,l.jsx(ze,{type:"submit",isLoading:tt,disabled:!Pt||tt,children:Z==="existing"?"Add member":"Send invite"})]})]}):l.jsx(ut,{tone:"info",children:"You do not have permission to manage workspace members. Contact an administrator for access."}),l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Current members"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading members":`${ee.length} member${ee.length===1?"":"s"}`})]}),l.jsx(Wt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(ln,{value:le,onChange:C=>pe(C.target.value),placeholder:"Search by name, email, or ID",disabled:i.isLoading})})]}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):ee.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No members yet. Invite teammates to collaborate on this workspace."}):oe.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:['No members match "',le,'".']}):l.jsx("ul",{className:"space-y-4",role:"list",children:oe.map(C=>{const se=C.user.display_name??C.user.email,J=C.roles.map(je=>B.get(je)?.name??je),ae=x===C.id;return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx($D,{name:C.user.display_name,email:C.user.email,size:"sm"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:se}),l.jsx("p",{className:"text-sm text-slate-500",children:C.user.email}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[C.is_default?l.jsx("span",{className:"inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 font-semibold text-brand-700",children:"Default workspace"}):null,l.jsxs("span",{children:["ID: ",C.id]})]})]})]}),a?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae?Oe():Ze(C),disabled:f.isPending||m.isPending||ae&&f.isPending,children:ae?"Cancel":"Manage roles"}),l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Fe(C),disabled:m.isPending,children:"Remove"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:J.length>0?J.map(je=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:je},`${C.id}-${je}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."})}),ae?l.jsxs("div",{className:"mt-4 space-y-3 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Assign roles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(je=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:y.includes(je.id),onChange:qe=>Ne(je.id,qe.target.checked),disabled:f.isPending}),l.jsx("span",{children:je.name})]},je.id))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:Oe,disabled:f.isPending,children:"Cancel"}),l.jsx(ze,{type:"button",size:"sm",onClick:Ae,isLoading:f.isPending,disabled:f.isPending,children:"Save roles"})]})]}):null]},C.id)})})]})]})}const HD=ga({name:$t().min(1,"Role name is required.").max(150,"Keep the name under 150 characters."),slug:$t().max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.").optional().or(U0("")),description:$t().max(500,"Keep the description concise.").optional().or(U0("")),permissions:iu($t())});function VD(){const{workspace:e,hasPermission:n}=tr(),a=n("Workspace.Roles.ReadWrite"),i=Ey(e.id),c=zD(),u=OD(e.id),f=LD(e.id),m=UD(e.id),[g,x]=p.useState(!1),[b,y]=p.useState(null),[w,j]=p.useState(null),T=p.useMemo(()=>(c.data?.items??[]).filter(X=>X.scope_type==="workspace"),[c.data]),E=p.useMemo(()=>{const X=new Map;for(const W of T)X.set(W.key,W);return X},[T]),O=i.data?.items??[],U=()=>{j(null),x(!0),y(null)},_=()=>{x(!1)},A=X=>{j(null),y(X.id),x(!1)},$=()=>{y(null)},Z=X=>{!a||X.built_in||!window.confirm(`Delete the role "${X.name}"? This action cannot be undone.`)||(j(null),m.mutate(X.id,{onSuccess:()=>{j({tone:"success",message:"Role deleted."})},onError:K=>{const ne=K instanceof Error?K.message:"Unable to delete role.";j({tone:"danger",message:ne})}}))};return l.jsxs("div",{className:"space-y-6",children:[w?l.jsx(ut,{tone:w.tone,children:w.message}):null,i.isError?l.jsx(ut,{tone:"danger",children:i.error instanceof Error?i.error.message:"Unable to load workspace roles."}):null,c.isError?l.jsx(ut,{tone:"warning",children:c.error instanceof Error?c.error.message:"Unable to load permission catalog."}):null,a?l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Create role"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Compose a custom role by selecting workspace permissions."})]}),l.jsx(ze,{type:"button",variant:g?"ghost":"primary",onClick:()=>g?_():U(),children:g?"Hide form":"New role"})]}),g?l.jsx("div",{className:"mt-4",children:l.jsx(ov,{availablePermissions:T,allowSlugEdit:!0,onCancel:_,onSubmit:X=>{j(null),u.mutate({name:X.name.trim(),slug:X.slug?X.slug.trim():void 0,description:X.description?.trim()?X.description.trim():void 0,permissions:X.permissions},{onSuccess:()=>{j({tone:"success",message:"Role created."}),_()},onError:W=>{const K=W instanceof Error?W.message:"Unable to create role.";j({tone:"danger",message:K})}})},isSubmitting:u.isPending},"create-role")}):null]}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsx("header",{className:"flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:i.isLoading?"Loading roles":`${O.length} role${O.length===1?"":"s"}`})]})}),i.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):O.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"No workspace roles yet. Create one to tailor permissions for your team."}):l.jsx("ul",{className:"space-y-4",role:"list",children:O.map(X=>{const W=b===X.id,K=X.permissions.map(ne=>E.get(ne)?.label??ne);return l.jsxs("li",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:X.name}),X.built_in?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Built-in"}):null,X.editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",X.slug]}),X.description?l.jsx("p",{className:"text-sm text-slate-600",children:X.description}):null]}),a&&X.editable?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>W?$():A(X),disabled:f.isPending||m.isPending,children:W?"Cancel":"Edit"}),X.built_in?null:l.jsx(ze,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(X),disabled:m.isPending,children:"Delete"})]}):null]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:K.length>0?K.map(ne=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:ne},`${X.id}-${ne}`)):l.jsx("span",{className:"text-xs text-slate-500",children:"No permissions assigned."})}),W?l.jsx("div",{className:"mt-4",children:l.jsx(ov,{availablePermissions:T,initialValues:{name:X.name,slug:X.slug,description:X.description??"",permissions:X.permissions},allowSlugEdit:!1,onCancel:$,onSubmit:ne=>{j(null),f.mutate({roleId:X.id,payload:{name:ne.name.trim(),description:ne.description?.trim()?ne.description.trim():void 0,permissions:ne.permissions}},{onSuccess:()=>{j({tone:"success",message:"Role updated."}),$()},onError:ie=>{const le=ie instanceof Error?ie.message:"Unable to update role.";j({tone:"danger",message:le})}})},isSubmitting:f.isPending},X.id)}):null]},X.id)})})]})]})}function ov({availablePermissions:e,initialValues:n,onSubmit:a,onCancel:i,isSubmitting:c,allowSlugEdit:u=!0}){const{register:f,handleSubmit:m,watch:g,setValue:x,formState:{errors:b},reset:y}=Mh({resolver:Rh(HD),defaultValues:n??{name:"",slug:"",description:"",permissions:[]}});p.useEffect(()=>{n&&y(n)},[n,y]);const w=g("permissions"),j=(E,O)=>{x("permissions",O?Array.from(new Set([...w??[],E])):(w??[]).filter(U=>U!==E))},T=m(E=>{const O={name:E.name.trim(),slug:u?E.slug?.trim()??"":n?.slug??"",description:E.description?.trim()??"",permissions:E.permissions??[]};a(O)});return l.jsxs("form",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4",onSubmit:T,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role name",l.jsx(ln,{...f("name"),placeholder:"Data reviewer",invalid:!!b.name,disabled:c}),b.name?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.name.message}):null]}),u?l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Role slug",l.jsx(ln,{...f("slug"),placeholder:"data-reviewer",invalid:!!b.slug,disabled:c}),l.jsx("span",{className:"block text-xs text-slate-500",children:"Optional. Leave blank to auto-generate from the name."}),b.slug?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.slug.message}):null]}):null]}),l.jsxs("label",{className:"space-y-2 text-sm font-medium text-slate-700",children:["Description",l.jsx(ln,{...f("description"),placeholder:"What does this role control?",invalid:!!b.description,disabled:c}),b.description?l.jsx("span",{className:"block text-xs font-semibold text-danger-600",children:b.description.message}):null]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace permissions available."}):e.map(E=>l.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:w?.includes(E.key)??!1,onChange:O=>j(E.key,O.target.checked),disabled:c}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:E.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:E.description})]})]},E.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[i?l.jsx(ze,{type:"button",variant:"ghost",onClick:i,disabled:c,children:"Cancel"}):null,l.jsx(ze,{type:"submit",isLoading:c,children:"Save role"})]})]})}function Ny(){const e=Rr(),n=sh(),a=ej(),[i,c]=p.useState(Us),u=n.data;p.useEffect(()=>{u?.detail&&c(u.detail)},[u?.detail]);const f=p.useMemo(()=>(e.user.permissions??[]).includes("System.Settings.ReadWrite"),[e.user.permissions]),m=n.isFetching||a.isPending,g=i.trim()||Us,x=b=>{a.mutate({enabled:b,detail:g},{onSuccess:y=>{c(y.detail)}})};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"ADE safe mode"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Toggle whether streamed runs should short-circuit before invoking the ADE engine. Use this to pause execution during maintenance or while verifying a new config release."})]}),n.isError?l.jsx(ut,{tone:"danger",children:"Unable to load safe mode status."}):null,f?null:l.jsxs(ut,{tone:"warning",children:["You need the ",l.jsx("strong",{children:"System.Settings.ReadWrite"})," permission to change safe mode."]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:u?.enabled?"inline-flex rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-800":"inline-flex rounded-full bg-emerald-100 px-3 py-1 font-semibold text-emerald-800",children:u?.enabled?"Safe mode enabled":"Safe mode disabled"}),l.jsx("span",{className:"text-slate-500",children:n.isFetching?"Checking safe mode state...":u?.detail??Us})]}),l.jsx(Wt,{label:"Safe mode message",hint:"Shown in the health check and workspace banner when safe mode is active.",children:l.jsx(py,{value:i,onChange:b=>c(b.target.value),disabled:!f||m})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>c(u?.detail??Us),disabled:!f||m,children:"Reset message"}),l.jsx(ze,{type:"button",variant:u?.enabled?"primary":"danger",onClick:()=>x(!u?.enabled),isLoading:a.isPending,disabled:!f,children:u?.enabled?"Disable safe mode":"Enable safe mode"})]})]})}Ny.displayName="SafeModeControls";const _y=[{id:"general",label:"General"},{id:"members",label:"Members"},{id:"roles",label:"Roles"}],FD=new Set(_y.map(e=>e.id)),Af=e=>!!(e&&FD.has(e));function QD(){tr();const[e,n]=xh(),a=e.get("view"),i=Af(a)?a:"general";p.useEffect(()=>{if(a&&!Af(a)){const u=new URLSearchParams(e);u.set("view","general"),n(u,{replace:!0})}},[a,e,n]);const c=u=>{if(!Af(u))return;const f=new URLSearchParams(e);f.set("view",u),n(f,{replace:!0})};return l.jsx(lh,{value:i,onValueChange:c,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(oh,{className:"flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-soft","aria-label":"Workspace settings views",children:_y.map(u=>{const f=u.id===i;return l.jsx(Ml,{value:u.id,className:`rounded-full px-4 py-1 text-sm font-medium focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500 ${f?"bg-brand-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:u.label},u.id)})}),l.jsx(kr,{value:"general","aria-live":"polite",children:i==="general"?l.jsx(GD,{}):null}),l.jsx(kr,{value:"members","aria-live":"polite",children:i==="members"?l.jsx(ZD,{}):null}),l.jsx(kr,{value:"roles","aria-live":"polite",children:i==="roles"?l.jsx(VD,{}):null})]})})}const ID=ga({name:$t().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function GD(){const{workspace:e}=tr(),n=ED(e.id),[a,i]=p.useState(null),{register:c,handleSubmit:u,formState:{errors:f,isDirty:m},reset:g}=Mh({resolver:Rh(ID),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{g({name:e.name,slug:e.slug})},[g,e.name,e.slug]);const x=u(b=>{i(null),n.mutate({name:b.name.trim(),slug:b.slug.trim()},{onSuccess:()=>{i("Workspace details saved.")}})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:x,noValidate:!0,children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),a?l.jsx(ut,{tone:"success",children:a}):null,n.isError?l.jsx(ut,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null,l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Wt,{label:"Workspace name",required:!0,error:f.name?.message,children:l.jsx(ln,{...c("name"),placeholder:"Finance Operations",invalid:!!f.name,disabled:n.isPending})}),l.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:f.slug?.message,children:l.jsx(ln,{...c("slug"),placeholder:"finance-ops",invalid:!!f.slug,disabled:n.isPending})})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>{g(),i(null)},disabled:n.isPending||!m,children:"Reset"}),l.jsx(ze,{type:"submit",isLoading:n.isPending,disabled:!m,children:"Save changes"})]})]}),l.jsx(Ny,{})]})}function WD(){return l.jsx(Kc,{children:l.jsx(YD,{})})}function YD(){const e=Es(),n=An(),a=xt(),i=Yc(),c=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=XD(e.pathname),f=p.useMemo(()=>eM(c,u),[c,u]);return p.useEffect(()=>{i.data&&a.setQueryData(Yt.list(ah),i.data)},[a,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&c.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,c.length,n]),p.useEffect(()=>{f&&!u&&n(`/workspaces/${f.id}/${Xa.path}${e.search}${e.hash}`,{replace:!0})},[f,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!f||!u)&&u!==f.id){const m=tM(e.pathname,e.search,f.id,u);m!==e.pathname+e.search&&n(m+e.hash,{replace:!0})}},[f,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{f&&Tj(f)},[f]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(_t,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):f?l.jsx(Aj,{workspace:f,workspaces:c,children:l.jsx(KD,{workspace:f})}):null}function KD({workspace:e}){return l.jsx(E_,{children:l.jsx(pC,{workspaceId:e.id,children:l.jsx(PD,{workspace:e})})})}function PD({workspace:e}){const n=Rr(),a=An(),i=Es(),{session:c,windowState:u}=zb(),f=sh(),m=f.data?.enabled??!1,g=f.data?.detail??Us,x=Zb(),b=p.useMemo(()=>qb(e),[e]),[y,w]=p.useState(""),[j,T]=p.useState(!1),E=y.trim().toLowerCase(),O=!!(c&&u==="maximized"),U=p.useMemo(()=>b.map(R=>({id:R.id,label:R.label,description:`Jump to ${R.label}`,icon:l.jsx(R.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),_=p.useMemo(()=>Ja(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[A,$]=p.useState(()=>{const R=_.get();return typeof R=="boolean"?R:!1});p.useEffect(()=>{const R=_.get();$(typeof R=="boolean"?R:!1)},[_]),p.useEffect(()=>{_.set(A)},[A,_]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const R=()=>{window.innerWidth>=1024&&T(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),p.useEffect(()=>{if(typeof document>"u")return;const R=document.body.style.overflow;return j?document.body.style.overflow="hidden":document.body.style.overflow=R||"",()=>{document.body.style.overflow=R}},[j]),p.useEffect(()=>{O&&T(!1)},[O]);const Z=p.useCallback(()=>{if(!E)return;const R=b.find(Q=>Q.label.toLowerCase().includes(E))??b.find(Q=>Q.id.toLowerCase().includes(E));R&&a(R.href)},[E,b,a]),X=p.useCallback(R=>{const Q=b.find(F=>F.id===R.id);Q&&(a(Q.href),w(""))},[b,a]),W=p.useCallback(()=>T(!0),[]),K=p.useCallback(()=>T(!1),[]),ne=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:W,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(nM,{})})}),ie=n.user.display_name||n.user.email||"Signed in",le=n.user.email??"",pe=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Ub,{displayName:ie,email:le})}),de={value:y,onChange:w,onSubmit:Z,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:U,onSelectSuggestion:X},ge=JD(i.pathname,e.id),we=aM(e.id,ge,i.search,i.hash),B=we?.kind==="content"&&we.key.startsWith("documents"),ee=B?new URLSearchParams(i.search).get("q")??"":"",xe=p.useCallback(R=>{if(!B)return;const Q=new URLSearchParams(i.search);R?Q.set("q",R):Q.delete("q");const F=Q.toString();a(`${i.pathname}${F?`?${F}`:""}${i.hash}`,{replace:!0})},[B,i.hash,i.pathname,i.search,a]),Se=p.useCallback(R=>{xe(R)},[xe]),oe=p.useCallback(()=>{xe("")},[xe]),V=(B?{value:ee,onChange:xe,onSubmit:Se,onClear:oe,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??de;if(p.useEffect(()=>{we?.kind==="redirect"&&a(we.to,{replace:!0})},[we,a]),!we||we.kind==="redirect")return null;const z=we.fullHeight??!1;return l.jsxs("div",{className:ve("flex min-w-0 bg-slate-50 text-slate-900",z?"h-screen overflow-hidden":"min-h-screen"),children:[O?null:l.jsx(BC,{workspace:e,items:b,collapsed:A,onToggleCollapse:()=>$(R=>!R),onGoToWorkspaces:()=>a("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[O?null:l.jsx(Lb,{brand:ne,trailing:pe,search:V}),!O&&j?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:K}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:K,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(sM,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx($b,{items:b,onNavigate:K,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:ve("relative flex-1 min-w-0",z?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:ve(z?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[m?l.jsx("div",{className:ve("mb-4",z?"px-6 pt-4":""),children:l.jsx(ut,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:ve(z?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:we.element})]})})},`section-${we.key}`)]})]})}function XD(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function JD(e,n){const a=`/workspaces/${n}`;return e.startsWith(a)?e.slice(a.length).split("/").map(c=>c.trim()).filter(c=>c.length>0):[]}function eM(e,n){return n?e.find(a=>a.id===n)??e.find(a=>a.slug===n)??e[0]??null:e[0]??null}function tM(e,n,a,i){const c=`/workspaces/${i}`,u=e.startsWith(c)?e.slice(c.length):"",f=u&&u!=="/"?u:`/${Xa.path}`;return`/workspaces/${a}${f}${n}`}function nM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function sM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function aM(e,n,a,i){const c=`${a}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Xa.path}${c}`};const[u,f,m]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(FC,{})};case Xa.path:case"documents":return f?{kind:"content",key:`documents:${f}`,element:l.jsx(I4,{params:{documentId:decodeURIComponent(f)}})}:{kind:"content",key:"documents",element:l.jsx(m4,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(G4,{})};case"config-builder":return f?m==="editor"?{kind:"content",key:`config-builder:${f}:editor`,element:l.jsx(rM,{configId:decodeURIComponent(f)}),fullHeight:!0}:{kind:"content",key:`config-builder:${f}`,element:l.jsx(P4,{params:{configId:decodeURIComponent(f)}})}:{kind:"content",key:"config-builder",element:l.jsx(Y4,{})};case"configs":return{kind:"redirect",to:`${`/workspaces/${e}/config-builder${f?`/${f}`:""}${m?`/${m}`:""}`}${c}`};case"settings":return{kind:"content",key:"settings",element:l.jsx(QD,{})};default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(_t,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function rM({configId:e}){return l.jsx(X4,{params:{configId:e}})}function iM(e){return`/workspaces/${e}/${Xa.path}`}function lM(){return l.jsx(Kc,{children:l.jsx(oM,{})})}function oM(){const e=Es(),n=An(),a=Rr(),i=Yc(),c=i.data?.items??[],m=[kj(),a.user.preferred_workspace_id].filter(g=>!!g).map(g=>c.find(x=>x.id===g)).find(g=>!!g)??c[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!m){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=iM(m.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,m,i.isError,i.isLoading]),i.isLoading?l.jsx(_t,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(_t,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function cM(){return hn({queryKey:js.providers(),queryFn:({signal:e})=>ZS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const uM=ga({email:$t().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:$t().min(1,"Enter your password.")});function dM(){const e=Es(),n=An(),a=xt(),i=zv(),{session:c,isLoading:u,isError:f}=i,m=!c&&!u&&!f,g=rh(m),x=cM(),b=x.data?.providers??[],y=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,j=p.useMemo(()=>{const Z=new URLSearchParams(e.search);return Zl(Z.get("redirectTo"))},[e.search]);p.useEffect(()=>{c&&n(Lc(c.return_to,j),{replace:!0})},[n,j,c]),p.useEffect(()=>{m&&(g.isPending||g.isError||g.data?.requires_setup&&n(Lv(j),{replace:!0}))},[n,j,g.data?.requires_setup,g.isError,g.isPending,m]);const[T,E]=p.useState(null),[O,U]=p.useState(!1);if(p.useEffect(()=>{E(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(f)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&m)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&m)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(ze,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const _=async Z=>{Z.preventDefault(),E(null);const X=new FormData(Z.currentTarget),W=Object.fromEntries(X.entries()),K=uM.safeParse(W);if(!K.success){const de=K.error.issues[0]?.message??"Invalid input.";E(de);return}const{email:ne,password:ie}=K.data,le=typeof W.redirectTo=="string"?W.redirectTo:null,pe=Zl(le);U(!0);try{const de=await HS({email:ne,password:ie});a.setQueryData(js.detail(),de),n(Lc(de.return_to,pe),{replace:!0})}catch(de){if(de instanceof ns){const ge=de.problem?.detail??de.message??"Unable to sign in.";E(ge)}else de instanceof Error?E(de.message):E("Unable to sign in.")}finally{U(!1)}},A=!!T&&!O,$=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(ut,{tone:"warning",className:"mt-6",children:w}):null,$?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(Z=>l.jsxs("a",{href:Z.start_url,className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",Z.label]},Z.id))}):null,y?l.jsx(ut,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:_,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:j}),l.jsx(Wt,{label:"Email address",required:!0,children:l.jsx(ln,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:O})}),l.jsx(Wt,{label:"Password",required:!0,children:l.jsx(ln,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:O})}),A?l.jsx(ut,{tone:"danger",children:T}):null,l.jsx(ze,{type:"submit",className:"w-full justify-center",isLoading:O,disabled:O,children:O?"Signing in":"Continue"})]})]})})}function fM(){const e=An(),n=Es(),a=xt(),[i,c]=p.useState(null);return p.useEffect(()=>{let u=!1;const f=new URLSearchParams(n.search),m=f.get("code"),g=f.get("state");if(!m||!g){c("Missing authorization details from the identity provider.");return}async function x(){try{const b=f.toString(),y=await kS(`/auth/sso/callback?${b}`);if(u)return;const w=Yl(y);a.setQueryData(js.detail(),w);const j=Lc(w.return_to,f.get("next"));e(j,{replace:!0})}catch(b){if(u)return;b instanceof ns?c(b.problem?.detail??b.message):b instanceof Error?c(b.message):c("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,a]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Finishing sign-in",variant:"loading"})})}const hM=ga({displayName:$t().min(1,"Display name is required."),email:$t().min(1,"Email is required.").email("Enter a valid email address."),password:$t().min(12,"Use at least 12 characters."),confirmPassword:$t().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function mM(){const e=Es(),n=An(),a=xt(),i=rh(!0),c=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Zl(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(Ov(c),{replace:!0})},[n,c,i.data?.requires_setup,i.isError,i.isPending]);const[u,f]=p.useState(null),[m,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(ze,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),f(null);const y=new FormData(b.currentTarget),w=Object.fromEntries(y.entries()),j=hM.safeParse(w);if(!j.success){const E=j.error.issues[0]?.message??"Invalid input.";f(E);return}g(!0);const T=Zl(w.redirectTo);try{const E=await Sj({display_name:j.data.displayName,email:j.data.email,password:j.data.password});a.setQueryData(js.detail(),E),n(Lc(E.return_to,T),{replace:!0})}catch(E){if(E instanceof ns){const O=E.problem?.detail??E.message??"Setup failed. Try again.";f(O)}else E instanceof Error?f(E.message):f("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),i.data.force_sso?l.jsx(ut,{tone:"info",className:"mt-6",children:"This deployment enforces single sign-on after the initial administrator is created."}):null,l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:c}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(Wt,{label:"Display name",required:!0,children:l.jsx(ln,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:m})}),l.jsx(Wt,{label:"Email",required:!0,children:l.jsx(ln,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:m})})]}),l.jsx(Wt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(ln,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:m})}),l.jsx(Wt,{label:"Confirm password",required:!0,children:l.jsx(ln,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:m})}),u?l.jsx(ut,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(ze,{type:"submit",isLoading:m,disabled:m,children:m?"Creating administrator":"Create administrator"})})]})]})})}function Cy({children:e,sidePanel:n,actions:a,search:i}){const c=Rr(),u=An(),f=c.user.display_name||c.user.email||"Signed in",m=c.user.email??"";return l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(Lb,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(OC,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:a?l.jsx("div",{className:"flex items-center gap-2",children:a}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Ub,{displayName:f,email:m})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})}function pM(){return l.jsx(Kc,{children:l.jsx(gM,{})})}function gM(){const e=An(),n=Rr(),a=Yc(),c=(n.user.permissions??[]).includes("Workspaces.Create"),[u,f]=p.useState(""),m=Zb(),g=a.data,x=p.useMemo(()=>g?.items??[],[g?.items]),b=u.trim().toLowerCase(),y=p.useMemo(()=>b?x.filter(Z=>{const X=Z.name.toLowerCase(),W=Z.slug?.toLowerCase()??"";return X.includes(b)||W.includes(b)}):x,[x,b]),w=c?l.jsx(ze,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,j=p.useCallback(()=>{if(!b)return;const Z=y[0];Z&&e(`/workspaces/${Z.id}/${Xa.path}`)},[y,b,e]),T=p.useCallback(()=>f(""),[]),O=(b?y:x).slice(0,5).map(Z=>({id:Z.id,label:Z.name,description:Z.slug?`Slug  ${Z.slug}`:"Workspace"})),U=p.useCallback(Z=>{f(""),e(`/workspaces/${Z.id}/${Xa.path}`)},[e]),_={value:u,onChange:f,onSubmit:j,placeholder:"Search workspaces or jump to one instantly",shortcutHint:m,scopeLabel:"Workspace directory",suggestions:O,onSelectSuggestion:U,onClear:T},A={..._,shortcutHint:void 0,onClear:T,enableShortcut:!1,variant:"minimal"};if(a.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"Loading workspaces",variant:"loading"})});if(a.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(_t,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(ze,{variant:"secondary",onClick:()=>a.refetch(),children:"Retry"})})});const $=x.length===0?c?l.jsx(vM,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(_t,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):y.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(_t,{title:`No workspaces matching "${u}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(ze,{variant:"secondary",onClick:T,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),l.jsx(Ob,{...A,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:y.map(Z=>l.jsxs(Zc,{to:`/workspaces/${Z.id}/${Xa.path}`,className:"group rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:Z.name}),Z.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):null]}),l.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Slug: ",Z.slug]}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:Z.permissions.length>0?Z.permissions.join(", "):"None"})]},Z.id))})]});return l.jsx(Cy,{actions:w,search:_,sidePanel:l.jsx(xM,{canCreate:c,onCreate:()=>e("/workspaces/new")}),children:$})}function xM({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(ze,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function vM({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(ze,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}function bM(){const e=xt();return Dn({mutationFn:ij,onSuccess(n){e.setQueryData(Yt.detail(n.id),n),e.getQueriesData({queryKey:Yt.all()}).forEach(([a,i])=>{if(!Array.isArray(a)||a[0]!=="workspaces"||a[1]!=="list"||!i)return;const c=i.items.findIndex(g=>g.id===n.id),f=[...c>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),m=typeof i.total=="number"&&c===-1?i.total+1:i.total;e.setQueryData(a,{...i,items:f,total:m})}),e.invalidateQueries({queryKey:Yt.all()})}})}const yM=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,wM=ga({name:$t().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:$t().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(yM,"Use lowercase letters, numbers, and dashes."),ownerUserId:$t().optional()});function SM(){return l.jsx(Kc,{children:l.jsx(jM,{})})}function jM(){const e=An(),n=Rr(),a=Yc(),i=bM(),c=n.user.permissions?.includes("Users.Read.All")??!1,u=jy({enabled:c,pageSize:50}),f=p.useMemo(()=>u.users,[u.users]),m=p.useMemo(()=>n.user.id?f.filter(K=>K.id!==n.user.id):f,[f,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:y,setError:w,clearErrors:j,formState:{errors:T,dirtyFields:E}}=Mh({resolver:Rh(wM),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),O=b("name"),U=b("slug");p.useEffect(()=>{if(E.slug)return;const K=EM(O);K!==U&&y("slug",K,{shouldValidate:!!K})},[E.slug,O,y,U]),p.useEffect(()=>{!c&&n.user.id&&y("ownerUserId",n.user.id,{shouldDirty:!1})},[c,n.user.id,y]);const _=i.isPending,A=u.isPending&&u.users.length===0,$=_||A||!c,Z=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,X=g("ownerUserId"),W=x(K=>{if(j("root"),c&&!K.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}i.mutate({name:K.name.trim(),slug:K.slug.trim(),owner_user_id:c&&K.ownerUserId||void 0},{onSuccess(ne){a.refetch(),e(`/workspaces/${ne.id}`)},onError(ne){if(ne instanceof ns){const ie=ne.problem?.detail??ne.message,le=ne.problem?.errors??{};w("root",{type:"server",message:ie}),le.name?.[0]&&w("name",{type:"server",message:le.name[0]}),le.slug?.[0]&&w("slug",{type:"server",message:le.slug[0]}),le.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:le.owner_user_id[0]});return}w("root",{type:"server",message:ne instanceof Error?ne.message:"Workspace creation failed."})}})});return l.jsx(Cy,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:W,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(Wt,{label:"Workspace name",required:!0,error:T.name?.message,children:l.jsx(ln,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!T.name,disabled:_})}),l.jsx(Wt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:T.slug?.message,children:l.jsx(ln,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!T.slug,disabled:_})})]}),c?l.jsxs(Wt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:T.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...X,onChange:K=>{X.onChange(K),j("ownerUserId")},disabled:$,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:Z}),m.map(K=>l.jsx("option",{value:K.id,children:K.display_name?`${K.display_name} (${K.email})`:K.email},K.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(ze,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,T.root?l.jsx(ut,{tone:"danger",children:T.root.message}):null,c&&u.isError?l.jsx(ut,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(ze,{type:"button",variant:"secondary",onClick:()=>e(-1),disabled:_,children:"Cancel"}),l.jsx(ze,{type:"submit",isLoading:_,children:_?"Creating workspace":"Create workspace"})]})]})]})})}function EM(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}async function NM({signal:e}={}){try{await Ge.DELETE("/api/v1/auth/session",{signal:e})}catch(n){if(n instanceof ns&&(n.status===401||n.status===403))return}}function _M(){const e=An(),n=xt();return p.useEffect(()=>{let a=!1;const i=new AbortController;return(async()=>{try{await NM({signal:i.signal})}finally{a||(n.removeQueries({queryKey:js.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{a||e("/login",{replace:!0})}),()=>{a=!0,i.abort()}},[e,n]),null}function CM(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(Zc,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(Zc,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function kM(){return l.jsx(L1,{children:l.jsx(SS,{children:l.jsx(TM,{})})})}function TM(){const e=Es(),a=AM(e.pathname).split("/").filter(Boolean);if(a.length===0)return l.jsx(lM,{});const[i,c]=a;switch(i){case"login":return l.jsx(dM,{});case"logout":return l.jsx(_M,{});case"auth":if(c==="callback")return l.jsx(fM,{});break;case"setup":return l.jsx(mM,{});case"workspaces":return c?c==="new"?l.jsx(SM,{}):l.jsx(WD,{}):l.jsx(pM,{})}return l.jsx(CM,{})}function AM(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}O1.createRoot(document.getElementById("root")).render(l.jsx(mt.StrictMode,{children:l.jsx(kM,{})}));export{mt as W,ve as c,l as j,p as r};
