(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Ub(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function J1(){if(Ax)return zl;Ax=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:u}}return zl.Fragment=n,zl.jsx=r,zl.jsxs=r,zl}var Dx;function ej(){return Dx||(Dx=1,jf.exports=J1()),jf.exports}var l=ej(),Sf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function tj(){if(Mx)return Ie;Mx=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function T(k,Q,ce){this.props=k,this.context=Q,this.refs=_,this.updater=ce||N}T.prototype.isReactComponent={},T.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=T.prototype;function z(k,Q,ce){this.props=k,this.context=Q,this.refs=_,this.updater=ce||N}var L=z.prototype=new C;L.constructor=z,j(L,T.prototype),L.isPureReactComponent=!0;var O=Array.isArray;function te(){}var U={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function W(k,Q,ce){var F=ce.ref;return{$$typeof:e,type:k,key:Q,ref:F!==void 0?F:null,props:ce}}function G(k,Q){return W(k.type,Q,k.props)}function re(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function $(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return Q[ce]})}var K=/\/+/g;function ue(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?$(""+k.key):Q.toString(36)}function we(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function D(k,Q,ce,F,ee){var H=typeof k;(H==="undefined"||H==="boolean")&&(k=null);var Y=!1;if(k===null)Y=!0;else switch(H){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(k.$$typeof){case e:case n:Y=!0;break;case b:return Y=k._init,D(Y(k._payload),Q,ce,F,ee)}}if(Y)return ee=ee(k),Y=F===""?"."+ue(k,0):F,O(ee)?(ce="",Y!=null&&(ce=Y.replace(K,"$&/")+"/"),D(ee,Q,ce,"",function(ge){return ge})):ee!=null&&(re(ee)&&(ee=G(ee,ce+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(K,"$&/")+"/")+Y)),Q.push(ee)),1;Y=0;var q=F===""?".":F+":";if(O(k))for(var le=0;le<k.length;le++)F=k[le],H=q+ue(F,le),Y+=D(F,Q,ce,H,ee);else if(le=E(k),typeof le=="function")for(k=le.call(k),le=0;!(F=k.next()).done;)F=F.value,H=q+ue(F,le++),Y+=D(F,Q,ce,H,ee);else if(H==="object"){if(typeof k.then=="function")return D(we(k),Q,ce,F,ee);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Y}function A(k,Q,ce){if(k==null)return k;var F=[],ee=0;return D(k,F,"","",function(H){return Q.call(ce,H,ee++)}),F}function se(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var de=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ae={map:A,forEach:function(k,Q,ce){A(k,function(){Q.apply(this,arguments)},ce)},count:function(k){var Q=0;return A(k,function(){Q++}),Q},toArray:function(k){return A(k,function(Q){return Q})||[]},only:function(k){if(!re(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ie.Activity=v,Ie.Children=ae,Ie.Component=T,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=z,Ie.StrictMode=i,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return U.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(k,Q,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var F=j({},k.props),ee=k.key;if(Q!=null)for(H in Q.key!==void 0&&(ee=""+Q.key),Q)!Z.call(Q,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&Q.ref===void 0||(F[H]=Q[H]);var H=arguments.length-2;if(H===1)F.children=ce;else if(1<H){for(var Y=Array(H),q=0;q<H;q++)Y[q]=arguments[q+2];F.children=Y}return W(k.type,ee,F)},Ie.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,Q,ce){var F,ee={},H=null;if(Q!=null)for(F in Q.key!==void 0&&(H=""+Q.key),Q)Z.call(Q,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ee[F]=Q[F]);var Y=arguments.length-2;if(Y===1)ee.children=ce;else if(1<Y){for(var q=Array(Y),le=0;le<Y;le++)q[le]=arguments[le+2];ee.children=q}if(k&&k.defaultProps)for(F in Y=k.defaultProps,Y)ee[F]===void 0&&(ee[F]=Y[F]);return W(k,H,ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:h,render:k}},Ie.isValidElement=re,Ie.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:se}},Ie.memo=function(k,Q){return{$$typeof:x,type:k,compare:Q===void 0?null:Q}},Ie.startTransition=function(k){var Q=U.T,ce={};U.T=ce;try{var F=k(),ee=U.S;ee!==null&&ee(ce,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(te,de)}catch(H){de(H)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),U.T=Q}},Ie.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ie.use=function(k){return U.H.use(k)},Ie.useActionState=function(k,Q,ce){return U.H.useActionState(k,Q,ce)},Ie.useCallback=function(k,Q){return U.H.useCallback(k,Q)},Ie.useContext=function(k){return U.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,Q){return U.H.useDeferredValue(k,Q)},Ie.useEffect=function(k,Q){return U.H.useEffect(k,Q)},Ie.useEffectEvent=function(k){return U.H.useEffectEvent(k)},Ie.useId=function(){return U.H.useId()},Ie.useImperativeHandle=function(k,Q,ce){return U.H.useImperativeHandle(k,Q,ce)},Ie.useInsertionEffect=function(k,Q){return U.H.useInsertionEffect(k,Q)},Ie.useLayoutEffect=function(k,Q){return U.H.useLayoutEffect(k,Q)},Ie.useMemo=function(k,Q){return U.H.useMemo(k,Q)},Ie.useOptimistic=function(k,Q){return U.H.useOptimistic(k,Q)},Ie.useReducer=function(k,Q,ce){return U.H.useReducer(k,Q,ce)},Ie.useRef=function(k){return U.H.useRef(k)},Ie.useState=function(k){return U.H.useState(k)},Ie.useSyncExternalStore=function(k,Q,ce){return U.H.useSyncExternalStore(k,Q,ce)},Ie.useTransition=function(){return U.H.useTransition()},Ie.version="19.2.0",Ie}var Rx;function ph(){return Rx||(Rx=1,Sf.exports=tj()),Sf.exports}var p=ph();const vt=Ub(p);var Ef={exports:{}},Ol={},Nf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function nj(){return zx||(zx=1,(function(e){function n(D,A){var se=D.length;D.push(A);e:for(;0<se;){var de=se-1>>>1,ae=D[de];if(0<o(ae,A))D[de]=A,D[se]=ae,se=de;else break e}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var A=D[0],se=D.pop();if(se!==A){D[0]=se;e:for(var de=0,ae=D.length,k=ae>>>1;de<k;){var Q=2*(de+1)-1,ce=D[Q],F=Q+1,ee=D[F];if(0>o(ce,se))F<ae&&0>o(ee,ce)?(D[de]=ee,D[F]=se,de=F):(D[de]=ce,D[Q]=se,de=Q);else if(F<ae&&0>o(ee,se))D[de]=ee,D[F]=se,de=F;else break e}}return A}function o(D,A){var se=D.sortIndex-A.sortIndex;return se!==0?se:D.id-A.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],x=[],b=1,v=null,w=3,E=!1,N=!1,j=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function L(D){for(var A=r(x);A!==null;){if(A.callback===null)i(x);else if(A.startTime<=D)i(x),A.sortIndex=A.expirationTime,n(g,A);else break;A=r(x)}}function O(D){if(j=!1,L(D),!N)if(r(g)!==null)N=!0,te||(te=!0,$());else{var A=r(x);A!==null&&we(O,A.startTime-D)}}var te=!1,U=-1,Z=5,W=-1;function G(){return _?!0:!(e.unstable_now()-W<Z)}function re(){if(_=!1,te){var D=e.unstable_now();W=D;var A=!0;try{e:{N=!1,j&&(j=!1,C(U),U=-1),E=!0;var se=w;try{t:{for(L(D),v=r(g);v!==null&&!(v.expirationTime>D&&G());){var de=v.callback;if(typeof de=="function"){v.callback=null,w=v.priorityLevel;var ae=de(v.expirationTime<=D);if(D=e.unstable_now(),typeof ae=="function"){v.callback=ae,L(D),A=!0;break t}v===r(g)&&i(g),L(D)}else i(g);v=r(g)}if(v!==null)A=!0;else{var k=r(x);k!==null&&we(O,k.startTime-D),A=!1}}break e}finally{v=null,w=se,E=!1}A=void 0}}finally{A?$():te=!1}}}var $;if(typeof z=="function")$=function(){z(re)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ue=K.port2;K.port1.onmessage=re,$=function(){ue.postMessage(null)}}else $=function(){T(re,0)};function we(D,A){U=T(function(){D(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(D){switch(w){case 1:case 2:case 3:var A=3;break;default:A=w}var se=w;w=A;try{return D()}finally{w=se}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(D,A){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var se=w;w=D;try{return A()}finally{w=se}},e.unstable_scheduleCallback=function(D,A,se){var de=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?de+se:de):se=de,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=se+ae,D={id:b++,callback:A,priorityLevel:D,startTime:se,expirationTime:ae,sortIndex:-1},se>de?(D.sortIndex=se,n(x,D),r(g)===null&&D===r(x)&&(j?(C(U),U=-1):j=!0,we(O,se-de))):(D.sortIndex=ae,n(g,D),N||E||(N=!0,te||(te=!0,$()))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var A=w;return function(){var se=w;w=A;try{return D.apply(this,arguments)}finally{w=se}}}})(Cf)),Cf}var Ox;function sj(){return Ox||(Ox=1,Nf.exports=nj()),Nf.exports}var _f={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function rj(){if(Lx)return Rn;Lx=1;var e=ph();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,x,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:x,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,b)},Rn.flushSync=function(g){var x=d.T,b=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=x,i.p=b,i.d.f()}},Rn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Rn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Rn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Rn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=h(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Rn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,v=h(b,x.crossOrigin);i.d.L(g,b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Rn.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=h(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Rn.requestFormReset=function(g){i.d.r(g)},Rn.unstable_batchedUpdates=function(g,x){return g(x)},Rn.useFormState=function(g,x,b){return d.H.useFormState(g,x,b)},Rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var Ux;function Bb(){if(Ux)return _f.exports;Ux=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),_f.exports=rj(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function aj(){if(Bx)return Ol;Bx=1;var e=sj(),n=ph(),r=Bb();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===c)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var y=!1,S=f.child;S;){if(S===a){y=!0,a=f,c=m;break}if(S===c){y=!0,c=f,a=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===a){y=!0,a=m,c=f;break}if(S===c){y=!0,c=m,a=f;break}S=S.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var K=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===K?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case te:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case z:return t.displayName||"Context";case C:return(t._context.displayName||"Context")+".Consumer";case L:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return s=t.displayName||null,s!==null?s:ue(t.type)||"Memo";case Z:s=t._payload,t=t._init;try{return ue(t(s))}catch{}}return null}var we=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function k(t){return{current:t}}function Q(t){0>ae||(t.current=de[ae],de[ae]=null,ae--)}function ce(t,s){ae++,de[ae]=t.current,t.current=s}var F=k(null),ee=k(null),H=k(null),Y=k(null);function q(t,s){switch(ce(H,s),ce(ee,t),ce(F,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Jg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Jg(s),t=ex(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(F),ce(F,t)}function le(){Q(F),Q(ee),Q(H)}function ge(t){t.memoizedState!==null&&ce(Y,t);var s=F.current,a=ex(s,t.type);s!==a&&(ce(ee,t),ce(F,a))}function xe(t){ee.current===t&&(Q(F),Q(ee)),Y.current===t&&(Q(Y),Al._currentValue=se)}var Ce,We;function Oe(t){if(Ce===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",We=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+We}var Te=!1;function Ye(t,s){if(!t||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ne=oe}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(oe){ne=oe}t.call(pe.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var R=y.split(`
`),J=S.split(`
`);for(f=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(c===R.length||f===J.length)for(c=R.length-1,f=J.length-1;1<=c&&0<=f&&R[c]!==J[f];)f--;for(;1<=c&&0<=f;c--,f--)if(R[c]!==J[f]){if(c!==1||f!==1)do if(c--,f--,0>f||R[c]!==J[f]){var fe=`
`+R[c].replace(" at new "," at ");return t.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",t.displayName)),fe}while(1<=c&&0<=f);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function Ut(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ye(t.type,!1);case 11:return Ye(t.type.render,!1);case 1:return Ye(t.type,!0);case 31:return Oe("Activity");default:return""}}function it(t){try{var s="",a=null;do s+=Ut(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Cn=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,P=e.unstable_cancelCallback,ie=e.unstable_shouldYield,Ee=e.unstable_requestPaint,ye=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,_t=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Ne=e.log,$e=e.unstable_setDisableYieldValue,Dt=null,st=null;function Kt(t){if(typeof Ne=="function"&&$e(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Dt,t)}catch{}}var Mt=Math.clz32?Math.clz32:Bi,br=Math.log,zs=Math.LN2;function Bi(t){return t>>>=0,t===0?32:31-(br(t)/zs|0)|0}var Os=256,vr=262144,Rt=4194304;function wt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kt(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~m,c!==0?f=wt(c):(y&=S,y!==0?f=wt(y):a||(a=S&~t,a!==0&&(f=wt(a))))):(S=c&~m,S!==0?f=wt(S):y!==0?f=wt(y):a||(a=c&~t,a!==0&&(f=wt(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function _n(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function dn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function hn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function On(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,s,a,c,f,m){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,R=t.expirationTimes,J=t.hiddenUpdates;for(a=y&~a;0<a;){var fe=31-Mt(a),pe=1<<fe;S[fe]=0,R[fe]=-1;var ne=J[fe];if(ne!==null)for(J[fe]=null,fe=0;fe<ne.length;fe++){var oe=ne[fe];oe!==null&&(oe.lane&=-536870913)}a&=~pe}c!==0&&bn(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(y&~s))}function bn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Mt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function vn(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Mt(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function kn(t,s){var a=s&-s;return a=(a&42)!==0?1:Yn(a),(a&(t.suspendedLanes|s))!==0?0:a}function Yn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=A.p;return t!==0?t:(t=window.event,t===void 0?32:Sx(t.type))}function zt(t,s){var a=A.p;try{return A.p=t,s()}finally{A.p=a}}var Ln=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Ln,Vt="__reactProps$"+Ln,yr="__reactContainer$"+Ln,Ma="__reactEvents$"+Ln,yu="__reactListeners$"+Ln,qe="__reactHandles$"+Ln,ta="__reactResources$"+Ln,wr="__reactMarker$"+Ln;function $i(t){delete t[Nt],delete t[Vt],delete t[Ma],delete t[yu],delete t[qe]}function jr(t){var s=t[Nt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[yr]||a[Nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=lx(t);t!==null;){if(a=t[Nt])return a;t=lx(t)}return s}t=a,a=t.parentNode}return null}function Yt(t){if(t=t[Nt]||t[yr]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Gn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Sr(t){var s=t[ta];return s||(s=t[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(t){t[wr]=!0}var Ys=new Set,na={};function os(t,s){Er(t,s),Er(t+"Capture",s)}function Er(t,s){for(na[t]=s,t=0;t<s.length;t++)Ys.add(s[t])}var qi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},Gs={};function rn(t){return Cn.call(Gs,t)?!0:Cn.call(oo,t)?!1:qi.test(t)?Gs[t]=!0:(oo[t]=!0,!1)}function Ra(t,s,a){if(rn(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ws(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function An(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function js(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,m.call(this,y)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ss(t){if(!t._valueTracker){var s=Fi(t)?"checked":"value";t._valueTracker=js(t,s,""+t[s])}}function za(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=Fi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oa=/[\n"\\]/g;function Bt(t){return t.replace(Oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(t,s,a,c,f,m,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),s!=null?y==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Dn(s)):t.value!==""+Dn(s)&&(t.value=""+Dn(s)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),s!=null?Hi(t,y,Dn(s)):a!=null?Hi(t,y,Dn(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Dn(S):t.removeAttribute("name")}function wu(t,s,a,c,f,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ss(t);return}a=a!=null?""+Dn(a):"",s=s!=null?""+Dn(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ss(t)}function Hi(t,s,a){s==="number"&&sa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ls(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Dn(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Zi(t,s,a){if(s!=null&&(s=""+Dn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Dn(a):""}function Ii(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(we(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Dn(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Ss(t)}function Nr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||La.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function fo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&uo(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&uo(t,m,s[m])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(t){return ju.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Es(){}var Cr=null;function Us(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bs=null,$s=null;function qa(t){var s=Yt(t);if(s&&(t=s.stateNode)){var a=t[Vt]||null;e:switch(t=s.stateNode,s.type){case"input":if(co(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[Vt]||null;if(!f)throw Error(i(90));co(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&za(c)}break e;case"textarea":Zi(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ls(t,!!a.multiple,s,!1)}}}var qs=!1;function ho(t,s,a){if(qs)return t(s,a);qs=!0;try{var c=t(s);return c}finally{if(qs=!1,(Bs!==null||$s!==null)&&(Xo(),Bs&&(s=Bs,t=$s,$s=Bs=null,qa(s),t)))for(s=0;s<t.length;s++)qa(t[s])}}function ra(t,s){var a=t.stateNode;if(a===null)return null;var c=a[Vt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(Ns)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Vi=!1}var Fs=null,Qi=null,Fa=null;function mo(){if(Fa)return Fa;var t,s=Qi,a=s.length,c,f="value"in Fs?Fs.value:Fs.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var y=a-t;for(c=1;c<=y&&s[a-c]===f[m-c];c++);return Fa=f.slice(t,1<c?1-c:void 0)}function Ha(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Za(){return!0}function po(){return!1}function yn(t){function s(a,c,f,m,y){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Za:po,this.isPropagationStopped=po,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=yn(Xs),aa=v({},Xs,{view:0,detail:0}),Su=yn(aa),Wi,Pi,ia,Va=v({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?(Wi=t.screenX-ia.screenX,Pi=t.screenY-ia.screenY):Pi=Wi=0,ia=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Pi}}),go=yn(Va),Eu=v({},Va,{dataTransfer:0}),Nu=yn(Eu),Ki=v({},aa,{relatedTarget:0}),V=yn(Ki),be=v({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),De=yn(be),ke=v({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ze=yn(ke),an=v({},Xs,{data:0}),ut=yn(an),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yi(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=sm[t])?!!s[t]:!1}function Cu(){return Yi}var uw=v({},aa,{key:function(t){if(t.key){var s=Mn[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dw=yn(uw),fw=v({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=yn(fw),hw=v({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),mw=yn(hw),pw=v({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=yn(pw),xw=v({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=yn(xw),vw=v({},Xs,{newState:0,oldState:0}),yw=yn(vw),ww=[9,13,27,32],_u=Ns&&"CompositionEvent"in window,Gi=null;Ns&&"documentMode"in document&&(Gi=document.documentMode);var jw=Ns&&"TextEvent"in window&&!Gi,am=Ns&&(!_u||Gi&&8<Gi&&11>=Gi),im=" ",lm=!1;function om(t,s){switch(t){case"keyup":return ww.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Sw(t,s){switch(t){case"compositionend":return cm(s);case"keypress":return s.which!==32?null:(lm=!0,im);case"textInput":return t=s.data,t===im&&lm?null:t;default:return null}}function Ew(t,s){if(Qa)return t==="compositionend"||!_u&&om(t,s)?(t=mo(),Fa=Qi=Fs=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return am&&s.locale!=="ko"?null:s.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Nw[t.type]:s==="textarea"}function dm(t,s,a,c){Bs?$s?$s.push(c):$s=[c]:Bs=c,s=ac(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Xi=null,Ji=null;function Cw(t){Wg(t,0)}function xo(t){var s=Gn(t);if(za(s))return t}function fm(t,s){if(t==="change")return s}var hm=!1;if(Ns){var ku;if(Ns){var Tu="oninput"in document;if(!Tu){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Tu=typeof mm.oninput=="function"}ku=Tu}else ku=!1;hm=ku&&(!document.documentMode||9<document.documentMode)}function pm(){Xi&&(Xi.detachEvent("onpropertychange",gm),Ji=Xi=null)}function gm(t){if(t.propertyName==="value"&&xo(Ji)){var s=[];dm(s,Ji,t,Us(t)),ho(Cw,s)}}function _w(t,s,a){t==="focusin"?(pm(),Xi=s,Ji=a,Xi.attachEvent("onpropertychange",gm)):t==="focusout"&&pm()}function kw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(Ji)}function Tw(t,s){if(t==="click")return xo(s)}function Aw(t,s){if(t==="input"||t==="change")return xo(s)}function Dw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xn=typeof Object.is=="function"?Object.is:Dw;function el(t,s){if(Xn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Cn.call(s,f)||!Xn(t[f],s[f]))return!1}return!0}function xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,s){var a=xm(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function vm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=sa(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=sa(t.document)}return s}function Au(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Mw=Ns&&"documentMode"in document&&11>=document.documentMode,Wa=null,Du=null,tl=null,Mu=!1;function wm(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mu||Wa==null||Wa!==sa(c)||(c=Wa,"selectionStart"in c&&Au(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tl&&el(tl,c)||(tl=c,c=ac(Du,"onSelect"),0<c.length&&(s=new Ia("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=Wa)))}function la(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Pa={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Ru={},jm={};Ns&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function oa(t){if(Ru[t])return Ru[t];if(!Pa[t])return t;var s=Pa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in jm)return Ru[t]=s[a];return t}var Sm=oa("animationend"),Em=oa("animationiteration"),Nm=oa("animationstart"),Rw=oa("transitionrun"),zw=oa("transitionstart"),Ow=oa("transitioncancel"),Cm=oa("transitionend"),_m=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function Cs(t,s){_m.set(t,s),os(s,[t])}var bo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cs=[],Ka=0,Ou=0;function vo(){for(var t=Ka,s=Ou=Ka=0;s<t;){var a=cs[s];cs[s++]=null;var c=cs[s];cs[s++]=null;var f=cs[s];cs[s++]=null;var m=cs[s];if(cs[s++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}m!==0&&km(a,f,m)}}function yo(t,s,a,c){cs[Ka++]=t,cs[Ka++]=s,cs[Ka++]=a,cs[Ka++]=c,Ou|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Lu(t,s,a,c){return yo(t,s,a,c),wo(t)}function ca(t,s){return yo(t,null,null,s),wo(t)}function km(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Mt(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function wo(t){if(50<Sl)throw Sl=0,Vd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ya={};function Lw(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,s,a,c){return new Lw(t,s,a,c)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Js(t,s){var a=t.alternate;return a===null?(a=Jn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function jo(t,s,a,c,f,m){var y=0;if(c=t,typeof t=="function")Uu(t)&&(y=1);else if(typeof t=="string")y=F1(t,a,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Jn(31,a,s,f),t.elementType=W,t.lanes=m,t;case j:return ua(a.children,f,m,s);case _:y=8,f|=24;break;case T:return t=Jn(12,a,s,f|2),t.elementType=T,t.lanes=m,t;case O:return t=Jn(13,a,s,f),t.elementType=O,t.lanes=m,t;case te:return t=Jn(19,a,s,f),t.elementType=te,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:y=10;break e;case C:y=9;break e;case L:y=11;break e;case U:y=14;break e;case Z:y=16,c=null;break e}y=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=Jn(y,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function ua(t,s,a,c){return t=Jn(7,t,c,s),t.lanes=a,t}function Bu(t,s,a){return t=Jn(6,t,null,s),t.lanes=a,t}function Am(t){var s=Jn(18,null,null,0);return s.stateNode=t,s}function $u(t,s,a){return s=Jn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Dm=new WeakMap;function us(t,s){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:it(s)},Dm.set(t,s),s)}return{value:t,source:s,stack:it(s)}}var Ga=[],Xa=0,So=null,nl=0,ds=[],fs=0,_r=null,Hs=1,Zs="";function er(t,s){Ga[Xa++]=nl,Ga[Xa++]=So,So=t,nl=s}function Mm(t,s,a){ds[fs++]=Hs,ds[fs++]=Zs,ds[fs++]=_r,_r=t;var c=Hs;t=Zs;var f=32-Mt(c)-1;c&=~(1<<f),a+=1;var m=32-Mt(s)+f;if(30<m){var y=f-f%5;m=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Hs=1<<32-Mt(s)+f|a<<f|c,Zs=m+t}else Hs=1<<m|a<<f|c,Zs=t}function qu(t){t.return!==null&&(er(t,1),Mm(t,1,0))}function Fu(t){for(;t===So;)So=Ga[--Xa],Ga[Xa]=null,nl=Ga[--Xa],Ga[Xa]=null;for(;t===_r;)_r=ds[--fs],ds[fs]=null,Zs=ds[--fs],ds[fs]=null,Hs=ds[--fs],ds[fs]=null}function Rm(t,s){ds[fs++]=Hs,ds[fs++]=Zs,ds[fs++]=_r,Hs=s.id,Zs=s.overflow,_r=t}var wn=null,Tt=null,tt=!1,kr=null,hs=!1,Hu=Error(i(519));function Tr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(us(s,t)),Hu}function zm(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Nt]=t,s[Vt]=c,a){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Xe(Nl[a],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),wu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),Ii(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Gg(s.textContent,a)?(c.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),c.onScroll!=null&&Xe("scroll",s),c.onScrollEnd!=null&&Xe("scrollend",s),c.onClick!=null&&(s.onclick=Es),s=!0):s=!1,s||Tr(t,!0)}function Om(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:wn=wn.return}}function Ja(t){if(t!==wn)return!1;if(!tt)return Om(t),tt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&Tt&&Tr(t),Om(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=ix(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=ix(t)}else s===27?(s=Tt,Zr(t.type)?(t=ff,ff=null,Tt=t):Tt=s):Tt=wn?ps(t.stateNode.nextSibling):null;return!0}function da(){Tt=wn=null,tt=!1}function Zu(){var t=kr;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),kr=null),t}function sl(t){kr===null?kr=[t]:kr.push(t)}var Iu=k(null),fa=null,tr=null;function Ar(t,s,a){ce(Iu,s._currentValue),s._currentValue=a}function nr(t){t._currentValue=Iu.current,Q(Iu)}function Vu(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function Qu(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var y=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var R=0;R<s.length;R++)if(S.context===s[R]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Vu(m.return,a,t),c||(y=null);break e}m=S.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=a,m=y.alternate,m!==null&&(m.lanes|=a),Vu(y,a,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function ei(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var S=f.type;Xn(f.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(f===Y.current){if(y=f.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}f=f.return}t!==null&&Qu(s,t,a,c),s.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ha(t){fa=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jn(t){return Lm(fa,t)}function No(t,s){return fa===null&&ha(t),Lm(t,s)}function Lm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(i(308));tr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else tr=tr.next=s;return a}var Uw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Bw=e.unstable_scheduleCallback,$w=e.unstable_NormalPriority,Gt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new Uw,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Bw($w,function(){t.controller.abort()})}var al=null,Pu=0,ti=0,ni=null;function qw(t,s){if(al===null){var a=al=[];Pu=0,ti=Gd(),ni={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Pu++,s.then(Um,Um),s}function Um(){if(--Pu===0&&al!==null){ni!==null&&(ni.status="fulfilled");var t=al;al=null,ti=0,ni=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Fw(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Bm=D.S;D.S=function(t,s){wg=ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qw(t,s),Bm!==null&&Bm(t,s)};var ma=k(null);function Ku(){var t=ma.current;return t!==null?t:St.pooledCache}function Co(t,s){s===null?ce(ma,ma.current):ce(ma,s.pool)}function $m(){var t=Ku();return t===null?null:{parent:Gt._currentValue,pool:t}}var si=Error(i(460)),Yu=Error(i(474)),_o=Error(i(542)),ko={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Es,Es),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Zm(t),t;default:if(typeof s.status=="string")s.then(Es,Es);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Zm(t),t}throw ga=s,si}}function pa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ga=a,si):a}}var ga=null;function Hm(){if(ga===null)throw Error(i(459));var t=ga;return ga=null,t}function Zm(t){if(t===si||t===_o)throw Error(i(483))}var ri=null,il=0;function To(t){var s=il;return il+=1,ri===null&&(ri=[]),Fm(ri,t,s)}function ll(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ao(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Im(t){function s(I,B){if(t){var X=I.deletions;X===null?(I.deletions=[B],I.flags|=16):X.push(B)}}function a(I,B){if(!t)return null;for(;B!==null;)s(I,B),B=B.sibling;return null}function c(I){for(var B=new Map;I!==null;)I.key!==null?B.set(I.key,I):B.set(I.index,I),I=I.sibling;return B}function f(I,B){return I=Js(I,B),I.index=0,I.sibling=null,I}function m(I,B,X){return I.index=X,t?(X=I.alternate,X!==null?(X=X.index,X<B?(I.flags|=67108866,B):X):(I.flags|=67108866,B)):(I.flags|=1048576,B)}function y(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function S(I,B,X,he){return B===null||B.tag!==6?(B=Bu(X,I.mode,he),B.return=I,B):(B=f(B,X),B.return=I,B)}function R(I,B,X,he){var Le=X.type;return Le===j?fe(I,B,X.props.children,he,X.key):B!==null&&(B.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Z&&pa(Le)===B.type)?(B=f(B,X.props),ll(B,X),B.return=I,B):(B=jo(X.type,X.key,X.props,null,I.mode,he),ll(B,X),B.return=I,B)}function J(I,B,X,he){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=$u(X,I.mode,he),B.return=I,B):(B=f(B,X.children||[]),B.return=I,B)}function fe(I,B,X,he,Le){return B===null||B.tag!==7?(B=ua(X,I.mode,he,Le),B.return=I,B):(B=f(B,X),B.return=I,B)}function pe(I,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Bu(""+B,I.mode,X),B.return=I,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return X=jo(B.type,B.key,B.props,null,I.mode,X),ll(X,B),X.return=I,X;case N:return B=$u(B,I.mode,X),B.return=I,B;case Z:return B=pa(B),pe(I,B,X)}if(we(B)||$(B))return B=ua(B,I.mode,X,null),B.return=I,B;if(typeof B.then=="function")return pe(I,To(B),X);if(B.$$typeof===z)return pe(I,No(I,B),X);Ao(I,B)}return null}function ne(I,B,X,he){var Le=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Le!==null?null:S(I,B,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Le?R(I,B,X,he):null;case N:return X.key===Le?J(I,B,X,he):null;case Z:return X=pa(X),ne(I,B,X,he)}if(we(X)||$(X))return Le!==null?null:fe(I,B,X,he,null);if(typeof X.then=="function")return ne(I,B,To(X),he);if(X.$$typeof===z)return ne(I,B,No(I,X),he);Ao(I,X)}return null}function oe(I,B,X,he,Le){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return I=I.get(X)||null,S(B,I,""+he,Le);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return I=I.get(he.key===null?X:he.key)||null,R(B,I,he,Le);case N:return I=I.get(he.key===null?X:he.key)||null,J(B,I,he,Le);case Z:return he=pa(he),oe(I,B,X,he,Le)}if(we(he)||$(he))return I=I.get(X)||null,fe(B,I,he,Le,null);if(typeof he.then=="function")return oe(I,B,X,To(he),Le);if(he.$$typeof===z)return oe(I,B,X,No(B,he),Le);Ao(B,he)}return null}function Me(I,B,X,he){for(var Le=null,rt=null,ze=B,Ke=B=0,et=null;ze!==null&&Ke<X.length;Ke++){ze.index>Ke?(et=ze,ze=null):et=ze.sibling;var at=ne(I,ze,X[Ke],he);if(at===null){ze===null&&(ze=et);break}t&&ze&&at.alternate===null&&s(I,ze),B=m(at,B,Ke),rt===null?Le=at:rt.sibling=at,rt=at,ze=et}if(Ke===X.length)return a(I,ze),tt&&er(I,Ke),Le;if(ze===null){for(;Ke<X.length;Ke++)ze=pe(I,X[Ke],he),ze!==null&&(B=m(ze,B,Ke),rt===null?Le=ze:rt.sibling=ze,rt=ze);return tt&&er(I,Ke),Le}for(ze=c(ze);Ke<X.length;Ke++)et=oe(ze,I,Ke,X[Ke],he),et!==null&&(t&&et.alternate!==null&&ze.delete(et.key===null?Ke:et.key),B=m(et,B,Ke),rt===null?Le=et:rt.sibling=et,rt=et);return t&&ze.forEach(function(Pr){return s(I,Pr)}),tt&&er(I,Ke),Le}function Ue(I,B,X,he){if(X==null)throw Error(i(151));for(var Le=null,rt=null,ze=B,Ke=B=0,et=null,at=X.next();ze!==null&&!at.done;Ke++,at=X.next()){ze.index>Ke?(et=ze,ze=null):et=ze.sibling;var Pr=ne(I,ze,at.value,he);if(Pr===null){ze===null&&(ze=et);break}t&&ze&&Pr.alternate===null&&s(I,ze),B=m(Pr,B,Ke),rt===null?Le=Pr:rt.sibling=Pr,rt=Pr,ze=et}if(at.done)return a(I,ze),tt&&er(I,Ke),Le;if(ze===null){for(;!at.done;Ke++,at=X.next())at=pe(I,at.value,he),at!==null&&(B=m(at,B,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return tt&&er(I,Ke),Le}for(ze=c(ze);!at.done;Ke++,at=X.next())at=oe(ze,I,Ke,at.value,he),at!==null&&(t&&at.alternate!==null&&ze.delete(at.key===null?Ke:at.key),B=m(at,B,Ke),rt===null?Le=at:rt.sibling=at,rt=at);return t&&ze.forEach(function(X1){return s(I,X1)}),tt&&er(I,Ke),Le}function bt(I,B,X,he){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Le=X.key;B!==null;){if(B.key===Le){if(Le=X.type,Le===j){if(B.tag===7){a(I,B.sibling),he=f(B,X.props.children),he.return=I,I=he;break e}}else if(B.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Z&&pa(Le)===B.type){a(I,B.sibling),he=f(B,X.props),ll(he,X),he.return=I,I=he;break e}a(I,B);break}else s(I,B);B=B.sibling}X.type===j?(he=ua(X.props.children,I.mode,he,X.key),he.return=I,I=he):(he=jo(X.type,X.key,X.props,null,I.mode,he),ll(he,X),he.return=I,I=he)}return y(I);case N:e:{for(Le=X.key;B!==null;){if(B.key===Le)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){a(I,B.sibling),he=f(B,X.children||[]),he.return=I,I=he;break e}else{a(I,B);break}else s(I,B);B=B.sibling}he=$u(X,I.mode,he),he.return=I,I=he}return y(I);case Z:return X=pa(X),bt(I,B,X,he)}if(we(X))return Me(I,B,X,he);if($(X)){if(Le=$(X),typeof Le!="function")throw Error(i(150));return X=Le.call(X),Ue(I,B,X,he)}if(typeof X.then=="function")return bt(I,B,To(X),he);if(X.$$typeof===z)return bt(I,B,No(I,X),he);Ao(I,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(a(I,B.sibling),he=f(B,X),he.return=I,I=he):(a(I,B),he=Bu(X,I.mode,he),he.return=I,I=he),y(I)):a(I,B)}return function(I,B,X,he){try{il=0;var Le=bt(I,B,X,he);return ri=null,Le}catch(ze){if(ze===si||ze===_o)throw ze;var rt=Jn(29,ze,null,I.mode);return rt.lanes=he,rt.return=I,rt}finally{}}}var xa=Im(!0),Vm=Im(!1),Dr=!1;function Gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=wo(t),km(t,null,a),s}return yo(t,c,s,a),wo(t)}function ol(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,vn(t,a)}}function Ju(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=y:m=m.next=y,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ed=!1;function cl(){if(ed){var t=ni;if(t!==null)throw t}}function ul(t,s,a,c){ed=!1;var f=t.updateQueue;Dr=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var R=S,J=R.next;R.next=null,y===null?m=J:y.next=J,y=R;var fe=t.alternate;fe!==null&&(fe=fe.updateQueue,S=fe.lastBaseUpdate,S!==y&&(S===null?fe.firstBaseUpdate=J:S.next=J,fe.lastBaseUpdate=R))}if(m!==null){var pe=f.baseState;y=0,fe=J=R=null,S=m;do{var ne=S.lane&-536870913,oe=ne!==S.lane;if(oe?(Je&ne)===ne:(c&ne)===ne){ne!==0&&ne===ti&&(ed=!0),fe!==null&&(fe=fe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,Ue=S;ne=s;var bt=a;switch(Ue.tag){case 1:if(Me=Ue.payload,typeof Me=="function"){pe=Me.call(bt,pe,ne);break e}pe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ue.payload,ne=typeof Me=="function"?Me.call(bt,pe,ne):Me,ne==null)break e;pe=v({},pe,ne);break e;case 2:Dr=!0}}ne=S.callback,ne!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=f.callbacks,oe===null?f.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:S.tag,payload:S.payload,callback:S.callback,next:null},fe===null?(J=fe=oe,R=pe):fe=fe.next=oe,y|=ne;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;oe=S,S=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);fe===null&&(R=pe),f.baseState=R,f.firstBaseUpdate=J,f.lastBaseUpdate=fe,m===null&&(f.shared.lanes=0),Br|=y,t.lanes=y,t.memoizedState=pe}}function Qm(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Wm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qm(a[t],s)}var ai=k(null),Do=k(0);function Pm(t,s){t=dr,ce(Do,t),ce(ai,s),dr=t|s.baseLanes}function td(){ce(Do,dr),ce(ai,ai.current)}function nd(){dr=Do.current,Q(ai),Q(Do)}var es=k(null),ms=null;function zr(t){var s=t.alternate;ce(Qt,Qt.current&1),ce(es,t),ms===null&&(s===null||ai.current!==null||s.memoizedState!==null)&&(ms=t)}function sd(t){ce(Qt,Qt.current),ce(es,t),ms===null&&(ms=t)}function Km(t){t.tag===22?(ce(Qt,Qt.current),ce(es,t),ms===null&&(ms=t)):Or()}function Or(){ce(Qt,Qt.current),ce(es,es.current)}function ts(t){Q(es),ms===t&&(ms=null),Q(Qt)}var Qt=k(0);function Mo(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||uf(a)||df(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sr=0,Qe=null,gt=null,Xt=null,Ro=!1,ii=!1,ba=!1,zo=0,dl=0,li=null,Hw=0;function Ft(){throw Error(i(321))}function rd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Xn(t[a],s[a]))return!1;return!0}function ad(t,s,a,c,f,m){return sr=m,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=t===null||t.memoizedState===null?Mp:yd,ba=!1,m=a(c,f),ba=!1,ii&&(m=Gm(s,a,c,f)),Ym(t),m}function Ym(t){D.H=ml;var s=gt!==null&&gt.next!==null;if(sr=0,Xt=gt=Qe=null,Ro=!1,dl=0,li=null,s)throw Error(i(300));t===null||Jt||(t=t.dependencies,t!==null&&Eo(t)&&(Jt=!0))}function Gm(t,s,a,c){Qe=t;var f=0;do{if(ii&&(li=null),dl=0,ii=!1,25<=f)throw Error(i(301));if(f+=1,Xt=gt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=Rp,m=s(a,c)}while(ii);return m}function Zw(){var t=D.H,s=t.useState()[0];return s=typeof s.then=="function"?fl(s):s,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Qe.flags|=1024),s}function id(){var t=zo!==0;return zo=0,t}function ld(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function od(t){if(Ro){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ro=!1}sr=0,Xt=gt=Qe=null,ii=!1,dl=zo=0,li=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Qe.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Wt(){if(gt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var s=Xt===null?Qe.memoizedState:Xt.next;if(s!==null)Xt=s,gt=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?Qe.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var s=dl;return dl+=1,li===null&&(li=[]),t=Fm(li,t,s),s=Qe,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?Mp:yd),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===z)return jn(t)}throw Error(i(438,String(t)))}function cd(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Oo(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=G;return s.index++,a}function rr(t,s){return typeof s=="function"?s(t):s}function Uo(t){var s=Wt();return ud(s,gt,t)}function ud(t,s,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var S=y=null,R=null,J=s,fe=!1;do{var pe=J.lane&-536870913;if(pe!==J.lane?(Je&pe)===pe:(sr&pe)===pe){var ne=J.revertLane;if(ne===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),pe===ti&&(fe=!0);else if((sr&ne)===ne){J=J.next,ne===ti&&(fe=!0);continue}else pe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},R===null?(S=R=pe,y=m):R=R.next=pe,Qe.lanes|=ne,Br|=ne;pe=J.action,ba&&a(m,pe),m=J.hasEagerState?J.eagerState:a(m,pe)}else ne={lane:pe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},R===null?(S=R=ne,y=m):R=R.next=ne,Qe.lanes|=pe,Br|=pe;J=J.next}while(J!==null&&J!==s);if(R===null?y=m:R.next=S,!Xn(m,t.memoizedState)&&(Jt=!0,fe&&(a=ni,a!==null)))throw a;t.memoizedState=m,t.baseState=y,t.baseQueue=R,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function dd(t){var s=Wt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do m=t(m,y.action),y=y.next;while(y!==f);Xn(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Xm(t,s,a){var c=Qe,f=Wt(),m=tt;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var y=!Xn((gt||f).memoizedState,a);if(y&&(f.memoizedState=a,Jt=!0),f=f.queue,md(tp.bind(null,c,f,t),[t]),f.getSnapshot!==s||y||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,oi(9,{destroy:void 0},ep.bind(null,c,f,a,s),null),St===null)throw Error(i(349));m||(sr&127)!==0||Jm(c,s,a)}return a}function Jm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=Oo(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function ep(t,s,a,c){s.value=a,s.getSnapshot=c,np(s)&&sp(t)}function tp(t,s,a){return a(function(){np(s)&&sp(t)})}function np(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Xn(t,a)}catch{return!0}}function sp(t){var s=ca(t,2);s!==null&&Qn(s,t,2)}function fd(t){var s=Bn();if(typeof t=="function"){var a=t;if(t=a(),ba){Kt(!0);try{a()}finally{Kt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},s}function rp(t,s,a,c){return t.baseState=a,ud(t,gt,typeof c=="function"?c:rr)}function Iw(t,s,a,c,f){if(qo(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};D.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,ap(s,m)):(m.next=a.next,s.pending=a.next=m)}}function ap(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=D.T,y={};D.T=y;try{var S=a(f,c),R=D.S;R!==null&&R(y,S),ip(t,s,S)}catch(J){hd(t,s,J)}finally{m!==null&&y.types!==null&&(m.types=y.types),D.T=m}}else try{m=a(f,c),ip(t,s,m)}catch(J){hd(t,s,J)}}function ip(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){lp(t,s,c)},function(c){return hd(t,s,c)}):lp(t,s,a)}function lp(t,s,a){s.status="fulfilled",s.value=a,op(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,ap(t,a)))}function hd(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,op(s),s=s.next;while(s!==c)}t.action=null}function op(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function cp(t,s){return s}function up(t,s){if(tt){var a=St.formState;if(a!==null){e:{var c=Qe;if(tt){if(Tt){t:{for(var f=Tt,m=hs;f.nodeType!==8;){if(!m){f=null;break t}if(f=ps(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Tt=ps(f.nextSibling),c=f.data==="F!";break e}}Tr(c)}c=!1}c&&(s=a[0])}}return a=Bn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:s},a.queue=c,a=Tp.bind(null,Qe,c),c.dispatch=a,c=fd(!1),m=vd.bind(null,Qe,!1,c.queue),c=Bn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=Iw.bind(null,Qe,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function dp(t){var s=Wt();return fp(s,gt,t)}function fp(t,s,a){if(s=ud(t,s,cp)[0],t=Uo(rr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=fl(s)}catch(y){throw y===si?_o:y}else c=s;s=Wt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,oi(9,{destroy:void 0},Vw.bind(null,f,a),null)),[c,m,t]}function Vw(t,s){t.action=s}function hp(t){var s=Wt(),a=gt;if(a!==null)return fp(s,a,t);Wt(),s=s.memoizedState,a=Wt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function oi(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Oo(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function mp(){return Wt().memoizedState}function Bo(t,s,a,c){var f=Bn();Qe.flags|=t,f.memoizedState=oi(1|s,{destroy:void 0},a,c===void 0?null:c)}function $o(t,s,a,c){var f=Wt();c=c===void 0?null:c;var m=f.memoizedState.inst;gt!==null&&c!==null&&rd(c,gt.memoizedState.deps)?f.memoizedState=oi(s,m,a,c):(Qe.flags|=t,f.memoizedState=oi(1|s,m,a,c))}function pp(t,s){Bo(8390656,8,t,s)}function md(t,s){$o(2048,8,t,s)}function Qw(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=Oo(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function gp(t){var s=Wt().memoizedState;return Qw({ref:s,nextImpl:t}),function(){if((lt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function xp(t,s){return $o(4,2,t,s)}function bp(t,s){return $o(4,4,t,s)}function vp(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function yp(t,s,a){a=a!=null?a.concat([t]):null,$o(4,4,vp.bind(null,s,t),a)}function pd(){}function wp(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&rd(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function jp(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&rd(s,c[1]))return c[0];if(c=t(),ba){Kt(!0);try{t()}finally{Kt(!1)}}return a.memoizedState=[c,s],c}function gd(t,s,a){return a===void 0||(sr&1073741824)!==0&&(Je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Sg(),Qe.lanes|=t,Br|=t,a)}function Sp(t,s,a,c){return Xn(a,s)?a:ai.current!==null?(t=gd(t,a,c),Xn(t,s)||(Jt=!0),t):(sr&42)===0||(sr&1073741824)!==0&&(Je&261930)===0?(Jt=!0,t.memoizedState=a):(t=Sg(),Qe.lanes|=t,Br|=t,s)}function Ep(t,s,a,c,f){var m=A.p;A.p=m!==0&&8>m?m:8;var y=D.T,S={};D.T=S,vd(t,!1,s,a);try{var R=f(),J=D.S;if(J!==null&&J(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var fe=Fw(R,c);hl(t,s,fe,rs(t))}else hl(t,s,c,rs(t))}catch(pe){hl(t,s,{then:function(){},status:"rejected",reason:pe},rs())}finally{A.p=m,y!==null&&S.types!==null&&(y.types=S.types),D.T=y}}function Ww(){}function xd(t,s,a,c){if(t.tag!==5)throw Error(i(476));var f=Np(t).queue;Ep(t,f,s,se,a===null?Ww:function(){return Cp(t),a(c)})}function Np(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:se},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Cp(t){var s=Np(t);s.next===null&&(s=t.alternate.memoizedState),hl(t,s.next.queue,{},rs())}function bd(){return jn(Al)}function _p(){return Wt().memoizedState}function kp(){return Wt().memoizedState}function Pw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=rs();t=Mr(a);var c=Rr(s,t,a);c!==null&&(Qn(c,s,a),ol(c,s,a)),s={cache:Wu()},t.payload=s;return}s=s.return}}function Kw(t,s,a){var c=rs();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qo(t)?Ap(s,a):(a=Lu(t,s,a,c),a!==null&&(Qn(a,t,c),Dp(a,s,c)))}function Tp(t,s,a){var c=rs();hl(t,s,a,c)}function hl(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qo(t))Ap(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,S=m(y,a);if(f.hasEagerState=!0,f.eagerState=S,Xn(S,y))return yo(t,s,f,0),St===null&&vo(),!1}catch{}finally{}if(a=Lu(t,s,f,c),a!==null)return Qn(a,t,c),Dp(a,s,c),!0}return!1}function vd(t,s,a,c){if(c={lane:2,revertLane:Gd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(s)throw Error(i(479))}else s=Lu(t,a,c,2),s!==null&&Qn(s,t,2)}function qo(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function Ap(t,s){ii=Ro=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Dp(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,vn(t,a)}}var ml={readContext:jn,use:Lo,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};ml.useEffectEvent=Ft;var Mp={readContext:jn,use:Lo,useCallback:function(t,s){return Bn().memoizedState=[t,s===void 0?null:s],t},useContext:jn,useEffect:pp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Bo(4194308,4,vp.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Bo(4194308,4,t,s)},useInsertionEffect:function(t,s){Bo(4,2,t,s)},useMemo:function(t,s){var a=Bn();s=s===void 0?null:s;var c=t();if(ba){Kt(!0);try{t()}finally{Kt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=Bn();if(a!==void 0){var f=a(s);if(ba){Kt(!0);try{a(s)}finally{Kt(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=Kw.bind(null,Qe,t),[c.memoizedState,t]},useRef:function(t){var s=Bn();return t={current:t},s.memoizedState=t},useState:function(t){t=fd(t);var s=t.queue,a=Tp.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(t,s){var a=Bn();return gd(a,t,s)},useTransition:function(){var t=fd(!1);return t=Ep.bind(null,Qe,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Qe,f=Bn();if(tt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),St===null)throw Error(i(349));(Je&127)!==0||Jm(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,pp(tp.bind(null,c,m,t),[t]),c.flags|=2048,oi(9,{destroy:void 0},ep.bind(null,c,m,a,s),null),a},useId:function(){var t=Bn(),s=St.identifierPrefix;if(tt){var a=Zs,c=Hs;a=(c&~(1<<32-Mt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=zo++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Hw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:bd,useFormState:up,useActionState:up,useOptimistic:function(t){var s=Bn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=vd.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:cd,useCacheRefresh:function(){return Bn().memoizedState=Pw.bind(null,Qe)},useEffectEvent:function(t){var s=Bn(),a={impl:t};return s.memoizedState=a,function(){if((lt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:jn,use:Lo,useCallback:wp,useContext:jn,useEffect:md,useImperativeHandle:yp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:jp,useReducer:Uo,useRef:mp,useState:function(){return Uo(rr)},useDebugValue:pd,useDeferredValue:function(t,s){var a=Wt();return Sp(a,gt.memoizedState,t,s)},useTransition:function(){var t=Uo(rr)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:fl(t),s]},useSyncExternalStore:Xm,useId:_p,useHostTransitionStatus:bd,useFormState:dp,useActionState:dp,useOptimistic:function(t,s){var a=Wt();return rp(a,gt,t,s)},useMemoCache:cd,useCacheRefresh:kp};yd.useEffectEvent=gp;var Rp={readContext:jn,use:Lo,useCallback:wp,useContext:jn,useEffect:md,useImperativeHandle:yp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:jp,useReducer:dd,useRef:mp,useState:function(){return dd(rr)},useDebugValue:pd,useDeferredValue:function(t,s){var a=Wt();return gt===null?gd(a,t,s):Sp(a,gt.memoizedState,t,s)},useTransition:function(){var t=dd(rr)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:fl(t),s]},useSyncExternalStore:Xm,useId:_p,useHostTransitionStatus:bd,useFormState:hp,useActionState:hp,useOptimistic:function(t,s){var a=Wt();return gt!==null?rp(a,gt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:kp};Rp.useEffectEvent=gp;function wd(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jd={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=rs(),f=Mr(c);f.payload=s,a!=null&&(f.callback=a),s=Rr(t,f,c),s!==null&&(Qn(s,t,c),ol(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=rs(),f=Mr(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Rr(t,f,c),s!==null&&(Qn(s,t,c),ol(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=rs(),c=Mr(a);c.tag=2,s!=null&&(c.callback=s),s=Rr(t,c,a),s!==null&&(Qn(s,t,a),ol(s,t,a))}};function zp(t,s,a,c,f,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!el(a,c)||!el(f,m):!0}function Op(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&jd.enqueueReplaceState(s,s.state,null)}function va(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Lp(t){bo(t)}function Up(t){console.error(t)}function Bp(t){bo(t)}function Fo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $p(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,s,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fo(t,s)},a}function qp(t){return t=Mr(t),t.tag=3,t}function Fp(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){$p(s,a,c)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$p(s,a,c),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Yw(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&ei(s,a,f,!0),a=es.current,a!==null){switch(a.tag){case 31:case 13:return ms===null?Jo():a.alternate===null&&Ht===0&&(Ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===ko?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Pd(t,c,f)),!1;case 22:return a.flags|=65536,c===ko?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Pd(t,c,f)),!1}throw Error(i(435,a.tag))}return Pd(t,c,f),Jo(),!1}if(tt)return s=es.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Hu&&(t=Error(i(422),{cause:c}),sl(us(t,a)))):(c!==Hu&&(s=Error(i(423),{cause:c}),sl(us(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=us(c,a),f=Sd(t.stateNode,c,f),Ju(t,f),Ht!==4&&(Ht=2)),!1;var m=Error(i(520),{cause:c});if(m=us(m,a),jl===null?jl=[m]:jl.push(m),Ht!==4&&(Ht=2),s===null)return!0;c=us(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,c,t),Ju(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($r===null||!$r.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=qp(f),Fp(f,t,a,c),Ju(a,f),!1}a=a.return}while(a!==null);return!1}var Ed=Error(i(461)),Jt=!1;function Sn(t,s,a,c){s.child=t===null?Vm(s,null,a,c):xa(s,t.child,a,c)}function Hp(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var y={};for(var S in c)S!=="ref"&&(y[S]=c[S])}else y=c;return ha(s),c=ad(t,s,a,y,m,f),S=id(),t!==null&&!Jt?(ld(t,s,f),ar(t,s,f)):(tt&&S&&qu(s),s.flags|=1,Sn(t,s,c,f),s.child)}function Zp(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!Uu(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Ip(t,s,m,c,f)):(t=jo(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Md(t,f)){var y=m.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(y,c)&&t.ref===s.ref)return ar(t,s,f)}return s.flags|=1,t=Js(m,c),t.ref=s.ref,t.return=s,s.child=t}function Ip(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(el(m,c)&&t.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,Md(t,f))(t.flags&131072)!==0&&(Jt=!0);else return s.lanes=t.lanes,ar(t,s,f)}return Nd(t,s,a,c,f)}function Vp(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Qp(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Co(s,m!==null?m.cachePool:null),m!==null?Pm(s,m):td(),Km(s);else return c=s.lanes=536870912,Qp(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Co(s,m.cachePool),Pm(s,m),Or(),s.memoizedState=null):(t!==null&&Co(s,null),td(),Or());return Sn(t,s,f,a),s.child}function pl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qp(t,s,a,c,f){var m=Ku();return m=m===null?null:{parent:Gt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Co(s,null),td(),Km(s),t!==null&&ei(t,s,c,!0),s.childLanes=f,null}function Ho(t,s){return s=Io({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Wp(t,s,a){return xa(s,t.child,null,a),t=Ho(s,s.pendingProps),t.flags|=2,ts(s),s.memoizedState=null,t}function Gw(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(tt){if(c.mode==="hidden")return t=Ho(s,c),s.lanes=536870912,pl(null,t);if(sd(s),(t=Tt)?(t=ax(t,hs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Hs,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},a=Am(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Tr(s);return s.lanes=536870912,null}return Ho(s,c)}var m=t.memoizedState;if(m!==null){var y=m.dehydrated;if(sd(s),f)if(s.flags&256)s.flags&=-257,s=Wp(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Jt||ei(t,s,a,!1),f=(a&t.childLanes)!==0,Jt||f){if(c=St,c!==null&&(y=kn(c,a),y!==0&&y!==m.retryLane))throw m.retryLane=y,ca(t,y),Qn(c,t,y),Ed;Jo(),s=Wp(t,s,a)}else t=m.treeContext,Tt=ps(y.nextSibling),wn=s,tt=!0,kr=null,hs=!1,t!==null&&Rm(s,t),s=Ho(s,c),s.flags|=4096;return s}return t=Js(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Zo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Nd(t,s,a,c,f){return ha(s),a=ad(t,s,a,c,void 0,f),c=id(),t!==null&&!Jt?(ld(t,s,f),ar(t,s,f)):(tt&&c&&qu(s),s.flags|=1,Sn(t,s,a,f),s.child)}function Pp(t,s,a,c,f,m){return ha(s),s.updateQueue=null,a=Gm(s,c,a,f),Ym(t),c=id(),t!==null&&!Jt?(ld(t,s,m),ar(t,s,m)):(tt&&c&&qu(s),s.flags|=1,Sn(t,s,a,m),s.child)}function Kp(t,s,a,c,f){if(ha(s),s.stateNode===null){var m=Ya,y=a.contextType;typeof y=="object"&&y!==null&&(m=jn(y)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Gu(s),y=a.contextType,m.context=typeof y=="object"&&y!==null?jn(y):Ya,m.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wd(s,a,y,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&jd.enqueueReplaceState(m,m.state,null),ul(s,c,m,f),cl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var S=s.memoizedProps,R=va(a,S);m.props=R;var J=m.context,fe=a.contextType;y=Ya,typeof fe=="object"&&fe!==null&&(y=jn(fe));var pe=a.getDerivedStateFromProps;fe=typeof pe=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,fe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||J!==y)&&Op(s,m,c,y),Dr=!1;var ne=s.memoizedState;m.state=ne,ul(s,c,m,f),cl(),J=s.memoizedState,S||ne!==J||Dr?(typeof pe=="function"&&(wd(s,a,pe,c),J=s.memoizedState),(R=Dr||zp(s,a,R,c,ne,J,y))?(fe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=J),m.props=c,m.state=J,m.context=y,c=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Xu(t,s),y=s.memoizedProps,fe=va(a,y),m.props=fe,pe=s.pendingProps,ne=m.context,J=a.contextType,R=Ya,typeof J=="object"&&J!==null&&(R=jn(J)),S=a.getDerivedStateFromProps,(J=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==pe||ne!==R)&&Op(s,m,c,R),Dr=!1,ne=s.memoizedState,m.state=ne,ul(s,c,m,f),cl();var oe=s.memoizedState;y!==pe||ne!==oe||Dr||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof S=="function"&&(wd(s,a,S,c),oe=s.memoizedState),(fe=Dr||zp(s,a,fe,c,ne,oe,R)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(J||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,oe,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,oe,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),m.props=c,m.state=oe,m.context=R,c=fe):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,Zo(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=xa(s,t.child,null,f),s.child=xa(s,null,a,f)):Sn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ar(t,s,f),t}function Yp(t,s,a,c){return da(),s.flags|=256,Sn(t,s,a,c),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:$m()}}function kd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ss),t}function Gp(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),y&&(f=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,t===null){if(tt){if(f?zr(s):Or(),(t=Tt)?(t=ax(t,hs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:_r!==null?{id:Hs,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},a=Am(t),a.return=s,s.child=a,wn=s,Tt=null)):t=null,t===null)throw Tr(s);return df(t)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(Or(),f=s.mode,S=Io({mode:"hidden",children:S},f),c=ua(c,f,a,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=_d(a),c.childLanes=kd(t,y,a),s.memoizedState=Cd,pl(null,c)):(zr(s),Td(s,S))}var R=t.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(m)s.flags&256?(zr(s),s.flags&=-257,s=Ad(t,s,a)):s.memoizedState!==null?(Or(),s.child=t.child,s.flags|=128,s=null):(Or(),S=c.fallback,f=s.mode,c=Io({mode:"visible",children:c.children},f),S=ua(S,f,a,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,xa(s,t.child,null,a),c=s.child,c.memoizedState=_d(a),c.childLanes=kd(t,y,a),s.memoizedState=Cd,s=pl(null,c));else if(zr(s),df(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var J=y.dgst;y=J,c=Error(i(419)),c.stack="",c.digest=y,sl({value:c,source:null,stack:null}),s=Ad(t,s,a)}else if(Jt||ei(t,s,a,!1),y=(a&t.childLanes)!==0,Jt||y){if(y=St,y!==null&&(c=kn(y,a),c!==0&&c!==R.retryLane))throw R.retryLane=c,ca(t,c),Qn(y,t,c),Ed;uf(S)||Jo(),s=Ad(t,s,a)}else uf(S)?(s.flags|=192,s.child=t.child,s=null):(t=R.treeContext,Tt=ps(S.nextSibling),wn=s,tt=!0,kr=null,hs=!1,t!==null&&Rm(s,t),s=Td(s,c.children),s.flags|=4096);return s}return f?(Or(),S=c.fallback,f=s.mode,R=t.child,J=R.sibling,c=Js(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,J!==null?S=Js(J,S):(S=ua(S,f,a,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,pl(null,c),c=s.child,S=t.child.memoizedState,S===null?S=_d(a):(f=S.cachePool,f!==null?(R=Gt._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=$m(),S={baseLanes:S.baseLanes|a,cachePool:f}),c.memoizedState=S,c.childLanes=kd(t,y,a),s.memoizedState=Cd,pl(t.child,c)):(zr(s),a=t.child,t=a.sibling,a=Js(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(y=s.deletions,y===null?(s.deletions=[t],s.flags|=16):y.push(t)),s.child=a,s.memoizedState=null,a)}function Td(t,s){return s=Io({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Io(t,s){return t=Jn(22,t,null,s),t.lanes=0,t}function Ad(t,s,a){return xa(s,t.child,null,a),t=Td(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Xp(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Vu(t.return,s,a)}function Dd(t,s,a,c,f,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=f,y.treeForkCount=m)}function Jp(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var y=Qt.current,S=(y&2)!==0;if(S?(y=y&1|2,s.flags|=128):y&=1,ce(Qt,y),Sn(t,s,c,a),c=tt?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xp(t,a,s);else if(t.tag===19)Xp(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Mo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Dd(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Mo(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Dd(s,!0,a,null,m,c);break;case"together":Dd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function ar(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Br|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ei(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Js(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Js(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Md(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function Xw(t,s,a){switch(s.tag){case 3:q(s,s.stateNode.containerInfo),Ar(s,Gt,t.memoizedState.cache),da();break;case 27:case 5:ge(s);break;case 4:q(s,s.stateNode.containerInfo);break;case 10:Ar(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(zr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Gp(t,s,a):(zr(s),t=ar(t,s,a),t!==null?t.sibling:null);zr(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(ei(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return Jp(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Qt,Qt.current),c)break;return null;case 22:return s.lanes=0,Vp(t,s,a,s.pendingProps);case 24:Ar(s,Gt,t.memoizedState.cache)}return ar(t,s,a)}function eg(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Md(t,a)&&(s.flags&128)===0)return Jt=!1,Xw(t,s,a);Jt=(t.flags&131072)!==0}else Jt=!1,tt&&(s.flags&1048576)!==0&&Mm(s,nl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=pa(s.elementType),s.type=t,typeof t=="function")Uu(t)?(c=va(t,c),s.tag=1,s=Kp(null,s,t,c,a)):(s.tag=0,s=Nd(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===L){s.tag=11,s=Hp(null,s,t,c,a);break e}else if(f===U){s.tag=14,s=Zp(null,s,t,c,a);break e}}throw s=ue(t)||t,Error(i(306,s,""))}}return s;case 0:return Nd(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=va(c,s.pendingProps),Kp(t,s,c,f,a);case 3:e:{if(q(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,Xu(t,s),ul(s,c,null,a);var y=s.memoizedState;if(c=y.cache,Ar(s,Gt,c),c!==m.cache&&Qu(s,[Gt],a,!0),cl(),c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Yp(t,s,c,a);break e}else if(c!==f){f=us(Error(i(424)),s),sl(f),s=Yp(t,s,c,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=ps(t.firstChild),wn=s,tt=!0,kr=null,hs=!0,a=Vm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(da(),c===f){s=ar(t,s,a);break e}Sn(t,s,c,a)}s=s.child}return s;case 26:return Zo(t,s),t===null?(a=dx(s.type,null,s.pendingProps,null))?s.memoizedState=a:tt||(a=s.type,t=s.pendingProps,c=ic(H.current).createElement(a),c[Nt]=s,c[Vt]=t,En(c,a,t),jt(c),s.stateNode=c):s.memoizedState=dx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ge(s),t===null&&tt&&(c=s.stateNode=ox(s.type,s.pendingProps,H.current),wn=s,hs=!0,f=Tt,Zr(s.type)?(ff=f,Tt=ps(c.firstChild)):Tt=f),Sn(t,s,s.pendingProps.children,a),Zo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&tt&&((f=c=Tt)&&(c=k1(c,s.type,s.pendingProps,hs),c!==null?(s.stateNode=c,wn=s,Tt=ps(c.firstChild),hs=!1,f=!0):f=!1),f||Tr(s)),ge(s),f=s.type,m=s.pendingProps,y=t!==null?t.memoizedProps:null,c=m.children,lf(f,m)?c=null:y!==null&&lf(f,y)&&(s.flags|=32),s.memoizedState!==null&&(f=ad(t,s,Zw,null,null,a),Al._currentValue=f),Zo(t,s),Sn(t,s,c,a),s.child;case 6:return t===null&&tt&&((t=a=Tt)&&(a=T1(a,s.pendingProps,hs),a!==null?(s.stateNode=a,wn=s,Tt=null,t=!0):t=!1),t||Tr(s)),null;case 13:return Gp(t,s,a);case 4:return q(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=xa(s,null,c,a):Sn(t,s,c,a),s.child;case 11:return Hp(t,s,s.type,s.pendingProps,a);case 7:return Sn(t,s,s.pendingProps,a),s.child;case 8:return Sn(t,s,s.pendingProps.children,a),s.child;case 12:return Sn(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Ar(s,s.type,c.value),Sn(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,ha(s),f=jn(f),c=c(f),s.flags|=1,Sn(t,s,c,a),s.child;case 14:return Zp(t,s,s.type,s.pendingProps,a);case 15:return Ip(t,s,s.type,s.pendingProps,a);case 19:return Jp(t,s,a);case 31:return Gw(t,s,a);case 22:return Vp(t,s,a,s.pendingProps);case 24:return ha(s),c=jn(Gt),t===null?(f=Ku(),f===null&&(f=St,m=Wu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},Gu(s),Ar(s,Gt,f)):((t.lanes&a)!==0&&(Xu(t,s),ul(s,null,null,a),cl()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ar(s,Gt,c)):(c=m.cache,Ar(s,Gt,c),c!==f.cache&&Qu(s,[Gt],a,!0))),Sn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ir(t){t.flags|=4}function Rd(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(_g())t.flags|=8192;else throw ga=ko,Yu}else t.flags&=-16777217}function tg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gx(s))if(_g())t.flags|=8192;else throw ga=ko,Yu}function Vo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?fn():536870912,t.lanes|=s,fi|=s)}function gl(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function At(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function Jw(t,s,a){var c=s.pendingProps;switch(Fu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),nr(Gt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(s)?ir(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zu())),At(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(ir(s),m!==null?(At(s),tg(s,m)):(At(s),Rd(s,f,null,c,a))):m?m!==t.memoizedState?(ir(s),At(s),tg(s,m)):(At(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&ir(s),At(s),Rd(s,f,t,c,a)),null;case 27:if(xe(s),a=H.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&ir(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}t=F.current,Ja(s)?zm(s):(t=ox(f,c,a),s.stateNode=t,ir(s))}return At(s),null;case 5:if(xe(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&ir(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return At(s),null}if(m=F.current,Ja(s))zm(s);else{var y=ic(H.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?y.createElement(f,{is:c.is}):y.createElement(f)}}m[Nt]=s,m[Vt]=c;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=m;e:switch(En(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ir(s)}}return At(s),Rd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&ir(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=H.current,Ja(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=wn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Nt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Gg(t.nodeValue,a)),t||Tr(s,!0)}else t=ic(t).createTextNode(c),t[Nt]=s,s.stateNode=t}return At(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=Ja(s),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Nt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),t=!1}else a=Zu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(ts(s),s):(ts(s),null);if((s.flags&128)!==0)throw Error(i(558))}return At(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),f=!1}else f=Zu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ts(s),s):(ts(s),null)}return ts(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Vo(s,s.updateQueue),At(s),null);case 4:return le(),t===null&&tf(s.stateNode.containerInfo),At(s),null;case 10:return nr(s.type),At(s),null;case 19:if(Q(Qt),c=s.memoizedState,c===null)return At(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)gl(c,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Mo(t),m!==null){for(s.flags|=128,gl(c,!1),t=m.updateQueue,s.updateQueue=t,Vo(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Tm(a,t),a=a.sibling;return ce(Qt,Qt.current&1|2),tt&&er(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&ye()>Yo&&(s.flags|=128,f=!0,gl(c,!1),s.lanes=4194304)}else{if(!f)if(t=Mo(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Vo(s,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!tt)return At(s),null}else 2*ye()-c.renderingStartTime>Yo&&a!==536870912&&(s.flags|=128,f=!0,gl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ye(),t.sibling=null,a=Qt.current,ce(Qt,f?a&1|2:a&1),tt&&er(s,c.treeForkCount),t):(At(s),null);case 22:case 23:return ts(s),nd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),a=s.updateQueue,a!==null&&Vo(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&Q(ma),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),nr(Gt),At(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function e1(t,s){switch(Fu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return nr(Gt),le(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return xe(s),null;case 31:if(s.memoizedState!==null){if(ts(s),s.alternate===null)throw Error(i(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Q(Qt),null;case 4:return le(),null;case 10:return nr(s.type),null;case 22:case 23:return ts(s),nd(),t!==null&&Q(ma),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return nr(Gt),null;case 25:return null;default:return null}}function ng(t,s){switch(Fu(s),s.tag){case 3:nr(Gt),le();break;case 26:case 27:case 5:xe(s);break;case 4:le();break;case 31:s.memoizedState!==null&&ts(s);break;case 13:ts(s);break;case 19:Q(Qt);break;case 10:nr(s.type);break;case 22:case 23:ts(s),nd(),t!==null&&Q(ma);break;case 24:nr(Gt)}}function xl(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,y=a.inst;c=m(),y.destroy=c}a=a.next}while(a!==f)}}catch(S){mt(s,s.return,S)}}function Lr(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var y=c.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,f=s;var R=a,J=S;try{J()}catch(fe){mt(f,R,fe)}}}c=c.next}while(c!==m)}}catch(fe){mt(s,s.return,fe)}}function sg(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Wm(s,a)}catch(c){mt(t,t.return,c)}}}function rg(t,s,a){a.props=va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){mt(t,s,c)}}function bl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){mt(t,s,f)}}function Is(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){mt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){mt(t,s,f)}else a.current=null}function ag(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){mt(t,t.return,f)}}function zd(t,s,a){try{var c=t.stateNode;j1(c,t.type,a,s),c[Vt]=s}catch(f){mt(t,t.return,f)}}function ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zr(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Es));else if(c!==4&&(c===27&&Zr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Ld(t,s,a),t=t.sibling;t!==null;)Ld(t,s,a),t=t.sibling}function Qo(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Qo(t,s,a),t=t.sibling;t!==null;)Qo(t,s,a),t=t.sibling}function lg(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,c,a),s[Nt]=t,s[Vt]=a}catch(m){mt(t,t.return,m)}}var lr=!1,en=!1,Ud=!1,og=typeof WeakSet=="function"?WeakSet:Set,mn=null;function t1(t,s){if(t=t.containerInfo,rf=hc,t=ym(t),Au(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var y=0,S=-1,R=-1,J=0,fe=0,pe=t,ne=null;t:for(;;){for(var oe;pe!==a||f!==0&&pe.nodeType!==3||(S=y+f),pe!==m||c!==0&&pe.nodeType!==3||(R=y+c),pe.nodeType===3&&(y+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ne=pe,pe=oe;for(;;){if(pe===t)break t;if(ne===a&&++J===f&&(S=y),ne===m&&++fe===c&&(R=y),(oe=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=oe}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(af={focusedElem:t,selectionRange:a},hc=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Me=va(a.type,f);t=c.getSnapshotBeforeUpdate(Me,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ue){mt(a,a.return,Ue)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function cg(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:cr(t,a),c&4&&xl(5,a);break;case 1:if(cr(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(y){mt(a,a.return,y)}else{var f=va(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){mt(a,a.return,y)}}c&64&&sg(a),c&512&&bl(a,a.return);break;case 3:if(cr(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Wm(t,s)}catch(y){mt(a,a.return,y)}}break;case 27:s===null&&c&4&&lg(a);case 26:case 5:cr(t,a),s===null&&c&4&&ag(a),c&512&&bl(a,a.return);break;case 12:cr(t,a);break;case 31:cr(t,a),c&4&&fg(t,a);break;case 13:cr(t,a),c&4&&hg(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),A1(t,a))));break;case 22:if(c=a.memoizedState!==null||lr,!c){s=s!==null&&s.memoizedState!==null||en,f=lr;var m=en;lr=c,(en=s)&&!m?ur(t,a,(a.subtreeFlags&8772)!==0):cr(t,a),lr=f,en=m}break;case 30:break;default:cr(t,a)}}function ug(t){var s=t.alternate;s!==null&&(t.alternate=null,ug(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&$i(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Hn=!1;function or(t,s,a){for(a=a.child;a!==null;)dg(t,s,a),a=a.sibling}function dg(t,s,a){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:en||Is(a,s),or(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||Is(a,s);var c=Ot,f=Hn;Zr(a.type)&&(Ot=a.stateNode,Hn=!1),or(t,s,a),_l(a.stateNode),Ot=c,Hn=f;break;case 5:en||Is(a,s);case 6:if(c=Ot,f=Hn,Ot=null,or(t,s,a),Ot=c,Hn=f,Ot!==null)if(Hn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(m){mt(a,s,m)}else try{Ot.removeChild(a.stateNode)}catch(m){mt(a,s,m)}break;case 18:Ot!==null&&(Hn?(t=Ot,sx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yi(t)):sx(Ot,a.stateNode));break;case 4:c=Ot,f=Hn,Ot=a.stateNode.containerInfo,Hn=!0,or(t,s,a),Ot=c,Hn=f;break;case 0:case 11:case 14:case 15:Lr(2,a,s),en||Lr(4,a,s),or(t,s,a);break;case 1:en||(Is(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&rg(a,s,c)),or(t,s,a);break;case 21:or(t,s,a);break;case 22:en=(c=en)||a.memoizedState!==null,or(t,s,a),en=c;break;default:or(t,s,a)}}function fg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yi(t)}catch(a){mt(s,s.return,a)}}}function hg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yi(t)}catch(a){mt(s,s.return,a)}}function n1(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new og),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new og),s;default:throw Error(i(435,t.tag))}}function Wo(t,s){var a=n1(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=d1.bind(null,t,c);c.then(f,f)}})}function Zn(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,y=s,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Zr(S.type)){Ot=S.stateNode,Hn=!1;break e}break;case 5:Ot=S.stateNode,Hn=!1;break e;case 3:case 4:Ot=S.stateNode.containerInfo,Hn=!0;break e}S=S.return}if(Ot===null)throw Error(i(160));dg(m,y,f),Ot=null,Hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)mg(s,t),s=s.sibling}var _s=null;function mg(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zn(s,t),In(t),c&4&&(Lr(3,t,t.return),xl(3,t),Lr(5,t,t.return));break;case 1:Zn(s,t),In(t),c&512&&(en||a===null||Is(a,a.return)),c&64&&lr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=_s;if(Zn(s,t),In(t),c&512&&(en||a===null||Is(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[wr]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,c,a),m[Nt]=t,jt(m),c=m;break e;case"link":var y=mx("link","href",f).get(c+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;case"meta":if(y=mx("meta","content",f).get(c+(a.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[Nt]=t,jt(m),c=m}t.stateNode=c}else px(f,t.type,t.stateNode);else t.stateNode=hx(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?px(f,t.type,t.stateNode):hx(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Zn(s,t),In(t),c&512&&(en||a===null||Is(a,a.return)),a!==null&&c&4&&zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Zn(s,t),In(t),c&512&&(en||a===null||Is(a,a.return)),t.flags&32){f=t.stateNode;try{Nr(f,"")}catch(Me){mt(t,t.return,Me)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,zd(t,f,a!==null?a.memoizedProps:f)),c&1024&&(Ud=!0);break;case 6:if(Zn(s,t),In(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Me){mt(t,t.return,Me)}}break;case 3:if(cc=null,f=_s,_s=lc(s.containerInfo),Zn(s,t),_s=f,In(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{yi(s.containerInfo)}catch(Me){mt(t,t.return,Me)}Ud&&(Ud=!1,pg(t));break;case 4:c=_s,_s=lc(t.stateNode.containerInfo),Zn(s,t),In(t),_s=c;break;case 12:Zn(s,t),In(t);break;case 31:Zn(s,t),In(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 13:Zn(s,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ko=ye()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 22:f=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,J=lr,fe=en;if(lr=J||f,en=fe||R,Zn(s,t),en=fe,lr=J,In(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||R||lr||en||ya(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(m=R.stateNode,f)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=R.stateNode;var pe=R.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;S.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Me){mt(R,R.return,Me)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(Me){mt(R,R.return,Me)}}}else if(s.tag===18){if(a===null){R=s;try{var oe=R.stateNode;f?rx(oe,!0):rx(R.stateNode,!1)}catch(Me){mt(R,R.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Wo(t,a))));break;case 19:Zn(s,t),In(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Wo(t,c)));break;case 30:break;case 21:break;default:Zn(s,t),In(t)}}function In(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(ig(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Od(t);Qo(t,m,f);break;case 5:var y=a.stateNode;a.flags&32&&(Nr(y,""),a.flags&=-33);var S=Od(t);Qo(t,S,y);break;case 3:case 4:var R=a.stateNode.containerInfo,J=Od(t);Ld(t,J,R);break;default:throw Error(i(161))}}catch(fe){mt(t,t.return,fe)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;pg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function cr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cg(t,s.alternate,s),s=s.sibling}function ya(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Lr(4,s,s.return),ya(s);break;case 1:Is(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&rg(s,s.return,a),ya(s);break;case 27:_l(s.stateNode);case 26:case 5:Is(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}t=t.sibling}}function ur(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,y=m.flags;switch(m.tag){case 0:case 11:case 15:ur(f,m,a),xl(4,m);break;case 1:if(ur(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){mt(c,c.return,J)}if(c=m,f=c.updateQueue,f!==null){var S=c.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Qm(R[f],S)}catch(J){mt(c,c.return,J)}}a&&y&64&&sg(m),bl(m,m.return);break;case 27:lg(m);case 26:case 5:ur(f,m,a),a&&c===null&&y&4&&ag(m),bl(m,m.return);break;case 12:ur(f,m,a);break;case 31:ur(f,m,a),a&&y&4&&fg(f,m);break;case 13:ur(f,m,a),a&&y&4&&hg(f,m);break;case 22:m.memoizedState===null&&ur(f,m,a),bl(m,m.return);break;case 30:break;default:ur(f,m,a)}s=s.sibling}}function Bd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function $d(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rl(t))}function ks(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gg(t,s,a,c),s=s.sibling}function gg(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ks(t,s,a,c),f&2048&&xl(9,s);break;case 1:ks(t,s,a,c);break;case 3:ks(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){ks(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){mt(s,s.return,R)}}else ks(t,s,a,c);break;case 31:ks(t,s,a,c);break;case 13:ks(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,y=s.alternate,s.memoizedState!==null?m._visibility&2?ks(t,s,a,c):vl(t,s):m._visibility&2?ks(t,s,a,c):(m._visibility|=2,ci(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(y,s);break;case 24:ks(t,s,a,c),f&2048&&$d(s.alternate,s);break;default:ks(t,s,a,c)}}function ci(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,y=s,S=a,R=c,J=y.flags;switch(y.tag){case 0:case 11:case 15:ci(m,y,S,R,f),xl(8,y);break;case 23:break;case 22:var fe=y.stateNode;y.memoizedState!==null?fe._visibility&2?ci(m,y,S,R,f):vl(m,y):(fe._visibility|=2,ci(m,y,S,R,f)),f&&J&2048&&Bd(y.alternate,y);break;case 24:ci(m,y,S,R,f),f&&J&2048&&$d(y.alternate,y);break;default:ci(m,y,S,R,f)}s=s.sibling}}function vl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:vl(a,c),f&2048&&Bd(c.alternate,c);break;case 24:vl(a,c),f&2048&&$d(c.alternate,c);break;default:vl(a,c)}s=s.sibling}}var yl=8192;function ui(t,s,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)xg(t,s,a),t=t.sibling}function xg(t,s,a){switch(t.tag){case 26:ui(t,s,a),t.flags&yl&&t.memoizedState!==null&&H1(a,_s,t.memoizedState,t.memoizedProps);break;case 5:ui(t,s,a);break;case 3:case 4:var c=_s;_s=lc(t.stateNode.containerInfo),ui(t,s,a),_s=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=yl,yl=16777216,ui(t,s,a),yl=c):ui(t,s,a));break;default:ui(t,s,a)}}function bg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function wl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,yg(c,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vg(t),t=t.sibling}function vg(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Po(t)):wl(t);break;default:wl(t)}}function Po(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,yg(c,t)}bg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Lr(8,s,s.return),Po(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Po(s));break;default:Po(s)}t=t.sibling}}function yg(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Lr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var f=c.sibling,m=c.return;if(ug(c),c===a){mn=null;break e}if(f!==null){f.return=m,mn=f;break e}mn=m}}}var s1={getCacheForType:function(t){var s=jn(Gt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return jn(Gt).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,lt=0,St=null,Ge=null,Je=0,ht=0,ns=null,Ur=!1,di=!1,qd=!1,dr=0,Ht=0,Br=0,wa=0,Fd=0,ss=0,fi=0,jl=null,Vn=null,Hd=!1,Ko=0,wg=0,Yo=1/0,Go=null,$r=null,ln=0,qr=null,hi=null,fr=0,Zd=0,Id=null,jg=null,Sl=0,Vd=null;function rs(){return(lt&2)!==0&&Je!==0?Je&-Je:D.T!==null?Gd():Tn()}function Sg(){if(ss===0)if((Je&536870912)===0||tt){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),ss=t}else ss=536870912;return t=es.current,t!==null&&(t.flags|=32),ss}function Qn(t,s,a){(t===St&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(mi(t,0),Fr(t,Je,ss,!1)),On(t,a),((lt&2)===0||t!==St)&&(t===St&&((lt&2)===0&&(wa|=a),Ht===4&&Fr(t,Je,ss,!1)),Vs(t))}function Eg(t,s,a){if((lt&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||_n(t,s),f=c?l1(t,s):Wd(t,s,!0),m=c;do{if(f===0){di&&!c&&Fr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!a1(a)){f=Wd(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var S=t;f=jl;var R=S.current.memoizedState.isDehydrated;if(R&&(mi(S,y).flags|=256),y=Wd(S,y,!1),y!==2){if(qd&&!R){S.errorRecoveryDisabledLanes|=m,wa|=m,f=4;break e}m=Vn,Vn=f,m!==null&&(Vn===null?Vn=m:Vn.push.apply(Vn,m))}f=y}if(m=!1,f!==2)continue}}if(f===1){mi(t,0),Fr(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fr(c,s,ss,!Ur);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Ko+300-ye(),10<f)){if(Fr(c,s,ss,!Ur),kt(c,0,!0)!==0)break e;fr=s,c.timeoutHandle=tx(Ng.bind(null,c,a,Vn,Go,Hd,s,ss,wa,fi,Ur,m,"Throttled",-0,0),f);break e}Ng(c,a,Vn,Go,Hd,s,ss,wa,fi,Ur,m,null,-0,0)}}break}while(!0);Vs(t)}function Ng(t,s,a,c,f,m,y,S,R,J,fe,pe,ne,oe){if(t.timeoutHandle=-1,pe=s.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Es},xg(s,m,pe);var Me=(m&62914560)===m?Ko-ye():(m&4194048)===m?wg-ye():0;if(Me=Z1(pe,Me),Me!==null){fr=m,t.cancelPendingCommit=Me(Rg.bind(null,t,s,m,a,c,f,y,S,R,fe,pe,null,ne,oe)),Fr(t,m,y,!J);return}}Rg(t,s,m,a,c,f,y,S,R)}function a1(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Xn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fr(t,s,a,c){s&=~Fd,s&=~wa,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-Mt(f),y=1<<m;c[m]=-1,f&=~y}a!==0&&bn(t,a,s)}function Xo(){return(lt&6)===0?(El(0),!1):!0}function Qd(){if(Ge!==null){if(ht===0)var t=Ge.return;else t=Ge,tr=fa=null,od(t),ri=null,il=0,t=Ge;for(;t!==null;)ng(t.alternate,t),t=t.return;Ge=null}}function mi(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fr=0,Qd(),St=t,Ge=a=Js(t.current,null),Je=s,ht=0,ns=null,Ur=!1,di=_n(t,s),qd=!1,fi=ss=Fd=wa=Br=Ht=0,Vn=jl=null,Hd=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-Mt(c),m=1<<f;s|=t[f],c&=~m}return dr=s,vo(),a}function Cg(t,s){Qe=null,D.H=ml,s===si||s===_o?(s=Hm(),ht=3):s===Yu?(s=Hm(),ht=4):ht=s===Ed?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ns=s,Ge===null&&(Ht=1,Fo(t,us(s,t.current)))}function _g(){var t=es.current;return t===null?!0:(Je&4194048)===Je?ms===null:(Je&62914560)===Je||(Je&536870912)!==0?t===ms:!1}function kg(){var t=D.H;return D.H=ml,t===null?ml:t}function Tg(){var t=D.A;return D.A=s1,t}function Jo(){Ht=4,Ur||(Je&4194048)!==Je&&es.current!==null||(di=!0),(Br&134217727)===0&&(wa&134217727)===0||St===null||Fr(St,Je,ss,!1)}function Wd(t,s,a){var c=lt;lt|=2;var f=kg(),m=Tg();(St!==t||Je!==s)&&(Go=null,mi(t,s)),s=!1;var y=Ht;e:do try{if(ht!==0&&Ge!==null){var S=Ge,R=ns;switch(ht){case 8:Qd(),y=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(s=!0);var J=ht;if(ht=0,ns=null,pi(t,S,R,J),a&&di){y=0;break e}break;default:J=ht,ht=0,ns=null,pi(t,S,R,J)}}i1(),y=Ht;break}catch(fe){Cg(t,fe)}while(!0);return s&&t.shellSuspendCounter++,tr=fa=null,lt=c,D.H=f,D.A=m,Ge===null&&(St=null,Je=0,vo()),y}function i1(){for(;Ge!==null;)Ag(Ge)}function l1(t,s){var a=lt;lt|=2;var c=kg(),f=Tg();St!==t||Je!==s?(Go=null,Yo=ye()+500,mi(t,s)):di=_n(t,s);e:do try{if(ht!==0&&Ge!==null){s=Ge;var m=ns;t:switch(ht){case 1:ht=0,ns=null,pi(t,s,m,1);break;case 2:case 9:if(qm(m)){ht=0,ns=null,Dg(s);break}s=function(){ht!==2&&ht!==9||St!==t||(ht=7),Vs(t)},m.then(s,s);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:qm(m)?(ht=0,ns=null,Dg(s)):(ht=0,ns=null,pi(t,s,m,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var S=Ge;if(y?gx(y):S.stateNode.complete){ht=0,ns=null;var R=S.sibling;if(R!==null)Ge=R;else{var J=S.return;J!==null?(Ge=J,ec(J)):Ge=null}break t}}ht=0,ns=null,pi(t,s,m,5);break;case 6:ht=0,ns=null,pi(t,s,m,6);break;case 8:Qd(),Ht=6;break e;default:throw Error(i(462))}}o1();break}catch(fe){Cg(t,fe)}while(!0);return tr=fa=null,D.H=c,D.A=f,lt=a,Ge!==null?0:(St=null,Je=0,vo(),Ht)}function o1(){for(;Ge!==null&&!ie();)Ag(Ge)}function Ag(t){var s=eg(t.alternate,t,dr);t.memoizedProps=t.pendingProps,s===null?ec(t):Ge=s}function Dg(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Pp(a,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=Pp(a,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:od(s);default:ng(a,s),s=Ge=Tm(s,dr),s=eg(a,s,dr)}t.memoizedProps=t.pendingProps,s===null?ec(t):Ge=s}function pi(t,s,a,c){tr=fa=null,od(s),ri=null,il=0;var f=s.return;try{if(Yw(t,f,s,a,Je)){Ht=1,Fo(t,us(a,t.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;Ht=1,Fo(t,us(a,t.current)),Ge=null;return}s.flags&32768?(tt||c===1?t=!0:di||(Je&536870912)!==0?t=!1:(Ur=t=!0,(c===2||c===9||c===3||c===6)&&(c=es.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mg(s,t)):ec(s)}function ec(t){var s=t;do{if((s.flags&32768)!==0){Mg(s,Ur);return}t=s.return;var a=Jw(s.alternate,s,dr);if(a!==null){Ge=a;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=t}while(s!==null);Ht===0&&(Ht=5)}function Mg(t,s){do{var a=e1(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);Ht=6,Ge=null}function Rg(t,s,a,c,f,m,y,S,R){t.cancelPendingCommit=null;do tc();while(ln!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Ou,qt(t,a,m,y,S,R),t===St&&(Ge=St=null,Je=0),hi=s,qr=t,fr=a,Zd=m,Id=f,jg=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f1(Ve,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,f=A.p,A.p=2,y=lt,lt|=4;try{t1(t,s,a)}finally{lt=y,A.p=f,D.T=c}}ln=1,zg(),Og(),Lg()}}function zg(){if(ln===1){ln=0;var t=qr,s=hi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var c=A.p;A.p=2;var f=lt;lt|=4;try{mg(s,t);var m=af,y=ym(t.containerInfo),S=m.focusedElem,R=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&vm(S.ownerDocument.documentElement,S)){if(R!==null&&Au(S)){var J=R.start,fe=R.end;if(fe===void 0&&(fe=J),"selectionStart"in S)S.selectionStart=J,S.selectionEnd=Math.min(fe,S.value.length);else{var pe=S.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var oe=ne.getSelection(),Me=S.textContent.length,Ue=Math.min(R.start,Me),bt=R.end===void 0?Ue:Math.min(R.end,Me);!oe.extend&&Ue>bt&&(y=bt,bt=Ue,Ue=y);var I=bm(S,Ue),B=bm(S,bt);if(I&&B&&(oe.rangeCount!==1||oe.anchorNode!==I.node||oe.anchorOffset!==I.offset||oe.focusNode!==B.node||oe.focusOffset!==B.offset)){var X=pe.createRange();X.setStart(I.node,I.offset),oe.removeAllRanges(),Ue>bt?(oe.addRange(X),oe.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),oe.addRange(X))}}}}for(pe=[],oe=S;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<pe.length;S++){var he=pe[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}hc=!!rf,af=rf=null}finally{lt=f,A.p=c,D.T=a}}t.current=s,ln=2}}function Og(){if(ln===2){ln=0;var t=qr,s=hi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var c=A.p;A.p=2;var f=lt;lt|=4;try{cg(t,s.alternate,s)}finally{lt=f,A.p=c,D.T=a}}ln=3}}function Lg(){if(ln===4||ln===3){ln=0,Ee();var t=qr,s=hi,a=fr,c=jg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,hi=qr=null,Ug(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($r=null),Pe(a),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=D.T,f=A.p,A.p=2,D.T=null;try{for(var m=t.onRecoverableError,y=0;y<c.length;y++){var S=c[y];m(S.value,{componentStack:S.stack})}}finally{D.T=s,A.p=f}}(fr&3)!==0&&tc(),Vs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Vd?Sl++:(Sl=0,Vd=t):Sl=0,El(0)}}function Ug(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,rl(s)))}function tc(){return zg(),Og(),Lg(),Bg()}function Bg(){if(ln!==5)return!1;var t=qr,s=Zd;Zd=0;var a=Pe(fr),c=D.T,f=A.p;try{A.p=32>a?32:a,D.T=null,a=Id,Id=null;var m=qr,y=fr;if(ln=0,hi=qr=null,fr=0,(lt&6)!==0)throw Error(i(331));var S=lt;if(lt|=4,vg(m.current),gg(m,m.current,y,a),lt=S,El(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Dt,m)}catch{}return!0}finally{A.p=f,D.T=c,Ug(t,s)}}function $g(t,s,a){s=us(a,s),s=Sd(t.stateNode,s,2),t=Rr(t,s,2),t!==null&&(On(t,2),Vs(t))}function mt(t,s,a){if(t.tag===3)$g(t,t,a);else for(;s!==null;){if(s.tag===3){$g(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){t=us(a,t),a=qp(2),c=Rr(s,a,2),c!==null&&(Fp(a,c,s,t),On(c,2),Vs(c));break}}s=s.return}}function Pd(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new r1;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(qd=!0,f.add(a),t=c1.bind(null,t,s,a),s.then(t,t))}function c1(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,St===t&&(Je&a)===a&&(Ht===4||Ht===3&&(Je&62914560)===Je&&300>ye()-Ko?(lt&2)===0&&mi(t,0):Fd|=a,fi===Je&&(fi=0)),Vs(t)}function qg(t,s){s===0&&(s=fn()),t=ca(t,s),t!==null&&(On(t,s),Vs(t))}function u1(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),qg(t,a)}function d1(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),qg(t,a)}function f1(t,s){return M(t,s)}var nc=null,gi=null,Kd=!1,sc=!1,Yd=!1,Hr=0;function Vs(t){t!==gi&&t.next===null&&(gi===null?nc=gi=t:gi=gi.next=t),sc=!0,Kd||(Kd=!0,m1())}function El(t,s){if(!Yd&&sc){Yd=!0;do for(var a=!1,c=nc;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var y=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-Mt(42|t)+1)-1,m&=f&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Ig(c,m))}else m=Je,m=kt(c,c===St?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||_n(c,m)||(a=!0,Ig(c,m));c=c.next}while(a);Yd=!1}}function h1(){Fg()}function Fg(){sc=Kd=!1;var t=0;Hr!==0&&E1()&&(t=Hr);for(var s=ye(),a=null,c=nc;c!==null;){var f=c.next,m=Hg(c,s);m===0?(c.next=null,a===null?nc=f:a.next=f,f===null&&(gi=a)):(a=c,(t!==0||(m&3)!==0)&&(sc=!0)),c=f}ln!==0&&ln!==5||El(t),Hr!==0&&(Hr=0)}function Hg(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var y=31-Mt(m),S=1<<y,R=f[y];R===-1?((S&a)===0||(S&c)!==0)&&(f[y]=dn(S,s)):R<=s&&(t.expiredLanes|=S),m&=~S}if(s=St,a=Je,a=kt(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&P(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_n(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&P(c),Pe(a)){case 2:case 8:a=He;break;case 32:a=Ve;break;case 268435456:a=Se;break;default:a=Ve}return c=Zg.bind(null,t),a=M(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&P(c),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,s){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tc()&&t.callbackNode!==a)return null;var c=Je;return c=kt(t,t===St?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Eg(t,c,s),Hg(t,ye()),t.callbackNode!=null&&t.callbackNode===a?Zg.bind(null,t):null)}function Ig(t,s){if(tc())return null;Eg(t,s,!0)}function m1(){C1(function(){(lt&6)!==0?M(Ae,h1):Fg()})}function Gd(){if(Hr===0){var t=ti;t===0&&(t=Os,Os<<=1,(Os&261888)===0&&(Os=256)),Hr=t}return Hr}function Vg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$a(""+t)}function Qg(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function p1(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=Vg((f[Vt]||null).action),y=c.submitter;y&&(s=(s=y[Vt]||null)?Vg(s.formAction):y.getAttribute("formAction"),s!==null&&(m=s,y=null));var S=new Ia("action","action",null,c,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hr!==0){var R=y?Qg(f,y):new FormData(f);xd(a,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(S.preventDefault(),R=y?Qg(f,y):new FormData(f),xd(a,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var Xd=0;Xd<zu.length;Xd++){var Jd=zu[Xd],g1=Jd.toLowerCase(),x1=Jd[0].toUpperCase()+Jd.slice(1);Cs(g1,"on"+x1)}Cs(Sm,"onAnimationEnd"),Cs(Em,"onAnimationIteration"),Cs(Nm,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(Rw,"onTransitionRun"),Cs(zw,"onTransitionStart"),Cs(Ow,"onTransitionCancel"),Cs(Cm,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Wg(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var S=c[y],R=S.instance,J=S.currentTarget;if(S=S.listener,R!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=J;try{m(f)}catch(fe){bo(fe)}f.currentTarget=null,m=R}else for(y=0;y<c.length;y++){if(S=c[y],R=S.instance,J=S.currentTarget,S=S.listener,R!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=J;try{m(f)}catch(fe){bo(fe)}f.currentTarget=null,m=R}}}}function Xe(t,s){var a=s[Ma];a===void 0&&(a=s[Ma]=new Set);var c=t+"__bubble";a.has(c)||(Pg(s,t,2,!1),a.add(c))}function ef(t,s,a){var c=0;s&&(c|=4),Pg(a,t,c,s)}var rc="_reactListening"+Math.random().toString(36).slice(2);function tf(t){if(!t[rc]){t[rc]=!0,Ys.forEach(function(a){a!=="selectionchange"&&(b1.has(a)||ef(a,!1,t),ef(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[rc]||(s[rc]=!0,ef("selectionchange",!1,s))}}function Pg(t,s,a,c){switch(Sx(s)){case 2:var f=Q1;break;case 8:f=W1;break;default:f=xf}a=f.bind(null,s,a,t),f=void 0,!Vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function nf(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var S=c.stateNode.containerInfo;if(S===f)break;if(y===4)for(y=c.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;S!==null;){if(y=jr(S),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){c=m=y;continue e}S=S.parentNode}}c=c.return}ho(function(){var J=m,fe=Us(a),pe=[];e:{var ne=_m.get(t);if(ne!==void 0){var oe=Ia,Me=t;switch(t){case"keypress":if(Ha(a)===0)break e;case"keydown":case"keyup":oe=dw;break;case"focusin":Me="focus",oe=V;break;case"focusout":Me="blur",oe=V;break;case"beforeblur":case"afterblur":oe=V;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=mw;break;case Sm:case Em:case Nm:oe=De;break;case Cm:oe=gw;break;case"scroll":case"scrollend":oe=Su;break;case"wheel":oe=bw;break;case"copy":case"cut":case"paste":oe=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=rm;break;case"toggle":case"beforetoggle":oe=yw}var Ue=(s&4)!==0,bt=!Ue&&(t==="scroll"||t==="scrollend"),I=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var B=J,X;B!==null;){var he=B;if(X=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||X===null||I===null||(he=ra(B,I),he!=null&&Ue.push(Cl(B,he,X))),bt)break;B=B.return}0<Ue.length&&(ne=new oe(ne,Me,null,a,fe),pe.push({event:ne,listeners:Ue}))}}if((s&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",ne&&a!==Cr&&(Me=a.relatedTarget||a.fromElement)&&(jr(Me)||Me[yr]))break e;if((oe||ne)&&(ne=fe.window===fe?fe:(ne=fe.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(Me=a.relatedTarget||a.toElement,oe=J,Me=Me?jr(Me):null,Me!==null&&(bt=u(Me),Ue=Me.tag,Me!==bt||Ue!==5&&Ue!==27&&Ue!==6)&&(Me=null)):(oe=null,Me=J),oe!==Me)){if(Ue=go,he="onMouseLeave",I="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=rm,he="onPointerLeave",I="onPointerEnter",B="pointer"),bt=oe==null?ne:Gn(oe),X=Me==null?ne:Gn(Me),ne=new Ue(he,B+"leave",oe,a,fe),ne.target=bt,ne.relatedTarget=X,he=null,jr(fe)===J&&(Ue=new Ue(I,B+"enter",Me,a,fe),Ue.target=X,Ue.relatedTarget=bt,he=Ue),bt=he,oe&&Me)t:{for(Ue=v1,I=oe,B=Me,X=0,he=I;he;he=Ue(he))X++;he=0;for(var Le=B;Le;Le=Ue(Le))he++;for(;0<X-he;)I=Ue(I),X--;for(;0<he-X;)B=Ue(B),he--;for(;X--;){if(I===B||B!==null&&I===B.alternate){Ue=I;break t}I=Ue(I),B=Ue(B)}Ue=null}else Ue=null;oe!==null&&Kg(pe,ne,oe,Ue,!1),Me!==null&&bt!==null&&Kg(pe,bt,Me,Ue,!0)}}e:{if(ne=J?Gn(J):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var rt=fm;else if(um(ne))if(hm)rt=Aw;else{rt=kw;var ze=_w}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&Ua(J.elementType)&&(rt=fm):rt=Tw;if(rt&&(rt=rt(t,J))){dm(pe,rt,a,fe);break e}ze&&ze(t,ne,J),t==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&Hi(ne,"number",ne.value)}switch(ze=J?Gn(J):window,t){case"focusin":(um(ze)||ze.contentEditable==="true")&&(Wa=ze,Du=J,tl=null);break;case"focusout":tl=Du=Wa=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,wm(pe,a,fe);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":wm(pe,a,fe)}var Ke;if(_u)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Qa?om(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(am&&a.locale!=="ko"&&(Qa||et!=="onCompositionStart"?et==="onCompositionEnd"&&Qa&&(Ke=mo()):(Fs=fe,Qi="value"in Fs?Fs.value:Fs.textContent,Qa=!0)),ze=ac(J,et),0<ze.length&&(et=new ut(et,t,null,a,fe),pe.push({event:et,listeners:ze}),Ke?et.data=Ke:(Ke=cm(a),Ke!==null&&(et.data=Ke)))),(Ke=jw?Sw(t,a):Ew(t,a))&&(et=ac(J,"onBeforeInput"),0<et.length&&(ze=new ut("onBeforeInput","beforeinput",null,a,fe),pe.push({event:ze,listeners:et}),ze.data=Ke)),p1(pe,t,J,a,fe)}Wg(pe,s)})}function Cl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ac(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ra(t,a),f!=null&&c.unshift(Cl(t,f,m)),f=ra(t,s),f!=null&&c.push(Cl(t,f,m))),t.tag===3)return c;t=t.return}return[]}function v1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,s,a,c,f){for(var m=s._reactName,y=[];a!==null&&a!==c;){var S=a,R=S.alternate,J=S.stateNode;if(S=S.tag,R!==null&&R===c)break;S!==5&&S!==26&&S!==27||J===null||(R=J,f?(J=ra(a,m),J!=null&&y.unshift(Cl(a,J,R))):f||(J=ra(a,m),J!=null&&y.push(Cl(a,J,R)))),a=a.return}y.length!==0&&t.push({event:s,listeners:y})}var y1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Yg(t){return(typeof t=="string"?t:""+t).replace(y1,`
`).replace(w1,"")}function Gg(t,s){return s=Yg(s),Yg(t)===s}function xt(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Nr(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Nr(t,""+c);break;case"className":ws(t,"class",c);break;case"tabIndex":ws(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(t,a,c);break;case"style":fo(t,c,m);break;case"data":if(s!=="object"){ws(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=$a(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&xt(t,s,"name",f.name,f,null),xt(t,s,"formEncType",f.formEncType,f,null),xt(t,s,"formMethod",f.formMethod,f,null),xt(t,s,"formTarget",f.formTarget,f,null)):(xt(t,s,"encType",f.encType,f,null),xt(t,s,"method",f.method,f,null),xt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=$a(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Es);break;case"onScroll":c!=null&&Xe("scroll",t);break;case"onScrollEnd":c!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=$a(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Ra(t,"popover",c);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ra(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ba.get(a)||a,Ra(t,a,c))}}function sf(t,s,a,c,f,m){switch(a){case"style":fo(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Nr(t,c):(typeof c=="number"||typeof c=="bigint")&&Nr(t,""+c);break;case"onScroll":c!=null&&Xe("scroll",t);break;case"onScrollEnd":c!=null&&Xe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ra(t,a,c)}}}function En(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var y=a[m];if(y!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,m,y,a,null)}}f&&xt(t,s,"srcSet",a.srcSet,a,null),c&&xt(t,s,"src",a.src,a,null);return;case"input":Xe("invalid",t);var S=m=y=f=null,R=null,J=null;for(c in a)if(a.hasOwnProperty(c)){var fe=a[c];if(fe!=null)switch(c){case"name":f=fe;break;case"type":y=fe;break;case"checked":R=fe;break;case"defaultChecked":J=fe;break;case"value":m=fe;break;case"defaultValue":S=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:xt(t,s,c,fe,a,null)}}wu(t,m,S,R,J,y,f,!1);return;case"select":Xe("invalid",t),c=y=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":c=S;default:xt(t,s,f,S,a,null)}s=m,a=y,t.multiple=!!c,s!=null?Ls(t,!!c,s,!1):a!=null&&Ls(t,!!c,a,!0);return;case"textarea":Xe("invalid",t),m=f=c=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":c=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:xt(t,s,y,S,a,null)}Ii(t,c,f,m);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(c=a[R],c!=null))switch(R){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:xt(t,s,R,c,a,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(c=0;c<Nl.length;c++)Xe(Nl[c],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(c=a[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(t,s,J,c,a,null)}return;default:if(Ua(s)){for(fe in a)a.hasOwnProperty(fe)&&(c=a[fe],c!==void 0&&sf(t,s,fe,c,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(c=a[S],c!=null&&xt(t,s,S,c,a,null))}function j1(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,y=null,S=null,R=null,J=null,fe=null;for(oe in a){var pe=a[oe];if(a.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":R=pe;default:c.hasOwnProperty(oe)||xt(t,s,oe,null,c,pe)}}for(var ne in c){var oe=c[ne];if(pe=a[ne],c.hasOwnProperty(ne)&&(oe!=null||pe!=null))switch(ne){case"type":m=oe;break;case"name":f=oe;break;case"checked":J=oe;break;case"defaultChecked":fe=oe;break;case"value":y=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:oe!==pe&&xt(t,s,ne,oe,c,pe)}}co(t,y,S,R,J,fe,m,f);return;case"select":oe=y=S=ne=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":oe=R;default:c.hasOwnProperty(m)||xt(t,s,m,null,c,R)}for(f in c)if(m=c[f],R=a[f],c.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":ne=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==R&&xt(t,s,f,m,c,R)}s=S,a=y,c=oe,ne!=null?Ls(t,!!a,ne,!1):!!c!=!!a&&(s!=null?Ls(t,!!a,s,!0):Ls(t,!!a,a?[]:"",!1));return;case"textarea":oe=ne=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:xt(t,s,S,null,c,f)}for(y in c)if(f=c[y],m=a[y],c.hasOwnProperty(y)&&(f!=null||m!=null))switch(y){case"value":ne=f;break;case"defaultValue":oe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&xt(t,s,y,f,c,m)}Zi(t,ne,oe);return;case"option":for(var Me in a)if(ne=a[Me],a.hasOwnProperty(Me)&&ne!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:xt(t,s,Me,null,c,ne)}for(R in c)if(ne=c[R],oe=a[R],c.hasOwnProperty(R)&&ne!==oe&&(ne!=null||oe!=null))switch(R){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:xt(t,s,R,ne,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)ne=a[Ue],a.hasOwnProperty(Ue)&&ne!=null&&!c.hasOwnProperty(Ue)&&xt(t,s,Ue,null,c,ne);for(J in c)if(ne=c[J],oe=a[J],c.hasOwnProperty(J)&&ne!==oe&&(ne!=null||oe!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:xt(t,s,J,ne,c,oe)}return;default:if(Ua(s)){for(var bt in a)ne=a[bt],a.hasOwnProperty(bt)&&ne!==void 0&&!c.hasOwnProperty(bt)&&sf(t,s,bt,void 0,c,ne);for(fe in c)ne=c[fe],oe=a[fe],!c.hasOwnProperty(fe)||ne===oe||ne===void 0&&oe===void 0||sf(t,s,fe,ne,c,oe);return}}for(var I in a)ne=a[I],a.hasOwnProperty(I)&&ne!=null&&!c.hasOwnProperty(I)&&xt(t,s,I,null,c,ne);for(pe in c)ne=c[pe],oe=a[pe],!c.hasOwnProperty(pe)||ne===oe||ne==null&&oe==null||xt(t,s,pe,ne,c,oe)}function Xg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,y=f.initiatorType,S=f.duration;if(m&&S&&Xg(y)){for(y=0,S=f.responseEnd,c+=1;c<a.length;c++){var R=a[c],J=R.startTime;if(J>S)break;var fe=R.transferSize,pe=R.initiatorType;fe&&Xg(pe)&&(R=R.responseEnd,y+=fe*(R<S?1:(S-J)/(R-J)))}if(--c,s+=8*(m+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,af=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function Jg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function lf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var of=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var tx=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(t){return nx.resolve(null).then(t).catch(_1)}:tx;function _1(t){setTimeout(function(){throw t})}function Zr(t){return t==="head"}function sx(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),yi(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var m=a.firstChild;m;){var y=m.nextSibling,S=m.nodeName;m[wr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}else a==="body"&&_l(t.ownerDocument.body);a=f}while(a);yi(s)}function rx(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function cf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),$i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k1(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[wr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ps(t.nextSibling),t===null)break}return null}function T1(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ps(t.nextSibling),t===null))return null;return t}function ax(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ps(t.nextSibling),t===null))return null;return t}function uf(t){return t.data==="$?"||t.data==="$~"}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function A1(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ps(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ff=null;function ix(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ps(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function lx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function ox(t,s,a){switch(s=ic(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function _l(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);$i(t)}var gs=new Map,cx=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=A.d;A.d={f:D1,r:M1,D:R1,C:z1,L:O1,m:L1,X:B1,S:U1,M:$1};function D1(){var t=hr.f(),s=Xo();return t||s}function M1(t){var s=Yt(t);s!==null&&s.tag===5&&s.type==="form"?Cp(s):hr.r(t)}var xi=typeof document>"u"?null:document;function ux(t,s,a){var c=xi;if(c&&typeof s=="string"&&s){var f=Bt(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),cx.has(f)||(cx.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),En(s,"link",t),jt(s),c.head.appendChild(s)))}}function R1(t){hr.D(t),ux("dns-prefetch",t,null)}function z1(t,s){hr.C(t,s),ux("preconnect",t,s)}function O1(t,s,a){hr.L(t,s,a);var c=xi;if(c&&t&&s){var f='link[rel="preload"][as="'+Bt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Bt(a.imageSizes)+'"]')):f+='[href="'+Bt(t)+'"]';var m=f;switch(s){case"style":m=bi(t);break;case"script":m=vi(t)}gs.has(m)||(t=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),gs.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(kl(m))||s==="script"&&c.querySelector(Tl(m))||(s=c.createElement("link"),En(s,"link",t),jt(s),c.head.appendChild(s)))}}function L1(t,s){hr.m(t,s);var a=xi;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Bt(c)+'"][href="'+Bt(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vi(t)}if(!gs.has(m)&&(t=v({rel:"modulepreload",href:t},s),gs.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(m)))return}c=a.createElement("link"),En(c,"link",t),jt(c),a.head.appendChild(c)}}}function U1(t,s,a){hr.S(t,s,a);var c=xi;if(c&&t){var f=Sr(c).hoistableStyles,m=bi(t);s=s||"default";var y=f.get(m);if(!y){var S={loading:0,preload:null};if(y=c.querySelector(kl(m)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},a),(a=gs.get(m))&&hf(t,a);var R=y=c.createElement("link");jt(R),En(R,"link",t),R._p=new Promise(function(J,fe){R.onload=J,R.onerror=fe}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oc(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:S},f.set(m,y)}}}function B1(t,s){hr.X(t,s);var a=xi;if(a&&t){var c=Sr(a).hoistableScripts,f=vi(t),m=c.get(f);m||(m=a.querySelector(Tl(f)),m||(t=v({src:t,async:!0},s),(s=gs.get(f))&&mf(t,s),m=a.createElement("script"),jt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function $1(t,s){hr.M(t,s);var a=xi;if(a&&t){var c=Sr(a).hoistableScripts,f=vi(t),m=c.get(f);m||(m=a.querySelector(Tl(f)),m||(t=v({src:t,async:!0,type:"module"},s),(s=gs.get(f))&&mf(t,s),m=a.createElement("script"),jt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function dx(t,s,a,c){var f=(f=H.current)?lc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=bi(a.href),a=Sr(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bi(a.href);var m=Sr(f).hoistableStyles,y=m.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,y),(m=f.querySelector(kl(t)))&&!m._p&&(y.instance=m,y.state.loading=5),gs.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gs.set(t,a),m||q1(f,t,a,y.state))),s&&c===null)throw Error(i(528,""));return y}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vi(a),a=Sr(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function bi(t){return'href="'+Bt(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function fx(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),jt(s),t.head.appendChild(s))}function vi(t){return'[src="'+Bt(t)+'"]'}function Tl(t){return"script[async]"+t}function hx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(c)return s.instance=c,jt(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),jt(c),En(c,"style",f),oc(c,a.precedence,t),s.instance=c;case"stylesheet":f=bi(a.href);var m=t.querySelector(kl(f));if(m)return s.state.loading|=4,s.instance=m,jt(m),m;c=fx(a),(f=gs.get(f))&&hf(c,f),m=(t.ownerDocument||t).createElement("link"),jt(m);var y=m;return y._p=new Promise(function(S,R){y.onload=S,y.onerror=R}),En(m,"link",c),s.state.loading|=4,oc(m,a.precedence,t),s.instance=m;case"script":return m=vi(a.src),(f=t.querySelector(Tl(m)))?(s.instance=f,jt(f),f):(c=a,(f=gs.get(m))&&(c=v({},a),mf(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),jt(f),En(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,oc(c,a.precedence,t));return s.instance}function oc(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,y=0;y<c.length;y++){var S=c[y];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function hf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function mf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var cc=null;function mx(t,s,a){if(cc===null){var c=new Map,f=cc=new Map;f.set(a,c)}else f=cc,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[wr]||m[Nt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(s)||"";y=t+y;var S=c.get(y);S?S.push(m):c.set(y,[m])}}return c}function px(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function F1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function H1(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bi(c.href),m=s.querySelector(kl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=uc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,jt(m);return}m=s.ownerDocument||s,c=fx(c),(f=gs.get(f))&&hf(c,f),m=m.createElement("link"),jt(m);var y=m;y._p=new Promise(function(S,R){y.onload=S,y.onerror=R}),En(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var pf=0;function Z1(t,s){return t.stylesheets&&t.count===0&&fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&pf===0&&(pf=62500*S1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>pf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function fc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,s.forEach(I1,t),dc=null,uc.call(t))}function I1(t,s){if(!(s.state.loading&4)){var a=dc.get(t);if(a)var c=a.get(null);else{a=new Map,dc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var y=f[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),c=y)}c&&a.set(null,c)}f=s.instance,y=f.getAttribute("data-precedence"),m=a.get(y)||c,m===c&&a.set(null,f),a.set(y,f),this.count++,c=uc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Al={$$typeof:z,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function V1(t,s,a,c,f,m,y,S,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hn(0),this.hiddenUpdates=hn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function xx(t,s,a,c,f,m,y,S,R,J,fe,pe){return t=new V1(t,s,a,y,R,J,fe,pe,S),s=1,m===!0&&(s|=24),m=Jn(3,null,null,s),t.current=m,m.stateNode=t,s=Wu(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},Gu(m),t}function bx(t){return t?(t=Ya,t):Ya}function vx(t,s,a,c,f,m){f=bx(f),c.context===null?c.context=f:c.pendingContext=f,c=Mr(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Rr(t,c,s),a!==null&&(Qn(a,t,s),ol(a,t,s))}function yx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function gf(t,s){yx(t,s),(t=t.alternate)&&yx(t,s)}function wx(t){if(t.tag===13||t.tag===31){var s=ca(t,67108864);s!==null&&Qn(s,t,67108864),gf(t,67108864)}}function jx(t){if(t.tag===13||t.tag===31){var s=rs();s=Yn(s);var a=ca(t,s);a!==null&&Qn(a,t,s),gf(t,s)}}var hc=!0;function Q1(t,s,a,c){var f=D.T;D.T=null;var m=A.p;try{A.p=2,xf(t,s,a,c)}finally{A.p=m,D.T=f}}function W1(t,s,a,c){var f=D.T;D.T=null;var m=A.p;try{A.p=8,xf(t,s,a,c)}finally{A.p=m,D.T=f}}function xf(t,s,a,c){if(hc){var f=bf(c);if(f===null)nf(t,s,c,mc,a),Ex(t,c);else if(K1(f,t,s,a,c))c.stopPropagation();else if(Ex(t,c),s&4&&-1<P1.indexOf(t)){for(;f!==null;){var m=Yt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=wt(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var R=1<<31-Mt(y);S.entanglements[1]|=R,y&=~R}Vs(m),(lt&6)===0&&(Yo=ye()+500,El(0))}}break;case 31:case 13:S=ca(m,2),S!==null&&Qn(S,m,2),Xo(),gf(m,2)}if(m=bf(c),m===null&&nf(t,s,c,mc,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else nf(t,s,c,null,a)}}function bf(t){return t=Us(t),vf(t)}var mc=null;function vf(t){if(mc=null,t=jr(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=h(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return mc=t,null}function Sx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ae:return 2;case He:return 8;case Ve:case _t:return 32;case Se:return 268435456;default:return 32}default:return 32}}var yf=!1,Ir=null,Vr=null,Qr=null,Dl=new Map,Ml=new Map,Wr=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ex(t,s){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Rl(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Yt(s),s!==null&&wx(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function K1(t,s,a,c,f){switch(s){case"focusin":return Ir=Rl(Ir,t,s,a,c,f),!0;case"dragenter":return Vr=Rl(Vr,t,s,a,c,f),!0;case"mouseover":return Qr=Rl(Qr,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return Dl.set(m,Rl(Dl.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Ml.set(m,Rl(Ml.get(m)||null,t,s,a,c,f)),!0}return!1}function Nx(t){var s=jr(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,zt(t.priority,function(){jx(a)});return}}else if(s===31){if(s=h(a),s!==null){t.blockedOn=s,zt(t.priority,function(){jx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Cr=c,a.target.dispatchEvent(c),Cr=null}else return s=Yt(a),s!==null&&wx(s),t.blockedOn=a,!1;s.shift()}return!0}function Cx(t,s,a){pc(t)&&a.delete(s)}function Y1(){yf=!1,Ir!==null&&pc(Ir)&&(Ir=null),Vr!==null&&pc(Vr)&&(Vr=null),Qr!==null&&pc(Qr)&&(Qr=null),Dl.forEach(Cx),Ml.forEach(Cx)}function gc(t,s){t.blockedOn===s&&(t.blockedOn=null,yf||(yf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Y1)))}var xc=null;function _x(t){xc!==t&&(xc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(vf(c||a)===null)continue;break}var m=Yt(a);m!==null&&(t.splice(s,3),s-=3,xd(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function yi(t){function s(R){return gc(R,t)}Ir!==null&&gc(Ir,t),Vr!==null&&gc(Vr,t),Qr!==null&&gc(Qr,t),Dl.forEach(s),Ml.forEach(s);for(var a=0;a<Wr.length;a++){var c=Wr[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Nx(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],y=f[Vt]||null;if(typeof m=="function")y||_x(a);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,y=m[Vt]||null)S=y.formAction;else if(vf(f)!==null)continue}else S=y.action;typeof S=="function"?a[c+1]=S:(a.splice(c,3),c-=3),_x(a)}}}function kx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function wf(t){this._internalRoot=t}bc.prototype.render=wf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=rs();vx(a,c,t,s,null,null)},bc.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;vx(t.current,2,null,t,null,null),Xo(),s[yr]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tn();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Nx(t)}};var Tx=n.version;if(Tx!=="19.2.0")throw Error(i(527,Tx,"19.2.0"));A.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var G1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Dt=vc.inject(G1),st=vc}catch{}}return Ol.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,c="",f=Lp,m=Up,y=Bp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=xx(t,1,!1,null,null,a,c,null,f,m,y,kx),t[yr]=s.current,tf(t),new wf(s)},Ol.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var c=!1,f="",m=Lp,y=Up,S=Bp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),s=xx(t,1,!0,s,a??null,c,f,R,m,y,S,kx),s.context=bx(null),a=s.current,c=rs(),c=Yn(c),f=Mr(c),f.callback=null,Rr(a,f,c),a=c,s.current.lanes=a,On(s,a),Vs(s),t[yr]=s.current,tf(t),new bc(s)},Ol.version="19.2.0",Ol}var $x;function ij(){if($x)return Ef.exports;$x=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Ef.exports=aj(),Ef.exports}var lj=ij();const oj=Ub(lj),Xc=p.createContext(null);function cj({children:e}){const[n,r]=p.useState(()=>({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash})),i=p.useRef(new Set),o=p.useRef(n);p.useEffect(()=>{o.current=n},[n]);const u=p.useCallback(x=>{for(const b of i.current)if(b(x)===!1)return!1;return!0},[]);p.useEffect(()=>{const x=()=>{const b={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},v=`${b.pathname}${b.search}${b.hash}`;if(!u({kind:"pop",to:v,location:b})){const E=o.current;window.history.pushState(null,"",`${E.pathname}${E.search}${E.hash}`);return}r(b)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[u]);const d=p.useCallback(x=>(i.current.add(x),()=>{i.current.delete(x)}),[]),h=p.useCallback((x,b)=>{const v=new URL(x,window.location.origin),w={pathname:v.pathname,search:v.search,hash:v.hash},E=`${w.pathname}${w.search}${w.hash}`,N=b?.replace?"replace":"push";u({kind:N,to:E,location:w})&&(b?.replace?window.history.replaceState(null,"",E):window.history.pushState(null,"",E),window.dispatchEvent(new PopStateEvent("popstate")))},[u]),g=p.useMemo(()=>({location:n,navigate:h,registerBlocker:d}),[n,h,d]);return l.jsx(Xc.Provider,{value:g,children:e})}function Fn(){const e=p.useContext(Xc);if(!e)throw new Error("useLocation must be used within NavProvider");return e.location}function It(){const e=p.useContext(Xc);if(!e)throw new Error("useNavigate must be used within NavProvider");return e.navigate}function $b(e,n=!0){const r=p.useContext(Xc);if(!r)throw new Error("useNavigationBlocker must be used within NavProvider");p.useEffect(()=>{if(n)return r.registerBlocker(e)},[e,r,n])}var Di=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uj={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},dj=class{#e=uj;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},Sa=new dj;function fj(e){setTimeout(e,0)}var Ca=typeof window>"u"||"Deno"in globalThis;function $n(){}function hj(e,n){return typeof e=="function"?e(n):e}function If(e){return typeof e=="number"&&e>=0&&e!==1/0}function qb(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Xr(e,n){return typeof e=="function"?e(n):e}function xs(e,n){return typeof e=="function"?e(n):e}function qx(e,n){const{type:r="all",exact:i,fetchStatus:o,predicate:u,queryKey:d,stale:h}=e;if(d){if(i){if(n.queryHash!==gh(d,n.options))return!1}else if(!Vl(n.queryKey,d))return!1}if(r!=="all"){const g=n.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof h=="boolean"&&n.isStale()!==h||o&&o!==n.state.fetchStatus||u&&!u(n))}function Fx(e,n){const{exact:r,status:i,predicate:o,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(_a(n.options.mutationKey)!==_a(u))return!1}else if(!Vl(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||o&&!o(n))}function gh(e,n){return(n?.queryKeyHashFn||_a)(e)}function _a(e){return JSON.stringify(e,(n,r)=>Vf(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function Vl(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Vl(e[r],n[r])):!1}var mj=Object.prototype.hasOwnProperty;function Fb(e,n){if(e===n)return e;const r=Hx(e)&&Hx(n);if(!r&&!(Vf(e)&&Vf(n)))return n;const o=(r?e:Object.keys(e)).length,u=r?n:Object.keys(n),d=u.length,h=r?new Array(d):{};let g=0;for(let x=0;x<d;x++){const b=r?x:u[x],v=e[b],w=n[b];if(v===w){h[b]=v,(r?x<o:mj.call(e,b))&&g++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){h[b]=w;continue}const E=Fb(v,w);h[b]=E,E===v&&g++}return o===d&&g===o?e:h}function Lc(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vf(e){if(!Zx(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Zx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zx(e){return Object.prototype.toString.call(e)==="[object Object]"}function pj(e){return new Promise(n=>{Sa.setTimeout(n,e)})}function Qf(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?Fb(e,n):n}function gj(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function xj(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var xh=Symbol();function Hb(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===xh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Zb(e,n){return typeof e=="function"?e(...n):!!e}var bj=class extends Di{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ca&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},bh=new bj;function Wf(){let e,n;const r=new Promise((o,u)=>{e=o,n=u});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},r.reject=o=>{i({status:"rejected",reason:o}),n(o)},r}var vj=fj;function yj(){let e=[],n=0,r=h=>{h()},i=h=>{h()},o=vj;const u=h=>{n?e.push(h):o(()=>{r(h)})},d=()=>{const h=e;e=[],h.length&&o(()=>{i(()=>{h.forEach(g=>{r(g)})})})};return{batch:h=>{let g;n++;try{g=h()}finally{n--,n||d()}return g},batchCalls:h=>(...g)=>{u(()=>{h(...g)})},schedule:u,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{o=h}}}var cn=yj(),wj=class extends Di{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ca&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Uc=new wj;function jj(e){return Math.min(1e3*2**e,3e4)}function Ib(e){return(e??"online")==="online"?Uc.isOnline():!0}var Pf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Vb(e){let n=!1,r=0,i;const o=Wf(),u=()=>o.status!=="pending",d=j=>{if(!u()){const _=new Pf(j);w(_),e.onCancel?.(_)}},h=()=>{n=!0},g=()=>{n=!1},x=()=>bh.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),b=()=>Ib(e.networkMode)&&e.canRun(),v=j=>{u()||(i?.(),o.resolve(j))},w=j=>{u()||(i?.(),o.reject(j))},E=()=>new Promise(j=>{i=_=>{(u()||x())&&j(_)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),N=()=>{if(u())return;let j;const _=r===0?e.initialPromise:void 0;try{j=_??e.fn()}catch(T){j=Promise.reject(T)}Promise.resolve(j).then(v).catch(T=>{if(u())return;const C=e.retry??(Ca?0:3),z=e.retryDelay??jj,L=typeof z=="function"?z(r,T):z,O=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,T);if(n||!O){w(T);return}r++,e.onFail?.(r,T),pj(L).then(()=>x()?void 0:E()).then(()=>{n?w(T):N()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i?.(),o),cancelRetry:h,continueRetry:g,canStart:b,start:()=>(b()?N():E().then(N),o)}}var Qb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),If(this.gcTime)&&(this.#e=Sa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ca?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Sa.clearTimeout(this.#e),this.#e=void 0)}},Sj=class extends Qb{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ix(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ix(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Qf(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},o=()=>{const h=Hb(this.options,n),x=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(h,x,this):h(x)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=Vb({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Pf&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,g)=>{this.#a({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Pf){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wb(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Wb(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ib(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ix(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pb=class extends Di{constructor(e,n){super(),this.options=n,this.#e=e,this.#a=null,this.#l=Wf(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Vx(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!Lc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Qx(this.#t,r,this.options,n)&&this.#d(),this.updateResult(),i&&(this.#t!==r||xs(this.options.enabled,this.#t)!==xs(n.enabled,this.#t)||Xr(this.options.staleTime,this.#t)!==Xr(n.staleTime,this.#t))&&this.#g();const o=this.#x();i&&(this.#t!==r||xs(this.options.enabled,this.#t)!==xs(n.enabled,this.#t)||o!==this.#o)&&this.#b(o)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return Nj(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#j();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch($n)),n}#g(){this.#y();const e=Xr(this.options.staleTime,this.#t);if(Ca||this.#r.isStale||!If(e))return;const r=qb(this.#r.dataUpdatedAt,e)+1;this.#c=Sa.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#o=e,!(Ca||xs(this.options.enabled,this.#t)===!1||!If(this.#o)||this.#o===0)&&(this.#u=Sa.setInterval(()=>{(this.options.refetchIntervalInBackground||bh.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#c&&(Sa.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Sa.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const r=this.#t,i=this.options,o=this.#r,u=this.#s,d=this.#i,g=e!==r?e.state:this.#n,{state:x}=e;let b={...x},v=!1,w;if(n._optimisticResults){const Z=this.hasListeners(),W=!Z&&Vx(e,n),G=Z&&Qx(e,r,n,i);(W||G)&&(b={...b,...Wb(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:E,errorUpdatedAt:N,status:j}=b;w=b.data;let _=!1;if(n.placeholderData!==void 0&&w===void 0&&j==="pending"){let Z;o?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(Z=o.data,_=!0):Z=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,Z!==void 0&&(j="success",w=Qf(o?.data,Z,n),v=!0)}if(n.select&&w!==void 0&&!_)if(o&&w===u?.data&&n.select===this.#p)w=this.#f;else try{this.#p=n.select,w=n.select(w),w=Qf(o?.data,w,n),this.#f=w,this.#a=null}catch(Z){this.#a=Z}this.#a&&(E=this.#a,w=this.#f,N=Date.now(),j="error");const T=b.fetchStatus==="fetching",C=j==="pending",z=j==="error",L=C&&T,O=w!==void 0,U={status:j,fetchStatus:b.fetchStatus,isPending:C,isSuccess:j==="success",isError:z,isInitialLoading:L,isLoading:L,data:w,dataUpdatedAt:b.dataUpdatedAt,error:E,errorUpdatedAt:N,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:T,isRefetching:T&&!C,isLoadingError:z&&!O,isPaused:b.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:z&&O,isStale:vh(e,n),refetch:this.refetch,promise:this.#l,isEnabled:xs(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Z=re=>{U.status==="error"?re.reject(U.error):U.data!==void 0&&re.resolve(U.data)},W=()=>{const re=this.#l=U.promise=Wf();Z(re)},G=this.#l;switch(G.status){case"pending":e.queryHash===r.queryHash&&Z(G);break;case"fulfilled":(U.status==="error"||U.data!==G.value)&&W();break;case"rejected":(U.status!=="error"||U.error!==G.reason)&&W();break}}return U}updateResult(){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Lc(n,e))return;this.#r=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const h=d;return this.#r[h]!==e[h]&&u.has(h)})};this.#S({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ej(e,n){return xs(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Vx(e,n){return Ej(e,n)||e.state.data!==void 0&&Kf(e,n,n.refetchOnMount)}function Kf(e,n,r){if(xs(n.enabled,e)!==!1&&Xr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&vh(e,n)}return!1}function Qx(e,n,r,i){return(e!==n||xs(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vh(e,r)}function vh(e,n){return xs(n.enabled,e)!==!1&&e.isStaleByTime(Xr(n.staleTime,e))}function Nj(e,n){return!Lc(e.getCurrentResult(),n)}function Bc(e){return{onFetch:(n,r)=>{const i=n.options,o=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const x=async()=>{let b=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},w=Hb(n.options,n.fetchOptions),E=async(N,j,_)=>{if(b)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const te={client:n.client,queryKey:n.queryKey,pageParam:j,direction:_?"backward":"forward",meta:n.options.meta};return v(te),te})(),z=await w(C),{maxPages:L}=n.options,O=_?xj:gj;return{pages:O(N.pages,z,L),pageParams:O(N.pageParams,j,L)}};if(o&&u.length){const N=o==="backward",j=N?Kb:Yf,_={pages:u,pageParams:d},T=j(i,_);h=await E(_,T,N)}else{const N=e??u.length;do{const j=g===0?d[0]??i.initialPageParam:Yf(i,h);if(g>0&&j==null)break;h=await E(h,j),g++}while(g<N)}return h};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function Yf(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Kb(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function Cj(e,n){return n?Yf(e,n)!=null:!1}function _j(e,n){return!n||!e.getPreviousPageParam?!1:Kb(e,n)!=null}var kj=class extends Pb{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Bc()})}getOptimisticResult(e){return e.behavior=Bc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:r}=e,i=super.createResult(e,n),{isFetching:o,isRefetching:u,isError:d,isRefetchError:h}=i,g=r.fetchMeta?.fetchMore?.direction,x=d&&g==="forward",b=o&&g==="forward",v=d&&g==="backward",w=o&&g==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Cj(n,r.data),hasPreviousPage:_j(n,r.data),isFetchNextPageError:x,isFetchingNextPage:b,isFetchPreviousPageError:v,isFetchingPreviousPage:w,isRefetchError:h&&!x&&!v,isRefetching:u&&!b&&!w}}},Tj=class extends Qb{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Yb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Vb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#r.canStart();try{if(i)n();else{this.#s({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:o})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,r),await this.options.onError?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,u,e,this.state.context,r),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Yb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aj=class extends Di{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,n,r){const i=new Tj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=yc(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yc(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=yc(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){cn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Fx(n,r))}findAll(e={}){return this.getAll().filter(n=>Fx(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch($n))))}};function yc(e){return e.options.scope?.id}var Dj=class extends Di{#e;#t=void 0;#n;#r;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Lc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&_a(r.mutationKey)!==_a(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(n){this.#s(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(n,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(n)}#s(){const n=this.#n?.state??Yb();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){cn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};n?.type==="success"?(this.#r.onSuccess?.(n.data,r,i,o),this.#r.onSettled?.(n.data,null,r,i,o)):n?.type==="error"&&(this.#r.onError?.(n.error,r,i,o),this.#r.onSettled?.(void 0,n.error,r,i,o))}this.listeners.forEach(r=>{r(this.#t)})})}},Mj=class extends Di{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,o=n.queryHash??gh(i,n);let u=this.get(o);return u||(u=new Sj({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qx(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rj=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new Mj,this.#t=e.mutationCache||new Aj,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=hj(n,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...r,manual:!0})}setQueriesData(e,n,r){return cn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;cn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return cn.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=cn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then($n).catch($n)}invalidateQueries(e,n={}){return cn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=cn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,r);return r.throwOnError||(u=u.catch($n)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then($n)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Xr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($n).catch($n)}fetchInfiniteQuery(e){return e.behavior=Bc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($n).catch($n)}ensureInfiniteQueryData(e){return e.behavior=Bc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(_a(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Vl(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#s.set(_a(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()],r={};return n.forEach(i=>{Vl(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=gh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===xh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gb=p.createContext(void 0),ft=e=>{const n=p.useContext(Gb);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},zj=({client:e,children:n})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Gb.Provider,{value:e,children:n})),Xb=p.createContext(!1),Oj=()=>p.useContext(Xb);Xb.Provider;function Lj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Uj=p.createContext(Lj()),Bj=()=>p.useContext(Uj),$j=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},qj=e=>{p.useEffect(()=>{e.clearReset()},[e])},Fj=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:o})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Zb(r,[e.error,i])),Hj=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>r(i(...o)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Zj=(e,n)=>e.isLoading&&e.isFetching&&!n,Ij=(e,n)=>e?.suspense&&n.isPending,Wx=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function Jb(e,n,r){const i=Oj(),o=Bj(),u=ft(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",Hj(d),$j(d,o),qj(o);const h=!u.getQueryCache().get(d.queryHash),[g]=p.useState(()=>new n(u,d)),x=g.getOptimisticResult(d),b=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const w=b?g.subscribe(cn.batchCalls(v)):$n;return g.updateResult(),w},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),p.useEffect(()=>{g.setOptions(d)},[d,g]),Ij(d,x))throw Wx(d,g,o);if(Fj({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!Ca&&Zj(x,i)&&(h?Wx(d,g,o):u.getQueryCache().get(d.queryHash)?.promise)?.catch($n).finally(()=>{g.updateResult()}),d.notifyOnChangeProps?x:g.trackResult(x)}function zn(e,n){return Jb(e,Pb)}function sn(e,n){const r=ft(),[i]=p.useState(()=>new Dj(r,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const o=p.useSyncExternalStore(p.useCallback(d=>i.subscribe(cn.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=p.useCallback((d,h)=>{i.mutate(d,h).catch($n)},[i]);if(o.error&&Zb(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function yh(e,n){return Jb(e,kj)}const Vj="modulepreload",Qj=function(e){return"/"+e},Px={},Wj=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){let g=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=g(r.map(x=>{if(x=Qj(x),x in Px)return;Px[x]=!0;const b=x.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Vj,b||(w.as="script"),w.crossOrigin="",w.href=x,h&&w.setAttribute("nonce",h),document.head.appendChild(w),b)return new Promise((E,N)=>{w.addEventListener("load",E),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function Pj({children:e}){const[n]=p.useState(()=>new Rj({defaultOptions:{queries:{retry:1,staleTime:3e4,refetchOnWindowFocus:!1}}}));return l.jsxs(zj,{client:n,children:[e,null]})}class qn extends Error{status;problem;constructor(n,r,i){super(n),this.name="ApiError",this.status=r,this.problem=i}}const Kj=/\{[^{}]+\}/g,Yj=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function Gj(){return Math.random().toString(36).slice(2,11)}function Xj(e){let{baseUrl:n="",Request:r=globalThis.Request,fetch:i=globalThis.fetch,querySerializer:o,bodySerializer:u,headers:d,requestInitExt:h=void 0,...g}={...e};h=Yj()?h:void 0,n=Gx(n);const x=[];async function b(v,w){const{baseUrl:E,fetch:N=i,Request:j=r,headers:_,params:T={},parseAs:C="json",querySerializer:z,bodySerializer:L=u??eS,body:O,middleware:te=[],...U}=w||{};let Z=n;E&&(Z=Gx(E)??n);let W=typeof o=="function"?o:Kx(o);z&&(W=typeof z=="function"?z:Kx({...typeof o=="object"?o:{},...z}));const G=O===void 0?void 0:L(O,Yx(d,_,T.header)),re=Yx(G===void 0||G instanceof FormData?{}:{"Content-Type":"application/json"},d,_,T.header),$=[...x,...te],K={redirect:"follow",...g,...U,body:G,headers:re};let ue,we,D=new j(tS(v,{baseUrl:Z,params:T,querySerializer:W}),K),A;for(const de in U)de in D||(D[de]=U[de]);if($.length){ue=Gj(),we=Object.freeze({baseUrl:Z,fetch:N,parseAs:C,querySerializer:W,bodySerializer:L});for(const de of $)if(de&&typeof de=="object"&&typeof de.onRequest=="function"){const ae=await de.onRequest({request:D,schemaPath:v,params:T,options:we,id:ue});if(ae)if(ae instanceof j)D=ae;else if(ae instanceof Response){A=ae;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!A){try{A=await N(D,h)}catch(de){let ae=de;if($.length)for(let k=$.length-1;k>=0;k--){const Q=$[k];if(Q&&typeof Q=="object"&&typeof Q.onError=="function"){const ce=await Q.onError({request:D,error:ae,schemaPath:v,params:T,options:we,id:ue});if(ce){if(ce instanceof Response){ae=void 0,A=ce;break}if(ce instanceof Error){ae=ce;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ae)throw ae}if($.length)for(let de=$.length-1;de>=0;de--){const ae=$[de];if(ae&&typeof ae=="object"&&typeof ae.onResponse=="function"){const k=await ae.onResponse({request:D,response:A,schemaPath:v,params:T,options:we,id:ue});if(k){if(!(k instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");A=k}}}}if(A.status===204||D.method==="HEAD"||A.headers.get("Content-Length")==="0")return A.ok?{data:void 0,response:A}:{error:void 0,response:A};if(A.ok)return C==="stream"?{data:A.body,response:A}:{data:await A[C](),response:A};let se=await A.text();try{se=JSON.parse(se)}catch{}return{error:se,response:A}}return{request(v,w,E){return b(w,{...E,method:v.toUpperCase()})},GET(v,w){return b(v,{...w,method:"GET"})},PUT(v,w){return b(v,{...w,method:"PUT"})},POST(v,w){return b(v,{...w,method:"POST"})},DELETE(v,w){return b(v,{...w,method:"DELETE"})},OPTIONS(v,w){return b(v,{...w,method:"OPTIONS"})},HEAD(v,w){return b(v,{...w,method:"HEAD"})},PATCH(v,w){return b(v,{...w,method:"PATCH"})},TRACE(v,w){return b(v,{...w,method:"TRACE"})},use(...v){for(const w of v)if(w){if(typeof w!="object"||!("onRequest"in w||"onResponse"in w||"onError"in w))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");x.push(w)}},eject(...v){for(const w of v){const E=x.indexOf(w);E!==-1&&x.splice(E,1)}}}}function Jc(e,n,r){if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?n:encodeURIComponent(n)}`}function ev(e,n,r){if(!n||typeof n!="object")return"";const i=[],o={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(const h in n)i.push(h,r.allowReserved===!0?n[h]:encodeURIComponent(n[h]));const d=i.join(",");switch(r.style){case"form":return`${e}=${d}`;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return d}}for(const d in n){const h=r.style==="deepObject"?`${e}[${d}]`:d;i.push(Jc(h,n[d],r))}const u=i.join(o);return r.style==="label"||r.style==="matrix"?`${o}${u}`:u}function tv(e,n,r){if(!Array.isArray(n))return"";if(r.explode===!1){const u={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",d=(r.allowReserved===!0?n:n.map(h=>encodeURIComponent(h))).join(u);switch(r.style){case"simple":return d;case"label":return`.${d}`;case"matrix":return`;${e}=${d}`;default:return`${e}=${d}`}}const i={simple:",",label:".",matrix:";"}[r.style]||"&",o=[];for(const u of n)r.style==="simple"||r.style==="label"?o.push(r.allowReserved===!0?u:encodeURIComponent(u)):o.push(Jc(e,u,r));return r.style==="label"||r.style==="matrix"?`${i}${o.join(i)}`:o.join(i)}function Kx(e){return function(r){const i=[];if(r&&typeof r=="object")for(const o in r){const u=r[o];if(u!=null){if(Array.isArray(u)){if(u.length===0)continue;i.push(tv(o,u,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof u=="object"){i.push(ev(o,u,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}i.push(Jc(o,u,e))}}return i.join("&")}}function Jj(e,n){let r=e;for(const i of e.match(Kj)??[]){let o=i.substring(1,i.length-1),u=!1,d="simple";if(o.endsWith("*")&&(u=!0,o=o.substring(0,o.length-1)),o.startsWith(".")?(d="label",o=o.substring(1)):o.startsWith(";")&&(d="matrix",o=o.substring(1)),!n||n[o]===void 0||n[o]===null)continue;const h=n[o];if(Array.isArray(h)){r=r.replace(i,tv(o,h,{style:d,explode:u}));continue}if(typeof h=="object"){r=r.replace(i,ev(o,h,{style:d,explode:u}));continue}if(d==="matrix"){r=r.replace(i,`;${Jc(o,h)}`);continue}r=r.replace(i,d==="label"?`.${encodeURIComponent(h)}`:encodeURIComponent(h))}return r}function eS(e,n){return e instanceof FormData?e:n&&(n.get instanceof Function?n.get("Content-Type")??n.get("content-type"):n["Content-Type"]??n["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function tS(e,n){let r=`${n.baseUrl}${e}`;n.params?.path&&(r=Jj(r,n.params.path));let i=n.querySerializer(n.params.query??{});return i.startsWith("?")&&(i=i.substring(1)),i&&(r+=`?${i}`),r}function Yx(...e){const n=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const i=r instanceof Headers?r.entries():Object.entries(r);for(const[o,u]of i)if(u===null)n.delete(o);else if(Array.isArray(u))for(const d of u)n.append(o,d);else u!==void 0&&n.set(o,u)}return n}function Gx(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const nS=["ade_csrf","backend_app_csrf"];function sS(){return nS}function rS(){if(typeof document>"u")return null;const e=document.cookie;if(!e)return null;const n=new Map,r=e.split(";");for(const i of r){const[o,...u]=i.trim().split("=");o&&n.set(o,decodeURIComponent(u.join("=")))}return n}function nv(){const e=rS();if(!e)return null;for(const n of sS()){const r=e.get(n);if(r)return r}return null}const sv=new Set(["GET","HEAD","OPTIONS","TRACE"]),aS="ade.auth.tokens",kf="",$c=kf.endsWith("/api/v1")?kf.slice(0,-7):kf;function Mi(e){if(!e.startsWith("/"))throw new Error("API paths must begin with '/' relative to the server root");return $c.length>0?`${$c}${e}`:e}async function iS(e,n={}){const r=Mi(e),i=new Headers(n.headers??{});if(i.set("X-Requested-With","fetch"),!i.has("Authorization")){const d=rv();d&&i.set("Authorization",`${d.token_type} ${d.access_token}`)}const o=n.method?.toUpperCase()??"GET";if(!sv.has(o)){const d=nv();d&&!i.has("X-CSRF-Token")&&i.set("X-CSRF-Token",d)}return await fetch(r,{credentials:"include",...n,headers:i})}const Be=Xj({baseUrl:$c.length>0?$c:void 0,credentials:"include",headers:{"X-Requested-With":"fetch"}}),lS={onRequest({request:e}){const n=e.method?.toUpperCase()??"GET";if(!sv.has(n)){const r=nv();r&&!e.headers.has("X-CSRF-Token")&&e.headers.set("X-CSRF-Token",r)}return e}},oS={onRequest({request:e}){if(!e.headers.has("Authorization")){const n=rv();n&&e.headers.set("Authorization",`${n.token_type} ${n.access_token}`)}return e}},cS={async onResponse({response:e}){if(e.ok)return e;const n=await uS(e),r=n?.title??`Request failed with status ${e.status}`;throw new qn(r,e.status,n)}};Be.use(lS);Be.use(oS);Be.use(cS);function rv(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(aS);if(!e)return null;const n=JSON.parse(e);if(n&&typeof n.access_token=="string")return{access_token:n.access_token,token_type:n.token_type??"bearer"}}catch{}return null}async function uS(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Ms={root:["auth"],detail:()=>[...Ms.root,"session"],providers:()=>[...Ms.root,"providers"],setupStatus:()=>[...Ms.root,"setup-status"]},wh="ade.auth.tokens";let Jl=dS();function dS(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(wh);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.access_token!="string"?null:{access_token:n.access_token,token_type:n.token_type??"bearer",expires_at:n.expires_at??null,refresh_expires_at:n.refresh_expires_at??null}}catch{return null}}function Xx(e,n){if(e){const r=Date.parse(e);if(!Number.isNaN(r))return r}return typeof n=="number"?Date.now()+n*1e3:null}function fS(e){const n={access_token:e.access_token,token_type:e.token_type??"bearer",expires_at:Xx(e.expires_at,e.expires_in),refresh_expires_at:Xx(e.refresh_expires_at,e.refresh_expires_in)};if(Jl=n,typeof window<"u")try{window.localStorage.setItem(wh,JSON.stringify(n))}catch{}return n}function jh(){if(Jl=null,typeof window<"u")try{window.localStorage.removeItem(wh)}catch{}}function hS(){return Jl}function mS(e=Jl){return e?.access_token?{Authorization:`${e.token_type?.trim()||"bearer"} ${e.access_token}`}:{}}function Jx(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toISOString()}function pS(e){const n=e.items.find(r=>r.is_default);return n?n.id:null}function e0(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function gS(e){return e?{...e,items:e.items??[]}:{items:[],page:1,page_size:0,total:0,has_next:!1,has_previous:!1}}async function av(e,n){const r="/api/v1/me/bootstrap";try{const{data:i}=await Be.GET(r,{signal:n,headers:mS(e),params:{query:{page:1,page_size:200,include_total:!1}}});return i??null}catch(i){if(i instanceof qn&&(i.status===401||i.status===403))return null;throw i}}function iv(e,n=Jl,r=null,i=null){const o=e0(e.roles),u=e0(e.permissions),d=gS(e.workspaces);return{user:{...e.user,roles:o,permissions:u,preferred_workspace_id:pS(d)??null},workspaces:d,roles:o,permissions:u,expires_at:Jx(n?.expires_at??null),refresh_expires_at:Jx(n?.refresh_expires_at??null),return_to:r,state:i}}async function eu(e,n={}){const r=fS(e.session),i=await av(r,n.signal);if(!i)throw jh(),new Error("Unable to load session after authentication.");return iv(i,r,null,null)}async function xS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/providers",{signal:e.signal});return n?SS(n):{providers:[],force_sso:!1}}catch(n){if(n instanceof qn&&n.status===404)return{providers:[],force_sso:!1};throw n}}async function bS(e={}){const n=hS(),r=await av(n,e.signal);return r?iv(r,n):(n&&jh(),null)}async function vS(e,n={}){const{data:r}=await Be.POST("/api/v1/auth/session",{body:e,signal:n.signal});if(!r)throw new Error("Expected session payload from login response.");return eu(r,n)}async function yS(e={}){const{data:n}=await Be.POST("/api/v1/auth/session/refresh",{body:void 0,signal:e.signal});if(!n)throw new Error("Expected session payload from refresh response.");return eu(n,e)}async function wS(e){const{code:n,state:r,provider:i="sso",signal:o}=e,{data:u}=await Be.GET("/api/v1/auth/sso/{provider}/callback",{signal:o,params:{path:{provider:i},query:{code:n,state:r}}});if(!u)throw new Error("Expected session payload from SSO callback.");return eu(u,{signal:o})}async function jS(e={}){try{await Be.DELETE("/api/v1/auth/session",{signal:e.signal,body:void 0})}catch(n){!(n instanceof qn)||n.status!==401&&n.status}finally{jh()}}function SS(e){return{providers:(e.providers??[]).map(ES),force_sso:!!e.force_sso}}function ES(e){return{...e,start_url:e.start_url??"",icon_url:e.icon_url??null}}const lv=p.createContext(void 0);function wc(e){return e instanceof Error?e:new Error(String(e))}function t0({session:e,refetch:n,children:r}){return _S(e,n),l.jsx(lv.Provider,{value:{session:e,refetch:n},children:r})}function NS(){const e=p.useContext(lv);if(!e)throw new Error("useSessionContext must be used within a SessionProvider");return e}function Ri(){return NS().session}const CS=6e4;function _S(e,n){p.useEffect(()=>{if(typeof window>"u")return;const r=typeof e.expires_at=="string"?Date.parse(e.expires_at):NaN,i=typeof e.refresh_expires_at=="string"?Date.parse(e.refresh_expires_at):NaN;if(Number.isNaN(r)||Number.isNaN(i))return;const o=Date.now();if(i<=o){n().catch(x=>{console.warn("Failed to refetch session after refresh expiry",wc(x))});return}const u=Math.min(r,i)-CS,d=Math.max(u-o,0);let h=!1;const g=window.setTimeout(async()=>{try{if(await yS(),h)return;await n().catch(x=>{console.warn("Failed to refetch session after refresh",wc(x))})}catch(x){if(h)return;console.warn("Failed to refresh session",wc(x)),await n().catch(b=>{console.warn("Failed to refetch session after refresh failure",wc(b))})}},d);return()=>{h=!0,window.clearTimeout(g)}},[n,e.expires_at,e.refresh_expires_at])}function ov(e={}){const n=ft(),r=zn({queryKey:Ms.detail(),queryFn:async({signal:o})=>{const u=await bS({signal:o});return u||null},enabled:e.enabled??!0,staleTime:6e4,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),i=r.data??null;return p.useEffect(()=>{i||n.removeQueries({queryKey:Ms.providers(),exact:!1})},[n,i]),{...r,session:i}}async function kS(e={}){try{const{data:n}=await Be.GET("/api/v1/auth/setup",{signal:e.signal});if(!n)throw new Error("Expected setup status payload.");return n}catch(n){if(n instanceof qn&&n.status===404)return{requires_setup:!1,has_users:!0};throw n}}async function TS(e){const{data:n}=await Be.POST("/api/v1/auth/setup",{body:e});if(!n)throw new Error("Expected session payload from setup response.");return eu(n)}function Sh(e=!0){return zn({queryKey:Ms.setupStatus(),queryFn:({signal:n})=>kS({signal:n}),enabled:e,staleTime:3e5,refetchOnWindowFocus:!1})}const eo="/workspaces",AS=new Set(["/","/login","/setup","/logout"]);function DS(e){if(!e)return!0;const n=RS(e);return!!(AS.has(n)||n==="/auth"||n.startsWith("/auth/"))}function MS(e){return`${e.pathname}${e.search}${e.hash}`}function n0(e){const n=MS(e)||"/";return qc(n)??eo}function qc(e){if(!e)return null;const n=e.trim();return!n.startsWith("/")||n.startsWith("//")?null:n==="/"?eo:DS(n)?null:n}function Ql(e){return qc(e)??eo}function cv(e){return dv("/login",e)}function uv(e){return dv("/setup",e)}function dv(e,n){const r=Ql(n),i=new URLSearchParams;r!==eo&&i.set("redirectTo",r);const o=i.toString();return o?`${e}?${o}`:e}function Fc(e,n){const r=qc(e);if(r)return r;const i=qc(n);return i||eo}function RS(e){let n=e;const r=n.indexOf("#");r>=0&&(n=n.slice(0,r));const i=n.indexOf("?");return i>=0&&(n=n.slice(0,i)),n?n.startsWith("/")?n:`/${n}`:"/"}function tu({children:e}){const n=Fn(),r=It(),i=ov(),{session:o,isLoading:u,isError:d,refetch:h}=i,g=!o&&!u&&!d,{data:x,isPending:b,isError:v,isSuccess:w,refetch:E}=Sh(g);return p.useEffect(()=>{if(o||u||d)return;if(g){if(b||v)return;if(w&&x?.requires_setup){const j=n0(n);r(uv(j),{replace:!0});return}}const N=n0(n);r(cv(N),{replace:!0})},[d,u,v,b,w,n,r,o,x?.requires_setup,g]),u?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Loading your workspace"})}):d?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to confirm your session."}),l.jsx("button",{onClick:()=>h(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):o?e?l.jsx(t0,{session:o,refetch:h,children:e}):l.jsx(t0,{session:o,refetch:h,children:e??null}):g&&b?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-sm text-slate-500",children:l.jsx("p",{children:"Preparing initial setup"})}):g&&v?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 text-center text-sm text-slate-500",children:[l.jsx("p",{children:"We were unable to check whether ADE is ready."}),l.jsx("button",{onClick:()=>E(),className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-100",children:"Try again"})]}):null}const to=100,Eh=50;function nu(e){if(!(typeof e!="number"||Number.isNaN(e)||e<=0))return Math.min(e,to)}async function fv(e,n={}){const{maxPages:r=50}=n,i=[];let o=[],u;for(let g=1;g<=r;g+=1){const x=await e(g);if(i.push(x),o=o.concat(x.items??[]),u===void 0&&x.total!==void 0&&(u=x.total??null),!x.has_next)break}const d=i.at(-1),h=i.at(0);if(!d||!h)throw new Error("No pages were returned while collecting pagination results.");return{...d,items:o,page:1,page_size:h.page_size,has_next:!1,has_previous:!1,total:u??d.total}}function Nh(e,n){return p.useMemo(()=>{if(!e||e.length===0)return[];const r=[],i=new Map;for(const o of e){const u=Array.isArray(o.items)?o.items:[];for(const d of u){const h=n(d),g=i.get(h);if(g===void 0){i.set(h,r.length),r.push(d);continue}r[g]=d}}return r},[e,n])}const hv=to,mv=Eh,pv=Eh,gv=Eh,zS="workspace",Dc={page:1,pageSize:hv,includeTotal:!1},OS={page:1,pageSize:mv,includeTotal:!1},LS={page:1,pageSize:pv,includeTotal:!1},US={scope:zS,page:1,pageSize:gv,includeTotal:!1},Zt={all:()=>["workspaces"],list:(e=Dc)=>[...Zt.all(),"list",{...e}],detail:e=>[...Zt.all(),"detail",e],members:(e,n=OS)=>[...Zt.detail(e),"members",{...n}],roles:(e,n=LS)=>[...Zt.detail(e),"roles",{...n}],permissions:(e=US)=>["permissions",{...e}]},Mc={page:Dc.page,pageSize:Dc.pageSize,includeTotal:Dc.includeTotal},xv="workspace";async function BS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:o}=e,u={};typeof n=="number"&&n>0&&(u.page=n);const d=nu(r??hv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Be.GET("/api/v1/workspaces",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace page payload.");const g=[...h.items].sort((x,b)=>x.name.localeCompare(b.name));return{...h,items:g}}async function $S(e){const{data:n}=await Be.POST("/api/v1/workspaces",{body:e});if(!n)throw new Error("Expected workspace payload.");return n}async function qS(e,n){const{data:r}=await Be.PATCH("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace payload.");return r}async function FS(e){await Be.DELETE("/api/v1/workspaces/{workspace_id}",{params:{path:{workspace_id:e}}})}async function HS(e,n={}){const{page:r,pageSize:i,includeTotal:o,signal:u}=n,d={};typeof r=="number"&&r>0&&(d.page=r);const h=nu(i??mv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e},query:d},signal:u});if(!g)throw new Error("Expected workspace member page payload.");return g}async function ZS(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/members",{params:{path:{workspace_id:e}},body:n});if(!r)throw new Error("Expected workspace member payload.");return r}async function IS(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}},body:r});if(!i)throw new Error("Expected workspace member payload.");return i}async function VS(e,n){await Be.DELETE("/api/v1/workspaces/{workspace_id}/members/{user_id}",{params:{path:{workspace_id:e,user_id:n}}})}async function QS(e={}){const{page:n,pageSize:r,includeTotal:i,signal:o}=e,u={scope:xv};typeof n=="number"&&n>0&&(u.page=n);const d=nu(r??pv);d&&(u.page_size=d),i&&(u.include_total=!0);const{data:h}=await Be.GET("/api/v1/rbac/roles",{params:{query:u},signal:o});if(!h)throw new Error("Expected workspace role page payload.");return h}async function WS(e,n){const{data:r}=await Be.POST("/api/v1/rbac/roles",{body:n});if(!r)throw new Error("Expected role payload.");return r}async function PS(e,n,r){const{data:i}=await Be.PATCH("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}},body:r});if(!i)throw new Error("Expected role payload.");return i}async function KS(e,n){await Be.DELETE("/api/v1/rbac/roles/{role_id}",{params:{path:{role_id:n}}})}async function YS(e={}){const{scope:n=xv,page:r,pageSize:i,includeTotal:o,signal:u}=e,d={scope:n};typeof r=="number"&&r>0&&(d.page=r);const h=nu(i??gv);h&&(d.page_size=h),o&&(d.include_total=!0);const{data:g}=await Be.GET("/api/v1/rbac/permissions",{params:{query:d},signal:u});if(!g)throw new Error("Expected permission page payload.");return g}const GS="/api/v1/workspaces/{workspace_id}/default";async function XS(e){await Be.PUT(GS,{params:{path:{workspace_id:e}}})}function JS(){const e=ft();return sn({mutationFn:$S,onSuccess(n){e.setQueryData(Zt.detail(n.id),n),e.getQueriesData({queryKey:Zt.all()}).forEach(([r,i])=>{if(!Array.isArray(r)||r[0]!=="workspaces"||r[1]!=="list"||!i)return;const o=i.items.findIndex(g=>g.id===n.id),d=[...o>=0?i.items.map(g=>g.id===n.id?n:g):[...i.items,n]].sort((g,x)=>g.name.localeCompare(x.name)),h=typeof i.total=="number"&&o===-1?i.total+1:i.total;e.setQueryData(r,{...i,items:d,total:h})}),e.invalidateQueries({queryKey:Zt.all()})}})}function eE(e,n){if(!e||typeof e!="object")return e;if("items"in e){const r=e;if(!Array.isArray(r.items))return e;const i=r.items.map(o=>({...o,is_default:o.id===n}));return{...r,items:i}}if("id"in e&&"is_default"in e){const r=e;return{...r,is_default:r.id===n}}return e}function bv(){const e=ft();return sn({mutationFn:n=>XS(n),onSuccess:(n,r)=>{e.setQueriesData({queryKey:Zt.all()},i=>eE(i,r))}})}function tE(e){const n=ft();return sn({mutationFn:r=>qS(e,r),onSuccess:r=>{n.setQueryData(Zt.detail(r.id),r),n.getQueriesData({queryKey:Zt.all()}).forEach(([i,o])=>{if(!Array.isArray(i)||i[0]!=="workspaces"||i[1]!=="list"||!o)return;const d=[...o.items.map(h=>h.id===r.id?r:h)].sort((h,g)=>h.name.localeCompare(g.name));n.setQueryData(i,{...o,items:d})})}})}function nE(e={}){const n=e.page??Mc.page,r=e.pageSize??Mc.pageSize,i=e.includeTotal??Mc.includeTotal;return{queryKey:Zt.list({page:n,pageSize:r,includeTotal:i}),queryFn:({signal:o})=>BS({page:n,pageSize:r,includeTotal:i,signal:o}),staleTime:6e4,enabled:e.enabled??!0}}function Ch(e={}){const n=ft(),r=nE(e),i=n.getQueryData(r.queryKey);return zn({...r,initialData:i})}const sE="documents";function _h(e){return`/workspaces/${e}/${sE}`}function Tf(e){return e instanceof Error?e:new Error(String(e))}function Ws(e){return{get(){if(typeof window>"u")return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.warn("Failed to read from storage",Tf(n)),null}},set(n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn("Failed to write to storage",Tf(r))}},clear(){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch(n){console.warn("Failed to clear storage",Tf(n))}}}}const rE="backend.app.active_workspace",Gf=Ws(rE);function aE(){return Gf.get()}function vv(e){if(!e){Gf.clear();return}Gf.set(e)}function yv(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=yv(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function me(){for(var e,n,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=yv(e))&&(i&&(i+=" "),i+=n);return i}const iE={primary:"bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-500 disabled:bg-brand-300",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400 disabled:text-slate-400",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-300",danger:"bg-rose-600 text-white hover:bg-rose-700 focus-visible:ring-rose-500 disabled:bg-rose-300"},lE={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},_e=p.forwardRef(({type:e="button",variant:n="primary",size:r="md",isLoading:i=!1,className:o,children:u,disabled:d,...h},g)=>{const x=d||i;return l.jsxs("button",{ref:g,type:e,disabled:x,"aria-busy":i||void 0,className:me("inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed",iE[n],lE[r],o),...h,children:[i?l.jsx("span",{"aria-hidden":"true",className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,l.jsx("span",{children:u})]})});_e.displayName="Button";const oE={loading:"animate-spin border-2 border-brand-500 border-t-transparent",empty:"bg-slate-200",error:"bg-danger-500"};function dt({title:e,description:n,action:r,variant:i="empty",className:o}){return l.jsxs("div",{className:me("flex min-h-[240px] flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-white/70 px-6 py-12 text-center text-sm text-slate-600",o),children:[l.jsx("span",{"aria-hidden":"true",className:me("mb-4 h-8 w-8 rounded-full border-current",oE[i])}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"mt-2 max-w-md leading-relaxed",children:n}):null,r?l.jsx("div",{className:"mt-4",children:r}):null]})}function cE(){return l.jsx(tu,{children:l.jsx(uE,{})})}function uE(){const e=Fn(),n=It(),r=Ri(),i=Ch(),o=i.data?.items??[],h=[aE(),r.user.preferred_workspace_id].filter(g=>!!g).map(g=>o.find(x=>x.id===g)).find(g=>!!g)??o[0]??null;return p.useEffect(()=>{if(i.isLoading||i.isError)return;if(!h){e.pathname!=="/workspaces"&&n("/workspaces",{replace:!0});return}const g=_h(h.id);e.pathname+e.search!==g&&n(g,{replace:!0})},[e.pathname,e.search,n,h,i.isError,i.isLoading]),i.isLoading?l.jsx(dt,{title:"Loading workspaces",variant:"loading"}):i.isError?l.jsx(dt,{title:"Unable to load workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})}):null}function ve(e,n,r){function i(h,g){var x;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(x=h._zod).traits??(x.traits=new Set),h._zod.traits.add(e),n(h,g);for(const b in d.prototype)b in h||Object.defineProperty(h,b,{value:d.prototype[b].bind(h)});h._zod.constr=d,h._zod.def=g}const o=r?.Parent??Object;class u extends o{}Object.defineProperty(u,"name",{value:e});function d(h){var g;const x=r?.Parent?new u:this;i(x,h),(g=x._zod).deferred??(g.deferred=[]);for(const b of x._zod.deferred)b();return x}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class _i extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class wv extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const jv={};function ka(e){return jv}function dE(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,o])=>n.indexOf(+i)===-1).map(([i,o])=>o)}function Xf(e,n){return typeof n=="bigint"?n.toString():n}function kh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Th(e){return e==null}function Ah(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}const s0=Symbol("evaluating");function Ct(e,n,r){let i;Object.defineProperty(e,n,{get(){if(i!==s0)return i===void 0&&(i=s0,i=r()),i},set(o){Object.defineProperty(e,n,{value:o})},configurable:!0})}function Aa(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Da(...e){const n={};for(const r of e){const i=Object.getOwnPropertyDescriptors(r);Object.assign(n,i)}return Object.defineProperties({},n)}function r0(e){return JSON.stringify(e)}const Sv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Hc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fE=kh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Wl(e){if(Hc(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(Hc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Ev(e){return Wl(e)?{...e}:Array.isArray(e)?[...e]:e}const hE=new Set(["string","number","symbol"]);function su(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jr(e,n,r){const i=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(i._zod.parent=e),i}function Fe(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function mE(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function pE(e,n){const r=e._zod.def,i=Da(e._zod.def,{get shape(){const o={};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=r.shape[u])}return Aa(this,"shape",o),o},checks:[]});return Jr(e,i)}function gE(e,n){const r=e._zod.def,i=Da(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const u in n){if(!(u in r.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete o[u]}return Aa(this,"shape",o),o},checks:[]});return Jr(e,i)}function xE(e,n){if(!Wl(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Da(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Aa(this,"shape",u),u},checks:[]});return Jr(e,o)}function bE(e,n){if(!Wl(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Aa(this,"shape",i),i},checks:e._zod.def.checks};return Jr(e,r)}function vE(e,n){const r=Da(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Aa(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return Jr(e,r)}function yE(e,n,r){const i=Da(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(r)for(const d in r){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)u[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return Aa(this,"shape",u),u},checks:[]});return Jr(n,i)}function wE(e,n,r){const i=Da(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(r)for(const d in r){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(u[d]=new e({type:"nonoptional",innerType:o[d]}))}else for(const d in o)u[d]=new e({type:"nonoptional",innerType:o[d]});return Aa(this,"shape",u),u},checks:[]});return Jr(n,i)}function Ci(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Nv(e,n){return n.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(e),r})}function jc(e){return typeof e=="string"?e:e?.message}function Ta(e,n,r){const i={...e,path:e.path??[]};if(!e.message){const o=jc(e.inst?._zod.def?.error?.(e))??jc(n?.error?.(e))??jc(r.customError?.(e))??jc(r.localeError?.(e))??"Invalid input";i.message=o}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function Dh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Pl(...e){const[n,r,i]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:i}:{...n}}const Cv=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Xf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Mh=ve("$ZodError",Cv),ru=ve("$ZodError",Cv,{Parent:Error});function jE(e,n=r=>r.message){const r={},i=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:r}}function SE(e,n=r=>r.message){const r={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)r._errors.push(n(u));else{let d=r,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(u))):d[g]=d[g]||{_errors:[]},d=d[g],h++}}};return i(e),r}const au=e=>(n,r,i,o)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise)throw new _i;if(d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>Ta(g,u,ka())));throw Sv(h,o?.callee),h}return d.value},EE=au(ru),iu=e=>async(n,r,i,o)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(o?.Err??e)(d.issues.map(g=>Ta(g,u,ka())));throw Sv(h,o?.callee),h}return d.value},NE=iu(ru),lu=e=>(n,r,i)=>{const o=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:r,issues:[]},o);if(u instanceof Promise)throw new _i;return u.issues.length?{success:!1,error:new(e??Mh)(u.issues.map(d=>Ta(d,o,ka())))}:{success:!0,data:u.value}},CE=lu(ru),ou=e=>async(n,r,i)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},o);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>Ta(d,o,ka())))}:{success:!0,data:u.value}},_E=ou(ru),kE=e=>(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return au(e)(n,r,o)},TE=e=>(n,r,i)=>au(e)(n,r,i),AE=e=>async(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return iu(e)(n,r,o)},DE=e=>async(n,r,i)=>iu(e)(n,r,i),ME=e=>(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return lu(e)(n,r,o)},RE=e=>(n,r,i)=>lu(e)(n,r,i),zE=e=>async(n,r,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ou(e)(n,r,o)},OE=e=>async(n,r,i)=>ou(e)(n,r,i),LE=/^[cC][^\s-]{8,}$/,UE=/^[0-9a-z]+$/,BE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$E=/^[0-9a-vA-V]{20}$/,qE=/^[A-Za-z0-9]{27}$/,FE=/^[a-zA-Z0-9_-]{21}$/,HE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ZE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,VE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function QE(){return new RegExp(VE,"u")}const WE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,KE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,YE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_v=/^[A-Za-z0-9_-]*$/,XE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,JE=/^\+(?:[0-9]){6,14}[0-9]$/,kv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",eN=new RegExp(`^${kv}$`);function Tv(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tN(e){return new RegExp(`^${Tv(e)}$`)}function nN(e){const n=Tv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${r.join("|")})`;return new RegExp(`^${kv}T(?:${i})$`)}const sN=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},rN=/^[^A-Z]*$/,aN=/^[^a-z]*$/,Ks=ve("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),iN=ve("$ZodCheckMaxLength",(e,n)=>{var r;Ks.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const o=i.value;if(o.length<=n.maximum)return;const d=Dh(o);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),lN=ve("$ZodCheckMinLength",(e,n)=>{var r;Ks.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const o=i.value;if(o.length>=n.minimum)return;const d=Dh(o);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),oN=ve("$ZodCheckLengthEquals",(e,n)=>{var r;Ks.init(e,n),(r=e._zod.def).when??(r.when=i=>{const o=i.value;return!Th(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),e._zod.check=i=>{const o=i.value,u=o.length;if(u===n.length)return;const d=Dh(o),h=u>n.length;i.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),cu=ve("$ZodCheckStringFormat",(e,n)=>{var r,i;Ks.init(e,n),e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),cN=ve("$ZodCheckRegex",(e,n)=>{cu.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),uN=ve("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=rN),cu.init(e,n)}),dN=ve("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=aN),cu.init(e,n)}),fN=ve("$ZodCheckIncludes",(e,n)=>{Ks.init(e,n);const r=su(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(o=>{const u=o._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:e,continue:!n.abort})}}),hN=ve("$ZodCheckStartsWith",(e,n)=>{Ks.init(e,n);const r=new RegExp(`^${su(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),mN=ve("$ZodCheckEndsWith",(e,n)=>{Ks.init(e,n);const r=new RegExp(`.*${su(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),pN=ve("$ZodCheckOverwrite",(e,n)=>{Ks.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class gN{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),o=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(o)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,r=this?.args,o=[...(this?.content??[""]).map(u=>`  ${u}`)];return new n(...r,o.join(`
`))}}const xN={major:4,minor:1,patch:12},un=ve("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=xN;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const u of o._zod.onattach)u(e);if(i.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,h,g)=>{let x=Ci(d),b;for(const v of h){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(x)continue;const w=d.issues.length,E=v._zod.check(d);if(E instanceof Promise&&g?.async===!1)throw new _i;if(b||E instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await E,d.issues.length!==w&&(x||(x=Ci(d,w)))});else{if(d.issues.length===w)continue;x||(x=Ci(d,w))}}return b?b.then(()=>d):d},u=(d,h,g)=>{if(Ci(d))return d.aborted=!0,d;const x=o(h,i,g);if(x instanceof Promise){if(g.async===!1)throw new _i;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(d,h)=>{if(h.skipChecks)return e._zod.parse(d,h);if(h.direction==="backward"){const x=e._zod.parse({value:d.value,issues:[]},{...h,skipChecks:!0});return x instanceof Promise?x.then(b=>u(b,d,h)):u(x,d,h)}const g=e._zod.parse(d,h);if(g instanceof Promise){if(h.async===!1)throw new _i;return g.then(x=>o(x,i,h))}return o(g,i,h)}}e["~standard"]={validate:o=>{try{const u=CE(e,o);return u.success?{value:u.data}:{issues:u.error?.issues}}catch{return _E(e,o).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),Rh=ve("$ZodString",(e,n)=>{un.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??sN(e._zod.bag),e._zod.parse=(r,i)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Lt=ve("$ZodStringFormat",(e,n)=>{cu.init(e,n),Rh.init(e,n)}),bN=ve("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=ZE),Lt.init(e,n)}),vN=ve("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=a0(i))}else n.pattern??(n.pattern=a0());Lt.init(e,n)}),yN=ve("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=IE),Lt.init(e,n)}),wN=ve("$ZodURL",(e,n)=>{Lt.init(e,n),e._zod.check=r=>{try{const i=r.value.trim(),o=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:XE.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=o.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),jN=ve("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=QE()),Lt.init(e,n)}),SN=ve("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=FE),Lt.init(e,n)}),EN=ve("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=LE),Lt.init(e,n)}),NN=ve("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=UE),Lt.init(e,n)}),CN=ve("$ZodULID",(e,n)=>{n.pattern??(n.pattern=BE),Lt.init(e,n)}),_N=ve("$ZodXID",(e,n)=>{n.pattern??(n.pattern=$E),Lt.init(e,n)}),kN=ve("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=qE),Lt.init(e,n)}),TN=ve("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=nN(n)),Lt.init(e,n)}),AN=ve("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=eN),Lt.init(e,n)}),DN=ve("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=tN(n)),Lt.init(e,n)}),MN=ve("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=HE),Lt.init(e,n)}),RN=ve("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=WE),Lt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv4"})}),zN=ve("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=PE),Lt.init(e,n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),ON=ve("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=KE),Lt.init(e,n)}),LN=ve("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=YE),Lt.init(e,n),e._zod.check=r=>{const i=r.value.split("/");try{if(i.length!==2)throw new Error;const[o,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function Av(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const UN=ve("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=GE),Lt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Av(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function BN(e){if(!_v.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return Av(r)}const $N=ve("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=_v),Lt.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{BN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),qN=ve("$ZodE164",(e,n)=>{n.pattern??(n.pattern=JE),Lt.init(e,n)});function FN(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[i]=r;if(!i)return!1;const o=JSON.parse(atob(i));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const HN=ve("$ZodJWT",(e,n)=>{Lt.init(e,n),e._zod.check=r=>{FN(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),ZN=ve("$ZodUnknown",(e,n)=>{un.init(e,n),e._zod.parse=r=>r}),IN=ve("$ZodNever",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function i0(e,n,r){e.issues.length&&n.issues.push(...Nv(r,e.issues)),n.value[r]=e.value}const VN=ve("$ZodArray",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const u=[];for(let d=0;d<o.length;d++){const h=o[d],g=n.element._zod.run({value:h,issues:[]},i);g instanceof Promise?u.push(g.then(x=>i0(x,r,d))):i0(g,r,d)}return u.length?Promise.all(u).then(()=>r):r}});function Zc(e,n,r,i){e.issues.length&&n.issues.push(...Nv(r,e.issues)),e.value===void 0?r in i&&(n.value[r]=void 0):n.value[r]=e.value}function Dv(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const r=mE(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function Mv(e,n,r,i,o,u){const d=[],h=o.keySet,g=o.catchall._zod,x=g.def.type;for(const b of Object.keys(n)){if(h.has(b))continue;if(x==="never"){d.push(b);continue}const v=g.run({value:n[b],issues:[]},i);v instanceof Promise?e.push(v.then(w=>Zc(w,r,b,n))):Zc(v,r,b,n)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>r):r}const QN=ve("$ZodObject",(e,n)=>{if(un.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const h=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...h};return Object.defineProperty(n,"shape",{value:g}),g}})}const i=kh(()=>Dv(n));Ct(e._zod,"propValues",()=>{const h=n.shape,g={};for(const x in h){const b=h[x]._zod;if(b.values){g[x]??(g[x]=new Set);for(const v of b.values)g[x].add(v)}}return g});const o=Hc,u=n.catchall;let d;e._zod.parse=(h,g)=>{d??(d=i.value);const x=h.value;if(!o(x))return h.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),h;h.value={};const b=[],v=d.shape;for(const w of d.keys){const N=v[w]._zod.run({value:x[w],issues:[]},g);N instanceof Promise?b.push(N.then(j=>Zc(j,h,w,x))):Zc(N,h,w,x)}return u?Mv(b,x,h,g,i.value,e):b.length?Promise.all(b).then(()=>h):h}}),WN=ve("$ZodObjectJIT",(e,n)=>{QN.init(e,n);const r=e._zod.parse,i=kh(()=>Dv(n)),o=w=>{const E=new gN(["shape","payload","ctx"]),N=i.value,j=z=>{const L=r0(z);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};E.write("const input = payload.value;");const _=Object.create(null);let T=0;for(const z of N.keys)_[z]=`key_${T++}`;E.write("const newResult = {};");for(const z of N.keys){const L=_[z],O=r0(z);E.write(`const ${L} = ${j(z)};`),E.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${L}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${L}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const C=E.compile();return(z,L)=>C(w,z,L)};let u;const d=Hc,h=!jv.jitless,x=h&&fE.value,b=n.catchall;let v;e._zod.parse=(w,E)=>{v??(v=i.value);const N=w.value;return d(N)?h&&x&&E?.async===!1&&E.jitless!==!0?(u||(u=o(n.shape)),w=u(w,E),b?Mv([],N,w,E,v,e):w):r(w,E):(w.issues.push({expected:"object",code:"invalid_type",input:N,inst:e}),w)}});function l0(e,n,r,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const o=e.filter(u=>!Ci(u));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(u=>u.issues.map(d=>Ta(d,i,ka())))}),n)}const PN=ve("$ZodUnion",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Ct(e._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Ct(e._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),Ct(e._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${o.map(u=>Ah(u.source)).join("|")})$`)}});const r=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(o,u)=>{if(r)return i(o,u);let d=!1;const h=[];for(const g of n.options){const x=g._zod.run({value:o.value,issues:[]},u);if(x instanceof Promise)h.push(x),d=!0;else{if(x.issues.length===0)return x;h.push(x)}}return d?Promise.all(h).then(g=>l0(g,o,e,u)):l0(h,o,e,u)}}),KN=ve("$ZodIntersection",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{const o=r.value,u=n.left._zod.run({value:o,issues:[]},i),d=n.right._zod.run({value:o,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([g,x])=>o0(r,g,x)):o0(r,u,d)}});function Jf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Wl(e)&&Wl(n)){const r=Object.keys(n),i=Object.keys(e).filter(u=>r.indexOf(u)!==-1),o={...e,...n};for(const u of i){const d=Jf(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};o[u]=d.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let i=0;i<e.length;i++){const o=e[i],u=n[i],d=Jf(o,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function o0(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Ci(e))return e;const i=Jf(n.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const YN=ve("$ZodEnum",(e,n)=>{un.init(e,n);const r=dE(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(o=>hE.has(typeof o)).map(o=>typeof o=="string"?su(o):o.toString()).join("|")})$`),e._zod.parse=(o,u)=>{const d=o.value;return i.has(d)||o.issues.push({code:"invalid_value",values:r,input:d,inst:e}),o}}),GN=ve("$ZodTransform",(e,n)=>{un.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new wv(e.constructor.name);const o=n.transform(r.value,r);if(i.async)return(o instanceof Promise?o:Promise.resolve(o)).then(d=>(r.value=d,r));if(o instanceof Promise)throw new _i;return r.value=o,r}});function c0(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const XN=ve("$ZodOptional",(e,n)=>{un.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Ct(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Ct(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ah(r.source)})?$`):void 0}),e._zod.parse=(r,i)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>c0(u,r.value)):c0(o,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,i)}}),JN=ve("$ZodNullable",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),Ct(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ah(r.source)}|null)$`):void 0}),Ct(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,i)=>r.value===null?r:n.innerType._zod.run(r,i)}),eC=ve("$ZodDefault",(e,n)=>{un.init(e,n),e._zod.optin="optional",Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);if(r.value===void 0)return r.value=n.defaultValue,r;const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>u0(u,n)):u0(o,n)}});function u0(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const tC=ve("$ZodPrefault",(e,n)=>{un.init(e,n),e._zod.optin="optional",Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,i))}),nC=ve("$ZodNonOptional",(e,n)=>{un.init(e,n),Ct(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),e._zod.parse=(r,i)=>{const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>d0(u,e)):d0(o,e)}});function d0(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const sC=ve("$ZodCatch",(e,n)=>{un.init(e,n),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),Ct(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(u=>(r.value=u.value,u.issues.length&&(r.value=n.catchValue({...r,error:{issues:u.issues.map(d=>Ta(d,i,ka()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=n.catchValue({...r,error:{issues:o.issues.map(u=>Ta(u,i,ka()))},input:r.value}),r.issues=[]),r)}}),rC=ve("$ZodPipe",(e,n)=>{un.init(e,n),Ct(e._zod,"values",()=>n.in._zod.values),Ct(e._zod,"optin",()=>n.in._zod.optin),Ct(e._zod,"optout",()=>n.out._zod.optout),Ct(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(r,i);return u instanceof Promise?u.then(d=>Sc(d,n.in,i)):Sc(u,n.in,i)}const o=n.in._zod.run(r,i);return o instanceof Promise?o.then(u=>Sc(u,n.out,i)):Sc(o,n.out,i)}});function Sc(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const aC=ve("$ZodReadonly",(e,n)=>{un.init(e,n),Ct(e._zod,"propValues",()=>n.innerType._zod.propValues),Ct(e._zod,"values",()=>n.innerType._zod.values),Ct(e._zod,"optin",()=>n.innerType._zod.optin),Ct(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,i)=>{if(i.direction==="backward")return n.innerType._zod.run(r,i);const o=n.innerType._zod.run(r,i);return o instanceof Promise?o.then(f0):f0(o)}});function f0(e){return e.value=Object.freeze(e.value),e}const iC=ve("$ZodCustom",(e,n)=>{Ks.init(e,n),un.init(e,n),e._zod.parse=(r,i)=>r,e._zod.check=r=>{const i=r.value,o=n.fn(i);if(o instanceof Promise)return o.then(u=>h0(u,r,i,e));h0(o,r,i,e)}});function h0(e,n,r,i){if(!e){const o={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(o.params=i._zod.def.params),n.issues.push(Pl(o))}}class lC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const i=r[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const i={...this.get(r)??{}};delete i.id;const o={...i,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function oC(){return new lC}const Ec=oC();function cC(e,n){return new e({type:"string",...Fe(n)})}function uC(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Fe(n)})}function m0(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(n)})}function dC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(n)})}function fC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(n)})}function hC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(n)})}function mC(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(n)})}function pC(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Fe(n)})}function gC(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(n)})}function xC(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(n)})}function bC(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(n)})}function vC(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(n)})}function yC(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(n)})}function wC(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(n)})}function jC(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(n)})}function SC(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(n)})}function EC(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(n)})}function NC(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(n)})}function CC(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(n)})}function _C(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(n)})}function kC(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(n)})}function TC(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(n)})}function AC(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(n)})}function DC(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(n)})}function MC(e,n){return new e({type:"string",format:"date",check:"string_format",...Fe(n)})}function RC(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...Fe(n)})}function zC(e,n){return new e({type:"string",format:"duration",check:"string_format",...Fe(n)})}function OC(e){return new e({type:"unknown"})}function LC(e,n){return new e({type:"never",...Fe(n)})}function Rv(e,n){return new iN({check:"max_length",...Fe(n),maximum:e})}function Ic(e,n){return new lN({check:"min_length",...Fe(n),minimum:e})}function zv(e,n){return new oN({check:"length_equals",...Fe(n),length:e})}function UC(e,n){return new cN({check:"string_format",format:"regex",...Fe(n),pattern:e})}function BC(e){return new uN({check:"string_format",format:"lowercase",...Fe(e)})}function $C(e){return new dN({check:"string_format",format:"uppercase",...Fe(e)})}function qC(e,n){return new fN({check:"string_format",format:"includes",...Fe(n),includes:e})}function FC(e,n){return new hN({check:"string_format",format:"starts_with",...Fe(n),prefix:e})}function HC(e,n){return new mN({check:"string_format",format:"ends_with",...Fe(n),suffix:e})}function no(e){return new pN({check:"overwrite",tx:e})}function ZC(e){return no(n=>n.normalize(e))}function IC(){return no(e=>e.trim())}function VC(){return no(e=>e.toLowerCase())}function QC(){return no(e=>e.toUpperCase())}function WC(e,n,r){return new e({type:"array",element:n,...Fe(r)})}function PC(e,n,r){return new e({type:"custom",check:"custom",fn:n,...Fe(r)})}function KC(e){const n=YC(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Pl(i,r.value,n._zod.def));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),r.issues.push(Pl(o))}},e(r.value,r)));return n}function YC(e,n){const r=new Ks({check:"custom",...Fe(n)});return r._zod.check=e,r}const GC=ve("ZodISODateTime",(e,n)=>{TN.init(e,n),$t.init(e,n)});function XC(e){return DC(GC,e)}const JC=ve("ZodISODate",(e,n)=>{AN.init(e,n),$t.init(e,n)});function e_(e){return MC(JC,e)}const t_=ve("ZodISOTime",(e,n)=>{DN.init(e,n),$t.init(e,n)});function n_(e){return RC(t_,e)}const s_=ve("ZodISODuration",(e,n)=>{MN.init(e,n),$t.init(e,n)});function r_(e){return zC(s_,e)}const a_=(e,n)=>{Mh.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>SE(e,r)},flatten:{value:r=>jE(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Xf,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Xf,2)}},isEmpty:{get(){return e.issues.length===0}}})},ys=ve("ZodError",a_,{Parent:Error}),i_=au(ys),l_=iu(ys),o_=lu(ys),c_=ou(ys),u_=kE(ys),d_=TE(ys),f_=AE(ys),h_=DE(ys),m_=ME(ys),p_=RE(ys),g_=zE(ys),x_=OE(ys),xn=ve("ZodType",(e,n)=>(un.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(Da(n,{checks:[...n.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(r,i)=>Jr(e,r,i),e.brand=()=>e,e.register=((r,i)=>(r.add(e,i),e)),e.parse=(r,i)=>i_(e,r,i,{callee:e.parse}),e.safeParse=(r,i)=>o_(e,r,i),e.parseAsync=async(r,i)=>l_(e,r,i,{callee:e.parseAsync}),e.safeParseAsync=async(r,i)=>c_(e,r,i),e.spa=e.safeParseAsync,e.encode=(r,i)=>u_(e,r,i),e.decode=(r,i)=>d_(e,r,i),e.encodeAsync=async(r,i)=>f_(e,r,i),e.decodeAsync=async(r,i)=>h_(e,r,i),e.safeEncode=(r,i)=>m_(e,r,i),e.safeDecode=(r,i)=>p_(e,r,i),e.safeEncodeAsync=async(r,i)=>g_(e,r,i),e.safeDecodeAsync=async(r,i)=>x_(e,r,i),e.refine=(r,i)=>e.check(lk(r,i)),e.superRefine=r=>e.check(ok(r)),e.overwrite=r=>e.check(no(r)),e.optional=()=>x0(e),e.nullable=()=>b0(e),e.nullish=()=>x0(b0(e)),e.nonoptional=r=>ek(e,r),e.array=()=>q_(e),e.or=r=>Z_([e,r]),e.and=r=>V_(e,r),e.transform=r=>v0(e,P_(r)),e.default=r=>G_(e,r),e.prefault=r=>J_(e,r),e.catch=r=>nk(e,r),e.pipe=r=>v0(e,r),e.readonly=()=>ak(e),e.describe=r=>{const i=e.clone();return Ec.add(i,{description:r}),i},Object.defineProperty(e,"description",{get(){return Ec.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Ec.get(e);const i=e.clone();return Ec.add(i,r[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Ov=ve("_ZodString",(e,n)=>{Rh.init(e,n),xn.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...i)=>e.check(UC(...i)),e.includes=(...i)=>e.check(qC(...i)),e.startsWith=(...i)=>e.check(FC(...i)),e.endsWith=(...i)=>e.check(HC(...i)),e.min=(...i)=>e.check(Ic(...i)),e.max=(...i)=>e.check(Rv(...i)),e.length=(...i)=>e.check(zv(...i)),e.nonempty=(...i)=>e.check(Ic(1,...i)),e.lowercase=i=>e.check(BC(i)),e.uppercase=i=>e.check($C(i)),e.trim=()=>e.check(IC()),e.normalize=(...i)=>e.check(ZC(...i)),e.toLowerCase=()=>e.check(VC()),e.toUpperCase=()=>e.check(QC())}),b_=ve("ZodString",(e,n)=>{Rh.init(e,n),Ov.init(e,n),e.email=r=>e.check(uC(v_,r)),e.url=r=>e.check(pC(y_,r)),e.jwt=r=>e.check(AC(O_,r)),e.emoji=r=>e.check(gC(w_,r)),e.guid=r=>e.check(m0(p0,r)),e.uuid=r=>e.check(dC(Nc,r)),e.uuidv4=r=>e.check(fC(Nc,r)),e.uuidv6=r=>e.check(hC(Nc,r)),e.uuidv7=r=>e.check(mC(Nc,r)),e.nanoid=r=>e.check(xC(j_,r)),e.guid=r=>e.check(m0(p0,r)),e.cuid=r=>e.check(bC(S_,r)),e.cuid2=r=>e.check(vC(E_,r)),e.ulid=r=>e.check(yC(N_,r)),e.base64=r=>e.check(_C(M_,r)),e.base64url=r=>e.check(kC(R_,r)),e.xid=r=>e.check(wC(C_,r)),e.ksuid=r=>e.check(jC(__,r)),e.ipv4=r=>e.check(SC(k_,r)),e.ipv6=r=>e.check(EC(T_,r)),e.cidrv4=r=>e.check(NC(A_,r)),e.cidrv6=r=>e.check(CC(D_,r)),e.e164=r=>e.check(TC(z_,r)),e.datetime=r=>e.check(XC(r)),e.date=r=>e.check(e_(r)),e.time=r=>e.check(n_(r)),e.duration=r=>e.check(r_(r))});function Ds(e){return cC(b_,e)}const $t=ve("ZodStringFormat",(e,n)=>{Lt.init(e,n),Ov.init(e,n)}),v_=ve("ZodEmail",(e,n)=>{yN.init(e,n),$t.init(e,n)}),p0=ve("ZodGUID",(e,n)=>{bN.init(e,n),$t.init(e,n)}),Nc=ve("ZodUUID",(e,n)=>{vN.init(e,n),$t.init(e,n)}),y_=ve("ZodURL",(e,n)=>{wN.init(e,n),$t.init(e,n)}),w_=ve("ZodEmoji",(e,n)=>{jN.init(e,n),$t.init(e,n)}),j_=ve("ZodNanoID",(e,n)=>{SN.init(e,n),$t.init(e,n)}),S_=ve("ZodCUID",(e,n)=>{EN.init(e,n),$t.init(e,n)}),E_=ve("ZodCUID2",(e,n)=>{NN.init(e,n),$t.init(e,n)}),N_=ve("ZodULID",(e,n)=>{CN.init(e,n),$t.init(e,n)}),C_=ve("ZodXID",(e,n)=>{_N.init(e,n),$t.init(e,n)}),__=ve("ZodKSUID",(e,n)=>{kN.init(e,n),$t.init(e,n)}),k_=ve("ZodIPv4",(e,n)=>{RN.init(e,n),$t.init(e,n)}),T_=ve("ZodIPv6",(e,n)=>{zN.init(e,n),$t.init(e,n)}),A_=ve("ZodCIDRv4",(e,n)=>{ON.init(e,n),$t.init(e,n)}),D_=ve("ZodCIDRv6",(e,n)=>{LN.init(e,n),$t.init(e,n)}),M_=ve("ZodBase64",(e,n)=>{UN.init(e,n),$t.init(e,n)}),R_=ve("ZodBase64URL",(e,n)=>{$N.init(e,n),$t.init(e,n)}),z_=ve("ZodE164",(e,n)=>{qN.init(e,n),$t.init(e,n)}),O_=ve("ZodJWT",(e,n)=>{HN.init(e,n),$t.init(e,n)}),L_=ve("ZodUnknown",(e,n)=>{ZN.init(e,n),xn.init(e,n)});function g0(){return OC(L_)}const U_=ve("ZodNever",(e,n)=>{IN.init(e,n),xn.init(e,n)});function B_(e){return LC(U_,e)}const $_=ve("ZodArray",(e,n)=>{VN.init(e,n),xn.init(e,n),e.element=n.element,e.min=(r,i)=>e.check(Ic(r,i)),e.nonempty=r=>e.check(Ic(1,r)),e.max=(r,i)=>e.check(Rv(r,i)),e.length=(r,i)=>e.check(zv(r,i)),e.unwrap=()=>e.element});function q_(e,n){return WC($_,e,n)}const F_=ve("ZodObject",(e,n)=>{WN.init(e,n),xn.init(e,n),Ct(e,"shape",()=>n.shape),e.keyof=()=>Q_(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:g0()}),e.loose=()=>e.clone({...e._zod.def,catchall:g0()}),e.strict=()=>e.clone({...e._zod.def,catchall:B_()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>xE(e,r),e.safeExtend=r=>bE(e,r),e.merge=r=>vE(e,r),e.pick=r=>pE(e,r),e.omit=r=>gE(e,r),e.partial=(...r)=>yE(Lv,e,r[0]),e.required=(...r)=>wE(Uv,e,r[0])});function uu(e,n){const r={type:"object",shape:e??{},...Fe(n)};return new F_(r)}const H_=ve("ZodUnion",(e,n)=>{PN.init(e,n),xn.init(e,n),e.options=n.options});function Z_(e,n){return new H_({type:"union",options:e,...Fe(n)})}const I_=ve("ZodIntersection",(e,n)=>{KN.init(e,n),xn.init(e,n)});function V_(e,n){return new I_({type:"intersection",left:e,right:n})}const eh=ve("ZodEnum",(e,n)=>{YN.init(e,n),xn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(i,o)=>{const u={};for(const d of i)if(r.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new eh({...n,checks:[],...Fe(o),entries:u})},e.exclude=(i,o)=>{const u={...n.entries};for(const d of i)if(r.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new eh({...n,checks:[],...Fe(o),entries:u})}});function Q_(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new eh({type:"enum",entries:r,...Fe(n)})}const W_=ve("ZodTransform",(e,n)=>{GN.init(e,n),xn.init(e,n),e._zod.parse=(r,i)=>{if(i.direction==="backward")throw new wv(e.constructor.name);r.addIssue=u=>{if(typeof u=="string")r.issues.push(Pl(u,r.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=e),r.issues.push(Pl(d))}};const o=n.transform(r.value,r);return o instanceof Promise?o.then(u=>(r.value=u,r)):(r.value=o,r)}});function P_(e){return new W_({type:"transform",transform:e})}const Lv=ve("ZodOptional",(e,n)=>{XN.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function x0(e){return new Lv({type:"optional",innerType:e})}const K_=ve("ZodNullable",(e,n)=>{JN.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function b0(e){return new K_({type:"nullable",innerType:e})}const Y_=ve("ZodDefault",(e,n)=>{eC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function G_(e,n){return new Y_({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Ev(n)}})}const X_=ve("ZodPrefault",(e,n)=>{tC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function J_(e,n){return new X_({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Ev(n)}})}const Uv=ve("ZodNonOptional",(e,n)=>{nC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function ek(e,n){return new Uv({type:"nonoptional",innerType:e,...Fe(n)})}const tk=ve("ZodCatch",(e,n)=>{sC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function nk(e,n){return new tk({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const sk=ve("ZodPipe",(e,n)=>{rC.init(e,n),xn.init(e,n),e.in=n.in,e.out=n.out});function v0(e,n){return new sk({type:"pipe",in:e,out:n})}const rk=ve("ZodReadonly",(e,n)=>{aC.init(e,n),xn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function ak(e){return new rk({type:"readonly",innerType:e})}const ik=ve("ZodCustom",(e,n)=>{iC.init(e,n),xn.init(e,n)});function lk(e,n={}){return PC(ik,e,n)}function ok(e){return KC(e)}function ck(){return zn({queryKey:Ms.providers(),queryFn:({signal:e})=>xS({signal:e}),staleTime:6e5,retry:!1,refetchOnWindowFocus:!1})}const uk={info:"bg-brand-50 text-brand-700 ring-brand-100",success:"bg-success-50 text-success-700 ring-success-100",warning:"bg-warning-50 text-warning-700 ring-warning-100",danger:"bg-danger-50 text-danger-700 ring-danger-100"};function nt({tone:e="info",heading:n,icon:r,className:i,children:o,...u}){return l.jsxs("div",{role:"status",className:me("flex w-full items-start gap-3 rounded-lg px-4 py-3 text-sm ring-1 ring-inset",uk[e],i),...u,children:[r?l.jsx("span",{"aria-hidden":"true",children:r}):null,l.jsxs("div",{className:"space-y-1",children:[n?l.jsx("p",{className:"font-semibold",children:n}):null,o?l.jsx("p",{className:"leading-relaxed",children:o}):null]})]})}function yt({label:e,hint:n,error:r,required:i=!1,children:o,className:u}){const d=p.useId(),h=p.isValidElement(o)?o.props??{}:{},g=h.id??d,x=n?`${g}-hint`:void 0,b=r?`${g}-error`:void 0,v=[x,b,h["aria-describedby"]].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:me("space-y-2",u),children:[e?l.jsxs("label",{htmlFor:g,className:"text-sm font-medium text-slate-700","aria-required":i||void 0,children:[e,i?l.jsx("span",{className:"ml-1 text-danger-600","aria-hidden":"true",children:"*"}):null]}):null,p.isValidElement(o)?p.cloneElement(o,{id:g,required:i||h.required,"aria-describedby":v,"aria-invalid":r?!0:h["aria-invalid"]}):o,n?l.jsx("p",{id:x,className:"text-xs text-slate-500",children:n}):null,r?l.jsx("p",{id:b,className:"text-xs font-medium text-danger-600",children:r}):null]})}const Bv="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",pt=p.forwardRef(({className:e,invalid:n=!1,...r},i)=>l.jsx("input",{ref:i,className:me(Bv,n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...r}));pt.displayName="Input";const dk=p.forwardRef(({className:e,invalid:n=!1,rows:r=4,...i},o)=>l.jsx("textarea",{ref:o,rows:r,className:me(Bv,"resize-y",n&&"border-danger-500 focus-visible:ring-danger-500",e),"aria-invalid":n||void 0,...i}));dk.displayName="TextArea";const fk=uu({email:Ds().trim().min(1,"Enter your email address.").email("Enter a valid email address."),password:Ds().min(1,"Enter your password.")});function hk(){const e=Fn(),n=It(),r=ft(),i=ov(),{session:o,isLoading:u,isError:d}=i,h=!o&&!u&&!d,g=Sh(h),x=ck(),b=x.data?.providers??[],v=x.data?.force_sso??!1,w=x.isError&&!x.isFetching?"We couldn't load the list of providers. Refresh the page or continue with email.":null,E=p.useMemo(()=>{const O=new URLSearchParams(e.search);return Ql(O.get("redirectTo"))},[e.search]);p.useEffect(()=>{o&&n(Fc(o.return_to,E),{replace:!0})},[n,E,o]),p.useEffect(()=>{h&&(g.isPending||g.isError||g.data?.requires_setup&&n(uv(E),{replace:!0}))},[n,E,g.data?.requires_setup,g.isError,g.isPending,h]);const[N,j]=p.useState(null),[_,T]=p.useState(!1);if(p.useEffect(()=>{j(null)},[e.search]),u)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Checking your session"})});if(d)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to verify your session. Refresh the page to try again."}),l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Retry"})]});if(g.isPending&&h)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Preparing initial setup"})});if(g.isError&&h)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We were unable to check whether ADE is ready."}),l.jsx(_e,{variant:"secondary",onClick:()=>g.refetch(),children:"Try again"})]});const C=async O=>{O.preventDefault(),j(null);const te=new FormData(O.currentTarget),U=Object.fromEntries(te.entries()),Z=fk.safeParse(U);if(!Z.success){const K=Z.error.issues[0]?.message??"Invalid input.";j(K);return}const{email:W,password:G}=Z.data,re=typeof U.redirectTo=="string"?U.redirectTo:null,$=Ql(re);T(!0);try{const K=await vS({email:W,password:G});r.setQueryData(Ms.detail(),K),n(Fc(K.return_to,$),{replace:!0})}catch(K){if(K instanceof qn){const ue=K.problem?.detail??K.message??"Unable to sign in.";j(ue)}else K instanceof Error?j(K.message):j("Unable to sign in.")}finally{T(!1)}},z=!!N&&!_,L=x.isLoading||x.isFetching;return l.jsx("div",{className:"mx-auto flex min-h-screen flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"mx-auto w-full max-w-md rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Sign in to ADE"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your email and password or continue with a connected provider."})]}),w?l.jsx(nt,{tone:"warning",className:"mt-6",children:w}):null,L?l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"}),l.jsx("div",{className:"h-10 animate-pulse rounded-lg bg-slate-100"})]}):b.length>0?l.jsx("div",{className:"mt-6 space-y-3",children:b.map(O=>l.jsxs("a",{href:O.start_url??"#",className:"flex w-full items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:["Continue with ",O.label]},O.id))}):null,v?l.jsx(nt,{tone:"info",className:"mt-8",children:"Password sign-in is disabled for this deployment. Use one of the configured providers above."}):l.jsxs("form",{method:"post",className:"mt-8 space-y-6",onSubmit:C,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:E}),l.jsx(yt,{label:"Email address",required:!0,children:l.jsx(pt,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",name:"email",disabled:_})}),l.jsx(yt,{label:"Password",required:!0,children:l.jsx(pt,{id:"password",type:"password",autoComplete:"current-password",placeholder:"",name:"password",disabled:_})}),z?l.jsx(nt,{tone:"danger",children:N}):null,l.jsx(_e,{type:"submit",className:"w-full justify-center",isLoading:_,disabled:_,children:_?"Signing in":"Continue"})]})]})})}function mk(){const e=It(),n=Fn(),r=ft(),[i,o]=p.useState(null);return p.useEffect(()=>{let u=!1;const d=new URLSearchParams(n.search),h=d.get("code")??"",g=d.get("state")??"";if(!h||!g){o("Missing authorization details from the identity provider.");return}async function x(){try{const b=await wS({code:h,state:g});if(u)return;r.setQueryData(Ms.detail(),b);const v=Fc(b.return_to,d.get("next"));e(v,{replace:!0})}catch(b){if(u)return;b instanceof qn?o(b.problem?.detail??b.message):b instanceof Error?o(b.message):o("Unexpected callback error.")}}return x(),()=>{u=!0}},[n.search,e,r]),i?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Unable to finish sign-in",description:i,variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>e("/login",{replace:!0}),children:"Return to sign in"})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Finishing sign-in",variant:"loading"})})}const pk=uu({displayName:Ds().min(1,"Display name is required."),email:Ds().min(1,"Email is required.").email("Enter a valid email address."),password:Ds().min(12,"Use at least 12 characters."),confirmPassword:Ds().min(1,"Confirm your password.")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match."});function gk(){const e=Fn(),n=It(),r=ft(),i=Sh(!0),o=p.useMemo(()=>{const b=new URLSearchParams(e.search);return Ql(b.get("redirectTo"))},[e.search]);p.useEffect(()=>{i.isPending||i.isError||i.data?.requires_setup||n(cv(o),{replace:!0})},[n,o,i.data?.requires_setup,i.isError,i.isPending]);const[u,d]=p.useState(null),[h,g]=p.useState(!1);if(i.isPending)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx("p",{className:"text-sm text-slate-600",children:"Loading setup status"})});if(i.isError)return l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-50 px-6 text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"We couldn't check whether ADE requires initial setup."}),l.jsx(_e,{variant:"secondary",onClick:()=>i.refetch(),children:"Try again"})]});if(!i.data?.requires_setup)return null;const x=async b=>{b.preventDefault(),d(null);const v=new FormData(b.currentTarget),w=Object.fromEntries(v.entries()),E=pk.safeParse(w);if(!E.success){const j=E.error.issues[0]?.message??"Invalid input.";d(j);return}g(!0);const N=Ql(w.redirectTo);try{const j=await TS({display_name:E.data.displayName,email:E.data.email,password:E.data.password});r.setQueryData(Ms.detail(),j),n(Fc(j.return_to,N),{replace:!0})}catch(j){if(j instanceof qn){const _=j.problem?.detail??j.message??"Setup failed. Try again.";d(_)}else j instanceof Error?d(j.message):d("Setup failed. Try again.")}finally{g(!1)}};return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-3xl flex-col justify-center bg-slate-50 px-6 py-16",children:l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 shadow-soft",children:[l.jsxs("header",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"First-run configuration"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Create the first administrator"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Provide credentials for the inaugural administrator account. We'll redirect after completion."})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[l.jsx("input",{type:"hidden",name:"redirectTo",value:o}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yt,{label:"Display name",required:!0,children:l.jsx(pt,{id:"displayName",name:"displayName",placeholder:"Casey Operator",required:!0,disabled:h})}),l.jsx(yt,{label:"Email",required:!0,children:l.jsx(pt,{id:"email",name:"email",type:"email",placeholder:"casey@example.com",required:!0,disabled:h})})]}),l.jsx(yt,{label:"Password",hint:"Use at least 12 characters.",required:!0,children:l.jsx(pt,{id:"password",name:"password",type:"password",minLength:12,placeholder:"",required:!0,disabled:h})}),l.jsx(yt,{label:"Confirm password",required:!0,children:l.jsx(pt,{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:12,placeholder:"Re-enter your password",required:!0,disabled:h})}),u?l.jsx(nt,{tone:"danger",children:u}):null,l.jsx("div",{className:"flex justify-end",children:l.jsx(_e,{type:"submit",isLoading:h,disabled:h,children:h?"Creating administrator":"Create administrator"})})]})]})})}function $v({id:e,value:n,defaultValue:r="",placeholder:i="Search",ariaLabel:o,shortcutHint:u="K",shortcutKey:d="k",enableShortcut:h=!0,scopeLabel:g,leadingIcon:x,trailingIcon:b,className:v,variant:w="default",isLoading:E=!1,loadingLabel:N="Loading suggestions",filters:j,onSelectFilter:_,emptyState:T,onChange:C,onSubmit:z,onClear:L,onFocus:O,onBlur:te,suggestions:U=[],onSelectSuggestion:Z,renderSuggestion:W}){const G=p.useId(),re=e??G,$=`${G}-suggestions`,K=p.useRef(null),ue=n!==void 0,[we,D]=p.useState(r),[A,se]=p.useState(!1),[de,ae]=p.useState(0),k=ue?n??"":we,Q=U.length>0,ce=!!j?.length,F=A&&(Q||E||!!T||ce),ee=A&&!Q&&!E&&!!T,H=!!(L||!ue),Y=u||"K",q=o??i;p.useEffect(()=>{ue||D(r)},[r,ue]),p.useEffect(()=>{ae(0)},[U.length,k]),p.useEffect(()=>{if(!h||typeof window>"u")return;const Te=Ye=>{(Ye.metaKey||Ye.ctrlKey)&&Ye.key.toLowerCase()===d.toLowerCase()&&(Ye.preventDefault(),K.current?.focus())};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[h,d]);const le=Te=>{Te.preventDefault();const Ye=k.trim();!Ye&&!z||z?.(Ye)},ge=Te=>{ue||D(Te),C?.(Te)},xe=()=>{k&&(ue||D(""),C?.(""),L?.(),K.current?.focus())},Ce=Te=>{Te&&(Z?.(Te),Te.action?.(),se(!1),K.current?.blur())},We=Te=>{if(!F||!Q){Te.key==="Escape"&&(se(!1),Te.currentTarget.blur());return}if(Te.key==="ArrowDown"){Te.preventDefault(),ae(Ye=>(Ye+1)%U.length);return}if(Te.key==="ArrowUp"){Te.preventDefault(),ae(Ye=>(Ye-1+U.length)%U.length);return}if(Te.key==="Enter"){Te.preventDefault(),Ce(U[de]);return}Te.key==="Escape"&&(Te.preventDefault(),se(!1),Te.currentTarget.blur())},Oe=w==="minimal"?"rounded-lg border border-slate-200 bg-white shadow-sm focus-within:border-brand-200":"rounded-xl border border-slate-200/70 bg-gradient-to-r from-white/95 via-slate-50/80 to-white/95 shadow-[0_20px_45px_-30px_rgba(15,23,42,0.65)] ring-1 ring-inset ring-white/80 transition focus-within:border-brand-200 focus-within:shadow-[0_25px_55px_-35px_rgba(79,70,229,0.55)] sm:rounded-2xl";return l.jsxs("div",{className:me("relative",v),children:[l.jsx("div",{className:me("group/search overflow-hidden",Oe,F&&w==="default"&&"focus-within:shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)]"),children:l.jsxs("form",{className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-slate-600 sm:px-5 sm:py-2.5",role:"search","aria-label":q,onSubmit:le,children:[l.jsx("label",{htmlFor:re,className:"sr-only",children:q}),x??l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/90 text-brand-600 shadow-inner shadow-white/60 ring-1 ring-inset ring-white/70 sm:h-10 sm:w-10 sm:rounded-xl",children:l.jsx(bk,{className:"h-4 w-4 flex-shrink-0 text-brand-600"})}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g?l.jsx("span",{className:"text-[0.6rem] font-semibold uppercase tracking-wide text-slate-400 sm:text-[0.65rem]",children:g}):null,l.jsx("input",{ref:K,id:re,type:"search",value:k,onChange:Te=>ge(Te.target.value),role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox",onFocus:()=>{se(!0),O?.(),Q||ae(0)},onBlur:()=>{se(!1),te?.()},onKeyDown:We,placeholder:i,className:"w-full border-0 bg-transparent text-base font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none","aria-expanded":F,"aria-controls":F?$:void 0,"aria-activedescendant":F&&Q?`${$}-option-${de}`:void 0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[H&&k?l.jsx("button",{type:"button",onClick:xe,"aria-label":"Clear search",className:"focus-ring inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent text-slate-400 hover:border-slate-200 hover:bg-white",children:l.jsx(vk,{className:"h-3.5 w-3.5"})}):null,E?l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center","aria-live":"polite","aria-label":N,children:l.jsx(yk,{className:"h-4 w-4 text-brand-600"})}):null,b,l.jsx("span",{className:"hidden items-center gap-1 rounded-full border border-slate-200/80 bg-white/80 px-2 py-1 text-xs font-semibold text-slate-500 shadow-inner shadow-white/60 md:inline-flex",children:Y})]})]})}),F?l.jsxs("div",{className:"absolute left-0 right-0 top-full z-30 mt-2 overflow-hidden rounded-2xl border border-slate-200/70 bg-white/95 shadow-[0_35px_80px_-40px_rgba(79,70,229,0.55)] ring-1 ring-inset ring-white/80",children:[Q?l.jsx("ul",{id:$,role:"listbox","aria-label":"Search suggestions",className:"divide-y divide-slate-100/80",children:U.map((Te,Ye)=>{const Ut=Ye===de,it=W?.({suggestion:Te,active:Ut})??l.jsx(xk,{suggestion:Te,active:Ut});return l.jsx("li",{children:l.jsx("button",{id:`${$}-option-${Ye}`,type:"button",role:"option","aria-selected":Ut,onMouseEnter:()=>ae(Ye),onMouseDown:Cn=>Cn.preventDefault(),onClick:()=>Ce(Te),className:me("flex w-full px-5 py-3 text-left transition",Ut?"bg-brand-50/60":"hover:bg-slate-50/80"),children:it})},Te.id)})}):null,ee?l.jsx("div",{className:"px-5 py-4 text-sm text-slate-500",role:"status",children:T}):null,ce?l.jsx("div",{className:"border-t border-slate-100/80 bg-slate-50/60 px-4 py-2.5",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-500",children:[l.jsx("span",{className:"uppercase tracking-wide text-[0.6rem] text-slate-400",children:"Filters:"}),j?.map(Te=>l.jsx("button",{type:"button",onMouseDown:Ye=>Ye.preventDefault(),onClick:()=>_?.(Te),className:me("focus-ring inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold transition",Te.active?"border-brand-300 bg-brand-50 text-brand-700":"border-slate-200 bg-white text-slate-500 hover:border-slate-300"),children:Te.label},Te.id))]})}):null]}):null]})}function xk({suggestion:e,active:n}){return l.jsxs("div",{className:"flex w-full items-start gap-3",children:[e.icon?l.jsx("span",{className:"mt-0.5 text-slate-400",children:e.icon}):l.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-slate-200","aria-hidden":!0}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),e.shortcutHint?l.jsx("span",{className:"rounded border border-slate-200 bg-white px-1.5 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-slate-400",children:e.shortcutHint}):null]}),e.description?l.jsx("span",{className:me("text-xs",n?"text-brand-700":"text-slate-500"),children:e.description}):null]})]})}function bk({className:e="h-4 w-4 flex-shrink-0 text-slate-400"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("circle",{cx:"9",cy:"9",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"m13.5 13.5 3 3",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vk({className:e="h-3.5 w-3.5"}){return l.jsxs("svg",{className:e,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function yk({className:e="h-4 w-4"}){return l.jsxs("svg",{className:me("animate-spin",e),viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-70",d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function qv({brand:e,leading:n,actions:r,trailing:i,search:o,secondaryContent:u}){const d=!!o,h=o?{...o,className:me("order-last w-full lg:order-none lg:max-w-2xl lg:justify-self-center",o.className)}:void 0;return l.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200/70 bg-gradient-to-b from-white/95 via-slate-50/70 to-white/90 shadow-[0_12px_40px_-30px_rgba(15,23,42,0.8)] backdrop-blur supports-[backdrop-filter]:backdrop-blur-xl",children:l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3 sm:px-6 lg:px-10",children:[l.jsxs("div",{className:me("flex min-h-[3.5rem] w-full flex-wrap items-center gap-3 sm:gap-4",d?"lg:grid lg:grid-cols-[auto_minmax(0,1fr)_auto] lg:items-center lg:gap-8":"justify-between"),children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 lg:flex-none",children:[e,n]}),h?l.jsx($v,{...h}):null,l.jsxs("div",{className:"flex min-w-0 flex-1 items-center justify-end gap-2 sm:flex-none",children:[r,i]})]}),u?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u}):null]})})}function Fv({displayName:e,email:n,actions:r=[]}){const[i,o]=p.useState(!1),[u,d]=p.useState(!1),h=p.useRef(null),g=p.useRef(null),x=It(),b=p.useMemo(()=>wk(e||n),[e,n]),v=p.useCallback(()=>o(!1),[]);p.useEffect(()=>{if(!i)return;const N=_=>{const T=_.target;T&&(g.current?.contains(T)||h.current?.contains(T)||v())},j=_=>{_.key==="Escape"&&v()};return window.addEventListener("mousedown",N),window.addEventListener("touchstart",N,{passive:!0}),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",N),window.removeEventListener("touchstart",N),window.removeEventListener("keydown",j)}},[v,i]),p.useEffect(()=>{if(!i)return;g.current?.querySelector("button[data-menu-item]")?.focus({preventScroll:!0})},[i]);const w=p.useCallback(N=>{v(),N()},[v]),E=p.useCallback(async()=>{u||(v(),d(!0),x("/logout",{replace:!0}))},[v,u,x]);return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:h,type:"button",className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-slate-200 bg-white px-2.5 py-1.5 text-left text-sm font-semibold text-slate-700 shadow-sm transition hover:border-slate-300 hover:text-slate-900","aria-haspopup":"menu","aria-expanded":i,onClick:()=>o(N=>!N),children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg bg-brand-600 text-sm font-semibold text-white shadow-sm",children:b}),l.jsxs("span",{className:"hidden min-w-0 flex-col sm:flex",children:[l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"truncate text-xs text-slate-400",children:n})]}),l.jsx(Sk,{className:me("text-slate-400 transition-transform",i&&"rotate-180")})]}),i?l.jsxs("div",{ref:g,role:"menu",className:"absolute right-0 z-50 mt-2 w-72 origin-top-right rounded-xl border border-slate-200 bg-white p-2 text-sm shadow-xl",children:[l.jsxs("div",{className:"px-2 pb-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Signed in as"}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:n})]}),l.jsx("ul",{className:"space-y-1",role:"none",children:r.map(N=>l.jsx("li",{role:"none",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>w(N.onSelect),children:[l.jsx("span",{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-slate-100 text-xs font-semibold text-slate-500",children:N.icon??N.label.charAt(0).toUpperCase()}),l.jsxs("span",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"truncate",children:N.label}),N.description?l.jsx("span",{className:"truncate text-xs font-normal text-slate-400",children:N.description}):null]})]})},N.id))}),l.jsx("div",{className:"mt-2 border-t border-slate-200 pt-2",children:l.jsxs("button",{type:"button",role:"menuitem","data-menu-item":!0,className:"focus-ring flex w-full items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 transition hover:border-brand-200 hover:text-brand-700 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:u,children:[l.jsx("span",{children:"Sign out"}),u?l.jsx(jk,{}):null]})})]}):null]})}function wk(e){const n=e.split(" ").map(r=>r.trim()).filter(Boolean);return n.length===0?"":n.length===1?n[0].charAt(0).toUpperCase():`${n[0].charAt(0)}${n[n.length-1].charAt(0)}`.toUpperCase()}function jk(){return l.jsx("svg",{className:"h-4 w-4 animate-spin text-brand-600",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M10 3a7 7 0 1 1-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})}function Sk({className:e}){return l.jsx("svg",{className:me("h-4 w-4",e),viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})}var ls=Bb();const Ek="1.6.1",Nk=Ek.trim(),Ck=Nk||"unknown";async function _k(e={}){const{data:n}=await Be.GET("/api/v1/system/safe-mode",{signal:e.signal}),r=n??{},i=!!r.enabled,o=typeof r.detail=="string"&&r.detail.trim().length>0?r.detail.trim():zi;return{enabled:i,detail:o}}async function kk(e={}){const{data:n}=await Be.GET("/api/v1/meta/versions",{signal:e.signal}),r=n??{};return{ade_api:y0(r.ade_api),ade_engine:y0(r.ade_engine)}}const zi="ADE safe mode enabled; skipping engine execution until ADE_SAFE_MODE is disabled.";function y0(e){return typeof e=="string"&&e.trim().length>0?e.trim():"unknown"}const w0=["system","safe-mode"],j0=["system","versions"];function Hv(){const n=ft().getQueryData(w0);return zn({queryKey:w0,queryFn:({signal:r})=>_k({signal:r}),initialData:n,staleTime:3e4,refetchInterval:6e4})}function Tk(e={}){const r=ft().getQueryData(j0);return zn({queryKey:j0,queryFn:({signal:i})=>kk({signal:i}),initialData:r,staleTime:300*1e3,enabled:e.enabled??!0})}function Zv({open:e,onClose:n}){const r=p.useRef(null),i=p.useRef(null),o=Tk({enabled:e}),u=o.isError,d=o.data?.ade_api??(o.isPending?"Loading...":"unknown"),h=o.data?.ade_engine??(o.isPending?"Loading...":"unknown");if(p.useEffect(()=>{if(!e)return;const x=b=>{b.key==="Escape"&&n()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,n]),p.useEffect(()=>{if(!e)return;const{body:x}=document,b=x.style.overflow;return x.style.overflow="hidden",()=>{x.style.overflow=b}},[e]),p.useEffect(()=>{e&&i.current?.focus({preventScroll:!0})},[e]),typeof document>"u"||!e)return null;const g=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",role:"presentation",onMouseDown:x=>{x.target===x.currentTarget&&n()},children:l.jsxs("div",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"about-versions-heading",className:"w-full max-w-xl rounded-2xl border border-slate-200/80 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"About"}),l.jsx("h2",{id:"about-versions-heading",className:"text-xl font-semibold text-slate-900",children:"ADE versions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Installed versions for this ADE deployment across the web UI and backend runtime."})]}),l.jsx(_e,{ref:i,variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Af,{label:"ade-web",value:Ck,hint:"Frontend build"}),l.jsx(Af,{label:"ade-api",value:d,hint:"Backend service"}),l.jsx(Af,{label:"ade-engine",value:h,hint:"Engine runtime"})]}),u?l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(nt,{tone:"warning",heading:"Backend versions unavailable",children:"Could not load backend versions. Check connectivity and try again."}),l.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>o.refetch(),children:"Retry"})]}):null]})});return ls.createPortal(g,document.body)}function Af({label:e,value:n,hint:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-100 bg-slate-50 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e}),l.jsx("span",{className:"text-xs text-slate-500",children:r})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("code",{className:"rounded bg-slate-900/90 px-2.5 py-1 text-xs font-mono text-white shadow-sm",children:n})})]})}function Ak({title:e,...n}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":e?void 0:!0,role:e?"img":"presentation",...n,children:[e?l.jsx("title",{children:e}):null,l.jsx("path",{d:"M4 10.5 12 4l8 6.5V19a1 1 0 0 1-1 1h-4v-5h-6v5H5a1 1 0 0 1-1-1v-8.5Z"})]})}function Iv({children:e,sidePanel:n,actions:r,search:i}){const o=Ri(),u=It(),[d,h]=p.useState(!1),g=o.user.display_name||o.user.email||"Signed in",x=o.user.email??"";return l.jsxs(l.Fragment,{children:[l.jsx(Zv,{open:d,onClose:()=>h(!1)}),l.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-50 text-slate-900",children:[l.jsx(qv,{brand:l.jsxs("button",{type:"button",onClick:()=>u("/workspaces"),className:"focus-ring inline-flex items-center gap-3 rounded-xl border border-transparent bg-white px-3 py-2 text-left text-sm font-semibold text-slate-900 shadow-sm transition hover:border-slate-200",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:l.jsx(Ak,{className:"h-5 w-5","aria-hidden":!0})}),l.jsxs("span",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Workspace directory"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Automatic Data Extractor"})]})]}),search:i,actions:r?l.jsx("div",{className:"flex items-center gap-2",children:r}):void 0,trailing:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Fv,{displayName:g,email:x,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>h(!0)}]})})}),l.jsx("main",{className:"flex flex-1 overflow-y-auto",children:l.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:l.jsxs("div",{className:`grid gap-6 ${n?"lg:grid-cols-[minmax(0,1fr)_280px]":""}`,children:[l.jsx("div",{children:e}),n?l.jsx("aside",{className:"space-y-6",children:n}):null]})})})]})]})}const Dk="K",Mk="Ctrl+K";function Vv({macLabel:e=Dk,windowsLabel:n=Mk}={}){const[r,i]=p.useState(e);return p.useEffect(()=>{if(typeof window>"u")return;const o=window.navigator.platform??"",u=/Mac|iPhone|iPad|Macintosh/.test(o);i(u?e:n)},[e,n]),r}function Rk(){return l.jsx(tu,{children:l.jsx(zk,{})})}function zk(){const e=It(),n=Ri(),r=Ch(),i=bv(),[o,u]=p.useState(null),[d,h]=p.useState(null),g=p.useMemo(()=>(n.user.permissions??[]).map($=>$.toLowerCase()),[n.user.permissions]),x=g.includes("workspaces.create")||g.includes("workspaces.manage_all"),[b,v]=p.useState(""),w=Vv(),E=r.data,N=p.useMemo(()=>E?.items??[],[E?.items]),j=b.trim().toLowerCase(),_=p.useMemo(()=>j?N.filter($=>{const K=$.name.toLowerCase(),ue=$.slug?.toLowerCase()??"";return K.includes(j)||ue.includes(j)}):N,[N,j]),T=p.useCallback($=>e(_h($)),[e]),C=x?l.jsx(_e,{variant:"primary",onClick:()=>e("/workspaces/new"),children:"Create workspace"}):void 0,z=p.useCallback(()=>{if(!j)return;const $=_[0];$&&T($.id)},[_,j,T]),L=p.useCallback(()=>v(""),[]),te=(j?_:N).slice(0,5).map($=>({id:$.id,label:$.name,description:$.slug?`Slug  ${$.slug}`:"Workspace"})),U=p.useCallback($=>{v(""),T($.id)},[T]),Z=p.useCallback(async $=>{h(null),u($.id);try{await i.mutateAsync($.id),vv($.id)}catch(K){console.warn("workspaces.set_default.failed",K),h("Unable to set the default workspace. Please try again.")}finally{u(null)}},[i]),W={value:b,onChange:v,onSubmit:z,placeholder:"Search workspaces or jump to one instantly",shortcutHint:w,scopeLabel:"Workspace directory",suggestions:te,onSelectSuggestion:U,onClear:L},G={...W,shortcutHint:void 0,onClear:L,enableShortcut:!1,variant:"minimal"};if(r.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Loading workspaces",variant:"loading"})});if(r.isError)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"We couldn't load your workspaces",description:"Refresh the page or try again later.",variant:"error",action:l.jsx(_e,{variant:"secondary",onClick:()=>r.refetch(),children:"Retry"})})});const re=N.length===0?x?l.jsx(Lk,{onCreate:()=>e("/workspaces/new")}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{id:"page-title",className:"sr-only",children:"Workspaces"}),l.jsx(dt,{title:"No workspaces available",description:"You don't have access to any workspaces yet. Ask an administrator to add you or create one on your behalf.",variant:"empty"})]}):_.length===0?l.jsx("div",{className:"space-y-4",children:l.jsx(dt,{title:`No workspaces matching "${b}"`,description:"Try searching by another workspace name or slug.",action:l.jsx(_e,{variant:"secondary",onClick:L,children:"Clear search"})})}):l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"Workspaces"}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Select a workspace to jump straight into documents."})]}),d?l.jsx(nt,{tone:"danger",heading:"We couldn't update your default workspace",children:d}):null,l.jsx($v,{...G,className:"w-full"}),l.jsx("section",{className:"grid gap-5 lg:grid-cols-2",children:_.map($=>{const K=i.isPending&&o===$.id;return l.jsxs("div",{className:"group relative rounded-xl border border-slate-200 bg-white p-5 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-within:ring-2 focus-within:ring-brand-500 focus-within:ring-offset-2 focus-within:ring-offset-white",children:[l.jsxs("button",{type:"button",onClick:()=>T($.id),className:"w-full text-left focus-visible:outline-none","aria-label":`Open workspace ${$.name}`,children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"space-y-1 pr-24",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:$.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Slug: ",$.slug]})]})}),l.jsx("p",{className:"mt-4 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Permissions"}),l.jsx("p",{className:"text-sm text-slate-600",children:$.permissions.length>0?$.permissions.join(", "):"None"})]}),l.jsx("div",{className:"absolute right-5 top-5",children:$.is_default?l.jsx("span",{className:"rounded-full bg-brand-50 px-2 py-1 text-xs font-semibold text-brand-600",children:"Default"}):l.jsx(_e,{variant:"secondary",size:"sm",isLoading:K,disabled:K,onClick:()=>void Z($),children:"Set as default"})})]},$.id)})})]});return l.jsx(Iv,{actions:C,search:W,sidePanel:l.jsx(Ok,{canCreate:x,onCreate:()=>e("/workspaces/new")}),children:re})}function Ok({canCreate:e,onCreate:n}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Workspace tips"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Why multiple workspaces?"})]}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Segment teams by business unit or client, control access with roles, and tailor extraction settings per workspace. Everything stays organised and secure."}),e?l.jsx(_e,{variant:"secondary",onClick:n,className:"w-full",children:"New workspace"}):null]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-5 shadow-soft",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Need a hand?"}),l.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Workspace setup checklist"})]}),l.jsxs("ul",{className:"space-y-2 text-xs text-slate-600",children:[l.jsx("li",{children:"Invite at least one additional administrator."}),l.jsx("li",{children:"Review configurations before uploading production files."}),l.jsx("li",{children:"Review workspace permissions for external collaborators."})]})]})]})}function Lk({onCreate:e}){return l.jsxs("div",{className:"mx-auto max-w-3xl rounded-2xl border border-dashed border-slate-300 bg-white p-10 text-center shadow-soft",children:[l.jsx("h1",{id:"page-title",className:"text-2xl font-semibold text-slate-900",children:"No workspaces yet"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Create your first workspace to start uploading configuration sets and documents."}),l.jsx(_e,{variant:"primary",onClick:e,className:"mt-6",children:"Create workspace"})]})}var so=e=>e.type==="checkbox",Ea=e=>e instanceof Date,Pn=e=>e==null;const Qv=e=>typeof e=="object";var nn=e=>!Pn(e)&&!Array.isArray(e)&&Qv(e)&&!Ea(e),Uk=e=>nn(e)&&e.target?so(e.target)?e.target.checked:e.target.value:e,Bk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$k=(e,n)=>e.has(Bk(n)),qk=e=>{const n=e.constructor&&e.constructor.prototype;return nn(n)&&n.hasOwnProperty("isPrototypeOf")},zh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pn(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(zh&&(e instanceof Blob||i))&&(r||nn(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!qk(e))n=e;else for(const o in e)e.hasOwnProperty(o)&&(n[o]=pn(e[o]));else return e;return n}var du=e=>/^\w*$/.test(e),Pt=e=>e===void 0,Oh=e=>Array.isArray(e)?e.filter(Boolean):[],Lh=e=>Oh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,n,r)=>{if(!n||!nn(e))return r;const i=(du(n)?[n]:Lh(n)).reduce((o,u)=>Pn(o)?o:o[u],e);return Pt(i)||i===e?Pt(e[n])?r:e[n]:i},Qs=e=>typeof e=="boolean",Et=(e,n,r)=>{let i=-1;const o=du(n)?[n]:Lh(n),u=o.length,d=u-1;for(;++i<u;){const h=o[i];let g=r;if(i!==d){const x=e[h];g=nn(x)||Array.isArray(x)?x:isNaN(+o[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const S0={BLUR:"blur",FOCUS_OUT:"focusout"},Ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Fk=vt.createContext(null);Fk.displayName="HookFormContext";var Hk=(e,n,r,i=!0)=>{const o={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(o,u,{get:()=>{const d=u;return n._proxyFormState[d]!==Ts.all&&(n._proxyFormState[d]=!i||Ts.all),e[d]}});return o};const Zk=typeof window<"u"?vt.useLayoutEffect:vt.useEffect;var is=e=>typeof e=="string",Ik=(e,n,r,i,o)=>is(e)?(i&&n.watch.add(e),Re(r,e,o)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),Re(r,u))):(i&&(n.watchAll=!0),r),th=e=>Pn(e)||!Qv(e);function Gr(e,n,r=new WeakSet){if(th(e)||th(n))return e===n;if(Ea(e)&&Ea(n))return e.getTime()===n.getTime();const i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const u of i){const d=e[u];if(!o.includes(u))return!1;if(u!=="ref"){const h=n[u];if(Ea(d)&&Ea(h)||nn(d)&&nn(h)||Array.isArray(d)&&Array.isArray(h)?!Gr(d,h,r):d!==h)return!1}}return!0}var Uh=(e,n,r,i,o)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},Bl=e=>Array.isArray(e)?e:[e],E0=()=>{let e=[];return{get observers(){return e},next:o=>{for(const u of e)u.next&&u.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(u=>u!==o)}}),unsubscribe:()=>{e=[]}}};function Wv(e,n){const r={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],u=n[i];if(o&&nn(o)&&u){const d=Wv(o,u);nn(d)&&(r[i]=d)}else e[i]&&(r[i]=u)}return r}var Wn=e=>nn(e)&&!Object.keys(e).length,Bh=e=>e.type==="file",As=e=>typeof e=="function",Vc=e=>{if(!zh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Pv=e=>e.type==="select-multiple",$h=e=>e.type==="radio",Vk=e=>$h(e)||so(e),Df=e=>Vc(e)&&e.isConnected;function Qk(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=Pt(e)?i++:e[n[i++]];return e}function Wk(e){for(const n in e)if(e.hasOwnProperty(n)&&!Pt(e[n]))return!1;return!0}function tn(e,n){const r=Array.isArray(n)?n:du(n)?[n]:Lh(n),i=r.length===1?e:Qk(e,r),o=r.length-1,u=r[o];return i&&delete i[u],o!==0&&(nn(i)&&Wn(i)||Array.isArray(i)&&Wk(i))&&tn(e,r.slice(0,-1)),e}var Pk=e=>{for(const n in e)if(As(e[n]))return!0;return!1};function Kv(e){return Array.isArray(e)||nn(e)&&!Pk(e)}function nh(e,n={}){for(const r in e)Kv(e[r])?(n[r]=Array.isArray(e[r])?[]:{},nh(e[r],n[r])):Pt(e[r])||(n[r]=!0);return n}function Ni(e,n,r){r||(r=nh(n));for(const i in e)Kv(e[i])?Pt(n)||th(r[i])?r[i]=nh(e[i],Array.isArray(e[i])?[]:{}):Ni(e[i],Pn(n)?{}:n[i],r[i]):r[i]=!Gr(e[i],n[i]);return r}const N0={value:!1,isValid:!1},C0={value:!0,isValid:!0};var Yv=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?C0:{value:e[0].value,isValid:!0}:C0:N0}return N0},Gv=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>Pt(e)?e:n?e===""?NaN:e&&+e:r&&is(e)?new Date(e):i?i(e):e;const _0={isValid:!1,value:null};var Xv=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,_0):_0;function k0(e){const n=e.ref;return Bh(n)?n.files:$h(n)?Xv(e.refs).value:Pv(n)?[...n.selectedOptions].map(({value:r})=>r):so(n)?Yv(e.refs).value:Gv(Pt(n.value)?e.ref.value:n.value,e)}var Kk=(e,n,r,i)=>{const o={};for(const u of e){const d=Re(n,u);d&&Et(o,u,d._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},Qc=e=>e instanceof RegExp,Ll=e=>Pt(e)?e:Qc(e)?e.source:nn(e)?Qc(e.value)?e.value.source:e.value:e,T0=e=>({isOnSubmit:!e||e===Ts.onSubmit,isOnBlur:e===Ts.onBlur,isOnChange:e===Ts.onChange,isOnAll:e===Ts.all,isOnTouch:e===Ts.onTouched});const A0="AsyncFunction";var Yk=e=>!!e&&!!e.validate&&!!(As(e.validate)&&e.validate.constructor.name===A0||nn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===A0)),Gk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),D0=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const $l=(e,n,r,i)=>{for(const o of r||Object.keys(e)){const u=Re(e,o);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&n(d.refs[0],o)&&!i)return!0;if(d.ref&&n(d.ref,d.name)&&!i)return!0;if($l(h,n))break}else if(nn(h)&&$l(h,n))break}}};function M0(e,n,r){const i=Re(e,r);if(i||du(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const u=o.join("."),d=Re(n,u),h=Re(e,u);if(d&&!Array.isArray(d)&&r!==u)return{name:r};if(h&&h.type)return{name:u,error:h};if(h&&h.root&&h.root.type)return{name:`${u}.root`,error:h.root};o.pop()}return{name:r}}var Xk=(e,n,r,i)=>{r(e);const{name:o,...u}=e;return Wn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(d=>n[d]===(!i||Ts.all))},Jk=(e,n,r)=>!e||!n||e===n||Bl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),e2=(e,n,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(n||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,t2=(e,n)=>!Oh(Re(e,n)).length&&tn(e,n),n2=(e,n,r)=>{const i=Bl(Re(e,r));return Et(i,"root",n[r]),Et(e,r,i),e};function R0(e,n,r="validate"){if(is(e)||Array.isArray(e)&&e.every(is)||Qs(e)&&!e)return{type:r,message:is(e)?e:"",ref:n}}var wi=e=>nn(e)&&!Qc(e)?e:{value:e,message:""},z0=async(e,n,r,i,o,u)=>{const{ref:d,refs:h,required:g,maxLength:x,minLength:b,min:v,max:w,pattern:E,validate:N,name:j,valueAsNumber:_,mount:T}=e._f,C=Re(r,j);if(!T||n.has(j))return{};const z=h?h[0]:d,L=$=>{o&&z.reportValidity&&(z.setCustomValidity(Qs($)?"":$||""),z.reportValidity())},O={},te=$h(d),U=so(d),Z=te||U,W=(_||Bh(d))&&Pt(d.value)&&Pt(C)||Vc(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,G=Uh.bind(null,j,i,O),re=($,K,ue,we=mr.maxLength,D=mr.minLength)=>{const A=$?K:ue;O[j]={type:$?we:D,message:A,ref:d,...G($?we:D,A)}};if(u?!Array.isArray(C)||!C.length:g&&(!Z&&(W||Pn(C))||Qs(C)&&!C||U&&!Yv(h).isValid||te&&!Xv(h).isValid)){const{value:$,message:K}=is(g)?{value:!!g,message:g}:wi(g);if($&&(O[j]={type:mr.required,message:K,ref:z,...G(mr.required,K)},!i))return L(K),O}if(!W&&(!Pn(v)||!Pn(w))){let $,K;const ue=wi(w),we=wi(v);if(!Pn(C)&&!isNaN(C)){const D=d.valueAsNumber||C&&+C;Pn(ue.value)||($=D>ue.value),Pn(we.value)||(K=D<we.value)}else{const D=d.valueAsDate||new Date(C),A=ae=>new Date(new Date().toDateString()+" "+ae),se=d.type=="time",de=d.type=="week";is(ue.value)&&C&&($=se?A(C)>A(ue.value):de?C>ue.value:D>new Date(ue.value)),is(we.value)&&C&&(K=se?A(C)<A(we.value):de?C<we.value:D<new Date(we.value))}if(($||K)&&(re(!!$,ue.message,we.message,mr.max,mr.min),!i))return L(O[j].message),O}if((x||b)&&!W&&(is(C)||u&&Array.isArray(C))){const $=wi(x),K=wi(b),ue=!Pn($.value)&&C.length>+$.value,we=!Pn(K.value)&&C.length<+K.value;if((ue||we)&&(re(ue,$.message,K.message),!i))return L(O[j].message),O}if(E&&!W&&is(C)){const{value:$,message:K}=wi(E);if(Qc($)&&!C.match($)&&(O[j]={type:mr.pattern,message:K,ref:d,...G(mr.pattern,K)},!i))return L(K),O}if(N){if(As(N)){const $=await N(C,r),K=R0($,z);if(K&&(O[j]={...K,...G(mr.validate,K.message)},!i))return L(K.message),O}else if(nn(N)){let $={};for(const K in N){if(!Wn($)&&!i)break;const ue=R0(await N[K](C,r),z,K);ue&&($={...ue,...G(K,ue.message)},L(ue.message),i&&(O[j]=$))}if(!Wn($)&&(O[j]={ref:z,...$},!i))return O}}return L(!0),O};const s2={mode:Ts.onSubmit,reValidateMode:Ts.onChange,shouldFocusError:!0};function r2(e={}){let n={...s2,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:As(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=nn(n.defaultValues)||nn(n.values)?pn(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:pn(o),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...b};const w={array:E0(),state:E0()},E=n.criteriaMode===Ts.all,N=M=>P=>{clearTimeout(x),x=setTimeout(M,P)},j=async M=>{if(!n.disabled&&(b.isValid||v.isValid||M)){const P=n.resolver?Wn((await U()).errors):await W(i,!0);P!==r.isValid&&w.state.next({isValid:P})}},_=(M,P)=>{!n.disabled&&(b.isValidating||b.validatingFields||v.isValidating||v.validatingFields)&&((M||Array.from(h.mount)).forEach(ie=>{ie&&(P?Et(r.validatingFields,ie,P):tn(r.validatingFields,ie))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Wn(r.validatingFields)}))},T=(M,P=[],ie,Ee,ye=!0,je=!0)=>{if(Ee&&ie&&!n.disabled){if(d.action=!0,je&&Array.isArray(Re(i,M))){const Ae=ie(Re(i,M),Ee.argA,Ee.argB);ye&&Et(i,M,Ae)}if(je&&Array.isArray(Re(r.errors,M))){const Ae=ie(Re(r.errors,M),Ee.argA,Ee.argB);ye&&Et(r.errors,M,Ae),t2(r.errors,M)}if((b.touchedFields||v.touchedFields)&&je&&Array.isArray(Re(r.touchedFields,M))){const Ae=ie(Re(r.touchedFields,M),Ee.argA,Ee.argB);ye&&Et(r.touchedFields,M,Ae)}(b.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Ni(o,u)),w.state.next({name:M,isDirty:re(M,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(u,M,P)},C=(M,P)=>{Et(r.errors,M,P),w.state.next({errors:r.errors})},z=M=>{r.errors=M,w.state.next({errors:r.errors,isValid:!1})},L=(M,P,ie,Ee)=>{const ye=Re(i,M);if(ye){const je=Re(u,M,Pt(ie)?Re(o,M):ie);Pt(je)||Ee&&Ee.defaultChecked||P?Et(u,M,P?je:k0(ye._f)):ue(M,je),d.mount&&j()}},O=(M,P,ie,Ee,ye)=>{let je=!1,Ae=!1;const He={name:M};if(!n.disabled){if(!ie||Ee){(b.isDirty||v.isDirty)&&(Ae=r.isDirty,r.isDirty=He.isDirty=re(),je=Ae!==He.isDirty);const Ve=Gr(Re(o,M),P);Ae=!!Re(r.dirtyFields,M),Ve?tn(r.dirtyFields,M):Et(r.dirtyFields,M,!0),He.dirtyFields=r.dirtyFields,je=je||(b.dirtyFields||v.dirtyFields)&&Ae!==!Ve}if(ie){const Ve=Re(r.touchedFields,M);Ve||(Et(r.touchedFields,M,ie),He.touchedFields=r.touchedFields,je=je||(b.touchedFields||v.touchedFields)&&Ve!==ie)}je&&ye&&w.state.next(He)}return je?He:{}},te=(M,P,ie,Ee)=>{const ye=Re(r.errors,M),je=(b.isValid||v.isValid)&&Qs(P)&&r.isValid!==P;if(n.delayError&&ie?(g=N(()=>C(M,ie)),g(n.delayError)):(clearTimeout(x),g=null,ie?Et(r.errors,M,ie):tn(r.errors,M)),(ie?!Gr(ye,ie):ye)||!Wn(Ee)||je){const Ae={...Ee,...je&&Qs(P)?{isValid:P}:{},errors:r.errors,name:M};r={...r,...Ae},w.state.next(Ae)}},U=async M=>{_(M,!0);const P=await n.resolver(u,n.context,Kk(M||h.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return _(M),P},Z=async M=>{const{errors:P}=await U(M);if(M)for(const ie of M){const Ee=Re(P,ie);Ee?Et(r.errors,ie,Ee):tn(r.errors,ie)}else r.errors=P;return P},W=async(M,P,ie={valid:!0})=>{for(const Ee in M){const ye=M[Ee];if(ye){const{_f:je,...Ae}=ye;if(je){const He=h.array.has(je.name),Ve=ye._f&&Yk(ye._f);Ve&&b.validatingFields&&_([je.name],!0);const _t=await z0(ye,h.disabled,u,E,n.shouldUseNativeValidation&&!P,He);if(Ve&&b.validatingFields&&_([je.name]),_t[je.name]&&(ie.valid=!1,P))break;!P&&(Re(_t,je.name)?He?n2(r.errors,_t,je.name):Et(r.errors,je.name,_t[je.name]):tn(r.errors,je.name))}!Wn(Ae)&&await W(Ae,P,ie)}}return ie.valid},G=()=>{for(const M of h.unMount){const P=Re(i,M);P&&(P._f.refs?P._f.refs.every(ie=>!Df(ie)):!Df(P._f.ref))&&Y(M)}h.unMount=new Set},re=(M,P)=>!n.disabled&&(M&&P&&Et(u,M,P),!Gr(ae(),o)),$=(M,P,ie)=>Ik(M,h,{...d.mount?u:Pt(P)?o:is(M)?{[M]:P}:P},ie,P),K=M=>Oh(Re(d.mount?u:o,M,n.shouldUnregister?Re(o,M,[]):[])),ue=(M,P,ie={})=>{const Ee=Re(i,M);let ye=P;if(Ee){const je=Ee._f;je&&(!je.disabled&&Et(u,M,Gv(P,je)),ye=Vc(je.ref)&&Pn(P)?"":P,Pv(je.ref)?[...je.ref.options].forEach(Ae=>Ae.selected=ye.includes(Ae.value)):je.refs?so(je.ref)?je.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ye)?Ae.checked=!!ye.find(He=>He===Ae.value):Ae.checked=ye===Ae.value||!!ye)}):je.refs.forEach(Ae=>Ae.checked=Ae.value===ye):Bh(je.ref)?je.ref.value="":(je.ref.value=ye,je.ref.type||w.state.next({name:M,values:pn(u)})))}(ie.shouldDirty||ie.shouldTouch)&&O(M,ye,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&de(M)},we=(M,P,ie)=>{for(const Ee in P){if(!P.hasOwnProperty(Ee))return;const ye=P[Ee],je=M+"."+Ee,Ae=Re(i,je);(h.array.has(M)||nn(ye)||Ae&&!Ae._f)&&!Ea(ye)?we(je,ye,ie):ue(je,ye,ie)}},D=(M,P,ie={})=>{const Ee=Re(i,M),ye=h.array.has(M),je=pn(P);Et(u,M,je),ye?(w.array.next({name:M,values:pn(u)}),(b.isDirty||b.dirtyFields||v.isDirty||v.dirtyFields)&&ie.shouldDirty&&w.state.next({name:M,dirtyFields:Ni(o,u),isDirty:re(M,je)})):Ee&&!Ee._f&&!Pn(je)?we(M,je,ie):ue(M,je,ie),D0(M,h)&&w.state.next({...r,name:M}),w.state.next({name:d.mount?M:void 0,values:pn(u)})},A=async M=>{d.mount=!0;const P=M.target;let ie=P.name,Ee=!0;const ye=Re(i,ie),je=Ve=>{Ee=Number.isNaN(Ve)||Ea(Ve)&&isNaN(Ve.getTime())||Gr(Ve,Re(u,ie,Ve))},Ae=T0(n.mode),He=T0(n.reValidateMode);if(ye){let Ve,_t;const Se=P.type?k0(ye._f):Uk(M),Ne=M.type===S0.BLUR||M.type===S0.FOCUS_OUT,$e=!Gk(ye._f)&&!n.resolver&&!Re(r.errors,ie)&&!ye._f.deps||e2(Ne,Re(r.touchedFields,ie),r.isSubmitted,He,Ae),Dt=D0(ie,h,Ne);Et(u,ie,Se),Ne?(!P||!P.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(M),g&&g(0)):ye._f.onChange&&ye._f.onChange(M);const st=O(ie,Se,Ne),Kt=!Wn(st)||Dt;if(!Ne&&w.state.next({name:ie,type:M.type,values:pn(u)}),$e)return(b.isValid||v.isValid)&&(n.mode==="onBlur"?Ne&&j():Ne||j()),Kt&&w.state.next({name:ie,...Dt?{}:st});if(!Ne&&Dt&&w.state.next({...r}),n.resolver){const{errors:Mt}=await U([ie]);if(je(Se),Ee){const br=M0(r.errors,i,ie),zs=M0(Mt,i,br.name||ie);Ve=zs.error,ie=zs.name,_t=Wn(Mt)}}else _([ie],!0),Ve=(await z0(ye,h.disabled,u,E,n.shouldUseNativeValidation))[ie],_([ie]),je(Se),Ee&&(Ve?_t=!1:(b.isValid||v.isValid)&&(_t=await W(i,!0)));Ee&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&de(ye._f.deps),te(ie,_t,Ve,st))}},se=(M,P)=>{if(Re(r.errors,P)&&M.focus)return M.focus(),1},de=async(M,P={})=>{let ie,Ee;const ye=Bl(M);if(n.resolver){const je=await Z(Pt(M)?M:ye);ie=Wn(je),Ee=M?!ye.some(Ae=>Re(je,Ae)):ie}else M?(Ee=(await Promise.all(ye.map(async je=>{const Ae=Re(i,je);return await W(Ae&&Ae._f?{[je]:Ae}:Ae)}))).every(Boolean),!(!Ee&&!r.isValid)&&j()):Ee=ie=await W(i);return w.state.next({...!is(M)||(b.isValid||v.isValid)&&ie!==r.isValid?{}:{name:M},...n.resolver||!M?{isValid:ie}:{},errors:r.errors}),P.shouldFocus&&!Ee&&$l(i,se,M?ye:h.mount),Ee},ae=(M,P)=>{let ie={...d.mount?u:o};return P&&(ie=Wv(P.dirtyFields?r.dirtyFields:r.touchedFields,ie)),Pt(M)?ie:is(M)?Re(ie,M):M.map(Ee=>Re(ie,Ee))},k=(M,P)=>({invalid:!!Re((P||r).errors,M),isDirty:!!Re((P||r).dirtyFields,M),error:Re((P||r).errors,M),isValidating:!!Re(r.validatingFields,M),isTouched:!!Re((P||r).touchedFields,M)}),Q=M=>{M&&Bl(M).forEach(P=>tn(r.errors,P)),w.state.next({errors:M?r.errors:{}})},ce=(M,P,ie)=>{const Ee=(Re(i,M,{_f:{}})._f||{}).ref,ye=Re(r.errors,M)||{},{ref:je,message:Ae,type:He,...Ve}=ye;Et(r.errors,M,{...Ve,...P,ref:Ee}),w.state.next({name:M,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},F=(M,P)=>As(M)?w.state.subscribe({next:ie=>"values"in ie&&M($(void 0,P),ie)}):$(M,P,!0),ee=M=>w.state.subscribe({next:P=>{Jk(M.name,P.name,M.exact)&&Xk(P,M.formState||b,Ut,M.reRenderRoot)&&M.callback({values:{...u},...r,...P,defaultValues:o})}}).unsubscribe,H=M=>(d.mount=!0,v={...v,...M.formState},ee({...M,formState:v})),Y=(M,P={})=>{for(const ie of M?Bl(M):h.mount)h.mount.delete(ie),h.array.delete(ie),P.keepValue||(tn(i,ie),tn(u,ie)),!P.keepError&&tn(r.errors,ie),!P.keepDirty&&tn(r.dirtyFields,ie),!P.keepTouched&&tn(r.touchedFields,ie),!P.keepIsValidating&&tn(r.validatingFields,ie),!n.shouldUnregister&&!P.keepDefaultValue&&tn(o,ie);w.state.next({values:pn(u)}),w.state.next({...r,...P.keepDirty?{isDirty:re()}:{}}),!P.keepIsValid&&j()},q=({disabled:M,name:P})=>{(Qs(M)&&d.mount||M||h.disabled.has(P))&&(M?h.disabled.add(P):h.disabled.delete(P))},le=(M,P={})=>{let ie=Re(i,M);const Ee=Qs(P.disabled)||Qs(n.disabled);return Et(i,M,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:M}},name:M,mount:!0,...P}}),h.mount.add(M),ie?q({disabled:Qs(P.disabled)?P.disabled:n.disabled,name:M}):L(M,!0,P.value),{...Ee?{disabled:P.disabled||n.disabled}:{},...n.progressive?{required:!!P.required,min:Ll(P.min),max:Ll(P.max),minLength:Ll(P.minLength),maxLength:Ll(P.maxLength),pattern:Ll(P.pattern)}:{},name:M,onChange:A,onBlur:A,ref:ye=>{if(ye){le(M,P),ie=Re(i,M);const je=Pt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ae=Vk(je),He=ie._f.refs||[];if(Ae?He.find(Ve=>Ve===je):je===ie._f.ref)return;Et(i,M,{_f:{...ie._f,...Ae?{refs:[...He.filter(Df),je,...Array.isArray(Re(o,M))?[{}]:[]],ref:{type:je.type,name:M}}:{ref:je}}}),L(M,!1,void 0,je)}else ie=Re(i,M,{}),ie._f&&(ie._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!($k(h.array,M)&&d.action)&&h.unMount.add(M)}}},ge=()=>n.shouldFocusError&&$l(i,se,h.mount),xe=M=>{Qs(M)&&(w.state.next({disabled:M}),$l(i,(P,ie)=>{const Ee=Re(i,ie);Ee&&(P.disabled=Ee._f.disabled||M,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ye=>{ye.disabled=Ee._f.disabled||M}))},0,!1))},Ce=(M,P)=>async ie=>{let Ee;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ye=pn(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:je,values:Ae}=await U();r.errors=je,ye=pn(Ae)}else await W(i);if(h.disabled.size)for(const je of h.disabled)tn(ye,je);if(tn(r.errors,"root"),Wn(r.errors)){w.state.next({errors:{}});try{await M(ye,ie)}catch(je){Ee=je}}else P&&await P({...r.errors},ie),ge(),setTimeout(ge);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},We=(M,P={})=>{Re(i,M)&&(Pt(P.defaultValue)?D(M,pn(Re(o,M))):(D(M,P.defaultValue),Et(o,M,pn(P.defaultValue))),P.keepTouched||tn(r.touchedFields,M),P.keepDirty||(tn(r.dirtyFields,M),r.isDirty=P.defaultValue?re(M,pn(Re(o,M))):re()),P.keepError||(tn(r.errors,M),b.isValid&&j()),w.state.next({...r}))},Oe=(M,P={})=>{const ie=M?pn(M):o,Ee=pn(ie),ye=Wn(M),je=ye?o:Ee;if(P.keepDefaultValues||(o=ie),!P.keepValues){if(P.keepDirtyValues){const Ae=new Set([...h.mount,...Object.keys(Ni(o,u))]);for(const He of Array.from(Ae))Re(r.dirtyFields,He)?Et(je,He,Re(u,He)):D(He,Re(je,He))}else{if(zh&&Pt(M))for(const Ae of h.mount){const He=Re(i,Ae);if(He&&He._f){const Ve=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Vc(Ve)){const _t=Ve.closest("form");if(_t){_t.reset();break}}}}if(P.keepFieldsRef)for(const Ae of h.mount)D(Ae,Re(je,Ae));else i={}}u=n.shouldUnregister?P.keepDefaultValues?pn(o):{}:pn(je),w.array.next({values:{...je}}),w.state.next({values:{...je}})}h={mount:P.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!P.keepIsValid||!!P.keepDirtyValues,d.watch=!!n.shouldUnregister,w.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!Gr(M,o)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:P.keepDirtyValues?P.keepDefaultValues&&u?Ni(o,u):r.dirtyFields:P.keepDefaultValues&&M?Ni(o,M):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Te=(M,P)=>Oe(As(M)?M(u):M,P),Ye=(M,P={})=>{const ie=Re(i,M),Ee=ie&&ie._f;if(Ee){const ye=Ee.refs?Ee.refs[0]:Ee.ref;ye.focus&&(ye.focus(),P.shouldSelect&&As(ye.select)&&ye.select())}},Ut=M=>{r={...r,...M}},Cn={control:{register:le,unregister:Y,getFieldState:k,handleSubmit:Ce,setError:ce,_subscribe:ee,_runSchema:U,_focusError:ge,_getWatch:$,_getDirty:re,_setValid:j,_setFieldArray:T,_setDisabledField:q,_setErrors:z,_getFieldArray:K,_reset:Oe,_resetDefaultValues:()=>As(n.defaultValues)&&n.defaultValues().then(M=>{Te(M,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:xe,_subjects:w,_proxyFormState:b,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(M){d=M},get _defaultValues(){return o},get _names(){return h},set _names(M){h=M},get _formState(){return r},get _options(){return n},set _options(M){n={...n,...M}}},subscribe:H,trigger:de,register:le,handleSubmit:Ce,watch:F,setValue:D,getValues:ae,reset:Te,resetField:We,clearErrors:Q,unregister:Y,setError:ce,setFocus:Ye,getFieldState:k};return{...Cn,formControl:Cn}}function Jv(e={}){const n=vt.useRef(void 0),r=vt.useRef(void 0),[i,o]=vt.useState({isDirty:!1,isValidating:!1,isLoading:As(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:As(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!As(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...h}=r2(e);n.current={...h,formState:i}}const u=n.current.control;return u._options=e,Zk(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),u._formState.isReady=!0,d},[u]),vt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),vt.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),vt.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),vt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),vt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),vt.useEffect(()=>{e.values&&!Gr(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,o(d=>({...d}))):u._resetDefaultValues()},[u,e.values]),vt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=Hk(i,u),n.current}const O0=(e,n,r)=>{if(e&&"reportValidity"in e){const i=Re(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},sh=(e,n)=>{for(const r in n.fields){const i=n.fields[r];i&&i.ref&&"reportValidity"in i.ref?O0(i.ref,r,e):i&&i.refs&&i.refs.forEach(o=>O0(o,r,e))}},L0=(e,n)=>{n.shouldUseNativeValidation&&sh(e,n);const r={};for(const i in e){const o=Re(n.fields,i),u=Object.assign(e[i]||{},{ref:o&&o.ref});if(a2(n.names||Object.keys(e),i)){const d=Object.assign({},Re(r,i));Et(d,"root",u),Et(r,i,d)}else Et(r,i,u)}return r},a2=(e,n)=>{const r=U0(n);return e.some(i=>U0(i).match(`^${r}\\.\\d+`))};function U0(e){return e.replace(/\]|\[/g,"")}function B0(e,n){try{var r=e()}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}function i2(e,n){for(var r={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!r[d])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];r[d]={message:h.message,type:h.code}}else r[d]={message:u,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(v){return e.push(v)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Uh(d,n,r,o,x?[].concat(x,i.message):i.message)}e.shift()}return r}function l2(e,n){for(var r={};e.length;){var i=e[0],o=i.code,u=i.message,d=i.path.join(".");if(!r[d])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];r[d]={message:h.message,type:h.code}}else r[d]={message:u,type:o};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(v){return e.push(v)})}),n){var g=r[d].types,x=g&&g[i.code];r[d]=Uh(d,n,r,o,x?[].concat(x,i.message):i.message)}e.shift()}return r}function ey(e,n,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,o,u){try{return Promise.resolve(B0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,n)).then(function(d){return u.shouldUseNativeValidation&&sh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(h){return Array.isArray(h?.issues)})(d))return{values:{},errors:L0(i2(d.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,o,u){try{return Promise.resolve(B0(function(){return Promise.resolve((r.mode==="sync"?EE:NE)(e,i,n)).then(function(d){return u.shouldUseNativeValidation&&sh({},u),{errors:{},values:r.raw?Object.assign({},i):d}})},function(d){if((function(h){return h instanceof Mh})(d))return{values:{},errors:L0(l2(d.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}async function o2(e={}){const{page:n,pageSize:r,search:i,includeTotal:o,signal:u}=e,d={};typeof n=="number"&&n>0&&(d.page=n),typeof r=="number"&&r>0&&(d.page_size=r),o&&(d.include_total=!0);const h=i?.trim();h&&(d.q=h);const{data:g}=await Be.GET("/api/v1/users",{params:{query:d},signal:u});if(!g)throw new Error("Expected user page payload.");return g}function ty(e={}){const{enabled:n=!0,search:r="",pageSize:i}=e,o=r.trim(),u=o.length>=2?o:"",d=yh({queryKey:["users","all",{search:o,pageSize:i}],initialPageParam:1,queryFn:({pageParam:x,signal:b})=>o2(c2({page:typeof x=="number"?x:1,pageSize:i,search:u||void 0,signal:b})),getNextPageParam:x=>x.has_next?x.page+1:void 0,enabled:n,staleTime:6e4}),h=p.useCallback(x=>x.id,[]),g=Nh(d.data?.pages,h);return{...d,users:g}}function c2(e){const n=!e.page||e.page<1?1:e.page;return{...e,page:n}}const u2=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,d2=uu({name:Ds().min(1,"Workspace name is required.").max(100,"Keep the name under 100 characters."),slug:Ds().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(u2,"Use lowercase letters, numbers, and dashes."),ownerUserId:Ds().optional()});function f2(){return l.jsx(tu,{children:l.jsx(h2,{})})}function h2(){const e=It(),n=Ri(),r=JS(),o=p.useMemo(()=>(n.user.permissions??[]).map(Z=>Z.toLowerCase()),[n.user.permissions]).includes("users.read_all"),u=ty({enabled:o,pageSize:50}),d=p.useMemo(()=>u.users,[u.users]),h=p.useMemo(()=>n.user.id?d.filter(Z=>Z.id!==n.user.id):d,[d,n.user.id]),{register:g,handleSubmit:x,watch:b,setValue:v,setError:w,clearErrors:E,formState:{errors:N,dirtyFields:j}}=Jv({resolver:ey(d2),defaultValues:{name:"",slug:"",ownerUserId:n.user.id??""}}),_=b("name"),T=b("slug");p.useEffect(()=>{if(j.slug)return;const Z=m2(_);Z!==T&&v("slug",Z,{shouldValidate:!!Z})},[j.slug,_,v,T]),p.useEffect(()=>{!o&&n.user.id&&v("ownerUserId",n.user.id,{shouldDirty:!1})},[o,n.user.id,v]);const C=r.isPending,z=u.isPending&&u.users.length===0,L=C||z||!o,O=n.user.display_name?`${n.user.display_name} (you)`:`${n.user.email??"Current user"} (you)`,te=g("ownerUserId"),U=x(Z=>{if(E("root"),o&&!Z.ownerUserId){w("ownerUserId",{type:"manual",message:"Select a workspace owner."});return}r.mutate({name:Z.name.trim(),slug:Z.slug.trim(),owner_user_id:o&&Z.ownerUserId||void 0},{onSuccess(W){e(_h(W.id))},onError(W){if(W instanceof qn){const G=W.problem?.detail??W.message,re=W.problem?.errors??{};w("root",{type:"server",message:G}),re.name?.[0]&&w("name",{type:"server",message:re.name[0]}),re.slug?.[0]&&w("slug",{type:"server",message:re.slug[0]}),re.owner_user_id?.[0]&&w("ownerUserId",{type:"server",message:re.owner_user_id[0]});return}w("root",{type:"server",message:W instanceof Error?W.message:"Workspace creation failed."})}})});return l.jsx(Iv,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create a workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Name the workspace and choose who should own it. You can adjust settings and permissions after the workspace is created."})]}),l.jsxs("form",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",onSubmit:U,children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsx(yt,{label:"Workspace name",required:!0,error:N.name?.message,children:l.jsx(pt,{id:"workspaceName",placeholder:"Finance Operations",...g("name"),invalid:!!N.name,disabled:C})}),l.jsx(yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier",required:!0,error:N.slug?.message,children:l.jsx(pt,{id:"workspaceSlug",placeholder:"finance-ops",...g("slug"),invalid:!!N.slug,disabled:C})})]}),o?l.jsxs(yt,{label:"Workspace owner",hint:"Owner receives workspace-level permissions immediately.",error:N.ownerUserId?.message,children:[l.jsxs("select",{id:"workspaceOwner",...te,onChange:Z=>{te.onChange(Z),E("ownerUserId")},disabled:L,className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",children:[l.jsx("option",{value:n.user.id??"",children:O}),h.map(Z=>l.jsx("option",{value:Z.id,children:Z.display_name?`${Z.display_name} (${Z.email})`:Z.email},Z.id))]}),u.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>u.fetchNextPage(),disabled:u.isFetchingNextPage,children:u.isFetchingNextPage?"Loading more users":"Load more users"})}):null]}):null,N.root?l.jsx(nt,{tone:"danger",children:N.root.message}):null,o&&u.isError?l.jsx(nt,{tone:"warning",children:"Unable to load the user list. Continue with yourself as the workspace owner or try again later."}):null,l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(_e,{type:"button",variant:"secondary",onClick:()=>e("/workspaces"),disabled:C,children:"Cancel"}),l.jsx(_e,{type:"submit",isLoading:C,children:C?"Creating workspace":"Create workspace"})]})]})]})})}function m2(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,100)}const ny=p.createContext(void 0);function p2({workspace:e,workspaces:n,children:r}){const i=p.useMemo(()=>{const o=e.permissions;return{workspace:e,workspaces:n,permissions:o,hasPermission(u){const d=u.toLowerCase();return o.includes(u)||o.includes(d)}}},[e,n]);return l.jsx(ny.Provider,{value:i,children:r})}function gr(){const e=p.useContext(ny);if(!e)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}const g2=[{id:"explorer",label:"Explorer",icon:l.jsx(b2,{})},{id:"search",label:"Search",icon:l.jsx(v2,{})},{id:"scm",label:"Source Control",icon:l.jsx(y2,{})},{id:"extensions",label:"Extensions",icon:l.jsx(w2,{})}];function x2({activeView:e,onSelectView:n,onOpenSettings:r,appearance:i}){const o=i==="dark"?{bg:"bg-[#1b1b1f]",border:"border-[#111111]",iconIdle:"text-slate-400",iconActive:"text-[#4fc1ff]",hover:"hover:text-white hover:bg-white/5 focus-visible:text-white",indicator:"bg-[#4fc1ff]"}:{bg:"bg-[#f3f3f3]",border:"border-[#d0d0d0]",iconIdle:"text-slate-500",iconActive:"text-[#005fb8]",hover:"hover:text-[#0f172a] hover:bg-black/5 focus-visible:text-[#0f172a]",indicator:"bg-[#005fb8]"};return l.jsxs("aside",{className:me("flex h-full w-14 flex-col items-center justify-between border-r",o.bg,o.border,o.iconIdle),"aria-label":"Workbench navigation",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 py-3",children:g2.map(u=>{const d=e===u.id;return l.jsxs("button",{type:"button",onClick:()=>n(u.id),className:me("relative flex h-10 w-10 items-center justify-center rounded-lg text-base transition",d?o.iconActive:me(o.iconIdle,o.hover)),"aria-label":u.label,"aria-pressed":d,children:[d?l.jsx("span",{className:me("absolute left-0 top-1/2 h-6 w-1 -translate-y-1/2 rounded",o.indicator)}):null,u.icon]},u.id)})}),l.jsx("div",{className:"flex flex-col items-center gap-3 pb-3",children:l.jsx("button",{type:"button",onClick:r,className:me("flex h-10 w-10 items-center justify-center rounded-lg text-base transition",o.iconIdle,o.hover),"aria-label":"Open settings",children:l.jsx(j2,{})})})]})}function b2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4"}),l.jsx("path",{d:"M4 8.25h12",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M8.25 4v12",stroke:"currentColor",strokeWidth:"1.2"})]})}function v2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"9",cy:"9",r:"4.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7 12.7l4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function y2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6.5 4a1.75 1.75 0 1 1-1.5 0v12m9-8a1.75 1.75 0 1 1-1.5 0v8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M5 9.5h10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function w2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h4l4 4v6.5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.3"}),l.jsx("path",{d:"M10 4.5v4h4",stroke:"currentColor",strokeWidth:"1.3"})]})}function j2(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 6.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10h2m10 0h2M10 3v2m0 10v2M5.2 5.2l1.4 1.4m7 7 1.4 1.4M14.8 5.2l-1.4 1.4m-7 7-1.4 1.4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}const qh=p.createContext(null);function sy({value:e,onValueChange:n,children:r}){const i=p.useId(),o=p.useRef([]),u=p.useRef(new Map),d=p.useCallback((v,w)=>{o.current.includes(v)||o.current.push(v),u.current.set(v,w)},[]),h=p.useCallback(v=>{o.current=o.current.filter(w=>w!==v),u.current.delete(v)},[]),g=p.useCallback(v=>{v&&u.current.get(v)?.focus()},[]),x=p.useCallback(()=>o.current.slice(),[]),b=p.useMemo(()=>({value:e,setValue:n,baseId:i,registerValue:d,unregisterValue:h,focusValue:g,getValues:x}),[e,n,i,d,h,g,x]);return l.jsx(qh.Provider,{value:b,children:r})}function ry({children:e,...n}){return l.jsx("div",{role:"tablist",...n,children:e})}function rh({value:e,children:n,className:r,onClick:i,onKeyDown:o,disabled:u,...d}){const h=p.useContext(qh);if(!h)throw new Error("TabsTrigger must be used within a TabsRoot");const{registerValue:g,unregisterValue:x,focusValue:b,getValues:v}=h,w=h.value===e,E=`${h.baseId}-tab-${e}`,N=`${h.baseId}-panel-${e}`,j=p.useCallback(T=>{g(e,T)},[g,e]);p.useLayoutEffect(()=>()=>x(e),[x,e]);const _=T=>{if(o?.(T),T.defaultPrevented)return;const C=v(),z=C.indexOf(e);if(z===-1||C.length===0)return;let L=z;T.key==="ArrowRight"?(T.preventDefault(),L=(z+1)%C.length):T.key==="ArrowLeft"?(T.preventDefault(),L=(z-1+C.length)%C.length):T.key==="Home"?(T.preventDefault(),L=0):T.key==="End"&&(T.preventDefault(),L=C.length-1);const O=C[L];O&&O!==h.value&&h.setValue(O),b(O)};return l.jsx("button",{...d,ref:j,type:"button",role:"tab",id:E,"aria-selected":w,"aria-controls":N,tabIndex:w?0:-1,className:r,disabled:u,onKeyDown:_,onClick:T=>{i?.(T),!T.defaultPrevented&&!u&&h.setValue(e)},children:n})}function ah({value:e,children:n,className:r,...i}){const o=p.useContext(qh);if(!o)throw new Error("TabsContent must be used within a TabsRoot");const u=o.value===e,d=`${o.baseId}-panel-${e}`,h=`${o.baseId}-tab-${e}`;return l.jsx("div",{...i,role:"tabpanel",id:d,"aria-labelledby":h,className:r,hidden:!u,tabIndex:0,children:n})}function ji(e,n,r){let i=r.initialDeps??[],o,u=!0;function d(){var h,g,x;let b;r.key&&((h=r.debug)!=null&&h.call(r))&&(b=Date.now());const v=e();if(!(v.length!==i.length||v.some((N,j)=>i[j]!==N)))return o;i=v;let E;if(r.key&&((g=r.debug)!=null&&g.call(r))&&(E=Date.now()),o=n(...v),r.key&&((x=r.debug)!=null&&x.call(r))){const N=Math.round((Date.now()-b)*100)/100,j=Math.round((Date.now()-E)*100)/100,_=j/16,T=(C,z)=>{for(C=String(C);C.length<z;)C=" "+C;return C};console.info(`%c ${T(j,5)} /${T(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,r?.key)}return r?.onChange&&!(u&&r.skipInitialOnChange)&&r.onChange(o),u=!1,o}return d.updateDeps=h=>{i=h},d}function $0(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const S2=(e,n)=>Math.abs(e-n)<1.01,E2=(e,n,r)=>{let i;return function(...o){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,o),r)}},q0=e=>{const{offsetWidth:n,offsetHeight:r}=e;return{width:n,height:r}},N2=e=>e,C2=e=>{const n=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let o=n;o<=r;o++)i.push(o);return i},_2=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;const o=d=>{const{width:h,height:g}=d;n({width:Math.round(h),height:Math.round(g)})};if(o(q0(r)),!i.ResizeObserver)return()=>{};const u=new i.ResizeObserver(d=>{const h=()=>{const g=d[0];if(g?.borderBoxSize){const x=g.borderBoxSize[0];if(x){o({width:x.inlineSize,height:x.blockSize});return}}o(q0(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return u.observe(r,{box:"border-box"}),()=>{u.unobserve(r)}},F0={passive:!0},H0=typeof window>"u"?!0:"onscrollend"in window,k2=(e,n)=>{const r=e.scrollElement;if(!r)return;const i=e.targetWindow;if(!i)return;let o=0;const u=e.options.useScrollendEvent&&H0?()=>{}:E2(i,()=>{n(o,!1)},e.options.isScrollingResetDelay),d=b=>()=>{const{horizontal:v,isRtl:w}=e.options;o=v?r.scrollLeft*(w&&-1||1):r.scrollTop,u(),n(o,b)},h=d(!0),g=d(!1);g(),r.addEventListener("scroll",h,F0);const x=e.options.useScrollendEvent&&H0;return x&&r.addEventListener("scrollend",g,F0),()=>{r.removeEventListener("scroll",h),x&&r.removeEventListener("scrollend",g)}},T2=(e,n,r)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},A2=(e,{adjustments:n=0,behavior:r},i)=>{var o,u;const d=e+n;(u=(o=i.scrollElement)==null?void 0:o.scrollTo)==null||u.call(o,{[i.options.horizontal?"left":"top"]:d,behavior:r})};class D2{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const i=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(o=>{o.forEach(u=>{const d=()=>{this._measureElement(u.target,u)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var o;(o=i())==null||o.disconnect(),r=null},observe:o=>{var u;return(u=i())==null?void 0:u.observe(o,{box:"border-box"})},unobserve:o=>{var u;return(u=i())==null?void 0:u.unobserve(o)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([i,o])=>{typeof o>"u"&&delete r[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:N2,rangeExtractor:C2,onChange:()=>{},measureElement:T2,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var i,o;(o=(i=this.options).onChange)==null||o.call(i,this,r)},this.maybeNotify=ji(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=u,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,i)=>{const o=new Map,u=new Map;for(let d=i-1;d>=0;d--){const h=r[d];if(o.has(h.lane))continue;const g=u.get(h.lane);if(g==null||h.end>g.end?u.set(h.lane,h):h.end<g.end&&o.set(h.lane,!0),o.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((d,h)=>d.end===h.end?d.index-h.index:d.end-h.end)[0]:void 0},this.getMeasurementOptions=ji(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(r,i,o,u,d,h)=>(this.prevLanes!==void 0&&this.prevLanes!==h&&(this.lanesChangedFlag=!0),this.prevLanes=h,this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=ji(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:i,scrollMargin:o,getItemKey:u,enabled:d,lanes:h},g)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>r)for(const w of this.laneAssignments.keys())w>=r&&this.laneAssignments.delete(w);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(w=>{this.itemSizeCache.set(w.key,w.size)}));const x=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===r&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,x),v=new Array(h).fill(void 0);for(let w=0;w<x;w++){const E=b[w];E&&(v[E.lane]=w)}for(let w=x;w<r;w++){const E=u(w),N=this.laneAssignments.get(w);let j,_;if(N!==void 0&&this.options.lanes>1){j=N;const L=v[j],O=L!==void 0?b[L]:void 0;_=O?O.end+this.options.gap:i+o}else{const L=this.options.lanes===1?b[w-1]:this.getFurthestMeasurement(b,w);_=L?L.end+this.options.gap:i+o,j=L?L.lane:w%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(w,j)}const T=g.get(E),C=typeof T=="number"?T:this.options.estimateSize(w),z=_+C;b[w]={index:w,start:_,size:C,end:z,key:E,lane:j},v[j]=w}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ji(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,i,o,u)=>this.range=r.length>0&&i>0?M2({measurements:r,outerSize:i,scrollOffset:o,lanes:u}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ji(()=>{let r=null,i=null;const o=this.calculateRange();return o&&(r=o.startIndex,i=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,i]},(r,i,o,u,d)=>u===null||d===null?[]:r({startIndex:u,endIndex:d,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const i=this.options.indexAttribute,o=r.getAttribute(i);return o?parseInt(o,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(r,i)=>{const o=this.indexFromElement(r),u=this.measurementsCache[o];if(!u)return;const d=u.key,h=this.elementsCache.get(d);h!==r&&(h&&this.observer.unobserve(h),this.observer.observe(r),this.elementsCache.set(d,r)),r.isConnected&&this.resizeItem(o,this.options.measureElement(r,i,this))},this.resizeItem=(r,i)=>{const o=this.measurementsCache[r];if(!o)return;const u=this.itemSizeCache.get(o.key)??o.size,d=i-u;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,d,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,i)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((i,o)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(o))});return}this._measureElement(r,void 0)},this.getVirtualItems=ji(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,i)=>{const o=[];for(let u=0,d=r.length;u<d;u++){const h=r[u],g=i[h];o.push(g)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const i=this.getMeasurements();if(i.length!==0)return $0(i[ay(0,i.length-1,o=>$0(i[o]).start,r)])},this.getOffsetForAlignment=(r,i,o=0)=>{const u=this.getSize(),d=this.getScrollOffset();i==="auto"&&(i=r>=d+u?"end":"start"),i==="center"?r+=(o-u)/2:i==="end"&&(r-=u);const h=this.getTotalSize()+this.options.scrollMargin-u;return Math.max(Math.min(h,r),0)},this.getOffsetForIndex=(r,i="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const o=this.measurementsCache[r];if(!o)return;const u=this.getSize(),d=this.getScrollOffset();if(i==="auto")if(o.end>=d+u-this.options.scrollPaddingEnd)i="end";else if(o.start<=d+this.options.scrollPaddingStart)i="start";else return[d,i];const h=i==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,i,o.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:i="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,i),{adjustments:void 0,behavior:o})},this.scrollToIndex=(r,{align:i="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let u=0;const d=10,h=x=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(r,x);if(!b){console.warn("Failed to get offset for index:",r);return}const[v,w]=b;this._scrollToOffset(v,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const E=this.getScrollOffset(),N=this.getOffsetForIndex(r,w);if(!N){console.warn("Failed to get offset for index:",r);return}S2(N[0],E)||g(w)})},g=x=>{this.targetWindow&&(u++,u<d?this.targetWindow.requestAnimationFrame(()=>h(x)):console.warn(`Failed to scroll to index ${r} after ${d} attempts.`))};h(i)},this.scrollBy=(r,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var r;const i=this.getMeasurements();let o;if(i.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((r=i[i.length-1])==null?void 0:r.end)??0;else{const u=Array(this.options.lanes).fill(null);let d=i.length-1;for(;d>=0&&u.some(h=>h===null);){const h=i[d];u[h.lane]===null&&(u[h.lane]=h.end),d--}o=Math.max(...u.filter(h=>h!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:i,behavior:o})=>{this.options.scrollToFn(r,{behavior:o,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const ay=(e,n,r,i)=>{for(;e<=n;){const o=(e+n)/2|0,u=r(o);if(u<i)e=o+1;else if(u>i)n=o-1;else return o}return e>0?e-1:0};function M2({measurements:e,outerSize:n,scrollOffset:r,lanes:i}){const o=e.length-1,u=g=>e[g].start;if(e.length<=i)return{startIndex:0,endIndex:o};let d=ay(0,o,u,r),h=d;if(i===1)for(;h<o&&e[h].end<r+n;)h++;else if(i>1){const g=Array(i).fill(0);for(;h<o&&g.some(b=>b<r+n);){const b=e[h];g[b.lane]=b.end,h++}const x=Array(i).fill(r+n);for(;d>=0&&x.some(b=>b>=r);){const b=e[d];x[b.lane]=b.start,d--}d=Math.max(0,d-d%i),h=Math.min(o,h+(i-1-h%i))}return{startIndex:d,endIndex:h}}const Z0=typeof document<"u"?p.useLayoutEffect:p.useEffect;function R2(e){const n=p.useReducer(()=>({}),{})[1],r={...e,onChange:(o,u)=>{var d;u?ls.flushSync(n):n(),(d=e.onChange)==null||d.call(e,o,u)}},[i]=p.useState(()=>new D2(r));return i.setOptions(r),Z0(()=>i._didMount(),[]),Z0(()=>i._willUpdate()),i}function z2(e){return R2({observeElementRect:_2,observeElementOffset:k2,scrollToFn:A2,...e})}function I0(e){return e==="debug"?0:e==="error"?3:e==="warning"?2:e==="success"||e==="info"?1:0}function O2(e){const n=e.raw;if(n&&typeof n=="object"){const r=$2(n);if(r)return r}return B2(e.message)}function iy(e){const n=e.raw;if(!n||typeof n!="object")return null;try{return JSON.stringify(n)}catch{return null}}function L2(e){if(e==null)return l.jsx("span",{className:"text-slate-500",children:"null"});let n;try{n=JSON.stringify(e,null,2)}catch{n=String(e)}return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[12px] leading-relaxed text-[#d4d4d4]",children:ly(n)})}function U2(e){try{const n=JSON.parse(e);if(n&&typeof n=="object")return n}catch{return null}return null}function B2(e){if(e.includes(`
`)){const i=e.split(/\r?\n/),[o,...u]=i;return l.jsxs("div",{className:"flex flex-col gap-[2px]",children:[l.jsx("span",{className:"break-words",children:o||" "}),u.length>0?l.jsx("pre",{className:"whitespace-pre-wrap break-words border-l border-[#2f2f2f] pl-3 text-[12px] leading-snug text-[#9da5b4]",children:u.join(`
`)}):null]})}const n=U2(e);if(!n)return e;const r=JSON.stringify(n,null,2);return l.jsx("pre",{className:"whitespace-pre-wrap break-words text-[13px] leading-relaxed text-[#d4d4d4]",children:ly(r)})}function ly(e){const n=/("(?:\\.|[^"])*"(?=:)|"(?:\\.|[^"])*")|(-?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b)|\b(true|false|null)\b/g,r=[];let i=0,o,u=0;for(;(o=n.exec(e))!==null;){o.index>i&&r.push(e.slice(i,o.index));const d=o[0],h=o[1]?"text-sky-300":o[2]?"text-amber-300":"text-rose-300";r.push(l.jsx("span",{className:h,children:d},`json-${u++}`)),i=n.lastIndex}return i<e.length&&r.push(e.slice(i)),r}function $2(e){const n=typeof e.event=="string"?e.event:typeof e.type=="string"?e.type:"";if(!n)return null;const r=typeof e.level=="string"?e.level.toLowerCase():"",i=typeof e.message=="string"?e.message:"",o=e.data&&typeof e.data=="object"?e.data:{};if(n==="console.line"){const u=typeof o.message=="string"?o.message:i;return l.jsx("span",{className:"break-words",children:u||" "})}if(n==="engine.log"){const u=Z2(i);return l.jsx("span",{className:"break-words",children:u.text||" "})}if(n.startsWith("build.")||n.startsWith("run.")){const u=typeof o.status=="string"?o.status:void 0,d=typeof o.reason=="string"?o.reason:void 0,h=typeof o.phase=="string"?o.phase:void 0,g=typeof o.message=="string"?o.message:void 0,x=b=>{if(!b||b<0)return"";if(b<1e3)return`${Math.round(b)} ms`;if(b<6e4)return`${(b/1e3).toFixed(1)} s`;const v=Math.floor(b/6e4),w=Math.round(b%6e4/1e3);return`${v}m ${w}s`};if(n==="build.phase.start")return l.jsx("span",{className:"break-words",children:g||(h?`Build: ${h}`:"Build phase started")});if(n==="build.start")return l.jsx("span",{className:"break-words",children:`Build started${d?` (${d})`:""}`});if(n==="build.queued")return l.jsx("span",{className:"break-words",children:`Build queued${d?` (${d})`:""}`});if(n==="build.complete")return l.jsx("span",{className:"break-words",children:`Build ${u??"completed"}`});if(n==="run.queued"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run queued${b?` (${b})`:""}`})}if(n==="run.waiting_for_build")return l.jsx("span",{className:"break-words",children:`Waiting for build${d?` (${d})`:""}`});if(n==="run.start"){const b=typeof o.mode=="string"?o.mode:void 0;return l.jsx("span",{className:"break-words",children:`Run started${b?` (${b})`:""}`})}if(n==="run.complete"){const b=o.execution&&typeof o.execution=="object"?o.execution:{},v=typeof b.duration_ms=="number"?b.duration_ms:void 0,w=v?`  ${x(v)}`:"";return l.jsx("span",{className:"break-words",children:`Run ${u??"completed"}${w}`})}return i.trim()?l.jsx("span",{className:"break-words",children:i}):n.startsWith("build.")?l.jsx("span",{className:"break-words",children:g||h||u||n}):l.jsx("span",{className:"break-words",children:u||n})}if(n==="engine.config.loaded"){const u=ot(o.config_package)??ot(o.config_package_name),d=ot(o.entrypoint),h=Array.isArray(o.fields)?o.fields.length:void 0,g=pr(o.settings),x=ot(g?.log_format),b=typeof g?.log_level=="number"?g.log_level:void 0,v=u?Kr(u):void 0,w=["Config loaded",d?`entry=${d}`:null,typeof h=="number"?`fields=${h}`:null,x?`log=${x}${typeof b=="number"?`(${b})`:""}`:null,v&&v!=="src"?v:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:w.join("  ")})}if(n==="engine.settings.effective"){const u=pr(o.settings);if(!u)return l.jsx("span",{className:"break-words",children:"Settings (effective)"});const d=ot(u.log_format),h=typeof u.log_level=="number"?u.log_level:void 0,g=typeof u.max_empty_rows_run=="number"?u.max_empty_rows_run:void 0,x=typeof u.max_empty_cols_run=="number"?u.max_empty_cols_run:void 0,b=ot(u.unmapped_prefix),v=["Settings",d?`log=${d}${typeof h=="number"?`(${h})`:""}`:null,b?`unmapped=${b}`:null,typeof g=="number"?`maxEmptyRows=${g}`:null,typeof x=="number"?`maxEmptyCols=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.hook.start"||n==="engine.hook.end"){const u=ot(o.hook_name)??ot(o.hook),d=n.endsWith(".start")?"start":"end";return l.jsx("span",{className:"break-words",children:u?`Hook ${u}  ${d}`:`Hook  ${d}`})}if(n==="engine.run.started"){const u=ot(o.input_file),d=ot(o.config_package),h=["Run started",u?Kr(u):null,d?`config=${Kr(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.planned"){const u=ot(o.output_file),d=ot(o.logs_file),h=["Run planned",u?`output=${Kr(u)}`:null,d?`logs=${Kr(d)}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.run.completed"){const u=ot(o.status),d=ot(o.stage),h=ot(o.output_path),g=["Run completed",u||null,d?`stage=${d}`:null,h?Kr(h):null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.workbook.started"){const u=typeof o.sheet_count=="number"?o.sheet_count:void 0;return l.jsx("span",{className:"break-words",children:`Workbook start${typeof u=="number"?`  sheets=${u}`:""}`})}if(n==="engine.sheet.started"){const u=ot(o.sheet_name),d=typeof o.sheet_index=="number"?o.sheet_index+1:void 0,h=["Sheet start",u||null,typeof d=="number"?`#${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.sheet.tables_detected"){const u=ot(o.sheet_name),d=typeof o.table_count=="number"?o.table_count:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=[u||"Sheet",typeof d=="number"?`tables=${d}`:null,typeof h=="number"?`rows=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.table.detected"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.column_count=="number"?o.column_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","detected",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.extracted"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.col_count=="number"?o.col_count:void 0,x=[u||null,typeof d=="number"?`Table ${d}`:"Table","extracted",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`cols=${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:x.join("  ")})}if(n==="engine.table.mapped"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.mapped_fields=="number"?o.mapped_fields:void 0,g=typeof o.total_fields=="number"?o.total_fields:void 0,x=typeof o.passthrough_fields=="number"?o.passthrough_fields:void 0,b=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapped",typeof h=="number"&&typeof g=="number"?`mapped=${h}/${g}`:null,typeof x=="number"?`passthrough=${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.table.mapping_patched"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=[u||null,typeof d=="number"?`Table ${d}`:"Table","mapping patched"].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.table.normalized"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index+1:void 0,h=typeof o.row_count=="number"?o.row_count:void 0,g=typeof o.issue_count=="number"?o.issue_count:void 0,x=pr(o.issues_by_severity),b=x?F2(x,2):null,v=[u||null,typeof d=="number"?`Table ${d}`:"Table","normalized",typeof h=="number"?`rows=${h}`:null,typeof g=="number"?`issues=${g}`:null,b||null].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.table.written"){const u=ot(o.sheet_name),d=typeof o.table_index=="number"?o.table_index:void 0,h=ot(o.output_range),g=H2(i),x=[u||null,typeof d=="number"?`Table ${d+1}`:null,"written",h||null,g?`mapped=${g.mapped} unmapped=${g.unmapped}`:null].filter(Boolean).join("  ");return l.jsx("span",{className:"break-words",children:x||"Table written"})}if(n==="engine.validation.result"){const u=typeof o.validator=="string"?o.validator:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.issues_found=="number"?o.issues_found:void 0,g=typeof o.column_index=="number"?o.column_index:void 0,x=Array.isArray(o.results_sample)?o.results_sample:[],b=typeof h=="number"&&h>0&&x.length>0?`sample=${V0(JSON.stringify(x[0]),80)}`:null,v=["Validate",d??null,typeof g=="number"?`Col ${Cc(g)}`:null,u?`via ${u}`:null,typeof h=="number"?`issues=${h}`:null,b].filter(Boolean);return l.jsx("span",{className:"break-words",children:v.join("  ")})}if(n==="engine.validation.summary"){const u=typeof o.issues_total=="number"?o.issues_total:void 0;return l.jsx("span",{className:"break-words",children:`Validation summary${typeof u=="number"?`  issues=${u}`:""}`})}if(n==="engine.transform.result"){const u=typeof o.transform=="string"?o.transform:void 0,d=typeof o.field=="string"?o.field:void 0,h=typeof o.input_len=="number"?o.input_len:void 0,g=typeof o.output_len=="number"?o.output_len:void 0,x=typeof o.row_count=="number"?o.row_count:void 0,b=[u?`Transform ${u}`:"Transform",d??null,typeof x=="number"?`rows=${x}`:null,typeof h=="number"&&typeof g=="number"?`${h}${g}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.transform.derived_merge"){const u=ot(o.field),d=ot(o.mode),h=["Derived merge",u??null,d?`mode=${d}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:h.join("  ")})}if(n==="engine.column_detector.candidate"){const u=typeof o.column_index=="number"?o.column_index:void 0,d=typeof o.header=="string"?o.header:void 0,h=typeof o.best_field=="string"?o.best_field:void 0,g=typeof o.best_score=="number"?o.best_score:void 0,x=pr(o.scores),b=x?Ul(x,3):null,v=pr(o.contributions),w=v?Ul(v,2):null,E=[typeof u=="number"?`Col ${Cc(u)}`:null,d?`"${V0(d,32)}"`:null,h?`suggested=${h}`:null,typeof g=="number"?`(${g.toFixed(3)})`:null,b?`why: ${b}`:null,w?`signals: ${w}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:E.join("  ")})}if(n==="engine.column_detector.summary"){const u=Array.isArray(o.mapped)?o.mapped:[],d=typeof o.total_columns=="number"?o.total_columns:void 0,h=Array.isArray(o.unmapped_indices)?o.unmapped_indices.length:void 0,g=["Columns",typeof d=="number"?`total=${d}`:null,`mapped=${u.length}`,typeof h=="number"?`unmapped=${h}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:g.join("  ")})}if(n==="engine.row_detector.summary"){const u=ot(o.sheet_name),d=typeof o.header_row_index=="number"?o.header_row_index+1:void 0,h=typeof o.header_score=="number"?o.header_score:void 0,g=typeof o.data_start_index=="number"?o.data_start_index+1:void 0,x=typeof o.data_end_index=="number"?o.data_end_index+1:void 0,b=[u?`${u}`:"Rows",typeof d=="number"?`headerRow=${d}`:null,typeof h=="number"?`score=${h.toFixed(3)}`:null,typeof g=="number"&&typeof x=="number"?`dataRows=${g}..${x}`:null].filter(Boolean);return l.jsx("span",{className:"break-words",children:b.join("  ")})}if(n==="engine.detector.column_result"||n==="engine.detector.row_result"){const u=typeof o.sheet_name=="string"?o.sheet_name:void 0,d=typeof o.column_index=="number"?o.column_index:void 0,h=typeof o.row_index=="number"?o.row_index:void 0,g=o.detector&&typeof o.detector=="object"?o.detector:{},x=typeof g.name=="string"?g.name:void 0,b=typeof g.duration_ms=="number"?g.duration_ms:void 0,v=g.scores&&typeof g.scores=="object"?g.scores:null,w=v?Ul(v,2):null;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${Cc(d)}`:null,typeof h=="number"?`Row ${h+1}`:null,x?`ran ${x}`:"ran detector",typeof b=="number"?q2(b):null,w?`scores: ${w}`:null].filter(Boolean).join("  ")})}if(n==="engine.row_classification"){const u=ot(o.sheet_name),d=typeof o.row_index=="number"?o.row_index+1:void 0,h=pr(o.scores),g=h?Ul(h,2):null,x=pr(o.classification),b=ot(x?.row_kind),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_row_kinds)?x?.considered_row_kinds.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Row ${d}`:"Row",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}if(n==="engine.column_classification"){const u=ot(o.sheet_name),d=typeof o.column_index=="number"?o.column_index:void 0,h=pr(o.scores),g=h?Ul(h,2):null,x=pr(o.classification),b=ot(x?.field),v=typeof x?.score=="number"?x.score:void 0,w=Array.isArray(x?.considered_fields)?x?.considered_fields.length:void 0;return l.jsx("span",{className:"break-words",children:[u||null,typeof d=="number"?`Col ${Cc(d)}`:"Col",b?`label=${b}`:null,typeof v=="number"?`(${v.toFixed(3)})`:null,typeof w=="number"?`considered=${w}`:null,g?`why: ${g}`:null].filter(Boolean).join("  ")})}return i&&i!==n?l.jsx("span",{className:"break-words",children:i}):Object.keys(o).length?r==="debug"&&n.startsWith("engine.")?l.jsx("span",{className:"break-words",children:n}):l.jsx("span",{className:"break-words",children:n}):null}function ot(e){return typeof e=="string"&&e.trim().length?e:null}function pr(e){return!e||typeof e!="object"?null:e}function Kr(e){const n=e.trim();if(!n)return"";const r=n.split(/[\\/]/).filter(Boolean);return r[r.length-1]??n}function V0(e,n){return e.length<=n?e:e.slice(0,Math.max(0,n-1))+""}function Cc(e){let n=Math.floor(e);if(!Number.isFinite(n)||n<0)return String(e);let r="";for(;n>=0;)r=String.fromCharCode(n%26+65)+r,n=Math.floor(n/26)-1;return r}function q2(e){return!Number.isFinite(e)||e<0?`${e}ms`:e<1?`${e.toFixed(3)}ms`:e<10?`${e.toFixed(2)}ms`:e<100?`${e.toFixed(1)}ms`:e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}function Ul(e,n){const r=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&r.push([i,o]);return r.length?(r.sort((i,o)=>o[1]-i[1]),r.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${o.toFixed(3)}`).join(" ")):null}function F2(e,n){const r=[];for(const[i,o]of Object.entries(e))typeof o=="number"&&Number.isFinite(o)&&r.push([i,o]);return r.length?(r.sort((i,o)=>o[1]-i[1]),r.slice(0,Math.max(1,n)).map(([i,o])=>`${i}=${Math.round(o)}`).join(" ")):null}function H2(e){const n=e.match(/Rendered table with\s+(\d+)\s+\w+\s+columns?\s+and\s+(\d+)\s+unmapped/i);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);return!Number.isFinite(r)||!Number.isFinite(i)?null:{mapped:r,unmapped:i}}function Z2(e){const n=(e||"").trim();if(!n)return{text:""};const r="Config hook:",i=n.startsWith(r)?n.slice(r.length).trim():n,o=i.match(/^workbook start\s*\((.+)\)\s*$/i);if(o){const b=o[1];return{text:`Workbook start  ${Kr(b)}`,title:b}}const u=i.match(/^workbook before save\s*\((.+)\)\s*$/i);if(u){const b=u[1];return{text:`Workbook save  ${Kr(b)}`,title:b}}const d=i.match(/^sheet start\s*\((.+)\)\s*$/i);if(d)return{text:`Sheet start  ${d[1]}`};const h=i.match(/^table detected\s*\((.+)\)\s*$/i);if(h)return{text:`Table detected  ${h[1].replace(/\s*,\s*/g,"  ")}`};const g=i.match(/^table mapped\s*\((.+)\)\s*$/i);if(g){const b=g[1],v=b.match(/fields=\[(.*)\]/i);return v?{text:`Table mapped  fields=${v[1].split(",").map(E=>E.trim()).filter(Boolean).length}`,title:b}:{text:`Table mapped  ${b}`}}const x=i.match(/^table written\s*\((.+)\)\s*$/i);return x?{text:`Table written  ${x[1].replace(/\s*,\s*/g,"  ")}`}:{text:n}}const Q0="ade.ui.workbench.console.levelFilter.v1";function I2({console:e,latestRun:n,onClearConsole:r,runStatus:i}){const[o,u]=p.useState(()=>{const A={origin:"all",level:"info"};if(typeof window>"u")return A;try{const se=window.localStorage.getItem(Q0);if(se==="all"||se==="debug"||se==="info"||se==="warning"||se==="error"||se==="success")return{...A,level:se}}catch{}return A}),[d,h]=p.useState(!0),[g,x]=p.useState(!1),[b,v]=p.useState(!1),[w,E]=p.useState("parsed"),[N,j]=p.useState(null),[_,T]=p.useState(!1),C=p.useRef(null),z=p.useSyncExternalStore(e.subscribe.bind(e),e.getSnapshot,e.getSnapshot),L=z.length,O=p.useMemo(()=>{const A=I0(o.level),se=[];for(let de=0;de<z.length;de+=1){const ae=e.getLine(de);if(!ae)continue;const k=o.origin==="all"||(ae.origin??"run")===o.origin,Q=I0(ae.level),ce=o.level==="all"||Q>=A;k&&ce&&se.push(de)}return se},[e,z,o]),te=O.length>0,U=L>0,Z=i&&i!=="idle"?i:null,W=typeof navigator<"u"&&typeof navigator.clipboard?.writeText=="function",G=z2({count:O.length,getScrollElement:()=>C.current,estimateSize:()=>22,overscan:16});p.useEffect(()=>{d&&O.length!==0&&G.scrollToIndex(O.length-1,{align:"end"})},[d,O.length,z,G]),p.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Q0,o.level)}catch{}},[o.level]);const re=A=>{const se=A.currentTarget,ae=se.scrollHeight-se.scrollTop-se.clientHeight<16;!ae&&d?h(!1):ae&&!d&&h(!0)},$=()=>{h(!0),G.scrollToIndex(O.length-1,{align:"end"})},K=p.useCallback(async A=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(A),!0}catch{}if(typeof document>"u")return!1;try{const se=document.createElement("textarea");se.value=A,se.setAttribute("readonly","true"),se.style.position="fixed",se.style.left="-9999px",document.body.appendChild(se),se.select();const de=document.execCommand("copy");return document.body.removeChild(se),de}catch{return!1}},[]),ue=async()=>{if(!te)return;const A=[];for(const de of O){const ae=e.getLine(de);ae&&A.push(X2(ae,w))}const se=await K(A.join(`
`));x(se),se&&window.setTimeout(()=>x(!1),1500)},we=p.useCallback(A=>{!A.raw||typeof A.raw!="object"||(j(A),T(!0))},[]),D=()=>{T(!1)};return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden rounded-md border border-[#2a2a2a] bg-[#1e1e1e] font-mono text-[13px] leading-relaxed text-[#d4d4d4] shadow-[0_8px_24px_rgba(0,0,0,0.45)]",children:[l.jsxs("div",{className:"flex flex-col border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#232323]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-[11px] uppercase tracking-[0.22em] text-[#9da5b4]",children:[l.jsx("span",{className:"font-semibold tracking-[0.3em] text-slate-200",children:"ADE"}),l.jsx("span",{className:"text-slate-400",children:"Terminal"}),Z?l.jsx("span",{className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[10px] font-semibold tracking-[0.2em] text-slate-200",children:Z}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter logs by scope",children:["Origin",l.jsxs("select",{value:o.origin,onChange:A=>u(se=>({...se,origin:A.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"run",children:"Run"}),l.jsx("option",{value:"build",children:"Build"})]})]}),l.jsxs("label",{className:"flex items-center gap-1 text-slate-400",title:"Filter by severity",children:["Level",l.jsxs("select",{value:o.level,onChange:A=>u(se=>({...se,level:A.target.value})),className:"rounded border border-slate-700 bg-[#151515] px-2 py-1 text-[11px] text-slate-100 shadow-sm focus:border-emerald-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"debug",children:"Debug"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"success",children:"Success"})]})]}),l.jsx("button",{type:"button",onClick:()=>d?h(!1):$(),className:me("rounded px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",d?"border border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),title:"Auto-scroll to newest logs",children:d?"Following":"Follow"}),l.jsxs("div",{className:"flex items-center gap-2",title:"Toggle between parsed view and raw NDJSON",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"View"}),l.jsxs("div",{role:"radiogroup","aria-label":"Console view mode",className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",role:"radio","aria-checked":w==="parsed",onClick:()=>E("parsed"),className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="parsed"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"Parsed"}),l.jsx("button",{type:"button",role:"radio","aria-checked":w==="ndjson",onClick:()=>E("ndjson"),className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition focus:outline-none focus:ring-1 focus:ring-emerald-500",w==="ndjson"?"border-emerald-600/70 text-emerald-200":"border-slate-600 text-slate-200 hover:border-slate-400"),children:"NDJSON"})]})]}),l.jsx("button",{type:"button",onClick:ue,className:me("rounded border px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] transition",g?"border-emerald-600/60 bg-transparent text-emerald-200":"border border-slate-600 bg-transparent text-slate-200 hover:border-slate-400"),disabled:!te,title:W?"Copy visible console output":"Copy may be blocked by browser permissions",children:g?"Copied":"Copy"}),l.jsx("button",{type:"button",onClick:()=>r?.(),className:"rounded border border-slate-600 bg-[#0f0f0f] px-2 py-[6px] text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-200 transition hover:border-slate-400",title:"Clear console output",children:"Clear"})]})]}),n?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-[#2a2a2a] bg-[#181818] px-4 py-1.5 text-[11px] text-[#7f8794]",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx(V2,{status:n.status}),l.jsxs("span",{className:"truncate",title:n.runId,children:["Run ",n.runId]}),l.jsxs("span",{className:"truncate text-slate-500",children:[n.documentName??"Document not recorded",P0(n.sheetNames)?`  ${P0(n.sheetNames)}`:""]}),n.durationMs!=null?l.jsxs("span",{className:"text-slate-600",children:[" ",J2(n.durationMs)]}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-600",children:"Downloads"}),l.jsx(Mf,{href:n.outputUrl,label:n.outputFilename?`Output (${n.outputFilename})`:"Output",disabledLabel:"Output (not ready)",disabledReason:"Output is not available for this run."}),l.jsx(Mf,{href:n.logsUrl,label:"Events (NDJSON)",disabledLabel:"Events",disabledReason:"Events log is not available."}),l.jsx(Mf,{href:n.inputUrl,label:"Input",disabledLabel:"Input",disabledReason:"Input file download is not available."})]})]}):null]}),l.jsx("div",{ref:C,onScroll:re,className:"flex-1 overflow-auto bg-[#1e1e1e] [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:te?l.jsx("div",{style:{height:G.getTotalSize(),position:"relative"},children:G.getVirtualItems().map(A=>{const se=O[A.index],de=typeof se=="number"?e.getLine(se):void 0;if(!de)return null;const ae=de.id??`${de.timestamp??"tbd"}-${de.origin??"run"}-${se}`,k=!!(de.raw&&typeof de.raw=="object"),Q=w==="ndjson"?l.jsx("span",{className:"whitespace-pre-wrap break-words",children:iy(de)??de.message}):O2(de);return l.jsx("div",{"data-index":A.index,ref:G.measureElement,className:"group flex items-start gap-3 border-b border-[#1a1a1a] px-3 py-[2px] transition hover:bg-[#232323] last:border-b-0",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${A.start}px)`},children:l.jsxs("div",{className:"flex min-w-0 flex-1 items-baseline gap-2",children:[K2(de.timestamp),l.jsx("span",{className:"shrink-0 w-12 text-right font-mono text-[11px] leading-snug text-[#606674]",children:ih(de.origin)}),l.jsx("span",{className:me("shrink-0 w-14 text-right font-mono text-[11px] leading-snug",G2(de.level)),children:Y2(de.level)}),l.jsx("div",{className:me("min-w-0 whitespace-pre-wrap break-words text-[13px] leading-snug",Q2(de.level)),children:Q}),k?l.jsx("button",{type:"button",onClick:()=>we(de),className:"ml-2 shrink-0 rounded border border-slate-700 bg-[#101010] px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.12em] text-slate-300 opacity-0 transition hover:border-slate-500 hover:text-slate-100 group-hover:opacity-100",title:"Inspect pretty JSON",children:"JSON"}):null]})},ae)})}):U?l.jsx(W0,{title:"No console output matches these filters.",description:"Adjust origin or level filters to see more."}):l.jsx(W0,{title:"Waiting for ADE output",description:"Run validation or a test to stream logs into this terminal."})}),_&&N?.raw&&typeof N.raw=="object"?l.jsxs("div",{className:"border-t border-[#2a2a2a] bg-[#151515]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 text-[11px] text-slate-400",children:[l.jsxs("div",{className:"min-w-0 truncate",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Inspector"}),N.timestamp?l.jsxs("span",{className:"ml-2 text-slate-500",children:["[",Fh(N.timestamp),"]"]}):null,l.jsx("span",{className:"ml-2 text-slate-300",children:ih(N.origin)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:async()=>{const A=N.raw,se=JSON.stringify(A,null,2),de=await K(se);v(de),de&&window.setTimeout(()=>v(!1),1500)},className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Copy pretty JSON",children:b?"Copied":"Copy JSON"}),l.jsx("button",{type:"button",onClick:D,className:"rounded border border-slate-700 bg-[#101010] px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] text-slate-200 hover:border-slate-500",title:"Close inspector",children:"Close"})]})]}),l.jsx("div",{className:"max-h-[260px] overflow-auto px-3 pb-3 [color-scheme:dark]",style:{scrollbarColor:"#2f2f2f #111111"},children:L2(N.raw)})]}):null]})}function W0({title:e,description:n}){return l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 py-8 text-center text-[13px] text-slate-500",children:[l.jsx("p",{className:"tracking-wide text-slate-300",children:e}),l.jsx("p",{className:"text-[12px] leading-relaxed text-slate-500",children:n})]})}function V2({status:e}){const n=P2(e),r=e==="succeeded"?"bg-emerald-500":e==="running"||e==="queued"?"bg-amber-400":n?"bg-slate-400":"bg-rose-500";return l.jsx("span",{className:me("inline-block h-2.5 w-2.5 rounded-full",r),"aria-hidden":!0})}function Q2(e){switch(e){case"warning":return"text-amber-100";case"error":return"text-rose-100";case"success":return"text-emerald-100";default:return"text-[#d4d4d4]"}}function W2(e){switch(e){case"warning":return"WARN";case"error":return"ERROR";case"success":return"DONE";default:return"INFO"}}function P2(e){return e==="cancelled"}function ih(e){return e==="build"?"[build]":"[run]"}function K2(e){const n=Fh(e);return n?l.jsxs("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#7a8090]",children:["[",n,"]"]}):l.jsx("span",{className:"shrink-0 tabular-nums text-[11px] leading-snug text-[#4f5665]","aria-hidden":!0,children:""})}function Y2(e){switch(e){case"warning":return" warn";case"error":return" error";case"success":return" done";default:return" info"}}function G2(e){switch(e){case"warning":return"text-amber-300";case"error":return"text-rose-300";case"success":return"text-emerald-300";default:return"text-[#6f7683]"}}function Fh(e){if(!e)return"";const n=new Date(e);if(!Number.isNaN(n.getTime()))return n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});const r=e.trim();return r.length>0?r:""}function X2(e,n){const r=Fh(e.timestamp),i=ih(e.origin),o=W2(e.level).toLowerCase(),u=n==="ndjson"?iy(e)??e.message??"":e.message??"";return`${r?`[${r}] `:""}${i} ${o} ${u}`.trim()}function P0(e){return e?e.length===0?"All worksheets":e.join(", "):null}function J2(e){if(!Number.isFinite(e)||e<0)return"";if(e<1e3)return`${Math.round(e)} ms`;if(e<6e4)return`${(e/1e3).toFixed(1)} s`;const n=Math.floor(e/6e4),r=Math.round(e%6e4/1e3);return`${n}m ${r}s`}function Mf({href:e,label:n,disabledLabel:r,disabledReason:i}){const o=typeof e=="string"&&e.trim().length>0,u="inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.14em] transition",d="border-slate-700 bg-[#101010] text-slate-200 hover:border-slate-500",h="border-slate-800 bg-[#0f0f0f] text-slate-600 cursor-not-allowed";return o?l.jsxs("a",{className:me(u,d),href:e,title:n,children:[l.jsx(e5,{}),l.jsx("span",{className:"truncate",children:n})]}):l.jsx("span",{className:me(u,h),title:i,children:r})}function e5(){return l.jsxs("svg",{viewBox:"0 0 20 20",className:"h-3.5 w-3.5 text-slate-300",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M10 3v8m0 0 3-3m-3 3-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 13.5v2A1.5 1.5 0 0 0 5.5 17h9A1.5 1.5 0 0 0 16 15.5v-2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function t5({validation:e}){const n=s5(e),r=r5(e);return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:n}),e.lastRunAt?l.jsxs("span",{children:["Last run ",a5(e.lastRunAt)]}):null]}),e.messages.length>0?l.jsx("ul",{className:"space-y-1.5",children:e.messages.map((i,o)=>l.jsxs("li",{className:n5(i.level),children:[i.path?l.jsx("span",{className:"block text-[11px] font-medium uppercase tracking-wide text-slate-500",children:i.path}):null,l.jsx("span",{className:"text-[13px]",children:i.message})]},`${i.level}-${i.path??o}-${o}`))}):l.jsx("p",{className:"text-xs leading-relaxed text-slate-500",children:r})]})}function n5(e){switch(e){case"error":return"text-danger-600";case"warning":return"text-amber-600";default:return"text-slate-600"}}function s5(e){switch(e.status){case"running":return"Running validation...";case"success":{if(e.messages.length===0)return"Validation completed with no issues.";const n=e.messages.length;return`Validation completed with ${n} ${n===1?"issue":"issues"}.`}case"error":return e.error??"Validation failed.";default:return"No validation run yet."}}function r5(e){return e.status==="running"?"Validation in progress...":e.status==="success"?"No validation issues detected.":e.status==="error"?e.error??"Validation failed.":"Trigger validation from the workbench header to see ADE parsing results and manifest issues."}function a5(e){const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function i5({height:e,console:n,validation:r,activePane:i,onPaneChange:o,latestRun:u,onClearConsole:d,runStatus:h,onToggleCollapse:g,appearance:x="light"}){const b=r.messages.length>0,v=x==="dark"?{surface:"border-[#1f2431] bg-[#0f111a] text-slate-100",header:"border-[#1f2431] bg-[#0f111a]",hideButton:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{surface:"border-slate-200 bg-slate-50 text-slate-800",header:"border-slate-200 bg-slate-50",hideButton:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"};return l.jsx("section",{className:me("flex min-h-0 flex-col overflow-hidden border-t",v.surface),style:{height:e},children:l.jsxs(sy,{value:i,onValueChange:w=>o(w),children:[l.jsxs("div",{className:me("flex flex-none items-center justify-between border-b px-3 py-1.5",v.header),onDoubleClick:g,title:g?"Double-click to hide console":void 0,children:[l.jsxs(ry,{className:"flex items-center gap-3 text-[11px] font-medium",children:[l.jsx(rh,{value:"terminal",className:"rounded px-2 py-1 uppercase tracking-[0.16em]",children:"Terminal"}),l.jsxs(rh,{value:"problems",className:"flex items-center gap-1 rounded px-2 py-1 uppercase tracking-[0.16em]",children:["Problems",b?l.jsx("span",{className:"inline-flex h-4 min-w-[1.25rem] items-center justify-center rounded-full bg-rose-600 px-1 text-[10px] font-semibold text-white",children:r.messages.length}):null]})]}),g?l.jsx("button",{type:"button",onClick:g,className:me("rounded px-2 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition",v.hideButton),title:"Hide console",children:"Hide"}):null]}),l.jsx(ah,{value:"terminal",className:"flex min-h-0 flex-1 flex-col",children:l.jsx(I2,{console:n,latestRun:u,onClearConsole:d,runStatus:h})}),l.jsx(ah,{value:"problems",className:"flex min-h-0 flex-1 flex-col overflow-auto px-3 py-2 text-sm",children:l.jsx(t5,{validation:r})})]})})}function l5({containerRef:e,tabs:n,activeTabId:r,onCloseTab:i,onSelectRecentTab:o,onSelectTab:u}){return p.useEffect(()=>{if(!n.length)return;const d=g=>{const x=e.current;if(!x)return!1;const b=g.target;if(b instanceof Node&&x.contains(b))return!0;const v=document.activeElement;return!!(v&&x.contains(v))},h=g=>{if(!(g.ctrlKey||g.metaKey)||!d(g))return;if(g.key.toLowerCase()==="w"){if(!r)return;g.preventDefault(),i(r);return}if(g.key==="Tab"){if(n.length<2)return;g.preventDefault(),o(g.shiftKey?"backward":"forward");return}const x=b=>{if(n.length<2)return;const v=n.findIndex(j=>j.id===r),E=((v>=0?v:0)+b+n.length)%n.length,N=n[E];N&&u(N.id)};if(g.key==="PageUp"){g.preventDefault(),x(-1);return}g.key==="PageDown"&&(g.preventDefault(),x(1))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[n,r,i,o,u,e]),null}const o5=p.lazy(()=>Wj(()=>import("./MonacoCodeEditor-Dway6gZI.js"),[])),c5=p.forwardRef(function(n,r){const{className:i,...o}=n;return l.jsx(p.Suspense,{fallback:l.jsx("div",{className:me("relative h-full w-full",i),children:l.jsx("div",{className:"flex h-full items-center justify-center text-xs text-slate-400",children:"Loading editor"})}),children:l.jsx(o5,{...o,ref:r,className:i})})});function u5({tabs:e,activeTabId:n,editorTheme:r,onContentChange:i,onSaveTab:o,canSaveFiles:u=!1,onRetryTabLoad:d,onSelectTab:h,isTabDragging:g=!1}){return p.useMemo(()=>e.find(b=>b.id===n)??null,[e,n])?l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1",children:e.map(b=>l.jsx(ah,{value:b.id,className:"flex min-h-0 min-w-0 flex-1",children:b.status==="loading"?l.jsxs("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:["Loading ",b.name,""]}):b.status==="error"?l.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 text-center text-sm text-slate-500",children:[l.jsx("p",{children:b.error??"Unable to load the file."}),l.jsx("button",{type:"button",className:"rounded bg-brand-600 px-3 py-1 text-xs font-medium text-white hover:bg-brand-500",onClick:()=>d?d(b.id):h(b.id),children:"Retry loading"})]}):l.jsx("div",{className:me("flex min-h-0 min-w-0 flex-1",g&&"pointer-events-none select-none"),children:l.jsx(c5,{value:b.content,language:b.language??"plaintext",path:b.id,theme:r,onChange:v=>i(b.id,v??""),onSaveShortcut:()=>{u&&o?.(b.id)}})})},b.id))}):l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."})}function d5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>i=>{n.forEach(o=>o(i))},n)}const fu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oi(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Hh(e){return"nodeType"in e}function Kn(e){var n,r;return e?Oi(e)?e:Hh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Zh(e){const{Document:n}=Kn(e);return e instanceof n}function ro(e){return Oi(e)?!1:e instanceof Kn(e).HTMLElement}function oy(e){return e instanceof Kn(e).SVGElement}function Li(e){return e?Oi(e)?e.document:Hh(e)?Zh(e)?e:ro(e)||oy(e)?e.ownerDocument:document:document:document}const Ps=fu?p.useLayoutEffect:p.useEffect;function Ih(e){const n=p.useRef(e);return Ps(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.current==null?void 0:n.current(...i)},[])}function f5(){const e=p.useRef(null),n=p.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Kl(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return Ps(()=>{r.current!==e&&(r.current=e)},n),r}function ao(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Wc(e){const n=Ih(e),r=p.useRef(null),i=p.useCallback(o=>{o!==r.current&&n?.(o,r.current),r.current=o},[]);return[r,i]}function lh(e){const n=p.useRef();return p.useEffect(()=>{n.current=e},[e]),n.current}let Rf={};function io(e,n){return p.useMemo(()=>{if(n)return n;const r=Rf[e]==null?0:Rf[e]+1;return Rf[e]=r,e+"-"+r},[e,n])}function cy(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((u,d)=>{const h=Object.entries(d);for(const[g,x]of h){const b=u[g];b!=null&&(u[g]=b+e*x)}return u},{...n})}}const ki=cy(1),Pc=cy(-1);function h5(e){return"clientX"in e&&"clientY"in e}function Vh(e){if(!e)return!1;const{KeyboardEvent:n}=Kn(e.target);return n&&e instanceof n}function m5(e){if(!e)return!1;const{TouchEvent:n}=Kn(e.target);return n&&e instanceof n}function oh(e){if(m5(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return h5(e)?{x:e.clientX,y:e.clientY}:null}const Yl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Yl.Translate.toString(e),Yl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),K0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function p5(e){return e.matches(K0)?e:e.querySelector(K0)}const g5={display:"none"};function x5(e){let{id:n,value:r}=e;return vt.createElement("div",{id:n,style:g5},r)}function b5(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vt.createElement("div",{id:n,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function v5(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const uy=p.createContext(null);function y5(e){const n=p.useContext(uy);p.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function w5(){const[e]=p.useState(()=>new Set),n=p.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[p.useCallback(i=>{let{type:o,event:u}=i;e.forEach(d=>{var h;return(h=d[o])==null?void 0:h.call(d,u)})},[e]),n]}const j5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S5={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function E5(e){let{announcements:n=S5,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=j5}=e;const{announce:u,announcement:d}=v5(),h=io("DndLiveRegion"),[g,x]=p.useState(!1);if(p.useEffect(()=>{x(!0)},[]),y5(p.useMemo(()=>({onDragStart(v){let{active:w}=v;u(n.onDragStart({active:w}))},onDragMove(v){let{active:w,over:E}=v;n.onDragMove&&u(n.onDragMove({active:w,over:E}))},onDragOver(v){let{active:w,over:E}=v;u(n.onDragOver({active:w,over:E}))},onDragEnd(v){let{active:w,over:E}=v;u(n.onDragEnd({active:w,over:E}))},onDragCancel(v){let{active:w,over:E}=v;u(n.onDragCancel({active:w,over:E}))}}),[u,n])),!g)return null;const b=vt.createElement(vt.Fragment,null,vt.createElement(x5,{id:i,value:o.draggable}),vt.createElement(b5,{id:h,announcement:d}));return r?ls.createPortal(b,r):b}var on;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(on||(on={}));function Kc(){}function N5(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function C5(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const Rs=Object.freeze({x:0,y:0});function _5(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function k5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function T5(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function A5(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function Y0(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const D5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=Y0(n,n.left,n.top),u=[];for(const d of i){const{id:h}=d,g=r.get(h);if(g){const x=_5(Y0(g),o);u.push({id:h,data:{droppableContainer:d,value:x}})}}return u.sort(k5)};function M5(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),d=o-i,h=u-r;if(i<o&&r<u){const g=n.width*n.height,x=e.width*e.height,b=d*h,v=b/(g+x-b);return Number(v.toFixed(4))}return 0}const R5=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=[];for(const u of i){const{id:d}=u,h=r.get(d);if(h){const g=M5(h,n);g>0&&o.push({id:d,data:{droppableContainer:u,value:g}})}}return o.sort(T5)};function z5(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function dy(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Rs}function O5(e){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return o.reduce((d,h)=>({...d,top:d.top+e*h.y,bottom:d.bottom+e*h.y,left:d.left+e*h.x,right:d.right+e*h.x}),{...r})}}const L5=O5(1);function U5(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function B5(e,n,r){const i=U5(n);if(!i)return e;const{scaleX:o,scaleY:u,x:d,y:h}=i,g=e.left-d-(1-o)*parseFloat(r),x=e.top-h-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),b=o?e.width/o:e.width,v=u?e.height/u:e.height;return{width:b,height:v,top:x,right:g+b,bottom:x+v,left:g}}const $5={ignoreTransform:!1};function Ui(e,n){n===void 0&&(n=$5);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:b}=Kn(e).getComputedStyle(e);x&&(r=B5(r,x,b))}const{top:i,left:o,width:u,height:d,bottom:h,right:g}=r;return{top:i,left:o,width:u,height:d,bottom:h,right:g}}function G0(e){return Ui(e,{ignoreTransform:!0})}function q5(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function F5(e,n){return n===void 0&&(n=Kn(e).getComputedStyle(e)),n.position==="fixed"}function H5(e,n){n===void 0&&(n=Kn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=n[o];return typeof u=="string"?r.test(u):!1})}function Qh(e,n){const r=[];function i(o){if(n!=null&&r.length>=n||!o)return r;if(Zh(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!ro(o)||oy(o)||r.includes(o))return r;const u=Kn(e).getComputedStyle(o);return o!==e&&H5(o,u)&&r.push(o),F5(o,u)?r:i(o.parentNode)}return e?i(e):r}function fy(e){const[n]=Qh(e,1);return n??null}function zf(e){return!fu||!e?null:Oi(e)?e:Hh(e)?Zh(e)||e===Li(e).scrollingElement?window:ro(e)?e:null:null}function hy(e){return Oi(e)?e.scrollX:e.scrollLeft}function my(e){return Oi(e)?e.scrollY:e.scrollTop}function ch(e){return{x:hy(e),y:my(e)}}var gn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(gn||(gn={}));function py(e){return!fu||!e?!1:e===document.scrollingElement}function gy(e){const n={x:0,y:0},r=py(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,h=e.scrollLeft>=i.x;return{isTop:o,isLeft:u,isBottom:d,isRight:h,maxScroll:i,minScroll:n}}const Z5={x:.2,y:.2};function I5(e,n,r,i,o){let{top:u,left:d,right:h,bottom:g}=r;i===void 0&&(i=10),o===void 0&&(o=Z5);const{isTop:x,isBottom:b,isLeft:v,isRight:w}=gy(e),E={x:0,y:0},N={x:0,y:0},j={height:n.height*o.y,width:n.width*o.x};return!x&&u<=n.top+j.height?(E.y=gn.Backward,N.y=i*Math.abs((n.top+j.height-u)/j.height)):!b&&g>=n.bottom-j.height&&(E.y=gn.Forward,N.y=i*Math.abs((n.bottom-j.height-g)/j.height)),!w&&h>=n.right-j.width?(E.x=gn.Forward,N.x=i*Math.abs((n.right-j.width-h)/j.width)):!v&&d<=n.left+j.width&&(E.x=gn.Backward,N.x=i*Math.abs((n.left+j.width-d)/j.width)),{direction:E,speed:N}}function V5(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:n,left:r,right:i,bottom:o}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function xy(e){return e.reduce((n,r)=>ki(n,ch(r)),Rs)}function Q5(e){return e.reduce((n,r)=>n+hy(r),0)}function W5(e){return e.reduce((n,r)=>n+my(r),0)}function P5(e,n){if(n===void 0&&(n=Ui),!e)return;const{top:r,left:i,bottom:o,right:u}=n(e);fy(e)&&(o<=0||u<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K5=[["x",["left","right"],Q5],["y",["top","bottom"],W5]];class Wh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Qh(r),o=xy(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,d,h]of K5)for(const g of d)Object.defineProperty(this,g,{get:()=>{const x=h(i),b=o[u]-x;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ql{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var o;(o=this.target)==null||o.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function Y5(e){const{EventTarget:n}=Kn(e);return e instanceof n?e:Li(e)}function Of(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var bs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(bs||(bs={}));function X0(e){e.preventDefault()}function G5(e){e.stopPropagation()}var ct;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ct||(ct={}));const by={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},X5=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case ct.Right:return{...r,x:r.x+25};case ct.Left:return{...r,x:r.x-25};case ct.Down:return{...r,y:r.y+25};case ct.Up:return{...r,y:r.y-25}}};class vy{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new ql(Li(r)),this.windowListeners=new ql(Kn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(bs.Resize,this.handleCancel),this.windowListeners.add(bs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(bs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&P5(i),r(Rs)}handleKeyDown(n){if(Vh(n)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:u=by,coordinateGetter:d=X5,scrollBehavior:h="smooth"}=o,{code:g}=n;if(u.end.includes(g)){this.handleEnd(n);return}if(u.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:x}=i.current,b=x?{x:x.left,y:x.top}:Rs;this.referenceCoordinates||(this.referenceCoordinates=b);const v=d(n,{active:r,context:i.current,currentCoordinates:b});if(v){const w=Pc(v,b),E={x:0,y:0},{scrollableAncestors:N}=i.current;for(const j of N){const _=n.code,{isTop:T,isRight:C,isLeft:z,isBottom:L,maxScroll:O,minScroll:te}=gy(j),U=V5(j),Z={x:Math.min(_===ct.Right?U.right-U.width/2:U.right,Math.max(_===ct.Right?U.left:U.left+U.width/2,v.x)),y:Math.min(_===ct.Down?U.bottom-U.height/2:U.bottom,Math.max(_===ct.Down?U.top:U.top+U.height/2,v.y))},W=_===ct.Right&&!C||_===ct.Left&&!z,G=_===ct.Down&&!L||_===ct.Up&&!T;if(W&&Z.x!==v.x){const re=j.scrollLeft+w.x,$=_===ct.Right&&re<=O.x||_===ct.Left&&re>=te.x;if($&&!w.y){j.scrollTo({left:re,behavior:h});return}$?E.x=j.scrollLeft-re:E.x=_===ct.Right?j.scrollLeft-O.x:j.scrollLeft-te.x,E.x&&j.scrollBy({left:-E.x,behavior:h});break}else if(G&&Z.y!==v.y){const re=j.scrollTop+w.y,$=_===ct.Down&&re<=O.y||_===ct.Up&&re>=te.y;if($&&!w.x){j.scrollTo({top:re,behavior:h});return}$?E.y=j.scrollTop-re:E.y=_===ct.Down?j.scrollTop-O.y:j.scrollTop-te.y,E.y&&j.scrollBy({top:-E.y,behavior:h});break}}this.handleMove(n,ki(Pc(v,this.referenceCoordinates),E))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vy.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=by,onActivation:o}=n,{active:u}=r;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const h=u.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function J0(e){return!!(e&&"distance"in e)}function eb(e){return!!(e&&"delay"in e)}class Ph{constructor(n,r,i){var o;i===void 0&&(i=Y5(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:u}=n,{target:d}=u;this.props=n,this.events=r,this.document=Li(d),this.documentListeners=new ql(this.document),this.listeners=new ql(i),this.windowListeners=new ql(Kn(d)),this.initialCoordinates=(o=oh(u))!=null?o:Rs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(bs.Resize,this.handleCancel),this.windowListeners.add(bs.DragStart,X0),this.windowListeners.add(bs.VisibilityChange,this.handleCancel),this.windowListeners.add(bs.ContextMenu,X0),this.documentListeners.add(bs.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eb(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(J0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:o}=this.props;o(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(bs.Click,G5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(bs.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:o,props:u}=this,{onMove:d,options:{activationConstraint:h}}=u;if(!o)return;const g=(r=oh(n))!=null?r:Rs,x=Pc(o,g);if(!i&&h){if(J0(h)){if(h.tolerance!=null&&Of(x,h.tolerance))return this.handleCancel();if(Of(x,h.distance))return this.handleStart()}if(eb(h)&&Of(x,h.tolerance))return this.handleCancel();this.handlePending(h,x);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const J5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kh extends Ph{constructor(n){const{event:r}=n,i=Li(r.target);super(n,J5,i)}}Kh.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const eT={move:{name:"mousemove"},end:{name:"mouseup"}};var uh;(function(e){e[e.RightClick=2]="RightClick"})(uh||(uh={}));class tT extends Ph{constructor(n){super(n,eT,Li(n.event.target))}}tT.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===uh.RightClick?!1:(i?.({event:r}),!0)}}];const Lf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nT extends Ph{constructor(n){super(n,Lf)}static setup(){return window.addEventListener(Lf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Lf.move.name,n)};function n(){}}}nT.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:o}=r;return o.length>1?!1:(i?.({event:r}),!0)}}];var Fl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fl||(Fl={}));var Yc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yc||(Yc={}));function sT(e){let{acceleration:n,activator:r=Fl.Pointer,canScroll:i,draggingRect:o,enabled:u,interval:d=5,order:h=Yc.TreeOrder,pointerCoordinates:g,scrollableAncestors:x,scrollableAncestorRects:b,delta:v,threshold:w}=e;const E=aT({delta:v,disabled:!u}),[N,j]=f5(),_=p.useRef({x:0,y:0}),T=p.useRef({x:0,y:0}),C=p.useMemo(()=>{switch(r){case Fl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Fl.DraggableRect:return o}},[r,o,g]),z=p.useRef(null),L=p.useCallback(()=>{const te=z.current;if(!te)return;const U=_.current.x*T.current.x,Z=_.current.y*T.current.y;te.scrollBy(U,Z)},[]),O=p.useMemo(()=>h===Yc.TreeOrder?[...x].reverse():x,[h,x]);p.useEffect(()=>{if(!u||!x.length||!C){j();return}for(const te of O){if(i?.(te)===!1)continue;const U=x.indexOf(te),Z=b[U];if(!Z)continue;const{direction:W,speed:G}=I5(te,Z,C,n,w);for(const re of["x","y"])E[re][W[re]]||(G[re]=0,W[re]=0);if(G.x>0||G.y>0){j(),z.current=te,N(L,d),_.current=G,T.current=W;return}}_.current={x:0,y:0},T.current={x:0,y:0},j()},[n,L,i,j,u,d,JSON.stringify(C),JSON.stringify(E),N,x,O,b,JSON.stringify(w)])}const rT={x:{[gn.Backward]:!1,[gn.Forward]:!1},y:{[gn.Backward]:!1,[gn.Forward]:!1}};function aT(e){let{delta:n,disabled:r}=e;const i=lh(n);return ao(o=>{if(r||!i||!o)return rT;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[gn.Backward]:o.x[gn.Backward]||u.x===-1,[gn.Forward]:o.x[gn.Forward]||u.x===1},y:{[gn.Backward]:o.y[gn.Backward]||u.y===-1,[gn.Forward]:o.y[gn.Forward]||u.y===1}}},[r,n,i])}function iT(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return ao(o=>{var u;return n==null?null:(u=i??o)!=null?u:null},[i,n])}function lT(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:o}=i,u=o.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...r,...u]},[]),[e,n])}var Gl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gl||(Gl={}));var dh;(function(e){e.Optimized="optimized"})(dh||(dh={}));const tb=new Map;function oT(e,n){let{dragging:r,dependencies:i,config:o}=n;const[u,d]=p.useState(null),{frequency:h,measure:g,strategy:x}=o,b=p.useRef(e),v=_(),w=Kl(v),E=p.useCallback(function(T){T===void 0&&(T=[]),!w.current&&d(C=>C===null?T:C.concat(T.filter(z=>!C.includes(z))))},[w]),N=p.useRef(null),j=ao(T=>{if(v&&!r)return tb;if(!T||T===tb||b.current!==e||u!=null){const C=new Map;for(let z of e){if(!z)continue;if(u&&u.length>0&&!u.includes(z.id)&&z.rect.current){C.set(z.id,z.rect.current);continue}const L=z.node.current,O=L?new Wh(g(L),L):null;z.rect.current=O,O&&C.set(z.id,O)}return C}return T},[e,u,r,v,g]);return p.useEffect(()=>{b.current=e},[e]),p.useEffect(()=>{v||E()},[r,v]),p.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),p.useEffect(()=>{v||typeof h!="number"||N.current!==null||(N.current=setTimeout(()=>{E(),N.current=null},h))},[h,v,E,...i]),{droppableRects:j,measureDroppableContainers:E,measuringScheduled:u!=null};function _(){switch(x){case Gl.Always:return!1;case Gl.BeforeDragging:return r;default:return!r}}}function yy(e,n){return ao(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function cT(e,n){return yy(e,n)}function uT(e){let{callback:n,disabled:r}=e;const i=Ih(n),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,r]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function hu(e){let{callback:n,disabled:r}=e;const i=Ih(n),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[r]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function dT(e){return new Wh(Ui(e),e)}function nb(e,n,r){n===void 0&&(n=dT);const[i,o]=p.useState(null);function u(){o(g=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=g??r)!=null?x:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=uT({callback(g){if(e)for(const x of g){const{type:b,target:v}=x;if(b==="childList"&&v instanceof HTMLElement&&v.contains(e)){u();break}}}}),h=hu({callback:u});return Ps(()=>{u(),e?(h?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),d?.disconnect())},[e]),i}function fT(e){const n=yy(e);return dy(e,n)}const sb=[];function hT(e){const n=p.useRef(e),r=ao(i=>e?i&&i!==sb&&e&&n.current&&e.parentNode===n.current.parentNode?i:Qh(e):sb,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function mT(e){const[n,r]=p.useState(null),i=p.useRef(e),o=p.useCallback(u=>{const d=zf(u.target);d&&r(h=>h?(h.set(d,ch(d)),new Map(h)):null)},[]);return p.useEffect(()=>{const u=i.current;if(e!==u){d(u);const h=e.map(g=>{const x=zf(g);return x?(x.addEventListener("scroll",o,{passive:!0}),[x,ch(x)]):null}).filter(g=>g!=null);r(h.length?new Map(h):null),i.current=e}return()=>{d(e),d(u)};function d(h){h.forEach(g=>{const x=zf(g);x?.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,d)=>ki(u,d),Rs):xy(e):Rs,[e,n])}function rb(e,n){n===void 0&&(n=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},n),p.useEffect(()=>{const i=e!==Rs;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Pc(e,r.current):Rs}function pT(e){p.useEffect(()=>{if(!fu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function gT(e,n){return p.useMemo(()=>e.reduce((r,i)=>{let{eventName:o,handler:u}=i;return r[o]=d=>{u(d,n)},r},{}),[e,n])}function wy(e){return p.useMemo(()=>e?q5(e):null,[e])}const ab=[];function xT(e,n){n===void 0&&(n=Ui);const[r]=e,i=wy(r?Kn(r):null),[o,u]=p.useState(ab);function d(){u(()=>e.length?e.map(g=>py(g)?i:new Wh(n(g),g)):ab)}const h=hu({callback:d});return Ps(()=>{h?.disconnect(),d(),e.forEach(g=>h?.observe(g))},[e]),o}function bT(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return ro(n)?n:e}function vT(e){let{measure:n}=e;const[r,i]=p.useState(null),o=p.useCallback(x=>{for(const{target:b}of x)if(ro(b)){i(v=>{const w=n(b);return v?{...v,width:w.width,height:w.height}:w});break}},[n]),u=hu({callback:o}),d=p.useCallback(x=>{const b=bT(x);u?.disconnect(),b&&u?.observe(b),i(b?n(b):null)},[n,u]),[h,g]=Wc(d);return p.useMemo(()=>({nodeRef:h,rect:r,setRef:g}),[r,h,g])}const yT=[{sensor:Kh,options:{}},{sensor:vy,options:{}}],wT={current:{}},Rc={draggable:{measure:G0},droppable:{measure:G0,strategy:Gl.WhileDragging,frequency:dh.Optimized},dragOverlay:{measure:Ui}};class Hl extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const jT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rc,measureDroppableContainers:Kc,windowRect:null,measuringScheduled:!1},ST={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kc,draggableNodes:new Map,over:null,measureDroppableContainers:Kc},mu=p.createContext(ST),jy=p.createContext(jT);function ET(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hl}}}function NT(e,n){switch(n.type){case on.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case on.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case on.DragEnd:case on.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case on.RegisterDroppable:{const{element:r}=n,{id:i}=r,o=new Hl(e.droppable.containers);return o.set(i,r),{...e,droppable:{...e.droppable,containers:o}}}case on.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=n,u=e.droppable.containers.get(r);if(!u||i!==u.key)return e;const d=new Hl(e.droppable.containers);return d.set(r,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case on.UnregisterDroppable:{const{id:r,key:i}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const u=new Hl(e.droppable.containers);return u.delete(r),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function CT(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:o}=p.useContext(mu),u=lh(i),d=lh(r?.id);return p.useEffect(()=>{if(!n&&!i&&u&&d!=null){if(!Vh(u)||document.activeElement===u.target)return;const h=o.get(d);if(!h)return;const{activatorNode:g,node:x}=h;if(!g.current&&!x.current)return;requestAnimationFrame(()=>{for(const b of[g.current,x.current]){if(!b)continue;const v=p5(b);if(v){v.focus();break}}})}},[i,n,o,d,u]),null}function _T(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...i}),r):r}function kT(e){return p.useMemo(()=>({draggable:{...Rc.draggable,...e?.draggable},droppable:{...Rc.droppable,...e?.droppable},dragOverlay:{...Rc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function TT(e){let{activeNode:n,measure:r,initialRect:i,config:o=!0}=e;const u=p.useRef(!1),{x:d,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Ps(()=>{if(!d&&!h||!n){u.current=!1;return}if(u.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const b=r(x),v=dy(b,i);if(d||(v.x=0),h||(v.y=0),u.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=fy(x);w&&w.scrollBy({top:v.y,left:v.x})}},[n,d,h,i,r])}const Sy=p.createContext({...Rs,scaleX:1,scaleY:1});var Yr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Yr||(Yr={}));const AT=p.memo(function(n){var r,i,o,u;let{id:d,accessibility:h,autoScroll:g=!0,children:x,sensors:b=yT,collisionDetection:v=R5,measuring:w,modifiers:E,...N}=n;const j=p.useReducer(NT,void 0,ET),[_,T]=j,[C,z]=w5(),[L,O]=p.useState(Yr.Uninitialized),te=L===Yr.Initialized,{draggable:{active:U,nodes:Z,translate:W},droppable:{containers:G}}=_,re=U!=null?Z.get(U):null,$=p.useRef({initial:null,translated:null}),K=p.useMemo(()=>{var Rt;return U!=null?{id:U,data:(Rt=re?.data)!=null?Rt:wT,rect:$}:null},[U,re]),ue=p.useRef(null),[we,D]=p.useState(null),[A,se]=p.useState(null),de=Kl(N,Object.values(N)),ae=io("DndDescribedBy",d),k=p.useMemo(()=>G.getEnabled(),[G]),Q=kT(w),{droppableRects:ce,measureDroppableContainers:F,measuringScheduled:ee}=oT(k,{dragging:te,dependencies:[W.x,W.y],config:Q.droppable}),H=iT(Z,U),Y=p.useMemo(()=>A?oh(A):null,[A]),q=vr(),le=cT(H,Q.draggable.measure);TT({activeNode:U!=null?Z.get(U):null,config:q.layoutShiftCompensation,initialRect:le,measure:Q.draggable.measure});const ge=nb(H,Q.draggable.measure,le),xe=nb(H?H.parentElement:null),Ce=p.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=G.getNodeFor((r=Ce.current.over)==null?void 0:r.id),Oe=vT({measure:Q.dragOverlay.measure}),Te=(i=Oe.nodeRef.current)!=null?i:H,Ye=te?(o=Oe.rect)!=null?o:ge:null,Ut=!!(Oe.nodeRef.current&&Oe.rect),it=fT(Ut?null:ge),Cn=wy(Te?Kn(Te):null),M=hT(te?We??H:null),P=xT(M),ie=_T(E,{transform:{x:W.x-it.x,y:W.y-it.y,scaleX:1,scaleY:1},activatorEvent:A,active:K,activeNodeRect:ge,containerNodeRect:xe,draggingNodeRect:Ye,over:Ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:M,scrollableAncestorRects:P,windowRect:Cn}),Ee=Y?ki(Y,W):null,ye=mT(M),je=rb(ye),Ae=rb(ye,[ge]),He=ki(ie,je),Ve=Ye?L5(Ye,ie):null,_t=K&&Ve?v({active:K,collisionRect:Ve,droppableRects:ce,droppableContainers:k,pointerCoordinates:Ee}):null,Se=A5(_t,"id"),[Ne,$e]=p.useState(null),Dt=Ut?ie:ki(ie,Ae),st=z5(Dt,(u=Ne?.rect)!=null?u:null,ge),Kt=p.useRef(null),Mt=p.useCallback((Rt,wt)=>{let{sensor:kt,options:_n}=wt;if(ue.current==null)return;const dn=Z.get(ue.current);if(!dn)return;const fn=Rt.nativeEvent,hn=new kt({active:ue.current,activeNode:dn,event:fn,options:_n,context:Ce,onAbort(qt){if(!Z.get(qt))return;const{onDragAbort:vn}=de.current,kn={id:qt};vn?.(kn),C({type:"onDragAbort",event:kn})},onPending(qt,bn,vn,kn){if(!Z.get(qt))return;const{onDragPending:Pe}=de.current,Tn={id:qt,constraint:bn,initialCoordinates:vn,offset:kn};Pe?.(Tn),C({type:"onDragPending",event:Tn})},onStart(qt){const bn=ue.current;if(bn==null)return;const vn=Z.get(bn);if(!vn)return;const{onDragStart:kn}=de.current,Yn={activatorEvent:fn,active:{id:bn,data:vn.data,rect:$}};ls.unstable_batchedUpdates(()=>{kn?.(Yn),O(Yr.Initializing),T({type:on.DragStart,initialCoordinates:qt,active:bn}),C({type:"onDragStart",event:Yn}),D(Kt.current),se(fn)})},onMove(qt){T({type:on.DragMove,coordinates:qt})},onEnd:On(on.DragEnd),onCancel:On(on.DragCancel)});Kt.current=hn;function On(qt){return async function(){const{active:vn,collisions:kn,over:Yn,scrollAdjustedTranslate:Pe}=Ce.current;let Tn=null;if(vn&&Pe){const{cancelDrop:zt}=de.current;Tn={activatorEvent:fn,active:vn,collisions:kn,delta:Pe,over:Yn},qt===on.DragEnd&&typeof zt=="function"&&await Promise.resolve(zt(Tn))&&(qt=on.DragCancel)}ue.current=null,ls.unstable_batchedUpdates(()=>{T({type:qt}),O(Yr.Uninitialized),$e(null),D(null),se(null),Kt.current=null;const zt=qt===on.DragEnd?"onDragEnd":"onDragCancel";if(Tn){const Ln=de.current[zt];Ln?.(Tn),C({type:zt,event:Tn})}})}}},[Z]),br=p.useCallback((Rt,wt)=>(kt,_n)=>{const dn=kt.nativeEvent,fn=Z.get(_n);if(ue.current!==null||!fn||dn.dndKit||dn.defaultPrevented)return;const hn={active:fn};Rt(kt,wt.options,hn)===!0&&(dn.dndKit={capturedBy:wt.sensor},ue.current=_n,Mt(kt,wt))},[Z,Mt]),zs=lT(b,br);pT(b),Ps(()=>{ge&&L===Yr.Initializing&&O(Yr.Initialized)},[ge,L]),p.useEffect(()=>{const{onDragMove:Rt}=de.current,{active:wt,activatorEvent:kt,collisions:_n,over:dn}=Ce.current;if(!wt||!kt)return;const fn={active:wt,activatorEvent:kt,collisions:_n,delta:{x:He.x,y:He.y},over:dn};ls.unstable_batchedUpdates(()=>{Rt?.(fn),C({type:"onDragMove",event:fn})})},[He.x,He.y]),p.useEffect(()=>{const{active:Rt,activatorEvent:wt,collisions:kt,droppableContainers:_n,scrollAdjustedTranslate:dn}=Ce.current;if(!Rt||ue.current==null||!wt||!dn)return;const{onDragOver:fn}=de.current,hn=_n.get(Se),On=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,qt={active:Rt,activatorEvent:wt,collisions:kt,delta:{x:dn.x,y:dn.y},over:On};ls.unstable_batchedUpdates(()=>{$e(On),fn?.(qt),C({type:"onDragOver",event:qt})})},[Se]),Ps(()=>{Ce.current={activatorEvent:A,active:K,activeNode:H,collisionRect:Ve,collisions:_t,droppableRects:ce,draggableNodes:Z,draggingNode:Te,draggingNodeRect:Ye,droppableContainers:G,over:Ne,scrollableAncestors:M,scrollAdjustedTranslate:He},$.current={initial:Ye,translated:Ve}},[K,H,_t,Ve,Z,Te,Ye,ce,G,Ne,M,He]),sT({...q,delta:W,draggingRect:Ve,pointerCoordinates:Ee,scrollableAncestors:M,scrollableAncestorRects:P});const Bi=p.useMemo(()=>({active:K,activeNode:H,activeNodeRect:ge,activatorEvent:A,collisions:_t,containerNodeRect:xe,dragOverlay:Oe,draggableNodes:Z,droppableContainers:G,droppableRects:ce,over:Ne,measureDroppableContainers:F,scrollableAncestors:M,scrollableAncestorRects:P,measuringConfiguration:Q,measuringScheduled:ee,windowRect:Cn}),[K,H,ge,A,_t,xe,Oe,Z,G,ce,Ne,F,M,P,Q,ee,Cn]),Os=p.useMemo(()=>({activatorEvent:A,activators:zs,active:K,activeNodeRect:ge,ariaDescribedById:{draggable:ae},dispatch:T,draggableNodes:Z,over:Ne,measureDroppableContainers:F}),[A,zs,K,ge,T,ae,Z,Ne,F]);return vt.createElement(uy.Provider,{value:z},vt.createElement(mu.Provider,{value:Os},vt.createElement(jy.Provider,{value:Bi},vt.createElement(Sy.Provider,{value:st},x)),vt.createElement(CT,{disabled:h?.restoreFocus===!1})),vt.createElement(E5,{...h,hiddenTextDescribedById:ae}));function vr(){const Rt=we?.autoScrollEnabled===!1,wt=typeof g=="object"?g.enabled===!1:g===!1,kt=te&&!Rt&&!wt;return typeof g=="object"?{...g,enabled:kt}:{enabled:kt}}}),DT=p.createContext(null),ib="button",MT="Draggable";function RT(e){let{id:n,data:r,disabled:i=!1,attributes:o}=e;const u=io(MT),{activators:d,activatorEvent:h,active:g,activeNodeRect:x,ariaDescribedById:b,draggableNodes:v,over:w}=p.useContext(mu),{role:E=ib,roleDescription:N="draggable",tabIndex:j=0}=o??{},_=g?.id===n,T=p.useContext(_?Sy:DT),[C,z]=Wc(),[L,O]=Wc(),te=gT(d,n),U=Kl(r);Ps(()=>(v.set(n,{id:n,key:u,node:C,activatorNode:L,data:U}),()=>{const W=v.get(n);W&&W.key===u&&v.delete(n)}),[v,n]);const Z=p.useMemo(()=>({role:E,tabIndex:j,"aria-disabled":i,"aria-pressed":_&&E===ib?!0:void 0,"aria-roledescription":N,"aria-describedby":b.draggable}),[i,E,j,_,N,b.draggable]);return{active:g,activatorEvent:h,activeNodeRect:x,attributes:Z,isDragging:_,listeners:i?void 0:te,node:C,over:w,setNodeRef:z,setActivatorNodeRef:O,transform:T}}function zT(){return p.useContext(jy)}const OT="Droppable",LT={timeout:25};function UT(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:o}=e;const u=io(OT),{active:d,dispatch:h,over:g,measureDroppableContainers:x}=p.useContext(mu),b=p.useRef({disabled:r}),v=p.useRef(!1),w=p.useRef(null),E=p.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:_}={...LT,...o},T=Kl(j??i),C=p.useCallback(()=>{if(!v.current){v.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{x(Array.isArray(T.current)?T.current:[T.current]),E.current=null},_)},[_]),z=hu({callback:C,disabled:N||!d}),L=p.useCallback((Z,W)=>{z&&(W&&(z.unobserve(W),v.current=!1),Z&&z.observe(Z))},[z]),[O,te]=Wc(L),U=Kl(n);return p.useEffect(()=>{!z||!O.current||(z.disconnect(),v.current=!1,z.observe(O.current))},[O,z]),p.useEffect(()=>(h({type:on.RegisterDroppable,element:{id:i,key:u,disabled:r,node:O,rect:w,data:U}}),()=>h({type:on.UnregisterDroppable,key:u,id:i})),[i]),p.useEffect(()=>{r!==b.current.disabled&&(h({type:on.SetDroppableDisabled,id:i,key:u,disabled:r}),b.current.disabled=r)},[i,u,r,h]),{active:d,rect:w,isOver:g?.id===i,node:O,over:g,setNodeRef:te}}function Ey(e,n,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function BT(e,n){return e.reduce((r,i,o)=>{const u=n.get(i);return u&&(r[o]=u),r},Array(e.length))}function _c(e){return e!==null&&e>=0}function $T(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function qT(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kc={scaleX:1,scaleY:1},FT=e=>{var n;let{rects:r,activeNodeRect:i,activeIndex:o,overIndex:u,index:d}=e;const h=(n=r[o])!=null?n:i;if(!h)return null;const g=HT(r,d,o);if(d===o){const x=r[u];return x?{x:o<u?x.left+x.width-(h.left+h.width):x.left-h.left,y:0,...kc}:null}return d>o&&d<=u?{x:-h.width-g,y:0,...kc}:d<o&&d>=u?{x:h.width+g,y:0,...kc}:{x:0,y:0,...kc}};function HT(e,n,r){const i=e[n],o=e[n-1],u=e[n+1];return!i||!o&&!u?0:r<n?o?i.left-(o.left+o.width):u.left-(i.left+i.width):u?u.left-(i.left+i.width):i.left-(o.left+o.width)}const Ny=e=>{let{rects:n,activeIndex:r,overIndex:i,index:o}=e;const u=Ey(n,i,r),d=n[o],h=u[o];return!h||!d?null:{x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height}},Cy="Sortable",_y=vt.createContext({activeIndex:-1,containerId:Cy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ny,disabled:{draggable:!1,droppable:!1}});function ZT(e){let{children:n,id:r,items:i,strategy:o=Ny,disabled:u=!1}=e;const{active:d,dragOverlay:h,droppableRects:g,over:x,measureDroppableContainers:b}=zT(),v=io(Cy,r),w=h.rect!==null,E=p.useMemo(()=>i.map(te=>typeof te=="object"&&"id"in te?te.id:te),[i]),N=d!=null,j=d?E.indexOf(d.id):-1,_=x?E.indexOf(x.id):-1,T=p.useRef(E),C=!$T(E,T.current),z=_!==-1&&j===-1||C,L=qT(u);Ps(()=>{C&&N&&b(E)},[C,E,N,b]),p.useEffect(()=>{T.current=E},[E]);const O=p.useMemo(()=>({activeIndex:j,containerId:v,disabled:L,disableTransforms:z,items:E,overIndex:_,useDragOverlay:w,sortedRects:BT(E,g),strategy:o}),[j,v,L.draggable,L.droppable,z,E,_,g,w,o]);return vt.createElement(_y.Provider,{value:O},n)}const IT=e=>{let{id:n,items:r,activeIndex:i,overIndex:o}=e;return Ey(r,i,o).indexOf(n)},VT=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:o,items:u,newIndex:d,previousItems:h,previousContainerId:g,transition:x}=e;return!x||!i||h!==u&&o===d?!1:r?!0:d!==o&&n===g},QT={duration:200,easing:"ease"},ky="transform",WT=Yl.Transition.toString({property:ky,duration:0,easing:"linear"}),PT={roleDescription:"sortable"};function KT(e){let{disabled:n,index:r,node:i,rect:o}=e;const[u,d]=p.useState(null),h=p.useRef(r);return Ps(()=>{if(!n&&r!==h.current&&i.current){const g=o.current;if(g){const x=Ui(i.current,{ignoreTransform:!0}),b={x:g.left-x.left,y:g.top-x.top,scaleX:g.width/x.width,scaleY:g.height/x.height};(b.x||b.y)&&d(b)}}r!==h.current&&(h.current=r)},[n,r,i,o]),p.useEffect(()=>{u&&d(null)},[u]),u}function YT(e){let{animateLayoutChanges:n=VT,attributes:r,disabled:i,data:o,getNewIndex:u=IT,id:d,strategy:h,resizeObserverConfig:g,transition:x=QT}=e;const{items:b,containerId:v,activeIndex:w,disabled:E,disableTransforms:N,sortedRects:j,overIndex:_,useDragOverlay:T,strategy:C}=p.useContext(_y),z=GT(i,E),L=b.indexOf(d),O=p.useMemo(()=>({sortable:{containerId:v,index:L,items:b},...o}),[v,o,L,b]),te=p.useMemo(()=>b.slice(b.indexOf(d)),[b,d]),{rect:U,node:Z,isOver:W,setNodeRef:G}=UT({id:d,data:O,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...g}}),{active:re,activatorEvent:$,activeNodeRect:K,attributes:ue,setNodeRef:we,listeners:D,isDragging:A,over:se,setActivatorNodeRef:de,transform:ae}=RT({id:d,data:O,attributes:{...PT,...r},disabled:z.draggable}),k=d5(G,we),Q=!!re,ce=Q&&!N&&_c(w)&&_c(_),F=!T&&A,ee=F&&ce?ae:null,Y=ce?ee??(h??C)({rects:j,activeNodeRect:K,activeIndex:w,overIndex:_,index:L}):null,q=_c(w)&&_c(_)?u({id:d,items:b,activeIndex:w,overIndex:_}):L,le=re?.id,ge=p.useRef({activeId:le,items:b,newIndex:q,containerId:v}),xe=b!==ge.current.items,Ce=n({active:re,containerId:v,isDragging:A,isSorting:Q,id:d,index:L,items:b,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:x,wasDragging:ge.current.activeId!=null}),We=KT({disabled:!Ce,index:L,node:Z,rect:U});return p.useEffect(()=>{Q&&ge.current.newIndex!==q&&(ge.current.newIndex=q),v!==ge.current.containerId&&(ge.current.containerId=v),b!==ge.current.items&&(ge.current.items=b)},[Q,q,v,b]),p.useEffect(()=>{if(le===ge.current.activeId)return;if(le!=null&&ge.current.activeId==null){ge.current.activeId=le;return}const Te=setTimeout(()=>{ge.current.activeId=le},50);return()=>clearTimeout(Te)},[le]),{active:re,activeIndex:w,attributes:ue,data:O,rect:U,index:L,newIndex:q,items:b,isOver:W,isSorting:Q,isDragging:A,listeners:D,node:Z,overIndex:_,over:se,setNodeRef:k,setActivatorNodeRef:de,setDroppableNodeRef:G,setDraggableNodeRef:we,transform:We??Y,transition:Oe()};function Oe(){if(We||xe&&ge.current.newIndex===L)return WT;if(!(F&&!Vh($)||!x)&&(Q||Ce))return Yl.Transition.toString({...x,property:ky})}}function GT(e,n){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:n.draggable,droppable:(i=e?.droppable)!=null?i:n.droppable}}ct.Down,ct.Right,ct.Up,ct.Left;const XT=232,JT=30,ja=6;function Ti({open:e,position:n,onClose:r,items:i,appearance:o="dark"}){const u=p.useRef(null),d=p.useRef([]),[h,g]=p.useState(null),x=p.useMemo(()=>i.findIndex(E=>!E.disabled),[i]),[b,v]=p.useState(()=>x>=0?x:0);if(p.useEffect(()=>{if(!e||!n||typeof window>"u"){g(null);return}const E=i.length*JT+ja*2,N=Math.max(ja,(window.innerWidth||0)-XT-ja),j=Math.max(ja,(window.innerHeight||0)-E-ja),_=Math.min(Math.max(n.x,ja),N),T=Math.min(Math.max(n.y,ja),j);g({x:_,y:T})},[e,n,i.length]),p.useEffect(()=>{e&&v(x>=0?x:0)},[e,x]),p.useEffect(()=>{if(!e)return;d.current[b]?.focus()},[e,b]),p.useEffect(()=>{if(!e||typeof window>"u")return;const E=_=>{u.current&&(u.current.contains(_.target)||r())},N=_=>{if(u.current){if(u.current.contains(_.target)){_.preventDefault();return}r()}},j=_=>{if(_.key==="Escape"){_.preventDefault(),r();return}if(_.key==="ArrowDown"||_.key==="ArrowUp"){_.preventDefault();const T=_.key==="ArrowDown"?1:-1;v(C=>{if(i.length===0)return C;let z=C;for(let L=0;L<i.length;L+=1)if(z=(z+T+i.length)%i.length,!i[z]?.disabled)return z;return C});return}if(_.key==="Enter"||_.key===" "){_.preventDefault();const T=i[b];T&&!T.disabled&&(T.onSelect(),r())}};return window.addEventListener("mousedown",E),window.addEventListener("contextmenu",N),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",E),window.removeEventListener("contextmenu",N),window.removeEventListener("keydown",j)}},[e,r,i,b]),!e||!n||typeof window>"u"||!h)return null;const w=o==="dark"?{bg:"bg-[#1f1f1f] text-[#f3f3f3]",border:"border-[#3c3c3c]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",item:"hover:bg-[#094771] focus-visible:bg-[#094771]",disabled:"text-[#7a7a7a]",danger:"text-[#f48771] hover:text-white hover:bg-[#be1a1a] focus-visible:bg-[#be1a1a]",shortcut:"text-[#9f9f9f]",separator:"border-[#3f3f3f]"}:{bg:"bg-[#fdfdfd] text-[#1f1f1f]",border:"border-[#cfcfcf]",shadow:"shadow-[0_12px_28px_rgba(0,0,0,0.15)]",item:"hover:bg-[#dfe9f6] focus-visible:bg-[#dfe9f6]",disabled:"text-[#9c9c9c]",danger:"text-[#b02020] hover:bg-[#fde7e7] focus-visible:bg-[#fde7e7]",shortcut:"text-[#6d6d6d]",separator:"border-[#e0e0e0]"};return ls.createPortal(l.jsx("div",{ref:u,role:"menu",className:me("z-[60] min-w-[200px] rounded-sm border backdrop-blur-sm",w.bg,w.border,w.shadow),style:{top:h.y,left:h.x,position:"fixed"},children:l.jsx("ul",{className:"py-1",role:"none",children:i.map((E,N)=>{const j=!!E.disabled,_=!!E.danger;return l.jsxs(p.Fragment,{children:[E.dividerAbove?l.jsx("li",{role:"separator",className:me("mx-2 my-1 border-t",w.separator)}):null,l.jsx("li",{role:"none",children:l.jsxs("button",{ref:T=>{d.current[N]=T},type:"button",role:"menuitem",className:me("flex w-full items-center justify-between gap-6 px-3 py-1.5 text-[13px] leading-5 outline-none transition",w.item,j&&w.disabled,_&&!j&&w.danger,j&&"cursor-default"),onClick:T=>{T.stopPropagation(),!j&&(E.onSelect(),r())},onMouseEnter:()=>{j||v(N)},disabled:j,children:[l.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[E.icon?l.jsx("span",{className:"text-base opacity-80",children:E.icon}):l.jsx("span",{className:"inline-block h-4 w-4"}),l.jsx("span",{className:"truncate",children:E.label})]}),E.shortcut?l.jsx("span",{className:me("text-[11px] uppercase tracking-wide",w.shortcut),children:E.shortcut}):null]})})]},E.id)})})}),window.document.body)}const xr="h-4 w-4 text-current opacity-80";function eA({filled:e}){return e?l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"currentColor",className:"text-slate-500"})}):l.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6.5 2.5h3l.5 4h2v1.5h-4V13l-1-.5V8H4V6.5h2z",fill:"none",stroke:"currentColor",strokeWidth:"1.2",className:"text-slate-400"})})}function tA(){return l.jsxs("svg",{className:"h-3 w-3 animate-spin text-brand-500",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"1.2",opacity:"0.3"}),l.jsx("path",{d:"M14 8a6 6 0 0 0-6-6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function nA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.5L13.5 5v8.5H4z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function sA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 3.5h6l3 3v5.5h-9z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 3.5v3.5h3.5v-3.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M5 11h4",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 6.5h6l1.5 1.5v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",opacity:"0.6"})]})}function rA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8l-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function aA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("rect",{x:"2.5",y:"3",width:"8",height:"10",rx:"1.2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M7 7l5 5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function iA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M5 3v10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M7 5l5 3-5 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function lA(){return l.jsxs("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4h3a1 1 0 0 1 1 1v7.5M12.5 12h-3a1 1 0 0 1-1-1V3.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5 6l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Ty(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5.5 2.5h5l.5 4h2v1.5h-4V13l-1-.5V8h-3V6.5h3z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function oA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 3.5l9 9M5.5 2.5h5l.5 4h2v1.5H10M8 8v4.5L7 12.5V8H4V6.5h1",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function cA(){return l.jsx("svg",{className:xr,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 2.5h4l2.5 2.5V13.5H5z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round",fill:"none"})})}function uA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M10 3L5 8l5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function dA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M6 3l5 5-5 5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function fA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function hA({tab:e,isActive:n,isDirty:r,draggingId:i,onContextMenu:o,onCloseTab:u,setTabNode:d}){const{attributes:h,listeners:g,setNodeRef:x,transform:b,transition:v,isDragging:w}=YT({id:e.id}),E={transform:Yl.Transform.toString(b),transition:v},N=w||i===e.id,j=!!e.pinned;return l.jsxs("div",{ref:_=>{x(_),d(e.id,_)},style:E,className:me("group relative mr-1 flex min-w-0 items-stretch",N&&"opacity-60"),"data-editor-tab":"true",...h,...g,children:[l.jsxs(rh,{value:e.id,"data-tab-id":e.id,title:e.id,onContextMenu:o,onMouseDown:_=>{_.button===1&&(_.preventDefault(),u(e.id))},className:me("relative flex min-w-[3rem] max-w-[16rem] items-center gap-2 overflow-hidden rounded-t-lg border px-2 py-1.5 pr-8 text-sm font-medium transition-[background-color,border-color,color] duration-150","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50",n?"border-slate-200 border-b-white bg-white text-slate-900 shadow-[0_1px_0_rgba(15,23,42,0.08)]":"border-transparent border-b-slate-200 text-slate-500 hover:border-slate-200 hover:bg-white/70 hover:text-slate-900",j?"min-w-[4rem] max-w-[8rem] justify-center":"min-w-[9rem] justify-start px-3"),children:[j?l.jsx("span",{className:"flex-none text-[12px]","aria-label":"Pinned",children:l.jsx(eA,{filled:n})}):null,l.jsx("span",{className:"block min-w-0 flex-1 truncate text-left",children:e.name}),e.status==="loading"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-slate-400","aria-label":"Loading",children:""}):null,e.status==="error"?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Load failed",children:"!"}):null,e.saving?l.jsx("span",{className:"flex-none","aria-label":"Saving",title:"Saving changes",children:l.jsx(tA,{})}):null,e.saveError?l.jsx("span",{className:"flex-none text-[10px] font-semibold uppercase tracking-wide text-danger-600","aria-label":"Save failed",title:e.saveError,children:"!"}):null,r?l.jsx("span",{className:"flex-none text-xs leading-none text-brand-600",children:""}):null]}),l.jsx("button",{type:"button",className:me("absolute right-1 top-1/2 -translate-y-1/2 rounded p-0.5 text-xs transition focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-1 focus-visible:ring-offset-white",n?"text-slate-500 hover:bg-slate-200 hover:text-slate-900":"text-slate-400 opacity-0 group-hover:opacity-100 hover:bg-slate-200 hover:text-slate-700"),onClick:_=>{_.stopPropagation(),u(e.id)},"aria-label":`Close ${e.name}`,children:""})]})}function mA({currentTab:e,tabs:n,canSaveFiles:r,hasDirtyTabs:i,onCloseTab:o,onCloseOtherTabs:u,onCloseTabsToRight:d,onCloseAllTabs:h,onPinTab:g,onUnpinTab:x,onSaveTab:b,onSaveAllTabs:v}){const w=n.findIndex(z=>z.id===e.id),E=w>=0&&w<n.length-1,N=n.length>1,j=e.status==="ready"&&e.content!==e.initialContent,_=!!b&&r&&j&&!e.saving,T=!!v&&r&&i,C={save:"Ctrl+S",saveAll:"Ctrl+Shift+S",close:"Ctrl+W",closeOthers:"Ctrl+K Ctrl+O",closeRight:"Ctrl+K Ctrl+Right",closeAll:"Ctrl+K Ctrl+W"};return[{id:"save",label:e.saving?"Saving":"Save",icon:l.jsx(nA,{}),disabled:!_,shortcut:C.save,onSelect:()=>b?.(e.id)},{id:"save-all",label:"Save All",icon:l.jsx(sA,{}),disabled:!T,shortcut:C.saveAll,onSelect:()=>v?.()},{id:"pin",label:e.pinned?"Unpin":"Pin",icon:e.pinned?l.jsx(oA,{}):l.jsx(Ty,{}),dividerAbove:!0,onSelect:()=>e.pinned?x(e.id):g(e.id)},{id:"close",label:"Close",icon:l.jsx(rA,{}),dividerAbove:!0,shortcut:C.close,onSelect:()=>o(e.id)},{id:"close-others",label:"Close Others",icon:l.jsx(aA,{}),disabled:!N,shortcut:C.closeOthers,onSelect:()=>u(e.id)},{id:"close-right",label:"Close Tabs to the Right",icon:l.jsx(iA,{}),disabled:!E,shortcut:C.closeRight,onSelect:()=>d(e.id)},{id:"close-all",label:"Close All",icon:l.jsx(lA,{}),dividerAbove:!0,disabled:n.length===0,shortcut:C.closeAll,onSelect:()=>h()}]}function pA({pinnedTabs:e,regularTabs:n,activeTabId:r,onSelectTab:i}){if(e.length===0&&n.length===0)return[{id:"empty",label:"No open editors",onSelect:()=>{},disabled:!0}];const o=[],u=(d,h)=>{const g=d.status==="ready"&&d.content!==d.initialContent,x=[];d.id===r&&x.push("Active"),d.saving?x.push("Saving"):g&&x.push("Unsaved"),o.push({id:`switch-${d.id}`,label:`${d.saving?" ":g?" ":""}${d.name}`,icon:d.pinned?l.jsx(Ty,{}):l.jsx(cA,{}),shortcut:x.length>0?x.join("  "):void 0,dividerAbove:h,onSelect:()=>i(d.id)})};return e.forEach(d=>u(d,!1)),n.forEach((d,h)=>u(d,h===0&&e.length>0)),o}const lb=220,ob=64,gA=14;function xA({tabs:e,activeTabId:n,menuAppearance:r,canSaveFiles:i=!1,onSelectTab:o,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onMoveTab:x,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:E,onTabDragStateChange:N}){const[j,_]=p.useState(null),[T,C]=p.useState(null),[z,L]=p.useState(null),[O,te]=p.useState({left:!1,right:!1}),[U,Z]=p.useState(0),W=p.useRef(null),G=p.useRef(null),re=p.useRef(new Map),$=p.useMemo(()=>e.filter(q=>q.pinned),[e]),K=p.useMemo(()=>e.filter(q=>!q.pinned),[e]),we=p.useMemo(()=>e.filter(q=>q.status==="ready"&&q.content!==q.initialContent),[e]).length>0,D=C5(N5(Kh,{activationConstraint:{distance:5}})),A=r==="dark"?"border-[#1f2937] bg-[#0f172a]":"border-slate-200 bg-slate-900/5",se=r==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white focus-visible:ring-white/30 focus-visible:ring-offset-0":"text-slate-500 hover:bg-white hover:text-slate-900 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5",de=p.useCallback((q,le)=>{const ge=re.current;le?ge.set(q,le):ge.delete(q)},[]);p.useEffect(()=>{j&&!e.some(q=>q.id===j.tabId)&&_(null),e.length||C(null)},[j,e]);const ae=p.useCallback(q=>{L(String(q.active.id)),N?.(!0)},[N]),k=p.useCallback(q=>{const le=q.active.id,ge=q.over?.id;if(ge&&le!==ge){const xe=e.findIndex(We=>We.id===le),Ce=e.findIndex(We=>We.id===ge);if(xe!==-1&&Ce!==-1){const We=xe<Ce?Ce+1:Ce;x(String(le),We)}}L(null),N?.(!1)},[x,N,e]),Q=p.useCallback(()=>{L(null),N?.(!1)},[N]),ce=p.useCallback(()=>{const q=W.current;if(!q){te({left:!1,right:!1});return}const{scrollLeft:le,scrollWidth:ge,clientWidth:xe}=q;te({left:le>2,right:le+xe<ge-2})},[]);p.useEffect(()=>{const q=W.current;if(!q){te({left:!1,right:!1});return}ce();const le=()=>ce();q.addEventListener("scroll",le),window.addEventListener("resize",ce);const ge=typeof ResizeObserver<"u"?new ResizeObserver(ce):null;return ge?.observe(q),()=>{q.removeEventListener("scroll",le),window.removeEventListener("resize",ce),ge?.disconnect()}},[e.length,ce]),p.useEffect(()=>{if(!z){Z(0);return}const q=le=>{const ge=W.current;if(!ge){Z(0);return}const xe=ge.getBoundingClientRect();le.clientX<xe.left+ob?Z(-1):le.clientX>xe.right-ob?Z(1):Z(0)};return window.addEventListener("pointermove",q),()=>{window.removeEventListener("pointermove",q),Z(0)}},[z]),p.useEffect(()=>{if(!z||U===0)return;let q;const le=()=>{const ge=W.current;ge&&(ge.scrollBy({left:U*gA}),q=window.requestAnimationFrame(le))};return q=window.requestAnimationFrame(le),()=>window.cancelAnimationFrame(q)},[U,z]),p.useEffect(()=>{re.current.get(n)?.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})},[n,e.length]);const F=p.useMemo(()=>{if(!j)return[];const q=e.find(le=>le.id===j.tabId);return q?mA({currentTab:q,tabs:e,canSaveFiles:i,hasDirtyTabs:we,onCloseTab:u,onCloseOtherTabs:d,onCloseTabsToRight:h,onCloseAllTabs:g,onPinTab:b,onUnpinTab:v,onSaveTab:w,onSaveAllTabs:E}):[]},[i,j,we,g,d,u,h,b,E,w,v,e]),ee=p.useMemo(()=>pA({pinnedTabs:$,regularTabs:K,activeTabId:n,onSelectTab:o}),[$,K,n,o]),H=p.useCallback(q=>{W.current?.scrollBy({left:q,behavior:"smooth"})},[]),Y=p.useCallback(()=>{const q=G.current?.getBoundingClientRect();q&&C({x:q.left,y:q.bottom+6})},[]);return l.jsxs(l.Fragment,{children:[l.jsx(AT,{sensors:D,collisionDetection:D5,onDragStart:ae,onDragEnd:k,onDragCancel:Q,children:l.jsx(ZT,{items:e.map(q=>q.id),strategy:FT,children:l.jsxs("div",{className:me("flex items-center gap-1 px-1",A,"border-b"),children:[l.jsx(cb,{appearance:r,direction:"left",disabled:!O.left,onClick:()=>H(-lb)}),l.jsxs("div",{className:"relative flex min-w-0 flex-1 items-stretch",children:[O.left?l.jsx(ub,{position:"left",appearance:r}):null,O.right?l.jsx(ub,{position:"right",appearance:r}):null,l.jsx("div",{ref:W,className:"flex min-w-0 flex-1 overflow-x-auto pb-1",onWheel:q=>{Math.abs(q.deltaY)>Math.abs(q.deltaX)&&(q.preventDefault(),W.current?.scrollBy({left:q.deltaY}))},children:l.jsx(ry,{className:"flex min-h-[2.75rem] flex-1 items-end gap-0 px-1",children:e.map(q=>{const le=q.status==="ready"&&q.content!==q.initialContent,ge=q.id===n;return l.jsx(hA,{tab:q,isActive:ge,isDirty:le,draggingId:z,setTabNode:de,onContextMenu:xe=>{xe.preventDefault(),_({tabId:q.id,x:xe.clientX,y:xe.clientY})},onCloseTab:u},q.id)})})})]}),l.jsx(cb,{appearance:r,direction:"right",disabled:!O.right,onClick:()=>H(lb)}),l.jsx("button",{ref:G,type:"button",className:me("mx-1 flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2",se),"aria-label":"Open editors list",onClick:Y,children:l.jsx(fA,{})})]})})}),l.jsx(Ti,{open:!!j,position:j&&{x:j.x,y:j.y},onClose:()=>_(null),items:F,appearance:r}),l.jsx(Ti,{open:!!T,position:T,onClose:()=>C(null),items:ee,appearance:r})]})}function cb({appearance:e,direction:n,disabled:r,onClick:i}){const o=e==="dark"?"hover:bg-white/10 hover:text-white focus-visible:ring-2 focus-visible:ring-white/30":"hover:bg-white hover:text-slate-900 focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900/5";return l.jsx("button",{type:"button",className:me("flex h-8 w-8 items-center justify-center rounded-md transition focus-visible:outline-none",e==="dark"?"text-slate-300":"text-slate-500",r?"cursor-default opacity-30":o),onClick:i,disabled:r,"aria-label":n==="left"?"Scroll tabs left":"Scroll tabs right",children:n==="left"?l.jsx(uA,{}):l.jsx(dA,{})})}function ub({position:e,appearance:n}){const r=n==="dark"?e==="left"?"left-0 bg-gradient-to-r from-[#0f172a] via-[#0f172a]/80 to-transparent":"right-0 bg-gradient-to-l from-[#0f172a] via-[#0f172a]/80 to-transparent":e==="left"?"left-0 bg-gradient-to-r from-slate-100 via-slate-100/70 to-transparent":"right-0 bg-gradient-to-l from-slate-100 via-slate-100/70 to-transparent";return l.jsx("div",{className:me("pointer-events-none absolute top-0 bottom-0 w-8",r)})}function bA({tabs:e,activeTabId:n,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onContentChange:b,onSaveTab:v,onSaveAllTabs:w,onSelectRecentTab:E,editorTheme:N,menuAppearance:j,canSaveFiles:_=!1,minHeight:T,onRetryTabLoad:C}){const z=e.length>0,L=p.useRef(null),[O,te]=p.useState(!1),U=p.useMemo(()=>e.find(Z=>Z.id===n)??null,[e,n]);return!z||!U?l.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-slate-500",children:"Select a file from the explorer to begin editing."}):l.jsxs("div",{ref:L,className:"flex min-h-0 min-w-0 flex-1 flex-col",style:T?{minHeight:T}:void 0,"data-editor-area":!0,children:[l.jsx(l5,{containerRef:L,tabs:e,activeTabId:n,onCloseTab:i,onSelectTab:r,onSelectRecentTab:E}),l.jsxs(sy,{value:U.id,onValueChange:r,children:[l.jsx(xA,{tabs:e,activeTabId:U.id,menuAppearance:j,canSaveFiles:_,onSelectTab:r,onCloseTab:i,onCloseOtherTabs:o,onCloseTabsToRight:u,onCloseAllTabs:d,onMoveTab:h,onPinTab:g,onUnpinTab:x,onSaveTab:v,onSaveAllTabs:w,onTabDragStateChange:te}),l.jsx(u5,{tabs:e,activeTabId:U.id,editorTheme:N,onContentChange:b,onSaveTab:v,canSaveFiles:_,onRetryTabLoad:C,onSelectTab:r,isTabDragging:O})]})]})}const vA={dark:{surface:"#1e1e1e",border:"#252526",heading:"#cccccc",label:"#999999",textPrimary:"#f3f3f3",textMuted:"#c5c5c5",rowHover:"#2a2d2e",folderActiveBg:"transparent",selectionBg:"#2f3136",selectionText:"#f8f8f8",badgeActive:"#4fc1ff",badgeOpen:"#858585",folderIcon:"#c8ae7d",folderIconActive:"#e0c08e",chevronIdle:"#7a7a7a",chevronActive:"#d4d4d4"},light:{surface:"#f3f3f3",border:"#d4d4d4",heading:"#616161",label:"#8a8a8a",textPrimary:"#1e1e1e",textMuted:"#555555",rowHover:"#e8e8e8",folderActiveBg:"transparent",selectionBg:"#dcdcdc",selectionText:"#0f172a",badgeActive:"#0e639c",badgeOpen:"#6b6b6b",folderIcon:"#c0933a",folderIconActive:"#a67c32",chevronIdle:"#7a7a7a",chevronActive:"#3c3c3c"}},yA={dark:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-[#252526]",light:"focus-visible:ring-2 focus-visible:ring-[#007acc] focus-visible:ring-offset-2 focus-visible:ring-offset-white"};function wA(e){const n=new Set,r=i=>{i.kind==="folder"&&(n.add(i.id),i.children?.forEach(r))};return r(e),n}function Uf(e,n,r){const i=new Set;for(const o of e)n.has(o)&&i.add(o);return i.add(r),i}function db(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function jA({width:e,tree:n,activeFileId:r="",openFileIds:i=[],onSelectFile:o,theme:u,canCreateFile:d=!1,canCreateFolder:h=!1,isCreatingEntry:g=!1,onCreateFile:x,onCreateFolder:b,canDeleteFile:v=!1,deletingFilePath:w=null,canDeleteFolder:E=!1,deletingFolderPath:N=null,onDeleteFile:j,onDeleteFolder:_,expandedStorageKey:T,onHide:C}){const z=p.useMemo(()=>T?Ws(T):null,[T]),L=p.useMemo(()=>wA(n),[n]),[O,te]=p.useState(()=>{const q=z?.get()??null,le=q?new Set(q):new Set([n.id]);return Uf(le,L,n.id)}),[U,Z]=p.useState(null),[W,G]=p.useState(null),[re,$]=p.useState(null);p.useEffect(()=>{G(null),$(null)},[n.id]),p.useEffect(()=>{te(q=>{const le=Uf(q,L,n.id);return db(q,le)?q:le})},[L,n.id]),p.useEffect(()=>{if(!z)return;const q=z.get();if(!q)return;const le=Uf(new Set(q),L,n.id);te(ge=>db(ge,le)?ge:le)},[z,L,n.id]),p.useEffect(()=>{if(!z)return;const q=Array.from(O).filter(le=>le!==n.id&&L.has(le));z.set(q)},[O,z,L,n.id]);const K=p.useCallback(q=>{te(le=>{const ge=new Set(le);return ge.has(q)?ge.delete(q):ge.add(q),ge.add(n.id),ge})},[n.id]),ue=p.useCallback((q,le)=>{te(ge=>{const xe=new Set(ge);return le?xe.add(q):q!==n.id&&xe.delete(q),xe.add(n.id),xe})},[n.id]),we=p.useCallback(()=>{te(new Set([n.id]))},[n.id]),D=p.useCallback((q,le)=>{$(null),te(ge=>{const xe=new Set(ge);return xe.add(n.id),xe.add(q),xe}),G({parentId:q,kind:le})},[n.id]),A=p.useCallback(async(q,le,ge)=>{const xe=le.trim();if(!xe){$("Name cannot be empty.");return}const Ce=ge==="folder"?b:x;if(Ce)try{$(null),await Ce(q===n.id?"":q,xe),G(null)}catch(We){const Oe=We instanceof Error?We.message:"Unable to create entry.";$(Oe)}},[x,b,n.id]),se=p.useCallback(()=>{G(null),$(null)},[]),de=p.useCallback((q,le)=>{q.preventDefault(),Z({node:le,position:{x:q.clientX,y:q.clientY}})},[]),ae=p.useCallback(async q=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(q);return}catch{}if(typeof document>"u")return;const le=document.createElement("textarea");le.value=q,le.setAttribute("readonly","true"),le.style.position="absolute",le.style.left="-9999px",document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le)},[]),k=p.useCallback(q=>{j&&(j(q),Z(null))},[j]),Q=p.useCallback(q=>{_&&(_(q),Z(null))},[_]),ce=p.useMemo(()=>{if(!U)return[];const{node:q}=U,le={open:"Enter",newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",copyPath:"Ctrl+K Ctrl+C",collapseAll:"Ctrl+K Ctrl+0",delete:"Delete"};if(q.kind==="file")return[{id:"open-file",label:"Open",icon:l.jsx(kA,{}),shortcut:le.open,onSelect:()=>o(q.id)},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(hb,{}),shortcut:le.copyPath,onSelect:()=>{ae(q.id)}},{id:"delete-file",label:"Delete",icon:l.jsx(mb,{}),shortcut:le.delete,disabled:!v||!j,onSelect:()=>k(q.id)}];const ge=O.has(q.id);return[{id:"new-file",label:"New File",icon:l.jsx(Dy,{}),shortcut:le.newFile,disabled:!d||!x,onSelect:()=>{!d||!x||(D(q.id,"file"),Z(null))}},{id:"new-folder",label:"New Folder",icon:l.jsx(fh,{}),shortcut:le.newFolder,disabled:!h||!b,onSelect:()=>{!h||!b||(D(q.id,"folder"),Z(null))}},{id:"toggle-folder",label:ge?"Collapse Folder":"Expand Folder",icon:ge?l.jsx(TA,{}):l.jsx(AA,{}),onSelect:()=>ue(q.id,!ge)},{id:"collapse-all",label:"Collapse All",icon:l.jsx(DA,{}),shortcut:le.collapseAll,dividerAbove:!0,onSelect:()=>we()},{id:"copy-path",label:"Copy Path",dividerAbove:!0,icon:l.jsx(hb,{}),shortcut:le.copyPath,onSelect:()=>{ae(q.id)}},{id:"delete-folder",label:"Delete Folder",icon:l.jsx(mb,{}),shortcut:le.delete,disabled:!E||!_,onSelect:()=>Q(q.id)}]},[U,o,ae,v,j,O,ue,we,d,h,x,b,D,E,_,Q,k]),F=vA[u],ee=yA[u],H=p.useMemo(()=>n.children??[],[n]),Y=u==="dark"?"dark":"light";return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"flex h-full min-h-0 flex-col border-r text-[13px]",style:{width:e,backgroundColor:F.surface,borderColor:F.border,color:F.textPrimary},"aria-label":"Config files explorer",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-3 py-2",style:{borderColor:F.border,backgroundColor:u==="dark"?"#181818":"#ececec"},children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.3em]",style:{color:F.heading},children:"Explorer"}),l.jsx("button",{type:"button",onClick:C,"aria-label":"Hide explorer",className:me("flex h-7 w-7 items-center justify-center rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",u==="dark"?"text-slate-300 hover:bg-white/10 hover:text-white":"text-slate-600 hover:bg-black/10 hover:text-slate-900"),children:l.jsx(_A,{})})]}),l.jsx("nav",{className:"flex-1 overflow-auto px-2 py-2","aria-label":"Workspace files tree",children:l.jsxs("ul",{className:"space-y-0.5",children:[H.map(q=>l.jsx(Ay,{node:q,depth:0,expanded:O,activeFileId:r,openFileIds:i,onToggleFolder:K,onSelectFile:o,tokens:F,theme:u,focusRingClass:ee,onContextMenu:de,editing:W,onSubmitCreateEntry:A,onCancelCreateEntry:se,createError:re,isCreatingEntry:g,deletingFilePath:w,deletingFolderPath:N,onClearCreateError:()=>$(null)},q.id)),W?.parentId===n.id?l.jsx("li",{className:"pl-2",children:l.jsx(My,{appearance:u,icon:W.kind==="folder"?l.jsx(fh,{}):void 0,placeholder:W.kind==="folder"?"new_folder":"new_file.py",onSubmit:q=>A(n.id,q,W.kind),onCancel:se,onChange:()=>$(null),isSubmitting:g,error:re})}):null]})})]}),l.jsx(Ti,{open:!!U,position:U?U.position:null,onClose:()=>Z(null),items:ce,appearance:Y})]})}function Ay({node:e,depth:n,expanded:r,activeFileId:i,openFileIds:o,onToggleFolder:u,onSelectFile:d,tokens:h,theme:g,focusRingClass:x,onContextMenu:b,editing:v,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:_,deletingFolderPath:T,onClearCreateError:C}){const L={paddingLeft:8+n*16,"--tree-hover-bg":h.rowHover};if(e.kind==="folder"){const G=r.has(e.id),re=T===e.id,$=v?.parentId===e.id,K={...L,color:G?h.textPrimary:h.textMuted};return G&&h.folderActiveBg!=="transparent"&&(K.backgroundColor=h.folderActiveBg),l.jsxs("li",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>u(e.id),onContextMenu:ue=>b(ue,e),className:me("group flex w-full items-center gap-2 rounded-md px-2 py-1 text-left font-medium transition hover:bg-[var(--tree-hover-bg)]",x,re&&"opacity-60"),style:K,"aria-expanded":G,disabled:re,children:[l.jsx(EA,{open:G,tokens:h}),l.jsx(NA,{open:G,tokens:h}),l.jsx("span",{className:"truncate",children:e.name})]}),G?l.jsxs("ul",{className:"mt-0.5 space-y-0.5",children:[e.children?.map(ue=>l.jsx(Ay,{node:ue,depth:n+1,expanded:r,activeFileId:i,openFileIds:o,onToggleFolder:u,onSelectFile:d,tokens:h,theme:g,focusRingClass:x,onContextMenu:b,editing:v,onSubmitCreateEntry:w,onCancelCreateEntry:E,createError:N,isCreatingEntry:j,deletingFilePath:_,deletingFolderPath:T,onClearCreateError:C},ue.id)),$?l.jsx("li",{className:"pl-2",children:l.jsx(My,{appearance:g,icon:v?.kind==="folder"?l.jsx(fh,{}):void 0,placeholder:v?.kind==="folder"?"new_folder":"new_file.py",onSubmit:ue=>{v&&w(e.id,ue,v.kind)},onCancel:E,onChange:C,isSubmitting:j,error:N})}):null]}):null]})}const O=i===e.id,te=o.includes(e.id),U=_===e.id,Z=SA(e.name,e.language),W={...L,color:h.textPrimary};return O&&(W.backgroundColor=h.selectionBg,W.color=h.selectionText),l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>d(e.id),onContextMenu:G=>b(G,e),className:me("flex w-full items-center gap-2 rounded-md px-2 py-1 text-left transition hover:bg-[var(--tree-hover-bg)]",x,O&&"shadow-inner shadow-[#00000033]",U&&"opacity-60"),style:W,disabled:U,children:[l.jsx("span",{className:"inline-flex w-4 justify-center",children:l.jsx(CA,{className:me(Z,te&&!O&&"opacity-90",!te&&!O&&"opacity-75")})}),l.jsx("span",{className:me("flex-1 truncate",O&&"font-semibold"),children:e.name}),te&&!O?l.jsx("span",{className:"h-1.5 w-1.5 rounded-full",style:{backgroundColor:h.badgeOpen}}):null]})})}const fb={json:"text-[#f1d06b]",py:"text-[#519aba]",ts:"text-[#519aba]",tsx:"text-[#519aba]",js:"text-[#f4d13d]",jsx:"text-[#519aba]",md:"text-[#4ec9b0]",env:"text-[#b5cea8]",txt:"text-[#9cdcfe]",lock:"text-[#c586c0]"};function SA(e,n){if(n==="python")return"text-sky-300";const r=e.toLowerCase().split("."),i=r.length>1?r.pop()??"":"";return i&&fb[i]?fb[i]:"text-slate-400"}function EA({open:e,tokens:n}){return l.jsx("svg",{className:me("h-3 w-3 flex-shrink-0 transition-transform duration-150",e?"rotate-90":void 0),viewBox:"0 0 10 10","aria-hidden":!0,children:l.jsx("path",{d:"M3 1l4 4-4 4",stroke:e?n.chevronActive:n.chevronIdle,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})}function NA({open:e,tokens:n}){return l.jsx("svg",{className:"h-4 w-4 flex-shrink-0 transition-colors",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M3.5 5.5h4l1.5 1.5H16a1 1 0 0 1 1 1V15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5a1 1 0 0 1 1-1Z",stroke:e?n.folderIconActive:n.folderIcon,strokeWidth:1.4,strokeLinejoin:"round",fill:e?n.folderIconActive:"none",opacity:e?.25:1})})}function CA({className:e}){return l.jsxs("svg",{className:me("h-4 w-4 flex-shrink-0",e),viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3h4l4 4v9a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 3v4h4",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})]})}function _A(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M3 3h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 13h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M11 5l2 3-2 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}const ea="h-4 w-4 text-current opacity-80";function kA(){return l.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M3 4.5h3l1 1H13a1 1 0 0 1 1 1V12.5a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}function hb(){return l.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 4.5h5.5a1 1 0 0 1 1 1V13",stroke:"currentColor",strokeWidth:"1.1",strokeLinecap:"round"}),l.jsx("rect",{x:"3.5",y:"2.5",width:"6",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.1",fill:"none"})]})}function TA(){return l.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 6l3 3 3-3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Dy(){return l.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 4.5h4.5l3 3V13a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1V5.5a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),l.jsx("path",{d:"M11 7.5h-2v-2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M8.5 7.5h2.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function fh(){return l.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3.5 5h3.5l1.2 1.4H12.5a1 1 0 0 1 1 1V12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinejoin:"round"}),l.jsx("path",{d:"M8 8v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M6.5 9.5h3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function AA(){return l.jsx("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:l.jsx("path",{d:"M5 10l3-3 3 3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})}function DA(){return l.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M3 5h10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 8h6",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M3 11h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function mb(){return l.jsxs("svg",{className:ea,viewBox:"0 0 16 16","aria-hidden":!0,children:[l.jsx("path",{d:"M6 3.5h4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 4.5h8",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M5.5 4.5v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),l.jsx("path",{d:"M9.5 6v4",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]})}function My({appearance:e,onSubmit:n,onCancel:r,onChange:i,isSubmitting:o,error:u,placeholder:d="new_file.py",icon:h}){const[g,x]=p.useState(""),b=p.useRef(null);p.useEffect(()=>{b.current?.focus(),b.current?.select()},[]);const v=p.useCallback(()=>{n(g.trim())},[n,g]),w=e==="dark"?"text-slate-300":"text-slate-600",E=e==="dark"?"#232323":"#e8e8e8",N=e==="dark"?"#2f2f2f":"#d4d4d4";return l.jsxs("div",{className:"rounded-md border px-2 py-1",style:{backgroundColor:E,borderColor:N},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex w-4 justify-center text-[#4fc1ff]",children:h??l.jsx(Dy,{})}),l.jsx("input",{ref:b,value:g,onChange:j=>{x(j.target.value),i?.()},onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),v()),j.key==="Escape"&&(j.preventDefault(),r())},className:"flex-1 rounded-sm border border-transparent bg-white/80 px-2 py-1 text-[13px] text-slate-900 outline-none focus:border-[#007acc]",placeholder:d,disabled:o}),l.jsx("button",{type:"button",className:me("rounded-sm px-2 py-1 text-[12px] font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",o?"cursor-wait bg-slate-300 text-slate-500":"bg-[#007acc] text-white hover:bg-[#0e78c6]"),onClick:v,disabled:o,children:o?"Creating":"Create"}),l.jsx("button",{type:"button",className:"rounded-sm px-2 py-1 text-[12px] font-semibold text-slate-500 transition hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#007acc]",onClick:r,disabled:o,children:"Cancel"})]}),l.jsx("div",{className:me("mt-1 text-[11px]",w),children:"Enter a name and press Enter. Escape to cancel."}),u?l.jsx("div",{className:"mt-1 text-[11px] font-semibold text-danger-500",children:u}):null]})}function pb({orientation:e,onPointerDown:n,onDoubleClick:r,onToggle:i,collapsed:o}){const u=e==="vertical",d=u?"":o?"":"";return l.jsxs("div",{role:"separator","aria-orientation":e,className:me("relative select-none bg-transparent group",u?"w-4 cursor-col-resize":"h-3 cursor-row-resize"),style:{touchAction:"none"},onPointerDown:n,onDoubleClick:r,title:u?"Drag to resize":"Drag to resize  Double-click to hide/show console",children:[l.jsx("span",{className:"sr-only",children:"Resize panel"}),l.jsx("div",{className:me("absolute inset-0 flex items-center justify-center",u?"px-[6px]":"py-[6px]"),"aria-hidden":!0,children:l.jsx("div",{className:me(u?"h-full w-px":"h-px w-full","bg-slate-400/50")})}),i&&!u?l.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),i()},className:"absolute right-1/2 top-1/2 h-5 w-5 -translate-y-1/2 translate-x-[40%] rounded bg-slate-800/70 text-[10px] text-slate-100 opacity-0 shadow-sm transition-opacity group-hover:opacity-100 focus:opacity-100 focus:outline-none","aria-label":o?"Show console":"Hide console",title:o?"Show console":"Hide console",children:d}):null]})}const MA={json:"json",py:"python",ts:"typescript",tsx:"typescriptreact",js:"javascript",jsx:"javascriptreact",env:"dotenv",md:"markdown",yml:"yaml",yaml:"yaml",toml:"toml"};function gb(e){const n=e.root||e.prefix||e.entries[0]?.parent||"",r=e.entries.length>0;if(!n&&!r)return null;const i=Zl(n),o={id:n,name:xb(n),kind:"folder",children:[]},u=new Map([[n,o]]),d=g=>{if(g.length===0)return o;const x=Zl(g),b=x===i?n:x,v=u.get(b);if(v)return v;const w={id:b,name:xb(b),kind:"folder",children:[]};u.set(b,w);const E=b===n?"":OA(b)??n,N=d(E);return Bf(N,w),w},h=[...e.entries].sort((g,x)=>g.depth!==x.depth?g.depth-x.depth:g.path.localeCompare(x.path));for(const g of h){const x=g.parent&&g.parent.length>0?Zl(g.parent):n,b=d(x);if(g.kind==="dir"){const w=d(g.path);w.name=g.name,w.metadata={size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag},w!==b&&Bf(b,w);continue}const v={id:g.path,name:g.name,kind:"file",language:zA(g.path),metadata:{size:g.size??null,modifiedAt:g.mtime,contentType:g.content_type,etag:g.etag}};u.set(g.path,v),Bf(b,v)}return o}function Bf(e,n){const r=e.children??[],i=r.some(o=>o.id===n.id)?r.map(o=>o.id===n.id?n:o):[...r,n];e.children=i.sort(RA)}function RA(e,n){return e.kind!==n.kind?e.kind==="folder"?-1:1:e.name.localeCompare(n.name)}function zA(e){const n=e.toLowerCase(),r=n.lastIndexOf(".");if(r===-1)return;const i=n.slice(r+1);return MA[i]}function xb(e){const n=Zl(e);if(!n)return"";const r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}function OA(e){const n=Zl(e);if(!n)return;const r=n.lastIndexOf("/");return r===-1?"":n.slice(0,r)}function Zl(e){return e?e.replace(/\/+$/,""):""}function vs(e,n){if(e.id===n)return e;if(!e.children)return null;for(const r of e.children){const i=vs(r,n);if(i)return i}return null}function Yh(e){if(e.kind==="file")return e;if(!e.children)return null;for(const n of e.children){const r=Yh(n);if(r)return r}return null}function LA({tree:e,initialActiveFileId:n,loadFile:r,persistence:i}){const[o,u]=p.useState([]),[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(()=>!i),[w,E]=p.useState(!1),N=p.useRef(new Set),j=p.useRef([]),_=p.useRef(""),T=p.useRef([]),C=p.useCallback(F=>{h(ee=>ee===F?ee:F),x(ee=>{const H=ee.filter(q=>j.current.some(le=>le.id===q));if(!F)return H;const Y=H.filter(q=>q!==F);return[F,...Y]})},[]);p.useEffect(()=>{_.current=d},[d]),p.useEffect(()=>{T.current=g},[g]),p.useEffect(()=>{if(!e){u([]),h(""),x([]);return}u(ee=>ee.filter(H=>!!vs(e,H.id)).map(H=>{const Y=vs(e,H.id);return!Y||Y.kind!=="file"?H:{...H,name:Y.name,language:Y.language,metadata:Y.metadata}}));const F=_.current;(!F||!vs(e,F))&&C("")},[e,C]);const z=p.useMemo(()=>o.find(F=>F.id===d)??o[0]??null,[d,o]),L=p.useCallback(async F=>{if(!j.current.some(H=>H.id===F))return;let ee=!1;if(u(H=>H.map(Y=>Y.id!==F?Y:Y.status==="ready"?(ee=!0,Y):{...Y,status:"loading",error:null})),!ee)try{const H=await r(F);u(Y=>Y.map(q=>q.id===F?{...q,initialContent:H.content,content:H.content,status:"ready",error:null,etag:H.etag??null,saving:!1,saveError:null}:q))}catch(H){const Y=H instanceof Error?H.message:"Unable to load file.";u(q=>q.map(le=>le.id===F?{...le,status:"error",error:Y}:le))}},[r]),O=p.useCallback((F,ee)=>{if(!e)return;const H=vs(e,F);!H||H.kind!=="file"||(u(Y=>{if(Y.some(le=>le.id===F))return Y;const q={id:H.id,name:H.name,language:H.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:H.metadata,pinned:!1,saving:!1,saveError:null,lastSavedAt:null};return[...Y,q]}),(ee?.activate??!0)&&C(F))},[e,C]);p.useEffect(()=>{if(b||!i||!e){i||v(!0);return}const F=i.get(),H=(F?.openTabs??[]).map(Y=>typeof Y=="string"?{id:Y,pinned:!1}:Y).filter(Y=>!!(Y&&Y.id));if(H.length>0){const Y=[];for(const q of H){const le=vs(e,q.id);!le||le.kind!=="file"||Y.push({id:le.id,name:le.name,language:le.language,initialContent:"",content:"",status:"loading",error:null,etag:null,metadata:le.metadata,pinned:!!q.pinned,saving:!1,saveError:null,lastSavedAt:null})}if(Y.length>0){u(Y);const q=(F?.activeTabId&&Y.some(xe=>xe.id===F.activeTabId)?F.activeTabId:Y[0]?.id)??"";h(q);const ge=(F?.mru&&F.mru.length>0?F.mru:Y.map(xe=>xe.id)).filter(xe=>Y.some(Ce=>Ce.id===xe));x(ge),E(!0)}}v(!0)},[b,i,e]),p.useEffect(()=>{if(!e||!b)return;if(o.length>0){w||E(!0);return}if(w)return;const F=n&&vs(e,n)||Yh(e);if(!F){E(!0);return}O(F.id),E(!0)},[e,n,O,b,o.length,w]);const te=p.useCallback(F=>{O(F)},[O]),U=p.useCallback(F=>{C(F),u(ee=>ee.map(H=>H.id===F&&H.status==="error"?{...H,status:"loading",error:null}:H))},[C]),Z=p.useCallback(F=>{u(ee=>{const H=ee.filter(le=>le.id!==F),Y=_.current,q=Y===F?H[H.length-1]?.id??"":H.some(le=>le.id===Y)?Y:H[H.length-1]?.id??"";return C(q),H})},[C]),W=p.useCallback(F=>{u(ee=>!ee.some(H=>H.id===F)||ee.length<=1?ee:(C(F),ee.filter(H=>H.id===F)))},[C]),G=p.useCallback(F=>{u(ee=>{const H=ee.findIndex(le=>le.id===F);if(H===-1||H===ee.length-1)return ee;const Y=ee.slice(0,H+1),q=Y.some(le=>le.id===_.current)?_.current:F;return C(q),Y})},[C]),re=p.useCallback(()=>{u([]),h(""),x([])},[]),$=p.useCallback((F,ee)=>{u(H=>{if(H.length<=1)return H;const Y=H.findIndex(Oe=>Oe.id===F);if(Y===-1)return H;const q=H.filter((Oe,Te)=>Te!==Y),le=Math.max(0,Math.min(ee,q.length)),ge=[],xe=[],Ce=H[Y];if(q.forEach(Oe=>{Oe.pinned?ge.push(Oe):xe.push(Oe)}),(le<=ge.length?"pinned":"regular")==="pinned"){const Oe=Math.max(0,Math.min(le,ge.length));ge.splice(Oe,0,{...Ce,pinned:!0})}else{const Oe=Math.max(0,Math.min(le-ge.length,xe.length));xe.splice(Oe,0,{...Ce,pinned:!1})}return[...ge,...xe]})},[]),K=p.useCallback(F=>{if(N.current.has(F))return;let ee=!1;u(H=>H.map(Y=>Y.id!==F?Y:(ee=!0,{...Y,status:"loading",error:null}))),ee&&(N.current.add(F),L(F).finally(()=>{N.current.delete(F)}))},[L]),ue=p.useCallback(F=>{u(ee=>{const H=[],Y=[];let q=null;for(const ge of ee){if(ge.id===F){q=ge;continue}ge.pinned?H.push(ge):Y.push(ge)}if(!q||q.pinned)return ee;const le={...q,pinned:!0};return[...H,le,...Y]})},[]),we=p.useCallback(F=>{u(ee=>{const H=[],Y=[];let q=null;for(const ge of ee){if(ge.id===F){q=ge;continue}ge.pinned?H.push(ge):Y.push(ge)}if(!q||!q.pinned)return ee;const le={...q,pinned:!1};return[...H,le,...Y]})},[]),D=p.useCallback((F,ee)=>{ee?ue(F):we(F)},[ue,we]),A=p.useCallback(F=>{const ee=T.current.filter(Ce=>j.current.some(We=>We.id===Ce));if(ee.length<=1)return;const H=_.current||ee[0],Y=ee.indexOf(H),ge=((Y>=0?Y:0)+(F==="forward"?1:-1)+ee.length)%ee.length,xe=ee[ge];xe&&xe!==H&&C(xe)},[C]),se=p.useCallback((F,ee)=>{u(H=>H.map(Y=>Y.id===F?{...Y,content:ee,status:Y.status==="ready"?Y.status:"ready",error:null,saveError:null}:Y))},[]),de=p.useCallback(F=>{u(ee=>ee.map(H=>H.id===F?{...H,saving:!0,saveError:null}:H))},[]),ae=p.useCallback((F,ee)=>{u(H=>H.map(Y=>{if(Y.id!==F)return Y;const q=ee?.metadata??Y.metadata??null,le=ee?.etag??Y.etag??null,ge=ee?.savedContent??Y.content;return{...Y,saving:!1,saveError:null,initialContent:ge,etag:le,metadata:q&&{...q,etag:q.etag??le??null},lastSavedAt:new Date().toISOString()}}))},[]),k=p.useCallback((F,ee)=>{u(H=>H.map(Y=>Y.id===F?{...Y,saving:!1,saveError:ee}:Y))},[]),Q=p.useCallback((F,ee)=>{u(H=>H.map(Y=>Y.id!==F?Y:{...Y,content:ee.content,initialContent:ee.content,status:"ready",error:null,saving:!1,saveError:null,etag:ee.etag??Y.etag??null,metadata:ee.metadata??Y.metadata}))},[]),ce=p.useMemo(()=>o.some(F=>F.status==="ready"&&F.content!==F.initialContent),[o]);return p.useEffect(()=>{j.current=o},[o]),p.useEffect(()=>{x(F=>{const ee=F.filter(H=>o.some(Y=>Y.id===H));return ee.length===F.length?F:ee})},[o]),p.useEffect(()=>{const F=new Set(o.map(ee=>ee.id));for(const ee of N.current)F.has(ee)||N.current.delete(ee);for(const ee of o){if(ee.status!=="loading"||N.current.has(ee.id))continue;N.current.add(ee.id),L(ee.id).finally(()=>{N.current.delete(ee.id)})}},[o,L]),p.useEffect(()=>{if(!i||!b)return;const F=[d,...g].filter(ee=>!!ee).filter((ee,H,Y)=>Y.indexOf(ee)===H).filter(ee=>o.some(H=>H.id===ee));i.set({openTabs:o.map(ee=>({id:ee.id,pinned:!!ee.pinned})),activeTabId:d||null,mru:F})},[i,o,d,g,b]),{tree:e,tabs:o,activeTabId:d,activeTab:z,openFile:te,selectTab:U,closeTab:Z,closeOtherTabs:W,closeTabsToRight:G,closeAllTabs:re,moveTab:$,reloadTab:K,pinTab:ue,unpinTab:we,toggleTabPin:D,selectRecentTab:A,updateContent:se,beginSavingTab:de,completeSavingTab:ae,failSavingTab:k,replaceTabContent:Q,isDirty:ce}}function Ry(e){if(e instanceof URLSearchParams)return new URLSearchParams(e);if(typeof e=="string"||Array.isArray(e))return new URLSearchParams(e);const n=new URLSearchParams;for(const[r,i]of Object.entries(e)){if(i==null)continue;const o=Array.isArray(i)?i:[i];for(const u of o)u!=null&&n.append(r,String(u))}return n}const zy=p.createContext(null);function UA({value:e,children:n}){return p.createElement(zy.Provider,{value:e},n)}function Oy(){const e=p.useContext(zy),n=Fn(),r=It(),i=p.useMemo(()=>new URLSearchParams(n.search),[n.search]),o=p.useCallback((u,d)=>{const h=typeof u=="function"?u(new URLSearchParams(i)):u,x=Ry(h).toString(),b=`${n.pathname}${x?`?${x}`:""}${n.hash}`;r(b,{replace:d?.replace})},[n.hash,n.pathname,r,i]);return[e?.params??i,e?.setSearchParams??o]}const zc={pane:"terminal",console:"closed"},BA=["pane","console","file"],$A=["tab","view","runId"];function qA(e){return e==="open"?"open":"closed"}function FA(e){return e==="problems"?"problems":"terminal"}function Ly(e){const n=e instanceof URLSearchParams?e:new URLSearchParams(e),r=n.get("pane"),i=n.get("console"),o=n.get("file");return{...{pane:FA(r),console:qA(i),fileId:o??void 0},present:{pane:n.has("pane"),console:n.has("console"),fileId:n.has("file")}}}function $f(e,n){const r=Ly(e),i={...zc,...r,...n},o=new URLSearchParams(e);for(const u of BA)o.delete(u);for(const u of $A)o.delete(u);return i.pane!==zc.pane&&o.set("pane",i.pane),i.console!==zc.console&&o.set("console",i.console),i.fileId&&i.fileId.length>0&&o.set("file",i.fileId),o}function HA(){const[e,n]=Oy(),r=p.useMemo(()=>Ly(e),[e]),i=p.useCallback(d=>{r.fileId===d||!d&&!r.present.fileId||n(h=>$f(h,{fileId:d??void 0}),{replace:!0})},[n,r.fileId,r.present.fileId]),o=p.useCallback(d=>{r.pane!==d&&n(h=>$f(h,{pane:d}),{replace:!0})},[n,r.pane]),u=p.useCallback(d=>{r.console!==d&&n(h=>$f(h,{console:d}),{replace:!0})},[n,r.console]);return{fileId:r.fileId??zc.fileId,pane:r.pane,console:r.console,consoleExplicit:r.present.console,setFileId:i,setPane:o,setConsole:u}}const ZA="You have unsaved changes in the config editor. Are you sure you want to leave?";function IA({isDirty:e,confirm:n=window.confirm,message:r=ZA,shouldBypassNavigation:i}){const o=Fn(),u=p.useCallback(d=>!e||i?.()||d.location.pathname===o.pathname?!0:n(r),[n,e,o.pathname,r,i]);$b(u,e),p.useEffect(()=>{if(!e)return;const d=h=>(h.preventDefault(),h.returnValue=r,r);return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[e,r])}const bb="(prefers-color-scheme: dark)";function vb(e){return e==="light"||e==="dark"||e==="system"?e:"system"}function VA(e,n){return e==="dark"||e==="system"&&n?"ade-dark":"vs-light"}function QA(e){const n=p.useMemo(()=>Ws(e),[e]),[r,i]=p.useState(()=>{const g=n.get();return vb(g)}),[o,u]=p.useState(()=>typeof window>"u"?!1:window.matchMedia(bb).matches);p.useEffect(()=>{const g=vb(n.get());i(x=>x===g?x:g)},[n]),p.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia(bb),x=b=>{u(b.matches)};return typeof g.addEventListener=="function"?g.addEventListener("change",x):typeof g.addListener=="function"&&g.addListener(x),u(g.matches),()=>{typeof g.removeEventListener=="function"?g.removeEventListener("change",x):typeof g.removeListener=="function"&&g.removeListener(x)}},[]),p.useEffect(()=>{n.set(r)},[r,n]);const d=p.useMemo(()=>VA(r,o),[r,o]),h=p.useCallback(g=>{i(g)},[]);return{preference:r,resolvedTheme:d,setPreference:h}}function as(e,n,r){return Math.min(Math.max(e,n),r)}function yb(e,n){const{onMove:r,onEnd:i,cursor:o}=n;if(typeof window>"u")return;e.preventDefault();const u=e.pointerId,d=e.currentTarget,h=document.body.style.cursor,g=document.body.style.userSelect;let x=null,b=null,v=!0;const w=_=>{if(v){if(v=!1,x!==null&&(cancelAnimationFrame(x),x=null),document.body.style.cursor=h,document.body.style.userSelect=g,window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",N),d.removeEventListener("lostpointercapture",j),d.hasPointerCapture?.(u))try{d.releasePointerCapture(u)}catch{}i&&i(_)}},E=_=>{!v||_.pointerId!==u||(b=_,x===null&&(x=window.requestAnimationFrame(()=>{x=null,b&&r(b)})))},N=_=>{_.pointerId===u&&w(_)},j=_=>{_.pointerId===u&&w(_)};o&&(document.body.style.cursor=o),document.body.style.userSelect="none";try{d.setPointerCapture(u)}catch{}window.addEventListener("pointermove",E),window.addEventListener("pointerup",N),window.addEventListener("pointercancel",N),d.addEventListener("lostpointercapture",j)}const WA="inline-flex items-center gap-2 rounded-l-md px-3 py-1.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed",PA="inline-flex items-center justify-center rounded-r-md border-l px-2 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 disabled:cursor-not-allowed";function KA({label:e,icon:n,disabled:r,isLoading:i,highlight:o,className:u,primaryClassName:d,menuClassName:h,title:g,menuAriaLabel:x="Open menu",menuIcon:b=l.jsx(YA,{}),onPrimaryClick:v,onOpenMenu:w,onContextMenu:E}){const N=p.useRef(null),j=!!(r||i),_=T=>{if(j)return;T.preventDefault();const C=N.current?.getBoundingClientRect();if(C){w?.({x:C.left,y:C.bottom});return}w?.({x:T.clientX,y:T.clientY})};return l.jsxs("div",{role:"group",className:me("inline-flex items-stretch rounded-md shadow-sm",o&&"ring-2 ring-amber-300/70 ring-offset-2 ring-offset-transparent",u),onContextMenu:E,children:[l.jsxs("button",{type:"button",title:g,disabled:j,className:me(WA,d),onClick:T=>{j||v?.(T)},children:[n,l.jsx("span",{className:"whitespace-nowrap",children:e})]}),l.jsx("button",{ref:N,type:"button","aria-label":x,"aria-haspopup":"menu","aria-expanded":"false",disabled:j,className:me(PA,h),onClick:_,children:b})]})}function YA(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false",children:l.jsx("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const GA=new TextEncoder;async function XA(e,n={}){const{signal:r,page:i,pageSize:o,includeTotal:u}=n,d={};typeof i=="number"&&i>0&&(d.page=i),typeof o=="number"&&o>0&&(d.page_size=o),u&&(d.include_total=!0);const{data:h}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e},query:d},signal:r});if(!h)throw new Error("Expected configuration page payload.");return h}async function JA(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}",{params:{path:{workspace_id:e,configuration_id:n}},signal:r});return i??null}async function eD(e,n,r={}){const{prefix:i,depth:o,include:u,exclude:d,limit:h,pageToken:g,sort:x,order:b,signal:v}=r,{data:w}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files",{params:{path:{workspace_id:e,configuration_id:n},query:{prefix:i??"",depth:o??"infinity",include:u?.length?[...u]:void 0,exclude:d?.length?[...d]:void 0,limit:h,page_token:g??void 0,sort:x,order:b}},signal:v,requestInitExt:{cache:"no-store"}});if(!w)throw new Error("Expected file listing payload.");return w}async function wb(e,n,r,i){const{data:o}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:{Accept:"application/json"},signal:i,requestInitExt:{cache:"no-store"}});if(!o)throw new Error("Expected file payload.");return o}async function tD(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/export",{params:{path:{workspace_id:e,configuration_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected configuration archive payload.");const d=(i?.headers?.get("content-disposition")??"").match(/filename="?([^";]+)"?/i)?.[1];return{blob:r,filename:d??void 0}}async function nD(e,n,r){const i=uD(r.path),o=r.parents?"?parents=1":"",u=await iS(`/api/v1/workspaces/${e}/configurations/${n}/files/${i}${o}`,{method:"PUT",body:GA.encode(r.content),headers:{"Content-Type":"application/octet-stream",...r.create?{"If-None-Match":"*"}:r.etag?{"If-Match":r.etag}:{}}});if(!u.ok){const h=await dD(u),g=h?.title??`Request failed with status ${u.status}`;throw new qn(g,u.status,h)}const d=await u.json().catch(()=>({}));if(!d||!d.path)throw new Error("Expected write response payload.");return d}async function sD(e,n,r,i={}){await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/files/{file_path}",{params:{path:{workspace_id:e,configuration_id:n,file_path:r}},headers:i.etag?{"If-Match":i.etag}:void 0})}async function rD(e,n,r){const{data:i}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r}}});if(!i)throw new Error("Expected directory response payload.");return i}async function aD(e,n,r,i={}){const o={};i.recursive&&(o.recursive=!0),await Be.DELETE("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/directories/{directory_path}",{params:{path:{workspace_id:e,configuration_id:n,directory_path:r},query:o}})}async function iD(e,n){const r=new FormData;r.append("display_name",n.displayName),r.append("file",n.file);const{data:i}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations/import",{params:{path:{workspace_id:e}},body:r,bodySerializer:()=>r});if(!i)throw new Error("Expected configuration payload.");return i}async function lD(e,n,r){const i=new FormData;i.append("file",r.file);const{data:o}=await Be.PUT("/api/v1/workspaces/{workspace_id}/configurations/{configuration_id}/import",{params:{path:{workspace_id:e,configuration_id:n}},headers:r.ifMatch?{"If-Match":r.ifMatch}:void 0,body:i,bodySerializer:()=>i});if(!o)throw new Error("Expected configuration payload.");return o}function oD(e){return e.type==="template"?{type:"template"}:{type:"clone",configuration_id:e.configurationId.trim()}}async function cD(e,n){const{data:r}=await Be.POST("/api/v1/workspaces/{workspace_id}/configurations",{params:{path:{workspace_id:e}},body:{display_name:n.displayName.trim(),source:oD(n.source)}});if(!r)throw new Error("Expected configuration payload.");return r}function uD(e){return e.split("/").map(n=>encodeURIComponent(n)).join("/")}async function dD(e){if((e.headers.get("content-type")??"").includes("application/json"))try{return await e.clone().json()}catch{return}}const Nn={root:e=>["workspaces",e,"configurations"],list:(e,n={})=>[...Nn.root(e),"list",{...n}],detail:(e,n)=>[...Nn.root(e),"detail",n],files:(e,n)=>[...Nn.detail(e,n),"files"],file:(e,n,r)=>[...Nn.files(e,n),"file",r]};function fD({workspaceId:e,configId:n,enabled:r=!0,...i}){const{prefix:o="",depth:u="infinity",include:d,exclude:h,limit:g,pageToken:x,sort:b="path",order:v="asc"}=i;return zn({queryKey:[...Nn.files(e,n),o,u,d?.join("|")??"",h?.join("|")??"",g??"",x??"",b,v],queryFn:({signal:w})=>eD(e,n,{prefix:o,depth:u,include:d,exclude:h,limit:g,pageToken:x,sort:b,order:v,signal:w}),enabled:r&&e.length>0&&n.length>0,staleTime:5e3})}function hD(e,n){const r=ft();return sn({mutationFn:i=>nD(e,n,i),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function mD(e,n){const r=ft();return sn({mutationFn:i=>sD(e,n,i.path,{etag:i.etag}),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function pD(e,n){const r=ft();return sn({mutationFn:i=>rD(e,n,i.path),async onSuccess(){await r.invalidateQueries({queryKey:Nn.files(e,n)})}})}function gD(e,n){const r=ft();return sn({mutationFn:i=>aD(e,n,i.path,{recursive:i.recursive}),async onSuccess(i,o){await Promise.all([r.invalidateQueries({queryKey:Nn.files(e,n)}),r.invalidateQueries({queryKey:Nn.file(e,n,o.path)})])}})}function xD(e){return sn({mutationFn:n=>iD(e,n)})}function bD(e,n){return sn({mutationFn:r=>lD(e,n,r)})}async function Uy(e,n,r){const{data:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/sheets",{params:{path:{workspace_id:e,document_id:n}},signal:r});return i??[]}const By=p.createContext(null),vD=6e3,yD=7e3,jb=4;function wD({children:e}){const[n,r]=p.useState([]),[i,o]=p.useState([]),u=p.useCallback(b=>{r(v=>v.filter(w=>w.id!==b)),o(v=>v.filter(w=>w.id!==b))},[]),d=p.useCallback(b=>{const v={kind:"toast",id:b.id??Sb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?vD:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,createdAt:Date.now()};return r(w=>{const N=[...v.persistKey?w.filter(j=>j.persistKey!==v.persistKey):w,v];return N.length>jb?N.slice(N.length-jb):N}),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),h=p.useCallback(b=>{const v={kind:"banner",id:b.id??Sb(),title:b.title,description:b.description,intent:b.intent??"info",actions:b.actions??[],duration:b.duration===void 0?b.sticky?null:yD:b.duration,dismissible:b.dismissible??!0,scope:b.scope,persistKey:b.persistKey,icon:b.icon,sticky:b.sticky??!1,createdAt:Date.now()};return o(w=>[...v.persistKey?w.filter(N=>N.persistKey!==v.persistKey):w,v]),typeof window<"u"&&v.duration&&v.duration>0&&window.setTimeout(()=>u(v.id),v.duration+50),v.id},[u]),g=p.useCallback((b,v)=>{b&&((!v||v==="toast")&&r(w=>w.filter(E=>E.scope!==b)),(!v||v==="banner")&&o(w=>w.filter(E=>E.scope!==b)))},[]),x=p.useMemo(()=>({toasts:n,banners:i,pushToast:d,pushBanner:h,dismiss:u,clearScope:g}),[n,i,d,h,u,g]);return l.jsxs(By.Provider,{value:x,children:[e,l.jsx(jD,{})]})}function $y(){const e=p.useContext(By);if(!e)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function jD(){const{toasts:e,banners:n,dismiss:r}=$y(),[i,o]=p.useState(!1);return p.useEffect(()=>o(!0),[]),!i||typeof document>"u"?null:ls.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[205] flex flex-col items-center gap-3 px-4 pt-3 sm:items-end sm:pr-6",children:n.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(ED,{banner:u,onDismiss:r},u.id))}),l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-4 z-[210] flex flex-col items-center gap-3 px-4 sm:inset-x-auto sm:right-6 sm:bottom-6 sm:items-end sm:px-0",children:e.slice().sort((u,d)=>u.createdAt-d.createdAt).map(u=>l.jsx(SD,{toast:u,onDismiss:r},u.id))})]}),document.body)}function SD({toast:e,onDismiss:n}){const r=e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[r,e.duration,e.id,n]);const u=ND[e.intent];return l.jsxs("div",{className:me("pointer-events-auto w-full max-w-sm rounded-2xl border px-4 py-3 text-sm shadow-2xl backdrop-blur",u.container,u.border),children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:me("mt-1 flex h-8 w-8 items-center justify-center rounded-full",u.icon),children:e.icon??Fy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[l.jsx("p",{className:"text-sm font-semibold leading-snug text-white",children:e.title}),e.description?l.jsx("p",{className:"mt-1 text-xs leading-relaxed text-white/70",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.actions.map(d=>l.jsx(qy,{action:d,onPress:()=>{d.onSelect(),n(e.id)},appearance:"dark"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:"ml-2 inline-flex h-8 w-8 items-center justify-center rounded-full text-white/60 transition hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30","aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Hy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-4 h-1 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:me("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function ED({banner:e,onDismiss:n}){const r=!e.sticky&&e.duration!==null&&e.duration>0,[i,o]=p.useState(100);p.useEffect(()=>{if(!r||!e.duration)return;o(100);const d=requestAnimationFrame(()=>o(0)),h=window.setTimeout(()=>n(e.id),e.duration);return()=>{window.cancelAnimationFrame(d),window.clearTimeout(h)}},[r,e.duration,e.id,n]);const u=CD[e.intent];return l.jsxs("div",{className:me("pointer-events-auto w-full max-w-sm rounded-lg border px-3.5 py-2.5 shadow-lg shadow-black/30 backdrop-blur-sm sm:min-w-[300px]",u.container,u.border),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:me("flex h-7 w-7 items-center justify-center rounded-full text-base",u.icon),children:e.icon??Fy(e.intent)}),l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[l.jsx("p",{className:"text-[13px] font-semibold leading-tight",children:e.title}),e.description?l.jsx("p",{className:"text-[12px] leading-relaxed text-white/75",children:e.description}):null,e.actions.length>0?l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:e.actions.map(d=>l.jsx(qy,{action:d,onPress:()=>{d.onSelect(),e.sticky||n(e.id)},appearance:"light"},d.label))}):null]}),e.dismissible?l.jsx("button",{type:"button",className:me("ml-2 inline-flex h-7 w-7 items-center justify-center rounded-full text-white/70 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30",u.dismiss),"aria-label":"Dismiss notification",onClick:()=>n(e.id),children:l.jsx(Hy,{})}):null]}),r&&e.duration?l.jsx("div",{className:"mt-2 h-0.5 overflow-hidden rounded-full bg-white/10",children:l.jsx("div",{className:me("h-full rounded-full",u.progress),style:{width:`${i}%`,transition:`width ${e.duration}ms linear`}})}):null]})}function qy({action:e,onPress:n,appearance:r}){const i=e.variant??"secondary",o=r==="dark"?"border-white/15 text-white/90 hover:bg-white/10 focus-visible:ring-white/30":"border-white/20 text-white hover:bg-white/10 focus-visible:ring-white/30";return l.jsx("button",{type:"button",className:me("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide transition focus-visible:outline-none focus-visible:ring-2",i==="primary"?"bg-white text-slate-900 hover:bg-slate-100 focus-visible:ring-white/40":o),onClick:n,children:e.label})}function Fy(e){switch(e){case"success":return l.jsx(kD,{});case"warning":return l.jsx(TD,{});case"danger":return l.jsx(AD,{});default:return l.jsx(_D,{})}}const ND={info:{container:"bg-[#0b1220]/95 text-white",border:"border-white/5",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400"},success:{container:"bg-[#031b16]/95 text-emerald-50",border:"border-emerald-500/20",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400"},warning:{container:"bg-[#211604]/95 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-400/20 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400"},danger:{container:"bg-[#22060b]/95 text-rose-50",border:"border-rose-500/30",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400"}},CD={info:{container:"bg-[#101828]/85 text-white",border:"border-white/10",icon:"bg-sky-500/15 text-sky-200",progress:"bg-gradient-to-r from-sky-500 to-blue-400",dismiss:"hover:bg-white/10"},success:{container:"bg-[#0d1c17]/85 text-emerald-50",border:"border-emerald-500/15",icon:"bg-emerald-500/15 text-emerald-200",progress:"bg-gradient-to-r from-emerald-400 to-lime-400",dismiss:"hover:bg-white/10"},warning:{container:"bg-[#1b1507]/85 text-amber-50",border:"border-amber-500/25",icon:"bg-amber-500/15 text-amber-100",progress:"bg-gradient-to-r from-amber-400 to-orange-400",dismiss:"hover:bg-white/10"},danger:{container:"bg-[#200912]/85 text-rose-50",border:"border-rose-500/25",icon:"bg-rose-500/15 text-rose-100",progress:"bg-gradient-to-r from-rose-500 to-rose-400",dismiss:"hover:bg-white/10"}};function Sb(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function _D(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M10 7.5v.2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9.2 9.5h1.6V14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function kD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M6.5 10.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function TD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M9 4.6l-6 10.4a1 1 0 0 0 .87 1.5h12.26a1 1 0 0 0 .87-1.5L11 4.6a1 1 0 0 0-1.74 0Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 8v3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),l.jsx("path",{d:"M10 14h.01",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}function AD(){return l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor",strokeWidth:"1.6",opacity:.8}),l.jsx("path",{d:"M7 7l6 6m0-6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function Hy(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 4l8 8m0-8-8 8",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function DD(){const e=$y();return p.useMemo(()=>({notifyToast:n=>e.pushToast(n),notifyBanner:n=>e.pushBanner(n),dismissNotification:n=>e.dismiss(n),dismissScope:(n,r)=>e.clearScope(n,r)}),[e])}const MD="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-50 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",lo=p.forwardRef(({className:e,...n},r)=>l.jsx("select",{ref:r,className:me(MD,e),...n}));lo.displayName="Select";class RD{constructor(n){if(this.capacity=n,!Number.isFinite(n)||n<=0)throw new Error("RingBuffer capacity must be a positive number.");this.buffer=new Array(n)}buffer;start=0;_length=0;get length(){return this._length}clear(){this.buffer.fill(void 0),this.start=0,this._length=0}push(n){if(this._length<this.capacity){const r=(this.start+this._length)%this.capacity;this.buffer[r]=n,this._length+=1;return}this.buffer[this.start]=n,this.start=(this.start+1)%this.capacity}get(n){if(n<0||n>=this._length)return;const r=(this.start+n)%this.capacity;return this.buffer[r]}toArray(){const n=[];for(let r=0;r<this._length;r+=1){const i=this.get(r);i!==void 0&&n.push(i)}return n}}class zD{constructor(n,r){this.capacity=n,this.buffer=new RD(n),this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity},r?.length&&this.appendMany(r)}listeners=new Set;buffer;version=0;snapshot;notifyScheduled=!1;nextId=1;subscribe(n){return this.listeners.add(n),()=>{this.listeners.delete(n)}}getSnapshot=()=>this.snapshot;get length(){return this.buffer.length}getLine(n){return this.buffer.get(n)}toArray(){return this.buffer.toArray()}clear(){this.buffer.clear(),this.bump()}append(n){this.buffer.push(Eb(n,this.nextId++)),this.scheduleNotify()}appendMany(n){for(const r of n)this.buffer.push(Eb(r,this.nextId++));this.scheduleNotify()}bump(){this.version+=1,this.snapshot={version:this.version,length:this.buffer.length,capacity:this.capacity};for(const n of this.listeners)n()}scheduleNotify(){if(this.notifyScheduled)return;this.notifyScheduled=!0;const n=()=>{this.notifyScheduled=!1,this.bump()};if(typeof requestAnimationFrame=="function"){requestAnimationFrame(n);return}setTimeout(n,0)}}function Eb(e,n){if(e.id)return e;const r=e.origin??"run",i=e.timestamp??"ts";return{...e,id:`console-${r}-${i}-${n}`}}function OD(e,n){const r=new URLSearchParams;n.dry_run&&r.set("dry_run","true"),n.validate_only&&r.set("validate_only","true"),n.force_rebuild&&r.set("force_rebuild","true"),n.debug&&r.set("debug","true"),n.input_document_id&&r.set("input_document_id",n.input_document_id);const i=n.input_sheet_names??[];for(const d of i)r.append("input_sheet_names",d);const o=Mi(`/api/v1/configurations/${e}/jobs/stream`),u=r.toString();return u?`${o}?${u}`:o}async function*LD(e,n,r){const i=OD(e,n);yield*UD(i,r)}async function*UD(e,n){const r=typeof DOMException<"u"?new DOMException("Aborted","AbortError"):Object.assign(new Error("Aborted"),{name:"AbortError"}),i=new AbortController,o=()=>i.abort();let u=null;n?.aborted?i.abort():n&&n.addEventListener("abort",o);try{const d=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/event-stream"},signal:i.signal});if(!d.body||!d.ok)throw new Error("Job event stream unavailable.");u=d.body.getReader();const h=new TextDecoder;let g="";for(;;){const{value:x,done:b}=await u.read();g+=h.decode(x??new Uint8Array,{stream:!b});const v=g.split(`

`);g=v.pop()??"";for(const w of v){const E=Nb(w);E&&(yield E)}if(b){const w=Nb(g);w&&(yield w);return}}}catch(d){throw i.signal.aborted?r:d}finally{if(n&&n.removeEventListener("abort",o),u)try{await u.cancel()}catch{}i.signal.aborted||i.abort()}}function Nb(e){const n=[];let r=null,i=null;for(const u of e.split(/\n/)){if(u.startsWith("data:")){const d=u.slice(5);n.push(d.startsWith(" ")?d.slice(1):d);continue}if(u.startsWith("id:")){r=u.slice(3).trim();continue}if(u.startsWith("event:")){i=u.slice(6).trim();continue}}if(!n.length)return null;const o=n.join(`
`);if(!o.trim())return null;try{const u=JSON.parse(o);if(u._raw=o,i&&!u.event&&!u.type&&(u.event=i),r&&u.sequence===void 0){const d=Number(r);Number.isFinite(d)?u.sequence=d:u.sse_id=r}return u}catch{return null}}function BD(e){const n=e.timestamp??e.created_at,r=new Date(n);return Number.isNaN(r.getTime())?new Date().toISOString():r.toISOString()}function Cb(e){return(e.event??e.type??"").toString()}function qf(e){const n=e.data??e.payload;return n&&typeof n=="object"?n:{}}function $D({configId:e,onJobIdChange:n,seed:r,maxConsoleLines:i=2e3,onError:o}){const u=p.useRef(new zD(i,r?.console?[...r.console].slice(-i):void 0)),d=p.useRef(null),h=p.useRef(!1),[g,x]=p.useState(null),[b,v]=p.useState(null),[w,E]=p.useState("idle"),[N,j]=p.useState(null),_=w==="running",T=p.useCallback(()=>{const te=d.current;te&&(te.abort(),d.current=null)},[]);p.useEffect(()=>()=>{T()},[T]);const C=p.useCallback(()=>{u.current.clear()},[]),z=p.useCallback(te=>{o&&o(te)},[o]),L=p.useCallback(te=>{const U=Cb(te);if(U==="job.meta"){const D=qf(te),A=typeof D.jobId=="string"?D.jobId:null;A&&(x(se=>se??A),n?.(A));return}const Z=qf(te),G=(U.startsWith("build.")?"build":U==="console.line"&&typeof Z.scope=="string"?Z.scope:"run")==="build"?"build":"run",re=typeof te.level=="string"?te.level.toLowerCase():"info",$=re==="debug"||re==="warning"||re==="error"||re==="success"?re:"info",K=typeof te.message=="string"?te.message:"",ue=K.trim()?K:U,we={id:typeof te.event_id=="string"?te.event_id:void 0,level:$,message:ue,timestamp:BD(te),origin:G,raw:te};if(u.current.append(we),U==="run.complete"){j(Z);const D=typeof Z.status=="string"?Z.status.toLowerCase():"";E(D==="succeeded"||D==="success"?"succeeded":D==="cancelled"||D==="canceled"?"cancelled":"failed")}},[n]),O=p.useCallback(async(te,U,Z)=>{if(h.current||_||Z?.prepare&&Z.prepare()===!1)return null;T(),C(),j(null),v(U.mode),E("running"),x(null),n?.(null);const W=new Date().toISOString(),G=new AbortController;d.current=G,h.current=!0;let re=null;try{for await(const $ of LD(e,te,G.signal)){L($);const K=Cb($);if(K==="job.meta"){const ue=qf($),we=typeof ue.jobId=="string"?ue.jobId:null;we&&!re&&(re=we,x(we),n?.(we))}if(K==="run.complete")break}if(!re)throw new Error("Job stream ended before returning a job id.");return{jobId:re,startedAt:W}}catch($){return G.signal.aborted||(E("failed"),z($)),null}finally{h.current=!1,d.current===G&&(d.current=null)}},[C,e,_,n,z,L,T]);return p.useMemo(()=>({console:u.current,jobId:g,jobMode:b,jobStatus:w,jobInProgress:_,completedDetails:N,clearConsole:C,startJob:O}),[g,b,w,_,N,C,O])}async function qD(e,n){const r=typeof e=="string"?await Gh(e,n):e,i=r.events_download_url??r.links?.events_download??r.links?.logs;if(!i)throw new Error("Run logs link unavailable.");const o=await fetch(Mi(i),{method:"GET",credentials:"include",headers:{Accept:"application/x-ndjson"},signal:n});if(!o.ok)throw new Error(`Run telemetry unavailable (${o.status}).`);return(await o.text()??"").split(/\r?\n/).filter(Boolean).map(h=>{try{return JSON.parse(h)}catch(g){return console.warn("Skipping invalid telemetry line",{error:g,line:h}),null}}).filter(h=>!!h)}async function Gh(e,n){const{data:r}=await Be.GET("/api/v1/runs/{run_id}",{params:{path:{run_id:e}},signal:n});if(!r)throw new Error("Run not found");return r}function Zy(e){const n=e.output,r=n?.ready,i=n?.download_url??e.links?.output_download??e.links?.output;return r===!1||!i?null:Mi(i)}function Iy(e){const n=e.events_download_url??e.links?.events_download??e.links?.logs;return n?Mi(n):null}function FD(e){const n=e.links?.input_download??e.links?.input;return n?Mi(n):null}const _b={detail:e=>["run",e],telemetry:e=>["run-telemetry",e]};function HD(e){return e==="succeeded"||e==="failed"||e==="cancelled"}function ZD(e){const n=(e??"").toLowerCase();return n==="succeeded"||n==="failed"||n==="cancelled"?n:n==="success"?"succeeded":"failed"}function ID({configId:e,runId:n,seed:r,maxConsoleLines:i,onRunIdChange:o,onRunComplete:u}){const d=p.useRef(null),{console:h,jobId:g,jobMode:x,jobStatus:b,jobInProgress:v,completedDetails:w,clearConsole:E,startJob:N}=$D({configId:e,onJobIdChange:o,seed:r?{console:r.console}:void 0,maxConsoleLines:i}),j=g??n,_=x??null,[T,C]=p.useState(null),z=p.useRef(null),L=p.useMemo(()=>({status:v&&_==="validation"?"running":"idle",messages:[],lastRunAt:void 0,error:null,digest:null}),[v,_]);p.useEffect(()=>{if(!j||!HD(b)||z.current===j)return;z.current=j;const U=ZD(typeof w?.status=="string"?w.status:null),Z=_??"extraction",W=w?.execution??{},G=typeof W.started_at=="string"?W.started_at:null,re=typeof W.completed_at=="string"?W.completed_at:new Date().toISOString(),$=typeof W.duration_ms=="number"?W.duration_ms:null;if(u?.({runId:j,status:U,mode:Z,startedAt:G,completedAt:re,durationMs:$,payload:w}),Z==="validation")return;const K=d.current,ue=w?.artifacts??{},we=typeof ue.output_path=="string"?ue.output_path:null,D=typeof ue.processed_file=="string"?ue.processed_file:null;C({runId:j,status:U,outputUrl:void 0,inputUrl:void 0,outputReady:we?!0:void 0,outputFilename:we?VD(we):null,outputPath:we,logsUrl:void 0,processedFile:D,outputLoaded:!1,summary:null,summaryLoaded:!0,summaryError:null,telemetry:null,telemetryLoaded:!0,telemetryError:null,documentName:K?.documentName,sheetNames:K?.sheetNames??[],error:null,startedAt:G,completedAt:re,durationMs:$}),(async()=>{try{const A=await Gh(j),se=Zy(A)??void 0,de=Iy(A)??void 0,ae=FD(A)??void 0;C(k=>k&&k.runId===j?{...k,outputUrl:se??k.outputUrl,outputReady:se?!0:k.outputReady,logsUrl:de??k.logsUrl,inputUrl:ae??k.inputUrl,outputLoaded:!0}:k)}catch{C(A=>A&&A.runId===j?{...A,outputLoaded:!0}:A)}})()},[j,b,w,u,_]);const O=p.useCallback(async(U,Z,W)=>{d.current=Z;const G=W?.forceRebuild?{...U,force_rebuild:!0}:U,re=await N(G,Z,{prepare:W?.prepare});return re&&Z.mode==="extraction"&&C(null),re?{runId:re.jobId,startedAt:re.startedAt}:null},[N]),te=b==="running"?"running":b;return p.useMemo(()=>({runStatus:te,runMode:_??void 0,runInProgress:v,validation:L,console:h,latestRun:T,clearConsole:E,startRun:O}),[te,_,v,L,h,T,E,O])}function VD(e){const n=e.trim();if(!n)return"";const r=n.split("/");return r[r.length-1]||n}const Vy=e=>`ade.ui.workspace.${e}.config-builder.last`;function Xh(e){return Ws(Vy(e))}function Jh(e,n){if(n){const r={configId:n};return e.set(r),r}return e.clear(),null}const QD={min:200,max:420},WD=320,PD=120,Ff=140,KD=220,YD=40,GD=2e3,kb=10,XD=56,Tb="Panel closed to keep the editor readable on this screen size. Resize the window or collapse other panes to reopen it.",JD=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.tabs`,eM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.console`,tM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.editor-theme`,nM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.explorer.expanded`,sM=(e,n)=>`ade.ui.workspace.${e}.configuration.${n}.layout`,rM=[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],aM={explorer:"",search:"Search coming soon",scm:"Source Control coming soon",extensions:"Extensions coming soon"};function Qy({workspaceId:e,configId:n,configName:r,seed:i,windowState:o,onMinimizeWindow:u,onMaximizeWindow:d,onRestoreWindow:h,onCloseWorkbench:g,shouldBypassUnsavedGuard:x}){const b=ft(),{fileId:v,pane:w,console:E,consoleExplicit:N,setFileId:j,setPane:_,setConsole:T}=HA(),[C,z]=p.useState(null),L=!!i,O=fD({workspaceId:e,configId:n,depth:"infinity",sort:"path",order:"asc",enabled:!L}),te=O.data?.fileset_hash??null,U=O.data?.status==="draft",Z=p.useMemo(()=>Xh(e),[e]),W=p.useMemo(()=>i?i.tree:O.data?gb(O.data):null,[i,O.data]);p.useEffect(()=>{n&&(L||O.isSuccess)&&Jh(Z,n)},[n,L,O.isSuccess,Z]);const[G,re]=p.useState(null),$=p.useCallback(V=>{re(V)},[]),K=bD(e,n),ue=p.useRef(null),[we,D]=p.useState(null),[A,se]=p.useState(!1),[de,ae]=p.useState(!1),{runStatus:k,runMode:Q,runInProgress:ce,validation:F,console:ee,latestRun:H,clearConsole:Y,startRun:q}=ID({configId:n,runId:C,seed:i,maxConsoleLines:GD,onRunIdChange:z,onRunComplete:$}),[le,ge]=p.useState(!1),[xe,Ce]=p.useState(!1),We=p.useMemo(()=>i?null:Ws(JD(e,n)),[e,n,i]),Oe=p.useMemo(()=>i?null:Ws(eM(e,n)),[e,n,i]),Te=p.useMemo(()=>Ws(sM(e,n)),[e,n]),Ye=p.useRef(null),Ut=QA(tM(e,n)),it=Ut.resolvedTheme==="vs-light"?"light":"dark",Cn=F.lastRunAt?`Last run ${wM(F.lastRunAt)}`:void 0,[M,P]=p.useState(()=>{const V=Te.get();return V?.explorer?{collapsed:!!V.explorer.collapsed,fraction:V.explorer.fraction??280/1200}:{collapsed:!1,fraction:280/1200}}),[ie,Ee]=p.useState(null),ye=p.useRef(null),[je,Ae]=p.useState(!1);p.useEffect(()=>{Oe?Ye.current=Oe.get()??null:Ye.current=null,ye.current=null,Ee(null),Ae(!1)},[Oe]);const[He,Ve]=p.useState({width:0,height:0}),[_t,Se]=p.useState(null),[Ne,$e]=p.useState("explorer"),[Dt,st]=p.useState(null),[Kt,Mt]=p.useState(null),[br,zs]=p.useState(!1),[Bi,Os]=p.useState(!1),[vr,Rt]=p.useState(!1),[wt,kt]=p.useState(null),[_n,dn]=p.useState(null),[fn,hn]=p.useState(null),{notifyBanner:On,dismissScope:qt}=DD(),bn=p.useMemo(()=>`workbench-console:${e}:${n}`,[e,n]),vn=mD(e,n),kn=pD(e,n),Yn=gD(e,n),Pe=p.useCallback((V,be)=>{On({title:V,intent:be?.intent??"info",duration:be?.duration??6e3,dismissible:!0,scope:bn,persistKey:bn})},[On,bn]),Tn=p.useCallback(()=>{qt(bn,"banner")},[qt,bn]),zt=p.useCallback(V=>{const be=yM(V);Pe(be,{intent:"danger",duration:null})},[Pe]),Ln=p.useCallback(async()=>{se(!0);try{const V=await tD(e,n),be=V.filename??`${n}.zip`,De=URL.createObjectURL(V.blob),ke=document.createElement("a");ke.href=De,ke.download=be,ke.click(),URL.revokeObjectURL(De),Pe(`Exported ${be}`,{intent:"success",duration:4e3})}catch(V){zt(V),Pe("Export failed. Try again in a moment.",{intent:"danger",duration:6e3})}finally{se(!1)}},[e,n,Pe,zt]);p.useEffect(()=>{if(!G)return;const{runId:V,status:be,payload:De}=G,ke=De?.failure??void 0,Ze=typeof ke?.message=="string"?ke.message.trim():null,an=typeof De?.summary=="string"?De.summary.trim():null,ut=Ze||an||"ADE run failed.",Mn=be==="cancelled";Pe(be==="succeeded"?"ADE run completed successfully.":Mn?"ADE run cancelled.":ut,{intent:be==="succeeded"?"success":Mn?"info":"danger"}),re(Yi=>Yi&&Yi.runId===V?null:Yi)},[G,Pe,re]);const Nt=o==="maximized",Vt=typeof navigator<"u"?/mac/i.test(navigator.platform):!1,yr=p.useCallback(()=>{g()},[g]),Ma=!M.collapsed,yu=p.useCallback(async V=>{if(i)return{content:i.content[V]??"",etag:null};const be=await b.fetchQuery({queryKey:Nn.file(e,n,V),queryFn:({signal:De})=>wb(e,n,V,De)});if(!be)throw new Error("File could not be loaded.");return{content:Db(be),etag:be.etag??null}},[i,b,e,n]),qe=LA({tree:W,initialActiveFileId:v,loadFile:yu,persistence:We??void 0}),ta=hD(e,n),wr=p.useCallback(async V=>{if(L)return null;const be=await b.fetchQuery({queryKey:Nn.file(e,n,V),queryFn:({signal:ke})=>wb(e,n,V,ke)}),De=Db(be);return qe.replaceTabContent(V,{content:De,etag:be.etag??null,metadata:{size:be.size??null,modifiedAt:be.mtime??null,contentType:be.content_type??qe.tabs.find(ke=>ke.id===V)?.metadata?.contentType??null,etag:be.etag??null}}),be},[L,b,e,n,qe]);IA({isDirty:qe.isDirty,shouldBypassNavigation:x});const $i=p.useCallback(()=>{u()},[u]),jr=p.useCallback(()=>{Nt?h():d()},[Nt,d,h]),Yt=E!=="open",Gn=p.useMemo(()=>qe.tabs.filter(V=>V.status==="ready"&&V.content!==V.initialContent),[qe.tabs]),Sr=qe.tabs.some(V=>V.saving),jt=!L&&Gn.length>0;p.useEffect(()=>{typeof window>"u"||requestAnimationFrame(()=>{window.dispatchEvent(new Event("ade:workbench-layout"))})},[M.collapsed,M.fraction,Yt,ie,Nt,w]);const Ys=p.useCallback(async V=>{if(L)return!1;const be=qe.tabs.find(Ze=>Ze.id===V);if(!be||be.status!=="ready"||be.content===be.initialContent||be.saving)return!1;const De=be.content,ke=be.etag??void 0;qe.beginSavingTab(V);try{const Ze=await ta.mutateAsync({path:be.id,content:De,etag:ke,create:!ke,parents:!0}),an={size:Ze.size??be.metadata?.size??null,modifiedAt:Ze.mtime??be.metadata?.modifiedAt??null,contentType:be.metadata?.contentType??null,etag:Ze.etag??be.metadata?.etag??null};return qe.completeSavingTab(V,{etag:Ze.etag??be.etag??null,metadata:an,savedContent:De}),Pe(`Saved ${be.name}`,{intent:"success",duration:4e3}),!0}catch(Ze){const an=Ze instanceof qn&&Ze.status===412,ut=an?new Error("Save blocked because this file changed on the server. Reloading latest version."):Ze;if(qe.failSavingTab(V,ut instanceof Error?ut.message:String(ut)),an)try{await wr(V),Pe("File reloaded with the latest version from the server. Review before saving again.",{intent:"warning",duration:6e3})}catch(Mn){zt(Mn)}return zt(ut),!1}},[L,qe,ta,Pe,wr,zt]),na=p.useCallback(async V=>{const be=[];for(const De of V)await Ys(De)&&be.push(De);return be},[Ys]),os=p.useCallback(async()=>{if(!jt||Gn.length===0)return!0;const be=(await na(Gn.map(De=>De.id))).length===Gn.length;return be||Pe("Save failed. Fix errors before running again.",{intent:"danger",duration:7e3}),be},[jt,Gn,na,Pe]),Er=p.useCallback(V=>{Ys(V)},[Ys]),qi=p.useCallback(()=>{qe.activeTab&&Ys(qe.activeTab.id)},[qe.activeTab,Ys]),oo=p.useCallback(()=>{if(!jt)return;const V=Gn.map(be=>be.id);(async()=>{const be=await na(V);be.length>1&&Pe(`Saved ${be.length} files`,{intent:"success",duration:5e3})})()},[jt,Gn,na,Pe]);p.useEffect(()=>{const V=_t;if(!V||typeof window>"u")return;const be=()=>{const ke=V.getBoundingClientRect(),Ze=ke.width,an=ke.height;Ve({width:Ze,height:an}),window.dispatchEvent(new Event("ade:workbench-layout"))};if(be(),typeof window.ResizeObserver>"u")return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be);const De=new window.ResizeObserver(()=>be());return De.observe(V),()=>De.disconnect()},[_t]);const Gs=Yt?WD:PD,rn=p.useMemo(()=>{const V=Math.max(0,He.height),De=Math.max(0,V-Gs-kb),ke=Math.min(Ff,De);return{container:V,minPx:ke,maxPx:De}},[He.height,Gs]),Ra=p.useCallback((V,be=rn)=>as(V,be.minPx,be.maxPx),[rn]),ws=p.useCallback(()=>{const V=Ye.current;return V&&"version"in V&&V.version===2&&typeof V.fraction=="number"?as(V.fraction,0,1):V&&"height"in V&&typeof V.height=="number"&&rn.container>0?as(V.height/rn.container,0,1):.25},[rn.container]);p.useEffect(()=>{ie===null&&rn.container>0&&Ee(ws())},[ie,rn.container,ws]);const An=p.useCallback(()=>rn.container>0&&rn.maxPx<Ff?(T("closed"),Pe(Tb,{intent:"warning",duration:1e4}),!1):(Tn(),T("open"),Ee(V=>V!==null?as(V,0,1):ye.current!==null?as(ye.current,0,1):ws()),!0),[rn,T,Pe,Tn,ws]),Dn=p.useCallback(()=>{ye.current=ie,T("closed"),Tn()},[ie,T,Tn]);p.useEffect(()=>{if(je)return;const V=Ye.current?.state;if(N||!V){Ae(!0);return}(V==="open"||V==="closed")&&V!==E&&T(V),Ae(!0)},[N,E,T,je]),p.useEffect(()=>{!Oe||br||ie===null||Oe.set({version:2,fraction:as(ie,0,1),state:E})},[Oe,ie,E,br]),p.useEffect(()=>{if(!(E!=="open"||!rn.container)){if(rn.maxPx<Ff){T("closed"),Pe(Tb,{intent:"warning",duration:1e4});return}Ee(V=>V===null?ws():as(V,0,1))}},[E,rn,T,Pe,ws]);const Fi=p.useCallback((V,be)=>{if(V<=0)return{minPx:be.min,maxPx:be.max,minFrac:0,maxFrac:1};const De=Math.min(be.min,V),ke=Math.min(be.max,V);return{minPx:De,maxPx:ke,minFrac:De/V,maxFrac:ke/V}},[]),js=Math.max(0,He.width-XD),Ss=p.useMemo(()=>Fi(js,QD),[js,Fi]),za=p.useCallback((V,be)=>as(V,be.minFrac,be.maxFrac),[]);p.useEffect(()=>{js<=0||P(V=>{if(V.collapsed)return V;const be=za(V.fraction,Ss);return be===V.fraction?V:{...V,fraction:be}})},[js,Ss,za]),p.useEffect(()=>{Te.set({version:2,explorer:{collapsed:M.collapsed,fraction:M.fraction}})},[Te,M]);const sa=M.collapsed?0:as(M.fraction,Ss.minFrac,Ss.maxFrac)*js,Oa=js>0?Math.min(sa,js):sa,Bt=Math.max(0,rn.container),Hi=(ie??(Bt>0?as(KD/Bt,0,1):.25))*Bt,Ls=Bt>0?Ra(Hi):0,Zi=kb,Ii=Yt?YD:Ls,Nr=Bt>0?Math.max(Gs,Bt-Zi-Ii):Gs;p.useEffect(()=>{const V=qe.activeTabId;if(!V){j(void 0);return}j(V)},[qe.activeTabId,j]),p.useEffect(()=>{!wt||!W||vs(W,wt)&&(qe.openFile(wt),j(wt),kt(null))},[wt,W,qe,j]);const La=p.useCallback(()=>An()?(_("terminal"),!0):!1,[An,_]),uo=p.useCallback(async()=>{L||!W||O.isLoading||O.isError||!await os()||await q({validate_only:!0},{mode:"validation"},{prepare:La})},[L,W,O.isLoading,O.isError,os,q,La]),fo=p.useCallback(async V=>{if(ge(!1),Ce(!1),L||!W||O.isLoading||O.isError||!await os())return;const De=Array.from(new Set((V.sheetNames??[]).filter(Boolean)));q({input_document_id:V.documentId,input_sheet_names:De.length?De:void 0,debug:!0},{mode:"extraction",documentId:V.documentId,documentName:V.documentName,sheetNames:De},{forceRebuild:xe,prepare:La})},[L,W,O.isLoading,O.isError,q,xe,La,os]);p.useEffect(()=>{if(typeof window>"u")return;const V=be=>{if(!(Vt?be.metaKey:be.ctrlKey)||be.altKey||be.key.toLowerCase()!=="s")return;const ke=be.target;if(ke){const Ze=ke.tagName;if(Ze==="INPUT"||Ze==="TEXTAREA"||ke.isContentEditable)return}jt&&(be.preventDefault(),qi())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[Vt,jt,qi]);const Ua=Q??(ce?"extraction":void 0),Ba=ce,ju=F.status==="running"||Ba&&Ua==="validation",$a=!L&&!!W&&!O.isLoading&&!O.isError&&!Ba&&F.status!=="running",Es=Ba&&Ua!=="validation",Cr=!L&&!!W&&!O.isLoading&&!O.isError&&!Ba,Us=!L&&!O.isLoading&&!O.isError,Bs=Us&&!vn.isPending,$s=Us&&!kn.isPending,qa=Us&&!Yn.isPending,qs=U&&!L&&!K.isPending&&!!te,ho=p.useCallback(V=>{$e(V),V==="explorer"&&P(be=>({...be,collapsed:!1}))},[]),ra=p.useCallback(V=>{V.preventDefault();const be=V.currentTarget.getBoundingClientRect();st({x:be.right+8,y:be.top})},[]),Ns=p.useCallback(V=>{D(V)},[]),Vi=p.useCallback(()=>st(null),[]),Un=p.useCallback(()=>{Yt?An():Dn()},[Yt,An,Dn]);p.useEffect(()=>{if(typeof window>"u")return;const V=be=>{if(!(Vt?be.metaKey:be.ctrlKey)||be.altKey||be.key?.toLowerCase()!=="`"&&be.code!=="Backquote")return;const Ze=be.target;if(Ze&&!(typeof Ze.closest=="function"?Ze.closest("[data-editor-area]"):null)){const ut=Ze.tagName,Mn=Ze.getAttribute("role");if(ut==="INPUT"||ut==="TEXTAREA"||Mn==="textbox"||Ze.isContentEditable)return}be.preventDefault(),Un()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[Vt,Un]);const Fs=p.useCallback(()=>{Y()},[Y]),Qi=p.useCallback(()=>{P(V=>({...V,collapsed:!V.collapsed}))},[]),Fa=p.useCallback(()=>{P(V=>({...V,collapsed:!0}))},[]),mo=p.useCallback(async(V,be)=>{const De=be.trim();if(!De)throw new Error("Enter a file name.");if(De.includes(".."))throw new Error("File name cannot include '..'.");if(!Us)throw new Error("Files are still loading.");const ke=V.replace(/\/+$/,""),Ze=De.replace(/^\/+/,"").replace(/\/+/g,"/"),ut=(ke?`${ke}/${Ze}`:Ze).replace(/\/+/g,"/");if(!ut||ut.endsWith("/"))throw new Error("Enter a valid file name.");if(W&&vs(W,ut))throw new Error("A file or folder with that name already exists.");Os(!0);try{await ta.mutateAsync({path:ut,content:"",parents:!0,create:!0}),kt(ut),await O.refetch(),Pe(`Created ${ut}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create file.")}finally{Os(!1)}},[Us,W,ta,O,Pe,zt]),Ha=p.useCallback(async(V,be)=>{const De=be.trim();if(!De)throw new Error("Enter a folder name.");if(De.includes(".."))throw new Error("Folder name cannot include '..'.");if(!$s)throw new Error("Files are still loading.");const ke=V.replace(/\/+$/,""),Ze=De.replace(/^\/+/,"").replace(/\/+/g,"/"),ut=(ke?`${ke}/${Ze}`:Ze).replace(/\/+/g,"/").replace(/\/$/,"");if(!ut)throw new Error("Enter a valid folder name.");if(W&&vs(W,ut))throw new Error("A file or folder with that name already exists.");Rt(!0);try{await kn.mutateAsync({path:ut}),await O.refetch(),Pe(`Folder ready: ${ut}`,{intent:"success",duration:4e3})}catch(Mn){throw zt(Mn),Mn instanceof Error?Mn:new Error("Unable to create folder.")}finally{Rt(!1)}},[$s,W,kn,O,Pe,zt]),Za=p.useCallback(async V=>{if(!Bs)throw new Error("Files are still loading.");const be=W?vs(W,V):null;if(!W||!be)throw new Error("File not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete ${V}? This cannot be undone.`)){Os(!1),dn(V);try{await vn.mutateAsync({path:V,etag:be.metadata?.etag}),qe.closeTab(V),kt(ke=>ke===V?null:ke),await O.refetch(),Pe(`Deleted ${V}`,{intent:"info",duration:4e3})}catch(ke){const Ze=ke instanceof qn&&ke.status===428?"Delete blocked: missing latest file version. Reload the explorer and try again.":ke instanceof Error?ke.message:"Unable to delete file.";throw zt(Ze),new Error(Ze)}finally{dn(ke=>ke===V?null:ke)}}},[Bs,W,vn,qe,O,Pe,zt,dn]),po=p.useCallback(async V=>{if(!qa)throw new Error("Files are still loading.");const be=W?vs(W,V):null;if(!W||!be||be.kind!=="folder")throw new Error("Folder not found in workspace.");if(!(typeof window<"u")||window.confirm(`Delete folder ${V} and all contents? This cannot be undone.`)){hn(V);try{await Yn.mutateAsync({path:V,recursive:!0}),kt(ke=>ke===V?null:ke),qe.closeTab(V),await O.refetch(),Pe(`Deleted folder ${V}`,{intent:"info",duration:4e3})}catch(ke){const Ze=ke instanceof Error?ke.message:"Unable to delete folder.";throw zt(Ze),new Error(Ze)}finally{hn(ke=>ke===V?null:ke)}}},[qa,W,Yn,qe,O,Pe,zt,hn]),yn=p.useCallback(()=>{if(!qs){Pe("Replace is only available for draft configurations.",{intent:"warning",duration:6e3}),D(null);return}D(null),ae(!0)},[qs,Pe]),Xs=p.useCallback(async V=>{const be=V.target.files?.[0]??null;if(V.target.value="",!!be)try{await K.mutateAsync({file:be,ifMatch:te}),We?.clear?.(),qe.closeAllTabs(),j(void 0);const ke=(await O.refetch()).data??O.data??null,Ze=ke?gb(ke):null,an=Ze?Yh(Ze):null;kt(an?.id??null),Pe("Configuration replaced from archive.",{intent:"success",duration:6e3})}catch(De){const ke=De instanceof qn&&De.status===412?"Replace blocked: the configuration changed on the server. Reload and try again.":De instanceof qn&&De.status===428?"Replace blocked: refresh the file list and try again.":De instanceof Error?De.message:"Unable to replace configuration.";zt(ke),Pe(ke,{intent:"danger",duration:6e3})}},[K,te,We,qe,O,j,kt,Pe,zt]),Ia=p.useMemo(()=>{const V=l.jsx("span",{className:"inline-block h-4 w-4 opacity-0"}),be=rM.map(De=>({id:`theme-${De.value}`,label:`${De.label} theme`,icon:Ut.preference===De.value?l.jsx(Hf,{}):V,onSelect:()=>Ut.setPreference(De.value)}));return be.push({id:"toggle-explorer",label:M.collapsed?"Show Explorer":"Hide Explorer",dividerAbove:!0,icon:M.collapsed?V:l.jsx(Hf,{}),onSelect:()=>P(De=>({...De,collapsed:!De.collapsed}))},{id:"toggle-console",label:Yt?"Show Console":"Hide Console",icon:Yt?V:l.jsx(Hf,{}),onSelect:Un}),be},[Ut,M.collapsed,Yt,Un]),aa=p.useMemo(()=>[{id:"export",label:A?"Exporting":"Export (.zip)",disabled:A,onSelect:()=>{D(null),Ln()}},{id:"replace",label:"Import from zip",disabled:!qs,onSelect:yn}],[qs,Ln,yn,A]);p.useEffect(()=>{if(typeof document>"u"||!Nt)return;const V=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=V||""}},[Nt]);const Su=jM(e),Wi=Vt?"S":"Ctrl+S",Pi=Vt?"`":"Ctrl+`",ia=p.useMemo(()=>[{id:"test-force",label:"Force build and test",disabled:!Cr,onSelect:()=>{Ce(!0),ge(!0),Mt(null)}}],[Cr,Ce,ge,Mt]);if(!i&&O.isLoading)return l.jsx(dt,{variant:"loading",title:"Loading configuration files",description:"Fetching workspace configuration files for the workbench."});if(!i&&O.isError)return l.jsx(dt,{variant:"error",title:"Unable to load configuration files",description:"Try reloading the page or check your connection."});if(!W)return l.jsx(dt,{variant:"empty",title:"No configuration files found",description:"Create files in the ADE configuration package to begin editing."});const Va=Nt?it==="dark"?"bg-[#0f111a] text-white":"bg-slate-50 text-slate-900":it==="dark"?"bg-transparent text-white":"bg-transparent text-slate-900",go=it==="dark"?"#1b1f27":"#ffffff",Eu=it==="dark"?"#f5f6fb":"#0f172a",Nu=Nt?me("fixed inset-0 z-[90] flex flex-col",it==="dark"?"bg-[#0f111a] text-white":"bg-white text-slate-900"):me("flex w-full min-h-0 min-w-0 flex-1 flex-col overflow-hidden",it==="dark"?"bg-[#101322] text-white":"bg-white text-slate-900"),Ki=it==="dark"?{bar:"border-[#1f2431] bg-[#0f111a] text-slate-200",hint:"text-slate-400",button:"border-[#2b3040] bg-[#161926] text-slate-100 hover:border-[#3b4153] hover:bg-[#1e2333]"}:{bar:"border-slate-300 bg-white text-slate-700",hint:"text-slate-500",button:"border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400"};return l.jsxs("div",{className:me("flex h-full min-h-0 w-full min-w-0 flex-1 flex-col overflow-hidden",Va),children:[Nt?l.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60"}):null,l.jsxs("div",{className:Nu,children:[l.jsx(lM,{configName:r,workspaceLabel:Su,validationLabel:Cn,canSaveFiles:jt,isSavingFiles:Sr,onSaveFile:qi,saveShortcutLabel:Wi,onOpenTestMenu:V=>Mt(V),onOpenActionsMenu:Ns,canRunValidation:$a,isRunningValidation:ju,onRunValidation:uo,canRunExtraction:Cr,isRunningExtraction:Es,onRunExtraction:V=>{Cr&&(Ce(V),ge(!0))},explorerVisible:Ma,onToggleExplorer:Qi,consoleOpen:!Yt,onToggleConsole:Un,appearance:it,windowState:o,onMinimizeWindow:$i,onToggleMaximize:jr,onCloseWindow:yr,actionsBusy:A||K.isPending}),l.jsxs("div",{ref:Se,className:"flex min-h-0 min-w-0 flex-1 overflow-hidden",children:[l.jsx(x2,{activeView:Ne,onSelectView:ho,onOpenSettings:ra,appearance:it}),Ma?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex min-h-0",style:{width:Oa},children:Ne==="explorer"&&qe.tree?l.jsx(jA,{width:Oa,tree:qe.tree,activeFileId:qe.activeTab?.id??"",openFileIds:qe.tabs.map(V=>V.id),onSelectFile:V=>{qe.openFile(V),j(V)},theme:it,canCreateFile:Us,canCreateFolder:$s,isCreatingEntry:Bi||vr,onCreateFile:mo,onCreateFolder:Ha,canDeleteFile:Bs,canDeleteFolder:qa,deletingFilePath:_n,deletingFolderPath:fn,onDeleteFile:Za,onDeleteFolder:po,expandedStorageKey:nM(e,n),onHide:Fa}):l.jsx(iM,{width:Oa,view:Ne,appearance:it})}),l.jsx(pb,{orientation:"vertical",onPointerDown:V=>{const be=V.clientX,De=Oa;yb(V,{cursor:"col-resize",onMove:ke=>{const Ze=ke.clientX-be,an=as(De+Ze,Ss.minPx,Ss.maxPx);P(ut=>ut.collapsed||js<=0?ut:{...ut,fraction:za(an/js,Ss)})}})}})]}):null,l.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",style:{backgroundColor:go,color:Eu},children:l.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1",style:{height:Bt>0?`${Bt}px`:void 0,gridTemplateRows:`${Math.max(Gs,Nr)}px ${Zi}px ${Math.max(0,Ii)}px`},children:[l.jsx(bA,{tabs:qe.tabs,activeTabId:qe.activeTab?.id??"",onSelectTab:V=>{qe.selectTab(V),j(V)},onCloseTab:qe.closeTab,onCloseOtherTabs:qe.closeOtherTabs,onCloseTabsToRight:qe.closeTabsToRight,onCloseAllTabs:qe.closeAllTabs,onContentChange:qe.updateContent,onSaveTab:Er,onSaveAllTabs:oo,onMoveTab:qe.moveTab,onRetryTabLoad:qe.reloadTab,onPinTab:qe.pinTab,onUnpinTab:qe.unpinTab,onSelectRecentTab:qe.selectRecentTab,editorTheme:Ut.resolvedTheme,menuAppearance:it,canSaveFiles:jt,minHeight:Gs}),l.jsx(pb,{orientation:"horizontal",onPointerDown:V=>{zs(!0);const be=V.clientY,De=Ls;let ke=!1;yb(V,{cursor:"row-resize",onMove:Ze=>{if(Yt&&!ke&&(An(),ke=!0),rn.maxPx<=0||Bt<=0)return;const an=be-Ze.clientY,ut=as(De+an,rn.minPx,rn.maxPx);Ee(as(ut/Bt,0,1))},onEnd:()=>{zs(!1)}})},onDoubleClick:()=>{Yt?An():Dn()},onToggle:Un,collapsed:Yt}),Yt?l.jsxs("div",{className:me("flex cursor-pointer items-center justify-between border-t px-4 py-2 text-[12px] shadow-inner",Ki.bar),onDoubleClick:Un,title:"Double-click to show console",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:"Console hidden"}),l.jsxs("span",{className:me("text-[11px]",Ki.hint),children:["(double-click gutter or ",Pi,")"]})]}),l.jsx("button",{type:"button",onClick:Un,className:me("rounded px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition",Ki.button),title:"Show console",children:"Show console"})]}):l.jsx(i5,{height:Math.max(0,Ls),console:ee,validation:F,activePane:w,onPaneChange:_,latestRun:H,onClearConsole:Fs,runStatus:k,onToggleCollapse:Un})]})})]})]}),le?l.jsx(oM,{open:le,workspaceId:e,onClose:()=>{ge(!1),Ce(!1)},onRun:fo}):null,l.jsx("input",{ref:ue,type:"file",accept:".zip",onChange:Xs,className:"hidden"}),de?l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"replace-config-title",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{id:"replace-config-title",className:"text-lg font-semibold text-slate-900",children:"Import from zip"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Importing will replace this configurations current code with the uploaded archive. Unsaved editor changes will be discarded."}),qs?null:l.jsx("p",{className:"text-sm font-medium text-danger-600",children:"Only draft configurations can be replaced."}),qe.isDirty?l.jsx("p",{className:"text-sm font-medium text-amber-700",children:"You have unsaved changes that will be lost."}):null]}),l.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[l.jsx(_e,{variant:"secondary",onClick:()=>ae(!1),disabled:K.isPending,children:"Cancel"}),l.jsx(_e,{onClick:()=>{ae(!1),ue.current?.click()},disabled:!qs||K.isPending,isLoading:K.isPending,children:"Continue"})]})]})}):null,l.jsx(Ti,{open:!!we,position:we,onClose:()=>D(null),items:aa,appearance:it}),l.jsx(Ti,{open:!!Kt,position:Kt,onClose:()=>Mt(null),items:ia,appearance:it}),l.jsx(Ti,{open:!!Dt,position:Dt,onClose:Vi,items:Ia,appearance:it})]})}function iM({width:e,view:n,appearance:r}){const i=aM[n]||"Coming soon",o=r==="dark"?"border-[#111111] bg-[#1e1e1e] text-slate-300":"border-slate-200 bg-slate-50 text-slate-600";return l.jsx("div",{className:me("flex h-full min-h-0 flex-col items-center justify-center border-r px-4 text-center text-[11px] uppercase tracking-wide",o),style:{width:e},"aria-live":"polite",children:i})}function Hf(){return l.jsx("svg",{className:"h-4 w-4 text-[#4fc1ff]",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 8l3 3 5-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function lM({configName:e,workspaceLabel:n,validationLabel:r,canSaveFiles:i,isSavingFiles:o,onSaveFile:u,saveShortcutLabel:d,onOpenTestMenu:h,onOpenActionsMenu:g,canRunValidation:x,isRunningValidation:b,onRunValidation:v,canRunExtraction:w,isRunningExtraction:E,onRunExtraction:N,explorerVisible:j,onToggleExplorer:_,consoleOpen:T,onToggleConsole:C,appearance:z,windowState:L,onMinimizeWindow:O,onToggleMaximize:te,onCloseWindow:U,actionsBusy:Z=!1}){const W=z==="dark",G=W?"border-white/10 bg-[#151821] text-white":"border-slate-200 bg-white text-slate-900",re=W?"text-white/60":"text-slate-500",$=W?"bg-emerald-400/20 text-emerald-50 hover:bg-emerald-400/30 disabled:bg-white/10 disabled:text-white/30":"bg-emerald-500 text-white hover:bg-emerald-400 disabled:bg-slate-200 disabled:text-slate-500",K=W?"bg-brand-500 text-white hover:bg-brand-400 disabled:bg-white/20 disabled:text-white/40":"bg-brand-600 text-white hover:bg-brand-500 disabled:bg-slate-200 disabled:text-slate-500",ue=L==="maximized";return l.jsxs("div",{className:me("flex items-center justify-between border-b px-4 py-2",G),children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx(dM,{}),l.jsxs("div",{className:"min-w-0 leading-tight",children:[l.jsx("div",{className:me("text-[10px] font-semibold uppercase tracking-[0.35em]",re),children:"Config Workbench"}),l.jsx("div",{className:"truncate text-sm font-semibold",title:e,children:e}),l.jsxs("div",{className:me("text-[11px]",re),title:n,children:["Workspace  ",n]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r?l.jsx("span",{className:me("text-xs",re),children:r}):null,l.jsxs("button",{type:"button",onClick:u,disabled:!i,className:me("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",$),title:`Save (${d})`,children:[o?l.jsx(Zf,{}):l.jsx(vM,{}),o?"Saving":"Save"]}),l.jsxs("button",{type:"button",onClick:v,disabled:!x,className:me("inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0",K),children:[b?l.jsx(Zf,{}):l.jsx(Ab,{}),b?"Running":"Run validation"]}),l.jsx(KA,{label:E?"Running":"Test run",icon:E?l.jsx(Zf,{}):l.jsx(Ab,{}),disabled:!w,isLoading:E,title:"Run test run",primaryClassName:me(K,"rounded-r-none focus-visible:ring-offset-0"),menuClassName:me(K,"rounded-l-none px-2",W?"border-white/20":"border-slate-300"),menuAriaLabel:"Open test options",onPrimaryClick:()=>N(!1),onOpenMenu:we=>h(we),onContextMenu:we=>{we.preventDefault(),h({x:we.clientX,y:we.clientY})}}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Si,{ariaLabel:j?"Hide explorer":"Show explorer",onClick:_,appearance:z,active:j,icon:l.jsx(fM,{active:j})}),l.jsx(Si,{ariaLabel:T?"Hide console":"Show console",onClick:C,appearance:z,active:T,icon:l.jsx(hM,{})})]}),l.jsx(Si,{ariaLabel:"Configuration actions",onClick:we=>{const D=we.currentTarget.getBoundingClientRect();g({x:D.right+8,y:D.bottom})},appearance:z,disabled:Z,icon:l.jsx(bM,{})}),l.jsxs("div",{className:me("flex items-center gap-2 border-l pl-3",z==="dark"?"border-white/20":"border-slate-200/70"),children:[l.jsx(Si,{ariaLabel:"Minimize workbench",onClick:O,appearance:z,icon:l.jsx(gM,{})}),l.jsx(Si,{ariaLabel:ue?"Restore workbench":"Maximize workbench",onClick:te,appearance:z,active:ue,icon:ue?l.jsx(pM,{}):l.jsx(mM,{})}),l.jsx(Si,{ariaLabel:"Close workbench",onClick:U,appearance:z,icon:l.jsx(xM,{})})]})]})]})}function oM({open:e,workspaceId:n,onClose:r,onRun:i}){const o=p.useRef(null),u=zn({queryKey:["builder-documents",n],queryFn:({signal:z})=>cM(n,z),staleTime:6e4,enabled:e}),d=p.useMemo(()=>u.data??[],[u.data]),[h,g]=p.useState("");p.useEffect(()=>{if(e){if(!d.length){g("");return}g(z=>z&&d.some(L=>L.id===z)?z:d[0]?.id??"")}},[d,e]);const x=d.find(z=>z.id===h)??null,b=zn({queryKey:["builder-document-sheets",n,h],queryFn:({signal:z})=>Uy(n,h,z),enabled:e&&!!h,staleTime:6e4}),v=p.useMemo(()=>b.data??[],[b.data]),[w,E]=p.useState([]);p.useEffect(()=>{if(e){if(!v.length){E([]);return}E(z=>z.filter(L=>v.some(O=>O.name===L)))}},[e,v]);const N=p.useMemo(()=>Array.from(new Set(w.filter(z=>v.some(L=>L.name===z)))),[w,v]),j=p.useCallback(z=>{E(L=>L.includes(z)?L.filter(O=>O!==z):[...L,z])},[]);if(!e)return null;const _=!x||u.isLoading||u.isError,T=v.length>0,C=l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-slate-900/60 px-4",children:l.jsxs("div",{ref:o,role:"dialog","aria-modal":"true",className:"w-full max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-2xl",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Select a document"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workspace document and optional worksheet before running a test."})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),u.isError?l.jsx(nt,{tone:"danger",children:"Unable to load documents. Try again later."}):u.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading documents"}):d.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"Upload a document in the workspace to run the extractor."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"builder-run-document-select",children:"Document"}),l.jsx(lo,{id:"builder-run-document-select",value:h,onChange:z=>g(z.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:d.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))}),x?l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",uM(x.created_at)," "," ",(x.byte_size??0).toLocaleString()," bytes"]}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheet"}),b.isLoading?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading worksheets"}):b.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"secondary",size:"sm",onClick:()=>b.refetch(),disabled:b.isFetching,children:"Retry loading"}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]})]})}):T?l.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Worksheets"}),l.jsx("p",{className:"text-xs text-slate-500",children:N.length===0?"All worksheets will be processed by default. Select specific sheets to narrow the run.":`${N.length.toLocaleString()} worksheet${N.length===1?"":"s"} selected.`})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>E([]),children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:v.map(z=>{const L=N.includes(z.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:L,onChange:()=>j(z.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[z.name,z.is_active?" (active)":""]})]},`${z.index}-${z.name}`)})})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"This file will be ingested directly."})]})]}),l.jsxs("footer",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx(_e,{variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(_e,{onClick:()=>{x&&i({documentId:x.id,documentName:x.name,sheetNames:N.length>0?N:void 0})},disabled:_,children:"Start test run"})]})]})});return typeof document>"u"?null:ls.createPortal(C,document.body)}async function cM(e,n){const{data:r}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:{sort:"-created_at",page_size:50}},signal:n});return r?.items??[]}function uM(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Si({ariaLabel:e,onClick:n,icon:r,appearance:i,active:o=!1,disabled:u=!1}){const d=i==="dark",h=d?"text-white/70 hover:text-white hover:bg-white/5 hover:border-white/20 focus-visible:ring-white/40":"text-slate-500 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-300 focus-visible:ring-slate-400/40",g=d?"text-white border-white/30 bg-white/10":"text-slate-900 border-slate-300 bg-slate-200/70";return l.jsx("button",{type:"button","aria-label":e,onClick:n,disabled:u,className:me("flex h-7 w-7 items-center justify-center rounded-[4px] border border-transparent text-sm transition focus-visible:outline-none focus-visible:ring-2",h,o&&g,u&&"cursor-not-allowed opacity-50"),title:e,children:r})}function dM(){return l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-[#4fc1ff] via-[#2d7dff] to-[#7c4dff] text-white shadow-lg shadow-[#10121f]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]})})}function fM({active:e}){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"4",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6}),l.jsx("path",{d:"M7 4v12",stroke:"currentColor",strokeWidth:"1.4",opacity:e?1:.6})]})}function hM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M3 10.5h10",stroke:"currentColor",strokeWidth:"1.2"})]})}function mM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("rect",{x:"3",y:"3",width:"10",height:"10",rx:"1.5",stroke:"currentColor",strokeWidth:"1.2"})})}function pM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 4h6v6",stroke:"currentColor",strokeWidth:"1.2"})]})}function gM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4 11h8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function xM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M5 5l6 6M11 5l-6 6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})})}function Zf(){return l.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.35"}),l.jsx("path",{d:"M20 12a8 8 0 0 0-8-8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function Ab(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 3.5v9l7-4.5-7-4.5Z",fill:"currentColor"})})}function bM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("circle",{cx:"3",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"8",cy:"8",r:"1.3",fill:"currentColor"}),l.jsx("circle",{cx:"13",cy:"8",r:"1.3",fill:"currentColor"})]})}function vM(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4 2.5h7.25L13.5 4.8v8.7H4z",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round",fill:"none"}),l.jsx("path",{d:"M6 2.5v4h4v-4",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M6 11h4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function yM(e){return e instanceof qn?e.message:e instanceof DOMException&&e.name==="AbortError"?"Operation cancelled.":e instanceof Error?e.message:String(e)}function wM(e){if(!e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function jM(e){return e.length<=12?e:`${e.slice(0,6)}${e.slice(-4)}`}function Db(e){if(e.encoding==="base64"){const n=globalThis.Buffer;if(n)return n.from(e.content,"base64").toString("utf-8");if(typeof atob=="function")try{const r=atob(e.content),i=new Uint8Array(r.length);for(let u=0;u<r.length;u+=1)i[u]=r.charCodeAt(u);if(typeof TextDecoder<"u")return new TextDecoder("utf-8",{fatal:!1}).decode(i);let o="";for(let u=0;u<i.length;u+=1)o+=String.fromCharCode(i[u]);return o}catch{}}return e.content}function SM(e){return`ade.ui.workspace.${e}.workbench.returnPath`}const Wy=p.createContext(null);function Py(){const e=p.useContext(Wy);if(!e)throw new Error("useWorkbenchWindow must be used within a WorkbenchWindowProvider");return e}function EM({workspaceId:e,children:n}){const r=It(),i=Fn(),[o,u]=p.useState(null),[d,h]=p.useState("restored"),g=p.useRef(0),x=p.useRef(null),b=p.useRef(!1),v=p.useMemo(()=>Ws(SM(e)),[e]),w=p.useMemo(()=>`/workspaces/${e}/config-builder`,[e]),E=p.useMemo(()=>AM(i.pathname,e),[i.pathname,e]),N=!!E;p.useEffect(()=>{v.get()||v.set(w)},[v,w]),p.useEffect(()=>{N||v.set(`${i.pathname}${i.search}${i.hash}`)},[N,i.pathname,i.search,i.hash,v]),p.useEffect(()=>{if(!o){x.current=null;return}const G=x.current;if(N&&E===o.configId){if(G==="dock"){x.current=null,h("minimized");return}G&&(x.current=null);return}if(G==="dock"){x.current=null;return}if(G==="close"){x.current=null;return}u(null),h("restored"),x.current=null},[o,N,E,d]),p.useEffect(()=>{if(!o||!N||E!==o.configId)return;const G=Rb(i.search);G!==o.editorSearch&&u(re=>!re||re.instanceId!==o.instanceId?re:{...re,editorSearch:G})},[o,N,E,i.search]);const j=p.useCallback(()=>v.get()??w,[v,w]),_=p.useCallback(G=>{u(re=>{if(!re)return re;const $=new URLSearchParams(re.editorSearch),K=typeof G=="function"?G(new URLSearchParams($)):G,we=Ry(K).toString();return we===re.editorSearch?re:{...re,editorSearch:we}})},[]),T=p.useCallback(G=>{const re=Rb(G.editorSearch??i.search);let $=d==="minimized";u(K=>{if(K&&K.workspaceId===G.workspaceId&&K.configId===G.configId){const ue=G.seed??K.seed,we=G.editorSearch!==void 0?re:K.editorSearch;return K.configName===G.configName&&K.seed===ue&&K.editorSearch===we?K:{...K,configName:G.configName,seed:ue,editorSearch:we}}return $=!0,g.current+=1,{...G,editorSearch:re,instanceId:`${G.workspaceId}:${G.configId}:${g.current}`}}),$&&h("restored")},[i.search,d]),C=p.useCallback(()=>{o&&(u(null),h("restored"),x.current="close",r(j()))},[o,r,j]),z=p.useCallback(()=>{o&&(b.current=!0,h("minimized"),x.current="dock",r(j()))},[o,r,j]),L=p.useCallback(()=>{if(!o)return;h("restored");const G=DM(o.workspaceId,o.configId,o.editorSearch);`${i.pathname}${i.search}`!==G&&r(G)},[o,r,i.pathname,i.search]),O=p.useCallback(()=>{o&&h("maximized")},[o]),te=p.useCallback(()=>{const G=b.current;return b.current=!1,G},[]),U=p.useMemo(()=>({session:o,windowState:d,openSession:T,closeSession:C,minimizeWindow:z,maximizeWindow:O,restoreWindow:L,shouldBypassUnsavedGuard:te}),[o,d,T,C,z,O,L,te]),Z=!!o&&(!N||E!==o?.configId),W=p.useMemo(()=>Z&&o?{params:new URLSearchParams(o.editorSearch),setSearchParams:_}:null,[Z,o,_]);return l.jsxs(Wy.Provider,{value:U,children:[n,l.jsx(UA,{value:W,children:l.jsx(NM,{session:o,windowState:d,onClose:C,onMinimize:z,onMaximize:O,onRestore:L,shouldBypassUnsavedGuard:te})}),o&&d==="minimized"?l.jsx(CM,{configName:o.configName,onRestore:L,onDismiss:C}):null]})}function NM({session:e,windowState:n,onClose:r,onMinimize:i,onMaximize:o,onRestore:u,shouldBypassUnsavedGuard:d}){return!e||n!=="maximized"?null:l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col bg-slate-50",children:l.jsx(Qy,{workspaceId:e.workspaceId,configId:e.configId,configName:e.configName,seed:e.seed,windowState:"maximized",onCloseWorkbench:r,onMinimizeWindow:i,onMaximizeWindow:o,onRestoreWindow:u,shouldBypassUnsavedGuard:d},e.instanceId)})}function CM({configName:e,onRestore:n,onDismiss:r}){return l.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40",children:l.jsx("div",{className:"pointer-events-auto border-t border-slate-200 bg-white/95 shadow-[0_-12px_40px_rgba(15,23,42,0.15)] backdrop-blur",children:l.jsxs("div",{className:"relative mx-auto flex h-14 max-w-6xl items-center px-4 text-slate-900",children:[l.jsxs("button",{type:"button",onClick:n,className:"group flex min-w-0 flex-1 items-center gap-4 rounded-md px-3 py-1.5 text-left transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-slate-200 bg-slate-50 text-brand-600 shadow-inner",children:l.jsx(_M,{})}),l.jsxs("span",{className:"flex min-w-0 flex-col leading-tight",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-slate-400",children:"Config workbench"}),l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",title:e,children:e})]}),l.jsx("span",{className:"ml-auto inline-flex items-center rounded border border-slate-200 bg-white px-2 py-0.5 text-[11px] font-medium text-slate-600 transition group-hover:border-slate-300 group-hover:bg-slate-50",children:"Restore"})]}),l.jsxs("div",{className:"ml-3 flex h-10 overflow-hidden rounded-md border border-slate-200 bg-white text-slate-500",children:[l.jsx(Mb,{ariaLabel:"Restore minimized workbench",onClick:n,destructive:!1,children:l.jsx(kM,{})}),l.jsx(Mb,{ariaLabel:"Close minimized workbench",onClick:r,destructive:!0,children:l.jsx(TM,{})})]})]})})})}function Mb({ariaLabel:e,onClick:n,children:r,destructive:i=!1}){return l.jsx("button",{type:"button","aria-label":e,onClick:n,className:me("flex h-full w-12 items-center justify-center transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40",i?"text-rose-600 hover:bg-rose-50":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:r})}function _M(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2"})]})}function kM(){return l.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:l.jsx("path",{d:"M4.5 5.5h6v6h-6z",stroke:"currentColor",strokeWidth:"1.2"})})}function TM(){return l.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"none","aria-hidden":!0,children:[l.jsx("path",{d:"M4.5 11.5 11.5 4.5",stroke:"currentColor",strokeWidth:"1.2"}),l.jsx("path",{d:"M11.5 11.5 4.5 4.5",stroke:"currentColor",strokeWidth:"1.2"})]})}function AM(e,n){const r=`/workspaces/${n}/config-builder/`;if(!e.startsWith(r))return null;const i=e.slice(r.length).split("/").filter(Boolean);if(i.length>=2&&i[1]==="editor")try{return decodeURIComponent(i[0])}catch{return i[0]}return null}function DM(e,n,r){const i=`/workspaces/${e}/config-builder/${encodeURIComponent(n)}/editor`;return r.length>0?`${i}?${r}`:i}function Rb(e){return e?e.startsWith("?")?e.slice(1):e:""}function hh({to:e,replace:n,className:r,title:i,children:o,onClick:u}){const d=It();return l.jsx("a",{href:e,className:r,title:i,onClick:h=>{u?.(h),!(h.defaultPrevented||h.metaKey||h.ctrlKey||h.shiftKey||h.altKey)&&(h.preventDefault(),d(e,{replace:n}))},children:o})}function Ky({to:e,end:n,className:r,children:i,title:o,onClick:u}){const{pathname:d}=Fn(),h=n?d===e:d===e||d.startsWith(`${e}/`),g=typeof r=="function"?r({isActive:h}):r,x=typeof i=="function"?i({isActive:h}):i;return l.jsx(hh,{to:e,className:g,title:o,onClick:u,children:x})}function pu(e){return function({title:r,...i}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":r?void 0:!0,role:r?"img":"presentation",...i,children:[r?l.jsx("title",{children:r}):null,l.jsx("path",{d:e})]})}}const MM=pu("M7 3h7l7 7v11a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2ZM14 3v5a1 1 0 0 0 1 1h5"),RM=pu("M5 6h14M5 12h14M5 18h8M7 4v4M12 10v4M15 16v4"),zM=pu("M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM16.5 12a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM10 7.5h4M7.5 10v4M15.5 10.5 12 14"),OM=pu("M5 7h14M5 17h14M9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm10 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7-5h7m-9 0H5"),Yy=[{id:"documents",path:"documents",label:"Documents",icon:MM},{id:"runs",path:"runs",label:"Runs",icon:RM},{id:"config-builder",path:"config-builder",label:"Config Builder",icon:zM},{id:"settings",path:"settings",label:"Workspace Settings",icon:OM,matchPrefix:!0}],Gc=Yy[0];function Gy(e){return Yy.map(n=>({id:n.id,label:n.label,href:`/workspaces/${e.id}/${n.path}`,icon:n.icon,matchPrefix:n.matchPrefix}))}const LM="4.25rem",UM="18.75rem";function BM({workspace:e,collapsed:n,onToggleCollapse:r,items:i,onGoToWorkspaces:o}){const u=i??Gy(e),d=FM(e.name);return l.jsx("aside",{className:"hidden h-screen flex-shrink-0 bg-gradient-to-b from-slate-50/80 via-white to-slate-50/60 px-3 py-4 transition-[width] duration-200 ease-out lg:flex",style:{width:n?LM:UM},"aria-label":"Primary workspace navigation",children:l.jsxs("div",{className:me("flex h-full w-full flex-col rounded-[1.7rem] border border-white/70 bg-white/90 shadow-[0_25px_60px_-40px_rgba(15,23,42,0.7)] ring-1 ring-slate-100/60 backdrop-blur-sm",n?"items-center gap-4 px-2 py-5":"gap-5 px-4 py-6"),children:[l.jsxs("div",{className:me("flex w-full items-center gap-3 rounded-2xl border border-white/80 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-3 py-4 text-sm font-semibold text-slate-700 shadow-inner shadow-white/60",n?"flex-col text-center text-xs":""),children:[l.jsxs("button",{type:"button",onClick:o,className:"flex flex-1 items-center gap-3 text-left",children:[l.jsx("span",{className:me("inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 text-sm font-bold uppercase text-white shadow-[0_10px_25px_-10px_rgba(79,70,229,0.7)]",n&&"h-9 w-9 text-xs"),children:d}),n?l.jsx("span",{className:"sr-only",children:e.name}):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate",children:e.name}),l.jsx("p",{className:"text-xs font-normal text-slate-500",children:"Switch workspace"})]})]}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-transparent text-slate-500 hover:border-brand-200 hover:text-brand-600","aria-label":n?"Expand navigation":"Collapse navigation","aria-expanded":!n,children:n?l.jsx(qM,{}):l.jsx($M,{})})]}),l.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto pr-1","aria-label":"Workspace sections",children:l.jsx(Xy,{items:u,collapsed:n})})]})})}function Xy({items:e,collapsed:n=!1,onNavigate:r,className:i,showHeading:o=!0}){return l.jsxs(l.Fragment,{children:[o&&!n?l.jsx("p",{className:"mb-3 px-1 text-[0.63rem] font-semibold uppercase tracking-[0.4em] text-slate-400/90",children:"Workspace"}):null,l.jsx("ul",{className:me("flex flex-col gap-1.5",n?"items-center":void 0,i),children:e.map(u=>l.jsx("li",{className:"w-full",children:l.jsx(Ky,{to:u.href,end:!(u.matchPrefix??!1),title:n?u.label:void 0,onClick:r,className:({isActive:d})=>me("group relative flex w-full items-center rounded-2xl border border-transparent text-sm font-medium text-slate-600 transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white/80",n?"h-11 justify-center px-0":"gap-3 px-3 py-2.5",d?"border-brand-100 bg-white/90 text-slate-900 shadow-[0_12px_30px_-20px_rgba(79,70,229,0.55)]":"border-transparent hover:border-slate-200 hover:bg-white/70"),children:({isActive:d})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":!0,className:me("absolute left-1.5 top-2 bottom-2 w-1 rounded-full bg-gradient-to-b from-brand-400 to-brand-500 opacity-0 transition-opacity duration-150",n&&"hidden",d?"opacity-100":"group-hover:opacity-60")}),l.jsx("span",{"aria-hidden":!0,className:me("flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 transition",n&&"h-9 w-9 rounded-lg",d?"bg-brand-50 text-brand-600":"group-hover:bg-slate-100/80"),children:l.jsx(u.icon,{className:me("h-5 w-5 flex-shrink-0 transition-colors duration-150",d?"text-brand-600":"text-slate-500")})}),l.jsx("div",{className:me("flex min-w-0 flex-col text-left",n&&"sr-only"),children:l.jsx("span",{className:"truncate text-sm font-semibold text-slate-900",children:u.label})})]})})},u.id))})]})}function $M(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"M12.5 6 9 10l3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function qM(){return l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.7,children:l.jsx("path",{d:"m7.5 6 3.5 4-3.5 4",strokeLinecap:"round",strokeLinejoin:"round"})})}function FM(e){const n=e.trim().split(/\s+/);return n.length===0?"WS":n.slice(0,2).map(i=>i[0]??"").join("").toUpperCase()}function HM(){return l.jsxs("section",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Workspace Overview"}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: add workspace summary widgets."})]})}const ZM=100;function Jy({workspaceId:e,enabled:n=!0,page:r=1,pageSize:i=ZM}){return zn({queryKey:Nn.list(e,{page:r,pageSize:i}),queryFn:({signal:o})=>XA(e,{page:r,pageSize:i,signal:o}),enabled:n&&e.length>0,staleTime:15e3,placeholderData:o=>o})}function ew({workspaceId:e,configurationId:n,enabled:r=!0}){return zn({queryKey:Nn.detail(e,n??""),queryFn:({signal:i})=>n?JA(e,n,i):Promise.resolve(null),enabled:r&&e.length>0&&!!n,staleTime:1e4})}function IM(e){const n=ft();return sn({mutationFn:r=>cD(e,r),async onSuccess(){await n.invalidateQueries({queryKey:Nn.root(e)})}})}function VM({summary:e}){const n=e.counts,r=e.validation?.issues_total,i=e.fields??[],o=e.columns??[],u=i.slice(0,6),d=o.slice(0,5),h=typeof r=="number"?r>0?"warn":"ok":"default";return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[l.jsx(Tc,{label:"Tables",value:n?.tables?.total??""}),l.jsx(Tc,{label:"Rows",value:n?.rows?.total??""}),l.jsx(Tc,{label:"Mapped fields",value:n?.fields?.mapped??""}),l.jsx(Tc,{label:"Issues",value:r??"",intent:h})]}),l.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Fields"}),i.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No field mappings recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[u.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsxs("span",{className:"truncate font-semibold text-slate-800",children:[g.label||g.field," ",g.required?" required":""]}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped",typeof g.tables_mapped=="number"?`  ${g.tables_mapped} tables`:""]})]},g.field)),i.length>u.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",i.length-u.length," more fields"]}):null]})]}),l.jsxs("div",{className:"rounded border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"Columns"}),o.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No column details recorded."}):l.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:[d.map(g=>l.jsxs("li",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"truncate font-semibold text-slate-800",children:g.header}),l.jsxs("span",{className:"text-[11px] text-slate-500",children:[g.mapped?"mapped":"unmapped","  ",g.occurrences?.tables_seen??""," tables"]})]},g.header_normalized)),o.length>d.length?l.jsxs("li",{className:"text-[11px] text-slate-500",children:["+",o.length-d.length," more headers"]}):null]}),l.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Distinct headers mapped: ",n?.columns?.distinct_headers_mapped??""," /"," ",n?.columns?.distinct_headers??""]})]})]})]})}function QM({events:e}){if(!e.length)return l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."});const n=e.reduce((i,o)=>{const u=tw(o),d=u.stream==="stderr"?"warning":void 0,h=u.level??d??"info";return i[h]=(i[h]??0)+1,i},{}),r=e.slice(-6).reverse();return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-slate-600",children:Object.entries(n).map(([i,o])=>l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 font-semibold text-slate-700",children:[i,": ",o]},i))}),l.jsx("ul",{className:"space-y-1",children:r.map(i=>l.jsx("li",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800",children:(()=>{const o=typeof i.message=="string"?i.message.trim():void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:i.event}),l.jsx("span",{className:"text-[11px] text-slate-500",children:WM(i.timestamp??i.created_at??"unknown")})]}),l.jsx("p",{className:"text-[11px] text-slate-600",children:o||`Level: ${PM(i)}`})]})})()},`${i.timestamp}-${i.event}`))})]})}function WM(e){const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?String(e):n.toLocaleString()}function PM(e){const n=tw(e),r=n.stream==="stderr"?"warning":void 0;return n.level??r??"info"}function tw(e){const n=e.data;return n&&typeof n=="object"?n:{}}function Tc({label:e,value:n,intent:r="default"}){const i=r==="warn"?"text-amber-700":r==="ok"?"text-emerald-700":"text-slate-700";return l.jsxs("div",{className:"rounded border border-slate-200 bg-slate-50 px-2 py-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),l.jsx("p",{className:`text-sm font-semibold ${i}`,children:n})]})}const nw={uploaded:"Uploaded",processing:"Processing",processed:"Processed",failed:"Failed",archived:"Archived"},KM=["-created_at","created_at","-last_run_at","last_run_at","-byte_size","byte_size","name","-name","status","-status","source","-source"],Il="mine",Na={mine:{label:"My uploads",description:"Documents you uploaded",uploader:"me"},team:{label:"All documents",description:"Everything in this workspace"},attention:{label:"Needs attention",description:"Failed or processing files",presetStatuses:["failed","processing"]},recent:{label:"Recently run",description:"Latest run activity",presetSort:"-last_run_at"}};function YM(e){return e&&Object.keys(Na).includes(e)?e:Il}function GM(e){if(!e)return new Set;const r=e.split(",").map(i=>i.trim()).filter(Boolean).filter(i=>["uploaded","processing","processed","failed","archived"].includes(i));return new Set(r)}function XM(e){return new Set(KM).has(e??"")?e:"-created_at"}const sw=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),Ai={all:()=>["documents"],workspace:e=>[...Ai.all(),e],list:(e,n,r)=>[...Ai.workspace(e),"list",{sort:n,uploader:r}]},rw=50;function JM(){const{workspace:e}=gr(),n=Ri(),[r,i]=Oy(),o=p.useRef(i);p.useEffect(()=>{o.current=i},[i]);const u=YM(r.get("view")),[d,h]=p.useState(u),[g,x]=p.useState(()=>{const Se=r.get("status");if(Se)return GM(Se);const Ne=Na[u].presetStatuses??[];return new Set(Ne)}),[b,v]=p.useState(()=>{const Se=r.get("sort");return Se?XM(Se):Na[u].presetSort??"-created_at"}),[w,E]=p.useState(r.get("q")??""),[N,j]=p.useState(w.trim()),_=p.useMemo(()=>Array.from(g),[g]),C=Na[d].uploader??null,z=p.useRef(null),[L,O]=p.useState(new Set),te=p.useMemo(()=>new Set(L),[L]),U=p.useMemo(()=>Array.from(te),[te]),Z=te.size,W=t4(e.id),G=n4(e.id),re=Hv(),$=re.data?.enabled??!1,K=re.data?.detail??zi,ue=re.isPending,[we,D]=p.useState(null),[A,se]=p.useState(null),[de,ae]=p.useState(null),k=W.isPending,Q=G.isPending,ce=e4(e.id,{sort:b,uploader:C}),{refetch:F}=ce,ee=p.useCallback(Se=>Se.id,[]),H=Nh(ce.data?.pages,ee),Y=p.useMemo(()=>{const Se=N.toLowerCase(),Ne=C==="me"?n.user.id:null,$e=C==="me"?n.user.email??null:null;return H.filter(Dt=>{if(_.length>0&&!_.includes(Dt.status))return!1;if(C==="me"){const st=Dt.uploader_id??Dt.uploader?.id??null,Kt=Dt.uploader?.email??null;if(Ne&&st&&st!==Ne||!st&&$e&&Kt&&Kt!==$e)return!1}return!(Se&&!`${Dt.name??""} ${Dt.source??""}`.toLowerCase().includes(Se))})},[N,H,n.user.email,n.user.id,_,C]),q=ce.isFetchingNextPage,le=ce.isFetching&&!q,ge=Y.length;p.useEffect(()=>{const Se=r.get("q")??"";E($e=>$e===Se?$e:Se);const Ne=Se.trim();j($e=>$e===Ne?$e:Ne)},[r]),p.useEffect(()=>{const Se=new URLSearchParams;g.size>0&&Se.set("status",Array.from(g).join(",")),b!=="-created_at"&&Se.set("sort",b),N&&Se.set("q",N),d!==Il&&Se.set("view",d),o.current(Se,{replace:!0})},[g,b,N,d]),p.useEffect(()=>{const Se=window.setTimeout(()=>j(w.trim()),250);return()=>window.clearTimeout(Se)},[w]),p.useEffect(()=>{O(Se=>{if(Se.size===0)return Se;const Ne=new Set,$e=new Set(Y.map(st=>st.id));let Dt=!1;for(const st of Se)$e.has(st)?Ne.add(st):Dt=!0;return Dt?Ne:Se})},[Y]);const xe=p.useMemo(()=>{for(const Se of Y)if(te.has(Se.id))return Se;return null},[Y,te]),Ce=p.useCallback(Se=>{const Ne=Na[Se];h(Se),x(new Set(Ne.presetStatuses??[])),v(Ne.presetSort??"-created_at"),E(""),j("")},[]),We=p.useCallback(Se=>{x(Ne=>{const $e=new Set(Ne);return $e.has(Se)?$e.delete(Se):$e.add(Se),$e})},[]),Oe=p.useCallback(()=>{x(new Set)},[]);p.useEffect(()=>{const Se=Ne=>{if((Ne.metaKey||Ne.ctrlKey)&&Ne.key.toLowerCase()==="u"){Ne.preventDefault(),z.current?.click();return}(Ne.key==="Delete"||Ne.key==="Backspace")&&Z>0&&(Ne.preventDefault(),ie())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[Z]);const Te=p.useCallback(Se=>nw[Se]??Se,[]),Ye=p.useCallback(Se=>l.jsx(_4,{document:Se}),[]),Ut=p.useCallback(()=>{z.current?.click()},[]),it=p.useCallback(async Se=>{if(Se.length){D(null);try{await W.mutateAsync({files:Se})}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to upload documents.";D({tone:"error",message:$e})}}},[W]),Cn=async Se=>{const Ne=Array.from(Se.target.files??[]);await it(Ne),Se.target.value=""},M=Se=>{O(Ne=>{const $e=new Set(Ne);return $e.has(Se)?$e.delete(Se):$e.add(Se),$e})},P=()=>{O(Se=>{if(Y.length===0)return new Set;const Ne=Y.map($e=>$e.id);return Se.size===Y.length&&Ne.every($e=>Se.has($e))?new Set:new Set(Ne)})},ie=p.useCallback(async()=>{const Se=U;if(Se.length){D(null);try{await G.mutateAsync({documentIds:Se}),O(new Set)}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to delete documents.";D({tone:"error",message:$e})}}},[G,U]),Ee=p.useCallback(async Se=>{D(null);try{await G.mutateAsync({documentIds:[Se.id]}),O(Ne=>{const $e=new Set(Ne);return $e.delete(Se.id),$e})}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to delete document.";D({tone:"error",message:$e})}},[G]),ye=p.useCallback(async Se=>{try{se(Se.id);const{blob:Ne,filename:$e}=await i4(e.id,Se.id);D4(Ne,$e??Se.name)}catch(Ne){const $e=Ne instanceof Error?Ne.message:"Failed to download document.";D({tone:"error",message:$e})}finally{se(null)}},[e.id]),je=p.useCallback(Se=>{ae(Se)},[]),Ae=p.useCallback(()=>{F()},[F]),He=p.useCallback(Se=>{D({tone:"error",message:Se})},[]),Ve=()=>{h(Il),E(""),j(""),x(new Set),v("-created_at")},_t=d===Il&&g.size===0&&b==="-created_at"&&!N;return l.jsxs(l.Fragment,{children:[l.jsx(j4,{workspaceName:e.name??void 0,disabled:k,onFiles:async Se=>{await it(Se)}}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{ref:z,type:"file",accept:".csv,.pdf,.tsv,.xls,.xlsx,.xlsm,.xlsb",multiple:!0,className:"hidden",onChange:Cn}),l.jsx(o4,{workspaceName:e.name,totalDocuments:ge,view:d,onChangeView:Ce,sort:b,onSort:v,onReset:Ve,isFetching:ce.isFetching,isDefault:_t,onUploadClick:Ut,uploadDisabled:k,selectedStatuses:g,onToggleStatus:We,onClearStatuses:Oe}),we?l.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:we.message}):null,l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white text-sm text-slate-700",children:ce.isLoading?l.jsx("div",{className:"p-4",children:l.jsx(S4,{})}):ce.isError?l.jsx("p",{className:"p-4 text-rose-600",children:"Failed to load documents."}):Y.length===0?l.jsx("div",{className:"p-6",children:l.jsx(N4,{onUploadClick:Ut})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto p-2 sm:p-3",children:l.jsx(d4,{documents:Y,selectedIds:te,onToggleDocument:M,onToggleAll:P,disableSelection:le||Q||W.isPending,disableRowActions:G.isPending,formatStatusLabel:Te,onDeleteDocument:Ee,onDownloadDocument:ye,onRunDocument:je,downloadingId:A,renderRunStatus:Ye,safeModeEnabled:$,safeModeMessage:K,safeModeLoading:ue})}),ce.hasNextPage?l.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50/60 px-3 py-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>ce.fetchNextPage(),disabled:q,children:q?"Loading more documents":"Load more documents"})}):null]})})]}),l.jsx(E4,{count:Z,onClear:()=>O(new Set),onRun:()=>{xe&&!$&&!ue&&je(xe)},onDelete:ie,busy:Q,safeModeEnabled:$,safeModeMessage:K,safeModeLoading:ue}),l.jsx(y4,{open:!!de,workspaceId:e.id,documentRecord:de,onClose:()=>ae(null),onRunSuccess:Ae,onRunError:He,safeModeEnabled:$,safeModeMessage:K,safeModeLoading:ue})]})}function e4(e,n){const r=n.sort.trim()||null;return yh({queryKey:Ai.list(e,r,n.uploader??null),initialPageParam:1,queryFn:({pageParam:i,signal:o})=>a4(e,{sort:r,page:typeof i=="number"?i:1,pageSize:rw},o),getNextPageParam:i=>i.has_next?i.page+1:void 0,enabled:e.length>0,placeholderData:i=>i,staleTime:15e3})}function t4(e){const n=ft();return sn({mutationFn:async({files:r})=>{const i=Array.from(r);for(const o of i)await Be.POST("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e}},body:{file:""},bodySerializer:()=>{const u=new FormData;return u.append("file",o),u}})},onSuccess:()=>{n.invalidateQueries({queryKey:Ai.workspace(e)})}})}function n4(e){const n=ft();return sn({mutationFn:async({documentIds:r})=>{await Promise.all(r.map(i=>Be.DELETE("/api/v1/workspaces/{workspace_id}/documents/{document_id}",{params:{path:{workspace_id:e,document_id:i}}})))},onSuccess:()=>{n.invalidateQueries({queryKey:Ai.workspace(e)})}})}function s4(e){const n=ft();return sn({mutationFn:async({configId:r,options:i})=>{const{data:o}=await Be.POST("/api/v1/configurations/{configuration_id}/runs",{params:{path:{configuration_id:r}},body:{options:i}});if(!o)throw new Error("Expected run payload.");return o},onSuccess:()=>{n.invalidateQueries({queryKey:Ai.workspace(e)})}})}function r4(e,n){const r=p.useMemo(()=>Ws(`ade.workspace.${e}.document_runs`),[e]),[i,o]=p.useState(()=>zb(r,n));p.useEffect(()=>{o(zb(r,n))},[r,n]);const u=p.useCallback(d=>{o(d);const h=r.get()??{};r.set({...h,[n]:{configId:d.configId,sheetNames:d.sheetNames&&d.sheetNames.length>0?[...d.sheetNames]:null}})},[r,n]);return{preferences:i,setPreferences:u}}async function a4(e,n,r){const i={sort:n.sort??void 0,page:n.page>0?n.page:1,page_size:n.pageSize>0?n.pageSize:rw,include_total:!1},{data:o}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents",{params:{path:{workspace_id:e},query:i},signal:r});if(!o)throw new Error("Expected document page payload.");return o}async function i4(e,n){const{data:r,response:i}=await Be.GET("/api/v1/workspaces/{workspace_id}/documents/{document_id}/download",{params:{path:{workspace_id:e,document_id:n}},parseAs:"blob"});if(!r)throw new Error("Expected document download payload.");const o=l4(i.headers.get("content-disposition"))??`document-${n}`;return{blob:r,filename:o}}function l4(e){if(!e)return null;const n=e.match(/filename\*=UTF-8''([^;]+)/i);if(n?.[1])try{return decodeURIComponent(n[1])}catch{return n[1]}return e.match(/filename="?([^";]+)"?/i)?.[1]??null}function zb(e,n){const r=e.get();if(r&&typeof r=="object"&&n in r){const i=r[n];if(i&&typeof i=="object"){const o=[];if("sheetName"in i){const h=i.sheetName;typeof h=="string"&&o.push(h)}const d=(Array.isArray(i.sheetNames)?i.sheetNames.filter(h=>typeof h=="string"&&h.length>0):null)??(o.length>0?o:null);return{configId:i.configId??null,sheetNames:d}}}return{configId:null,sheetNames:null}}function o4({workspaceName:e,totalDocuments:n,view:r,onChangeView:i,sort:o,onSort:u,onReset:d,isFetching:h,isDefault:g,onUploadClick:x,uploadDisabled:b,selectedStatuses:v,onToggleStatus:w,onClearStatuses:E}){const N=typeof n=="number"?`${n.toLocaleString()} files`:e?`Uploads and runs for ${e}`:"Manage workspace uploads and runs";return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white/95 p-3 sm:p-4","aria-label":"Documents header and filters",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-lg font-semibold text-slate-900 sm:text-xl",children:e?`${e} documents`:"Documents"}),l.jsx("p",{className:"text-xs text-slate-500",children:N})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:d,disabled:g,className:me("rounded border border-transparent px-3 py-1 text-sm font-medium",g?"cursor-default text-slate-300":"text-slate-600 hover:border-slate-200 hover:bg-slate-50 hover:text-slate-900"),children:"Reset"}),l.jsx(_e,{className:"shrink-0",onClick:x,disabled:b,isLoading:b,"aria-label":"Upload documents",children:"Upload"})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx(c4,{view:r,onChange:i}),l.jsx(u4,{selectedStatuses:v,onToggleStatus:w,onClearStatuses:E}),l.jsxs(lo,{value:o,onChange:j=>u(j.target.value),className:"w-40","aria-label":"Sort documents",children:[l.jsx("option",{value:"-created_at",children:"Newest first"}),l.jsx("option",{value:"created_at",children:"Oldest first"}),l.jsx("option",{value:"-last_run_at",children:"Recent runs"}),l.jsx("option",{value:"last_run_at",children:"Least recently run"}),l.jsx("option",{value:"-byte_size",children:"Largest files"}),l.jsx("option",{value:"byte_size",children:"Smallest files"}),l.jsx("option",{value:"name",children:"Name AZ"}),l.jsx("option",{value:"-name",children:"Name ZA"})]}),l.jsxs("span",{className:me("ml-auto inline-flex items-center gap-1 text-[11px] text-slate-500",h?"opacity-100":"opacity-0"),role:"status","aria-live":"polite",children:[l.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-slate-400"}),"Updating"]})]})]})}function c4({view:e,onChange:n}){return l.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Na).map(r=>{const i=Na[r],o=r===e;return l.jsx("button",{type:"button",onClick:()=>n(r),className:me("rounded-full px-3 py-1 text-xs font-medium transition",o?"bg-brand-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"),title:i.description,children:i.label},r)})})}function u4({selectedStatuses:e,onToggleStatus:n,onClearStatuses:r}){const[i,o]=p.useState(!1),u=p.useRef(null),d=Object.entries(nw),h=e.size>0,g=h?`${e.size} ${e.size===1?"status":"statuses"}`:"All statuses";return p.useEffect(()=>{if(!i)return;const x=b=>{u.current&&!u.current.contains(b.target)&&o(!1)};return window.addEventListener("mousedown",x),()=>window.removeEventListener("mousedown",x)},[i]),l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("button",{type:"button",onClick:()=>o(x=>!x),className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-700 shadow-sm hover:border-slate-300","aria-haspopup":"true","aria-expanded":i,children:["Status: ",g,l.jsx(b4,{className:"h-3 w-3"})]}),i?l.jsxs("div",{className:"absolute z-30 mt-2 w-60 rounded-xl border border-slate-200 bg-white p-3 text-sm shadow-xl",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("span",{children:"Status filters"}),l.jsx("button",{type:"button",onClick:()=>{r(),o(!1)},className:me("text-[11px]",h?"text-slate-500 underline underline-offset-4":"text-slate-300"),children:"Clear"})]}),l.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:d.map(([x,b])=>{const v=e.has(x);return l.jsx("li",{children:l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1 hover:bg-slate-50",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:()=>n(x),className:"h-3.5 w-3.5 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),l.jsx("span",{className:"truncate",children:b})]})},x)})}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>o(!1),children:"Done"})})]}):null]})}function d4({documents:e,selectedIds:n,onToggleDocument:r,onToggleAll:i,disableSelection:o=!1,disableRowActions:u=!1,formatStatusLabel:d,onDeleteDocument:h,onDownloadDocument:g,onRunDocument:x,downloadingId:b=null,renderRunStatus:v,safeModeEnabled:w=!1,safeModeMessage:E,safeModeLoading:N=!1}){const j=p.useRef(null),{allSelected:_,someSelected:T}=p.useMemo(()=>{if(e.length===0)return{allSelected:!1,someSelected:!1};const C=e.reduce((z,L)=>n.has(L.id)?z+1:z,0);return{allSelected:C===e.length,someSelected:C>0&&C<e.length}},[e,n]);return p.useEffect(()=>{j.current&&(j.current.indeterminate=T)},[T]),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0 text-sm text-slate-700",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/80 backdrop-blur-sm text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{scope:"col",className:"w-10 px-2 py-2",children:l.jsx("input",{ref:j,type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:_,onChange:i,disabled:o||e.length===0})}),l.jsx("th",{scope:"col",className:"w-20 px-2 py-2 text-left",children:"ID"}),l.jsx("th",{scope:"col",className:"px-2 py-2 text-left",children:"Document"}),l.jsx("th",{scope:"col",className:"w-40 px-2 py-2 text-left",children:"Uploaded"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Uploader"}),l.jsx("th",{scope:"col",className:"w-48 px-2 py-2 text-left",children:"Latest run"}),l.jsx("th",{scope:"col",className:"w-32 px-2 py-2 text-left",children:"Status"}),l.jsx("th",{scope:"col",className:"w-36 px-2 py-2 text-right",children:"Actions"})]})}),l.jsx("tbody",{children:e.map(C=>{const z=n.has(C.id);return l.jsxs("tr",{className:me("border-b border-slate-200 last:border-b-0 transition-colors hover:bg-slate-50",z?"bg-brand-50/50":"bg-white"),children:[l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",checked:z,onChange:()=>r(C.id),disabled:o})}),l.jsx("td",{className:"px-2 py-2 align-middle font-mono text-xs text-slate-500",children:C.id.slice(-6)}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate font-semibold text-slate-900",title:C.name,children:C.name}),l.jsx("div",{className:"text-xs text-slate-500",children:h4(C)})]})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("time",{dateTime:C.created_at,className:"block text-xs text-slate-600",title:sw.format(new Date(C.created_at)),children:x4(C)})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:"block truncate text-xs text-slate-600",children:C.uploader?.name??C.uploader?.email??""})}),l.jsx("td",{className:"px-2 py-2 align-middle",children:v?v(C):null}),l.jsx("td",{className:"px-2 py-2 align-middle",children:l.jsx("span",{className:me("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",g4(C.status)),children:d?d(C.status):C.status})}),l.jsx("td",{className:"px-2 py-2 align-middle text-right",children:l.jsx(f4,{document:C,onDownload:g,onDelete:h,onRun:x,disabled:u,downloading:b===C.id,safeModeEnabled:w,safeModeMessage:E,safeModeLoading:N})})]},C.id)})})]})})}function f4({document:e,onDownload:n,onDelete:r,onRun:i,disabled:o=!1,downloading:u=!1,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=o||!i||d||g,b=d?h??zi:g?"Checking ADE safe mode status...":void 0;return l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsx(_e,{type:"button",size:"sm",variant:"primary",onClick:()=>{x||i?.(e)},disabled:x,title:b,children:"Run"}),l.jsx("button",{type:"button",onClick:()=>n?.(e),className:me("px-2 py-1 text-xs font-medium text-slate-600 underline underline-offset-4 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",u&&"opacity-60"),disabled:o||u,children:u?"Downloading":"Download"}),l.jsx("button",{type:"button",onClick:()=>r?.(e),className:"px-2 py-1 text-xs font-semibold text-danger-600 hover:text-danger-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger-500",disabled:o,children:"Delete"})]})}function h4(e){const n=[];return e.content_type&&n.push(m4(e.content_type)),typeof e.byte_size=="number"&&e.byte_size>=0&&n.push(p4(e.byte_size)),n.join("  ")||"Unknown type"}function m4(e){return{"application/pdf":"PDF document","text/csv":"CSV file","text/tab-separated-values":"TSV file","application/vnd.ms-excel":"Excel spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel spreadsheet","application/vnd.ms-excel.sheet.macroEnabled.12":"Excel macro spreadsheet"}[e]??e}function p4(e){if(e<1024)return`${e} B`;const n=["KB","MB","GB","TB"];let r=e/1024,i=0;for(;r>=1024&&i<n.length-1;)r/=1024,i+=1;return`${r>=10?Math.round(r):Math.round(r*10)/10} ${n[i]}`}function g4(e){switch(e){case"processed":return"bg-success-100 text-success-700";case"processing":return"bg-warning-100 text-warning-700";case"failed":return"bg-danger-100 text-danger-700";case"archived":return"bg-slate-200 text-slate-700";default:return"bg-slate-100 text-slate-700"}}function x4(e){return sw.format(new Date(e.created_at))}function b4({className:e}){return l.jsx("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.8,className:e,children:l.jsx("path",{d:"M5 8l5 5 5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}function v4({className:e}){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:me("animate-spin text-slate-500",e),role:"presentation",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),l.jsx("path",{className:"opacity-75",d:"M22 12c0-5.523-4.477-10-10-10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}function y4({open:e,workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d=!1,safeModeMessage:h,safeModeLoading:g=!1}){const x=p.useRef(null);return p.useEffect(()=>{typeof window>"u"||(e?x.current=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null:(x.current?.focus(),x.current=null))},[e]),p.useEffect(()=>{if(!e||typeof window>"u")return;const b=window.document.body.style.overflow;return window.document.body.style.overflow="hidden",()=>{window.document.body.style.overflow=b}},[e]),typeof window>"u"||!e||!r?null:ls.createPortal(l.jsx(w4,{workspaceId:n,documentRecord:r,onClose:i,onRunSuccess:o,onRunError:u,safeModeEnabled:d,safeModeMessage:h,safeModeLoading:g}),window.document.body)}function w4({workspaceId:e,documentRecord:n,onClose:r,onRunSuccess:i,onRunError:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){const g=p.useRef(null),x=p.useId(),b=p.useId(),v=Jy({workspaceId:e}),[w,E]=p.useState(""),N=s4(e),{preferences:j,setPreferences:_}=r4(e,n.id),[T,C]=p.useState(n.last_run?.run_id??null);p.useEffect(()=>{C(n.last_run?.run_id??null)},[n.id,n.last_run?.run_id]);const z=p.useMemo(()=>v.data?.items??[],[v.data]),L=p.useMemo(()=>z.filter(xe=>!("deleted_at"in xe&&xe.deleted_at)),[z]),O=p.useMemo(()=>{if(j.configId){const xe=L.find(Ce=>Ce.id===j.configId);if(xe)return xe.id}return L[0]?.id??""},[j.configId,L]);p.useEffect(()=>{E(O)},[O]);const te=p.useMemo(()=>L.find(xe=>xe.id===w)??null,[L,w]),U=p.useCallback(xe=>{const Ce=typeof xe.status=="string"?xe.status:"draft";return`${xe.title??xe.display_name??"Untitled configuration"} (${Ce.charAt(0).toUpperCase()}${Ce.slice(1)})`},[]),[Z,W]=p.useState(null),G=d??zi,re=zn({queryKey:T?_b.detail(T):["run","none"],queryFn:({signal:xe})=>T?Gh(T,xe):Promise.reject(new Error("No run selected")),enabled:!!T,refetchInterval:xe=>{const Ce=xe.state.data?.status;return Ce==="running"||Ce==="queued"?2e3:!1}}),$=zn({queryKey:T?_b.telemetry(T):["run-telemetry","none"],queryFn:({signal:xe})=>{if(!T)return Promise.reject(new Error("No run selected"));const Ce=re.data??T;return qD(Ce,xe)},enabled:!!T&&(re.data?.status==="succeeded"||re.data?.status==="failed"),staleTime:5e3}),K=zn({queryKey:["document-sheets",e,n.id],queryFn:({signal:xe})=>Uy(e,n.id,xe),staleTime:6e4}),ue=p.useMemo(()=>K.data??[],[K.data]),[we,D]=p.useState([]);p.useEffect(()=>{if(!ue.length){D([]);return}const xe=(j.sheetNames??[]).filter(We=>ue.some(Oe=>Oe.name===We)),Ce=Array.from(new Set(xe));D(Ce)},[ue,j.sheetNames]);const A=p.useMemo(()=>Array.from(new Set(we.filter(xe=>ue.some(Ce=>Ce.name===xe)))),[we,ue]);p.useEffect(()=>{te&&_({configId:te.id,sheetNames:A.length?A:null})},[A,te,_]);const se=p.useCallback(xe=>{D(Ce=>Ce.includes(xe)?Ce.filter(We=>We!==xe):[...Ce,xe])},[]),de=re.data??null,ae=de?.status??null,k=ae==="running"||ae==="queued",Q=de?Zy(de):null,ce=de?.output?.output_path??null,F=de?Iy(de):null,ee=$.data??[],H=p.useMemo(()=>C4($.data??[]),[$.data]);p.useEffect(()=>{const xe=g.current;if(!xe)return;(Ob(xe)[0]??xe).focus();const We=Oe=>{if(Oe.key==="Escape"){Oe.preventDefault(),r();return}if(Oe.key!=="Tab")return;const Te=Ob(xe);if(Te.length===0){Oe.preventDefault();return}const Ye=Te[0],Ut=Te[Te.length-1],it=window.document.activeElement;if(Oe.shiftKey){(!xe.contains(it)||it===Ye)&&(Oe.preventDefault(),Ut.focus());return}it===Ut&&(Oe.preventDefault(),Ye.focus())};return xe.addEventListener("keydown",We),()=>xe.removeEventListener("keydown",We)},[r]);const Y=L.length>0,q=N.isPending||k||h||u||!Y||!te,le=u?G:h?"Checking ADE safe mode status...":void 0,ge=()=>{if(u||h)return;if(!te){W("Select a configuration before running the extractor.");return}W(null),C(null);const xe=A,Ce={dry_run:!1,validate_only:!1,force_rebuild:!1,debug:!1},We=xe.length>0?{...Ce,input_sheet_names:xe}:Ce;N.mutate({configId:te.id,options:{...We,input_document_id:n.id}},{onSuccess:Oe=>{_({configId:te.id,sheetNames:xe.length?xe:null}),i?.(Oe),C(Oe.id)},onError:Oe=>{const Te=Oe instanceof Error?Oe.message:"Unable to submit extraction run.";W(Te),o?.(Te)}})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[l.jsx("button",{type:"button",tabIndex:-1,"aria-hidden":"true",className:"flex-1 bg-slate-900/30 backdrop-blur-sm",onClick:r}),l.jsxs("aside",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":x,"aria-describedby":b,tabIndex:-1,className:"relative flex h-full w-[min(28rem,92vw)] flex-col border-l border-slate-200 bg-white shadow-2xl",children:[l.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{id:x,className:"text-lg font-semibold text-slate-900",children:"Run extraction"}),l.jsx("p",{id:b,className:"text-xs text-slate-500",children:"Prepare and submit a processing run."})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:r,disabled:N.isPending,children:"Close"})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4 text-sm text-slate-600",children:[l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Document"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-slate-800",title:n.name,children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(n.created_at).toLocaleString()]}),n.last_run_at?l.jsxs("p",{className:"text-xs text-slate-500",children:["Last run ",new Date(n.last_run_at).toLocaleString()]}):null]})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Configuration"}),v.isLoading?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"Loading configurations"}):v.isError?l.jsxs(nt,{tone:"danger",children:["Unable to load configurations."," ",v.error instanceof Error?v.error.message:"Try again later."]}):Y?l.jsx("div",{className:"space-y-2",children:l.jsxs(lo,{value:w,onChange:xe=>{const Ce=xe.target.value;E(Ce)},disabled:N.isPending,children:[l.jsx("option",{value:"",children:"Select configuration"}),L.map(xe=>l.jsx("option",{value:xe.id,children:U(xe)},xe.id))]})}):l.jsx(nt,{tone:"info",children:"No configurations available. Create one before running extraction."})]}),l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Advanced options"}),K.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading worksheets"}):K.isError?l.jsx(nt,{tone:"warning",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-slate-700",children:"Worksheet metadata is temporarily unavailable. The run will process the entire file unless you retry and pick specific sheets."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"secondary",size:"sm",onClick:()=>K.refetch(),disabled:K.isFetching,children:"Retry loading"}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>D([]),disabled:N.isPending,children:"Use all worksheets"})]})]})}):ue.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Worksheets"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:A.length===0?"All worksheets will be processed by default. Select any subset to narrow the run.":`${A.length.toLocaleString()} worksheet${A.length===1?"":"s"} selected. Clear selections to process every sheet.`})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>D([]),disabled:N.isPending,children:"Use all worksheets"})]}),l.jsx("div",{className:"max-h-48 space-y-2 overflow-auto rounded-md border border-slate-200 p-2",children:ue.map(xe=>{const Ce=A.includes(xe.name);return l.jsxs("label",{className:"flex items-center gap-2 rounded px-2 py-1 text-sm text-slate-700 hover:bg-slate-100",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:Ce,onChange:()=>se(xe.name)}),l.jsxs("span",{className:"flex-1 truncate",children:[xe.name,xe.is_active?" (active)":""]})]},`${xe.index}-${xe.name}`)})})]}):l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-500",children:"This document does not expose multiple worksheets, so ADE will ingest the uploaded file directly."})]}),T?l.jsxs("section",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Latest run"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",title:T,children:["Run ",T]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",ae??"loading"]})]}),k?l.jsx(v4,{className:"h-4 w-4 text-slate-500"}):null]}),F?l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.jsx("a",{href:F,className:"inline-flex items-center rounded border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700 transition hover:bg-slate-100",children:"Download logs"})}):null,l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Output"}),re.isFetching&&!Q?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading output"}):Q?l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 break-all rounded border border-slate-100 px-2 py-1 text-xs text-slate-700",children:[l.jsx("a",{href:Q,className:"text-emerald-700 hover:underline",children:ce?.split("/").pop()??"Download output"}),ce?l.jsx("span",{className:"text-[11px] text-slate-500",children:ce}):null]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Output will appear here after the run completes."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Run summary"}),$.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading summary"}):$.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load run summary."}):H?l.jsx(VM,{summary:H}):l.jsx("p",{className:"text-xs text-slate-500",children:"Summary not available."})]}),l.jsxs("div",{className:"mt-3 rounded-md border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Telemetry summary"}),$.isLoading?l.jsx("p",{className:"text-xs text-slate-500",children:"Loading telemetry"}):$.isError?l.jsx("p",{className:"text-xs text-rose-600",children:"Unable to load telemetry events."}):ee.length>0?l.jsx(QM,{events:ee}):l.jsx("p",{className:"text-xs text-slate-500",children:"No telemetry events captured."})]})]})]}):null,u?l.jsx(nt,{tone:"warning",children:G}):null,Z?l.jsx(nt,{tone:"danger",children:Z}):null]}),l.jsxs("footer",{className:"flex items-center justify-end gap-2 border-t border-slate-200 px-5 py-4",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:r,disabled:N.isPending,children:"Cancel"}),l.jsx(_e,{type:"button",onClick:ge,isLoading:N.isPending,disabled:q,title:le,children:"Run extraction"})]})]})]})}function j4({onFiles:e,disabled:n,workspaceName:r}){const[i,o]=p.useState(!1),u=p.useRef(0);return p.useEffect(()=>{if(n)return;const d=b=>{!b.dataTransfer||![...b.dataTransfer.types].includes("Files")||(u.current+=1,o(!0))},h=b=>{i&&b.preventDefault()},g=()=>{u.current=Math.max(0,u.current-1),u.current===0&&o(!1)},x=b=>{b.preventDefault(),o(!1),u.current=0;const v=Array.from(b.dataTransfer?.files??[]);v.length&&e(v)};return window.addEventListener("dragenter",d),window.addEventListener("dragover",h),window.addEventListener("dragleave",g),window.addEventListener("drop",x),()=>{window.removeEventListener("dragenter",d),window.removeEventListener("dragover",h),window.removeEventListener("dragleave",g),window.removeEventListener("drop",x)}},[i,n,e]),l.jsxs("div",{"aria-hidden":!i,className:me("pointer-events-none fixed inset-0 z-[60] transition",i?"opacity-100":"opacity-0"),children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/25 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsx("div",{className:"pointer-events-none rounded-2xl border border-white/70 bg-white/90 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white shadow",children:l.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-slate-700",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"text-center sm:text-left",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"Drop to upload"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Files will upload to ",l.jsx("span",{className:"font-medium",children:r??"this workspace"})]})]})]})})})]})}function S4(){return l.jsx("div",{className:"space-y-3","aria-hidden":!0,children:Array.from({length:6}).map((e,n)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-4 w-4 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 flex-1 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-24 rounded bg-slate-100"}),l.jsx("div",{className:"h-4 w-40 rounded bg-slate-100"}),l.jsx("div",{className:"h-8 w-40 rounded bg-slate-100"})]},n))})}function E4({count:e,onClear:n,onRun:r,onDelete:i,busy:o,safeModeEnabled:u=!1,safeModeMessage:d,safeModeLoading:h=!1}){if(e===0)return null;const g=o||u||h,x=u?d??zi:h?"Checking ADE safe mode status...":void 0;return l.jsx("div",{className:"fixed inset-x-0 bottom-0 z-40 mx-auto max-w-7xl px-2 pb-2 sm:px-4 sm:pb-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-white/95 p-3 text-sm text-slate-700 shadow-lg backdrop-blur",children:[l.jsxs("span",{className:"mr-2",children:[l.jsx("strong",{children:e})," selected"]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:n,children:"Clear"}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(_e,{size:"sm",onClick:()=>!g&&r(),disabled:g,title:x,children:"Run extraction"}),l.jsx(_e,{size:"sm",variant:"danger",onClick:i,disabled:o,isLoading:o,children:"Delete selected"})]})]})})}function N4({onUploadClick:e}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-slate-50",children:l.jsxs("svg",{className:"h-6 w-6 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[l.jsx("path",{d:"M12 16V4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 10l6-6 6 6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No documents yet"}),l.jsx("p",{className:"max-w-md text-sm text-slate-600",children:"Tap Upload or drag files anywhere in the window."}),l.jsx(_e,{onClick:e,className:"w-full sm:w-auto",children:"Upload"})]})}function C4(e){for(let n=e.length-1;n>=0;n-=1){const r=e[n];if((typeof r.event=="string"?r.event:typeof r.type=="string"?r.type:null)!=="engine.run.summary")continue;const o=r.data;if(o&&typeof o=="object")return o}return null}function _4({document:e}){const n=e.last_run;return n?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:me("inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium",k4(n.status)),children:[T4(n.status),n.run_at?l.jsx("span",{className:"ml-1 font-normal text-slate-500",children:A4(n.run_at)}):null]}),n.message?l.jsx("span",{className:"text-[11px] text-slate-500",children:n.message}):null]}):l.jsx("span",{className:"text-xs text-slate-400",children:"No runs yet"})}function k4(e){switch(e){case"succeeded":return"bg-success-100 text-success-700";case"failed":return"bg-danger-100 text-danger-700";case"running":return"bg-brand-100 text-brand-700";default:return"bg-slate-200 text-slate-700"}}function T4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ei=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});function A4(e){if(!e)return"unknown";const n=new Date(e);if(Number.isNaN(n.getTime()))return"unknown";const r=n.getTime()-Date.now(),i=Math.round(r/1e3);if(Math.abs(i)<60)return Ei.format(i,"second");const u=Math.round(i/60);if(Math.abs(u)<60)return Ei.format(u,"minute");const h=Math.round(u/60);if(Math.abs(h)<24)return Ei.format(h,"hour");const x=Math.round(h/24);if(Math.abs(x)<30)return Ei.format(x,"day");const b=Math.round(x/30);if(Math.abs(b)<12)return Ei.format(b,"month");const v=Math.round(x/365);return Ei.format(v,"year")}function D4(e,n){const r=URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=n,i.click(),window.setTimeout(()=>URL.revokeObjectURL(r),1e3)}function Ob(e){const n=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(n.join(","))).filter(r=>!r.hasAttribute("disabled")&&r.getAttribute("aria-hidden")!=="true")}function M4({params:e}){return l.jsxs("section",{children:[l.jsxs("h1",{className:"text-lg font-semibold",children:["Document ",e.documentId]}),l.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"TODO: render document details or drawer."})]})}function R4(){return l.jsx(dt,{title:"Runs",description:"Run history will appear here once runs APIs expose listing endpoints.",variant:"empty"})}const z4="Default template",Ac=(e,n)=>`/workspaces/${e}/config-builder/${encodeURIComponent(n)}`;function O4(){const{workspace:e}=gr(),n=It(),r=p.useMemo(()=>Vy(e.id),[e.id]),i=p.useMemo(()=>Xh(e.id),[e.id]),o=Jy({workspaceId:e.id}),u=IM(e.id),d=xD(e.id),[h,g]=p.useState(()=>`${e.name} Config`),[x,b]=p.useState(null),[v,w]=p.useState(()=>`${e.name} Import`),[E,N]=p.useState(null),[j,_]=p.useState(null),[T,C]=p.useState(()=>i.get()),z=p.useRef(null),L=p.useRef(null),O=p.useMemo(()=>(o.data?.items??[]).filter(A=>!("deleted_at"in A&&A.deleted_at)),[o.data]),te=p.useMemo(()=>O.find(A=>A.id===T?.configId)??null,[O,T]),U=p.useCallback(A=>{C(Jh(i,A))},[i]);p.useEffect(()=>{C(i.get())},[i]),p.useEffect(()=>{const A=L.current,se=A?.id!==e.id,de=A?.name!==e.name;if(!(!se&&!de)){if(L.current={id:e.id,name:e.name},se){g(`${e.name} Config`),b(null),w(`${e.name} Import`),N(null),_(null),z.current&&(z.current.value="");return}de&&(g(ae=>ae===`${A?.name??""} Config`?`${e.name} Config`:ae),w(ae=>ae===`${A?.name??""} Import`?`${e.name} Import`:ae))}},[e.id,e.name]),p.useEffect(()=>{if(typeof window>"u")return;const A=se=>{if(!(se.storageArea!==window.localStorage||se.key!==r))try{C(se.newValue?JSON.parse(se.newValue):null)}catch{C(null)}};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[r]),p.useEffect(()=>{T?.configId&&(O.some(A=>A.id===T.configId)||U(null))},[O,T?.configId,U]);const Z=A=>{U(A),n(Ac(e.id,A))},W=A=>{U(A),n(`${Ac(e.id,A)}/editor`)},G=p.useCallback(A=>{_(null),N(A.target.files?.[0]??null),A.target.value=""},[]),re=A=>{A.preventDefault();const se=h.trim();if(!se){b("Enter a display name for the configuration.");return}b(null),u.mutate({displayName:se,source:{type:"template"}},{onSuccess(de){U(de.id),n(Ac(e.id,de.id))}})},$=A=>{A.preventDefault();const se=v.trim();if(!se){_("Enter a display name for the imported configuration.");return}if(!E){_("Select a .zip file to import.");return}_(null),d.mutate({displayName:se,file:E},{onSuccess(de){U(de.id),N(null),o.refetch(),n(Ac(e.id,de.id))},onError(de){_(de instanceof Error?de.message:"Unable to import configuration.")}})},K=x??(u.error instanceof Error?u.error.message:null),ue=h.trim().length>0&&!u.isPending,we=v.trim().length>0&&!!E&&!d.isPending,D=A=>l.jsx(yt,{label:"Template",children:l.jsx(pt,{value:z4,readOnly:!0,disabled:A})});return o.isLoading?l.jsx(dt,{variant:"loading",title:"Loading configurations",description:"Fetching workspace configurations"}):o.isError?l.jsx(dt,{variant:"error",title:"Unable to load configurations",description:"Try refreshing the page."}):O.length===0?l.jsx(dt,{className:"mx-auto w-full max-w-xl",title:"Create your first configuration",description:"Copy a starter template into this workspace to begin editing detectors, hooks, and manifests.",action:l.jsxs("div",{className:"space-y-6 text-left",children:[l.jsxs("form",{onSubmit:re,className:"space-y-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:h,onChange:A=>g(A.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),D(u.isPending),K?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:K}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!ue,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:$,className:"mt-3 space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:v,onChange:A=>w(A.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(yt,{label:"Archive (.zip)",required:!0,children:[l.jsx(pt,{type:"file",ref:z,accept:".zip",onChange:G,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})}):l.jsxs("div",{className:"grid gap-6 p-4 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Configurations"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Open an existing configuration to view manifest summaries, run validation, or launch the editor."})]}),te?l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>Z(te.id),children:"Resume last opened"}):null]}),l.jsx("div",{className:"divide-y divide-slate-200 rounded-xl border border-slate-200",children:O.map(A=>l.jsxs("article",{className:"grid gap-3 p-4 md:grid-cols-[minmax(0,2fr),auto] md:items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:A.display_name}),l.jsx(L4,{status:A.status}),te?.id===A.id?l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-brand-600",children:"Last opened"}):null]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Updated ",U4(A.updated_at)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>Z(A.id),children:"View details"}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>W(A.id),children:"Open editor"})]})]},A.id))})]}),l.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"New configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Copy the starter template to begin editing detectors, hooks, and manifests."})]}),l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:h,onChange:A=>g(A.target.value),placeholder:"Membership normalization",disabled:u.isPending})}),D(u.isPending),K?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:K}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!ue,isLoading:u.isPending,children:"Create from template"})]}),l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Import configuration"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Upload an ADE export (.zip) to create a new draft configuration."})]}),l.jsxs("form",{onSubmit:$,className:"mt-3 space-y-4",children:[l.jsx(yt,{label:"Configuration name",required:!0,children:l.jsx(pt,{value:v,onChange:A=>w(A.target.value),placeholder:"Imported configuration",disabled:d.isPending})}),l.jsxs(yt,{label:"Archive (.zip)",required:!0,children:[l.jsx(pt,{type:"file",ref:z,accept:".zip",onChange:G,disabled:d.isPending}),E?l.jsx("p",{className:"mt-1 text-xs text-slate-500","aria-live":"polite",children:E.name}):null]}),j?l.jsx("p",{className:"text-sm font-medium text-danger-600",children:j}):null,l.jsx(_e,{type:"submit",className:"w-full",disabled:!we,isLoading:d.isPending,children:"Import archive"})]})]})]})]})}function L4({status:e}){const n=e.toLowerCase(),r=n==="active"?"bg-emerald-100 text-emerald-700":n==="draft"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700";return l.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${r}`,children:e})}function U4(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function B4({params:e}={}){const{workspace:n}=gr(),r=It(),i=e?.configId,o=p.useMemo(()=>Xh(n.id),[n.id]),u=ew({workspaceId:n.id,configurationId:i}),d=u.data;return p.useEffect(()=>{!i||!d||Jh(o,i)},[i,d,o]),i?u.isLoading?l.jsx(dt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details."}):u.isError?l.jsx(dt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page."}):d?l.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[l.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-600",children:"Configuration"}),l.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:d.display_name})]}),l.jsx(_e,{variant:"secondary",onClick:()=>r(`/workspaces/${n.id}/config-builder/${encodeURIComponent(d.id)}/editor`),children:"Open editor"})]}),l.jsxs("dl",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Config ID"}),l.jsx("dd",{className:"text-sm text-slate-700",children:d.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),l.jsx("dd",{className:"text-sm capitalize text-slate-700",children:d.status.toLowerCase()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Updated"}),l.jsx("dd",{className:"text-sm text-slate-700",children:$4(d.updated_at)})]})]})]}),l.jsxs("section",{className:"flex-1 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-6",children:[l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Overview"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-600",children:"The refreshed config workbench will eventually surface manifest summaries, validation history, and deployment metrics here. For now this page offers a quick launch point into the editor while we rebuild the experience."})]})]}):l.jsx(dt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."}):l.jsx(dt,{variant:"error",title:"Configuration not found",description:"Pick a configuration from the list to view its details."})}function $4(e){if(!e)return"unknown";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function q4({params:e}={}){const{workspace:n}=gr(),{session:r,windowState:i,openSession:o,closeSession:u,minimizeWindow:d,maximizeWindow:h,restoreWindow:g,shouldBypassUnsavedGuard:x}=Py(),b=e?.configId,v=ew({workspaceId:n.id,configurationId:b});if(p.useEffect(()=>{b||u()},[b,u]),p.useEffect(()=>{if(!b||v.isError)return;const _=v.data?.display_name??b;o({workspaceId:n.id,configId:b,configName:`${n.name}  ${_}`})},[b,v.data?.display_name,v.isError,n.id,n.name,o]),p.useEffect(()=>{b&&(v.isError||v.isSuccess&&!v.data)&&u()},[u,b,v.data,v.isError,v.isSuccess]),!b)return l.jsx(dt,{variant:"error",title:"Select a configuration",description:"Choose a configuration from the list to open the workbench."});if(v.isLoading)return l.jsx(dt,{variant:"loading",title:"Loading configuration",description:"Fetching configuration details before opening the workbench."});if(v.isError)return l.jsx(dt,{variant:"error",title:"Unable to load configuration",description:"Try refreshing the page or pick a different configuration."});if(!v.data)return l.jsx(dt,{variant:"error",title:"Configuration unavailable",description:"The selected configuration could not be found. It may have been deleted."});const w=r&&r.configId===b?r:null,E=!!(w&&i==="minimized"),N=!!(w&&i==="restored"),j=!!(w&&i==="maximized");return N&&w?l.jsx("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:l.jsx(Qy,{workspaceId:n.id,configId:w.configId,configName:w.configName,windowState:"restored",onMinimizeWindow:d,onMaximizeWindow:h,onRestoreWindow:g,onCloseWorkbench:u,shouldBypassUnsavedGuard:x})}):j?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"empty",title:"Immersive focus active",description:"Exit immersive mode from the workbench focus menu to return here."})}):E?l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"empty",title:"Workbench docked",description:"Use the dock at the bottom of the screen to resume editing."})}):l.jsx("div",{className:"flex h-full min-h-0 flex-1 items-center justify-center px-6 py-8",children:l.jsx(dt,{variant:"loading",title:"Launching config workbench",description:"If the editor does not appear, refresh the page."})})}function F4({workspaceName:e,navGroups:n,activeSectionId:r,activeSectionLabel:i,activeSectionDescription:o,activeGroupLabel:u,children:d}){const g=n.flatMap(N=>N.items).find(N=>N.id===r)?.tone??"default",[x,b]=p.useState(""),v=x.trim().toLowerCase(),w=p.useMemo(()=>v?n.map(N=>({...N,items:N.items.filter(j=>`${j.label} ${j.description}`.toLowerCase().includes(v))})).filter(N=>N.items.length>0):n,[n,v]),E=p.useMemo(()=>["Settings",u,i].filter(Boolean),[u,i]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-[0.28em] text-slate-400",children:[l.jsx("span",{children:"Workspace"}),l.jsx("span",{"aria-hidden":!0,children:""}),l.jsx("span",{children:"Settings"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:"Settings"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:E.map((N,j)=>l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:j===E.length-1?"font-semibold text-slate-900":"text-slate-600",children:N}),j<E.length-1?l.jsx("span",{"aria-hidden":!0,className:"text-slate-400",children:"/"}):null]},N))}),o?l.jsx("p",{className:"max-w-3xl text-sm text-slate-600",children:o}):null]}),l.jsxs("div",{className:"w-full max-w-xs",children:[l.jsx(pt,{value:x,onChange:N=>b(N.target.value),placeholder:"Search settings","aria-label":"Search workspace settings"}),l.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Filter sections by name or description."})]})]})}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[l.jsx("nav",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-soft","aria-label":"Workspace settings sections",children:l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsxs("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:['No sections match "',x,'".']}):w.map(N=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"px-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:N.label}),l.jsx("ul",{className:"space-y-1",children:N.items.map(j=>{const _=j.id===r,T=j.tone==="danger"?{active:"bg-danger-50 text-danger-700 ring-danger-100",idle:"hover:bg-danger-50/60 text-danger-700",badgeActive:"bg-danger-500 text-white",badgeIdle:"bg-danger-100 text-danger-700 group-hover:bg-danger-200"}:{active:"bg-brand-50 text-brand-700 ring-brand-100",idle:"hover:bg-slate-50 text-slate-700",badgeActive:"bg-brand-500 text-white",badgeIdle:"bg-slate-100 text-slate-500 group-hover:bg-slate-200"},C=me("group flex w-full items-start gap-3 rounded-xl px-3 py-2.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2",_?T.active:T.idle,j.disabled&&"cursor-not-allowed opacity-50 ring-0 hover:bg-white");return j.disabled?l.jsx("li",{className:"w-full",children:l.jsx("div",{className:C,"aria-disabled":!0,children:l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]})})},j.id):l.jsx("li",{className:"w-full",children:l.jsxs(Ky,{to:j.href,className:C,children:[l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:j.label}),l.jsx("span",{className:"text-xs text-slate-500",children:j.description})]}),l.jsx("span",{"aria-hidden":!0,className:me("ml-auto inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] font-bold transition",_?T.badgeActive:T.badgeIdle),children:j.label.slice(0,1).toUpperCase()})]})},j.id)})})]},N.id))})}),l.jsx("div",{className:me("space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft",g==="danger"&&"border-danger-100 bg-danger-50/40"),children:d})]})]})}const aw=p.createContext(null);function H4({value:e,children:n}){return l.jsx(aw.Provider,{value:e,children:n})}function iw(){const e=p.useContext(aw);if(!e)throw new Error("useSettingsSection must be used within a SettingsSectionProvider");return e}function gu({open:e,title:n,description:r,confirmLabel:i="Confirm",cancelLabel:o="Cancel",onConfirm:u,onCancel:d,isConfirming:h,children:g,confirmDisabled:x,tone:b="default"}){const v=p.useRef(null);if(p.useEffect(()=>{if(!e)return;const E=j=>{if(j.key==="Escape"&&d(),j.key==="Tab"){const _=v.current;if(!_)return;const T=Array.from(_.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(L=>!L.hasAttribute("disabled"));if(T.length===0)return;const C=T.indexOf(document.activeElement),z=j.shiftKey?C<=0?T.length-1:C-1:C===T.length-1?0:C+1;T[z]?.focus(),j.preventDefault()}};return window.addEventListener("keydown",E),v.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",E)},[d,e]),!e)return null;const w=b==="danger"?{badge:"bg-danger-100 text-danger-700",confirmVariant:"danger"}:{badge:"bg-brand-50 text-brand-700",confirmVariant:"primary"};return ls.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 px-4",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:d,"aria-label":"Close dialog"}),l.jsx("div",{className:"relative flex min-h-full items-center justify-center",children:l.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":n,className:"w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",ref:v,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:me("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.25em]",w.badge),children:"Confirm"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),g?l.jsx("div",{className:"mt-4 space-y-3",children:g}):null,l.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:d,disabled:h,children:o}),l.jsx(_e,{type:"button",variant:w.confirmVariant,onClick:u,isLoading:h,disabled:x||h,className:b==="danger"?"hover:bg-danger-600":void 0,children:i})]})]})})]}),document.body)}function xu({title:e,description:n,actions:r}){return l.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e}),n?l.jsx("p",{className:"text-sm text-slate-600",children:n}):null]}),r?l.jsx("div",{className:"flex items-center gap-2",children:r}):null]})}function Z4(){const{workspace:e,hasPermission:n}=gr(),r=It(),i=ft(),[o,u]=p.useState(!1),[d,h]=p.useState(""),[g,x]=p.useState(null),b=sn({mutationFn:()=>FS(e.id),onSuccess:()=>{i.invalidateQueries({queryKey:Zt.all()}),r("/workspaces",{replace:!0})},onError:E=>{x(E instanceof Error?E.message:"Unable to delete workspace.")}}),v=n("workspace.delete")||n("workspace.settings.manage"),w=p.useMemo(()=>{const E=d.trim().toLowerCase();return E.length>0&&(E===e.slug.toLowerCase()||E===e.name.toLowerCase())},[d,e.name,e.slug]);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Danger zone",description:"Delete this workspace when it is no longer needed."}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete workspace"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Permanently remove this workspace and all associated data. This action cannot be undone."})]}),l.jsx(_e,{type:"button",variant:"danger",onClick:()=>u(!0),disabled:!v||b.isPending,isLoading:b.isPending,children:"Delete workspace"})]}),v?null:l.jsx(nt,{tone:"warning",className:"mt-3",children:"You need additional permissions to delete this workspace."}),g?l.jsx(nt,{tone:"danger",className:"mt-3",children:g}):null,l.jsx("p",{className:"mt-3 text-sm text-amber-700",children:"All workspace configurations, documents, runs, and history will be removed."})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50 p-4 text-sm text-amber-800",children:[l.jsx("p",{className:"font-semibold",children:"Looking for ADE safe mode?"}),l.jsx("p",{className:"mt-1",children:"Safe mode is a system-wide control. Manage it from the system settings area instead of workspace settings."})]}),l.jsxs(gu,{open:o,title:"Delete this workspace?",description:"Type the workspace slug to confirm. This cannot be undone.",confirmLabel:"Delete workspace",tone:"danger",onCancel:()=>{u(!1),h(""),x(null)},onConfirm:()=>{w&&(x(null),b.mutate())},isConfirming:b.isPending,confirmDisabled:!w,children:[l.jsx(yt,{label:"Workspace slug",required:!0,children:l.jsx(pt,{value:d,onChange:E=>h(E.target.value),placeholder:e.slug,disabled:b.isPending})}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Enter ",l.jsx("strong",{children:e.slug})," to confirm deletion."]})]})]})}function lw({when:e,title:n="Discard unsaved changes?",description:r="You have unsaved changes. If you leave now, your edits will be lost.",confirmLabel:i="Leave without saving",cancelLabel:o="Stay on page"}){const u=It(),[d,h]=p.useState(null),[g,x]=p.useState(!1),b=p.useRef(!1);p.useEffect(()=>{if(!e){x(!1),h(null);return}const E=N=>{N.preventDefault(),N.returnValue=""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[e]),$b(E=>e?b.current?(b.current=!1,!0):(h(E),x(!0),!1):!0,e);const v=()=>{if(!d)return;b.current=!0;const E=d.kind==="replace"||d.kind==="pop";u(d.to,{replace:E}),x(!1),h(null),setTimeout(()=>{b.current=!1},0)},w=()=>{x(!1),h(null)};return l.jsx(gu,{open:g&&e,title:n,description:r,confirmLabel:i,cancelLabel:o,tone:"danger",onConfirm:v,onCancel:w})}lw.displayName="UnsavedChangesPrompt";function I4({isDirty:e,isSaving:n,onCancel:r,onSave:i,saveLabel:o="Save changes",cancelLabel:u="Discard",children:d}){return!e&&!d?null:l.jsx("div",{className:"sticky bottom-0 left-0 right-0 mt-4 rounded-b-2xl border border-t bg-white/95 p-4 shadow-[0_-8px_20px_-12px_rgba(15,23,42,0.25)] backdrop-blur",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("div",{className:"text-sm text-slate-600",children:d}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?l.jsx(_e,{type:"button",variant:"ghost",onClick:r,disabled:n||!e,children:u}):null,l.jsx(_e,{type:"button",onClick:i,isLoading:n,disabled:!e||n,children:o})]})]})})}const V4=uu({name:Ds().min(1,"Workspace name is required.").max(255,"Keep the name under 255 characters."),slug:Ds().min(1,"Workspace slug is required.").max(100,"Keep the slug under 100 characters.").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Use lowercase letters, numbers, and dashes.")});function Q4(){const{workspace:e}=gr(),n=tE(e.id),r=bv(),[i,o]=p.useState(null),{register:u,handleSubmit:d,formState:{errors:h,isDirty:g},reset:x}=Jv({resolver:ey(V4),defaultValues:{name:e.name,slug:e.slug}});p.useEffect(()=>{x({name:e.name,slug:e.slug})},[x,e.name,e.slug]);const b=d(E=>{o(null),n.mutate({name:E.name.trim(),slug:E.slug.trim()},{onSuccess:()=>{o({tone:"success",message:"Workspace details saved."})},onError:N=>{const j=N instanceof Error?N.message:"Unable to save workspace details.";o({tone:"danger",message:j})}})}),v=e.is_default,w=r.isPending;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(lw,{when:g&&!n.isPending}),l.jsx(xu,{title:"General",description:"Manage the workspace identity and your default workspace preference."}),i?l.jsx(nt,{tone:i.tone,children:i.message}):null,l.jsxs("form",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-soft",onSubmit:b,noValidate:!0,children:[l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Workspace identity"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Update the name and slug. Changes apply immediately across navigation and shared links."})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yt,{label:"Workspace name",required:!0,error:h.name?.message,children:l.jsx(pt,{...u("name"),placeholder:"Finance Operations",invalid:!!h.name,disabled:n.isPending})}),l.jsx(yt,{label:"Workspace slug",hint:"Lowercase, URL-friendly identifier.",required:!0,error:h.slug?.message,children:l.jsx(pt,{...u("slug"),placeholder:"finance-ops",invalid:!!h.slug,disabled:n.isPending})})]}),n.isError?l.jsx(nt,{tone:"danger",children:n.error instanceof Error?n.error.message:"Unable to save workspace details."}):null]}),l.jsx(I4,{isDirty:g,isSaving:n.isPending,onCancel:()=>{x(),o(null)},onSave:b,children:"Changes apply to everyone who can access this workspace."})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Default workspace"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Choose the workspace you land on first after signing in. This only affects your account."})]}),l.jsx(_e,{type:"button",variant:v?"secondary":"primary",onClick:()=>{o(null),r.mutate(e.id,{onSuccess:()=>o({tone:"success",message:"Workspace set as your default."}),onError:E=>{const N=E instanceof Error?E.message:"Unable to set the default workspace right now.";o({tone:"danger",message:N})}})},disabled:v||w,isLoading:w,children:v?"Default workspace":"Make default"})]}),l.jsx("p",{className:"mt-3 text-sm text-slate-600",children:v?"This workspace is already your default.":"You can switch the default workspace at any time."})]})]})}function em({open:e,title:n,description:r,onClose:i,children:o,footer:u,widthClassName:d="w-full max-w-xl"}){const h=p.useRef(null);return p.useEffect(()=>{if(!e)return;const g=b=>{if(b.key==="Escape"&&i(),b.key==="Tab"){const v=h.current;if(!v)return;const w=Array.from(v.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(j=>!j.hasAttribute("disabled"));if(w.length===0)return;const E=w.indexOf(document.activeElement),N=b.shiftKey?E<=0?w.length-1:E-1:E===w.length-1?0:E+1;w[N]?.focus(),b.preventDefault()}};return window.addEventListener("keydown",g),h.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus(),()=>window.removeEventListener("keydown",g)},[i,e]),e?ls.createPortal(l.jsxs("div",{className:"fixed inset-0 z-40",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/50",onClick:i,"aria-label":"Close drawer"}),l.jsxs("div",{ref:h,role:"dialog","aria-modal":"true","aria-label":n,className:me("absolute inset-y-0 right-0 flex h-full flex-col bg-white shadow-2xl transition",d),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-slate-200 px-5 py-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Details"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n}),r?l.jsx("p",{className:"text-sm text-slate-600",children:r}):null]}),l.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-slate-200 bg-white p-2 text-slate-500 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2","aria-label":"Close drawer",children:l.jsx(W4,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:o}),u?l.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-5 py-4",children:u}):null]})]}),document.body):null}function W4(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}const mh=to,bu={page:1,pageSize:mh,includeTotal:!0};function P4(e){const n=yh({queryKey:Zt.members(e,bu),initialPageParam:1,queryFn:({pageParam:u,signal:d})=>HS(e,{page:typeof u=="number"?u:1,pageSize:mh,includeTotal:u===1,signal:d}),getNextPageParam:u=>u.has_next?u.page+1:void 0,enabled:e.length>0,staleTime:15e3,placeholderData:u=>u}),r=n.data?.pages??[],i=Nh(r,u=>u.user_id),o=r[0]?.total??r[r.length-1]?.total??void 0;return{...n,members:i,total:o,pageSize:mh}}function K4(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:async({user:i,roleIds:o})=>{const u={user_id:i.id,role_ids:Array.from(o)};return ZS(e,u)},onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function Y4(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:({userId:i,roleIds:o})=>IS(e,i,{role_ids:Array.from(o)}),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}function G4(e){const n=ft(),r=Zt.members(e,bu);return sn({mutationFn:i=>VS(e,i),onSuccess:()=>{n.invalidateQueries({queryKey:r})}})}const tm=to,X4=to,vu={page:1,pageSize:tm,includeTotal:!0},J4={scope:"workspace",page:1,pageSize:X4,includeTotal:!1};function ow(e){return zn({queryKey:Zt.roles(e,vu),queryFn:({signal:n})=>fv(r=>QS({page:r,pageSize:tm,includeTotal:r===1,signal:n})),enabled:e.length>0,staleTime:15e3,placeholderData:n=>n})}function eR(e="workspace"){const n={...J4,scope:e};return zn({queryKey:Zt.permissions(n),queryFn:({signal:r})=>fv(i=>YS({scope:e,page:i,pageSize:n.pageSize,includeTotal:i===1,signal:r})),staleTime:6e4,placeholderData:r=>r})}function tR(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:i=>WS(e,i),onSuccess:i=>{n.setQueryData(r,o=>rR(o,i))},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function nR(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:({roleId:i,payload:o})=>PS(e,i,o),onSuccess:i=>{n.setQueryData(r,o=>o&&{...o,items:o.items.map(u=>u.id===i.id?i:u)})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function sR(e){const n=ft(),r=Zt.roles(e,vu);return sn({mutationFn:i=>KS(e,i),onSuccess:(i,o)=>{n.setQueryData(r,u=>{if(!u)return u;const d=u.items.filter(h=>h.id!==o);return{...u,items:d,total:typeof u.total=="number"?Math.max(u.total-1,0):u.total}})},onSettled:()=>{n.invalidateQueries({queryKey:r})}})}function rR(e,n){return e?{...e,items:[n,...e.items],total:typeof e.total=="number"?e.total+1:e.total,has_next:!1,has_previous:!1}:{items:[n],page:1,page_size:tm,has_next:!1,has_previous:!1,total:1}}const aR={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};function iR(e,n){if(e&&e.trim().length>0){const r=e.trim().split(/\s+/u),i=r[0]?.[0],o=r[r.length-1]?.[0];if(i)return`${i}${o??""}`.toUpperCase()}return n&&n.trim().length>0?n.trim()[0]?.toUpperCase():"?"}function cw({name:e,email:n,size:r="md",className:i}){const o=p.useMemo(()=>iR(e,n),[e,n]);return l.jsx("span",{"aria-hidden":"true",className:me("inline-flex select-none items-center justify-center rounded-full bg-gradient-to-br from-brand-100 via-brand-200 to-brand-300 font-semibold text-brand-900 shadow-sm",aR[r],i),children:o})}function lR(){const{workspace:e,hasPermission:n}=gr(),{params:r}=iw(),i=It(),o=Fn(),u=n("workspace.members.manage"),d=P4(e.id),h=ow(e.id),g=K4(e.id),x=Y4(e.id),b=G4(e.id),[v,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>{const ae=d.members,k=new Intl.Collator("en",{sensitivity:"base"});return[...ae].sort((Q,ce)=>{const F=Q.user?.display_name??Q.user?.email??Q.user_id,ee=ce.user?.display_name??ce.user?.email??ce.user_id;return k.compare(F??"",ee??"")})},[d.members]),_=p.useMemo(()=>new Set(j.map(ae=>ae.user_id)),[j]),T=d.total??j.length,C=v.trim().toLowerCase(),z=p.useMemo(()=>C?j.filter(ae=>{const k=ae.user?.display_name??"",Q=ae.user?.email??"";return k.toLowerCase().includes(C)||Q.toLowerCase().includes(C)||ae.user_id.toLowerCase().includes(C)}):j,[j,C]),L=!!d.hasNextPage,O=d.isLoading,te=d.isFetchingNextPage,U=p.useMemo(()=>{const ae=new Intl.Collator("en",{sensitivity:"base"});return(h.data?.items??[]).slice().sort((k,Q)=>ae.compare(k.name,Q.name))},[h.data]),Z=r[0],W=Z==="new",G=Z&&Z!=="new"?decodeURIComponent(Z):null,re=j.find(ae=>ae.user_id===G),$=`/workspaces/${e.id}/settings/access/members`,K=`${o.search}${o.hash}`,ue=()=>i(`${$}${K}`,{replace:!0}),we=()=>i(`${$}/new${K}`),D=ae=>i(`${$}/${encodeURIComponent(ae)}${K}`),A=async({user:ae,roleIds:k})=>{N(null),await g.mutateAsync({user:ae,roleIds:k}),N({tone:"success",message:`${ae.display_name??ae.email} added to the workspace.`}),ue()},se=async(ae,k)=>{N(null),await x.mutateAsync({userId:ae,roleIds:k}),N({tone:"success",message:"Member roles updated."}),ue()},de=async ae=>{N(null),await b.mutateAsync(ae.user_id),N({tone:"success",message:"Member removed."}),ue()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Members",description:"Invite teammates, adjust their workspace roles, or remove their access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," member",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace members."}):null,h.isError?l.jsx(nt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load workspace roles."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace members"}),l.jsx("p",{className:"text-sm text-slate-500",children:O?"Loading members":`${T} member${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(yt,{label:"Search members",className:"w-full max-w-xs",children:l.jsx(pt,{value:v,onChange:ae=>w(ae.target.value),placeholder:"Search by name, email, or ID",disabled:O})}),u?l.jsx(_e,{type:"button",onClick:we,children:"Add member"}):null]})]}),O?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading members"}):z.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No members match "${v}".`:"No members yet. Add teammates to collaborate."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Member"}),l.jsx("th",{className:"px-4 py-3",children:"Roles"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:z.map(ae=>{const k=ae.role_ids.map(ce=>U.find(F=>F.id===ce)?.name??ce).sort((ce,F)=>ce.localeCompare(F)),Q=ae.user?.display_name??ae.user?.email??ae.user_id;return l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(cw,{name:ae.user?.display_name,email:ae.user?.email,size:"sm"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-semibold text-slate-900",children:Q}),l.jsx("p",{className:"truncate text-xs text-slate-500",children:ae.user?.email??ae.user_id})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:k.length===0?l.jsx("span",{className:"text-xs text-slate-500",children:"No roles assigned."}):k.map(ce=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:ce},`${ae.user_id}-${ce}`))})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(ae.user_id),disabled:!u,children:"Manage"})})]},ae.user_id)})})]})}),L?l.jsx("div",{className:"pt-4",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>d.fetchNextPage(),disabled:te,children:te?"Loading more members":"Load more members"})}):null,u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace members."})]}),l.jsx(oR,{open:W&&u,onClose:ue,availableRoles:U,memberIds:_,isSubmitting:g.isPending,onInvite:A}),l.jsx(cR,{open:!!G&&u,member:re,availableRoles:U,onClose:ue,onSaveRoles:ae=>se(G??"",ae),onRemove:()=>re?de(re):Promise.resolve(),isSaving:x.isPending,isRemoving:b.isPending})]})}function oR({open:e,onClose:n,availableRoles:r,memberIds:i,isSubmitting:o,onInvite:u}){const[d,h]=p.useState(""),[g,x]=p.useState([]),[b,v]=p.useState(""),[w,E]=p.useState(""),[N,j]=p.useState(null);p.useEffect(()=>{const U=window.setTimeout(()=>E(b.trim()),250);return()=>window.clearTimeout(U)},[b]),p.useEffect(()=>{e||(h(""),x([]),v(""),j(null))},[e]);const _=ty({enabled:e,search:w,pageSize:50}),T=p.useMemo(()=>{const U=new Intl.Collator("en",{sensitivity:"base"});return _.users.filter(Z=>!i.has(Z.id)).sort((Z,W)=>{const G=Z.display_name??Z.email,re=W.display_name??W.email;return U.compare(G??"",re??"")})},[i,_.users]),C=p.useMemo(()=>T.find(U=>U.id===d),[T,d]),z=!!d&&g.length>0&&!o,L=b.trim().length>0&&b.trim().length<2,O=_.isPending&&_.users.length===0,te=async U=>{U.preventDefault(),j(null);const Z=T.find(W=>W.id===d);if(!Z){j("Select a user to add.");return}if(g.length===0){j("Select at least one role for this member.");return}try{await u({user:Z,roleIds:g}),h(""),v(""),x([])}catch(W){const G=W instanceof Error?W.message:"Unable to add member.";j(G)}};return l.jsx(em,{open:e,onClose:n,title:"Add member",description:"Invite an existing teammate and choose their workspace roles.",children:l.jsxs("form",{className:"space-y-4",onSubmit:te,children:[N?l.jsx(nt,{tone:"danger",children:N}):null,_.isError?l.jsx(nt,{tone:"warning",children:_.error instanceof Error?_.error.message:"Unable to load the user directory."}):null,l.jsxs(yt,{label:"Search directory",hint:"Enter at least two characters to search by name or email.",children:[l.jsx(pt,{value:b,onChange:U=>v(U.target.value),placeholder:"Search users",disabled:o||O}),L?l.jsx("p",{className:"text-xs text-slate-500",children:"Enter at least two characters to search the full directory."}):null]}),l.jsxs(yt,{label:"User",required:!0,children:[l.jsxs(lo,{value:d,onChange:U=>{h(U.target.value),U.target.value&&v("")},disabled:o||O,required:!0,children:[l.jsx("option",{value:"",children:"Select a user"}),C&&!T.some(U=>U.id===C.id)?l.jsx("option",{value:C.id,children:C.display_name?`${C.display_name} (${C.email})`:C.email}):null,T.map(U=>l.jsx("option",{value:U.id,children:U.display_name?`${U.display_name} (${U.email})`:U.email},U.id))]}),T.length===0&&b?l.jsxs("p",{className:"text-xs text-slate-500",children:['No users matched "',b,'".']}):null]}),l.jsxs("fieldset",{className:"space-y-2",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Assign at least one role to grant access."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available yet."}):r.map(U=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(U.id),onChange:Z=>x(W=>Z.target.checked?[...W,U.id]:W.filter(G=>G!==U.id)),disabled:o}),l.jsx("span",{children:U.name})]},U.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]}),_.hasNextPage?l.jsx("div",{className:"pt-2",children:l.jsx(_e,{type:"button",variant:"ghost",onClick:()=>_.fetchNextPage(),disabled:_.isFetchingNextPage,children:_.isFetchingNextPage?"Loading more users":"Load more users"})}):null,l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:n,disabled:o,children:"Cancel"}),l.jsx(_e,{type:"submit",isLoading:o,disabled:!z,children:"Add member"})]})]})})}function cR({open:e,member:n,availableRoles:r,onClose:i,onSaveRoles:o,onRemove:u,isSaving:d,isRemoving:h}){const[g,x]=p.useState([]),[b,v]=p.useState(null),[w,E]=p.useState(!1);p.useEffect(()=>{if(!e||!n){x([]),v(null),E(!1);return}x(n.role_ids),v(null),E(!1)},[n,e]);const N=async()=>{if(n){v(null);try{await o(g)}catch(T){const C=T instanceof Error?T.message:"Unable to save member roles.";v(C)}}},j=async()=>{if(n){v(null);try{await u()}catch(T){const C=T instanceof Error?T.message:"Unable to remove member.";v(C)}finally{E(!1)}}},_=n?n.user?.display_name??n.user?.email??n.user_id:"Member details";return l.jsxs(l.Fragment,{children:[l.jsxs(em,{open:e,onClose:i,title:_,description:n?"Update roles or remove this member from the workspace.":void 0,children:[n?l.jsxs("div",{className:"space-y-4",children:[b?l.jsx(nt,{tone:"danger",children:b}):null,l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx(cw,{name:n.user?.display_name,email:n.user?.email,size:"md"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:n.user?.display_name??n.user?.email??n.user_id}),l.jsx("p",{className:"text-sm text-slate-500",children:n.user?.email??"No email available"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["User ID: ",n.user_id]})]})]}),l.jsxs("fieldset",{className:"space-y-3",children:[l.jsx("legend",{className:"text-sm font-semibold text-slate-700",children:"Roles"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Select the roles this member should have inside the workspace."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No workspace roles available."}):r.map(T=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300",checked:g.includes(T.id),onChange:C=>x(z=>C.target.checked?Array.from(new Set([...z,T.id])):z.filter(L=>L!==T.id)),disabled:d}),l.jsx("span",{children:T.name})]},T.id))}),g.length>0?l.jsxs("p",{className:"text-xs text-slate-500",children:[g.length," role(s) selected."]}):null]})]}):l.jsx(nt,{tone:"warning",children:"This member could not be found."}),l.jsxs("div",{className:"mt-6 flex items-center justify-between gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:i,disabled:d||h,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[n?l.jsx(_e,{type:"button",variant:"danger",onClick:()=>E(!0),disabled:h,isLoading:h,children:"Remove"}):null,l.jsx(_e,{type:"button",onClick:N,isLoading:d,disabled:!n||d,children:"Save changes"})]})]})]}),l.jsx(gu,{open:w,title:"Remove member?",description:n?`Remove ${n.user?.display_name??n.user?.email??n.user_id} from this workspace.`:"",confirmLabel:"Remove member",tone:"danger",onCancel:()=>E(!1),onConfirm:j,isConfirming:h})]})}function uR(){const{workspace:e,hasPermission:n}=gr(),{params:r}=iw(),i=It(),o=Fn(),u=n("workspace.roles.manage"),d=ow(e.id),h=eR(),g=tR(e.id),x=nR(e.id),b=sR(e.id),[v,w]=p.useState(""),[E,N]=p.useState(null),j=p.useMemo(()=>(h.data?.items??[]).filter(D=>D.scope_type==="workspace"),[h.data]),_=p.useMemo(()=>{const D=new Intl.Collator("en",{sensitivity:"base"});return(d.data?.items??[]).slice().sort((A,se)=>D.compare(A.name,se.name))},[d.data]),T=d.data?.total??_.length,C=v.trim().toLowerCase(),z=p.useMemo(()=>C?_.filter(D=>`${D.name} ${D.slug??""}`.toLowerCase().includes(C)):_,[C,_]),L=r[0],O=L==="new",te=L&&L!=="new"?decodeURIComponent(L):null,U=_.find(D=>D.id===te),Z=`/workspaces/${e.id}/settings/access/roles`,W=`${o.search}${o.hash}`,G=()=>i(`${Z}${W}`,{replace:!0}),re=()=>i(`${Z}/new${W}`),$=D=>i(`${Z}/${encodeURIComponent(D)}${W}`),K=async D=>{N(null),await g.mutateAsync({name:D.name.trim(),slug:D.slug.trim()||void 0,description:D.description.trim()||void 0,permissions:D.permissions}),N({tone:"success",message:"Role created."}),G()},ue=async(D,A)=>{N(null),await x.mutateAsync({roleId:D,payload:{name:A.name.trim(),description:A.description.trim()||void 0,permissions:A.permissions}}),N({tone:"success",message:"Role updated."}),G()},we=async D=>{N(null),await b.mutateAsync(D.id),N({tone:"success",message:`Deleted role "${D.name}".`}),G()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xu,{title:"Roles",description:"Workspace roles group permissions so you can safely delegate access.",actions:l.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:[T," role",T===1?"":"s"]})}),E?l.jsx(nt,{tone:E.tone,children:E.message}):null,d.isError?l.jsx(nt,{tone:"danger",children:d.error instanceof Error?d.error.message:"Unable to load workspace roles."}):null,h.isError?l.jsx(nt,{tone:"warning",children:h.error instanceof Error?h.error.message:"Unable to load permission catalog."}):null,l.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-soft",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Workspace roles"}),l.jsx("p",{className:"text-sm text-slate-500",children:d.isLoading?"Loading roles":`${T} role${T===1?"":"s"} total`})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx(yt,{label:"Search roles",className:"w-full max-w-xs",children:l.jsx(pt,{value:v,onChange:D=>w(D.target.value),placeholder:"Search by name or slug",disabled:d.isLoading})}),u?l.jsx(_e,{type:"button",onClick:re,children:"New role"}):null]})]}),d.isLoading?l.jsx("p",{className:"text-sm text-slate-600",children:"Loading roles"}):z.length===0?l.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:v?`No roles match "${v}".`:"No workspace roles yet. Create one to tailor permissions."}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"Role"}),l.jsx("th",{className:"px-4 py-3",children:"Slug"}),l.jsx("th",{className:"px-4 py-3",children:"Permissions"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:z.map(D=>l.jsxs("tr",{className:"text-sm text-slate-700",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:D.name}),D.is_system?l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:"System"}):null,D.is_editable?null:l.jsx("span",{className:"inline-flex items-center rounded-full bg-warning-100 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-warning-700",children:"Locked"})]})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:D.slug}),l.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[D.permissions.length," permission",D.permissions.length===1?"":"s"]}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(D.id),disabled:!u,children:"Manage"})})]},D.id))})]})}),u?null:l.jsx(nt,{tone:"info",children:"You do not have permission to manage workspace roles."})]}),l.jsx(Lb,{open:O&&u,mode:"create",permissions:j,onClose:G,onSave:D=>K(D),isSaving:g.isPending,isDeleting:!1}),l.jsx(Lb,{open:!!te&&u,mode:"edit",role:U,permissions:j,onClose:G,onSave:D=>te?ue(te,D):Promise.resolve(),onDelete:U?()=>we(U):void 0,isSaving:x.isPending,isDeleting:b.isPending})]})}function Lb({open:e,mode:n,role:r,permissions:i,onClose:o,onSave:u,onDelete:d,isSaving:h,isDeleting:g}){const[x,b]=p.useState({name:"",slug:"",description:"",permissions:[]}),[v,w]=p.useState(""),[E,N]=p.useState(null),[j,_]=p.useState(!1),[T,C]=p.useState("");p.useEffect(()=>{if(!e){N(null),w(""),_(!1),C("");return}b(n==="edit"&&r?{name:r.name,slug:r.slug,description:r.description??"",permissions:r.permissions}:{name:"",slug:"",description:"",permissions:[]})},[n,e,r]);const z=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,L=n==="create"||(r?.is_editable??!1),O=n==="edit"&&r&&r.is_editable&&!r.is_system&&d,te=p.useMemo(()=>{const $=v.trim().toLowerCase();return $?i.filter(K=>`${K.label} ${K.key}`.toLowerCase().includes($)):i},[v,i]),U=($,K)=>{b(ue=>({...ue,permissions:K?Array.from(new Set([...ue.permissions??[],$])):(ue.permissions??[]).filter(we=>we!==$)}))},Z=async()=>{if(N(null),!x.name.trim()){N("Role name is required.");return}if(n==="create"&&x.slug&&!z.test(x.slug)){N("Use lowercase letters, numbers, and dashes for the role slug.");return}try{await u({...x,name:x.name.trim(),slug:n==="create"?x.slug.trim():r?.slug??"",description:x.description.trim(),permissions:x.permissions})}catch($){const K=$ instanceof Error?$.message:"Unable to save role.";N(K)}},W=async()=>{if(!(!d||!r)){N(null);try{await d()}catch($){const K=$ instanceof Error?$.message:"Unable to delete role.";N(K)}finally{_(!1),C("")}}},G=l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(_e,{type:"button",variant:"ghost",onClick:o,disabled:h||g,children:"Close"}),l.jsxs("div",{className:"flex items-center gap-2",children:[O?l.jsx(_e,{type:"button",variant:"danger",onClick:()=>_(!0),disabled:g,isLoading:g,children:"Delete"}):null,l.jsx(_e,{type:"button",onClick:Z,isLoading:h,disabled:!L||h,children:n==="create"?"Create role":"Save changes"})]})]}),re=n==="create"?"New role":r?.name??"Role details";return l.jsxs(l.Fragment,{children:[l.jsxs(em,{open:e,onClose:o,title:re,description:n==="create"?"Create a workspace-scoped role.":"Edit workspace role details and permissions.",footer:G,children:[E?l.jsx(nt,{tone:"danger",children:E}):null,n==="edit"&&r&&!r.is_editable?l.jsx(nt,{tone:"warning",children:"This role is locked and cannot be modified."}):null,l.jsxs("div",{className:"space-y-4",children:[l.jsx(yt,{label:"Role name",required:!0,children:l.jsx(pt,{value:x.name,onChange:$=>b(K=>({...K,name:$.target.value})),placeholder:"Data reviewer",disabled:h||!L})}),n==="create"?l.jsx(yt,{label:"Role slug",hint:"Lowercase, URL-friendly identifier. Leave blank to auto-generate.",children:l.jsx(pt,{value:x.slug,onChange:$=>b(K=>({...K,slug:$.target.value})),placeholder:"data-reviewer",disabled:h||!L})}):l.jsx(yt,{label:"Role slug",children:l.jsx(pt,{value:r?.slug??"",disabled:!0})}),l.jsx(yt,{label:"Description",hint:"Optional context about what this role controls.",children:l.jsx(pt,{value:x.description,onChange:$=>b(K=>({...K,description:$.target.value})),placeholder:"What does this role control?",disabled:h||!L})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Permissions"}),l.jsxs("p",{className:"text-xs text-slate-500",children:["Select the permissions included with this role. ",x.permissions.length," selected."]})]}),l.jsx(pt,{value:v,onChange:$=>w($.target.value),placeholder:"Filter permissions",disabled:h})]}),l.jsx("div",{className:"max-h-72 space-y-2 overflow-y-auto rounded-lg border border-slate-200 p-3",children:te.length===0?l.jsx("p",{className:"text-xs text-slate-500",children:"No permissions match this filter."}):te.map($=>{const K=`permission-${$.key.replaceAll(".","-")}`;return l.jsxs("label",{htmlFor:K,"aria-label":$.label,className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[l.jsx("input",{id:K,type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300",checked:x.permissions.includes($.key),onChange:ue=>U($.key,ue.target.checked),disabled:h||!L}),l.jsxs("span",{children:[l.jsx("span",{className:"block font-semibold",children:$.label}),l.jsx("span",{className:"block text-xs text-slate-500",children:$.description})]})]},$.key)})})]})]})]}),l.jsx(gu,{open:j&&!!r,title:"Delete this role?",description:"Deleting this role will remove it from any members assigned to it.",confirmLabel:"Delete role",tone:"danger",confirmDisabled:T.trim()!==(r?.slug??""),onCancel:()=>{_(!1),C("")},onConfirm:W,isConfirming:g,children:l.jsx(yt,{label:"Type the role slug to confirm",required:!0,children:l.jsx(pt,{value:T,onChange:$=>C($.target.value),placeholder:r?.slug??"role-slug",disabled:g})})})]})}const dR={workspace:"Workspace",access:"Access",lifecycle:"Lifecycle"},Xl=[{id:"workspace.general",group:"workspace",label:"General",description:"Workspace name, slug, and defaults.",path:"general",element:l.jsx(Q4,{})},{id:"access.members",group:"access",label:"Members",description:"Invite teammates and manage access.",path:"access/members",required:{view:["workspace.members.view"],edit:["workspace.members.manage"]},element:l.jsx(lR,{})},{id:"access.roles",group:"access",label:"Roles",description:"Workspace-scoped roles and permissions.",path:"access/roles",required:{view:["workspace.roles.view"],edit:["workspace.roles.manage"]},element:l.jsx(uR,{})},{id:"lifecycle.danger",group:"lifecycle",label:"Danger zone",description:"Deletion and operational safeguards.",path:"lifecycle/danger",tone:"danger",required:{view:["workspace.settings.manage","workspace.delete"],edit:["workspace.delete"]},element:l.jsx(Z4,{})}],Oc=Xl[0];function fR(e){const n=e.join("/");return Xl.find(r=>n===r.path||n.startsWith(`${r.path}/`))}function hR(e,n){const r=Xl.map(i=>{const o=i.required?.view?i.required.view.some(d=>n(d)):!0,u=i.required?.edit?i.required.edit.some(d=>n(d)):!0;return{id:i.id,label:i.label,description:i.description,href:`/workspaces/${e}/settings/${i.path}`,disabled:!(o||u),tone:i.tone??"default"}});return Object.values(r.reduce((i,o)=>{const u=Xl.find(g=>g.id===o.id);if(!u)return i;const d=i[u.group],h=d?{...d,items:[...d.items,o]}:{id:u.group,label:dR[u.group],items:[o]};return i[u.group]=h,i},{}))}function mR({sectionSegments:e=[]}){const{workspace:n,hasPermission:r}=gr(),i=It(),o=Fn(),{effectiveSegments:u,redirectTo:d}=p.useMemo(()=>pR(e,n.id,o.search,o.hash),[e,n.id,o.search,o.hash]),h=fR(u)??Oc;p.useEffect(()=>{d&&i(d,{replace:!0})},[d,i]);const g=p.useMemo(()=>{const j=h.path.split("/");return u.slice(j.length)},[h.path,u]),x=p.useMemo(()=>hR(n.id,r),[n.id,r]),v=x.flatMap(j=>j.items).find(j=>j.id===h.id),w=x.find(j=>j.items.some(_=>_.id===h.id))?.label,N=v?.disabled?l.jsx(dt,{title:"You don't have access to this section",description:"You need additional permissions to manage this area of workspace settings.",variant:"error"}):h.element;return l.jsx(F4,{workspaceName:n.name,navGroups:x,activeSectionId:h.id,activeSectionLabel:h.label,activeSectionDescription:h.description,activeGroupLabel:w??"Settings",children:l.jsx(H4,{value:{sectionId:h.id,params:g},children:N})})}function pR(e,n,r,i){const o={members:"access/members",roles:"access/roles",danger:"lifecycle/danger"},u=e.length>0?[...e]:Oc.path.split("/"),d=o[u[0]],h=d?[...d.split("/"),...u.slice(1)]:u,g=h.join("/"),x=d&&g?`/workspaces/${n}/settings/${g}${r}${i}`:void 0,b=e.length===0,v=Xl.some(E=>g===E.path||g.startsWith(`${E.path}/`))||d!==void 0,w=`/workspaces/${n}/settings/${Oc.path}${r}${i}`;return{effectiveSegments:v?h:Oc.path.split("/"),redirectTo:b||!v||d?x??w:null}}function gR(){return l.jsx(tu,{children:l.jsx(xR,{})})}function xR(){const e=Fn(),n=It(),r=ft(),i=Ch(),o=p.useMemo(()=>i.data?.items??[],[i.data?.items]),u=yR(e.pathname),d=p.useMemo(()=>jR(o,u),[o,u]);return p.useEffect(()=>{i.data&&r.setQueryData(Zt.list(Mc),i.data)},[r,i.data]),p.useEffect(()=>{!i.isLoading&&!i.isError&&o.length===0&&n("/workspaces",{replace:!0})},[i.isLoading,i.isError,o.length,n]),p.useEffect(()=>{d&&!u&&n(`/workspaces/${d.id}/${Gc.path}${e.search}${e.hash}`,{replace:!0})},[d,u,e.search,e.hash,n]),p.useEffect(()=>{if(!(!d||!u)&&u!==d.id){const h=SR(e.pathname,e.search,d.id,u);h!==e.pathname+e.search&&n(h+e.hash,{replace:!0})}},[d,u,e.pathname,e.search,e.hash,n]),p.useEffect(()=>{d&&vv(d.id)},[d]),i.isLoading?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6",children:l.jsx(dt,{title:"Loading workspace",variant:"loading"})}):i.isError?l.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-slate-50 px-6 text-center",children:[l.jsx(dt,{title:"Unable to load workspace",description:"We were unable to fetch workspace information. Refresh the page to try again.",variant:"error"}),l.jsx("button",{type:"button",className:"focus-ring rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-100",onClick:()=>i.refetch(),children:"Retry"})]}):d?l.jsx(p2,{workspace:d,workspaces:o,children:l.jsx(bR,{workspace:d})}):null}function bR({workspace:e}){return l.jsx(wD,{children:l.jsx(EM,{workspaceId:e.id,children:l.jsx(vR,{workspace:e})})})}function vR({workspace:e}){const n=Ri(),r=It(),i=Fn(),{session:o,windowState:u}=Py(),d=Hv(),h=d.data?.enabled??!1,g=d.data?.detail??zi,x=Vv(),b=p.useMemo(()=>Gy(e),[e]),[v,w]=p.useState(""),[E,N]=p.useState(!1),[j,_]=p.useState(!1),T=v.trim().toLowerCase(),C=!!(o&&u==="maximized"),z=p.useMemo(()=>b.map(H=>({id:H.id,label:H.label,description:`Jump to ${H.label}`,icon:l.jsx(H.icon,{className:"h-4 w-4 text-slate-400","aria-hidden":!0})})),[b]),L=p.useMemo(()=>Ws(`ade.ui.workspace.${e.id}.navCollapsed`),[e.id]),[O,te]=p.useState(()=>{const H=L.get();return typeof H=="boolean"?H:!1});p.useEffect(()=>{const H=L.get();te(typeof H=="boolean"?H:!1)},[L]),p.useEffect(()=>{L.set(O)},[O,L]),p.useEffect(()=>{w("")},[e.id]),p.useEffect(()=>{if(typeof window>"u")return;const H=()=>{window.innerWidth>=1024&&N(!1)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),p.useEffect(()=>{if(typeof document>"u")return;const H=document.body.style.overflow;return E?document.body.style.overflow="hidden":document.body.style.overflow=H||"",()=>{document.body.style.overflow=H}},[E]),p.useEffect(()=>{C&&N(!1)},[C]);const U=p.useCallback(()=>{if(!T)return;const H=b.find(Y=>Y.label.toLowerCase().includes(T))??b.find(Y=>Y.id.toLowerCase().includes(T));H&&r(H.href)},[T,b,r]),Z=p.useCallback(H=>{const Y=b.find(q=>q.id===H.id);Y&&(r(Y.href),w(""))},[b,r]),W=p.useCallback(()=>N(!0),[]),G=p.useCallback(()=>N(!1),[]),re=l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{type:"button",onClick:W,className:"focus-ring inline-flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-600 shadow-sm lg:hidden","aria-label":"Open workspace navigation",children:l.jsx(ER,{})})}),$=n.user.display_name||n.user.email||"Signed in",K=n.user.email??"",ue=l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Fv,{displayName:$,email:K,actions:[{id:"about-versions",label:"About / Versions",description:"ade-web, ade-api, ade-engine",onSelect:()=>_(!0)}]})}),we={value:v,onChange:w,onSubmit:U,placeholder:`Search ${e.name} or jump to a section`,shortcutHint:x,scopeLabel:e.name,suggestions:z,onSelectSuggestion:Z},D=wR(i.pathname,e.id),A=CR(e.id,D,i.search,i.hash),se=A?.kind==="content"&&A.key.startsWith("documents"),de=se?new URLSearchParams(i.search).get("q")??"":"",ae=p.useCallback(H=>{if(!se)return;const Y=new URLSearchParams(i.search);H?Y.set("q",H):Y.delete("q");const q=Y.toString();r(`${i.pathname}${q?`?${q}`:""}${i.hash}`,{replace:!0})},[se,i.hash,i.pathname,i.search,r]),k=p.useCallback(H=>{ae(H)},[ae]),Q=p.useCallback(()=>{ae("")},[ae]),F=(se?{value:de,onChange:ae,onSubmit:k,onClear:Q,placeholder:"Search documents",shortcutHint:x,scopeLabel:"Documents",enableShortcut:!0}:void 0)??we;if(p.useEffect(()=>{A?.kind==="redirect"&&r(A.to,{replace:!0})},[A,r]),!A||A.kind==="redirect")return null;const ee=A.fullHeight??!1;return l.jsxs(l.Fragment,{children:[l.jsx(Zv,{open:j,onClose:()=>_(!1)}),l.jsxs("div",{className:me("flex min-w-0 bg-slate-50 text-slate-900",ee?"h-screen overflow-hidden":"min-h-screen"),children:[C?null:l.jsx(BM,{workspace:e,items:b,collapsed:O,onToggleCollapse:()=>te(H=>!H),onGoToWorkspaces:()=>r("/workspaces")}),l.jsxs("div",{className:"flex flex-1 min-w-0 flex-col",children:[C?null:l.jsx(qv,{brand:re,trailing:ue,search:F}),!C&&E?l.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("button",{type:"button",className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:G,"aria-label":"Close navigation"}),l.jsxs("div",{className:"absolute inset-y-0 left-0 flex h-full w-[min(20rem,85vw)] max-w-xs flex-col rounded-r-3xl border-r border-slate-100/70 bg-gradient-to-b from-white via-slate-50 to-white/95 shadow-[0_45px_90px_-50px_rgba(15,23,42,0.85)]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:e.name}),l.jsx("span",{className:"text-xs text-slate-400",children:"Workspace navigation"})]}),l.jsx("button",{type:"button",onClick:G,className:"focus-ring inline-flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200/80 bg-white text-slate-500","aria-label":"Close navigation",children:l.jsx(NR,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:l.jsx(Xy,{items:b,onNavigate:G,showHeading:!1})})]})]}):null,l.jsx("div",{className:"relative flex flex-1 min-w-0 overflow-hidden",children:l.jsx("main",{className:me("relative flex-1 min-w-0",ee?"flex min-h-0 flex-col overflow-hidden":"overflow-y-auto"),children:l.jsxs("div",{className:me(ee?"flex w-full flex-1 min-h-0 flex-col px-0 py-0":"mx-auto flex w-full max-w-7xl flex-col px-4 py-6"),children:[h?l.jsx("div",{className:me("mb-4",ee?"px-6 pt-4":""),children:l.jsx(nt,{tone:"warning",heading:"Safe mode active",children:g})}):null,l.jsx("div",{className:me(ee?"flex min-h-0 min-w-0 flex-1 flex-col":"flex min-w-0 flex-1 flex-col"),children:A.element})]})})},`section-${A.key}`)]})]})]})}function yR(e){return e.match(/^\/workspaces\/([^/]+)/)?.[1]??null}function wR(e,n){const r=`/workspaces/${n}`;return e.startsWith(r)?e.slice(r.length).split("/").map(o=>o.trim()).filter(o=>o.length>0):[]}function jR(e,n){return n?e.find(r=>r.id===n)??e.find(r=>r.slug===n)??e[0]??null:e[0]??null}function SR(e,n,r,i){const o=`/workspaces/${i}`,u=e.startsWith(o)?e.slice(o.length):"",d=u&&u!=="/"?u:`/${Gc.path}`;return`/workspaces/${r}${d}${n}`}function ER(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M4 6h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10h12",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14h8",strokeLinecap:"round"})]})}function NR(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.6,children:[l.jsx("path",{d:"M6 6l8 8",strokeLinecap:"round"}),l.jsx("path",{d:"M14 6l-8 8",strokeLinecap:"round"})]})}function CR(e,n,r,i){const o=`${r}${i}`;if(n.length===0)return{kind:"redirect",to:`/workspaces/${e}/${Gc.path}${o}`};const[u,d,h]=n;switch(u){case"overview":return{kind:"content",key:"overview",element:l.jsx(HM,{})};case Gc.path:case"documents":return d?{kind:"content",key:`documents:${d}`,element:l.jsx(M4,{params:{documentId:decodeURIComponent(d)}})}:{kind:"content",key:"documents",element:l.jsx(JM,{})};case"runs":return{kind:"content",key:"runs",element:l.jsx(R4,{})};case"config-builder":return d?h==="editor"?{kind:"content",key:`config-builder:${d}:editor`,element:l.jsx(_R,{configId:decodeURIComponent(d)}),fullHeight:!0}:{kind:"content",key:`config-builder:${d}`,element:l.jsx(B4,{params:{configId:decodeURIComponent(d)}})}:{kind:"content",key:"config-builder",element:l.jsx(O4,{})};case"settings":{const g=n.slice(1),x=g.length>0?g:[];return{kind:"content",key:`settings:${x.length>0?x.join(":"):"general"}`,element:l.jsx(mR,{sectionSegments:x})}}default:return{kind:"content",key:`not-found:${n.join("/")}`,element:l.jsx(dt,{title:"Section not found",description:"The requested workspace section could not be located.",variant:"error"})}}}function _R({configId:e}){return l.jsx(q4,{params:{configId:e}})}function kR(){const e=It(),n=ft();return p.useEffect(()=>{let r=!1;const i=new AbortController;return(async()=>{try{await jS({signal:i.signal})}finally{r||(n.removeQueries({queryKey:Ms.root,exact:!1}),e("/login",{replace:!0}))}})().catch(()=>{r||e("/login",{replace:!0})}),()=>{r=!0,i.abort()}},[e,n]),null}function TR(){return l.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl flex-col justify-center px-6 py-16 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"404"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Page not found"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["The resource you're looking for doesn't exist yet. Add a screen under ",l.jsx("code",{children:"src/screens/<ScreenName>/"})," and register it inside ",l.jsx("code",{children:"src/app/App.tsx"})," if this surface should exist in the routerless SPA."]}),l.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[l.jsx(hh,{to:"/",className:"focus-ring inline-flex items-center rounded-lg bg-brand-600 px-4 py-2 font-semibold text-white transition hover:bg-brand-700",children:"Return home"}),l.jsx(hh,{to:"/login",className:"focus-ring inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-600 hover:bg-slate-50",children:"Go to sign in"})]})]})})}function AR(){return l.jsx(cj,{children:l.jsx(Pj,{children:l.jsx(DR,{})})})}function DR(){const e=Fn(),r=MR(e.pathname).split("/").filter(Boolean);if(r.length===0)return l.jsx(cE,{});const[i,o]=r;switch(i){case"login":return l.jsx(hk,{});case"logout":return l.jsx(kR,{});case"auth":if(o==="callback")return l.jsx(mk,{});break;case"setup":return l.jsx(gk,{});case"workspaces":return o?o==="new"?l.jsx(f2,{}):l.jsx(gR,{}):l.jsx(Rk,{})}return l.jsx(TR,{})}function MR(e){return!e||e==="/"?"/":e.endsWith("/")&&e.length>1?e.slice(0,-1):e}oj.createRoot(document.getElementById("root")).render(l.jsx(vt.StrictMode,{children:l.jsx(AR,{})}));export{vt as W,me as c,l as j,p as r};
